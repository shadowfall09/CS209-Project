{"items":[{"tags":["java","json","constants","key"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662049641,"post_id":73571434,"comment_id":129922102,"body_markdown":"If you use the same value in multiple places, you can reuse the constant and thus ensure consistency across those multiple places. However, your question is basically soliciting opinions and thus off-topic. Personally, I would never create JSON this way, but instead use a POJO and serialize it with Jackson (or Gson if I really have to).","body":"If you use the same value in multiple places, you can reuse the constant and thus ensure consistency across those multiple places. However, your question is basically soliciting opinions and thus off-topic. Personally, I would never create JSON this way, but instead use a POJO and serialize it with Jackson (or Gson if I really have to)."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1662080417,"post_id":73571434,"comment_id":129929122,"body_markdown":"`USERNAME = &quot;username&quot;` is functionally useless. If you ever need to change it, so you have something like `USERNAME = &quot;employee_id&quot;`, you are left with a constant with a confusing name.  If you don&#39;t see that, consider `THREE = 3`.  How would you like to work on code where THREE had the value 4?  This isn&#39;t to say that named constants are bad, just that names need to be well-considered. What is the name **for**?","body":"<code>USERNAME = &quot;username&quot;</code> is functionally useless. If you ever need to change it, so you have something like <code>USERNAME = &quot;employee_id&quot;</code>, you are left with a constant with a confusing name.  If you don&#39;t see that, consider <code>THREE = 3</code>.  How would you like to work on code where THREE had the value 4?  This isn&#39;t to say that named constants are bad, just that names need to be well-considered. What is the name <b>for</b>?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1662080592,"post_id":73571434,"comment_id":129929143,"body_markdown":"On the other side of the coin, if you have multiple data structures, many might have a &quot;username&quot; field.  Now consider the case where just one of them needs a field-name change. A blanket replace of the literal &quot;username&quot; will cause chaos.","body":"On the other side of the coin, if you have multiple data structures, many might have a &quot;username&quot; field.  Now consider the case where just one of them needs a field-name change. A blanket replace of the literal &quot;username&quot; will cause chaos."},{"owner":{"account_id":2123746,"reputation":11,"user_id":1886458,"display_name":"user1886458"},"score":0,"creation_date":1662140907,"post_id":73571434,"comment_id":129945515,"body_markdown":"@accessviolation If it needed to be changed in only one spot, then you wouldn&#39;t do a Find-And-Replace-In-Project.,\n\nIf USERNAME = &quot;username&quot; and we want to change it to &quot;userName&quot; in 5 out of 20 spots, whether we have USERNAME typed or &quot;username&quot; typed, we&#39;re still going to have to go manually replace whatever&#39;s there with &quot;userName&quot;. \n\nWhether we used the constant or the String literal it is the same amount of refactoring effort.","body":"@accessviolation If it needed to be changed in only one spot, then you wouldn&#39;t do a Find-And-Replace-In-Project.,  If USERNAME = &quot;username&quot; and we want to change it to &quot;userName&quot; in 5 out of 20 spots, whether we have USERNAME typed or &quot;username&quot; typed, we&#39;re still going to have to go manually replace whatever&#39;s there with &quot;userName&quot;.   Whether we used the constant or the String literal it is the same amount of refactoring effort."},{"owner":{"account_id":2123746,"reputation":11,"user_id":1886458,"display_name":"user1886458"},"score":0,"creation_date":1662141248,"post_id":73571434,"comment_id":129945629,"body_markdown":"@MarkRotteveel Would you agree that my example of a useless middleman RetrieveConstant.getConstant() would be horrendous design, and that this is not merely a matter of opinion, but it is an objective fact of engineering? \n\nWhy isn&#39;t &quot;constants standing in for small String literals&quot; an equally horrendous design according to objective standards? I think if one is not a matter of opinion, the other one shouldn&#39;t be considered a matter of opinion either. I&#39;m fine with anyone considering both a matter of opinion, but I don&#39;t consider my example of RetrieveConstant to be a matter of opinion.","body":"@MarkRotteveel Would you agree that my example of a useless middleman RetrieveConstant.getConstant() would be horrendous design, and that this is not merely a matter of opinion, but it is an objective fact of engineering?   Why isn&#39;t &quot;constants standing in for small String literals&quot; an equally horrendous design according to objective standards? I think if one is not a matter of opinion, the other one shouldn&#39;t be considered a matter of opinion either. I&#39;m fine with anyone considering both a matter of opinion, but I don&#39;t consider my example of RetrieveConstant to be a matter of opinion."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1662153145,"post_id":73571434,"comment_id":129948756,"body_markdown":"@user1886458 - I think you missed my point. In your question, you suggested IDE &quot;find and replace&quot; as an alternative to using a USERNAME definition.  With USERNAME, when it&#39;s only the field name in one structure (not every structure with a &quot;username&quot;) that has changed, there is only one string to replace (assuming some sanity that defines USERNAME in the scope of each applicable structure - a global USERNAME applied to multiple structures introduces horrible coupling between the structures).  But find-and-replace on the literal is not sensitive to which actual structure the literal is used in.","body":"@user1886458 - I think you missed my point. In your question, you suggested IDE &quot;find and replace&quot; as an alternative to using a USERNAME definition.  With USERNAME, when it&#39;s only the field name in one structure (not every structure with a &quot;username&quot;) that has changed, there is only one string to replace (assuming some sanity that defines USERNAME in the scope of each applicable structure - a global USERNAME applied to multiple structures introduces horrible coupling between the structures).  But find-and-replace on the literal is not sensitive to which actual structure the literal is used in."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662187022,"post_id":73571434,"comment_id":129952270,"body_markdown":"Qualifications like &quot;horrendous design&quot; prove that this is a matter of opinion. And using strawmans as if you&#39;d use a single constant for everything with the same name, instead of correctly scoped constants for things that represent the exact same thing (and thus would evolve/change all at the same time), or that you couldn&#39;t rename constants don&#39;t make that different. If you consider things like writing the JSON and reading the JSON, or tests, defining constants can make sense even if you define a constant only for one field, because you&#39;d use it in at least two places.","body":"Qualifications like &quot;horrendous design&quot; prove that this is a matter of opinion. And using strawmans as if you&#39;d use a single constant for everything with the same name, instead of correctly scoped constants for things that represent the exact same thing (and thus would evolve/change all at the same time), or that you couldn&#39;t rename constants don&#39;t make that different. If you consider things like writing the JSON and reading the JSON, or tests, defining constants can make sense even if you define a constant only for one field, because you&#39;d use it in at least two places."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662187103,"post_id":73571434,"comment_id":129952281,"body_markdown":"But I repeat, that personally, I wouldn&#39;t even define JSONs in that way, I&#39;d create POJOs and use those for serialization and deserialization.","body":"But I repeat, that personally, I wouldn&#39;t even define JSONs in that way, I&#39;d create POJOs and use those for serialization and deserialization."}],"owner":{"account_id":2123746,"reputation":11,"user_id":1886458,"display_name":"user1886458"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662044292,"creation_date":1662044018,"question_id":73571434,"body_markdown":"Imagine you have one class file for one handler. And each handler is going to return a JSON payload. The JSON payloads are going to be very similar for Handler1, Handler2, etc. \r\n\r\nThey might be: username, somethingId, anotherId, thisId, thatId. \r\n\r\nIn a Handler class, there will be the area that you are constructing the JSON payload. \r\n\r\n```\r\nJsonObject toReturn = new JsonObject();\r\ntoReturn.put(USERNAME, ...)\r\n.put(SOMETHING_ID, ...)\r\n.put(ANOTHER_ID, ...)\r\n.put(THIS_ID, ...)\r\n.put(THAT_ID, ...);\r\n```\r\n\r\nWhy is it better to use constants there rather than String literals? Why not just do:\r\n```\r\nJsonObject toReturn = new JsonObject();\r\n\r\ntoReturn.put(&quot;username&quot;, ...)\r\n.put(&quot;somethingId&quot;, ...)\r\n.put(&quot;anotherId&quot;, ...)\r\n.put(&quot;thisId&quot;, ...)\r\n.put(&quot;thatId&quot;, ...);\r\n```\r\n\r\nThe only good reason I can see for using a constant is that, should we wish to change USERNAME from &quot;username&quot; to &quot;userName&quot;, we would only need to do so in one spot. Whereas the Find-And-Replace-In-Project operation modifies many files. \r\n\r\nI argue that using the String literal is clearer. This is because, later, when you are debugging your results from Postman, you will be reading the exact key that you&#39;re expecting. If you don&#39;t remember what the constant was for that key, you have to search for the key in the project. This takes you to the constants file, which allows you to check for the usages of that constant. This is just an extra middle man. Why not just search for the String literal and get taken to the class in the first place?\r\n\r\nAs an illustration, what do you think of the proposal of a RetrieveConstant class? And in this class, you provide a constant, like USERNAME, and it returns to you the value of Constants.USERNAME?\r\n\r\nIt should be clear that this middleman class is a useless middleman. That&#39;s how I feel about the use of a constants class (with many constants for short string literals) between the programmer and the class that uses the String ultimately. \r\n\r\nI think a constants class can be good sometimes, when the String literal is very long. But in this very real world example of having multiple microservices that return similar JSON payloads, what possible rationale can be given for making constants out of the String literals for the keys of the JSON payloads? \r\n\r\nIs this just a matter of style? I feel there is something about objective engineering here, which my RetrieveConstants middleman should highlight. \r\n\r\nConstants should not be longer or harder to remember than the literals they are to assist. ","title":"In a Java project with many similar microservices that return similar JSON payloads, why should constants be used for keys rather than String literals","body":"<p>Imagine you have one class file for one handler. And each handler is going to return a JSON payload. The JSON payloads are going to be very similar for Handler1, Handler2, etc.</p>\n<p>They might be: username, somethingId, anotherId, thisId, thatId.</p>\n<p>In a Handler class, there will be the area that you are constructing the JSON payload.</p>\n<pre><code>JsonObject toReturn = new JsonObject();\ntoReturn.put(USERNAME, ...)\n.put(SOMETHING_ID, ...)\n.put(ANOTHER_ID, ...)\n.put(THIS_ID, ...)\n.put(THAT_ID, ...);\n</code></pre>\n<p>Why is it better to use constants there rather than String literals? Why not just do:</p>\n<pre><code>JsonObject toReturn = new JsonObject();\n\ntoReturn.put(&quot;username&quot;, ...)\n.put(&quot;somethingId&quot;, ...)\n.put(&quot;anotherId&quot;, ...)\n.put(&quot;thisId&quot;, ...)\n.put(&quot;thatId&quot;, ...);\n</code></pre>\n<p>The only good reason I can see for using a constant is that, should we wish to change USERNAME from &quot;username&quot; to &quot;userName&quot;, we would only need to do so in one spot. Whereas the Find-And-Replace-In-Project operation modifies many files.</p>\n<p>I argue that using the String literal is clearer. This is because, later, when you are debugging your results from Postman, you will be reading the exact key that you're expecting. If you don't remember what the constant was for that key, you have to search for the key in the project. This takes you to the constants file, which allows you to check for the usages of that constant. This is just an extra middle man. Why not just search for the String literal and get taken to the class in the first place?</p>\n<p>As an illustration, what do you think of the proposal of a RetrieveConstant class? And in this class, you provide a constant, like USERNAME, and it returns to you the value of Constants.USERNAME?</p>\n<p>It should be clear that this middleman class is a useless middleman. That's how I feel about the use of a constants class (with many constants for short string literals) between the programmer and the class that uses the String ultimately.</p>\n<p>I think a constants class can be good sometimes, when the String literal is very long. But in this very real world example of having multiple microservices that return similar JSON payloads, what possible rationale can be given for making constants out of the String literals for the keys of the JSON payloads?</p>\n<p>Is this just a matter of style? I feel there is something about objective engineering here, which my RetrieveConstants middleman should highlight.</p>\n<p>Constants should not be longer or harder to remember than the literals they are to assist.</p>\n"},{"tags":["java","windows","spring-cloud","google-cloud-pubsub","google-cloud-pubsub-emulator"],"answers":[{"tags":[],"owner":{"account_id":13722712,"reputation":26,"user_id":9902246,"display_name":"tschi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649678425,"creation_date":1649671336,"answer_id":71825928,"question_id":71767786,"body_markdown":"Currently Spring-cloud-function  is not working on local with Google PubSub emulator.\r\n\r\nIssue has been raised [here][1]\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-function/issues/851","title":"Error when use google pubsub emulator and Spring function.adapter.gcp.GcfJarLauncher","body":"<p>Currently Spring-cloud-function  is not working on local with Google PubSub emulator.</p>\n<p>Issue has been raised <a href=\"https://github.com/spring-cloud/spring-cloud-function/issues/851\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":13722712,"reputation":26,"user_id":9902246,"display_name":"tschi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":936,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662043867,"creation_date":1649252179,"question_id":71767786,"body_markdown":"I am trying to make a GCP Cloud function trigger by pubsub message using Spring Cloud framework. \r\nI have started with the [example provided by Spring team][1] which is quite simple.\r\n\r\nBut when I execute the command\r\n\r\n    `curl 127.0.1:8080 -H &quot;Content-Type: application/json&quot; -d &#39;{&quot;data&quot;:&quot;aGVsbG8=&quot;}&#39;`\r\n\r\nI get \r\n\r\n    `AVERTISSEMENT: Failed to execute org.springframework.cloud.function.adapter.gcp.GcfJarLauncher\r\n    java.lang.ClassCastException: org.eclipse.jetty.server.Request$1 incompatible with com.example.PubSubMessage\r\n    \tat com.example.BackgroundFunctionMain$$Lambda$349/0x0000000015b164b8.accept(Unknown Source)\r\n    \tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:969)\r\n    \tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:698)\r\n    \tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:544)\r\n    \tat org.springframework.cloud.function.adapter.gcp.FunctionInvoker.service(FunctionInvoker.java:98)`\r\n\r\n\r\nAlso, when I try to to get message from [PUBSUB emulator][2] with push subscription, I get\r\n\r\n    `AVERTISSEMENT: Failed to execute org.springframework.cloud.function.adapter.gcp.GcfJarLauncher\r\n    java.lang.NullPointerException: Cannot invoke &quot;java.lang.String.getBytes(java.nio.charset.Charset)&quot; because &quot;src&quot; is null\r\n    \tat java.base/java.util.Base64$Decoder.decode(Base64.java:589)\r\n    \tat com.example.BackgroundFunctionMain.lambda$pubSubFunction$0(BackgroundFunctionMain.java:27)\r\n    \tat com.example.BackgroundFunctionMain$$Lambda$349/0x0000000072a4b6a8.accept(Unknown Source)\r\n    \tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:969)`\r\n\r\nBut, I when I post data from POSTMAN or from git bash windows with curl command it&#39;s working  fine.\r\n\r\nI have try to set code page `chcp 65001` to change windows cmd.exe to UTF-8 but without any sucess. \r\n\r\nBy the way, the pubsub emulator is working fine when I read message using google backgroudn function like\r\n\r\n     ` @Override\r\n      public void accept(PubSubMessage pubSubMessage, Context context) {\r\n        log.info(&quot;Received message with id &quot; + context.eventId());\r\n        String message = null;\r\n        if (pubSubMessage != null &amp;&amp; pubSubMessage.getData() != null) {\r\n          message =\r\n              new String(\r\n                  Base64.getDecoder().decode(pubSubMessage.getData().getBytes(StandardCharsets.UTF_8)),\r\n                  StandardCharsets.UTF_8);\r\n        }\r\n\r\n`\r\n\r\nWhat do I need to change to make the emulator working with Spring cloud  ?\r\n\r\nI have many messages to implements and test publish/subcription on local with emulator, I would like to avoid to use POSTMAN and base64 manual conversion for integration testing.\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-gcp-background/src/main\r\n  [2]: https://cloud.google.com/pubsub/docs/emulator\r\n","title":"Error when use google pubsub emulator and Spring function.adapter.gcp.GcfJarLauncher","body":"<p>I am trying to make a GCP Cloud function trigger by pubsub message using Spring Cloud framework.\nI have started with the <a href=\"https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-gcp-background/src/main\" rel=\"nofollow noreferrer\">example provided by Spring team</a> which is quite simple.</p>\n<p>But when I execute the command</p>\n<pre><code>`curl 127.0.1:8080 -H &quot;Content-Type: application/json&quot; -d '{&quot;data&quot;:&quot;aGVsbG8=&quot;}'`\n</code></pre>\n<p>I get</p>\n<pre><code>`AVERTISSEMENT: Failed to execute org.springframework.cloud.function.adapter.gcp.GcfJarLauncher\njava.lang.ClassCastException: org.eclipse.jetty.server.Request$1 incompatible with com.example.PubSubMessage\n    at com.example.BackgroundFunctionMain$$Lambda$349/0x0000000015b164b8.accept(Unknown Source)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:969)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:698)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:544)\n    at org.springframework.cloud.function.adapter.gcp.FunctionInvoker.service(FunctionInvoker.java:98)`\n</code></pre>\n<p>Also, when I try to to get message from <a href=\"https://cloud.google.com/pubsub/docs/emulator\" rel=\"nofollow noreferrer\">PUBSUB emulator</a> with push subscription, I get</p>\n<pre><code>`AVERTISSEMENT: Failed to execute org.springframework.cloud.function.adapter.gcp.GcfJarLauncher\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.String.getBytes(java.nio.charset.Charset)&quot; because &quot;src&quot; is null\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:589)\n    at com.example.BackgroundFunctionMain.lambda$pubSubFunction$0(BackgroundFunctionMain.java:27)\n    at com.example.BackgroundFunctionMain$$Lambda$349/0x0000000072a4b6a8.accept(Unknown Source)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:969)`\n</code></pre>\n<p>But, I when I post data from POSTMAN or from git bash windows with curl command it's working  fine.</p>\n<p>I have try to set code page <code>chcp 65001</code> to change windows cmd.exe to UTF-8 but without any sucess.</p>\n<p>By the way, the pubsub emulator is working fine when I read message using google backgroudn function like</p>\n<pre><code> ` @Override\n  public void accept(PubSubMessage pubSubMessage, Context context) {\n    log.info(&quot;Received message with id &quot; + context.eventId());\n    String message = null;\n    if (pubSubMessage != null &amp;&amp; pubSubMessage.getData() != null) {\n      message =\n          new String(\n              Base64.getDecoder().decode(pubSubMessage.getData().getBytes(StandardCharsets.UTF_8)),\n              StandardCharsets.UTF_8);\n    }\n</code></pre>\n<p>`</p>\n<p>What do I need to change to make the emulator working with Spring cloud  ?</p>\n<p>I have many messages to implements and test publish/subcription on local with emulator, I would like to avoid to use POSTMAN and base64 manual conversion for integration testing.</p>\n"},{"tags":["java","windows","inputstream","application.properties"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1662044129,"post_id":73571399,"comment_id":129919865,"body_markdown":"My system doesn&#39;t have a &quot;Verdanai.tff&quot; file either.  I think you&#39;re going to have to allow for some differences in system configuration.","body":"My system doesn&#39;t have a &quot;Verdanai.tff&quot; file either.  I think you&#39;re going to have to allow for some differences in system configuration."},{"owner":{"account_id":24634612,"reputation":29,"user_id":18533435,"display_name":"confusedDeveloper66"},"score":0,"creation_date":1662044319,"post_id":73571399,"comment_id":129919936,"body_markdown":"Hi @markspace, If your system has Verdana, then it will have the italicized version. This is on the same computer so I do know that path exists. If I replaced the `prop.getProperty()` with the string from properties file this programs works with no errors.","body":"Hi @markspace, If your system has Verdana, then it will have the italicized version. This is on the same computer so I do know that path exists. If I replaced the <code>prop.getProperty()</code> with the string from properties file this programs works with no errors."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1662046978,"post_id":73571399,"comment_id":129921070,"body_markdown":"Remove all of the `&quot;` characters from your .properties file.  Property values don’t need to be quoted—you are specifying a file name that starts with a double-quote character, not with `C:`.","body":"Remove all of the <code>&quot;</code> characters from your .properties file.  Property values don’t need to be quoted—you are specifying a file name that starts with a double-quote character, not with <code>C:</code>."}],"owner":{"account_id":24634612,"reputation":29,"user_id":18533435,"display_name":"confusedDeveloper66"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662043865,"creation_date":1662043865,"question_id":73571399,"body_markdown":"I&#39;m trying to read font files from windows computer this program worked as expected when it was using strings, but when I switched it over to using a .properties file I got the below error message:\r\n\r\n    Exception in thread &quot;main&quot; java.io.FileNotFoundException: &quot;C:\\Windows\\Fonts\\Verdanai.ttf&quot; (The filename, directory name, or volume label syntax is incorrect)\r\n\r\n\r\nBelow is my code that produces Error: **Note the first font doesn&#39;t give an error message**\r\n```\r\nPDFont verdana = PDType0Font.load(pdf, new FileInputStream(new File(&quot;C:\\\\Windows\\\\Fonts\\\\Verdana.ttf&quot;)), true);\r\nresources.put(COSName.getPDFName(verdana.getName()), verdana);\r\nPDFont verdanaI = PDType0Font.load(pdf, new FileInputStream(new File(prop.getProperty(&quot;verdanaI&quot;))),\r\n\t\t\t\ttrue);\r\n  ```  \r\nAnd my .properties file:\r\n```\r\nverdana=&quot;C:\\\\Windows\\\\Fonts\\\\Verdana.ttf&quot;  \r\nverdanaI=&quot;C:\\\\Windows\\\\Fonts\\\\Verdanai.ttf&quot;   \r\nverdanaB=&quot;C:\\\\Windows\\\\Fonts\\\\Verdanab.ttf&quot;     \r\narial=&quot;C:\\\\Windows\\\\Fonts\\\\arial.ttf&quot;    \r\narialI=&quot;C:\\\\Windows\\\\Fonts\\\\ariali.ttf&quot;     \r\narialB=&quot;C:\\\\Windows\\\\Fonts\\\\arialbd.ttf&quot;     \r\ncalibri=&quot;C:\\\\Windows\\\\Fonts\\\\calibri.ttf&quot;    \r\ncalibriB=&quot;C:\\\\Windows\\\\Fonts\\\\calibrib.ttf&quot;    \r\nwingding=&quot;C:\\\\Windows\\\\Fonts\\\\wingding.ttf&quot; \r\n```\r\nHow do I use the properties file correctly?","title":"The filename, directory name, or volume label syntax is incorrect when using .properties file","body":"<p>I'm trying to read font files from windows computer this program worked as expected when it was using strings, but when I switched it over to using a .properties file I got the below error message:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.FileNotFoundException: &quot;C:\\Windows\\Fonts\\Verdanai.ttf&quot; (The filename, directory name, or volume label syntax is incorrect)\n</code></pre>\n<p>Below is my code that produces Error: <strong>Note the first font doesn't give an error message</strong></p>\n<pre><code>PDFont verdana = PDType0Font.load(pdf, new FileInputStream(new File(&quot;C:\\\\Windows\\\\Fonts\\\\Verdana.ttf&quot;)), true);\nresources.put(COSName.getPDFName(verdana.getName()), verdana);\nPDFont verdanaI = PDType0Font.load(pdf, new FileInputStream(new File(prop.getProperty(&quot;verdanaI&quot;))),\n                true);\n</code></pre>\n<p>And my .properties file:</p>\n<pre><code>verdana=&quot;C:\\\\Windows\\\\Fonts\\\\Verdana.ttf&quot;  \nverdanaI=&quot;C:\\\\Windows\\\\Fonts\\\\Verdanai.ttf&quot;   \nverdanaB=&quot;C:\\\\Windows\\\\Fonts\\\\Verdanab.ttf&quot;     \narial=&quot;C:\\\\Windows\\\\Fonts\\\\arial.ttf&quot;    \narialI=&quot;C:\\\\Windows\\\\Fonts\\\\ariali.ttf&quot;     \narialB=&quot;C:\\\\Windows\\\\Fonts\\\\arialbd.ttf&quot;     \ncalibri=&quot;C:\\\\Windows\\\\Fonts\\\\calibri.ttf&quot;    \ncalibriB=&quot;C:\\\\Windows\\\\Fonts\\\\calibrib.ttf&quot;    \nwingding=&quot;C:\\\\Windows\\\\Fonts\\\\wingding.ttf&quot; \n</code></pre>\n<p>How do I use the properties file correctly?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1656435668,"post_id":72790475,"comment_id":128569922,"body_markdown":"```{&#39;ID&#39;:&#39;id3&#39;,&#39;ref&#39;:&#39;ref1&#39;,&#39;categ&#39;:&#39;CATEG_B&#39;,}``` should be ```{&#39;ID&#39;:[&#39;id3&#39;],&#39;ref&#39;:&#39;[ref1]&#39;,&#39;categ&#39;:&#39;CATEG_B&#39;}```?   I would use a map where the key is a string and the value is a list of string.","body":"<code>{&#39;ID&#39;:&#39;id3&#39;,&#39;ref&#39;:&#39;ref1&#39;,&#39;categ&#39;:&#39;CATEG_B&#39;,}</code> should be <code>{&#39;ID&#39;:[&#39;id3&#39;],&#39;ref&#39;:&#39;[ref1]&#39;,&#39;categ&#39;:&#39;CATEG_B&#39;}</code>?   I would use a map where the key is a string and the value is a list of string."},{"owner":{"account_id":21262430,"reputation":300,"user_id":15643075,"display_name":"Sarindra Th&#233;r&#232;se"},"score":0,"creation_date":1656439097,"post_id":72790475,"comment_id":128571027,"body_markdown":"why not, no problem","body":"why not, no problem"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662043531,"creation_date":1662043531,"answer_id":73571319,"question_id":72790475,"body_markdown":"https://github.com/octomix/josson  \r\n\r\n        Josson josson = Josson.fromJsonString(\r\n            &quot;[&quot; +\r\n            &quot;  {\\&quot;ID\\&quot;:\\&quot;id1\\&quot;,\\&quot;ref\\&quot;:\\&quot;ref1\\&quot;,\\&quot;categ\\&quot;:\\&quot;CATEG_A\\&quot;,\\&quot;pagenb\\&quot;:1},&quot; +\r\n            &quot;  {\\&quot;ID\\&quot;:\\&quot;id2\\&quot;,\\&quot;ref\\&quot;:\\&quot;ref1\\&quot;,\\&quot;categ\\&quot;:\\&quot;CATEG_A\\&quot;,\\&quot;pagenb\\&quot;:2},&quot; +\r\n            &quot;  {\\&quot;ID\\&quot;:\\&quot;id3\\&quot;,\\&quot;ref\\&quot;:\\&quot;ref1\\&quot;,\\&quot;categ\\&quot;:\\&quot;CATEG_B\\&quot;,\\&quot;pagenb\\&quot;:3}&quot; +\r\n            &quot;]&quot;);\r\n            \r\n        JsonNode node = josson.getNode(&quot;group(map(ref, categ), ID).map(ID, key.ref, key.categ)&quot;);\r\n        System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    [ {\r\n      &quot;ID&quot; : [ &quot;id1&quot;, &quot;id2&quot; ],\r\n      &quot;ref&quot; : &quot;ref1&quot;,\r\n      &quot;categ&quot; : &quot;CATEG_A&quot;\r\n    }, {\r\n      &quot;ID&quot; : [ &quot;id3&quot; ],\r\n      &quot;ref&quot; : &quot;ref1&quot;,\r\n      &quot;categ&quot; : &quot;CATEG_B&quot;\r\n    } ]","title":"How to groupby json value like python in java?","body":"<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>    Josson josson = Josson.fromJsonString(\n        &quot;[&quot; +\n        &quot;  {\\&quot;ID\\&quot;:\\&quot;id1\\&quot;,\\&quot;ref\\&quot;:\\&quot;ref1\\&quot;,\\&quot;categ\\&quot;:\\&quot;CATEG_A\\&quot;,\\&quot;pagenb\\&quot;:1},&quot; +\n        &quot;  {\\&quot;ID\\&quot;:\\&quot;id2\\&quot;,\\&quot;ref\\&quot;:\\&quot;ref1\\&quot;,\\&quot;categ\\&quot;:\\&quot;CATEG_A\\&quot;,\\&quot;pagenb\\&quot;:2},&quot; +\n        &quot;  {\\&quot;ID\\&quot;:\\&quot;id3\\&quot;,\\&quot;ref\\&quot;:\\&quot;ref1\\&quot;,\\&quot;categ\\&quot;:\\&quot;CATEG_B\\&quot;,\\&quot;pagenb\\&quot;:3}&quot; +\n        &quot;]&quot;);\n        \n    JsonNode node = josson.getNode(&quot;group(map(ref, categ), ID).map(ID, key.ref, key.categ)&quot;);\n    System.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ {\n  &quot;ID&quot; : [ &quot;id1&quot;, &quot;id2&quot; ],\n  &quot;ref&quot; : &quot;ref1&quot;,\n  &quot;categ&quot; : &quot;CATEG_A&quot;\n}, {\n  &quot;ID&quot; : [ &quot;id3&quot; ],\n  &quot;ref&quot; : &quot;ref1&quot;,\n  &quot;categ&quot; : &quot;CATEG_B&quot;\n} ]\n</code></pre>\n"}],"owner":{"account_id":21262430,"reputation":300,"user_id":15643075,"display_name":"Sarindra Th&#233;r&#232;se"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662043531,"creation_date":1656435354,"question_id":72790475,"body_markdown":"I&#39;m new in java but I have some knowledge in python,\r\nI need to transform json value like this:\r\n\r\n    {&#39;ID&#39;:&#39;id1&#39;,&#39;ref&#39;:&#39;ref1&#39;,&#39;categ&#39;:&#39;CATEG_A&#39;,&#39;pagenb&#39;:1},\r\n    {&#39;ID&#39;:&#39;id2&#39;,&#39;ref&#39;:&#39;ref1&#39;,&#39;categ&#39;:&#39;CATEG_A&#39;,&#39;pagenb&#39;:2,},\r\n    {&#39;ID&#39;:&#39;id3&#39;,&#39;ref&#39;:&#39;ref1&#39;,&#39;categ&#39;:&#39;CATEG_B&#39;,&#39;pagenb&#39;:3}\r\n\r\nTo this:\r\n\r\n    {&#39;ID&#39;:[&#39;id1&#39;,&#39;id2],&#39;ref&#39;:&#39;ref1&#39;,&#39;categ&#39;:&#39;CATEG_A&#39;},\r\n    \r\n    {&#39;ID&#39;:&#39;id3&#39;,&#39;ref&#39;:&#39;ref1&#39;,&#39;categ&#39;:&#39;CATEG_B&#39;,},\r\n\r\nin python I use pandas dataframe to groupby but I don&#39;t find the best way to do this in java\r\ncateg value is a variable dynamic, can change ","title":"How to groupby json value like python in java?","body":"<p>I'm new in java but I have some knowledge in python,\nI need to transform json value like this:</p>\n<pre><code>{'ID':'id1','ref':'ref1','categ':'CATEG_A','pagenb':1},\n{'ID':'id2','ref':'ref1','categ':'CATEG_A','pagenb':2,},\n{'ID':'id3','ref':'ref1','categ':'CATEG_B','pagenb':3}\n</code></pre>\n<p>To this:</p>\n<pre><code>{'ID':['id1','id2],'ref':'ref1','categ':'CATEG_A'},\n\n{'ID':'id3','ref':'ref1','categ':'CATEG_B',},\n</code></pre>\n<p>in python I use pandas dataframe to groupby but I don't find the best way to do this in java\ncateg value is a variable dynamic, can change</p>\n"},{"tags":["java","android-studio","gradle"],"owner":{"account_id":19400104,"reputation":1,"user_id":14186858,"display_name":"Muhammad Waqas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662043490,"creation_date":1644815326,"question_id":71107390,"body_markdown":"My code was working correctly today i have open project in android studio it giving me errors \r\n\r\nI have not made any changes in code but one thing is that i have updated my android studio to latest version\r\n\r\n**Here is the build error**\r\n```\r\n&gt; FAILURE: Build completed with 3 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Failed to transform openvpn-aar-0.18.2.jar (com.github.AnchorFree.hydra-vpn-android:openvpn-aar:0.18.2) to match attributes {artifactType=enumerated-runtime-classes, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\r\n      &gt; Could not find openvpn-aar-0.18.2.jar (com.github.AnchorFree.hydra-vpn-android:openvpn-aar:0.18.2).\r\n        Searched in the following locations:\r\n            https://jitpack.io/com/github/AnchorFree/hydra-vpn-android/openvpn-aar/0.18.2/openvpn-aar-0.18.2.jar\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n```\r\n\r\n**Module level build.gradle file**\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\next {\r\n    androidSupportLibraryVersion = &quot;28.0.0&quot;\r\n}\r\nandroid {\r\n    signingConfigs {\r\n        sining {\r\n            storeFile file(&#39;E:\\\\arfatechnology.jks&#39;)\r\n            storePassword &#39;arfatechnology&#39;\r\n            keyPassword &#39;arfatechnology&#39;\r\n            keyAlias &#39;arfatechnology&#39;\r\n        }\r\n    }\r\n    compileSdkVersion 30\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.maxprovpn.fast.vpn.fastvpn&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 30\r\n        versionCode 6\r\n        versionName &quot;4.0&quot;\r\n        multiDexEnabled true\r\n        vectorDrawables.useSupportLibrary = true\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        buildConfigField &quot;String&quot;, &quot;BASE_HOST&quot;, &quot;\\&quot;https://backend.northghost.com\\&quot;&quot;\r\n        buildConfigField &quot;String&quot;, &quot;BASE_CARRIER_ID&quot;, &quot;\\&quot;1212_demotest\\&quot;&quot;\r\n        buildConfigField &quot;String&quot;, &quot;BASE_OAUTH_METHOD&quot;, &quot;\\&quot;anonymous\\&quot;&quot;\r\n\r\n        buildConfigField &quot;String&quot;, &quot;SHARED_PREFS&quot;, &quot;\\&quot;NORTHGHOST_SHAREDPREFS\\&quot;&quot;\r\n        buildConfigField &quot;String&quot;, &quot;STORED_HOST_URL_KEY&quot;, &quot;\\&quot;com.northghost.afvclient.STORED_HOST_KEY\\&quot;&quot;\r\n        buildConfigField &quot;String&quot;, &quot;STORED_CARRIER_ID_KEY&quot;, &quot;\\&quot;com.northghost.afvclient.CARRIER_ID_KEY\\&quot;&quot;\r\n        signingConfig signingConfigs.sining\r\n\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility 1.8\r\n        targetCompatibility 1.8\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n    implementation &#39;com.github.AnchorFreePartner.hydra-sdk-android:sdk:2.0.4&#39;\r\n    implementation &#39;com.github.AnchorFreePartner.hydra-sdk-android:openvpn:2.0.4&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-ads:20.4.0&#39;\r\n    implementation &#39;com.facebook.android:audience-network-sdk:6.5.1&#39;\r\n    //implementation &#39;com.google.ads.mediation:facebook:6.5.0.0&#39;\r\n    def lifecycle_version = &quot;2.0.0&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\r\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\r\n\r\n\r\n    implementation &#39;pl.bclogic:pulsator4droid:1.0.3&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n\r\n    //Preference Library\r\n    implementation &#39;com.pixplicity.easyprefs:library:1.9.0&#39;\r\n\r\n    implementation &#39;com.google.android.material:material:1.6.0-alpha02&#39;\r\n\r\n}\r\n\r\n```\r\n\r\n**Project level build.gradle File is here**\r\n\r\n``` // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\nallprojects {\r\n    repositories {\r\n        google()\r\n\r\n        jcenter()\r\n        maven {\r\n            url &quot;https://jitpack.io&quot;\r\n            credentials { username &quot;48a9b4c06b5dabbc03328ddcdbb7dfd8fab253ae&quot; }\r\n        }\r\n        maven { url &#39;https://maven.google.com&#39; }\r\n        \r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n ```\r\n    ","title":"Facing Issues in VPN","body":"<p>My code was working correctly today i have open project in android studio it giving me errors</p>\n<p>I have not made any changes in code but one thing is that i have updated my android studio to latest version</p>\n<p><strong>Here is the build error</strong></p>\n<pre><code>&gt; FAILURE: Build completed with 3 failures.\n\n1: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Failed to transform openvpn-aar-0.18.2.jar (com.github.AnchorFree.hydra-vpn-android:openvpn-aar:0.18.2) to match attributes {artifactType=enumerated-runtime-classes, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n      &gt; Could not find openvpn-aar-0.18.2.jar (com.github.AnchorFree.hydra-vpn-android:openvpn-aar:0.18.2).\n        Searched in the following locations:\n            https://jitpack.io/com/github/AnchorFree/hydra-vpn-android/openvpn-aar/0.18.2/openvpn-aar-0.18.2.jar\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n</code></pre>\n<p><strong>Module level build.gradle file</strong></p>\n<pre><code>apply plugin: 'com.android.application'\next {\n    androidSupportLibraryVersion = &quot;28.0.0&quot;\n}\nandroid {\n    signingConfigs {\n        sining {\n            storeFile file('E:\\\\arfatechnology.jks')\n            storePassword 'arfatechnology'\n            keyPassword 'arfatechnology'\n            keyAlias 'arfatechnology'\n        }\n    }\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.maxprovpn.fast.vpn.fastvpn&quot;\n        minSdkVersion 16\n        targetSdkVersion 30\n        versionCode 6\n        versionName &quot;4.0&quot;\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        buildConfigField &quot;String&quot;, &quot;BASE_HOST&quot;, &quot;\\&quot;https://backend.northghost.com\\&quot;&quot;\n        buildConfigField &quot;String&quot;, &quot;BASE_CARRIER_ID&quot;, &quot;\\&quot;1212_demotest\\&quot;&quot;\n        buildConfigField &quot;String&quot;, &quot;BASE_OAUTH_METHOD&quot;, &quot;\\&quot;anonymous\\&quot;&quot;\n\n        buildConfigField &quot;String&quot;, &quot;SHARED_PREFS&quot;, &quot;\\&quot;NORTHGHOST_SHAREDPREFS\\&quot;&quot;\n        buildConfigField &quot;String&quot;, &quot;STORED_HOST_URL_KEY&quot;, &quot;\\&quot;com.northghost.afvclient.STORED_HOST_KEY\\&quot;&quot;\n        buildConfigField &quot;String&quot;, &quot;STORED_CARRIER_ID_KEY&quot;, &quot;\\&quot;com.northghost.afvclient.CARRIER_ID_KEY\\&quot;&quot;\n        signingConfig signingConfigs.sining\n\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility 1.8\n        targetCompatibility 1.8\n    }\n\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n    implementation 'com.github.AnchorFreePartner.hydra-sdk-android:sdk:2.0.4'\n    implementation 'com.github.AnchorFreePartner.hydra-sdk-android:openvpn:2.0.4'\n\n    implementation 'com.google.android.gms:play-services-ads:20.4.0'\n    implementation 'com.facebook.android:audience-network-sdk:6.5.1'\n    //implementation 'com.google.ads.mediation:facebook:6.5.0.0'\n    def lifecycle_version = &quot;2.0.0&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\n\n\n    implementation 'pl.bclogic:pulsator4droid:1.0.3'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n\n    //Preference Library\n    implementation 'com.pixplicity.easyprefs:library:1.9.0'\n\n    implementation 'com.google.android.material:material:1.6.0-alpha02'\n\n}\n\n</code></pre>\n<p><strong>Project level build.gradle File is here</strong></p>\n<pre><code>\nbuildscript {\n\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.4'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\nallprojects {\n    repositories {\n        google()\n\n        jcenter()\n        maven {\n            url &quot;https://jitpack.io&quot;\n            credentials { username &quot;48a9b4c06b5dabbc03328ddcdbb7dfd8fab253ae&quot; }\n        }\n        maven { url 'https://maven.google.com' }\n        \n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","lombok"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662043340,"creation_date":1662043340,"answer_id":73571267,"question_id":73405994,"body_markdown":"https://github.com/octomix/josson  \r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;cnpj\\&quot;: {&quot; +\r\n        &quot;    \\&quot;numeroCNPJ\\&quot;: \\&quot;string\\&quot;&quot; +\r\n        &quot;  },&quot; +\r\n        &quot;  \\&quot;codigoCNES\\&quot;: {&quot; +\r\n        &quot;    \\&quot;codigo\\&quot;: \\&quot;string\\&quot;&quot; +\r\n        &quot;  },&quot; +\r\n        &quot;  \\&quot;codigoUnidade\\&quot;: {&quot; +\r\n        &quot;    \\&quot;codigo\\&quot;: \\&quot;string\\&quot;&quot; +\r\n        &quot;  },&quot; +\r\n        &quot; &quot; +\r\n        &quot;  \\&quot;diretor\\&quot;: {&quot; +\r\n        &quot;    \\&quot;cpf\\&quot;: {&quot; +\r\n        &quot;      \\&quot;numeroCPF\\&quot;: \\&quot;string\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    \\&quot;nome\\&quot;: {&quot; +\r\n        &quot;      \\&quot;nome\\&quot;: \\&quot;string\\&quot;&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  },&quot; +\r\n        &quot;  \\&quot;nomeEmpresarial\\&quot;: {&quot; +\r\n        &quot;    \\&quot;nome\\&quot;: \\&quot;string\\&quot;&quot; +\r\n        &quot;  },&quot; +\r\n        &quot;  \\&quot;nomeFantasia\\&quot;: {&quot; +\r\n        &quot;    \\&quot;nome\\&quot;: \\&quot;string\\&quot;&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;}&quot;);\r\n        \r\n    JsonNode node = josson.getNode(\r\n        &quot;entries().map(&quot; +\r\n        &quot;    key::value.if([size()=1], *, **.mergeObjects())&quot; +\r\n        &quot;)&quot; +\r\n        &quot;.mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;cnpj&quot; : &quot;string&quot;,\r\n      &quot;codigoCNES&quot; : &quot;string&quot;,\r\n      &quot;codigoUnidade&quot; : &quot;string&quot;,\r\n      &quot;diretor&quot; : {\r\n        &quot;numeroCPF&quot; : &quot;string&quot;,\r\n        &quot;nome&quot; : &quot;string&quot;\r\n      },\r\n      &quot;nomeEmpresarial&quot; : &quot;string&quot;,\r\n      &quot;nomeFantasia&quot; : &quot;string&quot;\r\n    }","title":"Correct way to transform a response into DTO","body":"<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;cnpj\\&quot;: {&quot; +\n    &quot;    \\&quot;numeroCNPJ\\&quot;: \\&quot;string\\&quot;&quot; +\n    &quot;  },&quot; +\n    &quot;  \\&quot;codigoCNES\\&quot;: {&quot; +\n    &quot;    \\&quot;codigo\\&quot;: \\&quot;string\\&quot;&quot; +\n    &quot;  },&quot; +\n    &quot;  \\&quot;codigoUnidade\\&quot;: {&quot; +\n    &quot;    \\&quot;codigo\\&quot;: \\&quot;string\\&quot;&quot; +\n    &quot;  },&quot; +\n    &quot; &quot; +\n    &quot;  \\&quot;diretor\\&quot;: {&quot; +\n    &quot;    \\&quot;cpf\\&quot;: {&quot; +\n    &quot;      \\&quot;numeroCPF\\&quot;: \\&quot;string\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    \\&quot;nome\\&quot;: {&quot; +\n    &quot;      \\&quot;nome\\&quot;: \\&quot;string\\&quot;&quot; +\n    &quot;    }&quot; +\n    &quot;  },&quot; +\n    &quot;  \\&quot;nomeEmpresarial\\&quot;: {&quot; +\n    &quot;    \\&quot;nome\\&quot;: \\&quot;string\\&quot;&quot; +\n    &quot;  },&quot; +\n    &quot;  \\&quot;nomeFantasia\\&quot;: {&quot; +\n    &quot;    \\&quot;nome\\&quot;: \\&quot;string\\&quot;&quot; +\n    &quot;  }&quot; +\n    &quot;}&quot;);\n    \nJsonNode node = josson.getNode(\n    &quot;entries().map(&quot; +\n    &quot;    key::value.if([size()=1], *, **.mergeObjects())&quot; +\n    &quot;)&quot; +\n    &quot;.mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;cnpj&quot; : &quot;string&quot;,\n  &quot;codigoCNES&quot; : &quot;string&quot;,\n  &quot;codigoUnidade&quot; : &quot;string&quot;,\n  &quot;diretor&quot; : {\n    &quot;numeroCPF&quot; : &quot;string&quot;,\n    &quot;nome&quot; : &quot;string&quot;\n  },\n  &quot;nomeEmpresarial&quot; : &quot;string&quot;,\n  &quot;nomeFantasia&quot; : &quot;string&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":8677372,"reputation":532,"user_id":6494406,"accept_rate":83,"display_name":"Bruno Justino Praciano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662043340,"creation_date":1660837499,"question_id":73405994,"body_markdown":"I have this response here and I&#39;d like to parse it to clean some infos that come from my service. And I&#39;d like to know if is there a better way to convert this response where has \r\n\r\n    &quot;cnpj&quot;: {\r\n        &quot;numeroCNPJ&quot;: &quot;string&quot;\r\n      },\r\na key and then inside another key, it will be nice to return directly &quot;cnpj&quot;: &quot;string&quot; for example. I implemented it, but actually, I think there are better solutions for this problem.\r\n\r\nJson from rest service:\r\n\r\n    {\r\n      &quot;cnpj&quot;: {\r\n        &quot;numeroCNPJ&quot;: &quot;string&quot;\r\n      },\r\n      &quot;codigoCNES&quot;: {\r\n        &quot;codigo&quot;: &quot;string&quot;\r\n      },\r\n      &quot;codigoUnidade&quot;: {\r\n        &quot;codigo&quot;: &quot;string&quot;\r\n      },\r\n     \r\n      &quot;diretor&quot;: {\r\n        &quot;cpf&quot;: {\r\n          &quot;numeroCPF&quot;: &quot;string&quot;\r\n        },\r\n        &quot;nome&quot;: {\r\n          &quot;nome&quot;: &quot;string&quot;\r\n        }\r\n      },\r\n      &quot;nomeEmpresarial&quot;: {\r\n        &quot;nome&quot;: &quot;string&quot;\r\n      },\r\n      &quot;nomeFantasia&quot;: {\r\n        &quot;nome&quot;: &quot;string&quot;\r\n      }\r\n    }\r\n\r\nThe Json that I&#39;d like to have:\r\n\r\n    {\r\n    \t\t&quot;cnpj&quot;: &quot;string&quot;,\r\n    \t\t&quot;codigoCNES&quot;: &quot;string&quot;,\r\n    \t\t&quot;codigoUnidade&quot;:  &quot;string&quot;,\r\n    \r\n    \t\t&quot;diretor&quot;: {\r\n    \t\t&quot;nome&quot;: &quot;string&quot;,\r\n    \t\t&quot;numeroCPF&quot;: &quot;string&quot;\r\n    \t\t},\r\n    \t\t\r\n    \t\t&quot;nomeEmpresarial&quot;&quot;string&quot;,\r\n    \t\t&quot;nomeFantasia&quot;: &quot;string&quot;\r\n    \t\t\r\n    }\r\n\r\nThe DTO Class:\r\n\r\n    @Data\r\n    public class CNESDto {\r\n    \r\n        private String codigoCNES;\r\n        private String codigoUnidade;\r\n        private String nomeFantasia;\r\n        private String nomeEmpresarial;\r\n        private String cnpj;\r\n        private DiretorDto diretor;\r\n    \r\n    }\r\n\r\n\r\nThe way that I&#39;m mapping it, I&#39;d like to know if is there a clean way to implement it. \r\n\r\n    private CNESDto getCnesDto(DadosGeraisEstabelecimentoSaudeType response) {\r\n    \r\n    \tDiretorDto diretorDto = new DiretorDto();\r\n    \tdiretorDto.setName(response.getDiretor().getNome().getNome());\r\n    \tdiretorDto.setCpf(response.getDiretor().getCPF().getNumeroCPF());\r\n    \r\n    \tCNESDto cnesDto = new CNESDto();\r\n    \tcnesDto.setCodigoCNES(response.getCodigoCNES().getCodigo());\r\n    \tcnesDto.setCodigoUnidade(response.getCodigoUnidade().getCodigo());\r\n    \tcnesDto.setNomeFantasia(response.getNomeFantasia().getNome());\r\n    \tcnesDto.setNomeEmpresarial(response.getNomeEmpresarial().getNome());\r\n    \tcnesDto.setCnpj(response.getCNPJ().getNumeroCNPJ());\r\n    \tcnesDto.setEndereco(response.getEndereco());\r\n    \tcnesDto.setDiretor(diretorDto);\r\n    \r\n    \treturn cnesDto;\r\n    }\r\n\r\n\r\n","title":"Correct way to transform a response into DTO","body":"<p>I have this response here and I'd like to parse it to clean some infos that come from my service. And I'd like to know if is there a better way to convert this response where has</p>\n<pre><code>&quot;cnpj&quot;: {\n    &quot;numeroCNPJ&quot;: &quot;string&quot;\n  },\n</code></pre>\n<p>a key and then inside another key, it will be nice to return directly &quot;cnpj&quot;: &quot;string&quot; for example. I implemented it, but actually, I think there are better solutions for this problem.</p>\n<p>Json from rest service:</p>\n<pre><code>{\n  &quot;cnpj&quot;: {\n    &quot;numeroCNPJ&quot;: &quot;string&quot;\n  },\n  &quot;codigoCNES&quot;: {\n    &quot;codigo&quot;: &quot;string&quot;\n  },\n  &quot;codigoUnidade&quot;: {\n    &quot;codigo&quot;: &quot;string&quot;\n  },\n \n  &quot;diretor&quot;: {\n    &quot;cpf&quot;: {\n      &quot;numeroCPF&quot;: &quot;string&quot;\n    },\n    &quot;nome&quot;: {\n      &quot;nome&quot;: &quot;string&quot;\n    }\n  },\n  &quot;nomeEmpresarial&quot;: {\n    &quot;nome&quot;: &quot;string&quot;\n  },\n  &quot;nomeFantasia&quot;: {\n    &quot;nome&quot;: &quot;string&quot;\n  }\n}\n</code></pre>\n<p>The Json that I'd like to have:</p>\n<pre><code>{\n        &quot;cnpj&quot;: &quot;string&quot;,\n        &quot;codigoCNES&quot;: &quot;string&quot;,\n        &quot;codigoUnidade&quot;:  &quot;string&quot;,\n\n        &quot;diretor&quot;: {\n        &quot;nome&quot;: &quot;string&quot;,\n        &quot;numeroCPF&quot;: &quot;string&quot;\n        },\n        \n        &quot;nomeEmpresarial&quot;&quot;string&quot;,\n        &quot;nomeFantasia&quot;: &quot;string&quot;\n        \n}\n</code></pre>\n<p>The DTO Class:</p>\n<pre><code>@Data\npublic class CNESDto {\n\n    private String codigoCNES;\n    private String codigoUnidade;\n    private String nomeFantasia;\n    private String nomeEmpresarial;\n    private String cnpj;\n    private DiretorDto diretor;\n\n}\n</code></pre>\n<p>The way that I'm mapping it, I'd like to know if is there a clean way to implement it.</p>\n<pre><code>private CNESDto getCnesDto(DadosGeraisEstabelecimentoSaudeType response) {\n\n    DiretorDto diretorDto = new DiretorDto();\n    diretorDto.setName(response.getDiretor().getNome().getNome());\n    diretorDto.setCpf(response.getDiretor().getCPF().getNumeroCPF());\n\n    CNESDto cnesDto = new CNESDto();\n    cnesDto.setCodigoCNES(response.getCodigoCNES().getCodigo());\n    cnesDto.setCodigoUnidade(response.getCodigoUnidade().getCodigo());\n    cnesDto.setNomeFantasia(response.getNomeFantasia().getNome());\n    cnesDto.setNomeEmpresarial(response.getNomeEmpresarial().getNome());\n    cnesDto.setCnpj(response.getCNPJ().getNumeroCNPJ());\n    cnesDto.setEndereco(response.getEndereco());\n    cnesDto.setDiretor(diretorDto);\n\n    return cnesDto;\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1661977253,"post_id":73560098,"comment_id":129902561,"body_markdown":"What makes you think the offsets are being committed? They won&#39;t be with that configuration if you never call `acknowledgment.ack()`.","body":"What makes you think the offsets are being committed? They won&#39;t be with that configuration if you never call <code>acknowledgment.ack()</code>."},{"owner":{"account_id":8916922,"reputation":63,"user_id":6655151,"display_name":"FoxRiver"},"score":0,"creation_date":1661978279,"post_id":73560098,"comment_id":129902883,"body_markdown":"if the concurrency is set to 4, I should be seeing max 96 messages received when app is not acknowledging.  I am printing the received messages and  the console is streaming with messages as they arrive.","body":"if the concurrency is set to 4, I should be seeing max 96 messages received when app is not acknowledging.  I am printing the received messages and  the console is streaming with messages as they arrive."},{"owner":{"account_id":8916922,"reputation":63,"user_id":6655151,"display_name":"FoxRiver"},"score":0,"creation_date":1661979096,"post_id":73560098,"comment_id":129903117,"body_markdown":"and my understanding is the next message will not arrive until the last message offset is committed.","body":"and my understanding is the next message will not arrive until the last message offset is committed."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662043128,"creation_date":1661981540,"answer_id":73562105,"question_id":73560098,"body_markdown":"&gt;and my understanding is the next message will not arrive until the last message offset is committed.\r\n\r\nYour understanding is incorrect.\r\n\r\nKafka maintains two pointers for each group/partition - the current `position` and the `committed offset`.\r\n\r\nThe current position is the next record that will be read on the next poll. The committed offset is the next record that will be read by this consumer when it is next restarted, or a rebalance occurs. i.e. the position is reset to the committed offset when the consumer leaves the group, or a partition is revoked.\r\n\r\nThere is no other relationship between these pointers; committing the offset has no bearing on fetching the next record from the current position.","title":"SpringKafka not honoring auto commit setting to false","body":"<blockquote>\n<p>and my understanding is the next message will not arrive until the last message offset is committed.</p>\n</blockquote>\n<p>Your understanding is incorrect.</p>\n<p>Kafka maintains two pointers for each group/partition - the current <code>position</code> and the <code>committed offset</code>.</p>\n<p>The current position is the next record that will be read on the next poll. The committed offset is the next record that will be read by this consumer when it is next restarted, or a rebalance occurs. i.e. the position is reset to the committed offset when the consumer leaves the group, or a partition is revoked.</p>\n<p>There is no other relationship between these pointers; committing the offset has no bearing on fetching the next record from the current position.</p>\n"}],"owner":{"account_id":8916922,"reputation":63,"user_id":6655151,"display_name":"FoxRiver"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662043128,"creation_date":1661968988,"question_id":73560098,"body_markdown":"Probably I am missing a setting or two here but with `KafkaListenerContainerFactory` setup for ackMode as manual, I see messages are streaming through `@KafkaListener` method when I print them on receive. We are not acknowledging the message anywhere in the application. \r\nAppreciate if anyone can point out where the issue is. Thanks in advance. \r\n\r\nUsing spring kafka version -- **2.3.0.RELEASE**\r\n\r\n\r\n**ListenerContainerFactory**\r\n\r\n```    @Bean(name = BATCH_CONSUMER_FACTORY)\r\n    KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;GenericData.Record, GenericData.Record&gt;&gt;\r\n    kafkaListenerContainerFactory(\r\n            ConsumerFactory&lt;GenericData.Record, GenericData.Record&gt; consumerFactory) {\r\n\r\n        requireNonNull(consumerFactory, &quot;consumerFactory must not be null&quot;);\r\n\r\n        ConcurrentKafkaListenerContainerFactory&lt;GenericData.Record, GenericData.Record&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory);\r\n        factory.setBatchListener(true);\r\n        factory.setConcurrency(4);\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\r\n        return factory;\r\n    }\r\n```\r\n\r\n**Receives the messages here** \r\n\r\n```    @KafkaListener(topics = {INVENTORY_TOPIC}, containerFactory = BATCH_CONSUMER_FACTORY)\r\n    public List&lt;InventoryRecord&gt; onMessage(@Payload List&lt;ConsumerRecord&lt;byte[],\r\n            GenericArray&lt;GenericRecord&gt;&gt;&gt; consumerRecords, Acknowledgment acknowledgment) {\r\n```\r\n\r\n**application.yml**\r\n\r\n```spring:\r\n  kafka:\r\n    consumer:\r\n      key-deserializer: org.apache.kafka.common.serialization.ByteArrayDeserializer\r\n      value-deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n      heartbeat-interval: 50000ms\r\n      client-id: card-processor-consumer\r\n      group-id: card-processor-consumer\r\n      max-poll-records: 24\r\n    properties:\r\n      basic:\r\n        auth:\r\n          credentials:\r\n            source: SASL_INHERIT\r\n      security.protocol: SASL_SSL\r\n      sasl.mechanism: SCRAM-SHA-512\r\n      sasl.jaas.config: org.apache.kafka.common.security.scram.ScramLoginModule required username=zzzzzzz password=xxxxxxxxx;\r\n      request.timeout.ms: 1800000\r\n      session.timeout.ms: 360000\r\n      max.poll.interval.ms: 290000\r\n    listener:\r\n        concurrency: 4\r\n        ack-mode: manual\r\n```\r\n\r\n\r\n","title":"SpringKafka not honoring auto commit setting to false","body":"<p>Probably I am missing a setting or two here but with <code>KafkaListenerContainerFactory</code> setup for ackMode as manual, I see messages are streaming through <code>@KafkaListener</code> method when I print them on receive. We are not acknowledging the message anywhere in the application.\nAppreciate if anyone can point out where the issue is. Thanks in advance.</p>\n<p>Using spring kafka version -- <strong>2.3.0.RELEASE</strong></p>\n<p><strong>ListenerContainerFactory</strong></p>\n<pre><code>    KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;GenericData.Record, GenericData.Record&gt;&gt;\n    kafkaListenerContainerFactory(\n            ConsumerFactory&lt;GenericData.Record, GenericData.Record&gt; consumerFactory) {\n\n        requireNonNull(consumerFactory, &quot;consumerFactory must not be null&quot;);\n\n        ConcurrentKafkaListenerContainerFactory&lt;GenericData.Record, GenericData.Record&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory);\n        factory.setBatchListener(true);\n        factory.setConcurrency(4);\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\n        return factory;\n    }\n</code></pre>\n<p><strong>Receives the messages here</strong></p>\n<pre><code>    public List&lt;InventoryRecord&gt; onMessage(@Payload List&lt;ConsumerRecord&lt;byte[],\n            GenericArray&lt;GenericRecord&gt;&gt;&gt; consumerRecords, Acknowledgment acknowledgment) {\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>  kafka:\n    consumer:\n      key-deserializer: org.apache.kafka.common.serialization.ByteArrayDeserializer\n      value-deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n      heartbeat-interval: 50000ms\n      client-id: card-processor-consumer\n      group-id: card-processor-consumer\n      max-poll-records: 24\n    properties:\n      basic:\n        auth:\n          credentials:\n            source: SASL_INHERIT\n      security.protocol: SASL_SSL\n      sasl.mechanism: SCRAM-SHA-512\n      sasl.jaas.config: org.apache.kafka.common.security.scram.ScramLoginModule required username=zzzzzzz password=xxxxxxxxx;\n      request.timeout.ms: 1800000\n      session.timeout.ms: 360000\n      max.poll.interval.ms: 290000\n    listener:\n        concurrency: 4\n        ack-mode: manual\n</code></pre>\n"},{"tags":["java","spring-boot","jdbc"],"comments":[{"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"score":0,"creation_date":1662468490,"post_id":73567761,"comment_id":130008115,"body_markdown":"Seems similar to : https://stackoverflow.com/q/25585601/6150881","body":"Seems similar to : <a href=\"https://stackoverflow.com/q/25585601/6150881\">stackoverflow.com/q/25585601/6150881</a>"}],"answers":[{"tags":[],"owner":{"account_id":7809826,"reputation":37,"user_id":5906395,"display_name":"Zand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662028066,"creation_date":1662028066,"answer_id":73567859,"question_id":73567761,"body_markdown":"Remove the JDBCController.java from the &quot;src/test/java&quot; and move it to the &quot;src/main/java&quot; package.","title":"ApplicationEventMulticaster not initialized error, need tip","body":"<p>Remove the JDBCController.java from the &quot;src/test/java&quot; and move it to the &quot;src/main/java&quot; package.</p>\n"},{"tags":[],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662043006,"creation_date":1662043006,"answer_id":73571195,"question_id":73567761,"body_markdown":"I had the wrong JAVA version for the project...........","title":"ApplicationEventMulticaster not initialized error, need tip","body":"<p>I had the wrong JAVA version for the project...........</p>\n"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662043006,"creation_date":1662027625,"question_id":73567761,"body_markdown":"I am trying to follow [this][1] tutorial from W3schools for SpringBoot.\r\n\r\nThis is how my project looks like:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI followed the tutorial and changed the pom.xml to what it shows in the above link. Then, I copied the App.java class from the tutorial and put it into DemoApplication.java. Lastly, the controller class was also copied into JDBCController.java.\r\n\r\nDemoApplication.java: \r\n\r\n    package com.example.demo;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.support.SpringBootServletInitializer;\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication extends SpringBootServletInitializer {\r\n\r\n\t    public static void main(String[] args) {\r\n\t    \tSpringApplication.run(DemoApplication.class, args);\r\n\t    }\r\n    }\r\n\r\nJDBCController.java:\r\n\r\n    package com.example.demo;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n \r\n    @RestController\r\n    public class JDBCController {\r\n        @Autowired  \r\n        JdbcTemplate jdbc;  \r\n \r\n        @RequestMapping(&quot;/insert&quot;)  \r\n        public String insertData(){  \r\n            jdbc.execute(&quot;insert into users(seq,user_name)values(12,&#39;hkumar&#39;)&quot;);  \r\n            return&quot;Data inserted Successfully&quot;;  \r\n        }\r\n    }\r\n\r\nWhen I run everything these are the errors I get:\r\n\r\n    2022-09-01 12:07:59.268  INFO 1872 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication on WSAMZN-4GEVUIP3 with PID 1872 (D:\\Users\\stefano.pozzi\\eclipse-workspace\\demo\\target\\classes started by stefano.pozzi in D:\\Users\\stefano.pozzi\\eclipse-workspace\\demo)\r\n    2022-09-01 12:07:59.271  INFO 1872 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default\r\n    2022-09-01 12:07:59.330  INFO 1872 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7756c3cd: startup date [Thu Sep 01 12:07:59 CEST 2022]; root of context hierarchy\r\n    2022-09-01 12:07:59.929 ERROR 1872 --- [           main] o.s.boot.SpringApplication   \r\n\r\n    java.lang.IllegalStateException: Cannot load configuration class: com.example.demo.DemoApplication\r\n\t    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:419) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:266) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:281) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:125) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:686) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:371) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1186) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1175) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\r\n\r\n    Caused by: java.lang.ExceptionInInitializerError: null\r\n\t    at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:119) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:107) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:409) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t... 12 common frames omitted\r\n\r\n    Caused by: java.lang.IllegalStateException: Unable to load cache item\r\n\t    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t... 15 common frames omitted\r\n\r\n    Caused by: java.lang.ExceptionInInitializerError: null\r\n\t    at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\t    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t... 22 common frames omitted\r\n\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5884a914\r\n\t    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n\t    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n\t    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199) ~[na:na]\r\n\t    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193) ~[na:na]\r\n\t    at org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:54) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\r\n\t    at org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:44) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t... 30 common frames omitted\r\n\r\n    2022-09-01 12:07:59.930  INFO 1872 --- [           main] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7756c3cd: startup date [Thu Sep 01 12:07:59 CEST 2022]; root of context hierarchy\r\n    2022-09-01 12:07:59.931  WARN 1872 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception thrown from LifecycleProcessor on context close\r\n\r\n    java.lang.IllegalStateException: LifecycleProcessor not initialized - call &#39;refresh&#39; before invoking lifecycle methods via the context: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7756c3cd: startup date [Thu Sep 01 12:07:59 CEST 2022]; root of context hierarchy\r\n\t    at org.springframework.context.support.AbstractApplicationContext.getLifecycleProcessor(AbstractApplicationContext.java:417) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1002) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:961) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:818) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1186) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1175) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\r\n\r\n    2022-09-01 12:07:59.932 ERROR 1872 --- [           main] o.s.b.f.s.DefaultListableBeanFactory\r\n   \r\n    java.lang.IllegalStateException: ApplicationEventMulticaster not initialized - call &#39;refresh&#39; before multicasting events via the context: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7756c3cd: startup date [Thu Sep 01 12:07:59 CEST 2022]; root of context hierarchy\r\n\t    at org.springframework.context.support.AbstractApplicationContext.getApplicationEventMulticaster(AbstractApplicationContext.java:404) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.support.ApplicationListenerDetector.postProcessBeforeDestruction(ApplicationListenerDetector.java:97) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:253) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:954) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1033) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1009) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:961) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:818) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1186) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1175) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\r\n\t    at com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\r\n\r\nI am a bit lost D:\r\n\r\n----------------------------------------------\r\n\r\nI tried putting JDBCController.java with DemoApplication.java. Unfortunately it does not fix the issue :(\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.w3schools.blog/spring-boot-with-mysql-database-example\r\n  [2]: https://i.stack.imgur.com/xWGfe.png\r\n  [3]: https://i.stack.imgur.com/z3gal.png","title":"ApplicationEventMulticaster not initialized error, need tip","body":"<p>I am trying to follow <a href=\"https://www.w3schools.blog/spring-boot-with-mysql-database-example\" rel=\"nofollow noreferrer\">this</a> tutorial from W3schools for SpringBoot.</p>\n<p>This is how my project looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/xWGfe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xWGfe.png\" alt=\"enter image description here\" /></a></p>\n<p>I followed the tutorial and changed the pom.xml to what it shows in the above link. Then, I copied the App.java class from the tutorial and put it into DemoApplication.java. Lastly, the controller class was also copied into JDBCController.java.</p>\n<p>DemoApplication.java:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class DemoApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>JDBCController.java:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class JDBCController {\n    @Autowired  \n    JdbcTemplate jdbc;  \n\n    @RequestMapping(&quot;/insert&quot;)  \n    public String insertData(){  \n        jdbc.execute(&quot;insert into users(seq,user_name)values(12,'hkumar')&quot;);  \n        return&quot;Data inserted Successfully&quot;;  \n    }\n}\n</code></pre>\n<p>When I run everything these are the errors I get:</p>\n<pre><code>2022-09-01 12:07:59.268  INFO 1872 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication on WSAMZN-4GEVUIP3 with PID 1872 (D:\\Users\\stefano.pozzi\\eclipse-workspace\\demo\\target\\classes started by stefano.pozzi in D:\\Users\\stefano.pozzi\\eclipse-workspace\\demo)\n2022-09-01 12:07:59.271  INFO 1872 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default\n2022-09-01 12:07:59.330  INFO 1872 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7756c3cd: startup date [Thu Sep 01 12:07:59 CEST 2022]; root of context hierarchy\n2022-09-01 12:07:59.929 ERROR 1872 --- [           main] o.s.boot.SpringApplication   \n\njava.lang.IllegalStateException: Cannot load configuration class: com.example.demo.DemoApplication\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:419) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:266) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:281) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:125) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:686) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:371) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1186) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1175) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\n\nCaused by: java.lang.ExceptionInInitializerError: null\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:119) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:107) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:409) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n... 12 common frames omitted\n\nCaused by: java.lang.IllegalStateException: Unable to load cache item\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n... 15 common frames omitted\n\nCaused by: java.lang.ExceptionInInitializerError: null\n    at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n... 22 common frames omitted\n\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5884a914\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199) ~[na:na]\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193) ~[na:na]\n    at org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:54) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\n    at org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:44) ~[spring-core-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n... 30 common frames omitted\n\n2022-09-01 12:07:59.930  INFO 1872 --- [           main] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7756c3cd: startup date [Thu Sep 01 12:07:59 CEST 2022]; root of context hierarchy\n2022-09-01 12:07:59.931  WARN 1872 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception thrown from LifecycleProcessor on context close\n\njava.lang.IllegalStateException: LifecycleProcessor not initialized - call 'refresh' before invoking lifecycle methods via the context: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7756c3cd: startup date [Thu Sep 01 12:07:59 CEST 2022]; root of context hierarchy\n    at org.springframework.context.support.AbstractApplicationContext.getLifecycleProcessor(AbstractApplicationContext.java:417) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1002) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:961) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:818) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1186) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1175) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\n\n2022-09-01 12:07:59.932 ERROR 1872 --- [           main] o.s.b.f.s.DefaultListableBeanFactory\n\njava.lang.IllegalStateException: ApplicationEventMulticaster not initialized - call 'refresh' before multicasting events via the context: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7756c3cd: startup date [Thu Sep 01 12:07:59 CEST 2022]; root of context hierarchy\n    at org.springframework.context.support.AbstractApplicationContext.getApplicationEventMulticaster(AbstractApplicationContext.java:404) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.support.ApplicationListenerDetector.postProcessBeforeDestruction(ApplicationListenerDetector.java:97) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:253) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:954) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1033) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1009) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:961) ~[spring-context-4.3.4.RELEASE.jar:4.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:818) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1186) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1175) ~[spring-boot-1.4.2.RELEASE.jar:1.4.2.RELEASE]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\n</code></pre>\n<p>I am a bit lost D:</p>\n<hr />\n<p>I tried putting JDBCController.java with DemoApplication.java. Unfortunately it does not fix the issue :(</p>\n<p><a href=\"https://i.stack.imgur.com/z3gal.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3gal.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","subscription","opc-ua","milo"],"comments":[{"owner":{"account_id":31322,"reputation":6570,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"score":0,"creation_date":1662035379,"post_id":73568235,"comment_id":129916118,"body_markdown":"Can you rephrase the question or provide more detail? I&#39;m not sure what you&#39;re asking.","body":"Can you rephrase the question or provide more detail? I&#39;m not sure what you&#39;re asking."},{"owner":{"account_id":26206701,"reputation":25,"user_id":19886210,"display_name":"Killpop3770"},"score":0,"creation_date":1662039276,"post_id":73568235,"comment_id":129917687,"body_markdown":"I apologize for the ambiguity of the question. I rephrased it.","body":"I apologize for the ambiguity of the question. I rephrased it."}],"answers":[{"tags":[],"owner":{"account_id":31322,"reputation":6570,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662041279,"creation_date":1662041279,"answer_id":73570758,"question_id":73568235,"body_markdown":"This code doesn&#39;t start or run immediately, it&#39;s only going to run once the MonitoredItem has been created and the server sends a notification.","title":"How to filter out events coming to UaMonitoredItem in OPC UA Milo?","body":"<p>This code doesn't start or run immediately, it's only going to run once the MonitoredItem has been created and the server sends a notification.</p>\n"}],"owner":{"account_id":26206701,"reputation":25,"user_id":19886210,"display_name":"Killpop3770"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73570758,"answer_count":1,"score":1,"last_activity_date":1662042786,"creation_date":1662029891,"question_id":73568235,"body_markdown":"I am trying to write an internal application event log based on **UaMonitoredItem** and its **setValueConsumer(ValueConsumer valueConsumer)** method. Is it possible to filter out events coming to **UaMonitoredItems** after the &quot;initialization&quot;/&quot;first use&quot; of the **setValueConsumer(ValueConsumer valueConsumer)** method, and not during? Would using **ManagedDataItem** or **ManagedEventItem** be a good practice in this case?\r\n\r\nCode for example: \r\n\r\n\tpublic void subscribeOnComponentsEvent(List list) {\r\n\t\t\r\n\t\t//....\r\n\t\t\r\n        //Created in MonitoringMode.Sampling to avoid race condition\r\n\t\tfor (UaMonitoredItem item : monitoredItems) {\r\n\t\t\tallMonitoredItems.add(item);\r\n\t\t\titem.setValueConsumer((e, vs) -&gt; {\r\n\t\t\t\tlogger.info(&quot;Received from {}&quot;, e.getReadValueId().getNodeId());\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tpublic void setMonitoringMode(MonitoringMode mode) {\r\n\r\n\t\ttry {\r\n\t\t\tsubscription.setMonitoringMode(mode, allMonitoredItems).get();\r\n\t\t} catch (InterruptedException | ExecutionException e) {\r\n\t\t\tlogger.error(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t//...\r\n\t\t\r\n\t\tclient.subscribeOnComponentsEvent(list);\r\n\t\tclient.setMonitoringMode(MonitoringMode.Reporting);\r\n\t}\r\n\r\nOutput of code example:\r\n\r\n\t[milo-shared-thread-pool-3] INFO client.Client - Received from NodeId{ns=1, id=state_open}\r\n\t[milo-shared-thread-pool-3] INFO client.Client - Received from NodeId{ns=1, id=state_closed}\r\n\t[milo-shared-thread-pool-3] INFO client.Client - Received from NodeId{ns=1, id=state_alarm}\r\n\r\nWhen the application starts, this code starts immediately, therefore, data from monitors that may have already been in the log will be re-written to the log. \r\n\r\nIs there a way to avoid re-writing data to the log?","title":"How to filter out events coming to UaMonitoredItem in OPC UA Milo?","body":"<p>I am trying to write an internal application event log based on <strong>UaMonitoredItem</strong> and its <strong>setValueConsumer(ValueConsumer valueConsumer)</strong> method. Is it possible to filter out events coming to <strong>UaMonitoredItems</strong> after the &quot;initialization&quot;/&quot;first use&quot; of the <strong>setValueConsumer(ValueConsumer valueConsumer)</strong> method, and not during? Would using <strong>ManagedDataItem</strong> or <strong>ManagedEventItem</strong> be a good practice in this case?</p>\n<p>Code for example:</p>\n<pre><code>public void subscribeOnComponentsEvent(List list) {\n    \n    //....\n    \n    //Created in MonitoringMode.Sampling to avoid race condition\n    for (UaMonitoredItem item : monitoredItems) {\n        allMonitoredItems.add(item);\n        item.setValueConsumer((e, vs) -&gt; {\n            logger.info(&quot;Received from {}&quot;, e.getReadValueId().getNodeId());\n        });\n    }\n}\n    \npublic void setMonitoringMode(MonitoringMode mode) {\n\n    try {\n        subscription.setMonitoringMode(mode, allMonitoredItems).get();\n    } catch (InterruptedException | ExecutionException e) {\n        logger.error(e.getMessage());\n    }\n}\n\npublic static void main(String[] args) {\n\n    //...\n    \n    client.subscribeOnComponentsEvent(list);\n    client.setMonitoringMode(MonitoringMode.Reporting);\n}\n</code></pre>\n<p>Output of code example:</p>\n<pre><code>[milo-shared-thread-pool-3] INFO client.Client - Received from NodeId{ns=1, id=state_open}\n[milo-shared-thread-pool-3] INFO client.Client - Received from NodeId{ns=1, id=state_closed}\n[milo-shared-thread-pool-3] INFO client.Client - Received from NodeId{ns=1, id=state_alarm}\n</code></pre>\n<p>When the application starts, this code starts immediately, therefore, data from monitors that may have already been in the log will be re-written to the log.</p>\n<p>Is there a way to avoid re-writing data to the log?</p>\n"},{"tags":["java","jhipster","dto","jdl"],"comments":[{"owner":{"account_id":26114650,"reputation":7,"user_id":19807985,"display_name":"Troo TrIIs"},"score":0,"creation_date":1662047366,"post_id":73571066,"comment_id":129921242,"body_markdown":"Manual Code change please guided","body":"Manual Code change please guided"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1662051530,"post_id":73571066,"comment_id":129922764,"body_markdown":"As explained in your other question, your JDL should define a OneToMany relationship between Country and Region., see examples in the JDL doc. Then you can manually modify the generated Mapper to include missing fields, see MapStruct doc https://mapstruct.org/documentation/stable/reference/html/#defining-mapper","body":"As explained in your other question, your JDL should define a OneToMany relationship between Country and Region., see examples in the JDL doc. Then you can manually modify the generated Mapper to include missing fields, see MapStruct doc <a href=\"https://mapstruct.org/documentation/stable/reference/html/#defining-mapper\" rel=\"nofollow noreferrer\">mapstruct.org/documentation/stable/reference/html/&hellip;</a>"},{"owner":{"account_id":26114650,"reputation":7,"user_id":19807985,"display_name":"Troo TrIIs"},"score":0,"creation_date":1662053464,"post_id":73571066,"comment_id":129923409,"body_markdown":"I already have a relationship between them but i didnt Know how to modify it manually and thanks for helping me","body":"I already have a relationship between them but i didnt Know how to modify it manually and thanks for helping me"}],"owner":{"account_id":26114650,"reputation":7,"user_id":19807985,"display_name":"Troo TrIIs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662042486,"creation_date":1662042486,"question_id":73571066,"body_markdown":"I have this two entities \r\n \r\n\r\n    entity Country {\r\n    name String                                                                                   \r\n    }                                                                             \r\n    entity Regions {\r\n    name String\r\n    population Integer                                                                            \r\n    }\r\nAnd i wanna get something like this \r\n\r\n    {\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;USA&quot;,\r\n    &quot;regions&quot;: \r\n            [\r\n                {\r\n                    &quot;id&quot;: 1                    \r\n                    &quot;name&quot;: &quot;florida&quot;\r\n                    &quot;population&quot;:150000&quot;\r\n                },\r\n                 {\r\n                    &quot;id&quot;: 2                    \r\n                    &quot;name&quot;: &quot;newyork&quot;\r\n                    &quot;population&quot;:12&quot;\r\n                },\r\n            ]   \r\n}\r\n\r\n   I also tried to do List&lt;Regions&gt; regions in jdl but it doesnt work in jdl studio i get error!\r\nCan you please tell me how to do it even with the code and Thanks.","title":"how can I add this child field to parentDTO?","body":"<p>I have this two entities</p>\n<pre><code>entity Country {\nname String                                                                                   \n}                                                                             \nentity Regions {\nname String\npopulation Integer                                                                            \n}\n</code></pre>\n<p>And i wanna get something like this</p>\n<pre><code>{\n&quot;id&quot;: 1,\n&quot;name&quot;: &quot;USA&quot;,\n&quot;regions&quot;: \n        [\n            {\n                &quot;id&quot;: 1                    \n                &quot;name&quot;: &quot;florida&quot;\n                &quot;population&quot;:150000&quot;\n            },\n             {\n                &quot;id&quot;: 2                    \n                &quot;name&quot;: &quot;newyork&quot;\n                &quot;population&quot;:12&quot;\n            },\n        ]   \n</code></pre>\n<p>}</p>\n<p>I also tried to do List regions in jdl but it doesnt work in jdl studio i get error!\nCan you please tell me how to do it even with the code and Thanks.</p>\n"},{"tags":["java","html","selenium","testing","svg"],"comments":[{"owner":{"account_id":2228889,"reputation":1776,"user_id":1967021,"display_name":"Ivan Pronin"},"score":1,"creation_date":1490860992,"post_id":43111842,"comment_id":73303847,"body_markdown":"Please, post the code where you&#39;re trying to get text","body":"Please, post the code where you&#39;re trying to get text"},{"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"score":1,"creation_date":1490860999,"post_id":43111842,"comment_id":73303853,"body_markdown":"possible duplicate of http://stackoverflow.com/questions/31520642/how-to-use-xpath-in-selenium-webdriver-to-grab-svg-elements","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/31520642/how-to-use-xpath-in-selenium-webdriver-to-grab-svg-elements\" title=\"how to use xpath in selenium webdriver to grab svg elements\">stackoverflow.com/questions/31520642/&hellip;</a>"},{"owner":{"account_id":8801423,"reputation":91,"user_id":6577426,"accept_rate":67,"display_name":"niazi"},"score":0,"creation_date":1490861688,"post_id":43111842,"comment_id":73304243,"body_markdown":"&#39;String text=driver.findElement(By.xpath(&quot;.//[@id=&#39;divClusters&#39;]/div[1]/div[1]/div/svg/g[1]/text&quot;)).getText();&#39;\nSystem.out.print(text)","body":"&#39;String text=driver.findElement(By.xpath(&quot;.//[@id=&#39;divClusters&#39;]/div&zwnj;&#8203;[1]/div[1]/div/svg/g&zwnj;&#8203;[1]/text&quot;)).getText(&zwnj;&#8203;);&#39; System.out.print(text)"},{"owner":{"account_id":8801423,"reputation":91,"user_id":6577426,"accept_rate":67,"display_name":"niazi"},"score":0,"creation_date":1490861841,"post_id":43111842,"comment_id":73304307,"body_markdown":"this is error message**org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element** @japu-d-cret","body":"this is error message<b>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element</b> @japu-d-cret"},{"owner":{"account_id":3957177,"reputation":1082,"user_id":3265284,"accept_rate":100,"display_name":"hg8"},"score":2,"creation_date":1490864893,"post_id":43111842,"comment_id":73306342,"body_markdown":"Possible duplicate of [How to use xPath in Selenium WebDriver to grab SVG elements?](http://stackoverflow.com/questions/31520642/how-to-use-xpath-in-selenium-webdriver-to-grab-svg-elements)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/31520642/how-to-use-xpath-in-selenium-webdriver-to-grab-svg-elements\">How to use xPath in Selenium WebDriver to grab SVG elements?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2228889,"reputation":1776,"user_id":1967021,"display_name":"Ivan Pronin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490867245,"creation_date":1490862396,"answer_id":43112353,"question_id":43111842,"body_markdown":"This locator should work: \r\n\r\n* `String text=driver.findElement(By.xpath(&quot;//[@id=&#39;divClusters&#39;]//*[name()=&#39;svg&#39; and @aria-label=&#39;A chart.&#39;]//*[name()=&#39;g&#39;]&quot;)).getText(‌​);\r\nSystem.out.print(text);`\r\n\r\nExplanation:\r\n\r\n* `.//div` - remove `.` to search the whole document, not just in currently selected context element\r\n*  remove absolute `/div[1]/..` divs reference since it&#39;s not reliable\r\n* refer to svg element as `//*[name()=&#39;svg&#39;]`\r\n* add some meaningful attribute `@aria-label=&#39;A chart.&#39;` to svg element\r\n* Elements inside svg should be handled in the same way: `//*[name()=&quot;g&quot;], //*[name()=&quot;defs&quot;]` - thanks to  **Andersson** for clarifying this.","title":"Get Text from SVG selenium java","body":"<p>This locator should work: </p>\n\n<ul>\n<li><code>String text=driver.findElement(By.xpath(\"//[@id='divClusters']//*[name()='svg' and @aria-label='A chart.']//*[name()='g']\")).getText(‌​);\nSystem.out.print(text);</code></li>\n</ul>\n\n<p>Explanation:</p>\n\n<ul>\n<li><code>.//div</code> - remove <code>.</code> to search the whole document, not just in currently selected context element</li>\n<li>remove absolute <code>/div[1]/..</code> divs reference since it's not reliable</li>\n<li>refer to svg element as <code>//*[name()='svg']</code></li>\n<li>add some meaningful attribute <code>@aria-label='A chart.'</code> to svg element</li>\n<li>Elements inside svg should be handled in the same way: <code>//*[name()=\"g\"], //*[name()=\"defs\"]</code> - thanks to  <strong>Andersson</strong> for clarifying this.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490864380,"creation_date":1490864380,"answer_id":43113096,"question_id":43111842,"body_markdown":"Try below:\r\n\r\n    driver.findElement(By.cssSelector(&quot;#divClusters svg &gt; g‌ &gt; text&quot;)).getText();","title":"Get Text from SVG selenium java","body":"<p>Try below:</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"#divClusters svg &gt; g‌ &gt; text\")).getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768846,"reputation":163,"user_id":5879156,"display_name":"Shwetank Vashishtha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555334963,"creation_date":1555334963,"answer_id":55690297,"question_id":43111842,"body_markdown":"    driver.findElement(By.xpath(&quot;//*[local-name=&#39;svg&#39;]//*[local-name=&#39;g&#39;]//*[local-name=&#39;text&#39;]&quot;)).getText();","title":"Get Text from SVG selenium java","body":"<pre><code>driver.findElement(By.xpath(\"//*[local-name='svg']//*[local-name='g']//*[local-name='text']\")).getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1748178,"reputation":11,"user_id":1597885,"display_name":"Ashish Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662042485,"creation_date":1662042485,"answer_id":73571064,"question_id":43111842,"body_markdown":"This will definitely work:\r\n1- driver.findElement(By.xpath(&quot;WriteXpathHere&quot;)).getAttribute(&quot;innerHTML&quot;));\r\n\r\nOR \r\n\r\n2- driver.findElement(By.xpath(&quot;WriteXpathHere&quot;)).getAttribute(&quot;textContent&quot;));\r\n\r\nNote: Even if there is no attribute by the name &quot;innerHTML&quot; or &quot;TextContent&quot; this will work. Just copy this and only insert the Xpath\r\n\r\nFor reference: \r\nhttps://gist.github.com/sajithatharaka/37c33008e68f1649281790a103adc60c","title":"Get Text from SVG selenium java","body":"<p>This will definitely work:\n1- driver.findElement(By.xpath(&quot;WriteXpathHere&quot;)).getAttribute(&quot;innerHTML&quot;));</p>\n<p>OR</p>\n<p>2- driver.findElement(By.xpath(&quot;WriteXpathHere&quot;)).getAttribute(&quot;textContent&quot;));</p>\n<p>Note: Even if there is no attribute by the name &quot;innerHTML&quot; or &quot;TextContent&quot; this will work. Just copy this and only insert the Xpath</p>\n<p>For reference:\n<a href=\"https://gist.github.com/sajithatharaka/37c33008e68f1649281790a103adc60c\" rel=\"nofollow noreferrer\">https://gist.github.com/sajithatharaka/37c33008e68f1649281790a103adc60c</a></p>\n"}],"owner":{"account_id":8801423,"reputation":91,"user_id":6577426,"accept_rate":67,"display_name":"niazi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3524,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":4,"score":-1,"last_activity_date":1662042485,"creation_date":1490860820,"question_id":43111842,"body_markdown":"I am uable to getText from Text tag in SVG. I am Attaching HTML\r\n\r\n\r\n    &lt;svg width=&quot;553&quot; height=&quot;200&quot; style=&quot;overflow: hidden;&quot; aria-label=&quot;A chart.&quot;&gt;\r\n         &lt;defs id=&quot;defs&quot;&gt;\r\n         &lt;rect x=&quot;0&quot; y=&quot;0&quot; width=&quot;553&quot; height=&quot;200&quot; stroke=&quot;none&quot; stroke-width=&quot;0&quot; fill=&quot;#ffffff&quot;&gt;\r\n         &lt;g&gt;\r\n             &lt;text text-anchor=&quot;start&quot; x=&quot;77&quot; y=&quot;22.85&quot; font-family=&quot;Arial&quot; font-size=&quot;11&quot; font-weight=&quot;bold&quot; stroke=&quot;none&quot; stroke-width=&quot;0&quot; fill=&quot;#000000&quot;&gt;Clustering done on Mar 30, 2017 11:13 AM&lt;/text&gt;\r\n             &lt;rect x=&quot;77&quot; y=&quot;13.5&quot; width=&quot;400&quot; height=&quot;11&quot; stroke=&quot;none&quot; stroke-width=&quot;0&quot; fill-opacity=&quot;0&quot; fill=&quot;#ffffff&quot;&gt;\r\n         &lt;/g&gt;\r\n\r\nThe get I want to get is `Clustering done on Mar 30, 2017 11:13 AM`","title":"Get Text from SVG selenium java","body":"<p>I am uable to getText from Text tag in SVG. I am Attaching HTML</p>\n\n<pre><code>&lt;svg width=\"553\" height=\"200\" style=\"overflow: hidden;\" aria-label=\"A chart.\"&gt;\n     &lt;defs id=\"defs\"&gt;\n     &lt;rect x=\"0\" y=\"0\" width=\"553\" height=\"200\" stroke=\"none\" stroke-width=\"0\" fill=\"#ffffff\"&gt;\n     &lt;g&gt;\n         &lt;text text-anchor=\"start\" x=\"77\" y=\"22.85\" font-family=\"Arial\" font-size=\"11\" font-weight=\"bold\" stroke=\"none\" stroke-width=\"0\" fill=\"#000000\"&gt;Clustering done on Mar 30, 2017 11:13 AM&lt;/text&gt;\n         &lt;rect x=\"77\" y=\"13.5\" width=\"400\" height=\"11\" stroke=\"none\" stroke-width=\"0\" fill-opacity=\"0\" fill=\"#ffffff\"&gt;\n     &lt;/g&gt;\n</code></pre>\n\n<p>The get I want to get is <code>Clustering done on Mar 30, 2017 11:13 AM</code></p>\n"},{"tags":["java","combobox","vaadin"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1662013618,"post_id":73559740,"comment_id":129908790,"body_markdown":"You need a Converter when binding it, see: https://vaadin.com/docs/latest/tools/ce/components/collaboration-binder/#converters","body":"You need a Converter when binding it, see: <a href=\"https://vaadin.com/docs/latest/tools/ce/components/collaboration-binder/#converters\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/tools/ce/components/collaboration-bin&zwnj;&#8203;der/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662031546,"creation_date":1662013487,"answer_id":73565045,"question_id":73559740,"body_markdown":"You can use the `Brand` in the `ComboBox` instead of a `String`.\r\n\r\nThen you can implement `setItemLabelGenerator` to display what you need.\r\n\r\nSee the documentation:\r\nhttps://vaadin.com/docs/latest/components/combo-box/#custom-item-presentation\r\n\r\nEdit:\r\n\r\nYou have to use a converter to bind the id of the Brand\r\n\r\n    binder.forField(brand)\r\n            .withConverter(new Converter&lt;Brand, Long&gt;() {\r\n                @Override\r\n                public Result&lt;Long&gt; convertToModel(Brand value, ValueContext context) {\r\n                    return Result.ok(value == null ? null : value.getId());\r\n                }\r\n\r\n                @Override\r\n                public Brand convertToPresentation(Long value, ValueContext context) {\r\n                    return brandMap.get(value);\r\n                }\r\n            })\r\n            .bind(Car::getBrandId, Car::setBrandId);\r\n\r\nThe brandMap contains the id of the brand with the corresponding brand. ","title":"How to bind value from combobox created from one entity to another","body":"<p>You can use the <code>Brand</code> in the <code>ComboBox</code> instead of a <code>String</code>.</p>\n<p>Then you can implement <code>setItemLabelGenerator</code> to display what you need.</p>\n<p>See the documentation:\n<a href=\"https://vaadin.com/docs/latest/components/combo-box/#custom-item-presentation\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/combo-box/#custom-item-presentation</a></p>\n<p>Edit:</p>\n<p>You have to use a converter to bind the id of the Brand</p>\n<pre><code>binder.forField(brand)\n        .withConverter(new Converter&lt;Brand, Long&gt;() {\n            @Override\n            public Result&lt;Long&gt; convertToModel(Brand value, ValueContext context) {\n                return Result.ok(value == null ? null : value.getId());\n            }\n\n            @Override\n            public Brand convertToPresentation(Long value, ValueContext context) {\n                return brandMap.get(value);\n            }\n        })\n        .bind(Car::getBrandId, Car::setBrandId);\n</code></pre>\n<p>The brandMap contains the id of the brand with the corresponding brand.</p>\n"}],"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73565045,"answer_count":1,"score":1,"last_activity_date":1662042209,"creation_date":1661966924,"question_id":73559740,"body_markdown":"I am trying to binding data from one entity to another.\r\n\r\nFirst entity `Car`:\r\n\r\n    public class Car {\r\n    \r\n    @Id\r\n    private Long carId;\r\n    private String carName;\r\n    private Long brandId;\r\n    .\r\n    .\r\n    .\r\n    \r\n    }\r\n\r\nrefers to the second entity `Brand`:\r\n\r\n    public class Brand {\r\n    \r\n    @Id\r\n    private Long brandId;\r\n    private String brandName;\r\n    .\r\n    .\r\n    .\r\n    \r\n    }\r\n\r\nIn the view class `CarDetailView` I am using **combobox** with `brand names`, but binder is seted to `Car` entity\r\n\r\n    public class CarDetailView extends Div implements BeforeEnterObserver {\r\n    \r\n       private ComboBox&lt;String&gt; brandNames;\r\n       private BeanValidationBinder&lt;Car&gt; binder;\r\n    \r\n       private void createBasicLayout(SplitLayout splitLayout) {\r\n            brandNames = new ComboBox&lt;&gt;(&quot;Brand name&quot;);\r\n            brandNames.setItems(brandRepository.findAllBrandNames()); //function returns all brandNames from database (e.g. Volkswagen, Volvo, Audi, ...)\r\n       }\r\n    \r\n    }\r\n\r\nSo it returns the correct result into the combobox (combobox contains all brand names), but when I choose value from combobox, it can&#39;t be binded into the `Car` entity. \r\n\r\nThe problem is, that I need to get the `brandId` from text in combobox and set it into the `Car` entity with `binder`.\r\n\r\nI tried to use `pairs`:\r\n\r\n    private ComboBox&lt;Pair&lt;Long, String&gt;&gt; brandNames;\r\n\r\nwhere I have seted the `brandId` (left side) and `brandName` (right side), but it still can&#39;t bind it into the `Car`, because it throw an exception:\r\n\r\n    Caused by: java.lang.IllegalStateException: Property type &#39;java.lang.Long&#39; doesn&#39;t match the field type &#39;com.vaadin.flow.internal.Pair&lt;java.lang.Long, java.lang.String&gt;&#39;. Binding should be configured manually using converter.\r\n\r\nDoes anyone have an idea how I could do this?\r\n\r\n**Working result:**\r\n\r\nI used the Simon Martinelli answer:\r\n\r\n    public class CarDetailView extends Div implements BeforeEnterObserver {\r\n    \r\n       private ComboBox&lt;Brand&gt; brand;\r\n       private BeanValidationBinder&lt;Car&gt; binder;\r\n    \r\n       private void createBasicLayout(SplitLayout splitLayout) {\r\n            binder = new BeanValidationBinder&lt;&gt;(Car.class);\r\n            binder.bindInstanceFields(this);\r\n\r\n          \r\n            brand = new ComboBox&lt;&gt;(&quot;Brand name&quot;);\r\n            brand.setItems(brandRepository.findAllBrands()); //function returns all Brands\r\n\r\n            Map&lt;Long, Brand&gt; brandMap = new HashMap&lt;&gt;()\r\n            {\r\n               {\r\n                put(2000000L, new Brand(2000000L, &quot;Audi&quot;));\r\n                put(2000001L, new Brand(2000001L, &quot;Volvo&quot;));\r\n               }\r\n            };\r\n\r\n            binder.forField(brand) //Line 251\r\n            .withConverter(new Converter&lt;Brand, Long&gt;() { \r\n                @Override  superclass\r\n                public Result&lt;Long&gt; convertToModel(Brand value, ValueContext context) {\r\n                    return Result.ok(value == null ? null : value.getBrandId());\r\n                }\r\n\r\n                @Override superclass\r\n                public Brand convertToPresentation(Long value, ValueContext context) {\r\n                    return brandMap.get(value);\r\n                }\r\n            }).bind(Car::getBrandId, Car::setBrandId);\r\n            \r\n       }\r\n\r\n       brand.setItemLabelGenerator(brand-&gt; brand.getBrandName());\r\n    \r\n    }\r\n","title":"How to bind value from combobox created from one entity to another","body":"<p>I am trying to binding data from one entity to another.</p>\n<p>First entity <code>Car</code>:</p>\n<pre><code>public class Car {\n\n@Id\nprivate Long carId;\nprivate String carName;\nprivate Long brandId;\n.\n.\n.\n\n}\n</code></pre>\n<p>refers to the second entity <code>Brand</code>:</p>\n<pre><code>public class Brand {\n\n@Id\nprivate Long brandId;\nprivate String brandName;\n.\n.\n.\n\n}\n</code></pre>\n<p>In the view class <code>CarDetailView</code> I am using <strong>combobox</strong> with <code>brand names</code>, but binder is seted to <code>Car</code> entity</p>\n<pre><code>public class CarDetailView extends Div implements BeforeEnterObserver {\n\n   private ComboBox&lt;String&gt; brandNames;\n   private BeanValidationBinder&lt;Car&gt; binder;\n\n   private void createBasicLayout(SplitLayout splitLayout) {\n        brandNames = new ComboBox&lt;&gt;(&quot;Brand name&quot;);\n        brandNames.setItems(brandRepository.findAllBrandNames()); //function returns all brandNames from database (e.g. Volkswagen, Volvo, Audi, ...)\n   }\n\n}\n</code></pre>\n<p>So it returns the correct result into the combobox (combobox contains all brand names), but when I choose value from combobox, it can't be binded into the <code>Car</code> entity.</p>\n<p>The problem is, that I need to get the <code>brandId</code> from text in combobox and set it into the <code>Car</code> entity with <code>binder</code>.</p>\n<p>I tried to use <code>pairs</code>:</p>\n<pre><code>private ComboBox&lt;Pair&lt;Long, String&gt;&gt; brandNames;\n</code></pre>\n<p>where I have seted the <code>brandId</code> (left side) and <code>brandName</code> (right side), but it still can't bind it into the <code>Car</code>, because it throw an exception:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Property type 'java.lang.Long' doesn't match the field type 'com.vaadin.flow.internal.Pair&lt;java.lang.Long, java.lang.String&gt;'. Binding should be configured manually using converter.\n</code></pre>\n<p>Does anyone have an idea how I could do this?</p>\n<p><strong>Working result:</strong></p>\n<p>I used the Simon Martinelli answer:</p>\n<pre><code>public class CarDetailView extends Div implements BeforeEnterObserver {\n\n   private ComboBox&lt;Brand&gt; brand;\n   private BeanValidationBinder&lt;Car&gt; binder;\n\n   private void createBasicLayout(SplitLayout splitLayout) {\n        binder = new BeanValidationBinder&lt;&gt;(Car.class);\n        binder.bindInstanceFields(this);\n\n      \n        brand = new ComboBox&lt;&gt;(&quot;Brand name&quot;);\n        brand.setItems(brandRepository.findAllBrands()); //function returns all Brands\n\n        Map&lt;Long, Brand&gt; brandMap = new HashMap&lt;&gt;()\n        {\n           {\n            put(2000000L, new Brand(2000000L, &quot;Audi&quot;));\n            put(2000001L, new Brand(2000001L, &quot;Volvo&quot;));\n           }\n        };\n\n        binder.forField(brand) //Line 251\n        .withConverter(new Converter&lt;Brand, Long&gt;() { \n            @Override  superclass\n            public Result&lt;Long&gt; convertToModel(Brand value, ValueContext context) {\n                return Result.ok(value == null ? null : value.getBrandId());\n            }\n\n            @Override superclass\n            public Brand convertToPresentation(Long value, ValueContext context) {\n                return brandMap.get(value);\n            }\n        }).bind(Car::getBrandId, Car::setBrandId);\n        \n   }\n\n   brand.setItemLabelGenerator(brand-&gt; brand.getBrandName());\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","autowired","postconstruct"],"comments":[{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":1,"creation_date":1662040596,"post_id":73570510,"comment_id":129918300,"body_markdown":"Does this answer your question? [How Spring Boot Autowired and Post Construct work?](https://stackoverflow.com/questions/60225433/how-spring-boot-autowired-and-post-construct-work)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60225433/how-spring-boot-autowired-and-post-construct-work\">How Spring Boot Autowired and Post Construct work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":14179266,"reputation":63,"user_id":10243490,"display_name":"Iman Ahrari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662042051,"creation_date":1662042051,"answer_id":73570941,"question_id":73570510,"body_markdown":"Actually, they don&#39;t have anything in common. @Autowired could be used to inject any dependency in your beans (components), on the other hand, @PostConstruct can be used on methods of your beans, and spring boot will call that method after that bean was created (for purposes like populating a database or calculating some initial data).\r\n\r\nYou can see how this article used these two annotations in its example codes https://www.baeldung.com/spring-postconstruct-predestroy#postConstruct","title":"@Autowired annotaded method vs @PostConstruct annotaded method","body":"<p>Actually, they don't have anything in common. @Autowired could be used to inject any dependency in your beans (components), on the other hand, @PostConstruct can be used on methods of your beans, and spring boot will call that method after that bean was created (for purposes like populating a database or calculating some initial data).</p>\n<p>You can see how this article used these two annotations in its example codes <a href=\"https://www.baeldung.com/spring-postconstruct-predestroy#postConstruct\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-postconstruct-predestroy#postConstruct</a></p>\n"}],"owner":{"account_id":13229306,"reputation":11,"user_id":9553481,"display_name":"Midovsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662042158,"creation_date":1662040276,"question_id":73570510,"body_markdown":"What is the difference between using @Autowired or @PostConstruct on a method since they offer the same result (according to what I have understood from different sources)\r\n\r\n**UPDATE:**\r\n Here is an example of my class in which I get the same result if I use @Autowired or @PostCosntruct to annotate the method configClient()\r\n\r\n\r\n    @Service\r\n    public class AwsSTSService {\r\n    \r\n      @Autowired\r\n      private AwsConfiguration awsConfiguration;\r\n    \r\n    \r\n      public CustomCredentials getCredentials()  {\r\n    \t\t......\r\n        return customCredentials;\r\n    \r\n      }\r\n    \r\n    \r\n      @Autowired // or @PostConstruct\r\n      private void configClient()  {\r\n    \r\n        CustomCredentials customCredentials = getCredentials();\r\n        awsConfiguration.setAwsAccessKey(customCredentials.getAccessKeyId());\r\n        awsConfiguration.setAwsSecretKey(customCredentials.getSecretAccessKey());\r\n        awsConfiguration.setExpiration(customCredentials.getExpiration());\r\n        awsConfiguration.setSessionToken(customCredentials.getSessionToken());\r\n      }\r\n    }\r\n\r\n","title":"@Autowired annotaded method vs @PostConstruct annotaded method","body":"<p>What is the difference between using @Autowired or @PostConstruct on a method since they offer the same result (according to what I have understood from different sources)</p>\n<p><strong>UPDATE:</strong>\nHere is an example of my class in which I get the same result if I use @Autowired or @PostCosntruct to annotate the method configClient()</p>\n<pre><code>@Service\npublic class AwsSTSService {\n\n  @Autowired\n  private AwsConfiguration awsConfiguration;\n\n\n  public CustomCredentials getCredentials()  {\n        ......\n    return customCredentials;\n\n  }\n\n\n  @Autowired // or @PostConstruct\n  private void configClient()  {\n\n    CustomCredentials customCredentials = getCredentials();\n    awsConfiguration.setAwsAccessKey(customCredentials.getAccessKeyId());\n    awsConfiguration.setAwsSecretKey(customCredentials.getSecretAccessKey());\n    awsConfiguration.setExpiration(customCredentials.getExpiration());\n    awsConfiguration.setSessionToken(customCredentials.getSessionToken());\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","cloud","activiti","bpmn"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659546495,"post_id":73091755,"comment_id":129321875,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4978798,"reputation":1154,"user_id":4004405,"display_name":"DB.Null"},"score":0,"creation_date":1662041995,"post_id":73091755,"comment_id":129918904,"body_markdown":"Actually it exists. Check the artifact org.activiti:activiti-bpmn-layout:7.3.0","body":"Actually it exists. Check the artifact org.activiti:activiti-bpmn-layout:7.3.0"},{"owner":{"account_id":19300723,"reputation":171,"user_id":14108683,"display_name":"max_b"},"score":0,"creation_date":1692721080,"post_id":73091755,"comment_id":135661772,"body_markdown":"add dependecy in your project   :                                                            \n                     &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.activiti&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;activiti-bpmn-layout&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;7.11.0&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"add dependecy in your project   :                                                                                  &lt;dependency&gt; \t\t\t&lt;groupId&gt;org.activiti&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;activiti-bpmn-layout&lt;/artifactId&gt; \t\t\t&lt;version&gt;7.11.0&lt;/version&gt; \t\t&lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":4978798,"reputation":1154,"user_id":4004405,"display_name":"DB.Null"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662042083,"creation_date":1662042083,"answer_id":73570955,"question_id":73091755,"body_markdown":"Actually it exists. Check the artifact org.activiti:activiti-bpmn-layout:7.3.0 \r\n\r\nThe moved classes around to different artifacts in newer versions of Activiti","title":"Analog BpmnAutoLayout in activiti 7","body":"<p>Actually it exists. Check the artifact org.activiti:activiti-bpmn-layout:7.3.0</p>\n<p>The moved classes around to different artifacts in newer versions of Activiti</p>\n"}],"owner":{"account_id":18836122,"reputation":1,"user_id":13900075,"display_name":"Artem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662042083,"creation_date":1658588435,"question_id":73091755,"body_markdown":"Activiti 5 has a class `BpmnAutoLayout` from the package `org.activiti.bpmn`. I am rewriting the project on Activiti 7 and faced the problem that they decided to remove this class from the new version of Activiti (core and cloud). \r\n\r\nIs there any alternative?","title":"Analog BpmnAutoLayout in activiti 7","body":"<p>Activiti 5 has a class <code>BpmnAutoLayout</code> from the package <code>org.activiti.bpmn</code>. I am rewriting the project on Activiti 7 and faced the problem that they decided to remove this class from the new version of Activiti (core and cloud).</p>\n<p>Is there any alternative?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":7246202,"reputation":131,"user_id":5528014,"display_name":"Giuseppe Marra"},"score":0,"creation_date":1455642107,"post_id":35438323,"comment_id":58575142,"body_markdown":"Try mapping json to Java object with tools like gson or Jackson. The see http://stackoverflow.com/questions/21678430/group-a-list-of-objects-by-an-attribute-java to know how to group objects by attribute in java.","body":"Try mapping json to Java object with tools like gson or Jackson. The see <a href=\"http://stackoverflow.com/questions/21678430/group-a-list-of-objects-by-an-attribute-java\" title=\"group a list of objects by an attribute java\">stackoverflow.com/questions/21678430/&hellip;</a> to know how to group objects by attribute in java."}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662041696,"creation_date":1662041696,"answer_id":73570865,"question_id":35438323,"body_markdown":"https://github.com/octomix/josson  \r\n\r\n        Josson josson = Josson.fromJsonString(\r\n            &quot;[{&quot; +\r\n            &quot;    \\&quot;name\\&quot;: \\&quot;Team Wolf\\&quot;,&quot; +\r\n            &quot;    \\&quot;www\\&quot;: \\&quot;http://www.teamwolf.qqq\\&quot;,&quot; +\r\n            &quot;    \\&quot;department\\&quot;: \\&quot;department1\\&quot;,&quot; +\r\n            &quot;    \\&quot;team1\\&quot;: \\&quot;team1\\&quot;&quot; +\r\n            &quot;  },&quot; +\r\n            &quot;  {&quot; +\r\n            &quot;    \\&quot;name\\&quot;: \\&quot;Team Fox\\&quot;,&quot; +\r\n            &quot;    \\&quot;www\\&quot;: \\&quot;http://www.teamfox.qqq\\&quot;,&quot; +\r\n            &quot;    \\&quot;department\\&quot;: \\&quot;department1\\&quot;,&quot; +\r\n            &quot;    \\&quot;team2\\&quot;: \\&quot;team2\\&quot;&quot; +\r\n            &quot;  },&quot; +\r\n            &quot; {&quot; +\r\n            &quot;    \\&quot;name\\&quot;: \\&quot;Team Falcon\\&quot;,&quot; +\r\n            &quot;    \\&quot;www\\&quot;: \\&quot;http://www.teamfalcon.qqq\\&quot;,&quot; +\r\n            &quot;    \\&quot;department\\&quot;: \\&quot;department1\\&quot;,&quot; +\r\n            &quot;    \\&quot;team3\\&quot;: \\&quot;team3\\&quot;&quot; +\r\n            &quot;  }]&quot;);\r\n        JsonNode node = josson.getNode(\r\n            &quot;group(department).map(&quot; +\r\n            &quot;    department:: elements.map(&quot; +\r\n            &quot;        ~&#39;^team.*&#39;:: map(&quot; +\r\n            &quot;            name, www&quot; +\r\n            &quot;        )&quot; +\r\n            &quot;    )&quot; +\r\n            &quot;    .mergeObjects()&quot; +\r\n            &quot;)&quot;);\r\n        System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    [ {\r\n      &quot;department1&quot; : {\r\n        &quot;team1&quot; : {\r\n          &quot;name&quot; : &quot;Team Wolf&quot;,\r\n          &quot;www&quot; : &quot;http://www.teamwolf.qqq&quot;\r\n        },\r\n        &quot;team2&quot; : {\r\n          &quot;name&quot; : &quot;Team Fox&quot;,\r\n          &quot;www&quot; : &quot;http://www.teamfox.qqq&quot;\r\n        },\r\n        &quot;team3&quot; : {\r\n          &quot;name&quot; : &quot;Team Falcon&quot;,\r\n          &quot;www&quot; : &quot;http://www.teamfalcon.qqq&quot;\r\n        }\r\n      }\r\n    } ]","title":"How transform a json in another json usin java","body":"<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>    Josson josson = Josson.fromJsonString(\n        &quot;[{&quot; +\n        &quot;    \\&quot;name\\&quot;: \\&quot;Team Wolf\\&quot;,&quot; +\n        &quot;    \\&quot;www\\&quot;: \\&quot;http://www.teamwolf.qqq\\&quot;,&quot; +\n        &quot;    \\&quot;department\\&quot;: \\&quot;department1\\&quot;,&quot; +\n        &quot;    \\&quot;team1\\&quot;: \\&quot;team1\\&quot;&quot; +\n        &quot;  },&quot; +\n        &quot;  {&quot; +\n        &quot;    \\&quot;name\\&quot;: \\&quot;Team Fox\\&quot;,&quot; +\n        &quot;    \\&quot;www\\&quot;: \\&quot;http://www.teamfox.qqq\\&quot;,&quot; +\n        &quot;    \\&quot;department\\&quot;: \\&quot;department1\\&quot;,&quot; +\n        &quot;    \\&quot;team2\\&quot;: \\&quot;team2\\&quot;&quot; +\n        &quot;  },&quot; +\n        &quot; {&quot; +\n        &quot;    \\&quot;name\\&quot;: \\&quot;Team Falcon\\&quot;,&quot; +\n        &quot;    \\&quot;www\\&quot;: \\&quot;http://www.teamfalcon.qqq\\&quot;,&quot; +\n        &quot;    \\&quot;department\\&quot;: \\&quot;department1\\&quot;,&quot; +\n        &quot;    \\&quot;team3\\&quot;: \\&quot;team3\\&quot;&quot; +\n        &quot;  }]&quot;);\n    JsonNode node = josson.getNode(\n        &quot;group(department).map(&quot; +\n        &quot;    department:: elements.map(&quot; +\n        &quot;        ~'^team.*':: map(&quot; +\n        &quot;            name, www&quot; +\n        &quot;        )&quot; +\n        &quot;    )&quot; +\n        &quot;    .mergeObjects()&quot; +\n        &quot;)&quot;);\n    System.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ {\n  &quot;department1&quot; : {\n    &quot;team1&quot; : {\n      &quot;name&quot; : &quot;Team Wolf&quot;,\n      &quot;www&quot; : &quot;http://www.teamwolf.qqq&quot;\n    },\n    &quot;team2&quot; : {\n      &quot;name&quot; : &quot;Team Fox&quot;,\n      &quot;www&quot; : &quot;http://www.teamfox.qqq&quot;\n    },\n    &quot;team3&quot; : {\n      &quot;name&quot; : &quot;Team Falcon&quot;,\n      &quot;www&quot; : &quot;http://www.teamfalcon.qqq&quot;\n    }\n  }\n} ]\n</code></pre>\n"}],"owner":{"account_id":7268028,"reputation":55,"user_id":5542056,"accept_rate":50,"display_name":"user5542056"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662041696,"creation_date":1455641397,"question_id":35438323,"body_markdown":"I have a json like this: \r\n\r\n    {\r\n        &quot;name&quot;: &quot;Team Wolf&quot;,\r\n        &quot;www&quot;: &quot;http://www.teamwolf.qqq&quot;,\r\n        &quot;department&quot;: &quot;department1&quot;,\r\n        &quot;team1&quot;: &quot;team1&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;Team Fox&quot;,\r\n        &quot;www&quot;: &quot;http://www.teamfox.qqq&quot;,\r\n        &quot;department&quot;: &quot;department1&quot;,\r\n        &quot;team2&quot;: &quot;team2&quot;\r\n      },\r\n     {\r\n        &quot;name&quot;: &quot;Team Falcon&quot;,\r\n        &quot;www&quot;: &quot;http://www.teamfalcon.qqq&quot;,\r\n        &quot;department&quot;: &quot;department1&quot;,\r\n        &quot;team3&quot;: &quot;team3&quot;\r\n      }\r\n\r\nAnd I need to transform it in a json structured like this: \r\n\r\n    &#39;department1&#39;: {\r\n                &#39;team1&#39;: {\r\n                  &#39;name&#39;:&#39;Team Wolf&#39;,\r\n                  &#39;www&#39;: &#39;http://www.teamwolf.qqq&#39;\r\n                },\r\n                &#39;team2&#39;: {\r\n                  &#39;name&#39;:&#39;Team Fox&#39;,\r\n                  &#39;www&#39;: &#39;http://www.teamfox.qqq&#39;\r\n                },\r\n                &#39;team3&#39;: {\r\n                  &#39;label&#39;:&#39;Team Falcon&#39;,\r\n                  &#39;www&#39;: &#39;http://www.teamfalcon.qqq&#39;\r\n                }\r\n\r\nIn simple terms, I need to group the data by &#39;department1&#39;.\r\nAny suggestions would be much appreciated.","title":"How transform a json in another json usin java","body":"<p>I have a json like this: </p>\n\n<pre><code>{\n    \"name\": \"Team Wolf\",\n    \"www\": \"http://www.teamwolf.qqq\",\n    \"department\": \"department1\",\n    \"team1\": \"team1\"\n  },\n  {\n    \"name\": \"Team Fox\",\n    \"www\": \"http://www.teamfox.qqq\",\n    \"department\": \"department1\",\n    \"team2\": \"team2\"\n  },\n {\n    \"name\": \"Team Falcon\",\n    \"www\": \"http://www.teamfalcon.qqq\",\n    \"department\": \"department1\",\n    \"team3\": \"team3\"\n  }\n</code></pre>\n\n<p>And I need to transform it in a json structured like this: </p>\n\n<pre><code>'department1': {\n            'team1': {\n              'name':'Team Wolf',\n              'www': 'http://www.teamwolf.qqq'\n            },\n            'team2': {\n              'name':'Team Fox',\n              'www': 'http://www.teamfox.qqq'\n            },\n            'team3': {\n              'label':'Team Falcon',\n              'www': 'http://www.teamfalcon.qqq'\n            }\n</code></pre>\n\n<p>In simple terms, I need to group the data by 'department1'.\nAny suggestions would be much appreciated.</p>\n"},{"tags":["java","classnotfoundexception","noclassdeffounderror","soapexception"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1662039381,"post_id":73570166,"comment_id":129917737,"body_markdown":"IMO A google (eventbus?) forum would be the best place to try to get answers on this","body":"IMO A google (eventbus?) forum would be the best place to try to get answers on this"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1662040904,"post_id":73570166,"comment_id":129918433,"body_markdown":"The error as shown is not produced by jre 1.8_341, but by a Java 9 or higher version. And Java doesn&#39;t contain a `javax.xml.soap.SOAPException` since Java 9. You need to make sure you have the appropriate library on your classpath. You also need to make sure you&#39;re using Tomcat 9 or lower, and not Tomcat 10 (otherwise you need to use `jakarta.xml.soap.SOAPException`).","body":"The error as shown is not produced by jre 1.8_341, but by a Java 9 or higher version. And Java doesn&#39;t contain a <code>javax.xml.soap.SOAPException</code> since Java 9. You need to make sure you have the appropriate library on your classpath. You also need to make sure you&#39;re using Tomcat 9 or lower, and not Tomcat 10 (otherwise you need to use <code>jakarta.xml.soap.SOAPException</code>)."},{"owner":{"account_id":26019398,"reputation":19,"user_id":19727296,"display_name":"Abikrish"},"score":0,"creation_date":1662041546,"post_id":73570166,"comment_id":129918706,"body_markdown":"Thanks for all your inputs. Adding `javax.xml.soap-api` solved the error for me!!.","body":"Thanks for all your inputs. Adding <code>javax.xml.soap-api</code> solved the error for me!!."}],"answers":[{"tags":[],"owner":{"account_id":19896419,"reputation":66,"user_id":14577421,"display_name":"Maxime Pillier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662040297,"creation_date":1662040297,"answer_id":73570516,"question_id":73570166,"body_markdown":"I think the package of SoapException has been moved in your new JDK version.\r\nHave you tried running your application adding the new module (java.xml.ws) ?\r\nLike this : \r\n\r\n    java --add-modules java.xml.ws -jar my.jar","title":"java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException","body":"<p>I think the package of SoapException has been moved in your new JDK version.\nHave you tried running your application adding the new module (java.xml.ws) ?\nLike this :</p>\n<pre><code>java --add-modules java.xml.ws -jar my.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26019398,"reputation":19,"user_id":19727296,"display_name":"Abikrish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662041482,"creation_date":1662041482,"answer_id":73570813,"question_id":73570166,"body_markdown":"\r\nAdding the following in pom file solved the issue\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI got this solution from https://stackoverflow.com/questions/48626824/java-lang-noclassdeffounderror-javax-xml-soap-soapexception/53976056#53976056\r\n\r\n","title":"java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException","body":"<p>Adding the following in pom file solved the issue</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I got this solution from <a href=\"https://stackoverflow.com/questions/48626824/java-lang-noclassdeffounderror-javax-xml-soap-soapexception/53976056#53976056\">java.lang.NoClassDefFoundError : javax/xml/soap/SOAPException</a></p>\n"}],"owner":{"account_id":26019398,"reputation":19,"user_id":19727296,"display_name":"Abikrish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2963,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662043339,"accepted_answer_id":73570813,"answer_count":2,"score":0,"last_activity_date":1662041482,"creation_date":1662038824,"question_id":73570166,"body_markdown":"My system got a Java update recently from jre 1.8_331 to jre 1.8_341 and from then on, I face troubles with my workspace. This is the exception I get when I try to run my application. \r\n```\r\n    SEVERE: \r\njava.lang.NoClassDefFoundError: javax/xml/soap/SOAPException\r\n\tat org.apache.axis.configuration.FileProvider.configureEngine(FileProvider.java:179)\r\n\tat org.apache.axis.AxisEngine.init(AxisEngine.java:172)\r\n\tat org.apache.axis.AxisEngine.&lt;init&gt;(AxisEngine.java:156)\r\n\tat org.apache.axis.client.AxisClient.&lt;init&gt;(AxisClient.java:52)\r\n\tat org.apache.axis.client.Service.getAxisClient(Service.java:104)\r\n\tat org.apache.axis.client.Service.&lt;init&gt;(Service.java:113)\r\n\t......\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\r\n\tat com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\r\n\tat com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\r\n\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\r\n\tat com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\r\n\tat com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\r\n\tat com.google.common.eventbus.EventBus.post(EventBus.java:217)\r\n\tat com.abb.se.ppc.client.ClientSessionControl.createNewModel(ClientSessionControl.java:336)\r\n\tat com.abb.se.ppc.client.ui.dialog_windows.ModelCreationWindow$2.buttonClick(ModelCreationWindow.java:121)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.vaadin.event.ListenerMethod.receiveEvent(ListenerMethod.java:510)\r\n\tat com.vaadin.event.EventRouter.fireEvent(EventRouter.java:200)\r\n\tat com.vaadin.event.EventRouter.fireEvent(EventRouter.java:163)\r\n\tat com.vaadin.server.AbstractClientConnector.fireEvent(AbstractClientConnector.java:1015)\r\n\tat com.vaadin.ui.Button.fireClick(Button.java:377)\r\n\tat com.vaadin.ui.Button$1.click(Button.java:54)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.vaadin.server.ServerRpcManager.applyInvocation(ServerRpcManager.java:158)\r\n\tat com.vaadin.server.ServerRpcManager.applyInvocation(ServerRpcManager.java:119)\r\n\tat com.vaadin.server.communication.ServerRpcHandler.handleInvocation(ServerRpcHandler.java:432)\r\n\tat com.vaadin.server.communication.ServerRpcHandler.handleInvocations(ServerRpcHandler.java:404)\r\n\tat com.vaadin.server.communication.ServerRpcHandler.handleRpc(ServerRpcHandler.java:273)\r\n\tat com.vaadin.server.communication.UidlRequestHandler.synchronizedHandleRequest(UidlRequestHandler.java:90)\r\n\tat com.vaadin.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:41)\r\n\tat com.vaadin.server.VaadinService.handleRequest(VaadinService.java:1422)\r\n\tat com.vaadin.server.VaadinServlet.service(VaadinServlet.java:379)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.soap.SOAPException\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\r\n\t... 77 more\r\n```\r\n\r\nI googled for some solutions, added axis jars to my classpath, also changed the Compiler compliance level to 1.8 from 16. Nothing worked. \r\n\r\nI&#39;m using jre1.8_341 and JDK 14.0.2. \r\n\r\nPlease help me what I can try further. \r\n","title":"java.lang.NoClassDefFoundError: javax/xml/soap/SOAPException","body":"<p>My system got a Java update recently from jre 1.8_331 to jre 1.8_341 and from then on, I face troubles with my workspace. This is the exception I get when I try to run my application.</p>\n<pre><code>    SEVERE: \njava.lang.NoClassDefFoundError: javax/xml/soap/SOAPException\n    at org.apache.axis.configuration.FileProvider.configureEngine(FileProvider.java:179)\n    at org.apache.axis.AxisEngine.init(AxisEngine.java:172)\n    at org.apache.axis.AxisEngine.&lt;init&gt;(AxisEngine.java:156)\n    at org.apache.axis.client.AxisClient.&lt;init&gt;(AxisClient.java:52)\n    at org.apache.axis.client.Service.getAxisClient(Service.java:104)\n    at org.apache.axis.client.Service.&lt;init&gt;(Service.java:113)\n    ......\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\n    at com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\n    at com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\n    at com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\n    at com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\n    at com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\n    at com.google.common.eventbus.EventBus.post(EventBus.java:217)\n    at com.abb.se.ppc.client.ClientSessionControl.createNewModel(ClientSessionControl.java:336)\n    at com.abb.se.ppc.client.ui.dialog_windows.ModelCreationWindow$2.buttonClick(ModelCreationWindow.java:121)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.vaadin.event.ListenerMethod.receiveEvent(ListenerMethod.java:510)\n    at com.vaadin.event.EventRouter.fireEvent(EventRouter.java:200)\n    at com.vaadin.event.EventRouter.fireEvent(EventRouter.java:163)\n    at com.vaadin.server.AbstractClientConnector.fireEvent(AbstractClientConnector.java:1015)\n    at com.vaadin.ui.Button.fireClick(Button.java:377)\n    at com.vaadin.ui.Button$1.click(Button.java:54)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.vaadin.server.ServerRpcManager.applyInvocation(ServerRpcManager.java:158)\n    at com.vaadin.server.ServerRpcManager.applyInvocation(ServerRpcManager.java:119)\n    at com.vaadin.server.communication.ServerRpcHandler.handleInvocation(ServerRpcHandler.java:432)\n    at com.vaadin.server.communication.ServerRpcHandler.handleInvocations(ServerRpcHandler.java:404)\n    at com.vaadin.server.communication.ServerRpcHandler.handleRpc(ServerRpcHandler.java:273)\n    at com.vaadin.server.communication.UidlRequestHandler.synchronizedHandleRequest(UidlRequestHandler.java:90)\n    at com.vaadin.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:41)\n    at com.vaadin.server.VaadinService.handleRequest(VaadinService.java:1422)\n    at com.vaadin.server.VaadinServlet.service(VaadinServlet.java:379)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ClassNotFoundException: javax.xml.soap.SOAPException\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\n    ... 77 more\n</code></pre>\n<p>I googled for some solutions, added axis jars to my classpath, also changed the Compiler compliance level to 1.8 from 16. Nothing worked.</p>\n<p>I'm using jre1.8_341 and JDK 14.0.2.</p>\n<p>Please help me what I can try further.</p>\n"},{"tags":["java","collections","hashmap","java-stream"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1661996692,"post_id":73562704,"comment_id":129906172,"body_markdown":"Where does `368188` come from? And why do you have a map like that?  They are cumbersome to uae.","body":"Where does <code>368188</code> come from? And why do you have a map like that?  They are cumbersome to uae."},{"owner":{"account_id":25258808,"reputation":47,"user_id":19090002,"display_name":"coding2"},"score":0,"creation_date":1662040987,"post_id":73562704,"comment_id":129918471,"body_markdown":"Mistake, check the edit","body":"Mistake, check the edit"}],"answers":[{"tags":[],"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661991676,"creation_date":1661991676,"answer_id":73563130,"question_id":73562704,"body_markdown":"    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;a&quot;, List.of(&quot;a1&quot;, &quot;a2&quot;));\r\n    map.put(&quot;b&quot;, &quot;b1&quot;);\r\n\r\n    List&lt;String&gt; list =\r\n        (List&lt;String&gt;)\r\n            map\r\n                .values()                        // Collection&lt;Object&gt;\r\n                .stream()                        // Stream&lt;Object&gt;\r\n                .flatMap(\r\n                    o -&gt; {\r\n                      if (o instanceof List) {\r\n                        return ((List) o).stream();\r\n                      } else {\r\n                        return Stream.of(o);\r\n                      }\r\n                    })                           // Stream&lt;Object&gt;\r\n                .collect(Collectors.toList());   // Object\r\n\r\n    System.out.println(list);                    // [a1, a2, b1]\r\n\r\nYou have a weird situation here. You have a `Stream` of objects which can have `Stream`s or `primitive` types -- which is not a good design, imo.\r\n\r\nThe goal can still be achieved with `.flatMap()`. You&#39;ll need to cast the `.collect()` because the `Stream` interface relies on generic typing, and you erased all it&#39;s benefits by starting a `Stream&lt;Object&gt;` so the return type of your stream pipeline is `Object` when its source is a raw type.\r\n\r\n------\r\n\r\nOne liner for `.flatMap()`:\r\n\r\n    .flatMap(o -&gt; o instanceof List ? ((List) o).stream() : Stream.of(o))","title":"Nested map to list of string","body":"<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;a&quot;, List.of(&quot;a1&quot;, &quot;a2&quot;));\nmap.put(&quot;b&quot;, &quot;b1&quot;);\n\nList&lt;String&gt; list =\n    (List&lt;String&gt;)\n        map\n            .values()                        // Collection&lt;Object&gt;\n            .stream()                        // Stream&lt;Object&gt;\n            .flatMap(\n                o -&gt; {\n                  if (o instanceof List) {\n                    return ((List) o).stream();\n                  } else {\n                    return Stream.of(o);\n                  }\n                })                           // Stream&lt;Object&gt;\n            .collect(Collectors.toList());   // Object\n\nSystem.out.println(list);                    // [a1, a2, b1]\n</code></pre>\n<p>You have a weird situation here. You have a <code>Stream</code> of objects which can have <code>Stream</code>s or <code>primitive</code> types -- which is not a good design, imo.</p>\n<p>The goal can still be achieved with <code>.flatMap()</code>. You'll need to cast the <code>.collect()</code> because the <code>Stream</code> interface relies on generic typing, and you erased all it's benefits by starting a <code>Stream&lt;Object&gt;</code> so the return type of your stream pipeline is <code>Object</code> when its source is a raw type.</p>\n<hr />\n<p>One liner for <code>.flatMap()</code>:</p>\n<pre><code>.flatMap(o -&gt; o instanceof List ? ((List) o).stream() : Stream.of(o))\n</code></pre>\n"}],"owner":{"account_id":25258808,"reputation":47,"user_id":19090002,"display_name":"coding2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1662040970,"creation_date":1661986697,"question_id":73562704,"body_markdown":"I have a map with this structure\r\n\r\n    Map&lt;String, Object&gt; data\r\n\r\n        &quot;data&quot;: {\r\n           &quot;contacts&quot;: [\r\n            &quot;20228&quot;,\r\n            &quot;20118&quot;\r\n            ],\r\n      &quot;phone&quot;: &quot;555555&quot;\r\n    }\r\n\r\n   \r\nI would like to know how can I get a list from this data map, something like:\r\n\r\n    List&lt;String&gt; expectedOutput = [&quot;20228&quot;, &quot;20118&quot;, &quot;555555&quot;]\r\n\r\nI tried with this\r\n\r\n    var list = data.values().stream().collect(Collectors.toList());\r\n\r\nBut I am getting a List&lt;Object&gt; with the nested list of contacts and this not what I am expecting to have.","title":"Nested map to list of string","body":"<p>I have a map with this structure</p>\n<pre><code>Map&lt;String, Object&gt; data\n\n    &quot;data&quot;: {\n       &quot;contacts&quot;: [\n        &quot;20228&quot;,\n        &quot;20118&quot;\n        ],\n  &quot;phone&quot;: &quot;555555&quot;\n}\n</code></pre>\n<p>I would like to know how can I get a list from this data map, something like:</p>\n<pre><code>List&lt;String&gt; expectedOutput = [&quot;20228&quot;, &quot;20118&quot;, &quot;555555&quot;]\n</code></pre>\n<p>I tried with this</p>\n<pre><code>var list = data.values().stream().collect(Collectors.toList());\n</code></pre>\n<p>But I am getting a List with the nested list of contacts and this not what I am expecting to have.</p>\n"},{"tags":["java","android","android-gradle-plugin","android-studio-3.0"],"comments":[{"owner":{"account_id":9603400,"reputation":9068,"user_id":7130121,"accept_rate":63,"display_name":"Abhishek Singh"},"score":0,"creation_date":1512379703,"post_id":47630015,"comment_id":82217951,"body_markdown":"replace `compile` with `implementation` , `androidTestCompile` with `androidTestImplementation` and `testCompile` with `testImplementation` and add `multiDexEnabled true` in `defaultConfig`","body":"replace <code>compile</code> with <code>implementation</code> , <code>androidTestCompile</code> with <code>androidTestImplementation</code> and <code>testCompile</code> with <code>testImplementation</code> and add <code>multiDexEnabled true</code> in <code>defaultConfig</code>"},{"owner":{"account_id":8413313,"reputation":3388,"user_id":6314513,"display_name":"Gowtham Subramaniam"},"score":0,"creation_date":1512380007,"post_id":47630015,"comment_id":82218125,"body_markdown":"clean and Rebuild project. In my case it works fine.","body":"clean and Rebuild project. In my case it works fine."},{"owner":{"account_id":8993818,"reputation":591,"user_id":6704917,"accept_rate":75,"display_name":"IldiX"},"score":0,"creation_date":1512381214,"post_id":47630015,"comment_id":82218907,"body_markdown":"@Ahishek no, it doesn&#39;t work","body":"@Ahishek no, it doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"display_name":"user6870367"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512379653,"creation_date":1512379653,"answer_id":47630117,"question_id":47630015,"body_markdown":"Try adding multidexEnabled to your app-level build.gradle,  as follows : \r\n\r\n     defaultConfig {\r\n        multiDexEnabled true\r\n     }","title":"&#39;More than one file was found with OS independent path project.properties&#39; Error in android","body":"<p>Try adding multidexEnabled to your app-level build.gradle,  as follows : </p>\n\n<pre><code> defaultConfig {\n    multiDexEnabled true\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8993818,"reputation":591,"user_id":6704917,"accept_rate":75,"display_name":"IldiX"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1512465931,"creation_date":1512465931,"answer_id":47650073,"question_id":47630015,"body_markdown":"Adding the following lines solved my problem: \r\n\r\n    packagingOptions {\r\n    \r\n            exclude &#39;project.properties&#39;\r\n            exclude &#39;META-INF/INDEX.LIST&#39;\r\n        }","title":"&#39;More than one file was found with OS independent path project.properties&#39; Error in android","body":"<p>Adding the following lines solved my problem: </p>\n\n<pre><code>packagingOptions {\n\n        exclude 'project.properties'\n        exclude 'META-INF/INDEX.LIST'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4239064,"reputation":10026,"user_id":3469489,"accept_rate":43,"display_name":"Shaaban Ebrahim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1662040567,"creation_date":1513757099,"answer_id":47901365,"question_id":47630015,"body_markdown":" You can add this in yourProject/app/build.gradle inside android{}\r\n\r\n    packagingOptions {\r\n\r\n        exclude &#39;project.properties&#39;\r\n        exclude &#39;META-INF/INDEX.LIST&#39;\r\n\r\n          exclude &#39;META-INF/DEPENDENCIES&#39;\r\n          exclude &#39;META-INF/LICENSE&#39;\r\n          exclude &#39;META-INF/LICENSE.txt&#39;\r\n          exclude &#39;META-INF/license.txt&#39;\r\n          exclude &#39;META-INF/NOTICE&#39;\r\n          exclude &#39;META-INF/NOTICE.txt&#39;\r\n          exclude &#39;META-INF/notice.txt&#39;\r\n          exclude &#39;META-INF/ASL2.0&#39;\r\n    }\r\n\r\n","title":"&#39;More than one file was found with OS independent path project.properties&#39; Error in android","body":"<p>You can add this in yourProject/app/build.gradle inside android{}</p>\n<pre><code>packagingOptions {\n\n    exclude 'project.properties'\n    exclude 'META-INF/INDEX.LIST'\n\n      exclude 'META-INF/DEPENDENCIES'\n      exclude 'META-INF/LICENSE'\n      exclude 'META-INF/LICENSE.txt'\n      exclude 'META-INF/license.txt'\n      exclude 'META-INF/NOTICE'\n      exclude 'META-INF/NOTICE.txt'\n      exclude 'META-INF/notice.txt'\n      exclude 'META-INF/ASL2.0'\n}\n</code></pre>\n"}],"owner":{"account_id":8993818,"reputation":591,"user_id":6704917,"accept_rate":75,"display_name":"IldiX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29489,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":47650073,"answer_count":3,"score":8,"last_activity_date":1662040567,"creation_date":1512379299,"question_id":47630015,"body_markdown":"I&#39;m getting this error after I added google translate api on my project. I am using Android Studio 3.0, Gradle 3.0.0. \r\n\r\n \r\n\r\n     Error:Execution failed for task &#39;:app:transformResourcesWithMergeJavaResForDebug&#39;.\r\n     More than one file was found with OS independent path &#39;project.properties&#39;\r\n\r\nI have tried the solution presented [here][1] and [here][2], but with no success.\r\nAlso I tried downgrading gradle to version 2.3 but that didn&#39;t solve the problem either.\r\n\r\nMy build.gradle file : \r\n    \r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &#39;26.0.2&#39;\r\n        defaultConfig {\r\n            applicationId &quot;com.aim.fjalortest&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 25\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    \r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n        packagingOptions {\r\n            exclude &#39;META-INF/project.properties&#39;\r\n            exclude &#39;META-INF/DEPENDENCIES&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/license.txt&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/notice.txt&#39;\r\n            exclude &#39;META-INF/ASL2.0&#39;\r\n        }\r\n    \r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n\r\n        compile &#39;com.android.support:appcompat-v7:25.3.1&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n    \r\n        compile &#39;com.readystatesoftware.sqliteasset:sqliteassethelper:+&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:25.4.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-vision:9.0.0+&#39;\r\n        compile &#39;com.android.support:design:25.4.0&#39;\r\n        compile &#39;com.google.cloud:google-cloud-translate:1.12.0&#39;\r\n        //annotationProcessor &#39;com.google.cloud:google-cloud-translate:1.12.0&#39;\r\n    \r\n        //jackson\r\n        compile &#39;com.fasterxml.jackson.core:jackson-databind:2.8.5&#39;\r\n        compile &#39;com.fasterxml.jackson.core:jackson-core:2.8.5&#39;\r\n        compile &#39;com.fasterxml.jackson.core:jackson-annotations:2.8.5&#39;\r\n    \r\n    }\r\n\r\n\r\nCan anyone help me figuring out what&#39;s causing this error?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46431090/how-to-fix-more-than-one-file-was-found-with-os-independent-path-project-prope\r\n  [2]: https://stackoverflow.com/questions/44342455/more-than-one-file-was-found-with-os-independent-path-meta-inf-license\r\n","title":"&#39;More than one file was found with OS independent path project.properties&#39; Error in android","body":"<p>I'm getting this error after I added google translate api on my project. I am using Android Studio 3.0, Gradle 3.0.0. </p>\n\n<pre><code> Error:Execution failed for task ':app:transformResourcesWithMergeJavaResForDebug'.\n More than one file was found with OS independent path 'project.properties'\n</code></pre>\n\n<p>I have tried the solution presented <a href=\"https://stackoverflow.com/questions/46431090/how-to-fix-more-than-one-file-was-found-with-os-independent-path-project-prope\">here</a> and <a href=\"https://stackoverflow.com/questions/44342455/more-than-one-file-was-found-with-os-independent-path-meta-inf-license\">here</a>, but with no success.\nAlso I tried downgrading gradle to version 2.3 but that didn't solve the problem either.</p>\n\n<p>My build.gradle file : </p>\n\n<pre><code>android {\n    compileSdkVersion 25\n    buildToolsVersion '26.0.2'\n    defaultConfig {\n        applicationId \"com.aim.fjalortest\"\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    packagingOptions {\n        exclude 'META-INF/project.properties'\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/ASL2.0'\n    }\n\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    testCompile 'junit:junit:4.12'\n\n    compile 'com.readystatesoftware.sqliteasset:sqliteassethelper:+'\n    compile 'com.android.support:recyclerview-v7:25.4.0'\n    compile 'com.google.android.gms:play-services-vision:9.0.0+'\n    compile 'com.android.support:design:25.4.0'\n    compile 'com.google.cloud:google-cloud-translate:1.12.0'\n    //annotationProcessor 'com.google.cloud:google-cloud-translate:1.12.0'\n\n    //jackson\n    compile 'com.fasterxml.jackson.core:jackson-databind:2.8.5'\n    compile 'com.fasterxml.jackson.core:jackson-core:2.8.5'\n    compile 'com.fasterxml.jackson.core:jackson-annotations:2.8.5'\n\n}\n</code></pre>\n\n<p>Can anyone help me figuring out what's causing this error?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":12712205,"reputation":1604,"user_id":9235482,"display_name":"Lakshitha Wisumperuma"},"score":0,"creation_date":1589981442,"post_id":61914270,"comment_id":109508052,"body_markdown":"using  IntelliJ or Android Studio?","body":"using  IntelliJ or Android Studio?"},{"owner":{"display_name":"user13582267"},"score":0,"creation_date":1589981525,"post_id":61914270,"comment_id":109508111,"body_markdown":"@ShehanWisumperuma android studio","body":"@ShehanWisumperuma android studio"},{"owner":{"display_name":"user13582267"},"score":0,"creation_date":1589981560,"post_id":61914270,"comment_id":109508127,"body_markdown":"@Tenfour04 there&#39;s too many for me to add them here :( You can try running it on Android Studio though. thanks","body":"@Tenfour04 there&#39;s too many for me to add them here :( You can try running it on Android Studio though. thanks"},{"owner":{"account_id":1930371,"reputation":24891,"user_id":1739882,"accept_rate":71,"display_name":"Chintan Soni"},"score":0,"creation_date":1589981688,"post_id":61914270,"comment_id":109508229,"body_markdown":"I don&#39;t think you can convert code from Java to kotlin if it has errors in it.","body":"I don&#39;t think you can convert code from Java to kotlin if it has errors in it."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1589981983,"creation_date":1589981983,"answer_id":61914590,"question_id":61914270,"body_markdown":"You&#39;re missing the `new` keyword before each constructor call. For example, \r\n\r\n    Location loc = Location(&quot;gps&quot;);\r\n \r\nshould be\r\n\r\n    Location loc = new Location(&quot;gps&quot;);\r\n\r\nAnd for class properties, you need to use getter and setter method calls instead. So for instance\r\n\r\n    mockLocation.latitude = 48.8566;\r\n\r\nshould be\r\n\r\n    mockLocation.setLatitude(48.8566);\r\n\r\nand \r\n\r\n    mockLocation.altitude = loc.altitude;\r\n\r\nshould be\r\n\r\n    mockLocation.setAltitude(loc.getAltitude());","title":"Wrong approach when converting Kotlin to Java","body":"<p>You're missing the <code>new</code> keyword before each constructor call. For example, </p>\n\n<pre><code>Location loc = Location(\"gps\");\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>Location loc = new Location(\"gps\");\n</code></pre>\n\n<p>And for class properties, you need to use getter and setter method calls instead. So for instance</p>\n\n<pre><code>mockLocation.latitude = 48.8566;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>mockLocation.setLatitude(48.8566);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>mockLocation.altitude = loc.altitude;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>mockLocation.setAltitude(loc.getAltitude());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19627125,"reputation":186,"user_id":14366207,"display_name":"Omar Hemaia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662040417,"creation_date":1662040417,"answer_id":73570557,"question_id":61914270,"body_markdown":"Based on the previous answer, here is the errorless version of the code that you want\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.SystemClock;\r\n    import android.location.Location;\r\n    \r\n    import com.google.android.gms.location.FusedLocationProviderClient;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            FusedLocationProviderClient locationProvider =  new FusedLocationProviderClient(this);\r\n            locationProvider.setMockMode(true);\r\n    \r\n            Location loc = new Location(&quot;gps&quot;);\r\n            Location mockLocation = new Location(&quot;gps&quot;); // a string\r\n            mockLocation.setLatitude(48.8566);  // double\r\n            mockLocation.setLongitude(2.3522);\r\n            mockLocation.setAltitude(loc.getAltitude());\r\n            mockLocation.setTime(System.currentTimeMillis());\r\n            mockLocation.setAccuracy(1f);\r\n            mockLocation.setElapsedRealtimeNanos(SystemClock.elapsedRealtimeNanos());\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                mockLocation.setBearingAccuracyDegrees(0.1f);\r\n                mockLocation.setVerticalAccuracyMeters(0.1f);\r\n                mockLocation.setSpeedAccuracyMetersPerSecond(0.01f);\r\n            }\r\n            locationProvider.setMockLocation(mockLocation);\r\n        }\r\n    }","title":"Wrong approach when converting Kotlin to Java","body":"<p>Based on the previous answer, here is the errorless version of the code that you want</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.SystemClock;\nimport android.location.Location;\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        FusedLocationProviderClient locationProvider =  new FusedLocationProviderClient(this);\n        locationProvider.setMockMode(true);\n\n        Location loc = new Location(&quot;gps&quot;);\n        Location mockLocation = new Location(&quot;gps&quot;); // a string\n        mockLocation.setLatitude(48.8566);  // double\n        mockLocation.setLongitude(2.3522);\n        mockLocation.setAltitude(loc.getAltitude());\n        mockLocation.setTime(System.currentTimeMillis());\n        mockLocation.setAccuracy(1f);\n        mockLocation.setElapsedRealtimeNanos(SystemClock.elapsedRealtimeNanos());\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            mockLocation.setBearingAccuracyDegrees(0.1f);\n            mockLocation.setVerticalAccuracyMeters(0.1f);\n            mockLocation.setSpeedAccuracyMetersPerSecond(0.01f);\n        }\n        locationProvider.setMockLocation(mockLocation);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user13582267"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61914590,"answer_count":2,"score":0,"last_activity_date":1662040417,"creation_date":1589981189,"question_id":61914270,"body_markdown":"I&#39;m trying to convert the following code to Java:\r\n\r\n    import android.location.Location\r\n    import android.os.Build\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import android.os.SystemClock\r\n    \r\n    import com.google.android.gms.location.FusedLocationProviderClient\r\n    \r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n            \r\n            var locationProvider =  FusedLocationProviderClient(this)\r\n            locationProvider.setMockMode(true)\r\n    \r\n            val loc = Location(&quot;gps&quot;)\r\n            val mockLocation = Location(&quot;gps&quot;) // a string\r\n            mockLocation.latitude = 48.8566  // double\r\n            mockLocation.longitude = 2.3522\r\n            mockLocation.altitude = loc.altitude\r\n            mockLocation.time = System.currentTimeMillis()\r\n            mockLocation.accuracy = 1f\r\n            mockLocation.elapsedRealtimeNanos = SystemClock.elapsedRealtimeNanos()\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                mockLocation.bearingAccuracyDegrees = 0.1f\r\n                mockLocation.verticalAccuracyMeters = 0.1f\r\n                mockLocation.speedAccuracyMetersPerSecond = 0.01f\r\n            }\r\n            locationProvider.setMockLocation(mockLocation)\r\n        }\r\n    }\r\n\r\n(As you can see, this code is supposed to mock an Android device&#39;s location)\r\n\r\nHere&#39;s what I tried in Java:\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.SystemClock;\r\n    import android.location.Location;\r\n    \r\n    import com.google.android.gms.location.FusedLocationProviderClient;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            FusedLocationProviderClient locationProvider =  FusedLocationProviderClient(this);\r\n            locationProvider.setMockMode(true);\r\n    \r\n            Location loc = Location(&quot;gps&quot;);\r\n            Location mockLocation = Location(&quot;gps&quot;); // a string\r\n            mockLocation.latitude = 48.8566;  // double\r\n            mockLocation.longitude = 2.3522;\r\n            mockLocation.altitude = loc.altitude;\r\n            mockLocation.time = System.currentTimeMillis();\r\n            mockLocation.accuracy = 1f;\r\n            mockLocation.elapsedRealtimeNanos = SystemClock.elapsedRealtimeNanos();\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                mockLocation.bearingAccuracyDegrees = 0.1f;\r\n                mockLocation.verticalAccuracyMeters = 0.1f;\r\n                mockLocation.speedAccuracyMetersPerSecond = 0.01f;\r\n            }\r\n            locationProvider.setMockLocation(mockLocation);\r\n        }\r\n    }\r\nUnfortunately, the Java version is full of errors. How can I convert that Kotlin code to Java successfully? Please do tell me how to convert it. Thank you. I appreciate your time.\r\n","title":"Wrong approach when converting Kotlin to Java","body":"<p>I'm trying to convert the following code to Java:</p>\n\n<pre><code>import android.location.Location\nimport android.os.Build\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.os.SystemClock\n\nimport com.google.android.gms.location.FusedLocationProviderClient\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        var locationProvider =  FusedLocationProviderClient(this)\n        locationProvider.setMockMode(true)\n\n        val loc = Location(\"gps\")\n        val mockLocation = Location(\"gps\") // a string\n        mockLocation.latitude = 48.8566  // double\n        mockLocation.longitude = 2.3522\n        mockLocation.altitude = loc.altitude\n        mockLocation.time = System.currentTimeMillis()\n        mockLocation.accuracy = 1f\n        mockLocation.elapsedRealtimeNanos = SystemClock.elapsedRealtimeNanos()\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            mockLocation.bearingAccuracyDegrees = 0.1f\n            mockLocation.verticalAccuracyMeters = 0.1f\n            mockLocation.speedAccuracyMetersPerSecond = 0.01f\n        }\n        locationProvider.setMockLocation(mockLocation)\n    }\n}\n</code></pre>\n\n<p>(As you can see, this code is supposed to mock an Android device's location)</p>\n\n<p>Here's what I tried in Java:</p>\n\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.SystemClock;\nimport android.location.Location;\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        FusedLocationProviderClient locationProvider =  FusedLocationProviderClient(this);\n        locationProvider.setMockMode(true);\n\n        Location loc = Location(\"gps\");\n        Location mockLocation = Location(\"gps\"); // a string\n        mockLocation.latitude = 48.8566;  // double\n        mockLocation.longitude = 2.3522;\n        mockLocation.altitude = loc.altitude;\n        mockLocation.time = System.currentTimeMillis();\n        mockLocation.accuracy = 1f;\n        mockLocation.elapsedRealtimeNanos = SystemClock.elapsedRealtimeNanos();\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            mockLocation.bearingAccuracyDegrees = 0.1f;\n            mockLocation.verticalAccuracyMeters = 0.1f;\n            mockLocation.speedAccuracyMetersPerSecond = 0.01f;\n        }\n        locationProvider.setMockLocation(mockLocation);\n    }\n}\n</code></pre>\n\n<p>Unfortunately, the Java version is full of errors. How can I convert that Kotlin code to Java successfully? Please do tell me how to convert it. Thank you. I appreciate your time.</p>\n"},{"tags":["javascript","java","jquery","jsp"],"comments":[{"owner":{"account_id":1274901,"reputation":5338,"user_id":1230360,"accept_rate":75,"display_name":"Ketan Bhavsar"},"score":0,"creation_date":1662026579,"post_id":73557044,"comment_id":129913168,"body_markdown":"It looks like `document.querySelector(&#39;.member-certification&#39;)` is wrong.","body":"It looks like <code>document.querySelector(&#39;.member-certification&#39;)</code> is wrong."}],"answers":[{"tags":[],"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662040310,"creation_date":1662040310,"answer_id":73570522,"question_id":73557044,"body_markdown":"I resolved the issue by adding a span in general task div.\r\n[![enter image description here][1]][1]\r\njs:\r\n\r\n    $(function() {\r\n            $(&quot;.task-member&quot;).on(&#39;change&#39;, function() {\r\n                var memberCertificationRole = $(this).find(&#39;option:selected&#39;).attr(&#39;data-certificatedRole&#39;);\r\n                var spanId = &#39;#warn_&#39; + $(this).find(&#39;option:selected&#39;).attr(&#39;data-spanId&#39;);\r\n                if (memberCertificationRole &lt;= 0) {\r\n                    document.querySelector(spanId).innerHTML = &#39;&lt;span class=&quot;member-certificatedRole&quot; style = &quot;float:Right;color:RED;font-weight:bold&quot; title=&quot;&#39; + getText(&#39;member_not_certified_warning&#39;) + &#39;&quot;&gt; ! &lt;/span&gt;&#39;;\r\n                } else {\r\n                    document.querySelector(spanId).innerHTML = &#39;&#39;;\r\n                }\r\n            });\r\n        });\r\n\r\nJSP:\r\n\r\n    &lt;div class=&quot;title&quot;&gt;\r\n\t\t\t\t\t\t&lt;span class=&quot;title-label&quot;&gt;&lt;s:text name=&quot;general_abilities&quot;/&gt;:&lt;/span&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;title-text&quot; style=&quot;width:720px&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;c:if test=&quot;${not in4:isEnableAutoMemberAssignementPerTask()}&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;c:forEach items=&quot;${generalTasks}&quot; var=&quot;task&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;div style=&quot;width:240px;float:left&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;service&quot; &lt;c:if test=&quot;${in4:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t${in4:getTaskDefinitionName(task)}&lt;/label&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t&lt;/c:forEach&gt;\r\n\t\t\t\t\t\t\t&lt;/c:if&gt;\r\n\t\t\t\t\t\t\t&lt;c:if test=&quot;${in4:isEnableAutoMemberAssignementPerTask()}&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;c:forEach items=&quot;${generalTasks}&quot; var=&quot;task&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;div style=&quot;width:360px;float:left&quot; &gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;c:choose&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;c:when test=&quot;${task.keyType == RECONSTRUCTION }&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;input style=&quot;width:20px;display:none&quot; type=&quot;checkbox&quot; name=&quot;service&quot; &lt;c:if test=&quot;${in4:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/c:when&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;c:otherwise&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;service&quot; class=&quot;generalServiceCheckbox&quot; &lt;c:if test=&quot;${in4:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t${in4:getTaskDefinitionName(task)}&lt;/label&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:choose&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:when test=&quot;${in4:isIn4moCertificationModularEnabled()}&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${taskMembers}&quot;/&gt;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:if test=&quot;${task.keyType ==PROJECT_MANAGEMENT_PREPARE }&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${pmMembers}&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:if&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:if test=&quot;${in4:contains(inspectionListArray, task.keyType)}&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${insMembers}&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:if&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:when&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:otherwise&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${members}&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:otherwise&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:choose&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;select id=&quot;selectAssignmentMember&quot; class=&quot;task-member&quot; name=&quot;autoAssigneeToAbilityMap[&#39;${task.keyType}&#39;]&quot; style=&quot;float:right;width:160px;margin-right:16px;&quot; &lt;c:if test=&quot;${not inputOffice.autoMemberSameForAllTasks and not in4:isStringInStringArr(task.keyType, service)}&quot;&gt;disabled=&quot;disabled&quot;&lt;/c:if&gt;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;option value=&quot;0&quot; &gt;&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:forEach items=&quot;${assignmentMembers}&quot; var=&quot;member&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;option value=&quot;${member.id}&quot; data-certificatedRole=&quot;${member.certificatedRole}&quot; data-spanId=&quot;${task.keyType}&quot;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:if test=&quot;${not member.available}&quot;&gt;rel=&quot;grey&quot;&lt;/c:if&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:if test=&quot;${autoAssigneeToAbilityMap[task.keyType] == member.id}&quot;&gt; selected=&quot;selected&quot;&lt;/c:if&gt;&gt;${in4:out(member.name)}&lt;/option&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:forEach&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/select&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t**&lt;span id=&quot;warn_${task.keyType}&quot; style = &quot;float:right;color:Red;font-weight:bold;margin-right:16px;&quot;&gt;&lt;/span&gt;**\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/c:otherwise&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/c:choose&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t&lt;/c:forEach&gt;\r\n\t\t\t\t\t\t\t&lt;/c:if&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9uwup.png","title":"How to show some message against a option field in JSP using java script","body":"<p>I resolved the issue by adding a span in general task div.\n<a href=\"https://i.stack.imgur.com/9uwup.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9uwup.png\" alt=\"enter image description here\" /></a>\njs:</p>\n<pre><code>$(function() {\n        $(&quot;.task-member&quot;).on('change', function() {\n            var memberCertificationRole = $(this).find('option:selected').attr('data-certificatedRole');\n            var spanId = '#warn_' + $(this).find('option:selected').attr('data-spanId');\n            if (memberCertificationRole &lt;= 0) {\n                document.querySelector(spanId).innerHTML = '&lt;span class=&quot;member-certificatedRole&quot; style = &quot;float:Right;color:RED;font-weight:bold&quot; title=&quot;' + getText('member_not_certified_warning') + '&quot;&gt; ! &lt;/span&gt;';\n            } else {\n                document.querySelector(spanId).innerHTML = '';\n            }\n        });\n    });\n</code></pre>\n<p>JSP:</p>\n<pre><code>&lt;div class=&quot;title&quot;&gt;\n                    &lt;span class=&quot;title-label&quot;&gt;&lt;s:text name=&quot;general_abilities&quot;/&gt;:&lt;/span&gt;\n                    &lt;div class=&quot;title-text&quot; style=&quot;width:720px&quot;&gt;\n                        &lt;c:if test=&quot;${not in4:isEnableAutoMemberAssignementPerTask()}&quot;&gt;\n                            &lt;c:forEach items=&quot;${generalTasks}&quot; var=&quot;task&quot;&gt;\n                                &lt;div style=&quot;width:240px;float:left&quot;&gt;\n                                    &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;service&quot; &lt;c:if test=&quot;${in4:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\n                                    ${in4:getTaskDefinitionName(task)}&lt;/label&gt;\n                                &lt;/div&gt;\n                            &lt;/c:forEach&gt;\n                        &lt;/c:if&gt;\n                        &lt;c:if test=&quot;${in4:isEnableAutoMemberAssignementPerTask()}&quot;&gt;\n                            &lt;c:forEach items=&quot;${generalTasks}&quot; var=&quot;task&quot;&gt;\n                                &lt;div style=&quot;width:360px;float:left&quot; &gt;\n                                    &lt;c:choose&gt;\n                                        &lt;c:when test=&quot;${task.keyType == RECONSTRUCTION }&quot;&gt;\n                                            &lt;input style=&quot;width:20px;display:none&quot; type=&quot;checkbox&quot; name=&quot;service&quot; &lt;c:if test=&quot;${in4:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\n                                        &lt;/c:when&gt;\n                                        &lt;c:otherwise&gt;\n                                            &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;service&quot; class=&quot;generalServiceCheckbox&quot; &lt;c:if test=&quot;${in4:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\n                                            ${in4:getTaskDefinitionName(task)}&lt;/label&gt;\n                                            &lt;c:choose&gt;\n                                            &lt;c:when test=&quot;${in4:isIn4moCertificationModularEnabled()}&quot;&gt;\n                                                &lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${taskMembers}&quot;/&gt;\n\n                                                &lt;c:if test=&quot;${task.keyType ==PROJECT_MANAGEMENT_PREPARE }&quot;&gt;\n                                                    &lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${pmMembers}&quot;/&gt;\n                                                &lt;/c:if&gt;\n                                                &lt;c:if test=&quot;${in4:contains(inspectionListArray, task.keyType)}&quot;&gt;\n                                                    &lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${insMembers}&quot;/&gt;\n                                                &lt;/c:if&gt;\n                                            &lt;/c:when&gt;\n                                            &lt;c:otherwise&gt;\n                                                &lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${members}&quot;/&gt;\n                                            &lt;/c:otherwise&gt;\n                                            &lt;/c:choose&gt;\n                                            &lt;select id=&quot;selectAssignmentMember&quot; class=&quot;task-member&quot; name=&quot;autoAssigneeToAbilityMap['${task.keyType}']&quot; style=&quot;float:right;width:160px;margin-right:16px;&quot; &lt;c:if test=&quot;${not inputOffice.autoMemberSameForAllTasks and not in4:isStringInStringArr(task.keyType, service)}&quot;&gt;disabled=&quot;disabled&quot;&lt;/c:if&gt;&gt;\n                                                &lt;option value=&quot;0&quot; &gt;&lt;/option&gt;\n                                                &lt;c:forEach items=&quot;${assignmentMembers}&quot; var=&quot;member&quot;&gt;\n                                                    &lt;option value=&quot;${member.id}&quot; data-certificatedRole=&quot;${member.certificatedRole}&quot; data-spanId=&quot;${task.keyType}&quot;\n                                                    &lt;c:if test=&quot;${not member.available}&quot;&gt;rel=&quot;grey&quot;&lt;/c:if&gt;\n                                                    &lt;c:if test=&quot;${autoAssigneeToAbilityMap[task.keyType] == member.id}&quot;&gt; selected=&quot;selected&quot;&lt;/c:if&gt;&gt;${in4:out(member.name)}&lt;/option&gt;\n                                                &lt;/c:forEach&gt;\n                                            &lt;/select&gt;\n                                            **&lt;span id=&quot;warn_${task.keyType}&quot; style = &quot;float:right;color:Red;font-weight:bold;margin-right:16px;&quot;&gt;&lt;/span&gt;**\n                                        &lt;/c:otherwise&gt;\n                                    &lt;/c:choose&gt;\n                                &lt;/div&gt;\n                            &lt;/c:forEach&gt;\n                        &lt;/c:if&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662040310,"creation_date":1661954235,"question_id":73557044,"body_markdown":"I trying to show and message against the option field after selecting the value against the same item. like in this picture I am selecting first member and I want show the &quot;!&quot; mark on some condition against the same box.\r\n[![enter image description here][1]][1]\r\n\r\nthis task are created by variable general task in loop. \r\nI am some how able to print the mark but not able to place it at exact place .\r\nCould anyone help me here how to do that? thanks in advance :)\r\n\r\n    $(function() {\r\n          $(&quot;.task-member&quot;).on(&#39;change&#39;, function() {\r\n              var memberCertificationRole = $(this).find(&#39;option:selected&#39;).attr(&#39;data-certificatedRole&#39;);\r\n              console.log(memberCertificationRole);\r\n              if (memberCertificationRole &lt;= 0) {\r\n                  var message = getText(&#39;member_not_certified_warning&#39;);\r\n                  document.querySelector(&#39;.member-certification&#39;).innerHTML = &#39;&lt;span style = &quot;float:Right;color:Red;font-weight:bold&quot; title=&quot;&#39; + message + &#39;&quot;&gt; ! &lt;/span&gt;&#39;;\r\n              } else {\r\n                  document.querySelector(&#39;.member-certification&#39;).innerHTML = &#39;&#39;;\r\n              }\r\n          });\r\n      });\r\n\r\nJSP:\r\n\r\n    &lt;div class=&quot;title&quot;&gt;\r\n    \t\t\t\t\t\t&lt;span class=&quot;title-label&quot;&gt;&lt;s:text name=&quot;general_abilities&quot;/&gt;:&lt;/span&gt;\r\n    \t\t\t\t\t\t&lt;div class=&quot;title-text&quot; style=&quot;width:720px&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;c:if test=&quot;${not _:isEnableAutoMemberAssignementPerTask()}&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;c:forEach items=&quot;${generalTasks}&quot; var=&quot;task&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;div style=&quot;width:240px;float:left&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;service&quot; &lt;c:if test=&quot;${_:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\r\n    \t\t\t\t\t\t\t\t\t\t${_:getTaskDefinitionName(task)}&lt;/label&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/c:forEach&gt;\r\n    \t\t\t\t\t\t\t&lt;/c:if&gt;\r\n    \t\t\t\t\t\t\t&lt;c:if test=&quot;${_:isEnableAutoMemberAssignementPerTask()}&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;c:forEach items=&quot;${generalTasks}&quot; var=&quot;task&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;div style=&quot;width:360px;float:left&quot; &gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;c:choose&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;c:when test=&quot;${task.keyType == RECONSTRUCTION }&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;input style=&quot;width:20px;display:none&quot; type=&quot;checkbox&quot; name=&quot;service&quot; &lt;c:if test=&quot;${_:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;/c:when&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;c:otherwise&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;service&quot; class=&quot;generalServiceCheckbox&quot; &lt;c:if test=&quot;${_:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t${_:getTaskDefinitionName(task)}&lt;/label&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;c:choose&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;c:when test=&quot;${_:is_moCertificationModularEnabled()}&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${taskMembers}&quot;/&gt;\r\n    \r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:if test=&quot;${task.keyType ==PROJECT_MANAGEMENT_PREPARE }&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${pmMembers}&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:if&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:if test=&quot;${_:contains(inspectionListArray, task.keyType)}&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${insMembers}&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:if&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:when&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;c:otherwise&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${members}&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:otherwise&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:choose&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;select id=&quot;task-member&quot; class=&quot;task-member&quot; name=&quot;autoAssigneeToAbilityMap[&#39;${task.keyType}&#39;]&quot; style=&quot;float:right;width:160px;margin-right:16px;&quot; &lt;c:if test=&quot;${not inputOffice.autoMemberSameForAllTasks and not _:isStringInStringArr(task.keyType, service)}&quot;&gt;disabled=&quot;disabled&quot;&lt;/c:if&gt;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;option value=&quot;0&quot; &gt;&lt;/option&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:forEach items=&quot;${assignmentMembers}&quot; var=&quot;member&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;option value=&quot;${member.id}&quot; data-certificatedRole=&quot;${member.certificatedRole}&quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:if test=&quot;${not member.available}&quot;&gt;rel=&quot;grey&quot;&lt;/c:if&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;c:if test=&quot;${autoAssigneeToAbilityMap[task.keyType] == member.id}&quot;&gt; selected=&quot;selected&quot;&lt;/c:if&gt;&gt;${_:out(member.name)}&lt;/option&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/c:forEach&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;/select&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;/c:otherwise&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;/c:choose&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/c:forEach&gt;\r\n    \t\t\t\t\t\t\t&lt;/c:if&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/8jIGH.png\r\n\r\n\r\n","title":"How to show some message against a option field in JSP using java script","body":"<p>I trying to show and message against the option field after selecting the value against the same item. like in this picture I am selecting first member and I want show the &quot;!&quot; mark on some condition against the same box.\n<a href=\"https://i.stack.imgur.com/8jIGH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8jIGH.png\" alt=\"enter image description here\" /></a></p>\n<p>this task are created by variable general task in loop.\nI am some how able to print the mark but not able to place it at exact place .\nCould anyone help me here how to do that? thanks in advance :)</p>\n<pre><code>$(function() {\n      $(&quot;.task-member&quot;).on('change', function() {\n          var memberCertificationRole = $(this).find('option:selected').attr('data-certificatedRole');\n          console.log(memberCertificationRole);\n          if (memberCertificationRole &lt;= 0) {\n              var message = getText('member_not_certified_warning');\n              document.querySelector('.member-certification').innerHTML = '&lt;span style = &quot;float:Right;color:Red;font-weight:bold&quot; title=&quot;' + message + '&quot;&gt; ! &lt;/span&gt;';\n          } else {\n              document.querySelector('.member-certification').innerHTML = '';\n          }\n      });\n  });\n</code></pre>\n<p>JSP:</p>\n<pre><code>&lt;div class=&quot;title&quot;&gt;\n                        &lt;span class=&quot;title-label&quot;&gt;&lt;s:text name=&quot;general_abilities&quot;/&gt;:&lt;/span&gt;\n                        &lt;div class=&quot;title-text&quot; style=&quot;width:720px&quot;&gt;\n                            &lt;c:if test=&quot;${not _:isEnableAutoMemberAssignementPerTask()}&quot;&gt;\n                                &lt;c:forEach items=&quot;${generalTasks}&quot; var=&quot;task&quot;&gt;\n                                    &lt;div style=&quot;width:240px;float:left&quot;&gt;\n                                        &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;service&quot; &lt;c:if test=&quot;${_:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\n                                        ${_:getTaskDefinitionName(task)}&lt;/label&gt;\n                                    &lt;/div&gt;\n                                &lt;/c:forEach&gt;\n                            &lt;/c:if&gt;\n                            &lt;c:if test=&quot;${_:isEnableAutoMemberAssignementPerTask()}&quot;&gt;\n                                &lt;c:forEach items=&quot;${generalTasks}&quot; var=&quot;task&quot;&gt;\n                                    &lt;div style=&quot;width:360px;float:left&quot; &gt;\n                                        &lt;c:choose&gt;\n                                            &lt;c:when test=&quot;${task.keyType == RECONSTRUCTION }&quot;&gt;\n                                                &lt;input style=&quot;width:20px;display:none&quot; type=&quot;checkbox&quot; name=&quot;service&quot; &lt;c:if test=&quot;${_:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\n                                            &lt;/c:when&gt;\n                                            &lt;c:otherwise&gt;\n                                                &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;service&quot; class=&quot;generalServiceCheckbox&quot; &lt;c:if test=&quot;${_:isStringInStringArr(task.keyType, service)}&quot;&gt;checked=&quot;checked&quot;&lt;/c:if&gt; value=&quot;${task.keyType}&quot; /&gt;\n                                                ${_:getTaskDefinitionName(task)}&lt;/label&gt;\n                                                &lt;c:choose&gt;\n                                                &lt;c:when test=&quot;${_:is_moCertificationModularEnabled()}&quot;&gt;\n                                                    &lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${taskMembers}&quot;/&gt;\n\n                                                    &lt;c:if test=&quot;${task.keyType ==PROJECT_MANAGEMENT_PREPARE }&quot;&gt;\n                                                        &lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${pmMembers}&quot;/&gt;\n                                                    &lt;/c:if&gt;\n                                                    &lt;c:if test=&quot;${_:contains(inspectionListArray, task.keyType)}&quot;&gt;\n                                                        &lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${insMembers}&quot;/&gt;\n                                                    &lt;/c:if&gt;\n                                                &lt;/c:when&gt;\n                                                &lt;c:otherwise&gt;\n                                                    &lt;c:set var=&quot;assignmentMembers&quot;  value=&quot;${members}&quot;/&gt;\n                                                &lt;/c:otherwise&gt;\n                                                &lt;/c:choose&gt;\n                                                &lt;select id=&quot;task-member&quot; class=&quot;task-member&quot; name=&quot;autoAssigneeToAbilityMap['${task.keyType}']&quot; style=&quot;float:right;width:160px;margin-right:16px;&quot; &lt;c:if test=&quot;${not inputOffice.autoMemberSameForAllTasks and not _:isStringInStringArr(task.keyType, service)}&quot;&gt;disabled=&quot;disabled&quot;&lt;/c:if&gt;&gt;\n                                                    &lt;option value=&quot;0&quot; &gt;&lt;/option&gt;\n                                                    &lt;c:forEach items=&quot;${assignmentMembers}&quot; var=&quot;member&quot;&gt;\n                                                        &lt;option value=&quot;${member.id}&quot; data-certificatedRole=&quot;${member.certificatedRole}&quot;\n                                                        &lt;c:if test=&quot;${not member.available}&quot;&gt;rel=&quot;grey&quot;&lt;/c:if&gt;\n                                                        &lt;c:if test=&quot;${autoAssigneeToAbilityMap[task.keyType] == member.id}&quot;&gt; selected=&quot;selected&quot;&lt;/c:if&gt;&gt;${_:out(member.name)}&lt;/option&gt;\n                                                    &lt;/c:forEach&gt;\n                                                &lt;/select&gt;\n                                            &lt;/c:otherwise&gt;\n                                        &lt;/c:choose&gt;\n                                    &lt;/div&gt;\n                                &lt;/c:forEach&gt;\n                            &lt;/c:if&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1661944960,"post_id":73553309,"comment_id":129891118,"body_markdown":"You have a mismatch in versions. Hibernate 6.1 is Jakarta EE 9, which means it uses `jakarta.*` as the package namespace for the Jakarta EE libraries like JAXB, etc. While that - unreleased(!) - JAXB API you&#39;re importing is from Java EE 8 (using the `javax.*` package namespace). Make sure you either use only libraries from/depending on Jakarta EE 9 (which includes JAXB 3 or higher), or only libraries from Jakarta EE 8 or lower (which would mean switching to Hibernate 5.6 or lower, and JAXB 2.3). Also make sure you use released versions and not intermediate builds like this one.","body":"You have a mismatch in versions. Hibernate 6.1 is Jakarta EE 9, which means it uses <code>jakarta.*</code> as the package namespace for the Jakarta EE libraries like JAXB, etc. While that - unreleased(!) - JAXB API you&#39;re importing is from Java EE 8 (using the <code>javax.*</code> package namespace). Make sure you either use only libraries from/depending on Jakarta EE 9 (which includes JAXB 3 or higher), or only libraries from Jakarta EE 8 or lower (which would mean switching to Hibernate 5.6 or lower, and JAXB 2.3). Also make sure you use released versions and not intermediate builds like this one."},{"owner":{"account_id":25591959,"reputation":1,"user_id":19368530,"display_name":"Moshik Amit"},"score":0,"creation_date":1662034591,"post_id":73553309,"comment_id":129915867,"body_markdown":"Sorry but I did not quite understand you. From what I see Hibernate 6.1.2 was officially release on August 3&#39;rd 2022. My interpretation to what you wrote is that the relevant Jakarta version was not released for this Maven version. So, now I need to downgrade my Hibernate to version 5.6.11. How do I do that? Just change the dependency?","body":"Sorry but I did not quite understand you. From what I see Hibernate 6.1.2 was officially release on August 3&#39;rd 2022. My interpretation to what you wrote is that the relevant Jakarta version was not released for this Maven version. So, now I need to downgrade my Hibernate to version 5.6.11. How do I do that? Just change the dependency?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662039795,"post_id":73553309,"comment_id":129917922,"body_markdown":"Jakarta 9 has been released for a while now, but given the massive change triggered by renaming the package names from `javax.*` to `jakarta.*`, you can&#39;t just combine random versions of libraries and hope it will work. You need to understand the versioning of the libraries you&#39;re using (and especially with Jakarta dependencies, also know that the Maven coordinates changed). Probably downgrading the Hibernate coordinates to 5.6.11.Final will do the trick, but there might be more libraries you need to change versions (e.g. JAX-RS).","body":"Jakarta 9 has been released for a while now, but given the massive change triggered by renaming the package names from <code>javax.*</code> to <code>jakarta.*</code>, you can&#39;t just combine random versions of libraries and hope it will work. You need to understand the versioning of the libraries you&#39;re using (and especially with Jakarta dependencies, also know that the Maven coordinates changed). Probably downgrading the Hibernate coordinates to 5.6.11.Final will do the trick, but there might be more libraries you need to change versions (e.g. JAX-RS)."}],"owner":{"account_id":25591959,"reputation":1,"user_id":19368530,"display_name":"Moshik Amit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662039803,"creation_date":1661936083,"question_id":73553309,"body_markdown":"I&#39;m learning Java + Jax-Rs\r\nI’m working with Eclipse 2022-06\r\nWhen I try to use @XMLRootElement I get the error – “XmlRootElement cannot be resolved to a type”\r\nIn my pom.xml file I have:\r\n\r\n        &lt;!--https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.1.2.Final&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n","title":"How do I fix - XmlRootElement cannot be resolved to a type - error","body":"<p>I'm learning Java + Jax-Rs\nI’m working with Eclipse 2022-06\nWhen I try to use @XMLRootElement I get the error – “XmlRootElement cannot be resolved to a type”\nIn my pom.xml file I have:</p>\n<pre><code>    &lt;!--https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.2.Final&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":6845242,"reputation":1038,"user_id":5264262,"display_name":"xmike"},"score":0,"creation_date":1503468551,"post_id":45831828,"comment_id":78620910,"body_markdown":"what is the target language?","body":"what is the target language?"},{"owner":{"account_id":5193900,"reputation":420,"user_id":5881763,"display_name":"Mahesh Kshirsagar"},"score":0,"creation_date":1503468842,"post_id":45831828,"comment_id":78621028,"body_markdown":"in java language","body":"in java language"}],"answers":[{"tags":[],"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1546869005,"creation_date":1503469673,"answer_id":45832128,"question_id":45831828,"body_markdown":"A simple thumb rule is to use **immutable objects as keys** in a `HashMap`.\r\n\r\nbecause: \r\n\r\nIf it were mutable, then the `hashcode()` value or `equals()` condition might change, and you would never be able to retrieve the key from your `HashMap`.\r\n\r\nMore precisely, class fields that are used to compute `equals()` and `hashcode()` should be immutable!\r\n\r\nNow, suppose you create your own class:\r\n\r\n - To compare two objects of your class you will have to override `equals()`\r\n - To use it as a key in any Hash based Data structure you will have to override `hashcode()` (again, keeping immutability in mind)\r\n\r\nRemember that if two objects are `equal()`, then their `hashcode()` should be equal as well!\r\n\r\n\r\n\r\n","title":"Can we use object as a key in hashmap in Java?","body":"<p>A simple thumb rule is to use <strong>immutable objects as keys</strong> in a <code>HashMap</code>.</p>\n\n<p>because: </p>\n\n<p>If it were mutable, then the <code>hashcode()</code> value or <code>equals()</code> condition might change, and you would never be able to retrieve the key from your <code>HashMap</code>.</p>\n\n<p>More precisely, class fields that are used to compute <code>equals()</code> and <code>hashcode()</code> should be immutable!</p>\n\n<p>Now, suppose you create your own class:</p>\n\n<ul>\n<li>To compare two objects of your class you will have to override <code>equals()</code></li>\n<li>To use it as a key in any Hash based Data structure you will have to override <code>hashcode()</code> (again, keeping immutability in mind)</li>\n</ul>\n\n<p>Remember that if two objects are <code>equal()</code>, then their <code>hashcode()</code> should be equal as well!</p>\n"},{"tags":[],"owner":{"account_id":11609398,"reputation":89,"user_id":8504038,"display_name":"Niranjan  Nayak"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1662038867,"creation_date":1503470486,"answer_id":45832365,"question_id":45831828,"body_markdown":"**hashCode()** -HashMap provides `put(key, value)` for storing and `get(key)` for retrieving values from a `HashMap`. When using `put(key, value)` to store a key-value-pair, `HashMap` calls `hashcode()` on the key object to calculate a hash that is used to find a bucket where the **Entry** object is stored. When `get()` is used to retrieve a value, again, the key object is used to calculate a hash which is used then to find a bucket where that particular key is stored.\r\n\r\n**equals()** - `equals()` is used to compare objects for equality. In the case of `HashMap`, the key object is used for comparison, also using `equals()`. `HashMap` knows how to handle hashing collisions (more than one key having the same hash value, thus assigned to the same bucket). In that case objects are stored in a linked list (refer to the figure for more clarity). \r\n`hashCode()` helps in finding the bucket where that key is stored, `equals()` helps in finding the right key as there may be more than one key-value pair stored in a single bucket.","title":"Can we use object as a key in hashmap in Java?","body":"<p><strong>hashCode()</strong> -HashMap provides <code>put(key, value)</code> for storing and <code>get(key)</code> for retrieving values from a <code>HashMap</code>. When using <code>put(key, value)</code> to store a key-value-pair, <code>HashMap</code> calls <code>hashcode()</code> on the key object to calculate a hash that is used to find a bucket where the <strong>Entry</strong> object is stored. When <code>get()</code> is used to retrieve a value, again, the key object is used to calculate a hash which is used then to find a bucket where that particular key is stored.</p>\n<p><strong>equals()</strong> - <code>equals()</code> is used to compare objects for equality. In the case of <code>HashMap</code>, the key object is used for comparison, also using <code>equals()</code>. <code>HashMap</code> knows how to handle hashing collisions (more than one key having the same hash value, thus assigned to the same bucket). In that case objects are stored in a linked list (refer to the figure for more clarity).\n<code>hashCode()</code> helps in finding the bucket where that key is stored, <code>equals()</code> helps in finding the right key as there may be more than one key-value pair stored in a single bucket.</p>\n"},{"tags":[],"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503470622,"creation_date":1503470622,"answer_id":45832411,"question_id":45831828,"body_markdown":"You can use any object in a `HashMap` as long as it has properly defined `hashCode` and `equals` methods - those are absolutely crucial because the hashing mechanism depends on them.","title":"Can we use object as a key in hashmap in Java?","body":"<p>You can use any object in a <code>HashMap</code> as long as it has properly defined <code>hashCode</code> and <code>equals</code> methods - those are absolutely crucial because the hashing mechanism depends on them.</p>\n"},{"tags":[],"owner":{"account_id":9586953,"reputation":23,"user_id":7119340,"display_name":"Nikhil"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1558140923,"creation_date":1558140923,"answer_id":56195129,"question_id":45831828,"body_markdown":"    package com.java.demo.map;\r\n     \r\n    import java.util.HashMap;\r\n     \r\n    public class TestMutableKey\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            //Create a HashMap with mutable key\r\n            HashMap&lt;Account, String&gt; map = new HashMap&lt;Account, String&gt;();\r\n              \r\n            //Create key 1\r\n            Account a1 = new Account(1);\r\n            a1.setHolderName(&quot;A_ONE&quot;);\r\n            //Create key 2\r\n            Account a2 = new Account(2);\r\n            a2.setHolderName(&quot;A_TWO&quot;);\r\n              \r\n            //Put mutable key and value in map\r\n            map.put(a1, a1.getHolderName());\r\n            map.put(a2, a2.getHolderName());\r\n              \r\n            //Change the keys state so hash map should be calculated again\r\n            a1.setHolderName(&quot;Defaulter&quot;);\r\n            a2.setHolderName(&quot;Bankrupt&quot;);\r\n              \r\n            //Success !! We are able to get back the values\r\n            System.out.println(map.get(a1)); //Prints A_ONE\r\n            System.out.println(map.get(a2)); //Prints A_TWO\r\n              \r\n            //Try with newly created key with same account number\r\n            Account a3 = new Account(1);\r\n            a3.setHolderName(&quot;A_THREE&quot;);\r\n              \r\n            //Success !! We are still able to get back the value for account number 1\r\n            System.out.println(map.get(a3)); //Prints A_ONE\r\n        }\r\n    }","title":"Can we use object as a key in hashmap in Java?","body":"<pre><code>package com.java.demo.map;\n\nimport java.util.HashMap;\n\npublic class TestMutableKey\n{\n    public static void main(String[] args)\n    {\n        //Create a HashMap with mutable key\n        HashMap&lt;Account, String&gt; map = new HashMap&lt;Account, String&gt;();\n\n        //Create key 1\n        Account a1 = new Account(1);\n        a1.setHolderName(\"A_ONE\");\n        //Create key 2\n        Account a2 = new Account(2);\n        a2.setHolderName(\"A_TWO\");\n\n        //Put mutable key and value in map\n        map.put(a1, a1.getHolderName());\n        map.put(a2, a2.getHolderName());\n\n        //Change the keys state so hash map should be calculated again\n        a1.setHolderName(\"Defaulter\");\n        a2.setHolderName(\"Bankrupt\");\n\n        //Success !! We are able to get back the values\n        System.out.println(map.get(a1)); //Prints A_ONE\n        System.out.println(map.get(a2)); //Prints A_TWO\n\n        //Try with newly created key with same account number\n        Account a3 = new Account(1);\n        a3.setHolderName(\"A_THREE\");\n\n        //Success !! We are still able to get back the value for account number 1\n        System.out.println(map.get(a3)); //Prints A_ONE\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5695379,"reputation":187,"user_id":4502049,"accept_rate":0,"display_name":"Vaibhav Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572635013,"creation_date":1572635013,"answer_id":58664538,"question_id":45831828,"body_markdown":"Yes, you should override equals and hashcode, for the proper functioning of the code otherwise you won&#39;t be able to get the value of the key which you have inserted in the map.\r\n\r\ne.g \r\n\r\nmap.put(new Object() , &quot;value&quot;) ;\r\n\r\nwhen you want to get that value ,\r\n\r\nmap.get(new Object()) ;  // This will always return null \r\n\r\nBecause with new Object() - new hashcode will be generated and it will not point to the expected bucket number on which value is saved, and if eventually bucket number comes to be same - it won&#39;t be able to match hashcode and even equals  so it always return NULL . \r\n\r\n ","title":"Can we use object as a key in hashmap in Java?","body":"<p>Yes, you should override equals and hashcode, for the proper functioning of the code otherwise you won't be able to get the value of the key which you have inserted in the map.</p>\n\n<p>e.g </p>\n\n<p>map.put(new Object() , \"value\") ;</p>\n\n<p>when you want to get that value ,</p>\n\n<p>map.get(new Object()) ;  // This will always return null </p>\n\n<p>Because with new Object() - new hashcode will be generated and it will not point to the expected bucket number on which value is saved, and if eventually bucket number comes to be same - it won't be able to match hashcode and even equals  so it always return NULL . </p>\n"},{"tags":[],"owner":{"account_id":10983760,"reputation":1014,"user_id":8070135,"display_name":"daemonThread"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595480294,"creation_date":1595343689,"answer_id":63017424,"question_id":45831828,"body_markdown":"Answer to your question is yes, objects of custom classes can be used as a key in a HashMap. But in order to retrieve the value object back from the map without failure, there are certain guidelines that need to be followed. \r\n\r\n`1)Custom class should follow the` [contract][1] `between hashCode() and equals().`\r\n\r\nThe contract states that:\r\n\r\n    If two objects are equal according to the equals(Object) method, then calling\r\n    the hashCode method on each of the two objects must produce the same integer result.\r\n\r\nThis can be done by implementing hashcode() and equals() in your custom class.\r\n\r\n    2) Make custom class immutable.\r\nHint: use final, remove setters, use deep copy to set fields\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html","title":"Can we use object as a key in hashmap in Java?","body":"<p>Answer to your question is yes, objects of custom classes can be used as a key in a HashMap. But in order to retrieve the value object back from the map without failure, there are certain guidelines that need to be followed.</p>\n<p><code>1)Custom class should follow the</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html\" rel=\"nofollow noreferrer\">contract</a> <code>between hashCode() and equals().</code></p>\n<p>The contract states that:</p>\n<pre><code>If two objects are equal according to the equals(Object) method, then calling\nthe hashCode method on each of the two objects must produce the same integer result.\n</code></pre>\n<p>This can be done by implementing hashcode() and equals() in your custom class.</p>\n<pre><code>2) Make custom class immutable.\n</code></pre>\n<p>Hint: use final, remove setters, use deep copy to set fields</p>\n"},{"tags":[],"owner":{"account_id":17824321,"reputation":618,"user_id":12945919,"display_name":"Mayank Kumar Thakur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650869969,"creation_date":1650869969,"answer_id":71995566,"question_id":45831828,"body_markdown":"Yes, we can use any object as key in a Map in java but we need to override the equals() and hashCode() methods of that object class. Please refer an example below, in which I am storing an object of Pair class as key in a hashMap with value type as string in map. I have overriden the hashCode() and equals() methods of Pair class. So, that different objects of Pair class with same values of Pair(x,y) will be treated as one object only.\r\n\r\n    import java.util.*;\r\n    import java.util.Map.Entry;\r\n    \r\n    class App { // Case-sensitive\r\n        private class Pair {\r\n            private int x, y;\r\n    \r\n            public Pair(int x, int y) {\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                final int prime = 31;\r\n                int result = 1;\r\n                result = prime * result + x;\r\n                result = prime * result + y;\r\n                return result;\r\n            }\r\n    \r\n            @Override\r\n            public boolean equals(Object obj) {\r\n                if (this == obj)\r\n                    return true;\r\n                if (obj == null)\r\n                    return false;\r\n                if (getClass() != obj.getClass())\r\n                    return false;\r\n                Pair other = (Pair) obj;\r\n    \r\n                if (x != other.x)\r\n                    return false;\r\n                if (y != other.y)\r\n                    return false;\r\n                return true;\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            App obj = new App();\r\n            obj.show();\r\n        }\r\n    \r\n        private void show() {\r\n            Map&lt;Pair, String&gt; map = new HashMap&lt;&gt;();\r\n            Pair obj1 = new Pair(10, 20);\r\n            Pair obj2 = new Pair(40, 50);\r\n            Pair obj3 = new Pair(10, 20);\r\n            // We can see that obj1 and obj3 have same values. So, we want to store these\r\n            // objects\r\n            // as one .To achieve\r\n            // that,\r\n            // we have overridden equals() and hashCode() methods of Pair class.\r\n    \r\n            map.put(obj1, &quot;First&quot;);\r\n            map.put(obj2, &quot;Second&quot;);\r\n            map.put(obj3, &quot;Third&quot;);\r\n            System.out.printf(&quot;Size of Map is :%d \\n&quot;, map.size());\r\n    \r\n            for (Entry&lt;App.Pair, String&gt; p : map.entrySet()) {\r\n                Pair pair = p.getKey();\r\n                System.out.printf(&quot;Map key-value pair is (%d,%d)-&gt;%s \\n&quot;, pair.x, pair.y, p.getValue());\r\n            }\r\n            // output -\r\n            // Size of Map is :2\r\n            // Map key-value pair is (10,20)-&gt;Third\r\n            // Map key-value pair is (40,50)-&gt;Second\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Can we use object as a key in hashmap in Java?","body":"<p>Yes, we can use any object as key in a Map in java but we need to override the equals() and hashCode() methods of that object class. Please refer an example below, in which I am storing an object of Pair class as key in a hashMap with value type as string in map. I have overriden the hashCode() and equals() methods of Pair class. So, that different objects of Pair class with same values of Pair(x,y) will be treated as one object only.</p>\n<pre><code>import java.util.*;\nimport java.util.Map.Entry;\n\nclass App { // Case-sensitive\n    private class Pair {\n        private int x, y;\n\n        public Pair(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        @Override\n        public int hashCode() {\n            final int prime = 31;\n            int result = 1;\n            result = prime * result + x;\n            result = prime * result + y;\n            return result;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (this == obj)\n                return true;\n            if (obj == null)\n                return false;\n            if (getClass() != obj.getClass())\n                return false;\n            Pair other = (Pair) obj;\n\n            if (x != other.x)\n                return false;\n            if (y != other.y)\n                return false;\n            return true;\n        }\n\n    }\n\n    public static void main(String[] args) {\n        App obj = new App();\n        obj.show();\n    }\n\n    private void show() {\n        Map&lt;Pair, String&gt; map = new HashMap&lt;&gt;();\n        Pair obj1 = new Pair(10, 20);\n        Pair obj2 = new Pair(40, 50);\n        Pair obj3 = new Pair(10, 20);\n        // We can see that obj1 and obj3 have same values. So, we want to store these\n        // objects\n        // as one .To achieve\n        // that,\n        // we have overridden equals() and hashCode() methods of Pair class.\n\n        map.put(obj1, &quot;First&quot;);\n        map.put(obj2, &quot;Second&quot;);\n        map.put(obj3, &quot;Third&quot;);\n        System.out.printf(&quot;Size of Map is :%d \\n&quot;, map.size());\n\n        for (Entry&lt;App.Pair, String&gt; p : map.entrySet()) {\n            Pair pair = p.getKey();\n            System.out.printf(&quot;Map key-value pair is (%d,%d)-&gt;%s \\n&quot;, pair.x, pair.y, p.getValue());\n        }\n        // output -\n        // Size of Map is :2\n        // Map key-value pair is (10,20)-&gt;Third\n        // Map key-value pair is (40,50)-&gt;Second\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5193900,"reputation":420,"user_id":5881763,"display_name":"Mahesh Kshirsagar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79991,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":7,"score":24,"last_activity_date":1662038867,"creation_date":1503468458,"question_id":45831828,"body_markdown":"How to use an object as a key in a hashmap. If you use an object as key do you need to override equals and hashcode methods for that object?","title":"Can we use object as a key in hashmap in Java?","body":"<p>How to use an object as a key in a hashmap. If you use an object as key do you need to override equals and hashcode methods for that object?</p>\n"},{"tags":["java","android","kotlin","image-gallery"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662029512,"post_id":73567736,"comment_id":129914100,"body_markdown":"Show the code you tried. And tell also what you consider to be &#39;gallery&#39;. Also we see no image.","body":"Show the code you tried. And tell also what you consider to be &#39;gallery&#39;. Also we see no image."},{"owner":{"account_id":11907697,"reputation":732,"user_id":8713823,"display_name":"Islam Alshnawey"},"score":0,"creation_date":1662037648,"post_id":73567736,"comment_id":129917019,"body_markdown":"Find This tutorial can help you .\nhttps://www.youtube.com/watch?v=tYB8LuwE0sg\nhttps://github.com/snsurajnath/FunGallery","body":"Find This tutorial can help you . <a href=\"https://www.youtube.com/watch?v=tYB8LuwE0sg\" rel=\"nofollow noreferrer\">youtube.com/watch?v=tYB8LuwE0sg</a> <a href=\"https://github.com/snsurajnath/FunGallery\" rel=\"nofollow noreferrer\">github.com/snsurajnath/FunGallery</a>"},{"owner":{"account_id":14060384,"reputation":71,"user_id":10156612,"display_name":"Alex"},"score":0,"creation_date":1662038552,"post_id":73567736,"comment_id":129917366,"body_markdown":"@Islam Alshnawey source code github wrong. Can&#39;t delete image in gallery","body":"@Islam Alshnawey source code github wrong. Can&#39;t delete image in gallery"},{"owner":{"account_id":14060384,"reputation":71,"user_id":10156612,"display_name":"Alex"},"score":0,"creation_date":1662038791,"post_id":73567736,"comment_id":129917463,"body_markdown":"@blackapps I have tried all code in this link stackoverflow but still can&#39;t delete image in gallery from my device phone\n\nhttps://stackoverflow.com/questions/10716642/android-deleting-an-image\nhttps://stackoverflow.com/questions/60523704/how-to-delete-an-image-from-device-in-android-programmatically\nhttps://stackoverflow.com/questions/31932434/how-to-delete-a-file-from-gallery-in-android","body":"@blackapps I have tried all code in this link stackoverflow but still can&#39;t delete image in gallery from my device phone  <a href=\"https://stackoverflow.com/questions/10716642/android-deleting-an-image\" title=\"android deleting an image\">stackoverflow.com/questions/10716642/android-deleting-an-ima&zwnj;&#8203;ge</a> <a href=\"https://stackoverflow.com/questions/60523704/how-to-delete-an-image-from-device-in-android-programmatically\" title=\"how to delete an image from device in android programmatically\">stackoverflow.com/questions/60523704/&hellip;</a> <a href=\"https://stackoverflow.com/questions/31932434/how-to-delete-a-file-from-gallery-in-android\" title=\"how to delete a file from gallery in android\">stackoverflow.com/questions/31932434/&hellip;</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662047746,"post_id":73567736,"comment_id":129921392,"body_markdown":"I will not follow your link. You should write a better post to begin with. For instance what has your image to do with the file you wanna delete?","body":"I will not follow your link. You should write a better post to begin with. For instance what has your image to do with the file you wanna delete?"},{"owner":{"account_id":14060384,"reputation":71,"user_id":10156612,"display_name":"Alex"},"score":0,"creation_date":1662048653,"post_id":73567736,"comment_id":129921716,"body_markdown":"@ blackapps I can get path uri of image in gallery of my phone. And i want delete that image. But i don&#39;t know how to delete image from gallery by java of kotlin code","body":"@ blackapps I can get path uri of image in gallery of my phone. And i want delete that image. But i don&#39;t know how to delete image from gallery by java of kotlin code"}],"answers":[{"tags":[],"owner":{"account_id":26130203,"reputation":26,"user_id":19821039,"display_name":"Emma Waston"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662028143,"creation_date":1662028143,"answer_id":73567882,"question_id":73567736,"body_markdown":"Try this:\r\n\r\n    File fdelete = new File(uri.getPath());\r\n    if (fdelete.exists()) {\r\n        if (fdelete.delete()) {\r\n            System.out.println(&quot;file Deleted :&quot; + uri.getPath());\r\n        } else {\r\n            System.out.println(&quot;file not Deleted :&quot; + uri.getPath());\r\n        }\r\n    }","title":"Android how to delete image from gallery in my device phone","body":"<p>Try this:</p>\n<pre><code>File fdelete = new File(uri.getPath());\nif (fdelete.exists()) {\n    if (fdelete.delete()) {\n        System.out.println(&quot;file Deleted :&quot; + uri.getPath());\n    } else {\n        System.out.println(&quot;file not Deleted :&quot; + uri.getPath());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14060384,"reputation":71,"user_id":10156612,"display_name":"Alex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662038732,"creation_date":1662027480,"question_id":73567736,"body_markdown":"I want user click action delete image and image will be deleted in gallery. How to delete image in gallery from my phone. I have tried all code in this link stackoverflow but still can&#39;t delete image in gallery from my device phone\r\nhttps://stackoverflow.com/questions/10716642/android-deleting-an-image\r\nhttps://stackoverflow.com/questions/31932434/how-to-delete-a-file-from-gallery-in-android\r\nhttps://stackoverflow.com/questions/60523704/how-to-delete-an-image-from-device-in-android-programmatically\r\n","title":"Android how to delete image from gallery in my device phone","body":"<p>I want user click action delete image and image will be deleted in gallery. How to delete image in gallery from my phone. I have tried all code in this link stackoverflow but still can't delete image in gallery from my device phone\n<a href=\"https://stackoverflow.com/questions/10716642/android-deleting-an-image\">android : deleting an image</a>\n<a href=\"https://stackoverflow.com/questions/31932434/how-to-delete-a-file-from-gallery-in-android\">How to delete a file from Gallery in Android?</a>\n<a href=\"https://stackoverflow.com/questions/60523704/how-to-delete-an-image-from-device-in-android-programmatically\">How to delete an image from device in Android programmatically?</a></p>\n"},{"tags":["java","spring-boot","gradle","groovy"],"answers":[{"tags":[],"owner":{"account_id":3412277,"reputation":171,"user_id":2861947,"display_name":"nikolayandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662038634,"creation_date":1662038634,"answer_id":73570119,"question_id":71347926,"body_markdown":"You need to make spring-boot.properties generated with no time part(what makes springBoot task out of dated what in turn leads compileJava outdated)\r\n\r\n    springBoot {\r\n        buildInfo {\r\n            properties {\r\n                // to make compileJava up to date\r\n                // https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#integrating-with-actuator.build-info\r\n                time = null\r\n            }\r\n        }\r\n    }","title":"Spring Boot buildInfo is causing Groovy Source Set be not &quot;up-to-date&quot; all the time","body":"<p>You need to make spring-boot.properties generated with no time part(what makes springBoot task out of dated what in turn leads compileJava outdated)</p>\n<pre><code>springBoot {\n    buildInfo {\n        properties {\n            // to make compileJava up to date\n            // https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#integrating-with-actuator.build-info\n            time = null\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":426280,"reputation":1903,"user_id":807397,"accept_rate":71,"display_name":"Sebastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662038634,"creation_date":1646379061,"question_id":71347926,"body_markdown":"in our project we are working with \r\n\r\n    springBoot 2.2.11\r\n    groovy 2.5.6\r\n\r\n\r\nOur build.gradle looks like the following:\r\n\r\n```\r\n...\r\nplugins {\r\n  id &#39;groovy&#39;\r\n  id &#39;java&#39;\r\n  id &#39;idea&#39;\r\n}\r\nconfigurations {\r\n  testCompile.extendsFrom compile\r\n  testRuntime.extendsFrom runtime\r\n  ...\r\n}\r\n...\r\nsourceSets {\r\n  test {\r\n    java { srcDirs = [&#39;src/test/java&#39;] }\r\n    groovy {srcDirs = [&#39;src/test/groovy&#39;] }\r\n  }\r\n  ...\r\n}\r\n...\r\nspringBoot {\r\n  buildInfo()\r\n}\r\n...\r\n```\r\n\r\nWhen we run `gradlew test --info` we get the following output:\r\n\r\n```\r\n...\r\n&gt; Task :bootBuildInfo\r\nCaching disabled for task &#39;:bootBuildInfo&#39; because:\r\n  Build cache is disabled\r\nTask &#39;:bootBuildInfo&#39; is not up-to-date because:\r\n  Value of input property &#39;properties.time&#39; has changed for task &#39;:bootBuildInfo&#39;\r\n...\r\n&gt; Task :compileJava UP-TO-DATE\r\n...\r\nSkipping task &#39;:compileJava&#39; as it is up-to-date.\r\n...\r\n&gt; Task :compileTestGroovy\r\nCaching disabled for task &#39;:compileTestGroovy&#39; because:\r\n  Build cache is disabled\r\nTask &#39;:compileTestGroovy&#39; is not up-to-date because:\r\n  Input property &#39;astTransformationClasspath&#39; file C:\\projects\\test-project\\build\\resources\\main\\META-INF\\build-info.properties has changed.\r\nThe input changes require a full rebuild for incremental task &#39;:compileTestGroovy&#39;.\r\n...\r\n```\r\n\r\nThe build-info.properties file which is generated by spring-boots buildInfo step contains a `build.time` property which is updated on every execution. \r\nThe Java Compiler excludes this file apperently as the up-to-date check for `:compileJava` is returning true. However, the `compileGroovy` tasks includes this file into his sourceSet which is why it returns false on the up-to-date check.\r\n\r\n\r\nI already tried the `exclude` option as follows with no success.\r\n```\r\nsourceSets {\r\n  test {\r\n    java { srcDirs = [&#39;src/test/java&#39;] }\r\n    groovy {\r\n      srcDirs = [&#39;src/test/groovy&#39;]\r\n      excludes = [file(&quot;${buildDir}/resources/main/META-INF/build-info.properties&quot;)]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAny ideas on how to fix this? Idealy I would like to exclude the file `build\\resources\\main\\META-INF\\build-info.properties` from the up-to-date-check (or even the input sourceSet of compileGroovy). \r\n","title":"Spring Boot buildInfo is causing Groovy Source Set be not &quot;up-to-date&quot; all the time","body":"<p>in our project we are working with</p>\n<pre><code>springBoot 2.2.11\ngroovy 2.5.6\n</code></pre>\n<p>Our build.gradle looks like the following:</p>\n<pre><code>...\nplugins {\n  id 'groovy'\n  id 'java'\n  id 'idea'\n}\nconfigurations {\n  testCompile.extendsFrom compile\n  testRuntime.extendsFrom runtime\n  ...\n}\n...\nsourceSets {\n  test {\n    java { srcDirs = ['src/test/java'] }\n    groovy {srcDirs = ['src/test/groovy'] }\n  }\n  ...\n}\n...\nspringBoot {\n  buildInfo()\n}\n...\n</code></pre>\n<p>When we run <code>gradlew test --info</code> we get the following output:</p>\n<pre><code>...\n&gt; Task :bootBuildInfo\nCaching disabled for task ':bootBuildInfo' because:\n  Build cache is disabled\nTask ':bootBuildInfo' is not up-to-date because:\n  Value of input property 'properties.time' has changed for task ':bootBuildInfo'\n...\n&gt; Task :compileJava UP-TO-DATE\n...\nSkipping task ':compileJava' as it is up-to-date.\n...\n&gt; Task :compileTestGroovy\nCaching disabled for task ':compileTestGroovy' because:\n  Build cache is disabled\nTask ':compileTestGroovy' is not up-to-date because:\n  Input property 'astTransformationClasspath' file C:\\projects\\test-project\\build\\resources\\main\\META-INF\\build-info.properties has changed.\nThe input changes require a full rebuild for incremental task ':compileTestGroovy'.\n...\n</code></pre>\n<p>The build-info.properties file which is generated by spring-boots buildInfo step contains a <code>build.time</code> property which is updated on every execution.\nThe Java Compiler excludes this file apperently as the up-to-date check for <code>:compileJava</code> is returning true. However, the <code>compileGroovy</code> tasks includes this file into his sourceSet which is why it returns false on the up-to-date check.</p>\n<p>I already tried the <code>exclude</code> option as follows with no success.</p>\n<pre><code>sourceSets {\n  test {\n    java { srcDirs = ['src/test/java'] }\n    groovy {\n      srcDirs = ['src/test/groovy']\n      excludes = [file(&quot;${buildDir}/resources/main/META-INF/build-info.properties&quot;)]\n    }\n  }\n}\n</code></pre>\n<p>Any ideas on how to fix this? Idealy I would like to exclude the file <code>build\\resources\\main\\META-INF\\build-info.properties</code> from the up-to-date-check (or even the input sourceSet of compileGroovy).</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":6,"creation_date":1662037120,"post_id":73569715,"comment_id":129916819,"body_markdown":"Surround those three method calls with a `while(exit_condition)` where `exit_condition` is a boolean expression that needs to be `false` to end the loop. Or use `true` to make it loop indefinitely.","body":"Surround those three method calls with a <code>while(exit_condition)</code> where <code>exit_condition</code> is a boolean expression that needs to be <code>false</code> to end the loop. Or use <code>true</code> to make it loop indefinitely."}],"answers":[{"tags":[],"owner":{"account_id":20007603,"reputation":59,"user_id":14665256,"display_name":"aglamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662038292,"creation_date":1662038292,"answer_id":73570028,"question_id":73569715,"body_markdown":"All you need, is to transfer everything the main method does, to another method and call it in main: \r\n    \r\n    public class main {\r\n    \r\n      public static void main(String[] args) {\r\n            someMethod();\r\n       }\r\n    \r\n      public void someMethod(){\r\n            login();\r\n            assignBudget();\r\n            customiseParts();\r\n       }\r\n\r\n      public void customiseParts(){\r\n            //....your code\r\n            //the option to return to the beginning of the program again\r\n            if(....){\r\n               someMethod();\r\n            }\r\n       }\r\n    }\r\n\r\nThis way you can return to the start whenever you want, just by calling the someMethod().","title":"How can I return to the top of main()?","body":"<p>All you need, is to transfer everything the main method does, to another method and call it in main:</p>\n<pre><code>public class main {\n\n  public static void main(String[] args) {\n        someMethod();\n   }\n\n  public void someMethod(){\n        login();\n        assignBudget();\n        customiseParts();\n   }\n\n  public void customiseParts(){\n        //....your code\n        //the option to return to the beginning of the program again\n        if(....){\n           someMethod();\n        }\n   }\n}\n</code></pre>\n<p>This way you can return to the start whenever you want, just by calling the someMethod().</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662038512,"creation_date":1662038512,"answer_id":73570081,"question_id":73569715,"body_markdown":"Your `CustomiseParts` method could return a `boolean` indicating if the program must do another loop or not:\r\n\r\n    do {\r\n        Login();\r\n        AssignBudget();\r\n    } while(CustomiseParts());\r\n","title":"How can I return to the top of main()?","body":"<p>Your <code>CustomiseParts</code> method could return a <code>boolean</code> indicating if the program must do another loop or not:</p>\n<pre><code>do {\n    Login();\n    AssignBudget();\n} while(CustomiseParts());\n</code></pre>\n"}],"owner":{"account_id":22408097,"reputation":3,"user_id":16617292,"display_name":"Rayane H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73570081,"answer_count":2,"score":-1,"last_activity_date":1662038512,"creation_date":1662036983,"question_id":73569715,"body_markdown":"In my CustomiseParts method, there is an option where the user can return to the beginning of the program again, yet I am not sure how to execute this. All of the necessary code is below, how would I make it so the user can return to the top main() again?\r\n```\r\npublic static void main(String[] args) {\r\n        \r\n        Login();\r\n        AssignBudget();\r\n        CustomiseParts();\r\n      }\r\n```\r\n\r\n\r\n\r\n","title":"How can I return to the top of main()?","body":"<p>In my CustomiseParts method, there is an option where the user can return to the beginning of the program again, yet I am not sure how to execute this. All of the necessary code is below, how would I make it so the user can return to the top main() again?</p>\n<pre><code>public static void main(String[] args) {\n        \n        Login();\n        AssignBudget();\n        CustomiseParts();\n      }\n</code></pre>\n"},{"tags":["java","intersection","jts"],"comments":[{"owner":{"account_id":24565144,"reputation":1,"user_id":18472376,"display_name":"rovibes"},"score":0,"creation_date":1662038356,"post_id":73569942,"comment_id":129917282,"body_markdown":"Yeah, maybe I&#39;m misunderstanding the use if .intersects() method. I&#39;d like just to check if polygon one touches polygon two.","body":"Yeah, maybe I&#39;m misunderstanding the use if .intersects() method. I&#39;d like just to check if polygon one touches polygon two."},{"owner":{"account_id":3233438,"reputation":10331,"user_id":2728148,"accept_rate":50,"display_name":"Cort Ammon"},"score":0,"creation_date":1662038683,"post_id":73569942,"comment_id":129917423,"body_markdown":"I&#39;ll leave the answers to the JTS experts, but this strikes me as a very traditional definition of &quot;intersects.&quot;  `{1, 2, 3}` and `{4, 5, 6}` touch, but have no intersection.  The edges of polygons are *notoriously* difficult to get right in numerical algorithms.  3d graphics people spend a great amount of care ensuring their models don&#39;t have patterns like T junctions which lead to numerical instability in the rendering.","body":"I&#39;ll leave the answers to the JTS experts, but this strikes me as a very traditional definition of &quot;intersects.&quot;  <code>{1, 2, 3}</code> and <code>{4, 5, 6}</code> touch, but have no intersection.  The edges of polygons are <i>notoriously</i> difficult to get right in numerical algorithms.  3d graphics people spend a great amount of care ensuring their models don&#39;t have patterns like T junctions which lead to numerical instability in the rendering."}],"owner":{"account_id":24565144,"reputation":1,"user_id":18472376,"display_name":"rovibes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662038464,"creation_date":1662037893,"question_id":73569942,"body_markdown":"I&#39;m trying to check if two polygons are next to each other and touch eachother. For that purpose I use the method &quot;.intersects()&quot; from the JTS library but it returns false even though visually the two polygons touch eachother.\r\nHere is my code that I test the two polygons. (Keep in mind this is only for testing purposes and the actual code will be rewritten.)\r\n\r\n        String testCoords1 = &quot;M149.9 373.5l-3-3.4-9.4-7.2-5-2-0.7-7.6-1.1-4.1-1.7-3.6-3.3-1.7-2.8-2.3-3.8-3.8-4.2-2.8 5-6.3 6.7-0.7 3.3 2.3 3.8 0.6 2.8-1.6 2.4-2.9 0.4-4.3-2-3.9 7.8-6.5 0.2-10 3.8-7.6 2.5 1 2 2.4 8 5.3 7.7 2.2 8-3.4 7.3-1.6 6.2 5.7 6 0.4 5.7-4-2 5.7-3.3 6.2-8.6 19-3 13.3 2.4 4.7 6.8 16.5 8.4 14.9 5 4.8 1.6 7.2-4 4.1-4.5-2-6.7 1.1-4.3-2.9 1.8-7.1-3.2-6-1.1-3.7 0-2.6-6.5-1.4-3 6.3-4 6.2-5.7-1.4-5.7-4.5-13-7z&quot;;\r\n        String testCoords2 = &quot;M114.9 335l4.2 2.8 3.8 3.8 2.8 2.3 3.3 1.7 1.7 3.6 1.1 4.1 0.7 7.6 5 2 9.4 7.2 3 3.4-5.4 8.2-3.6 9.7 1.7 9.4-2.1 3.2-0.7 3.9-4.4 0.6-4.2-2.3-4.8-0.8-4.6-4-2 5.9-2.7 0.4-3-2-8.6-2.9-3.6 1-9.6 0.8-6.4 5.3-4.4 0.8-3.7-2.3-2.7-4.6-3.5-3.5-3.6-2.2-2.5-4.1-3.3-4.1-2.5-3.8 0.5-6.9-2.8-4.2-4.7 1.4-2.7-3.2-0.6-4.5-2.8-2.9-3-5.2-2.1-6.2-4.9-2.6-6 0.6-7.8-1.2-6.4 0.5 1.2-7.6-1.1-3 4.1-7.9 2.2-2.1 0-2.6-2.4-1.9-2.2-3.3-3.8-9.2-0.3-1.7 1.5-2.3 1.4-1.3 4.1-2.1 1.7-1.5 2.4-3.8 1.5-1.3 5 0.4 2-1.9 2.2-1.5 4.3-0.6 12 3.3 4.9-1.2 4.8-2.1 2-2.6 4.4 4 2.7 4.3 0.9 2.7 1.4 2 1.5-0.2 1.2 1.1 2.6-0.5 2.2-3.9 2.3 1.3-1 6.9 3.2 2.2 3.9-2.4 3.1 3.8 2.7 5.4 4.9 0 1.7 2.9 3 0.7 4.8-0.7 3.1 5 2.4 6.5z&quot;;\r\n\r\n        GeometryFactory geometryFactory = new GeometryFactory();\r\n        ArrayList&lt;Coordinate&gt; coordinatesShape1 = calcGeo(testCoords1);\r\n        ArrayList&lt;Coordinate&gt; coordinatesShape2 = calcGeo(testCoords2);\r\n\r\n        Polygon poly1 = geometryFactory.createPolygon(coordinatesShape1.toArray(new Coordinate[] {}));\r\n        boolean valid = poly1.isValid();\r\n        System.out.println(valid);\r\n\r\n        Polygon poly2 = geometryFactory.createPolygon(coordinatesShape2.toArray(new Coordinate[] {}));\r\n        boolean valid2 = poly2.isValid();\r\n        System.out.println(valid2);\r\n\r\n        boolean intersects = poly1.intersects(poly2);\r\n        System.out.println(intersects);\r\nThis is the code for calcGeo() method that I use to seperate the coordinates and save them in an ArrayList&lt;Coordinate&gt; (This will be rewritten as well)\r\n\r\n    private ArrayList&lt;Coordinate&gt; calcGeo(String coords)\r\n    {\r\n        Pattern p = Pattern.compile(&quot;\\\\([mzlhvcsqta]|[\\\\+\\\\-]?(\\\\d*\\\\.\\\\d+|\\\\d+\\\\.?)([eE][\\\\+\\\\-]?\\\\d+)*&quot;);\r\n        Matcher m = p.matcher(coords);\r\n        double X = 0;\r\n        double Y = 0;\r\n        int index = 0;\r\n        ArrayList&lt;Coordinate&gt; points = new ArrayList&lt;&gt;();\r\n\r\n        while(m.find()) {\r\n            //System.out.println(m.group());\r\n            switch (index)\r\n            {\r\n                case 0: X = Double.parseDouble(m.group()); break;\r\n                case 1: Y = Double.parseDouble(m.group()); break;\r\n            }\r\n            if (index % 2 == 0 &amp;&amp; index != 0)\r\n            {\r\n                double calcX = X + Double.parseDouble(m.group());\r\n                //System.out.println(calcX);\r\n                X = calcX;\r\n            }else if(index % 2 == 1 &amp;&amp; index != 1)\r\n            {\r\n                double calcY = Y + Double.parseDouble(m.group());\r\n                //System.out.println(calcY);\r\n                Y = calcY;\r\n            }\r\n            if (index % 2 == 1)\r\n            {\r\n                points.add(new Coordinate(X, Y)); //Add the coords to the list every second time so both X and Y are calculated.\r\n            }\r\n            index++;\r\n        }\r\n        points.add(points.get(0));  //After all the points are mapped complete the polygon by adding the first pair of coords to the end of the list.\r\n        return points;\r\n    }\r\nBasically I have two Strings with SVG data coordinates which I pass to calcGeo method so I can extract only the coordinates.\r\nThen I save those to two ArrayLists and with those I construct the two polygons and check if they are valid.\r\nFor those two exact polygons&quot;.intersects()&quot; is returning &quot;false&quot; but clearly they touch each other(see the image).\r\n[The two coordiante paths visualized][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tgHVu.png\r\n\r\nIs this the right approach for me to check if two polygons are next to each other and touch ?\r\nIf it is how could I fix this bug ? If not whats the best approach to check that ?","title":"JTS Polygon.intersects() returns false even though the two polygons touch eachother","body":"<p>I'm trying to check if two polygons are next to each other and touch eachother. For that purpose I use the method &quot;.intersects()&quot; from the JTS library but it returns false even though visually the two polygons touch eachother.\nHere is my code that I test the two polygons. (Keep in mind this is only for testing purposes and the actual code will be rewritten.)</p>\n<pre><code>    String testCoords1 = &quot;M149.9 373.5l-3-3.4-9.4-7.2-5-2-0.7-7.6-1.1-4.1-1.7-3.6-3.3-1.7-2.8-2.3-3.8-3.8-4.2-2.8 5-6.3 6.7-0.7 3.3 2.3 3.8 0.6 2.8-1.6 2.4-2.9 0.4-4.3-2-3.9 7.8-6.5 0.2-10 3.8-7.6 2.5 1 2 2.4 8 5.3 7.7 2.2 8-3.4 7.3-1.6 6.2 5.7 6 0.4 5.7-4-2 5.7-3.3 6.2-8.6 19-3 13.3 2.4 4.7 6.8 16.5 8.4 14.9 5 4.8 1.6 7.2-4 4.1-4.5-2-6.7 1.1-4.3-2.9 1.8-7.1-3.2-6-1.1-3.7 0-2.6-6.5-1.4-3 6.3-4 6.2-5.7-1.4-5.7-4.5-13-7z&quot;;\n    String testCoords2 = &quot;M114.9 335l4.2 2.8 3.8 3.8 2.8 2.3 3.3 1.7 1.7 3.6 1.1 4.1 0.7 7.6 5 2 9.4 7.2 3 3.4-5.4 8.2-3.6 9.7 1.7 9.4-2.1 3.2-0.7 3.9-4.4 0.6-4.2-2.3-4.8-0.8-4.6-4-2 5.9-2.7 0.4-3-2-8.6-2.9-3.6 1-9.6 0.8-6.4 5.3-4.4 0.8-3.7-2.3-2.7-4.6-3.5-3.5-3.6-2.2-2.5-4.1-3.3-4.1-2.5-3.8 0.5-6.9-2.8-4.2-4.7 1.4-2.7-3.2-0.6-4.5-2.8-2.9-3-5.2-2.1-6.2-4.9-2.6-6 0.6-7.8-1.2-6.4 0.5 1.2-7.6-1.1-3 4.1-7.9 2.2-2.1 0-2.6-2.4-1.9-2.2-3.3-3.8-9.2-0.3-1.7 1.5-2.3 1.4-1.3 4.1-2.1 1.7-1.5 2.4-3.8 1.5-1.3 5 0.4 2-1.9 2.2-1.5 4.3-0.6 12 3.3 4.9-1.2 4.8-2.1 2-2.6 4.4 4 2.7 4.3 0.9 2.7 1.4 2 1.5-0.2 1.2 1.1 2.6-0.5 2.2-3.9 2.3 1.3-1 6.9 3.2 2.2 3.9-2.4 3.1 3.8 2.7 5.4 4.9 0 1.7 2.9 3 0.7 4.8-0.7 3.1 5 2.4 6.5z&quot;;\n\n    GeometryFactory geometryFactory = new GeometryFactory();\n    ArrayList&lt;Coordinate&gt; coordinatesShape1 = calcGeo(testCoords1);\n    ArrayList&lt;Coordinate&gt; coordinatesShape2 = calcGeo(testCoords2);\n\n    Polygon poly1 = geometryFactory.createPolygon(coordinatesShape1.toArray(new Coordinate[] {}));\n    boolean valid = poly1.isValid();\n    System.out.println(valid);\n\n    Polygon poly2 = geometryFactory.createPolygon(coordinatesShape2.toArray(new Coordinate[] {}));\n    boolean valid2 = poly2.isValid();\n    System.out.println(valid2);\n\n    boolean intersects = poly1.intersects(poly2);\n    System.out.println(intersects);\n</code></pre>\n<p>This is the code for calcGeo() method that I use to seperate the coordinates and save them in an ArrayList (This will be rewritten as well)</p>\n<pre><code>private ArrayList&lt;Coordinate&gt; calcGeo(String coords)\n{\n    Pattern p = Pattern.compile(&quot;\\\\([mzlhvcsqta]|[\\\\+\\\\-]?(\\\\d*\\\\.\\\\d+|\\\\d+\\\\.?)([eE][\\\\+\\\\-]?\\\\d+)*&quot;);\n    Matcher m = p.matcher(coords);\n    double X = 0;\n    double Y = 0;\n    int index = 0;\n    ArrayList&lt;Coordinate&gt; points = new ArrayList&lt;&gt;();\n\n    while(m.find()) {\n        //System.out.println(m.group());\n        switch (index)\n        {\n            case 0: X = Double.parseDouble(m.group()); break;\n            case 1: Y = Double.parseDouble(m.group()); break;\n        }\n        if (index % 2 == 0 &amp;&amp; index != 0)\n        {\n            double calcX = X + Double.parseDouble(m.group());\n            //System.out.println(calcX);\n            X = calcX;\n        }else if(index % 2 == 1 &amp;&amp; index != 1)\n        {\n            double calcY = Y + Double.parseDouble(m.group());\n            //System.out.println(calcY);\n            Y = calcY;\n        }\n        if (index % 2 == 1)\n        {\n            points.add(new Coordinate(X, Y)); //Add the coords to the list every second time so both X and Y are calculated.\n        }\n        index++;\n    }\n    points.add(points.get(0));  //After all the points are mapped complete the polygon by adding the first pair of coords to the end of the list.\n    return points;\n}\n</code></pre>\n<p>Basically I have two Strings with SVG data coordinates which I pass to calcGeo method so I can extract only the coordinates.\nThen I save those to two ArrayLists and with those I construct the two polygons and check if they are valid.\nFor those two exact polygons&quot;.intersects()&quot; is returning &quot;false&quot; but clearly they touch each other(see the image).\n<a href=\"https://i.stack.imgur.com/tgHVu.png\" rel=\"nofollow noreferrer\">The two coordiante paths visualized</a></p>\n<p>Is this the right approach for me to check if two polygons are next to each other and touch ?\nIf it is how could I fix this bug ? If not whats the best approach to check that ?</p>\n"},{"tags":["java","vaadin-flow","vaadin-grid","vaadin14"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1636015344,"post_id":69836110,"comment_id":123446427,"body_markdown":"Can you modify your example to show where you are invoking your `closeEditors()` method?","body":"Can you modify your example to show where you are invoking your <code>closeEditors()</code> method?"},{"owner":{"account_id":23236010,"reputation":11,"user_id":17326014,"display_name":"Xragg"},"score":0,"creation_date":1636016816,"post_id":69836110,"comment_id":123446990,"body_markdown":"Thanks for the reply, I added some code. Hope it helps !","body":"Thanks for the reply, I added some code. Hope it helps !"}],"answers":[{"tags":[],"owner":{"account_id":7289005,"reputation":1,"user_id":5556140,"display_name":"Vic Ricker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662038458,"creation_date":1662038458,"answer_id":73570066,"question_id":69836110,"body_markdown":"Make sure that the objects in your grid have proper equals and hashcode methods and that the field(s) being edited do not influence them.\r\n\r\nI use the PK from the database.\r\n","title":"Vaadin unbuffered grids won&#39;t close","body":"<p>Make sure that the objects in your grid have proper equals and hashcode methods and that the field(s) being edited do not influence them.</p>\n<p>I use the PK from the database.</p>\n"}],"owner":{"account_id":23236010,"reputation":11,"user_id":17326014,"display_name":"Xragg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662038458,"creation_date":1636013683,"question_id":69836110,"body_markdown":"I am having a weird problem on my Vaadin app. I have a screen with two separate unbuffered grids.\r\nThe user is able to edit the data in those two grids and then click a &quot;Save&quot; button to save the changes made.\r\nMy problem is that I want to close the editors when the user clicks on &quot;Save&quot;.\r\nI tried the following code:\r\n\r\n    private void closeEditors() {\r\n        if (tab1.getEditor().isOpen()) {\r\n            tab1.getEditor().closeEditor();\r\n        }\r\n        if (tab2.getEditor().isOpen()) {\r\n            tab2.getEditor().closeEditor();\r\n        }\r\n    } \r\n\r\nI don&#39;t understand why this code doesn&#39;t work, editors stay opened. I also tried calling the ```cancel``` method but in vain.\r\nI am using Vaadin 14.\r\nI am posting this here with not much hope of finding an answer, this problem seems really precise.\r\nBut with any luck, maybe someone has experienced a similar issue ?\r\nMaybe there is another glitchier way of forcing my editors to close ? \r\n\r\nAny suggestion would be of great help, thanks in advance for anything you could think of !\r\n\r\n\r\n**EDIT: a little more code**\r\n&lt;br&gt;\r\nThis is the grids:\r\n\r\n    private Grid&lt;Map&lt;String, String&gt;&gt; tab1;\r\n    private Grid&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; tab2;\r\n\r\n\r\n&lt;br&gt;This is the save function\r\n\r\n\r\n    public void saveData() {\r\n        saveDataFromTab1();\r\n        saveDataFromTab2();\r\n\r\n        try {\r\n            ServicesProxyImpl.getInstance().updateInBD(someObject);\r\n            saveButton.setEnabled(false);\r\n            cancelButton.setEnabled(false);\r\n            closeEditors();\r\n\r\n            Dialog dialog = VaadinComponentUtils.generateDialog(Constantes.MSG_SAVE_OK);\r\n            dialog.open();\r\n        } catch (JAXBException e) {\r\n            e.printStackTrace();\r\n            Dialog dialog = VaadinComponentUtils.generateDialog(Constantes.MSG_SAVE_KO);\r\n            dialog.open();\r\n        }\r\n    }\r\n\r\nAnd this is the save button:\r\n\r\n    public Button getSaveButton() {\r\n        Button saveButton= VaadinComponentUtils.generateButton(&quot;Save&quot;,\r\n                VaadinIcon.CHECK_CIRCLE_O, null, true);\r\n        saveButton.setEnabled(false);\r\n        saveButton.addClickListener(event -&gt; saveData());\r\n\r\n        return saveButton;\r\n    }\r\n\r\n\r\n**EDIT 2:**&lt;br&gt;\r\nI have noticed something, when I click on an element of one of my two grids, I want the editor to open for that specific element and I want to close the editor on the other grid (the one not concerned by the modification).&lt;br&gt; This works ! My grids behave like I want. &lt;br&gt;It seems I am only losing control over my editors after I have actually modified one of the cells and clicked on my save button.&lt;br&gt;\r\nThe ```isOpen``` function returns false on both grids after I call my ```closeEditors``` function, so it seems the grid thinks its editor is closed but it is still opened on my UI.\r\n\r\n**EDIT 3: I have found a workaround**&lt;br&gt;\r\nWell, I have solved my problem by adding a close event listener on both my grids and calling ```resetGrids``` when the close event is fired. This function simply removes the grids from the UI, fetches the data to be displayed and then adds the grid one again, both editors being closed. &lt;br&gt;I guess it solves my problem but I would have wanted to understand what was going on...\r\n```\r\n    private void closeEditors() {\r\n        tableauHoraires.getEditor().addCloseListener(e -&gt; resetGrids());\r\n        tableauRamassagePorteAPorte.getEditor().addCloseListener(e -&gt; resetGrids());\r\n        if (tableauRamassagePorteAPorte.getEditor().isOpen()) {\r\n            tableauRamassagePorteAPorte.getEditor().closeEditor();\r\n        }\r\n        if (tableauHoraires.getEditor().isOpen()) {\r\n            tableauHoraires.getEditor().closeEditor();\r\n            tableauHoraires.getEditor().refresh();\r\n        }\r\n    }\r\n```","title":"Vaadin unbuffered grids won&#39;t close","body":"<p>I am having a weird problem on my Vaadin app. I have a screen with two separate unbuffered grids.\nThe user is able to edit the data in those two grids and then click a &quot;Save&quot; button to save the changes made.\nMy problem is that I want to close the editors when the user clicks on &quot;Save&quot;.\nI tried the following code:</p>\n<pre><code>private void closeEditors() {\n    if (tab1.getEditor().isOpen()) {\n        tab1.getEditor().closeEditor();\n    }\n    if (tab2.getEditor().isOpen()) {\n        tab2.getEditor().closeEditor();\n    }\n} \n</code></pre>\n<p>I don't understand why this code doesn't work, editors stay opened. I also tried calling the <code>cancel</code> method but in vain.\nI am using Vaadin 14.\nI am posting this here with not much hope of finding an answer, this problem seems really precise.\nBut with any luck, maybe someone has experienced a similar issue ?\nMaybe there is another glitchier way of forcing my editors to close ?</p>\n<p>Any suggestion would be of great help, thanks in advance for anything you could think of !</p>\n<p><strong>EDIT: a little more code</strong>\n<br>\nThis is the grids:</p>\n<pre><code>private Grid&lt;Map&lt;String, String&gt;&gt; tab1;\nprivate Grid&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; tab2;\n</code></pre>\n<p><br>This is the save function</p>\n<pre><code>public void saveData() {\n    saveDataFromTab1();\n    saveDataFromTab2();\n\n    try {\n        ServicesProxyImpl.getInstance().updateInBD(someObject);\n        saveButton.setEnabled(false);\n        cancelButton.setEnabled(false);\n        closeEditors();\n\n        Dialog dialog = VaadinComponentUtils.generateDialog(Constantes.MSG_SAVE_OK);\n        dialog.open();\n    } catch (JAXBException e) {\n        e.printStackTrace();\n        Dialog dialog = VaadinComponentUtils.generateDialog(Constantes.MSG_SAVE_KO);\n        dialog.open();\n    }\n}\n</code></pre>\n<p>And this is the save button:</p>\n<pre><code>public Button getSaveButton() {\n    Button saveButton= VaadinComponentUtils.generateButton(&quot;Save&quot;,\n            VaadinIcon.CHECK_CIRCLE_O, null, true);\n    saveButton.setEnabled(false);\n    saveButton.addClickListener(event -&gt; saveData());\n\n    return saveButton;\n}\n</code></pre>\n<p><strong>EDIT 2:</strong><br>\nI have noticed something, when I click on an element of one of my two grids, I want the editor to open for that specific element and I want to close the editor on the other grid (the one not concerned by the modification).<br> This works ! My grids behave like I want. <br>It seems I am only losing control over my editors after I have actually modified one of the cells and clicked on my save button.<br>\nThe <code>isOpen</code> function returns false on both grids after I call my <code>closeEditors</code> function, so it seems the grid thinks its editor is closed but it is still opened on my UI.</p>\n<p><strong>EDIT 3: I have found a workaround</strong><br>\nWell, I have solved my problem by adding a close event listener on both my grids and calling <code>resetGrids</code> when the close event is fired. This function simply removes the grids from the UI, fetches the data to be displayed and then adds the grid one again, both editors being closed. <br>I guess it solves my problem but I would have wanted to understand what was going on...</p>\n<pre><code>    private void closeEditors() {\n        tableauHoraires.getEditor().addCloseListener(e -&gt; resetGrids());\n        tableauRamassagePorteAPorte.getEditor().addCloseListener(e -&gt; resetGrids());\n        if (tableauRamassagePorteAPorte.getEditor().isOpen()) {\n            tableauRamassagePorteAPorte.getEditor().closeEditor();\n        }\n        if (tableauHoraires.getEditor().isOpen()) {\n            tableauHoraires.getEditor().closeEditor();\n            tableauHoraires.getEditor().refresh();\n        }\n    }\n</code></pre>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1662038293,"post_id":73569982,"comment_id":129917246,"body_markdown":"Why did you initialise `separator` to `&quot;&quot;`, and then appended it to the string builder? That does practically nothing.","body":"Why did you initialise <code>separator</code> to <code>&quot;&quot;</code>, and then appended it to the string builder? That does practically nothing."}],"answers":[{"tags":[],"owner":{"account_id":13832344,"reputation":1457,"user_id":9984846,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662038328,"creation_date":1662038328,"answer_id":73570038,"question_id":73569982,"body_markdown":"Your problem is, that in the loop you are overwriting the separator again with a &quot;&quot; at the next loop. I changed it here by moving the separator to the beginning. Then, upon the next cycle, it will still contain the newline sign.\r\n\r\n```\r\nStringBuilder sb=new StringBuilder();\r\nString separator=&quot;&quot;;\r\nfor(Map.Entry&lt;String, String&gt; entry:host.keys.entrySet()){\r\n    if(this.keys.containsKey(entry.getKey())){\r\n        if(entry.getValue().equals(this.keys.get(entry.getKey()))){\r\n            sb.append(separator);\r\n            sb.append(host.hostnamen);\r\n            sb.append(&quot; &quot;);\r\n            sb.append(entry.getKey());\r\n            sb.append(&quot; &quot;);\r\n            sb.append(entry.getValue());\r\n            separator=&quot;\\n&quot;;\r\n\r\n        }\r\n    }\r\n}\r\nSystem.out.println(sb.toString());\r\n```","title":"How can I remove the last &quot;new line&quot; from the StringBuilder?","body":"<p>Your problem is, that in the loop you are overwriting the separator again with a &quot;&quot; at the next loop. I changed it here by moving the separator to the beginning. Then, upon the next cycle, it will still contain the newline sign.</p>\n<pre><code>StringBuilder sb=new StringBuilder();\nString separator=&quot;&quot;;\nfor(Map.Entry&lt;String, String&gt; entry:host.keys.entrySet()){\n    if(this.keys.containsKey(entry.getKey())){\n        if(entry.getValue().equals(this.keys.get(entry.getKey()))){\n            sb.append(separator);\n            sb.append(host.hostnamen);\n            sb.append(&quot; &quot;);\n            sb.append(entry.getKey());\n            sb.append(&quot; &quot;);\n            sb.append(entry.getValue());\n            separator=&quot;\\n&quot;;\n\n        }\n    }\n}\nSystem.out.println(sb.toString());\n</code></pre>\n"}],"owner":{"account_id":26019044,"reputation":3,"user_id":19726989,"display_name":"enemu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73570038,"answer_count":1,"score":-2,"last_activity_date":1662038328,"creation_date":1662038066,"question_id":73569982,"body_markdown":"I have a set with hosts and a map with keys. I want to give out all with a StringBuilder. I tried this and more but didn&#39;t succeed.\r\n\r\n```java\r\nStringBuilder sb=new StringBuilder();\r\n    for(Map.Entry&lt;String, String&gt; entry:host.keys.entrySet()){\r\n        if(this.keys.containsKey(entry.getKey())){\r\n            if(entry.getValue().equals(this.keys.get(entry.getKey()))){\r\n\r\n                String separator=&quot;&quot;;\r\n                sb.append(separator);\r\n                sb.append(host.hostnamen);\r\n                sb.append(&quot; &quot;);\r\n                sb.append(entry.getKey());\r\n                sb.append(&quot; &quot;);\r\n                sb.append(entry.getValue());\r\n                separator=&quot;\\n&quot;;\r\n\r\n            }\r\n        }\r\n    }\r\n    System.out.println(sb.toString());\r\n```\r\nThis is what I get.\r\n```java\r\n[klon] ssh-rsa AAAABXYZ[klon] ssh-xxx abc[klon] ssh-yyy def\r\n```\r\nThis is what I expected...\r\n```\r\n[klon] ssh-rsa AAAABXYZ\r\n[klon] ssh-xxx abc\r\n[klon] ssh-yyy def\r\n```","title":"How can I remove the last &quot;new line&quot; from the StringBuilder?","body":"<p>I have a set with hosts and a map with keys. I want to give out all with a StringBuilder. I tried this and more but didn't succeed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder sb=new StringBuilder();\n    for(Map.Entry&lt;String, String&gt; entry:host.keys.entrySet()){\n        if(this.keys.containsKey(entry.getKey())){\n            if(entry.getValue().equals(this.keys.get(entry.getKey()))){\n\n                String separator=&quot;&quot;;\n                sb.append(separator);\n                sb.append(host.hostnamen);\n                sb.append(&quot; &quot;);\n                sb.append(entry.getKey());\n                sb.append(&quot; &quot;);\n                sb.append(entry.getValue());\n                separator=&quot;\\n&quot;;\n\n            }\n        }\n    }\n    System.out.println(sb.toString());\n</code></pre>\n<p>This is what I get.</p>\n<pre class=\"lang-java prettyprint-override\"><code>[klon] ssh-rsa AAAABXYZ[klon] ssh-xxx abc[klon] ssh-yyy def\n</code></pre>\n<p>This is what I expected...</p>\n<pre><code>[klon] ssh-rsa AAAABXYZ\n[klon] ssh-xxx abc\n[klon] ssh-yyy def\n</code></pre>\n"},{"tags":["java","lzo","hadoop-lzo"],"comments":[{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":0,"creation_date":1662020153,"post_id":73566051,"comment_id":129910753,"body_markdown":"Have you verified with external tools that the input file is decompressable? Also: `/desktop` if a very weird absolute path that won&#39;t work on most systems, so I assume you&#39;ve replaced the actual path (especially since at another place you specify `/Desktop`).","body":"Have you verified with external tools that the input file is decompressable? Also: <code>&#47;desktop</code> if a very weird absolute path that won&#39;t work on most systems, so I assume you&#39;ve replaced the actual path (especially since at another place you specify <code>&#47;Desktop</code>)."},{"owner":{"account_id":14486858,"reputation":31,"user_id":10464481,"display_name":"Pritam007"},"score":0,"creation_date":1662020530,"post_id":73566051,"comment_id":129910885,"body_markdown":"@GenerousBadger Path is correct it is like user/user_name/desktop \nempty test.txt file is generating on desktop","body":"@GenerousBadger Path is correct it is like user/user_name/desktop  empty test.txt file is generating on desktop"},{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":0,"creation_date":1662025702,"post_id":73566051,"comment_id":129912839,"body_markdown":"You seem to have missed my first question.","body":"You seem to have missed my first question."}],"answers":[{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662038256,"creation_date":1662038256,"answer_id":73570021,"question_id":73566051,"body_markdown":"I have used **LzopInputStream** instead of **LzoInputStream** and the file got decompressed successfully in Linux. I used following code :\r\n\r\n    public static void decompressOriginal() throws Exception\r\n    \t{\r\n    \t\tString basePath = &quot;/home/saad/CompressionTest/&quot;;\r\n    \t\tString compressedFileName = &quot;temp1.lzo&quot;;\r\n    \t\tString afterDecompressFilename = &quot;temp1.txt&quot;;\r\n    \r\n    \t\tSystem.out.println(&quot;Decompressing:&quot; + compressedFileName);\r\n    \r\n    \t\tInputStream in = new FileInputStream(new File(basePath + compressedFileName));\r\n    \r\n    \t\tLzoInputStream stream = new LzopInputStream(in);\r\n    \r\n    \t\tOutputStream outputStream = new FileOutputStream(new File(basePath + afterDecompressFilename));\r\n    \r\n    \t\tint len;\r\n    \t\tbyte[] bytes = new byte[256];\r\n    \r\n    \t\twhile ((len = stream.read(bytes)) != -1)\r\n    \t\t{\r\n    \t\t\toutputStream.write(bytes, 0, len);\r\n    \t\t}\r\n    \t\toutputStream.close();\r\n    \t\tstream.close();\r\n    \r\n    \t\tSystem.out.println(&quot;Successfully Decompressed:&quot; + afterDecompressFilename);\r\n    \t}\r\n\r\nHowever, I used following code to compress file:\r\n\r\n    public static void compressFile() throws IOException\r\n    \t{\r\n    \t\tString basePath = &quot;/home/saad/CompressionTest/&quot;;\r\n    \t\tString sourceFile = &quot;source1.sql&quot;;\r\n    \t\tString destinationFile = &quot;temp1.lzo&quot;;\r\n    \r\n    \t\tFile plainTextFile = new File(basePath + sourceFile);\r\n    \r\n    \t\tInputStream inputStream = new FileInputStream(plainTextFile);\r\n    \r\n    \t\tbyte[] byteArray = org.apache.commons.io.IOUtils.toByteArray(inputStream);\r\n    \r\n    \t\tinputStream.close();\r\n    \r\n    \t\tSystem.out.println(&quot;File:&quot; + sourceFile + &quot; Array Size:&quot; + byteArray.length);\r\n    \r\n    \t\tLzoCompressor compressor = LzoLibrary.getInstance().newCompressor(LzoAlgorithm.LZO1X, null);\r\n    \t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    \t\tLzopOutputStream lzopOutputStream = new LzopOutputStream(outputStream, compressor, 1024 * 100, LzopConstants.F_ADLER32_C);\r\n    \r\n    \t\tlzopOutputStream.write(byteArray);\r\n    \t\tlzopOutputStream.close();\r\n    \r\n    \t\tSystem.out.println(&quot;Compression Complete:&quot; + sourceFile);\r\n    \r\n    \t\torg.apache.commons.io.FileUtils.writeByteArrayToFile(new File(basePath + destinationFile), outputStream.toByteArray());\r\n    \r\n    \t\tSystem.out.println(&quot;Written File:&quot; + destinationFile);\r\n    \t}\r\nBecause when I used system software for compression it gave following error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.io.IOException: Compressed with\r\n&gt; incompatible lzo version: 0x2080 (expected 0x2050)\r\nBecause LZO compression is updated, but I was not able to get updated version of used library. \r\n\r\nWe would need to use some other library with the support of latest LZO Version for that.","title":"How to decompress LZO file using java (using library lzo-core)","body":"<p>I have used <strong>LzopInputStream</strong> instead of <strong>LzoInputStream</strong> and the file got decompressed successfully in Linux. I used following code :</p>\n<pre><code>public static void decompressOriginal() throws Exception\n    {\n        String basePath = &quot;/home/saad/CompressionTest/&quot;;\n        String compressedFileName = &quot;temp1.lzo&quot;;\n        String afterDecompressFilename = &quot;temp1.txt&quot;;\n\n        System.out.println(&quot;Decompressing:&quot; + compressedFileName);\n\n        InputStream in = new FileInputStream(new File(basePath + compressedFileName));\n\n        LzoInputStream stream = new LzopInputStream(in);\n\n        OutputStream outputStream = new FileOutputStream(new File(basePath + afterDecompressFilename));\n\n        int len;\n        byte[] bytes = new byte[256];\n\n        while ((len = stream.read(bytes)) != -1)\n        {\n            outputStream.write(bytes, 0, len);\n        }\n        outputStream.close();\n        stream.close();\n\n        System.out.println(&quot;Successfully Decompressed:&quot; + afterDecompressFilename);\n    }\n</code></pre>\n<p>However, I used following code to compress file:</p>\n<pre><code>public static void compressFile() throws IOException\n    {\n        String basePath = &quot;/home/saad/CompressionTest/&quot;;\n        String sourceFile = &quot;source1.sql&quot;;\n        String destinationFile = &quot;temp1.lzo&quot;;\n\n        File plainTextFile = new File(basePath + sourceFile);\n\n        InputStream inputStream = new FileInputStream(plainTextFile);\n\n        byte[] byteArray = org.apache.commons.io.IOUtils.toByteArray(inputStream);\n\n        inputStream.close();\n\n        System.out.println(&quot;File:&quot; + sourceFile + &quot; Array Size:&quot; + byteArray.length);\n\n        LzoCompressor compressor = LzoLibrary.getInstance().newCompressor(LzoAlgorithm.LZO1X, null);\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        LzopOutputStream lzopOutputStream = new LzopOutputStream(outputStream, compressor, 1024 * 100, LzopConstants.F_ADLER32_C);\n\n        lzopOutputStream.write(byteArray);\n        lzopOutputStream.close();\n\n        System.out.println(&quot;Compression Complete:&quot; + sourceFile);\n\n        org.apache.commons.io.FileUtils.writeByteArrayToFile(new File(basePath + destinationFile), outputStream.toByteArray());\n\n        System.out.println(&quot;Written File:&quot; + destinationFile);\n    }\n</code></pre>\n<p>Because when I used system software for compression it gave following error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.io.IOException: Compressed with\nincompatible lzo version: 0x2080 (expected 0x2050)\nBecause LZO compression is updated, but I was not able to get updated version of used library.</p>\n</blockquote>\n<p>We would need to use some other library with the support of latest LZO Version for that.</p>\n"}],"owner":{"account_id":14486858,"reputation":31,"user_id":10464481,"display_name":"Pritam007"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662038256,"creation_date":1662019405,"question_id":73566051,"body_markdown":"I am getting the issue while trying to decompress the LZO file using java. Below is the code and error I have pasted, can someone please help me on this\r\n\r\n    \r\n        import org.anarres.lzo.*;\r\n            \r\n        import java.io.*;\r\n        \r\n        public class LZODecompression {\r\n        \r\n        public static void  main(String args[]) throws IOException {\r\n        \r\n        InputStream in = new FileInputStream(new \r\n        File(&quot;/desktop/mm_impressions_101349_20220723_2022072802.txt.lzo&quot;));\r\n        LzoAlgorithm algorithm = LzoAlgorithm.LZO1X;\r\n        LzoDecompressor decompressor = LzoLibrary.getInstance().newDecompressor(algorithm, \r\n        null);\r\n        LzoInputStream stream = new LzoInputStream(in, decompressor);\r\n        OutputStream outputStream = new FileOutputStream(new File(&quot;/Desktop/test.txt&quot;));\r\n        int len;\r\n        byte[] bytes = new byte[1024];\r\n        \r\n        while ((len = stream.read(bytes)) != -1) {\r\n        outputStream.write(bytes, 0, len);\r\n        }\r\n        outputStream.close();\r\n        stream.close();\r\n        }\r\n       }\r\n\r\n    \r\n    Exception in thread &quot;main&quot; java.io.EOFException\r\n    \tat org.anarres.lzo.LzoInputStream.readBytes(LzoInputStream.java:183)\r\n    \tat org.anarres.lzo.LzoInputStream.readBlock(LzoInputStream.java:132)\r\n    \tat org.anarres.lzo.LzoInputStream.fill(LzoInputStream.java:119)\r\n    \tat org.anarres.lzo.LzoInputStream.read(LzoInputStream.java:102)\r\n    \tat org.anarres.lzo.LzoInputStream.read(LzoInputStream.java:97)\r\n    \tat org.example.LZODecompression.main(LZODecompression.java:37)\r\n    \r\n   \r\n","title":"How to decompress LZO file using java (using library lzo-core)","body":"<p>I am getting the issue while trying to decompress the LZO file using java. Below is the code and error I have pasted, can someone please help me on this</p>\n<pre><code>    import org.anarres.lzo.*;\n        \n    import java.io.*;\n    \n    public class LZODecompression {\n    \n    public static void  main(String args[]) throws IOException {\n    \n    InputStream in = new FileInputStream(new \n    File(&quot;/desktop/mm_impressions_101349_20220723_2022072802.txt.lzo&quot;));\n    LzoAlgorithm algorithm = LzoAlgorithm.LZO1X;\n    LzoDecompressor decompressor = LzoLibrary.getInstance().newDecompressor(algorithm, \n    null);\n    LzoInputStream stream = new LzoInputStream(in, decompressor);\n    OutputStream outputStream = new FileOutputStream(new File(&quot;/Desktop/test.txt&quot;));\n    int len;\n    byte[] bytes = new byte[1024];\n    \n    while ((len = stream.read(bytes)) != -1) {\n    outputStream.write(bytes, 0, len);\n    }\n    outputStream.close();\n    stream.close();\n    }\n   }\n\n\nException in thread &quot;main&quot; java.io.EOFException\n    at org.anarres.lzo.LzoInputStream.readBytes(LzoInputStream.java:183)\n    at org.anarres.lzo.LzoInputStream.readBlock(LzoInputStream.java:132)\n    at org.anarres.lzo.LzoInputStream.fill(LzoInputStream.java:119)\n    at org.anarres.lzo.LzoInputStream.read(LzoInputStream.java:102)\n    at org.anarres.lzo.LzoInputStream.read(LzoInputStream.java:97)\n    at org.example.LZODecompression.main(LZODecompression.java:37)\n</code></pre>\n"},{"tags":["java","unicode","pdfbox","glyph"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1473843069,"post_id":39485920,"comment_id":66290600,"body_markdown":"Please share the PDF.","body":"Please share the PDF."},{"owner":{"account_id":9188404,"reputation":83,"user_id":6829737,"display_name":"omri a"},"score":0,"creation_date":1473944155,"post_id":39485920,"comment_id":66339034,"body_markdown":"I Wish I could, unfortunately it&#39;s classified..I&#39;ll try to come up with an equivalent document that has the same error","body":"I Wish I could, unfortunately it&#39;s classified..I&#39;ll try to come up with an equivalent document that has the same error"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1473944328,"post_id":39485920,"comment_id":66339166,"body_markdown":"Alternatively / additionally, you could open the file with PDFDebugger and make a screenshof the font part. It will be below Root/Pages/Kids/[0]/Kids/[0]/Resources/Font . It would be interesting to see &quot;Encoding&quot; and &quot;ToUnicode&quot;.","body":"Alternatively / additionally, you could open the file with PDFDebugger and make a screenshof the font part. It will be below Root/Pages/Kids/[0]/Kids/[0]/Resources/Font . It would be interesting to see &quot;Encoding&quot; and &quot;ToUnicode&quot;."},{"owner":{"account_id":9188404,"reputation":83,"user_id":6829737,"display_name":"omri a"},"score":0,"creation_date":1474288726,"post_id":39485920,"comment_id":66456433,"body_markdown":"Hi Tilman, I&#39;ve added the documents inside the original message, Thank you for your help !","body":"Hi Tilman, I&#39;ve added the documents inside the original message, Thank you for your help !"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1474291284,"post_id":39485920,"comment_id":66458249,"body_markdown":"Those that have WinAnsiEncoding should be OK. But the others miss &quot;ToUnicode&quot;. In the PDF 32000 specification https://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf, read the segment &quot;9.10 Extraction of Text Content&quot;.","body":"Those that have WinAnsiEncoding should be OK. But the others miss &quot;ToUnicode&quot;. In the PDF 32000 specification <a href=\"https://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf\" rel=\"nofollow noreferrer\">adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/&hellip;</a>, read the segment &quot;9.10 Extraction of Text Content&quot;."},{"owner":{"account_id":9188404,"reputation":83,"user_id":6829737,"display_name":"omri a"},"score":0,"creation_date":1474295225,"post_id":39485920,"comment_id":66461011,"body_markdown":"Hi Tilman, I&#39;ve read the document that you&#39;ve sent and I understand that a font needs the ToUnicode method to transform it&#39;s glyph into a unicode value. the thing is, the CID codes are constant (for example 694 is the Hebrew letter צ), but I don&#39;t physically know where to add these mappings, unlike with the simplefonts that I just had to upadte the &quot;additional.txt&quot; file.. do you know by anychance how can I map the exact same mappings for this problematic font?","body":"Hi Tilman, I&#39;ve read the document that you&#39;ve sent and I understand that a font needs the ToUnicode method to transform it&#39;s glyph into a unicode value. the thing is, the CID codes are constant (for example 694 is the Hebrew letter צ), but I don&#39;t physically know where to add these mappings, unlike with the simplefonts that I just had to upadte the &quot;additional.txt&quot; file.. do you know by anychance how can I map the exact same mappings for this problematic font?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1474295750,"post_id":39485920,"comment_id":66461331,"body_markdown":"I wouldn&#39;t touch the &quot;additional.txt&quot; file. What you&#39;d need to do is to add a ToUnicode stream. I.e. you&#39;d have to walk down the structures until you get the &quot;bad&quot; font(s) and then insert a COSStream into the font dictionary with &quot;ToUnicode&quot; key. This COSStream must be filled with a ToUnicode CMap as described in the PDF specification. Not only this is a lot of work (you need to find the mapping for every code, and create a proper table), but the work you do might be good only for one single PDF. Unless all your PDFs come from the same creator, who uses the same font, etc.","body":"I wouldn&#39;t touch the &quot;additional.txt&quot; file. What you&#39;d need to do is to add a ToUnicode stream. I.e. you&#39;d have to walk down the structures until you get the &quot;bad&quot; font(s) and then insert a COSStream into the font dictionary with &quot;ToUnicode&quot; key. This COSStream must be filled with a ToUnicode CMap as described in the PDF specification. Not only this is a lot of work (you need to find the mapping for every code, and create a proper table), but the work you do might be good only for one single PDF. Unless all your PDFs come from the same creator, who uses the same font, etc."},{"owner":{"account_id":9188404,"reputation":83,"user_id":6829737,"display_name":"omri a"},"score":0,"creation_date":1474530832,"post_id":39485920,"comment_id":66571156,"body_markdown":"Hi Tilman. Thank you for your detailed answer. All of my PDFs are coming from the same creator and I already have the correct mapping (that I&#39;ve added in the &quot;additional.txt&quot; for my other problematic font), so most of the job is done, I wasn&#39;t able to find how to do what you&#39;ve suggested, can you please explain how to insert the COSStream into the font dictionary with ToUnicode Key? or point me to a page in the PDF? the font name it Tahoma + Tahoma,bold","body":"Hi Tilman. Thank you for your detailed answer. All of my PDFs are coming from the same creator and I already have the correct mapping (that I&#39;ve added in the &quot;additional.txt&quot; for my other problematic font), so most of the job is done, I wasn&#39;t able to find how to do what you&#39;ve suggested, can you please explain how to insert the COSStream into the font dictionary with ToUnicode Key? or point me to a page in the PDF? the font name it Tahoma + Tahoma,bold"}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1482568484,"creation_date":1474563892,"answer_id":39644941,"question_id":39485920,"body_markdown":"Here&#39;s some code to add a ToUnicode CMap stream in a font. Obviously I can&#39;t do it with your file, so I used one of my test files, which can be found [here][1]. I had to work on each entry separately and didn&#39;t do all. However the result is good enough to extract the first word in the green print (&quot;Bedingungen&quot;).\r\n\r\nThe scenario is somewhat tailored to you:\r\n\r\n- Identity-H entry\r\n- no ToUnicode entry\r\n- specific font name\r\n\r\n        try (PDDocument doc = PDDocument.load(f))\r\n        {\r\n            for (int p = 0; p &lt; doc.getNumberOfPages(); ++p)\r\n            {\r\n                PDPage page = doc.getPage(p);\r\n                PDResources res = page.getResources();\r\n                for (COSName fontName : res.getFontNames())\r\n                {\r\n                    PDFont font = res.getFont(fontName);\r\n                    COSBase encoding = font.getCOSObject().getDictionaryObject(COSName.ENCODING);\r\n                    if (!COSName.IDENTITY_H.equals(encoding))\r\n                    {\r\n                        continue;\r\n                    }\r\n                    // get real name\r\n                    String fname = font.getName();\r\n                    int plus = fname.indexOf(&#39;+&#39;);\r\n                    if (plus != -1)\r\n                    {\r\n                        fname = fname.substring(plus + 1);\r\n                    }\r\n                    if (font.getCOSObject().containsKey(COSName.TO_UNICODE))\r\n                    {\r\n                        continue;\r\n                    }\r\n                    System.out.println(&quot;File &#39;&quot; + f.getName() + &quot;&#39;, page &quot; + (p + 1) + &quot;, &quot; + fontName.getName() + &quot;, &quot; + font.getName());\r\n                    if (!fname.startsWith(&quot;Calibri-Bold&quot;))\r\n                    {\r\n                        continue;\r\n                    }\r\n                    COSStream toUnicodeStream = new COSStream();\r\n                    try (PrintWriter pw = new PrintWriter(toUnicodeStream.createOutputStream(COSName.FLATE_DECODE)))\r\n                    {\r\n                        // &quot;9.10 Extraction of Text Content&quot; in the PDF 32000 specification\r\n                        pw.println (&quot;/CIDInit /ProcSet findresource begin\\n&quot; +\r\n                                &quot;12 dict begin\\n&quot; +\r\n                                &quot;begincmap\\n&quot; +\r\n                                &quot;/CIDSystemInfo\\n&quot; +\r\n                                &quot;&lt;&lt; /Registry (Adobe)\\n&quot; +\r\n                                &quot;/Ordering (UCS) /Supplement 0 &gt;&gt; def\\n&quot; +\r\n                                &quot;/CMapName /Adobe-Identity-UCS def\\n&quot; +\r\n                                &quot;/CMapType 2 def\\n&quot; +\r\n                                &quot;1 begincodespacerange\\n&quot; +\r\n                                &quot;&lt;0000&gt; &lt;FFFF&gt;\\n&quot; +\r\n                                &quot;endcodespacerange\\n&quot; +\r\n                                &quot;10 beginbfchar\\n&quot; + // number is count of entries\r\n                                &quot;&lt;0001&gt;&lt;0020&gt;\\n&quot; + // space\r\n                                &quot;&lt;0002&gt;&lt;0041&gt;\\n&quot; + // A\r\n                                &quot;&lt;0003&gt;&lt;0042&gt;\\n&quot; + // B\r\n                                &quot;&lt;0004&gt;&lt;0044&gt;\\n&quot; + // D\r\n                                &quot;&lt;0013&gt;&lt;0065&gt;\\n&quot; + // e\r\n                                &quot;&lt;0012&gt;&lt;0064&gt;\\n&quot; + // d\r\n                                &quot;&lt;0017&gt;&lt;0069&gt;\\n&quot; + // i\r\n                                &quot;&lt;001B&gt;&lt;006E&gt;\\n&quot; + // n\r\n                                &quot;&lt;0015&gt;&lt;0067&gt;\\n&quot; + // g\r\n                                &quot;&lt;0020&gt;&lt;0075&gt;\\n&quot; + // u\r\n                                &quot;endbfchar\\n&quot; +\r\n                                &quot;endcmap CMapName currentdict /CMap defineresource pop end end&quot;);\r\n                    }\r\n                    font.getCOSObject().setItem(COSName.TO_UNICODE, toUnicodeStream);\r\n                }\r\n            }\r\n            doc.save(&quot;huhu.pdf&quot;);\r\n        }\r\n\r\nBtw the unreleased 2.1 version of PDFDebugger has some improved features to show fonts, you can get it [here][2]:\r\n\r\nYou can use it to verify that your ToUnicode CMap makes sense. Here&#39;s what I get with my changes:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/secure/attachment/12659109/Kommunikationsbedingungen-Einlagen_FIDOR-Bank.pdf\r\n  [2]: https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.1.0-SNAPSHOT/\r\n  [3]: http://i.stack.imgur.com/kTF9I.png","title":"how to add unicode in truetype0font on pdfbox 2.0.0?","body":"<p>Here's some code to add a ToUnicode CMap stream in a font. Obviously I can't do it with your file, so I used one of my test files, which can be found <a href=\"https://issues.apache.org/jira/secure/attachment/12659109/Kommunikationsbedingungen-Einlagen_FIDOR-Bank.pdf\" rel=\"noreferrer\">here</a>. I had to work on each entry separately and didn't do all. However the result is good enough to extract the first word in the green print (\"Bedingungen\").</p>\n\n<p>The scenario is somewhat tailored to you:</p>\n\n<ul>\n<li>Identity-H entry</li>\n<li>no ToUnicode entry</li>\n<li><p>specific font name</p>\n\n<pre><code>try (PDDocument doc = PDDocument.load(f))\n{\n    for (int p = 0; p &lt; doc.getNumberOfPages(); ++p)\n    {\n        PDPage page = doc.getPage(p);\n        PDResources res = page.getResources();\n        for (COSName fontName : res.getFontNames())\n        {\n            PDFont font = res.getFont(fontName);\n            COSBase encoding = font.getCOSObject().getDictionaryObject(COSName.ENCODING);\n            if (!COSName.IDENTITY_H.equals(encoding))\n            {\n                continue;\n            }\n            // get real name\n            String fname = font.getName();\n            int plus = fname.indexOf('+');\n            if (plus != -1)\n            {\n                fname = fname.substring(plus + 1);\n            }\n            if (font.getCOSObject().containsKey(COSName.TO_UNICODE))\n            {\n                continue;\n            }\n            System.out.println(\"File '\" + f.getName() + \"', page \" + (p + 1) + \", \" + fontName.getName() + \", \" + font.getName());\n            if (!fname.startsWith(\"Calibri-Bold\"))\n            {\n                continue;\n            }\n            COSStream toUnicodeStream = new COSStream();\n            try (PrintWriter pw = new PrintWriter(toUnicodeStream.createOutputStream(COSName.FLATE_DECODE)))\n            {\n                // \"9.10 Extraction of Text Content\" in the PDF 32000 specification\n                pw.println (\"/CIDInit /ProcSet findresource begin\\n\" +\n                        \"12 dict begin\\n\" +\n                        \"begincmap\\n\" +\n                        \"/CIDSystemInfo\\n\" +\n                        \"&lt;&lt; /Registry (Adobe)\\n\" +\n                        \"/Ordering (UCS) /Supplement 0 &gt;&gt; def\\n\" +\n                        \"/CMapName /Adobe-Identity-UCS def\\n\" +\n                        \"/CMapType 2 def\\n\" +\n                        \"1 begincodespacerange\\n\" +\n                        \"&lt;0000&gt; &lt;FFFF&gt;\\n\" +\n                        \"endcodespacerange\\n\" +\n                        \"10 beginbfchar\\n\" + // number is count of entries\n                        \"&lt;0001&gt;&lt;0020&gt;\\n\" + // space\n                        \"&lt;0002&gt;&lt;0041&gt;\\n\" + // A\n                        \"&lt;0003&gt;&lt;0042&gt;\\n\" + // B\n                        \"&lt;0004&gt;&lt;0044&gt;\\n\" + // D\n                        \"&lt;0013&gt;&lt;0065&gt;\\n\" + // e\n                        \"&lt;0012&gt;&lt;0064&gt;\\n\" + // d\n                        \"&lt;0017&gt;&lt;0069&gt;\\n\" + // i\n                        \"&lt;001B&gt;&lt;006E&gt;\\n\" + // n\n                        \"&lt;0015&gt;&lt;0067&gt;\\n\" + // g\n                        \"&lt;0020&gt;&lt;0075&gt;\\n\" + // u\n                        \"endbfchar\\n\" +\n                        \"endcmap CMapName currentdict /CMap defineresource pop end end\");\n            }\n            font.getCOSObject().setItem(COSName.TO_UNICODE, toUnicodeStream);\n        }\n    }\n    doc.save(\"huhu.pdf\");\n}\n</code></pre></li>\n</ul>\n\n<p>Btw the unreleased 2.1 version of PDFDebugger has some improved features to show fonts, you can get it <a href=\"https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.1.0-SNAPSHOT/\" rel=\"noreferrer\">here</a>:</p>\n\n<p>You can use it to verify that your ToUnicode CMap makes sense. Here's what I get with my changes:\n<a href=\"https://i.stack.imgur.com/kTF9I.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kTF9I.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":9188404,"reputation":83,"user_id":6829737,"display_name":"omri a"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12839,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":39644941,"answer_count":1,"score":8,"last_activity_date":1662038094,"creation_date":1473842054,"question_id":39485920,"body_markdown":"I&#39;ve been using the PDFBOX version 2.0.0 in a Java project to convert pdfs to text.\r\n\r\nseveral of my pdfs are missing the ToUnicode method, so they come out in Gibberish while I export them.\r\n\r\n`2016-09-14 10:44:55 WARN  org.apache.pdfbox.pdmodel.font.PDSimpleFont(1):322 - No Unicode mapping for 694 (30) in font MPBAAA+F1`\r\n\r\nin the WARN above, instead of the real character, a gibberish unicode (30) was presented.\r\n\r\nI was able to overcome it by editing the `additional.txt` file in pdfbox, since from trial &amp; error I understood that the code of the character (694 in this case) represents a certain Hebrew letter (צ).\r\n\r\nhere&#39;s a short example of what I&#39;ve edited inside the file:\r\n\r\n    -694;05E6 #HexaDecimal value for the letter צ\r\n    -695;05E7\r\n    -696;05E8\r\nlater I&#39;ve encountered almost the same warning on a different pdf, but instead of gibberish characters I got no characters at all.\r\na more detailed explination of this issue can be seen here - https://stackoverflow.com/questions/37862159/pdf-reading-via-pdfbox-in-java\r\n\r\n`2016-09-14 11:07:10 WARN  org.apache.pdfbox.pdmodel.font.PDType0Font(1):431 - No Unicode mapping for CID+694 (694) in font ABCDEE+Tahoma,Bold`\r\n\r\nAs you can see, the warning came from a different class (`PDType0Font`) rather than the first warning (`PDSimpleFont`), but the code name (694) is the same in both of them and they are both talking about the same character.\r\n\r\nDoes there&#39;s a different file that I should edit other than `additional.txt` to point the 694 code (the Hebrew letter צ) to it&#39;s correct unicode?\r\n\r\nThanks\r\n[![main root][1]][1]\r\n\r\n\r\n\r\n[![drill down on the first type0 font][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vja5p.png\r\n  [2]: http://i.stack.imgur.com/nIkvR.png","title":"how to add unicode in truetype0font on pdfbox 2.0.0?","body":"<p>I've been using the PDFBOX version 2.0.0 in a Java project to convert pdfs to text.</p>\n\n<p>several of my pdfs are missing the ToUnicode method, so they come out in Gibberish while I export them.</p>\n\n<p><code>2016-09-14 10:44:55 WARN  org.apache.pdfbox.pdmodel.font.PDSimpleFont(1):322 - No Unicode mapping for 694 (30) in font MPBAAA+F1</code></p>\n\n<p>in the WARN above, instead of the real character, a gibberish unicode (30) was presented.</p>\n\n<p>I was able to overcome it by editing the <code>additional.txt</code> file in pdfbox, since from trial &amp; error I understood that the code of the character (694 in this case) represents a certain Hebrew letter (צ).</p>\n\n<p>here's a short example of what I've edited inside the file:</p>\n\n<pre><code>-694;05E6 #HexaDecimal value for the letter צ\n-695;05E7\n-696;05E8\n</code></pre>\n\n<p>later I've encountered almost the same warning on a different pdf, but instead of gibberish characters I got no characters at all.\na more detailed explination of this issue can be seen here - <a href=\"https://stackoverflow.com/questions/37862159/pdf-reading-via-pdfbox-in-java\">pdf reading via pdfbox in java</a></p>\n\n<p><code>2016-09-14 11:07:10 WARN  org.apache.pdfbox.pdmodel.font.PDType0Font(1):431 - No Unicode mapping for CID+694 (694) in font ABCDEE+Tahoma,Bold</code></p>\n\n<p>As you can see, the warning came from a different class (<code>PDType0Font</code>) rather than the first warning (<code>PDSimpleFont</code>), but the code name (694) is the same in both of them and they are both talking about the same character.</p>\n\n<p>Does there's a different file that I should edit other than <code>additional.txt</code> to point the 694 code (the Hebrew letter צ) to it's correct unicode?</p>\n\n<p>Thanks\n<a href=\"https://i.stack.imgur.com/vja5p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vja5p.png\" alt=\"main root\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/nIkvR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nIkvR.png\" alt=\"drill down on the first type0 font\"></a></p>\n"},{"tags":["java","class","inheritance","extends"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1662034761,"post_id":73569203,"comment_id":129915924,"body_markdown":"Please show how you populate the map (or, specifically, the list in the map values). The CCE indicates that you&#39;re accessing things that are `SMONArr.Element`s, not `SMONArray.Element`s.","body":"Please show how you populate the map (or, specifically, the list in the map values). The CCE indicates that you&#39;re accessing things that are <code>SMONArr.Element</code>s, not <code>SMONArray.Element</code>s."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1662034822,"post_id":73569203,"comment_id":129915941,"body_markdown":"You have two element types.  You have a collection in the SMONArr class that can only hold one of the types.  The design needs to be fixed.","body":"You have two element types.  You have a collection in the SMONArr class that can only hold one of the types.  The design needs to be fixed."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1662034834,"post_id":73569203,"comment_id":129915946,"body_markdown":"Aside: considering `SMONArray` does nothing more than extend `SMONArr` (confusing names, btw), why do you need the subclasses anyway?","body":"Aside: considering <code>SMONArray</code> does nothing more than extend <code>SMONArr</code> (confusing names, btw), why do you need the subclasses anyway?"},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1662034922,"post_id":73569203,"comment_id":129915983,"body_markdown":"@Andy Turner `SMONArr` is a generic class, `SMONArray` is extending it for use in this particular instance.","body":"@Andy Turner <code>SMONArr</code> is a generic class, <code>SMONArray</code> is extending it for use in this particular instance."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1662034956,"post_id":73569203,"comment_id":129915992,"body_markdown":"@access violation But how exactly would it be fixed?","body":"@access violation But how exactly would it be fixed?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1662035084,"post_id":73569203,"comment_id":129916032,"body_markdown":"@Hasen `SMONArr` isn&#39;t a generic class, it has no type variables.","body":"@Hasen <code>SMONArr</code> isn&#39;t a generic class, it has no type variables."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1662035167,"post_id":73569203,"comment_id":129916061,"body_markdown":"@Andy Turner I mean it&#39;s &#39;generic&#39; in that it&#39;s not specific, in the sense of English, not programming.","body":"@Andy Turner I mean it&#39;s &#39;generic&#39; in that it&#39;s not specific, in the sense of English, not programming."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1662035693,"post_id":73569203,"comment_id":129916247,"body_markdown":"The key thing is how you create instances of `Element` that end up in the map. Please [edit] your question to show that. (Ironically, I suspect a solution to your problem may be to make `SMONArr` generic in the sense of programming, not English).","body":"The key thing is how you create instances of <code>Element</code> that end up in the map. Please <a href=\"https://stackoverflow.com/posts/73569203/edit\">edit</a> your question to show that. (Ironically, I suspect a solution to your problem may be to make <code>SMONArr</code> generic in the sense of programming, not English)."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1662036075,"post_id":73569203,"comment_id":129916404,"body_markdown":"@Andy Turner Ok I edited my question to add that: The array `arr` in `SMONArr` is populated with `ArrayList` of `Element` of which `Element` is a `String` key and an `int[]`","body":"@Andy Turner Ok I edited my question to add that: The array <code>arr</code> in <code>SMONArr</code> is populated with <code>ArrayList</code> of <code>Element</code> of which <code>Element</code> is a <code>String</code> key and an <code>int[]</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1662036090,"post_id":73569203,"comment_id":129916412,"body_markdown":"&quot;EDIT: The array...&quot; sorry, I don&#39;t understand what this means. Show us the code, don&#39;t try to describe it. Somewhere you&#39;ve got something _like_ `arr.get(key).add(something)` - it&#39;s the `something` you add that&#39;s important.","body":"&quot;EDIT: The array...&quot; sorry, I don&#39;t understand what this means. Show us the code, don&#39;t try to describe it. Somewhere you&#39;ve got something <i>like</i> <code>arr.get(key).add(something)</code> - it&#39;s the <code>something</code> you add that&#39;s important."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1662036416,"post_id":73569203,"comment_id":129916539,"body_markdown":"@Andy Turner It&#39;s an array of int `int[]`. Like `key, [1, 2, 3, 4]` that&#39;s specifically what&#39;s being added here. That&#39;s what `Element` is.","body":"@Andy Turner It&#39;s an array of int <code>int[]</code>. Like <code>key, [1, 2, 3, 4]</code> that&#39;s specifically what&#39;s being added here. That&#39;s what <code>Element</code> is."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1662036557,"post_id":73569203,"comment_id":129916578,"body_markdown":"@Andy Turner  `intArr[j] = Integer.parseInt(strArr[j]);`, `linesArr.add(new Element(parts[0].trim(), intArr));`, `arr.put(key, linesArr);`","body":"@Andy Turner  <code>intArr[j] = Integer.parseInt(strArr[j]);</code>, <code>linesArr.add(new Element(parts[0].trim(), intArr));</code>, <code>arr.put(key, linesArr);</code>"},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1662036608,"post_id":73569203,"comment_id":129916599,"body_markdown":"@Andy Turner That&#39;s done in `SMONArr`, the parent class, I thought that&#39;s what you asked. Most of the stuff is done in `SMONArr`, the parent class.","body":"@Andy Turner That&#39;s done in <code>SMONArr</code>, the parent class, I thought that&#39;s what you asked. Most of the stuff is done in <code>SMONArr</code>, the parent class."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1662036612,"post_id":73569203,"comment_id":129916600,"body_markdown":"@Hasen where does that code live? It&#39;s significant, because `new Element` refers to different classes, depending upon where you put it.","body":"@Hasen where does that code live? It&#39;s significant, because <code>new Element</code> refers to different classes, depending upon where you put it."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1662036659,"post_id":73569203,"comment_id":129916624,"body_markdown":"If that code is in `SMONArr`, `new Element` refers to the parent `Element` class, so you can&#39;t cast it to the child element. Quoting snippets of code in comments doesn&#39;t have enough context - [edit] your question to show it.","body":"If that code is in <code>SMONArr</code>, <code>new Element</code> refers to the parent <code>Element</code> class, so you can&#39;t cast it to the child element. Quoting snippets of code in comments doesn&#39;t have enough context - <a href=\"https://stackoverflow.com/posts/73569203/edit\">edit</a> your question to show it."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1662036700,"post_id":73569203,"comment_id":129916642,"body_markdown":"@Andy Turner Yes I know, so there&#39;s no way to extend this class and get the inner class? That&#39;s what I&#39;m trying to do.","body":"@Andy Turner Yes I know, so there&#39;s no way to extend this class and get the inner class? That&#39;s what I&#39;m trying to do."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1662036864,"post_id":73569203,"comment_id":129916715,"body_markdown":"@Andy Turner Ok so you just wanted to know if it was populated in `SMONArr` or `SMONArray`, ok I see now. Yeah it&#39;s done in the parent class.","body":"@Andy Turner Ok so you just wanted to know if it was populated in <code>SMONArr</code> or <code>SMONArray</code>, ok I see now. Yeah it&#39;s done in the parent class."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1662071580,"post_id":73569203,"comment_id":129927977,"body_markdown":"Code executed in the superclass does not somehow use class definitions that exist in a subclass that the superclass is not even aware of.  Type definitions are not virtual in the same way that methods are.  If you want &#39;subclass Elements&#39;, then you have to arrange that &#39;new Element()&#39; is executed in the subclass.  (Oh, now I see Andy Turner has answered to that effect. Good).","body":"Code executed in the superclass does not somehow use class definitions that exist in a subclass that the superclass is not even aware of.  Type definitions are not virtual in the same way that methods are.  If you want &#39;subclass Elements&#39;, then you have to arrange that &#39;new Element()&#39; is executed in the subclass.  (Oh, now I see Andy Turner has answered to that effect. Good)."}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662034955,"creation_date":1662034955,"answer_id":73569277,"question_id":73569203,"body_markdown":"You have two element types.  You have a collection in the SMONArr class that can only hold one of the types.  \r\n\r\nThe call to &#39;get&#39; in SMONArr class returns a SMONArr.Element, which is not a SMONArray.Element.  \r\n\r\nI don&#39;t know the context - perhaps in this case the collection is guaranteed to hold only SMONArray.Elements, in which case a cast would do the trick.\r\n\r\n","title":"Java extend and get inner class","body":"<p>You have two element types.  You have a collection in the SMONArr class that can only hold one of the types.</p>\n<p>The call to 'get' in SMONArr class returns a SMONArr.Element, which is not a SMONArray.Element.</p>\n<p>I don't know the context - perhaps in this case the collection is guaranteed to hold only SMONArray.Elements, in which case a cast would do the trick.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662037869,"creation_date":1662036814,"answer_id":73569676,"question_id":73569203,"body_markdown":"Add a `createElement` class to your parent class:\r\n\r\n```\r\npublic class SMONArr {\r\n  // ...\r\n\r\n  // Alternatively, this can be abstract (assuming you make the class abstract too)\r\n  // then it has to be overridden in subclasses.\r\n  public Element createElement(String key, Object value) {\r\n    return new Element(key, value);\r\n  }\r\n\r\n  // ...\r\n}\r\n```\r\n\r\nthen you can override this in the subclass:\r\n\r\n```\r\npublic class SMONArray extends SMONArr {\r\n  // ...\r\n\r\n  // Now Element refers to the subclass.\r\n  public Element createElement(String key, Object value) {\r\n    return new Element(key, value);\r\n  }\r\n\r\n  // ...\r\n}\r\n```\r\n\r\nand invoke `createElement` instead of `new Element` in the parent class. Then the cast in the subclass will work without a `ClassCastException`.\r\n\r\n----\r\n\r\nYou can do this without the need for the `getSelected` method in subclasses, by making the `SMONArr` class generic:\r\n\r\n```\r\npublic abstract class SMONArr&lt;E extends Element&gt; {\r\n  protected final LinkedHashMap&lt;String, ArrayList&lt;E&gt;&gt; arr = new LinkedHashMap&lt;&gt;();\r\n\r\n  public class Element { ... }\r\n\r\n  // ...\r\n\r\n  // Now this has to be abstract.\r\n  public abstract E createElement(String key, Object value);\r\n\r\n  // ...\r\n}\r\n\r\npublic class SMONArray extends SMONArr&lt;SMONArray.Element&gt; {\r\n  public class Element extends SMONArr.Element { ... }\r\n\r\n  public Element createElement(String key, Object value) {\r\n    return new Element(key, value);\r\n  }\r\n}\r\n```","title":"Java extend and get inner class","body":"<p>Add a <code>createElement</code> class to your parent class:</p>\n<pre><code>public class SMONArr {\n  // ...\n\n  // Alternatively, this can be abstract (assuming you make the class abstract too)\n  // then it has to be overridden in subclasses.\n  public Element createElement(String key, Object value) {\n    return new Element(key, value);\n  }\n\n  // ...\n}\n</code></pre>\n<p>then you can override this in the subclass:</p>\n<pre><code>public class SMONArray extends SMONArr {\n  // ...\n\n  // Now Element refers to the subclass.\n  public Element createElement(String key, Object value) {\n    return new Element(key, value);\n  }\n\n  // ...\n}\n</code></pre>\n<p>and invoke <code>createElement</code> instead of <code>new Element</code> in the parent class. Then the cast in the subclass will work without a <code>ClassCastException</code>.</p>\n<hr />\n<p>You can do this without the need for the <code>getSelected</code> method in subclasses, by making the <code>SMONArr</code> class generic:</p>\n<pre><code>public abstract class SMONArr&lt;E extends Element&gt; {\n  protected final LinkedHashMap&lt;String, ArrayList&lt;E&gt;&gt; arr = new LinkedHashMap&lt;&gt;();\n\n  public class Element { ... }\n\n  // ...\n\n  // Now this has to be abstract.\n  public abstract E createElement(String key, Object value);\n\n  // ...\n}\n\npublic class SMONArray extends SMONArr&lt;SMONArray.Element&gt; {\n  public class Element extends SMONArr.Element { ... }\n\n  public Element createElement(String key, Object value) {\n    return new Element(key, value);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662037004,"creation_date":1662037004,"answer_id":73569722,"question_id":73569203,"body_markdown":"Your issue has nothing to do with extending the inner class, you return the wrong type and don&#39;t see it because of the naming confusion.\r\n\r\nThis is what you&#39;re doing:\r\n\r\n\r\n```\r\npublic class Outer1 {\r\n class Inner1 {}\r\n\r\n public Inner1 get() {\r\n  return new Inner1();\r\n }\r\n}\r\npublic class Outer2 extends Outer1 {\r\n    public class Inner2 extends Outer1.Inner1 {}\r\n\r\n    public Inner2 getSelected() {\r\n        return get();\r\n    }\r\n}\r\n```\r\nYou `getSelected()` is declared as returning the subtype, but then you call the method returning the supertype.\r\n\r\nYou can change its return type to `Inner1`, or in your case `SMONArr.Element`.\r\n\r\n```\r\npublic SMONArr.Element getSelected(String key, int index) {\r\n  return get(key, index);\r\n}\r\n```","title":"Java extend and get inner class","body":"<p>Your issue has nothing to do with extending the inner class, you return the wrong type and don't see it because of the naming confusion.</p>\n<p>This is what you're doing:</p>\n<pre><code>public class Outer1 {\n class Inner1 {}\n\n public Inner1 get() {\n  return new Inner1();\n }\n}\npublic class Outer2 extends Outer1 {\n    public class Inner2 extends Outer1.Inner1 {}\n\n    public Inner2 getSelected() {\n        return get();\n    }\n}\n</code></pre>\n<p>You <code>getSelected()</code> is declared as returning the subtype, but then you call the method returning the supertype.</p>\n<p>You can change its return type to <code>Inner1</code>, or in your case <code>SMONArr.Element</code>.</p>\n<pre><code>public SMONArr.Element getSelected(String key, int index) {\n  return get(key, index);\n}\n</code></pre>\n"}],"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73569676,"answer_count":3,"score":0,"last_activity_date":1662037869,"creation_date":1662034564,"question_id":73569203,"body_markdown":"I am extending a class and also extending it&#39;s inner class but I&#39;m getting errors trying to get the inner class through the outer child class.\r\n\r\n\r\n    public class SMONArray extends SMONArr {\r\n    \r\n        public class Element extends SMONArr.Element {\r\n            protected int x, y, w, h;\r\n    \r\n            protected Element(String string, Object arr) {\r\n                super(string, arr);\r\n            }\r\n        }\r\n    \r\n        public Element getSelected(String key, int index) {\r\n            return get(key, index);\r\n        }\r\n    }\r\n    \r\n    public class SMONArr {\r\n        protected final LinkedHashMap&lt;String, ArrayList&lt;Element&gt;&gt; arr = new LinkedHashMap&lt;&gt;();\r\n        public class Element {\r\n            public String key;\r\n            public Object elem;\r\n    \r\n            protected Element(String string, Object arr) {\r\n                key = string;\r\n                elem = arr;\r\n            }\r\n        }\r\n    \r\n        public Element get(String key, int index) {\r\n            return arr.get(key).get(index);\r\n        }\r\n    }\r\n\r\nLike it is above I&#39;m getting an error in the SMONArray child class `getSelected` function which is:\r\n\r\n`Type mismatch: cannot convert from SMONArr.Element to SMONArray.Element`\r\n\r\nIntellij suggests to cast the returned value to `Element` like this:\r\n\r\n    public Element getSelected(String key, int index) {\r\n                return (Element) get(key, index);\r\n\r\nBut like this the error goes away and I can run the program, but when I call the `getSelected` function I get a different error:\r\n\r\n`Exception in thread &quot;main&quot; java.lang.ClassCastException: SMONArr$Element cannot be cast to SMONArray$Element`\r\n\r\nIf I don&#39;t extend the inner class I have no problems but if I do, how can I then get the inner class through the outer child class?\r\n\r\nEDIT: The array `arr` in `SMONArr` is populated with `ArrayList` of `Element` of which `Element` is a `String` key and an `int[]` e.g. `key, [1, 2, 3, 4]` is what `Element` is.\r\n\r\n    intArr[j] = Integer.parseInt(strArr[j]);\r\n    linesArr.add(new Element(parts[0].trim(), intArr));\r\n    arr.put(key, linesArr);","title":"Java extend and get inner class","body":"<p>I am extending a class and also extending it's inner class but I'm getting errors trying to get the inner class through the outer child class.</p>\n<pre><code>public class SMONArray extends SMONArr {\n\n    public class Element extends SMONArr.Element {\n        protected int x, y, w, h;\n\n        protected Element(String string, Object arr) {\n            super(string, arr);\n        }\n    }\n\n    public Element getSelected(String key, int index) {\n        return get(key, index);\n    }\n}\n\npublic class SMONArr {\n    protected final LinkedHashMap&lt;String, ArrayList&lt;Element&gt;&gt; arr = new LinkedHashMap&lt;&gt;();\n    public class Element {\n        public String key;\n        public Object elem;\n\n        protected Element(String string, Object arr) {\n            key = string;\n            elem = arr;\n        }\n    }\n\n    public Element get(String key, int index) {\n        return arr.get(key).get(index);\n    }\n}\n</code></pre>\n<p>Like it is above I'm getting an error in the SMONArray child class <code>getSelected</code> function which is:</p>\n<p><code>Type mismatch: cannot convert from SMONArr.Element to SMONArray.Element</code></p>\n<p>Intellij suggests to cast the returned value to <code>Element</code> like this:</p>\n<pre><code>public Element getSelected(String key, int index) {\n            return (Element) get(key, index);\n</code></pre>\n<p>But like this the error goes away and I can run the program, but when I call the <code>getSelected</code> function I get a different error:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: SMONArr$Element cannot be cast to SMONArray$Element</code></p>\n<p>If I don't extend the inner class I have no problems but if I do, how can I then get the inner class through the outer child class?</p>\n<p>EDIT: The array <code>arr</code> in <code>SMONArr</code> is populated with <code>ArrayList</code> of <code>Element</code> of which <code>Element</code> is a <code>String</code> key and an <code>int[]</code> e.g. <code>key, [1, 2, 3, 4]</code> is what <code>Element</code> is.</p>\n<pre><code>intArr[j] = Integer.parseInt(strArr[j]);\nlinesArr.add(new Element(parts[0].trim(), intArr));\narr.put(key, linesArr);\n</code></pre>\n"},{"tags":["java","memory-leaks","usb4java"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662021280,"creation_date":1662020875,"answer_id":73566324,"question_id":73563308,"body_markdown":"You have poor exception handling which means that the file of interest is written in many parts of the code so it is harder to narrow down exactly what your code is doing.\r\n\r\nInstead, try this refactoring which may not solve your problem but will cut down the number of places you need to check and perhaps the location of the issue with be clearer:\r\n\r\n1) Add single variable for the file to write in Init.java:\r\n\r\n       // Use Paths.get in older JVM\r\n       Path f = Path.of(System.getProperty(&quot;user.home&quot;), &quot;Documents&quot;, &quot;Weight.txt&quot;); \r\n\r\n2) Wipe all catch block exception handlers in `UsbScale` class and let the exception leave ALL methods. Change `return null;` or other errors to  `throw new LibUsbException(&quot;some message&quot;)` to provide specific types of issues such as in `UsbScale.findScale` and `UsbScale.findDevice`.\r\n\r\n3) Make `USBScale` implement AutoCloseable so it can be used in try-with-resources\r\n\r\n       public class UsbScale implements UsbPipeListener, AutoCloseable {\r\n\r\n4) Add flag `isOpened=true` in `open()`, and logic to close so it checks `!isOpened`\r\n\r\n       public void open()  {\r\n\t\t  isOpened = true;\r\n\t\t  ...\r\n\t   }\r\n       private boolean isOpened = false;\r\n       public void close() throws UsbException {\r\n\t\t  if (!isOpened) return;\r\n\t\t  isOpened =false;\r\n\t\t  ...\r\n\t   }\r\n\t\t\r\n5) Init therefore becomes much shorter and is the only place that writes the output file so debugging is easier. Use `Files.writeString(f, message)` rather than a verbose (and copied) `new FileWriter(f)` code block, and handle exceptions in this one method:\r\n\r\n       public static void main(String[] args) throws IOException {\r\n          String message = &quot;[UNKNOWN]&quot;;\r\n          Path f = Path.of(System.getProperty(&quot;user.home&quot;), &quot;Documents&quot;, &quot;Weight.txt&quot;);\r\n          try (UsbScale scale = UsbScale.findScale()){\r\n              // scale is NEVER NULL AT THIS POINT if exceptions are handled correctly in UsbScale.findScale()\r\n              // assert scale != null;\r\n              scale.open();\r\n              double weight = 0;\r\n              while (weight == 0) {\r\n                  weight = scale.syncSubmit();\r\n              }\r\n              weight = Math.round(weight * 10d) / 10d;\r\n              message = String.valueOf(weight);\r\n          } catch (Exception e) {\r\n              message = &quot;Error! &quot; + e.getMessage();\r\n              e.printStackTrace();\r\n          } finally {\r\n              Files.writeString(f, message, StandardOpenOption.CREATE, StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING);\r\n          }\r\n    }\r\n\r\n6) Finally, with 2 processes accessing same file, you may want to write to temporary file first and rename to target afterwards:\r\n\r\n              Path tmp = Files.createTempFile(f.getParent(), &quot;weight&quot;,&quot;tmp&quot;); \r\n              Files.writeString(tmp, message, StandardOpenOption.CREATE, StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING);\r\n              Files.move(tmp, f);\r\n","title":"Executing .jar file does not write a file every time... could it be a memory leak?","body":"<p>You have poor exception handling which means that the file of interest is written in many parts of the code so it is harder to narrow down exactly what your code is doing.</p>\n<p>Instead, try this refactoring which may not solve your problem but will cut down the number of places you need to check and perhaps the location of the issue with be clearer:</p>\n<ol>\n<li><p>Add single variable for the file to write in Init.java:</p>\n<pre><code>// Use Paths.get in older JVM\nPath f = Path.of(System.getProperty(&quot;user.home&quot;), &quot;Documents&quot;, &quot;Weight.txt&quot;); \n</code></pre>\n</li>\n<li><p>Wipe all catch block exception handlers in <code>UsbScale</code> class and let the exception leave ALL methods. Change <code>return null;</code> or other errors to  <code>throw new LibUsbException(&quot;some message&quot;)</code> to provide specific types of issues such as in <code>UsbScale.findScale</code> and <code>UsbScale.findDevice</code>.</p>\n</li>\n<li><p>Make <code>USBScale</code> implement AutoCloseable so it can be used in try-with-resources</p>\n<pre><code>public class UsbScale implements UsbPipeListener, AutoCloseable {\n</code></pre>\n</li>\n<li><p>Add flag <code>isOpened=true</code> in <code>open()</code>, and logic to close so it checks <code>!isOpened</code></p>\n<pre><code>public void open()  {\n   isOpened = true;\n   ...\n}\nprivate boolean isOpened = false;\npublic void close() throws UsbException {\n   if (!isOpened) return;\n   isOpened =false;\n   ...\n}\n</code></pre>\n</li>\n<li><p>Init therefore becomes much shorter and is the only place that writes the output file so debugging is easier. Use <code>Files.writeString(f, message)</code> rather than a verbose (and copied) <code>new FileWriter(f)</code> code block, and handle exceptions in this one method:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n   String message = &quot;[UNKNOWN]&quot;;\n   Path f = Path.of(System.getProperty(&quot;user.home&quot;), &quot;Documents&quot;, &quot;Weight.txt&quot;);\n   try (UsbScale scale = UsbScale.findScale()){\n       // scale is NEVER NULL AT THIS POINT if exceptions are handled correctly in UsbScale.findScale()\n       // assert scale != null;\n       scale.open();\n       double weight = 0;\n       while (weight == 0) {\n           weight = scale.syncSubmit();\n       }\n       weight = Math.round(weight * 10d) / 10d;\n       message = String.valueOf(weight);\n   } catch (Exception e) {\n       message = &quot;Error! &quot; + e.getMessage();\n       e.printStackTrace();\n   } finally {\n       Files.writeString(f, message, StandardOpenOption.CREATE, StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING);\n   }\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Finally, with 2 processes accessing same file, you may want to write to temporary file first and rename to target afterwards:</p>\n<pre><code>       Path tmp = Files.createTempFile(f.getParent(), &quot;weight&quot;,&quot;tmp&quot;); \n       Files.writeString(tmp, message, StandardOpenOption.CREATE, StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING);\n       Files.move(tmp, f);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":24147270,"reputation":34,"user_id":18112648,"display_name":"Collin Short"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73566324,"answer_count":1,"score":0,"last_activity_date":1662037749,"creation_date":1661993992,"question_id":73563308,"body_markdown":"I am using this application to get a weight from a scale to be read into another application. long story short once the file exists, the other application reads it then deletes the file. If I try and run this multiple times in a row, it does not get the weight. Not like it errors out or throws an exception I just have to wait about 5 Minutes. My suspect is that it is a writer or possible object handle that isn&#39;t being let go when the program exits. I presume the JVM has to actually close before I run it for it to run properly. Can someone point me in the right Direction? github.com/cshort2112/dymo_s100_interface\r\n```\r\npackage Model;\r\n\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\n\r\npublic class Init {\r\n\r\n    //Vendor ID = 0x0922\r\n    //Product ID = 0x8009\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            UsbScale scale = UsbScale.findScale();\r\n            assert scale != null;\r\n            scale.open();\r\n            double weight = 0;\r\n            try {\r\n                while (weight == 0) {\r\n                    weight = scale.syncSubmit();\r\n                }\r\n            } finally {\r\n                scale.close();\r\n            }\r\n            weight = (double)Math.round(weight * 10d) / 10d;\r\n            try {\r\n                String home = System.getProperty(&quot;user.home&quot;);\r\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\r\n\r\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\r\n                try {\r\n                    out.write(String.valueOf(weight));\r\n                } finally {\r\n                    out.close();\r\n                }\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;An error occurred.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        } catch (Exception e) {\r\n            try {\r\n                String home = System.getProperty(&quot;user.home&quot;);\r\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\r\n\r\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\r\n                try {\r\n                    out.write(&quot;Error! &quot; + e.getMessage());\r\n                } finally {\r\n                    out.close();\r\n                }\r\n            } catch (IOException exception) {\r\n                System.out.println(&quot;An error occurred.&quot;);\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\nand the usbscale.java:\r\n```\r\npackage Model;\r\n\r\nimport org.usb4java.*;\r\n\r\nimport javax.usb.*;\r\nimport javax.usb.event.UsbPipeDataEvent;\r\nimport javax.usb.event.UsbPipeErrorEvent;\r\nimport javax.usb.event.UsbPipeListener;\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class UsbScale implements UsbPipeListener {\r\n\r\n    private final UsbDevice device;\r\n    private UsbInterface iface;\r\n    private UsbPipe pipe;\r\n    private final byte[] data = new byte[6];\r\n    private double finalWeight;\r\n    private Context context;\r\n\r\n    private UsbScale(UsbDevice device) {\r\n        this.device = device;\r\n    }\r\n\r\n\r\n    public static UsbScale findScale() {\r\n        try {\r\n            UsbServices services = UsbHostManager.getUsbServices();\r\n            UsbHub rootHub = services.getRootUsbHub();\r\n            // Dymo S100 Scale:\r\n            UsbDevice device = findDevice(rootHub, (short) 0x0922, (short) 0x8009);\r\n //           // Dymo M25 Scale:\r\n //           if (device == null) {\r\n //               device = findDevice(rootHub, (short) 0x0922, (short) 0x8004);\r\n //           }\r\n            if (device == null) {\r\n                return null;\r\n            }\r\n            return new UsbScale(device);\r\n        } catch (Exception e) {\r\n            try {\r\n                String home = System.getProperty(&quot;user.home&quot;);\r\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\r\n\r\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\r\n                try {\r\n                    out.write(&quot;Error! &quot; + e.getMessage());\r\n                } finally {\r\n                    out.close();\r\n                }\r\n            } catch (IOException exception) {\r\n                System.out.println(&quot;An error occurred.&quot;);\r\n                exception.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private static UsbDevice findDevice(UsbHub hub, short vendorId, short productId) {\r\n        for (UsbDevice device : (List&lt;UsbDevice&gt;) hub.getAttachedUsbDevices()) {\r\n            UsbDeviceDescriptor desc = device.getUsbDeviceDescriptor();\r\n            if (desc.idVendor() == vendorId &amp;&amp; desc.idProduct() == productId) {\r\n                return device;\r\n            }\r\n            if (device.isUsbHub()) {\r\n                device = findDevice((UsbHub) device, vendorId, productId);\r\n                if (device != null) {\r\n                    return device;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public Device findDevice(short vendorId, short productId)\r\n    {\r\n        int result = LibUsb.init(context);\r\n        if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to initialize libusb.&quot;, result);\r\n        // Read the USB device list\r\n        DeviceList list = new DeviceList();\r\n        result = LibUsb.getDeviceList(context, list);\r\n        if (result &lt; 0) throw new LibUsbException(&quot;Unable to get device list&quot;, result);\r\n        try\r\n        {\r\n            // Iterate over all devices and scan for the right one\r\n            for (Device device: list)\r\n            {\r\n                DeviceDescriptor descriptor = new DeviceDescriptor();\r\n                result = LibUsb.getDeviceDescriptor(device, descriptor);\r\n                if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to read device descriptor&quot;, result);\r\n                if (descriptor.idVendor() == vendorId &amp;&amp; descriptor.idProduct() == productId) {\r\n                    return device;\r\n                }\r\n            }\r\n        }\r\n        finally\r\n        {\r\n            // Ensure the allocated device list is freed\r\n            LibUsb.freeDeviceList(list, true);\r\n        }\r\n\r\n        // Device not found\r\n        return null;\r\n    }\r\n\r\n    public void open()  {\r\n        try {\r\n            context = new Context();\r\n            UsbConfiguration configuration = device.getActiveUsbConfiguration();\r\n            iface = configuration.getUsbInterface((byte) 0);\r\n            // this allows us to steal the lock from the kernel\r\n            DeviceHandle handle = new DeviceHandle();\r\n            int result = LibUsb.open( findDevice((short) 0x0922, (short) 0x8009), handle);\r\n            if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to open USB device&quot;, result);\r\n            result = LibUsb.setConfiguration(handle, 0);\r\n            if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to set Configuration&quot;, result);\r\n            iface.claim(usbInterface -&gt; true);\r\n            final List&lt;UsbEndpoint&gt; endpoints = iface.getUsbEndpoints();\r\n            pipe = endpoints.get(0).getUsbPipe(); // there is only 1 endpoint\r\n            pipe.addUsbPipeListener(this);\r\n            pipe.open();\r\n        } catch (Exception e) {\r\n            try {\r\n                String home = System.getProperty(&quot;user.home&quot;);\r\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\r\n\r\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\r\n                try {\r\n                    out.write(&quot;Error! &quot; + e.getMessage());\r\n                } finally {\r\n                    out.close();\r\n                }\r\n            } catch (IOException exception) {\r\n                System.out.println(&quot;An error occurred.&quot;);\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public double syncSubmit() {\r\n        try {\r\n            pipe.syncSubmit(data);\r\n            return finalWeight;\r\n        } catch (Exception e) {\r\n            try {\r\n                String home = System.getProperty(&quot;user.home&quot;);\r\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\r\n\r\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\r\n                try {\r\n                    out.write(&quot;Error! &quot; + e.getMessage());\r\n                } finally {\r\n                    out.close();\r\n                }\r\n            } catch (IOException exception) {\r\n                System.out.println(&quot;An error occurred.&quot;);\r\n                exception.printStackTrace();\r\n            }\r\n            return finalWeight;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public void close() throws UsbException {\r\n        try {\r\n            pipe.close();\r\n            iface.release();\r\n            LibUsb.exit(context);\r\n        } catch (Exception e) {\r\n            try {\r\n                String home = System.getProperty(&quot;user.home&quot;);\r\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\r\n\r\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\r\n                try {\r\n                    out.write(&quot;Error! &quot; + e.getMessage());\r\n                } finally {\r\n                    out.close();\r\n                }\r\n            } catch (IOException exception) {\r\n                System.out.println(&quot;An error occurred.&quot;);\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void dataEventOccurred(UsbPipeDataEvent upde) {\r\n        if (data[2] == 12) { //This means it is in imperial Mode\r\n            if (data[1] == 4) {\r\n                int weight = (data[4] &amp; 0xFF) + (data[5] &lt;&lt; 8);\r\n                int scalingFactor = data[3];\r\n                finalWeight = scaleWeight(weight, scalingFactor); //final weight, applies to both metric and imperial\r\n            }else if (data[1] == 5) {\r\n                int weight = (data[4] &amp; 0xFF) + (data[5] &lt;&lt; 8);\r\n                int scalingFactor = data[3];\r\n                finalWeight = scaleWeight(weight, scalingFactor)*(-1); //final weight, applies to both metric and imperial\r\n            } else if (data[1] == 2) {\r\n                finalWeight = 0;\r\n            }\r\n        } else { //This would mean it is in metric\r\n            if (data[1] == 4) {\r\n                int weight = (data[4] &amp; 0xFF) + (data[5] &lt;&lt; 8);\r\n                int scalingFactor = data[3];\r\n                finalWeight = (scaleWeight(weight, scalingFactor)*2.20462); //final weight, applies to both metric and imperial\r\n            } else if (data[1] == 5) {\r\n                int weight = (data[4] &amp; 0xFF) + (data[5] &lt;&lt; 8);\r\n                int scalingFactor = data[3];\r\n                finalWeight = (scaleWeight(weight, scalingFactor)*2.20462)*(-1); //final weight, applies to both metric and imperial\r\n            } else if (data[1] == 2) {\r\n                finalWeight = 0;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private double scaleWeight(int weight, int scalingFactor) {\r\n        return weight * Math.pow(10, scalingFactor);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void errorEventOccurred(UsbPipeErrorEvent usbPipeErrorEvent) {\r\n        Logger.getLogger(UsbScale.class.getName()).log(Level.SEVERE, &quot;Scale Error&quot;, usbPipeErrorEvent);\r\n        try {\r\n            String home = System.getProperty(&quot;user.home&quot;);\r\n            File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\r\n\r\n            BufferedWriter out = new BufferedWriter(new FileWriter(f));\r\n            try {\r\n                out.write(&quot;Error! &quot; + usbPipeErrorEvent);\r\n            } finally {\r\n                out.close();\r\n                System.exit(0);\r\n            }\r\n        } catch (IOException exception) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThanks for any pointers in advance!","title":"Executing .jar file does not write a file every time... could it be a memory leak?","body":"<p>I am using this application to get a weight from a scale to be read into another application. long story short once the file exists, the other application reads it then deletes the file. If I try and run this multiple times in a row, it does not get the weight. Not like it errors out or throws an exception I just have to wait about 5 Minutes. My suspect is that it is a writer or possible object handle that isn't being let go when the program exits. I presume the JVM has to actually close before I run it for it to run properly. Can someone point me in the right Direction? github.com/cshort2112/dymo_s100_interface</p>\n<pre><code>package Model;\n\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class Init {\n\n    //Vendor ID = 0x0922\n    //Product ID = 0x8009\n\n    public static void main(String[] args) {\n        try {\n            UsbScale scale = UsbScale.findScale();\n            assert scale != null;\n            scale.open();\n            double weight = 0;\n            try {\n                while (weight == 0) {\n                    weight = scale.syncSubmit();\n                }\n            } finally {\n                scale.close();\n            }\n            weight = (double)Math.round(weight * 10d) / 10d;\n            try {\n                String home = System.getProperty(&quot;user.home&quot;);\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\n\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\n                try {\n                    out.write(String.valueOf(weight));\n                } finally {\n                    out.close();\n                }\n            } catch (IOException e) {\n                System.out.println(&quot;An error occurred.&quot;);\n                e.printStackTrace();\n            }\n        } catch (Exception e) {\n            try {\n                String home = System.getProperty(&quot;user.home&quot;);\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\n\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\n                try {\n                    out.write(&quot;Error! &quot; + e.getMessage());\n                } finally {\n                    out.close();\n                }\n            } catch (IOException exception) {\n                System.out.println(&quot;An error occurred.&quot;);\n                exception.printStackTrace();\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>and the usbscale.java:</p>\n<pre><code>package Model;\n\nimport org.usb4java.*;\n\nimport javax.usb.*;\nimport javax.usb.event.UsbPipeDataEvent;\nimport javax.usb.event.UsbPipeErrorEvent;\nimport javax.usb.event.UsbPipeListener;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class UsbScale implements UsbPipeListener {\n\n    private final UsbDevice device;\n    private UsbInterface iface;\n    private UsbPipe pipe;\n    private final byte[] data = new byte[6];\n    private double finalWeight;\n    private Context context;\n\n    private UsbScale(UsbDevice device) {\n        this.device = device;\n    }\n\n\n    public static UsbScale findScale() {\n        try {\n            UsbServices services = UsbHostManager.getUsbServices();\n            UsbHub rootHub = services.getRootUsbHub();\n            // Dymo S100 Scale:\n            UsbDevice device = findDevice(rootHub, (short) 0x0922, (short) 0x8009);\n //           // Dymo M25 Scale:\n //           if (device == null) {\n //               device = findDevice(rootHub, (short) 0x0922, (short) 0x8004);\n //           }\n            if (device == null) {\n                return null;\n            }\n            return new UsbScale(device);\n        } catch (Exception e) {\n            try {\n                String home = System.getProperty(&quot;user.home&quot;);\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\n\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\n                try {\n                    out.write(&quot;Error! &quot; + e.getMessage());\n                } finally {\n                    out.close();\n                }\n            } catch (IOException exception) {\n                System.out.println(&quot;An error occurred.&quot;);\n                exception.printStackTrace();\n            }\n            return null;\n        }\n    }\n\n    private static UsbDevice findDevice(UsbHub hub, short vendorId, short productId) {\n        for (UsbDevice device : (List&lt;UsbDevice&gt;) hub.getAttachedUsbDevices()) {\n            UsbDeviceDescriptor desc = device.getUsbDeviceDescriptor();\n            if (desc.idVendor() == vendorId &amp;&amp; desc.idProduct() == productId) {\n                return device;\n            }\n            if (device.isUsbHub()) {\n                device = findDevice((UsbHub) device, vendorId, productId);\n                if (device != null) {\n                    return device;\n                }\n            }\n        }\n        return null;\n    }\n\n    public Device findDevice(short vendorId, short productId)\n    {\n        int result = LibUsb.init(context);\n        if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to initialize libusb.&quot;, result);\n        // Read the USB device list\n        DeviceList list = new DeviceList();\n        result = LibUsb.getDeviceList(context, list);\n        if (result &lt; 0) throw new LibUsbException(&quot;Unable to get device list&quot;, result);\n        try\n        {\n            // Iterate over all devices and scan for the right one\n            for (Device device: list)\n            {\n                DeviceDescriptor descriptor = new DeviceDescriptor();\n                result = LibUsb.getDeviceDescriptor(device, descriptor);\n                if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to read device descriptor&quot;, result);\n                if (descriptor.idVendor() == vendorId &amp;&amp; descriptor.idProduct() == productId) {\n                    return device;\n                }\n            }\n        }\n        finally\n        {\n            // Ensure the allocated device list is freed\n            LibUsb.freeDeviceList(list, true);\n        }\n\n        // Device not found\n        return null;\n    }\n\n    public void open()  {\n        try {\n            context = new Context();\n            UsbConfiguration configuration = device.getActiveUsbConfiguration();\n            iface = configuration.getUsbInterface((byte) 0);\n            // this allows us to steal the lock from the kernel\n            DeviceHandle handle = new DeviceHandle();\n            int result = LibUsb.open( findDevice((short) 0x0922, (short) 0x8009), handle);\n            if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to open USB device&quot;, result);\n            result = LibUsb.setConfiguration(handle, 0);\n            if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to set Configuration&quot;, result);\n            iface.claim(usbInterface -&gt; true);\n            final List&lt;UsbEndpoint&gt; endpoints = iface.getUsbEndpoints();\n            pipe = endpoints.get(0).getUsbPipe(); // there is only 1 endpoint\n            pipe.addUsbPipeListener(this);\n            pipe.open();\n        } catch (Exception e) {\n            try {\n                String home = System.getProperty(&quot;user.home&quot;);\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\n\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\n                try {\n                    out.write(&quot;Error! &quot; + e.getMessage());\n                } finally {\n                    out.close();\n                }\n            } catch (IOException exception) {\n                System.out.println(&quot;An error occurred.&quot;);\n                exception.printStackTrace();\n            }\n        }\n\n    }\n\n    public double syncSubmit() {\n        try {\n            pipe.syncSubmit(data);\n            return finalWeight;\n        } catch (Exception e) {\n            try {\n                String home = System.getProperty(&quot;user.home&quot;);\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\n\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\n                try {\n                    out.write(&quot;Error! &quot; + e.getMessage());\n                } finally {\n                    out.close();\n                }\n            } catch (IOException exception) {\n                System.out.println(&quot;An error occurred.&quot;);\n                exception.printStackTrace();\n            }\n            return finalWeight;\n        }\n\n    }\n\n\n    public void close() throws UsbException {\n        try {\n            pipe.close();\n            iface.release();\n            LibUsb.exit(context);\n        } catch (Exception e) {\n            try {\n                String home = System.getProperty(&quot;user.home&quot;);\n                File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\n\n                BufferedWriter out = new BufferedWriter(new FileWriter(f));\n                try {\n                    out.write(&quot;Error! &quot; + e.getMessage());\n                } finally {\n                    out.close();\n                }\n            } catch (IOException exception) {\n                System.out.println(&quot;An error occurred.&quot;);\n                exception.printStackTrace();\n            }\n        }\n\n    }\n\n    @Override\n    public void dataEventOccurred(UsbPipeDataEvent upde) {\n        if (data[2] == 12) { //This means it is in imperial Mode\n            if (data[1] == 4) {\n                int weight = (data[4] &amp; 0xFF) + (data[5] &lt;&lt; 8);\n                int scalingFactor = data[3];\n                finalWeight = scaleWeight(weight, scalingFactor); //final weight, applies to both metric and imperial\n            }else if (data[1] == 5) {\n                int weight = (data[4] &amp; 0xFF) + (data[5] &lt;&lt; 8);\n                int scalingFactor = data[3];\n                finalWeight = scaleWeight(weight, scalingFactor)*(-1); //final weight, applies to both metric and imperial\n            } else if (data[1] == 2) {\n                finalWeight = 0;\n            }\n        } else { //This would mean it is in metric\n            if (data[1] == 4) {\n                int weight = (data[4] &amp; 0xFF) + (data[5] &lt;&lt; 8);\n                int scalingFactor = data[3];\n                finalWeight = (scaleWeight(weight, scalingFactor)*2.20462); //final weight, applies to both metric and imperial\n            } else if (data[1] == 5) {\n                int weight = (data[4] &amp; 0xFF) + (data[5] &lt;&lt; 8);\n                int scalingFactor = data[3];\n                finalWeight = (scaleWeight(weight, scalingFactor)*2.20462)*(-1); //final weight, applies to both metric and imperial\n            } else if (data[1] == 2) {\n                finalWeight = 0;\n            }\n\n        }\n\n    }\n\n    private double scaleWeight(int weight, int scalingFactor) {\n        return weight * Math.pow(10, scalingFactor);\n    }\n\n\n    @Override\n    public void errorEventOccurred(UsbPipeErrorEvent usbPipeErrorEvent) {\n        Logger.getLogger(UsbScale.class.getName()).log(Level.SEVERE, &quot;Scale Error&quot;, usbPipeErrorEvent);\n        try {\n            String home = System.getProperty(&quot;user.home&quot;);\n            File f = new File(home + File.separator + &quot;Documents&quot; + File.separator + &quot;Weight.txt&quot;);\n\n            BufferedWriter out = new BufferedWriter(new FileWriter(f));\n            try {\n                out.write(&quot;Error! &quot; + usbPipeErrorEvent);\n            } finally {\n                out.close();\n                System.exit(0);\n            }\n        } catch (IOException exception) {\n            System.out.println(&quot;An error occurred.&quot;);\n            exception.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Thanks for any pointers in advance!</p>\n"},{"tags":["java","apache-spark","apache-spark-2.0"],"answers":[{"tags":[],"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1662037736,"creation_date":1478896065,"answer_id":40555688,"question_id":40555279,"body_markdown":"In general this error comes [when an application tries to create an array with negative size.][1] see below example.\r\n\r\nIts general java error. In your case I doubt this was caused by \r\n\r\n   \r\n\r\n     Dataset&lt;Info&gt; infos = spark.read().json(&quot;data.json&quot;).as(Encoders.bean(Info.class));\r\n    \r\n    System.out.println(infos.rdd().count());\r\n\r\nyou could review this code in which scenario, its negetively initializing, by printing complete stack trace.\r\n\r\n```java\r\n~/\r\n❯ cat StackTest.java\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class StackTest {\r\n    public static void main(String args[])throws IOException {\r\n        int c[]=new int[-2];\r\n        Scanner in=new Scanner(new InputStreamReader(System.in));\r\n        int b=in.nextInt();\r\n        int a[]=new int[b];\r\n    }\r\n}\r\n\r\n~/\r\n❯ javac StackTest.java &amp;&amp; java StackTest\r\nException in thread &quot;main&quot; java.lang.NegativeArraySizeException: -2\r\n        at StackTest.main(StackTest.java:6)\r\n```\r\n\r\n------------------------\r\n\r\n&gt; **Note:**  One of the use case is using [`Kryo`][2] serialization along with\r\n&gt; apache spark... when it can happen/fix is like below...\r\n&gt; \r\n&gt; [Very large object graphs][3]\r\n&gt; \r\n&gt; Reference limits\r\n&gt; \r\n&gt; `Kryo` stores references in a map that is based on an `int` array.\r\n&gt; Since Java array indices are limited to `Integer.MAX_VALUE`,\r\n&gt; serializing large (&gt; 1 billion) objects may result in a\r\n&gt; `java.lang.NegativeArraySizeException`.\r\n&gt; \r\n&gt; A workaround for this issue is disabling Kryo&#39;s reference tracking as\r\n&gt; indicated below:\r\n&gt; \r\n&gt;   \r\n&gt; \r\n&gt;       Kryo kryo = new Kryo();\r\n&gt;       kryo.setReferences(false);\r\n\r\nor else a property like `spark.kryo.refferenceTrackingEnabled`=`false` in `spark-default.conf` or `sparkConf` object if you want to set it programatically..\r\n\r\n[Spark docs says that][4] \r\n\r\n`spark.kryo.referenceTracking`\tdefault value `true`\t\r\n\r\n&gt; Whether to track references to the same object when serializing data\r\n&gt; with Kryo, which is necessary if your object graphs have loops and\r\n&gt; useful for efficiency if they contain multiple copies of the same\r\n&gt; object. Can be disabled to improve performance if you know this is not\r\n&gt; the case.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/NegativeArraySizeException.html\r\n  [2]: https://github.com/EsotericSoftware/kryo/blob/master/README.md\r\n  [3]: https://github.com/EsotericSoftware/kryo/blob/master/README.md#very-large-object-graphs\r\n  [4]: https://spark.apache.org/docs/latest/configuration.html#compression-and-serialization","title":"Spark 2.0.1 java.lang.NegativeArraySizeException","body":"<p>In general this error comes <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/NegativeArraySizeException.html\" rel=\"nofollow noreferrer\">when an application tries to create an array with negative size.</a> see below example.</p>\n<p>Its general java error. In your case I doubt this was caused by</p>\n<pre><code> Dataset&lt;Info&gt; infos = spark.read().json(&quot;data.json&quot;).as(Encoders.bean(Info.class));\n\nSystem.out.println(infos.rdd().count());\n</code></pre>\n<p>you could review this code in which scenario, its negetively initializing, by printing complete stack trace.</p>\n<pre class=\"lang-java prettyprint-override\"><code>~/\n❯ cat StackTest.java\nimport java.util.*;\nimport java.io.*;\n\npublic class StackTest {\n    public static void main(String args[])throws IOException {\n        int c[]=new int[-2];\n        Scanner in=new Scanner(new InputStreamReader(System.in));\n        int b=in.nextInt();\n        int a[]=new int[b];\n    }\n}\n\n~/\n❯ javac StackTest.java &amp;&amp; java StackTest\nException in thread &quot;main&quot; java.lang.NegativeArraySizeException: -2\n        at StackTest.main(StackTest.java:6)\n</code></pre>\n<hr />\n<blockquote>\n<p><strong>Note:</strong>  One of the use case is using <a href=\"https://github.com/EsotericSoftware/kryo/blob/master/README.md\" rel=\"nofollow noreferrer\"><code>Kryo</code></a> serialization along with\napache spark... when it can happen/fix is like below...</p>\n<p><a href=\"https://github.com/EsotericSoftware/kryo/blob/master/README.md#very-large-object-graphs\" rel=\"nofollow noreferrer\">Very large object graphs</a></p>\n<p>Reference limits</p>\n<p><code>Kryo</code> stores references in a map that is based on an <code>int</code> array.\nSince Java array indices are limited to <code>Integer.MAX_VALUE</code>,\nserializing large (&gt; 1 billion) objects may result in a\n<code>java.lang.NegativeArraySizeException</code>.</p>\n<p>A workaround for this issue is disabling Kryo's reference tracking as\nindicated below:</p>\n<pre><code>  Kryo kryo = new Kryo();\n  kryo.setReferences(false);\n</code></pre>\n</blockquote>\n<p>or else a property like <code>spark.kryo.refferenceTrackingEnabled</code>=<code>false</code> in <code>spark-default.conf</code> or <code>sparkConf</code> object if you want to set it programatically..</p>\n<p><a href=\"https://spark.apache.org/docs/latest/configuration.html#compression-and-serialization\" rel=\"nofollow noreferrer\">Spark docs says that</a></p>\n<p><code>spark.kryo.referenceTracking</code>  default value <code>true</code></p>\n<blockquote>\n<p>Whether to track references to the same object when serializing data\nwith Kryo, which is necessary if your object graphs have loops and\nuseful for efficiency if they contain multiple copies of the same\nobject. Can be disabled to improve performance if you know this is not\nthe case.</p>\n</blockquote>\n"}],"owner":{"account_id":2066640,"reputation":1328,"user_id":1842042,"accept_rate":75,"display_name":"besil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8293,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1662037736,"creation_date":1478894169,"question_id":40555279,"body_markdown":"I&#39;m starting playing with Spark 2.0.1. New Dataset API is very clean, but I&#39;m having problems with very simple operations.\r\n\r\nMaybe I&#39;m missing something, hope somebody can help.\r\n\r\nThese instructions\r\n\r\n    SparkConf conf = new SparkConf().setAppName(&quot;myapp&quot;).setMaster(&quot;local[*]&quot;);\r\n    SparkSession spark = SparkSession\r\n            .builder()\r\n            .config(conf)\r\n            .getOrCreate();\r\n\r\n    Dataset&lt;Info&gt; infos = spark.read().json(&quot;data.json&quot;).as(Encoders.bean(Info.class));\r\n\r\n    System.out.println(infos.rdd().count());\r\n\r\nproduce a \r\n\r\n     java.lang.NegativeArraySizeException\r\n\r\nand a fatal error detected by the JVM (1.8).\r\n\r\nWorking on the data using dataset api (i.e, selects, count on infos object) works fine.\r\n\r\nHow can I switch between Dataset and RDD?","title":"Spark 2.0.1 java.lang.NegativeArraySizeException","body":"<p>I'm starting playing with Spark 2.0.1. New Dataset API is very clean, but I'm having problems with very simple operations.</p>\n\n<p>Maybe I'm missing something, hope somebody can help.</p>\n\n<p>These instructions</p>\n\n<pre><code>SparkConf conf = new SparkConf().setAppName(\"myapp\").setMaster(\"local[*]\");\nSparkSession spark = SparkSession\n        .builder()\n        .config(conf)\n        .getOrCreate();\n\nDataset&lt;Info&gt; infos = spark.read().json(\"data.json\").as(Encoders.bean(Info.class));\n\nSystem.out.println(infos.rdd().count());\n</code></pre>\n\n<p>produce a </p>\n\n<pre><code> java.lang.NegativeArraySizeException\n</code></pre>\n\n<p>and a fatal error detected by the JVM (1.8).</p>\n\n<p>Working on the data using dataset api (i.e, selects, count on infos object) works fine.</p>\n\n<p>How can I switch between Dataset and RDD?</p>\n"},{"tags":["java","spring-boot","maven","redis","spring-session"],"comments":[{"owner":{"account_id":2510424,"reputation":540,"user_id":2183049,"display_name":"Habil"},"score":0,"creation_date":1539003031,"post_id":52701197,"comment_id":92331874,"body_markdown":"Check this issue at github spring-session repo : https://github.com/spring-projects/spring-session/issues/113","body":"Check this issue at github spring-session repo : <a href=\"https://github.com/spring-projects/spring-session/issues/113\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-session/issues/113</a>"},{"owner":{"account_id":11436907,"reputation":625,"user_id":8384029,"accept_rate":40,"display_name":"Mohamed Aoutir"},"score":0,"creation_date":1539011427,"post_id":52701197,"comment_id":92336944,"body_markdown":"I have checked the issue in your proposed link but without success","body":"I have checked the issue in your proposed link but without success"}],"answers":[{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1576314837,"creation_date":1550935844,"answer_id":54843142,"question_id":52701197,"body_markdown":"If you have this issue: \r\n\r\n&gt; io.lettuce.core.RedisCommandExecutionException: ERR Unsupported CONFIG parameter: notify-keyspace-events\r\n\r\nthen add following configuration class in your application:\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.session.data.redis.config.ConfigureRedisAction;\r\n\r\n@Configuration\r\npublic class RedisConfigureAction {\r\n    @Bean\r\n    public ConfigureRedisAction configureRedisAction() {\r\n        return ConfigureRedisAction.NO_OP;\r\n    }\r\n}\r\n```","title":"notify-keyspace-events in Redis","body":"<p>If you have this issue: </p>\n\n<blockquote>\n  <p>io.lettuce.core.RedisCommandExecutionException: ERR Unsupported CONFIG parameter: notify-keyspace-events</p>\n</blockquote>\n\n<p>then add following configuration class in your application:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.session.data.redis.config.ConfigureRedisAction;\n\n@Configuration\npublic class RedisConfigureAction {\n    @Bean\n    public ConfigureRedisAction configureRedisAction() {\n        return ConfigureRedisAction.NO_OP;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255481,"reputation":969,"user_id":535560,"display_name":"bedla.czech"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580754569,"creation_date":1580754569,"answer_id":60045092,"question_id":52701197,"body_markdown":"In my case - I had misconfigured lettuce client with client config for standalone server connecting to sentinel node. When I have changed client configuration of sentinel connecting to sentinel node exception went away.\r\n\r\nFYI when using `ConfigureRedisAction.NO_OP` you have to have configure Redis redis.conf file with `config set notify-keyspace-events Egx`. See [Redis documentation](https://redis.io/topics/notifications#configuration) and default implementation of `ConfigureRedisAction` at [Spring session source code](https://github.com/spring-projects/spring-session/blob/2.2.1.RELEASE/spring-session-data-redis/src/main/java/org/springframework/session/data/redis/config/ConfigureNotifyKeyspaceEventsAction.java#L56).","title":"notify-keyspace-events in Redis","body":"<p>In my case - I had misconfigured lettuce client with client config for standalone server connecting to sentinel node. When I have changed client configuration of sentinel connecting to sentinel node exception went away.</p>\n\n<p>FYI when using <code>ConfigureRedisAction.NO_OP</code> you have to have configure Redis redis.conf file with <code>config set notify-keyspace-events Egx</code>. See <a href=\"https://redis.io/topics/notifications#configuration\" rel=\"nofollow noreferrer\">Redis documentation</a> and default implementation of <code>ConfigureRedisAction</code> at <a href=\"https://github.com/spring-projects/spring-session/blob/2.2.1.RELEASE/spring-session-data-redis/src/main/java/org/springframework/session/data/redis/config/ConfigureNotifyKeyspaceEventsAction.java#L56\" rel=\"nofollow noreferrer\">Spring session source code</a>.</p>\n"},{"tags":[],"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662037723,"creation_date":1662037723,"answer_id":73569889,"question_id":52701197,"body_markdown":"Set these parameters in the property\r\n\r\n    spring:\r\n      session:\r\n        redis:\r\n          configure-action: none","title":"notify-keyspace-events in Redis","body":"<p>Set these parameters in the property</p>\n<pre><code>spring:\n  session:\n    redis:\n      configure-action: none\n</code></pre>\n"}],"owner":{"account_id":11436907,"reputation":625,"user_id":8384029,"accept_rate":40,"display_name":"Mohamed Aoutir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11348,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":54843142,"answer_count":3,"score":7,"last_activity_date":1662037723,"creation_date":1538997790,"question_id":52701197,"body_markdown":"I&#39;d like to work with Redis for manipulating sessions.But I get failure when running the spring boot app.So I guess that this error is coming from maven dependencies especially version conflicts.\r\n\r\nHere is my maven dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;biz.paluch.redis&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lettuce&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-session&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;com.github.kstyrc&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\r\n      \t\t\t&lt;version&gt;0.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n\r\nI tried to avoid notify-keyspace-events bug by integrating embedded-redis dependency in pom.xml but without success.\r\n\r\nNotice that I added two dependencies in above pom.xml which there artifactId are spring-session-data-redis and lettuce-core.These dependencies are respectively responsible for Redis connection and ensuring thread safety for session connections.\r\n\r\nBelow the config class for redis http session:\r\n\r\n    @Configuration\r\n    @EnableRedisHttpSession\r\n    public class HttpSessionConfig {\r\n    \t@Bean\r\n    \tpublic LettuceConnectionFactory connectionFactory() {\r\n    \t\treturn new LettuceConnectionFactory(); \r\n    \t}\r\n    \t\r\n    }\r\n\r\nAlso I configured http session management by using spring-session in below component:\r\n\r\n    import org.springframework.session.web.http.HeaderHttpSessionStrategy;\r\n    import org.springframework.session.web.http.HttpSessionStrategy;\r\n    \r\n        @Configuration\r\n        @EnableWebSecurity\r\n        public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n            //some code here\r\n            public HttpSessionStrategy httpSessionStrategy() {\r\n            \t\treturn new HeaderHttpSessionStrategy();\r\n            \t}\r\n        }\r\n\r\nBut when I run spring boot app, I get this following runtime error:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;enableRedisKeyspaceNotificationsInitializer&#39; defined in class path resource [org/springframework/session/data/redis/config/annotation/web/http/RedisHttpSessionConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.data.redis.RedisSystemException: Error in execution; nested exception is io.lettuce.core.RedisCommandExecutionException: ERR Unsupported CONFIG parameter: notify-keyspace-events\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat com.example.demo.BookStoreApplication.main(BookStoreApplication.java:29) [classes/:na]\r\n    Caused by: org.springframework.data.redis.RedisSystemException: Error in execution; nested exception is io.lettuce.core.RedisCommandExecutionException: ERR Unsupported CONFIG parameter: notify-keyspace-events\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:54) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:52) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\r\n    \tat org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\r\n    \tat org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:257) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceServerCommands.convertLettuceAccessException(LettuceServerCommands.java:571) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceServerCommands.setConfig(LettuceServerCommands.java:332) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\r\n    \tat org.springframework.data.redis.connection.DefaultedRedisConnection.setConfig(DefaultedRedisConnection.java:1126) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\r\n    \tat org.springframework.session.data.redis.config.ConfigureNotifyKeyspaceEventsAction.configure(ConfigureNotifyKeyspaceEventsAction.java:70) ~[spring-session-data-redis-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.session.data.redis.config.annotation.web.http.RedisHttpSessionConfiguration$EnableRedisKeyspaceNotificationsInitializer.afterPropertiesSet(RedisHttpSessionConfiguration.java:286) ~[spring-session-data-redis-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \t... 16 common frames omitted\r\n    Caused by: io.lettuce.core.RedisCommandExecutionException: ERR Unsupported CONFIG parameter: notify-keyspace-events\r\n    \tat io.lettuce.core.protocol.AsyncCommand.completeResult(AsyncCommand.java:118) ~[lettuce-core-5.0.5.RELEASE.jar:na]\r\n    \tat io.lettuce.core.protocol.AsyncCommand.complete(AsyncCommand.java:109) ~[lettuce-core-5.0.5.RELEASE.jar:na]\r\n    \tat io.lettuce.core.protocol.CommandHandler.complete(CommandHandler.java:598) ~[lettuce-core-5.0.5.RELEASE.jar:na]\r\n    \tat io.lettuce.core.protocol.CommandHandler.decode(CommandHandler.java:556) ~[lettuce-core-5.0.5.RELEASE.jar:na]\r\n    \tat io.lettuce.core.protocol.CommandHandler.channelRead(CommandHandler.java:508) ~[lettuce-core-5.0.5.RELEASE.jar:na]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:628) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:563) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:480) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:442) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884) ~[netty-common-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.29.Final.jar:4.1.29.Final]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_144]\r\n\r\n\r\nPlease any help is very appreciated.Thanks in advance for your reply.\r\n","title":"notify-keyspace-events in Redis","body":"<p>I'd like to work with Redis for manipulating sessions.But I get failure when running the spring boot app.So I guess that this error is coming from maven dependencies especially version conflicts.</p>\n\n<p>Here is my maven dependencies:</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;biz.paluch.redis&lt;/groupId&gt;\n            &lt;artifactId&gt;lettuce&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.kstyrc&lt;/groupId&gt;\n            &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\n            &lt;version&gt;0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>I tried to avoid notify-keyspace-events bug by integrating embedded-redis dependency in pom.xml but without success.</p>\n\n<p>Notice that I added two dependencies in above pom.xml which there artifactId are spring-session-data-redis and lettuce-core.These dependencies are respectively responsible for Redis connection and ensuring thread safety for session connections.</p>\n\n<p>Below the config class for redis http session:</p>\n\n<pre><code>@Configuration\n@EnableRedisHttpSession\npublic class HttpSessionConfig {\n    @Bean\n    public LettuceConnectionFactory connectionFactory() {\n        return new LettuceConnectionFactory(); \n    }\n\n}\n</code></pre>\n\n<p>Also I configured http session management by using spring-session in below component:</p>\n\n<pre><code>import org.springframework.session.web.http.HeaderHttpSessionStrategy;\nimport org.springframework.session.web.http.HttpSessionStrategy;\n\n    @Configuration\n    @EnableWebSecurity\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\n        //some code here\n        public HttpSessionStrategy httpSessionStrategy() {\n                return new HeaderHttpSessionStrategy();\n            }\n    }\n</code></pre>\n\n<p>But when I run spring boot app, I get this following runtime error:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'enableRedisKeyspaceNotificationsInitializer' defined in class path resource [org/springframework/session/data/redis/config/annotation/web/http/RedisHttpSessionConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.data.redis.RedisSystemException: Error in execution; nested exception is io.lettuce.core.RedisCommandExecutionException: ERR Unsupported CONFIG parameter: notify-keyspace-events\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at com.example.demo.BookStoreApplication.main(BookStoreApplication.java:29) [classes/:na]\nCaused by: org.springframework.data.redis.RedisSystemException: Error in execution; nested exception is io.lettuce.core.RedisCommandExecutionException: ERR Unsupported CONFIG parameter: notify-keyspace-events\n    at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:54) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\n    at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:52) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\n    at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\n    at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\n    at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\n    at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:257) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\n    at org.springframework.data.redis.connection.lettuce.LettuceServerCommands.convertLettuceAccessException(LettuceServerCommands.java:571) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\n    at org.springframework.data.redis.connection.lettuce.LettuceServerCommands.setConfig(LettuceServerCommands.java:332) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\n    at org.springframework.data.redis.connection.DefaultedRedisConnection.setConfig(DefaultedRedisConnection.java:1126) ~[spring-data-redis-2.0.10.RELEASE.jar:2.0.10.RELEASE]\n    at org.springframework.session.data.redis.config.ConfigureNotifyKeyspaceEventsAction.configure(ConfigureNotifyKeyspaceEventsAction.java:70) ~[spring-session-data-redis-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.session.data.redis.config.annotation.web.http.RedisHttpSessionConfiguration$EnableRedisKeyspaceNotificationsInitializer.afterPropertiesSet(RedisHttpSessionConfiguration.java:286) ~[spring-session-data-redis-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    ... 16 common frames omitted\nCaused by: io.lettuce.core.RedisCommandExecutionException: ERR Unsupported CONFIG parameter: notify-keyspace-events\n    at io.lettuce.core.protocol.AsyncCommand.completeResult(AsyncCommand.java:118) ~[lettuce-core-5.0.5.RELEASE.jar:na]\n    at io.lettuce.core.protocol.AsyncCommand.complete(AsyncCommand.java:109) ~[lettuce-core-5.0.5.RELEASE.jar:na]\n    at io.lettuce.core.protocol.CommandHandler.complete(CommandHandler.java:598) ~[lettuce-core-5.0.5.RELEASE.jar:na]\n    at io.lettuce.core.protocol.CommandHandler.decode(CommandHandler.java:556) ~[lettuce-core-5.0.5.RELEASE.jar:na]\n    at io.lettuce.core.protocol.CommandHandler.channelRead(CommandHandler.java:508) ~[lettuce-core-5.0.5.RELEASE.jar:na]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:628) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:563) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:480) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:442) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884) ~[netty-common-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.29.Final.jar:4.1.29.Final]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_144]\n</code></pre>\n\n<p>Please any help is very appreciated.Thanks in advance for your reply.</p>\n"},{"tags":["java","file","sonarqube"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1662033957,"post_id":73569065,"comment_id":129915649,"body_markdown":"what do you mean &quot;it is affecting for code&quot;? What is the issue?","body":"what do you mean &quot;it is affecting for code&quot;? What is the issue?"}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662034348,"creation_date":1662034348,"answer_id":73569162,"question_id":73569065,"body_markdown":"In this case you can use logger without side-effect for the code, for instance like that:\r\n\r\n    var retVal = directory.delete();\r\n    logger.info(&quot;entity &quot; + reVal + &quot; was deleted&quot;);","title":"Sonar Issue &quot;Return values should not be ignored when they contain the operation status code&quot; getting for Java code","body":"<p>In this case you can use logger without side-effect for the code, for instance like that:</p>\n<pre><code>var retVal = directory.delete();\nlogger.info(&quot;entity &quot; + reVal + &quot; was deleted&quot;);\n</code></pre>\n"}],"owner":{"account_id":25593061,"reputation":5,"user_id":19369436,"display_name":"Mahi Mokhashi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73569162,"answer_count":1,"score":0,"last_activity_date":1662037584,"creation_date":1662033847,"question_id":73569065,"body_markdown":"I am getting the Sonar Issue &quot;Return values should not be ignored when they contain the operation status code&quot; for below line of code.\r\n\r\n     directory.delete();\r\n\r\nDo something with the &quot;boolean&quot; value returned by &quot;delete()&quot; error I am getting.\r\nI tried to add condition like\r\n\r\n    if(!directory.delete()){\r\n                logger.error(&quot;failed to delete&quot;);\r\n            }\r\n\r\nSonar issue is getting fixed but it is affecting for code, please let me know, how to fix the issue.","title":"Sonar Issue &quot;Return values should not be ignored when they contain the operation status code&quot; getting for Java code","body":"<p>I am getting the Sonar Issue &quot;Return values should not be ignored when they contain the operation status code&quot; for below line of code.</p>\n<pre><code> directory.delete();\n</code></pre>\n<p>Do something with the &quot;boolean&quot; value returned by &quot;delete()&quot; error I am getting.\nI tried to add condition like</p>\n<pre><code>if(!directory.delete()){\n            logger.error(&quot;failed to delete&quot;);\n        }\n</code></pre>\n<p>Sonar issue is getting fixed but it is affecting for code, please let me know, how to fix the issue.</p>\n"},{"tags":["java","windows","solr","solrcloud","solr9"],"answers":[{"tags":[],"owner":{"account_id":3705601,"reputation":322,"user_id":3084236,"display_name":"mrcrag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662037483,"creation_date":1662037483,"answer_id":73569838,"question_id":73502756,"body_markdown":"Works after removing everything and starting clean.","title":"Solr 9 - 404 when auto indexing","body":"<p>Works after removing everything and starting clean.</p>\n"}],"owner":{"account_id":3705601,"reputation":322,"user_id":3084236,"display_name":"mrcrag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662037483,"creation_date":1661524858,"question_id":73502756,"body_markdown":"I have Solr 9 installed and working (on Windows 10) after following these tutorials - https://solr.apache.org/guide/solr/latest/getting-started/solr-tutorial.html\r\n\r\nI&#39;m using the techproducts_config that comes with the install and is supposed to handle multiple file types, as the output states when I try to index using the built in post.jar:\r\n\r\n`java -jar -Dc=cd2 -Dauto .\\post.jar /pathTo/myFiles`\r\n\r\n`Entering auto mode. File endings considered are xml,json,jsonl,csv,pdf,doc,docx,ppt,pptx,xls,xlsx,odt,odp,ods,ott,otp,ots,rtf,htm,html,txt,log`\r\n\r\nHowever, for each of my files, the post tool reports a 404:\r\n\r\n`POSTing file example1.txt (text/plain) to [base]/extract - SimplePostTool: WARNING: Solr returned an error #404`\r\n\r\nI only have success if I call specific file types (text files, here):\r\n\r\n`java -jar -Dc=cd2 -Dauto .\\post.jar /pathTo/myFiles/*.txt`\r\n\r\nThe built-in `solrconfig.xml` that I&#39;m using has an update handler:\r\n\r\n`&lt;requestHandler name=&quot;/update/extract&quot; startup=&quot;lazy&quot; class=&quot;solr.extraction.ExtractingRequestHandler&quot; &gt;`\r\n","title":"Solr 9 - 404 when auto indexing","body":"<p>I have Solr 9 installed and working (on Windows 10) after following these tutorials - <a href=\"https://solr.apache.org/guide/solr/latest/getting-started/solr-tutorial.html\" rel=\"nofollow noreferrer\">https://solr.apache.org/guide/solr/latest/getting-started/solr-tutorial.html</a></p>\n<p>I'm using the techproducts_config that comes with the install and is supposed to handle multiple file types, as the output states when I try to index using the built in post.jar:</p>\n<p><code>java -jar -Dc=cd2 -Dauto .\\post.jar /pathTo/myFiles</code></p>\n<p><code>Entering auto mode. File endings considered are xml,json,jsonl,csv,pdf,doc,docx,ppt,pptx,xls,xlsx,odt,odp,ods,ott,otp,ots,rtf,htm,html,txt,log</code></p>\n<p>However, for each of my files, the post tool reports a 404:</p>\n<p><code>POSTing file example1.txt (text/plain) to [base]/extract - SimplePostTool: WARNING: Solr returned an error #404</code></p>\n<p>I only have success if I call specific file types (text files, here):</p>\n<p><code>java -jar -Dc=cd2 -Dauto .\\post.jar /pathTo/myFiles/*.txt</code></p>\n<p>The built-in <code>solrconfig.xml</code> that I'm using has an update handler:</p>\n<p><code>&lt;requestHandler name=&quot;/update/extract&quot; startup=&quot;lazy&quot; class=&quot;solr.extraction.ExtractingRequestHandler&quot; &gt;</code></p>\n"},{"tags":["java","android","serialization","android-intent"],"answers":[{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662019979,"creation_date":1662019979,"answer_id":73566160,"question_id":73566058,"body_markdown":"Paste the exact error you are facing, have you implemented Serializable Interface on CustomObject ?","title":"How to pass object one application to another application in android studio","body":"<p>Paste the exact error you are facing, have you implemented Serializable Interface on CustomObject ?</p>\n"},{"tags":[],"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662023357,"creation_date":1662023357,"answer_id":73566839,"question_id":73566058,"body_markdown":"If your Custom Object implements the `Serializable` (or `Parcelable`) Interface, then you can bundle it in a Bundle that gets serialized or &quot;bundled&quot; in an `Intent`. \r\n\r\nKeep in mind it&#39;s usually a _potential_ code smell to pass something other than a primitive or two via intents. There are multiple reasons why this _may_ be bad. Notice that it&#39;s _may_ be bad, not _it&#39;s bad_. It really depends.\r\n\r\nIn general, on any mid-sized project, it&#39;s best if you plan to simply pass some ID or needed data so that the other activity (receiver) doesn&#39;t rely directly on your custom object, but rather fetches the data from a common &quot;repository&quot; or even Shared View Model if you don&#39;t have a repository &quot;pattern&quot; of any sort.\r\n\r\nSo instead of saying Here, Have this Custom Object, you merely say: Here&#39;s the ID of the data you need. \r\n\r\nThe other issues with passing stuff via intent is that you&#39;re by default serializing on the main thread (and deserializing). Additionally, if I correctly recall, there&#39;s a size limit (1mb?) for intents so if your CustomObject is bigger, you&#39;re going to have runtime issues and/or crashes.\r\n\r\nYou would avoid pretty much all these issues if you plan ahead to decouple this from the intent/activities.","title":"How to pass object one application to another application in android studio","body":"<p>If your Custom Object implements the <code>Serializable</code> (or <code>Parcelable</code>) Interface, then you can bundle it in a Bundle that gets serialized or &quot;bundled&quot; in an <code>Intent</code>.</p>\n<p>Keep in mind it's usually a <em>potential</em> code smell to pass something other than a primitive or two via intents. There are multiple reasons why this <em>may</em> be bad. Notice that it's <em>may</em> be bad, not <em>it's bad</em>. It really depends.</p>\n<p>In general, on any mid-sized project, it's best if you plan to simply pass some ID or needed data so that the other activity (receiver) doesn't rely directly on your custom object, but rather fetches the data from a common &quot;repository&quot; or even Shared View Model if you don't have a repository &quot;pattern&quot; of any sort.</p>\n<p>So instead of saying Here, Have this Custom Object, you merely say: Here's the ID of the data you need.</p>\n<p>The other issues with passing stuff via intent is that you're by default serializing on the main thread (and deserializing). Additionally, if I correctly recall, there's a size limit (1mb?) for intents so if your CustomObject is bigger, you're going to have runtime issues and/or crashes.</p>\n<p>You would avoid pretty much all these issues if you plan ahead to decouple this from the intent/activities.</p>\n"}],"owner":{"account_id":17540529,"reputation":68,"user_id":12722770,"display_name":"Farzan Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662037421,"creation_date":1662019461,"question_id":73566058,"body_markdown":"I have two Android Application, where send object one application to another application.\r\n when I share ```intent.putExtra(&quot;data&quot;, new CustomObject())``` and also define in another application for received data ```intent.getSerializableExtra(&quot;data&quot;)```\r\n\r\n**Getting error, when send data using custom object**\r\n\r\n**Custom Class**\r\n```\r\nPublic class PatientObj implements Serializable {\r\n\r\n    public String getUserId() {\r\n        return UserId;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        UserId = userId;\r\n    }\r\n\r\n    public String getPatientId() {\r\n        return PatientId;\r\n    }\r\n\r\n    public void setPatientId(String patientId) {\r\n        PatientId = patientId;\r\n    }\r\n\r\n    public String getPatientName() {\r\n        return PatientName;\r\n    }\r\n```\r\n\r\n**Getting Error**\r\n```\r\njava.lang.RuntimeException: Parcelable encountered ClassNotFoundException reading a Serializable object (name = com.global.data.PatientObj)\r\n        at android.os.Parcel.readSerializable(Parcel.java:2952)\r\n        at android.os.Parcel.readValue(Parcel.java:2738)\r\n        at android.os.Parcel.readArrayMapInternal(Parcel.java:3054)\r\n        at android.os.BaseBundle.unparcel(BaseBundle.java:257)\r\n        at android.os.BaseBundle.getSerializable(BaseBundle.java:1162)\r\n        at android.os.Bundle.getSerializable(Bundle.java:982)\r\n        at android.content.Intent.getSerializableExtra(Intent.java:7261)\r\n        at com.app.android.ss_adv_type2.tevatronModule.connector.ProcessActivity.onCreate(ProcessActivity.java:40)\r\n        at android.app.Activity.performCreate(Activity.java:7383)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1218)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3256)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3411)\r\n        at android.app.ActivityThread.-wrap12(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1994)\r\n        at android.os.Handler.dispatchMessage(Handler.java:108)\r\n        at android.os.Looper.loop(Looper.java:166)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7529)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:245)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:921)\r\n     Caused by: java.lang.ClassNotFoundException: com.global.data.PatientObj\r\n        at java.lang.Class.classForName(Native Method)\r\n        at java.lang.Class.forName(Class.java:453)\r\n        at android.os.Parcel$2.resolveClass(Parcel.java:2938)\r\n```","title":"How to pass object one application to another application in android studio","body":"<p>I have two Android Application, where send object one application to another application.\nwhen I share <code>intent.putExtra(&quot;data&quot;, new CustomObject())</code> and also define in another application for received data <code>intent.getSerializableExtra(&quot;data&quot;)</code></p>\n<p><strong>Getting error, when send data using custom object</strong></p>\n<p><strong>Custom Class</strong></p>\n<pre><code>Public class PatientObj implements Serializable {\n\n    public String getUserId() {\n        return UserId;\n    }\n\n    public void setUserId(String userId) {\n        UserId = userId;\n    }\n\n    public String getPatientId() {\n        return PatientId;\n    }\n\n    public void setPatientId(String patientId) {\n        PatientId = patientId;\n    }\n\n    public String getPatientName() {\n        return PatientName;\n    }\n</code></pre>\n<p><strong>Getting Error</strong></p>\n<pre><code>java.lang.RuntimeException: Parcelable encountered ClassNotFoundException reading a Serializable object (name = com.global.data.PatientObj)\n        at android.os.Parcel.readSerializable(Parcel.java:2952)\n        at android.os.Parcel.readValue(Parcel.java:2738)\n        at android.os.Parcel.readArrayMapInternal(Parcel.java:3054)\n        at android.os.BaseBundle.unparcel(BaseBundle.java:257)\n        at android.os.BaseBundle.getSerializable(BaseBundle.java:1162)\n        at android.os.Bundle.getSerializable(Bundle.java:982)\n        at android.content.Intent.getSerializableExtra(Intent.java:7261)\n        at com.app.android.ss_adv_type2.tevatronModule.connector.ProcessActivity.onCreate(ProcessActivity.java:40)\n        at android.app.Activity.performCreate(Activity.java:7383)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1218)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3256)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3411)\n        at android.app.ActivityThread.-wrap12(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1994)\n        at android.os.Handler.dispatchMessage(Handler.java:108)\n        at android.os.Looper.loop(Looper.java:166)\n        at android.app.ActivityThread.main(ActivityThread.java:7529)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:245)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:921)\n     Caused by: java.lang.ClassNotFoundException: com.global.data.PatientObj\n        at java.lang.Class.classForName(Native Method)\n        at java.lang.Class.forName(Class.java:453)\n        at android.os.Parcel$2.resolveClass(Parcel.java:2938)\n</code></pre>\n"},{"tags":["java","spring","liquibase","r2dbc"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1662017060,"post_id":73549150,"comment_id":129909772,"body_markdown":"share some config it&#39;s hard to follow what you&#39;d like to do","body":"share some config it&#39;s hard to follow what you&#39;d like to do"}],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662037392,"creation_date":1662037392,"answer_id":73569823,"question_id":73549150,"body_markdown":"A `liquibase` bean is completed after the Liquibase finishes its run\r\n\r\nSo you just need\r\n\r\n```java\r\n@Component\r\n@DependsOn(&quot;liquibase&quot;)\r\n```\r\n\r\nSince it&#39;s a string, there&#39;s no need to load up liquibase-core as an `implementation` depenendecy and you can use it as a `runtimeOnly` dependency to save memory on your IDE.","title":"When doing R2DBC with Liquibase how do you ensure Liquibase finishes first before doing any R2DBC operations?","body":"<p>A <code>liquibase</code> bean is completed after the Liquibase finishes its run</p>\n<p>So you just need</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@DependsOn(&quot;liquibase&quot;)\n</code></pre>\n<p>Since it's a string, there's no need to load up liquibase-core as an <code>implementation</code> depenendecy and you can use it as a <code>runtimeOnly</code> dependency to save memory on your IDE.</p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662037392,"creation_date":1661899247,"question_id":73549150,"body_markdown":"When doing https://stackoverflow.com/questions/62555217/r2dbc-and-liquibase how do you ensure Liquibase finishes first before doing any R2DBC operations?\r\n\r\nI have a `@PostConstruct` which seems to get fired before Liquibase finishes.\r\n\r\nI am thinking I just need a `@DependsOn` but I am not sure what to depend on.","title":"When doing R2DBC with Liquibase how do you ensure Liquibase finishes first before doing any R2DBC operations?","body":"<p>When doing <a href=\"https://stackoverflow.com/questions/62555217/r2dbc-and-liquibase\">R2DBC and liquibase</a> how do you ensure Liquibase finishes first before doing any R2DBC operations?</p>\n<p>I have a <code>@PostConstruct</code> which seems to get fired before Liquibase finishes.</p>\n<p>I am thinking I just need a <code>@DependsOn</code> but I am not sure what to depend on.</p>\n"},{"tags":["java","maven","amazon-s3","spring-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":2973094,"reputation":273,"user_id":2524762,"accept_rate":50,"display_name":"Viswam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662037356,"creation_date":1662037356,"answer_id":73569812,"question_id":73469307,"body_markdown":"I solved this problem by making my S3 bucket as a static site (Storage) and used CloudFront to access the artifact via HTTPS URL.\r\nRegistered the app through the http url instead of maven uri","title":"Launching Cloud Data Flow task failes with IllegalStateException Failed to resolve MavenResource","body":"<p>I solved this problem by making my S3 bucket as a static site (Storage) and used CloudFront to access the artifact via HTTPS URL.\nRegistered the app through the http url instead of maven uri</p>\n"}],"owner":{"account_id":2973094,"reputation":273,"user_id":2524762,"accept_rate":50,"display_name":"Viswam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73569812,"answer_count":1,"score":0,"last_activity_date":1662037356,"creation_date":1661327237,"question_id":73469307,"body_markdown":"I am trying to register an application in Spring Cloud Data Flow server through UI. I am using an internal S3 maven repo where my artifact is published and available currently.\r\n\r\nI have custom maven repo configured with my data flow server as below based on this [documentation][1] (Section B.1). Also created an user in AWS with read access to pull the artifact.\r\n\r\n```\r\n{\r\n    &quot;maven&quot;: {\r\n        &quot;local-repository&quot;: &quot;local&quot;,\r\n        &quot;remote-repositories&quot;: {\r\n            &quot;repo1&quot;: {\r\n                &quot;url&quot;: &quot;s3://custom-maven-repo.s3.us-east-1.amazonaws.com/release&quot;,\r\n                &quot;auth&quot;: {\r\n                    &quot;username&quot;: &quot;&lt;aws-access-key-id&gt;&quot;,\r\n                    &quot;password&quot;: &quot;&lt;aws-secret-key&gt;&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThough app registration is successful, I am unable to successfully launch a task based on this app. I am receiving the below error.\r\n\r\n```\r\n{\r\n    &quot;errors&quot;: [{\r\n            &quot;message&quot;: &quot;Failed to resolve MavenResource: com.hidglobal.migration:migration-job:jar:0.0.1. Configured remote repositories: : [repo1],[springRepo]&quot;,\r\n            &quot;logref&quot;: &quot;IllegalStateException&quot;,\r\n            &quot;_links&quot;: {\r\n                &quot;self&quot;: {\r\n                    &quot;href&quot;: &quot;/&quot;\r\n                }\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nIs this issue is because my SCDF server is unable to connect to the remote repository? I so how do I configure s3 maven repo\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-dataflow/docs/1.2.3.RELEASE/reference/html/howto.html","title":"Launching Cloud Data Flow task failes with IllegalStateException Failed to resolve MavenResource","body":"<p>I am trying to register an application in Spring Cloud Data Flow server through UI. I am using an internal S3 maven repo where my artifact is published and available currently.</p>\n<p>I have custom maven repo configured with my data flow server as below based on this <a href=\"https://docs.spring.io/spring-cloud-dataflow/docs/1.2.3.RELEASE/reference/html/howto.html\" rel=\"nofollow noreferrer\">documentation</a> (Section B.1). Also created an user in AWS with read access to pull the artifact.</p>\n<pre><code>{\n    &quot;maven&quot;: {\n        &quot;local-repository&quot;: &quot;local&quot;,\n        &quot;remote-repositories&quot;: {\n            &quot;repo1&quot;: {\n                &quot;url&quot;: &quot;s3://custom-maven-repo.s3.us-east-1.amazonaws.com/release&quot;,\n                &quot;auth&quot;: {\n                    &quot;username&quot;: &quot;&lt;aws-access-key-id&gt;&quot;,\n                    &quot;password&quot;: &quot;&lt;aws-secret-key&gt;&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Though app registration is successful, I am unable to successfully launch a task based on this app. I am receiving the below error.</p>\n<pre><code>{\n    &quot;errors&quot;: [{\n            &quot;message&quot;: &quot;Failed to resolve MavenResource: com.hidglobal.migration:migration-job:jar:0.0.1. Configured remote repositories: : [repo1],[springRepo]&quot;,\n            &quot;logref&quot;: &quot;IllegalStateException&quot;,\n            &quot;_links&quot;: {\n                &quot;self&quot;: {\n                    &quot;href&quot;: &quot;/&quot;\n                }\n            }\n        }\n    ]\n}\n</code></pre>\n<p>Is this issue is because my SCDF server is unable to connect to the remote repository? I so how do I configure s3 maven repo</p>\n"},{"tags":["java","spring-boot","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662037282,"creation_date":1662037282,"answer_id":73569793,"question_id":73569504,"body_markdown":"The regex only matches complete identifiers (qualified or unqualified). Your regex doesn&#39;t match your identifier. You probably meant to write this?\r\n\r\n```xml\r\n&lt;excludes&gt;.*_p[0-9_]+&lt;/excludes&gt;\r\n```\r\n\r\nNote the added `_`","title":"JOOQ ignores exclusion regex","body":"<p>The regex only matches complete identifiers (qualified or unqualified). Your regex doesn't match your identifier. You probably meant to write this?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;excludes&gt;.*_p[0-9_]+&lt;/excludes&gt;\n</code></pre>\n<p>Note the added <code>_</code></p>\n"}],"owner":{"account_id":287280,"reputation":18172,"user_id":586986,"accept_rate":77,"display_name":"Cemre Meng&#252;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73569793,"answer_count":1,"score":1,"last_activity_date":1662037282,"creation_date":1662036096,"question_id":73569504,"body_markdown":"I would like to avoid code generation for table partitions (only main table is enough). I am using the instructions provided [here][1]\r\n\r\nMy partitioned tables are named like `events_p2022_05_10` so I am using a config like\r\n\r\n```\r\n&lt;regexMatchesPartialQualification&gt;true&lt;/regexMatchesPartialQualification&gt;\r\n&lt;includes&gt;.*&lt;/includes&gt;\r\n&lt;excludes&gt;.*_p[0-9]+&lt;/excludes&gt; \r\n```\r\n\r\nHowever the partition tables are generated regardless. What am I missing? I am using version 3.16.5\r\n\r\n\r\n  [1]: https://blog.jooq.org/integrating-jooq-with-postgresql-partitioning/","title":"JOOQ ignores exclusion regex","body":"<p>I would like to avoid code generation for table partitions (only main table is enough). I am using the instructions provided <a href=\"https://blog.jooq.org/integrating-jooq-with-postgresql-partitioning/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>My partitioned tables are named like <code>events_p2022_05_10</code> so I am using a config like</p>\n<pre><code>&lt;regexMatchesPartialQualification&gt;true&lt;/regexMatchesPartialQualification&gt;\n&lt;includes&gt;.*&lt;/includes&gt;\n&lt;excludes&gt;.*_p[0-9]+&lt;/excludes&gt; \n</code></pre>\n<p>However the partition tables are generated regardless. What am I missing? I am using version 3.16.5</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662037015,"creation_date":1662037015,"answer_id":73569726,"question_id":73568591,"body_markdown":"In order to use Spring Data &amp; Spring Security integration you must add the `org.springframework.security:spring-security-data` dependency and expose a `SecurityEvaluationContextExtension` bean, like so:\r\n\r\n```java\r\n@Bean\r\npublic SecurityEvaluationContextExtension securityEvaluationContextExtension() {\r\n\treturn new SecurityEvaluationContextExtension();\r\n}\r\n```\r\n\r\nSee https://docs.spring.io/spring-security/reference/servlet/integrations/data.html","title":"Error with findByUserIsCurrentUser generated by entity subgenerator SpelEvaluationException","body":"<p>In order to use Spring Data &amp; Spring Security integration you must add the <code>org.springframework.security:spring-security-data</code> dependency and expose a <code>SecurityEvaluationContextExtension</code> bean, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityEvaluationContextExtension securityEvaluationContextExtension() {\n    return new SecurityEvaluationContextExtension();\n}\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/data.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/integrations/data.html</a></p>\n"}],"owner":{"account_id":25052286,"reputation":9,"user_id":18908062,"display_name":"Muvvala Krupanandam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73569726,"answer_count":1,"score":-1,"last_activity_date":1662037015,"creation_date":1662031587,"question_id":73568591,"body_markdown":"2022-09-01 16:52:18.073 ERROR 79129 --- [nio-8080-exec-6] o.z.problem.spring.common.AdviceTraits   : Internal Server Error\r\n\r\norg.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;principal&#39; cannot be found on object of type &#39;java.lang.Object[]&#39; - maybe not public or not valid?\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:91) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:53) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:89) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:114) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:300) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetterFactory$ExpressionBasedQueryParameterSetterFactory.evaluateExpression(QueryParameterSetterFactory.java:179) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetterFactory$ExpressionBasedQueryParameterSetterFactory.lambda$create$0(QueryParameterSetterFactory.java:164) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat java.util.function.Function.lambda$andThen$1(Function.java:88) ~[na:1.8.0_202]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:82) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.lambda$bind$0(ParameterBinder.java:79) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_202]\r\n\tat java.util.Collections$UnmodifiableCollection.forEach(Collections.java:1080) ~[na:1.8.0_202]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:79) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:74) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:96) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:92) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:210) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:91) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:136) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:125) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:138) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat com.sun.proxy.$Proxy162.findDealersBySalesPersonIsCurrentUser(Unknown Source) ~[na:na]\r\n\tat com.nexcar.prv.service.OrganizationService.findDealersBySalesPerson(OrganizationService.java:342) ~[classes/:na]\r\n\tat com.nexcar.prv.service.OrganizationService$$FastClassBySpringCGLIB$$e431aa1.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat com.nexcar.prv.service.OrganizationService$$EnhancerBySpringCGLIB$$a35bb710.findDealersBySalesPerson(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.nexcar.prv.rest.OrganizationResource.getSalesPersonDealers(OrganizationResource.java:338) ~[classes/:na]\r\n\tat com.nexcar.prv.rest.OrganizationResource$$FastClassBySpringCGLIB$$3a3143d3.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat com.nexcar.prv.rest.OrganizationResource$$EnhancerBySpringCGLIB$$b89a38fa.getSalesPersonDealers(&lt;generated&gt;) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) [spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) [spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) [spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat com.nexcar.prv.security.jwt.JWTFilter.doFilter(JWTFilter.java:84) [classes/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat com.nexcar.prv.security.jwt.JWTFilter.doFilter(JWTFilter.java:84) [classes/:na]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat com.nexcar.prv.security.jwt.JWTFilter.doFilter(JWTFilter.java:84) [classes/:na]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]\r\n\r\n2022-09-01 16:52:18.077  WARN 79129 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;principal&#39; cannot be found on object of type &#39;java.lang.Object[]&#39; - maybe not public or not valid?]\r\n\r\ni have a query in repository like this\r\n\r\n @Query(&quot;select organization from Organization organization where organization.salesPerson.login = ?#{principal?.username}&quot;)\r\n    List&lt;Organization&gt; findBySalesPersonIsCurrentUser();","title":"Error with findByUserIsCurrentUser generated by entity subgenerator SpelEvaluationException","body":"<p>2022-09-01 16:52:18.073 ERROR 79129 --- [nio-8080-exec-6] o.z.problem.spring.common.AdviceTraits   : Internal Server Error</p>\n<p>org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'principal' cannot be found on object of type 'java.lang.Object[]' - maybe not public or not valid?\nat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:91) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:53) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:89) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:114) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:300) ~[spring-expression-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.data.jpa.repository.query.QueryParameterSetterFactory$ExpressionBasedQueryParameterSetterFactory.evaluateExpression(QueryParameterSetterFactory.java:179) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.jpa.repository.query.QueryParameterSetterFactory$ExpressionBasedQueryParameterSetterFactory.lambda$create$0(QueryParameterSetterFactory.java:164) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat java.util.function.Function.lambda$andThen$1(Function.java:88) ~[na:1.8.0_202]\nat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:82) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.jpa.repository.query.ParameterBinder.lambda$bind$0(ParameterBinder.java:79) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_202]\nat java.util.Collections$UnmodifiableCollection.forEach(Collections.java:1080) ~[na:1.8.0_202]\nat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:79) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:74) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:96) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:92) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:210) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:91) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:136) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:125) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:138) ~[spring-data-jpa-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat com.sun.proxy.$Proxy162.findDealersBySalesPersonIsCurrentUser(Unknown Source) ~[na:na]\nat com.nexcar.prv.service.OrganizationService.findDealersBySalesPerson(OrganizationService.java:342) ~[classes/:na]\nat com.nexcar.prv.service.OrganizationService$$FastClassBySpringCGLIB$$e431aa1.invoke() ~[classes/:na]\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat com.nexcar.prv.service.OrganizationService$$EnhancerBySpringCGLIB$$a35bb710.findDealersBySalesPerson() ~[classes/:na]\nat com.nexcar.prv.rest.OrganizationResource.getSalesPersonDealers(OrganizationResource.java:338) ~[classes/:na]\nat com.nexcar.prv.rest.OrganizationResource$$FastClassBySpringCGLIB$$3a3143d3.invoke() ~[classes/:na]\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat com.nexcar.prv.rest.OrganizationResource$$EnhancerBySpringCGLIB$$b89a38fa.getSalesPersonDealers() ~[classes/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) [spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) [spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) [spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat com.nexcar.prv.security.jwt.JWTFilter.doFilter(JWTFilter.java:84) [classes/:na]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat com.nexcar.prv.security.jwt.JWTFilter.doFilter(JWTFilter.java:84) [classes/:na]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat com.nexcar.prv.security.jwt.JWTFilter.doFilter(JWTFilter.java:84) [classes/:na]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.19.jar:9.0.19]\nat java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]</p>\n<p>2022-09-01 16:52:18.077  WARN 79129 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'principal' cannot be found on object of type 'java.lang.Object[]' - maybe not public or not valid?]</p>\n<p>i have a query in repository like this</p>\n<p>@Query(&quot;select organization from Organization organization where organization.salesPerson.login = ?#{principal?.username}&quot;)\nList findBySalesPersonIsCurrentUser();</p>\n"},{"tags":["java","object","null"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1662036834,"post_id":73569670,"comment_id":129916699,"body_markdown":"Home obj2 = new Home(); -&gt; this is impossible, since the only constructor you have declared, takes a String as parameter","body":"Home obj2 = new Home(); -&gt; this is impossible, since the only constructor you have declared, takes a String as parameter"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1662036876,"post_id":73569670,"comment_id":129916721,"body_markdown":"One solution is to add a `public Home()` constructor.","body":"One solution is to add a <code>public Home()</code> constructor."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1662036890,"post_id":73569670,"comment_id":129916726,"body_markdown":"Or just do `new Home(null)`","body":"Or just do <code>new Home(null)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662036942,"creation_date":1662036942,"answer_id":73569703,"question_id":73569670,"body_markdown":"You should either pass arguments when you create a `Home`:\r\n\r\n```\r\nnew Home(null)\r\n```\r\n\r\nor you should add a constructor that takes no arguments: \r\n\r\n```\r\npublic Home() {\r\n}\r\n````","title":"How to get Null values in this Java programme","body":"<p>You should either pass arguments when you create a <code>Home</code>:</p>\n<pre><code>new Home(null)\n</code></pre>\n<p>or you should add a constructor that takes no arguments:</p>\n<pre><code>public Home() {\n}\n</code></pre>\n"}],"owner":{"account_id":25344272,"reputation":3,"user_id":19162216,"display_name":"Don Randeep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73569703,"answer_count":1,"score":-2,"last_activity_date":1662036942,"creation_date":1662036771,"question_id":73569670,"body_markdown":"```java\r\npackage home;\r\n\r\npublic class Home {\r\n    String HomeName = null;\r\n        int room = 0;\r\n        int kitchen = 0;\r\n        int bathroom =0;\r\n    \r\n    //Constructor\r\n    Home(String HomeName){\r\n        System.out.println(HomeName);\r\n    }\r\n    Home(String HomeName, int rooms, int k ,int bathroom){\r\n        System.out.println(HomeName+&quot;:rooms:&quot;+rooms+&quot;:kitchen&quot;+k+&quot;:bathroom&quot;+bathroom);\r\n        this.HomeName = HomeName;\r\n        this.room = rooms;\r\n        this.kitchen = k;\r\n        this.bathroom = bathroom;\r\n    \r\n    }\r\n    public void finaloutputhome(){\r\n        System.out.println(&quot;Your Home Name:&quot;+HomeName);\r\n        System.out.println(&quot;Rooms Count:&quot;+room);\r\n        System.out.println(&quot;kitchen Count:&quot;+kitchen);\r\n        System.out.println(&quot;Bathroom Count:&quot;+bathroom);\r\n    \r\n    }\r\n        \r\n    public static void main(String[] args) {\r\n        \r\n        Home obj2 = new Home();\r\n        obj2.finaloutputhome();\r\n        \r\n        \r\n    }\r\n    \r\n}\r\n```\r\n\r\n**Error Code==&gt;**\r\n\r\n*run:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - no suitable constructor found for Home(no arguments)\r\n        constructor home.Home.Home(java.lang.String) is not applicable\r\n          (actual and formal argument lists differ in length)\r\n        constructor home.Home.Home(java.lang.String,int,int,int) is not applicable\r\n          (actual and formal argument lists differ in length)\r\n    \tat home.Home.main(Home.java:1)\r\n    C:\\Users\\donra\\AppData\\Local\\NetBeans\\Cache\\13\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\n    C:\\Users\\donra\\AppData\\Local\\NetBeans\\Cache\\13\\executor-snippets\\run.xml:68: Java returned: 1\r\n    BUILD FAILED (total time: 0 seconds)*\r\n\r\n**The output I need===&gt;&gt;**\r\n\r\n```\r\nPasindu&#39;s Home:rooms:5:kitchen2:bathroom3\r\nYour Home Name:null\r\nRooms Count:0\r\nkitchen Count:0\r\nBathroom Count:0\r\n```","title":"How to get Null values in this Java programme","body":"<pre class=\"lang-java prettyprint-override\"><code>package home;\n\npublic class Home {\n    String HomeName = null;\n        int room = 0;\n        int kitchen = 0;\n        int bathroom =0;\n    \n    //Constructor\n    Home(String HomeName){\n        System.out.println(HomeName);\n    }\n    Home(String HomeName, int rooms, int k ,int bathroom){\n        System.out.println(HomeName+&quot;:rooms:&quot;+rooms+&quot;:kitchen&quot;+k+&quot;:bathroom&quot;+bathroom);\n        this.HomeName = HomeName;\n        this.room = rooms;\n        this.kitchen = k;\n        this.bathroom = bathroom;\n    \n    }\n    public void finaloutputhome(){\n        System.out.println(&quot;Your Home Name:&quot;+HomeName);\n        System.out.println(&quot;Rooms Count:&quot;+room);\n        System.out.println(&quot;kitchen Count:&quot;+kitchen);\n        System.out.println(&quot;Bathroom Count:&quot;+bathroom);\n    \n    }\n        \n    public static void main(String[] args) {\n        \n        Home obj2 = new Home();\n        obj2.finaloutputhome();\n        \n        \n    }\n    \n}\n</code></pre>\n<p><strong>Error Code==&gt;</strong></p>\n<p>*run:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - no suitable constructor found for Home(no arguments)\n    constructor home.Home.Home(java.lang.String) is not applicable\n      (actual and formal argument lists differ in length)\n    constructor home.Home.Home(java.lang.String,int,int,int) is not applicable\n      (actual and formal argument lists differ in length)\n    at home.Home.main(Home.java:1)\nC:\\Users\\donra\\AppData\\Local\\NetBeans\\Cache\\13\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nC:\\Users\\donra\\AppData\\Local\\NetBeans\\Cache\\13\\executor-snippets\\run.xml:68: Java returned: 1\nBUILD FAILED (total time: 0 seconds)*\n</code></pre>\n<p><strong>The output I need===&gt;&gt;</strong></p>\n<pre><code>Pasindu's Home:rooms:5:kitchen2:bathroom3\nYour Home Name:null\nRooms Count:0\nkitchen Count:0\nBathroom Count:0\n</code></pre>\n"},{"tags":["java","apache-camel","websphere"],"comments":[{"owner":{"account_id":34986,"reputation":17510,"user_id":98959,"display_name":"covener"},"score":0,"creation_date":1662037558,"post_id":73569563,"comment_id":129916985,"body_markdown":"java -fullversion may help","body":"java -fullversion may help"},{"owner":{"account_id":3760281,"reputation":55,"user_id":3125503,"accept_rate":100,"display_name":"normalindon1"},"score":0,"creation_date":1662041372,"post_id":73569563,"comment_id":129918634,"body_markdown":"@covener Java(TM) SE Runtime Environment (build pxa6480sr3ifix-20160615_01(SR3+IX90173+IV85763))\nIBM J9 VM (build 2.8, JRE 1.8.0 Linux amd64-64 Compressed References 20160615_308126 (JIT enabled, AOT enabled)","body":"@covener Java(TM) SE Runtime Environment (build pxa6480sr3ifix-20160615_01(SR3+IX90173+IV85763)) IBM J9 VM (build 2.8, JRE 1.8.0 Linux amd64-64 Compressed References 20160615_308126 (JIT enabled, AOT enabled)"},{"owner":{"account_id":34986,"reputation":17510,"user_id":98959,"display_name":"covener"},"score":0,"creation_date":1662067644,"post_id":73569563,"comment_id":129927171,"body_markdown":"It looks like com.ibm.jsse2.overrideDefaultTLS was introduced right around 2016, I suspect it&#39;s not in your build though.  2016 is incredibly old.","body":"It looks like com.ibm.jsse2.overrideDefaultTLS was introduced right around 2016, I suspect it&#39;s not in your build though.  2016 is incredibly old."},{"owner":{"account_id":3760281,"reputation":55,"user_id":3125503,"accept_rate":100,"display_name":"normalindon1"},"score":0,"creation_date":1662143755,"post_id":73569563,"comment_id":129946350,"body_markdown":"Thanks anyways, yes there was no workaround, updated the java run time and it resolved the issue.","body":"Thanks anyways, yes there was no workaround, updated the java run time and it resolved the issue."}],"owner":{"account_id":3760281,"reputation":55,"user_id":3125503,"accept_rate":100,"display_name":"normalindon1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662036799,"creation_date":1662036358,"question_id":73569563,"body_markdown":"Using Apache Camel version 3.14 with spring boot\r\n\r\nJava runtime is IBM Java 8.0\r\n\r\nCalling a client enpoint :\r\n\r\n.to(&quot;endpoint?bridgeEndpoint=true&amp;okStatusCodeRange=200-310,400-501&quot;)\r\n\r\ngetting the below exception:\r\n\r\nDEBUG o.a.h.c.s.SSLConnectionSocketFactory:430 - Enabled protocols: [TLSv1]\r\n2022-09-01T12:37:25,379Z 27130 [http-nio-9090-exec-1] DEBUG o.a.h.c.s.SSLConnectionSocketFactory:431 - Enabled cipher suites:[TLS_EMPTY_RENEGOTIATION_INFO_SCSV, SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA256, SSL_RSA_WITH_AES_128_CBC_SHA256, SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, SSL_ECDH_RSA_WITH_AES_128_CBC_SHA256, SSL_DHE_RSA_WITH_AES_128_CBC_SHA256, SSL_DHE_DSS_WITH_AES_128_CBC_SHA256, SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_AES_128_CBC_SHA, SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDH_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, SSL_ECDHE_RSA_WITH_AES_128_GCM_SHA256, SSL_RSA_WITH_AES_128_GCM_SHA256, SSL_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, SSL_ECDH_RSA_WITH_AES_128_GCM_SHA256, SSL_DHE_RSA_WITH_AES_128_GCM_SHA256, SSL_DHE_DSS_WITH_AES_128_GCM_SHA256]\r\n2022-09-01T12:37:25,379Z 27130 [http-nio-9090-exec-1] DEBUG o.a.h.c.s.SSLConnectionSocketFactory:435 - Starting handshake\r\n2022-09-01T12:37:25,414Z 27165 [http-nio-9090-exec-1] DEBUG o.a.h.i.c.DefaultManagedHttpClientConnection:96 - http-outgoing-0: Shutdown connection\r\n2022-09-01T12:37:25,415Z 27166 [http-nio-9090-exec-1] DEBUG o.a.h.impl.execchain.MainClientExec:129 - Connection discarded\r\n\r\n\r\n caught: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake\r\n\r\n\r\nI understand that the remote server is disconneting the server as the handshake is TLSv1. \r\n\r\nHow can I force the SSLConnectionSocketFactory to use TLSv1.2 via camel. \r\n\r\n\r\nWhen I use a different java runtime (Example oracle JRE 8.xx), i am not getting this error. I tried setting the below VM args too:\r\n\r\n/app/product/mw9/java/8.0/jre/bin/java -Dcom.ibm.jsse2.overrideDefaultTLS=true -Dhttps.protocols=TLSv1.2 -Djdk.tls.client.protocols=TLSv1.2","title":"Apache Camel Http Client initiating TLSv1 handshake with IBM Java runtime","body":"<p>Using Apache Camel version 3.14 with spring boot</p>\n<p>Java runtime is IBM Java 8.0</p>\n<p>Calling a client enpoint :</p>\n<p>.to(&quot;endpoint?bridgeEndpoint=true&amp;okStatusCodeRange=200-310,400-501&quot;)</p>\n<p>getting the below exception:</p>\n<p>DEBUG o.a.h.c.s.SSLConnectionSocketFactory:430 - Enabled protocols: [TLSv1]\n2022-09-01T12:37:25,379Z 27130 [http-nio-9090-exec-1] DEBUG o.a.h.c.s.SSLConnectionSocketFactory:431 - Enabled cipher suites:[TLS_EMPTY_RENEGOTIATION_INFO_SCSV, SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA256, SSL_RSA_WITH_AES_128_CBC_SHA256, SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, SSL_ECDH_RSA_WITH_AES_128_CBC_SHA256, SSL_DHE_RSA_WITH_AES_128_CBC_SHA256, SSL_DHE_DSS_WITH_AES_128_CBC_SHA256, SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_AES_128_CBC_SHA, SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDH_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, SSL_ECDHE_RSA_WITH_AES_128_GCM_SHA256, SSL_RSA_WITH_AES_128_GCM_SHA256, SSL_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, SSL_ECDH_RSA_WITH_AES_128_GCM_SHA256, SSL_DHE_RSA_WITH_AES_128_GCM_SHA256, SSL_DHE_DSS_WITH_AES_128_GCM_SHA256]\n2022-09-01T12:37:25,379Z 27130 [http-nio-9090-exec-1] DEBUG o.a.h.c.s.SSLConnectionSocketFactory:435 - Starting handshake\n2022-09-01T12:37:25,414Z 27165 [http-nio-9090-exec-1] DEBUG o.a.h.i.c.DefaultManagedHttpClientConnection:96 - http-outgoing-0: Shutdown connection\n2022-09-01T12:37:25,415Z 27166 [http-nio-9090-exec-1] DEBUG o.a.h.impl.execchain.MainClientExec:129 - Connection discarded</p>\n<p>caught: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake</p>\n<p>I understand that the remote server is disconneting the server as the handshake is TLSv1.</p>\n<p>How can I force the SSLConnectionSocketFactory to use TLSv1.2 via camel.</p>\n<p>When I use a different java runtime (Example oracle JRE 8.xx), i am not getting this error. I tried setting the below VM args too:</p>\n<p>/app/product/mw9/java/8.0/jre/bin/java -Dcom.ibm.jsse2.overrideDefaultTLS=true -Dhttps.protocols=TLSv1.2 -Djdk.tls.client.protocols=TLSv1.2</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":6820344,"reputation":632,"user_id":5247706,"display_name":"Simon Hansen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662036592,"creation_date":1662036592,"answer_id":73569626,"question_id":73487901,"body_markdown":"I was able to solve the problem by not mounting the .jar file to `/opt/jboss/keycloak/modules` but to `/opt/jboss/keycloak/standalone/deployments` and remove the `module.xml` file. I updated the [repo](https://github.com/hansen-simon/keycloak-mailattachment) with a working example.","title":"&quot;ModuleLoadException: Error loading module&quot; when implementing SPI for keycloak","body":"<p>I was able to solve the problem by not mounting the .jar file to <code>/opt/jboss/keycloak/modules</code> but to <code>/opt/jboss/keycloak/standalone/deployments</code> and remove the <code>module.xml</code> file. I updated the <a href=\"https://github.com/hansen-simon/keycloak-mailattachment\" rel=\"nofollow noreferrer\">repo</a> with a working example.</p>\n"}],"owner":{"account_id":6820344,"reputation":632,"user_id":5247706,"display_name":"Simon Hansen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73569626,"answer_count":1,"score":1,"last_activity_date":1662036592,"creation_date":1661432064,"question_id":73487901,"body_markdown":"Here is a repo to reproduce the error: \r\nhttps://github.com/hansen-simon/keycloak-mailattachment \r\n\r\nI try to implement an EmailSenderProvider in keycloak. I followed this documentation: https://wjw465150.gitbooks.io/keycloak-documentation/content/server_development/topics/providers.html \r\n\r\nAfter I built the jar file, I copy it in the Dockerfile into `/opt/jboss/keycloak/modules/org/keycloak/email/provider/main/` directory next to the `module.xml`. The docker image builds successfully, but when I run it I get the following error:\r\n```\r\n12:39:35,357 FATAL [org.keycloak.services] (ServerService Thread Pool -- 62) Error during startup: java.lang.RuntimeException: org.jboss.modules.ModuleLoadException: Error loading module from /opt/jboss/keycloak/modules/org/keycloak/email/provider/main/module.xml\r\n        at org.keycloak.keycloak-wildfly-extensions@15.0.2//org.keycloak.provider.wildfly.ModuleProviderLoaderFactory.create(ModuleProviderLoaderFactory.java:45)\r\n\r\n...\r\n\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: org.jboss.modules.ModuleLoadException: Error loading module from /opt/jboss/keycloak/modules/org/keycloak/email/provider/main/module.xml\r\n        at org.jboss.modules.xml.ModuleXmlParser.parseModuleXml(ModuleXmlParser.java:337)\r\n\r\n...\r\n\r\n        ... 42 more\r\nCaused by: org.jboss.modules.xml.XmlPullParserException: Invalid/mismatched module name (expected org.keycloak.email) (position: START_TAG seen ...?&gt;\\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.keycloak.email&quot;&gt;... @2:64) \r\n        at org.jboss.modules.xml.ModuleXmlParser.invalidModuleName(ModuleXmlParser.java:374)\r\n...\r\n```\r\n\r\nThe `module.xml`:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.keycloak.email&quot;&gt;\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;email-0.0.1-SNAPSHOT.jar&quot; /&gt;\r\n    &lt;/resources&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;javax.activation.api&quot; /&gt;\r\n        &lt;module name=&quot;javax.mail.api&quot; /&gt;\r\n        &lt;module name=&quot;org.jboss.logging&quot; /&gt;\r\n        &lt;module name=&quot;org.keycloak.keycloak-common&quot; /&gt;\r\n        &lt;module name=&quot;org.keycloak.keycloak-core&quot; /&gt;\r\n        &lt;module name=&quot;org.keycloak.keycloak-server-spi&quot; /&gt;\r\n        &lt;module name=&quot;org.keycloak.keycloak-server-spi-private&quot; /&gt;\r\n        &lt;module name=&quot;org.keycloak.keycloak-services&quot; /&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n\r\n```\r\n\r\nThe Dockerfile:\r\n```\r\nFROM quay.io/keycloak/keycloak:15.0.2\r\n\r\nCOPY mailattachment/target/*.jar /opt/jboss/keycloak/modules/org/keycloak/email/provider/main/\r\nCOPY mailattachment/module.xml /opt/jboss/keycloak/modules/org/keycloak/email/provider/main/\r\n\r\nCOPY mailattachment/startup-scripts/* /opt/jboss/startup-scripts/\r\n\r\nEXPOSE 8080\r\nENTRYPOINT [ &quot;/opt/jboss/tools/docker-entrypoint.sh&quot; ]\r\n\r\nCMD [&quot;-b&quot;, &quot;0.0.0.0&quot;]\r\n\r\n```\r\n\r\nthe script inside startup-scripts dir:\r\n```\r\nembed-server --server-config=standalone-ha.xml --std-out=echo\r\n\r\nbatch\r\n\r\n/subsystem=keycloak-server/:list-add(name=providers,value=&quot;module:org.keycloak.email.provider&quot;)\r\n\r\n/subsystem=keycloak-server/spi=emailSender:add\r\n/subsystem=keycloak-server/spi=emailSender/provider=default:add(enabled=true)\r\n/subsystem=keycloak-server/spi=emailSender:write-attribute(name=default-provider, value=email)\r\n\r\nrun-batch\r\n\r\nstop-embedded-server\r\n```\r\n\r\nI&#39;m suprised by the error log line `Invalid/mismatched module name (expected org.keycloak.email) ... name=&quot;org.keycloak.email&quot;&gt;`. It looks to like the correct module name is given. What is wrong with this setup?\r\n","title":"&quot;ModuleLoadException: Error loading module&quot; when implementing SPI for keycloak","body":"<p>Here is a repo to reproduce the error:\n<a href=\"https://github.com/hansen-simon/keycloak-mailattachment\" rel=\"nofollow noreferrer\">https://github.com/hansen-simon/keycloak-mailattachment</a></p>\n<p>I try to implement an EmailSenderProvider in keycloak. I followed this documentation: <a href=\"https://wjw465150.gitbooks.io/keycloak-documentation/content/server_development/topics/providers.html\" rel=\"nofollow noreferrer\">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_development/topics/providers.html</a></p>\n<p>After I built the jar file, I copy it in the Dockerfile into <code>/opt/jboss/keycloak/modules/org/keycloak/email/provider/main/</code> directory next to the <code>module.xml</code>. The docker image builds successfully, but when I run it I get the following error:</p>\n<pre><code>12:39:35,357 FATAL [org.keycloak.services] (ServerService Thread Pool -- 62) Error during startup: java.lang.RuntimeException: org.jboss.modules.ModuleLoadException: Error loading module from /opt/jboss/keycloak/modules/org/keycloak/email/provider/main/module.xml\n        at org.keycloak.keycloak-wildfly-extensions@15.0.2//org.keycloak.provider.wildfly.ModuleProviderLoaderFactory.create(ModuleProviderLoaderFactory.java:45)\n\n...\n\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: org.jboss.modules.ModuleLoadException: Error loading module from /opt/jboss/keycloak/modules/org/keycloak/email/provider/main/module.xml\n        at org.jboss.modules.xml.ModuleXmlParser.parseModuleXml(ModuleXmlParser.java:337)\n\n...\n\n        ... 42 more\nCaused by: org.jboss.modules.xml.XmlPullParserException: Invalid/mismatched module name (expected org.keycloak.email) (position: START_TAG seen ...?&gt;\\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.keycloak.email&quot;&gt;... @2:64) \n        at org.jboss.modules.xml.ModuleXmlParser.invalidModuleName(ModuleXmlParser.java:374)\n...\n</code></pre>\n<p>The <code>module.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.keycloak.email&quot;&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;email-0.0.1-SNAPSHOT.jar&quot; /&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;javax.activation.api&quot; /&gt;\n        &lt;module name=&quot;javax.mail.api&quot; /&gt;\n        &lt;module name=&quot;org.jboss.logging&quot; /&gt;\n        &lt;module name=&quot;org.keycloak.keycloak-common&quot; /&gt;\n        &lt;module name=&quot;org.keycloak.keycloak-core&quot; /&gt;\n        &lt;module name=&quot;org.keycloak.keycloak-server-spi&quot; /&gt;\n        &lt;module name=&quot;org.keycloak.keycloak-server-spi-private&quot; /&gt;\n        &lt;module name=&quot;org.keycloak.keycloak-services&quot; /&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n\n</code></pre>\n<p>The Dockerfile:</p>\n<pre><code>FROM quay.io/keycloak/keycloak:15.0.2\n\nCOPY mailattachment/target/*.jar /opt/jboss/keycloak/modules/org/keycloak/email/provider/main/\nCOPY mailattachment/module.xml /opt/jboss/keycloak/modules/org/keycloak/email/provider/main/\n\nCOPY mailattachment/startup-scripts/* /opt/jboss/startup-scripts/\n\nEXPOSE 8080\nENTRYPOINT [ &quot;/opt/jboss/tools/docker-entrypoint.sh&quot; ]\n\nCMD [&quot;-b&quot;, &quot;0.0.0.0&quot;]\n\n</code></pre>\n<p>the script inside startup-scripts dir:</p>\n<pre><code>embed-server --server-config=standalone-ha.xml --std-out=echo\n\nbatch\n\n/subsystem=keycloak-server/:list-add(name=providers,value=&quot;module:org.keycloak.email.provider&quot;)\n\n/subsystem=keycloak-server/spi=emailSender:add\n/subsystem=keycloak-server/spi=emailSender/provider=default:add(enabled=true)\n/subsystem=keycloak-server/spi=emailSender:write-attribute(name=default-provider, value=email)\n\nrun-batch\n\nstop-embedded-server\n</code></pre>\n<p>I'm suprised by the error log line <code>Invalid/mismatched module name (expected org.keycloak.email) ... name=&quot;org.keycloak.email&quot;&gt;</code>. It looks to like the correct module name is given. What is wrong with this setup?</p>\n"},{"tags":["java","oracle","hibernate","spring-mvc","jpa"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646992203,"creation_date":1646992203,"answer_id":71436622,"question_id":71434548,"body_markdown":"I&#39;m sure it&#39;s working just fine.\r\n\r\nJust enable SQL logging, and check out the executed statement. It will contain the FOR UPDATE clause, meaning it&#39;s working just fine.\r\n\r\nThere are plenty of tests I wrote myself for Hibernate that would fail if this feature would not work, so I doubt that Hibernate will release a version where this is not supported.\r\n\r\nYou don&#39;t need to run this with 2 computers to make it work. You can write an integration test for it, like [this one](https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/concurrency/SkipLockJobQueueTest.java#L42).","title":"PESSIMISTIC_WRITE locking not working with Spring JPA Repository and Oracle 12c","body":"<p>I'm sure it's working just fine.</p>\n<p>Just enable SQL logging, and check out the executed statement. It will contain the FOR UPDATE clause, meaning it's working just fine.</p>\n<p>There are plenty of tests I wrote myself for Hibernate that would fail if this feature would not work, so I doubt that Hibernate will release a version where this is not supported.</p>\n<p>You don't need to run this with 2 computers to make it work. You can write an integration test for it, like <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/concurrency/SkipLockJobQueueTest.java#L42\" rel=\"nofollow noreferrer\">this one</a>.</p>\n"},{"tags":[],"owner":{"account_id":13618012,"reputation":11,"user_id":9823403,"display_name":"Isaac Molina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647308820,"creation_date":1647291130,"answer_id":71474111,"question_id":71434548,"body_markdown":"I found the solution to the problem. As you said Vlad Mihalcea, in the log I could see that the query contains the FOR UPDATE clause, but I also noticed that 2 queries are executed, the first one does not have the FOR UPDATE clause and it is the one that is stored in the Entity Manager level 1 cache. The second query is the one with the FOR UPDATE.\r\n\r\nSo when 2 transactions arrive at the same time, they are left with the same entity in the cache and a dirty read of its values.\r\n\r\nLOG:\r\n\r\n```\r\nHibernate: select dinero0_.ID as ID1_74_, dinero0_.IDCONCEPTO as IDCONCEPTO36_74_, dinero0_.ESTATUS as ESTATUS11_74_, dinero0_.FECHAEMISION as FECHAEMISION14_74_, dinero0_.MOV as MOV20_74_, dinero0_.MOVID as MOVID21_74_, dinero0_.SALDO as SALDO31_74_, from DINERO dinero0_ where dinero0_.MOV=? and dinero0_.MOVID=?\r\nHibernate: select ID from DINERO where ID =? for update wait 30\r\n```\r\n\r\nSolution:\r\n```\r\n    @PersistenceContext(unitName = &quot;XUnitName&quot;)\r\n    private EntityManager em;\r\n\r\n\r\n    @Transactional(&quot;primaryTransactionManager&quot;)\r\n    @Override\r\n    public JsonResponseEntity&lt;Dinero&gt; Cancel_Deposit(Dinero dinero, EnumComportamientosDIN comportamiento_key, Boolean fromserver) {\r\n            dateUtils = new DateRangeUtils();\r\n                List&lt;Dinerod&gt; detalles = dinero.getDinerods();\r\n                for (Dinerod detalle : detalles) {\r\n                    Dinero origen_depo = dineroRepository.findOneByAplica(detalle.getAplica(), detalle.getAplicaid());\r\n                    em.refresh(origen_depo);\r\n                    BigDecimal saldo_actual = origen_depo.getSaldo();\r\n                    BigDecimal importe_debitado = detalle.getImporte();\r\n                    saldo_actual = saldo_actual.add(importe_debitado);\r\n                    origen_depo.setSaldo(saldo_actual);\r\n                    dineroRepository.save(origen_depo);\r\n                    \r\n                }\r\n    }\r\n```\r\n\r\nI understand that making the refresh explicit is because the Entity Manager performs 2 queries, one without FOR UPDATE and the other with FOR UPDATE.\r\n\r\nBut I would like to know why the Entity Manager does not perform a single query with the FOR UPDATE clause.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"PESSIMISTIC_WRITE locking not working with Spring JPA Repository and Oracle 12c","body":"<p>I found the solution to the problem. As you said Vlad Mihalcea, in the log I could see that the query contains the FOR UPDATE clause, but I also noticed that 2 queries are executed, the first one does not have the FOR UPDATE clause and it is the one that is stored in the Entity Manager level 1 cache. The second query is the one with the FOR UPDATE.</p>\n<p>So when 2 transactions arrive at the same time, they are left with the same entity in the cache and a dirty read of its values.</p>\n<p>LOG:</p>\n<pre><code>Hibernate: select dinero0_.ID as ID1_74_, dinero0_.IDCONCEPTO as IDCONCEPTO36_74_, dinero0_.ESTATUS as ESTATUS11_74_, dinero0_.FECHAEMISION as FECHAEMISION14_74_, dinero0_.MOV as MOV20_74_, dinero0_.MOVID as MOVID21_74_, dinero0_.SALDO as SALDO31_74_, from DINERO dinero0_ where dinero0_.MOV=? and dinero0_.MOVID=?\nHibernate: select ID from DINERO where ID =? for update wait 30\n</code></pre>\n<p>Solution:</p>\n<pre><code>    @PersistenceContext(unitName = &quot;XUnitName&quot;)\n    private EntityManager em;\n\n\n    @Transactional(&quot;primaryTransactionManager&quot;)\n    @Override\n    public JsonResponseEntity&lt;Dinero&gt; Cancel_Deposit(Dinero dinero, EnumComportamientosDIN comportamiento_key, Boolean fromserver) {\n            dateUtils = new DateRangeUtils();\n                List&lt;Dinerod&gt; detalles = dinero.getDinerods();\n                for (Dinerod detalle : detalles) {\n                    Dinero origen_depo = dineroRepository.findOneByAplica(detalle.getAplica(), detalle.getAplicaid());\n                    em.refresh(origen_depo);\n                    BigDecimal saldo_actual = origen_depo.getSaldo();\n                    BigDecimal importe_debitado = detalle.getImporte();\n                    saldo_actual = saldo_actual.add(importe_debitado);\n                    origen_depo.setSaldo(saldo_actual);\n                    dineroRepository.save(origen_depo);\n                    \n                }\n    }\n</code></pre>\n<p>I understand that making the refresh explicit is because the Entity Manager performs 2 queries, one without FOR UPDATE and the other with FOR UPDATE.</p>\n<p>But I would like to know why the Entity Manager does not perform a single query with the FOR UPDATE clause.</p>\n"}],"owner":{"account_id":13618012,"reputation":11,"user_id":9823403,"display_name":"Isaac Molina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71474111,"answer_count":2,"score":1,"last_activity_date":1662036589,"creation_date":1646980870,"question_id":71434548,"body_markdown":"Spring-webmvc 4.1.6 / Spring-data-jpa 1.7.2 / Oracle 12c\r\n\r\nI have my app running on localhost with debug mode in Netbeans. I use the jetty-maven-plugin as a server and try to test a service method annotated with @Transactional.\r\n\r\nService Method.\r\n``` \r\n    @Transactional(&quot;primaryTransactionManager&quot;)\r\n    @Override\r\n    public JsonResponseEntity&lt;Dinero&gt; Cancel_Deposit(Dinero dinero, EnumComportamientosDIN comportamiento_key, Boolean fromserver) {\r\n            dateUtils = new DateRangeUtils();\r\n                List&lt;Dinerod&gt; detalles = dinero.getDinerods();\r\n                for (Dinerod detalle : detalles) {\r\n                    Dinero origen_depo = dineroRepository.findOneByAplica(detalle.getAplica(), detalle.getAplicaid());\r\n                    BigDecimal saldo_actual = origen_depo.getSaldo();\r\n                    BigDecimal importe_debitado = detalle.getImporte();\r\n                    saldo_actual = saldo_actual.add(importe_debitado);\r\n                    origen_depo.setSaldo(saldo_actual);\r\n                    dineroRepository.save(origen_depo);\r\n                    \r\n                }\r\n    }\r\n```\r\n\r\nJPA Repository\r\n\r\n```\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    @QueryHints({@QueryHint(name = &quot;javax.persistence.lock.timeout&quot;, value = &quot;30000&quot;)})\r\n    @Query(&quot;SELECT x FROM Dinero x WHERE x.mov = :aplica AND x.movid = :aplicaid&quot;)\r\n    Dinero findOneByAplica(@Param(&quot;aplica&quot;) String aplica, @Param(&quot;aplicaid&quot;) String aplicaid);\r\n```\r\nI don&#39;t know if my test method is wrong but it is the following:\r\nsince application is running on localhost; From another computer on the same network, I simulate that it is another person using the same application. So I run the same method with two different computers at the same time, trying to simulate a transaction crash. the same one I try to solve with PESSIMISTIC_WRITE.\r\n\r\nBut when I run the web form from two different computers at the same time, the exclusive locking of the record in the database is not done.\r\n\r\n**What should happen with PESSIMISTIC_WRITE**\r\n[![What should happen with PESSIMISTIC_WRITE][1]][1]\r\n\r\n**What is causing me headaches**\r\n[![What is causing me headaches][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hs29Q.png\r\n  [2]: https://i.stack.imgur.com/3GP9r.png","title":"PESSIMISTIC_WRITE locking not working with Spring JPA Repository and Oracle 12c","body":"<p>Spring-webmvc 4.1.6 / Spring-data-jpa 1.7.2 / Oracle 12c</p>\n<p>I have my app running on localhost with debug mode in Netbeans. I use the jetty-maven-plugin as a server and try to test a service method annotated with @Transactional.</p>\n<p>Service Method.</p>\n<pre><code>    @Transactional(&quot;primaryTransactionManager&quot;)\n    @Override\n    public JsonResponseEntity&lt;Dinero&gt; Cancel_Deposit(Dinero dinero, EnumComportamientosDIN comportamiento_key, Boolean fromserver) {\n            dateUtils = new DateRangeUtils();\n                List&lt;Dinerod&gt; detalles = dinero.getDinerods();\n                for (Dinerod detalle : detalles) {\n                    Dinero origen_depo = dineroRepository.findOneByAplica(detalle.getAplica(), detalle.getAplicaid());\n                    BigDecimal saldo_actual = origen_depo.getSaldo();\n                    BigDecimal importe_debitado = detalle.getImporte();\n                    saldo_actual = saldo_actual.add(importe_debitado);\n                    origen_depo.setSaldo(saldo_actual);\n                    dineroRepository.save(origen_depo);\n                    \n                }\n    }\n</code></pre>\n<p>JPA Repository</p>\n<pre><code>    @Lock(LockModeType.PESSIMISTIC_WRITE)\n    @QueryHints({@QueryHint(name = &quot;javax.persistence.lock.timeout&quot;, value = &quot;30000&quot;)})\n    @Query(&quot;SELECT x FROM Dinero x WHERE x.mov = :aplica AND x.movid = :aplicaid&quot;)\n    Dinero findOneByAplica(@Param(&quot;aplica&quot;) String aplica, @Param(&quot;aplicaid&quot;) String aplicaid);\n</code></pre>\n<p>I don't know if my test method is wrong but it is the following:\nsince application is running on localhost; From another computer on the same network, I simulate that it is another person using the same application. So I run the same method with two different computers at the same time, trying to simulate a transaction crash. the same one I try to solve with PESSIMISTIC_WRITE.</p>\n<p>But when I run the web form from two different computers at the same time, the exclusive locking of the record in the database is not done.</p>\n<p><strong>What should happen with PESSIMISTIC_WRITE</strong>\n<a href=\"https://i.stack.imgur.com/hs29Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hs29Q.png\" alt=\"What should happen with PESSIMISTIC_WRITE\" /></a></p>\n<p><strong>What is causing me headaches</strong>\n<a href=\"https://i.stack.imgur.com/3GP9r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3GP9r.png\" alt=\"What is causing me headaches\" /></a></p>\n"},{"tags":["java","spring","spring-boot","flyway"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1631163867,"post_id":69112074,"comment_id":122149890,"body_markdown":"Most of the Spring Boot dependency versions are property-based. Try setting `flyway.version` in your project POM as a Maven property.","body":"Most of the Spring Boot dependency versions are property-based. Try setting <code>flyway.version</code> in your project POM as a Maven property."},{"owner":{"account_id":12160378,"reputation":25,"user_id":8878100,"display_name":"Spen1210"},"score":0,"creation_date":1631243048,"post_id":69112074,"comment_id":122175290,"body_markdown":"Hey, good point! It makes it running. But the remaining problem is that i  cannot maintain Flyway version in library but only in the app. I tried to set this property in library but it will still follow the app&#39;s flyway version. I am thinking if it is because i did a Bean injection in library, so even through the codes are in library but they actually run in the app. @chrylis-cautiouslyoptimistic-","body":"Hey, good point! It makes it running. But the remaining problem is that i  cannot maintain Flyway version in library but only in the app. I tried to set this property in library but it will still follow the app&#39;s flyway version. I am thinking if it is because i did a Bean injection in library, so even through the codes are in library but they actually run in the app. @chrylis-cautiouslyoptimistic-"}],"owner":{"account_id":12160378,"reputation":25,"user_id":8878100,"display_name":"Spen1210"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662036553,"creation_date":1631160013,"question_id":69112074,"body_markdown":"folks. My situation is described as below:\r\n\r\n- I have a maven application and a library that is used to help initialize datasource and free my app from datasource handling. \r\n- The library injects beans to application and needs to call flyway.migrate() in it.\r\n- I want to maintain flyway version ONLY in the library. \r\n- My app POM:\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.11.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\nThe problem i met is:\r\n\r\nIf I declare flyway as dependency only in library but not in app, when app is running, flyway.migrate() in library finds the Flyway in `&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;` of my app ( yes there is a flyway imported from `spring-boot-starter-parent`) which has a lower version. Then I will have to declare flyway as dependency in both app and library which is hard to maintain.\r\n\r\nMy plans are:\r\n\r\n- Find a way to exclude Flyway in `spring-boot-starter-parent` then hopefully it can find the correct flyway. But i did not find a way to do it yet.\r\n- Or try to somehow override the flyway version by the library. but still no finding yet.\r\n\r\nAny suggestions?","title":"How to avoid flyway package conflict in spring-boot-starter-parent and dependency","body":"<p>folks. My situation is described as below:</p>\n<ul>\n<li>I have a maven application and a library that is used to help initialize datasource and free my app from datasource handling.</li>\n<li>The library injects beans to application and needs to call flyway.migrate() in it.</li>\n<li>I want to maintain flyway version ONLY in the library.</li>\n<li>My app POM:</li>\n</ul>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.11.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>The problem i met is:</p>\n<p>If I declare flyway as dependency only in library but not in app, when app is running, flyway.migrate() in library finds the Flyway in <code>&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</code> of my app ( yes there is a flyway imported from <code>spring-boot-starter-parent</code>) which has a lower version. Then I will have to declare flyway as dependency in both app and library which is hard to maintain.</p>\n<p>My plans are:</p>\n<ul>\n<li>Find a way to exclude Flyway in <code>spring-boot-starter-parent</code> then hopefully it can find the correct flyway. But i did not find a way to do it yet.</li>\n<li>Or try to somehow override the flyway version by the library. but still no finding yet.</li>\n</ul>\n<p>Any suggestions?</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":2289067,"reputation":3571,"user_id":2012441,"accept_rate":86,"display_name":"mschenk74"},"score":1,"creation_date":1662035191,"post_id":73569291,"comment_id":129916068,"body_markdown":"Have you read the Jsoup documentation and examples?","body":"Have you read the Jsoup documentation and examples?"},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1662036259,"post_id":73569291,"comment_id":129916470,"body_markdown":"entschuldigung, I&#39;ve added solution below. I will be more careful next time","body":"entschuldigung, I&#39;ve added solution below. I will be more careful next time"}],"answers":[{"tags":[],"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662036388,"creation_date":1662036388,"answer_id":73569571,"question_id":73569291,"body_markdown":"pom.xml\r\n\r\n    &lt;dependency&gt;\r\n                  &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n                   &lt;version&gt;1.15.3&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n\r\njava file imports as below\r\n\r\n    import org.jsoup.Connection;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n\r\nWorking code below\r\n\r\n     Connection.Response res = Jsoup.connect(&quot;https://www.valueresearchonline.com/login&quot;).userAgent(&quot;Mozilla&quot;)\r\n                    .data(&quot;username&quot;, &quot;your_username&quot;, &quot;password&quot;, &quot;your_password&quot;)\r\n                    .method(Connection.Method.POST)\r\n                    .execute();\r\n\r\n        System.out.println(res.statusCode());\r\n\r\n\r\n//This will get you cookies\r\n\r\n    Map&lt;String, String&gt; loginCookies = res.cookies();\r\n\r\n\r\n//Here you parse the page that you want. Put the url that you see when you have logged in\r\n\r\n    \r\n\r\n    Document doc = Jsoup.connect(&quot;https://www.valueresearchonline.com/&quot;)\r\n                .userAgent(&quot;Mozilla&quot;)\r\n                .cookies(loginCookies)\r\n                .get();\r\n\r\n    System.out.println(doc.baseUri());\r\n\r\n","title":"How to login a webpage using &quot;Jsoup&quot; before parsing its data?","body":"<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n              &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n              &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n               &lt;version&gt;1.15.3&lt;/version&gt;\n          &lt;/dependency&gt;\n</code></pre>\n<p>java file imports as below</p>\n<pre><code>import org.jsoup.Connection;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n</code></pre>\n<p>Working code below</p>\n<pre><code> Connection.Response res = Jsoup.connect(&quot;https://www.valueresearchonline.com/login&quot;).userAgent(&quot;Mozilla&quot;)\n                .data(&quot;username&quot;, &quot;your_username&quot;, &quot;password&quot;, &quot;your_password&quot;)\n                .method(Connection.Method.POST)\n                .execute();\n\n    System.out.println(res.statusCode());\n</code></pre>\n<p>//This will get you cookies</p>\n<pre><code>Map&lt;String, String&gt; loginCookies = res.cookies();\n</code></pre>\n<p>//Here you parse the page that you want. Put the url that you see when you have logged in</p>\n<pre><code>Document doc = Jsoup.connect(&quot;https://www.valueresearchonline.com/&quot;)\n            .userAgent(&quot;Mozilla&quot;)\n            .cookies(loginCookies)\n            .get();\n\nSystem.out.println(doc.baseUri());\n</code></pre>\n"}],"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73569571,"answer_count":1,"score":0,"last_activity_date":1662036388,"creation_date":1662035056,"question_id":73569291,"body_markdown":"I&#39;ve written java program to connect to `https://www.valueresearchonline.com/funds/portfoliovr.asp?schemecode=26123` using `Jsoup` and parse data.\r\n\r\nNow the website has mandated to login first before showing entire data.\r\n\r\n    https://www.valueresearchonline.com/login\r\n\r\nIs there a way to login a website first with `Jsoup` and later parse it ?\r\n","title":"How to login a webpage using &quot;Jsoup&quot; before parsing its data?","body":"<p>I've written java program to connect to <code>https://www.valueresearchonline.com/funds/portfoliovr.asp?schemecode=26123</code> using <code>Jsoup</code> and parse data.</p>\n<p>Now the website has mandated to login first before showing entire data.</p>\n<pre><code>https://www.valueresearchonline.com/login\n</code></pre>\n<p>Is there a way to login a website first with <code>Jsoup</code> and later parse it ?</p>\n"},{"tags":["java","rest","http","talend","data-integration"],"comments":[{"owner":{"account_id":21163137,"reputation":420,"user_id":15560990,"display_name":"Dasph"},"score":0,"creation_date":1662036070,"post_id":73569376,"comment_id":129916402,"body_markdown":"I don&#39;t know the particular program that you&#39;re using. Is it aware that `flight` is an array of objects and not just an object with properties?\n\nBecause `[{foo:bar}]` isn&#39;t the same as `{foo:bar}`","body":"I don&#39;t know the particular program that you&#39;re using. Is it aware that <code>flight</code> is an array of objects and not just an object with properties?  Because <code>[{foo:bar}]</code> isn&#39;t the same as <code>{foo:bar}</code>"},{"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"score":0,"creation_date":1662104017,"post_id":73569376,"comment_id":129933077,"body_markdown":"If I understand correctly, you want to know what is the structure of your json input in tFixedFlow_1 ? Then just put a tLogRow after this component to print the json content, and make sure it is the structure you are looking for","body":"If I understand correctly, you want to know what is the structure of your json input in tFixedFlow_1 ? Then just put a tLogRow after this component to print the json content, and make sure it is the structure you are looking for"},{"owner":{"account_id":22768373,"reputation":35,"user_id":16926108,"display_name":"&#193;lvaro Abad de Donesteve"},"score":0,"creation_date":1662544551,"post_id":73569376,"comment_id":130028304,"body_markdown":"I solved it. Flgiht wasn&#180;t an array. Loop XPath query is for iterate over the flight fields, not over flights","body":"I solved it. Flgiht wasn&#180;t an array. Loop XPath query is for iterate over the flight fields, not over flights"}],"owner":{"account_id":22768373,"reputation":35,"user_id":16926108,"display_name":"&#193;lvaro Abad de Donesteve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662035773,"creation_date":1662035480,"question_id":73569376,"body_markdown":"I&#39;m trying to transform Talend jobs to Spring Boot REST services. But I can&#39;t figure out the body of this post request. \r\n\r\nJob 1 picture illustrates a JSON extract, and subjob picture is other in loop JSON extract, so I suppose the expected JSON is something like this:\r\n\r\n\t{\r\n        &quot;user&quot;: &quot;alvaro&quot;,\r\n\t    &quot;flight&quot;: [\r\n\t        {\r\n\t            &quot;flightUID&quot;: &quot;1&quot;,\r\n\t            &quot;infoSusp&quot;: &quot;xx&quot;,\r\n\t            &quot;medSusp&quot;: &quot;otr aprueba&quot;\r\n\t        },\r\n\t            {\r\n\t            &quot;flightUID&quot;: &quot;2&quot;,\r\n\t            &quot;infoSusp&quot;: &quot;xx&quot;,\r\n\t            &quot;medSusp&quot;: &quot;otr aprueba&quot;\r\n\t        }\r\n\t    ]\r\n\t}\r\n\r\nBut I always receive bad request response.\r\n\r\nJob 1:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSubjob 2:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jSgaj.png\r\n  [2]: https://i.stack.imgur.com/qZDKl.png","title":"How to figure out the body structure of a REST request job?","body":"<p>I'm trying to transform Talend jobs to Spring Boot REST services. But I can't figure out the body of this post request.</p>\n<p>Job 1 picture illustrates a JSON extract, and subjob picture is other in loop JSON extract, so I suppose the expected JSON is something like this:</p>\n<pre><code>{\n    &quot;user&quot;: &quot;alvaro&quot;,\n    &quot;flight&quot;: [\n        {\n            &quot;flightUID&quot;: &quot;1&quot;,\n            &quot;infoSusp&quot;: &quot;xx&quot;,\n            &quot;medSusp&quot;: &quot;otr aprueba&quot;\n        },\n            {\n            &quot;flightUID&quot;: &quot;2&quot;,\n            &quot;infoSusp&quot;: &quot;xx&quot;,\n            &quot;medSusp&quot;: &quot;otr aprueba&quot;\n        }\n    ]\n}\n</code></pre>\n<p>But I always receive bad request response.</p>\n<p>Job 1:</p>\n<p><a href=\"https://i.stack.imgur.com/jSgaj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jSgaj.png\" alt=\"enter image description here\" /></a></p>\n<p>Subjob 2:</p>\n<p><a href=\"https://i.stack.imgur.com/qZDKl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qZDKl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1662027639,"post_id":73567713,"comment_id":129913492,"body_markdown":"You don&#39;t do anything with the return value of `passengerChange`, and the value of `station` is changed by the for-loop, and `passenger` is never changed, so its value remains `0`.","body":"You don&#39;t do anything with the return value of <code>passengerChange</code>, and the value of <code>station</code> is changed by the for-loop, and <code>passenger</code> is never changed, so its value remains <code>0</code>."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1662027934,"post_id":73567713,"comment_id":129913580,"body_markdown":"You also want to research what &quot;call by value&quot; means. And note: for exactly that reason, it is not a good thing to use a parameter also as return value. Unless you have very good reasons, you shouldn&#39;t &quot;write&quot; to your method parameters. Consider them as INPUT, not as something that you use to compute with, or return.","body":"You also want to research what &quot;call by value&quot; means. And note: for exactly that reason, it is not a good thing to use a parameter also as return value. Unless you have very good reasons, you shouldn&#39;t &quot;write&quot; to your method parameters. Consider them as INPUT, not as something that you use to compute with, or return."}],"answers":[{"tags":[],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662027696,"creation_date":1662027696,"answer_id":73567779,"question_id":73567713,"body_markdown":"You are not using the value returned from `passengerChange`. Try\r\n\r\n```java\r\nSystem.out.println(station + &quot;\\t&quot; + passengerChange(station,passenger));\r\n```","title":"Why does the value not change by the method?","body":"<p>You are not using the value returned from <code>passengerChange</code>. Try</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(station + &quot;\\t&quot; + passengerChange(station,passenger));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22596180,"reputation":19,"user_id":16778444,"display_name":"Luca "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662030645,"creation_date":1662030526,"answer_id":73568358,"question_id":73567713,"body_markdown":"You should try this.passenger++ instead of p++.  \r\np is a new integer value created inside passengerChange.\r\n\r\nif you used else in the static function you could even completely remove p and s.\r\n\r\nmy idea whould look like thi:\r\n\r\n    public class BusGame {\r\n    \r\n    static int station, passenger;\r\n\r\n    public static void main(String[] args) {\r\n        station = 0;\r\n        passenger = 0;\r\n        \r\n        for(station = 0; station &lt;=5; station++) {\r\n            System.out.println(&quot;Station\\tPassenger&quot;);\r\n            passengerChange();\r\n            System.out.println(station + &quot;\\t&quot; + passenger);\r\n        }\r\n    }\r\n    \r\n    public static int passengerChange() {\r\n        if(this.station==1 || this.station==5) {\r\n            this.passenger++;\r\n        }else{\r\n            if(this.station==2 || this.station==3) {\r\n                this.passenger=this.passenger+2-1;\r\n            }else{\r\n                if(this.station==4) {\r\n                    this.passenger--;\r\n        }}}\r\n        return p;\r\n    }\r\n}","title":"Why does the value not change by the method?","body":"<p>You should try this.passenger++ instead of p++.<br />\np is a new integer value created inside passengerChange.</p>\n<p>if you used else in the static function you could even completely remove p and s.</p>\n<p>my idea whould look like thi:</p>\n<pre><code>public class BusGame {\n\nstatic int station, passenger;\n\npublic static void main(String[] args) {\n    station = 0;\n    passenger = 0;\n    \n    for(station = 0; station &lt;=5; station++) {\n        System.out.println(&quot;Station\\tPassenger&quot;);\n        passengerChange();\n        System.out.println(station + &quot;\\t&quot; + passenger);\n    }\n}\n\npublic static int passengerChange() {\n    if(this.station==1 || this.station==5) {\n        this.passenger++;\n    }else{\n        if(this.station==2 || this.station==3) {\n            this.passenger=this.passenger+2-1;\n        }else{\n            if(this.station==4) {\n                this.passenger--;\n    }}}\n    return p;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662035601,"creation_date":1662032703,"answer_id":73568814,"question_id":73567713,"body_markdown":"I feel like there are a few concept you will benefit from knowing. Those are:\r\n\r\n 1. Primitive datatype and Wrapper class\r\nIn object-oriented programming, a **wrapper class** is a class that encapsulates types, so that those types can be used to create object instances and methods in another class that need those types.\r\n\r\nSo that means that primitive datatypes are like `int a =5;` whereas using wrapper classes I actually create an object of class `Integer`.\r\n\r\nThis is important to know because we can now learn:\r\n\r\n 2. Call by value vs call by reference\r\nJava is always Pass by Value and not pass by reference.\r\n\r\nCall by value: Call by Value means calling a method with a parameter as value. Through this, the argument value is passed to the parameter.\r\n\r\nCall by reference: While Call by Reference means calling a method with a parameter as a reference. Through this, the argument reference is passed to the parameter.\r\n\r\n-----------------------------------------------------------\r\nIn case of call by value original value is not changed.\r\n*Note: numbers below are line numbers for reference*\r\n\r\n```\r\n1. class Operation{  \r\n2.  int data=50;  \r\n  \r\n3.  void change(int num){  \r\n4.  num=data+100;//changes will be in the local variable only  \r\n }  \r\n     \r\n5. public static void main(String args[]){  \r\n6.   Operation op=new Operation();  \r\n  \r\n7.   System.out.println(&quot;before change &quot;+op.data);  \r\n8.   op.change(500);  \r\n9.   System.out.println(&quot;after change &quot;+op.data);  \r\n  \r\n }  \r\n} \r\n```\r\nOutput will be:\r\n```\r\nOutput:before change 50\r\n       after change 50\t\r\n```\r\n\r\nThis is because num is int which is primitive. So when I pass 500 in line 8,  and the method in line 3 receives it, changes it and assigns it it remains in that function only! (Search about this more)\r\n\r\nIf num was an object of a wrapper class then things would have been different. I would suggest you first learn these concepts then I will teach you what happens if num was Integer.\r\n\r\n3. keyword `Return`\r\n\r\nA return statement causes the program control to transfer back to the caller of a method.\r\n\r\nWhen a method returns anything, the control is transferred back to the statement where the method was call. We need to have a variable to catch the value returned.\r\nSo your \r\n` passengerChange(station,passenger);` should have been:\r\n\r\n`passenger =  passengerChange(station,passenger);`","title":"Why does the value not change by the method?","body":"<p>I feel like there are a few concept you will benefit from knowing. Those are:</p>\n<ol>\n<li>Primitive datatype and Wrapper class\nIn object-oriented programming, a <strong>wrapper class</strong> is a class that encapsulates types, so that those types can be used to create object instances and methods in another class that need those types.</li>\n</ol>\n<p>So that means that primitive datatypes are like <code>int a =5;</code> whereas using wrapper classes I actually create an object of class <code>Integer</code>.</p>\n<p>This is important to know because we can now learn:</p>\n<ol start=\"2\">\n<li>Call by value vs call by reference\nJava is always Pass by Value and not pass by reference.</li>\n</ol>\n<p>Call by value: Call by Value means calling a method with a parameter as value. Through this, the argument value is passed to the parameter.</p>\n<p>Call by reference: While Call by Reference means calling a method with a parameter as a reference. Through this, the argument reference is passed to the parameter.</p>\n<hr />\n<p>In case of call by value original value is not changed.\n<em>Note: numbers below are line numbers for reference</em></p>\n<pre><code>1. class Operation{  \n2.  int data=50;  \n  \n3.  void change(int num){  \n4.  num=data+100;//changes will be in the local variable only  \n }  \n     \n5. public static void main(String args[]){  \n6.   Operation op=new Operation();  \n  \n7.   System.out.println(&quot;before change &quot;+op.data);  \n8.   op.change(500);  \n9.   System.out.println(&quot;after change &quot;+op.data);  \n  \n }  \n} \n</code></pre>\n<p>Output will be:</p>\n<pre><code>Output:before change 50\n       after change 50  \n</code></pre>\n<p>This is because num is int which is primitive. So when I pass 500 in line 8,  and the method in line 3 receives it, changes it and assigns it it remains in that function only! (Search about this more)</p>\n<p>If num was an object of a wrapper class then things would have been different. I would suggest you first learn these concepts then I will teach you what happens if num was Integer.</p>\n<ol start=\"3\">\n<li>keyword <code>Return</code></li>\n</ol>\n<p>A return statement causes the program control to transfer back to the caller of a method.</p>\n<p>When a method returns anything, the control is transferred back to the statement where the method was call. We need to have a variable to catch the value returned.\nSo your\n<code> passengerChange(station,passenger);</code> should have been:</p>\n<p><code>passenger =  passengerChange(station,passenger);</code></p>\n"}],"owner":{"account_id":26216789,"reputation":3,"user_id":19894826,"display_name":"Anaria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73568814,"answer_count":3,"score":-1,"last_activity_date":1662035601,"creation_date":1662027398,"question_id":73567713,"body_markdown":"I am a new java self-learning. I&#39;m try to across a practice question (couldn&#39;t find the answer), but I ran into the following problem: the passenger cannot be changed following the station change.\r\n\r\n```java\r\npublic class BusGame {\r\n\t\r\n\tstatic int station, passenger;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tstation = 0;\r\n\t\tpassenger = 0;\r\n\t\t\r\n\t\tfor(station = 0; station &lt;=5; station++) {\r\n\t\t\tSystem.out.println(&quot;Station\\tPassenger&quot;);\r\n\t\t\tpassengerChange(station,passenger);\r\n\t\t\tSystem.out.println(station + &quot;\\t&quot; + passenger);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static int passengerChange(int s,int p) {\r\n\t\tif(s==1 || s==5) {\r\n\t\t\tp++;\r\n\t\t}\r\n\t\tif(s==2 || s==3) {\r\n\t\t\tp=p+2-1;\r\n\t\t}\r\n\t\tif(s==4) {\r\n\t\t\tp--;\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n}\r\n```\r\n\r\nand the output is:\r\n\r\n```none\r\nStation\tPassenger\r\n0\t    0\r\nStation\tPassenger\r\n1\t    0\r\nStation\tPassenger\r\n2\t    0\r\nStation\tPassenger\r\n3\t    0\r\nStation\tPassenger\r\n4\t    0\r\nStation\tPassenger\r\n5\t    0\r\n```\r\n\r\nCan someone tell me why the &quot;passenger&quot; value cannot be changed but the &quot;station&quot; value can changed?","title":"Why does the value not change by the method?","body":"<p>I am a new java self-learning. I'm try to across a practice question (couldn't find the answer), but I ran into the following problem: the passenger cannot be changed following the station change.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BusGame {\n    \n    static int station, passenger;\n\n    public static void main(String[] args) {\n        station = 0;\n        passenger = 0;\n        \n        for(station = 0; station &lt;=5; station++) {\n            System.out.println(&quot;Station\\tPassenger&quot;);\n            passengerChange(station,passenger);\n            System.out.println(station + &quot;\\t&quot; + passenger);\n        }\n    }\n    \n    public static int passengerChange(int s,int p) {\n        if(s==1 || s==5) {\n            p++;\n        }\n        if(s==2 || s==3) {\n            p=p+2-1;\n        }\n        if(s==4) {\n            p--;\n        }\n        return p;\n    }\n}\n</code></pre>\n<p>and the output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Station Passenger\n0       0\nStation Passenger\n1       0\nStation Passenger\n2       0\nStation Passenger\n3       0\nStation Passenger\n4       0\nStation Passenger\n5       0\n</code></pre>\n<p>Can someone tell me why the &quot;passenger&quot; value cannot be changed but the &quot;station&quot; value can changed?</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":3,"creation_date":1662034107,"post_id":73568888,"comment_id":129915702,"body_markdown":"I&#39;m interpreting the description multiple ways - can you add an example payload, along with the expected result?","body":"I&#39;m interpreting the description multiple ways - can you add an example payload, along with the expected result?"},{"owner":{"account_id":1688832,"reputation":99,"user_id":1551597,"accept_rate":29,"display_name":"koushik"},"score":0,"creation_date":1662035738,"post_id":73568888,"comment_id":129916269,"body_markdown":"@AndrewS : Added one sample payload. And the expectation is if type is MarketplaceID then it should goo and check DifferentiatorValue. If the value in payload belongs to the Enum then we will do an API call else we won do anything.","body":"@AndrewS : Added one sample payload. And the expectation is if type is MarketplaceID then it should goo and check DifferentiatorValue. If the value in payload belongs to the Enum then we will do an API call else we won do anything."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662035288,"creation_date":1662035288,"answer_id":73569338,"question_id":73568888,"body_markdown":"Use [EnumMap](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/EnumMap.html) and [EnumSet](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/EnumSet.html) to hold all the relationships.\r\n\r\n    import java.util.Map;\r\n    import java.util.EnumMap;\r\n    import java.util.EnumSet;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n\r\n    public class DifferentiatorMappings {\r\n        private final Map&lt;DifferentiatorType, Collection&lt;?&gt;&gt; values;\r\n\r\n        public DifferentiatorMappings() {\r\n            Map&lt;DifferentiatorType, Collection&lt;?&gt;&gt; map =\r\n                new EnumMap&lt;&gt;(DifferentiatorType.class);\r\n\r\n            map.put(DifferentiatorType.MARKETPLACE_ID,\r\n                Collections.unmodifiableCollection(\r\n                    EnumSet.allOf(DifferentiatorValue.class)));\r\n            map.put(DifferentiatorType.ANOTHER_ID,\r\n                Collections.unmodifiableCollection(\r\n                    EnumSet.allOf(AnotherValue.class)));\r\n\r\n            values = Collections.unmodifiableMap(map);\r\n        }\r\n\r\n        public Collection&lt;?&gt; getValuesFor(DifferentiatorType type) {\r\n            if (type == null) {\r\n                return Collections.emptySet();\r\n            }\r\n\r\n            return values.getOrDefault(type, Collections.emptySet());\r\n        }\r\n    }\r\n\r\nThen you can use the returned values collection to check for a correct value:\r\n\r\n    DifferentiatorType type = payload.getDifferentiatorType();\r\n    Object value = payload.getDifferentiatorValue();\r\n\r\n    DifferentiatorMappings mappings = new DifferentiatorMappings();\r\n    if (mappings.getValuesFor(type).contains(value)) {\r\n        // proceed\r\n    }\r\n","title":"Map between two Enums","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/EnumMap.html\" rel=\"nofollow noreferrer\">EnumMap</a> and <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/EnumSet.html\" rel=\"nofollow noreferrer\">EnumSet</a> to hold all the relationships.</p>\n<pre><code>import java.util.Map;\nimport java.util.EnumMap;\nimport java.util.EnumSet;\nimport java.util.Collection;\nimport java.util.Collections;\n\npublic class DifferentiatorMappings {\n    private final Map&lt;DifferentiatorType, Collection&lt;?&gt;&gt; values;\n\n    public DifferentiatorMappings() {\n        Map&lt;DifferentiatorType, Collection&lt;?&gt;&gt; map =\n            new EnumMap&lt;&gt;(DifferentiatorType.class);\n\n        map.put(DifferentiatorType.MARKETPLACE_ID,\n            Collections.unmodifiableCollection(\n                EnumSet.allOf(DifferentiatorValue.class)));\n        map.put(DifferentiatorType.ANOTHER_ID,\n            Collections.unmodifiableCollection(\n                EnumSet.allOf(AnotherValue.class)));\n\n        values = Collections.unmodifiableMap(map);\n    }\n\n    public Collection&lt;?&gt; getValuesFor(DifferentiatorType type) {\n        if (type == null) {\n            return Collections.emptySet();\n        }\n\n        return values.getOrDefault(type, Collections.emptySet());\n    }\n}\n</code></pre>\n<p>Then you can use the returned values collection to check for a correct value:</p>\n<pre><code>DifferentiatorType type = payload.getDifferentiatorType();\nObject value = payload.getDifferentiatorValue();\n\nDifferentiatorMappings mappings = new DifferentiatorMappings();\nif (mappings.getValuesFor(type).contains(value)) {\n    // proceed\n}\n</code></pre>\n"}],"owner":{"account_id":1688832,"reputation":99,"user_id":1551597,"accept_rate":29,"display_name":"koushik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1662035458,"creation_date":1662033048,"question_id":73568888,"body_markdown":"I have below 2 Enums, One is for type and another is for value.\r\n\r\n    public enum DifferentiatorType {\r\n    \r\n        @JsonProperty(&quot;differentiatorType&quot;)\r\n        MARKETPLACE_ID(&quot;MarketplaceId&quot;);\r\n    \r\n        private final String value;\r\n    }\r\n    \r\n    public enum DifferentiatorValue {\r\n    \r\n        VALUE_ONE(&quot;valueOne&quot;);\r\n        VALUE_TWO(&quot;valueTwo&quot;);\r\n        VALUE_THREE(&quot;valueThree&quot;);\r\n        VALUE_FOUR(&quot;valueFour&quot;);\r\n    \r\n        private final String value;\r\n    }\r\n\r\n\r\nNow the situation is ,i have a payload which holds both the field DifferentiatorType and DifferentiatorValue. I want to check if the type belongs to DifferentiatorType then go and check if the value is present there in DifferentiatorValue then only proceed farther. So basically i want to create a map between the 2 Enums .\r\n\r\nPS: In future new object/item can be added to DifferentiatorType and in that case we have to create new Enum for that type of values accepted.\r\n\r\nHere is the sample payload:\r\n\r\n    {\\&quot;referenceId\\&quot;:\\&quot;B01-2776421-8482453\\&quot;,\\&quot;preferenceType\\&quot;:\\&quot;CREDITCARD\\&quot;,\\&quot;differentiatorValue\\&quot;:\\&quot;ABXWY75J\\&quot;,\\&quot;customerId\\&quot;:\\&quot;A37I50ASYHT\\&quot;,\\&quot;differentiatorType\\&quot;:\\&quot;MarketplaceId\\&quot;}\r\n\r\n\r\n","title":"Map between two Enums","body":"<p>I have below 2 Enums, One is for type and another is for value.</p>\n<pre><code>public enum DifferentiatorType {\n\n    @JsonProperty(&quot;differentiatorType&quot;)\n    MARKETPLACE_ID(&quot;MarketplaceId&quot;);\n\n    private final String value;\n}\n\npublic enum DifferentiatorValue {\n\n    VALUE_ONE(&quot;valueOne&quot;);\n    VALUE_TWO(&quot;valueTwo&quot;);\n    VALUE_THREE(&quot;valueThree&quot;);\n    VALUE_FOUR(&quot;valueFour&quot;);\n\n    private final String value;\n}\n</code></pre>\n<p>Now the situation is ,i have a payload which holds both the field DifferentiatorType and DifferentiatorValue. I want to check if the type belongs to DifferentiatorType then go and check if the value is present there in DifferentiatorValue then only proceed farther. So basically i want to create a map between the 2 Enums .</p>\n<p>PS: In future new object/item can be added to DifferentiatorType and in that case we have to create new Enum for that type of values accepted.</p>\n<p>Here is the sample payload:</p>\n<pre><code>{\\&quot;referenceId\\&quot;:\\&quot;B01-2776421-8482453\\&quot;,\\&quot;preferenceType\\&quot;:\\&quot;CREDITCARD\\&quot;,\\&quot;differentiatorValue\\&quot;:\\&quot;ABXWY75J\\&quot;,\\&quot;customerId\\&quot;:\\&quot;A37I50ASYHT\\&quot;,\\&quot;differentiatorType\\&quot;:\\&quot;MarketplaceId\\&quot;}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":2,"creation_date":1662020269,"post_id":73566172,"comment_id":129910793,"body_markdown":"You could at least say what’s wrong and what is the expected output for your string. Is it theStealthWarrior? Is it TheStealthWarrior?","body":"You could at least say what’s wrong and what is the expected output for your string. Is it theStealthWarrior? Is it TheStealthWarrior?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1662020859,"post_id":73566172,"comment_id":129911001,"body_markdown":"The problem is that you&#39;re not actually changing the string - all you&#39;re doing is changing the value of `newName`, which is a local variable. And using `+=` with a `char` is basically never a useful thing to do, because e.g. `&#39;A&#39; + &#39;A&#39;` isn&#39;t `&#39;AA&#39;`, it&#39;s whatever codepoint 130 is.","body":"The problem is that you&#39;re not actually changing the string - all you&#39;re doing is changing the value of <code>newName</code>, which is a local variable. And using <code>+=</code> with a <code>char</code> is basically never a useful thing to do, because e.g. <code>&#39;A&#39; + &#39;A&#39;</code> isn&#39;t <code>&#39;AA&#39;</code>, it&#39;s whatever codepoint 130 is."},{"owner":{"account_id":21016921,"reputation":43,"user_id":15444181,"display_name":"Albear Mosa"},"score":0,"creation_date":1662022565,"post_id":73566172,"comment_id":129911562,"body_markdown":"The input is &quot;the-stealth-warrior&quot;, and the output should be &quot;theStealthWarrior&quot;","body":"The input is &quot;the-stealth-warrior&quot;, and the output should be &quot;theStealthWarrior&quot;"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1662022848,"post_id":73566172,"comment_id":129911673,"body_markdown":"What if `-` is at the end of the string, so no character follows it?","body":"What if <code>-</code> is at the end of the string, so no character follows it?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662022798,"creation_date":1662020476,"answer_id":73566237,"question_id":73566172,"body_markdown":"We can try using a split approach with the help of a stream:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String name = &quot;the-stealth-warrior&quot;;\r\n    String parts = name.replaceAll(&quot;^.*?-&quot;, &quot;&quot;);\r\n    String output = Arrays.stream(parts.split(&quot;-&quot;))\r\n                          .map(x -&gt; x.substring(0, 1).toUpperCase() + x.substring(1))\r\n                          .collect(Collectors.joining(&quot;&quot;));\r\n    output = name.split(&quot;-&quot;, 2)[0] + output;\r\n    System.out.println(output);  // theStealthWarrior","title":"I want to remove the special character and convert the next letter to uppercase &quot;the-stealth-warrior&quot; in Java","body":"<p>We can try using a split approach with the help of a stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;the-stealth-warrior&quot;;\nString parts = name.replaceAll(&quot;^.*?-&quot;, &quot;&quot;);\nString output = Arrays.stream(parts.split(&quot;-&quot;))\n                      .map(x -&gt; x.substring(0, 1).toUpperCase() + x.substring(1))\n                      .collect(Collectors.joining(&quot;&quot;));\noutput = name.split(&quot;-&quot;, 2)[0] + output;\nSystem.out.println(output);  // theStealthWarrior\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662035451,"creation_date":1662022995,"answer_id":73566755,"question_id":73566172,"body_markdown":"I think the most concise way to do this would be with regexes:\r\n\r\n```\r\nString newName = Pattern.compile(&quot;-+(.)?&quot;).matcher(name).replaceAll(mr -&gt; mr.group(1).toUpperCase());\r\n```\r\n\r\nNote that `Pattern.compile(...)` can be stored rather than re-evaluating it each time.\r\n\r\nA more verbose (but probably more efficient way) to do it would be to build the string using a `StringBuilder`:\r\n\r\n```\r\nStringBuilder sb = new StringBuilder(name.length());\r\nboolean uc = false;  // Flag to know whether to uppercase the char.\r\nint len = name.codePointsCount(0, name.length());\r\nfor (int i = 0; i &lt; name.len; ++i) {\r\n  int c = name.codePointAt(i);\r\n  if (c == &#39;-&#39;) {\r\n    // Don&#39;t append the codepoint, but flag to uppercase the next codepoint\r\n    // that isn&#39;t a &#39;-&#39;.\r\n    uc = true;\r\n  } else {\r\n    if (uc) {\r\n      c = Character.toUpperCase(c);\r\n      uc = false;\r\n    }\r\n    sb.appendCodePoint(c);\r\n  }\r\n}\r\nString newName = sb.toString();\r\n```\r\n\r\nNote that you can&#39;t reliably uppercase single codepoints in specific locales, e.g. `&#223;` in `Locale.GERMAN`.","title":"I want to remove the special character and convert the next letter to uppercase &quot;the-stealth-warrior&quot; in Java","body":"<p>I think the most concise way to do this would be with regexes:</p>\n<pre><code>String newName = Pattern.compile(&quot;-+(.)?&quot;).matcher(name).replaceAll(mr -&gt; mr.group(1).toUpperCase());\n</code></pre>\n<p>Note that <code>Pattern.compile(...)</code> can be stored rather than re-evaluating it each time.</p>\n<p>A more verbose (but probably more efficient way) to do it would be to build the string using a <code>StringBuilder</code>:</p>\n<pre><code>StringBuilder sb = new StringBuilder(name.length());\nboolean uc = false;  // Flag to know whether to uppercase the char.\nint len = name.codePointsCount(0, name.length());\nfor (int i = 0; i &lt; name.len; ++i) {\n  int c = name.codePointAt(i);\n  if (c == '-') {\n    // Don't append the codepoint, but flag to uppercase the next codepoint\n    // that isn't a '-'.\n    uc = true;\n  } else {\n    if (uc) {\n      c = Character.toUpperCase(c);\n      uc = false;\n    }\n    sb.appendCodePoint(c);\n  }\n}\nString newName = sb.toString();\n</code></pre>\n<p>Note that you can't reliably uppercase single codepoints in specific locales, e.g. <code>ß</code> in <code>Locale.GERMAN</code>.</p>\n"}],"owner":{"account_id":21016921,"reputation":43,"user_id":15444181,"display_name":"Albear Mosa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73566755,"answer_count":2,"score":0,"last_activity_date":1662035451,"creation_date":1662020066,"question_id":73566172,"body_markdown":"    public class Main {\r\n        public static void main(String[] args) {\r\n          String name = &quot;the-stealth-warrior&quot;;\r\n          for (int i = 0; i &lt; name.length();i++){\r\n             if (name.charAt(i) == &#39;-&#39;){\r\n                 char newName = Character.toUpperCase(name.charAt(i+1));\r\n                 newName += name.charAt(i + 1);\r\n                 i++;\r\n             }\r\n          }\r\n        }\r\n    }\r\nI try to loop in every char and check if the I == &#39;-&#39; convert the next letter to be uppercase and append to a new String.","title":"I want to remove the special character and convert the next letter to uppercase &quot;the-stealth-warrior&quot; in Java","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n      String name = &quot;the-stealth-warrior&quot;;\n      for (int i = 0; i &lt; name.length();i++){\n         if (name.charAt(i) == '-'){\n             char newName = Character.toUpperCase(name.charAt(i+1));\n             newName += name.charAt(i + 1);\n             i++;\n         }\n      }\n    }\n}\n</code></pre>\n<p>I try to loop in every char and check if the I == '-' convert the next letter to be uppercase and append to a new String.</p>\n"},{"tags":["java","spring","intellij-idea","structural-search"],"comments":[{"owner":{"account_id":3467880,"reputation":5813,"user_id":2902996,"accept_rate":44,"display_name":"Joel"},"score":0,"creation_date":1640734865,"post_id":70513676,"comment_id":124646929,"body_markdown":"You could probably do a multiline regex match with something like `/\\@AutoWired\\nprivate\\s.*$/m` and `/@Autowired\\n@Getter\\nPrivate\\s.*$/m`","body":"You could probably do a multiline regex match with something like <code>&#47;\\@AutoWired\\nprivate\\s.*$&#47;m</code> and <code>&#47;@Autowired\\n@Getter\\nPrivate\\s.*$&#47;m</code>"},{"owner":{"account_id":23015633,"reputation":187,"user_id":17186230,"display_name":"gabriel"},"score":0,"creation_date":1640735854,"post_id":70513676,"comment_id":124647146,"body_markdown":"But this lose the ability of being a structural search. (i&#39;ve updated the question to make this clear)","body":"But this lose the ability of being a structural search. (i&#39;ve updated the question to make this clear)"}],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640859481,"creation_date":1640859481,"answer_id":70530248,"question_id":70513676,"body_markdown":"Add a `@$Lazy$` annotation to the search template with a text filter `Lazy` and a count filter `[0,0]`. This will only find elements that do not have the `@Lazy` annotation.","title":"how to negate search in intellij structural search","body":"<p>Add a <code>@$Lazy$</code> annotation to the search template with a text filter <code>Lazy</code> and a count filter <code>[0,0]</code>. This will only find elements that do not have the <code>@Lazy</code> annotation.</p>\n"}],"owner":{"account_id":23015633,"reputation":187,"user_id":17186230,"display_name":"gabriel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70530248,"answer_count":1,"score":0,"last_activity_date":1662035097,"creation_date":1640734612,"question_id":70513676,"body_markdown":"How can i exclude terms from intellij&#39;s structure search? (NOT text or regex seach!)\r\n\r\nfor example, using the annotated field template, let&#39;s say i want to add `@Lazy` to all occurrences of `@Autowired` for fields of type X?\r\n\r\nThat means I want to match:\r\n```\r\n@Autowired\r\nprivate X x;\r\n```\r\nas well as\r\n```\r\n@Autowired\r\n@Getter\r\nPrivate X x;\r\n```\r\n\r\nbut not\r\n```\r\n@Lazy\r\n@Autowired\r\nPrivate X x;\r\n```\r\n\r\nI understood from the manual how to match positively by adding conditional `text=...` to the elements, but not how to add a negative.\r\n\r\n\r\nEdit1:\r\nthe reason a regex is not the answer (as suggested in a comment), is because the Structural search matches things like different annotations between the annotation i&#39;m searching for and the field, also it matches any access prefix on the field, etc.\r\n\r\nIf I move  from structured to regex/text search find/replace, then i will have many other problems.","title":"how to negate search in intellij structural search","body":"<p>How can i exclude terms from intellij's structure search? (NOT text or regex seach!)</p>\n<p>for example, using the annotated field template, let's say i want to add <code>@Lazy</code> to all occurrences of <code>@Autowired</code> for fields of type X?</p>\n<p>That means I want to match:</p>\n<pre><code>@Autowired\nprivate X x;\n</code></pre>\n<p>as well as</p>\n<pre><code>@Autowired\n@Getter\nPrivate X x;\n</code></pre>\n<p>but not</p>\n<pre><code>@Lazy\n@Autowired\nPrivate X x;\n</code></pre>\n<p>I understood from the manual how to match positively by adding conditional <code>text=...</code> to the elements, but not how to add a negative.</p>\n<p>Edit1:\nthe reason a regex is not the answer (as suggested in a comment), is because the Structural search matches things like different annotations between the annotation i'm searching for and the field, also it matches any access prefix on the field, etc.</p>\n<p>If I move  from structured to regex/text search find/replace, then i will have many other problems.</p>\n"},{"tags":["java","maven","testng","macos-sierra"],"comments":[{"owner":{"account_id":1383130,"reputation":370,"user_id":1315719,"display_name":"haskovec"},"score":0,"creation_date":1475007999,"post_id":39700882,"comment_id":66765208,"body_markdown":"I am having everything in Java related to networking slower after updating. Launching a Spring app went from 26 seconds to 75 seconds. Another one went from 15 seconds to 150 seconds. My guess is it is related to networking based on what I am seeing, but not sure yet.","body":"I am having everything in Java related to networking slower after updating. Launching a Spring app went from 26 seconds to 75 seconds. Another one went from 15 seconds to 150 seconds. My guess is it is related to networking based on what I am seeing, but not sure yet."},{"owner":{"account_id":164880,"reputation":33403,"user_id":387927,"display_name":"David Dossot"},"score":4,"creation_date":1475083225,"post_id":39700882,"comment_id":66803812,"body_markdown":"The fix is here: http://stackoverflow.com/a/33289897/387927","body":"The fix is here: <a href=\"http://stackoverflow.com/a/33289897/387927\">stackoverflow.com/a/33289897/387927</a>"},{"owner":{"account_id":9266324,"reputation":143,"user_id":6881682,"display_name":"Johan"},"score":0,"creation_date":1475477532,"post_id":39700882,"comment_id":66941893,"body_markdown":"That does not solve it for me, the comment from David Dossot. Will come back with more info after I have done some more testing.","body":"That does not solve it for me, the comment from David Dossot. Will come back with more info after I have done some more testing."}],"answers":[{"tags":[],"owner":{"account_id":9324496,"reputation":366,"user_id":6922261,"display_name":"Rich Riley"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1484833547,"creation_date":1475601633,"answer_id":39858234,"question_id":39700882,"body_markdown":"I&#39;ve had this exact problem (and spent the last 6 hours trying to solve it). My problem was that my HostName wasn&#39;t set. \r\n\r\nCheck that:\r\n\r\n    sudo scutil --get LocalHostName\r\n\r\nMatches:\r\n\r\n    sudo scutil --get HostName\r\n\r\nAnd if they don&#39;t, use:\r\n\r\n    sudo scutil --set HostName [YOUR_HOST_NAME]\r\n\r\nTo fix it. ","title":"Maven with Surefire (TestNG) is slow after update to MacOS Sierra","body":"<p>I've had this exact problem (and spent the last 6 hours trying to solve it). My problem was that my HostName wasn't set. </p>\n\n<p>Check that:</p>\n\n<pre><code>sudo scutil --get LocalHostName\n</code></pre>\n\n<p>Matches:</p>\n\n<pre><code>sudo scutil --get HostName\n</code></pre>\n\n<p>And if they don't, use:</p>\n\n<pre><code>sudo scutil --set HostName [YOUR_HOST_NAME]\n</code></pre>\n\n<p>To fix it. </p>\n"},{"tags":[],"owner":{"account_id":4949565,"reputation":1,"user_id":3983985,"display_name":"Tariq Sulaiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662035092,"creation_date":1662035092,"answer_id":73569299,"question_id":39700882,"body_markdown":"In my case both `LocalHostName` and `HostName` were matching already. Also, I tried adding hostname in `/etc/hosts` as suggested in this thread http://stackoverflow.com/a/33289897/387927. Both have no impact on the time taken for the maven build.\r\n\r\nThe following was the output of `mvn -version`\r\n\r\n    Apache Maven 3.8.6\r\n    Maven home: /opt/homebrew/Cellar/maven/3.8.6/libexec\r\n    Java version: 11.0.12, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home\r\n    Default locale: en_GB, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;11.6.x&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\r\n\r\nBut my os version is `12.5.1`\r\n\r\nI uninstalled and reinstalled `java version 11.0.16`. After this, the output of `mvn -version`is as follows\r\n\r\n    Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\n    Maven home: /opt/homebrew/Cellar/maven/3.8.6/libexec\r\n    Java version: 11.0.16, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-11.0.16.jdk/Contents/Home\r\n    Default locale: en_GB, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;12.5.1&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\r\n\r\nThen the build time was reduced from 9 minutes to 2 minutes.","title":"Maven with Surefire (TestNG) is slow after update to MacOS Sierra","body":"<p>In my case both <code>LocalHostName</code> and <code>HostName</code> were matching already. Also, I tried adding hostname in <code>/etc/hosts</code> as suggested in this thread <a href=\"http://stackoverflow.com/a/33289897/387927\">http://stackoverflow.com/a/33289897/387927</a>. Both have no impact on the time taken for the maven build.</p>\n<p>The following was the output of <code>mvn -version</code></p>\n<pre><code>Apache Maven 3.8.6\nMaven home: /opt/homebrew/Cellar/maven/3.8.6/libexec\nJava version: 11.0.12, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;11.6.x&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>But my os version is <code>12.5.1</code></p>\n<p>I uninstalled and reinstalled <code>java version 11.0.16</code>. After this, the output of <code>mvn -version</code>is as follows</p>\n<pre><code>Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /opt/homebrew/Cellar/maven/3.8.6/libexec\nJava version: 11.0.16, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-11.0.16.jdk/Contents/Home\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;12.5.1&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>Then the build time was reduced from 9 minutes to 2 minutes.</p>\n"}],"owner":{"account_id":9266324,"reputation":143,"user_id":6881682,"display_name":"Johan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2757,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":39858234,"answer_count":2,"score":9,"last_activity_date":1662035092,"creation_date":1474887042,"question_id":39700882,"body_markdown":"Before the update my MacBook Pro to MacOs Sierra, the command:\r\n\r\n    mvn clean install -U\r\n\r\ntook about 40 sec to run, with several hundreds of tests in several maven sub-modules.\r\n\r\nAfter the update to MacOS Sierra, with no changes to the code, the same command takes over 12 minutes. It looks to me that the when the Surefire plugin is going to print the result of the current module, it hangs for 2-3 minutes before continuing. The speed of the test-execution up to this point is as fast as before the update to MacOS Sierra.\r\n\r\nExample of a TestNG result printout from on of the modules:\r\n    \r\n    Tests run: 101, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 167.854 sec\r\n\r\n    Results :\r\n\r\n    Tests run: 101, Failures: 0, Errors: 0, Skipped: 0\r\n\r\nDoes anyone know the reasons behind this?","title":"Maven with Surefire (TestNG) is slow after update to MacOS Sierra","body":"<p>Before the update my MacBook Pro to MacOs Sierra, the command:</p>\n\n<pre><code>mvn clean install -U\n</code></pre>\n\n<p>took about 40 sec to run, with several hundreds of tests in several maven sub-modules.</p>\n\n<p>After the update to MacOS Sierra, with no changes to the code, the same command takes over 12 minutes. It looks to me that the when the Surefire plugin is going to print the result of the current module, it hangs for 2-3 minutes before continuing. The speed of the test-execution up to this point is as fast as before the update to MacOS Sierra.</p>\n\n<p>Example of a TestNG result printout from on of the modules:</p>\n\n<pre><code>Tests run: 101, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 167.854 sec\n\nResults :\n\nTests run: 101, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n\n<p>Does anyone know the reasons behind this?</p>\n"},{"tags":["java","sql","scheduled-tasks","connection-pooling","runtime-error"],"comments":[{"owner":{"account_id":197516,"reputation":16316,"user_id":1213738,"accept_rate":62,"display_name":"Chandra Sekhar"},"score":0,"creation_date":1346408453,"post_id":12213246,"comment_id":16359906,"body_markdown":"hope this [ibm_developer_works](http://www.ibm.com/developerworks/forums/thread.jspa?threadID=53951) thread will help you.","body":"hope this <a href=\"http://www.ibm.com/developerworks/forums/thread.jspa?threadID=53951\" rel=\"nofollow noreferrer\">ibm_developer_works</a> thread will help you."},{"owner":{"account_id":996754,"reputation":2291,"user_id":1012497,"accept_rate":100,"display_name":"nikli"},"score":0,"creation_date":1578426970,"post_id":12213246,"comment_id":105432613,"body_markdown":"check https://stackoverflow.com/a/23511532/1012497","body":"check <a href=\"https://stackoverflow.com/a/23511532/1012497\">stackoverflow.com/a/23511532/1012497</a>"}],"answers":[{"tags":[],"owner":{"account_id":223431,"reputation":4406,"user_id":482628,"accept_rate":92,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346408385,"creation_date":1346408115,"answer_id":12213322,"question_id":12213246,"body_markdown":"This error shows that your *jdbc* resource is *not registered*! Where did you put your `context.xml`?\r\n\r\nThe `context.xml` file must be in the `META-INF` directory of the war file. It must not be in the *classes directory* or in a *jar* file.\r\n\r\nPut the `META-INF` directory with the `context.xml` in the directory containing the *root* of the *webapp* in your source folder tree.\r\n","title":"javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [comp] error with java scheduler","body":"<p>This error shows that your <em>jdbc</em> resource is <em>not registered</em>! Where did you put your <code>context.xml</code>?</p>\n\n<p>The <code>context.xml</code> file must be in the <code>META-INF</code> directory of the war file. It must not be in the <em>classes directory</em> or in a <em>jar</em> file.</p>\n\n<p>Put the <code>META-INF</code> directory with the <code>context.xml</code> in the directory containing the <em>root</em> of the <em>webapp</em> in your source folder tree.</p>\n"},{"tags":[],"owner":{"account_id":1034973,"reputation":63,"user_id":1042518,"accept_rate":29,"display_name":"Onyekachi Akujua"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1364912371,"creation_date":1364912371,"answer_id":15766528,"question_id":12213246,"body_markdown":"Try stopping and restarting your server (I assume you are using Eclipse and a Tomcat server). Maybe when you created your context xml file as it did was empty initially, your server was not able to synchronize its contents hence its inability to find the database connection resource name you later specified in the context.xml file.\r\n\r\ni.e. if you have not already solved this problem.","title":"javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [comp] error with java scheduler","body":"<p>Try stopping and restarting your server (I assume you are using Eclipse and a Tomcat server). Maybe when you created your context xml file as it did was empty initially, your server was not able to synchronize its contents hence its inability to find the database connection resource name you later specified in the context.xml file.</p>\n\n<p>i.e. if you have not already solved this problem.</p>\n"},{"tags":[],"owner":{"account_id":47319,"reputation":1241,"user_id":140084,"accept_rate":40,"display_name":"Martins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434620424,"creation_date":1434620424,"answer_id":30911832,"question_id":12213246,"body_markdown":"I had the same problem which dragged on for two painful days. I Re-read tomcat documentation about JNDI, confirmed all my `server.xml`, `context.xml`,`web.xml` configuration and the code to access the naming object... still no progress.\r\n\r\nIt turned out to be a dependency in my project that was interfering with the naming context - axis2. A simple move from axis2-1.6.0 to axis2-1.6.2 caused my problem.\r\n","title":"javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [comp] error with java scheduler","body":"<p>I had the same problem which dragged on for two painful days. I Re-read tomcat documentation about JNDI, confirmed all my <code>server.xml</code>, <code>context.xml</code>,<code>web.xml</code> configuration and the code to access the naming object... still no progress.</p>\n\n<p>It turned out to be a dependency in my project that was interfering with the naming context - axis2. A simple move from axis2-1.6.0 to axis2-1.6.2 caused my problem.</p>\n"},{"tags":[],"owner":{"account_id":2235921,"reputation":2719,"user_id":1972317,"accept_rate":80,"display_name":"taringamberini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504704686,"creation_date":1504704686,"answer_id":46076647,"question_id":12213246,"body_markdown":"It&#39;s not `java:/comp/env` but `java:comp/env`.","title":"javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [comp] error with java scheduler","body":"<p>It's not <code>java:/comp/env</code> but <code>java:comp/env</code>.</p>\n"},{"tags":[],"owner":{"account_id":447397,"reputation":608,"user_id":840997,"accept_rate":71,"display_name":"Bat0u89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536853465,"creation_date":1536853465,"answer_id":52317303,"question_id":12213246,"body_markdown":"I just ran in the same issue. In my case there was nothing wrong with my tomcat configuration files or my project but I had to restart my postgres service instance as my tomcat was running and it would somehow pick up the change and the exception disappeared. I had to restart windows for the problem to go away completely. No idea why!","title":"javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [comp] error with java scheduler","body":"<p>I just ran in the same issue. In my case there was nothing wrong with my tomcat configuration files or my project but I had to restart my postgres service instance as my tomcat was running and it would somehow pick up the change and the exception disappeared. I had to restart windows for the problem to go away completely. No idea why!</p>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569497843,"creation_date":1569497843,"answer_id":58115994,"question_id":12213246,"body_markdown":"This problem is **likely** to **arise** when **two versions of a same module are present**.\r\nKindly check the `lib` folder for multiple versions of the same module.\r\nRemove the version that you don&#39;t need and restart the server.\r\n\r\nIn my case it was `servlet-api` present in two versions `servlet-api.jar` `servlet-api-2.jar`\r\n\r\nHope this solves your problem. Good day!","title":"javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [comp] error with java scheduler","body":"<p>This problem is <strong>likely</strong> to <strong>arise</strong> when <strong>two versions of a same module are present</strong>.\nKindly check the <code>lib</code> folder for multiple versions of the same module.\nRemove the version that you don't need and restart the server.</p>\n\n<p>In my case it was <code>servlet-api</code> present in two versions <code>servlet-api.jar</code> <code>servlet-api-2.jar</code></p>\n\n<p>Hope this solves your problem. Good day!</p>\n"},{"tags":[],"owner":{"account_id":7621183,"reputation":391,"user_id":5779165,"display_name":"Tommi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662034895,"creation_date":1662034895,"answer_id":73569264,"question_id":12213246,"body_markdown":"For me this issue was because of my tomcat instance using a higher version of java than the project i was working on. So the tomcat-server had JDK 17 and the project was running 1.8. Maybe it will be of help to someone encountering this error message.","title":"javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [comp] error with java scheduler","body":"<p>For me this issue was because of my tomcat instance using a higher version of java than the project i was working on. So the tomcat-server had JDK 17 and the project was running 1.8. Maybe it will be of help to someone encountering this error message.</p>\n"}],"owner":{"account_id":1604358,"reputation":209,"user_id":1484730,"accept_rate":45,"display_name":"Morgan Azhari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68429,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":7,"score":12,"last_activity_date":1662034895,"creation_date":1346407810,"question_id":12213246,"body_markdown":"What I&#39;m trying to do is to update my database after a period of time. So I&#39;m using java scheduler and connection pooling. I don&#39;t know why but my code only working once.\r\nIt will print:\r\n\r\n    init success\r\n    success\r\n    javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [comp].\r\n    \tat org.apache.naming.NamingContext.lookup(NamingContext.java:820)\r\n    \tat org.apache.naming.NamingContext.lookup(NamingContext.java:168)\r\n    \tat org.apache.naming.SelectorContext.lookup(SelectorContext.java:158)\r\n        at javax.naming.InitialContext.lookup(InitialContext.java:411)\r\n        at test.Pool.main(Pool.java:25)  ---&gt; line 25 is Context envContext = (Context)initialContext.lookup(&quot;java:/comp/env&quot;);\r\n     \r\nI don&#39;t know why it only works once. I already test it if I didn&#39;t running it without java scheduler and it works fine. No error whatsoerver. Don&#39;t know why i get this error if I running it using scheduler. \r\n\r\nHope someone can help me.\r\n\r\n**My connection pooling code**:\r\n\r\n    public class Pool {\r\n    public DataSource main() {\r\n        try {\r\n            InitialContext initialContext = new InitialContext();\r\n            Context envContext = (Context)initialContext.lookup(&quot;java:/comp/env&quot;);\r\n            DataSource datasource = new DataSource();   \r\n            datasource = (DataSource)envContext.lookup(&quot;jdbc/test&quot;);\r\n            return datasource;\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n**my web.xml**:\r\n\r\n    &lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt; package.test.Pool&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;resource-ref&gt;\r\n        &lt;description&gt;DB Connection Pooling&lt;/description&gt;\r\n        &lt;res-ref-name&gt;jdbc/test&lt;/res-ref-name&gt;\r\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;/resource-ref&gt;\r\n\r\n**Context.xml:**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Context path=&quot;/project&quot; reloadable=&quot;true&quot;&gt;\r\n      &lt;Resource auth=&quot;Container&quot; \r\n                defaultReadOnly=&quot;false&quot; \r\n                driverClassName=&quot;com.mysql.jdbc.Driver&quot; \r\n                factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot; \r\n                initialSize=&quot;0&quot; \r\n                jdbcInterceptors=&quot;org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer&quot; \r\n                jmxEnabled=&quot;true&quot; \r\n                logAbandoned=&quot;true&quot; \r\n                maxActive=&quot;300&quot; maxIdle=&quot;50&quot;\r\n                maxWait=&quot;10000&quot; \r\n                minEvictableIdleTimeMillis=&quot;300000&quot;\r\n                minIdle=&quot;30&quot; \r\n                name=&quot;jdbc/test&quot;\r\n                password=&quot;test&quot; \r\n                removeAbandoned=&quot;true&quot;\r\n                removeAbandonedTimeout=&quot;60&quot; \r\n                testOnBorrow=&quot;true&quot;\r\n                testOnReturn=&quot;false&quot; \r\n                testWhileIdle=&quot;true&quot; \r\n                timeBetweenEvictionRunsMillis=&quot;30000&quot;\r\n                type=&quot;javax.sql.DataSource&quot; \r\n                url=&quot;jdbc:mysql://localhost:3306/database?noAccessToProcedureBodies=true&quot; \r\n                username=&quot;root&quot;\r\n                validationInterval=&quot;30000&quot; \r\n                validationQuery=&quot;SELECT 1&quot;/&gt;\r\n    &lt;/Context&gt;\r\n\r\n**my java scheduler**\r\n\r\n    public class Scheduler extends HttpServlet{\r\n\r\n    public void init() throws ServletException\r\n    {\r\n        System.out.println(&quot;init success&quot;);\r\n        try{\r\n            Scheduling_test test = new Scheduling_test();\r\n            ScheduledExecutorService executor = Executors.newScheduledThreadPool(100);\r\n            ScheduledFuture future = executor.scheduleWithFixedDelay(test, 1, 60 ,TimeUnit.SECONDS);\r\n        }catch(Exception e){\r\n             e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n**Schedule_test**\r\n\r\n        public class Scheduling_test extends Thread implements Runnable{\r\n        public void run(){\r\n            Updating updating = new Updating();\r\n            updating.run();\r\n        }\r\n    }\r\n\r\n**updating**\r\n\r\n    public class Updating{\r\n        \r\n            public void run(){\r\n                ResultSet rs = null;\r\n                PreparedStatement  p = null;\r\n                StringBuilder sb = new StringBuilder();\r\n                Pool pool = new Pool();\r\n                Connection con = null; \r\n                DataSource datasource = null;\r\n                try{\r\n                    datasource = pool.main();\r\n                    con=datasource.getConnection();\r\n                    sb.append(&quot;SELECT * FROM database&quot;);\r\n                    p = con.prepareStatement(sb.toString());\r\n                    rs = p.executeQuery();\r\n                    rs.close();\r\n                    con.close();\r\n                    p.close();\r\n                    datasource.close();\r\n                    System.out.println(&quot;success&quot;);\r\n             }catch (Exception e){\r\n                    e.printStackTrace();\r\n             }\r\n        }","title":"javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [comp] error with java scheduler","body":"<p>What I'm trying to do is to update my database after a period of time. So I'm using java scheduler and connection pooling. I don't know why but my code only working once.\nIt will print:</p>\n\n<pre><code>init success\nsuccess\njavax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [comp].\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:820)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:168)\n    at org.apache.naming.SelectorContext.lookup(SelectorContext.java:158)\n    at javax.naming.InitialContext.lookup(InitialContext.java:411)\n    at test.Pool.main(Pool.java:25)  ---&gt; line 25 is Context envContext = (Context)initialContext.lookup(\"java:/comp/env\");\n</code></pre>\n\n<p>I don't know why it only works once. I already test it if I didn't running it without java scheduler and it works fine. No error whatsoerver. Don't know why i get this error if I running it using scheduler. </p>\n\n<p>Hope someone can help me.</p>\n\n<p><strong>My connection pooling code</strong>:</p>\n\n<pre><code>public class Pool {\npublic DataSource main() {\n    try {\n        InitialContext initialContext = new InitialContext();\n        Context envContext = (Context)initialContext.lookup(\"java:/comp/env\");\n        DataSource datasource = new DataSource();   \n        datasource = (DataSource)envContext.lookup(\"jdbc/test\");\n        return datasource;\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>my web.xml</strong>:</p>\n\n<pre><code>&lt;web-app version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt; package.test.Pool&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;resource-ref&gt;\n    &lt;description&gt;DB Connection Pooling&lt;/description&gt;\n    &lt;res-ref-name&gt;jdbc/test&lt;/res-ref-name&gt;\n    &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n    &lt;res-auth&gt;Container&lt;/res-auth&gt;\n&lt;/resource-ref&gt;\n</code></pre>\n\n<p><strong>Context.xml:</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Context path=\"/project\" reloadable=\"true\"&gt;\n  &lt;Resource auth=\"Container\" \n            defaultReadOnly=\"false\" \n            driverClassName=\"com.mysql.jdbc.Driver\" \n            factory=\"org.apache.tomcat.jdbc.pool.DataSourceFactory\" \n            initialSize=\"0\" \n            jdbcInterceptors=\"org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer\" \n            jmxEnabled=\"true\" \n            logAbandoned=\"true\" \n            maxActive=\"300\" maxIdle=\"50\"\n            maxWait=\"10000\" \n            minEvictableIdleTimeMillis=\"300000\"\n            minIdle=\"30\" \n            name=\"jdbc/test\"\n            password=\"test\" \n            removeAbandoned=\"true\"\n            removeAbandonedTimeout=\"60\" \n            testOnBorrow=\"true\"\n            testOnReturn=\"false\" \n            testWhileIdle=\"true\" \n            timeBetweenEvictionRunsMillis=\"30000\"\n            type=\"javax.sql.DataSource\" \n            url=\"jdbc:mysql://localhost:3306/database?noAccessToProcedureBodies=true\" \n            username=\"root\"\n            validationInterval=\"30000\" \n            validationQuery=\"SELECT 1\"/&gt;\n&lt;/Context&gt;\n</code></pre>\n\n<p><strong>my java scheduler</strong></p>\n\n<pre><code>public class Scheduler extends HttpServlet{\n\npublic void init() throws ServletException\n{\n    System.out.println(\"init success\");\n    try{\n        Scheduling_test test = new Scheduling_test();\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(100);\n        ScheduledFuture future = executor.scheduleWithFixedDelay(test, 1, 60 ,TimeUnit.SECONDS);\n    }catch(Exception e){\n         e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Schedule_test</strong></p>\n\n<pre><code>    public class Scheduling_test extends Thread implements Runnable{\n    public void run(){\n        Updating updating = new Updating();\n        updating.run();\n    }\n}\n</code></pre>\n\n<p><strong>updating</strong></p>\n\n<pre><code>public class Updating{\n\n        public void run(){\n            ResultSet rs = null;\n            PreparedStatement  p = null;\n            StringBuilder sb = new StringBuilder();\n            Pool pool = new Pool();\n            Connection con = null; \n            DataSource datasource = null;\n            try{\n                datasource = pool.main();\n                con=datasource.getConnection();\n                sb.append(\"SELECT * FROM database\");\n                p = con.prepareStatement(sb.toString());\n                rs = p.executeQuery();\n                rs.close();\n                con.close();\n                p.close();\n                datasource.close();\n                System.out.println(\"success\");\n         }catch (Exception e){\n                e.printStackTrace();\n         }\n    }\n</code></pre>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":1580087,"reputation":8933,"user_id":1465623,"accept_rate":84,"display_name":"Rahul Agrawal"},"score":0,"creation_date":1340862436,"post_id":11238593,"comment_id":14773187,"body_markdown":"It calls oos.writeObject(testBean); and not testBean.writeObject();","body":"It calls oos.writeObject(testBean); and not testBean.writeObject();"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1340869708,"post_id":11238593,"comment_id":14773188,"body_markdown":"But `oos.writeObject(testBean)` calls `testBean.writeObject()` if it exists. Not an answer.","body":"But <code>oos.writeObject(testBean)</code> calls <code>testBean.writeObject()</code> if it exists. Not an answer."}],"answers":[{"tags":[],"owner":{"account_id":93911,"reputation":5846,"user_id":256717,"accept_rate":80,"display_name":"Fakrudeen"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1340862346,"creation_date":1340862346,"answer_id":11238687,"question_id":11238593,"body_markdown":"It uses reflection. private and public are not security measures. That is only a contract for class users.","title":"How private writeObject method of Serializable object called by object of ObjectOutputStream","body":"<p>It uses reflection. private and public are not security measures. That is only a contract for class users.</p>\n"},{"tags":[],"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662034806,"creation_date":1340862913,"answer_id":11238777,"question_id":11238593,"body_markdown":" \r\n\r\n&gt; The virtual machine will automatically check to see if either method\r\n&gt; is declared  during the corresponding method call. The virtual machine\r\n&gt; can call private methods of your class whenever it wants but no other\r\n&gt; objects can. Thus, the integrity of the class is maintained and the\r\n&gt; serialization protocol can continue to work as normal. The\r\n&gt; serialization protocol is always used the same way, by calling either\r\n&gt; ObjectOutputStream.writeObject() or ObjectInputStream.readObject().\r\n&gt; So, even though those specialized private methods are provided, the\r\n&gt; object serialization works the same way as far as any calling object\r\n&gt; is concerned.\r\n\r\nYou will get more about from this article:\r\n\r\n[Discover the secrets of the Java Serialization API][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/serializationapi.html","title":"How private writeObject method of Serializable object called by object of ObjectOutputStream","body":"<blockquote>\n<p>The virtual machine will automatically check to see if either method\nis declared  during the corresponding method call. The virtual machine\ncan call private methods of your class whenever it wants but no other\nobjects can. Thus, the integrity of the class is maintained and the\nserialization protocol can continue to work as normal. The\nserialization protocol is always used the same way, by calling either\nObjectOutputStream.writeObject() or ObjectInputStream.readObject().\nSo, even though those specialized private methods are provided, the\nobject serialization works the same way as far as any calling object\nis concerned.</p>\n</blockquote>\n<p>You will get more about from this article:</p>\n<p><a href=\"https://www.oracle.com/technical-resources/articles/java/serializationapi.html\" rel=\"nofollow noreferrer\">Discover the secrets of the Java Serialization API</a></p>\n"},{"tags":[],"owner":{"account_id":1142360,"reputation":1202,"user_id":1125891,"accept_rate":38,"display_name":"Syam"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1340864776,"creation_date":1340864776,"answer_id":11239119,"question_id":11238593,"body_markdown":"If your serializable object has any writeObject method, it will be called otherwise the defaultWriteObject method will be called. \r\n\r\nThe private method calling is possible using the reflection. If you see the source code of ObjectOutputStream Class in that method writeSerialData, the code below answers your question.\r\n\r\n\r\n    if (slotDesc.hasWriteObjectMethod()) {\r\n     // through reflection it will call the Serializable objects writeObject method\r\n    } else {\r\n    // the below is the same method called by defaultWriteObject method also.\r\n    writeSerialData(obj, desc);\r\n    }\r\n\r\n","title":"How private writeObject method of Serializable object called by object of ObjectOutputStream","body":"<p>If your serializable object has any writeObject method, it will be called otherwise the defaultWriteObject method will be called. </p>\n\n<p>The private method calling is possible using the reflection. If you see the source code of ObjectOutputStream Class in that method writeSerialData, the code below answers your question.</p>\n\n<pre><code>if (slotDesc.hasWriteObjectMethod()) {\n // through reflection it will call the Serializable objects writeObject method\n} else {\n// the below is the same method called by defaultWriteObject method also.\nwriteSerialData(obj, desc);\n}\n</code></pre>\n"}],"owner":{"account_id":109692,"reputation":3195,"user_id":290535,"accept_rate":66,"display_name":"chetan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4652,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11239119,"answer_count":3,"score":2,"last_activity_date":1662034806,"creation_date":1340861748,"question_id":11238593,"body_markdown":"When i run this demo it&#39;s call TestBean&#39;s `writeObject` method which is private \r\n\r\nHow is it possible ?\r\n\r\n\r\nHere is the Code:\r\n\r\n\timport java.io.FileOutputStream;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\ttry {\r\n\t\t\t\tTestBean testBean = test.new TestBean();\r\n\r\n\t\t\t\ttestBean.setSize(23);\r\n\t\t\t\ttestBean.setWidth(167);\r\n\r\n\t\t\t\tFileOutputStream fos =\r\n\t\t\t\t\tnew FileOutputStream(new File(&quot;d:\\\\serial.txt&quot;));\r\n\t\t\t\tObjectOutputStream oos = new ObjectOutputStream(fos);\r\n\t\t\t\toos.writeObject(testBean);\r\n\r\n\t\t\t\toos.close();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass TestBean implements Serializable {\r\n\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\tprivate int size;\r\n\t\t\tprivate int width;\r\n\r\n\t\t\tpublic int getSize() {\r\n\t\t\t\treturn size;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setSize(int size) {\r\n\t\t\t\tthis.size = size;\r\n\t\t\t}\r\n\r\n\t\t\tpublic int getWidth() {\r\n\t\t\t\treturn width;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setWidth(int width) {\r\n\t\t\t\tthis.width = width;\r\n\t\t\t}\r\n\r\n\t\t\tprivate void writeObject(ObjectOutputStream out) throws IOException {\r\n\t\t\t\tSystem.out.println(&quot;TestBean writeObject&quot;);\r\n\t\t\t\tout.defaultWriteObject();\r\n\t\t\t}\r\n\r\n\t\t\tprivate void readObject(ObjectInputStream input) throws IOException,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tClassNotFoundException {\r\n\t\t\t\tSystem.out.println(&quot;TestBean readObject ===================&gt; &quot;);\r\n\t\t\t\tinput.defaultReadObject();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"How private writeObject method of Serializable object called by object of ObjectOutputStream","body":"<p>When i run this demo it's call TestBean's <code>writeObject</code> method which is private </p>\n\n<p>How is it possible ?</p>\n\n<p>Here is the Code:</p>\n\n<pre><code>import java.io.FileOutputStream;\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        try {\n            TestBean testBean = test.new TestBean();\n\n            testBean.setSize(23);\n            testBean.setWidth(167);\n\n            FileOutputStream fos =\n                new FileOutputStream(new File(\"d:\\\\serial.txt\"));\n            ObjectOutputStream oos = new ObjectOutputStream(fos);\n            oos.writeObject(testBean);\n\n            oos.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    class TestBean implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        private int size;\n        private int width;\n\n        public int getSize() {\n            return size;\n        }\n\n        public void setSize(int size) {\n            this.size = size;\n        }\n\n        public int getWidth() {\n            return width;\n        }\n\n        public void setWidth(int width) {\n            this.width = width;\n        }\n\n        private void writeObject(ObjectOutputStream out) throws IOException {\n            System.out.println(\"TestBean writeObject\");\n            out.defaultWriteObject();\n        }\n\n        private void readObject(ObjectInputStream input) throws IOException,\n                                                                ClassNotFoundException {\n            System.out.println(\"TestBean readObject ===================&gt; \");\n            input.defaultReadObject();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","docker","raspberry-pi4","pi4j"],"comments":[{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1662033072,"post_id":73553433,"comment_id":129915341,"body_markdown":"Sorry, no experience myself (yet) with Pi4J in a Docker, but would love to know if this question gets solved! Would be a great addition for pi4j.com documentation... Maybe also a topic to discuss on https://github.com/Pi4J/pi4j-v2/discussions","body":"Sorry, no experience myself (yet) with Pi4J in a Docker, but would love to know if this question gets solved! Would be a great addition for pi4j.com documentation... Maybe also a topic to discuss on <a href=\"https://github.com/Pi4J/pi4j-v2/discussions\" rel=\"nofollow noreferrer\">github.com/Pi4J/pi4j-v2/discussions</a>"},{"owner":{"account_id":15857926,"reputation":46,"user_id":11441846,"display_name":"wutoso"},"score":1,"creation_date":1662034856,"post_id":73553433,"comment_id":129915959,"body_markdown":"Ive got it working. See Update 2. But actually i think its just a workaround.","body":"Ive got it working. See Update 2. But actually i think its just a workaround."},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1662099955,"post_id":73553433,"comment_id":129931914,"body_markdown":"great! seems a nice solution... very curious to understand the use-case for a Docker, but that&#39;s maybe not something to discuss here","body":"great! seems a nice solution... very curious to understand the use-case for a Docker, but that&#39;s maybe not something to discuss here"}],"owner":{"account_id":15857926,"reputation":46,"user_id":11441846,"display_name":"wutoso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662034777,"creation_date":1661936664,"question_id":73553433,"body_markdown":"I try to run Pi4J Library inside a docker container on RaspberryPi Host.\r\nWhen the app is running on RaspberryPi Host, everything is working fine.\r\nBut when its run inside a docker container, the Pi4J native library cant be loaded.\r\n\r\n**pom**\r\n```\r\n    &lt;properties&gt;\r\n        &lt;!-- DEPENDENCIES VERSIONS --&gt;\r\n        &lt;pi4j.version&gt;2.1.1&lt;/pi4j.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- include Pi4J Core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pi4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${pi4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- include Pi4J Plugins (Platforms and I/O Providers) --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pi4j-plugin-raspberrypi&lt;/artifactId&gt;\r\n            &lt;version&gt;${pi4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pi4j-plugin-pigpio&lt;/artifactId&gt;\r\n            &lt;version&gt;${pi4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n**Dockerfile**\r\n```\r\nFROM eclipse-temurin:17-jdk as builder\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} application.jar\r\nRUN java -Djarmode=layertools -jar application.jar extract\r\n\r\nFROM eclipse-temurin:17-jre-focal\r\nCOPY --from=builder dependencies/ ./\r\nCOPY --from=builder snapshot-dependencies/ ./\r\nCOPY --from=builder spring-boot-loader/ ./\r\nCOPY --from=builder application/ ./\r\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n```\r\n\r\n\r\n\r\n\r\n\r\nWhen i run the app without setting the ```pi4j.library.path``` im getting this error.\r\n```\r\njava.lang.UnsatisfiedLinkError: /tmp/libpi4j-pigpio3285308132227026624.so: libpigpio.so.1: \r\n cannot open shared object file: No such file or directory\r\n...\r\nCaused by: java.lang.UnsatisfiedLinkError: Pi4J was unable to extract and load the native library\r\n [/lib/aarch64/libpi4j-pigpio.so] from the embedded resources inside this JAR \r\n [/application/BOOT-INF/lib/pi4j-library-pigpio-2.1.1.jar]. to a temporary location on this\r\n system.  You can alternatively define the &#39;pi4j.library.path&#39; system property to override this\r\n behavior and specify the library path.\r\n```\r\n***/tmp*** folder has permission 777\r\n\r\n\r\nWhen im setting the ```pi4j.library.path``` and add the volume to the docker container.\r\n```\r\nCaused by: java.lang.UnsatisfiedLinkError: /app/data/pi4j/libpi4j-pigpio.so: libpigpio.so.1: \r\n cannot open shared object file: No such file or directory\r\n```\r\n\r\n\r\nIf anyone got experience with Pi4j and Docker, please help me - THANKS :)\r\n\r\n\r\n\r\n\r\n\r\n***UPDATE 1 - 2022-09-01***\r\n\r\nProblem seems to be, that java cant load native libraries inside the docker container with ```System.load()``` function.\r\n\r\n\r\n**Host**\r\n```\r\nldd libpi4j-pigpio.so\r\n\tlinux-vdso.so.1 (0x0000007f8460d000)\r\n\tlibpigpio.so.1 =&gt; /lib/libpigpio.so.1 (0x0000007f844ca000)\r\n\tlibc.so.6 =&gt; /lib/aarch64-linux-gnu/libc.so.6 (0x0000007f84358000)\r\n\t/lib/ld-linux-aarch64.so.1 (0x0000007f845df000)\r\n\tlibpthread.so.0 =&gt; /lib/aarch64-linux-gnu/libpthread.so.0 (0x0000007f843\r\n```\r\n***inside Docker***\r\n```\r\nldd libpi4j-pigpio.so\r\n\tlinux-vdso.so.1 (0x0000007fb06ac000)\r\n\tlibpigpio.so.1 =&gt; not found\r\n\tlibc.so.6 =&gt; /lib/aarch64-linux-gnu/libc.so.6 (0x0000007fb04f0000)\r\n\t/lib/ld-linux-aarch64.so.1 (0x0000007fb067c000)\r\n```\r\n\r\n***UPDATE 2 - 2022-09-01***\r\n\r\nThe Problem is quite easy, the library **libpigpio.so.1** is missing inside the container. \r\nCurrently i do not know how to install it.\r\nFor now my workaround/solution is to mount the missing lib to the docker. container.\r\n```\r\n    volumes:\r\n      - type: bind\r\n        source: /lib/libpigpio.so.1\r\n        target: /lib/libpigpio.so.1\r\n        read_only: true\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Running Pi4J inside docker container on RaspberryPi","body":"<p>I try to run Pi4J Library inside a docker container on RaspberryPi Host.\nWhen the app is running on RaspberryPi Host, everything is working fine.\nBut when its run inside a docker container, the Pi4J native library cant be loaded.</p>\n<p><strong>pom</strong></p>\n<pre><code>    &lt;properties&gt;\n        &lt;!-- DEPENDENCIES VERSIONS --&gt;\n        &lt;pi4j.version&gt;2.1.1&lt;/pi4j.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- include Pi4J Core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\n            &lt;artifactId&gt;pi4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${pi4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- include Pi4J Plugins (Platforms and I/O Providers) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\n            &lt;artifactId&gt;pi4j-plugin-raspberrypi&lt;/artifactId&gt;\n            &lt;version&gt;${pi4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\n            &lt;artifactId&gt;pi4j-plugin-pigpio&lt;/artifactId&gt;\n            &lt;version&gt;${pi4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><strong>Dockerfile</strong></p>\n<pre><code>FROM eclipse-temurin:17-jdk as builder\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} application.jar\nRUN java -Djarmode=layertools -jar application.jar extract\n\nFROM eclipse-temurin:17-jre-focal\nCOPY --from=builder dependencies/ ./\nCOPY --from=builder snapshot-dependencies/ ./\nCOPY --from=builder spring-boot-loader/ ./\nCOPY --from=builder application/ ./\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n</code></pre>\n<p>When i run the app without setting the <code>pi4j.library.path</code> im getting this error.</p>\n<pre><code>java.lang.UnsatisfiedLinkError: /tmp/libpi4j-pigpio3285308132227026624.so: libpigpio.so.1: \n cannot open shared object file: No such file or directory\n...\nCaused by: java.lang.UnsatisfiedLinkError: Pi4J was unable to extract and load the native library\n [/lib/aarch64/libpi4j-pigpio.so] from the embedded resources inside this JAR \n [/application/BOOT-INF/lib/pi4j-library-pigpio-2.1.1.jar]. to a temporary location on this\n system.  You can alternatively define the 'pi4j.library.path' system property to override this\n behavior and specify the library path.\n</code></pre>\n<p><em><strong>/tmp</strong></em> folder has permission 777</p>\n<p>When im setting the <code>pi4j.library.path</code> and add the volume to the docker container.</p>\n<pre><code>Caused by: java.lang.UnsatisfiedLinkError: /app/data/pi4j/libpi4j-pigpio.so: libpigpio.so.1: \n cannot open shared object file: No such file or directory\n</code></pre>\n<p>If anyone got experience with Pi4j and Docker, please help me - THANKS :)</p>\n<p><em><strong>UPDATE 1 - 2022-09-01</strong></em></p>\n<p>Problem seems to be, that java cant load native libraries inside the docker container with <code>System.load()</code> function.</p>\n<p><strong>Host</strong></p>\n<pre><code>ldd libpi4j-pigpio.so\n    linux-vdso.so.1 (0x0000007f8460d000)\n    libpigpio.so.1 =&gt; /lib/libpigpio.so.1 (0x0000007f844ca000)\n    libc.so.6 =&gt; /lib/aarch64-linux-gnu/libc.so.6 (0x0000007f84358000)\n    /lib/ld-linux-aarch64.so.1 (0x0000007f845df000)\n    libpthread.so.0 =&gt; /lib/aarch64-linux-gnu/libpthread.so.0 (0x0000007f843\n</code></pre>\n<p><em><strong>inside Docker</strong></em></p>\n<pre><code>ldd libpi4j-pigpio.so\n    linux-vdso.so.1 (0x0000007fb06ac000)\n    libpigpio.so.1 =&gt; not found\n    libc.so.6 =&gt; /lib/aarch64-linux-gnu/libc.so.6 (0x0000007fb04f0000)\n    /lib/ld-linux-aarch64.so.1 (0x0000007fb067c000)\n</code></pre>\n<p><em><strong>UPDATE 2 - 2022-09-01</strong></em></p>\n<p>The Problem is quite easy, the library <strong>libpigpio.so.1</strong> is missing inside the container.\nCurrently i do not know how to install it.\nFor now my workaround/solution is to mount the missing lib to the docker. container.</p>\n<pre><code>    volumes:\n      - type: bind\n        source: /lib/libpigpio.so.1\n        target: /lib/libpigpio.so.1\n        read_only: true\n</code></pre>\n"},{"tags":["java","kotlin","quarkus","quarkus-reactive","quarkus-hibernate-reactive"],"owner":{"account_id":26216408,"reputation":21,"user_id":19894481,"display_name":"Xartokoptis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662034598,"creation_date":1662025211,"question_id":73567245,"body_markdown":"I&#39;m currently working on a scheduler to change the status(Enum) in my base every 15 seconds using @ReactiveTransactional and throws &quot;Session is closed&quot; and then it runs my code for just one time. I tried it with just @Transactinal too (although it&#39;s not the right method) and it seems to be working until it reaches the fourth loop. Personally i think this could be an annotiation problem, because @ReactiveTransactional is supposed to handle the sessions by its own(I&#39;m new to quarkus so if i&#39;m wrong i&#39;d love you to correct me ). Please take a look &lt;3 .\r\n\r\n```Kotlin \r\n\r\n@ApplicationScoped\r\n@ActivateRequestContext\r\nclass EmployeeStatusChangeScheduler(\r\n    private val repository: EmployeeRepository ) {\r\n\r\n    var currentStatus: Status = Status.WORKING\r\n    var changedStatus: Status = Status.NOT_WORKING\r\n\r\n    @ReactiveTransactional\r\n    @Scheduled(every = &quot;10s&quot;)\r\n    fun changeStatus(): Uni&lt;Void&gt; {\r\n        currentStatus = if (currentStatus == Status.WORKING) Status.NOT_WORKING else Status.WORKING //working\r\n        changedStatus = if (changedStatus == Status.WORKING) Status.NOT_WORKING else Status.WORKING //not-working\r\n        return repository.update(&quot;status=?1 where status=?2&quot;, changedStatus, currentStatus)\r\n            .onItem()\r\n            .invoke { it -&gt;\r\n                if (it != 0) Log.info(&quot;[***] Status changed to [$changedStatus] for $it Employees&quot;)\r\n                else Log.info(&quot;[---] There was no change in Employees for status...Please take a look&quot;)\r\n            }\r\n            .onItem()\r\n            .ignore()\r\n            .andSwitchTo(Uni.createFrom().voidItem())\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**The stack Trace(big one)** \r\n\r\n```\r\njava.lang.IllegalStateException: HR000060: Session is closed\r\n        at org.hibernate.reactive.pool.impl.ProxyConnection.withConnection(ProxyConnection.java:51)\r\n        at org.hibernate.reactive.pool.impl.ProxyConnection.commitTransaction(ProxyConnection.java:149)\r\n        at org.hibernate.reactive.pool.BatchingConnection.commitTransaction(BatchingConnection.java:194)\r\n        at org.hibernate.reactive.mutiny.impl.MutinySessionImpl$Transaction.commit(MutinySessionImpl.java:471)\r\n        at org.hibernate.reactive.mutiny.impl.MutinySessionImpl$Transaction.lambda$executeInTransaction$2(MutinySessionImpl.java:454)\r\n        at io.smallrye.context.impl.wrappers.SlowContextualSupplier.get(SlowContextualSupplier.java:21)\r\n        at io.smallrye.mutiny.groups.UniOnItem.lambda$call$3(UniOnItem.java:99)\r\n        at io.smallrye.context.impl.wrappers.SlowContextualFunction.apply(SlowContextualFunction.java:21)\r\n        at io.smallrye.mutiny.groups.UniOnItem.lambda$call$2(UniOnItem.java:79)\r\n        at io.smallrye.context.impl.wrappers.SlowContextualFunction.apply(SlowContextualFunction.java:21)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.performInnerSubscription(UniOnItemTransformToUni.java:68)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:57)\r\n        at io.smallrye.mutiny.operators.uni.UniOnCancellationCall$UniOnCancellationCallProcessor.onItem(UniOnCancellationCall.java:52)\r\n        at io.smallrye.mutiny.operators.uni.UniOperatorProcessor.onItem(UniOperatorProcessor.java:46)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:60)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransform$UniOnItemTransformProcessor.onItem(UniOnItemTransform.java:43)\r\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage$CompletionStageUniSubscription.forwardResult(UniCreateFromCompletionStage.java:63)\r\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)\r\n        at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)\r\n        at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:143)\r\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage$CompletionStageUniSubscription.forward(UniCreateFromCompletionStage.java:51)\r\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage.subscribe(UniCreateFromCompletionStage.java:35)\r\n        at io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransform.subscribe(UniOnItemTransform.java:22)\r\n        at io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.performInnerSubscription(UniOnItemTransformToUni.java:81)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:57)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:60)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransform$UniOnItemTransformProcessor.onItem(UniOnItemTransform.java:43)\r\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage$CompletionStageUniSubscription.forwardResult(UniCreateFromCompletionStage.java:63)\r\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)\r\n        at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)\r\n        at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:143)\r\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage$CompletionStageUniSubscription.forward(UniCreateFromCompletionStage.java:51)\r\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage.subscribe(UniCreateFromCompletionStage.java:35)\r\n        at io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransform.subscribe(UniOnItemTransform.java:22)\r\n        at io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.performInnerSubscription(UniOnItemTransformToUni.java:81)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:57)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:60)\r\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromKnownItem$KnownItemSubscription.forward(UniCreateFromKnownItem.java:38)\r\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromKnownItem$KnownItemSubscription.access$100(UniCreateFromKnownItem.java:26)\r\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromKnownItem.subscribe(UniCreateFromKnownItem.java:23)\r\n        at io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.performInnerSubscription(UniOnItemTransformToUni.java:81)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:57)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemConsume$UniOnItemComsumeProcessor.onItem(UniOnItemConsume.java:43)\r\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:60)\r\n        at io.smallrye.mutiny.operators.uni.UniOperatorProcessor.onItem(UniOperatorProcessor.java:46)\r\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage$CompletionStageUniSubscription.forwardResult(UniCreateFromCompletionStage.java:63)\r\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n        at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\r\n        at org.hibernate.reactive.util.async.impl.AsyncTrampoline$TrampolineInternal.unroll(AsyncTrampoline.java:131)\r\n        at org.hibernate.reactive.util.async.impl.AsyncTrampoline$TrampolineInternal.lambda$unroll$0(AsyncTrampoline.java:126)\r\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n        at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\r\n        at org.hibernate.reactive.util.async.impl.AsyncTrampoline$TrampolineInternal.unroll(AsyncTrampoline.java:131)\r\n        at org.hibernate.reactive.util.async.impl.AsyncTrampoline$TrampolineInternal.lambda$unroll$0(AsyncTrampoline.java:126)\r\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n        at java.base/java.util.concurrent.Completabl.complete(CompletableFuture.java:2073)\r\n        at io.vertx.core.Future.lambda$toCompletionStage$2(Future.java:360)\r\n        at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\r\n        at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60)\r\n        at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211)\r\n        at io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23)\r\n        at io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:102)\r\n        at io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:35)\r\n        at io.vertx.core.Promise.complete(Promise.java:66)\r\n        at io.vertx.core.Promise.handle(Promise.java:51)\r\n        at io.vertx.core.Promise.handle(Promise.java:29)\r\n        at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\r\n        at io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\r\n        at io.vertx.core.impl.EventLoopContext.execute(EventLoopContext.java:86)\r\n        at io.vertx.core.impl.DuplicatedContext.execute(DuplicatedContext.java:163)\r\n        at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:51)\r\n        at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211)\r\n        at io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23)\r\n        at io.vertx.core.impl.future.PromiseImpl.onSuccess(PromiseImpl.java:49)\r\n        at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:41)\r\n        at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:23)\r\n        at io.vertx.sqlclient.impl.command.CommandResponse.fire(CommandResponse.java:46)\r\n        at io.vertx.sqlclient.impl.SocketConnectionBase.handleMessage(SocketConnectionBase.java:287)\r\n        at io.vertx.pgclient.impl.PgSocketConnection.handleMessage(PgSocketConnection.java:97)\r\n        at io.vertx.sqlclient.impl.SocketConnectionBase.lambda$init$0(SocketConnectionBase.java:100)\r\n        at io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\r\n        at io.vertx.core.impl.ContextBase.emit(ContextBase.java:239)\r\n        at io.vertx.core.net.impl.NetSocketImpl.handleMessage(NetSocketImpl.java:394)\r\n        at io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:155)\r\n        at io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:153)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n        at io.vertx.pgclient.impl.codec.PgEncoder.lambda$write$0(PgEncoder.java:98)\r\n        at io.vertx.pgclient.impl.codec.PgCommandCodec.handleReadyForQuery(PgCommandCodec.java:139)\r\n        at io.vertx.pgclient.impl.codec.PgDecoder.decodeReadyForQuery(PgDecoder.java:237)\r\n        at io.vertx.pgclient.impl.codec.PgDecoder.channelRead(PgDecoder.java:96)\r\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```","title":"Hibernate Reactive : Session is closed and times out in scheduler","body":"<p>I'm currently working on a scheduler to change the status(Enum) in my base every 15 seconds using @ReactiveTransactional and throws &quot;Session is closed&quot; and then it runs my code for just one time. I tried it with just @Transactinal too (although it's not the right method) and it seems to be working until it reaches the fourth loop. Personally i think this could be an annotiation problem, because @ReactiveTransactional is supposed to handle the sessions by its own(I'm new to quarkus so if i'm wrong i'd love you to correct me ). Please take a look &lt;3 .</p>\n<pre><code>\n@ApplicationScoped\n@ActivateRequestContext\nclass EmployeeStatusChangeScheduler(\n    private val repository: EmployeeRepository ) {\n\n    var currentStatus: Status = Status.WORKING\n    var changedStatus: Status = Status.NOT_WORKING\n\n    @ReactiveTransactional\n    @Scheduled(every = &quot;10s&quot;)\n    fun changeStatus(): Uni&lt;Void&gt; {\n        currentStatus = if (currentStatus == Status.WORKING) Status.NOT_WORKING else Status.WORKING //working\n        changedStatus = if (changedStatus == Status.WORKING) Status.NOT_WORKING else Status.WORKING //not-working\n        return repository.update(&quot;status=?1 where status=?2&quot;, changedStatus, currentStatus)\n            .onItem()\n            .invoke { it -&gt;\n                if (it != 0) Log.info(&quot;[***] Status changed to [$changedStatus] for $it Employees&quot;)\n                else Log.info(&quot;[---] There was no change in Employees for status...Please take a look&quot;)\n            }\n            .onItem()\n            .ignore()\n            .andSwitchTo(Uni.createFrom().voidItem())\n    }\n\n}\n\n</code></pre>\n<p><strong>The stack Trace(big one)</strong></p>\n<pre><code>java.lang.IllegalStateException: HR000060: Session is closed\n        at org.hibernate.reactive.pool.impl.ProxyConnection.withConnection(ProxyConnection.java:51)\n        at org.hibernate.reactive.pool.impl.ProxyConnection.commitTransaction(ProxyConnection.java:149)\n        at org.hibernate.reactive.pool.BatchingConnection.commitTransaction(BatchingConnection.java:194)\n        at org.hibernate.reactive.mutiny.impl.MutinySessionImpl$Transaction.commit(MutinySessionImpl.java:471)\n        at org.hibernate.reactive.mutiny.impl.MutinySessionImpl$Transaction.lambda$executeInTransaction$2(MutinySessionImpl.java:454)\n        at io.smallrye.context.impl.wrappers.SlowContextualSupplier.get(SlowContextualSupplier.java:21)\n        at io.smallrye.mutiny.groups.UniOnItem.lambda$call$3(UniOnItem.java:99)\n        at io.smallrye.context.impl.wrappers.SlowContextualFunction.apply(SlowContextualFunction.java:21)\n        at io.smallrye.mutiny.groups.UniOnItem.lambda$call$2(UniOnItem.java:79)\n        at io.smallrye.context.impl.wrappers.SlowContextualFunction.apply(SlowContextualFunction.java:21)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.performInnerSubscription(UniOnItemTransformToUni.java:68)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:57)\n        at io.smallrye.mutiny.operators.uni.UniOnCancellationCall$UniOnCancellationCallProcessor.onItem(UniOnCancellationCall.java:52)\n        at io.smallrye.mutiny.operators.uni.UniOperatorProcessor.onItem(UniOperatorProcessor.java:46)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:60)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransform$UniOnItemTransformProcessor.onItem(UniOnItemTransform.java:43)\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage$CompletionStageUniSubscription.forwardResult(UniCreateFromCompletionStage.java:63)\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)\n        at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)\n        at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:143)\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage$CompletionStageUniSubscription.forward(UniCreateFromCompletionStage.java:51)\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage.subscribe(UniCreateFromCompletionStage.java:35)\n        at io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransform.subscribe(UniOnItemTransform.java:22)\n        at io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.performInnerSubscription(UniOnItemTransformToUni.java:81)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:57)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:60)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransform$UniOnItemTransformProcessor.onItem(UniOnItemTransform.java:43)\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage$CompletionStageUniSubscription.forwardResult(UniCreateFromCompletionStage.java:63)\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)\n        at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)\n        at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:143)\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage$CompletionStageUniSubscription.forward(UniCreateFromCompletionStage.java:51)\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage.subscribe(UniCreateFromCompletionStage.java:35)\n        at io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransform.subscribe(UniOnItemTransform.java:22)\n        at io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.performInnerSubscription(UniOnItemTransformToUni.java:81)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:57)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:60)\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromKnownItem$KnownItemSubscription.forward(UniCreateFromKnownItem.java:38)\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromKnownItem$KnownItemSubscription.access$100(UniCreateFromKnownItem.java:26)\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromKnownItem.subscribe(UniCreateFromKnownItem.java:23)\n        at io.smallrye.mutiny.operators.AbstractUni.subscribe(AbstractUni.java:36)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.performInnerSubscription(UniOnItemTransformToUni.java:81)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:57)\n        at io.smallrye.mutiny.operators.uni.UniOnItemConsume$UniOnItemComsumeProcessor.onItem(UniOnItemConsume.java:43)\n        at io.smallrye.mutiny.operators.uni.UniOnItemTransformToUni$UniOnItemTransformToUniProcessor.onItem(UniOnItemTransformToUni.java:60)\n        at io.smallrye.mutiny.operators.uni.UniOperatorProcessor.onItem(UniOperatorProcessor.java:46)\n        at io.smallrye.mutiny.operators.uni.builders.UniCreateFromCompletionStage$CompletionStageUniSubscription.forwardResult(UniCreateFromCompletionStage.java:63)\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n        at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n        at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\n        at org.hibernate.reactive.util.async.impl.AsyncTrampoline$TrampolineInternal.unroll(AsyncTrampoline.java:131)\n        at org.hibernate.reactive.util.async.impl.AsyncTrampoline$TrampolineInternal.lambda$unroll$0(AsyncTrampoline.java:126)\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n        at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n        at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\n        at org.hibernate.reactive.util.async.impl.AsyncTrampoline$TrampolineInternal.unroll(AsyncTrampoline.java:131)\n        at org.hibernate.reactive.util.async.impl.AsyncTrampoline$TrampolineInternal.lambda$unroll$0(AsyncTrampoline.java:126)\n        at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n        at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n        at java.base/java.util.concurrent.Completabl.complete(CompletableFuture.java:2073)\n        at io.vertx.core.Future.lambda$toCompletionStage$2(Future.java:360)\n        at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\n        at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:60)\n        at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211)\n        at io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23)\n        at io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:102)\n        at io.vertx.sqlclient.impl.QueryResultBuilder.tryComplete(QueryResultBuilder.java:35)\n        at io.vertx.core.Promise.complete(Promise.java:66)\n        at io.vertx.core.Promise.handle(Promise.java:51)\n        at io.vertx.core.Promise.handle(Promise.java:29)\n        at io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\n        at io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\n        at io.vertx.core.impl.EventLoopContext.execute(EventLoopContext.java:86)\n        at io.vertx.core.impl.DuplicatedContext.execute(DuplicatedContext.java:163)\n        at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:51)\n        at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:211)\n        at io.vertx.core.impl.future.PromiseImpl.tryComplete(PromiseImpl.java:23)\n        at io.vertx.core.impl.future.PromiseImpl.onSuccess(PromiseImpl.java:49)\n        at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:41)\n        at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:23)\n        at io.vertx.sqlclient.impl.command.CommandResponse.fire(CommandResponse.java:46)\n        at io.vertx.sqlclient.impl.SocketConnectionBase.handleMessage(SocketConnectionBase.java:287)\n        at io.vertx.pgclient.impl.PgSocketConnection.handleMessage(PgSocketConnection.java:97)\n        at io.vertx.sqlclient.impl.SocketConnectionBase.lambda$init$0(SocketConnectionBase.java:100)\n        at io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\n        at io.vertx.core.impl.ContextBase.emit(ContextBase.java:239)\n        at io.vertx.core.net.impl.NetSocketImpl.handleMessage(NetSocketImpl.java:394)\n        at io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:155)\n        at io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:153)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n        at io.vertx.pgclient.impl.codec.PgEncoder.lambda$write$0(PgEncoder.java:98)\n        at io.vertx.pgclient.impl.codec.PgCommandCodec.handleReadyForQuery(PgCommandCodec.java:139)\n        at io.vertx.pgclient.impl.codec.PgDecoder.decodeReadyForQuery(PgDecoder.java:237)\n        at io.vertx.pgclient.impl.codec.PgDecoder.channelRead(PgDecoder.java:96)\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","transactions","ejb","cdi","jta"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":5,"creation_date":1451322499,"post_id":34497253,"comment_id":56736891,"body_markdown":"With EJBs (or Spring), you&#39;ll have something much simpler, safer and reusable than what you desire. No need to start, commit and rolllback transaction by code. If a runtime exception is thrown from a transactional method, the transaction will be rollbacked automatically.","body":"With EJBs (or Spring), you&#39;ll have something much simpler, safer and reusable than what you desire. No need to start, commit and rolllback transaction by code. If a runtime exception is thrown from a transactional method, the transaction will be rollbacked automatically."},{"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"score":0,"creation_date":1451331005,"post_id":34497253,"comment_id":56740561,"body_markdown":"Yes but I&#39;m looking for a way to implement transactional logic. Can I just add `@Transactional` on a function that calls multiple DAO methods and have it reroll all database changes on a runtime exception? As an example, I have a method that creates an object, then writes information on 2 different tables (3 DAO methods total). If the 3rd method throws a runtime exception I want to rollback everything, even the object creation.","body":"Yes but I&#39;m looking for a way to implement transactional logic. Can I just add <code>@Transactional</code> on a function that calls multiple DAO methods and have it reroll all database changes on a runtime exception? As an example, I have a method that creates an object, then writes information on 2 different tables (3 DAO methods total). If the 3rd method throws a runtime exception I want to rollback everything, even the object creation."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1451332117,"post_id":34497253,"comment_id":56741038,"body_markdown":"Yes, that&#39;s exactly what EJBs and Spring transactional methods do.","body":"Yes, that&#39;s exactly what EJBs and Spring transactional methods do."},{"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"score":0,"creation_date":1451332672,"post_id":34497253,"comment_id":56741297,"body_markdown":"Ok thanks i&#39;ll check it out","body":"Ok thanks i&#39;ll check it out"},{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":0,"creation_date":1451552169,"post_id":34497253,"comment_id":56829047,"body_markdown":"@Konstantine JBNizet answer was correct, but ... do you really need to migrate to the EJBs? Even transactions are not much intuitive there: wrapping your exception into `javax.ejb.EJBException` isn&#39;t neither flexible nor readable. Not to mention other problems, like startup time or integration testing.","body":"@Konstantine JBNizet answer was correct, but ... do you really need to migrate to the EJBs? Even transactions are not much intuitive there: wrapping your exception into <code>javax.ejb.EJBException</code> isn&#39;t neither flexible nor readable. Not to mention other problems, like startup time or integration testing."},{"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"score":0,"creation_date":1451552461,"post_id":34497253,"comment_id":56829162,"body_markdown":"@G.Demecki I don&#39;t know if migrating to EJBs is the best path to take. Do you have an alternative? I still need to be able to execute a bunch of self contained functions from an external library inside a single transaction without them sharing the connection object.","body":"@G.Demecki I don&#39;t know if migrating to EJBs is the best path to take. Do you have an alternative? I still need to be able to execute a bunch of self contained functions from an external library inside a single transaction without them sharing the connection object."}],"answers":[{"tags":[],"owner":{"account_id":7462577,"reputation":463,"user_id":5673438,"display_name":"DaveTheRave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451323127,"creation_date":1451323127,"answer_id":34497816,"question_id":34497253,"body_markdown":"What i have done in the past is to create a Repository Object that takes the Database API and generates a connection and saves the connection as a member variable to it. (along with the database reference as well)\r\n\r\nI then hang all the Business Layer calls as methods from this Repository Object for convenience to the caller.  \r\n\r\nThis way.. you can call, mix, match any calls and use the underlying connection, perform rollback, commits.. etc.\r\n\r\n    Repository myr = new Repository(datasource);  // let constructor create connection\r\n    myr.setAutoCommit(false); \r\n    myr.DAOObject1(parms);   // method wrapper\r\n    myr.DAOObject2(parms);   // method wrapper\r\n    \r\n    myr.commitwork();   // method in Repository that calles endAndCommitTransactionLogic \r\n\r\n\r\nWe then took this new object, and created a pool of them primed, and managed in a new thread, and the Application just requested a new &quot;Repository&quot; from the pool.. and off we went. \r\n ","title":"How to call multiple DAO functions in a transaction","body":"<p>What i have done in the past is to create a Repository Object that takes the Database API and generates a connection and saves the connection as a member variable to it. (along with the database reference as well)</p>\n\n<p>I then hang all the Business Layer calls as methods from this Repository Object for convenience to the caller.  </p>\n\n<p>This way.. you can call, mix, match any calls and use the underlying connection, perform rollback, commits.. etc.</p>\n\n<pre><code>Repository myr = new Repository(datasource);  // let constructor create connection\nmyr.setAutoCommit(false); \nmyr.DAOObject1(parms);   // method wrapper\nmyr.DAOObject2(parms);   // method wrapper\n\nmyr.commitwork();   // method in Repository that calles endAndCommitTransactionLogic \n</code></pre>\n\n<p>We then took this new object, and created a pool of them primed, and managed in a new thread, and the Application just requested a new \"Repository\" from the pool.. and off we went. </p>\n"},{"tags":[],"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451896360,"creation_date":1451554393,"answer_id":34544215,"question_id":34497253,"body_markdown":"@JBNizet comment was correct, but ... please think twice whether you really need to migrate to the EJBs. Even transactions are not much intuitive there: wrapping your exception into `javax.ejb.EJBException` isn&#39;t neither flexible nor readable. Not to mention other problems, like *startup time* or *integration testing*.\r\n\r\nJudging from your question, it seems that all you need is a **Dependency Injection** framework with support for the **Interceptors**. So possible ways to go:\r\n\r\n * `Spring` is definitely the most popular in this area\r\n * `CDI` (Weld or OpenWebBeans) which came since Java EE 6 release - but can used totally without Java EE Application Server *(I&#39;m using this approach right now - and it works nicely)*.\r\n * `Guice` also comes with its own `com.google.inject.persist.Transactional` annotation.\r\n\r\nAll three above frameworks are equally good for your use case, but there are other factors that should be considered, like: \r\n\r\n - which one you &amp; your team is familiar with\r\n - learning curve\r\n - your application&#39;s future possible needs\r\n - framework&#39;s community size\r\n - framework&#39;s current development speed\r\n - etc.\r\n\r\nHope it helps you a little bit.\r\n\r\n**EDIT**: to clarify your doubts:  \r\nYou can create your own `Transaction` class, which would wrap a `Connection` fetched from the `datasource.getConnection()`. Such transaction should be a `@RequestScoped` CDI bean and contain method methods like `begin()`, `commit()`, and `rollback()` - which would call *connection.commit/ rollback* under the hood. Then you can write a simple interceptor like [this one][1] which would use  mentioned transaction and start/ commit/ rollback it wherever needed (of course with `AutoCommit` disabled).\r\n\r\nIt is doable, but keep in mind, that it should be **carefully designed**. That is why interceptors for transactions have been already provided in almost every DI platform/ framework.\r\n\r\n\r\n  [1]: https://github.com/matzew/hbase-jpa-jsf/blob/master/src/main/java/net/wessendorf/cdi/transactional/TransactionalInterceptor.java","title":"How to call multiple DAO functions in a transaction","body":"<p>@JBNizet comment was correct, but ... please think twice whether you really need to migrate to the EJBs. Even transactions are not much intuitive there: wrapping your exception into <code>javax.ejb.EJBException</code> isn't neither flexible nor readable. Not to mention other problems, like <em>startup time</em> or <em>integration testing</em>.</p>\n\n<p>Judging from your question, it seems that all you need is a <strong>Dependency Injection</strong> framework with support for the <strong>Interceptors</strong>. So possible ways to go:</p>\n\n<ul>\n<li><code>Spring</code> is definitely the most popular in this area</li>\n<li><code>CDI</code> (Weld or OpenWebBeans) which came since Java EE 6 release - but can used totally without Java EE Application Server <em>(I'm using this approach right now - and it works nicely)</em>.</li>\n<li><code>Guice</code> also comes with its own <code>com.google.inject.persist.Transactional</code> annotation.</li>\n</ul>\n\n<p>All three above frameworks are equally good for your use case, but there are other factors that should be considered, like: </p>\n\n<ul>\n<li>which one you &amp; your team is familiar with</li>\n<li>learning curve</li>\n<li>your application's future possible needs</li>\n<li>framework's community size</li>\n<li>framework's current development speed</li>\n<li>etc.</li>\n</ul>\n\n<p>Hope it helps you a little bit.</p>\n\n<p><strong>EDIT</strong>: to clarify your doubts:<br>\nYou can create your own <code>Transaction</code> class, which would wrap a <code>Connection</code> fetched from the <code>datasource.getConnection()</code>. Such transaction should be a <code>@RequestScoped</code> CDI bean and contain method methods like <code>begin()</code>, <code>commit()</code>, and <code>rollback()</code> - which would call <em>connection.commit/ rollback</em> under the hood. Then you can write a simple interceptor like <a href=\"https://github.com/matzew/hbase-jpa-jsf/blob/master/src/main/java/net/wessendorf/cdi/transactional/TransactionalInterceptor.java\" rel=\"nofollow\">this one</a> which would use  mentioned transaction and start/ commit/ rollback it wherever needed (of course with <code>AutoCommit</code> disabled).</p>\n\n<p>It is doable, but keep in mind, that it should be <strong>carefully designed</strong>. That is why interceptors for transactions have been already provided in almost every DI platform/ framework.</p>\n"},{"tags":[],"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662034569,"creation_date":1452244717,"answer_id":34673316,"question_id":34497253,"body_markdown":"EDIT:\r\nAfter accumulating a few more years of experience, I&#39;d like to point out that the simplest and most correct answer to this question was to use `ThreadLocal` objects to contain the `Connection` (since it&#39;s request scoped only a single threads executes it). Unfortunately at the time I didn&#39;t know the existence of such a construct.\r\n\r\n@G. Demecki has the right idea but I followed a different implementation. `Interceptors` couldn&#39;t solve the problem (at least from what I saw) because they need to be attached to each function that is supposed to use them. Also once an interceptor is attached, calling the function will always have it intercepted which is not my goal. I wanted to be able to explicitly define the beginning and ending of a transaction, and have every sql executed between these 2 statements be part of the SAME transaction, without it having access to the database&#39;s related objects (like connection, transaction etc) through argument passing. The way I was able to achieve this (and quite elegant in my opinion) is the following:\r\n\r\nI created a `ConnectionWrapper` object like so:\r\n\r\n    @RequestScoped\r\n    public class ConnectionWrapper {\r\n\r\n    @Resource(lookup = &quot;java:/MyDBName&quot;)\r\n    private DataSource dataSource;\r\n    \r\n    private Connection connection;\r\n    \r\n    @PostConstruct\r\n    public void init() throws SQLException {\r\n        this.connection = dataSource.getConnection();\r\n    }\r\n    \r\n    @PreDestroy\r\n    public void destroy() throws SQLException {\r\n        this.connection.close();\r\n    }\r\n    \r\n    public void begin() throws SQLException {\r\n        this.connection.setAutoCommit(false);\r\n    }\r\n    \r\n    public void commit() throws SQLException {\r\n        this.connection.commit();\r\n        this.connection.setAutoCommit(true);\r\n    }\r\n    \r\n    public void rollback() throws SQLException {\r\n        this.connection.rollback();\r\n        this.connection.setAutoCommit(true);\r\n    }\r\n    \r\n    public Connection getConnection() {\r\n        return connection;\r\n    }\r\n    }\r\n\r\nMy `DAO` objects themselves follow this pattern:\r\n\r\n    @RequestScoped\r\n    public class DAOObject implements Serializable {\r\n\r\n    private Logger LOG = Logger.getLogger(getClass().getName());\r\n\r\n    @Inject\r\n    private ConnectionWrapper wrapper;\r\n\r\n    private Connection connection;\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        connection = wrapper.getConnection();\r\n    }\r\n\r\n    public void query(DTOObject dto) throws SQLException {\r\n        String sql = &quot;INSERT INTO DTO_TABLE VALUES (?)&quot;;\r\n        try (PreparedStatement statement = connection.prepareStatement(sql)) {\r\n            statement.setString(1, dto.getName());\r\n            statement.executeUpdate();\r\n        }\r\n    }\r\n    }\r\n\r\nNow I can easily have a `jax-rs` resource which `@Inject`s these objects and starts and commits a transaction, without having to pass any `Connection` or `UserTransaction` around.\r\n\r\n    @Path(&quot;test&quot;)\r\n    @RequestScoped\r\n    public class TestResource {\r\n\r\n    @Inject\r\n    ConnectionWrapper wrapper;\r\n\r\n    @Inject\r\n    DAOObject dao;\r\n\r\n    @Inject\r\n    DAOObject2 dao2;\r\n\r\n    @GET\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public Response testMethod() throws Exception {\r\n        try {\r\n            wrapper.begin();\r\n            DTOObject dto = new DTOObject();\r\n            dto.setName(&quot;Name_1&quot;);\r\n            dao.query(dto);\r\n            DTOObject2 dto2 = new DTOObject2();\r\n            dto2.setName(&quot;Name_2&quot;);\r\n            dao2.query2(dto2);\r\n            wrapper.commit();\r\n        } catch (SQLException e) {\r\n            wrapper.rollback();\r\n        }\r\n        return Response.ok(&quot;ALL OK&quot;).build();\r\n    }\r\n    }\r\n\r\nAnd everything works perfectly. No `Interceptors` or looking around `InvocationContext` etc.\r\n\r\nThere are only 2 things bothering me:\r\n\r\n 1. I have not yet found a way to have a dynamic JNDI name on `@Resource(lookup = &quot;java:/MyDBName&quot;)` and this bothers me. In our AppServer we have defined many datasources and the one used by the application is dynamically chosen according to an .xml resource file packaged with the war. Which means that I can&#39;t know the datasource JNDI on compile time. There is the solution of obtaining a datasource through `InitialContext()` environment variable but I&#39;d love to be able to get it as a resource from the server. I could also create a `@Produces` producer and inject it that way but still.\r\n 2. I&#39;m not really sure why `ConnectionWrapper`&#39;s `@PostConstruct` gets called BEFORE the `DAOObject`&#39;s `@PostConstruct`. It is the correct and desired behavior but I haven&#39;t understood why. I&#39;m guessing since `DAOObject` `@Inject`s a `ConnectionWrapper`, its `@PostConstruct` takes precedence since it has to have finished before the `DAOObjects`&#39;s can even start but this is just a guess.","title":"How to call multiple DAO functions in a transaction","body":"<p>EDIT:\nAfter accumulating a few more years of experience, I'd like to point out that the simplest and most correct answer to this question was to use <code>ThreadLocal</code> objects to contain the <code>Connection</code> (since it's request scoped only a single threads executes it). Unfortunately at the time I didn't know the existence of such a construct.</p>\n<p>@G. Demecki has the right idea but I followed a different implementation. <code>Interceptors</code> couldn't solve the problem (at least from what I saw) because they need to be attached to each function that is supposed to use them. Also once an interceptor is attached, calling the function will always have it intercepted which is not my goal. I wanted to be able to explicitly define the beginning and ending of a transaction, and have every sql executed between these 2 statements be part of the SAME transaction, without it having access to the database's related objects (like connection, transaction etc) through argument passing. The way I was able to achieve this (and quite elegant in my opinion) is the following:</p>\n<p>I created a <code>ConnectionWrapper</code> object like so:</p>\n<pre><code>@RequestScoped\npublic class ConnectionWrapper {\n\n@Resource(lookup = &quot;java:/MyDBName&quot;)\nprivate DataSource dataSource;\n\nprivate Connection connection;\n\n@PostConstruct\npublic void init() throws SQLException {\n    this.connection = dataSource.getConnection();\n}\n\n@PreDestroy\npublic void destroy() throws SQLException {\n    this.connection.close();\n}\n\npublic void begin() throws SQLException {\n    this.connection.setAutoCommit(false);\n}\n\npublic void commit() throws SQLException {\n    this.connection.commit();\n    this.connection.setAutoCommit(true);\n}\n\npublic void rollback() throws SQLException {\n    this.connection.rollback();\n    this.connection.setAutoCommit(true);\n}\n\npublic Connection getConnection() {\n    return connection;\n}\n}\n</code></pre>\n<p>My <code>DAO</code> objects themselves follow this pattern:</p>\n<pre><code>@RequestScoped\npublic class DAOObject implements Serializable {\n\nprivate Logger LOG = Logger.getLogger(getClass().getName());\n\n@Inject\nprivate ConnectionWrapper wrapper;\n\nprivate Connection connection;\n\n@PostConstruct\npublic void init() {\n    connection = wrapper.getConnection();\n}\n\npublic void query(DTOObject dto) throws SQLException {\n    String sql = &quot;INSERT INTO DTO_TABLE VALUES (?)&quot;;\n    try (PreparedStatement statement = connection.prepareStatement(sql)) {\n        statement.setString(1, dto.getName());\n        statement.executeUpdate();\n    }\n}\n}\n</code></pre>\n<p>Now I can easily have a <code>jax-rs</code> resource which <code>@Inject</code>s these objects and starts and commits a transaction, without having to pass any <code>Connection</code> or <code>UserTransaction</code> around.</p>\n<pre><code>@Path(&quot;test&quot;)\n@RequestScoped\npublic class TestResource {\n\n@Inject\nConnectionWrapper wrapper;\n\n@Inject\nDAOObject dao;\n\n@Inject\nDAOObject2 dao2;\n\n@GET\n@Produces(MediaType.TEXT_PLAIN)\npublic Response testMethod() throws Exception {\n    try {\n        wrapper.begin();\n        DTOObject dto = new DTOObject();\n        dto.setName(&quot;Name_1&quot;);\n        dao.query(dto);\n        DTOObject2 dto2 = new DTOObject2();\n        dto2.setName(&quot;Name_2&quot;);\n        dao2.query2(dto2);\n        wrapper.commit();\n    } catch (SQLException e) {\n        wrapper.rollback();\n    }\n    return Response.ok(&quot;ALL OK&quot;).build();\n}\n}\n</code></pre>\n<p>And everything works perfectly. No <code>Interceptors</code> or looking around <code>InvocationContext</code> etc.</p>\n<p>There are only 2 things bothering me:</p>\n<ol>\n<li>I have not yet found a way to have a dynamic JNDI name on <code>@Resource(lookup = &quot;java:/MyDBName&quot;)</code> and this bothers me. In our AppServer we have defined many datasources and the one used by the application is dynamically chosen according to an .xml resource file packaged with the war. Which means that I can't know the datasource JNDI on compile time. There is the solution of obtaining a datasource through <code>InitialContext()</code> environment variable but I'd love to be able to get it as a resource from the server. I could also create a <code>@Produces</code> producer and inject it that way but still.</li>\n<li>I'm not really sure why <code>ConnectionWrapper</code>'s <code>@PostConstruct</code> gets called BEFORE the <code>DAOObject</code>'s <code>@PostConstruct</code>. It is the correct and desired behavior but I haven't understood why. I'm guessing since <code>DAOObject</code> <code>@Inject</code>s a <code>ConnectionWrapper</code>, its <code>@PostConstruct</code> takes precedence since it has to have finished before the <code>DAOObjects</code>'s can even start but this is just a guess.</li>\n</ol>\n"}],"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3285,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34673316,"answer_count":3,"score":2,"last_activity_date":1662034569,"creation_date":1451320797,"question_id":34497253,"body_markdown":"I&#39;m looking for a way to call multiple DAO functions in a transaction but I am NOT using spring or any such framework. What we actually have is a Database api type `.jar` which gets initialized with the used datasource. What I want to achieve is have my business logic level code do something like:\r\n\r\n    Connection conn = datasource.getConnection();\r\n    conn.setAutoCommit(false);\r\n    DAOObject1.query1(params, conn);\r\n    DAOObject2.query4(params, conn);\r\n    conn.commit();\r\n    conn.setAutoCommit(false);\r\n\r\nhowever I want to avoid passing the connection object in every single function since this is not the correct way to do it. Right now in the few transactions we have we use this but we are looking for a way to stop passing the connection object to the database layer or even create it outside of it. I&#39;m looking for something along the lines of:\r\n\r\n    //Pseudocode\r\n    try{\r\n      Datasource.startTransactionLogic();\r\n      DAO1.query(params);\r\n      DAO2.query(params);\r\n      Datasource.endAndCommitTransactionLogic();\r\n    }\r\n    catch(SQLException e){\r\n      Datasource.rollbackTransaction();\r\n    }\r\n\r\nCould I achieve this through EJBs? Right now we&#39;re not using DAOs through injection, we&#39;re creating them by hand but we&#39;re about to migrate to EJBs and start using them via the container. I&#39;ve heard that all queries executed by EJBs are transactional but how does it know what to rollback to? Through `savepoints`?\r\n\r\n**EDIT:**\r\n\r\nLet me point out that each `DAO` object&#39;s method, right now, obtains its own connection object. Here is an example of how our `DAO` classes will be:\r\n\r\n    public class DAO {\r\n\tpublic DTO exampleQueryMethod(Integer id) {\r\n\t\tDTO object = null;\r\n\t\tString sql = &quot;SELECT * FROM TABLE_1 WHERE ID = ?&quot;;\r\n\t\ttry (\r\n\t\t\tConnection connection = datasourceObject.getConnection();\r\n\t\t\tPreparedStatement statement = connection.prepareStatement(sql)\r\n\t\t) {\r\n\t\t\tstatement.setInt(1,  id);\r\n\t\t\ttry (ResultSet resultSet = statement.executeQuery()) {\r\n\t\t\t\tif (resultSet.next()) {\r\n\t\t\t\t\tobject = DAO.map(resultSet);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn object;\r\n\t}\r\n    }\r\n\r\nRight now what we&#39;re doing for methods that need to be in a transaction is to have a second copy of them that receive a `Connection` object:\r\n\r\n    public void exampleUpdateMethod(DTO object, Connection connection) {\r\n        //table update logic\r\n    }\r\n\r\nWhat we want is to avoid having such methods in our &#39;database api&#39; `.jar` but instead be able to define the beginning and commit of a transaction in our business logic layer, like mentioned in the pseudocode above.","title":"How to call multiple DAO functions in a transaction","body":"<p>I'm looking for a way to call multiple DAO functions in a transaction but I am NOT using spring or any such framework. What we actually have is a Database api type <code>.jar</code> which gets initialized with the used datasource. What I want to achieve is have my business logic level code do something like:</p>\n\n<pre><code>Connection conn = datasource.getConnection();\nconn.setAutoCommit(false);\nDAOObject1.query1(params, conn);\nDAOObject2.query4(params, conn);\nconn.commit();\nconn.setAutoCommit(false);\n</code></pre>\n\n<p>however I want to avoid passing the connection object in every single function since this is not the correct way to do it. Right now in the few transactions we have we use this but we are looking for a way to stop passing the connection object to the database layer or even create it outside of it. I'm looking for something along the lines of:</p>\n\n<pre><code>//Pseudocode\ntry{\n  Datasource.startTransactionLogic();\n  DAO1.query(params);\n  DAO2.query(params);\n  Datasource.endAndCommitTransactionLogic();\n}\ncatch(SQLException e){\n  Datasource.rollbackTransaction();\n}\n</code></pre>\n\n<p>Could I achieve this through EJBs? Right now we're not using DAOs through injection, we're creating them by hand but we're about to migrate to EJBs and start using them via the container. I've heard that all queries executed by EJBs are transactional but how does it know what to rollback to? Through <code>savepoints</code>?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Let me point out that each <code>DAO</code> object's method, right now, obtains its own connection object. Here is an example of how our <code>DAO</code> classes will be:</p>\n\n<pre><code>public class DAO {\npublic DTO exampleQueryMethod(Integer id) {\n    DTO object = null;\n    String sql = \"SELECT * FROM TABLE_1 WHERE ID = ?\";\n    try (\n        Connection connection = datasourceObject.getConnection();\n        PreparedStatement statement = connection.prepareStatement(sql)\n    ) {\n        statement.setInt(1,  id);\n        try (ResultSet resultSet = statement.executeQuery()) {\n            if (resultSet.next()) {\n                object = DAO.map(resultSet);\n            }\n        }\n    }\n    return object;\n}\n}\n</code></pre>\n\n<p>Right now what we're doing for methods that need to be in a transaction is to have a second copy of them that receive a <code>Connection</code> object:</p>\n\n<pre><code>public void exampleUpdateMethod(DTO object, Connection connection) {\n    //table update logic\n}\n</code></pre>\n\n<p>What we want is to avoid having such methods in our 'database api' <code>.jar</code> but instead be able to define the beginning and commit of a transaction in our business logic layer, like mentioned in the pseudocode above.</p>\n"},{"tags":["java","reactjs","cors","genexus"],"comments":[{"owner":{"account_id":4697855,"reputation":277,"user_id":3802304,"display_name":"Chon"},"score":0,"creation_date":1661966707,"post_id":73549802,"comment_id":129899348,"body_markdown":"You dont have to do anything in GeneXus. You are missing the configuration for Cross Origin on the application server (apache/tomcat...).","body":"You dont have to do anything in GeneXus. You are missing the configuration for Cross Origin on the application server (apache/tomcat...)."}],"answers":[{"tags":[],"owner":{"account_id":4210780,"reputation":131,"user_id":3448547,"accept_rate":72,"display_name":"HelloWorld"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661908234,"creation_date":1661908234,"answer_id":73549913,"question_id":73549802,"body_markdown":"You have not allowed Cross site access in you htaccess file you can allow access by placing the following code in your htaccess file \r\n\r\n```\r\n&lt;IfModule mod_headers.c&gt;\r\n    Header set Access-Control-Allow-Origin &quot;*&quot;\r\n&lt;/IfModule&gt;\r\n```\r\n\r\nMore information on this question can be found here:\r\n\r\nhttps://stackoverflow.com/questions/13421463/htaccess-access-control-allow-origin\r\n","title":"Consuming Genexus Java API from React is blocked by Cors policy","body":"<p>You have not allowed Cross site access in you htaccess file you can allow access by placing the following code in your htaccess file</p>\n<pre><code>&lt;IfModule mod_headers.c&gt;\n    Header set Access-Control-Allow-Origin &quot;*&quot;\n&lt;/IfModule&gt;\n</code></pre>\n<p>More information on this question can be found here:</p>\n<p><a href=\"https://stackoverflow.com/questions/13421463/htaccess-access-control-allow-origin\">htaccess Access-Control-Allow-Origin</a></p>\n"},{"tags":[],"owner":{"account_id":1760358,"reputation":91,"user_id":1607651,"display_name":"Leandro Minatel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662034377,"creation_date":1662034377,"answer_id":73569166,"question_id":73549802,"body_markdown":"First of all you have to configure your Tomcat to add &#39;Access-Control-Allow-Origin&#39; header. [This post in SO][1] describes how to accomplish this. Second, you have to add the &quot;--host-header=rewrite&quot; option to ngrok, something like this:\r\n\r\n    C:\\&gt; ngrok http --host-header=rewrite 8080\r\n\r\n8080 is the port where tomcat is listening.\r\n\r\nAnd that&#39;s all.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12383109/access-control-allow-origin-in-tomcat","title":"Consuming Genexus Java API from React is blocked by Cors policy","body":"<p>First of all you have to configure your Tomcat to add 'Access-Control-Allow-Origin' header. <a href=\"https://stackoverflow.com/questions/12383109/access-control-allow-origin-in-tomcat\">This post in SO</a> describes how to accomplish this. Second, you have to add the &quot;--host-header=rewrite&quot; option to ngrok, something like this:</p>\n<pre><code>C:\\&gt; ngrok http --host-header=rewrite 8080\n</code></pre>\n<p>8080 is the port where tomcat is listening.</p>\n<p>And that's all.</p>\n"}],"owner":{"account_id":26203341,"reputation":1,"user_id":19883323,"display_name":"Gabriel Vazquez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662034377,"creation_date":1661906699,"question_id":73549802,"body_markdown":"A friend created a Rest API in Genexus, which was written to Java. We are using Gnok to serve your files from the local machine without the need to pay for a private VPS.\r\n\r\nHowever, when I try to consume their endpoints from my web application made in React, I get the following error:\r\n\r\n&gt; Access to fetch at &#39;https://9f64-2800-a4-2933-4100-60e8-3344-52b6-563d.sa.ngrok.io/nortscapeJavaEnvironment/rest/wsGetEmpresas&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.\r\n\r\n\r\nI think it is something that should be solved from the server to be able to support different request origins, but how can we do it in GeneXus/Java?","title":"Consuming Genexus Java API from React is blocked by Cors policy","body":"<p>A friend created a Rest API in Genexus, which was written to Java. We are using Gnok to serve your files from the local machine without the need to pay for a private VPS.</p>\n<p>However, when I try to consume their endpoints from my web application made in React, I get the following error:</p>\n<blockquote>\n<p>Access to fetch at 'https://9f64-2800-a4-2933-4100-60e8-3344-52b6-563d.sa.ngrok.io/nortscapeJavaEnvironment/rest/wsGetEmpresas' from origin 'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.</p>\n</blockquote>\n<p>I think it is something that should be solved from the server to be able to support different request origins, but how can we do it in GeneXus/Java?</p>\n"},{"tags":["java","design-patterns","arraylist"],"comments":[{"owner":{"account_id":3478542,"reputation":2575,"user_id":2911193,"display_name":"nomis"},"score":4,"creation_date":1426188961,"post_id":29018713,"comment_id":46281374,"body_markdown":"What problem do you see with your implementation?","body":"What problem do you see with your implementation?"},{"owner":{"account_id":3446415,"reputation":375,"user_id":2887141,"accept_rate":85,"display_name":"Mac"},"score":0,"creation_date":1426189358,"post_id":29018713,"comment_id":46281566,"body_markdown":"In `CompositionBuilderTest` I want to enter `movement(movementId, movementName)`. This doesn&#39;t work. I also don&#39;t think a variable length argumant is correct in `CompositionBuilder movement` but I can&#39;t figure out the alternative.","body":"In <code>CompositionBuilderTest</code> I want to enter <code>movement(movementId, movementName)</code>. This doesn&#39;t work. I also don&#39;t think a variable length argumant is correct in <code>CompositionBuilder movement</code> but I can&#39;t figure out the alternative."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1426189450,"post_id":29018713,"comment_id":46281620,"body_markdown":"@macattack You would need to call the `Movements` constructor: `movement(new Movements(movementId, movementName))`","body":"@macattack You would need to call the <code>Movements</code> constructor: <code>movement(new Movements(movementId, movementName))</code>"},{"owner":{"account_id":3446415,"reputation":375,"user_id":2887141,"accept_rate":85,"display_name":"Mac"},"score":0,"creation_date":1426190370,"post_id":29018713,"comment_id":46282093,"body_markdown":"@Alexis C. I am getting a blank element in the ArrayList, it just prints Movement: []","body":"@Alexis C. I am getting a blank element in the ArrayList, it just prints Movement: []"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1426191758,"post_id":29018713,"comment_id":46282789,"body_markdown":"@macattack Could you show the `Composition` constructor please?","body":"@macattack Could you show the <code>Composition</code> constructor please?"},{"owner":{"account_id":3446415,"reputation":375,"user_id":2887141,"accept_rate":85,"display_name":"Mac"},"score":0,"creation_date":1426195106,"post_id":29018713,"comment_id":46284368,"body_markdown":"@Alexis C. See above","body":"@Alexis C. See above"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1426195204,"post_id":29018713,"comment_id":46284412,"body_markdown":"@macattack I did exactly the same thing and it worked. The error is somewhere else (maybe the way you are printing the content?)","body":"@macattack I did exactly the same thing and it worked. The error is somewhere else (maybe the way you are printing the content?)"},{"owner":{"account_id":3446415,"reputation":375,"user_id":2887141,"accept_rate":85,"display_name":"Mac"},"score":0,"creation_date":1426196465,"post_id":29018713,"comment_id":46284944,"body_markdown":"@Alexis C. Ok thanks, I&#39;ll keep working on it. I&#39;m tackling some new concepts here but I&#39;m sure I can figure it out.","body":"@Alexis C. Ok thanks, I&#39;ll keep working on it. I&#39;m tackling some new concepts here but I&#39;m sure I can figure it out."},{"owner":{"account_id":3446415,"reputation":375,"user_id":2887141,"accept_rate":85,"display_name":"Mac"},"score":0,"creation_date":1426197969,"post_id":29018713,"comment_id":46285647,"body_markdown":"I figured it out, I forgot to override the toString method in the Movements class.","body":"I figured it out, I forgot to override the toString method in the Movements class."}],"answers":[{"tags":[],"owner":{"account_id":3478542,"reputation":2575,"user_id":2911193,"display_name":"nomis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625349844,"creation_date":1426189627,"answer_id":29018948,"question_id":29018713,"body_markdown":"Using the CompositionBuilder to create instances of Movement would go against SRP (and you would need to modify the signature of the `movement` method in the builder). Rather, you should pass instances of Movement into the `movement(Movement...movements)` method, calling either a constructor or a factory\r\n```java\r\nComposition composition1 = new Composition\r\n      .CompositionBuilder(&quot;1&quot;, &quot;CompositionOne&quot;, &quot;John Doe&quot;)\r\n      .movement(Movement.newInstance(id, name), Movement.newInstance(id2, name2))\r\n      .build();","title":"Adding elements to ArrayList using builder pattern in Java","body":"<p>Using the CompositionBuilder to create instances of Movement would go against SRP (and you would need to modify the signature of the <code>movement</code> method in the builder). Rather, you should pass instances of Movement into the <code>movement(Movement...movements)</code> method, calling either a constructor or a factory</p>\n<pre class=\"lang-java prettyprint-override\"><code>Composition composition1 = new Composition\n      .CompositionBuilder(&quot;1&quot;, &quot;CompositionOne&quot;, &quot;John Doe&quot;)\n      .movement(Movement.newInstance(id, name), Movement.newInstance(id2, name2))\n      .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662034325,"creation_date":1660288565,"answer_id":73330523,"question_id":29018713,"body_markdown":"I couldn&#39;t found a satisfied existing util from 3-part lib to implement this. So I wrote an util, here is the usage:\r\n\r\n```java\r\nList&lt;Integer&gt; list = CollectionBuilder.fromCollection(new ArrayList&lt;Integer&gt;())\r\n                .addVarargs(1, 2, 3)\r\n                .add(4)\r\n                .build();\r\n\r\nassertThat(list, is(Arrays.asList(1, 2, 3, 4)));\r\n```\r\n\r\n```java\r\npublic class CollectionBuilder&lt;C extends Collection&lt;T&gt;, T&gt; {\r\n\r\n    private C coll;\r\n\r\n    public CollectionBuilder(C coll) {\r\n        this.coll = coll;\r\n    }\r\n\r\n    public static  &lt;C extends Collection&lt;T&gt;, T&gt; CollectionBuilder&lt;C, T&gt;  from(Supplier&lt;C&gt; collSupplier, T... t) {\r\n        return new CollectionBuilder&lt;&gt;(collSupplier.get()).addVarargs(t);\r\n    }\r\n\r\n    public static &lt;C extends Collection&lt;T&gt;, T&gt; CollectionBuilder&lt;C, T&gt; fromCollection(C coll) {\r\n        return new CollectionBuilder&lt;&gt;(coll);\r\n    }\r\n\r\n    public static &lt;C extends Collection&lt;T&gt;, T&gt; CollectionBuilder&lt;C, T&gt; from(Supplier&lt;C&gt; collSupplier) {\r\n        return new CollectionBuilder&lt;&gt;(collSupplier.get());\r\n    }\r\n\r\n    public CollectionBuilder&lt;C, T&gt; add(T ele) {\r\n        coll.add(ele);\r\n        return this;\r\n    }\r\n\r\n    public CollectionBuilder&lt;C, T&gt; addVarargs(T... e) {\r\n        Collection&lt;T&gt; ts = Arrays.asList(e);\r\n        this.coll.addAll(ts);\r\n        return this;\r\n    }\r\n\r\n    public CollectionBuilder&lt;C, T&gt; addAll(Collection&lt;T&gt; c) {\r\n        this.coll.addAll(c);\r\n        return this;\r\n    }\r\n\r\n    public C build() {\r\n        return coll;\r\n    }\r\n\r\n}\r\n\r\n```","title":"Adding elements to ArrayList using builder pattern in Java","body":"<p>I couldn't found a satisfied existing util from 3-part lib to implement this. So I wrote an util, here is the usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = CollectionBuilder.fromCollection(new ArrayList&lt;Integer&gt;())\n                .addVarargs(1, 2, 3)\n                .add(4)\n                .build();\n\nassertThat(list, is(Arrays.asList(1, 2, 3, 4)));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CollectionBuilder&lt;C extends Collection&lt;T&gt;, T&gt; {\n\n    private C coll;\n\n    public CollectionBuilder(C coll) {\n        this.coll = coll;\n    }\n\n    public static  &lt;C extends Collection&lt;T&gt;, T&gt; CollectionBuilder&lt;C, T&gt;  from(Supplier&lt;C&gt; collSupplier, T... t) {\n        return new CollectionBuilder&lt;&gt;(collSupplier.get()).addVarargs(t);\n    }\n\n    public static &lt;C extends Collection&lt;T&gt;, T&gt; CollectionBuilder&lt;C, T&gt; fromCollection(C coll) {\n        return new CollectionBuilder&lt;&gt;(coll);\n    }\n\n    public static &lt;C extends Collection&lt;T&gt;, T&gt; CollectionBuilder&lt;C, T&gt; from(Supplier&lt;C&gt; collSupplier) {\n        return new CollectionBuilder&lt;&gt;(collSupplier.get());\n    }\n\n    public CollectionBuilder&lt;C, T&gt; add(T ele) {\n        coll.add(ele);\n        return this;\n    }\n\n    public CollectionBuilder&lt;C, T&gt; addVarargs(T... e) {\n        Collection&lt;T&gt; ts = Arrays.asList(e);\n        this.coll.addAll(ts);\n        return this;\n    }\n\n    public CollectionBuilder&lt;C, T&gt; addAll(Collection&lt;T&gt; c) {\n        this.coll.addAll(c);\n        return this;\n    }\n\n    public C build() {\n        return coll;\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":3446415,"reputation":375,"user_id":2887141,"accept_rate":85,"display_name":"Mac"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22353,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1662034325,"creation_date":1426188765,"question_id":29018713,"body_markdown":"I am trying to add elements to `ArrayList&lt;Movements&gt;movement` as part of a builder pattern.\r\n\r\nThe Movement class contains an `int movementId` and a `String movementName` and I would like the user to add these to the composition using the builder pattern.\r\n\r\nI am struggling with the implementation, see below:\r\n```java\r\npublic static class CompositionBuilder {\r\n    private final String compositionId;\r\n    private List&lt;Movements&gt; movement = new ArrayList&lt;Movements&gt;();\r\n    private final String compositionName;\r\n    private final String composerName;\r\n\r\n    public CompositionBuilder(String compositionId,\r\n                              String compositionName,\r\n                              String composerName) {\r\n        this.compositionId = compositionId;\r\n        this.compositionName = compositionName;\r\n        this.composerName = composerName;\r\n    }\r\n\r\n    //this part is where I am struggling.\r\n    //I don&#39;t know how to populate the ArrayList\r\n    public CompositionBuilder movement(Movements... movement) {\r\n        for (Movements i : movement) {\r\n            this.movement.add(i);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public Composition build() {\r\n        return new Composition(this);\r\n    }\r\n}\r\n```\r\nI want to be able to build the composition using \r\n```java\r\npublic class CompositionBuilderTest {\r\n    public static void main(String[] args) {\r\n        Composition composition1 = new Composition\r\n                .CompositionBuilder(&quot;1&quot;, &quot;CompositionOne&quot;, &quot;John Doe&quot;)\r\n                .movement()//enter movement values here\r\n                .build();\r\n        System.out.println(composition1);\r\n    }\r\n}\r\n```\r\nComposition Constructor:\r\n```java\r\nprivate Composition(CompositionBuilder builder) {\r\n    this.compositionId = builder.compositionId;\r\n    this.movement = builder.movement;\r\n    this.compositionName = builder.compositionName;\r\n    this.composerName = builder.composerName;\r\n}\r\n```\r\n","title":"Adding elements to ArrayList using builder pattern in Java","body":"<p>I am trying to add elements to <code>ArrayList&lt;Movements&gt;movement</code> as part of a builder pattern.</p>\n<p>The Movement class contains an <code>int movementId</code> and a <code>String movementName</code> and I would like the user to add these to the composition using the builder pattern.</p>\n<p>I am struggling with the implementation, see below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class CompositionBuilder {\n    private final String compositionId;\n    private List&lt;Movements&gt; movement = new ArrayList&lt;Movements&gt;();\n    private final String compositionName;\n    private final String composerName;\n\n    public CompositionBuilder(String compositionId,\n                              String compositionName,\n                              String composerName) {\n        this.compositionId = compositionId;\n        this.compositionName = compositionName;\n        this.composerName = composerName;\n    }\n\n    //this part is where I am struggling.\n    //I don't know how to populate the ArrayList\n    public CompositionBuilder movement(Movements... movement) {\n        for (Movements i : movement) {\n            this.movement.add(i);\n        }\n        return this;\n    }\n\n    public Composition build() {\n        return new Composition(this);\n    }\n}\n</code></pre>\n<p>I want to be able to build the composition using</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CompositionBuilderTest {\n    public static void main(String[] args) {\n        Composition composition1 = new Composition\n                .CompositionBuilder(&quot;1&quot;, &quot;CompositionOne&quot;, &quot;John Doe&quot;)\n                .movement()//enter movement values here\n                .build();\n        System.out.println(composition1);\n    }\n}\n</code></pre>\n<p>Composition Constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Composition(CompositionBuilder builder) {\n    this.compositionId = builder.compositionId;\n    this.movement = builder.movement;\n    this.compositionName = builder.compositionName;\n    this.composerName = builder.composerName;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","geolocation","geolite2","geolitecity"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1662032127,"post_id":73568666,"comment_id":129915001,"body_markdown":"The 10.x and 127.x are internal IP ranges, so those won&#39;t be available, you need external ip-addresses.","body":"The 10.x and 127.x are internal IP ranges, so those won&#39;t be available, you need external ip-addresses."},{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":0,"creation_date":1662032864,"post_id":73568666,"comment_id":129915261,"body_markdown":"@M.Deinum So how can I test my code. I deployed the application on server and then tried to access from my machine. In this case, my Ip is `10.212.134.200`","body":"@M.Deinum So how can I test my code. I deployed the application on server and then tried to access from my machine. In this case, my Ip is <code>10.212.134.200</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662033685,"post_id":73568666,"comment_id":129915552,"body_markdown":"Which, as stated, is an internal IP range (see https://en.wikipedia.org/wiki/IP_address#Private_addresses) which only has meaning inside your own network. If you are calling it from your laptop (inside your own network) the IP Address is the internal IP address not some external one. So trying to convert that into a location will not work, you will need to call it from outside your network through the actual and real internet.","body":"Which, as stated, is an internal IP range (see <a href=\"https://en.wikipedia.org/wiki/IP_address#Private_addresses\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/IP_address#Private_addresses</a>) which only has meaning inside your own network. If you are calling it from your laptop (inside your own network) the IP Address is the internal IP address not some external one. So trying to convert that into a location will not work, you will need to call it from outside your network through the actual and real internet."},{"owner":{"account_id":15915499,"reputation":134,"user_id":11484189,"display_name":"anyfactor"},"score":2,"creation_date":1662055269,"post_id":73568666,"comment_id":129923950,"body_markdown":"If you test the IP address using [IPinfo/10.212.134.200](https://ipinfo.io/10.212.134.200) you will find this IP address is a bogon IP.","body":"If you test the IP address using <a href=\"https://ipinfo.io/10.212.134.200\" rel=\"nofollow noreferrer\">IPinfo/10.212.134.200</a> you will find this IP address is a bogon IP."},{"owner":{"account_id":2196043,"reputation":1420,"user_id":1941686,"display_name":"Michael C."},"score":0,"creation_date":1662101225,"post_id":73568666,"comment_id":129932232,"body_markdown":"10.x is a reserved IP address. It is not a bogon.","body":"10.x is a reserved IP address. It is not a bogon."},{"owner":{"account_id":15915499,"reputation":134,"user_id":11484189,"display_name":"anyfactor"},"score":1,"creation_date":1662401945,"post_id":73568666,"comment_id":129993121,"body_markdown":"@MichaelC. Thank you for your reply. But, reserved IPs are categorized Bogon IPs. The [Wikipedia page](https://en.wikipedia.org/wiki/Bogon_filtering) on Bogon IP address explicitly mentions 10.X (reserved IP) as an example of Bogon.","body":"@MichaelC. Thank you for your reply. But, reserved IPs are categorized Bogon IPs. The <a href=\"https://en.wikipedia.org/wiki/Bogon_filtering\" rel=\"nofollow noreferrer\">Wikipedia page</a> on Bogon IP address explicitly mentions 10.X (reserved IP) as an example of Bogon."}],"answers":[{"tags":[],"owner":{"account_id":61152,"reputation":19042,"user_id":182402,"accept_rate":93,"display_name":"Wander Nauta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662032864,"creation_date":1662032447,"answer_id":73568764,"question_id":73568666,"body_markdown":"10.212.134.200 and 127.0.0.1 are addresses that have a meaning only inside your network, or inside your machine, not on the internet. There is no way for MaxMind to know where these are located. (You may be able to tell which city you are in by looking out of the window.)\r\n\r\nIf the request actually comes from the internet, so from outside your network, it is perhaps proxied. If that is the case, it is possible that the proxy has added a `X-Forwarded-For` or `X-Real-IP` request header or similar containing the external (&quot;real&quot;) IP address of the original requester. You would feed that into `getGeoLocation`. ","title":"Get geoLocation of incoming request in Spring boot","body":"<p>10.212.134.200 and 127.0.0.1 are addresses that have a meaning only inside your network, or inside your machine, not on the internet. There is no way for MaxMind to know where these are located. (You may be able to tell which city you are in by looking out of the window.)</p>\n<p>If the request actually comes from the internet, so from outside your network, it is perhaps proxied. If that is the case, it is possible that the proxy has added a <code>X-Forwarded-For</code> or <code>X-Real-IP</code> request header or similar containing the external (&quot;real&quot;) IP address of the original requester. You would feed that into <code>getGeoLocation</code>.</p>\n"},{"tags":[],"owner":{"account_id":13462587,"reputation":693,"user_id":9714060,"display_name":"Naveen Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662034140,"creation_date":1662034140,"answer_id":73569109,"question_id":73568666,"body_markdown":" Geo location based on IP may not give you original result. Say a user is on a VPN then you would not get user&#39;s original location. \r\nBased on the limited context I could grab, a better solution would be to ask for user&#39;s location permission on the client side which you could then send it over to server. ","title":"Get geoLocation of incoming request in Spring boot","body":"<p>Geo location based on IP may not give you original result. Say a user is on a VPN then you would not get user's original location.\nBased on the limited context I could grab, a better solution would be to ask for user's location permission on the client side which you could then send it over to server.</p>\n"}],"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662034140,"creation_date":1662031976,"question_id":73568666,"body_markdown":"I want to know the location of the user that is on our web application. The information should contain user&#39;s `Country` and `City`. I am unable to find a good way to do so using `Java` or `Spring Boot`. I have tried using `GeoLite2-City` but it gives me exception saying that `The address 10.212.134.200 is not in the database.` I was also getting this exception on my `localhost` with ip `127.0.0.1`. Following is the code I have used:\r\n```\r\n// String ipAddress = httpServletRequest.getRemoteAddr();\r\npublic String getGeoLocation(String ipAddress) {\r\n        String geoLocation = &quot;&quot;;\r\n        try {\r\n            File database = ResourceUtils.getFile(&quot;classpath:GeoLite2-City/GeoLite2-City.mmdb&quot;);;\r\n            DatabaseReader dbReader = new DatabaseReader.Builder(database).build();\r\n            CityResponse response = dbReader.city(InetAddress.getByName(ipAddress));\r\n            \r\n            String countryName = response.getCountry().getName();\r\n            String cityName = response.getCity().getName();\r\n            String postal = response.getPostal().getCode();\r\n            String state = response.getLeastSpecificSubdivision().getName();\r\n            \r\n            geoLocation = &quot;Country: &quot; + countryName + &quot;cityName: &quot; + cityName + &quot;postal: &quot; + postal + &quot;state: &quot; + state;\r\n            \r\n            System.out.println(geoLocation);\r\n        } catch(Exception ex) {\r\n            logger.error(&quot;Exception occured while trying to get GeoLocation of user: &quot; + ex);\r\n        }\r\n        return geoLocation;\r\n    }\r\n```\r\nBut I am always getting exception.\r\n\r\nI only have downloaded and added `Geolite2-city` file. I am also not confirmed if I need to add any other file. The dependency I have added is:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;geoip2&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n&lt;h1&gt;Note: &lt;/h1&gt;\r\nGeoLite2 was one of the way I adopted to get the GeoLocation of the user. If you have a better API or suggestion, please suggest me a better way to get user current GeoLocation.","title":"Get geoLocation of incoming request in Spring boot","body":"<p>I want to know the location of the user that is on our web application. The information should contain user's <code>Country</code> and <code>City</code>. I am unable to find a good way to do so using <code>Java</code> or <code>Spring Boot</code>. I have tried using <code>GeoLite2-City</code> but it gives me exception saying that <code>The address 10.212.134.200 is not in the database.</code> I was also getting this exception on my <code>localhost</code> with ip <code>127.0.0.1</code>. Following is the code I have used:</p>\n<pre><code>// String ipAddress = httpServletRequest.getRemoteAddr();\npublic String getGeoLocation(String ipAddress) {\n        String geoLocation = &quot;&quot;;\n        try {\n            File database = ResourceUtils.getFile(&quot;classpath:GeoLite2-City/GeoLite2-City.mmdb&quot;);;\n            DatabaseReader dbReader = new DatabaseReader.Builder(database).build();\n            CityResponse response = dbReader.city(InetAddress.getByName(ipAddress));\n            \n            String countryName = response.getCountry().getName();\n            String cityName = response.getCity().getName();\n            String postal = response.getPostal().getCode();\n            String state = response.getLeastSpecificSubdivision().getName();\n            \n            geoLocation = &quot;Country: &quot; + countryName + &quot;cityName: &quot; + cityName + &quot;postal: &quot; + postal + &quot;state: &quot; + state;\n            \n            System.out.println(geoLocation);\n        } catch(Exception ex) {\n            logger.error(&quot;Exception occured while trying to get GeoLocation of user: &quot; + ex);\n        }\n        return geoLocation;\n    }\n</code></pre>\n<p>But I am always getting exception.</p>\n<p>I only have downloaded and added <code>Geolite2-city</code> file. I am also not confirmed if I need to add any other file. The dependency I have added is:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\n    &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\n    &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h1>Note: </h1>\nGeoLite2 was one of the way I adopted to get the GeoLocation of the user. If you have a better API or suggestion, please suggest me a better way to get user current GeoLocation.\n"},{"tags":["java","java-8","swagger-2.0"],"comments":[{"owner":{"account_id":12234680,"reputation":763,"user_id":8929501,"display_name":"Matt Berteaux"},"score":0,"creation_date":1565975772,"post_id":57528402,"comment_id":101523414,"body_markdown":"This might be a duplicate of https://stackoverflow.com/q/41801387/8929501","body":"This might be a duplicate of <a href=\"https://stackoverflow.com/q/41801387/8929501\">stackoverflow.com/q/41801387/8929501</a>"},{"owner":{"account_id":15327399,"reputation":137,"user_id":11058144,"display_name":"user11058144"},"score":0,"creation_date":1565975889,"post_id":57528402,"comment_id":101523460,"body_markdown":"No, that&#39;s the opposite of my question.","body":"No, that&#39;s the opposite of my question."},{"owner":{"account_id":15327399,"reputation":137,"user_id":11058144,"display_name":"user11058144"},"score":0,"creation_date":1565975918,"post_id":57528402,"comment_id":101523472,"body_markdown":"I&#39;m trying to manually order them, not auto-sort them.","body":"I&#39;m trying to manually order them, not auto-sort them."},{"owner":{"account_id":12234680,"reputation":763,"user_id":8929501,"display_name":"Matt Berteaux"},"score":0,"creation_date":1565976011,"post_id":57528402,"comment_id":101523504,"body_markdown":"Did you see this answer? https://stackoverflow.com/a/52760718/8929501\nThat answer states that you can use `operationOrdering()` to manually order","body":"Did you see this answer? <a href=\"https://stackoverflow.com/a/52760718/8929501\">stackoverflow.com/a/52760718/8929501</a> That answer states that you can use <code>operationOrdering()</code> to manually order"},{"owner":{"account_id":15327399,"reputation":137,"user_id":11058144,"display_name":"user11058144"},"score":0,"creation_date":1565976779,"post_id":57528402,"comment_id":101523788,"body_markdown":"That sorts it alphabetically by method name, not by a manual order.","body":"That sorts it alphabetically by method name, not by a manual order."},{"owner":{"account_id":15327399,"reputation":137,"user_id":11058144,"display_name":"user11058144"},"score":0,"creation_date":1565976970,"post_id":57528402,"comment_id":101523861,"body_markdown":"Additional clarification, &quot;method&quot; in this context is POST/GET/etc. it is not the Java method name.","body":"Additional clarification, &quot;method&quot; in this context is POST/GET/etc. it is not the Java method name."},{"owner":{"account_id":12234680,"reputation":763,"user_id":8929501,"display_name":"Matt Berteaux"},"score":0,"creation_date":1565976989,"post_id":57528402,"comment_id":101523869,"body_markdown":"You will have to implement your custom ordering inside that `public int compare(Operation left, Operation right)` method. It&#39;s similar to implementing a sort order with the `compareTo` of `Comparable`","body":"You will have to implement your custom ordering inside that <code>public int compare(Operation left, Operation right)</code> method. It&#39;s similar to implementing a sort order with the <code>compareTo</code> of <code>Comparable</code>"},{"owner":{"account_id":15327399,"reputation":137,"user_id":11058144,"display_name":"user11058144"},"score":0,"creation_date":1565977120,"post_id":57528402,"comment_id":101523924,"body_markdown":"I started to try that, but it didn&#39;t appear to have the endpoint names readily available to use for ordering. Do you happen to know which `left.methodNameHere()` would have that info?","body":"I started to try that, but it didn&#39;t appear to have the endpoint names readily available to use for ordering. Do you happen to know which <code>left.methodNameHere()</code> would have that info?"}],"answers":[{"tags":[],"owner":{"account_id":1257719,"reputation":4290,"user_id":1216830,"accept_rate":100,"display_name":"CharlesA"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1617940479,"creation_date":1591576283,"answer_id":62253355,"question_id":57528402,"body_markdown":"An easy way to order the endpoints for swagger UI is to use tags: https://swagger.io/docs/specification/grouping-operations-with-tags/\r\n\r\nEdit: adding the alternative I use to address a comment below: I tend to use the operationsSorter with a custom comparison function. Example:\r\n\r\n    operationsSorter: function (a, b) {\r\n      var order = {&#39;get&#39;: &#39;0&#39;, &#39;post&#39;: &#39;1&#39;, &#39;patch&#39;: &#39;2&#39;, &#39;put&#39;: &#39;3&#39;, &#39;delete&#39;: &#39;4&#39;};\r\n      if (a.get(&#39;path&#39;) == b.get(&#39;path&#39;)) {\r\n        return order[a.get(&#39;method&#39;)].localeCompare(order[b.get(&#39;method&#39;)]);\r\n      }\r\n      if (a.get(&#39;path&#39;).split(&#39;/&#39;).length == b.get(&#39;path&#39;).split(&#39;/&#39;).length) {\r\n        return a.get(&#39;path&#39;).split(&#39;/&#39;).slice(-1)[0].localeCompare(b.get(&#39;path&#39;).split(&#39;/&#39;).slice(-1)[0]);\r\n      }\r\n      return a.get(&#39;path&#39;).split(&#39;/&#39;).length - b.get(&#39;path&#39;).split(&#39;/&#39;).length;\r\n    }","title":"How do I manually order the endpoints displayed on Swagger UI?","body":"<p>An easy way to order the endpoints for swagger UI is to use tags: <a href=\"https://swagger.io/docs/specification/grouping-operations-with-tags/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/grouping-operations-with-tags/</a></p>\n<p>Edit: adding the alternative I use to address a comment below: I tend to use the operationsSorter with a custom comparison function. Example:</p>\n<pre><code>operationsSorter: function (a, b) {\n  var order = {'get': '0', 'post': '1', 'patch': '2', 'put': '3', 'delete': '4'};\n  if (a.get('path') == b.get('path')) {\n    return order[a.get('method')].localeCompare(order[b.get('method')]);\n  }\n  if (a.get('path').split('/').length == b.get('path').split('/').length) {\n    return a.get('path').split('/').slice(-1)[0].localeCompare(b.get('path').split('/').slice(-1)[0]);\n  }\n  return a.get('path').split('/').length - b.get('path').split('/').length;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24744086,"reputation":41,"user_id":18630473,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648634891,"creation_date":1648634891,"answer_id":71675285,"question_id":57528402,"body_markdown":"Sorting operations in Swagger UI - Sort by **specific http verb order**, then by **path**\r\n\r\n    operationsSorter: function (a, b) {\r\n              const order = {\r\n                  &#39;get&#39;: &#39;0&#39;, &#39;post&#39;: &#39;1&#39;, &#39;patch&#39;: &#39;2&#39;, &#39;put&#39;: &#39;3&#39;, &#39;delete&#39;: &#39;4&#39;,\r\n                  &#39;head&#39;: &#39;5&#39;, &#39;options&#39;: &#39;6&#39;, &#39;connect&#39;: &#39;7&#39;, &#39;trace&#39;: &#39;8&#39;\r\n              };\r\n              return (\r\n                  order[a.get(&quot;method&quot;)].localeCompare(order[b.get(&quot;method&quot;)])\r\n                  || a.get(&quot;path&quot;).localeCompare(b.get(&quot;path&quot;))\r\n              );\r\n    }","title":"How do I manually order the endpoints displayed on Swagger UI?","body":"<p>Sorting operations in Swagger UI - Sort by <strong>specific http verb order</strong>, then by <strong>path</strong></p>\n<pre><code>operationsSorter: function (a, b) {\n          const order = {\n              'get': '0', 'post': '1', 'patch': '2', 'put': '3', 'delete': '4',\n              'head': '5', 'options': '6', 'connect': '7', 'trace': '8'\n          };\n          return (\n              order[a.get(&quot;method&quot;)].localeCompare(order[b.get(&quot;method&quot;)])\n              || a.get(&quot;path&quot;).localeCompare(b.get(&quot;path&quot;))\n          );\n}\n</code></pre>\n"}],"owner":{"account_id":15327399,"reputation":137,"user_id":11058144,"display_name":"user11058144"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11972,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1662034080,"creation_date":1565974275,"question_id":57528402,"body_markdown":"I&#39;m using Docket to configure my Swagger 2 instance.\r\nBut the only Options I currently see are to sort by Type (POST, GET, etc.) or by endpoint name (a-z).\r\n\r\nThere is a logical order to my endpoints and I&#39;d like to display them in that order \r\n\r\n### What I want:\r\n```\r\nPOST /start\r\nPOST /uplaod\r\nPOST /finalize\r\nPOST /checkStatus\r\n```\r\n\r\n### Instead I get something like this:\r\n```\r\nPOST /checkStatus\r\nPOST /finalize\r\nPOST /start\r\nPOST /upload\r\n```\r\n\r\n### Code:\r\n```\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .host(swaggerHost)\r\n                .pathProvider(new RelativePathProvider(servletContext) {\r\n\r\n                    @Override\r\n                    public String getApplicationBasePath() {\r\n                        return swaggerBasePath;\r\n                    }\r\n                })\r\n                .select()\r\n                .apis(RequestHandlerSelectors.withClassAnnotation(Api.class))\r\n                .build()\r\n                .apiInfo(apiInfo())\r\n                .securitySchemes(Collections.singletonList(securitySchema()))\r\n                .securityContexts(Collections.singletonList(securityContext()));\r\n    }\r\n```","title":"How do I manually order the endpoints displayed on Swagger UI?","body":"<p>I'm using Docket to configure my Swagger 2 instance.\nBut the only Options I currently see are to sort by Type (POST, GET, etc.) or by endpoint name (a-z).</p>\n\n<p>There is a logical order to my endpoints and I'd like to display them in that order </p>\n\n<h3>What I want:</h3>\n\n<pre><code>POST /start\nPOST /uplaod\nPOST /finalize\nPOST /checkStatus\n</code></pre>\n\n<h3>Instead I get something like this:</h3>\n\n<pre><code>POST /checkStatus\nPOST /finalize\nPOST /start\nPOST /upload\n</code></pre>\n\n<h3>Code:</h3>\n\n<pre><code>    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .host(swaggerHost)\n                .pathProvider(new RelativePathProvider(servletContext) {\n\n                    @Override\n                    public String getApplicationBasePath() {\n                        return swaggerBasePath;\n                    }\n                })\n                .select()\n                .apis(RequestHandlerSelectors.withClassAnnotation(Api.class))\n                .build()\n                .apiInfo(apiInfo())\n                .securitySchemes(Collections.singletonList(securitySchema()))\n                .securityContexts(Collections.singletonList(securityContext()));\n    }\n</code></pre>\n"},{"tags":["java","design-patterns","decorator"],"comments":[{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1661996523,"post_id":73562764,"comment_id":129906147,"body_markdown":"`RedirectAdultUserHandler2` is nothing more than a subclass of `UserHandler`. It&#39;s a standard example of inheritance (`extends`) with polymorphism (`@Override`). Just basic OOP stuff.","body":"<code>RedirectAdultUserHandler2</code> is nothing more than a subclass of <code>UserHandler</code>. It&#39;s a standard example of inheritance (<code>extends</code>) with polymorphism (<code>@Override</code>). Just basic OOP stuff."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662033999,"creation_date":1662033999,"answer_id":73569086,"question_id":73562764,"body_markdown":"Here not any pattern is used. `RedirectAdultUserHandler2` and `RedirectAdultUserHandler1` are subclasses of `UserHandler`. So it can be concluded that just [inheritance][1] is used here.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)","title":"What is the name of that pattern in java?","body":"<p>Here not any pattern is used. <code>RedirectAdultUserHandler2</code> and <code>RedirectAdultUserHandler1</code> are subclasses of <code>UserHandler</code>. So it can be concluded that just <a href=\"https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)\" rel=\"nofollow noreferrer\">inheritance</a> is used here.</p>\n"}],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73569086,"answer_count":1,"score":0,"last_activity_date":1662033999,"creation_date":1661987308,"question_id":73562764,"body_markdown":"What is the name of that pattern in java? Please see the implementation of `RedirectAdultUserHandler1` and `RedirectAdultUserHandler2` classes.\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            new Main().run();\r\n        }\r\n    \r\n        private void run() {\r\n            final List&lt;User&gt; users = Arrays.asList(\r\n                new User(&quot;john&quot;, 1),\r\n                new User(&quot;jeff&quot;, 22),\r\n                new User(&quot;jack&quot;, 333)\r\n            );\r\n            UserHandler handler1 = new RedirectAdultUserHandler1(new UserHandler());\r\n            UserHandler handler2 = new RedirectAdultUserHandler2();\r\n            handler1.processAll(users);\r\n            handler2.processAll(users);\r\n        }\r\n    \r\n    }\r\n\r\n    class User {\r\n        private final String name;\r\n        private final int age;\r\n    \r\n        User(final String name, final int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;User{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, age=&quot; + age +\r\n                &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    class UserHandler {\r\n        public void processAll(List&lt;User&gt; users) {\r\n            users.forEach(user -&gt; process(user, &quot;users&quot;));\r\n            System.out.println();\r\n        }\r\n    \r\n        public void process(User user, String tableName) {\r\n            System.out.printf(&quot;%s stored into %s%n&quot;, user, tableName);\r\n        }\r\n    }\r\n    \r\n    class RedirectAdultUserHandler1 extends UserHandler {\r\n        private final UserHandler original;\r\n    \r\n        public RedirectAdultUserHandler1(final UserHandler original) {\r\n            this.original = original;\r\n        }\r\n    \r\n        @Override\r\n        public void processAll(final List&lt;User&gt; users) {\r\n            original.processAll(users);\r\n        }\r\n    \r\n        @Override\r\n        public void process(final User user, final String tableName) {\r\n            if (user.getAge() &gt;= 18) {\r\n                original.process(user, &quot;adult_users&quot;);\r\n            }\r\n            original.process(user, tableName);\r\n        }\r\n    }\r\n    \r\n    class RedirectAdultUserHandler2 extends UserHandler {\r\n        @Override\r\n        public void process(final User user, final String tableName) {\r\n            if (user.getAge() &gt;= 18) {\r\n                super.process(user, &quot;adult_users&quot;);\r\n            }\r\n            super.process(user, tableName);\r\n        }\r\n    }\r\n\r\nThe `RedirectAdultUserHandler1` is a decorator, but what about the `RedirectAdultUserHandler2` one? Is there some name for that?","title":"What is the name of that pattern in java?","body":"<p>What is the name of that pattern in java? Please see the implementation of <code>RedirectAdultUserHandler1</code> and <code>RedirectAdultUserHandler2</code> classes.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws Exception {\n        new Main().run();\n    }\n\n    private void run() {\n        final List&lt;User&gt; users = Arrays.asList(\n            new User(&quot;john&quot;, 1),\n            new User(&quot;jeff&quot;, 22),\n            new User(&quot;jack&quot;, 333)\n        );\n        UserHandler handler1 = new RedirectAdultUserHandler1(new UserHandler());\n        UserHandler handler2 = new RedirectAdultUserHandler2();\n        handler1.processAll(users);\n        handler2.processAll(users);\n    }\n\n}\n\nclass User {\n    private final String name;\n    private final int age;\n\n    User(final String name, final int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n            &quot;name='&quot; + name + '\\'' +\n            &quot;, age=&quot; + age +\n            '}';\n    }\n}\n\nclass UserHandler {\n    public void processAll(List&lt;User&gt; users) {\n        users.forEach(user -&gt; process(user, &quot;users&quot;));\n        System.out.println();\n    }\n\n    public void process(User user, String tableName) {\n        System.out.printf(&quot;%s stored into %s%n&quot;, user, tableName);\n    }\n}\n\nclass RedirectAdultUserHandler1 extends UserHandler {\n    private final UserHandler original;\n\n    public RedirectAdultUserHandler1(final UserHandler original) {\n        this.original = original;\n    }\n\n    @Override\n    public void processAll(final List&lt;User&gt; users) {\n        original.processAll(users);\n    }\n\n    @Override\n    public void process(final User user, final String tableName) {\n        if (user.getAge() &gt;= 18) {\n            original.process(user, &quot;adult_users&quot;);\n        }\n        original.process(user, tableName);\n    }\n}\n\nclass RedirectAdultUserHandler2 extends UserHandler {\n    @Override\n    public void process(final User user, final String tableName) {\n        if (user.getAge() &gt;= 18) {\n            super.process(user, &quot;adult_users&quot;);\n        }\n        super.process(user, tableName);\n    }\n}\n</code></pre>\n<p>The <code>RedirectAdultUserHandler1</code> is a decorator, but what about the <code>RedirectAdultUserHandler2</code> one? Is there some name for that?</p>\n"},{"tags":["java","linux","docker"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1661428027,"post_id":73480521,"comment_id":129772974,"body_markdown":"`chmod 777 /etc/sudoers.d/$USERNAME` Congratulations, your non-root user is effectively root now :)","body":"<code>chmod 777 &#47;etc&#47;sudoers.d&#47;$USERNAME</code> Congratulations, your non-root user is effectively root now :)"},{"owner":{"account_id":25861342,"reputation":912,"user_id":19593797,"display_name":"Tobias"},"score":0,"creation_date":1661428245,"post_id":73480521,"comment_id":129773042,"body_markdown":"&quot;execute this dockerfile as a non-root user&quot;: What do you mean with this? Execute the container? Execute something in the container?","body":"&quot;execute this dockerfile as a non-root user&quot;: What do you mean with this? Execute the container? Execute something in the container?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1661433642,"post_id":73480521,"comment_id":129775211,"body_markdown":"Do you actually need to run `mvn clean` when you run the container?  If you delete &quot;clean&quot; from the `CMD` and only run `mvn verify` does it work better?  If this is just running unit tests, can you run them from outside Docker?","body":"Do you actually need to run <code>mvn clean</code> when you run the container?  If you delete &quot;clean&quot; from the <code>CMD</code> and only run <code>mvn verify</code> does it work better?  If this is just running unit tests, can you run them from outside Docker?"},{"owner":{"account_id":25422667,"reputation":1,"user_id":19228325,"display_name":"Cody Wirth"},"score":0,"creation_date":1661996041,"post_id":73480521,"comment_id":129906077,"body_markdown":"@tobias this means to create the entire dir `app/` as a root user having permissions to edit the root dir to edit `settings.xml` and then before running the CMD to run the application, logging into a newly created non-root user to run the application but with root permissions (writeable, editable, executable). Is this possible? The solution provided with code did not work as expected. Thank you.","body":"@tobias this means to create the entire dir <code>app&#47;</code> as a root user having permissions to edit the root dir to edit <code>settings.xml</code> and then before running the CMD to run the application, logging into a newly created non-root user to run the application but with root permissions (writeable, editable, executable). Is this possible? The solution provided with code did not work as expected. Thank you."},{"owner":{"account_id":25422667,"reputation":1,"user_id":19228325,"display_name":"Cody Wirth"},"score":0,"creation_date":1661996228,"post_id":73480521,"comment_id":129906105,"body_markdown":"@DavidMaze unfortunately that is the series of commands I have to use and we do have to include testing to pass in docker as part of build safety.","body":"@DavidMaze unfortunately that is the series of commands I have to use and we do have to include testing to pass in docker as part of build safety."}],"answers":[{"tags":[],"owner":{"account_id":18835704,"reputation":21,"user_id":16967241,"display_name":"Chikung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662033994,"creation_date":1661427910,"answer_id":73486892,"question_id":73480521,"body_markdown":"If i understand well your needs, on the official docker maven image give you have a way to follow : \r\n\r\nWhy not fully use a non-root user to run maven (and not trying to write in the root directory) ?\r\n\r\nat this page : [https://hub.docker.com/_/maven][1] under the header named \r\n\r\n&gt; Running as non-root\r\n\r\n  [1]: https://hub.docker.com/_/maven\r\n\r\nit tells you to use a *MAVEN_CONFIG* env var and to add the *-Duser.home=* flag when calling maven to run maven without using the root user\r\n\r\nhere is the full Dockerfile modified using this way (from your own Dockerfile):\r\n\r\n    # Custom image from Maven on DockerHub\r\n    # Language: dockerfile\r\n    FROM maven:3.6.3-amazoncorretto-8\r\n\r\n    # Set the working dir\r\n    WORKDIR /app\r\n\r\n    # Create a non root user\r\n    ARG USERNAME=jefferson\r\n    ARG USER_UID=1000\r\n    ARG USER_GID=$USER_UID\r\n\r\n    # Add linux dependenciesq\r\n    RUN yum install wget -y\r\n    RUN yum install shadow-utils -y\r\n\r\n    ENV MAVEN_CONFIG=/var/maven/.m2\r\n\r\n    # Create the user\r\n    RUN groupadd --gid $USER_GID $USERNAME \\\r\n        &amp;&amp; useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\r\n        &amp;&amp; yum install sudo -y \\\r\n        &amp;&amp; echo $USERNAME ALL=\\(root\\) NOPASSWD:ALL &gt; /etc/sudoers.d/$USERNAME \\\r\n        &amp;&amp; chmod 600 /etc/sudoers.d/$USERNAME \\\r\n        &amp;&amp; sudo groupadd docker \\\r\n        &amp;&amp; sudo usermod -aG docker $USERNAME \\\r\n        &amp;&amp; newgrp docker \r\n\r\n    # Change to the root folder and edit the settings.xml for Maven\r\n    WORKDIR &quot;/var/maven/.m2&quot;\r\n    RUN rm -rf settings.xml \\\r\n        &amp;&amp; chown $USER_UID:$USER_GID .\r\n    RUN echo &#39;&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; \\\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \\\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 \\\r\n    http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt; \\\r\n    &lt;/settings&gt;&#39; &gt;&gt; settings.xml\r\n\r\n    WORKDIR /app\r\n\r\n    COPY . ./\r\n\r\n    USER $USERNAME\r\n\r\n    # Run the application\r\n    CMD [&quot;mvn&quot;, &quot;clean&quot;, &quot;verify&quot;, &quot;-Duser.home=/var/maven&quot;, &quot;-Pcargo.run&quot;, &quot;-X&quot;]\r\n\r\n\r\nthe rights of the sudoers file you added was too permissive so i changed it to 600.\r\n\r\n*as an example :* \r\n\r\nwith the following command line (**you don&#39;t** have to run this command line in your case because the example command line given (on the maven docker image site) is just starting a new container with interactive mode and mounting volumes)\r\n\r\n&gt; docker run -v ~/.m2:/var/maven/.m2 -ti --rm -u 1000 -e MAVEN_CONFIG=/var/maven/.m2 maven mvn -Duser.home=/var/maven archetype:generate","title":"How to configure Dockerfile for non-root user but give them access privileges to write to a file in the root dir?","body":"<p>If i understand well your needs, on the official docker maven image give you have a way to follow :</p>\n<p>Why not fully use a non-root user to run maven (and not trying to write in the root directory) ?</p>\n<p>at this page : <a href=\"https://hub.docker.com/_/maven\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/maven</a> under the header named</p>\n<blockquote>\n<p>Running as non-root</p>\n</blockquote>\n<p>it tells you to use a <em>MAVEN_CONFIG</em> env var and to add the <em>-Duser.home=</em> flag when calling maven to run maven without using the root user</p>\n<p>here is the full Dockerfile modified using this way (from your own Dockerfile):</p>\n<pre><code># Custom image from Maven on DockerHub\n# Language: dockerfile\nFROM maven:3.6.3-amazoncorretto-8\n\n# Set the working dir\nWORKDIR /app\n\n# Create a non root user\nARG USERNAME=jefferson\nARG USER_UID=1000\nARG USER_GID=$USER_UID\n\n# Add linux dependenciesq\nRUN yum install wget -y\nRUN yum install shadow-utils -y\n\nENV MAVEN_CONFIG=/var/maven/.m2\n\n# Create the user\nRUN groupadd --gid $USER_GID $USERNAME \\\n    &amp;&amp; useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\n    &amp;&amp; yum install sudo -y \\\n    &amp;&amp; echo $USERNAME ALL=\\(root\\) NOPASSWD:ALL &gt; /etc/sudoers.d/$USERNAME \\\n    &amp;&amp; chmod 600 /etc/sudoers.d/$USERNAME \\\n    &amp;&amp; sudo groupadd docker \\\n    &amp;&amp; sudo usermod -aG docker $USERNAME \\\n    &amp;&amp; newgrp docker \n\n# Change to the root folder and edit the settings.xml for Maven\nWORKDIR &quot;/var/maven/.m2&quot;\nRUN rm -rf settings.xml \\\n    &amp;&amp; chown $USER_UID:$USER_GID .\nRUN echo '&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; \\\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \\\nxsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 \\\nhttp://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt; \\\n&lt;/settings&gt;' &gt;&gt; settings.xml\n\nWORKDIR /app\n\nCOPY . ./\n\nUSER $USERNAME\n\n# Run the application\nCMD [&quot;mvn&quot;, &quot;clean&quot;, &quot;verify&quot;, &quot;-Duser.home=/var/maven&quot;, &quot;-Pcargo.run&quot;, &quot;-X&quot;]\n</code></pre>\n<p>the rights of the sudoers file you added was too permissive so i changed it to 600.</p>\n<p><em>as an example :</em></p>\n<p>with the following command line (<strong>you don't</strong> have to run this command line in your case because the example command line given (on the maven docker image site) is just starting a new container with interactive mode and mounting volumes)</p>\n<blockquote>\n<p>docker run -v ~/.m2:/var/maven/.m2 -ti --rm -u 1000 -e MAVEN_CONFIG=/var/maven/.m2 maven mvn -Duser.home=/var/maven archetype:generate</p>\n</blockquote>\n"}],"owner":{"account_id":25422667,"reputation":1,"user_id":19228325,"display_name":"Cody Wirth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1920,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662033994,"creation_date":1661384927,"question_id":73480521,"body_markdown":"New to linux and working on containerizing our stack and essentially here is the problem that I am running into with the code below:\r\n\r\na) I have to execute this dockerfile as a non-root user for elastic search to work (requirement)\r\n\r\nb)If I add `USER $USERNAME` to the bottom of the script before CMD i get the error:\r\n&quot;mkdir: cannot create directory ‘/root’: Permission denied\r\nCan not write to /root/.m2/copy_reference_file.log. Wrong volume permissions? Carrying on&quot;\r\n\r\nc) If I remove the `USER $USERNAME` from the bottom of the file then I get the elastic search issue referenced above.\r\n\r\nWhat I am asking is, how can I fix this in my dockerfile?\r\n```\r\n# Custom image from Maven on DockerHub\r\n# Language: dockerfile\r\nFROM maven:3.6.3-amazoncorretto-8\r\n\r\n# Set the working dir\r\nWORKDIR /app\r\n\r\n# Create a non root user\r\nARG USERNAME=jefferson\r\nARG USER_UID=1000\r\nARG USER_GID=$USER_UID\r\n\r\n# Add linux dependenciesq\r\nRUN yum install wget -y\r\nRUN yum install shadow-utils -y\r\n\r\n# Create the user\r\nRUN groupadd --gid $USER_GID $USERNAME \\\r\n    &amp;&amp; useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\r\n    &amp;&amp; yum install sudo -y \\\r\n    &amp;&amp; echo $USERNAME ALL=\\(root\\) NOPASSWD:ALL &gt; /etc/sudoers.d/$USERNAME \\\r\n    &amp;&amp; chmod 777 /etc/sudoers.d/$USERNAME \\\r\n    &amp;&amp; sudo groupadd docker \\\r\n    &amp;&amp; sudo usermod -aG docker $USERNAME \\\r\n    &amp;&amp; newgrp docker \r\n\r\n# Change to the root folder and edit the settings.xml for Maven\r\nWORKDIR /root/.m2\r\nRUN rm -rf settings.xml\r\nRUN echo &#39;&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; \\\r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \\\r\nxsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 \\\r\nhttp://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt; \\\r\n&lt;/settings&gt;&#39; &gt;&gt; settings.xml\r\n\r\nWORKDIR /app\r\n\r\nCOPY . ./\r\n\r\nUSER $USERNAME\r\n\r\n# Run the application\r\nCMD [&quot;mvn&quot;, &quot;clean&quot;, &quot;verify&quot;, &quot;-Pcargo.run&quot;, &quot;-X&quot;]\r\n```","title":"How to configure Dockerfile for non-root user but give them access privileges to write to a file in the root dir?","body":"<p>New to linux and working on containerizing our stack and essentially here is the problem that I am running into with the code below:</p>\n<p>a) I have to execute this dockerfile as a non-root user for elastic search to work (requirement)</p>\n<p>b)If I add <code>USER $USERNAME</code> to the bottom of the script before CMD i get the error:\n&quot;mkdir: cannot create directory ‘/root’: Permission denied\nCan not write to /root/.m2/copy_reference_file.log. Wrong volume permissions? Carrying on&quot;</p>\n<p>c) If I remove the <code>USER $USERNAME</code> from the bottom of the file then I get the elastic search issue referenced above.</p>\n<p>What I am asking is, how can I fix this in my dockerfile?</p>\n<pre><code># Custom image from Maven on DockerHub\n# Language: dockerfile\nFROM maven:3.6.3-amazoncorretto-8\n\n# Set the working dir\nWORKDIR /app\n\n# Create a non root user\nARG USERNAME=jefferson\nARG USER_UID=1000\nARG USER_GID=$USER_UID\n\n# Add linux dependenciesq\nRUN yum install wget -y\nRUN yum install shadow-utils -y\n\n# Create the user\nRUN groupadd --gid $USER_GID $USERNAME \\\n    &amp;&amp; useradd --uid $USER_UID --gid $USER_GID -m $USERNAME \\\n    &amp;&amp; yum install sudo -y \\\n    &amp;&amp; echo $USERNAME ALL=\\(root\\) NOPASSWD:ALL &gt; /etc/sudoers.d/$USERNAME \\\n    &amp;&amp; chmod 777 /etc/sudoers.d/$USERNAME \\\n    &amp;&amp; sudo groupadd docker \\\n    &amp;&amp; sudo usermod -aG docker $USERNAME \\\n    &amp;&amp; newgrp docker \n\n# Change to the root folder and edit the settings.xml for Maven\nWORKDIR /root/.m2\nRUN rm -rf settings.xml\nRUN echo '&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; \\\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \\\nxsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 \\\nhttp://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt; \\\n&lt;/settings&gt;' &gt;&gt; settings.xml\n\nWORKDIR /app\n\nCOPY . ./\n\nUSER $USERNAME\n\n# Run the application\nCMD [&quot;mvn&quot;, &quot;clean&quot;, &quot;verify&quot;, &quot;-Pcargo.run&quot;, &quot;-X&quot;]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","connection-pool"],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661320153,"creation_date":1661320153,"answer_id":73468009,"question_id":73467750,"body_markdown":"`Connection pooling` helps reducing in creating database connections everytime a database call is encountered.\r\n\r\n`Pool` would be nothing but set of connections (ideally active) (Like we have `thread pool` ), when requested will return one active connection ( or create one for first database request) , `instance` would be a misfit word here !\r\n\r\nTo answer first part of your question, it is initialized during application startup when that `spring.datasource.hikari...` property is encountered.\r\n\r\n**Below link explains this concept well**\r\n\r\nhttps://coderstea.in/post/best-practices/jdbc-connection-pooling-explained-with-hikaricp/ ","title":"When does a Hikari pool connections work? - Spring/Spring Boot","body":"<p><code>Connection pooling</code> helps reducing in creating database connections everytime a database call is encountered.</p>\n<p><code>Pool</code> would be nothing but set of connections (ideally active) (Like we have <code>thread pool</code> ), when requested will return one active connection ( or create one for first database request) , <code>instance</code> would be a misfit word here !</p>\n<p>To answer first part of your question, it is initialized during application startup when that <code>spring.datasource.hikari...</code> property is encountered.</p>\n<p><strong>Below link explains this concept well</strong></p>\n<p><a href=\"https://coderstea.in/post/best-practices/jdbc-connection-pooling-explained-with-hikaricp/\" rel=\"nofollow noreferrer\">https://coderstea.in/post/best-practices/jdbc-connection-pooling-explained-with-hikaricp/</a></p>\n"},{"tags":[],"owner":{"account_id":21412375,"reputation":61,"user_id":15772257,"display_name":"will"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661327002,"creation_date":1661326854,"answer_id":73469217,"question_id":73467750,"body_markdown":"1:\r\nA connection pool will be created when the first connection is creating. For example when the first SQL is executed. `{@link com.zaxxer.hikari.HikariDataSource#getConnection()}`. \r\n\r\nThis is my case and maybe it&#39;s different according the ORM you are using.\r\n\r\nConnection instances will be created by the connection pool. `{@link com.zaxxer.hikari.pool.HikariPool#poolEntryCreator} {@link com.zaxxer.hikari.pool.HikariPool#postFillPoolEntryCreator}`\r\n\r\n&quot;spring.datasource.hikari.maximum-pool-size=50&quot; means that the connection pool would not create connection instance more than 50. So it is the limit for connection instance count in connection pool.\r\n\r\n2:\r\nSpring Bean is singleton by default. But connection instances in the conneciton pool are not &quot;spring bean&quot; and they are created from &quot;new PoolEntry&quot;. `{@link com.zaxxer.hikari.pool.HikariPool#createPoolEntry}`","title":"When does a Hikari pool connections work? - Spring/Spring Boot","body":"<p>1:\nA connection pool will be created when the first connection is creating. For example when the first SQL is executed. <code>{@link com.zaxxer.hikari.HikariDataSource#getConnection()}</code>.</p>\n<p>This is my case and maybe it's different according the ORM you are using.</p>\n<p>Connection instances will be created by the connection pool. <code>{@link com.zaxxer.hikari.pool.HikariPool#poolEntryCreator} {@link com.zaxxer.hikari.pool.HikariPool#postFillPoolEntryCreator}</code></p>\n<p>&quot;spring.datasource.hikari.maximum-pool-size=50&quot; means that the connection pool would not create connection instance more than 50. So it is the limit for connection instance count in connection pool.</p>\n<p>2:\nSpring Bean is singleton by default. But connection instances in the conneciton pool are not &quot;spring bean&quot; and they are created from &quot;new PoolEntry&quot;. <code>{@link com.zaxxer.hikari.pool.HikariPool#createPoolEntry}</code></p>\n"}],"owner":{"account_id":9344039,"reputation":49,"user_id":6935793,"display_name":"murali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2529,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1662033968,"creation_date":1661318248,"question_id":73467750,"body_markdown":"I have the below doubts on the Hikari or any database pooling concept.\r\n\r\n1) When does the connection pool gets created?  \r\nSuppose if I have mentioned `spring.datasource.hikari.maximum-pool-size=50`  \r\nWill it create 50 database instances?\r\n\r\n2) As by default, Spring scopes on classes in singleton, how 50 instances are created?\r\n","title":"When does a Hikari pool connections work? - Spring/Spring Boot","body":"<p>I have the below doubts on the Hikari or any database pooling concept.</p>\n<ol>\n<li><p>When does the connection pool gets created?<br />\nSuppose if I have mentioned <code>spring.datasource.hikari.maximum-pool-size=50</code><br />\nWill it create 50 database instances?</p>\n</li>\n<li><p>As by default, Spring scopes on classes in singleton, how 50 instances are created?</p>\n</li>\n</ol>\n"},{"tags":["java","json","response"],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661859856,"creation_date":1661859856,"answer_id":73541907,"question_id":73541843,"body_markdown":"you&#39;ll just have to navigate along\r\n\r\n    int duration = responseAsJson.getJSONObject(&quot;duration&quot;).getInt(&quot;value&quot;);\r\n    int distance = responseAsJson.getJSONObject(&quot;distance&quot;).getInt(&quot;value&quot;);","title":"JSONObject - how can I get a value from the response?","body":"<p>you'll just have to navigate along</p>\n<pre><code>int duration = responseAsJson.getJSONObject(&quot;duration&quot;).getInt(&quot;value&quot;);\nint distance = responseAsJson.getJSONObject(&quot;distance&quot;).getInt(&quot;value&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26197850,"reputation":1,"user_id":19878715,"display_name":"Odi3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662033711,"creation_date":1661860089,"answer_id":73541953,"question_id":73541843,"body_markdown":"```csharp\r\npublic class YourResponse\r\n{\r\n    public string duration { get; set; }\r\n    public string distance { get; set; }\r\n}\r\n\r\nYourResponse response = JsonSerializer.Deserialize&lt;YourResponse&gt;(result);\r\n```","title":"JSONObject - how can I get a value from the response?","body":"<pre class=\"lang-cs prettyprint-override\"><code>public class YourResponse\n{\n    public string duration { get; set; }\n    public string distance { get; set; }\n}\n\nYourResponse response = JsonSerializer.Deserialize&lt;YourResponse&gt;(result);\n</code></pre>\n"}],"owner":{"account_id":18025801,"reputation":149,"user_id":13101805,"display_name":"HappyProgrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73541907,"answer_count":2,"score":0,"last_activity_date":1662033711,"creation_date":1661859571,"question_id":73541843,"body_markdown":"I have a response which contains values which I need. \r\n\r\n    private void getDataFromDistanceMatrixToSaveAndAddToList(\r\n           GRATestDataImport place, String response) {\r\n\r\n        JSONObject responseAsJson = new JSONObject(response).getJSONArray(&quot;rows&quot;)\r\n                                                            .getJSONObject(0)\r\n                                                            .getJSONArray(&quot;elements&quot;)\r\n                                                            .getJSONObject(0); \r\n    }\r\n\r\n\r\n&#39;response&#39; in params includes: \r\n\r\n    {\r\n      &quot;destination&quot;: [\r\n        &quot;54.375,18.59&quot;\r\n      ],\r\n      &quot;origin&quot;: [\r\n        &quot;54.001,21.721&quot;\r\n      ],\r\n      &quot;rows&quot;: [\r\n        {\r\n          &quot;elements&quot;: [\r\n            {\r\n              &quot;distance&quot;: {\r\n                &quot;text&quot;: &quot;304.4 km&quot;,\r\n                &quot;value&quot;: 304403\r\n              },\r\n              &quot;duration&quot;: {\r\n                &quot;text&quot;: &quot;3 h 53 min&quot;,\r\n                &quot;value&quot;: 14003\r\n              },\r\n              &quot;status&quot;: &quot;OK&quot;\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;status&quot;: &quot;OK&quot;\r\n    } \r\n\r\n   \r\n\r\nvalue: &#39;responseAsJson&#39; in my method is: \r\n\r\n    {\r\n      &quot;duration&quot;: {\r\n        &quot;text&quot;: &quot;3 h 53 min&quot;,\r\n        &quot;value&quot;: 14003\r\n      },\r\n      &quot;distance&quot;: {\r\n        &quot;text&quot;: &quot;304.4 km&quot;,\r\n        &quot;value&quot;: 304403\r\n      },\r\n      &quot;status&quot;: &quot;OK&quot;\r\n    }\r\n\r\nHow can I get value from the duration and the distance ? \r\n","title":"JSONObject - how can I get a value from the response?","body":"<p>I have a response which contains values which I need.</p>\n<pre><code>private void getDataFromDistanceMatrixToSaveAndAddToList(\n       GRATestDataImport place, String response) {\n\n    JSONObject responseAsJson = new JSONObject(response).getJSONArray(&quot;rows&quot;)\n                                                        .getJSONObject(0)\n                                                        .getJSONArray(&quot;elements&quot;)\n                                                        .getJSONObject(0); \n}\n</code></pre>\n<p>'response' in params includes:</p>\n<pre><code>{\n  &quot;destination&quot;: [\n    &quot;54.375,18.59&quot;\n  ],\n  &quot;origin&quot;: [\n    &quot;54.001,21.721&quot;\n  ],\n  &quot;rows&quot;: [\n    {\n      &quot;elements&quot;: [\n        {\n          &quot;distance&quot;: {\n            &quot;text&quot;: &quot;304.4 km&quot;,\n            &quot;value&quot;: 304403\n          },\n          &quot;duration&quot;: {\n            &quot;text&quot;: &quot;3 h 53 min&quot;,\n            &quot;value&quot;: 14003\n          },\n          &quot;status&quot;: &quot;OK&quot;\n        }\n      ]\n    }\n  ],\n  &quot;status&quot;: &quot;OK&quot;\n} \n</code></pre>\n<p>value: 'responseAsJson' in my method is:</p>\n<pre><code>{\n  &quot;duration&quot;: {\n    &quot;text&quot;: &quot;3 h 53 min&quot;,\n    &quot;value&quot;: 14003\n  },\n  &quot;distance&quot;: {\n    &quot;text&quot;: &quot;304.4 km&quot;,\n    &quot;value&quot;: 304403\n  },\n  &quot;status&quot;: &quot;OK&quot;\n}\n</code></pre>\n<p>How can I get value from the duration and the distance ?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1662012336,"post_id":73564863,"comment_id":129908481,"body_markdown":"for one, this: System.out.println(&quot;The sum value of the elements is:&quot; + sum); should be after the loop, not in it. What exactly is going wrong with your code? have you debugged your code to see what it does?","body":"for one, this: System.out.println(&quot;The sum value of the elements is:&quot; + sum); should be after the loop, not in it. What exactly is going wrong with your code? have you debugged your code to see what it does?"},{"owner":{"account_id":1524489,"reputation":2398,"user_id":1423259,"accept_rate":59,"display_name":"tommueller"},"score":0,"creation_date":1662012631,"post_id":73564863,"comment_id":129908558,"body_markdown":"In the code it seems like count_index is not declared.","body":"In the code it seems like count_index is not declared."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1662012721,"post_id":73564863,"comment_id":129908584,"body_markdown":"@tommueller it is","body":"@tommueller it is"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1662012760,"post_id":73564863,"comment_id":129908594,"body_markdown":"@nights I just tried your code here. a few remarks: you&#39;ll need to add an &#39;;&#39; after the line count_index++ . Besides that, your code works without the issues you mentioned","body":"@nights I just tried your code here. a few remarks: you&#39;ll need to add an &#39;;&#39; after the line count_index++ . Besides that, your code works without the issues you mentioned"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1662012908,"post_id":73564863,"comment_id":129908628,"body_markdown":"one thing that&#39;s also off: when reading the data, you have a hardcoded length of 5, where you should use the value of The_scan","body":"one thing that&#39;s also off: when reading the data, you have a hardcoded length of 5, where you should use the value of The_scan"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1662016202,"post_id":73564863,"comment_id":129909495,"body_markdown":"`Arrays.stream(inputted_array).summaryStatistics()` will actually do all the sum and average work for you - but if this is an assignment that is probably not what is wanted.","body":"<code>Arrays.stream(inputted_array).summaryStatistics()</code> will actually do all the sum and average work for you - but if this is an assignment that is probably not what is wanted."}],"answers":[{"tags":[],"owner":{"display_name":"user14093271"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662033175,"creation_date":1662015481,"answer_id":73565316,"question_id":73564863,"body_markdown":"There were couple of errors in your code, might be that is the reason of you code not running properly. And I also saw that you gave an option to the user to choose the length of the array but you did not use the value they entered at all. \r\n\r\nHere are some fixes and now it works fine.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class arraySumAndAvg {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.print(&quot;Enter the number of element in the array:&quot;);\r\n            int The_scan = sc.nextInt();\r\n            int count_index,sum;\r\n            count_index = 0;\r\n            sum = 0;\r\n            float average = 0;\r\n            int[] inputted_array = new int[The_scan];\r\n            for (int i = 0 ; i &lt; The_scan ; i++){\r\n                inputted_array[i] = sc.nextInt();\r\n            }\r\n            System.out.println(&quot;The elements are: &quot;+ Arrays.toString(inputted_array));\r\n            System.out.print(&quot;What is the element to be search: &quot;);\r\n            int search = sc.nextInt();\r\n            for(int i = 0; i &lt; The_scan; i++ ){\r\n                if(inputted_array[i] == search) {\r\n                    System.out.println(&quot;Element &quot; + search + &quot; is found in index &quot; + i + &#39;.&#39;);\r\n                    count_index ++;\r\n                }\r\n            }\r\n            if(count_index == 0){\r\n                System.out.println(&quot;Element &quot;+search+&quot; not found&quot;);\r\n            }\r\n            for (int i =0; i &lt;inputted_array.length ;i++ ){\r\n                sum = sum + inputted_array[i];\r\n                \r\n            }\r\n    System.out.println(&quot;The sum value of the elements is:&quot; + sum);\r\n            average = sum/ inputted_array.length;\r\n            System.out.println(&quot;The average value of the elements is:&quot; + average);\r\n        }\r\n    }\r\n\r\n\r\n**What I changed.**\r\n\r\nI updated the code so that the inputted_array can now store the numbers up to which the user defines rather than only 5 numbers.\r\n\r\n**previously**\r\n\r\n  \r\n\r\n    int[] inputted_array = new int[5];\r\n    for (int i = 0 ; i &lt; 5; i++){\r\n        // statements.\r\n    }\r\n\r\n**Now**\r\n\r\n    int The_scan = sc.nextInt();\r\n    \r\n    int[] inputted_array = new int[The_scan];\r\n    for (int i = 0 ; i &lt; The_scan; i++){\r\n        // statements.\r\n    }\r\n\r\nand I also fixed some syntax errors.\r\n\r\n\r\n","title":"How can I compute the sum and the average of the given array?","body":"<p>There were couple of errors in your code, might be that is the reason of you code not running properly. And I also saw that you gave an option to the user to choose the length of the array but you did not use the value they entered at all.</p>\n<p>Here are some fixes and now it works fine.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class arraySumAndAvg {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter the number of element in the array:&quot;);\n        int The_scan = sc.nextInt();\n        int count_index,sum;\n        count_index = 0;\n        sum = 0;\n        float average = 0;\n        int[] inputted_array = new int[The_scan];\n        for (int i = 0 ; i &lt; The_scan ; i++){\n            inputted_array[i] = sc.nextInt();\n        }\n        System.out.println(&quot;The elements are: &quot;+ Arrays.toString(inputted_array));\n        System.out.print(&quot;What is the element to be search: &quot;);\n        int search = sc.nextInt();\n        for(int i = 0; i &lt; The_scan; i++ ){\n            if(inputted_array[i] == search) {\n                System.out.println(&quot;Element &quot; + search + &quot; is found in index &quot; + i + '.');\n                count_index ++;\n            }\n        }\n        if(count_index == 0){\n            System.out.println(&quot;Element &quot;+search+&quot; not found&quot;);\n        }\n        for (int i =0; i &lt;inputted_array.length ;i++ ){\n            sum = sum + inputted_array[i];\n            \n        }\nSystem.out.println(&quot;The sum value of the elements is:&quot; + sum);\n        average = sum/ inputted_array.length;\n        System.out.println(&quot;The average value of the elements is:&quot; + average);\n    }\n}\n</code></pre>\n<p><strong>What I changed.</strong></p>\n<p>I updated the code so that the inputted_array can now store the numbers up to which the user defines rather than only 5 numbers.</p>\n<p><strong>previously</strong></p>\n<pre><code>int[] inputted_array = new int[5];\nfor (int i = 0 ; i &lt; 5; i++){\n    // statements.\n}\n</code></pre>\n<p><strong>Now</strong></p>\n<pre><code>int The_scan = sc.nextInt();\n\nint[] inputted_array = new int[The_scan];\nfor (int i = 0 ; i &lt; The_scan; i++){\n    // statements.\n}\n</code></pre>\n<p>and I also fixed some syntax errors.</p>\n"}],"owner":{"account_id":23326881,"reputation":11,"user_id":17403927,"display_name":"nights"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662033175,"creation_date":1662012234,"question_id":73564863,"body_markdown":"When I run the code, it always stops when the inputted element is found or not found, and the rest of the code where I have to compute the average and the sum seems not to work. \r\nI do not know what seems to be wrong since I am an absolute beginner at coding.\r\n\r\nThe code:\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the number of element in the array:&quot;);\r\n        int The_scan = sc.nextInt();\r\n        int count_index,sum;\r\n        count_index = 0;\r\n        sum = 0;\r\n        float average = 0;\r\n        int[] inputted_array = new int[5];\r\n        for (int i = 0 ; i &lt; 5; i++){\r\n            inputted_array[i] = sc.nextInt();\r\n        }\r\n        System.out.println(&quot;The elements are: &quot;+ Arrays.toString(inputted_array));\r\n        System.out.print(&quot;What is the element to be search: &quot;);\r\n        int search = sc.nextInt();\r\n        for(int i = 0; i &lt; The_scan; i++ ){\r\n            if(inputted_array[i] == search) {\r\n                System.out.println(&quot;Element &quot; + search + &quot; is found in index &quot; + i + &#39;.&#39;);\r\n                count_index++\r\n            }\r\n        }\r\n        if(count_index == 0){\r\n            System.out.println(&quot;Element &quot;+search+&quot; not found&quot;);\r\n        }\r\n        for (int i =0; i &lt;inputted_array.length ;i++ ){\r\n            sum = sum + inputted_array[i];\r\n            System.out.println(&quot;The sum value of the elements is:&quot; + sum);\r\n        }\r\n        average = sum/ inputted_array.length;\r\n        System.out.println(&quot;The average value of the elements is:&quot; + average);\r\n    }\r\n}\r\n```\r\n\r\n","title":"How can I compute the sum and the average of the given array?","body":"<p>When I run the code, it always stops when the inputted element is found or not found, and the rest of the code where I have to compute the average and the sum seems not to work.\nI do not know what seems to be wrong since I am an absolute beginner at coding.</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter the number of element in the array:&quot;);\n        int The_scan = sc.nextInt();\n        int count_index,sum;\n        count_index = 0;\n        sum = 0;\n        float average = 0;\n        int[] inputted_array = new int[5];\n        for (int i = 0 ; i &lt; 5; i++){\n            inputted_array[i] = sc.nextInt();\n        }\n        System.out.println(&quot;The elements are: &quot;+ Arrays.toString(inputted_array));\n        System.out.print(&quot;What is the element to be search: &quot;);\n        int search = sc.nextInt();\n        for(int i = 0; i &lt; The_scan; i++ ){\n            if(inputted_array[i] == search) {\n                System.out.println(&quot;Element &quot; + search + &quot; is found in index &quot; + i + '.');\n                count_index++\n            }\n        }\n        if(count_index == 0){\n            System.out.println(&quot;Element &quot;+search+&quot; not found&quot;);\n        }\n        for (int i =0; i &lt;inputted_array.length ;i++ ){\n            sum = sum + inputted_array[i];\n            System.out.println(&quot;The sum value of the elements is:&quot; + sum);\n        }\n        average = sum/ inputted_array.length;\n        System.out.println(&quot;The average value of the elements is:&quot; + average);\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","regex-lookarounds","regex-group"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662033038,"creation_date":1662033038,"answer_id":73568883,"question_id":73565888,"body_markdown":"You can use\r\n```none\r\n-(?=[^\\&quot;]*\\&quot;\\s*:)\r\n```\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `-` - a hyphen\r\n - `(?=[\\w-]*\\&quot;\\s*:)` - a positive lookahead that matches a location that is immediately followed with \r\n   - `[^\\&quot;]*` - zero or more chars other than `&quot;`\r\n   - `\\&quot;` - a double quote\r\n   - `\\s*` - zero or more whitespaces\r\n   - `:` - a colon.\r\n\r\n\r\n  [1]: https://regex101.com/r/mnxrNj/3","title":"Regex - replacing multiple occurrences of character in group","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>-(?=[^\\&quot;]*\\&quot;\\s*:)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/mnxrNj/3\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>-</code> - a hyphen</li>\n<li><code>(?=[\\w-]*\\&quot;\\s*:)</code> - a positive lookahead that matches a location that is immediately followed with\n<ul>\n<li><code>[^\\&quot;]*</code> - zero or more chars other than <code>&quot;</code></li>\n<li><code>\\&quot;</code> - a double quote</li>\n<li><code>\\s*</code> - zero or more whitespaces</li>\n<li><code>:</code> - a colon.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73568883,"answer_count":1,"score":1,"last_activity_date":1662033038,"creation_date":1662018606,"question_id":73565888,"body_markdown":"In json I need to replace all field names which contains hyphen with underscore, I wanna do it using regex groups. Here is my regex which I created so far:  \r\n`/\r\n&quot;[a-zA-Z0-9]+(-){1}[a-zA-Z0-9]+&quot;:\r\n/\r\ngm`\r\n\r\nIt matches only field names which contains single hyphen, but I would like to match all fields which contains at least one hyphen and later capture each hyphen in group to replace it with under score.\r\n\r\nHere is my test json and link to the regex101 sample:\r\nhttps://regex101.com/r/mnxrNj/1\r\n\r\n```json\r\n{\r\n  &quot;min-position&quot;: 3,\r\n  &quot;has-more-items&quot;: false,\r\n  &quot;items-html&quot;: &quot;Bike&quot;,\r\n  &quot;new-latent-count&quot;: 5,\r\n  &quot;data&quot;: {\r\n    &quot;length&quot;: 21,\r\n    &quot;text&quot;: &quot;Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;\r\n  },\r\n  &quot;numerical-Array&quot;: [\r\n    20,\r\n    30,\r\n    32,\r\n    24,\r\n    29\r\n  ],\r\n  &quot;String-Array&quot;: [\r\n    &quot;Oxygen&quot;,\r\n    &quot;Carbon&quot;,\r\n    &quot;Oxygen&quot;,\r\n    &quot;Nitrogen&quot;\r\n  ],\r\n  &quot;multiple-Types-Array&quot;: 5,\r\n  &quot;objArray&quot;: [\r\n    {\r\n      &quot;class&quot;: &quot;lower&quot;,\r\n      &quot;age&quot;: 2\r\n    },\r\n    {\r\n      &quot;class&quot;: &quot;middle&quot;,\r\n      &quot;age&quot;: 0\r\n    },\r\n    {\r\n      &quot;class&quot;: &quot;lower&quot;,\r\n      &quot;age&quot;: 5\r\n    },\r\n    {\r\n      &quot;class&quot;: &quot;lower&quot;,\r\n      &quot;age&quot;: 6\r\n    },\r\n    {\r\n      &quot;class&quot;: &quot;upper&quot;,\r\n      &quot;age&quot;: 1\r\n    }\r\n  ]\r\n}\r\n\r\n\r\n  [1]: https://regex101.com/r/mnxrNj/1","title":"Regex - replacing multiple occurrences of character in group","body":"<p>In json I need to replace all field names which contains hyphen with underscore, I wanna do it using regex groups. Here is my regex which I created so far:<br />\n<code>/ &quot;[a-zA-Z0-9]+(-){1}[a-zA-Z0-9]+&quot;: / gm</code></p>\n<p>It matches only field names which contains single hyphen, but I would like to match all fields which contains at least one hyphen and later capture each hyphen in group to replace it with under score.</p>\n<p>Here is my test json and link to the regex101 sample:\n<a href=\"https://regex101.com/r/mnxrNj/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/mnxrNj/1</a></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;min-position&quot;: 3,\n  &quot;has-more-items&quot;: false,\n  &quot;items-html&quot;: &quot;Bike&quot;,\n  &quot;new-latent-count&quot;: 5,\n  &quot;data&quot;: {\n    &quot;length&quot;: 21,\n    &quot;text&quot;: &quot;Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;\n  },\n  &quot;numerical-Array&quot;: [\n    20,\n    30,\n    32,\n    24,\n    29\n  ],\n  &quot;String-Array&quot;: [\n    &quot;Oxygen&quot;,\n    &quot;Carbon&quot;,\n    &quot;Oxygen&quot;,\n    &quot;Nitrogen&quot;\n  ],\n  &quot;multiple-Types-Array&quot;: 5,\n  &quot;objArray&quot;: [\n    {\n      &quot;class&quot;: &quot;lower&quot;,\n      &quot;age&quot;: 2\n    },\n    {\n      &quot;class&quot;: &quot;middle&quot;,\n      &quot;age&quot;: 0\n    },\n    {\n      &quot;class&quot;: &quot;lower&quot;,\n      &quot;age&quot;: 5\n    },\n    {\n      &quot;class&quot;: &quot;lower&quot;,\n      &quot;age&quot;: 6\n    },\n    {\n      &quot;class&quot;: &quot;upper&quot;,\n      &quot;age&quot;: 1\n    }\n  ]\n}\n\n\n  [1]: https://regex101.com/r/mnxrNj/1\n</code></pre>\n"},{"tags":["java","glassfish","java-7","glassfish-4","grizzly"],"comments":[{"owner":{"account_id":4663661,"reputation":301,"user_id":3777283,"display_name":"dlaudams"},"score":0,"creation_date":1497578060,"post_id":25922809,"comment_id":76147854,"body_markdown":"How many threads are there in the &quot;http-thread-pool&quot;? If there are not enough threads to service requests then the SelectRunner can appear to &quot;spin&quot;.","body":"How many threads are there in the &quot;http-thread-pool&quot;? If there are not enough threads to service requests then the SelectRunner can appear to &quot;spin&quot;."}],"answers":[{"tags":[],"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662032442,"creation_date":1662032442,"answer_id":73568762,"question_id":25922809,"body_markdown":"Not sure if it&#39;s still relevant after such a long time, but this could also be similar to the issue described [here][1]:\r\n\r\n&gt; We recently experienced a recurring issue with some of our JVMs that\r\n&gt; use Grizzly. Occasionally one thread in a JVM would spike to 100% CPU\r\n&gt; usage and stay there until we killed and restarted it.\r\n\r\nGrizzly added a config option to activate a workaround for that issue in [GRIZZLY-1801][2] to \r\n\r\n&gt; &quot;Introduce system property to force NIO selector spin detection&quot;\r\n\r\nTry setting the JVM option \r\n\r\n    -Dorg.glassfish.grizzly.nio.DefaultSelectorHandler.force-selector-spin-detection=true\r\n\r\nto activate the workaround.\r\n\r\nI could not exactly pin down from which Grizzly version(s) on this option is available, but if you have Grizzly 2.2.23+ it should work.\r\n\r\n\r\n  [1]: https://javaee.groups.io/g/grizzly/topic/5807706\r\n  [2]: https://github.com/javaee/grizzly/issues/1801","title":"Glassfish 4 Grizzly Threads Heavy CPU usage","body":"<p>Not sure if it's still relevant after such a long time, but this could also be similar to the issue described <a href=\"https://javaee.groups.io/g/grizzly/topic/5807706\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>We recently experienced a recurring issue with some of our JVMs that\nuse Grizzly. Occasionally one thread in a JVM would spike to 100% CPU\nusage and stay there until we killed and restarted it.</p>\n</blockquote>\n<p>Grizzly added a config option to activate a workaround for that issue in <a href=\"https://github.com/javaee/grizzly/issues/1801\" rel=\"nofollow noreferrer\">GRIZZLY-1801</a> to</p>\n<blockquote>\n<p>&quot;Introduce system property to force NIO selector spin detection&quot;</p>\n</blockquote>\n<p>Try setting the JVM option</p>\n<pre><code>-Dorg.glassfish.grizzly.nio.DefaultSelectorHandler.force-selector-spin-detection=true\n</code></pre>\n<p>to activate the workaround.</p>\n<p>I could not exactly pin down from which Grizzly version(s) on this option is available, but if you have Grizzly 2.2.23+ it should work.</p>\n"}],"owner":{"account_id":3743593,"reputation":93,"user_id":3112808,"display_name":"user3112808"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3970,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1662032442,"creation_date":1411076353,"question_id":25922809,"body_markdown":"I have a Jersey application running on Glassfish 4 (4.1 build 13), JDK 1.7 update 67 and AWS Linux AMI and I&#39;m noticing that after some hours running it, CPU usage goes up and stays up even though clients are stopped.\r\n\r\nRunning &quot;top -H&quot; identifies 2 http-listener-1-kernel threads with high CPU usage (from a total of 16). I then took a thread dump to check these two threads:\r\n\r\n    &quot;http-listener-1-kernel(3) SelectorRunner&quot; daemon prio=10 tid=0x00007fbc68251000 nid=0xaee runnable [0x00007fbcb55ce000]\r\n        java.lang.Thread.State: RUNNABLE\r\n            at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\r\n            at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\r\n            at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:79)\r\n            at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\r\n            - locked &lt;0x000000060263ad88&gt; (a sun.nio.ch.Util$2)\r\n            - locked &lt;0x000000060263ad78&gt; (a java.util.Collections$UnmodifiableSet)\r\n            - locked &lt;0x00000006025fb068&gt; (a sun.nio.ch.EPollSelectorImpl)\r\n            at sun.nio.ch.SelectorImpl.selectNow(SelectorImpl.java:106)\r\n            at org.glassfish.grizzly.nio.DefaultSelectorHandler.select(DefaultSelectorHandler.java:114)\r\n            at org.glassfish.grizzly.nio.SelectorRunner.doSelect(SelectorRunner.java:338)\r\n            at org.glassfish.grizzly.nio.SelectorRunner.run(SelectorRunner.java:278)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\n    &quot;http-listener-1-kernel(8) SelectorRunner&quot; daemon prio=10 tid=0x00007fbc6825b800 nid=0xaf3 runnable [0x00007fbcb50c9000]\r\n       java.lang.Thread.State: RUNNABLE\r\n            at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\r\n            at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\r\n            at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:79)\r\n            at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\r\n            - locked &lt;0x00000006026648b8&gt; (a sun.nio.ch.Util$2)\r\n            - locked &lt;0x00000006026648a8&gt; (a java.util.Collections$UnmodifiableSet)\r\n            - locked &lt;0x0000000602664790&gt; (a sun.nio.ch.EPollSelectorImpl)\r\n            at sun.nio.ch.SelectorImpl.selectNow(SelectorImpl.java:106)\r\n            at org.glassfish.grizzly.nio.DefaultSelectorHandler.select(DefaultSelectorHandler.java:114)\r\n            at org.glassfish.grizzly.nio.SelectorRunner.doSelect(SelectorRunner.java:338)\r\n            at org.glassfish.grizzly.nio.SelectorRunner.run(SelectorRunner.java:278)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\nInterestingly, the other threads that do not consume CPU are using a different method at sun.nio.ch.SelectorImpl (select instead of selectNow):\r\n\r\n    &quot;http-listener-1-kernel(7) SelectorRunner&quot; daemon prio=10 tid=0x00007fbc68259800 nid=0xaf2 runnable [0x00007fbcb51ca000]\r\n       java.lang.Thread.State: RUNNABLE\r\n            at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\r\n            at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\r\n            at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:79)\r\n            at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\r\n            - locked &lt;0x0000000602665f20&gt; (a sun.nio.ch.Util$2)\r\n            - locked &lt;0x0000000602665f10&gt; (a java.util.Collections$UnmodifiableSet)\r\n            - locked &lt;0x0000000602665df8&gt; (a sun.nio.ch.EPollSelectorImpl)\r\n            at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)\r\n            at org.glassfish.grizzly.nio.DefaultSelectorHandler.select(DefaultSelectorHandler.java:112)\r\n            at org.glassfish.grizzly.nio.SelectorRunner.doSelect(SelectorRunner.java:338)\r\n            at org.glassfish.grizzly.nio.SelectorRunner.run(SelectorRunner.java:278)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\nI then turned clients back on and left them running for a few more hours, before stopping them again. Sure enough, &quot;top -H&quot; shows that CPU usage increased again. Another thread dump reveals that one more thread switched to &quot;selectNow&quot; and is now taking more CPU time (along with the other 2):\r\n\r\n    &quot;http-listener-1-kernel(6) SelectorRunner&quot; daemon prio=10 tid=0x00007fbc68257800 nid=0xaf1 runnable [0x00007fbcb52cb000]\r\n       java.lang.Thread.State: RUNNABLE\r\n            at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\r\n            at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\r\n            at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:79)\r\n            at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\r\n            - locked &lt;0x00000006026675c0&gt; (a sun.nio.ch.Util$2)\r\n            - locked &lt;0x00000006026675b0&gt; (a java.util.Collections$UnmodifiableSet)\r\n            - locked &lt;0x0000000602667498&gt; (a sun.nio.ch.EPollSelectorImpl)\r\n            at sun.nio.ch.SelectorImpl.selectNow(SelectorImpl.java:106)\r\n            at org.glassfish.grizzly.nio.DefaultSelectorHandler.select(DefaultSelectorHandler.java:114)\r\n            at org.glassfish.grizzly.nio.SelectorRunner.doSelect(SelectorRunner.java:338)\r\n            at org.glassfish.grizzly.nio.SelectorRunner.run(SelectorRunner.java:278)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\nIt appears that something causes the threads to call the &quot;selectNow&quot; method of sun.nio.ch.SelectorImpl and once they enter there, CPU usage increases heavily and does not decrease unless server is restarted.\r\n\r\nIs this a known issue? Can this be somehow caused by my code?\r\n\r\nThanks for the help!","title":"Glassfish 4 Grizzly Threads Heavy CPU usage","body":"<p>I have a Jersey application running on Glassfish 4 (4.1 build 13), JDK 1.7 update 67 and AWS Linux AMI and I'm noticing that after some hours running it, CPU usage goes up and stays up even though clients are stopped.</p>\n\n<p>Running \"top -H\" identifies 2 http-listener-1-kernel threads with high CPU usage (from a total of 16). I then took a thread dump to check these two threads:</p>\n\n<pre><code>\"http-listener-1-kernel(3) SelectorRunner\" daemon prio=10 tid=0x00007fbc68251000 nid=0xaee runnable [0x00007fbcb55ce000]\n    java.lang.Thread.State: RUNNABLE\n        at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n        at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\n        at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:79)\n        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\n        - locked &lt;0x000000060263ad88&gt; (a sun.nio.ch.Util$2)\n        - locked &lt;0x000000060263ad78&gt; (a java.util.Collections$UnmodifiableSet)\n        - locked &lt;0x00000006025fb068&gt; (a sun.nio.ch.EPollSelectorImpl)\n        at sun.nio.ch.SelectorImpl.selectNow(SelectorImpl.java:106)\n        at org.glassfish.grizzly.nio.DefaultSelectorHandler.select(DefaultSelectorHandler.java:114)\n        at org.glassfish.grizzly.nio.SelectorRunner.doSelect(SelectorRunner.java:338)\n        at org.glassfish.grizzly.nio.SelectorRunner.run(SelectorRunner.java:278)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n        at java.lang.Thread.run(Thread.java:745)\n\n\n\"http-listener-1-kernel(8) SelectorRunner\" daemon prio=10 tid=0x00007fbc6825b800 nid=0xaf3 runnable [0x00007fbcb50c9000]\n   java.lang.Thread.State: RUNNABLE\n        at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n        at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\n        at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:79)\n        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\n        - locked &lt;0x00000006026648b8&gt; (a sun.nio.ch.Util$2)\n        - locked &lt;0x00000006026648a8&gt; (a java.util.Collections$UnmodifiableSet)\n        - locked &lt;0x0000000602664790&gt; (a sun.nio.ch.EPollSelectorImpl)\n        at sun.nio.ch.SelectorImpl.selectNow(SelectorImpl.java:106)\n        at org.glassfish.grizzly.nio.DefaultSelectorHandler.select(DefaultSelectorHandler.java:114)\n        at org.glassfish.grizzly.nio.SelectorRunner.doSelect(SelectorRunner.java:338)\n        at org.glassfish.grizzly.nio.SelectorRunner.run(SelectorRunner.java:278)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Interestingly, the other threads that do not consume CPU are using a different method at sun.nio.ch.SelectorImpl (select instead of selectNow):</p>\n\n<pre><code>\"http-listener-1-kernel(7) SelectorRunner\" daemon prio=10 tid=0x00007fbc68259800 nid=0xaf2 runnable [0x00007fbcb51ca000]\n   java.lang.Thread.State: RUNNABLE\n        at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n        at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\n        at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:79)\n        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\n        - locked &lt;0x0000000602665f20&gt; (a sun.nio.ch.Util$2)\n        - locked &lt;0x0000000602665f10&gt; (a java.util.Collections$UnmodifiableSet)\n        - locked &lt;0x0000000602665df8&gt; (a sun.nio.ch.EPollSelectorImpl)\n        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)\n        at org.glassfish.grizzly.nio.DefaultSelectorHandler.select(DefaultSelectorHandler.java:112)\n        at org.glassfish.grizzly.nio.SelectorRunner.doSelect(SelectorRunner.java:338)\n        at org.glassfish.grizzly.nio.SelectorRunner.run(SelectorRunner.java:278)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I then turned clients back on and left them running for a few more hours, before stopping them again. Sure enough, \"top -H\" shows that CPU usage increased again. Another thread dump reveals that one more thread switched to \"selectNow\" and is now taking more CPU time (along with the other 2):</p>\n\n<pre><code>\"http-listener-1-kernel(6) SelectorRunner\" daemon prio=10 tid=0x00007fbc68257800 nid=0xaf1 runnable [0x00007fbcb52cb000]\n   java.lang.Thread.State: RUNNABLE\n        at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n        at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\n        at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:79)\n        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)\n        - locked &lt;0x00000006026675c0&gt; (a sun.nio.ch.Util$2)\n        - locked &lt;0x00000006026675b0&gt; (a java.util.Collections$UnmodifiableSet)\n        - locked &lt;0x0000000602667498&gt; (a sun.nio.ch.EPollSelectorImpl)\n        at sun.nio.ch.SelectorImpl.selectNow(SelectorImpl.java:106)\n        at org.glassfish.grizzly.nio.DefaultSelectorHandler.select(DefaultSelectorHandler.java:114)\n        at org.glassfish.grizzly.nio.SelectorRunner.doSelect(SelectorRunner.java:338)\n        at org.glassfish.grizzly.nio.SelectorRunner.run(SelectorRunner.java:278)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>It appears that something causes the threads to call the \"selectNow\" method of sun.nio.ch.SelectorImpl and once they enter there, CPU usage increases heavily and does not decrease unless server is restarted.</p>\n\n<p>Is this a known issue? Can this be somehow caused by my code?</p>\n\n<p>Thanks for the help!</p>\n"},{"tags":["java","concurrency","interrupt"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1661238730,"post_id":73452850,"comment_id":129717401,"body_markdown":"Hello and welcome to StackOverflow. Try to embed the images into the post where possible, instead of providing links to images.","body":"Hello and welcome to StackOverflow. Try to embed the images into the post where possible, instead of providing links to images."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661228206,"creation_date":1661228206,"answer_id":73453085,"question_id":73452850,"body_markdown":"That&#39;s the way to go, but your code faces a race condition. Your main thread executes `thread.isInterrupted()` immediately after calling `thread.interrupt()`. \r\n\r\nThe [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupt()) states that\r\n\r\n&gt; If this thread is blocked in an invocation of [...] or sleep(long, int) methods of this class, then its interrupt status will be cleared and it will receive an InterruptedException. \r\n\r\nGive thread `thread` a fair chance to catch the exception and to set the interrupt status, that is join the thread or wait a moment, at least.","title":"How does the restored interrupt in a Runnable.run InterruptedException propagate to the caller method?","body":"<p>That's the way to go, but your code faces a race condition. Your main thread executes <code>thread.isInterrupted()</code> immediately after calling <code>thread.interrupt()</code>.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupt()\" rel=\"nofollow noreferrer\">documentation</a> states that</p>\n<blockquote>\n<p>If this thread is blocked in an invocation of [...] or sleep(long, int) methods of this class, then its interrupt status will be cleared and it will receive an InterruptedException.</p>\n</blockquote>\n<p>Give thread <code>thread</code> a fair chance to catch the exception and to set the interrupt status, that is join the thread or wait a moment, at least.</p>\n"}],"owner":{"account_id":25729871,"reputation":21,"user_id":19485612,"display_name":"hu dk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662032082,"creation_date":1661225636,"question_id":73452850,"body_markdown":"Code as below: \r\n```Java\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Thread thread = new Thread(() -&gt; {\r\n            try {\r\n                TimeUnit.SECONDS.sleep(3);\r\n            } catch (InterruptedException e) {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        });\r\n        thread.start();\r\n        TimeUnit.SECONDS.sleep(1);\r\n        thread.interrupt();\r\n        System.out.println(thread.isInterrupted());\r\n    }\r\n}\r\n```\r\n\r\nSometimes `System.out.println(thread.isInterrupted());` prints `true` while sometimes prints `false` !\r\n\r\nSo how can the code higher up the call stack see that an interrupt was issued as described in JCIP 5.4? \r\n \r\n\r\n","title":"How does the restored interrupt in a Runnable.run InterruptedException propagate to the caller method?","body":"<p>Code as below:</p>\n<pre><code>import java.util.concurrent.TimeUnit;\n\npublic class Test {\n\n    public static void main(String[] args) throws InterruptedException {\n        Thread thread = new Thread(() -&gt; {\n            try {\n                TimeUnit.SECONDS.sleep(3);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        });\n        thread.start();\n        TimeUnit.SECONDS.sleep(1);\n        thread.interrupt();\n        System.out.println(thread.isInterrupted());\n    }\n}\n</code></pre>\n<p>Sometimes <code>System.out.println(thread.isInterrupted());</code> prints <code>true</code> while sometimes prints <code>false</code> !</p>\n<p>So how can the code higher up the call stack see that an interrupt was issued as described in JCIP 5.4?</p>\n"},{"tags":["java","ssh","jsch"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662033329,"post_id":73568677,"comment_id":129915430,"body_markdown":"Difficult to comment without knowing what &#39;configLines&#39; are. If they are commands, then it looks like you should have ```channel = session.openChannel(&quot;exec&quot;);```","body":"Difficult to comment without knowing what &#39;configLines&#39; are. If they are commands, then it looks like you should have <code>channel = session.openChannel(&quot;exec&quot;);</code>"},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1662033519,"post_id":73568677,"comment_id":129915491,"body_markdown":"@g00se Yes, they are CISCO router commands.","body":"@g00se Yes, they are CISCO router commands."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662040833,"post_id":73568677,"comment_id":129918405,"body_markdown":"I personally would begin by checking that they can be run as a shell script manually (but all together)","body":"I personally would begin by checking that they can be run as a shell script manually (but all together)"}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662032024,"creation_date":1662032024,"question_id":73568677,"body_markdown":"I have written a method in Java, which takes an ArrayList of Strings and tries to run the command on a CISCO router console one by one. And I am trying to print the output of each command on the console. I am using the Jsch API for it. \r\n\r\nI am able to connect to the router just fine using SSH. But when I print the `OutputStream` to the console it just prints the same thing over and over again. No output of the commands I sent. I intentionally have a few incorrect commands in there so that the console prints the error, but I get no such thing.\r\n\r\nHere is my method:\r\n\r\n    /**\r\n     * Deliver a config to the router line by line.\r\n     * @param configLines\r\n     * @throws DeviceExcpetion\r\n     */\r\n    public void deliverConfig(List&lt;String&gt; configLines) throws DeviceExcpetion {\r\n    \r\n    \tChannel channel = null;\r\n    \tJSch jSch = new JSch();\r\n    \tSession session = null;\r\n    \r\n    \ttry {\r\n    \r\n    \t\tsession = jSch.getSession(userid, ipAddress, port);\r\n    \r\n    \t\t// Set the password.\r\n    \t\tsession.setPassword(password);\r\n    \r\n    \t\tsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    \r\n    \t\t// Finally make the connection.\r\n    \t\tsession.connect();\r\n    \r\n    \t\tchannel = session.openChannel(&quot;shell&quot;);\r\n    \r\n    \t\tInputStream inputStream = null;\r\n    \r\n    \t\tByteArrayOutputStream responseStream = new ByteArrayOutputStream();\r\n    \r\n    \t\tchannel.setOutputStream(responseStream);\r\n    \r\n    \t\tchannel.connect();\r\n    \r\n    \t\tfor (String line : configLines) {\r\n    \r\n    \t\t\tinputStream = new ByteArrayInputStream(line.getBytes(StandardCharsets.UTF_8));\r\n    \r\n    \t\t\tchannel.setInputStream(inputStream);\r\n    \r\n    \t\t\tif (channel.isConnected()) {\r\n    \t\t\t\tThread.sleep(1000);\r\n    \t\t\t}\r\n    \r\n    \t\t\tString responseString = new String(responseStream.toByteArray());\r\n    \r\n    \t\t\tSystem.out.println(responseString);\r\n    \t\t}\r\n    \r\n    \t} catch (JSchException e) {\r\n    \r\n    \t\te.printStackTrace();\r\n    \r\n    \t\tthrow new DeviceExcpetion(e.getMessage());\r\n    \r\n    \t} catch (InterruptedException e) {\r\n    \r\n    \t\te.printStackTrace();\r\n    \r\n    \t\tthrow new DeviceExcpetion(e.getMessage());\r\n    \r\n    \t} finally {\r\n    \r\n    \t\tif (session != null) {\r\n    \t\t\tsession.disconnect();\r\n    \t\t}\r\n    \r\n    \t\tif (channel != null) {\r\n    \t\t\tchannel.disconnect();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Running Command on a Router Line By Line (JSCH API)","body":"<p>I have written a method in Java, which takes an ArrayList of Strings and tries to run the command on a CISCO router console one by one. And I am trying to print the output of each command on the console. I am using the Jsch API for it.</p>\n<p>I am able to connect to the router just fine using SSH. But when I print the <code>OutputStream</code> to the console it just prints the same thing over and over again. No output of the commands I sent. I intentionally have a few incorrect commands in there so that the console prints the error, but I get no such thing.</p>\n<p>Here is my method:</p>\n<pre><code>/**\n * Deliver a config to the router line by line.\n * @param configLines\n * @throws DeviceExcpetion\n */\npublic void deliverConfig(List&lt;String&gt; configLines) throws DeviceExcpetion {\n\n    Channel channel = null;\n    JSch jSch = new JSch();\n    Session session = null;\n\n    try {\n\n        session = jSch.getSession(userid, ipAddress, port);\n\n        // Set the password.\n        session.setPassword(password);\n\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n\n        // Finally make the connection.\n        session.connect();\n\n        channel = session.openChannel(&quot;shell&quot;);\n\n        InputStream inputStream = null;\n\n        ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\n\n        channel.setOutputStream(responseStream);\n\n        channel.connect();\n\n        for (String line : configLines) {\n\n            inputStream = new ByteArrayInputStream(line.getBytes(StandardCharsets.UTF_8));\n\n            channel.setInputStream(inputStream);\n\n            if (channel.isConnected()) {\n                Thread.sleep(1000);\n            }\n\n            String responseString = new String(responseStream.toByteArray());\n\n            System.out.println(responseString);\n        }\n\n    } catch (JSchException e) {\n\n        e.printStackTrace();\n\n        throw new DeviceExcpetion(e.getMessage());\n\n    } catch (InterruptedException e) {\n\n        e.printStackTrace();\n\n        throw new DeviceExcpetion(e.getMessage());\n\n    } finally {\n\n        if (session != null) {\n            session.disconnect();\n        }\n\n        if (channel != null) {\n            channel.disconnect();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","html","local-storage","momentjs"],"comments":[{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1662019212,"post_id":73565932,"comment_id":129910467,"body_markdown":"well, it won&#39;t work in a snippet - what errors do you get where it could work?","body":"well, it won&#39;t work in a snippet - what errors do you get where it could work?"},{"owner":{"account_id":22745022,"reputation":129,"user_id":16905923,"display_name":"MaxCode"},"score":0,"creation_date":1662020134,"post_id":73565932,"comment_id":129910744,"body_markdown":"What values you get when you console.log(time, description) in your save function?","body":"What values you get when you console.log(time, description) in your save function?"}],"answers":[{"tags":[],"owner":{"account_id":20074905,"reputation":932,"user_id":14718856,"display_name":"Vaggelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662031855,"creation_date":1662021360,"answer_id":73566424,"question_id":73565932,"body_markdown":"In this block :\r\n\r\n```\r\nvar saveBtn = document.querySelectorAll(&quot;.saveBtn&quot;);\r\n    \r\n saveBtn.forEach(function(node) {\r\n       \r\n   node.addEventListener(&quot;click&quot;, function() {\r\n           \r\n      var description = $(this).siblings(&quot;.description&quot;).val();\r\n            \r\n      var time = $(this).parent().attr(&quot;id&quot;);\r\n            \r\n      localStorage.setItem(time, description);\r\n    \r\n   })\r\n});\r\n```\r\n\r\nyou are storing in local storage with a key which is the `id` of the button&#39;s parent which is `hour-1`...`hour-2`.. etc \r\n\r\nand then here : \r\n\r\n\r\n```\r\n $(&quot;#hour1 .description&quot;).val(localStorage.getItem(&quot;hour1&quot;));\r\n```\r\n\r\nYou are trying to set the value of the `.description` of `#hour1` **which does not exist** from a local storage key **which does not exist** (`hour1`)\r\n\r\nSo in order to fix this you can just select the correct elements `$(&quot;#hour-1 .description&quot;).val(localStorage.getItem(&quot;hour-1&quot;));`\r\n\r\nAlways do some debugging yourself before stepping and asking for help,for example if you&#39;d just `console.log(time, description)` right after you set it to local storage it would give the cause of error right away\r\n","title":"I have added a local storage function but it doesnt seem to work on my Scheduler i have created and i cant figure out why","body":"<p>In this block :</p>\n<pre><code>var saveBtn = document.querySelectorAll(&quot;.saveBtn&quot;);\n    \n saveBtn.forEach(function(node) {\n       \n   node.addEventListener(&quot;click&quot;, function() {\n           \n      var description = $(this).siblings(&quot;.description&quot;).val();\n            \n      var time = $(this).parent().attr(&quot;id&quot;);\n            \n      localStorage.setItem(time, description);\n    \n   })\n});\n</code></pre>\n<p>you are storing in local storage with a key which is the <code>id</code> of the button's parent which is <code>hour-1</code>...<code>hour-2</code>.. etc</p>\n<p>and then here :</p>\n<pre><code> $(&quot;#hour1 .description&quot;).val(localStorage.getItem(&quot;hour1&quot;));\n</code></pre>\n<p>You are trying to set the value of the <code>.description</code> of <code>#hour1</code> <strong>which does not exist</strong> from a local storage key <strong>which does not exist</strong> (<code>hour1</code>)</p>\n<p>So in order to fix this you can just select the correct elements <code>$(&quot;#hour-1 .description&quot;).val(localStorage.getItem(&quot;hour-1&quot;));</code></p>\n<p>Always do some debugging yourself before stepping and asking for help,for example if you'd just <code>console.log(time, description)</code> right after you set it to local storage it would give the cause of error right away</p>\n"}],"owner":{"account_id":25356259,"reputation":1,"user_id":19172331,"display_name":"Zac0088"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73566424,"answer_count":1,"score":-1,"last_activity_date":1662031855,"creation_date":1662018820,"question_id":73565932,"body_markdown":"So i have created a work day scheduler for a project im working on, iv managed to added the colour blocking for times of the day no problem, but im having real issues getting the local storage to work for the text input (eg: when i type a sentence into a time block i want it to save and then persist on reload of the page) Any help with what i have done wrong or any suggestions on how to make this work would be appreciated.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const clock = document.getElementById(&quot;clock&quot;);\r\n    setInterval(() =&gt; {\r\n        const now = moment();\r\n        const readable = now.format(&quot;dddd, MMMM Do YYYY, h:mm:ss a&quot;);\r\n        clock.textContent = readable;\r\n\r\n    }, 1000);\r\n\r\n    // $(document).ready(function () {\r\n\r\n        var saveBtn = document.querySelectorAll(&quot;.saveBtn&quot;);\r\n        \r\n        saveBtn.forEach(function(node) {\r\n           \r\n            node.addEventListener(&quot;click&quot;, function() {\r\n               \r\n                var description = $(this).siblings(&quot;.description&quot;).val();\r\n                \r\n                var time = $(this).parent().attr(&quot;id&quot;);\r\n                \r\n                localStorage.setItem(time, description);\r\n        \r\n            })\r\n        });\r\n        \r\n        \r\n        $(&quot;#hour1 .description&quot;).val(localStorage.getItem(&quot;hour1&quot;));\r\n        $(&quot;#hour2 .description&quot;).val(localStorage.getItem(&quot;hour2&quot;));\r\n        $(&quot;#hour3 .description&quot;).val(localStorage.getItem(&quot;hour3&quot;));\r\n        $(&quot;#hour4 .description&quot;).val(localStorage.getItem(&quot;hour4&quot;));\r\n        $(&quot;#hour5 .description&quot;).val(localStorage.getItem(&quot;hour5&quot;));\r\n        $(&quot;#hour6 .description&quot;).val(localStorage.getItem(&quot;hour6&quot;));\r\n        $(&quot;#hour7 .description&quot;).val(localStorage.getItem(&quot;hour7&quot;));\r\n        $(&quot;#hour8 .description&quot;).val(localStorage.getItem(&quot;hour8&quot;));\r\n        $(&quot;#hour9 .description&quot;).val(localStorage.getItem(&quot;hour9&quot;));\r\n        $(&quot;#hour10 .description&quot;).val(localStorage.getItem(&quot;hour10&quot;));\r\n        \r\n\r\n        var elements = $(&quot;.time-block&quot;);\r\n        var d = new Date();\r\n        var h = d.getHours();\r\n\r\n\r\n        for (i = 0; i &lt; elements.length; i++) {\r\n            var t = parseInt(elements[i].getAttribute(&quot;data-hour&quot;));\r\n\r\n            if (h &lt; t) {\r\n                elements[i].classList.add(&#39;future&#39;);\r\n                elements[i].classList.remove(&#39;past&#39;);\r\n                elements[i].classList.remove(&#39;present&#39;);\r\n            } else if (h &gt; t) {\r\n                elements[i].classList.add(&#39;past&#39;);\r\n                elements[i].classList.remove(&#39;future&#39;);\r\n                elements[i].classList.remove(&#39;present&#39;);\r\n            } else if (h === t) {\r\n                elements[i].classList.add(&#39;present&#39;);\r\n                elements[i].classList.remove(&#39;future&#39;);\r\n                elements[i].classList.remove(&#39;past&#39;);\r\n            } else if (h &gt; 16 &amp;&amp; h &lt; 9) {\r\n                elements[i].classList.add(&#39;future&#39;);\r\n                elements[i].classList.remove(&#39;past&#39;);\r\n                elements[i].classList.remove(&#39;present&#39;);\r\n            }\r\n        }\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    body {\r\n      font-family: &#39;Open Sans&#39;, sans-serif;\r\n      font-size: 16px;\r\n      line-height: 1;\r\n    }\r\n\r\n    textarea {\r\n      background: transparent;\r\n      border: none;\r\n      resize: none;\r\n      color: #000000;\r\n      border-left: 1px solid black;\r\n      padding: 10px;\r\n    }\r\n\r\n    .jumbotron {\r\n      text-align: center;\r\n      background-color: transparent;\r\n      color: black;\r\n      border-radius: 0;\r\n      border-bottom: 10px solid black;\r\n    }\r\n\r\n    .description {\r\n      white-space: pre-wrap;\r\n    }\r\n\r\n    .time-block {\r\n      text-align: center;\r\n      border-radius: 15px;\r\n    }\r\n\r\n    .row {\r\n      white-space: pre-wrap;\r\n      height: 80px;\r\n      border-top: 1px solid white;\r\n    }\r\n\r\n    .hour {\r\n      background-color: #ffffff;\r\n      color: #000000;\r\n      border-top: 1px dashed #000000;\r\n    }\r\n\r\n    .past {\r\n      background-color: #d3d3d3;\r\n      color: white;\r\n    }\r\n\r\n    .present {\r\n      background-color: #ff6961;\r\n      color: white;\r\n    }\r\n\r\n    .future {\r\n      background-color: #77dd77;\r\n      color: white;\r\n    }\r\n\r\n    .saveBtn {\r\n      border-left: 1px solid black;\r\n      border-top-right-radius: 15px;\r\n      border-bottom-right-radius: 15px;\r\n      background-color: #06aed5;\r\n      color: white;\r\n    }\r\n\r\n    .saveBtn i:hover {\r\n      font-size: 20px;\r\n      transition: all 0.3s ease-in-out;\r\n    }\r\n\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;\r\n      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot; /&gt;\r\n\r\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot; /&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;https://use.fontawesome.com/releases/v5.8.1/css/all.css&quot;\r\n        integrity=&quot;sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf&quot; crossorigin=&quot;anonymous&quot; /&gt;\r\n      &lt;link href=&quot;https://fonts.googleapis.com/css?family=Open+Sans&amp;display=swap&quot; rel=&quot;stylesheet&quot; /&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;./styles/style.css&quot; /&gt;\r\n      &lt;title&gt;Work Day Scheduler&lt;/title&gt;\r\n      &lt;header class=&quot;jumbotron&quot;&gt;\r\n        &lt;h1 class=&quot;display-3&quot;&gt;Work Day Scheduler&lt;/h1&gt;\r\n        &lt;p class=&quot;lead&quot;&gt;A simple calendar app for scheduling your work day&lt;/p&gt;\r\n        &lt;p id=&quot;currentDay&quot; class=&quot;lead&quot;&gt;&lt;/p&gt;\r\n        &lt;div id=&quot;clock&quot;&gt;&lt;/div&gt;\r\n      &lt;/header&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n      &lt;div class=&quot;container&quot;&gt;\r\n      &lt;!-- Timeblocks go here --&gt;\r\n\r\n      &lt;div id =&quot;hour-1&quot; data-hour=&quot;8&quot; class = &quot;row time-block&quot;&gt;\r\n        &lt;div class=&quot;col-1 hour&quot;&gt;\r\n          8AM\r\n        &lt;/div&gt;\r\n        &lt;textarea id =&quot;8AM&quot; class=&quot;col-md-10 description&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;button class=&quot;col-1 saveBtn btn&quot;&gt;&lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id =&quot;hour-2&quot; data-hour=&quot;9&quot; class = &quot;row time-block&quot;&gt;\r\n        &lt;div class=&quot;col-md-1 hour&quot;&gt;\r\n          9AM\r\n        &lt;/div&gt;\r\n        &lt;textarea id=&quot;9AM&quot; class=&quot;col-md-10 description&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;button class=&quot;col-1 saveBtn btn&quot;&gt;&lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id =&quot;hour-3&quot; data-hour=&quot;10&quot; class = &quot;row time-block&quot;&gt;\r\n        &lt;div class=&quot;col-md-1 hour&quot;&gt;\r\n          10AM\r\n        &lt;/div&gt;\r\n        &lt;textarea id=&quot;10AM&quot; class=&quot;col-md-10 description&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;button class=&quot;col-1 saveBtn btn&quot;&gt;&lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id =&quot;hour-4&quot; data-hour=&quot;11&quot; class = &quot;row time-block&quot;&gt;\r\n        &lt;div class=&quot;col-md-1 hour&quot;&gt;\r\n          11AM\r\n        &lt;/div&gt;\r\n        &lt;textarea id =&quot;11AM&quot; class=&quot;col-md-10 description&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;button class=&quot;col-1 saveBtn btn&quot;&gt;&lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id =&quot;hour-5&quot; data-hour=&quot;12&quot; class = &quot;row time-block&quot;&gt;\r\n        &lt;div class=&quot;col-md-1 hour&quot;&gt;\r\n          12PM\r\n        &lt;/div&gt;\r\n        &lt;textarea id =&quot;12PM&quot; class=&quot;col-md-10 description&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;button class=&quot;col-1 saveBtn btn&quot;&gt;&lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id =&quot;hour-6&quot; data-hour=&quot;13&quot; class = &quot;row time-block&quot;&gt;\r\n        &lt;div class=&quot;col-md-1 hour&quot;&gt;\r\n          1PM\r\n        &lt;/div&gt;\r\n        &lt;textarea id=&quot;1PM&quot; class=&quot;col-md-10 description&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;button class=&quot;col-1 saveBtn btn&quot;&gt;&lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id =&quot;hour-7&quot; data-hour=&quot;14&quot; class = &quot;row time-block&quot;&gt;\r\n        &lt;div class=&quot;col-md-1 hour&quot;&gt;\r\n          2PM\r\n        &lt;/div&gt;\r\n        &lt;textarea id=&quot;2PM&quot; class=&quot;col-md-10 description&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;button class=&quot;col-1 saveBtn btn&quot;&gt;&lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id =&quot;hour-8&quot; data-hour=&quot;15&quot; class = &quot;row time-block&quot;&gt;\r\n        &lt;div class=&quot;col-md-1 hour&quot;&gt;\r\n          3PM\r\n        &lt;/div&gt;\r\n        &lt;textarea id=&quot;3PM&quot; class=&quot;col-md-10 description&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;button class=&quot;col-1 saveBtn btn&quot;&gt;&lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id =&quot;hour-9&quot; data-hour=&quot;16&quot; class = &quot;row time-block&quot;&gt;\r\n        &lt;div class=&quot;col-md-1 hour&quot;&gt;\r\n          4PM\r\n        &lt;/div&gt;\r\n        &lt;textarea id=&quot;4PM&quot; class=&quot;col-md-10 description&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;button class=&quot;col-1 saveBtn btn&quot;&gt;&lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id =&quot;hour-10&quot; data-hour=&quot;17&quot; class = &quot;row time-block&quot;&gt;\r\n        &lt;div class=&quot;col-md-1 hour&quot;&gt;\r\n          5PM\r\n        &lt;/div&gt;\r\n        &lt;textarea id=&quot;5PM&quot; class=&quot;col-md-10 description&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;button class=&quot;col-1 saveBtn btn&quot;&gt;&lt;i class=&quot;fas fa-save&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n      &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js&quot;&gt;&lt;/script&gt;\r\n      &lt;script src=&quot;./script.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"I have added a local storage function but it doesnt seem to work on my Scheduler i have created and i cant figure out why","body":"<p>So i have created a work day scheduler for a project im working on, iv managed to added the colour blocking for times of the day no problem, but im having real issues getting the local storage to work for the text input (eg: when i type a sentence into a time block i want it to save and then persist on reload of the page) Any help with what i have done wrong or any suggestions on how to make this work would be appreciated.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const clock = document.getElementById(\"clock\");\nsetInterval(() =&gt; {\n    const now = moment();\n    const readable = now.format(\"dddd, MMMM Do YYYY, h:mm:ss a\");\n    clock.textContent = readable;\n\n}, 1000);\n\n// $(document).ready(function () {\n\n    var saveBtn = document.querySelectorAll(\".saveBtn\");\n    \n    saveBtn.forEach(function(node) {\n       \n        node.addEventListener(\"click\", function() {\n           \n            var description = $(this).siblings(\".description\").val();\n            \n            var time = $(this).parent().attr(\"id\");\n            \n            localStorage.setItem(time, description);\n    \n        })\n    });\n    \n    \n    $(\"#hour1 .description\").val(localStorage.getItem(\"hour1\"));\n    $(\"#hour2 .description\").val(localStorage.getItem(\"hour2\"));\n    $(\"#hour3 .description\").val(localStorage.getItem(\"hour3\"));\n    $(\"#hour4 .description\").val(localStorage.getItem(\"hour4\"));\n    $(\"#hour5 .description\").val(localStorage.getItem(\"hour5\"));\n    $(\"#hour6 .description\").val(localStorage.getItem(\"hour6\"));\n    $(\"#hour7 .description\").val(localStorage.getItem(\"hour7\"));\n    $(\"#hour8 .description\").val(localStorage.getItem(\"hour8\"));\n    $(\"#hour9 .description\").val(localStorage.getItem(\"hour9\"));\n    $(\"#hour10 .description\").val(localStorage.getItem(\"hour10\"));\n    \n\n    var elements = $(\".time-block\");\n    var d = new Date();\n    var h = d.getHours();\n\n\n    for (i = 0; i &lt; elements.length; i++) {\n        var t = parseInt(elements[i].getAttribute(\"data-hour\"));\n\n        if (h &lt; t) {\n            elements[i].classList.add('future');\n            elements[i].classList.remove('past');\n            elements[i].classList.remove('present');\n        } else if (h &gt; t) {\n            elements[i].classList.add('past');\n            elements[i].classList.remove('future');\n            elements[i].classList.remove('present');\n        } else if (h === t) {\n            elements[i].classList.add('present');\n            elements[i].classList.remove('future');\n            elements[i].classList.remove('past');\n        } else if (h &gt; 16 &amp;&amp; h &lt; 9) {\n            elements[i].classList.add('future');\n            elements[i].classList.remove('past');\n            elements[i].classList.remove('present');\n        }\n    }</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\n  font-family: 'Open Sans', sans-serif;\n  font-size: 16px;\n  line-height: 1;\n}\n\ntextarea {\n  background: transparent;\n  border: none;\n  resize: none;\n  color: #000000;\n  border-left: 1px solid black;\n  padding: 10px;\n}\n\n.jumbotron {\n  text-align: center;\n  background-color: transparent;\n  color: black;\n  border-radius: 0;\n  border-bottom: 10px solid black;\n}\n\n.description {\n  white-space: pre-wrap;\n}\n\n.time-block {\n  text-align: center;\n  border-radius: 15px;\n}\n\n.row {\n  white-space: pre-wrap;\n  height: 80px;\n  border-top: 1px solid white;\n}\n\n.hour {\n  background-color: #ffffff;\n  color: #000000;\n  border-top: 1px dashed #000000;\n}\n\n.past {\n  background-color: #d3d3d3;\n  color: white;\n}\n\n.present {\n  background-color: #ff6961;\n  color: white;\n}\n\n.future {\n  background-color: #77dd77;\n  color: white;\n}\n\n.saveBtn {\n  border-left: 1px solid black;\n  border-top-right-radius: 15px;\n  border-bottom-right-radius: 15px;\n  background-color: #06aed5;\n  color: white;\n}\n\n.saveBtn i:hover {\n  font-size: 20px;\n  transition: all 0.3s ease-in-out;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\" /&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" /&gt;\n\n  &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" /&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.8.1/css/all.css\"\n    integrity=\"sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf\" crossorigin=\"anonymous\" /&gt;\n  &lt;link href=\"https://fonts.googleapis.com/css?family=Open+Sans&amp;display=swap\" rel=\"stylesheet\" /&gt;\n  &lt;link rel=\"stylesheet\" href=\"./styles/style.css\" /&gt;\n  &lt;title&gt;Work Day Scheduler&lt;/title&gt;\n  &lt;header class=\"jumbotron\"&gt;\n    &lt;h1 class=\"display-3\"&gt;Work Day Scheduler&lt;/h1&gt;\n    &lt;p class=\"lead\"&gt;A simple calendar app for scheduling your work day&lt;/p&gt;\n    &lt;p id=\"currentDay\" class=\"lead\"&gt;&lt;/p&gt;\n    &lt;div id=\"clock\"&gt;&lt;/div&gt;\n  &lt;/header&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;div class=\"container\"&gt;\n  &lt;!-- Timeblocks go here --&gt;\n\n  &lt;div id =\"hour-1\" data-hour=\"8\" class = \"row time-block\"&gt;\n    &lt;div class=\"col-1 hour\"&gt;\n      8AM\n    &lt;/div&gt;\n    &lt;textarea id =\"8AM\" class=\"col-md-10 description\"&gt;\n    &lt;/textarea&gt;\n    &lt;button class=\"col-1 saveBtn btn\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;div id =\"hour-2\" data-hour=\"9\" class = \"row time-block\"&gt;\n    &lt;div class=\"col-md-1 hour\"&gt;\n      9AM\n    &lt;/div&gt;\n    &lt;textarea id=\"9AM\" class=\"col-md-10 description\"&gt;\n    &lt;/textarea&gt;\n    &lt;button class=\"col-1 saveBtn btn\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;div id =\"hour-3\" data-hour=\"10\" class = \"row time-block\"&gt;\n    &lt;div class=\"col-md-1 hour\"&gt;\n      10AM\n    &lt;/div&gt;\n    &lt;textarea id=\"10AM\" class=\"col-md-10 description\"&gt;\n    &lt;/textarea&gt;\n    &lt;button class=\"col-1 saveBtn btn\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;div id =\"hour-4\" data-hour=\"11\" class = \"row time-block\"&gt;\n    &lt;div class=\"col-md-1 hour\"&gt;\n      11AM\n    &lt;/div&gt;\n    &lt;textarea id =\"11AM\" class=\"col-md-10 description\"&gt;\n    &lt;/textarea&gt;\n    &lt;button class=\"col-1 saveBtn btn\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;div id =\"hour-5\" data-hour=\"12\" class = \"row time-block\"&gt;\n    &lt;div class=\"col-md-1 hour\"&gt;\n      12PM\n    &lt;/div&gt;\n    &lt;textarea id =\"12PM\" class=\"col-md-10 description\"&gt;\n    &lt;/textarea&gt;\n    &lt;button class=\"col-1 saveBtn btn\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;div id =\"hour-6\" data-hour=\"13\" class = \"row time-block\"&gt;\n    &lt;div class=\"col-md-1 hour\"&gt;\n      1PM\n    &lt;/div&gt;\n    &lt;textarea id=\"1PM\" class=\"col-md-10 description\"&gt;\n    &lt;/textarea&gt;\n    &lt;button class=\"col-1 saveBtn btn\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;div id =\"hour-7\" data-hour=\"14\" class = \"row time-block\"&gt;\n    &lt;div class=\"col-md-1 hour\"&gt;\n      2PM\n    &lt;/div&gt;\n    &lt;textarea id=\"2PM\" class=\"col-md-10 description\"&gt;\n    &lt;/textarea&gt;\n    &lt;button class=\"col-1 saveBtn btn\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;div id =\"hour-8\" data-hour=\"15\" class = \"row time-block\"&gt;\n    &lt;div class=\"col-md-1 hour\"&gt;\n      3PM\n    &lt;/div&gt;\n    &lt;textarea id=\"3PM\" class=\"col-md-10 description\"&gt;\n    &lt;/textarea&gt;\n    &lt;button class=\"col-1 saveBtn btn\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;div id =\"hour-9\" data-hour=\"16\" class = \"row time-block\"&gt;\n    &lt;div class=\"col-md-1 hour\"&gt;\n      4PM\n    &lt;/div&gt;\n    &lt;textarea id=\"4PM\" class=\"col-md-10 description\"&gt;\n    &lt;/textarea&gt;\n    &lt;button class=\"col-1 saveBtn btn\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;div id =\"hour-10\" data-hour=\"17\" class = \"row time-block\"&gt;\n    &lt;div class=\"col-md-1 hour\"&gt;\n      5PM\n    &lt;/div&gt;\n    &lt;textarea id=\"5PM\" class=\"col-md-10 description\"&gt;\n    &lt;/textarea&gt;\n    &lt;button class=\"col-1 saveBtn btn\"&gt;&lt;i class=\"fas fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n\n  &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"./script.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13259231,"reputation":359,"user_id":9574351,"display_name":"Yeo Bryan"},"score":0,"creation_date":1693364193,"post_id":73325106,"comment_id":135749598,"body_markdown":"any solution for this problem? facing the same issue after updating to sdk 33","body":"any solution for this problem? facing the same issue after updating to sdk 33"}],"owner":{"account_id":26040427,"reputation":11,"user_id":19745337,"display_name":"GoLiPeKa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662031778,"creation_date":1660241189,"question_id":73325106,"body_markdown":"Here is code of that file.\r\n\r\n    public void initWebView() {\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        **webView.getSettings().setAppCacheMaxSize(AppConstant.SITE_CACHE_SIZE);\r\n        webView.getSettings().setAppCachePath(mContext.getCacheDir().getAbsolutePath());**\r\n        webView.getSettings().setAllowFileAccess(true);\r\n        **webView.getSettings().setAppCacheEnabled(true);**\r\n        webView.getSettings().setCacheMode(WebSettings.LOAD_DEFAULT);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n        webView.getSettings().setDefaultTextEncodingName(&quot;utf-8&quot;);\r\n        webView.getSettings().setPluginState(WebSettings.PluginState.ON);\r\n        if (!isNetworkAvailable(mContext)) {\r\n            webView.getSettings().setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\r\n        }\r\n\r\nError:\r\n\r\n        webView.getSettings().setAppCacheMaxSize(AppConstant.SITE_CACHE_SIZE); error: cannot find symbol\r\n                                 ^\r\n      symbol:   method setAppCacheMaxSize(long)\r\n      location: class WebSettings\r\n    \r\n        error: cannot find symbol\r\n            webView.getSettings().setAppCachePath(mContext.getCacheDir().getAbsolutePath());\r\n                                 ^\r\n      symbol:   method setAppCachePath(String)\r\n      location: class WebSettings\r\n    \r\n    \r\n    error: cannot find symbol\r\n            webView.getSettings().setAppCacheEnabled(true);\r\n                                 ^\r\n      symbol:   method setAppCacheEnabled(boolean)\r\n      location: class WebSettings\r\n    \r\n    Note: Some input files use or override a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    3 errors\r\n    \r\n    &gt; Task :app:compileDebugJavaWithJavac FAILED\r\n","title":"Android Studio Javac error - Task :app:compileDebugJavaWithJavac FAILED. Cannot find symbol method setAppCacheMaxSize(Long)","body":"<p>Here is code of that file.</p>\n<pre><code>public void initWebView() {\n    webView.getSettings().setJavaScriptEnabled(true);\n    webView.getSettings().setLoadWithOverviewMode(true);\n    **webView.getSettings().setAppCacheMaxSize(AppConstant.SITE_CACHE_SIZE);\n    webView.getSettings().setAppCachePath(mContext.getCacheDir().getAbsolutePath());**\n    webView.getSettings().setAllowFileAccess(true);\n    **webView.getSettings().setAppCacheEnabled(true);**\n    webView.getSettings().setCacheMode(WebSettings.LOAD_DEFAULT);\n    webView.getSettings().setLoadWithOverviewMode(true);\n    webView.getSettings().setDomStorageEnabled(true);\n    webView.getSettings().setDefaultTextEncodingName(&quot;utf-8&quot;);\n    webView.getSettings().setPluginState(WebSettings.PluginState.ON);\n    if (!isNetworkAvailable(mContext)) {\n        webView.getSettings().setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\n    }\n</code></pre>\n<p>Error:</p>\n<pre><code>    webView.getSettings().setAppCacheMaxSize(AppConstant.SITE_CACHE_SIZE); error: cannot find symbol\n                             ^\n  symbol:   method setAppCacheMaxSize(long)\n  location: class WebSettings\n\n    error: cannot find symbol\n        webView.getSettings().setAppCachePath(mContext.getCacheDir().getAbsolutePath());\n                             ^\n  symbol:   method setAppCachePath(String)\n  location: class WebSettings\n\n\nerror: cannot find symbol\n        webView.getSettings().setAppCacheEnabled(true);\n                             ^\n  symbol:   method setAppCacheEnabled(boolean)\n  location: class WebSettings\n\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n3 errors\n\n&gt; Task :app:compileDebugJavaWithJavac FAILED\n</code></pre>\n"},{"tags":["java","ldap","spring-ldap"],"comments":[{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":0,"creation_date":1578595137,"post_id":59670203,"comment_id":105499373,"body_markdown":"to update password you need to use // Perform the update\n     ctx.modifyAttributes(theUserName, mods);","body":"to update password you need to use // Perform the update      ctx.modifyAttributes(theUserName, mods);"},{"owner":{"account_id":17092960,"reputation":1,"user_id":12368641,"display_name":"brian "},"score":0,"creation_date":1578596775,"post_id":59670203,"comment_id":105500007,"body_markdown":"@dassum i updated my post. yes, i used  ldapTemplate.modifyAttributes(context); at very end.","body":"@dassum i updated my post. yes, i used  ldapTemplate.modifyAttributes(context); at very end."},{"owner":{"account_id":21814600,"reputation":33,"user_id":17030340,"display_name":"Michael Torres Ospina"},"score":0,"creation_date":1659467693,"post_id":59670203,"comment_id":129300621,"body_markdown":"@brian were you able to fix the error?","body":"@brian were you able to fix the error?"}],"answers":[{"tags":[],"owner":{"account_id":22873215,"reputation":1,"user_id":17015927,"display_name":"yuanliangyang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632744677,"creation_date":1632744677,"answer_id":69346383,"question_id":59670203,"body_markdown":"you can do this\r\n \r\n\r\n    ModificationItem item = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new BasicAttribute(passwordKey, (&quot;\\&quot;&quot;+password+&quot;\\&quot;&quot;).getBytes(StandardCharsets.UTF_16LE)));\r\n\t\t\t\t\tldapTemplate.modifyAttributes(name, new ModificationItem[]{item});","title":"Update password in ldap using java","body":"<p>you can do this</p>\n<pre><code>ModificationItem item = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new BasicAttribute(passwordKey, (&quot;\\&quot;&quot;+password+&quot;\\&quot;&quot;).getBytes(StandardCharsets.UTF_16LE)));\n                ldapTemplate.modifyAttributes(name, new ModificationItem[]{item});\n</code></pre>\n"}],"owner":{"account_id":17092960,"reputation":1,"user_id":12368641,"display_name":"brian "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":847,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662031656,"creation_date":1578594874,"question_id":59670203,"body_markdown":"  I am using spring `ldapcontextsource` + java to interact with AD. When I create the user account with a new password, everything works fine. Code is below\r\n\r\n    context.setAttributeValue(&quot;unicodePwd&quot;, AD.getUnicodePwd(persona.getPassword()));\r\n\r\nHowever, when I tried to update the using password with the same code above, I got the following error:\r\n```plain text\r\n  [LDAP: error code 20 - 0000207E: AtrErr: DSID-031906FC, #1: 0: 0000207E: DSID-031906FC, problem 1006 (ATT_OR_VALUE_EXISTS), data 0, Att 9005a (unicodePwd) ]; nested exception is javax.naming.directory.AttributeInUseException: [LDAP: error code 20 - 0000207E: AtrErr: DSID-031906FC, #1: 0: 0000207E: DSID-031906FC, problem 1006 (ATT_OR_VALUE_EXISTS), data 0, Att 9005a (unicodePwd) ]; remaining name &#39;CN=brian_2 brian_2,OU=Test Group,OU=Organization Users,OU=ICE Accounts,DC=vetasi,DC=stage&#39;\r\n```\r\nIn addition, I have tried following the code. userpassword is set successfully, but I can not log in by using a new password and the old password still works \r\n\r\n    context.setAttributeValue(&quot;userPassword&quot;, persona.getPassword());\r\n\r\nat the very end, I used the below code to modify the context\r\n\r\n    ldapTemplate.modifyAttributes(context);\r\n  ","title":"Update password in ldap using java","body":"<p>I am using spring <code>ldapcontextsource</code> + java to interact with AD. When I create the user account with a new password, everything works fine. Code is below</p>\n<pre><code>context.setAttributeValue(&quot;unicodePwd&quot;, AD.getUnicodePwd(persona.getPassword()));\n</code></pre>\n<p>However, when I tried to update the using password with the same code above, I got the following error:</p>\n<pre><code>  [LDAP: error code 20 - 0000207E: AtrErr: DSID-031906FC, #1: 0: 0000207E: DSID-031906FC, problem 1006 (ATT_OR_VALUE_EXISTS), data 0, Att 9005a (unicodePwd) ]; nested exception is javax.naming.directory.AttributeInUseException: [LDAP: error code 20 - 0000207E: AtrErr: DSID-031906FC, #1: 0: 0000207E: DSID-031906FC, problem 1006 (ATT_OR_VALUE_EXISTS), data 0, Att 9005a (unicodePwd) ]; remaining name 'CN=brian_2 brian_2,OU=Test Group,OU=Organization Users,OU=ICE Accounts,DC=vetasi,DC=stage'\n</code></pre>\n<p>In addition, I have tried following the code. userpassword is set successfully, but I can not log in by using a new password and the old password still works</p>\n<pre><code>context.setAttributeValue(&quot;userPassword&quot;, persona.getPassword());\n</code></pre>\n<p>at the very end, I used the below code to modify the context</p>\n<pre><code>ldapTemplate.modifyAttributes(context);\n</code></pre>\n"},{"tags":["java","kubernetes","amazon-s3","apache-flink","ceph"],"comments":[{"owner":{"account_id":12191873,"reputation":3799,"user_id":8899044,"display_name":"Dominik Wosiński"},"score":0,"creation_date":1663236624,"post_id":73568589,"comment_id":130193690,"body_markdown":"The `UnknownHostException` usually provides name of the host it tries to resolve in Your case it tries to resolve `HOSTNAME:` itself, looks like You are not setting somekind of env var ?","body":"The <code>UnknownHostException</code> usually provides name of the host it tries to resolve in Your case it tries to resolve <code>HOSTNAME:</code> itself, looks like You are not setting somekind of env var ?"},{"owner":{"account_id":13364739,"reputation":53,"user_id":9645434,"display_name":"Programmer666"},"score":0,"creation_date":1663327498,"post_id":73568589,"comment_id":130218846,"body_markdown":"I put the `HOSTNAME` as an example. I tried to resolve a real host name.","body":"I put the <code>HOSTNAME</code> as an example. I tried to resolve a real host name."}],"owner":{"account_id":13364739,"reputation":53,"user_id":9645434,"display_name":"Programmer666"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662031582,"creation_date":1662031582,"question_id":73568589,"body_markdown":"I have a flink Job that&#39;s run on flink environment we deployed with helm on kubernetes cluster.\r\n\r\nThe job uses rocksdb s3(ceph) state backend.\r\nBut every once in a while the pod can&#39;t reach the host name and we get the error below\r\n\r\nRoot exception \r\n```java\r\nCaused by:java.net.UnknownHostException: HOSTNAME: Name or service not know\r\n```\r\n\r\nthe error above is the cause of\r\n```java\r\njava.lang.Exception: Exception while creating StreamOperatorStateContext\r\n``` \r\nand\r\n```java\r\norg.apache.flink.util.FlinkException: Could not restore operator state backend for..\r\n```\r\n\r\nMy guess that one of the pods suddnley can&#39;t acsess the s3 host.\r\n\r\nBut I can&#39;t figure out a way to prove that or to check if it&#39;s because something else..\r\n\r\n\r\n\r\n","title":"Flink S3 Unknown Host Exception","body":"<p>I have a flink Job that's run on flink environment we deployed with helm on kubernetes cluster.</p>\n<p>The job uses rocksdb s3(ceph) state backend.\nBut every once in a while the pod can't reach the host name and we get the error below</p>\n<p>Root exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by:java.net.UnknownHostException: HOSTNAME: Name or service not know\n</code></pre>\n<p>the error above is the cause of</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.Exception: Exception while creating StreamOperatorStateContext\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.apache.flink.util.FlinkException: Could not restore operator state backend for..\n</code></pre>\n<p>My guess that one of the pods suddnley can't acsess the s3 host.</p>\n<p>But I can't figure out a way to prove that or to check if it's because something else..</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662030862,"post_id":73568373,"comment_id":129914541,"body_markdown":"Well, you&#39;d need to get that date from somewhere and once initialized the options would depend on that date. So suppose you&#39;re doing `Lazy.of(() -&gt; calculateOptions(LocalDate.now()))`. This would calculate options as of today but if your application is running for a longer time `options` might get outdated.","body":"Well, you&#39;d need to get that date from somewhere and once initialized the options would depend on that date. So suppose you&#39;re doing <code>Lazy.of(() -&gt; calculateOptions(LocalDate.now()))</code>. This would calculate options as of today but if your application is running for a longer time <code>options</code> might get outdated."},{"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"score":0,"creation_date":1662031093,"post_id":73568373,"comment_id":129914623,"body_markdown":"@Thomas I changed my code snippet by changing method to public -&gt; I&#39;m calling calculateOptions from outside with some LocalDate parameter","body":"@Thomas I changed my code snippet by changing method to public -&gt; I&#39;m calling calculateOptions from outside with some LocalDate parameter"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662031307,"post_id":73568373,"comment_id":129914698,"body_markdown":"Well, if you&#39;re calling that method from the outside what is the `Lazy.of(this::calculateOptions)` for then? Note that calling the method here is not related to calling the method somewhere else, at least there&#39;s nothing indicating this in your code snippets.","body":"Well, if you&#39;re calling that method from the outside what is the <code>Lazy.of(this::calculateOptions)</code> for then? Note that calling the method here is not related to calling the method somewhere else, at least there&#39;s nothing indicating this in your code snippets."},{"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"score":0,"creation_date":1662031631,"post_id":73568373,"comment_id":129914821,"body_markdown":"@Thomas ok I added sth to my code -&gt; please look at this. I&#39;m calling some other public method that is calling my lazy method","body":"@Thomas ok I added sth to my code -&gt; please look at this. I&#39;m calling some other public method that is calling my lazy method"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662031911,"post_id":73568373,"comment_id":129914930,"body_markdown":"I&#39;m not sure what you&#39;re trying to tell me. This doesn&#39;t change anything. Calling any other method somewhere else isn&#39;t related to the use of  `Lazy` if the only connection is that both are using the same method. I&#39;ll repeat: `calculateOptions(LocalDate)` will be called _once_ when the `Lazy` is initialized. After that the `Set&lt;Options&gt;` inside the `Lazy` will exist and be returned every time you want to get the value of the `Lazy`. SO unless you&#39;re directly modifying that set or the values in it there won&#39;t be any changes after the initial call.","body":"I&#39;m not sure what you&#39;re trying to tell me. This doesn&#39;t change anything. Calling any other method somewhere else isn&#39;t related to the use of  <code>Lazy</code> if the only connection is that both are using the same method. I&#39;ll repeat: <code>calculateOptions(LocalDate)</code> will be called <i>once</i> when the <code>Lazy</code> is initialized. After that the <code>Set&lt;Options&gt;</code> inside the <code>Lazy</code> will exist and be returned every time you want to get the value of the <code>Lazy</code>. SO unless you&#39;re directly modifying that set or the values in it there won&#39;t be any changes after the initial call."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662032094,"post_id":73568373,"comment_id":129914989,"body_markdown":"Let me try with another example: You&#39;re asking me what time it is but since I&#39;m lazy I&#39;ll look at the clock only once and give the same answer every time after that (e.g. &quot;1:30 pm&quot;). Now _you_ are looking at the clock yourself and always get the current time. The results will be different although we&#39;re both looking at the same clock (which in your case would be the method `calculateOptions(LocalDate)`).","body":"Let me try with another example: You&#39;re asking me what time it is but since I&#39;m lazy I&#39;ll look at the clock only once and give the same answer every time after that (e.g. &quot;1:30 pm&quot;). Now <i>you</i> are looking at the clock yourself and always get the current time. The results will be different although we&#39;re both looking at the same clock (which in your case would be the method <code>calculateOptions(LocalDate)</code>)."},{"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"score":1,"creation_date":1662032292,"post_id":73568373,"comment_id":129915051,"body_markdown":"@Thomas ok so the solution is to just remove Lazy because in my case it is unnecessary and pointless","body":"@Thomas ok so the solution is to just remove Lazy because in my case it is unnecessary and pointless"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662032683,"post_id":73568373,"comment_id":129915189,"body_markdown":"It seems to but I can&#39;t tell for sure. If no code is accessing `options` then sure, delete it.","body":"It seems to but I can&#39;t tell for sure. If no code is accessing <code>options</code> then sure, delete it."}],"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662031538,"creation_date":1662030617,"question_id":73568373,"body_markdown":"I wonder what can I do with existing code where method `calculateOptions` received one parameter (without any parameters before).\r\n\r\n\r\nMy code in my Spring app:\r\n\r\n```\r\npublic class Slots{\r\n\r\nprivate final Aaa aaa;\r\nprivate final Lazy&lt;Set&lt;Option&gt;&gt; options =\r\n            Lazy.of(this::calculateOptions);\r\n\r\n\r\npublic Set&lt;Option&gt; calculateFinalOptions(LocalDate date) { //new parameter\r\n    return calculateOptions(date);\r\n}\r\n\r\nprivate Set&lt;Option&gt; calculateOptions(LocalDate date) { ///new parameter\r\n}\r\n```\r\n\r\n\r\nI tried eg.\r\n\r\n```\r\nprivate final Lazy&lt;Set&lt;Option&gt;&gt; options =\r\n            Lazy.of(() -&gt; calculateOptions(date???));\r\n```\r\n\r\nbut I don&#39;t have idea how to fix this to avoid compile error\r\n","title":"Spring Lazy.of with parameter","body":"<p>I wonder what can I do with existing code where method <code>calculateOptions</code> received one parameter (without any parameters before).</p>\n<p>My code in my Spring app:</p>\n<pre><code>public class Slots{\n\nprivate final Aaa aaa;\nprivate final Lazy&lt;Set&lt;Option&gt;&gt; options =\n            Lazy.of(this::calculateOptions);\n\n\npublic Set&lt;Option&gt; calculateFinalOptions(LocalDate date) { //new parameter\n    return calculateOptions(date);\n}\n\nprivate Set&lt;Option&gt; calculateOptions(LocalDate date) { ///new parameter\n}\n</code></pre>\n<p>I tried eg.</p>\n<pre><code>private final Lazy&lt;Set&lt;Option&gt;&gt; options =\n            Lazy.of(() -&gt; calculateOptions(date???));\n</code></pre>\n<p>but I don't have idea how to fix this to avoid compile error</p>\n"},{"tags":["java","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":8664966,"reputation":11942,"user_id":6485881,"display_name":"Maurice"},"score":0,"creation_date":1662040598,"post_id":73568562,"comment_id":129918301,"body_markdown":"Sending the client a presigned (temporary) URL to download the file directly from S3 is not an option?","body":"Sending the client a presigned (temporary) URL to download the file directly from S3 is not an option?"},{"owner":{"account_id":2809810,"reputation":414,"user_id":2416264,"accept_rate":50,"display_name":"mosh"},"score":0,"creation_date":1662116909,"post_id":73568562,"comment_id":129937103,"body_markdown":"@Maurice - this will require me to have a public S3 bucket, won&#39;t it? sounds like a bad idea, when it stores customer information. Better to go through the app.","body":"@Maurice - this will require me to have a public S3 bucket, won&#39;t it? sounds like a bad idea, when it stores customer information. Better to go through the app."},{"owner":{"account_id":8664966,"reputation":11942,"user_id":6485881,"display_name":"Maurice"},"score":0,"creation_date":1662117405,"post_id":73568562,"comment_id":129937274,"body_markdown":"No, the bucket won&#39;t have to be public. The presigned URL allows you to download one specific object for a period of time.","body":"No, the bucket won&#39;t have to be public. The presigned URL allows you to download one specific object for a period of time."}],"owner":{"account_id":2809810,"reputation":414,"user_id":2416264,"accept_rate":50,"display_name":"mosh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662031472,"creation_date":1662031472,"question_id":73568562,"body_markdown":"**The background:**\r\n\r\nI have a Java Spring boot application.\r\n\r\nI would like to have an API endpoint where the user can request to download a file. \r\n\r\nThe file is generated by the application and stored in some remote storage (S3 for example), prior to the download request\r\n\r\nThe customer does not have an access to the remote storage. \r\n\r\nHe sends a request to the application and as far as he is concerned the file is coming from the application. \r\n\r\nThe file downloaded can be very big.\r\n\r\n**The question**\r\n\r\nIs there a way to have the application be used as some sort of a tunnel?\r\n\r\nMeaning - the application gets a request, start downloading the file chunk by chunk, and every downloaded chunk is also returned to the client.\r\n\r\nThis will create a similar experience to downloading from S3 itself and does not force the application to save the file locally or upload the whole thing into its memory \r\n","title":"Downloading big files and passing them back to the client in chunks","body":"<p><strong>The background:</strong></p>\n<p>I have a Java Spring boot application.</p>\n<p>I would like to have an API endpoint where the user can request to download a file.</p>\n<p>The file is generated by the application and stored in some remote storage (S3 for example), prior to the download request</p>\n<p>The customer does not have an access to the remote storage.</p>\n<p>He sends a request to the application and as far as he is concerned the file is coming from the application.</p>\n<p>The file downloaded can be very big.</p>\n<p><strong>The question</strong></p>\n<p>Is there a way to have the application be used as some sort of a tunnel?</p>\n<p>Meaning - the application gets a request, start downloading the file chunk by chunk, and every downloaded chunk is also returned to the client.</p>\n<p>This will create a similar experience to downloading from S3 itself and does not force the application to save the file locally or upload the whole thing into its memory</p>\n"},{"tags":["java","selenium","webdriver","testng","selenium-grid"],"comments":[{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1662462255,"post_id":12385304,"comment_id":130005804,"body_markdown":"I had a same issue, resolved using: https://stackoverflow.com/questions/47458034/testng-parallel-classes-and-dependsonmethods","body":"I had a same issue, resolved using: <a href=\"https://stackoverflow.com/questions/47458034/testng-parallel-classes-and-dependsonmethods\" title=\"testng parallel classes and dependsonmethods\">stackoverflow.com/questions/47458034/&hellip;</a>"},{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1662462343,"post_id":12385304,"comment_id":130005834,"body_markdown":"ref: https://rationaleemotions.wordpress.com/2018/11/23/thread-affinity-in-testng/#:~:text=To%20enable%20this%20feature%20(This,affinity%3Dtrue%E2%80%9D.&amp;text=As%20you%20can%20see%20from,()%E2%80%9D%20on%20the%20same%20thread.","body":"ref: <a href=\"https://rationaleemotions.wordpress.com/2018/11/23/thread-affinity-in-testng/#:~:text=To%20enable%20this%20feature%20(This,affinity%3Dtrue%E2%80%9D.&amp;text=As%20you%20can%20see%20from,()%E2%80%9D%20on%20the%20same%20thread\" rel=\"nofollow noreferrer\">rationaleemotions.wordpress.com/2018/11/23/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347453718,"creation_date":1347453339,"answer_id":12388289,"question_id":12385304,"body_markdown":"It seems to me to resolve this issue you should investigate in maven surefire plugin direction.\r\nCurrently i use it for excluding my test suite on build.\r\n\r\npom.xml in my local  module\r\n\r\n     \r\n    \r\n     &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.11&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.12&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!--&lt;includes&gt;--&gt;\r\n                            &lt;!--&lt;include&gt;**/*.class&lt;/include&gt;--&gt;\r\n                        &lt;!--&lt;/includes&gt;--&gt;\r\n                        &lt;excludedGroups&gt;com.exadel.rms.selenium.SeleniumTests&lt;/excludedGroups&gt;\r\n    \r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nI annotate my test class to exlude with \r\n\r\n   \r\n\r\n     @Category(SeleniumTests.class)\r\n        public class HomePageTestSuite extends BaseSeleniumTest {\r\n    ............\r\n\r\nAnd the whole structure you can see on the picture:\r\n![enter image description here][1]\r\n\r\n\r\nActually you can get some useful info for [here][2]\r\n\r\nLook also this topic. Prolly it can be also useful: https://stackoverflow.com/questions/12335034/junit-can-should-this-be-done\r\n\r\nHope this helps you)\r\n\r\n  [1]: http://i.stack.imgur.com/nvLO6.png\r\n  [2]: http://johndobie.blogspot.com/2012/04/unit-and-integration-tests-with-maven.html","title":"How to force TestNG to run all methods in class without switching to another thread in parallel mode","body":"<p>It seems to me to resolve this issue you should investigate in maven surefire plugin direction.\nCurrently i use it for excluding my test suite on build.</p>\n\n<p>pom.xml in my local  module</p>\n\n<pre><code> &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.11&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n                        &lt;version&gt;2.12&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;!--&lt;includes&gt;--&gt;\n                        &lt;!--&lt;include&gt;**/*.class&lt;/include&gt;--&gt;\n                    &lt;!--&lt;/includes&gt;--&gt;\n                    &lt;excludedGroups&gt;com.exadel.rms.selenium.SeleniumTests&lt;/excludedGroups&gt;\n\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>I annotate my test class to exlude with </p>\n\n<pre><code> @Category(SeleniumTests.class)\n    public class HomePageTestSuite extends BaseSeleniumTest {\n............\n</code></pre>\n\n<p>And the whole structure you can see on the picture:\n<img src=\"https://i.stack.imgur.com/nvLO6.png\" alt=\"enter image description here\"></p>\n\n<p>Actually you can get some useful info for <a href=\"http://johndobie.blogspot.com/2012/04/unit-and-integration-tests-with-maven.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Look also this topic. Prolly it can be also useful: <a href=\"https://stackoverflow.com/questions/12335034/junit-can-should-this-be-done\">JUnit: Can (should) this be done?</a></p>\n\n<p>Hope this helps you)</p>\n"},{"tags":[],"owner":{"account_id":74561,"reputation":4982,"user_id":214178,"accept_rate":100,"display_name":"artdanil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1347482977,"creation_date":1347482504,"answer_id":12395914,"question_id":12385304,"body_markdown":"You have setup your TestNG configuration to run tests parallel:\r\n\r\n    &lt;suite name=&quot;test suite&quot; verbose=&quot;3&quot; parallel=&quot;classes&quot; thread-count=&quot;2&quot;&gt;\r\n\r\nIf you have only two classes: TestClass1 and TestClass2, then TestNG will create 2 threads and will invoke tests from TestClass1 in one thread, and TestClass2 in the other.\r\n\r\nIf you want TestClass2 run after TestClass1 you have several options:\r\n\r\n1.Make class TestClass2 dependant on TestClass1. There multiple options here, so just refer to [Dependcies][1] section of TestNG documentation.\r\n\r\n2.Set `thread-count=&quot;1&quot;` and `parallel=&quot;false&quot;` (or remove parallel attribute). Also make sure you don&#39;t have `preserve-order=&quot;false&quot;` and put your  TestClass2 after TestClass1 in xml.\r\n\r\n    &lt;test name=&quot;extended_smoke_test_suite&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;test.TestClass1&quot;/&gt;\r\n            &lt;class name=&quot;test.TestClass2&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n\r\n\r\n  [1]: http://testng.org/doc/documentation-main.html#dependent-methods\r\n","title":"How to force TestNG to run all methods in class without switching to another thread in parallel mode","body":"<p>You have setup your TestNG configuration to run tests parallel:</p>\n\n<pre><code>&lt;suite name=\"test suite\" verbose=\"3\" parallel=\"classes\" thread-count=\"2\"&gt;\n</code></pre>\n\n<p>If you have only two classes: TestClass1 and TestClass2, then TestNG will create 2 threads and will invoke tests from TestClass1 in one thread, and TestClass2 in the other.</p>\n\n<p>If you want TestClass2 run after TestClass1 you have several options:</p>\n\n<p>1.Make class TestClass2 dependant on TestClass1. There multiple options here, so just refer to <a href=\"http://testng.org/doc/documentation-main.html#dependent-methods\" rel=\"nofollow\">Dependcies</a> section of TestNG documentation.</p>\n\n<p>2.Set <code>thread-count=\"1\"</code> and <code>parallel=\"false\"</code> (or remove parallel attribute). Also make sure you don't have <code>preserve-order=\"false\"</code> and put your  TestClass2 after TestClass1 in xml.</p>\n\n<pre><code>&lt;test name=\"extended_smoke_test_suite\"&gt;\n    &lt;classes&gt;\n        &lt;class name=\"test.TestClass1\"/&gt;\n        &lt;class name=\"test.TestClass2\"/&gt;\n    &lt;/classes&gt;\n&lt;/test&gt;\n</code></pre>\n"}],"owner":{"account_id":911942,"reputation":43,"user_id":945580,"display_name":"GentleMurderer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662031290,"creation_date":1347442784,"question_id":12385304,"body_markdown":"I have the following suite XML for running UI tests using Webdriver:\r\n\r\n     &lt;suite name=&quot;test suite&quot; verbose=&quot;3&quot; parallel=&quot;classes&quot; thread-count=&quot;2&quot;&gt;\r\n\r\n    &lt;test name=&quot;extended_smoke_test_suite&quot;&gt;\r\n        &lt;listeners&gt;\r\n            &lt;listener\r\n                ...\r\n            &lt;/listener&gt;\r\n        &lt;/listeners&gt;   \r\n        &lt;groups&gt;\r\n            &lt;run&gt;\r\n                &lt;include name=&quot;somegroup1&quot; /&gt;\r\n                &lt;include name=&quot;somegroup2&quot; /&gt;\r\n            &lt;/run&gt;\r\n        &lt;/groups&gt;\r\n        &lt;packages&gt;\r\n               &lt;package name=&quot;tests.*&quot; &gt;&lt;/package&gt;\r\n        &lt;/packages&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n\r\n   When I run this suite, it launches a few browsers(more than 2) and I can observe that it works only in two of them.\r\n   Looks like it starts some test class(TestClass1), executes one of the test methods, and then switches to another class(TestClass2). After completing the test method in TestClass2 it returns back to TestClass1 and continues with it\r\n\r\nAs I have lots of test classes this results in multiple open browsers.\r\n\r\nIs there any way to &quot;say&quot; TestNG to execute all tests from TestClass1 and only after that switch to next, so we will have only two opened and active browsers at the current moment ","title":"How to force TestNG to run all methods in class without switching to another thread in parallel mode","body":"<p>I have the following suite XML for running UI tests using Webdriver:</p>\n<pre><code> &lt;suite name=&quot;test suite&quot; verbose=&quot;3&quot; parallel=&quot;classes&quot; thread-count=&quot;2&quot;&gt;\n\n&lt;test name=&quot;extended_smoke_test_suite&quot;&gt;\n    &lt;listeners&gt;\n        &lt;listener\n            ...\n        &lt;/listener&gt;\n    &lt;/listeners&gt;   \n    &lt;groups&gt;\n        &lt;run&gt;\n            &lt;include name=&quot;somegroup1&quot; /&gt;\n            &lt;include name=&quot;somegroup2&quot; /&gt;\n        &lt;/run&gt;\n    &lt;/groups&gt;\n    &lt;packages&gt;\n           &lt;package name=&quot;tests.*&quot; &gt;&lt;/package&gt;\n    &lt;/packages&gt;\n&lt;/test&gt;\n</code></pre>\n\n<p>When I run this suite, it launches a few browsers(more than 2) and I can observe that it works only in two of them.\nLooks like it starts some test class(TestClass1), executes one of the test methods, and then switches to another class(TestClass2). After completing the test method in TestClass2 it returns back to TestClass1 and continues with it</p>\n<p>As I have lots of test classes this results in multiple open browsers.</p>\n<p>Is there any way to &quot;say&quot; TestNG to execute all tests from TestClass1 and only after that switch to next, so we will have only two opened and active browsers at the current moment</p>\n"},{"tags":["java","migration","java-3d"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661992149,"post_id":73562647,"comment_id":129905508,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26212399,"reputation":1,"user_id":19891058,"display_name":"questioning_coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662030547,"creation_date":1662030547,"answer_id":73568363,"question_id":73562647,"body_markdown":"the solution is to use values in range [0.0f; 1.0f] for a color,\r\n\r\nfor Java3D 1.7.0 Color3f(255, 0 , 0) is not acceptable, the better way is to replace it with Color3f(0.75f, 0 , 0)\r\n","title":"shadows are lost while Java3D 1.5.2 to 1.7.0 migration","body":"<p>the solution is to use values in range [0.0f; 1.0f] for a color,</p>\n<p>for Java3D 1.7.0 Color3f(255, 0 , 0) is not acceptable, the better way is to replace it with Color3f(0.75f, 0 , 0)</p>\n"}],"owner":{"account_id":26212399,"reputation":1,"user_id":19891058,"display_name":"questioning_coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662030547,"creation_date":1661986024,"question_id":73562647,"body_markdown":"Strange behavior was appeared while migrating from Java3D 1.5.2 to 1.7.0.\r\n\r\nLooks like shadows are lost in new version of Java3D:\r\n\r\nthe first picture created with Java3D 1.5.2 (based on j3dcore-ogl.dll)\r\n[first_picture_link][1]\r\n\r\nthe second picture created with Java3D 1.7.0 (based on gluegen-rt-2.3.2.jar and jogl-all-2.3.2.jar)\r\n[second_picture_link][2]\r\n\r\nThe same code was used for both cases.\r\n\r\nWhy does it happen?\r\nI can&#39;t believe that this hard downgrade is possible, may be some configurations should be change etc.\r\n\r\nUPDATED 01.09.22\r\nCode (imports for Java3D 1.7.0):\r\n\r\n    import org.jogamp.java3d.*;\r\n    import org.jogamp.java3d.utils.behaviors.keyboard.KeyNavigatorBehavior;\r\n    import org.jogamp.java3d.utils.behaviors.mouse.MouseRotate;\r\n    import org.jogamp.java3d.utils.behaviors.mouse.MouseWheelZoom;\r\n    import org.jogamp.java3d.utils.geometry.GeometryInfo;\r\n    import org.jogamp.java3d.utils.geometry.NormalGenerator;\r\n    import org.jogamp.java3d.utils.universe.PlatformGeometry;\r\n    import org.jogamp.java3d.utils.universe.SimpleUniverse;\r\n    import org.jogamp.vecmath.*;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.util.ArrayList;\r\n    \r\n    public class Plate {\r\n    \r\n        int jagged;\r\n        private String currentShapeID = null;\r\n        private SimpleUniverse universe = null;\r\n        private Canvas3D canvas = null;\r\n        private TransformGroup viewtrans = null;\r\n    \r\n        private TransformGroup tg = null;\r\n        private Transform3D t3d = null;\r\n        private JPanel canvasPanel;\r\n    \r\n        public Plate() {\r\n            canvasPanel = new JPanel(new BorderLayout());\r\n            JFrame f = new JFrame();\r\n            f.setLayout(new BorderLayout());\r\n            JPanel p = new JPanel(new BorderLayout());\r\n            p.add(BorderLayout.CENTER, canvasPanel);\r\n            f.add(p, BorderLayout.CENTER);\r\n            f.setSize(500, 500);\r\n            f.setVisible(true);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new Plate().paint3D();\r\n        }\r\n    \r\n        public void paint3D() {\r\n            set3dLoadedStatus();\r\n            Runnable runnable = new Runnable() {\r\n                public void run() {\r\n                    try {\r\n                        GraphicsConfiguration config = SimpleUniverse\r\n                                .getPreferredConfiguration();\r\n    \r\n                        canvas = new Canvas3D(config);\r\n    \r\n                        universe = new SimpleUniverse(canvas);\r\n    \r\n    \r\n                        universe.getViewingPlatform().setNominalViewingTransform();\r\n    \r\n                        universe.getViewer().getView().setBackClipDistance(10.0);\r\n    \r\n                        BranchGroup scene = new BranchGroup();\r\n    \r\n                        BoundingSphere bounds = new BoundingSphere(new Point3d(), 10000.0);\r\n    \r\n                        viewtrans = universe.getViewingPlatform().getViewPlatformTransform();\r\n    \r\n                        KeyNavigatorBehavior keyNavBeh = new KeyNavigatorBehavior(viewtrans);\r\n                        keyNavBeh.setSchedulingBounds(bounds);\r\n                        PlatformGeometry platformGeom = new PlatformGeometry();\r\n                        platformGeom.addChild(keyNavBeh);\r\n                        universe.getViewingPlatform().setPlatformGeometry(platformGeom);\r\n    \r\n                        BranchGroup objRoot = new BranchGroup();\r\n                        objRoot.setCapability(BranchGroup.ALLOW_DETACH);\r\n                        objRoot.setCapability(BranchGroup.ALLOW_CHILDREN_WRITE);\r\n                        objRoot.setCapability(BranchGroup.ALLOW_CHILDREN_READ);\r\n                        tg = new TransformGroup();\r\n                        t3d = new Transform3D();\r\n    \r\n                        tg.setCapability(TransformGroup.ALLOW_TRANSFORM_WRITE);\r\n    \r\n                        t3d.setTranslation(new Vector3d(-0.15, -0.3, -5.0));\r\n                        t3d.setRotation(new AxisAngle4f(1f, 1f, 1f, 1f));\r\n                        t3d.setScale(getInitialScale());\r\n    \r\n                        tg.setTransform(t3d);\r\n    \r\n    \r\n                        objRoot.addChild(tg);\r\n    \r\n    \r\n    \r\n                        int jagged = getJagged();\r\n                        double[] rectDip = getRectDip();\r\n    \r\n                        int boxX = 16;\r\n    \r\n                        createVoxelizedShape(tg, boxX, jagged, rectDip);\r\n    \r\n                        float directionalPower = 0.55f;\r\n    \r\n                        final Color3f color3f = new Color3f(directionalPower, directionalPower, directionalPower);\r\n    \r\n                        DirectionalLight directionalLight = new DirectionalLight(true, color3f, new Vector3f(-0.3f, 0.2f, -1.0f));\r\n    \r\n                        directionalLight.setInfluencingBounds(new BoundingSphere(new Point3d(), 10000.0));\r\n    \r\n                        objRoot.addChild(directionalLight);\r\n    \r\n    \r\n                        AmbientLight ambientLight = new AmbientLight(true, new Color3f(1f - directionalPower, 1f - directionalPower, 1f - directionalPower));\r\n    \r\n                        ambientLight.setInfluencingBounds(new BoundingSphere(new Point3d(), 10000.0));\r\n    \r\n                        objRoot.addChild(ambientLight);\r\n    \r\n    \r\n                        MouseRotate myMouseRotate = new MouseRotate();\r\n                        myMouseRotate.setTransformGroup(tg);\r\n                        myMouseRotate.setSchedulingBounds(new BoundingSphere());\r\n                        objRoot.addChild(myMouseRotate);\r\n    \r\n                        MouseWheelZoom mouseWheelZoom = new MouseWheelZoom();\r\n                        mouseWheelZoom.setTransformGroup(tg);\r\n                        mouseWheelZoom.setSchedulingBounds(tg.getBounds());\r\n                        objRoot.addChild(mouseWheelZoom);\r\n                        objRoot.compile();\r\n    \r\n                        scene.addChild(objRoot);\r\n    \r\n                        Background background = new Background();\r\n                        background.setColor(getBackgroundColor());\r\n                        background.setApplicationBounds(bounds);\r\n                        scene.addChild(background);\r\n                        universe.addBranchGraph(scene);\r\n    \r\n                        SwingUtilities.invokeLater(() -&gt; {\r\n                            try {\r\n                                canvasPanel.removeAll();\r\n                                canvasPanel.add(canvas);\r\n                                canvasPanel.repaint();\r\n                                canvasPanel.revalidate();\r\n    \r\n                            } catch (Exception e) {\r\n                                set3dLoadedStatus(&quot;&lt;html&gt;ERROR: &quot; + e.getMessage() + &quot;&lt;/html&gt;&quot;);\r\n                            }\r\n                        });\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        SwingUtilities.invokeLater(() -&gt; {\r\n                            set3dLoadedStatus(&quot;something went wrong, try again&quot;);\r\n                        });\r\n                    }\r\n                }\r\n            };\r\n            new Thread(runnable).start();\r\n        }\r\n    \r\n        private double getInitialScale() {\r\n            return 3;\r\n        }\r\n    \r\n        protected int getJagged() {\r\n            return 1;\r\n        }\r\n    \r\n        protected double[] getRectDip() {\r\n    \r\n            return new double[]{1, 1, 1};\r\n        }\r\n    \r\n        protected void set3dLoadedStatus() {\r\n            set3dLoadedStatus(&quot;3D model is loading ...&quot;);\r\n        }\r\n    \r\n        protected void set3dLoadedStatus(String message) {\r\n            canvasPanel.removeAll();\r\n            canvasPanel.add(new JLabel(message));\r\n            canvasPanel.repaint();\r\n            canvasPanel.revalidate();\r\n        }\r\n    \r\n        public void createVoxelizedShape(TransformGroup tg, int boxX, int jagged, double[] rectDip) {\r\n            this.jagged = jagged;\r\n    \r\n            double gridspace = 1.0 / boxX;\r\n    \r\n            double xr, yr, zr;\r\n            double rectScaleX, rectScaleY, rectScaleZ;\r\n            int xj, yj, zj;\r\n    \r\n            rectScaleX = rectDip[0];\r\n            rectScaleY = rectDip[1];\r\n            rectScaleZ = rectDip[2];\r\n    \r\n            double gridSpaceX = gridspace * rectScaleX;\r\n            double gridSpaceY = gridspace * rectScaleY;\r\n            double gridSpaceZ = gridspace * rectScaleZ;\r\n    \r\n    \r\n            ArrayList&lt;Point3d&gt; point3dArrayList = new ArrayList&lt;Point3d&gt;();\r\n    \r\n            int boxY = getBoxY(boxX, rectScaleX, rectScaleY, rectScaleZ, jagged);\r\n            int boxZ = getBoxZ(boxX, rectScaleX, rectScaleY, rectScaleZ, jagged);\r\n    \r\n    \r\n            for (int k = 0; k &lt; boxZ; k++)\r\n                for (int j = 0; j &lt; boxY; j++)\r\n                    for (int i = 0; i &lt; boxX; i++) {\r\n                        xj = 2 * jagged * (i / jagged) + jagged - boxX;\r\n                        yj = 2 * jagged * (j / jagged) + jagged - boxY;\r\n                        zj = 2 * jagged * (k / jagged) + jagged - boxZ;\r\n                        /* all the following coordinates should be scaled by the same sizeX. So we scale xj,yj,zj by 2boxX with extra\r\n                         * ratio for rectangular dipoles. Thus, yr and zr are not necessarily in fixed ranges (like from -1/2 to 1/2).\r\n                         * This is done to treat adequately cases when particle dimensions are the same (along different axes), but e.g.\r\n                         * boxY!=boxX (so there are some extra void dipoles). All anisotropies in the particle itself are treated in\r\n                         * the specific shape modules below (see e.g. ELLIPSOID).\r\n                         */\r\n                        xr = (0.5 * xj) / boxX;\r\n                        yr = (0.5 * yj) / boxX * (rectScaleY / rectScaleX);\r\n                        zr = (0.5 * zj) / boxX * (rectScaleZ / rectScaleX);\r\n    \r\n                        if (isPointInsideShapeVolume(xr, yr, zr)) {\r\n                            addVoxel(xr, yr, zr, gridSpaceX, gridSpaceY, gridSpaceZ, point3dArrayList);\r\n                        }\r\n                    }\r\n    \r\n    \r\n            if (point3dArrayList.size() &lt; 1) {\r\n                return;\r\n            }\r\n    \r\n            ArrayList&lt;Double&gt; points = new ArrayList&lt;Double&gt;();\r\n            for (Point3d point3d : point3dArrayList) {\r\n                points.add(point3d.x);\r\n                points.add(point3d.y);\r\n                points.add(point3d.z);\r\n            }\r\n    \r\n            GeometryInfo gi = new GeometryInfo(GeometryInfo.QUAD_ARRAY);\r\n            gi.setCoordinates(points.stream().mapToDouble(i -&gt; i).toArray());\r\n            NormalGenerator normalGenerator = new NormalGenerator();\r\n            normalGenerator.generateNormals(gi);\r\n            Appearance ap = new Appearance();\r\n            PolygonAttributes polyAttrbutes = new PolygonAttributes();\r\n            polyAttrbutes.setPolygonMode(PolygonAttributes.POLYGON_FILL);\r\n            polyAttrbutes.setCullFace(PolygonAttributes.CULL_NONE);\r\n            ap.setPolygonAttributes(polyAttrbutes);\r\n            Material material = new Material();\r\n            material.setShininess(50f);\r\n            material.setAmbientColor(getVoxelColor());\r\n            material.setDiffuseColor(getVoxelColor());\r\n            ap.setMaterial(material);\r\n    \r\n    \r\n            Shape3D shape1 = new Shape3D(gi.getGeometryArray(), ap);\r\n            tg.addChild(shape1);\r\n    \r\n            ap = new Appearance();\r\n            polyAttrbutes = new PolygonAttributes();\r\n            polyAttrbutes.setPolygonMode(PolygonAttributes.POLYGON_LINE);\r\n            polyAttrbutes.setCullFace(PolygonAttributes.CULL_NONE);\r\n            ap.setPolygonAttributes(polyAttrbutes);\r\n            material = new Material();\r\n            material.setShininess(50f);\r\n            material.setDiffuseColor(getVoxelLineColor());\r\n            material.setAmbientColor(getVoxelLineColor());\r\n            ap.setMaterial(material);\r\n            Shape3D shape2 = new Shape3D(gi.getGeometryArray(), ap);\r\n            tg.addChild(shape2);\r\n        }\r\n    \r\n    \r\n        public int getBoxY(int boxX, double rectScaleX, double rectScaleY, double rectScaleZ, int jagged) {\r\n            return fitBox_yz(boxX * (rectScaleX / rectScaleY), jagged);\r\n        }\r\n    \r\n    \r\n        public int getBoxZ(int boxX, double rectScaleX, double rectScaleY, double rectScaleZ, int jagged) {\r\n            return fitBox_yz((firstParam + 1) * boxX * (rectScaleX / rectScaleZ), jagged);\r\n        }\r\n    \r\n        double firstParam = 0.5;\r\n    \r\n        protected boolean isPointInsideShapeVolume(double xr, double yr, double zr) {\r\n            double ro2 = xr * xr + yr * yr;\r\n            if (ro2 &lt;= 0.25) {\r\n                double tmp1 = Math.abs(zr) - firstParam * 0.5;\r\n                if (tmp1 &lt;= 0 || tmp1 * tmp1 + ro2 &lt;= 0.25) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        protected void addVoxel(double xr, double yr, double zr, double gridSpaceX, double gridSpaceY, double gridSpaceZ, ArrayList&lt;Point3d&gt; point3dArrayList) {\r\n            Point3d point1 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n            Point3d point2 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n            Point3d point3 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n            Point3d point4 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n    \r\n            Point3d point5 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n            Point3d point6 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n            Point3d point7 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n            Point3d point8 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n    \r\n    \r\n            point3dArrayList.add(point1);\r\n            point3dArrayList.add(point2);\r\n            point3dArrayList.add(point3);\r\n            point3dArrayList.add(point4);\r\n            point3dArrayList.add(point5);\r\n            point3dArrayList.add(point6);\r\n            point3dArrayList.add(point7);\r\n            point3dArrayList.add(point8);\r\n    \r\n    \r\n            Point3d point9 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n            Point3d point10 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n            Point3d point11 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n            Point3d point12 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n    \r\n            Point3d point13 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n            Point3d point14 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n            Point3d point15 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n            Point3d point16 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n    \r\n            point3dArrayList.add(point9);\r\n            point3dArrayList.add(point10);\r\n            point3dArrayList.add(point11);\r\n            point3dArrayList.add(point12);\r\n            point3dArrayList.add(point13);\r\n            point3dArrayList.add(point14);\r\n            point3dArrayList.add(point15);\r\n            point3dArrayList.add(point16);\r\n    \r\n    \r\n            Point3d point17 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n            Point3d point18 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n            Point3d point19 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n            Point3d point20 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\r\n    \r\n            Point3d point21 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n            Point3d point22 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n            Point3d point23 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n            Point3d point24 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\r\n    \r\n            point3dArrayList.add(point17);\r\n            point3dArrayList.add(point18);\r\n            point3dArrayList.add(point19);\r\n            point3dArrayList.add(point20);\r\n            point3dArrayList.add(point21);\r\n            point3dArrayList.add(point22);\r\n            point3dArrayList.add(point23);\r\n            point3dArrayList.add(point24);\r\n        }\r\n    \r\n        public static int fitBox(int box, int jagged) {\r\n            return jagged * ((box + jagged - 1) / jagged);\r\n        }\r\n    \r\n        public static int fitBox_yz(double size, int jagged)\r\n            /* given the size of the particle in y or z direction (in units of dipoles), finds the closest grid size, which would\r\n             * satisfy the FitBox function. The rounding is performed so to minimize the maximum difference between the stack of\r\n             * dipoles and corresponding particle dimension.\r\n             * The distance between the center of the outer super-dipole (J^3 original dipoles) and the particle (enclosing box)\r\n             * boundary is between 0.25 and 0.75 of super-dipole size, corresponding to the discretization along the x-axis, for\r\n             * which the optimum distance of 0.5 (the dipole cube fits tight into the boundary) is automatically satisfied.\r\n             *\r\n             * !!! However, it is still possible that the whole outer layer of dipoles would be void because the estimate does not\r\n             * take into account the details of the shape e.g. its curvature. For instance, &#39;adda -grid 4 -shape ellipsoid 1 2.13&#39;\r\n             * results in grid 4x4x9, but the layers z=0, z=8 will be void. This is because the dipole centers in this layers always\r\n             * have non-zero x and y coordinates (at least half-dipole in absolute value) and do not fall inside the ellipsoid,\r\n             * although the points {+-4,0,0} do fall into it.\r\n             */ {\r\n            return jagged * (int) Math.round(size / jagged);\r\n        }\r\n    \r\n    \r\n        public Color3f getBackgroundColor() {\r\n            return new Color3f(0.75f, 0.69f, 0.680f);\r\n        }\r\n    \r\n        protected Color3f getVoxelColor() {\r\n            return new Color3f(255, 0, 255);\r\n        }\r\n    \r\n        protected Color3f getVoxelLineColor() {\r\n            return new Color3f(0, 0, 0);\r\n        }\r\n    \r\n    \r\n        protected Color3f getSurfaceColor() {\r\n            return new Color3f(255, 0, 255);\r\n        }\r\n    \r\n        ;\r\n    \r\n        protected String error;\r\n    \r\n        public String getError() {\r\n            return error;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qj0G9.png\r\n  [2]: https://i.stack.imgur.com/bBYSu.png","title":"shadows are lost while Java3D 1.5.2 to 1.7.0 migration","body":"<p>Strange behavior was appeared while migrating from Java3D 1.5.2 to 1.7.0.</p>\n<p>Looks like shadows are lost in new version of Java3D:</p>\n<p>the first picture created with Java3D 1.5.2 (based on j3dcore-ogl.dll)\n<a href=\"https://i.stack.imgur.com/Qj0G9.png\" rel=\"nofollow noreferrer\">first_picture_link</a></p>\n<p>the second picture created with Java3D 1.7.0 (based on gluegen-rt-2.3.2.jar and jogl-all-2.3.2.jar)\n<a href=\"https://i.stack.imgur.com/bBYSu.png\" rel=\"nofollow noreferrer\">second_picture_link</a></p>\n<p>The same code was used for both cases.</p>\n<p>Why does it happen?\nI can't believe that this hard downgrade is possible, may be some configurations should be change etc.</p>\n<p>UPDATED 01.09.22\nCode (imports for Java3D 1.7.0):</p>\n<pre><code>import org.jogamp.java3d.*;\nimport org.jogamp.java3d.utils.behaviors.keyboard.KeyNavigatorBehavior;\nimport org.jogamp.java3d.utils.behaviors.mouse.MouseRotate;\nimport org.jogamp.java3d.utils.behaviors.mouse.MouseWheelZoom;\nimport org.jogamp.java3d.utils.geometry.GeometryInfo;\nimport org.jogamp.java3d.utils.geometry.NormalGenerator;\nimport org.jogamp.java3d.utils.universe.PlatformGeometry;\nimport org.jogamp.java3d.utils.universe.SimpleUniverse;\nimport org.jogamp.vecmath.*;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.util.ArrayList;\n\npublic class Plate {\n\n    int jagged;\n    private String currentShapeID = null;\n    private SimpleUniverse universe = null;\n    private Canvas3D canvas = null;\n    private TransformGroup viewtrans = null;\n\n    private TransformGroup tg = null;\n    private Transform3D t3d = null;\n    private JPanel canvasPanel;\n\n    public Plate() {\n        canvasPanel = new JPanel(new BorderLayout());\n        JFrame f = new JFrame();\n        f.setLayout(new BorderLayout());\n        JPanel p = new JPanel(new BorderLayout());\n        p.add(BorderLayout.CENTER, canvasPanel);\n        f.add(p, BorderLayout.CENTER);\n        f.setSize(500, 500);\n        f.setVisible(true);\n\n    }\n\n    public static void main(String[] args) {\n        new Plate().paint3D();\n    }\n\n    public void paint3D() {\n        set3dLoadedStatus();\n        Runnable runnable = new Runnable() {\n            public void run() {\n                try {\n                    GraphicsConfiguration config = SimpleUniverse\n                            .getPreferredConfiguration();\n\n                    canvas = new Canvas3D(config);\n\n                    universe = new SimpleUniverse(canvas);\n\n\n                    universe.getViewingPlatform().setNominalViewingTransform();\n\n                    universe.getViewer().getView().setBackClipDistance(10.0);\n\n                    BranchGroup scene = new BranchGroup();\n\n                    BoundingSphere bounds = new BoundingSphere(new Point3d(), 10000.0);\n\n                    viewtrans = universe.getViewingPlatform().getViewPlatformTransform();\n\n                    KeyNavigatorBehavior keyNavBeh = new KeyNavigatorBehavior(viewtrans);\n                    keyNavBeh.setSchedulingBounds(bounds);\n                    PlatformGeometry platformGeom = new PlatformGeometry();\n                    platformGeom.addChild(keyNavBeh);\n                    universe.getViewingPlatform().setPlatformGeometry(platformGeom);\n\n                    BranchGroup objRoot = new BranchGroup();\n                    objRoot.setCapability(BranchGroup.ALLOW_DETACH);\n                    objRoot.setCapability(BranchGroup.ALLOW_CHILDREN_WRITE);\n                    objRoot.setCapability(BranchGroup.ALLOW_CHILDREN_READ);\n                    tg = new TransformGroup();\n                    t3d = new Transform3D();\n\n                    tg.setCapability(TransformGroup.ALLOW_TRANSFORM_WRITE);\n\n                    t3d.setTranslation(new Vector3d(-0.15, -0.3, -5.0));\n                    t3d.setRotation(new AxisAngle4f(1f, 1f, 1f, 1f));\n                    t3d.setScale(getInitialScale());\n\n                    tg.setTransform(t3d);\n\n\n                    objRoot.addChild(tg);\n\n\n\n                    int jagged = getJagged();\n                    double[] rectDip = getRectDip();\n\n                    int boxX = 16;\n\n                    createVoxelizedShape(tg, boxX, jagged, rectDip);\n\n                    float directionalPower = 0.55f;\n\n                    final Color3f color3f = new Color3f(directionalPower, directionalPower, directionalPower);\n\n                    DirectionalLight directionalLight = new DirectionalLight(true, color3f, new Vector3f(-0.3f, 0.2f, -1.0f));\n\n                    directionalLight.setInfluencingBounds(new BoundingSphere(new Point3d(), 10000.0));\n\n                    objRoot.addChild(directionalLight);\n\n\n                    AmbientLight ambientLight = new AmbientLight(true, new Color3f(1f - directionalPower, 1f - directionalPower, 1f - directionalPower));\n\n                    ambientLight.setInfluencingBounds(new BoundingSphere(new Point3d(), 10000.0));\n\n                    objRoot.addChild(ambientLight);\n\n\n                    MouseRotate myMouseRotate = new MouseRotate();\n                    myMouseRotate.setTransformGroup(tg);\n                    myMouseRotate.setSchedulingBounds(new BoundingSphere());\n                    objRoot.addChild(myMouseRotate);\n\n                    MouseWheelZoom mouseWheelZoom = new MouseWheelZoom();\n                    mouseWheelZoom.setTransformGroup(tg);\n                    mouseWheelZoom.setSchedulingBounds(tg.getBounds());\n                    objRoot.addChild(mouseWheelZoom);\n                    objRoot.compile();\n\n                    scene.addChild(objRoot);\n\n                    Background background = new Background();\n                    background.setColor(getBackgroundColor());\n                    background.setApplicationBounds(bounds);\n                    scene.addChild(background);\n                    universe.addBranchGraph(scene);\n\n                    SwingUtilities.invokeLater(() -&gt; {\n                        try {\n                            canvasPanel.removeAll();\n                            canvasPanel.add(canvas);\n                            canvasPanel.repaint();\n                            canvasPanel.revalidate();\n\n                        } catch (Exception e) {\n                            set3dLoadedStatus(&quot;&lt;html&gt;ERROR: &quot; + e.getMessage() + &quot;&lt;/html&gt;&quot;);\n                        }\n                    });\n                } catch (Exception e) {\n                    e.printStackTrace();\n                    SwingUtilities.invokeLater(() -&gt; {\n                        set3dLoadedStatus(&quot;something went wrong, try again&quot;);\n                    });\n                }\n            }\n        };\n        new Thread(runnable).start();\n    }\n\n    private double getInitialScale() {\n        return 3;\n    }\n\n    protected int getJagged() {\n        return 1;\n    }\n\n    protected double[] getRectDip() {\n\n        return new double[]{1, 1, 1};\n    }\n\n    protected void set3dLoadedStatus() {\n        set3dLoadedStatus(&quot;3D model is loading ...&quot;);\n    }\n\n    protected void set3dLoadedStatus(String message) {\n        canvasPanel.removeAll();\n        canvasPanel.add(new JLabel(message));\n        canvasPanel.repaint();\n        canvasPanel.revalidate();\n    }\n\n    public void createVoxelizedShape(TransformGroup tg, int boxX, int jagged, double[] rectDip) {\n        this.jagged = jagged;\n\n        double gridspace = 1.0 / boxX;\n\n        double xr, yr, zr;\n        double rectScaleX, rectScaleY, rectScaleZ;\n        int xj, yj, zj;\n\n        rectScaleX = rectDip[0];\n        rectScaleY = rectDip[1];\n        rectScaleZ = rectDip[2];\n\n        double gridSpaceX = gridspace * rectScaleX;\n        double gridSpaceY = gridspace * rectScaleY;\n        double gridSpaceZ = gridspace * rectScaleZ;\n\n\n        ArrayList&lt;Point3d&gt; point3dArrayList = new ArrayList&lt;Point3d&gt;();\n\n        int boxY = getBoxY(boxX, rectScaleX, rectScaleY, rectScaleZ, jagged);\n        int boxZ = getBoxZ(boxX, rectScaleX, rectScaleY, rectScaleZ, jagged);\n\n\n        for (int k = 0; k &lt; boxZ; k++)\n            for (int j = 0; j &lt; boxY; j++)\n                for (int i = 0; i &lt; boxX; i++) {\n                    xj = 2 * jagged * (i / jagged) + jagged - boxX;\n                    yj = 2 * jagged * (j / jagged) + jagged - boxY;\n                    zj = 2 * jagged * (k / jagged) + jagged - boxZ;\n                    /* all the following coordinates should be scaled by the same sizeX. So we scale xj,yj,zj by 2boxX with extra\n                     * ratio for rectangular dipoles. Thus, yr and zr are not necessarily in fixed ranges (like from -1/2 to 1/2).\n                     * This is done to treat adequately cases when particle dimensions are the same (along different axes), but e.g.\n                     * boxY!=boxX (so there are some extra void dipoles). All anisotropies in the particle itself are treated in\n                     * the specific shape modules below (see e.g. ELLIPSOID).\n                     */\n                    xr = (0.5 * xj) / boxX;\n                    yr = (0.5 * yj) / boxX * (rectScaleY / rectScaleX);\n                    zr = (0.5 * zj) / boxX * (rectScaleZ / rectScaleX);\n\n                    if (isPointInsideShapeVolume(xr, yr, zr)) {\n                        addVoxel(xr, yr, zr, gridSpaceX, gridSpaceY, gridSpaceZ, point3dArrayList);\n                    }\n                }\n\n\n        if (point3dArrayList.size() &lt; 1) {\n            return;\n        }\n\n        ArrayList&lt;Double&gt; points = new ArrayList&lt;Double&gt;();\n        for (Point3d point3d : point3dArrayList) {\n            points.add(point3d.x);\n            points.add(point3d.y);\n            points.add(point3d.z);\n        }\n\n        GeometryInfo gi = new GeometryInfo(GeometryInfo.QUAD_ARRAY);\n        gi.setCoordinates(points.stream().mapToDouble(i -&gt; i).toArray());\n        NormalGenerator normalGenerator = new NormalGenerator();\n        normalGenerator.generateNormals(gi);\n        Appearance ap = new Appearance();\n        PolygonAttributes polyAttrbutes = new PolygonAttributes();\n        polyAttrbutes.setPolygonMode(PolygonAttributes.POLYGON_FILL);\n        polyAttrbutes.setCullFace(PolygonAttributes.CULL_NONE);\n        ap.setPolygonAttributes(polyAttrbutes);\n        Material material = new Material();\n        material.setShininess(50f);\n        material.setAmbientColor(getVoxelColor());\n        material.setDiffuseColor(getVoxelColor());\n        ap.setMaterial(material);\n\n\n        Shape3D shape1 = new Shape3D(gi.getGeometryArray(), ap);\n        tg.addChild(shape1);\n\n        ap = new Appearance();\n        polyAttrbutes = new PolygonAttributes();\n        polyAttrbutes.setPolygonMode(PolygonAttributes.POLYGON_LINE);\n        polyAttrbutes.setCullFace(PolygonAttributes.CULL_NONE);\n        ap.setPolygonAttributes(polyAttrbutes);\n        material = new Material();\n        material.setShininess(50f);\n        material.setDiffuseColor(getVoxelLineColor());\n        material.setAmbientColor(getVoxelLineColor());\n        ap.setMaterial(material);\n        Shape3D shape2 = new Shape3D(gi.getGeometryArray(), ap);\n        tg.addChild(shape2);\n    }\n\n\n    public int getBoxY(int boxX, double rectScaleX, double rectScaleY, double rectScaleZ, int jagged) {\n        return fitBox_yz(boxX * (rectScaleX / rectScaleY), jagged);\n    }\n\n\n    public int getBoxZ(int boxX, double rectScaleX, double rectScaleY, double rectScaleZ, int jagged) {\n        return fitBox_yz((firstParam + 1) * boxX * (rectScaleX / rectScaleZ), jagged);\n    }\n\n    double firstParam = 0.5;\n\n    protected boolean isPointInsideShapeVolume(double xr, double yr, double zr) {\n        double ro2 = xr * xr + yr * yr;\n        if (ro2 &lt;= 0.25) {\n            double tmp1 = Math.abs(zr) - firstParam * 0.5;\n            if (tmp1 &lt;= 0 || tmp1 * tmp1 + ro2 &lt;= 0.25) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    protected void addVoxel(double xr, double yr, double zr, double gridSpaceX, double gridSpaceY, double gridSpaceZ, ArrayList&lt;Point3d&gt; point3dArrayList) {\n        Point3d point1 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n        Point3d point2 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n        Point3d point3 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n        Point3d point4 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n\n        Point3d point5 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n        Point3d point6 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n        Point3d point7 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n        Point3d point8 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n\n\n        point3dArrayList.add(point1);\n        point3dArrayList.add(point2);\n        point3dArrayList.add(point3);\n        point3dArrayList.add(point4);\n        point3dArrayList.add(point5);\n        point3dArrayList.add(point6);\n        point3dArrayList.add(point7);\n        point3dArrayList.add(point8);\n\n\n        Point3d point9 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n        Point3d point10 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n        Point3d point11 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n        Point3d point12 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n\n        Point3d point13 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n        Point3d point14 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n        Point3d point15 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n        Point3d point16 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n\n        point3dArrayList.add(point9);\n        point3dArrayList.add(point10);\n        point3dArrayList.add(point11);\n        point3dArrayList.add(point12);\n        point3dArrayList.add(point13);\n        point3dArrayList.add(point14);\n        point3dArrayList.add(point15);\n        point3dArrayList.add(point16);\n\n\n        Point3d point17 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n        Point3d point18 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n        Point3d point19 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n        Point3d point20 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr + jagged * 0.5 * gridSpaceZ);\n\n        Point3d point21 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n        Point3d point22 = new Point3d(xr + jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n        Point3d point23 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr - jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n        Point3d point24 = new Point3d(xr - jagged * 0.5 * gridSpaceX, yr + jagged * 0.5 * gridSpaceY, zr - jagged * 0.5 * gridSpaceZ);\n\n        point3dArrayList.add(point17);\n        point3dArrayList.add(point18);\n        point3dArrayList.add(point19);\n        point3dArrayList.add(point20);\n        point3dArrayList.add(point21);\n        point3dArrayList.add(point22);\n        point3dArrayList.add(point23);\n        point3dArrayList.add(point24);\n    }\n\n    public static int fitBox(int box, int jagged) {\n        return jagged * ((box + jagged - 1) / jagged);\n    }\n\n    public static int fitBox_yz(double size, int jagged)\n        /* given the size of the particle in y or z direction (in units of dipoles), finds the closest grid size, which would\n         * satisfy the FitBox function. The rounding is performed so to minimize the maximum difference between the stack of\n         * dipoles and corresponding particle dimension.\n         * The distance between the center of the outer super-dipole (J^3 original dipoles) and the particle (enclosing box)\n         * boundary is between 0.25 and 0.75 of super-dipole size, corresponding to the discretization along the x-axis, for\n         * which the optimum distance of 0.5 (the dipole cube fits tight into the boundary) is automatically satisfied.\n         *\n         * !!! However, it is still possible that the whole outer layer of dipoles would be void because the estimate does not\n         * take into account the details of the shape e.g. its curvature. For instance, 'adda -grid 4 -shape ellipsoid 1 2.13'\n         * results in grid 4x4x9, but the layers z=0, z=8 will be void. This is because the dipole centers in this layers always\n         * have non-zero x and y coordinates (at least half-dipole in absolute value) and do not fall inside the ellipsoid,\n         * although the points {+-4,0,0} do fall into it.\n         */ {\n        return jagged * (int) Math.round(size / jagged);\n    }\n\n\n    public Color3f getBackgroundColor() {\n        return new Color3f(0.75f, 0.69f, 0.680f);\n    }\n\n    protected Color3f getVoxelColor() {\n        return new Color3f(255, 0, 255);\n    }\n\n    protected Color3f getVoxelLineColor() {\n        return new Color3f(0, 0, 0);\n    }\n\n\n    protected Color3f getSurfaceColor() {\n        return new Color3f(255, 0, 255);\n    }\n\n    ;\n\n    protected String error;\n\n    public String getError() {\n        return error;\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1662028597,"post_id":73567924,"comment_id":129913812,"body_markdown":"parse it to a numerical type and divide","body":"parse it to a numerical type and divide"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1662028613,"post_id":73567924,"comment_id":129913817,"body_markdown":"Convert from String to long or BigDecimal, then divide by 100 and finally convert back if the balance really is a String.","body":"Convert from String to long or BigDecimal, then divide by 100 and finally convert back if the balance really is a String."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662030365,"creation_date":1662030365,"answer_id":73568326,"question_id":73567924,"body_markdown":"```java\r\n// Get the value.\r\nString amountstr = _ISOResposne.get(&quot;48&quot;);\r\n\r\nif (amountstr == null) {\r\n    // If it&#39;s null, set it to zero.\r\n    amountstr = &quot;0&quot;;\r\n}\r\nelse {\r\n    // otherwise get the first 17 characters.\r\n    // (Note that if the length is less than 17, an exception will occur.)\r\n    amountstr = amountstr.substring(0, 17);\r\n}\r\n// Convert to a number.\r\n// This will also throw an exception if &#39;amountstr&#39; cannot be parsed to a number.\r\njava.math.BigDecimal bd = new java.math.BigDecimal(amountstr);\r\n\r\n// Divide by one hundred.\r\nbd = bd.divide(new java.math.BigDecimal(100.0d);\r\n\r\n// Convert the result to a string.\r\nString W_LEDGER_BAL = bd.toString();\r\n```\r\nRefer to *javadoc* of class [BigDecimal][1].\r\n\r\nI assume you know what an [exception][2] is in Java.\r\n\r\nI also suggest that you try to adhere to [Java naming conventions][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\r\n  [3]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"How to convert oracle code to java(how to do divide in java)","body":"<pre class=\"lang-java prettyprint-override\"><code>// Get the value.\nString amountstr = _ISOResposne.get(&quot;48&quot;);\n\nif (amountstr == null) {\n    // If it's null, set it to zero.\n    amountstr = &quot;0&quot;;\n}\nelse {\n    // otherwise get the first 17 characters.\n    // (Note that if the length is less than 17, an exception will occur.)\n    amountstr = amountstr.substring(0, 17);\n}\n// Convert to a number.\n// This will also throw an exception if 'amountstr' cannot be parsed to a number.\njava.math.BigDecimal bd = new java.math.BigDecimal(amountstr);\n\n// Divide by one hundred.\nbd = bd.divide(new java.math.BigDecimal(100.0d);\n\n// Convert the result to a string.\nString W_LEDGER_BAL = bd.toString();\n</code></pre>\n<p>Refer to <em>javadoc</em> of class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a>.</p>\n<p>I assume you know what an <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">exception</a> is in Java.</p>\n<p>I also suggest that you try to adhere to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>.</p>\n"}],"owner":{"account_id":26025954,"reputation":19,"user_id":19732868,"display_name":"KSMNOP k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73568326,"answer_count":1,"score":-1,"last_activity_date":1662030525,"creation_date":1662028355,"question_id":73567924,"body_markdown":"I want to convert this [PL/SQL] code to Java code.\r\n\r\n    W_LEDGER_BAL := nvl(SUBSTR(W_BAL, 1, 17), 0) / 100;\r\n\r\nI have tried to convert like this\r\n\r\n    String amountstr = _ISOResposne.get(&quot;48&quot;);\r\n\tString W_LEDGER_BAL = amountstr.substring(0, 17);\r\n\r\nwhere `W_BAL` is `amountstr`\r\n\r\nI don&#39;t know how to divide it by 100.\r\nPlease help me to solve this error.\r\n","title":"How to convert oracle code to java(how to do divide in java)","body":"<p>I want to convert this [PL/SQL] code to Java code.</p>\n<pre><code>W_LEDGER_BAL := nvl(SUBSTR(W_BAL, 1, 17), 0) / 100;\n</code></pre>\n<p>I have tried to convert like this</p>\n<pre><code>String amountstr = _ISOResposne.get(&quot;48&quot;);\nString W_LEDGER_BAL = amountstr.substring(0, 17);\n</code></pre>\n<p>where <code>W_BAL</code> is <code>amountstr</code></p>\n<p>I don't know how to divide it by 100.\nPlease help me to solve this error.</p>\n"},{"tags":["java","opencv","image-processing"],"comments":[{"owner":{"account_id":1052218,"reputation":4569,"user_id":1055844,"display_name":"Boaz"},"score":0,"creation_date":1322645146,"post_id":8322203,"comment_id":10260096,"body_markdown":"what do you expect to get? an iplimage for each color/cluster? how complex should the solution be? should &quot;shades of red&quot; be in the same cluster or should it cluster by the exact rgb value? ie: in the image provided you have 9 clusters... red, green, yellow, blue, violet, vomit (no better name for this color :) ) and 3 connected components of the black outline.","body":"what do you expect to get? an iplimage for each color/cluster? how complex should the solution be? should &quot;shades of red&quot; be in the same cluster or should it cluster by the exact rgb value? ie: in the image provided you have 9 clusters... red, green, yellow, blue, violet, vomit (no better name for this color :) ) and 3 connected components of the black outline."},{"owner":{"account_id":329440,"reputation":211,"user_id":652965,"accept_rate":50,"display_name":"Nandha"},"score":0,"creation_date":1322646495,"post_id":8322203,"comment_id":10260451,"body_markdown":"@Boaz.Jan i just want the output like 6 (x,y) cordinates. each one of (x,y) point in the center of each cluster (ie) each continent","body":"@Boaz.Jan i just want the output like 6 (x,y) cordinates. each one of (x,y) point in the center of each cluster (ie) each continent"}],"answers":[{"tags":[],"owner":{"account_id":3724156,"reputation":5511,"user_id":3098404,"accept_rate":62,"display_name":"Faruk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445247038,"creation_date":1407381237,"answer_id":25173532,"question_id":8322203,"body_markdown":"For this particular image (which has 6 cluster, with each color). I mean there is doesn&#39;t exist two cluster with same color. I think we just need to find the centerpoint.\r\n\r\n1) We can use Point to store the position of pixel. new Point(width, height).\r\n\r\n2) Then we need to determine, which pixels in which color. By iterate through all pixel, we can also get the number of color/cluster.\r\n   \r\n3) For each color/cluster we need to calculate the centerpoint, by calculate the mean for all pixel/point that have that color.\r\n\r\n     ","title":"how to cluster colors in a single image?","body":"<p>For this particular image (which has 6 cluster, with each color). I mean there is doesn't exist two cluster with same color. I think we just need to find the centerpoint.</p>\n\n<p>1) We can use Point to store the position of pixel. new Point(width, height).</p>\n\n<p>2) Then we need to determine, which pixels in which color. By iterate through all pixel, we can also get the number of color/cluster.</p>\n\n<p>3) For each color/cluster we need to calculate the centerpoint, by calculate the mean for all pixel/point that have that color.</p>\n"}],"owner":{"account_id":329440,"reputation":211,"user_id":652965,"accept_rate":50,"display_name":"Nandha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1662,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662030097,"creation_date":1322636069,"question_id":8322203,"body_markdown":"I have some experience in `Opencv`.\r\nI want to cluster colors of an image. \r\n\r\nFor example if I cluster the below image: \r\n\r\n**i should get 6 clusters each having a cluster name as their RGB value along with their postion(x,y)**\r\n\r\n![world continent](https://www.wpclipart.com/geography/world_maps/world_map_color_continents.png)\r\n\r\nIs there a way to do this using `Opencv` or any opensource packages is also ok.\r\nI am comfortable with Java and C.\r\nIf you want more details post your comments. ","title":"how to cluster colors in a single image?","body":"<p>I have some experience in <code>Opencv</code>.\nI want to cluster colors of an image. </p>\n\n<p>For example if I cluster the below image: </p>\n\n<p><strong>i should get 6 clusters each having a cluster name as their RGB value along with their postion(x,y)</strong></p>\n\n<p><img src=\"https://www.wpclipart.com/geography/world_maps/world_map_color_continents.png\" alt=\"world continent\"></p>\n\n<p>Is there a way to do this using <code>Opencv</code> or any opensource packages is also ok.\nI am comfortable with Java and C.\nIf you want more details post your comments. </p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":26217077,"reputation":21,"user_id":19895078,"display_name":"kozko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662030008,"creation_date":1662030008,"answer_id":73568257,"question_id":73568128,"body_markdown":"Have you looked into [this similar issue][1] ?  \r\nAccording to the issue you should try closing the reader linked to the process.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3931231/problems-killing-child-process-invoked-in-java","title":"Process does not kill child process","body":"<p>Have you looked into <a href=\"https://stackoverflow.com/questions/3931231/problems-killing-child-process-invoked-in-java\">this similar issue</a> ?<br />\nAccording to the issue you should try closing the reader linked to the process.</p>\n"}],"owner":{"account_id":25505086,"reputation":49,"user_id":19297684,"display_name":"MKRabbit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662030008,"creation_date":1662029370,"question_id":73568128,"body_markdown":"I have a process that does ssh every 5 minutes or so. Like this\r\n\r\n```\r\nprivate String runProcess() throws IOException {\r\n   ProcessBuilder pb = new ProcessBuilder(&quot;sh&quot;,&quot;-c&quot;,&quot;ssh hostname echo hello&quot;);\r\n   Process process = pb.start();\r\n   if(!process.waitFor(10, TimeUnit.SECONDS)) {\r\n            LOGGER.info(&quot;Taking too long&quot;);\r\n            process.destroy();\r\n   }\r\n    StringBuilder output = new StringBuilder();\r\n    BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(process.getInputStream()));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n            output.append(line).append(&#39;\\n&#39;);\r\n    }\r\n    int exitVal = process.waitFor();\r\n\r\n    if (exitVal != 0) {\r\n            throw new RuntimeException(exitVal);\r\n    }\r\n    process.destroy();\r\n    return output.toString();\r\n\r\n}\r\n\r\n/// more code to do something with output of the ssh.\r\n```\r\nNow, the ssh process works just fine and I get the desired output and exit value as 0. \r\nJust out of curiosity, I ran ```ps aux``` on the docker container the code is running on and the list of ssh commands was massive and sitting as &#39;defunct&#39;. I assume these are &#39;child&#39; processes of the process command I execute in the method above. Is there a way I can kill them too in the method above?\r\n","title":"Process does not kill child process","body":"<p>I have a process that does ssh every 5 minutes or so. Like this</p>\n<pre><code>private String runProcess() throws IOException {\n   ProcessBuilder pb = new ProcessBuilder(&quot;sh&quot;,&quot;-c&quot;,&quot;ssh hostname echo hello&quot;);\n   Process process = pb.start();\n   if(!process.waitFor(10, TimeUnit.SECONDS)) {\n            LOGGER.info(&quot;Taking too long&quot;);\n            process.destroy();\n   }\n    StringBuilder output = new StringBuilder();\n    BufferedReader reader = new BufferedReader(\n                new InputStreamReader(process.getInputStream()));\n    String line;\n    while ((line = reader.readLine()) != null) {\n            output.append(line).append('\\n');\n    }\n    int exitVal = process.waitFor();\n\n    if (exitVal != 0) {\n            throw new RuntimeException(exitVal);\n    }\n    process.destroy();\n    return output.toString();\n\n}\n\n/// more code to do something with output of the ssh.\n</code></pre>\n<p>Now, the ssh process works just fine and I get the desired output and exit value as 0.\nJust out of curiosity, I ran <code>ps aux</code> on the docker container the code is running on and the list of ssh commands was massive and sitting as 'defunct'. I assume these are 'child' processes of the process command I execute in the method above. Is there a way I can kill them too in the method above?</p>\n"},{"tags":["java","android","api","android-studio","retrofit"],"comments":[{"owner":{"account_id":4262636,"reputation":452,"user_id":3486601,"accept_rate":100,"display_name":"Danish Ansari"},"score":0,"creation_date":1661417170,"post_id":73484325,"comment_id":129768938,"body_markdown":"Please share code snippet on how you are creating instance of `MultipartBody.Part`","body":"Please share code snippet on how you are creating instance of <code>MultipartBody.Part</code>"},{"owner":{"account_id":14583163,"reputation":470,"user_id":10532878,"display_name":"mustafa hasria"},"score":0,"creation_date":1661417556,"post_id":73484325,"comment_id":129769089,"body_markdown":"Here is how i create an instance but I didn&#39;t initialise it (cause I want to send it empty)\n**MultipartBody.Part profilePicture;**","body":"Here is how i create an instance but I didn&#39;t initialise it (cause I want to send it empty) <b>MultipartBody.Part profilePicture;</b>"}],"answers":[{"tags":[],"owner":{"account_id":11406281,"reputation":31,"user_id":8361616,"display_name":"Haresh V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661417491,"creation_date":1661417491,"answer_id":73484594,"question_id":73484325,"body_markdown":"You can use `@Part(&quot;email&quot;) RequestBody email,` rather than `@Query` .\r\n\r\n    @POST(SIGN_UP_USER)\r\n\t@Multipart\r\n\tCall&lt;SignUpResponse&gt; signUp(\r\n\t\t\t@Part MultipartBody.Part profilePicture,\r\n\t\t\t@Part(&quot;email&quot;) RequestBody email,\r\n\t\t\t@Part(&quot;password&quot;) RequestBody password,\r\n\t\t\t@Part(&quot;firstName&quot;) RequestBody firstName,\r\n\t\t\t@Part(&quot;lastName&quot;) RequestBody lastName);\r\n\r\n    RequestBody email= requestBody1.create(MediaType.parse(&quot;text/plain&quot;), &quot;email@email.com&quot;);\r\n\r\n","title":"Send request has two type parameters (Query, Multipart/form-data)","body":"<p>You can use <code>@Part(&quot;email&quot;) RequestBody email,</code> rather than <code>@Query</code> .</p>\n<pre><code>@POST(SIGN_UP_USER)\n@Multipart\nCall&lt;SignUpResponse&gt; signUp(\n        @Part MultipartBody.Part profilePicture,\n        @Part(&quot;email&quot;) RequestBody email,\n        @Part(&quot;password&quot;) RequestBody password,\n        @Part(&quot;firstName&quot;) RequestBody firstName,\n        @Part(&quot;lastName&quot;) RequestBody lastName);\n\nRequestBody email= requestBody1.create(MediaType.parse(&quot;text/plain&quot;), &quot;email@email.com&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4168148,"reputation":1387,"user_id":3416642,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661428656,"creation_date":1661428656,"answer_id":73487077,"question_id":73484325,"body_markdown":"Try the below way. [I&#39;m using Kotlin].\r\n\r\n1. Create Multipart Body Object\r\n\r\n    \r\n                val signUpBuilder = MultipartBody.Builder().setType(MultipartBody.FORM)\r\n                signUpBuilder.addFormDataPart(&quot;email&quot;,email)\r\n                signUpBuilder.addFormDataPart(&quot;password&quot;,password)\r\n                signUpBuilder.addFormDataPart(&quot;firstName&quot;,firstName)\r\n                signUpBuilder.addFormDataPart(&quot;lastName&quot;,lastName)\r\n                signUpBuilder.addFormDataPart(&quot;profilePicture&quot;,&quot;filename.jpg&quot;,file)\r\n                signUpBuilder.build()\r\n\r\n\r\n\r\n\r\n2. Pass the builder to your signup method.\r\n\r\n\r\n  Do not use multipart annotation.\r\n\r\n    @POST(SIGN_UP_USER)\r\n    fun signUp(\r\n        @Body requestBody: MultipartBody\r\n    ): Call&lt;SignUpResponse&gt;\r\n\r\n\r\nHope this will help you.\r\n","title":"Send request has two type parameters (Query, Multipart/form-data)","body":"<p>Try the below way. [I'm using Kotlin].</p>\n<ol>\n<li><p>Create Multipart Body Object</p>\n<pre><code>         val signUpBuilder = MultipartBody.Builder().setType(MultipartBody.FORM)\n         signUpBuilder.addFormDataPart(&quot;email&quot;,email)\n         signUpBuilder.addFormDataPart(&quot;password&quot;,password)\n         signUpBuilder.addFormDataPart(&quot;firstName&quot;,firstName)\n         signUpBuilder.addFormDataPart(&quot;lastName&quot;,lastName)\n         signUpBuilder.addFormDataPart(&quot;profilePicture&quot;,&quot;filename.jpg&quot;,file)\n         signUpBuilder.build()\n</code></pre>\n</li>\n<li><p>Pass the builder to your signup method.</p>\n</li>\n</ol>\n<p>Do not use multipart annotation.</p>\n<pre><code>@POST(SIGN_UP_USER)\nfun signUp(\n    @Body requestBody: MultipartBody\n): Call&lt;SignUpResponse&gt;\n</code></pre>\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":14583163,"reputation":470,"user_id":10532878,"display_name":"mustafa hasria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662029670,"creation_date":1662029670,"answer_id":73568184,"question_id":73484325,"body_markdown":"All what I did to fix my problem was remove this Annotation\r\n\r\n    @Headers(&quot;Content-Type: application/json&quot;)  \r\nfrom my code and request.  \r\nand for sending empty files you can just send a null parameter for file will take it as empty.","title":"Send request has two type parameters (Query, Multipart/form-data)","body":"<p>All what I did to fix my problem was remove this Annotation</p>\n<pre><code>@Headers(&quot;Content-Type: application/json&quot;)  \n</code></pre>\n<p>from my code and request.<br />\nand for sending empty files you can just send a null parameter for file will take it as empty.</p>\n"}],"owner":{"account_id":14583163,"reputation":470,"user_id":10532878,"display_name":"mustafa hasria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73568184,"answer_count":3,"score":0,"last_activity_date":1662029670,"creation_date":1661416348,"question_id":73484325,"body_markdown":"I have been tyring to execute API has two parameters as I said in title \r\nhere is my API configure\r\n\r\n    //region SignUp\r\n    String SIGN_UP_USER = &quot;User/SignUp&quot;;\r\n\r\n    @POST(SIGN_UP_USER)\r\n    @Multipart\r\n    @Headers(&quot;Content-Type: application/json&quot;)\r\n    Call&lt;SignUpResponse&gt; signUp(\r\n            @Part MultipartBody.Part profilePicture,\r\n            @Query(&quot;email&quot;) String email,\r\n            @Query(&quot;password&quot;) String password,\r\n            @Query(&quot;firstName&quot;) String firstName,\r\n            @Query(&quot;lastName&quot;) String lastName);\r\n    //endregion\r\n\r\nBut when I execute the request I got this error:  \r\n**java.lang.IllegalStateException: Multipart body must have at least one part.**\r\n\r\nAnd here is the details of request from Swagger\r\n[![enter image description here][1]][1]\r\n\r\nAny suggestions for this issue,  \r\n**Thanks in advance**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sd5g7.jpg","title":"Send request has two type parameters (Query, Multipart/form-data)","body":"<p>I have been tyring to execute API has two parameters as I said in title\nhere is my API configure</p>\n<pre><code>//region SignUp\nString SIGN_UP_USER = &quot;User/SignUp&quot;;\n\n@POST(SIGN_UP_USER)\n@Multipart\n@Headers(&quot;Content-Type: application/json&quot;)\nCall&lt;SignUpResponse&gt; signUp(\n        @Part MultipartBody.Part profilePicture,\n        @Query(&quot;email&quot;) String email,\n        @Query(&quot;password&quot;) String password,\n        @Query(&quot;firstName&quot;) String firstName,\n        @Query(&quot;lastName&quot;) String lastName);\n//endregion\n</code></pre>\n<p>But when I execute the request I got this error:<br />\n<strong>java.lang.IllegalStateException: Multipart body must have at least one part.</strong></p>\n<p>And here is the details of request from Swagger\n<a href=\"https://i.stack.imgur.com/sd5g7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sd5g7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Any suggestions for this issue,<br />\n<strong>Thanks in advance</strong></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1662026399,"post_id":73567444,"comment_id":129913101,"body_markdown":"Which IDE do you use. In my opinion your approach is correct","body":"Which IDE do you use. In my opinion your approach is correct"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":8,"creation_date":1662026478,"post_id":73567444,"comment_id":129913129,"body_markdown":"The question seems to be misleading. Field injection like you&#39;re doing is one way of doing it so if that works the title question would already be answered. Now the question would be: Why is field injection not recommended and what do I use instead? This might help answer the second question: https://stackoverflow.com/questions/39890849/what-exactly-is-field-injection-and-how-to-avoid-it","body":"The question seems to be misleading. Field injection like you&#39;re doing is one way of doing it so if that works the title question would already be answered. Now the question would be: Why is field injection not recommended and what do I use instead? This might help answer the second question: <a href=\"https://stackoverflow.com/questions/39890849/what-exactly-is-field-injection-and-how-to-avoid-it\" title=\"what exactly is field injection and how to avoid it\">stackoverflow.com/questions/39890849/&hellip;</a>"},{"owner":{"account_id":26200075,"reputation":3,"user_id":19880604,"display_name":"Tefly"},"score":0,"creation_date":1662026801,"post_id":73567444,"comment_id":129913250,"body_markdown":"@Jens I am using Intellij","body":"@Jens I am using Intellij"},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1662026942,"post_id":73567444,"comment_id":129913293,"body_markdown":"you need `@Repository` annotation on your repository interface. The field injection thing is different and you can find a link which @Thomas has posted. So basically what you have done is works but not recommended. Why? you can check the link Thomas mentioned.","body":"you need <code>@Repository</code> annotation on your repository interface. The field injection thing is different and you can find a link which @Thomas has posted. So basically what you have done is works but not recommended. Why? you can check the link Thomas mentioned."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662027762,"post_id":73567444,"comment_id":129913525,"body_markdown":"Remove `@Autowired` from field and define a constructor to inject repository through constructor. Ignore advice about `@Repository` on the interface, it would have no impact at all (stereotype annotations are meant to be used with classes).","body":"Remove <code>@Autowired</code> from field and define a constructor to inject repository through constructor. Ignore advice about <code>@Repository</code> on the interface, it would have no impact at all (stereotype annotations are meant to be used with classes)."}],"answers":[{"tags":[],"owner":{"account_id":24007156,"reputation":154,"user_id":17991175,"display_name":"Danial Eskandari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662029337,"creation_date":1662029337,"answer_id":73568124,"question_id":73567444,"body_markdown":"You are applying field injection into your controller layer.\r\nThere is a more efficient way to do that but first, take a look at why field injection is not recommended.\r\n\r\n**Reasons**\r\n1. you can not define your dependent components as final(immutable).\r\n2. you can not instantiate your components for test purposes.\r\n3. your application may lead to circular dependencies.\r\n4. your application is tightly coupled to your container.\r\n\r\nThere may be more reasons that you can search for them if you want. So now take a look at better ways to perform dependency injection.\r\n\r\n**Constructor Injection**\r\n\r\nThis purpose is just to define your required dependencies as parameters to the class&#39;s constructor.\r\n\r\nLet&#39;s say we have a class called `A`\r\n\r\n    @Component\r\n    Class A {}\r\n\r\nNotice that we have to define our class as a Component so the container can use it later.\r\n\r\nNow we want to inject class `A` to class `B` with constructor injection purpose.\r\n\r\n    Class B {\r\n        private final A a;\r\n        \r\n        Public B(A a) {\r\n            this.a = a;\r\n        }\r\n    }\r\n\r\nWe successfully performed constructor injection instead of field injection.\r\n\r\nThere is another way to do dependency injection called setter injection which is useful for injecting optional dependent components.\r\n\r\nThat&#39;s it.","title":"How to inject a repository into a controller or a service?","body":"<p>You are applying field injection into your controller layer.\nThere is a more efficient way to do that but first, take a look at why field injection is not recommended.</p>\n<p><strong>Reasons</strong></p>\n<ol>\n<li>you can not define your dependent components as final(immutable).</li>\n<li>you can not instantiate your components for test purposes.</li>\n<li>your application may lead to circular dependencies.</li>\n<li>your application is tightly coupled to your container.</li>\n</ol>\n<p>There may be more reasons that you can search for them if you want. So now take a look at better ways to perform dependency injection.</p>\n<p><strong>Constructor Injection</strong></p>\n<p>This purpose is just to define your required dependencies as parameters to the class's constructor.</p>\n<p>Let's say we have a class called <code>A</code></p>\n<pre><code>@Component\nClass A {}\n</code></pre>\n<p>Notice that we have to define our class as a Component so the container can use it later.</p>\n<p>Now we want to inject class <code>A</code> to class <code>B</code> with constructor injection purpose.</p>\n<pre><code>Class B {\n    private final A a;\n    \n    Public B(A a) {\n        this.a = a;\n    }\n}\n</code></pre>\n<p>We successfully performed constructor injection instead of field injection.</p>\n<p>There is another way to do dependency injection called setter injection which is useful for injecting optional dependent components.</p>\n<p>That's it.</p>\n"}],"owner":{"account_id":26200075,"reputation":3,"user_id":19880604,"display_name":"Tefly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1106,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1662040404,"accepted_answer_id":73568124,"answer_count":1,"score":-3,"last_activity_date":1662029337,"creation_date":1662026153,"question_id":73567444,"body_markdown":"I am very new to Spring Boot. I have created a repository, which looks like this:\r\n\r\n```java\r\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n    List&lt;User&gt; findByEmail(String email);\r\n    User findById(long id);\r\n}\r\n```\r\n**user.java**\r\n```java\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String email;\r\n    private String password;\r\n    private boolean verified;\r\n\r\n    protected User() {}\r\n\r\n    public User(String email, String password, boolean verified) {\r\n        this.email = email;\r\n        this.password = password;\r\n        this.verified = verified;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public boolean isVerified() {\r\n        return verified;\r\n    }\r\n\r\n    public void setVerified(boolean verified) {\r\n        this.verified = verified;\r\n    }\r\n}\r\n```\r\n\r\nAnd now I want to inject the repository into my controller. This is how I tried it:\r\n```java\r\n@RestController\r\npublic class Register {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public User registerUser() {\r\n        return userRepository.save(new User(&quot;test@example.com&quot;, &quot;password&quot;, true));\r\n    }\r\n}\r\n```\r\n\r\nIs my approach correct? If so, then why do I get a warning on `@Autowired` that says:\r\n\r\n&gt; Field injection is not recommended\r\n\r\n?","title":"How to inject a repository into a controller or a service?","body":"<p>I am very new to Spring Boot. I have created a repository, which looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n    List&lt;User&gt; findByEmail(String email);\n    User findById(long id);\n}\n</code></pre>\n<p><strong>user.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String email;\n    private String password;\n    private boolean verified;\n\n    protected User() {}\n\n    public User(String email, String password, boolean verified) {\n        this.email = email;\n        this.password = password;\n        this.verified = verified;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public boolean isVerified() {\n        return verified;\n    }\n\n    public void setVerified(boolean verified) {\n        this.verified = verified;\n    }\n}\n</code></pre>\n<p>And now I want to inject the repository into my controller. This is how I tried it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class Register {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @PostMapping(&quot;/register&quot;)\n    public User registerUser() {\n        return userRepository.save(new User(&quot;test@example.com&quot;, &quot;password&quot;, true));\n    }\n}\n</code></pre>\n<p>Is my approach correct? If so, then why do I get a warning on <code>@Autowired</code> that says:</p>\n<blockquote>\n<p>Field injection is not recommended</p>\n</blockquote>\n<p>?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":1,"creation_date":1662057132,"post_id":73568055,"comment_id":129924447,"body_markdown":"Appears to be: https://github.com/gradle/gradle/issues/15655","body":"Appears to be: <a href=\"https://github.com/gradle/gradle/issues/15655\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/15655</a>"}],"owner":{"account_id":17633667,"reputation":1,"user_id":12797309,"display_name":"CodeJordan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662029103,"creation_date":1662028981,"question_id":73568055,"body_markdown":"Getting the below error when deploying a Gradle project. \r\nThe project is not a multi-module Project. \r\n\r\nIdeally, it shouldn&#39;t have to set root project name when creating a single module project. There is no settings.gradle file. \r\n\r\n\r\n```#7 128.0 FAILURE: Build failed with an exception.\r\n#7 128.0 \r\n#7 128.0 * What went wrong:\r\n#7 128.0 A problem occurred configuring root project &#39;&#39;.\r\n#7 128.0 &gt; The project name must not be empty. Set the &#39;rootProject.name&#39; or adjust the &#39;include&#39; statement (see https://docs.gradle.org/6.8/dsl/org.gradle.api.initialization.Settings.html#org.gradle.api.initialization.Settings:include(java.lang.String[]) for more details).","title":"A Problem occured when deploying gradle project : The project name must not be empty","body":"<p>Getting the below error when deploying a Gradle project.\nThe project is not a multi-module Project.</p>\n<p>Ideally, it shouldn't have to set root project name when creating a single module project. There is no settings.gradle file.</p>\n<pre><code>#7 128.0 \n#7 128.0 * What went wrong:\n#7 128.0 A problem occurred configuring root project ''.\n#7 128.0 &gt; The project name must not be empty. Set the 'rootProject.name' or adjust the 'include' statement (see https://docs.gradle.org/6.8/dsl/org.gradle.api.initialization.Settings.html#org.gradle.api.initialization.Settings:include(java.lang.String[]) for more details).\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":1274901,"reputation":5338,"user_id":1230360,"accept_rate":75,"display_name":"Ketan Bhavsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662028540,"creation_date":1662028540,"answer_id":73567958,"question_id":73567473,"body_markdown":"I guess not to use @Entity annotation on abstract class instead use @MappedSuperclass annotation.\r\n\r\n    @MappedSuperclass\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class Pet {\r\n        @JsonIgnore\r\n        @ManyToMany\r\n        @JoinTable(name = &quot;person_pets&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;pet_id&quot;, referencedColumnName = &quot;id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;))\r\n        private Set&lt;Person&gt; owners;\r\n    }","title":"Spring Boot: duplicate JSON field for superclass and subclass when using inheritance model for JSON serialization","body":"<p>I guess not to use @Entity annotation on abstract class instead use @MappedSuperclass annotation.</p>\n<pre><code>@MappedSuperclass\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class Pet {\n    @JsonIgnore\n    @ManyToMany\n    @JoinTable(name = &quot;person_pets&quot;,\n            joinColumns = @JoinColumn(name = &quot;pet_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;))\n    private Set&lt;Person&gt; owners;\n}\n</code></pre>\n"}],"owner":{"account_id":20372223,"reputation":21,"user_id":14944205,"display_name":"JosephCHW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662028540,"creation_date":1662026280,"question_id":73567473,"body_markdown":"I have code that follows this structure, where I have an object that has @ManyToMany mapping to a superclass. When I serialize the Person object, I get two fields in the response, &quot;pets&quot; and one for the cats subclass (&quot;cats&quot;), which are duplicates. I want to only have one field in the response, of the superclass. I.e. to have only the &quot;pets&quot; field, which contains information of the cats subclass. Is this possible?\r\n\r\n    @Entity\r\n    @Table(name=&quot;people&quot;)\r\n    public class Person {\r\n        @ManyToMany(mappedBy = &quot;owners&quot;)\r\n        private Set&lt;Pet&gt; pets;\r\n    }\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class Pet {\r\n        @JsonIgnore\r\n        @ManyToMany\r\n        @JoinTable(name = &quot;person_pets&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;pet_id&quot;, referencedColumnName = &quot;id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;))\r\n        private Set&lt;Person&gt; owners;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;cats&quot;)\r\n    public class Cat extends Pet {\r\n    ...\r\n    }\r\n\r\n","title":"Spring Boot: duplicate JSON field for superclass and subclass when using inheritance model for JSON serialization","body":"<p>I have code that follows this structure, where I have an object that has @ManyToMany mapping to a superclass. When I serialize the Person object, I get two fields in the response, &quot;pets&quot; and one for the cats subclass (&quot;cats&quot;), which are duplicates. I want to only have one field in the response, of the superclass. I.e. to have only the &quot;pets&quot; field, which contains information of the cats subclass. Is this possible?</p>\n<pre><code>@Entity\n@Table(name=&quot;people&quot;)\npublic class Person {\n    @ManyToMany(mappedBy = &quot;owners&quot;)\n    private Set&lt;Pet&gt; pets;\n}\n\n@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class Pet {\n    @JsonIgnore\n    @ManyToMany\n    @JoinTable(name = &quot;person_pets&quot;,\n            joinColumns = @JoinColumn(name = &quot;pet_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;))\n    private Set&lt;Person&gt; owners;\n}\n\n@Entity\n@Table(name=&quot;cats&quot;)\npublic class Cat extends Pet {\n...\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":358039,"reputation":5846,"user_id":3248158,"display_name":"derkoe"},"score":0,"creation_date":1661922989,"post_id":73550051,"comment_id":129883915,"body_markdown":"What database are you using and what type does the database column have?","body":"What database are you using and what type does the database column have?"},{"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"score":0,"creation_date":1661923689,"post_id":73550051,"comment_id":129884061,"body_markdown":"@derkoe MySql database. datetime(6)","body":"@derkoe MySql database. datetime(6)"},{"owner":{"account_id":358039,"reputation":5846,"user_id":3248158,"display_name":"derkoe"},"score":1,"creation_date":1661924097,"post_id":73550051,"comment_id":129884140,"body_markdown":"There you have it - it is a datetime(6) type - these are only uniqe if the have the same microsecond","body":"There you have it - it is a datetime(6) type - these are only uniqe if the have the same microsecond"}],"answers":[{"tags":[],"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661924311,"creation_date":1661924311,"answer_id":73551295,"question_id":73550051,"body_markdown":"Ok, as I added the UNIQUE parameter in the class\r\nAFTER the table as already created, I deleted the table\r\nand Spring created it again and now it has the Constraint. ","title":"Unique Constraint for Dates does not work","body":"<p>Ok, as I added the UNIQUE parameter in the class\nAFTER the table as already created, I deleted the table\nand Spring created it again and now it has the Constraint.</p>\n"}],"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662028427,"creation_date":1661909983,"question_id":73550051,"body_markdown":"I setup the &quot;unique&quot; value for the **date** column\r\nanyways, anytime I post a new object **with the same date** it lets it happen.\r\n\r\nI know I could design the unique constraint directly in the database\r\nbut isnt it possible to do it here?\r\n\r\nIt is a REST application, I am Posting a JSON object like this:\r\n\r\n    &#39;{\r\n     &quot;date&quot;:&quot;2022-10-17&quot;\r\n     }&#39;\r\n\r\n \r\n\r\nModel:\r\n\r\n    @Entity\r\n    @Table(name = &quot;daylife&quot;)\r\n    public class DayLife {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n        \r\n        @Column(nullable = false, unique = true)\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\n        private LocalDate date;\r\n\r\n","title":"Unique Constraint for Dates does not work","body":"<p>I setup the &quot;unique&quot; value for the <strong>date</strong> column\nanyways, anytime I post a new object <strong>with the same date</strong> it lets it happen.</p>\n<p>I know I could design the unique constraint directly in the database\nbut isnt it possible to do it here?</p>\n<p>It is a REST application, I am Posting a JSON object like this:</p>\n<pre><code>'{\n &quot;date&quot;:&quot;2022-10-17&quot;\n }'\n</code></pre>\n<p>Model:</p>\n<pre><code>@Entity\n@Table(name = &quot;daylife&quot;)\npublic class DayLife {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    @Column(nullable = false, unique = true)\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate date;\n</code></pre>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":4897598,"reputation":1669,"user_id":4748690,"display_name":"Vebbie"},"score":0,"creation_date":1547733547,"post_id":54236478,"comment_id":95299525,"body_markdown":"Did you try putting the transformation of the one XML file to the other into its own Thread ?","body":"Did you try putting the transformation of the one XML file to the other into its own Thread ?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1547741775,"post_id":54236478,"comment_id":95304601,"body_markdown":"You could try running it under Saxon instead of the default JDK transformation engine. Also (but perhaps not related), if you are running this transformation repeatedly then you should only create the TransformerFactory and Templates object once, and then create a new Transformer for each transformation.","body":"You could try running it under Saxon instead of the default JDK transformation engine. Also (but perhaps not related), if you are running this transformation repeatedly then you should only create the TransformerFactory and Templates object once, and then create a new Transformer for each transformation."}],"answers":[{"tags":[],"owner":{"account_id":17327435,"reputation":151,"user_id":12551369,"display_name":"Paul EDANGE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662027694,"creation_date":1662027694,"answer_id":73567778,"question_id":54236478,"body_markdown":"Try to change the TransformerFactoryImpl :  \r\n`TransformerFactory tFactory = TransformerFactory.newInstance(&quot;org.apache.xalan.processor.TransformerFactoryImpl&quot;,null);\r\n`","title":"Disable caching in Javax xml transformer","body":"<p>Try to change the TransformerFactoryImpl :<br />\n<code>TransformerFactory tFactory = TransformerFactory.newInstance(&quot;org.apache.xalan.processor.TransformerFactoryImpl&quot;,null); </code></p>\n"}],"owner":{"account_id":11400358,"reputation":129,"user_id":8357508,"accept_rate":100,"display_name":"Marius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662027694,"creation_date":1547729868,"question_id":54236478,"body_markdown":"In this article (https://www.ahoi-it.de/ahoi/news/java-xslt-memory-leak/4830) it is explained that Javax xml transformer caches XML contents to its internal HashMap for later use.\r\n\r\nThis is my issue: I am reading XML messages from activemq and if something fails, I retry to convert them again using Javax XML transformer and send them to certain endpoint. The problem is that eventually my Docker container restarts because it runs out of memory.\r\n\r\nWhat I would like to do is disable caching, unfortunately, after 3 hours of research I still have no idea how to do so.\r\n\r\nI have a utils class with static methods and this is how my Javax XML Transformer looks like:\r\n\r\n\tpublic static String getTransformedXml(Object input, String transformerFileName)\r\n\t\t\tthrows IOException, TransformerException {\r\n\t\tClassPathResource classPathResource = new ClassPathResource(transformerFileName);\r\n\t\tInputStream xsltStream = classPathResource.getInputStream();\r\n\r\n\t\tTransformerFactory factory = TransformerFactory.newInstance();\r\n\t\tSource xslt = new StreamSource(xsltStream);\r\n\t\tTransformer transformer = factory.newTransformer(xslt);\r\n\t\ttransformer.setErrorListener(new XsltTransformerErrorListener(transformerFileName));\r\n\r\n\t\tSource text = new StreamSource(new StringReader(XmlUtils.encode(input, input.getClass())));\r\n\t\tStringWriter writer = new StringWriter();\r\n\t\tStreamResult result = new StreamResult(writer);\r\n\r\n\t\ttransformer.transform(text, result);\r\n\r\n\t\treturn result.getWriter().toString();\r\n\t}","title":"Disable caching in Javax xml transformer","body":"<p>In this article (<a href=\"https://www.ahoi-it.de/ahoi/news/java-xslt-memory-leak/4830\" rel=\"nofollow noreferrer\">https://www.ahoi-it.de/ahoi/news/java-xslt-memory-leak/4830</a>) it is explained that Javax xml transformer caches XML contents to its internal HashMap for later use.</p>\n\n<p>This is my issue: I am reading XML messages from activemq and if something fails, I retry to convert them again using Javax XML transformer and send them to certain endpoint. The problem is that eventually my Docker container restarts because it runs out of memory.</p>\n\n<p>What I would like to do is disable caching, unfortunately, after 3 hours of research I still have no idea how to do so.</p>\n\n<p>I have a utils class with static methods and this is how my Javax XML Transformer looks like:</p>\n\n<pre><code>public static String getTransformedXml(Object input, String transformerFileName)\n        throws IOException, TransformerException {\n    ClassPathResource classPathResource = new ClassPathResource(transformerFileName);\n    InputStream xsltStream = classPathResource.getInputStream();\n\n    TransformerFactory factory = TransformerFactory.newInstance();\n    Source xslt = new StreamSource(xsltStream);\n    Transformer transformer = factory.newTransformer(xslt);\n    transformer.setErrorListener(new XsltTransformerErrorListener(transformerFileName));\n\n    Source text = new StreamSource(new StringReader(XmlUtils.encode(input, input.getClass())));\n    StringWriter writer = new StringWriter();\n    StreamResult result = new StreamResult(writer);\n\n    transformer.transform(text, result);\n\n    return result.getWriter().toString();\n}\n</code></pre>\n"},{"tags":["java","kotlin","aes","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1662027504,"creation_date":1661977833,"answer_id":73561592,"question_id":73557729,"body_markdown":"There are two issues, one is a bug in your Kotlin code, the other is a library bug:\r\n\r\n&lt;h4&gt;Bug in Kotlin code&lt;/h4&gt;\r\n\r\nWhile PyCryptodome processes ciphertext and tag separately, BC/Kotlin expects the concatenation of both in the order: `ciphertext|tag`.&lt;br&gt;\r\nTherefore the line `encryptedMessage += tag` must be added in the Kotlin code:\r\n\r\n```kotlin\r\nfun decryptAesMessage2(sharedKey: String, encryptedMessageData: Map&lt;String, String&gt;): ByteArray {\r\n    var encryptedMessage = encryptedMessageData[&quot;encryptedMessage&quot;]!!.utf8Base64Decode()\r\n    var tag = encryptedMessageData[&quot;tag&quot;]!!.utf8Base64Decode()\r\n    encryptedMessage += tag // Fix\r\n    var nonce = encryptedMessageData[&quot;nonce&quot;]!!.utf8Base64Decode()\r\n\r\n    var key = KeyParameter(sharedKey.toByteArray(Charsets.UTF_8))\r\n    var params = AEADParameters(key, tag.size*8, nonce)\r\n    var cipher = OCBBlockCipher(AESEngine(), AESEngine())\r\n\r\n    cipher.init(false, params)\r\n\r\n    val out = ByteArray(cipher.getOutputSize(encryptedMessage.size))\r\n    var offset = cipher.processBytes(encryptedMessage, 0, encryptedMessage.size, out, 0)\r\n    offset += cipher.doFinal(out, offset) // Throwing exception here\r\n\r\n    return out\r\n}\r\n```\r\n\r\n---------\r\n\r\nTest: Below, identical test data is successfully decrypted using the Python code and the fixed Kotlin code:\r\n\r\nPython:\r\n```py\r\nencrypted_message = {\r\n  &#39;encryptedMessage&#39;: &#39;LzoelJ9Nv4cruj0JUlxFrNR+mqyO2rvwqDHYwnj0OkvJ+BBvug+ORYVkxA==&#39;, \r\n  &#39;tag&#39;: &#39;hl56drXePWiLkVavVwF3/w==&#39;, \r\n  &#39;nonce&#39;: b64encode(b&#39;012345678901&#39;).decode()\r\n}\r\ndt = decrypt_aes_message(&#39;01234567890123456789012345678901&#39;, encrypted_message)\r\nprint(dt) # The quick brown fox jumps over the lazy dog\r\n```\r\n\r\nKotlin:\r\n```kotlin\r\nval encrypted_message = mutableMapOf&lt;String, String&gt;()\r\nencrypted_message[&quot;encryptedMessage&quot;] = &quot;LzoelJ9Nv4cruj0JUlxFrNR+mqyO2rvwqDHYwnj0OkvJ+BBvug+ORYVkxA==&quot;\r\nencrypted_message[&quot;tag&quot;] = &quot;hl56drXePWiLkVavVwF3/w==&quot;\r\nencrypted_message[&quot;nonce&quot;] = Base64.getEncoder().encodeToString(&quot;012345678901&quot;.toByteArray(Charsets.UTF_8))\r\nval dt = decryptAesMessage2(&quot;01234567890123456789012345678901&quot;, encrypted_message)\r\nprintln(String(dt, Charsets.UTF_8)) // The quick brown fox jumps over the lazy dog\r\n```\r\n\r\n&lt;h4&gt;Library bug&lt;/h4&gt;\r\n\r\nAnother problem is that both implementations produce different results for a nonce length of 120 bits (15 bytes), the maximum allowed nonce length for OCB (see [RFC 7253, 4.2. Encryption: OCB-ENCRYPT][1]):\r\n\r\nThe following test uses a fixed key and plaintext and compares the results between the Python and BC/Kotlin code for nonce lengths 13, 14, and 15 bytes:\r\n\r\n```none\r\nKey: b&#39;01234567890123456789012345678901&#39;\r\nPlaintext: b&#39;testmessage&#39;\r\n\r\nNonce L&#228;nge\t\t13 bytes\t\t\t\t\t\t\t\t\t\t\t\t\t14 bytes\t\t\t\t\t\t\t\t\t\t\t\t\t15 bytes\r\nNonce\t\t\tb&#39;0123456789012&#39; \t\t\t\t\t\t\t\t\t\t\tb&#39;01234567890123&#39; \t\t\t\t\t\t\t\t\t\t\tb&#39;012345678901234&#39;\r\nPython (ct|tag)\t0xb35a69a245ab18fe3b6bae38b179c2a43b341f67c0451256b76bd7\t0xff9be97fcb6e1ac57e6997bc3e84598a83ab70947ccac500fcf75e\t0xff9be97fcb6e1ac57e6997bc3e84598a83ab70947ccac500fcf75e\r\nBC/Kotlin   \t0xb35a69a245ab18fe3b6bae38b179c2a43b341f67c0451256b76bd7    0xff9be97fcb6e1ac57e6997bc3e84598a83ab70947ccac500fcf75e\t0xa4355068324065f2ad194b058bdb86caa67c225b99021dbd588034\r\n```\r\n\r\nThe Python implementation returns the same ciphertext/tag for nonce lengths 14 and 15, while the results for BC/Kotlin differ. This indicates a bug in the Python implementation.\r\n\r\nUnfortunately, [RFC 7253, Appendix A. Sample Results][2] only provides test vectors whose nonces are all 12 bytes in size, so the bug cannot be assigned more clearly. \r\n\r\nI.e. if you use a 15 bytes nonce, both implementations are not compatible, where the problem is most likely caused by the Python implementation.\r\n\r\n------------\r\n\r\n&lt;h4&gt;Edit&lt;/h4&gt;\r\n\r\n&lt;h6&gt;Analysis of linked example:&lt;/h6&gt;\r\n\r\nYou are affected by both bugs. According to your comment, you have already fixed the bug in the Kotlin code (concatenation of ciphertext and tag). Since the nonce you used in the example is 15 bytes (`knQgYf1MsOs8smx9GtWM` corresponds Base64 decoded to `0x92742061fd4cb0eb3cb26c7d1ad58c`) the bug described in the second part of my answer is the cause of the problem. This bug is not in your code, but in one of the libraries, most likely in the Python library. Therefore you cannot fix it (at least not without greater effort).\r\n\r\n&lt;h6&gt;Workarounds&lt;/h6&gt;\r\n\r\nAs shown in the above test, the Python code for a nonce length of 15 bytes seems to simply ignore the 15th byte, i.e. if you use the 14 bytes nonce `knQgYf1MsOs8smx9GtU=` (`0x92742061fd4cb0eb3cb26c7d1ad5`) in your Python code, the Python code returns the *same* ciphertext and the *same* tag as with the 15 bytes nonce `knQgYf1MsOs8smx9GtWM`, which is why decryption with the 14 bytes nonce is also possible:\r\n\r\n```py\r\nkey = &quot;f009Cip5hM4Obbb6E2MT5npJBHlc82vD&quot;\r\nmessage_data = {&quot;encryptedMessage&quot;:&quot;XMQx/xbVVTbMdpMiTXVp5XPICm11Vw2pgALpVI0NgbdqLLmikhPuu9M+qQzyOVZlZZBRlscijpyAZDsLGcTSPP54O35oKNp//PuOrWsN/ZZMkCByKCSBysJLRiZV1OjZDg01gi5/nYNbUgGGd8uRGKfBaKjjXngZ1J89GOvDeWPQcjbfbdzd9w+jbZGZ5jnAIChOL1Uqohf+6KHtjR/H06fFTHwB1abzAQrGbCNBNXBmN9+zEu7Auy3NPWKrZ+SL5Nk=&quot;,&quot;tag&quot;:&quot;ZcqXSBqYU5TjgdMC+bMeUQ==&quot;,&quot;nonce&quot;:&quot;knQgYf1MsOs8smx9GtU=&quot;}\r\n\r\ndecrypted_message = decrypt_aes_message (key, message_data)\r\nprint (decrypted_message) # https://app.passiv.com/snapTrade/redeemToken?token=v9uJsXYsi%2B6s9kyohisc6DFntJ/yD6m/2zhmO5xp6Vmezcyi8nwx63YtkqnnaogZvFmqs7L99EtZ0mxN9mAQTNoThHj3GaypXXUdiQIzig%3D%3D&amp;clientId=SCANZ&amp;broker=ALPACA\r\n```\r\n \r\nIf you use this 14 bytes nonce `knQgYf1MsOs8smx9GtU=` in the Kotlin code, the decryption is also successful. This is the workaround for this specific example! \r\n\r\nThe general workaround, as long as the library bug is not fixed, is not to use a 15 bytes nonce, but only a maximum 14 bytes nonce!\r\n\r\n---------\r\n\r\nOn [this website][5] there are also testvectors with 15 bytes nonces listed. As expected, these are not met by the PyCryptodome implementation. I have filed an issue on PyCryptodome based on one of the 15 bytes nonce test vectors: Issue [#664][4].\r\n\r\n[1]: https://www.rfc-editor.org/rfc/rfc7253.html#section-4.2\r\n[2]: https://www.rfc-editor.org/rfc/rfc7253.html#appendix-A\r\n[3]: https://github.com/Legrandin/pycryptodome/issues\r\n[4]: https://github.com/Legrandin/pycryptodome/issues/664\r\n[5]: https://gitlab.com/dkg/ocb-test-vectors\r\n","title":"Bouncy Castle is throwing &quot;mac check in OCB failed&quot; when trying to decrypt an AES message","body":"<p>There are two issues, one is a bug in your Kotlin code, the other is a library bug:</p>\n<h4>Bug in Kotlin code</h4>\n<p>While PyCryptodome processes ciphertext and tag separately, BC/Kotlin expects the concatenation of both in the order: <code>ciphertext|tag</code>.<br>\nTherefore the line <code>encryptedMessage += tag</code> must be added in the Kotlin code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun decryptAesMessage2(sharedKey: String, encryptedMessageData: Map&lt;String, String&gt;): ByteArray {\n    var encryptedMessage = encryptedMessageData[&quot;encryptedMessage&quot;]!!.utf8Base64Decode()\n    var tag = encryptedMessageData[&quot;tag&quot;]!!.utf8Base64Decode()\n    encryptedMessage += tag // Fix\n    var nonce = encryptedMessageData[&quot;nonce&quot;]!!.utf8Base64Decode()\n\n    var key = KeyParameter(sharedKey.toByteArray(Charsets.UTF_8))\n    var params = AEADParameters(key, tag.size*8, nonce)\n    var cipher = OCBBlockCipher(AESEngine(), AESEngine())\n\n    cipher.init(false, params)\n\n    val out = ByteArray(cipher.getOutputSize(encryptedMessage.size))\n    var offset = cipher.processBytes(encryptedMessage, 0, encryptedMessage.size, out, 0)\n    offset += cipher.doFinal(out, offset) // Throwing exception here\n\n    return out\n}\n</code></pre>\n<hr />\n<p>Test: Below, identical test data is successfully decrypted using the Python code and the fixed Kotlin code:</p>\n<p>Python:</p>\n<pre class=\"lang-py prettyprint-override\"><code>encrypted_message = {\n  'encryptedMessage': 'LzoelJ9Nv4cruj0JUlxFrNR+mqyO2rvwqDHYwnj0OkvJ+BBvug+ORYVkxA==', \n  'tag': 'hl56drXePWiLkVavVwF3/w==', \n  'nonce': b64encode(b'012345678901').decode()\n}\ndt = decrypt_aes_message('01234567890123456789012345678901', encrypted_message)\nprint(dt) # The quick brown fox jumps over the lazy dog\n</code></pre>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val encrypted_message = mutableMapOf&lt;String, String&gt;()\nencrypted_message[&quot;encryptedMessage&quot;] = &quot;LzoelJ9Nv4cruj0JUlxFrNR+mqyO2rvwqDHYwnj0OkvJ+BBvug+ORYVkxA==&quot;\nencrypted_message[&quot;tag&quot;] = &quot;hl56drXePWiLkVavVwF3/w==&quot;\nencrypted_message[&quot;nonce&quot;] = Base64.getEncoder().encodeToString(&quot;012345678901&quot;.toByteArray(Charsets.UTF_8))\nval dt = decryptAesMessage2(&quot;01234567890123456789012345678901&quot;, encrypted_message)\nprintln(String(dt, Charsets.UTF_8)) // The quick brown fox jumps over the lazy dog\n</code></pre>\n<h4>Library bug</h4>\n<p>Another problem is that both implementations produce different results for a nonce length of 120 bits (15 bytes), the maximum allowed nonce length for OCB (see <a href=\"https://www.rfc-editor.org/rfc/rfc7253.html#section-4.2\" rel=\"nofollow noreferrer\">RFC 7253, 4.2. Encryption: OCB-ENCRYPT</a>):</p>\n<p>The following test uses a fixed key and plaintext and compares the results between the Python and BC/Kotlin code for nonce lengths 13, 14, and 15 bytes:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Key: b'01234567890123456789012345678901'\nPlaintext: b'testmessage'\n\nNonce Länge     13 bytes                                                    14 bytes                                                    15 bytes\nNonce           b'0123456789012'                                            b'01234567890123'                                           b'012345678901234'\nPython (ct|tag) 0xb35a69a245ab18fe3b6bae38b179c2a43b341f67c0451256b76bd7    0xff9be97fcb6e1ac57e6997bc3e84598a83ab70947ccac500fcf75e    0xff9be97fcb6e1ac57e6997bc3e84598a83ab70947ccac500fcf75e\nBC/Kotlin       0xb35a69a245ab18fe3b6bae38b179c2a43b341f67c0451256b76bd7    0xff9be97fcb6e1ac57e6997bc3e84598a83ab70947ccac500fcf75e    0xa4355068324065f2ad194b058bdb86caa67c225b99021dbd588034\n</code></pre>\n<p>The Python implementation returns the same ciphertext/tag for nonce lengths 14 and 15, while the results for BC/Kotlin differ. This indicates a bug in the Python implementation.</p>\n<p>Unfortunately, <a href=\"https://www.rfc-editor.org/rfc/rfc7253.html#appendix-A\" rel=\"nofollow noreferrer\">RFC 7253, Appendix A. Sample Results</a> only provides test vectors whose nonces are all 12 bytes in size, so the bug cannot be assigned more clearly.</p>\n<p>I.e. if you use a 15 bytes nonce, both implementations are not compatible, where the problem is most likely caused by the Python implementation.</p>\n<hr />\n<h4>Edit</h4>\n<h6>Analysis of linked example:</h6>\n<p>You are affected by both bugs. According to your comment, you have already fixed the bug in the Kotlin code (concatenation of ciphertext and tag). Since the nonce you used in the example is 15 bytes (<code>knQgYf1MsOs8smx9GtWM</code> corresponds Base64 decoded to <code>0x92742061fd4cb0eb3cb26c7d1ad58c</code>) the bug described in the second part of my answer is the cause of the problem. This bug is not in your code, but in one of the libraries, most likely in the Python library. Therefore you cannot fix it (at least not without greater effort).</p>\n<h6>Workarounds</h6>\n<p>As shown in the above test, the Python code for a nonce length of 15 bytes seems to simply ignore the 15th byte, i.e. if you use the 14 bytes nonce <code>knQgYf1MsOs8smx9GtU=</code> (<code>0x92742061fd4cb0eb3cb26c7d1ad5</code>) in your Python code, the Python code returns the <em>same</em> ciphertext and the <em>same</em> tag as with the 15 bytes nonce <code>knQgYf1MsOs8smx9GtWM</code>, which is why decryption with the 14 bytes nonce is also possible:</p>\n<pre class=\"lang-py prettyprint-override\"><code>key = &quot;f009Cip5hM4Obbb6E2MT5npJBHlc82vD&quot;\nmessage_data = {&quot;encryptedMessage&quot;:&quot;XMQx/xbVVTbMdpMiTXVp5XPICm11Vw2pgALpVI0NgbdqLLmikhPuu9M+qQzyOVZlZZBRlscijpyAZDsLGcTSPP54O35oKNp//PuOrWsN/ZZMkCByKCSBysJLRiZV1OjZDg01gi5/nYNbUgGGd8uRGKfBaKjjXngZ1J89GOvDeWPQcjbfbdzd9w+jbZGZ5jnAIChOL1Uqohf+6KHtjR/H06fFTHwB1abzAQrGbCNBNXBmN9+zEu7Auy3NPWKrZ+SL5Nk=&quot;,&quot;tag&quot;:&quot;ZcqXSBqYU5TjgdMC+bMeUQ==&quot;,&quot;nonce&quot;:&quot;knQgYf1MsOs8smx9GtU=&quot;}\n\ndecrypted_message = decrypt_aes_message (key, message_data)\nprint (decrypted_message) # https://app.passiv.com/snapTrade/redeemToken?token=v9uJsXYsi%2B6s9kyohisc6DFntJ/yD6m/2zhmO5xp6Vmezcyi8nwx63YtkqnnaogZvFmqs7L99EtZ0mxN9mAQTNoThHj3GaypXXUdiQIzig%3D%3D&amp;clientId=SCANZ&amp;broker=ALPACA\n</code></pre>\n<p>If you use this 14 bytes nonce <code>knQgYf1MsOs8smx9GtU=</code> in the Kotlin code, the decryption is also successful. This is the workaround for this specific example!</p>\n<p>The general workaround, as long as the library bug is not fixed, is not to use a 15 bytes nonce, but only a maximum 14 bytes nonce!</p>\n<hr />\n<p>On <a href=\"https://gitlab.com/dkg/ocb-test-vectors\" rel=\"nofollow noreferrer\">this website</a> there are also testvectors with 15 bytes nonces listed. As expected, these are not met by the PyCryptodome implementation. I have filed an issue on PyCryptodome based on one of the 15 bytes nonce test vectors: Issue <a href=\"https://github.com/Legrandin/pycryptodome/issues/664\" rel=\"nofollow noreferrer\">#664</a>.</p>\n"}],"owner":{"account_id":5802269,"reputation":133,"user_id":4576081,"accept_rate":71,"display_name":"Vin&#237;cius M. Freitas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73561592,"answer_count":1,"score":3,"last_activity_date":1662027504,"creation_date":1661957177,"question_id":73557729,"body_markdown":"I need to decrypt an AES message. I was able to make it work on python(using the pycryptodome library) but I wasn&#39;t successful on kotlin/java. Since the decryption mode is OCB and Java does not support it by default, I had to use the Bouncy Castle library.\r\n\r\nHere&#39;s the working python code:\r\n\r\n    def decrypt_aes_message(shared_key, encrypted_message):\r\n        encrypted_msg = b64decode(encrypted_message[&quot;encryptedMessage&quot;].encode())\r\n        tag = b64decode(encrypted_message[&quot;tag&quot;].encode())\r\n        nonce = b64decode(encrypted_message[&quot;nonce&quot;].encode())\r\n        cipher = AES.new(shared_key.encode(), AES.MODE_OCB, nonce=nonce)\r\n        return cipher.decrypt_and_verify(encrypted_msg, tag).decode()\r\n\r\nHere&#39;s the java code:\r\n\r\n    fun decryptAesMessage2(sharedKey: String, encryptedMessageData: Map&lt;String, String&gt;): ByteArray {\r\n        var encryptedMessage = encryptedMessageData[&quot;encryptedMessage&quot;]!!.utf8Base64Decode()\r\n        var tag = encryptedMessageData[&quot;tag&quot;]!!.utf8Base64Decode()\r\n        var nonce = encryptedMessageData[&quot;nonce&quot;]!!.utf8Base64Decode()\r\n\r\n        var key = KeyParameter(sharedKey.toByteArray(Charsets.UTF_8))\r\n        var params = AEADParameters(key, tag.size*8, nonce)\r\n        var cipher = OCBBlockCipher(AESEngine(), AESEngine())\r\n\r\n        cipher.init(false, params)\r\n\r\n        val out = ByteArray(cipher.getOutputSize(encryptedMessage.size))\r\n        var offset = cipher.processBytes(encryptedMessage, 0, encryptedMessage.size, out, 0)\r\n        offset += cipher.doFinal(out, offset) // Throwing exception here\r\n\r\n        return out\r\n    }\r\n\r\nThe java code is throwing the exception **org.bouncycastle.crypto.InvalidCipherTextException: mac check in OCB failed** on cipher.doFinal\r\n\r\nThe file [debug.zip][1] has the complete problem reproducer.\r\nInside the zip file you&#39;ll find:\r\n\r\n - py_working_code.py - the working python script(needs pycryptodome in order to work. You can install pycryptodome using **pip install pycryptodome**)\r\n - bc-debug - gradle project reproducing the problem\r\n\r\n\r\n  [1]: https://github.com/bcgit/bc-java/files/9463481/debug.zip","title":"Bouncy Castle is throwing &quot;mac check in OCB failed&quot; when trying to decrypt an AES message","body":"<p>I need to decrypt an AES message. I was able to make it work on python(using the pycryptodome library) but I wasn't successful on kotlin/java. Since the decryption mode is OCB and Java does not support it by default, I had to use the Bouncy Castle library.</p>\n<p>Here's the working python code:</p>\n<pre><code>def decrypt_aes_message(shared_key, encrypted_message):\n    encrypted_msg = b64decode(encrypted_message[&quot;encryptedMessage&quot;].encode())\n    tag = b64decode(encrypted_message[&quot;tag&quot;].encode())\n    nonce = b64decode(encrypted_message[&quot;nonce&quot;].encode())\n    cipher = AES.new(shared_key.encode(), AES.MODE_OCB, nonce=nonce)\n    return cipher.decrypt_and_verify(encrypted_msg, tag).decode()\n</code></pre>\n<p>Here's the java code:</p>\n<pre><code>fun decryptAesMessage2(sharedKey: String, encryptedMessageData: Map&lt;String, String&gt;): ByteArray {\n    var encryptedMessage = encryptedMessageData[&quot;encryptedMessage&quot;]!!.utf8Base64Decode()\n    var tag = encryptedMessageData[&quot;tag&quot;]!!.utf8Base64Decode()\n    var nonce = encryptedMessageData[&quot;nonce&quot;]!!.utf8Base64Decode()\n\n    var key = KeyParameter(sharedKey.toByteArray(Charsets.UTF_8))\n    var params = AEADParameters(key, tag.size*8, nonce)\n    var cipher = OCBBlockCipher(AESEngine(), AESEngine())\n\n    cipher.init(false, params)\n\n    val out = ByteArray(cipher.getOutputSize(encryptedMessage.size))\n    var offset = cipher.processBytes(encryptedMessage, 0, encryptedMessage.size, out, 0)\n    offset += cipher.doFinal(out, offset) // Throwing exception here\n\n    return out\n}\n</code></pre>\n<p>The java code is throwing the exception <strong>org.bouncycastle.crypto.InvalidCipherTextException: mac check in OCB failed</strong> on cipher.doFinal</p>\n<p>The file <a href=\"https://github.com/bcgit/bc-java/files/9463481/debug.zip\" rel=\"nofollow noreferrer\">debug.zip</a> has the complete problem reproducer.\nInside the zip file you'll find:</p>\n<ul>\n<li>py_working_code.py - the working python script(needs pycryptodome in order to work. You can install pycryptodome using <strong>pip install pycryptodome</strong>)</li>\n<li>bc-debug - gradle project reproducing the problem</li>\n</ul>\n"},{"tags":["java","gradle","google-kubernetes-engine"],"answers":[{"tags":[],"owner":{"account_id":20035299,"reputation":37,"user_id":14687169,"display_name":"Kathelan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662027173,"creation_date":1662027173,"answer_id":73567669,"question_id":73562485,"body_markdown":"found mistake in docker file :\r\n```\r\nENV ARTIFACT_NAME=md-backend-0.0.1.jar\r\n```\r\nwas md-backend-0.0.1-plain.jar\r\n","title":"GKE gradle no main manifest attribute","body":"<p>found mistake in docker file :</p>\n<pre><code>ENV ARTIFACT_NAME=md-backend-0.0.1.jar\n</code></pre>\n<p>was md-backend-0.0.1-plain.jar</p>\n"}],"owner":{"account_id":20035299,"reputation":37,"user_id":14687169,"display_name":"Kathelan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662027173,"creation_date":1661984515,"question_id":73562485,"body_markdown":"Hello i am testing GKE features and i created gradle java 17 init application, while deployment i have issue with manifest so i generated manually to artifact to resources : \r\n```\r\nManifest-Version: 1.0\r\nMain-Class: pl.kathelan.mdbackend.MdBackendApplication\r\n```\r\n\r\nhere is my gradle build : \r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.3&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;pl.kathelan&#39;\r\nversion = &#39;0.0.1&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &quot;Class-Path&quot;: configurations.runtimeClasspath .collect { it.getName() }.join(&#39; &#39;))\r\n    }\r\n}\r\n\r\nsourceSets.main.resources.srcDirs = [ &quot;src/&quot; ]\r\n\r\n```\r\n\r\ni have tried this solution https://stackoverflow.com/questions/32567167/gradle-no-main-manifest-attribute , but for me was exception class no found. Looking for any help thanks.","title":"GKE gradle no main manifest attribute","body":"<p>Hello i am testing GKE features and i created gradle java 17 init application, while deployment i have issue with manifest so i generated manually to artifact to resources :</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: pl.kathelan.mdbackend.MdBackendApplication\n</code></pre>\n<p>here is my gradle build :</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.3'\n    id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n    id 'java'\n}\n\ngroup = 'pl.kathelan'\nversion = '0.0.1'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\njar {\n    manifest {\n        attributes(\n                &quot;Class-Path&quot;: configurations.runtimeClasspath .collect { it.getName() }.join(' '))\n    }\n}\n\nsourceSets.main.resources.srcDirs = [ &quot;src/&quot; ]\n\n</code></pre>\n<p>i have tried this solution <a href=\"https://stackoverflow.com/questions/32567167/gradle-no-main-manifest-attribute\">Gradle - no main manifest attribute</a> , but for me was exception class no found. Looking for any help thanks.</p>\n"},{"tags":["java","android","xml","android-studio","bluetooth"],"comments":[{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1662059839,"post_id":73565628,"comment_id":129925172,"body_markdown":"Why did you delete the [commented question](https://stackoverflow.com/questions/73552365/i-can-detect-bluetooth-devices-on-older-android-phones-but-in-new-ones-i-cant-o) and then repost it here?","body":"Why did you delete the <a href=\"https://stackoverflow.com/questions/73552365/i-can-detect-bluetooth-devices-on-older-android-phones-but-in-new-ones-i-cant-o\">commented question</a> and then repost it here?"}],"owner":{"account_id":25610715,"reputation":11,"user_id":19384197,"display_name":"Agram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662027028,"creation_date":1662017367,"question_id":73565628,"body_markdown":"I have the same version of code and I give the application all autorisations and permissions..\r\nThe app worked perfectly on Android 6.0.1 and Android 8\r\nI have gave to app all needed permissions, But I can&#39;t detect Bluetooth devices on Android 10, the same problem on android 11..\r\ngiven permissions :\r\n      &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;true&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.telephony&quot; android:required=&quot;false&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; android:required=&quot;false&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; android:required=&quot;false&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;false&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\r\nThe Code of Scan Activity :\r\n\r\n     import android.Manifest;\r\n        import android.app.AlertDialog;\r\n        import android.app.ListActivity;\r\n        import android.bluetooth.BluetoothAdapter;\r\n        import android.bluetooth.BluetoothDevice;\r\n        import android.bluetooth.BluetoothGatt;\r\n        import android.bluetooth.BluetoothManager;\r\n        import android.bluetooth.le.BluetoothLeScanner;\r\n        import android.bluetooth.le.ScanCallback;\r\n        import android.bluetooth.le.ScanFilter;\r\n        import android.bluetooth.le.ScanResult;\r\n        import android.bluetooth.le.ScanSettings;\r\n        import android.content.BroadcastReceiver;\r\n        import android.content.Context;\r\n        import android.content.DialogInterface;\r\n        import android.content.Intent;\r\n        import android.content.IntentFilter;\r\n        import android.content.pm.PackageManager;\r\n        import android.location.LocationManager;\r\n        import android.os.Build;\r\n        import android.os.Bundle;\r\n        import android.os.Handler;\r\n        import android.os.ParcelUuid;\r\n        import android.util.Log;\r\n        import android.view.LayoutInflater;\r\n        import android.view.Menu;\r\n        import android.view.MenuItem;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        import android.widget.BaseAdapter;\r\n        import android.widget.ImageView;\r\n        import android.widget.ListView;\r\n        import android.widget.ProgressBar;\r\n        import android.widget.TextView;\r\n        import android.widget.Toast;\r\n        import androidx.core.app.ActivityCompat;\r\n        import com.atmel.blecommunicator.com.atmel.otau.utils.OTAUUtils;\r\n        import com.atmel.wearable.commonutils.GattAttributes;\r\n        import com.microchip.bluetooth.data.blesensorapp.util.Constants;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        public class DeviceScanActivity extends ListActivity {\r\n            private static final int PERMISSION_REQUEST_COARSE_LOCATION = 1;\r\n            private static final int REQUEST_ENABLE_BT = 1;\r\n            private static final int REQUEST_ENABLE_LOCATION = 1;\r\n            private static final long SCAN_PERIOD = 15000;\r\n            private List&lt;ScanFilter&gt; filters;\r\n            private BluetoothLeScanner mBLEScanner;\r\n            private BluetoothAdapter mBluetoothAdapter;\r\n            private BluetoothGatt mGatt;\r\n            private Handler mHandler;\r\n            private LeDeviceListAdapter mLeDeviceListAdapter;\r\n            private BluetoothAdapter.LeScanCallback mLeScanCallback;\r\n            private List&lt;Integer&gt; mRSSIs;\r\n            private ScanCallback mScanCallback;\r\n            private List&lt;ScanResult&gt; mScanResults;\r\n            private List&lt;byte[]&gt; mScanResultsDep;\r\n            private boolean mScanning;\r\n            private ScanSettings settings;\r\n            ProgressBar someProgressBar;\r\n            private final BroadcastReceiver bluetoothReceiver = new BroadcastReceiver() {\r\n                public void onReceive(Context context, Intent intent) {\r\n                    if (intent.getAction().equals(&quot;android.bluetooth.adapter.action.STATE_CHANGED&quot;) &amp;&amp; intent.getIntExtra(&quot;android.bluetooth.adapter.extra.STATE&quot;, Integer.MIN_VALUE) == 10) {\r\n                        DeviceScanActivity.this.mBluetoothStatus = true;\r\n                        new AlertDialog.Builder(context).setTitle(R.string.app_name).setMessage(R.string.error_bluetooth_off).setIcon(R.mipmap.ic_launcher).setCancelable(false).setPositiveButton(17039379, new DialogInterface.OnClickListener() {    \r\n                            public void onClick(DialogInterface dialogInterface, int i) {         DeviceScanActivity.this.startActivityForResult(new Intent(&quot;android.bluetooth.adapter.action.REQUEST_ENABLE&quot;), 1);\r\n                            }\r\n                        }).setNegativeButton(17039369, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                Toast.makeText(DeviceScanActivity.this, R.string.error_bluetooth_off, 0).show();\r\n                                DeviceScanActivity.this.finish();\r\n                            }\r\n                        }).show();\r\n                    }\r\n                }\r\n            };\r\n            private boolean mBluetoothStatus = false;\r\n        @Override // android.app.Activity\r\n        public void onCreate(Bundle bundle) {\r\n            super.onCreate(bundle);\r\n            requestWindowFeature(5);\r\n            Log.d(&quot;MBD&quot;, &quot;MBD onCreate DeviceScantActivity &quot;);\r\n            if (Build.VERSION.SDK_INT &gt;= 23) {\r\n                requestPermissions(new String[]{&quot;android.permission.ACCESS_COARSE_LOCATION&quot;}, 1);\r\n            }\r\n            this.mHandler = new Handler();\r\n            BluetoothAdapter adapter = ((BluetoothManager) getSystemService(&quot;bluetooth&quot;)).getAdapter();\r\n            this.mBluetoothAdapter = adapter;\r\n            if (adapter == null) {\r\n                Toast.makeText(this, (int) R.string.error_bluetooth_not_supported, 0).show();\r\n                finish();\r\n                return;\r\n            }\r\n            View inflate = getLayoutInflater().inflate(R.layout.list_header, (ViewGroup) getListView(), false);\r\n            ((TextView) inflate.findViewById(R.id.listHeader)).setText(R.string.scan_header);\r\n            getListView().addHeaderView(inflate, null, false);\r\n            View inflate2 = getLayoutInflater().inflate(R.layout.list_subheader, (ViewGroup) getListView(), false);\r\n            getListView().addFooterView(inflate2, null, false);\r\n            this.someProgressBar = (ProgressBar) findViewById(R.id.progressBar);\r\n        }\r\n        @Override // android.app.Activity\r\n        public void onRequestPermissionsResult(int i, String[] strArr, int[] iArr) {\r\n            if (i == 1 &amp;&amp; iArr[0] == 0) {\r\n                LocationManager locationManager = (LocationManager) getSystemService(&quot;location&quot;);\r\n                if (!locationManager.isProviderEnabled(&quot;gps&quot;) || !locationManager.isProviderEnabled(&quot;network&quot;)) {\r\n                    startActivity(new Intent(&quot;android.settings.LOCATION_SOURCE_SETTINGS&quot;));\r\n                }\r\n            }\r\n        }\r\n        @Override // android.app.Activity\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.main, menu);\r\n            if (!this.mScanning) {\r\n                menu.findItem(R.id.menu_stop).setVisible(false);\r\n                menu.findItem(R.id.menu_scan).setVisible(true);\r\n            } else {\r\n                menu.findItem(R.id.menu_stop).setVisible(true);\r\n                menu.findItem(R.id.menu_scan).setVisible(false);\r\n            }\r\n            return true;\r\n        }\r\n        @Override // android.app.Activity\r\n        public boolean onOptionsItemSelected(MenuItem menuItem) {\r\n            int itemId = menuItem.getItemId();\r\n            if (itemId == R.id.menu_scan) {\r\n                this.mLeDeviceListAdapter.clear();\r\n                setListAdapter(this.mLeDeviceListAdapter);\r\n                this.mRSSIs.clear();\r\n                scanLeDevice(true);\r\n            } else if (itemId == R.id.menu_stop) {\r\n                scanLeDevice(false);\r\n            }\r\n            return true;\r\n        }\r\n        @Override // android.app.Activity\r\n        public void onResume() {\r\n            super.onResume();\r\n            View decorView = getWindow().getDecorView();\r\n            decorView.setSystemUiVisibility(4);\r\n            this.mLeDeviceListAdapter = new LeDeviceListAdapter();\r\n            this.mRSSIs = new ArrayList();\r\n            if (Build.VERSION.SDK_INT &lt; 21) {\r\n                this.mScanResultsDep = new ArrayList();\r\n            } else {\r\n                this.mScanResults = new ArrayList();\r\n            }\r\n            setListAdapter(this.mLeDeviceListAdapter);\r\n            getListView().setCacheColorHint(0);\r\n            getListView().setBackgroundResource(R.drawable.anotherbackground);\r\n        }\r\n    \r\n        @Override // android.app.Activity\r\n        public void onActivityResult(int i, int i2, Intent intent) {\r\n            if (i == 1 &amp;&amp; i2 == 0) {\r\n                Toast.makeText(this, (int) R.string.error_bluetooth_off, 0).show();\r\n                finish();\r\n                return;\r\n            }\r\n            super.onActivityResult(i, i2, intent);\r\n        }\r\n        @Override // android.app.Activity\r\n        public void onStart() {\r\n            super.onStart();\r\n            setLECallbacks();\r\n            registerReceiver(this.bluetoothReceiver, new IntentFilter(&quot;android.bluetooth.adapter.action.STATE_CHANGED&quot;));\r\n            BluetoothAdapter bluetoothAdapter = this.mBluetoothAdapter;\r\n            if (bluetoothAdapter != null &amp;&amp; bluetoothAdapter.isEnabled()) {\r\n                if (Build.VERSION.SDK_INT &gt;= 21) {\r\n                    this.mBLEScanner = this.mBluetoothAdapter.getBluetoothLeScanner();\r\n                    this.settings = new ScanSettings.Builder().setScanMode(2).setCallbackType(1).build();\r\n                    ParcelUuid.fromString(GattAttributes.ENVIRONMENT_SERVICE);\r\n                    ScanFilter build = new ScanFilter.Builder().setManufacturerData(205, new byte[]{-2, OTAUUtils.AT_OTAU_IMAGE_END_NOTIFY_RESP, -83, 17, -49, Constants.BLE_SENSOR_RGB_LED_STATUS_UPDATE, 6, 63, 17, -27, -66, 62, 0, 2, com.microchip.zigbeeprovisioning.util.Constants.BLE_ZIGBEE_GET_CHANNEL_MAP_RESPONSE, -43, -59}).build();\r\n                    ArrayList arrayList = new ArrayList();\r\n                    this.filters = arrayList;\r\n                    arrayList.add(build);\r\n                }\r\n                scanLeDevice(true);\r\n            } else if (!this.mBluetoothAdapter.isEnabled() &amp;&amp; !this.mBluetoothStatus) {\r\n                startActivityForResult(new Intent(&quot;android.bluetooth.adapter.action.REQUEST_ENABLE&quot;), 1);\r\n            }\r\n        }\r\n    \r\n        @Override // android.app.Activity\r\n        public void onPause() {\r\n            super.onPause();\r\n        }\r\n    \r\n        @Override // android.app.Activity\r\n        public void onStop() {\r\n            super.onStop();\r\n            if (this.mBluetoothAdapter.isEnabled()) {\r\n                resetLECallbacks();\r\n                scanLeDevice(false);\r\n                this.mLeDeviceListAdapter.clear();\r\n                this.mRSSIs.clear();\r\n                unregisterReceiver(this.bluetoothReceiver);\r\n            }\r\n        }\r\n\r\n        @Override // android.app.ListActivity, android.app.Activity\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n        }\r\n    \r\n        @Override // android.app.ListActivity\r\n        public void onListItemClick(ListView listView, View view, int i, long j) {\r\n            int i2 = i - 1;\r\n            BluetoothDevice device = this.mLeDeviceListAdapter.getDevice(i2);\r\n            if (device != null) {\r\n                Intent intent = new Intent(this, DeviceControlActivity.class);\r\n                intent.putExtra(&quot;DEVICE_NAME&quot;, device.getName());\r\n                intent.putExtra(&quot;DEVICE_ADDRESS&quot;, device.getAddress());\r\n                if (Build.VERSION.SDK_INT &lt; 21) {\r\n                    intent.putExtra(&quot;SCAN_RESULT&quot;, this.mScanResultsDep.get(i2));\r\n                } else {\r\n                    intent.putExtra(&quot;SCAN_RESULT&quot;, this.mScanResults.get(i2));\r\n                }\r\n                if (this.mScanning) {\r\n                    if (Build.VERSION.SDK_INT &lt; 21) {\r\n                        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n                            // TODO: Consider calling\r\n                            //    ActivityCompat#requestPermissions\r\n                            // here to request the missing permissions, and then overriding\r\n                            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                            //                                          int[] grantResults)\r\n                            // to handle the case where the user grants the permission. See the documentation\r\n                            // for ActivityCompat#requestPermissions for more details.\r\n                            return;\r\n                        }\r\n                        this.mBluetoothAdapter.stopLeScan(this.mLeScanCallback);\r\n                    } else {\r\n                        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n                            // TODO: Consider calling\r\n                            //    ActivityCompat#requestPermissions\r\n                            // here to request the missing permissions, and then overriding\r\n                            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                            //                                          int[] grantResults)\r\n                            // to handle the case where the user grants the permission. See the documentation\r\n                            // for ActivityCompat#requestPermissions for more details.\r\n                            return;\r\n                        }\r\n                        this.mBLEScanner.stopScan(this.mScanCallback);\r\n                    }\r\n                    this.mScanning = false;\r\n                }\r\n                startActivity(intent);\r\n            }\r\n        }\r\n    \r\n        private void scanLeDevice(boolean z) {\r\n            if (z) {\r\n                this.mHandler.postDelayed(new Runnable() { // from class: com.microchip.blesensorapp.DeviceScanActivity.2\r\n                    @Override // java.lang.Runnable\r\n                    public void run() {\r\n                        if (DeviceScanActivity.this.mLeDeviceListAdapter.isEmpty() &amp;&amp; DeviceScanActivity.this.mScanning) {\r\n                            DeviceScanActivity.this.someProgressBar.setVisibility(8);\r\n                            Toast.makeText(DeviceScanActivity.this, R.string.ble_scan_empty, 0).show();\r\n                        }\r\n                        DeviceScanActivity.this.mScanning = false;\r\n                        if (DeviceScanActivity.this.mBluetoothAdapter.isEnabled()) {\r\n                            if (Build.VERSION.SDK_INT &lt; 21) {\r\n                                if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n                                    // TODO: Consider calling\r\n                                    //    ActivityCompat#requestPermissions\r\n                                    // here to request the missing permissions, and then overriding\r\n                                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                                    //                                          int[] grantResults)\r\n                                    // to handle the case where the user grants the permission. See the documentation\r\n                                    // for ActivityCompat#requestPermissions for more details.\r\n                                    return;\r\n                                }\r\n                                DeviceScanActivity.this.mBluetoothAdapter.stopLeScan(DeviceScanActivity.this.mLeScanCallback);\r\n                            } else {\r\n                                DeviceScanActivity.this.mBLEScanner.stopScan(DeviceScanActivity.this.mScanCallback);\r\n                            }\r\n                            DeviceScanActivity.this.invalidateOptionsMenu();\r\n                        }\r\n                    }\r\n                }, SCAN_PERIOD);\r\n                this.mScanning = true;\r\n                if (Build.VERSION.SDK_INT &lt; 21) {\r\n                    this.mBluetoothAdapter.startLeScan(this.mLeScanCallback);\r\n                } else {\r\n                    this.mBLEScanner.startScan(this.filters, this.settings, this.mScanCallback);\r\n                }\r\n            } else {\r\n                this.mScanning = false;\r\n                if (this.mBluetoothAdapter.isEnabled()) {\r\n                    if (Build.VERSION.SDK_INT &lt; 21) {\r\n                        this.mBluetoothAdapter.stopLeScan(this.mLeScanCallback);\r\n                    } else {\r\n                        this.mBLEScanner.stopScan(this.mScanCallback);\r\n                    }\r\n                }\r\n            }\r\n            invalidateOptionsMenu();\r\n        }\r\n    \r\n        public void OnClickbutton(View view) {\r\n            this.mLeDeviceListAdapter.clear();\r\n            setListAdapter(this.mLeDeviceListAdapter);\r\n            this.mRSSIs.clear();\r\n            scanLeDevice(true);\r\n        }\r\n    \r\n        public void OnClickbuttonstop(View view) {\r\n            scanLeDevice(false);\r\n            this.someProgressBar.setVisibility(8);\r\n        }\r\n    \r\n\r\n        public class LeDeviceListAdapter extends BaseAdapter {\r\n            private LayoutInflater mInflator;\r\n            private ArrayList&lt;BluetoothDevice&gt; mLeDevices = new ArrayList&lt;&gt;();\r\n            public long getItemId(int i) {\r\n                return (long) i;\r\n            }\r\n            public LeDeviceListAdapter() {\r\n                this.mInflator = DeviceScanActivity.this.getLayoutInflater();\r\n            }\r\n            public void addDevice(BluetoothDevice bluetoothDevice, int i, ScanResult scanResult) {\r\n                if (!this.mLeDevices.contains(bluetoothDevice)) {\r\n                    this.mLeDevices.add(bluetoothDevice);\r\n                    DeviceScanActivity.this.mRSSIs.add(Integer.valueOf(i));\r\n                    DeviceScanActivity.this.mScanResults.add(scanResult);\r\n                    return;\r\n                }  DeviceScanActivity.this.mRSSIs.remove(this.mLeDevices.indexOf(bluetoothDevice));\r\n                DeviceScanActivity.this.mRSSIs.add(this.mLeDevices.indexOf(bluetoothDevice), Integer.valueOf(i));\r\n                DeviceScanActivity.this.mScanResults.remove(this.mLeDevices.indexOf(bluetoothDevice));\r\n                DeviceScanActivity.this.mScanResults.add(this.mLeDevices.indexOf(bluetoothDevice), scanResult);\r\n            }\r\n                public void addDeviceDep(BluetoothDevice bluetoothDevice, int i, byte[] bArr) {\r\n                if (!this.mLeDevices.contains(bluetoothDevice)) {\r\n                    this.mLeDevices.add(bluetoothDevice);\r\n                    DeviceScanActivity.this.mRSSIs.add(Integer.valueOf(i));\r\n                    DeviceScanActivity.this.mScanResultsDep.add(bArr);\r\n                    return;\r\n                }\r\n    DeviceScanActivity.this.mRSSIs.remove(this.mLeDevices.indexOf(bluetoothDevice));\r\n                    DeviceScanActivity.this.mRSSIs.add(this.mLeDevices.indexOf(bluetoothDevice), Integer.valueOf(i));\r\n                    DeviceScanActivity.this.mScanResultsDep.remove(this.mLeDevices.indexOf(bluetoothDevice));\r\n                    DeviceScanActivity.this.mScanResultsDep.add(this.mLeDevices.indexOf(bluetoothDevice), bArr);\r\n                }\r\n                public BluetoothDevice getDevice(int i) {\r\n                    return this.mLeDevices.get(i);\r\n                }\r\n                public void clear() {\r\n                    this.mLeDevices.clear();\r\n                }\r\n    \r\n            @Override // android.widget.Adapter\r\n            public int getCount() {\r\n                return this.mLeDevices.size();\r\n            }\r\n    \r\n            @Override // android.widget.Adapter\r\n            public Object getItem(int i) {\r\n                return this.mLeDevices.get(i);\r\n            }\r\n    \r\n            @Override // android.widget.Adapter\r\n            public View getView(int i, View view, ViewGroup viewGroup) {\r\n                ViewHolder viewHolder;\r\n                if (view == null) {\r\n                    view = this.mInflator.inflate(R.layout.activity_device_scan, (ViewGroup) null);\r\n                    viewHolder = new ViewHolder();\r\n                    viewHolder.deviceAddress = (TextView) view.findViewById(R.id.device_address);\r\n                    viewHolder.deviceName = (TextView) view.findViewById(R.id.device_name);\r\n                    viewHolder.deviceRSSI = (TextView) view.findViewById(R.id.device_rssi);\r\n                    view.setTag(viewHolder);\r\n                } else {\r\n                    viewHolder = (ViewHolder) view.getTag();\r\n                }\r\n                BluetoothDevice bluetoothDevice = this.mLeDevices.get(i);\r\n                if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    // TODO: Consider calling\r\n                    //    ActivityCompat#requestPermissions\r\n                    // here to request the missing permissions, and then overriding\r\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                    //                                          int[] grantResults)\r\n                    // to handle the case where the user grants the permission. See the documentation\r\n                    // for ActivityCompat#requestPermissions for more details.\r\n                    System.out.println(&quot;good&quot;);\r\n                }\r\n                String name = bluetoothDevice.getName();\r\n                if (name == null || name.length() &lt;= 0) {\r\n                    viewHolder.deviceName.setText(R.string.unknown_device);\r\n                } else {\r\n                    viewHolder.deviceName.setText(name);\r\n                }\r\n                viewHolder.deviceAddress.setText(bluetoothDevice.getAddress());\r\n                viewHolder.deviceRSSI.setText(&quot;RSSI: &quot; + DeviceScanActivity.this.mRSSIs.get(i) + &quot;dB&quot;);\r\n                int intValue = ((Integer) DeviceScanActivity.this.mRSSIs.get(i)).intValue();\r\n                if (intValue &lt; -27 &amp;&amp; intValue &gt; -110) {\r\n                    if (intValue &lt;= -27 &amp;&amp; intValue &gt; -60) {\r\n                        ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strength100);\r\n                    }\r\n                    if (intValue &lt;= -60 &amp;&amp; intValue &gt; -70) {\r\n                        ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strength75);\r\n                    }\r\n                    if (intValue &lt;= -70 &amp;&amp; intValue &gt; -80) {\r\n                        ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strength50);\r\n                    }\r\n                    if (intValue &lt;= -80 &amp;&amp; intValue &gt; -90) {\r\n                        ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strength25);\r\n                    }\r\n                    if (intValue &lt;= -90 &amp;&amp; intValue &gt; -110) {\r\n                        ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strength0);\r\n                    }\r\n                } else {\r\n                    ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strengthnil);\r\n                }\r\n                return view;\r\n            }\r\n        }\r\n    \r\n        private void setLECallbacks() {\r\n            if (Build.VERSION.SDK_INT &lt; 21) {\r\n                this.mLeScanCallback = new BluetoothAdapter.LeScanCallback() {\r\n                    /* class com.microchip.blesensorapp.DeviceScanActivity.AnonymousClass4 */\r\n    \r\n                    public void onLeScan(final BluetoothDevice bluetoothDevice, final int i, final byte[] bArr) {\r\n                        DeviceScanActivity.this.runOnUiThread(new Runnable() {\r\n                            /* class com.microchip.blesensorapp.DeviceScanActivity.AnonymousClass4.AnonymousClass1 */\r\n    \r\n                            public void run() {\r\n                                DeviceScanActivity.this.mLeDeviceListAdapter.addDeviceDep(bluetoothDevice, i, bArr);          DeviceScanActivity.this.mLeDeviceListAdapter.notifyDataSetChanged();\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n            } else {\r\n                this.mScanCallback = new ScanCallback() {\r\n                    /* class com.microchip.blesensorapp.DeviceScanActivity.AnonymousClass5 */\r\n    \r\n                    @Override // android.bluetooth.le.ScanCallback\r\n                    public void onBatchScanResults(List&lt;ScanResult&gt; list) {\r\n                    }\r\n    \r\n                    public void onScanFailed(int i) {\r\n                    }\r\n    \r\n                    public void onScanResult(int i, final ScanResult scanResult) {\r\n                        DeviceScanActivity.this.runOnUiThread(new Runnable() {\r\n                            /* class com.microchip.blesensorapp.DeviceScanActivity.AnonymousClass5.AnonymousClass1 */\r\n    \r\n                            public void run() {\r\n                                DeviceScanActivity.this.mLeDeviceListAdapter.addDevice(scanResult.getDevice(), scanResult.getRssi(), scanResult);\r\n                                DeviceScanActivity.this.mLeDeviceListAdapter.notifyDataSetChanged();\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    \r\n        public void resetLECallbacks() {\r\n            this.mLeScanCallback = null;\r\n        }\r\n        static class ViewHolder {\r\n            TextView deviceAddress;\r\n            TextView deviceName;\r\n            TextView deviceRSSI;\r\n    \r\n            ViewHolder() {\r\n            }\r\n        }\r\n    }\r\n\r\nThe build.gradle (targetSdk 32 and minSdk 23) contain this code and it works perfectly on android 8 and 6.0.1 :\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.microchip.blesensorapp&quot;\r\n            minSdk 26\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_7\r\n            targetCompatibility JavaVersion.VERSION_1_7\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\nWhen I tryed to view the debugger to show the difference between the worked phone and the other i found : \r\n\r\nThe not worked one : \r\n\r\n            I/BluetoothAdapter: STATE_ON\r\n            D/BluetoothLeScanner: Start Scan with callback\r\n            D/BluetoothLeScanner: onScannerRegistered() - status=0 scannerId=9 mScannerId=0\r\n            D/Toast: show: caller = com.microchip.blesensorapp.DeviceScanActivity$2.run:282 \r\n            I/Toast: show: focusDisplayId = 0, isFocusInDesktop = false mCustomDisplayId=-1 isDexDualMode=false\r\n            I/Toast: show: isActivityContext = true\r\n            I/BluetoothAdapter: STATE_ON\r\n            D/BluetoothLeScanner: Stop Scan with callback\r\n\r\nThe worked one : \r\n\r\n            D/BluetoothAdapter: STATE_ON\r\n            D/BluetoothLeScanner: onClientRegistered() - status=0 clientIf=8\r\n            W/ResourceType: For resource 0x7f0800bf, entry index(191) is beyond type entryCount(185)\r\n            W/ResourceType: For resource 0x7f110238, entry index(568) is beyond type entryCount(490)\r\n            W/ResourceType: For resource 0x7f0800bb, entry index(187) is beyond type entryCount(185)","title":"(Updated : Debug results ) I can detect Bluetooth devices on my android application ( Android Studio ) on older android phones but in new ones I can&#39;t","body":"<p>I have the same version of code and I give the application all autorisations and permissions..\nThe app worked perfectly on Android 6.0.1 and Android 8\nI have gave to app all needed permissions, But I can't detect Bluetooth devices on Android 10, the same problem on android 11..\ngiven permissions :\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe Code of Scan Activity :</p>\n<pre><code> import android.Manifest;\n    import android.app.AlertDialog;\n    import android.app.ListActivity;\n    import android.bluetooth.BluetoothAdapter;\n    import android.bluetooth.BluetoothDevice;\n    import android.bluetooth.BluetoothGatt;\n    import android.bluetooth.BluetoothManager;\n    import android.bluetooth.le.BluetoothLeScanner;\n    import android.bluetooth.le.ScanCallback;\n    import android.bluetooth.le.ScanFilter;\n    import android.bluetooth.le.ScanResult;\n    import android.bluetooth.le.ScanSettings;\n    import android.content.BroadcastReceiver;\n    import android.content.Context;\n    import android.content.DialogInterface;\n    import android.content.Intent;\n    import android.content.IntentFilter;\n    import android.content.pm.PackageManager;\n    import android.location.LocationManager;\n    import android.os.Build;\n    import android.os.Bundle;\n    import android.os.Handler;\n    import android.os.ParcelUuid;\n    import android.util.Log;\n    import android.view.LayoutInflater;\n    import android.view.Menu;\n    import android.view.MenuItem;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import android.widget.BaseAdapter;\n    import android.widget.ImageView;\n    import android.widget.ListView;\n    import android.widget.ProgressBar;\n    import android.widget.TextView;\n    import android.widget.Toast;\n    import androidx.core.app.ActivityCompat;\n    import com.atmel.blecommunicator.com.atmel.otau.utils.OTAUUtils;\n    import com.atmel.wearable.commonutils.GattAttributes;\n    import com.microchip.bluetooth.data.blesensorapp.util.Constants;\n    import java.util.ArrayList;\n    import java.util.List;\n    public class DeviceScanActivity extends ListActivity {\n        private static final int PERMISSION_REQUEST_COARSE_LOCATION = 1;\n        private static final int REQUEST_ENABLE_BT = 1;\n        private static final int REQUEST_ENABLE_LOCATION = 1;\n        private static final long SCAN_PERIOD = 15000;\n        private List&lt;ScanFilter&gt; filters;\n        private BluetoothLeScanner mBLEScanner;\n        private BluetoothAdapter mBluetoothAdapter;\n        private BluetoothGatt mGatt;\n        private Handler mHandler;\n        private LeDeviceListAdapter mLeDeviceListAdapter;\n        private BluetoothAdapter.LeScanCallback mLeScanCallback;\n        private List&lt;Integer&gt; mRSSIs;\n        private ScanCallback mScanCallback;\n        private List&lt;ScanResult&gt; mScanResults;\n        private List&lt;byte[]&gt; mScanResultsDep;\n        private boolean mScanning;\n        private ScanSettings settings;\n        ProgressBar someProgressBar;\n        private final BroadcastReceiver bluetoothReceiver = new BroadcastReceiver() {\n            public void onReceive(Context context, Intent intent) {\n                if (intent.getAction().equals(&quot;android.bluetooth.adapter.action.STATE_CHANGED&quot;) &amp;&amp; intent.getIntExtra(&quot;android.bluetooth.adapter.extra.STATE&quot;, Integer.MIN_VALUE) == 10) {\n                    DeviceScanActivity.this.mBluetoothStatus = true;\n                    new AlertDialog.Builder(context).setTitle(R.string.app_name).setMessage(R.string.error_bluetooth_off).setIcon(R.mipmap.ic_launcher).setCancelable(false).setPositiveButton(17039379, new DialogInterface.OnClickListener() {    \n                        public void onClick(DialogInterface dialogInterface, int i) {         DeviceScanActivity.this.startActivityForResult(new Intent(&quot;android.bluetooth.adapter.action.REQUEST_ENABLE&quot;), 1);\n                        }\n                    }).setNegativeButton(17039369, new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            Toast.makeText(DeviceScanActivity.this, R.string.error_bluetooth_off, 0).show();\n                            DeviceScanActivity.this.finish();\n                        }\n                    }).show();\n                }\n            }\n        };\n        private boolean mBluetoothStatus = false;\n    @Override // android.app.Activity\n    public void onCreate(Bundle bundle) {\n        super.onCreate(bundle);\n        requestWindowFeature(5);\n        Log.d(&quot;MBD&quot;, &quot;MBD onCreate DeviceScantActivity &quot;);\n        if (Build.VERSION.SDK_INT &gt;= 23) {\n            requestPermissions(new String[]{&quot;android.permission.ACCESS_COARSE_LOCATION&quot;}, 1);\n        }\n        this.mHandler = new Handler();\n        BluetoothAdapter adapter = ((BluetoothManager) getSystemService(&quot;bluetooth&quot;)).getAdapter();\n        this.mBluetoothAdapter = adapter;\n        if (adapter == null) {\n            Toast.makeText(this, (int) R.string.error_bluetooth_not_supported, 0).show();\n            finish();\n            return;\n        }\n        View inflate = getLayoutInflater().inflate(R.layout.list_header, (ViewGroup) getListView(), false);\n        ((TextView) inflate.findViewById(R.id.listHeader)).setText(R.string.scan_header);\n        getListView().addHeaderView(inflate, null, false);\n        View inflate2 = getLayoutInflater().inflate(R.layout.list_subheader, (ViewGroup) getListView(), false);\n        getListView().addFooterView(inflate2, null, false);\n        this.someProgressBar = (ProgressBar) findViewById(R.id.progressBar);\n    }\n    @Override // android.app.Activity\n    public void onRequestPermissionsResult(int i, String[] strArr, int[] iArr) {\n        if (i == 1 &amp;&amp; iArr[0] == 0) {\n            LocationManager locationManager = (LocationManager) getSystemService(&quot;location&quot;);\n            if (!locationManager.isProviderEnabled(&quot;gps&quot;) || !locationManager.isProviderEnabled(&quot;network&quot;)) {\n                startActivity(new Intent(&quot;android.settings.LOCATION_SOURCE_SETTINGS&quot;));\n            }\n        }\n    }\n    @Override // android.app.Activity\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main, menu);\n        if (!this.mScanning) {\n            menu.findItem(R.id.menu_stop).setVisible(false);\n            menu.findItem(R.id.menu_scan).setVisible(true);\n        } else {\n            menu.findItem(R.id.menu_stop).setVisible(true);\n            menu.findItem(R.id.menu_scan).setVisible(false);\n        }\n        return true;\n    }\n    @Override // android.app.Activity\n    public boolean onOptionsItemSelected(MenuItem menuItem) {\n        int itemId = menuItem.getItemId();\n        if (itemId == R.id.menu_scan) {\n            this.mLeDeviceListAdapter.clear();\n            setListAdapter(this.mLeDeviceListAdapter);\n            this.mRSSIs.clear();\n            scanLeDevice(true);\n        } else if (itemId == R.id.menu_stop) {\n            scanLeDevice(false);\n        }\n        return true;\n    }\n    @Override // android.app.Activity\n    public void onResume() {\n        super.onResume();\n        View decorView = getWindow().getDecorView();\n        decorView.setSystemUiVisibility(4);\n        this.mLeDeviceListAdapter = new LeDeviceListAdapter();\n        this.mRSSIs = new ArrayList();\n        if (Build.VERSION.SDK_INT &lt; 21) {\n            this.mScanResultsDep = new ArrayList();\n        } else {\n            this.mScanResults = new ArrayList();\n        }\n        setListAdapter(this.mLeDeviceListAdapter);\n        getListView().setCacheColorHint(0);\n        getListView().setBackgroundResource(R.drawable.anotherbackground);\n    }\n\n    @Override // android.app.Activity\n    public void onActivityResult(int i, int i2, Intent intent) {\n        if (i == 1 &amp;&amp; i2 == 0) {\n            Toast.makeText(this, (int) R.string.error_bluetooth_off, 0).show();\n            finish();\n            return;\n        }\n        super.onActivityResult(i, i2, intent);\n    }\n    @Override // android.app.Activity\n    public void onStart() {\n        super.onStart();\n        setLECallbacks();\n        registerReceiver(this.bluetoothReceiver, new IntentFilter(&quot;android.bluetooth.adapter.action.STATE_CHANGED&quot;));\n        BluetoothAdapter bluetoothAdapter = this.mBluetoothAdapter;\n        if (bluetoothAdapter != null &amp;&amp; bluetoothAdapter.isEnabled()) {\n            if (Build.VERSION.SDK_INT &gt;= 21) {\n                this.mBLEScanner = this.mBluetoothAdapter.getBluetoothLeScanner();\n                this.settings = new ScanSettings.Builder().setScanMode(2).setCallbackType(1).build();\n                ParcelUuid.fromString(GattAttributes.ENVIRONMENT_SERVICE);\n                ScanFilter build = new ScanFilter.Builder().setManufacturerData(205, new byte[]{-2, OTAUUtils.AT_OTAU_IMAGE_END_NOTIFY_RESP, -83, 17, -49, Constants.BLE_SENSOR_RGB_LED_STATUS_UPDATE, 6, 63, 17, -27, -66, 62, 0, 2, com.microchip.zigbeeprovisioning.util.Constants.BLE_ZIGBEE_GET_CHANNEL_MAP_RESPONSE, -43, -59}).build();\n                ArrayList arrayList = new ArrayList();\n                this.filters = arrayList;\n                arrayList.add(build);\n            }\n            scanLeDevice(true);\n        } else if (!this.mBluetoothAdapter.isEnabled() &amp;&amp; !this.mBluetoothStatus) {\n            startActivityForResult(new Intent(&quot;android.bluetooth.adapter.action.REQUEST_ENABLE&quot;), 1);\n        }\n    }\n\n    @Override // android.app.Activity\n    public void onPause() {\n        super.onPause();\n    }\n\n    @Override // android.app.Activity\n    public void onStop() {\n        super.onStop();\n        if (this.mBluetoothAdapter.isEnabled()) {\n            resetLECallbacks();\n            scanLeDevice(false);\n            this.mLeDeviceListAdapter.clear();\n            this.mRSSIs.clear();\n            unregisterReceiver(this.bluetoothReceiver);\n        }\n    }\n\n    @Override // android.app.ListActivity, android.app.Activity\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    @Override // android.app.ListActivity\n    public void onListItemClick(ListView listView, View view, int i, long j) {\n        int i2 = i - 1;\n        BluetoothDevice device = this.mLeDeviceListAdapter.getDevice(i2);\n        if (device != null) {\n            Intent intent = new Intent(this, DeviceControlActivity.class);\n            intent.putExtra(&quot;DEVICE_NAME&quot;, device.getName());\n            intent.putExtra(&quot;DEVICE_ADDRESS&quot;, device.getAddress());\n            if (Build.VERSION.SDK_INT &lt; 21) {\n                intent.putExtra(&quot;SCAN_RESULT&quot;, this.mScanResultsDep.get(i2));\n            } else {\n                intent.putExtra(&quot;SCAN_RESULT&quot;, this.mScanResults.get(i2));\n            }\n            if (this.mScanning) {\n                if (Build.VERSION.SDK_INT &lt; 21) {\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n                        // TODO: Consider calling\n                        //    ActivityCompat#requestPermissions\n                        // here to request the missing permissions, and then overriding\n                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                        //                                          int[] grantResults)\n                        // to handle the case where the user grants the permission. See the documentation\n                        // for ActivityCompat#requestPermissions for more details.\n                        return;\n                    }\n                    this.mBluetoothAdapter.stopLeScan(this.mLeScanCallback);\n                } else {\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n                        // TODO: Consider calling\n                        //    ActivityCompat#requestPermissions\n                        // here to request the missing permissions, and then overriding\n                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                        //                                          int[] grantResults)\n                        // to handle the case where the user grants the permission. See the documentation\n                        // for ActivityCompat#requestPermissions for more details.\n                        return;\n                    }\n                    this.mBLEScanner.stopScan(this.mScanCallback);\n                }\n                this.mScanning = false;\n            }\n            startActivity(intent);\n        }\n    }\n\n    private void scanLeDevice(boolean z) {\n        if (z) {\n            this.mHandler.postDelayed(new Runnable() { // from class: com.microchip.blesensorapp.DeviceScanActivity.2\n                @Override // java.lang.Runnable\n                public void run() {\n                    if (DeviceScanActivity.this.mLeDeviceListAdapter.isEmpty() &amp;&amp; DeviceScanActivity.this.mScanning) {\n                        DeviceScanActivity.this.someProgressBar.setVisibility(8);\n                        Toast.makeText(DeviceScanActivity.this, R.string.ble_scan_empty, 0).show();\n                    }\n                    DeviceScanActivity.this.mScanning = false;\n                    if (DeviceScanActivity.this.mBluetoothAdapter.isEnabled()) {\n                        if (Build.VERSION.SDK_INT &lt; 21) {\n                            if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n                                // TODO: Consider calling\n                                //    ActivityCompat#requestPermissions\n                                // here to request the missing permissions, and then overriding\n                                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                                //                                          int[] grantResults)\n                                // to handle the case where the user grants the permission. See the documentation\n                                // for ActivityCompat#requestPermissions for more details.\n                                return;\n                            }\n                            DeviceScanActivity.this.mBluetoothAdapter.stopLeScan(DeviceScanActivity.this.mLeScanCallback);\n                        } else {\n                            DeviceScanActivity.this.mBLEScanner.stopScan(DeviceScanActivity.this.mScanCallback);\n                        }\n                        DeviceScanActivity.this.invalidateOptionsMenu();\n                    }\n                }\n            }, SCAN_PERIOD);\n            this.mScanning = true;\n            if (Build.VERSION.SDK_INT &lt; 21) {\n                this.mBluetoothAdapter.startLeScan(this.mLeScanCallback);\n            } else {\n                this.mBLEScanner.startScan(this.filters, this.settings, this.mScanCallback);\n            }\n        } else {\n            this.mScanning = false;\n            if (this.mBluetoothAdapter.isEnabled()) {\n                if (Build.VERSION.SDK_INT &lt; 21) {\n                    this.mBluetoothAdapter.stopLeScan(this.mLeScanCallback);\n                } else {\n                    this.mBLEScanner.stopScan(this.mScanCallback);\n                }\n            }\n        }\n        invalidateOptionsMenu();\n    }\n\n    public void OnClickbutton(View view) {\n        this.mLeDeviceListAdapter.clear();\n        setListAdapter(this.mLeDeviceListAdapter);\n        this.mRSSIs.clear();\n        scanLeDevice(true);\n    }\n\n    public void OnClickbuttonstop(View view) {\n        scanLeDevice(false);\n        this.someProgressBar.setVisibility(8);\n    }\n\n\n    public class LeDeviceListAdapter extends BaseAdapter {\n        private LayoutInflater mInflator;\n        private ArrayList&lt;BluetoothDevice&gt; mLeDevices = new ArrayList&lt;&gt;();\n        public long getItemId(int i) {\n            return (long) i;\n        }\n        public LeDeviceListAdapter() {\n            this.mInflator = DeviceScanActivity.this.getLayoutInflater();\n        }\n        public void addDevice(BluetoothDevice bluetoothDevice, int i, ScanResult scanResult) {\n            if (!this.mLeDevices.contains(bluetoothDevice)) {\n                this.mLeDevices.add(bluetoothDevice);\n                DeviceScanActivity.this.mRSSIs.add(Integer.valueOf(i));\n                DeviceScanActivity.this.mScanResults.add(scanResult);\n                return;\n            }  DeviceScanActivity.this.mRSSIs.remove(this.mLeDevices.indexOf(bluetoothDevice));\n            DeviceScanActivity.this.mRSSIs.add(this.mLeDevices.indexOf(bluetoothDevice), Integer.valueOf(i));\n            DeviceScanActivity.this.mScanResults.remove(this.mLeDevices.indexOf(bluetoothDevice));\n            DeviceScanActivity.this.mScanResults.add(this.mLeDevices.indexOf(bluetoothDevice), scanResult);\n        }\n            public void addDeviceDep(BluetoothDevice bluetoothDevice, int i, byte[] bArr) {\n            if (!this.mLeDevices.contains(bluetoothDevice)) {\n                this.mLeDevices.add(bluetoothDevice);\n                DeviceScanActivity.this.mRSSIs.add(Integer.valueOf(i));\n                DeviceScanActivity.this.mScanResultsDep.add(bArr);\n                return;\n            }\nDeviceScanActivity.this.mRSSIs.remove(this.mLeDevices.indexOf(bluetoothDevice));\n                DeviceScanActivity.this.mRSSIs.add(this.mLeDevices.indexOf(bluetoothDevice), Integer.valueOf(i));\n                DeviceScanActivity.this.mScanResultsDep.remove(this.mLeDevices.indexOf(bluetoothDevice));\n                DeviceScanActivity.this.mScanResultsDep.add(this.mLeDevices.indexOf(bluetoothDevice), bArr);\n            }\n            public BluetoothDevice getDevice(int i) {\n                return this.mLeDevices.get(i);\n            }\n            public void clear() {\n                this.mLeDevices.clear();\n            }\n\n        @Override // android.widget.Adapter\n        public int getCount() {\n            return this.mLeDevices.size();\n        }\n\n        @Override // android.widget.Adapter\n        public Object getItem(int i) {\n            return this.mLeDevices.get(i);\n        }\n\n        @Override // android.widget.Adapter\n        public View getView(int i, View view, ViewGroup viewGroup) {\n            ViewHolder viewHolder;\n            if (view == null) {\n                view = this.mInflator.inflate(R.layout.activity_device_scan, (ViewGroup) null);\n                viewHolder = new ViewHolder();\n                viewHolder.deviceAddress = (TextView) view.findViewById(R.id.device_address);\n                viewHolder.deviceName = (TextView) view.findViewById(R.id.device_name);\n                viewHolder.deviceRSSI = (TextView) view.findViewById(R.id.device_rssi);\n                view.setTag(viewHolder);\n            } else {\n                viewHolder = (ViewHolder) view.getTag();\n            }\n            BluetoothDevice bluetoothDevice = this.mLeDevices.get(i);\n            if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                System.out.println(&quot;good&quot;);\n            }\n            String name = bluetoothDevice.getName();\n            if (name == null || name.length() &lt;= 0) {\n                viewHolder.deviceName.setText(R.string.unknown_device);\n            } else {\n                viewHolder.deviceName.setText(name);\n            }\n            viewHolder.deviceAddress.setText(bluetoothDevice.getAddress());\n            viewHolder.deviceRSSI.setText(&quot;RSSI: &quot; + DeviceScanActivity.this.mRSSIs.get(i) + &quot;dB&quot;);\n            int intValue = ((Integer) DeviceScanActivity.this.mRSSIs.get(i)).intValue();\n            if (intValue &lt; -27 &amp;&amp; intValue &gt; -110) {\n                if (intValue &lt;= -27 &amp;&amp; intValue &gt; -60) {\n                    ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strength100);\n                }\n                if (intValue &lt;= -60 &amp;&amp; intValue &gt; -70) {\n                    ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strength75);\n                }\n                if (intValue &lt;= -70 &amp;&amp; intValue &gt; -80) {\n                    ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strength50);\n                }\n                if (intValue &lt;= -80 &amp;&amp; intValue &gt; -90) {\n                    ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strength25);\n                }\n                if (intValue &lt;= -90 &amp;&amp; intValue &gt; -110) {\n                    ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strength0);\n                }\n            } else {\n                ((ImageView) view.findViewById(R.id.image_rssi)).setImageResource(R.drawable.rssi_strengthnil);\n            }\n            return view;\n        }\n    }\n\n    private void setLECallbacks() {\n        if (Build.VERSION.SDK_INT &lt; 21) {\n            this.mLeScanCallback = new BluetoothAdapter.LeScanCallback() {\n                /* class com.microchip.blesensorapp.DeviceScanActivity.AnonymousClass4 */\n\n                public void onLeScan(final BluetoothDevice bluetoothDevice, final int i, final byte[] bArr) {\n                    DeviceScanActivity.this.runOnUiThread(new Runnable() {\n                        /* class com.microchip.blesensorapp.DeviceScanActivity.AnonymousClass4.AnonymousClass1 */\n\n                        public void run() {\n                            DeviceScanActivity.this.mLeDeviceListAdapter.addDeviceDep(bluetoothDevice, i, bArr);          DeviceScanActivity.this.mLeDeviceListAdapter.notifyDataSetChanged();\n                        }\n                    });\n                }\n            };\n        } else {\n            this.mScanCallback = new ScanCallback() {\n                /* class com.microchip.blesensorapp.DeviceScanActivity.AnonymousClass5 */\n\n                @Override // android.bluetooth.le.ScanCallback\n                public void onBatchScanResults(List&lt;ScanResult&gt; list) {\n                }\n\n                public void onScanFailed(int i) {\n                }\n\n                public void onScanResult(int i, final ScanResult scanResult) {\n                    DeviceScanActivity.this.runOnUiThread(new Runnable() {\n                        /* class com.microchip.blesensorapp.DeviceScanActivity.AnonymousClass5.AnonymousClass1 */\n\n                        public void run() {\n                            DeviceScanActivity.this.mLeDeviceListAdapter.addDevice(scanResult.getDevice(), scanResult.getRssi(), scanResult);\n                            DeviceScanActivity.this.mLeDeviceListAdapter.notifyDataSetChanged();\n                        }\n                    });\n                }\n            };\n        }\n    }\n\n    public void resetLECallbacks() {\n        this.mLeScanCallback = null;\n    }\n    static class ViewHolder {\n        TextView deviceAddress;\n        TextView deviceName;\n        TextView deviceRSSI;\n\n        ViewHolder() {\n        }\n    }\n}\n</code></pre>\n<p>The build.gradle (targetSdk 32 and minSdk 23) contain this code and it works perfectly on android 8 and 6.0.1 :</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.microchip.blesensorapp&quot;\n        minSdk 26\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.2'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>When I tryed to view the debugger to show the difference between the worked phone and the other i found :</p>\n<p>The not worked one :</p>\n<pre><code>        I/BluetoothAdapter: STATE_ON\n        D/BluetoothLeScanner: Start Scan with callback\n        D/BluetoothLeScanner: onScannerRegistered() - status=0 scannerId=9 mScannerId=0\n        D/Toast: show: caller = com.microchip.blesensorapp.DeviceScanActivity$2.run:282 \n        I/Toast: show: focusDisplayId = 0, isFocusInDesktop = false mCustomDisplayId=-1 isDexDualMode=false\n        I/Toast: show: isActivityContext = true\n        I/BluetoothAdapter: STATE_ON\n        D/BluetoothLeScanner: Stop Scan with callback\n</code></pre>\n<p>The worked one :</p>\n<pre><code>        D/BluetoothAdapter: STATE_ON\n        D/BluetoothLeScanner: onClientRegistered() - status=0 clientIf=8\n        W/ResourceType: For resource 0x7f0800bf, entry index(191) is beyond type entryCount(185)\n        W/ResourceType: For resource 0x7f110238, entry index(568) is beyond type entryCount(490)\n        W/ResourceType: For resource 0x7f0800bb, entry index(187) is beyond type entryCount(185)\n</code></pre>\n"},{"tags":["java","maven","rest-assured","mulesoft","anypoint-studio"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1662028141,"post_id":73565897,"comment_id":129913663,"body_markdown":"The correct name of the product is Anypoint Studio.","body":"The correct name of the product is Anypoint Studio."},{"owner":{"account_id":402818,"reputation":2198,"user_id":770205,"accept_rate":20,"display_name":"jjd"},"score":0,"creation_date":1662055612,"post_id":73565897,"comment_id":129924032,"body_markdown":"Hi Manu, welcome to Stack overflow. If you provide specific errors you have with enough information to analyze them, I believe, you chances to get help will be much higher","body":"Hi Manu, welcome to Stack overflow. If you provide specific errors you have with enough information to analyze them, I believe, you chances to get help will be much higher"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662026693,"creation_date":1662026693,"answer_id":73567582,"question_id":73565897,"body_markdown":"Anypoint Studio only supports Mule projects.\r\n\r\nSince it is based on Eclipse You might be able to install the Eclipse plugin for Java to add support for Java projects.","title":"How to run and configure java maven project in MuleSoft Anypoint Studio?","body":"<p>Anypoint Studio only supports Mule projects.</p>\n<p>Since it is based on Eclipse You might be able to install the Eclipse plugin for Java to add support for Java projects.</p>\n"}],"owner":{"account_id":25844655,"reputation":1,"user_id":19579697,"display_name":"Monu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662026908,"creation_date":1662018640,"question_id":73565897,"body_markdown":"I have created a java maven project in eclipse to get response from web services using rest api, but not able to get the response in Anypoint Studio using the same code I am getting error like importing of rest assured and many more. Could anyone help how to run same maven project that i have created in eclipse in MuleSoft Anypoint Studio to get the response. Please let me know if any further information required. ","title":"How to run and configure java maven project in MuleSoft Anypoint Studio?","body":"<p>I have created a java maven project in eclipse to get response from web services using rest api, but not able to get the response in Anypoint Studio using the same code I am getting error like importing of rest assured and many more. Could anyone help how to run same maven project that i have created in eclipse in MuleSoft Anypoint Studio to get the response. Please let me know if any further information required.</p>\n"},{"tags":["java","mongodb","bigdecimal"],"comments":[{"owner":{"account_id":11436232,"reputation":1296,"user_id":8383549,"display_name":"Vijay Rajpurohit"},"score":0,"creation_date":1567508617,"post_id":57333581,"comment_id":101975779,"body_markdown":"if my answer solved your problem please mark it as accepted so that dev can figure that out and don&#39;t waste their time on solved problems.","body":"if my answer solved your problem please mark it as accepted so that dev can figure that out and don&#39;t waste their time on solved problems."}],"answers":[{"tags":[],"owner":{"account_id":11436232,"reputation":1296,"user_id":8383549,"display_name":"Vijay Rajpurohit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564987594,"creation_date":1564987469,"answer_id":57353410,"question_id":57333581,"body_markdown":"After fetching data from database in the document,\r\nYou can convert numberDecimal field into the BigDecimal by...\r\n\r\n    BigDecimal cost = new BigDecimal(document.get(&quot;costType&quot;,Document.class).getString(&quot;$numberDecimal&quot;));\r\n    \r\n    System.out.print(cost);\r\n    System.out.println(cost.getClass());\r\n\r\nO/p: \r\n4.60 class java.math.BigDecimal","title":"Convert mongo decimal number to java BigDecimal","body":"<p>After fetching data from database in the document,\nYou can convert numberDecimal field into the BigDecimal by...</p>\n\n<pre><code>BigDecimal cost = new BigDecimal(document.get(\"costType\",Document.class).getString(\"$numberDecimal\"));\n\nSystem.out.print(cost);\nSystem.out.println(cost.getClass());\n</code></pre>\n\n<p>O/p: \n4.60 class java.math.BigDecimal</p>\n"},{"tags":[],"owner":{"account_id":3282070,"reputation":3827,"user_id":2762432,"accept_rate":69,"display_name":"steven35"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662026880,"creation_date":1662026880,"answer_id":73567614,"question_id":57333581,"body_markdown":"Old question but this might help someone. You can just use `org.bson.json.JsonWriterSetting` like so:\r\n\r\n```\r\nJsonWriterSettings settings = JsonWriterSettings.builder()\r\n    .decimal128Converter(new Converter&lt;Decimal128&gt;() {\r\n        @Override\r\n        void convert(Decimal128 value, StrictJsonWriter writer) {\r\n            writer.writeNumber(value.toBigDecimal().toPlainString())\r\n        }\r\n    })\r\n    .build();\r\n\r\nyourDocument.toJson(settings); // org.bson.Document\r\n```","title":"Convert mongo decimal number to java BigDecimal","body":"<p>Old question but this might help someone. You can just use <code>org.bson.json.JsonWriterSetting</code> like so:</p>\n<pre><code>JsonWriterSettings settings = JsonWriterSettings.builder()\n    .decimal128Converter(new Converter&lt;Decimal128&gt;() {\n        @Override\n        void convert(Decimal128 value, StrictJsonWriter writer) {\n            writer.writeNumber(value.toBigDecimal().toPlainString())\n        }\n    })\n    .build();\n\nyourDocument.toJson(settings); // org.bson.Document\n</code></pre>\n"}],"owner":{"account_id":16128414,"reputation":11,"user_id":11642659,"display_name":"FRANCESCA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1770,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662026880,"creation_date":1564780914,"question_id":57333581,"body_markdown":"I&#39;m performing a Mongo query. My results contain decimalnumber data.\r\nHow can I set my cost data in a java DecimalNumber attribute?\r\n\r\n```\r\n{ \r\n  &quot;macroType&quot; : &quot;LIBRI&quot;, \r\n  &quot;costType&quot; : { \r\n     &quot;$numberDecimal&quot; : &quot;4.60&quot; \r\n  }, \r\n  &quot;count&quot; : 3 \r\n}\r\n```\r\n\r\nIt&#39;s a document that I add in a List&lt;Document&gt;.\r\nIn the code below ai is my list.\r\n\r\nI want to set `costType` in the BigDecimal attribute\r\n\r\n---\t\t\t\r\nNow I don&#39;t know how can do it.\r\nThanks in advance.\r\n\r\n```  \r\nfor (int i = 0; i &lt; ai.size(); i++) {\r\n  String json = new GsonBuilder().create().toJson(ai.get(i));\r\n  JsonElement je = new com.google.gson.JsonParser().parse(json);\r\n  JsonObject root = je.getAsJsonObject();\r\n  JsonElement je2 = root.get(&quot;costType&quot;);\r\n}  \r\n```","title":"Convert mongo decimal number to java BigDecimal","body":"<p>I'm performing a Mongo query. My results contain decimalnumber data.\nHow can I set my cost data in a java DecimalNumber attribute?</p>\n\n<pre><code>{ \n  \"macroType\" : \"LIBRI\", \n  \"costType\" : { \n     \"$numberDecimal\" : \"4.60\" \n  }, \n  \"count\" : 3 \n}\n</code></pre>\n\n<p>It's a document that I add in a List.\nIn the code below ai is my list.</p>\n\n<p>I want to set <code>costType</code> in the BigDecimal attribute</p>\n\n<hr>\n\n<p>Now I don't know how can do it.\nThanks in advance.</p>\n\n<pre><code>for (int i = 0; i &lt; ai.size(); i++) {\n  String json = new GsonBuilder().create().toJson(ai.get(i));\n  JsonElement je = new com.google.gson.JsonParser().parse(json);\n  JsonObject root = je.getAsJsonObject();\n  JsonElement je2 = root.get(\"costType\");\n}  \n</code></pre>\n"},{"tags":["java","compilation","runtime"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1662026843,"post_id":73567595,"comment_id":129913261,"body_markdown":"sure, why not, as long as you&#39;re not trying to do it the other way around&#181;","body":"sure, why not, as long as you&#39;re not trying to do it the other way around&#181;"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1662026931,"post_id":73567595,"comment_id":129913289,"body_markdown":"Is it a good idea to compile with JDK-8 and let it run with JRE-11? - Yes. Is it a good idea to use constructors that use default values? - Not always as those defaults can change. Is it a good idea to use `SimpleDateFormat` and thus the olfd date api? - Not since Java 8 introduced the new api and even before that there was Joda time.","body":"Is it a good idea to compile with JDK-8 and let it run with JRE-11? - Yes. Is it a good idea to use constructors that use default values? - Not always as those defaults can change. Is it a good idea to use <code>SimpleDateFormat</code> and thus the olfd date api? - Not since Java 8 introduced the new api and even before that there was Joda time."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1662027302,"post_id":73567595,"comment_id":129913389,"body_markdown":"Note that your fix is still making a hardcoded assumption on date formats for your specific locale, so you should be passing in the expected format string too unless you are definitely writing dates with same `DateFormat.getDateInstance()` formatter. For example, `DateFormat.getDateInstance().parse(&quot;01.01.2000 00:00:00&quot;)` reports  `Unparseable date: &quot;01.01.2000 00:00:00&quot;` for my PC.","body":"Note that your fix is still making a hardcoded assumption on date formats for your specific locale, so you should be passing in the expected format string too unless you are definitely writing dates with same <code>DateFormat.getDateInstance()</code> formatter. For example, <code>DateFormat.getDateInstance().parse(&quot;01.01.2000 00:00:00&quot;)</code> reports  <code>Unparseable date: &quot;01.01.2000 00:00:00&quot;</code> for my PC."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":1,"creation_date":1662027306,"post_id":73567595,"comment_id":129913391,"body_markdown":"@Thomas, since I Agree on most things you said, Java 8 and 11 have a lot of difference. I would avoid. And for the question: The locale or date format could be different.","body":"@Thomas, since I Agree on most things you said, Java 8 and 11 have a lot of difference. I would avoid. And for the question: The locale or date format could be different."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1662042011,"post_id":73567595,"comment_id":129918913,"body_markdown":"From [the documentation of the SimpleDateFormat constructor](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/text/SimpleDateFormat.html#%3Cinit%3E()): “**Note:** This constructor may not support all locales. For full coverage, use the factory methods in the DateFormat class.”  (The [Java 8 documentation](https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html#SimpleDateFormat--) is the same.)","body":"From <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/text/SimpleDateFormat.html#%3Cinit%3E()\" rel=\"nofollow noreferrer\">the documentation of the SimpleDateFormat constructor</a>: “<b>Note:</b> This constructor may not support all locales. For full coverage, use the factory methods in the DateFormat class.”  (The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html#SimpleDateFormat--\" rel=\"nofollow noreferrer\">Java 8 documentation</a> is the same.)"}],"owner":{"account_id":26216576,"reputation":1,"user_id":19894636,"display_name":"di.at.stackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662026766,"creation_date":1662026766,"question_id":73567595,"body_markdown":"The following code is successfully compiled with JDK-8 and runs successfully with JRE-8.\r\n```\r\nnew SimpleDateFormat().parse(&quot;01.01.2000 00:00:00&quot;)\r\n```\r\n\r\nBut with JRE-11 it throws:\r\n```\r\njava.text.ParseException: Unparseable date\r\n```\r\n\r\nThis is the fix. It successfully compiled with JDK-8 and runs successfully with JRE-11:\r\n```\r\nDateFormat.getDateInstance().parse(&quot;01.01.2000 00:00:00&quot;)\r\n```\r\n\r\nIs it a good idea to compile with JDK-8 and let it run with JRE-11?","title":"Compile with JDK-8 and run with JRE-11","body":"<p>The following code is successfully compiled with JDK-8 and runs successfully with JRE-8.</p>\n<pre><code>new SimpleDateFormat().parse(&quot;01.01.2000 00:00:00&quot;)\n</code></pre>\n<p>But with JRE-11 it throws:</p>\n<pre><code>java.text.ParseException: Unparseable date\n</code></pre>\n<p>This is the fix. It successfully compiled with JDK-8 and runs successfully with JRE-11:</p>\n<pre><code>DateFormat.getDateInstance().parse(&quot;01.01.2000 00:00:00&quot;)\n</code></pre>\n<p>Is it a good idea to compile with JDK-8 and let it run with JRE-11?</p>\n"},{"tags":["java","google-cloud-platform","google-workflows"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661200890,"post_id":73449798,"comment_id":129711332,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":16696120,"reputation":466,"user_id":12067297,"display_name":"mesmacosta"},"score":0,"creation_date":1684366797,"post_id":73449798,"comment_id":134509891,"body_markdown":"did you try following the documentation [creating-callback-endpoints](https://cloud.google.com/workflows/docs/creating-callback-endpoints#yaml) ? Following that sample you have the callback URL in the callback_details attribute, so you can send that to your Java App.","body":"did you try following the documentation <a href=\"https://cloud.google.com/workflows/docs/creating-callback-endpoints#yaml\" rel=\"nofollow noreferrer\">creating-callback-endpoints</a> ? Following that sample you have the callback URL in the callback_details attribute, so you can send that to your Java App."}],"answers":[{"tags":[],"owner":{"account_id":5933629,"reputation":1,"user_id":4667382,"display_name":"Gayan Priyanatha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662026621,"creation_date":1662026621,"answer_id":73567567,"question_id":73449798,"body_markdown":"There a many ways to get callback url\r\n1. post on pub-sub and subscribe to topic or trigger eventarc event from pub-sub\r\n2. post on firebased \r\n3. use another rest endpoint to capture callback usrl as a rest input\r\n","title":"Retrieve GCP Workflow callback URL","body":"<p>There a many ways to get callback url</p>\n<ol>\n<li>post on pub-sub and subscribe to topic or trigger eventarc event from pub-sub</li>\n<li>post on firebased</li>\n<li>use another rest endpoint to capture callback usrl as a rest input</li>\n</ol>\n"}],"owner":{"account_id":15257607,"reputation":21,"user_id":11008814,"display_name":"Shivendra Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662026621,"creation_date":1661194302,"question_id":73449798,"body_markdown":"I am trying to trigger a GCP workflow using a scheduler. Workflow Steps can be defined as follows :\r\n1. Make an HTTP API call to another app(Java based running app)\r\n2. Wait for the callback before moving ahead\r\n3. Once callback is received continue with other steps.\r\n\r\nProblem : I am unable to retrieve the callback URL for the workflow being executed and therefore my workflow is getting stuck.\r\n\r\nI am using Java using which i intend to make the callback call to GCP Workflow engine.\r\n\r\n\r\n ","title":"Retrieve GCP Workflow callback URL","body":"<p>I am trying to trigger a GCP workflow using a scheduler. Workflow Steps can be defined as follows :</p>\n<ol>\n<li>Make an HTTP API call to another app(Java based running app)</li>\n<li>Wait for the callback before moving ahead</li>\n<li>Once callback is received continue with other steps.</li>\n</ol>\n<p>Problem : I am unable to retrieve the callback URL for the workflow being executed and therefore my workflow is getting stuck.</p>\n<p>I am using Java using which i intend to make the callback call to GCP Workflow engine.</p>\n"},{"tags":["java","spring","asynchronous","async-await","threadpool"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1662023630,"post_id":73566782,"comment_id":129911995,"body_markdown":"Then it isn&#39;t async...","body":"Then it isn&#39;t async..."},{"owner":{"account_id":15632004,"reputation":19,"user_id":11278059,"display_name":"Keya Bhavsar"},"score":0,"creation_date":1662024386,"post_id":73566782,"comment_id":129912303,"body_markdown":"Yes, the async function will be in a different thread from main, but if this function is called again in the same session, I want it to execute in the same thread as the first call. Is it possible?","body":"Yes, the async function will be in a different thread from main, but if this function is called again in the same session, I want it to execute in the same thread as the first call. Is it possible?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1662025102,"post_id":73566782,"comment_id":129912569,"body_markdown":"That is not what you described and no that is not possible afaik. Why would it need to run in the same thread in the first place?","body":"That is not what you described and no that is not possible afaik. Why would it need to run in the same thread in the first place?"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662026429,"creation_date":1662026429,"answer_id":73567509,"question_id":73566782,"body_markdown":"You can use a single threaded executor (service):\r\n\r\n```\r\nExecutorService executor = Executors.newSingleThreadExecutor();\r\ntry {\r\n    // call submit / execute for the first task\r\n    // call submit / execute for the second task\r\n} finally {\r\n    executor.shutdown();\r\n}\r\n```\r\n\r\nAn alternative is to use `CompletableFuture`:\r\n```\r\nCompletableFuture.supplyAsync(() -&gt; firstTask())\r\n        .thenApply(resultOfFirstTask -&gt; runSecondTask(resultOfFirstTask))\r\n        // do other stuff with the CompletableFuture\r\n```\r\nThis uses a function that takes the result of the first task and uses it as input for the second task. If the first task doesn&#39;t return anything, you can use `runAsync` instead of `supplyAsync`. If the second task doesn&#39;t return anything, you can use `thenAccept` instead of `thenApply`. And/or if the second task doesn&#39;t use the input of the first task, just ignore the result of the first task:\r\n```\r\n        .thenApply(ignored -&gt; runSecondTask())\r\n        // or .thenRun(() -&gt; runSecondTask()) instead of thenAccept\r\n```\r\nThere are other methods besides `thenApply` and `thenAccept`, just make sure to use the right one. As far as I could tell, the ones you&#39;d need all start with `then` and don&#39;t take another `CompletableFuture` / `CompletionStage`.","title":"How to run different async function in same thread?","body":"<p>You can use a single threaded executor (service):</p>\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\ntry {\n    // call submit / execute for the first task\n    // call submit / execute for the second task\n} finally {\n    executor.shutdown();\n}\n</code></pre>\n<p>An alternative is to use <code>CompletableFuture</code>:</p>\n<pre><code>CompletableFuture.supplyAsync(() -&gt; firstTask())\n        .thenApply(resultOfFirstTask -&gt; runSecondTask(resultOfFirstTask))\n        // do other stuff with the CompletableFuture\n</code></pre>\n<p>This uses a function that takes the result of the first task and uses it as input for the second task. If the first task doesn't return anything, you can use <code>runAsync</code> instead of <code>supplyAsync</code>. If the second task doesn't return anything, you can use <code>thenAccept</code> instead of <code>thenApply</code>. And/or if the second task doesn't use the input of the first task, just ignore the result of the first task:</p>\n<pre><code>        .thenApply(ignored -&gt; runSecondTask())\n        // or .thenRun(() -&gt; runSecondTask()) instead of thenAccept\n</code></pre>\n<p>There are other methods besides <code>thenApply</code> and <code>thenAccept</code>, just make sure to use the right one. As far as I could tell, the ones you'd need all start with <code>then</code> and don't take another <code>CompletableFuture</code> / <code>CompletionStage</code>.</p>\n"}],"owner":{"account_id":15632004,"reputation":19,"user_id":11278059,"display_name":"Keya Bhavsar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662026429,"creation_date":1662023114,"question_id":73566782,"body_markdown":"There are 2 async function. I want to make second async function run in the thread of first async function in java\r\n","title":"How to run different async function in same thread?","body":"<p>There are 2 async function. I want to make second async function run in the thread of first async function in java</p>\n"},{"tags":["java","android","kotlin","mapping"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1661926257,"post_id":73551247,"comment_id":129884587,"body_markdown":"I can&#39;t see how that&#39;s possible from your code above. Maybe something internal to the `fromRetrofitResponseToObjectEntity` is not using the reference you think it is. Is the `object.getStatus()` a line of code inside that function?","body":"I can&#39;t see how that&#39;s possible from your code above. Maybe something internal to the <code>fromRetrofitResponseToObjectEntity</code> is not using the reference you think it is. Is the <code>object.getStatus()</code> a line of code inside that function?"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1661926360,"post_id":73551247,"comment_id":129884616,"body_markdown":"Add the exception and `fromRetrofitResponseToObjectEntity` with question .. try not to name a property `object` it makes no sense ..","body":"Add the exception and <code>fromRetrofitResponseToObjectEntity</code> with question .. try not to name a property <code>object</code> it makes no sense .."},{"owner":{"account_id":5019073,"reputation":3015,"user_id":4033050,"accept_rate":27,"display_name":"Seb"},"score":0,"creation_date":1661926654,"post_id":73551247,"comment_id":129884683,"body_markdown":"@adm I replace the real name by `object`","body":"@adm I replace the real name by <code>object</code>"},{"owner":{"account_id":5019073,"reputation":3015,"user_id":4033050,"accept_rate":27,"display_name":"Seb"},"score":0,"creation_date":1661926785,"post_id":73551247,"comment_id":129884716,"body_markdown":"@Tenfour04 `object` is null. I saw it in the log","body":"@Tenfour04 <code>object</code> is null. I saw it in the log"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1661927291,"post_id":73551247,"comment_id":129884857,"body_markdown":"You can add Some minimal code with which we can reproduce the issue .. can&#39;t say much right now with the given code snippet","body":"You can add Some minimal code with which we can reproduce the issue .. can&#39;t say much right now with the given code snippet"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1661927615,"post_id":73551247,"comment_id":129884929,"body_markdown":"We need to see the code where you&#39;re checking the log. The code that&#39;s causing your problem is somewhere else, like maybe inside `fromRetrofitResponseToObjectEntity()`. Your use of the word `object` is confusing because it&#39;s a hard keyword that&#39;s not allowed for variable or parameter names.","body":"We need to see the code where you&#39;re checking the log. The code that&#39;s causing your problem is somewhere else, like maybe inside <code>fromRetrofitResponseToObjectEntity()</code>. Your use of the word <code>object</code> is confusing because it&#39;s a hard keyword that&#39;s not allowed for variable or parameter names."},{"owner":{"account_id":5019073,"reputation":3015,"user_id":4033050,"accept_rate":27,"display_name":"Seb"},"score":0,"creation_date":1661929280,"post_id":73551247,"comment_id":129885473,"body_markdown":"@Tenfour04 I printed the variable `item` into the logcat and then I saw that `material` was null. `item` is a JSON object and the field `material` is not present in it when received from the api call.","body":"@Tenfour04 I printed the variable <code>item</code> into the logcat and then I saw that <code>material</code> was null. <code>item</code> is a JSON object and the field <code>material</code> is not present in it when received from the api call."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1661930071,"post_id":73551247,"comment_id":129885745,"body_markdown":"Is it true `null` or the String literal `&quot;null&quot;` at the time you log it? You can find out by debugging instead of just logging. Again, it&#39;s impossible to really tell what&#39;s wrong without seeing more code.","body":"Is it true <code>null</code> or the String literal <code>&quot;null&quot;</code> at the time you log it? You can find out by debugging instead of just logging. Again, it&#39;s impossible to really tell what&#39;s wrong without seeing more code."}],"owner":{"account_id":5019073,"reputation":3015,"user_id":4033050,"accept_rate":27,"display_name":"Seb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662026408,"creation_date":1661923945,"question_id":73551247,"body_markdown":"I have created a function to map an object to another as below:\r\n\r\n```\r\n        val clothes = items.map { item -&gt;\r\n                                item.material?.let { material -&gt;\r\n                                    Mapper.fromRetrofitResponseToObjectEntity(\r\n                                        material,\r\n                                        item\r\n                                    )\r\n                                }\r\n                            }\r\n\r\n```\r\n\r\nI have a `NullPointerException` happening on `object.getStatus()`. Checking the logcat of my Android app, `material` is effectively `null` I do not understand why the code inside `item.material.let` is not preventing it as `item.material` is null.\r\n","title":"kotlin let is allowing null object to be handle","body":"<p>I have created a function to map an object to another as below:</p>\n<pre><code>        val clothes = items.map { item -&gt;\n                                item.material?.let { material -&gt;\n                                    Mapper.fromRetrofitResponseToObjectEntity(\n                                        material,\n                                        item\n                                    )\n                                }\n                            }\n\n</code></pre>\n<p>I have a <code>NullPointerException</code> happening on <code>object.getStatus()</code>. Checking the logcat of my Android app, <code>material</code> is effectively <code>null</code> I do not understand why the code inside <code>item.material.let</code> is not preventing it as <code>item.material</code> is null.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1662024274,"post_id":73567026,"comment_id":129912252,"body_markdown":"apparently, you haven&#39;t provided a Bean of UserRepository, so the UserController can&#39;t autowire it. You may want to show some of the relevant code. Either way, that is your problem","body":"apparently, you haven&#39;t provided a Bean of UserRepository, so the UserController can&#39;t autowire it. You may want to show some of the relevant code. Either way, that is your problem"},{"owner":{"account_id":25250397,"reputation":19,"user_id":19082945,"display_name":"Muhammad Rizwan"},"score":0,"creation_date":1662025436,"post_id":73567026,"comment_id":129912722,"body_markdown":"@SpringBootApplication\n@ComponentScan({&quot;uk.co.circuare.cube.service.user&quot;,&quot;uk.co.circuare.cube.service.user.api&quot;,&quot;uk.co.circuare.cube.service.api.advice&quot;})\npublic class Application {\n\t\t\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}","body":"@SpringBootApplication @ComponentScan({&quot;uk.co.circuare.cube.service.user&quot;,&quot;uk.co.ci&zwnj;&#8203;rcuare.cube.service.&zwnj;&#8203;user.api&quot;,&quot;uk.co.cir&zwnj;&#8203;cuare.cube.service.a&zwnj;&#8203;pi.advice&quot;}) public class Application { \t\t     public static void main(String[] args) {         SpringApplication.run(Application.class, args);     } }"},{"owner":{"account_id":25250397,"reputation":19,"user_id":19082945,"display_name":"Muhammad Rizwan"},"score":0,"creation_date":1662025597,"post_id":73567026,"comment_id":129912790,"body_markdown":"i have added controllers and mainclass","body":"i have added controllers and mainclass"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1662025644,"post_id":73567026,"comment_id":129912811,"body_markdown":"no, you haven&#39;t. also: please don&#39;t put code in a comment, that is not readable. Put it correctly formatted in the question","body":"no, you haven&#39;t. also: please don&#39;t put code in a comment, that is not readable. Put it correctly formatted in the question"},{"owner":{"account_id":25250397,"reputation":19,"user_id":19082945,"display_name":"Muhammad Rizwan"},"score":0,"creation_date":1662026155,"post_id":73567026,"comment_id":129913022,"body_markdown":"@Repository\npublic interface RoleRepository extends PagingAndSortingRepository&lt;Role, Long&gt; {\t\n\tOptional&lt;Role&gt; findByName(String name);\t}","body":"@Repository public interface RoleRepository extends PagingAndSortingRepository&lt;Role, Long&gt; {\t \tOptional&lt;Role&gt; findByName(String name);\t}"},{"owner":{"account_id":25250397,"reputation":19,"user_id":19082945,"display_name":"Muhammad Rizwan"},"score":0,"creation_date":1662026165,"post_id":73567026,"comment_id":129913028,"body_markdown":"@Repository\npublic interface UserRepository extends PagingAndSortingRepository&lt;User, Long&gt; {\t\n\tOptional&lt;User&gt; findByEmailAddress(String emailAddress);\n}","body":"@Repository public interface UserRepository extends PagingAndSortingRepository&lt;User, Long&gt; {\t \tOptional&lt;User&gt; findByEmailAddress(String emailAddress); }"},{"owner":{"account_id":25250397,"reputation":19,"user_id":19082945,"display_name":"Muhammad Rizwan"},"score":0,"creation_date":1662026184,"post_id":73567026,"comment_id":129913035,"body_markdown":"@Stultuske please check now","body":"@Stultuske please check now"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1662026364,"post_id":73567026,"comment_id":129913085,"body_markdown":"don&#39;t put code in comments.","body":"don&#39;t put code in comments."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1662026444,"post_id":73567026,"comment_id":129913118,"body_markdown":"Add code in your question with import statement packages","body":"Add code in your question with import statement packages"}],"owner":{"account_id":25250397,"reputation":19,"user_id":19082945,"display_name":"Muhammad Rizwan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662026350,"creation_date":1662024166,"question_id":73567026,"body_markdown":"I have two controller `User` and `Role`. I write unit test for my controller, but I get following exception while running test cases. Please correct me where I&#39;m wrong.\r\n\r\nDescription:\r\n\r\n    Field repository in uk.co.circuare.cube.service.user.api.UserController required a bean of type &#39;uk.co.circuare.cube.service.user.repository.UserRepository&#39; that could not be found.\r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    Action:\r\n    Consider defining a bean of type &#39;uk.co.circuare.cube.service.user.repository.UserRepository&#39; in your configuration.\r\n\r\nMain class:\r\n```\r\n@SpringBootApplication \r\n@ComponentScan({\r\n    &quot;uk.co.circuare.cube.service.user&quot;,\r\n    &quot;uk.co.circuare.cube.service.user.api&quot;,\r\n    &quot;uk.co.circuare.cube.service.api.advice&quot;\r\n}) \r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\nRoleControllerTest\r\n\r\n    @WebMvcTest(controllers = RoleController.class)\r\n    public class RoleControllerTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate MockMvc mockMvc;\r\n    \r\n    \t@Autowired\r\n    \tprivate ObjectMapper mapper;\r\n    \r\n    \t@MockBean\r\n    \tprivate RoleRepository repository;\r\n    \t\r\n    }\r\n\r\n\r\nUserControllerTest\r\n\r\n    \r\n    @WebMvcTest(controllers = UserController.class)\r\n    public class UserControllerTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate MockMvc mockMvc;\r\n    \r\n    \t@Autowired\r\n    \tprivate ObjectMapper mapper;\r\n    \r\n    \t@MockBean\r\n    \tprivate UserRepository repository;\r\n    }","title":"Spring Boot RestAPI Unit Test Issue","body":"<p>I have two controller <code>User</code> and <code>Role</code>. I write unit test for my controller, but I get following exception while running test cases. Please correct me where I'm wrong.</p>\n<p>Description:</p>\n<pre><code>Field repository in uk.co.circuare.cube.service.user.api.UserController required a bean of type 'uk.co.circuare.cube.service.user.repository.UserRepository' that could not be found.\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\nAction:\nConsider defining a bean of type 'uk.co.circuare.cube.service.user.repository.UserRepository' in your configuration.\n</code></pre>\n<p>Main class:</p>\n<pre><code>@SpringBootApplication \n@ComponentScan({\n    &quot;uk.co.circuare.cube.service.user&quot;,\n    &quot;uk.co.circuare.cube.service.user.api&quot;,\n    &quot;uk.co.circuare.cube.service.api.advice&quot;\n}) \npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>RoleControllerTest</p>\n<pre><code>@WebMvcTest(controllers = RoleController.class)\npublic class RoleControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Autowired\n    private ObjectMapper mapper;\n\n    @MockBean\n    private RoleRepository repository;\n    \n}\n</code></pre>\n<p>UserControllerTest</p>\n<pre><code>@WebMvcTest(controllers = UserController.class)\npublic class UserControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Autowired\n    private ObjectMapper mapper;\n\n    @MockBean\n    private UserRepository repository;\n}\n</code></pre>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1649665184,"post_id":72063568,"comment_id":126924401,"body_markdown":"The defining characteristic of a bubble sort is that it compares adjacent elements. So no, that is not a bubble sort. It&#39;s closer to a selection sort, but it&#39;s not a true selection sort either.","body":"The defining characteristic of a bubble sort is that it compares adjacent elements. So no, that is not a bubble sort. It&#39;s closer to a selection sort, but it&#39;s not a true selection sort either."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1649667510,"post_id":72063568,"comment_id":126925313,"body_markdown":"Does this answer your question? [What&#39;s the difference between exchange sort and bubble sort? Are they the same?](https://stackoverflow.com/questions/40786409/whats-the-difference-between-exchange-sort-and-bubble-sort-are-they-the-same)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40786409/whats-the-difference-between-exchange-sort-and-bubble-sort-are-they-the-same\">What&#39;s the difference between exchange sort and bubble sort? Are they the same?</a>"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":6,"creation_date":1651265994,"post_id":72063568,"comment_id":127331962,"body_markdown":"This is a hybrid variation of bubble sort and selection sort known as an [exchange sort](https://en.wikipedia.org/wiki/Sorting_algorithm#Exchange_sort) which has none of the benefits of either.","body":"This is a hybrid variation of bubble sort and selection sort known as an <a href=\"https://en.wikipedia.org/wiki/Sorting_algorithm#Exchange_sort\" rel=\"nofollow noreferrer\">exchange sort</a> which has none of the benefits of either."}],"answers":[{"tags":[],"owner":{"account_id":20327251,"reputation":98,"user_id":14910313,"display_name":"MuhammadElkotb"},"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1649679815,"creation_date":1649665601,"answer_id":71824747,"question_id":72063568,"body_markdown":"It is named [Exchange sort][1] and is sometimes confused with bubble sort. While Bubble sort compares adjacent elements, Exchange sort compares the first element with all the following elements and swaps if needed. Then it does the same for the second element and so on.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Sorting_algorithm#Exchange_sort","title":"What is this inefficient sorting algorithm with two loops that compares the element at each index with all other elements and swaps if needed?","body":"<p>It is named <a href=\"https://en.wikipedia.org/wiki/Sorting_algorithm#Exchange_sort\" rel=\"nofollow noreferrer\">Exchange sort</a> and is sometimes confused with bubble sort. While Bubble sort compares adjacent elements, Exchange sort compares the first element with all the following elements and swaps if needed. Then it does the same for the second element and so on.</p>\n"}],"owner":{"account_id":22311982,"reputation":77,"user_id":16535849,"display_name":"truongmleon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":71824747,"answer_count":1,"score":-4,"last_activity_date":1662026288,"creation_date":1651265495,"question_id":72063568,"body_markdown":"What type of sort is this? It seems to be not very efficient in sorting, but I cannot find the name for it. Could someone help me out?\r\n```\r\n\tfor (int k = 0; k &lt; a.length; k++) {\r\n\t\tfor (int h = k + 1; h &lt; a.length; h++) {\r\n\t\t\tif (a[k].compareTo(a[h]) &gt; 0) {\r\n\t\t\t\tString temp = a[k];\r\n\t\t\t\ta[k] = a[h];\r\n\t\t\t\ta[h] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"What is this inefficient sorting algorithm with two loops that compares the element at each index with all other elements and swaps if needed?","body":"<p>What type of sort is this? It seems to be not very efficient in sorting, but I cannot find the name for it. Could someone help me out?</p>\n<pre><code>    for (int k = 0; k &lt; a.length; k++) {\n        for (int h = k + 1; h &lt; a.length; h++) {\n            if (a[k].compareTo(a[h]) &gt; 0) {\n                String temp = a[k];\n                a[k] = a[h];\n                a[h] = temp;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1458562994,"post_id":36130852,"comment_id":59900400,"body_markdown":"What have you tried so far? [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve).","body":"What have you tried so far? <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}],"answers":[{"tags":[],"owner":{"account_id":6481718,"reputation":221,"user_id":5018490,"display_name":"khaja firoz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662026271,"creation_date":1458563478,"answer_id":36131114,"question_id":36130852,"body_markdown":"   I think you&#39;re able to do the parsing right this way :\r\n\r\n```\r\nString DateString = request.getParameter(&quot;date&quot;);\r\n//SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss&quot;);\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\nDate date = sdf.parse(myDateString);\r\n        \r\nCalendar calendar = GregorianCalendar.getInstance(); // creates a new calendar instance\r\ncalendar.setTime(date);   // assigns calendar to the given date \r\nint hour = calendar.get(Calendar.HOUR);\r\nint minute; /... similar methods for minutes and seconds\r\n```","title":"Convert HTML Time into Java Time Object","body":"<p>I think you're able to do the parsing right this way :</p>\n<pre><code>String DateString = request.getParameter(&quot;date&quot;);\n//SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss&quot;);\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\nDate date = sdf.parse(myDateString);\n        \nCalendar calendar = GregorianCalendar.getInstance(); // creates a new calendar instance\ncalendar.setTime(date);   // assigns calendar to the given date \nint hour = calendar.get(Calendar.HOUR);\nint minute; /... similar methods for minutes and seconds\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7718199,"reputation":103,"user_id":5845210,"accept_rate":67,"display_name":"Harsh Kanakhara"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1458564870,"creation_date":1458564870,"answer_id":36131611,"question_id":36130852,"body_markdown":"I am achieving it using the following Code Snippet\r\n\r\n\t\tString startTimeValue = request.getParameter(&quot;startTime&quot;);\r\n\t\tString endTimeValue = request.getParameter(&quot;endTime&quot;);\r\n\t\t\r\n\t\tString[] time1 = startTimeValue.split(&quot;:&quot;);\r\n\t\tDate date1 = new Date();\r\n\t\tdate1.setHours(Integer.parseInt(time1[0]));\r\n\t\tdate1.setMinutes(Integer.parseInt(time1[1]));\r\n\t\tdate1.setSeconds(0);\r\n\t\tString[] time2 = endTimeValue.split(&quot;:&quot;);\r\n\t\tDate date2 = new Date();\r\n\t\tdate2.setHours(Integer.parseInt(time2[0]));\r\n\t\tdate2.setMinutes(Integer.parseInt(time2[1]));\r\n\t\tdate2.setSeconds(0);\r\n\r\n        System.out.println(date2.after(date1));\r\n\r\n\r\n","title":"Convert HTML Time into Java Time Object","body":"<p>I am achieving it using the following Code Snippet</p>\n\n<pre><code>    String startTimeValue = request.getParameter(\"startTime\");\n    String endTimeValue = request.getParameter(\"endTime\");\n\n    String[] time1 = startTimeValue.split(\":\");\n    Date date1 = new Date();\n    date1.setHours(Integer.parseInt(time1[0]));\n    date1.setMinutes(Integer.parseInt(time1[1]));\n    date1.setSeconds(0);\n    String[] time2 = endTimeValue.split(\":\");\n    Date date2 = new Date();\n    date2.setHours(Integer.parseInt(time2[0]));\n    date2.setMinutes(Integer.parseInt(time2[1]));\n    date2.setSeconds(0);\n\n    System.out.println(date2.after(date1));\n</code></pre>\n"}],"owner":{"account_id":7718199,"reputation":103,"user_id":5845210,"accept_rate":67,"display_name":"Harsh Kanakhara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1628,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1458565716,"answer_count":2,"score":0,"last_activity_date":1662026271,"creation_date":1458562757,"question_id":36130852,"body_markdown":"I am getting startTime and endTime value from html5 input type. I am getting it in Servlet in String. \r\n\r\n**I want to convert it into Java Date Object so I can use methods like before and after for comparing Time.**\r\n\r\n\t\tString startTimeValue = request.getParameter(&quot;startTime&quot;);\r\n\t\tString endTimeValue = request.getParameter(&quot;endTime&quot;);\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm&quot;);\r\n\t\tDate startTime = sdf.parse(startTimeValue);\r\n\t\tDate endTime = sdf.parse(endTimeValue);\r\n\t\tsdf.format(startTime);\r\n\t\tsdf.format(endTime);\r\n        System.out.println(endTime.before(startTime));\r\n\r\nAny help would be appreciated.","title":"Convert HTML Time into Java Time Object","body":"<p>I am getting startTime and endTime value from html5 input type. I am getting it in Servlet in String. </p>\n\n<p><strong>I want to convert it into Java Date Object so I can use methods like before and after for comparing Time.</strong></p>\n\n<pre><code>    String startTimeValue = request.getParameter(\"startTime\");\n    String endTimeValue = request.getParameter(\"endTime\");\n    SimpleDateFormat sdf = new SimpleDateFormat(\"hh:mm\");\n    Date startTime = sdf.parse(startTimeValue);\n    Date endTime = sdf.parse(endTimeValue);\n    sdf.format(startTime);\n    sdf.format(endTime);\n    System.out.println(endTime.before(startTime));\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8925,"page":1067,"page_size":100}
