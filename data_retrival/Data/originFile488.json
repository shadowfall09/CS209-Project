{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":4098029,"reputation":3091,"user_id":3364266,"accept_rate":80,"display_name":"Samir Bhatt"},"score":0,"creation_date":1508240212,"post_id":46789155,"comment_id":80524599,"body_markdown":"I must say this is best way.","body":"I must say this is best way."},{"owner":{"account_id":6592902,"reputation":784,"user_id":6095204,"accept_rate":56,"display_name":"Joseph K."},"score":0,"creation_date":1508240317,"post_id":46789155,"comment_id":80524669,"body_markdown":"But it is not clear how to implement PrintDocumentAdapter there. Any other tutorial?","body":"But it is not clear how to implement PrintDocumentAdapter there. Any other tutorial?"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508240310,"creation_date":1508240310,"answer_id":46789242,"question_id":46789155,"body_markdown":"&gt; I found this but it is too complicated I think\r\n\r\nI agree. [Google doesn&#39;t care](https://issuetracker.google.com/issues/36995603).\r\n\r\n&gt; Is the above way is the only way?\r\n\r\nAFAIK, yes, though see http://stackoverflow.com/a/20719729/115145 and [this](https://github.com/commonsguy/cw-omnibus/blob/v8.7/Printing/PrintManager/app/src/main/java/com/commonsware/android/print/PdfDocumentAdapter.java) for basic implementations.\r\n","title":"Send a pdf file to the defined printer","body":"<blockquote>\n  <p>I found this but it is too complicated I think</p>\n</blockquote>\n\n<p>I agree. <a href=\"https://issuetracker.google.com/issues/36995603\" rel=\"nofollow noreferrer\">Google doesn't care</a>.</p>\n\n<blockquote>\n  <p>Is the above way is the only way?</p>\n</blockquote>\n\n<p>AFAIK, yes, though see <a href=\"http://stackoverflow.com/a/20719729/115145\">http://stackoverflow.com/a/20719729/115145</a> and <a href=\"https://github.com/commonsguy/cw-omnibus/blob/v8.7/Printing/PrintManager/app/src/main/java/com/commonsware/android/print/PdfDocumentAdapter.java\" rel=\"nofollow noreferrer\">this</a> for basic implementations.</p>\n"},{"tags":[],"owner":{"account_id":1884344,"reputation":2504,"user_id":1703871,"accept_rate":97,"display_name":"motis10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977773,"creation_date":1508240550,"answer_id":46789312,"question_id":46789155,"body_markdown":"I&#39;m not sure what is your goals but, Your options are:\r\n\r\n\r\n1. [Custom print adapter][2] - Like you saw. You can find easier implementation as CommonsWare wrote.\r\n\r\n2. [Google Cloud Printer][1] - An option just if your goal that each of user will print and set the printer itself.\r\n\r\n\r\n  [1]: https://support.google.com/chrome/a/answer/9633006\r\n  [2]: https://developer.android.com/training/printing/custom-docs.html#print-adapter","title":"Send a pdf file to the defined printer","body":"<p>I'm not sure what is your goals but, Your options are:</p>\n<ol>\n<li><p><a href=\"https://developer.android.com/training/printing/custom-docs.html#print-adapter\" rel=\"nofollow noreferrer\">Custom print adapter</a> - Like you saw. You can find easier implementation as CommonsWare wrote.</p>\n</li>\n<li><p><a href=\"https://support.google.com/chrome/a/answer/9633006\" rel=\"nofollow noreferrer\">Google Cloud Printer</a> - An option just if your goal that each of user will print and set the printer itself.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":6592902,"reputation":784,"user_id":6095204,"accept_rate":56,"display_name":"Joseph K."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681977773,"creation_date":1508240024,"question_id":46789155,"body_markdown":"https://developer.android.com/training/printing/custom-docs.html#print-adapter\r\n\r\nI found this but it is too complicated I think. I just want to send an existing pdf file to the printer. Is the above way is the only way? I couldn&#39;t find anything other that.","title":"Send a pdf file to the defined printer","body":"<p><a href=\"https://developer.android.com/training/printing/custom-docs.html#print-adapter\" rel=\"nofollow noreferrer\">https://developer.android.com/training/printing/custom-docs.html#print-adapter</a></p>\n\n<p>I found this but it is too complicated I think. I just want to send an existing pdf file to the printer. Is the above way is the only way? I couldn't find anything other that.</p>\n"},{"tags":["angularjs","spring","java"],"comments":[{"owner":{"account_id":8913034,"reputation":319,"user_id":6652510,"accept_rate":20,"display_name":"Antony Joslin"},"score":0,"creation_date":1508133848,"post_id":46763611,"comment_id":80472823,"body_markdown":"use `$http` to give API calls \nyou can use this tutorial\nhttps://docs.angularjs.org/api/ng/service/$http","body":"use <code>$http</code> to give API calls  you can use this tutorial <a href=\"https://docs.angularjs.org/api/ng/service/$http\" rel=\"nofollow noreferrer\">docs.angularjs.org/api/ng/service/$http</a>"}],"answers":[{"tags":[],"owner":{"account_id":8913034,"reputation":319,"user_id":6652510,"accept_rate":20,"display_name":"Antony Joslin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977744,"creation_date":1508133889,"answer_id":46763850,"question_id":46763611,"body_markdown":"use `$http` to give API calls. \r\nYou can use this tutorial\r\n[Angular API][1]\r\n\r\n\r\n\r\n  [1]: https://docs.angularjs.org/api/ng/service/$http","title":"Download zip file using angular js via Spring-based RESTful web service","body":"<p>use <code>$http</code> to give API calls.\nYou can use this tutorial\n<a href=\"https://docs.angularjs.org/api/ng/service/$http\" rel=\"nofollow noreferrer\">Angular API</a></p>\n"}],"owner":{"account_id":10056212,"reputation":655,"user_id":7434324,"accept_rate":58,"display_name":"Rama Krishna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681977744,"creation_date":1508132542,"question_id":46763611,"body_markdown":"I am very new to Angular Js, I need write code to download one zip file via Spring-based RESTful web service with &#39;download&#39; button click. Web service is ready but don&#39;t know how to handle that API in angular js.\r\n\r\n","title":"Download zip file using angular js via Spring-based RESTful web service","body":"<p>I am very new to Angular Js, I need write code to download one zip file via Spring-based RESTful web service with 'download' button click. Web service is ready but don't know how to handle that API in angular js.</p>\n"},{"tags":["java","json","jsonschema","json-schema-validator"],"comments":[{"owner":{"account_id":8404187,"reputation":136,"user_id":6308189,"display_name":"Th&#224;nh Kim Nguyễn"},"score":0,"creation_date":1507795471,"post_id":46703787,"comment_id":80355653,"body_markdown":"Sorry! What&#39;s your problem?","body":"Sorry! What&#39;s your problem?"},{"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"score":0,"creation_date":1507797377,"post_id":46703787,"comment_id":80356741,"body_markdown":"I just want to generate a JsonSchema which can be applicable for above three test cases.but My json Schema should allow the empty mainScript .(First test case : mainScript can be empty ). But it doesnt allows it.","body":"I just want to generate a JsonSchema which can be applicable for above three test cases.but My json Schema should allow the empty mainScript .(First test case : mainScript can be empty ). But it doesnt allows it."},{"owner":{"account_id":8404187,"reputation":136,"user_id":6308189,"display_name":"Th&#224;nh Kim Nguyễn"},"score":0,"creation_date":1507798951,"post_id":46703787,"comment_id":80357718,"body_markdown":"I think your json schema can pass 2 cases(1 &amp; 2)","body":"I think your json schema can pass 2 cases(1 &amp; 2)"},{"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"score":0,"creation_date":1507800262,"post_id":46703787,"comment_id":80358545,"body_markdown":"no.. it&#39;s not ..","body":"no.. it&#39;s not .."},{"owner":{"account_id":8404187,"reputation":136,"user_id":6308189,"display_name":"Th&#224;nh Kim Nguyễn"},"score":0,"creation_date":1507800633,"post_id":46703787,"comment_id":80358797,"body_markdown":"ah, because the `mainScript ` have `&quot;required&quot;:[&quot;data&quot;,&quot;key&quot;]` so if you don&#39;t want it you can remove.","body":"ah, because the <code>mainScript </code> have <code>&quot;required&quot;:[&quot;data&quot;,&quot;key&quot;]</code> so if you don&#39;t want it you can remove."},{"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"score":0,"creation_date":1507801099,"post_id":46703787,"comment_id":80359097,"body_markdown":"mainScript should contain either both [&quot;data&quot;,&quot;key&quot;] or other wise it should be empty (First case ).So I can&#39;t removed that one ..","body":"mainScript should contain either both [&quot;data&quot;,&quot;key&quot;] or other wise it should be empty (First case ).So I can&#39;t removed that one .."},{"owner":{"account_id":8404187,"reputation":136,"user_id":6308189,"display_name":"Th&#224;nh Kim Nguyễn"},"score":0,"creation_date":1507801504,"post_id":46703787,"comment_id":80359340,"body_markdown":"I checked your schema at http://www.jsonschemavalidator.net and it validate cases 1 &amp; 2","body":"I checked your schema at <a href=\"http://www.jsonschemavalidator.net\" rel=\"nofollow noreferrer\">jsonschemavalidator.net</a> and it validate cases 1 &amp; 2"},{"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"score":0,"creation_date":1507802957,"post_id":46703787,"comment_id":80360323,"body_markdown":"yeah ,I&#39;ve Seen too.. In my swagger it throws for first case , Any way thanks a lot for helping.","body":"yeah ,I&#39;ve Seen too.. In my swagger it throws for first case , Any way thanks a lot for helping."}],"answers":[{"tags":[],"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681977739,"creation_date":1507877481,"answer_id":46724066,"question_id":46703787,"body_markdown":"After I tried all the attempts ,found a solution, which is also working in swagger also.\r\n\r\n&gt; Thanks for the folks who are helping me,\r\n\r\n    {\r\n        &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n        &quot;id&quot;: &quot;&quot;,\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;title&quot;: &quot;Add Temp Configlet Builder Schema&quot;,\r\n        &quot;description&quot;: &quot;Schema structure for adding temp configlet builder&quot;,\r\n        &quot;properties&quot;: {\r\n            &quot;formList&quot;: {\r\n                &quot;id&quot;: &quot;formList&quot;,\r\n                &quot;type&quot;: &quot;array&quot;,\r\n                &quot;title&quot;: &quot;Form List values&quot;,\r\n                &quot;description&quot;: &quot;The list of form entries&quot;,\r\n                &quot;items&quot;: {\r\n                    &quot;type&quot;: &quot;object&quot;,\r\n                    &quot;properties&quot;: {\r\n                        &quot;type&quot;: {\r\n                            &quot;id&quot;: &quot;type&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Type&quot;,\r\n                            &quot;description&quot;: &quot;The type of form element&quot;\r\n                        },\r\n                        &quot;fieldId&quot;: {\r\n                            &quot;id&quot;: &quot;fieldId&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Field Id&quot;,\r\n                            &quot;description&quot;: &quot;The Id of the form field&quot;\r\n                        },\r\n                        &quot;fieldLabel&quot;: {\r\n                            &quot;id&quot;: &quot;fieldLabel&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Field Label&quot;,\r\n                            &quot;description&quot;: &quot;The label value of form field&quot;\r\n                        },\r\n                        &quot;value&quot;: {\r\n                            &quot;id&quot;: &quot;value&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The value&quot;,\r\n                            &quot;description&quot;: &quot;The value of the form field&quot;\r\n                        },\r\n                        &quot;depends&quot;: {\r\n                            &quot;id&quot;: &quot;depends&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Depends on&quot;,\r\n                            &quot;description&quot;: &quot;To indicate if the field depends on another field&quot;\r\n                        },\r\n                        &quot;validation&quot;: {\r\n                            &quot;id&quot;: &quot;validation&quot;,\r\n                            &quot;type&quot;: &quot;object&quot;,\r\n                            &quot;title&quot;: &quot;Validation field&quot;,\r\n                            &quot;description&quot;: &quot;To indicate if the field has any validation&quot;,\r\n                            &quot;properties&quot;: {\r\n                                &quot;mandatory&quot;: {\r\n                                    &quot;id&quot;: &quot;mandatory&quot;,\r\n                                    &quot;type&quot;: &quot;boolean&quot;\r\n                                }\r\n                            }\r\n                        },\r\n                        &quot;dataValidation&quot;: {\r\n                            &quot;id&quot;: &quot;dataValidation&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Data Validation field&quot;,\r\n                            &quot;description&quot;: &quot;Contains the data validation condition&quot;\r\n                        },\r\n                        &quot;helpText&quot;: {\r\n                            &quot;id&quot;: &quot;helpText&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Help text&quot;,\r\n                            &quot;description&quot;: &quot;Contains the help text for the field&quot;\r\n                        },\r\n                        &quot;key&quot;: {\r\n                            &quot;id&quot;: &quot;key&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;\r\n                        }\r\n                    },\r\n                    &quot;required&quot;: [\r\n                        &quot;type&quot;,\r\n                        &quot;fieldId&quot;,\r\n                        &quot;fieldLabel&quot;,\r\n                        &quot;value&quot;,\r\n                        &quot;depends&quot;,\r\n                        &quot;validation&quot;,\r\n                        &quot;dataValidation&quot;,\r\n                        &quot;helpText&quot;,\r\n                        &quot;key&quot;\r\n                    ]\r\n                }\r\n            },\r\n            &quot;action&quot;: {\r\n                &quot;id&quot;: &quot;action&quot;,\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;title&quot;: &quot;Action type&quot;,\r\n                &quot;description&quot;: &quot;Type of action to be performed&quot;,\r\n                &quot;enum&quot;: [\r\n                    &quot;update&quot;,\r\n                    &quot;add&quot;,\r\n                    &quot;delete&quot;\r\n                ]\r\n            },\r\n            &quot;mainScript&quot;: {\r\n                &quot;id&quot;: &quot;mainScript&quot;,\r\n                &quot;type&quot;: [\r\n                    &quot;object&quot;,\r\n                    &quot;string&quot;\r\n                ],\r\n                &quot;properties&quot;: {\r\n                    &quot;data&quot;: {\r\n                        &quot;id&quot;: &quot;data&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;,\r\n                        &quot;title&quot;: &quot;The mainscript data&quot;,\r\n                        &quot;description&quot;: &quot;Contains mainscript data&quot;\r\n                    },\r\n                    &quot;key&quot;: {\r\n                        &quot;id&quot;: &quot;mainscript_key&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                    }\r\n                },\r\n                &quot;oneOf&quot;:[  \r\n                    {  \r\n    \r\n                    },\r\n                    {  \r\n                        &quot;not&quot;:{  \r\n                            &quot;required&quot;:[  \r\n                                &quot;data&quot;,\r\n                                &quot;key&quot;\r\n                            ]\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        &quot;required&quot;: [\r\n            &quot;formList&quot;,\r\n            &quot;action&quot;,\r\n            &quot;mainScript&quot;\r\n        ],\r\n        &quot;additionalProperties&quot;: false\r\n    }\r\n\r\n\r\ncheck here . [working for all three cases][1]\r\n\r\n\r\n  [1]: https://jsonschemalint.com/#/version/draft-04/markup/json","title":"Generating a Json schema with custom required","body":"<p>After I tried all the attempts ,found a solution, which is also working in swagger also.</p>\n<blockquote>\n<p>Thanks for the folks who are helping me,</p>\n</blockquote>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n    &quot;id&quot;: &quot;&quot;,\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;title&quot;: &quot;Add Temp Configlet Builder Schema&quot;,\n    &quot;description&quot;: &quot;Schema structure for adding temp configlet builder&quot;,\n    &quot;properties&quot;: {\n        &quot;formList&quot;: {\n            &quot;id&quot;: &quot;formList&quot;,\n            &quot;type&quot;: &quot;array&quot;,\n            &quot;title&quot;: &quot;Form List values&quot;,\n            &quot;description&quot;: &quot;The list of form entries&quot;,\n            &quot;items&quot;: {\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;type&quot;: {\n                        &quot;id&quot;: &quot;type&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;The Type&quot;,\n                        &quot;description&quot;: &quot;The type of form element&quot;\n                    },\n                    &quot;fieldId&quot;: {\n                        &quot;id&quot;: &quot;fieldId&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;The Field Id&quot;,\n                        &quot;description&quot;: &quot;The Id of the form field&quot;\n                    },\n                    &quot;fieldLabel&quot;: {\n                        &quot;id&quot;: &quot;fieldLabel&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;The Field Label&quot;,\n                        &quot;description&quot;: &quot;The label value of form field&quot;\n                    },\n                    &quot;value&quot;: {\n                        &quot;id&quot;: &quot;value&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;The value&quot;,\n                        &quot;description&quot;: &quot;The value of the form field&quot;\n                    },\n                    &quot;depends&quot;: {\n                        &quot;id&quot;: &quot;depends&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;Depends on&quot;,\n                        &quot;description&quot;: &quot;To indicate if the field depends on another field&quot;\n                    },\n                    &quot;validation&quot;: {\n                        &quot;id&quot;: &quot;validation&quot;,\n                        &quot;type&quot;: &quot;object&quot;,\n                        &quot;title&quot;: &quot;Validation field&quot;,\n                        &quot;description&quot;: &quot;To indicate if the field has any validation&quot;,\n                        &quot;properties&quot;: {\n                            &quot;mandatory&quot;: {\n                                &quot;id&quot;: &quot;mandatory&quot;,\n                                &quot;type&quot;: &quot;boolean&quot;\n                            }\n                        }\n                    },\n                    &quot;dataValidation&quot;: {\n                        &quot;id&quot;: &quot;dataValidation&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;Data Validation field&quot;,\n                        &quot;description&quot;: &quot;Contains the data validation condition&quot;\n                    },\n                    &quot;helpText&quot;: {\n                        &quot;id&quot;: &quot;helpText&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;title&quot;: &quot;Help text&quot;,\n                        &quot;description&quot;: &quot;Contains the help text for the field&quot;\n                    },\n                    &quot;key&quot;: {\n                        &quot;id&quot;: &quot;key&quot;,\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                },\n                &quot;required&quot;: [\n                    &quot;type&quot;,\n                    &quot;fieldId&quot;,\n                    &quot;fieldLabel&quot;,\n                    &quot;value&quot;,\n                    &quot;depends&quot;,\n                    &quot;validation&quot;,\n                    &quot;dataValidation&quot;,\n                    &quot;helpText&quot;,\n                    &quot;key&quot;\n                ]\n            }\n        },\n        &quot;action&quot;: {\n            &quot;id&quot;: &quot;action&quot;,\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;title&quot;: &quot;Action type&quot;,\n            &quot;description&quot;: &quot;Type of action to be performed&quot;,\n            &quot;enum&quot;: [\n                &quot;update&quot;,\n                &quot;add&quot;,\n                &quot;delete&quot;\n            ]\n        },\n        &quot;mainScript&quot;: {\n            &quot;id&quot;: &quot;mainScript&quot;,\n            &quot;type&quot;: [\n                &quot;object&quot;,\n                &quot;string&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;data&quot;: {\n                    &quot;id&quot;: &quot;data&quot;,\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;title&quot;: &quot;The mainscript data&quot;,\n                    &quot;description&quot;: &quot;Contains mainscript data&quot;\n                },\n                &quot;key&quot;: {\n                    &quot;id&quot;: &quot;mainscript_key&quot;,\n                    &quot;type&quot;: &quot;string&quot;\n                }\n            },\n            &quot;oneOf&quot;:[  \n                {  \n\n                },\n                {  \n                    &quot;not&quot;:{  \n                        &quot;required&quot;:[  \n                            &quot;data&quot;,\n                            &quot;key&quot;\n                        ]\n                    }\n                }\n            ]\n        }\n    },\n    &quot;required&quot;: [\n        &quot;formList&quot;,\n        &quot;action&quot;,\n        &quot;mainScript&quot;\n    ],\n    &quot;additionalProperties&quot;: false\n}\n</code></pre>\n<p>check here . <a href=\"https://jsonschemalint.com/#/version/draft-04/markup/json\" rel=\"nofollow noreferrer\">working for all three cases</a></p>\n"}],"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46724066,"answer_count":1,"score":0,"last_activity_date":1681977739,"creation_date":1507793106,"question_id":46703787,"body_markdown":"I tried searching , none of them are working for my cases.\r\n\r\nthis is my model schema :\r\n\r\n    {\r\n        &quot;formList&quot;: [{\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;fieldId&quot;: &quot;string&quot;,\r\n            &quot;fieldLabel&quot;: &quot;string&quot;,\r\n            &quot;value&quot;: &quot;string&quot;,\r\n            &quot;depends&quot;: &quot;string&quot;,\r\n            &quot;validation&quot;: {\r\n                &quot;mandatory&quot;: true\r\n            },\r\n            &quot;dataValidation&quot;: &quot;string&quot;,\r\n            &quot;helpText&quot;: &quot;string&quot;,\r\n            &quot;key&quot;: &quot;string&quot;\r\n        }],\r\n        &quot;action&quot;: &quot;string&quot;,\r\n        &quot;mainScript&quot;: {\r\n            &quot;data&quot;: &quot;string&quot;,\r\n            &quot;key&quot;: &quot;string&quot;\r\n        }\r\n    }\r\n\r\nPossible cases for the input :\r\n1. mainScript can be empty \r\n\r\n    {\r\n        &quot;formList&quot;: [{\r\n            &quot;type&quot;: &quot;Text box&quot;,\r\n            &quot;fieldId&quot;: &quot;field_1&quot;,\r\n            &quot;fieldLabel&quot;: &quot;Text box&quot;,\r\n            &quot;value&quot;: &quot;&quot;,\r\n            &quot;depends&quot;: &quot;&quot;,\r\n            &quot;validation&quot;: {\r\n                &quot;mandatory&quot;: false\r\n            },\r\n            &quot;dataValidation&quot;: &quot;&quot;,\r\n            &quot;helpText&quot;: &quot;&quot;,\r\n            &quot;key&quot;: &quot;field_1_1507792641393&quot;\r\n        }],\r\n        &quot;action&quot;: &quot;add&quot;,\r\n        &quot;mainScript&quot;: &quot;&quot;\r\n    }\r\n\r\n2. formList can be empty .\r\n\r\n  \r\n\r\n      {\r\n            &quot;formList&quot;: [],\r\n            &quot;action&quot;: &quot;add&quot;,\r\n            &quot;mainScript&quot;: {\r\n                &quot;data&quot;: &quot;sdfsadf&quot;,\r\n                &quot;key&quot;: &quot;mainscript_1507793323369&quot;\r\n            }\r\n        }\r\n\r\nhere is my json schema :\r\n \r\n\r\n    {\r\n        &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n        &quot;id&quot;: &quot;&quot;,\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;title&quot;: &quot;Add Temp Configlet Builder Schema&quot;,\r\n        &quot;description&quot;: &quot;Schema structure for adding temp configlet builder&quot;,\r\n        &quot;properties&quot;: {\r\n            &quot;formList&quot;: {\r\n                &quot;id&quot;: &quot;formList&quot;,\r\n                &quot;type&quot;: &quot;array&quot;,\r\n                &quot;title&quot;: &quot;Form List values&quot;,\r\n                &quot;description&quot;: &quot;The list of form entries&quot;,\r\n                &quot;items&quot;: {\r\n                    &quot;type&quot;: &quot;object&quot;,\r\n                    &quot;properties&quot;: {\r\n                        &quot;type&quot;: {\r\n                            &quot;id&quot;: &quot;type&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Type&quot;,\r\n                            &quot;description&quot;: &quot;The type of form element&quot;\r\n                        },\r\n                        &quot;fieldId&quot;: {\r\n                            &quot;id&quot;: &quot;fieldId&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Field Id&quot;,\r\n                            &quot;description&quot;: &quot;The Id of the form field&quot;\r\n                        },\r\n                        &quot;fieldLabel&quot;: {\r\n                            &quot;id&quot;: &quot;fieldLabel&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The Field Label&quot;,\r\n                            &quot;description&quot;: &quot;The label value of form field&quot;\r\n                        },\r\n                        &quot;value&quot;: {\r\n                            &quot;id&quot;: &quot;value&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;The value&quot;,\r\n                            &quot;description&quot;: &quot;The value of the form field&quot;\r\n                        },\r\n                        &quot;depends&quot;: {\r\n                            &quot;id&quot;: &quot;depends&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Depends on&quot;,\r\n                            &quot;description&quot;: &quot;To indicate if the field depends on another field&quot;\r\n                        },\r\n                        &quot;validation&quot;: {\r\n                            &quot;id&quot;: &quot;validation&quot;,\r\n                            &quot;type&quot;: &quot;object&quot;,\r\n                            &quot;title&quot;: &quot;Validation field&quot;,\r\n                            &quot;description&quot;: &quot;To indicate if the field has any validation&quot;,\r\n                            &quot;properties&quot;: {\r\n                                &quot;mandatory&quot;: {\r\n                                    &quot;id&quot;: &quot;mandatory&quot;,\r\n                                    &quot;type&quot;: &quot;boolean&quot;\r\n                                }\r\n                            }\r\n                        },\r\n                        &quot;dataValidation&quot;: {\r\n                            &quot;id&quot;: &quot;dataValidation&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Data Validation field&quot;,\r\n                            &quot;description&quot;: &quot;Contains the data validation condition&quot;\r\n                        },\r\n                        &quot;helpText&quot;: {\r\n                            &quot;id&quot;: &quot;helpText&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;,\r\n                            &quot;title&quot;: &quot;Help text&quot;,\r\n                            &quot;description&quot;: &quot;Contains the help text for the field&quot;\r\n                        },\r\n                        &quot;key&quot;: {\r\n                            &quot;id&quot;: &quot;key&quot;,\r\n                            &quot;type&quot;: &quot;string&quot;\r\n                        }\r\n                    },\r\n                    &quot;required&quot;: [\r\n                        &quot;type&quot;,\r\n                        &quot;fieldId&quot;,\r\n                        &quot;fieldLabel&quot;,\r\n                        &quot;value&quot;,\r\n                        &quot;depends&quot;,\r\n                        &quot;validation&quot;,\r\n                        &quot;dataValidation&quot;,\r\n                        &quot;helpText&quot;,\r\n                        &quot;key&quot;\r\n                    ]\r\n                }\r\n            },\r\n            &quot;action&quot;: {\r\n                &quot;id&quot;: &quot;action&quot;,\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;title&quot;: &quot;Action type&quot;,\r\n                &quot;description&quot;: &quot;Type of action to be performed&quot;,\r\n                &quot;enum&quot;: [\r\n                    &quot;update&quot;,\r\n                    &quot;add&quot;,\r\n                    &quot;delete&quot;\r\n                ]\r\n            },\r\n            &quot;mainScript&quot;: {\r\n                &quot;id&quot;: &quot;mainScript&quot;,\r\n                &quot;type&quot;: [\r\n                    &quot;object&quot;,\r\n                    &quot;string&quot;\r\n                ],\r\n                &quot;properties&quot;: {\r\n                    &quot;data&quot;: {\r\n                        &quot;id&quot;: &quot;data&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;,\r\n                        &quot;title&quot;: &quot;The mainscript data&quot;,\r\n                        &quot;description&quot;: &quot;Contains mainscript data&quot;\r\n                    },\r\n                    &quot;key&quot;: {\r\n                        &quot;id&quot;: &quot;mainscript_key&quot;,\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                    }\r\n                },\r\n    \t&quot;required&quot;:[&quot;data&quot;,&quot;key&quot;],\r\n            }\r\n        },\r\n        &quot;required&quot;: [\r\n            &quot;formList&quot;,\r\n            &quot;action&quot;,\r\n            &quot;mainScript&quot;\r\n        ],\r\n              &quot;additionalProperties&quot;: false\r\n    }\r\n\r\n\r\nmy *JsonSchema* should throw error while validating the following input:\r\n{&quot;formList&quot;:[],&quot;action&quot;:&quot;add&quot;,&quot;mainScript&quot;:{&quot;data&quot;:&quot;&quot;}}\r\nBecause one of param in mainScript is missing.  \r\n\r\n \r\n\r\n\r\n\r\n","title":"Generating a Json schema with custom required","body":"<p>I tried searching , none of them are working for my cases.</p>\n\n<p>this is my model schema :</p>\n\n<pre><code>{\n    \"formList\": [{\n        \"type\": \"string\",\n        \"fieldId\": \"string\",\n        \"fieldLabel\": \"string\",\n        \"value\": \"string\",\n        \"depends\": \"string\",\n        \"validation\": {\n            \"mandatory\": true\n        },\n        \"dataValidation\": \"string\",\n        \"helpText\": \"string\",\n        \"key\": \"string\"\n    }],\n    \"action\": \"string\",\n    \"mainScript\": {\n        \"data\": \"string\",\n        \"key\": \"string\"\n    }\n}\n</code></pre>\n\n<p>Possible cases for the input :\n1. mainScript can be empty </p>\n\n<pre><code>{\n    \"formList\": [{\n        \"type\": \"Text box\",\n        \"fieldId\": \"field_1\",\n        \"fieldLabel\": \"Text box\",\n        \"value\": \"\",\n        \"depends\": \"\",\n        \"validation\": {\n            \"mandatory\": false\n        },\n        \"dataValidation\": \"\",\n        \"helpText\": \"\",\n        \"key\": \"field_1_1507792641393\"\n    }],\n    \"action\": \"add\",\n    \"mainScript\": \"\"\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><p>formList can be empty .</p>\n\n<p>{\n        \"formList\": [],\n        \"action\": \"add\",\n        \"mainScript\": {\n            \"data\": \"sdfsadf\",\n            \"key\": \"mainscript_1507793323369\"\n        }\n    }</p></li>\n</ol>\n\n<p>here is my json schema :</p>\n\n<pre><code>{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"id\": \"\",\n    \"type\": \"object\",\n    \"title\": \"Add Temp Configlet Builder Schema\",\n    \"description\": \"Schema structure for adding temp configlet builder\",\n    \"properties\": {\n        \"formList\": {\n            \"id\": \"formList\",\n            \"type\": \"array\",\n            \"title\": \"Form List values\",\n            \"description\": \"The list of form entries\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"type\": {\n                        \"id\": \"type\",\n                        \"type\": \"string\",\n                        \"title\": \"The Type\",\n                        \"description\": \"The type of form element\"\n                    },\n                    \"fieldId\": {\n                        \"id\": \"fieldId\",\n                        \"type\": \"string\",\n                        \"title\": \"The Field Id\",\n                        \"description\": \"The Id of the form field\"\n                    },\n                    \"fieldLabel\": {\n                        \"id\": \"fieldLabel\",\n                        \"type\": \"string\",\n                        \"title\": \"The Field Label\",\n                        \"description\": \"The label value of form field\"\n                    },\n                    \"value\": {\n                        \"id\": \"value\",\n                        \"type\": \"string\",\n                        \"title\": \"The value\",\n                        \"description\": \"The value of the form field\"\n                    },\n                    \"depends\": {\n                        \"id\": \"depends\",\n                        \"type\": \"string\",\n                        \"title\": \"Depends on\",\n                        \"description\": \"To indicate if the field depends on another field\"\n                    },\n                    \"validation\": {\n                        \"id\": \"validation\",\n                        \"type\": \"object\",\n                        \"title\": \"Validation field\",\n                        \"description\": \"To indicate if the field has any validation\",\n                        \"properties\": {\n                            \"mandatory\": {\n                                \"id\": \"mandatory\",\n                                \"type\": \"boolean\"\n                            }\n                        }\n                    },\n                    \"dataValidation\": {\n                        \"id\": \"dataValidation\",\n                        \"type\": \"string\",\n                        \"title\": \"Data Validation field\",\n                        \"description\": \"Contains the data validation condition\"\n                    },\n                    \"helpText\": {\n                        \"id\": \"helpText\",\n                        \"type\": \"string\",\n                        \"title\": \"Help text\",\n                        \"description\": \"Contains the help text for the field\"\n                    },\n                    \"key\": {\n                        \"id\": \"key\",\n                        \"type\": \"string\"\n                    }\n                },\n                \"required\": [\n                    \"type\",\n                    \"fieldId\",\n                    \"fieldLabel\",\n                    \"value\",\n                    \"depends\",\n                    \"validation\",\n                    \"dataValidation\",\n                    \"helpText\",\n                    \"key\"\n                ]\n            }\n        },\n        \"action\": {\n            \"id\": \"action\",\n            \"type\": \"string\",\n            \"title\": \"Action type\",\n            \"description\": \"Type of action to be performed\",\n            \"enum\": [\n                \"update\",\n                \"add\",\n                \"delete\"\n            ]\n        },\n        \"mainScript\": {\n            \"id\": \"mainScript\",\n            \"type\": [\n                \"object\",\n                \"string\"\n            ],\n            \"properties\": {\n                \"data\": {\n                    \"id\": \"data\",\n                    \"type\": \"string\",\n                    \"title\": \"The mainscript data\",\n                    \"description\": \"Contains mainscript data\"\n                },\n                \"key\": {\n                    \"id\": \"mainscript_key\",\n                    \"type\": \"string\"\n                }\n            },\n    \"required\":[\"data\",\"key\"],\n        }\n    },\n    \"required\": [\n        \"formList\",\n        \"action\",\n        \"mainScript\"\n    ],\n          \"additionalProperties\": false\n}\n</code></pre>\n\n<p>my <em>JsonSchema</em> should throw error while validating the following input:\n{\"formList\":[],\"action\":\"add\",\"mainScript\":{\"data\":\"\"}}\nBecause one of param in mainScript is missing.  </p>\n"},{"tags":["java","linux","utf-8","path","dockerfile"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1681985202,"post_id":76061676,"comment_id":134145900,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1682025240,"post_id":76061676,"comment_id":134155225,"body_markdown":"[1] More information is needed. At a minimum, you need to update your question to show your code, and provide full details of your runtime environment (Java version, locale, language, default charset, etc.). See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) for guidelines on improving your question. [2] Note that [assigning values to **file.encoding** and **sun.jnu.encoding** is unsupported](https://openjdk.org/jeps/400) on any Java release.","body":"[1] More information is needed. At a minimum, you need to update your question to show your code, and provide full details of your runtime environment (Java version, locale, language, default charset, etc.). See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> for guidelines on improving your question. [2] Note that <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">assigning values to <b>file.encoding</b> and <b>sun.jnu.encoding</b> is unsupported</a> on any Java release."}],"answers":[{"tags":[],"owner":{"account_id":27385661,"reputation":389,"user_id":20889523,"display_name":"Ritik Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977585,"creation_date":1681977585,"answer_id":76061788,"question_id":76061676,"body_markdown":"It&#39;s due to Non-ASCII characters in file name &amp; system is unable to resolve them. Here &#39;**&#201;**&#39; &amp; &#39;**&#195;**&#39; in the file name are Non-ASCII characters. You can try renaming the file with ASCII characters only or you can escape the Non-ASCII characters in the string.","title":"java.nio.file.InvalidPathException: Malformed input or input contains unmappable characters when using national characters on getting file path","body":"<p>It's due to Non-ASCII characters in file name &amp; system is unable to resolve them. Here '<strong>É</strong>' &amp; '<strong>Ã</strong>' in the file name are Non-ASCII characters. You can try renaming the file with ASCII characters only or you can escape the Non-ASCII characters in the string.</p>\n"}],"owner":{"account_id":17580657,"reputation":1,"user_id":12754557,"display_name":"user12754557"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681977585,"creation_date":1681976770,"question_id":76061676,"body_markdown":"I got exception:\r\n\r\n```\r\njava.nio.file.InvalidPathException: Malformed input or input contains unmappable characters: Z&#201; LUIZ ALMEIDA SER&#195;O.pdf\r\n        at sun.nio.fs.UnixPath.encode(UnixPath.java:147)\r\n        at sun.nio.fs.UnixPath.&lt;init&gt;(UnixPath.java:71)\r\n        at sun.nio.fs.UnixFileSystem.getPath(UnixFileSystem.java:281)\r\n        at java.nio.file.Paths.get(Paths.java:84)\r\n        at org.someone.something.file.PathManager.createPathIfNecessary(PathManager.java:161)\r\n...\r\n        at java.lang.Thread.run(Thread.java:744)\r\n```\r\n\r\nI tried to:\r\n\r\n```\r\nFiles.probeContentType(Paths.get(file));\r\n```\r\n\r\nI run project from dockerfile with params: -Dfile.encoding=UTF-8 -Dsun.jnu.encoding=UTF-8\r\n\r\nPlease help me to find solution to fix it.","title":"java.nio.file.InvalidPathException: Malformed input or input contains unmappable characters when using national characters on getting file path","body":"<p>I got exception:</p>\n<pre><code>java.nio.file.InvalidPathException: Malformed input or input contains unmappable characters: ZÉ LUIZ ALMEIDA SERÃO.pdf\n        at sun.nio.fs.UnixPath.encode(UnixPath.java:147)\n        at sun.nio.fs.UnixPath.&lt;init&gt;(UnixPath.java:71)\n        at sun.nio.fs.UnixFileSystem.getPath(UnixFileSystem.java:281)\n        at java.nio.file.Paths.get(Paths.java:84)\n        at org.someone.something.file.PathManager.createPathIfNecessary(PathManager.java:161)\n...\n        at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n<p>I tried to:</p>\n<pre><code>Files.probeContentType(Paths.get(file));\n</code></pre>\n<p>I run project from dockerfile with params: -Dfile.encoding=UTF-8 -Dsun.jnu.encoding=UTF-8</p>\n<p>Please help me to find solution to fix it.</p>\n"},{"tags":["java","project-reactor","csvreader"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1681923986,"post_id":76056426,"comment_id":134136610,"body_markdown":"Can you tell more about &quot;does not properly create a Flux&quot;? What do you mean? Do you have a compiler error? or some kind of a runtime exception?","body":"Can you tell more about &quot;does not properly create a Flux&quot;? What do you mean? Do you have a compiler error? or some kind of a runtime exception?"},{"owner":{"account_id":4608322,"reputation":6547,"user_id":3737177,"accept_rate":33,"display_name":"Thomas"},"score":0,"creation_date":1681972197,"post_id":76056426,"comment_id":134143158,"body_markdown":"I finally confirmed it is because the CSV is part of a ZIP file and if we pass in the InputStream from the ZIP file, the CSVReader does not provide items for the Flux unless you directly subscribe or block it. So what I mean with it, the List will always be empty and it ends up in the last flatMap with 0, 0 and an empty List.","body":"I finally confirmed it is because the CSV is part of a ZIP file and if we pass in the InputStream from the ZIP file, the CSVReader does not provide items for the Flux unless you directly subscribe or block it. So what I mean with it, the List will always be empty and it ends up in the last flatMap with 0, 0 and an empty List."}],"answers":[{"tags":[],"owner":{"account_id":4608322,"reputation":6547,"user_id":3737177,"accept_rate":33,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977137,"creation_date":1681977137,"answer_id":76061718,"question_id":76056426,"body_markdown":"I finally figured it out, with the help of some other SO posts, each bringing a piece of the puzzle:\r\n  \r\n\r\n    @SneakyThrows\r\n    Mono&lt;Void&gt; run() {\r\n      var failure = new AtomicInteger();\r\n      var filtered = new ArrayList&lt;String&gt;();\r\n      var is = getSequenceInputStream(createZipContent(TEST_FEED_CSV_FILE_NAME, TEST_CSV.getBytes(StandardCharsets.UTF_8)));\r\n      return Flux.&lt;CSVReader&gt;generate(sink -&gt; extractZipEntry(is, sink))\r\n          .flatMap(Flux::fromIterable)\r\n          .flatMap(this::ean)\r\n          .filter(ean -&gt; filter(ean, filtered))\r\n          .onErrorContinue((ex, integer) -&gt; failure.getAndIncrement()).collectList()\r\n          .flatMap(list -&gt; print(list.size(), failure, filtered));\r\n    }\r\n    \r\n    void extractZipEntry(InputStream is, SynchronousSink&lt;CSVReader&gt; sink) {\r\n      var zis = new ZipInputStream(is);\r\n      try {\r\n        var zipEntry = zis.getNextEntry();\r\n        if (zipEntry == null) {\r\n          sink.complete();\r\n        } else {\r\n          var reader = new CSVReader(new InputStreamReader(zis));\r\n          reader.readNextSilently();\r\n          sink.next(reader);\r\n        }\r\n      } catch (IOException ex) {\r\n        sink.error(new RuntimeException(ex));\r\n      }\r\n    }","title":"Reactive way to process a zipped CSV file with CSVReader","body":"<p>I finally figured it out, with the help of some other SO posts, each bringing a piece of the puzzle:</p>\n<pre><code>@SneakyThrows\nMono&lt;Void&gt; run() {\n  var failure = new AtomicInteger();\n  var filtered = new ArrayList&lt;String&gt;();\n  var is = getSequenceInputStream(createZipContent(TEST_FEED_CSV_FILE_NAME, TEST_CSV.getBytes(StandardCharsets.UTF_8)));\n  return Flux.&lt;CSVReader&gt;generate(sink -&gt; extractZipEntry(is, sink))\n      .flatMap(Flux::fromIterable)\n      .flatMap(this::ean)\n      .filter(ean -&gt; filter(ean, filtered))\n      .onErrorContinue((ex, integer) -&gt; failure.getAndIncrement()).collectList()\n      .flatMap(list -&gt; print(list.size(), failure, filtered));\n}\n\nvoid extractZipEntry(InputStream is, SynchronousSink&lt;CSVReader&gt; sink) {\n  var zis = new ZipInputStream(is);\n  try {\n    var zipEntry = zis.getNextEntry();\n    if (zipEntry == null) {\n      sink.complete();\n    } else {\n      var reader = new CSVReader(new InputStreamReader(zis));\n      reader.readNextSilently();\n      sink.next(reader);\n    }\n  } catch (IOException ex) {\n    sink.error(new RuntimeException(ex));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4608322,"reputation":6547,"user_id":3737177,"accept_rate":33,"display_name":"Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681977453,"creation_date":1681918848,"question_id":76056426,"body_markdown":"This is a follow-up question to this:\r\nhttps://stackoverflow.com/questions/76045906/how-to-convert-a-flux-to-a-mono-with-multiple-counters\r\n\r\nI found out that the problem lies with the CSVReader in this context. For some reason it does not properly create a `Flux` from it to be processed.\r\n\r\nThis doesn&#39;t work:\r\n\r\n    @Test\r\n    void testCsvReader() {\r\n    \tStepVerifier.create(csvFlux()).verifyComplete();\r\n    }\r\n    \r\n    @SneakyThrows\r\n    Mono&lt;Void&gt; csvFlux() {\r\n    var failure = new AtomicInteger();\r\n    var filtered = new ArrayList&lt;String&gt;();\r\n    var is = new ByteArrayInputStream(createZipContent(CSV_FILE_NAME, TEST_CSV.getBytes(StandardCharsets.UTF_8)));\r\n    var reader = new CSVReader(new InputStreamReader(new ZipInputStream(is)))) {\r\n    return Flux.fromIterable(reader)\r\n    \t\t.flatMap(this::ean)\r\n    \t\t.filter(ean -&gt; filter(ean, filtered))\r\n    \t\t.onErrorContinue((ex, integer) -&gt; failure.getAndIncrement())\r\n    \t\t.collectList()\r\n    \t\t.flatMap(list -&gt; print(list.size(), failure, filtered));\r\n    }\r\n    \r\n    Mono&lt;String&gt; ean(final String[] record) {\r\n    \tSystem.out.println(&quot;processing: &quot; + Arrays.toString(record));\r\n    \tvar ean = record[1];\r\n    \tif (&quot;product1&quot;.equals(ean)) {\r\n    \t  return Mono.just(ean);\r\n    \t}\r\n    \treturn Mono.error(RuntimeException::new);\r\n    }\r\n    \r\n    boolean filter(final String ean, final List&lt;String&gt; filtered) {\r\n    \tif (&quot;product2&quot;.equals(ean)) {\r\n    \t  filtered.add(ean);\r\n    \t  return false;\r\n    \t}\r\n    \treturn true;\r\n    }\r\n    \r\n    Mono&lt;Void&gt; print(final int success, final AtomicInteger errorCount, final List&lt;String&gt; filtered) {\r\n    \tSystem.out.println(&quot;success:&quot; + success + &quot;; failure:&quot; + errorCount + &quot;; filter: &quot; + filtered);\r\n    \treturn Mono.empty();\r\n    }\r\n\r\nBut if I create the CSV like this, it works:\r\n\r\n    Mono&lt;Void&gt; run() {\r\n    \tvar csv = new ArrayList&lt;String[]&gt;();\r\n    \tcsv.add(new String[] {&quot;1234&quot;, &quot;product1&quot;, &quot;100&quot;});\r\n    \tcsv.add(new String[] {&quot;1234&quot;, &quot;product2&quot;, &quot;200&quot;});\r\n    \tcsv.add(new String[] {&quot;1234&quot;, &quot;product3&quot;, &quot;300&quot;});\r\n    \tvar failure = new AtomicInteger();\r\n    \tvar filtered = new ArrayList&lt;String&gt;();\r\n    \t  return Flux.fromIterable(csv)\r\n    \t\t\t  .flatMap(this::ean)\r\n    \t\t\t  .filter(ean -&gt; filter(ean, filtered))\r\n    \t\t\t  .onErrorContinue((ex, integer) -&gt; failure.getAndIncrement())\r\n    \t\t\t  .collectList()\r\n    \t\t\t  .flatMap(list -&gt; print(list.size(), failure, filtered));\r\n    }\r\n\r\nCould it be because we have CSV Files within a ZIP file and thus the CSVReader get&#39;s confused?\r\n\r\n**EDIT:**  \r\nIt is indeed because we pass in a `ZipInputStream` to the `CSVReader`. If I pass in normal `InputStream` of a CSV it works. This begs the question: Why does it work if I directly subscribe to the `Flux` but not if I use `collectList()`?","title":"Reactive way to process a zipped CSV file with CSVReader","body":"<p>This is a follow-up question to this:\n<a href=\"https://stackoverflow.com/questions/76045906/how-to-convert-a-flux-to-a-mono-with-multiple-counters\">How to convert a Flux to a Mono with multiple counters</a></p>\n<p>I found out that the problem lies with the CSVReader in this context. For some reason it does not properly create a <code>Flux</code> from it to be processed.</p>\n<p>This doesn't work:</p>\n<pre><code>@Test\nvoid testCsvReader() {\n    StepVerifier.create(csvFlux()).verifyComplete();\n}\n\n@SneakyThrows\nMono&lt;Void&gt; csvFlux() {\nvar failure = new AtomicInteger();\nvar filtered = new ArrayList&lt;String&gt;();\nvar is = new ByteArrayInputStream(createZipContent(CSV_FILE_NAME, TEST_CSV.getBytes(StandardCharsets.UTF_8)));\nvar reader = new CSVReader(new InputStreamReader(new ZipInputStream(is)))) {\nreturn Flux.fromIterable(reader)\n        .flatMap(this::ean)\n        .filter(ean -&gt; filter(ean, filtered))\n        .onErrorContinue((ex, integer) -&gt; failure.getAndIncrement())\n        .collectList()\n        .flatMap(list -&gt; print(list.size(), failure, filtered));\n}\n\nMono&lt;String&gt; ean(final String[] record) {\n    System.out.println(&quot;processing: &quot; + Arrays.toString(record));\n    var ean = record[1];\n    if (&quot;product1&quot;.equals(ean)) {\n      return Mono.just(ean);\n    }\n    return Mono.error(RuntimeException::new);\n}\n\nboolean filter(final String ean, final List&lt;String&gt; filtered) {\n    if (&quot;product2&quot;.equals(ean)) {\n      filtered.add(ean);\n      return false;\n    }\n    return true;\n}\n\nMono&lt;Void&gt; print(final int success, final AtomicInteger errorCount, final List&lt;String&gt; filtered) {\n    System.out.println(&quot;success:&quot; + success + &quot;; failure:&quot; + errorCount + &quot;; filter: &quot; + filtered);\n    return Mono.empty();\n}\n</code></pre>\n<p>But if I create the CSV like this, it works:</p>\n<pre><code>Mono&lt;Void&gt; run() {\n    var csv = new ArrayList&lt;String[]&gt;();\n    csv.add(new String[] {&quot;1234&quot;, &quot;product1&quot;, &quot;100&quot;});\n    csv.add(new String[] {&quot;1234&quot;, &quot;product2&quot;, &quot;200&quot;});\n    csv.add(new String[] {&quot;1234&quot;, &quot;product3&quot;, &quot;300&quot;});\n    var failure = new AtomicInteger();\n    var filtered = new ArrayList&lt;String&gt;();\n      return Flux.fromIterable(csv)\n              .flatMap(this::ean)\n              .filter(ean -&gt; filter(ean, filtered))\n              .onErrorContinue((ex, integer) -&gt; failure.getAndIncrement())\n              .collectList()\n              .flatMap(list -&gt; print(list.size(), failure, filtered));\n}\n</code></pre>\n<p>Could it be because we have CSV Files within a ZIP file and thus the CSVReader get's confused?</p>\n<p><strong>EDIT:</strong><br />\nIt is indeed because we pass in a <code>ZipInputStream</code> to the <code>CSVReader</code>. If I pass in normal <code>InputStream</code> of a CSV it works. This begs the question: Why does it work if I directly subscribe to the <code>Flux</code> but not if I use <code>collectList()</code>?</p>\n"},{"tags":["java","arrays","selenium-webdriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681980940,"post_id":76061351,"comment_id":134144939,"body_markdown":"Your code looks fine to me. Is it this line `driver.findElement(By.xpath(&quot; //img[@id=\\&quot;FMP-target\\&quot;]&quot;)).click()` which is throwing `Unable to locate Exception`? Worth checking if the XPATH expression is genuinely correct? I cannot access this site from my location, hence can&#39;t check myself. Also(although it shouldn&#39;t make difference), I see a leading whitespace in this XPATH expression, correct it.","body":"Your code looks fine to me. Is it this line <code>driver.findElement(By.xpath(&quot; &#47;&#47;img[@id=\\&quot;FMP-target\\&quot;]&quot;)).click()</code> which is throwing <code>Unable to locate Exception</code>? Worth checking if the XPATH expression is genuinely correct? I cannot access this site from my location, hence can&#39;t check myself. Also(although it shouldn&#39;t make difference), I see a leading whitespace in this XPATH expression, correct it."}],"answers":[{"tags":[],"owner":{"account_id":27793345,"reputation":24,"user_id":21219384,"display_name":"Dinesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977153,"creation_date":1681977153,"answer_id":76061720,"question_id":76061351,"body_markdown":"    Replace \r\n    String parentHandle = driver.getWindowHandle();\r\n            ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tabs2.get(1));\r\n    \r\n    To \r\n    Set&lt;String&gt; tab1 = driver.getWindowHandles();\r\n    \t\tint count=tab1.size();\r\n    \t\tfor(String second:tab1) { \r\n    \t\t\tdriver.switchTo().window(second); \r\n    \t\t}","title":"Working on second tab in java selenium But unable to interact with the elements on the second tab","body":"<pre><code>Replace \nString parentHandle = driver.getWindowHandle();\n        ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tabs2.get(1));\n\nTo \nSet&lt;String&gt; tab1 = driver.getWindowHandles();\n        int count=tab1.size();\n        for(String second:tab1) { \n            driver.switchTo().window(second); \n        }\n</code></pre>\n"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681977153,"creation_date":1681974020,"question_id":76061351,"body_markdown":"I am working on airbnb site I have searched mumbai and then clicked on the respective content which redirects the browser to open the content in a new tab the search is working fine also I am able to shift on the second tab using arraylist, but I am not able to interact with any element on the second tab using java selenium I am getting error a unable tolocate element,the focus is shifted to the second tab but even javascript is not working on the second tab    \r\n\r\n\r\n\r\n    package Practice;\r\n    import org.junit.Assert;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.Alert;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import java.util.ArrayList;\r\n    import java.time.Duration;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    import java.util.concurrent.TimeUnit;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    \r\n    \r\n    public class Airbnbmumbai\r\n    {\r\n        public static void main(String[]args) throws InterruptedException {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;pathtochromedriver&quot;);\r\n            ChromeOptions ops = new ChromeOptions();\r\n            ops.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n            ChromeDriver driver = new ChromeDriver(ops);\r\n            driver.get(&quot;https://www.airbnb.co.in/&quot;);\r\n            driver.manage().window().maximize();\r\n            driver.navigate().forward();\r\n            Thread.sleep(1000);\r\n            // Clicking on trending //\r\n            driver.findElement(By.xpath(&quot;//div[@class=\\&quot;f19g2zq0 dir dir-ltr\\&quot;]&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(2000);\r\n            // Getting the title of the page on starting of the page //\r\n            System.out.println(&quot;Page title is : &quot; + driver.getTitle());\r\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;query\\&quot;]&quot;)).sendKeys(&quot;Mumbai&quot;);\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;//div[@class=\\&quot;_r1t6ga\\&quot;]&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;_1gazwvry notranslate\\&quot;])[4]&quot;)).click();\r\n            driver.navigate().forward();\r\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div/div/div/header/div/div[2]/div[2]/div/div/div/form/div[2]/div/div[3]/div[4]/div/div/section/div/div/div/div/div[2]/div[1]/div/div[1]/div/div/div/div/div[2]/div[2]/div/div[3]/div/table/tbody/tr[5]/td[4]/div&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;//div[@class=\\&quot;p1kudodg dir dir-ltr\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;i98ho2o dir dir-ltr\\&quot;])[2]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div/div/div/header/div/div[2]/div[2]/div/div/div/form/div[2]/div/div[5]/div[2]/div/div/div/section/div/div/div/div[2]/div[2]/div/button[2]/span&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;t1l18xbv dir dir-ltr\\&quot;]&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div/div[2]/div/div/div/div/div[1]/div/div/div/div/div[2]&quot;)).click();\r\n            System.out.println(&quot;Page title is : &quot; + driver.getTitle());\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div/div[2]/div/div/div/div/div[7]/div/div[2]/div/div/div/div[1]&quot;)).click();\r\n            // Now will work on the second window //\r\n            String parentHandle = driver.getWindowHandle();\r\n            ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tabs2.get(1));\r\n            // Clicking on see all photos //\r\n            System.out.println(&quot;Page title is : &quot; + driver.getTitle());\r\n            driver.navigate().refresh();\r\n            driver.findElement(By.xpath(&quot; //img[@id=\\&quot;FMP-target\\&quot;]&quot;)).click();\r\n            JavascriptExecutor js = (JavascriptExecutor) driver;\r\n            js.executeScript(&quot;window.scrollBy(0,450)&quot;, &quot;&quot;);\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    }","title":"Working on second tab in java selenium But unable to interact with the elements on the second tab","body":"<p>I am working on airbnb site I have searched mumbai and then clicked on the respective content which redirects the browser to open the content in a new tab the search is working fine also I am able to shift on the second tab using arraylist, but I am not able to interact with any element on the second tab using java selenium I am getting error a unable tolocate element,the focus is shifted to the second tab but even javascript is not working on the second tab</p>\n<pre><code>package Practice;\nimport org.junit.Assert;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.Alert;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport java.util.ArrayList;\nimport java.time.Duration;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.concurrent.TimeUnit;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.Select;\n\n\npublic class Airbnbmumbai\n{\n    public static void main(String[]args) throws InterruptedException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;pathtochromedriver&quot;);\n        ChromeOptions ops = new ChromeOptions();\n        ops.addArguments(&quot;--remote-allow-origins=*&quot;);\n        ChromeDriver driver = new ChromeDriver(ops);\n        driver.get(&quot;https://www.airbnb.co.in/&quot;);\n        driver.manage().window().maximize();\n        driver.navigate().forward();\n        Thread.sleep(1000);\n        // Clicking on trending //\n        driver.findElement(By.xpath(&quot;//div[@class=\\&quot;f19g2zq0 dir dir-ltr\\&quot;]&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(2000);\n        // Getting the title of the page on starting of the page //\n        System.out.println(&quot;Page title is : &quot; + driver.getTitle());\n        driver.findElement(By.xpath(&quot;//input[@name=\\&quot;query\\&quot;]&quot;)).sendKeys(&quot;Mumbai&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;//div[@class=\\&quot;_r1t6ga\\&quot;]&quot;)).click();\n        driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;_1gazwvry notranslate\\&quot;])[4]&quot;)).click();\n        driver.navigate().forward();\n        driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div/div/div/header/div/div[2]/div[2]/div/div/div/form/div[2]/div/div[3]/div[4]/div/div/section/div/div/div/div/div[2]/div[1]/div/div[1]/div/div/div/div/div[2]/div[2]/div/div[3]/div/table/tbody/tr[5]/td[4]/div&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;//div[@class=\\&quot;p1kudodg dir dir-ltr\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;i98ho2o dir dir-ltr\\&quot;])[2]&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div/div/div/header/div/div[2]/div[2]/div/div/div/form/div[2]/div/div[5]/div[2]/div/div/div/section/div/div/div/div[2]/div[2]/div/button[2]/span&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;//span[@class=\\&quot;t1l18xbv dir dir-ltr\\&quot;]&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div/div[2]/div/div/div/div/div[1]/div/div/div/div/div[2]&quot;)).click();\n        System.out.println(&quot;Page title is : &quot; + driver.getTitle());\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div/div[2]/div/div/div/div/div[7]/div/div[2]/div/div/div/div[1]&quot;)).click();\n        // Now will work on the second window //\n        String parentHandle = driver.getWindowHandle();\n        ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tabs2.get(1));\n        // Clicking on see all photos //\n        System.out.println(&quot;Page title is : &quot; + driver.getTitle());\n        driver.navigate().refresh();\n        driver.findElement(By.xpath(&quot; //img[@id=\\&quot;FMP-target\\&quot;]&quot;)).click();\n        JavascriptExecutor js = (JavascriptExecutor) driver;\n        js.executeScript(&quot;window.scrollBy(0,450)&quot;, &quot;&quot;);\n\n\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","google-drive-api","onactivityresult","startactivityforresult"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1681654151,"post_id":76028030,"comment_id":134087897,"body_markdown":"Is `btnSubmit.setOnClickListener` actually inside `onCreate` in your code? Can you include more details about how you debugged it and what the result was? For example, does it launch the sign in activity when you click the button? Were you using log statements to determine which methods were called?","body":"Is <code>btnSubmit.setOnClickListener</code> actually inside <code>onCreate</code> in your code? Can you include more details about how you debugged it and what the result was? For example, does it launch the sign in activity when you click the button? Were you using log statements to determine which methods were called?"},{"owner":{"account_id":22020166,"reputation":1,"user_id":16289096,"display_name":"SepidehDev"},"score":0,"creation_date":1681677366,"post_id":76028030,"comment_id":134091200,"body_markdown":"@TylerV No, btnSubmit.setOnClickListener is not inside onCreate in my code. \nI have use log statment in both method. requestSignIn() called but onActivityResult is not called.","body":"@TylerV No, btnSubmit.setOnClickListener is not inside onCreate in my code.  I have use log statment in both method. requestSignIn() called but onActivityResult is not called."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1681678585,"post_id":76028030,"comment_id":134091343,"body_markdown":"Where is it then? Usually that kind of code goes in `onCreate`. Is the sign in activity launched? If not, check logcat for any error messages.","body":"Where is it then? Usually that kind of code goes in <code>onCreate</code>. Is the sign in activity launched? If not, check logcat for any error messages."},{"owner":{"account_id":22020166,"reputation":1,"user_id":16289096,"display_name":"SepidehDev"},"score":0,"creation_date":1681679879,"post_id":76028030,"comment_id":134091495,"body_markdown":"@TylerV Now I have put btnSubmit.setOnClickListener in OnCreate, but it still doesn&#39;t work!","body":"@TylerV Now I have put btnSubmit.setOnClickListener in OnCreate, but it still doesn&#39;t work!"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1681690972,"post_id":76028030,"comment_id":134092565,"body_markdown":"Update the question to show the updated code please. Can you replicate it in a minimal app in a new project?","body":"Update the question to show the updated code please. Can you replicate it in a minimal app in a new project?"},{"owner":{"account_id":22020166,"reputation":1,"user_id":16289096,"display_name":"SepidehDev"},"score":0,"creation_date":1681803063,"post_id":76028030,"comment_id":134111221,"body_markdown":"@TylerV I have checked the code in different Activity. Once I wrote the code in the mainActivity and the program worked without any Problemm as intended (requestSignIn() is called exactly when the btnSubmit.setOnClickListener and onActivityresult also worked.). But, when I take the same program to another activity, it doesn&#39;t work. I&#39;m really confused and I don&#39;t understand why this is happening. (The question has been updated)","body":"@TylerV I have checked the code in different Activity. Once I wrote the code in the mainActivity and the program worked without any Problemm as intended (requestSignIn() is called exactly when the btnSubmit.setOnClickListener and onActivityresult also worked.). But, when I take the same program to another activity, it doesn&#39;t work. I&#39;m really confused and I don&#39;t understand why this is happening. (The question has been updated)"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1681825347,"post_id":76028030,"comment_id":134116719,"body_markdown":"Am I correct in assuming in `SecondActivity` you see the `requestSignIn` toast but not the `onActivityResult` toast, while in `MainActivity` you see both? Try to use specific statements in your question instead of &quot;It doesn&#39;t work&quot;. As-is I don&#39;t see anything wrong with the code that would cause the behavior you are describing. Is the &quot;Sign In&quot; activity displayed in SecondActivity?","body":"Am I correct in assuming in <code>SecondActivity</code> you see the <code>requestSignIn</code> toast but not the <code>onActivityResult</code> toast, while in <code>MainActivity</code> you see both? Try to use specific statements in your question instead of &quot;It doesn&#39;t work&quot;. As-is I don&#39;t see anything wrong with the code that would cause the behavior you are describing. Is the &quot;Sign In&quot; activity displayed in SecondActivity?"},{"owner":{"account_id":22020166,"reputation":1,"user_id":16289096,"display_name":"SepidehDev"},"score":0,"creation_date":1681978369,"post_id":76028030,"comment_id":134144366,"body_markdown":"@TylerV yes sir. you are correct . I have update my question . I don&#39;t understand where my problem is. same code in two different activities! in mainactivity works correctly and called onActivityResult but in second activity it never reaches onActivityResult.","body":"@TylerV yes sir. you are correct . I have update my question . I don&#39;t understand where my problem is. same code in two different activities! in mainactivity works correctly and called onActivityResult but in second activity it never reaches onActivityResult."}],"owner":{"account_id":22020166,"reputation":1,"user_id":16289096,"display_name":"SepidehDev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681977152,"creation_date":1681651535,"question_id":76028030,"body_markdown":"I use the following link to use the Google Drive API to upload a file to Drive:\r\nhttps://www.youtube.com/watch?v=rznYp43KLRc\r\n\r\nWhen I call requestSignIn() in onCreate, it works correctly. But when I call it in setOnClickListener, it doesn&#39;t work! \r\n\r\nMy code looks like this:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // When I call requestSignIn here it works correctly \r\n        // requestSignIn();\r\n    }\r\n\r\n    private void requestSignIn() {\r\n        GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestEmail()\r\n                .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\r\n                .build();\r\n        GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\r\n        startActivityForResult(client.getSignInIntent(), 400);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        switch (requestCode)\r\n        {\r\n            case 400:\r\n                if(resultCode== RESULT_OK)\r\n                {\r\n                    handleSignInIntent(data);\r\n                }\r\n        }\r\n    }\r\n\r\n    private void handleSignInIntent(Intent data) {\r\n        GoogleSignIn.getSignedInAccountFromIntent(data)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;GoogleSignInAccount&gt;() {\r\n                    @Override\r\n                    public void onSuccess(GoogleSignInAccount googleSignInAccount) {\r\n                        GoogleAccountCredential credential = GoogleAccountCredential\r\n                                .usingOAuth2(MainActivity.this , Collections.singleton(DriveScopes.DRIVE_FILE));\r\n\r\n                        credential.setSelectedAccount(googleSignInAccount.getAccount());\r\n\r\n                        Drive googleDriveService= new Drive.Builder(\r\n                                AndroidHttp.newCompatibleTransport(),\r\n                                new GsonFactory(),\r\n                                credential)\r\n                                .setApplicationName(&quot;My Drive Totorial&quot;)\r\n                                .build();\r\n                        driveServiceHelper = new DriveServiceHelper(googleDriveService);\r\n\r\n\r\n\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n    \r\n    btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                \r\n                if (signatureView.isBitmapEmpty()) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Bitte unterschreiben&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    \r\n                    // I want to sign in to Google Drive now \r\n                     requestSignIn(); // but it doesn&#39;t work!\r\n                }\r\n            }\r\n        });\r\n\r\n\r\nWhat I want is that &quot;Sign in to client&quot; should not be possible while the &quot;activity is loading&quot;, but it should only be possible after &quot;submit&quot; has been clicked.\r\n\r\n\r\nWhen I debug the code, requestSignIn() is being called correctly, but onActivityResult is not called correctly.\r\n\r\nIn my code below, after doing\r\n\r\n`startActivityForResult(client.getSignInIntent(), 400)`\r\n\r\nit never reaches onActivityResult.\r\n\r\nI am a beginner with Android. I don&#39;t underestand where is the problem? Do you have any idea?!\r\n\r\nThanks in advance\r\n\r\n++++UPDATE 18.04.2023+++\r\n\r\nin the mainActivity worked the program without any Problemm as intended\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private Button btnSubmit;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnSubmit = findViewById(R.id.submit);\r\n        btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                requestSignIn(); //it works correctly\r\n            }\r\n        });\r\n    }\r\n    private void requestSignIn() {\r\n        GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestEmail()\r\n                .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\r\n                .build();\r\n        GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\r\n        startActivityForResult(client.getSignInIntent(), 400);\r\n        // I see ++++startActivityForResult+++\r\n        Toast.makeText(this, &quot; ++++startActivityForResult+++&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        // I see +++++++++++onActivityResult+++++++++\r\n        Toast.makeText(this, &quot;+++++++++++onActivityResult+++++++++ &quot;, Toast.LENGTH_SHORT).show();\r\n        switch (requestCode)\r\n        {\r\n            case 400:\r\n                if(resultCode== RESULT_OK)\r\n                {\r\n                    handleSignInIntent(data);\r\n                }\r\n        }\r\n    }\r\nwhen I take the same Code to SecondActivity, it doesn&#39;t work.\r\n\r\n    public class SecondActivity extends AppCompatActivity {\r\n    private Button btnSubmit;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnSubmit = findViewById(R.id.submit);\r\n        btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                requestSignIn(); // it doesn&#39;t work!!!!\r\n            }\r\n        });\r\n    }\r\n    private void requestSignIn() {\r\n        GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestEmail()\r\n                .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\r\n                .build();\r\n        GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\r\n        startActivityForResult(client.getSignInIntent(), 400);\r\n        // I see ++startActivityForResult++\r\n        Toast.makeText(this, &quot; ++startActivityForResult++&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        // But here that shows no ++++++++++onActivityResult+++++++++\r\n        Toast.makeText(this, &quot;+++++++++++onActivityResult+++++++++ &quot;, Toast.LENGTH_SHORT).show();\r\n        switch (requestCode)\r\n        {\r\n            case 400:\r\n                if(resultCode== RESULT_OK)\r\n                {\r\n                    handleSignInIntent(data);\r\n                }\r\n        }\r\n    }","title":"onActivityResult not called after click the button (using Google Drive API)","body":"<p>I use the following link to use the Google Drive API to upload a file to Drive:\n<a href=\"https://www.youtube.com/watch?v=rznYp43KLRc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=rznYp43KLRc</a></p>\n<p>When I call requestSignIn() in onCreate, it works correctly. But when I call it in setOnClickListener, it doesn't work!</p>\n<p>My code looks like this:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    // When I call requestSignIn here it works correctly \n    // requestSignIn();\n}\n\nprivate void requestSignIn() {\n    GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestEmail()\n            .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\n            .build();\n    GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\n    startActivityForResult(client.getSignInIntent(), 400);\n}\n\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    switch (requestCode)\n    {\n        case 400:\n            if(resultCode== RESULT_OK)\n            {\n                handleSignInIntent(data);\n            }\n    }\n}\n\nprivate void handleSignInIntent(Intent data) {\n    GoogleSignIn.getSignedInAccountFromIntent(data)\n            .addOnSuccessListener(new OnSuccessListener&lt;GoogleSignInAccount&gt;() {\n                @Override\n                public void onSuccess(GoogleSignInAccount googleSignInAccount) {\n                    GoogleAccountCredential credential = GoogleAccountCredential\n                            .usingOAuth2(MainActivity.this , Collections.singleton(DriveScopes.DRIVE_FILE));\n\n                    credential.setSelectedAccount(googleSignInAccount.getAccount());\n\n                    Drive googleDriveService= new Drive.Builder(\n                            AndroidHttp.newCompatibleTransport(),\n                            new GsonFactory(),\n                            credential)\n                            .setApplicationName(&quot;My Drive Totorial&quot;)\n                            .build();\n                    driveServiceHelper = new DriveServiceHelper(googleDriveService);\n\n\n\n                }\n            })\n            .addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n\n                }\n            });\n}\n\n\nbtnSubmit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            \n            if (signatureView.isBitmapEmpty()) {\n                Toast.makeText(getApplicationContext(), &quot;Bitte unterschreiben&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else {\n                \n                // I want to sign in to Google Drive now \n                 requestSignIn(); // but it doesn't work!\n            }\n        }\n    });\n</code></pre>\n<p>What I want is that &quot;Sign in to client&quot; should not be possible while the &quot;activity is loading&quot;, but it should only be possible after &quot;submit&quot; has been clicked.</p>\n<p>When I debug the code, requestSignIn() is being called correctly, but onActivityResult is not called correctly.</p>\n<p>In my code below, after doing</p>\n<p><code>startActivityForResult(client.getSignInIntent(), 400)</code></p>\n<p>it never reaches onActivityResult.</p>\n<p>I am a beginner with Android. I don't underestand where is the problem? Do you have any idea?!</p>\n<p>Thanks in advance</p>\n<p>++++UPDATE 18.04.2023+++</p>\n<p>in the mainActivity worked the program without any Problemm as intended</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate Button btnSubmit;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    btnSubmit = findViewById(R.id.submit);\n    btnSubmit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            requestSignIn(); //it works correctly\n        }\n    });\n}\nprivate void requestSignIn() {\n    GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestEmail()\n            .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\n            .build();\n    GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\n    startActivityForResult(client.getSignInIntent(), 400);\n    // I see ++++startActivityForResult+++\n    Toast.makeText(this, &quot; ++++startActivityForResult+++&quot;, Toast.LENGTH_SHORT).show();\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    // I see +++++++++++onActivityResult+++++++++\n    Toast.makeText(this, &quot;+++++++++++onActivityResult+++++++++ &quot;, Toast.LENGTH_SHORT).show();\n    switch (requestCode)\n    {\n        case 400:\n            if(resultCode== RESULT_OK)\n            {\n                handleSignInIntent(data);\n            }\n    }\n}\n</code></pre>\n<p>when I take the same Code to SecondActivity, it doesn't work.</p>\n<pre><code>public class SecondActivity extends AppCompatActivity {\nprivate Button btnSubmit;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    btnSubmit = findViewById(R.id.submit);\n    btnSubmit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            requestSignIn(); // it doesn't work!!!!\n        }\n    });\n}\nprivate void requestSignIn() {\n    GoogleSignInOptions signInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestEmail()\n            .requestScopes(new Scope(DriveScopes.DRIVE_FILE))\n            .build();\n    GoogleSignInClient client = GoogleSignIn.getClient(this,signInOptions);\n    startActivityForResult(client.getSignInIntent(), 400);\n    // I see ++startActivityForResult++\n    Toast.makeText(this, &quot; ++startActivityForResult++&quot;, Toast.LENGTH_SHORT).show();\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    // But here that shows no ++++++++++onActivityResult+++++++++\n    Toast.makeText(this, &quot;+++++++++++onActivityResult+++++++++ &quot;, Toast.LENGTH_SHORT).show();\n    switch (requestCode)\n    {\n        case 400:\n            if(resultCode== RESULT_OK)\n            {\n                handleSignInIntent(data);\n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-gradle-plugin"],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681977007,"creation_date":1681089913,"question_id":75973714,"body_markdown":"I would like to start an app but I get the error message \r\n\r\n    Execution failed for task &#39;:app:extractDeepLinksDebug&#39;.\r\n    &gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @5710727a\r\n\r\nI had a look at the answer here https://stackoverflow.com/questions/68500889/unable-to-make-field-private-final-java-lang-string-java-io-file-path-accessible but my Java SKD version 19 and grandle 7.6.1 should be compatible according to https://docs.gradle.org/current/userguide/compatibility.html.\r\n\r\nCan anyone think about a reason as to why I am getting this error and how to tackle it?\r\n\r\nHere is the build.gradle file\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            def nav_version = &quot;2.3.0&quot;\r\n            classpath &#39;com.android.tools.build:gradle:4.2.1&#39;\r\n            classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            jcenter() // Warning: this repository is going to shut down soon\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nAnd here the gradle-wrapper.properties file\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\n\r\n**Reminder**: I am still having this problem. Does anyone have a suggestion as to why it occurs and how to tackle it. I&#39;ll appreciate every comment.","title":"Unable to make field private final java.lang.String java.io.File.path accessible altough Java and gradle version are compatible","body":"<p>I would like to start an app but I get the error message</p>\n<pre><code>Execution failed for task ':app:extractDeepLinksDebug'.\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @5710727a\n</code></pre>\n<p>I had a look at the answer here <a href=\"https://stackoverflow.com/questions/68500889/unable-to-make-field-private-final-java-lang-string-java-io-file-path-accessible\">Unable to make field private final java.lang.String java.io.File.path accessible</a> but my Java SKD version 19 and grandle 7.6.1 should be compatible according to <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a>.</p>\n<p>Can anyone think about a reason as to why I am getting this error and how to tackle it?</p>\n<p>Here is the build.gradle file</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        def nav_version = &quot;2.3.0&quot;\n        classpath 'com.android.tools.build:gradle:4.2.1'\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>And here the gradle-wrapper.properties file</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p><strong>Reminder</strong>: I am still having this problem. Does anyone have a suggestion as to why it occurs and how to tackle it. I'll appreciate every comment.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","reactive"],"comments":[{"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"score":1,"creation_date":1681550334,"post_id":76021314,"comment_id":134077003,"body_markdown":"@Hulk it returns Mono&lt;Comment&gt;, if not found it throws an exception, but no exceptions were thrown, and Ids do exist, so I don&#39;t think that is the problem","body":"@Hulk it returns Mono&lt;Comment&gt;, if not found it throws an exception, but no exceptions were thrown, and Ids do exist, so I don&#39;t think that is the problem"},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1681554590,"post_id":76021314,"comment_id":134077448,"body_markdown":"you need to &quot;reach into&quot; and flatten out content of mono&#39;s for it to force computation. Instead of Flux&lt;Mono&lt;Void&gt;&gt; you want to create Flux&lt;Void&gt;. Look into Flux#concat","body":"you need to &quot;reach into&quot; and flatten out content of mono&#39;s for it to force computation. Instead of Flux&lt;Mono&lt;Void&gt;&gt; you want to create Flux&lt;Void&gt;. Look into Flux#concat"}],"answers":[{"tags":[],"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681976843,"creation_date":1681976843,"answer_id":76061690,"question_id":76021314,"body_markdown":"Using Flux.concat() fixed issues that I was having, now code from the question would look something like this:\r\n\r\n```\r\nList&lt;Mono&lt;Void&gt;&gt; monos = new ArrayList&lt;&gt;();\r\n\r\nfor (String s : comment.getReplyCommentIds()) {\r\n    monos.add(deleteCommentReply(s));\r\n}\r\n\r\nFlux&lt;Void&gt; deleteReply = Flux.concat(monos);\r\nreturn deleteReply.then(finalDelete(id, comment));\r\n```\r\n\r\nUsing concat all the nested Monos execute.","title":"Why doesn&#39;t embedded Mono execute?","body":"<p>Using Flux.concat() fixed issues that I was having, now code from the question would look something like this:</p>\n<pre><code>List&lt;Mono&lt;Void&gt;&gt; monos = new ArrayList&lt;&gt;();\n\nfor (String s : comment.getReplyCommentIds()) {\n    monos.add(deleteCommentReply(s));\n}\n\nFlux&lt;Void&gt; deleteReply = Flux.concat(monos);\nreturn deleteReply.then(finalDelete(id, comment));\n</code></pre>\n<p>Using concat all the nested Monos execute.</p>\n"}],"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76061690,"answer_count":1,"score":1,"last_activity_date":1681976843,"creation_date":1681549657,"question_id":76021314,"body_markdown":"I have a function:\r\n```\r\nprivate Mono&lt;Void&gt; deleteCommentReply(String id) {\r\n    System.out.println(&quot;YES&quot;);\r\n    return this.getCommentById(id).flatMap(comment -&gt; {\r\n        System.out.println(&quot;YES1&quot;);\r\n        // Does some other Mono call, and after them returns Mono.empty();\r\n        return Mono.empty();\r\n    });\r\n}\r\n```\r\n*getCommentById returns Mono&lt;Comment&gt;, if not found it throws an exception, but no exceptions were thrown, and Ids do exist, so that works fine.\r\n\r\nWith this code I call it:\r\n```\r\nList&lt;Mono&lt;Void&gt;&gt; monos = new ArrayList&lt;&gt;();\r\nfor (String s : comment.getReplyCommentIds()) {\r\n     monos.add(deleteCommentReply(s));\r\n}\r\n\r\nFlux&lt;Mono&lt;Void&gt;&gt; deleteReply = Flux.fromIterable(monos);\r\n\r\nreturn deleteReply.then(finalDelete(id, comment));\r\n```\r\nYES prints out the right number of times, but YES1 never prints. Why does embedded Mono never execute? How to fix it?\r\n\r\nAlso when I call .blockLast() before then, it does execute once successfully (YES and YES1 are printed and is removed from db). So the method itself works, the question is how to call it (and finalDelete() should be called after it is done)?","title":"Why doesn&#39;t embedded Mono execute?","body":"<p>I have a function:</p>\n<pre><code>private Mono&lt;Void&gt; deleteCommentReply(String id) {\n    System.out.println(&quot;YES&quot;);\n    return this.getCommentById(id).flatMap(comment -&gt; {\n        System.out.println(&quot;YES1&quot;);\n        // Does some other Mono call, and after them returns Mono.empty();\n        return Mono.empty();\n    });\n}\n</code></pre>\n<p>*getCommentById returns Mono, if not found it throws an exception, but no exceptions were thrown, and Ids do exist, so that works fine.</p>\n<p>With this code I call it:</p>\n<pre><code>List&lt;Mono&lt;Void&gt;&gt; monos = new ArrayList&lt;&gt;();\nfor (String s : comment.getReplyCommentIds()) {\n     monos.add(deleteCommentReply(s));\n}\n\nFlux&lt;Mono&lt;Void&gt;&gt; deleteReply = Flux.fromIterable(monos);\n\nreturn deleteReply.then(finalDelete(id, comment));\n</code></pre>\n<p>YES prints out the right number of times, but YES1 never prints. Why does embedded Mono never execute? How to fix it?</p>\n<p>Also when I call .blockLast() before then, it does execute once successfully (YES and YES1 are printed and is removed from db). So the method itself works, the question is how to call it (and finalDelete() should be called after it is done)?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1499095669,"post_id":44889041,"comment_id":76756490,"body_markdown":"Did you try `selectByIndex`?","body":"Did you try <code>selectByIndex</code>?"},{"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"score":0,"creation_date":1499095932,"post_id":44889041,"comment_id":76756651,"body_markdown":"I tried selectByIndex and selectByValue but dint worked.","body":"I tried selectByIndex and selectByValue but dint worked."},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1499096335,"post_id":44889041,"comment_id":76756901,"body_markdown":"Try to use `getOptions()` and print it out to console in `for` loop. We&#39;ll see if Selenium finds these options in the first place","body":"Try to use <code>getOptions()</code> and print it out to console in <code>for</code> loop. We&#39;ll see if Selenium finds these options in the first place"},{"owner":{"account_id":1916259,"reputation":4166,"user_id":1728790,"accept_rate":67,"display_name":"demouser123"},"score":0,"creation_date":1499096459,"post_id":44889041,"comment_id":76756971,"body_markdown":"Please apply some kind of `wait` to actually let the operation happen.","body":"Please apply some kind of <code>wait</code> to actually let the operation happen."},{"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"score":0,"creation_date":1499097716,"post_id":44889041,"comment_id":76757683,"body_markdown":"@RafałLaskowski, used getOptions method to print text. Its printing  0 1 2 3 4 5 6 7 8  instead of 1 2 3 4 5 6 7 8 9. Please find my code below. List&lt;WebElement&gt; list = sel.getOptions();\n\t\tint size = list.size();\n\n\t\tfor (int i = 0; i &lt; size; i++) {\n\t\t\tString values = list.get(i).getText();\n\t\t\tSystem.out.println(values);\n\t\t}","body":"@RafałLaskowski, used getOptions method to print text. Its printing  0 1 2 3 4 5 6 7 8  instead of 1 2 3 4 5 6 7 8 9. Please find my code below. List&lt;WebElement&gt; list = sel.getOptions(); \t\tint size = list.size();  \t\tfor (int i = 0; i &lt; size; i++) { \t\t\tString values = list.get(i).getText(); \t\t\tSystem.out.println(values); \t\t}"},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1499102968,"post_id":44889041,"comment_id":76760149,"body_markdown":"I would try demouser123&#39;s approach. Try do add sleeps between select operations and if that helps - convert them to `ExpectedConditions`\n\nTry:\npublic void selAdults(String text) {\n            try{\n                Thread.sleep(5000);\n                Select selectAdults = new Select(adultsDropDown);\n                Thread.sleep(5000);\n                selectAdults.selectByVisibleText(text);\n           catch (InterruptedException e) {}\n    }","body":"I would try demouser123&#39;s approach. Try do add sleeps between select operations and if that helps - convert them to <code>ExpectedConditions</code>  Try: public void selAdults(String text) {             try{                 Thread.sleep(5000);                 Select selectAdults = new Select(adultsDropDown);                 Thread.sleep(5000);                 selectAdults.selectByVisibleText(text);            catch (InterruptedException e) {}     }"},{"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"score":0,"creation_date":1499137160,"post_id":44889041,"comment_id":76770433,"body_markdown":"@RafałLaskowski, tried with above approach but still its not working.","body":"@RafałLaskowski, tried with above approach but still its not working."},{"owner":{"account_id":2697401,"reputation":5059,"user_id":2329061,"accept_rate":75,"display_name":"Buaban"},"score":1,"creation_date":1499144697,"post_id":44889041,"comment_id":76772255,"body_markdown":"According to your comment _Its printing 0 1 2 3 4 5 6 7 8_, I think there are 2 dropdowns. Can you click at the select? `adultsDropDown.click();`","body":"According to your comment <i>Its printing 0 1 2 3 4 5 6 7 8</i>, I think there are 2 dropdowns. Can you click at the select? <code>adultsDropDown.click();</code>"},{"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"score":0,"creation_date":1499160520,"post_id":44889041,"comment_id":76781354,"body_markdown":"@Buaban, able to click and after clicking dropdown lists are displayed.","body":"@Buaban, able to click and after clicking dropdown lists are displayed."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1499182667,"post_id":44889041,"comment_id":76796228,"body_markdown":"@BhanuPrakash What do you mean by `not working` and `I am stucked with dropdown`? What are your exact manual steps? Where are you stuck? Thanks","body":"@BhanuPrakash What do you mean by <code>not working</code> and <code>I am stucked with dropdown</code>? What are your exact manual steps? Where are you stuck? Thanks"},{"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"score":0,"creation_date":1499223102,"post_id":44889041,"comment_id":76808738,"body_markdown":"@DebanjanB, Not working means selenium script is not selecting value from dropdown list and not throwing any exception also. I am stucked with this workflow.","body":"@DebanjanB, Not working means selenium script is not selecting value from dropdown list and not throwing any exception also. I am stucked with this workflow."}],"answers":[{"tags":[],"owner":{"account_id":28357528,"reputation":1,"user_id":21688037,"display_name":"Kannaiah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681976676,"creation_date":1681976676,"answer_id":76061665,"question_id":44889041,"body_markdown":"selectAdults.selectByVisibleText(&quot;text&quot;);\r\n\r\ntext should be in double quotes\r\n\r\nselectAdults.selectByVisibleText(&quot;2&quot;)","title":"Select class in selenium webdriver is not working for dropdown","body":"<p>selectAdults.selectByVisibleText(&quot;text&quot;);</p>\n<p>text should be in double quotes</p>\n<p>selectAdults.selectByVisibleText(&quot;2&quot;)</p>\n"}],"owner":{"account_id":6658949,"reputation":41,"user_id":5138626,"accept_rate":50,"display_name":"Bhanu Prakash"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681976676,"creation_date":1499094899,"question_id":44889041,"body_markdown":"I am writing automation script for website and I am stuck with dropdown. Checked with all available solutions but no use. Please find below code snippet and html content for select tag. If any solution will help me to unblock from this.\r\n\r\nHtml content:\r\n\r\n    &lt;select id=&quot;Adults&quot; class=&quot;span span15&quot; tabindex=&quot;8&quot; name=&quot;adults&quot; size=&quot;1&quot;&gt;\r\n    &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;\r\n    &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;\r\n    &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;\r\n    &lt;option value=&quot;4&quot;&gt;4&lt;/option&gt;\r\n    &lt;option value=&quot;5&quot;&gt;5&lt;/option&gt;\r\n    &lt;option value=&quot;6&quot;&gt;6&lt;/option&gt;\r\n    &lt;option value=&quot;7&quot;&gt;7&lt;/option&gt;\r\n    &lt;option value=&quot;8&quot;&gt;8&lt;/option&gt;\r\n    &lt;option value=&quot;9&quot;&gt;9&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\nJava code:\r\n\r\n        @FindBy(xpath = &quot;//select[@id=&#39;Adults&#39;]&quot;)\r\n    \tprivate WebElement adultsDropDown;\r\n    \r\n    \tpublic SearchFlightRoundTrip(WebDriver driver) {\r\n    \t\tPageFactory.initElements(driver, this);\r\n    \t\tthis.driver = driver;\r\n    \t}\r\n\r\n        public void selAdults(String text) {\r\n        \t\tSelect selectAdults = new Select(adultsDropDown);\r\n        \t    selectAdults.selectByVisibleText(text);\r\n    \t}\r\n\r\n        @Test\r\n    \tpublic void selNumAdults() {\r\n    \t\tsearchFlight.selAdults(&quot;2&quot;);\r\n    \t}\r\n\r\nAbove script runs without any error or exception but does not perform selection in dropdown. ","title":"Select class in selenium webdriver is not working for dropdown","body":"<p>I am writing automation script for website and I am stuck with dropdown. Checked with all available solutions but no use. Please find below code snippet and html content for select tag. If any solution will help me to unblock from this.</p>\n\n<p>Html content:</p>\n\n<pre><code>&lt;select id=\"Adults\" class=\"span span15\" tabindex=\"8\" name=\"adults\" size=\"1\"&gt;\n&lt;option value=\"1\"&gt;1&lt;/option&gt;\n&lt;option value=\"2\"&gt;2&lt;/option&gt;\n&lt;option value=\"3\"&gt;3&lt;/option&gt;\n&lt;option value=\"4\"&gt;4&lt;/option&gt;\n&lt;option value=\"5\"&gt;5&lt;/option&gt;\n&lt;option value=\"6\"&gt;6&lt;/option&gt;\n&lt;option value=\"7\"&gt;7&lt;/option&gt;\n&lt;option value=\"8\"&gt;8&lt;/option&gt;\n&lt;option value=\"9\"&gt;9&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>    @FindBy(xpath = \"//select[@id='Adults']\")\n    private WebElement adultsDropDown;\n\n    public SearchFlightRoundTrip(WebDriver driver) {\n        PageFactory.initElements(driver, this);\n        this.driver = driver;\n    }\n\n    public void selAdults(String text) {\n            Select selectAdults = new Select(adultsDropDown);\n            selectAdults.selectByVisibleText(text);\n    }\n\n    @Test\n    public void selNumAdults() {\n        searchFlight.selAdults(\"2\");\n    }\n</code></pre>\n\n<p>Above script runs without any error or exception but does not perform selection in dropdown. </p>\n"},{"tags":["java","debugging","gradle","intellij-idea","filenotfoundexception"],"comments":[{"owner":{"account_id":12730838,"reputation":503,"user_id":9247555,"display_name":"Bms bharadwaj"},"score":0,"creation_date":1681752753,"post_id":76036994,"comment_id":134104396,"body_markdown":"Have you installed the listed dependencies?","body":"Have you installed the listed dependencies?"}],"answers":[{"tags":[],"owner":{"account_id":27298903,"reputation":11,"user_id":20816077,"display_name":"Rutger ter Heide"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681807990,"creation_date":1681807990,"answer_id":76042624,"question_id":76036994,"body_markdown":"I deleted my project locally and cloned it again from Git. \r\nAfter loading it IntelliJ the debugger worked again.","title":"IntelliJ debugger Cannot find local variable &#39;FileNotFoundException762_DebugLabel&#39;. What is going on?","body":"<p>I deleted my project locally and cloned it again from Git.\nAfter loading it IntelliJ the debugger worked again.</p>\n"}],"owner":{"account_id":27298903,"reputation":11,"user_id":20816077,"display_name":"Rutger ter Heide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76042624,"answer_count":1,"score":-1,"last_activity_date":1681976654,"creation_date":1681746689,"question_id":76036994,"body_markdown":"Whenever I debug an unit test in IntelliJ using the build in remote debugger, I get the following error:\r\n\r\n```\r\nCannot find local variable &#39;FileNotFoundException762_DebugLabel&#39;\r\nurl= file:/Users/rutgerterheide/.gradle/caches/modules-2/files-2.1/com.sun.xml.bind/jaxb-core/2.3.0/d044c784e41d026778693fb44a8026c1fd9a7506/jaxb-api.jar\r\n```\r\n\r\n\r\nI don&#39;t know what is going on and why IntelliJ keeps giving me this error. Does anyone know what could be causing this and how to fix it?\r\n\r\nWhen I look up the path in Finder I can see indeed that there is no `jaxb-api.jar`.\r\nNow I could add it manually but this is cached data so that doesn&#39;t make sense.\r\nI have tried deleting everything in the `/Users/rutgerterheide/.gradle/caches` folder and rebuilding but it didn&#39;t work.\r\nI have also tried switching to `JDK 1.8` in the project structure of IntelliJ but that gave me the same result.\r\n\r\nI use `Gradle 6.8` and `OpenJDK 11`. The project is in `Spring Boot` and I am running `MacOS 13.3.1 (22E261)`.\r\nMy `build.gradle` contains the following code which might be related (they are installed):\r\n\r\n\r\n```\r\n\r\n\r\nconfigurations {\r\n    saxon\r\n\r\n    compile.exclude group: &#39;stax&#39;, module: &#39;stax-api&#39;\r\n    compile.exclude group: &#39;com.sun.xml.bind&#39;, module: &#39;jaxb-impl&#39;\r\n\r\n}\r\n\r\n\r\ndependencies {\r\n\r\n    implementation &quot;javax.xml.bind:jaxb-api:2.3.0&quot;\r\n    implementation &quot;com.sun.xml.bind:jaxb-core:2.3.0&quot;\r\n    implementation &quot;com.sun.xml.bind:jaxb-impl:2.3.0&quot;\r\n    implementation &quot;com.sun.xml.ws:jaxws-ri:2.3.3&quot;\r\n\r\n\r\n}\r\n```\r\n\r\nThis is my IntelliJ version information:\r\n```\r\nIntelliJ IDEA 2023.1 (Ultimate Edition)\r\nBuild #IU-231.8109.175, built on March 28, 2023\r\nRuntime version: 17.0.6+10-b829.5 aarch64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nmacOS 13.3.1\r\nGC: G1 Young Generation, G1 Old Generation\r\nMemory: 2048M\r\nCores: 10\r\nRegistry:\r\ndebugger.new.tool.window.layout=true\r\nide.experimental.ui=true\r\neditor.minimap.enabled=true\r\n\r\nNon-Bundled Plugins:\r\ncom.jetbrains.jax.ws (231.8109.90)\r\ncom.intellij.bigdatatools (231.8109.175)\r\naws.toolkit (1.64-231)\r\n\r\nKotlin: 231-1.8.20-IJ8109.175\r\n```\r\n\r\nI just don&#39;t expect it to fail and debug the test as usual.","title":"IntelliJ debugger Cannot find local variable &#39;FileNotFoundException762_DebugLabel&#39;. What is going on?","body":"<p>Whenever I debug an unit test in IntelliJ using the build in remote debugger, I get the following error:</p>\n<pre><code>Cannot find local variable 'FileNotFoundException762_DebugLabel'\nurl= file:/Users/rutgerterheide/.gradle/caches/modules-2/files-2.1/com.sun.xml.bind/jaxb-core/2.3.0/d044c784e41d026778693fb44a8026c1fd9a7506/jaxb-api.jar\n</code></pre>\n<p>I don't know what is going on and why IntelliJ keeps giving me this error. Does anyone know what could be causing this and how to fix it?</p>\n<p>When I look up the path in Finder I can see indeed that there is no <code>jaxb-api.jar</code>.\nNow I could add it manually but this is cached data so that doesn't make sense.\nI have tried deleting everything in the <code>/Users/rutgerterheide/.gradle/caches</code> folder and rebuilding but it didn't work.\nI have also tried switching to <code>JDK 1.8</code> in the project structure of IntelliJ but that gave me the same result.</p>\n<p>I use <code>Gradle 6.8</code> and <code>OpenJDK 11</code>. The project is in <code>Spring Boot</code> and I am running <code>MacOS 13.3.1 (22E261)</code>.\nMy <code>build.gradle</code> contains the following code which might be related (they are installed):</p>\n<pre><code>\n\nconfigurations {\n    saxon\n\n    compile.exclude group: 'stax', module: 'stax-api'\n    compile.exclude group: 'com.sun.xml.bind', module: 'jaxb-impl'\n\n}\n\n\ndependencies {\n\n    implementation &quot;javax.xml.bind:jaxb-api:2.3.0&quot;\n    implementation &quot;com.sun.xml.bind:jaxb-core:2.3.0&quot;\n    implementation &quot;com.sun.xml.bind:jaxb-impl:2.3.0&quot;\n    implementation &quot;com.sun.xml.ws:jaxws-ri:2.3.3&quot;\n\n\n}\n</code></pre>\n<p>This is my IntelliJ version information:</p>\n<pre><code>IntelliJ IDEA 2023.1 (Ultimate Edition)\nBuild #IU-231.8109.175, built on March 28, 2023\nRuntime version: 17.0.6+10-b829.5 aarch64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 13.3.1\nGC: G1 Young Generation, G1 Old Generation\nMemory: 2048M\nCores: 10\nRegistry:\ndebugger.new.tool.window.layout=true\nide.experimental.ui=true\neditor.minimap.enabled=true\n\nNon-Bundled Plugins:\ncom.jetbrains.jax.ws (231.8109.90)\ncom.intellij.bigdatatools (231.8109.175)\naws.toolkit (1.64-231)\n\nKotlin: 231-1.8.20-IJ8109.175\n</code></pre>\n<p>I just don't expect it to fail and debug the test as usual.</p>\n"},{"tags":["java","maven","maven-plugin","junit4"],"comments":[{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1473931558,"post_id":24278423,"comment_id":66331302,"body_markdown":"have you solved this?","body":"have you solved this?"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1403073242,"creation_date":1403073242,"answer_id":24278557,"question_id":24278423,"body_markdown":"The loading of the POM file does not look good:\r\n\r\nThe following code is from the examples:\r\n\r\n    File pom = rule.getTestFile( &quot;src/test/resources/unit/project-to-test/pom.xml&quot; );\r\n\r\nand this is what you have:\r\n\r\n    File pom = new File(POM_FILE_NAME);\r\n\r\nApart from this you have a different location which looks like this:\r\n\r\n    private static final String POM_FILE_NAME = &quot;/path/to/pom.xml&quot;; \r\n\r\nBut the location of the pom file should be:\r\n\r\n    private static final String POM_FILE_NAME = &quot;src/test/resources/pom.xml&quot;; \r\n","title":"How to test a maven plugin using JUnit4","body":"<p>The loading of the POM file does not look good:</p>\n\n<p>The following code is from the examples:</p>\n\n<pre><code>File pom = rule.getTestFile( \"src/test/resources/unit/project-to-test/pom.xml\" );\n</code></pre>\n\n<p>and this is what you have:</p>\n\n<pre><code>File pom = new File(POM_FILE_NAME);\n</code></pre>\n\n<p>Apart from this you have a different location which looks like this:</p>\n\n<pre><code>private static final String POM_FILE_NAME = \"/path/to/pom.xml\"; \n</code></pre>\n\n<p>But the location of the pom file should be:</p>\n\n<pre><code>private static final String POM_FILE_NAME = \"src/test/resources/pom.xml\"; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1596692,"reputation":4260,"user_id":1478636,"accept_rate":88,"display_name":"Niko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501010170,"creation_date":1501010170,"answer_id":45311793,"question_id":24278423,"body_markdown":"Also experiencing this issue. The mojo rule fails, because it instantiates a an anonymous implementation of `AbstractMojoTestCase`, which then looks for which then attempts to create an input stream loading data here: `InputStream is = getClass().getResourceAsStream( &quot;/&quot; + getPluginDescriptorLocation() );`. This (`getPluginDescriptorLocation()`) is just a hard-coded file string `&quot;META-INF/maven/plugin.xml&quot;`.\r\n\r\nI resolved this by adding the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m not sure why this fixes the issue. The file still doesn&#39;t exist (I&#39;ve checked both original sources and `target` directories and it&#39;s not in either). So additional searching will be needed to figure out why this works.\r\n\r\nHere&#39;s my dependencies for reference.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.twdata.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mojo-executor&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.aether&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aether-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--Test Dependencies--&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"How to test a maven plugin using JUnit4","body":"<p>Also experiencing this issue. The mojo rule fails, because it instantiates a an anonymous implementation of <code>AbstractMojoTestCase</code>, which then looks for which then attempts to create an input stream loading data here: <code>InputStream is = getClass().getResourceAsStream( \"/\" + getPluginDescriptorLocation() );</code>. This (<code>getPluginDescriptorLocation()</code>) is just a hard-coded file string <code>\"META-INF/maven/plugin.xml\"</code>.</p>\n\n<p>I resolved this by adding the following dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n  &lt;version&gt;3.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I'm not sure why this fixes the issue. The file still doesn't exist (I've checked both original sources and <code>target</code> directories and it's not in either). So additional searching will be needed to figure out why this works.</p>\n\n<p>Here's my dependencies for reference.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n  &lt;version&gt;3.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.twdata.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;mojo-executor&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n  &lt;version&gt;3.5&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.aether&lt;/groupId&gt;\n  &lt;artifactId&gt;aether-api&lt;/artifactId&gt;\n  &lt;version&gt;1.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n  &lt;version&gt;3.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n  &lt;version&gt;3.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!--Test Dependencies--&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.12&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\n  &lt;version&gt;3.3.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9651457,"reputation":247,"user_id":7162494,"display_name":"D. Kellenberger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528990814,"creation_date":1528990814,"answer_id":50861280,"question_id":24278423,"body_markdown":"Got the same issue. Solved it by adding the right dependencies. Important is that the dependencies marked as provided by the harness maven plugin are added to test scope:\r\n\r\n    &lt;properties&gt;\r\n      &lt;dependency.maven.version&gt;3.3.9&lt;/dependency.maven.version&gt;\r\n      &lt;!-- and others --&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;!-- your dependencies --&gt;\r\n\r\n      &lt;!-- maven plugin dependencies --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n \r\n      &lt;!-- test dependencies --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.junit.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-aether-provider&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n        &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- provided maven dependencies --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\nAnd your Test class should look like\r\n\r\n    public class YourMojoTest {\r\n\r\n      @Rule\r\n      public MojoRule rule = new MojoRule();\r\n\r\n      @Test\r\n      public void shouldExecuteMojo() throws Exception {\r\n        // given\r\n        File testPom = new File(PlexusTestCase.getBasedir(), &quot;src/test/resources/pom.xml&quot;);\r\n\r\n        final Properties properties = new Properties();\r\n        final MavenProject mavenProject = Mockito.mock(MavenProject.class);\r\n        Mockito.when(mavenProject.getProperties()).thenReturn(properties);\r\n\r\n        // when\r\n        YourMojo mojo = (YourMojo) rule.lookupMojo(&quot;fetch&quot;, testPom);\r\n        assertNotNull(mojo);\r\n        mojo.setProject(mavenProject);\r\n        mojo.execute();\r\n\r\n        // then\r\n        // do your tests ...\r\n      }\r\n    }\r\n\r\nHope this helps for other struggling with the same issue","title":"How to test a maven plugin using JUnit4","body":"<p>Got the same issue. Solved it by adding the right dependencies. Important is that the dependencies marked as provided by the harness maven plugin are added to test scope:</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;dependency.maven.version&gt;3.3.9&lt;/dependency.maven.version&gt;\n  &lt;!-- and others --&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;!-- your dependencies --&gt;\n\n  &lt;!-- maven plugin dependencies --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- test dependencies --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.junit.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugin-testing&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-plugin-testing-harness&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-aether-provider&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n    &lt;version&gt;${dependency.maven.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- provided maven dependencies --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n    &lt;version&gt;3.3&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>And your Test class should look like</p>\n\n<pre><code>public class YourMojoTest {\n\n  @Rule\n  public MojoRule rule = new MojoRule();\n\n  @Test\n  public void shouldExecuteMojo() throws Exception {\n    // given\n    File testPom = new File(PlexusTestCase.getBasedir(), \"src/test/resources/pom.xml\");\n\n    final Properties properties = new Properties();\n    final MavenProject mavenProject = Mockito.mock(MavenProject.class);\n    Mockito.when(mavenProject.getProperties()).thenReturn(properties);\n\n    // when\n    YourMojo mojo = (YourMojo) rule.lookupMojo(\"fetch\", testPom);\n    assertNotNull(mojo);\n    mojo.setProject(mavenProject);\n    mojo.execute();\n\n    // then\n    // do your tests ...\n  }\n}\n</code></pre>\n\n<p>Hope this helps for other struggling with the same issue</p>\n"},{"tags":[],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681976595,"creation_date":1681976595,"answer_id":76061654,"question_id":24278423,"body_markdown":"Got this fixed by adding maven compatability library:-\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${maven.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;","title":"How to test a maven plugin using JUnit4","body":"<p>Got this fixed by adding maven compatability library:-</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2683,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1681976595,"creation_date":1403072793,"question_id":24278423,"body_markdown":"I&#39;m writing a maven plugin and want to write some JUnit tests. I followed the description in [Maven Plugin Testing][1]. Unfortunately I keep getting an Exception during set-up of the test, before I can configure or invoke anything.\r\n\r\nThis is my JUnit test code:\r\n\r\n    public class ResetMojoTest {\r\n    \t\r\n    \tprivate static final String POM_FILE_NAME = &quot;/path/to/pom.xml&quot;; \r\n    \r\n    \t@Rule\r\n    \tpublic MojoRule rule = new MojoRule();\r\n    \r\n        @Test\r\n        public void testSomething()\r\n            throws Exception\r\n        {\r\n            File pom = new File(POM_FILE_NAME);\r\n            Assert.assertNotNull( pom );\r\n            Assert.assertTrue( pom.exists() );\r\n    \r\n            ResetMojo resetMojo = (ResetMojo) rule.lookupMojo( &quot;touch&quot;, pom );\r\n            Assert.assertNotNull( resetMojo );\r\n            resetMojo.execute();\r\n        }\r\n        \r\n    }\r\n\r\nAnd this is the stack trace of the exception:\r\n\r\n    java.io.IOException: Stream closed\r\n    \tat java.io.BufferedInputStream.getInIfOpen(BufferedInputStream.java:134)\r\n    \tat java.io.BufferedInputStream.fill(BufferedInputStream.java:218)\r\n    \tat java.io.BufferedInputStream.read(BufferedInputStream.java:237)\r\n    \tat org.apache.commons.io.input.BOMInputStream.getBOM(BOMInputStream.java:175)\r\n    \tat org.apache.commons.io.input.BOMInputStream.getBOMCharsetName(BOMInputStream.java:201)\r\n    \tat org.apache.commons.io.input.XmlStreamReader.doRawStream(XmlStreamReader.java:412)\r\n    \tat org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:206)\r\n    \tat org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:171)\r\n    \tat org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:140)\r\n    \tat org.apache.maven.plugin.testing.AbstractMojoTestCase.setUp(AbstractMojoTestCase.java:119)\r\n    \tat org.apache.maven.plugin.testing.MojoRule$2.evaluate(MojoRule.java:299)\r\n    \tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n\r\nAny ideas about how to get this working?\r\n\r\n\r\n\r\n  [1]: http://maven.apache.org/plugin-testing/maven-plugin-testing-harness/getting-started/index.html\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to test a maven plugin using JUnit4","body":"<p>I'm writing a maven plugin and want to write some JUnit tests. I followed the description in <a href=\"http://maven.apache.org/plugin-testing/maven-plugin-testing-harness/getting-started/index.html\" rel=\"noreferrer\">Maven Plugin Testing</a>. Unfortunately I keep getting an Exception during set-up of the test, before I can configure or invoke anything.</p>\n\n<p>This is my JUnit test code:</p>\n\n<pre><code>public class ResetMojoTest {\n\n    private static final String POM_FILE_NAME = \"/path/to/pom.xml\"; \n\n    @Rule\n    public MojoRule rule = new MojoRule();\n\n    @Test\n    public void testSomething()\n        throws Exception\n    {\n        File pom = new File(POM_FILE_NAME);\n        Assert.assertNotNull( pom );\n        Assert.assertTrue( pom.exists() );\n\n        ResetMojo resetMojo = (ResetMojo) rule.lookupMojo( \"touch\", pom );\n        Assert.assertNotNull( resetMojo );\n        resetMojo.execute();\n    }\n\n}\n</code></pre>\n\n<p>And this is the stack trace of the exception:</p>\n\n<pre><code>java.io.IOException: Stream closed\n    at java.io.BufferedInputStream.getInIfOpen(BufferedInputStream.java:134)\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:237)\n    at org.apache.commons.io.input.BOMInputStream.getBOM(BOMInputStream.java:175)\n    at org.apache.commons.io.input.BOMInputStream.getBOMCharsetName(BOMInputStream.java:201)\n    at org.apache.commons.io.input.XmlStreamReader.doRawStream(XmlStreamReader.java:412)\n    at org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:206)\n    at org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:171)\n    at org.apache.commons.io.input.XmlStreamReader.&lt;init&gt;(XmlStreamReader.java:140)\n    at org.apache.maven.plugin.testing.AbstractMojoTestCase.setUp(AbstractMojoTestCase.java:119)\n    at org.apache.maven.plugin.testing.MojoRule$2.evaluate(MojoRule.java:299)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n</code></pre>\n\n<p>Any ideas about how to get this working?</p>\n"},{"tags":["java","mysql","spring-boot","maven","backend"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681457723,"post_id":76011805,"comment_id":134062401,"body_markdown":"Remove not relevant database dependencies. For now you have three of them. JPA auto configuration can only pick one data source/driver.","body":"Remove not relevant database dependencies. For now you have three of them. JPA auto configuration can only pick one data source/driver."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681454752,"creation_date":1681454752,"answer_id":76012264,"question_id":76011805,"body_markdown":"You are using outdated MySQL JDBC jar. \r\n\r\nReplace the dependency on `mysql:mysql-connector-java`\r\n\r\nwith the following: (try without version first)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Dependency &#39;mysql:mysql-connector-java:&#39; not found","body":"<p>You are using outdated MySQL JDBC jar.</p>\n<p>Replace the dependency on <code>mysql:mysql-connector-java</code></p>\n<p>with the following: (try without version first)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.0.32&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8681711,"reputation":81,"user_id":6497346,"display_name":"The Rocket"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681699692,"creation_date":1681469163,"answer_id":76014290,"question_id":76011805,"body_markdown":"Please import the below dependency in pom.xml and configure the datasource programmatically and it worked for me. Moreover, remove all the unwanted dependencies in the pom.xml\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.27&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n   \r\n\r\n        import javax.sql.DataSource;\r\n\r\n        import   org.springframework.boot.autoconfigure.orm.jpa.JpaProperties;\r\n        import org.springframework.boot.context.properties.ConfigurationProperties;\r\n        import org.springframework.boot.jdbc.DataSourceBuilder;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.context.annotation.Configuration;\r\n        \r\n        \r\n        @Configuration\r\n        public class MySqlConfiguration {\r\n        \r\n        \t@Bean(name = &quot;mySQL&quot;)\r\n        \t@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n        \tpublic DataSource dataSource() {\r\n        \t\t\r\n        \t\treturn DataSourceBuilder.create().build();\r\n        \t}\r\n        \r\n        // Below is to initialise jpa properties if needed\r\n        \t@Bean\r\n        \t@ConfigurationProperties(prefix = &quot;spring.jpa&quot;)\r\n        \tpublic JpaProperties jpaProperties() {\r\n        \t\tJpaProperties properties = new JpaProperties();\r\n        \t\treturn properties;\r\n        \t}\r\n        \r\n        }","title":"Dependency &#39;mysql:mysql-connector-java:&#39; not found","body":"<p>Please import the below dependency in pom.xml and configure the datasource programmatically and it worked for me. Moreover, remove all the unwanted dependencies in the pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.27&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n\n    import javax.sql.DataSource;\n\n    import   org.springframework.boot.autoconfigure.orm.jpa.JpaProperties;\n    import org.springframework.boot.context.properties.ConfigurationProperties;\n    import org.springframework.boot.jdbc.DataSourceBuilder;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    \n    \n    @Configuration\n    public class MySqlConfiguration {\n    \n        @Bean(name = &quot;mySQL&quot;)\n        @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n        public DataSource dataSource() {\n            \n            return DataSourceBuilder.create().build();\n        }\n    \n    // Below is to initialise jpa properties if needed\n        @Bean\n        @ConfigurationProperties(prefix = &quot;spring.jpa&quot;)\n        public JpaProperties jpaProperties() {\n            JpaProperties properties = new JpaProperties();\n            return properties;\n        }\n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19327507,"reputation":83,"user_id":14129823,"display_name":"dhruv singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681976400,"creation_date":1681976400,"answer_id":76061628,"question_id":76011805,"body_markdown":"\r\n\t\t\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.1.46&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nActually it was the version problem i tried this version of mysql-connector-java dependency and it magically worked, I think the higher version is unstable for use.\r\n\r\n","title":"Dependency &#39;mysql:mysql-connector-java:&#39; not found","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.46&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Actually it was the version problem i tried this version of mysql-connector-java dependency and it magically worked, I think the higher version is unstable for use.</p>\n"}],"owner":{"account_id":19327507,"reputation":83,"user_id":14129823,"display_name":"dhruv singhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1776,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76061628,"answer_count":3,"score":1,"last_activity_date":1681976400,"creation_date":1681449545,"question_id":76011805,"body_markdown":"**Pom.xml**\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.10&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;spring-session-starter-data-jpa&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;!--\t&lt;/dependency&gt;--&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n&lt;!--\t&lt;dependency&gt;--&gt;\r\n\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.2.5.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.16.20&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**application.properties**\r\n\r\n```\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/restapi\r\nspring.datasource.username=root\r\nspring.datasource.password=my_password\r\n\r\n```\r\n\r\n**problem mentioned in console after running the application**\r\n\r\n```\r\n\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-5.3.26.jar:5.3.26]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910) ~[spring-context-5.3.26.jar:5.3.26]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.26.jar:5.3.26]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\t... 21 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\t... 35 common frames omitted\r\nCaused by: java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\tat com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:491) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:463) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:357) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:183) ~[spring-boot-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.7.10.jar:2.7.10]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.7.10.jar:2.7.10]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.26.jar:5.3.26]\r\n\t... 36 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nI have tried many methods available online but none seem to be working, I. have previously used H2 database and there was no problem in using that.\r\nI have downloaded  the mysql database on my system and created the database with named **restapi** on it console. \r\n ","title":"Dependency &#39;mysql:mysql-connector-java:&#39; not found","body":"<p><strong>Pom.xml</strong></p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.10&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-session-starter-data-jpa&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;!--    &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--    &lt;dependency&gt;--&gt;\n        &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.20&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>\nspring.datasource.url=jdbc:mysql://localhost:3306/restapi\nspring.datasource.username=root\nspring.datasource.password=my_password\n\n</code></pre>\n<p><strong>problem mentioned in console after running the application</strong></p>\n<pre><code>\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.10.jar:2.7.10]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.26.jar:5.3.26]\n    ... 21 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.26.jar:5.3.26]\n    ... 35 common frames omitted\nCaused by: java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n    at com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:491) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:463) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:357) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:183) ~[spring-boot-2.7.10.jar:2.7.10]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.7.10.jar:2.7.10]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.7.10.jar:2.7.10]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.26.jar:5.3.26]\n    ... 36 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>I have tried many methods available online but none seem to be working, I. have previously used H2 database and there was no problem in using that.\nI have downloaded  the mysql database on my system and created the database with named <strong>restapi</strong> on it console.</p>\n"},{"tags":["java","arraylist","game-development","procedural-generation"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1681971157,"post_id":76060984,"comment_id":134143004,"body_markdown":"I&#39;d probably just put that list behind your own abstraction that works with negative indices. Then, your abstraction could translate between those and the zero-based ones of the `ArrayList` it contains. Maybe that would mean storing two lists - one for each direction, I don&#39;t know. I do think the key thing though is creating the abstraction that you want: how do _you_ want to work with these coordinates?","body":"I&#39;d probably just put that list behind your own abstraction that works with negative indices. Then, your abstraction could translate between those and the zero-based ones of the <code>ArrayList</code> it contains. Maybe that would mean storing two lists - one for each direction, I don&#39;t know. I do think the key thing though is creating the abstraction that you want: how do <i>you</i> want to work with these coordinates?"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681976089,"creation_date":1681971066,"answer_id":76061063,"question_id":76060984,"body_markdown":"You could do index manipulation. Basically, you could make a list which alternates between a positive and negative element.\r\n\r\nIf `i` is an index in your application, you can calculate the actual index using `i&gt;=0 ? i*2 : i*2+1`. However, this would require extra memory for possible unused coordinates in the other direction. Also, you would need to store the size of both the positive and negative part distinctively:\r\n\r\n```java\r\npublic class BidirectionalList&lt;T&gt;{\r\n    private List&lt;T&gt; data=new ArrayList&lt;&gt;();\r\n    private int posSize=0;\r\n    private int negSize=0;\r\n    public void insert(T value, boolean positive){\r\n        if(positive){\r\n            if(posSize&gt;negSize){\r\n                data.add(value);//add positive element \r\n                data.add(null);//add negative placeholder \r\n            }else{\r\n                data.set((posSize+1)*2, value);//set position\r\n            }\r\n        } else {\r\n            if(negSize&gt;posSize){\r\n                data.add(null);//add positive placeholder \r\n                data.add(value);//add negative element \r\n            }else{\r\n                data.set((negSize+1)*2+1, value);//set position\r\n            }\r\n        }\r\n    }\r\n    public T get(int i){\r\n        if(!containsIndex(i)){\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        return data.get(i&gt;=0 ? i*2 : i*2+1);\r\n    }\r\n    public boolean containsIndex(int i){\r\n        return i&gt;=0 ? posSize&gt;=i : negSize&gt; -i;\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote that this approach loses a bit of locality and uses unnecessary space in case the positive and negative size are different.\r\n\r\nAlternatively, you could create your own data structure with an array growing in both directions. That would require you to save an offset. That approach would not waste as much space if there is a significant difference between the positive and negative size.\r\n\r\n```java\r\npublic class BidirectionalList&lt;T&gt;{\r\n    private static final int INITIAL_SIZE = 32;//how big the array is supposed to be by default\r\n    private static final int GROWTH_FACTOR = 1.25;//how much the array should be increased if it runs out of space\r\n    private T[] data = (T[])new Object[INITIAL_SIZE];\r\n    private int origin = data.length/2;//position of semantic index 0\r\n    private int positiveLength = 0;//number of positive elements\r\n    private int negativeLength = 0;//number of negative elements\r\n    public void insert(T value, boolean positive){\r\n        int i;\r\n        if(positive){\r\n            i = positiveLength + origin;\r\n            if(i&gt;=data.length){//grow positively\r\n                data=Arrays.copyOf(data, (int)(data.length*GROWTH_FACTOR));//create copy with bigger size\r\n            }\r\n            positiveLength++;\r\n        }else{\r\n            i = origin - negativeLength - 1;\r\n            if(i&lt;0){//grow negatively\r\n                T[] newData = (T[]) newObject[(int)(data.length*GROWTH_FACTOR)]\r\n                int lengthDiff = newData.length-data.length;\r\n                System.arraycopy(data, 0, newData, lengthDiff, data.length);//copy elements over\r\n                origin+=lengthDiff;\r\n                data = newData;\r\n                i += lengthDiff;\r\n            }\r\n            negativeLength++;\r\n        }\r\n        data[i]=value;\r\n    }\r\n    public T get(int i){\r\n        if(!containsIndex(i)){\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        return data[i+origin];\r\n    }\r\n    public boolean containsIndex(int i){\r\n        return i&gt;=0 ? i&lt;positiveLength : -i&lt;negativeLength;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis preserves locality _of the references_ as neighbouring elements are always next to each other.\r\n\r\nSince you want to implement a coordinate plane, I did not include inserting at arbitrary positions but only at the positive and negative ends. Also note that storing your whole coordinate plane might be memory intensive so you _might_ only want to store the part you are currently interested in.","title":"How do I get an ArrayList that can grow in two directions?","body":"<p>You could do index manipulation. Basically, you could make a list which alternates between a positive and negative element.</p>\n<p>If <code>i</code> is an index in your application, you can calculate the actual index using <code>i&gt;=0 ? i*2 : i*2+1</code>. However, this would require extra memory for possible unused coordinates in the other direction. Also, you would need to store the size of both the positive and negative part distinctively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BidirectionalList&lt;T&gt;{\n    private List&lt;T&gt; data=new ArrayList&lt;&gt;();\n    private int posSize=0;\n    private int negSize=0;\n    public void insert(T value, boolean positive){\n        if(positive){\n            if(posSize&gt;negSize){\n                data.add(value);//add positive element \n                data.add(null);//add negative placeholder \n            }else{\n                data.set((posSize+1)*2, value);//set position\n            }\n        } else {\n            if(negSize&gt;posSize){\n                data.add(null);//add positive placeholder \n                data.add(value);//add negative element \n            }else{\n                data.set((negSize+1)*2+1, value);//set position\n            }\n        }\n    }\n    public T get(int i){\n        if(!containsIndex(i)){\n            throw new IndexOutOfBoundsException();\n        }\n        return data.get(i&gt;=0 ? i*2 : i*2+1);\n    }\n    public boolean containsIndex(int i){\n        return i&gt;=0 ? posSize&gt;=i : negSize&gt; -i;\n    }\n\n}\n</code></pre>\n<p>Note that this approach loses a bit of locality and uses unnecessary space in case the positive and negative size are different.</p>\n<p>Alternatively, you could create your own data structure with an array growing in both directions. That would require you to save an offset. That approach would not waste as much space if there is a significant difference between the positive and negative size.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BidirectionalList&lt;T&gt;{\n    private static final int INITIAL_SIZE = 32;//how big the array is supposed to be by default\n    private static final int GROWTH_FACTOR = 1.25;//how much the array should be increased if it runs out of space\n    private T[] data = (T[])new Object[INITIAL_SIZE];\n    private int origin = data.length/2;//position of semantic index 0\n    private int positiveLength = 0;//number of positive elements\n    private int negativeLength = 0;//number of negative elements\n    public void insert(T value, boolean positive){\n        int i;\n        if(positive){\n            i = positiveLength + origin;\n            if(i&gt;=data.length){//grow positively\n                data=Arrays.copyOf(data, (int)(data.length*GROWTH_FACTOR));//create copy with bigger size\n            }\n            positiveLength++;\n        }else{\n            i = origin - negativeLength - 1;\n            if(i&lt;0){//grow negatively\n                T[] newData = (T[]) newObject[(int)(data.length*GROWTH_FACTOR)]\n                int lengthDiff = newData.length-data.length;\n                System.arraycopy(data, 0, newData, lengthDiff, data.length);//copy elements over\n                origin+=lengthDiff;\n                data = newData;\n                i += lengthDiff;\n            }\n            negativeLength++;\n        }\n        data[i]=value;\n    }\n    public T get(int i){\n        if(!containsIndex(i)){\n            throw new IndexOutOfBoundsException();\n        }\n        return data[i+origin];\n    }\n    public boolean containsIndex(int i){\n        return i&gt;=0 ? i&lt;positiveLength : -i&lt;negativeLength;\n    }\n\n}\n</code></pre>\n<p>This preserves locality <em>of the references</em> as neighbouring elements are always next to each other.</p>\n<p>Since you want to implement a coordinate plane, I did not include inserting at arbitrary positions but only at the positive and negative ends. Also note that storing your whole coordinate plane might be memory intensive so you <em>might</em> only want to store the part you are currently interested in.</p>\n"},{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681971443,"creation_date":1681971443,"answer_id":76061099,"question_id":76060984,"body_markdown":"Maybe you can use Hashmap instead of ArrayList:\r\n\r\n\r\n    public class Quadrant {\r\n        private HashMap&lt;String, Object&gt; map;\r\n    \r\n        public Quadrant () {\r\n            map = new HashMap&lt;String, Object&gt;();\r\n        }\r\n    \r\n        public void add(int x, int y, Object obj) {\r\n            String key = x + &quot;,&quot; + y;\r\n            map.put(key, obj);\r\n        }\r\n    \r\n        public Object get(int x, int y) {\r\n            String key = x + &quot;,&quot; + y;\r\n            return map.get(key);\r\n        }\r\n    }\r\n\r\nand usage:\r\n\r\n    Quadrant q = new Quadrant();\r\n    q.add(3, -5, myObject);\r\n    Object obj = q.get(3, -5);\r\n\r\n","title":"How do I get an ArrayList that can grow in two directions?","body":"<p>Maybe you can use Hashmap instead of ArrayList:</p>\n<pre><code>public class Quadrant {\n    private HashMap&lt;String, Object&gt; map;\n\n    public Quadrant () {\n        map = new HashMap&lt;String, Object&gt;();\n    }\n\n    public void add(int x, int y, Object obj) {\n        String key = x + &quot;,&quot; + y;\n        map.put(key, obj);\n    }\n\n    public Object get(int x, int y) {\n        String key = x + &quot;,&quot; + y;\n        return map.get(key);\n    }\n}\n</code></pre>\n<p>and usage:</p>\n<pre><code>Quadrant q = new Quadrant();\nq.add(3, -5, myObject);\nObject obj = q.get(3, -5);\n</code></pre>\n"}],"owner":{"account_id":24227373,"reputation":1,"user_id":21685557,"display_name":"chewies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681976089,"creation_date":1681970120,"question_id":76060984,"body_markdown":"Trying to code procedural generation for a game for the first time but I&#39;m having trouble with implementing positive and negative coordinates on a 2D plane.\r\n\r\nRight now I have 4 ArrayLists representing each of the 4 quadrants but this feels inefficient and is also annoying to work with. Is there a way to get an ArrayList that can have negative indices, or am I just trying to make this the wrong way?","title":"How do I get an ArrayList that can grow in two directions?","body":"<p>Trying to code procedural generation for a game for the first time but I'm having trouble with implementing positive and negative coordinates on a 2D plane.</p>\n<p>Right now I have 4 ArrayLists representing each of the 4 quadrants but this feels inefficient and is also annoying to work with. Is there a way to get an ArrayList that can have negative indices, or am I just trying to make this the wrong way?</p>\n"},{"tags":["java","selenium-webdriver","ui-automation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681882930,"post_id":76050981,"comment_id":134126618,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":24734223,"reputation":3,"user_id":18621808,"display_name":"Ben"},"score":0,"creation_date":1681975807,"post_id":76050981,"comment_id":134143802,"body_markdown":"added snap shot of my code.!! please click on the CODE hyperlink to view it","body":"added snap shot of my code.!! please click on the CODE hyperlink to view it"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1682361684,"post_id":76050981,"comment_id":134200050,"body_markdown":"is the code reaching this method during execution, have you tried placing a debug point and checking that, is there any exception on the console","body":"is the code reaching this method during execution, have you tried placing a debug point and checking that, is there any exception on the console"}],"owner":{"account_id":24734223,"reputation":3,"user_id":18621808,"display_name":"Ben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681975911,"creation_date":1681881655,"question_id":76050981,"body_markdown":"ChromeBrower is not closing after the test execution\r\n\r\nPlease check the code in the attached picture [code][1] after the method code.!!\r\n\r\nPlease help me to resolve this.!! Thanks in advance\r\n\r\nMy Chrome driver should be closed after test execution\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/24kzM.png","title":"Web driver is not closed even after using driver.quit()","body":"<p>ChromeBrower is not closing after the test execution</p>\n<p>Please check the code in the attached picture <a href=\"https://i.stack.imgur.com/24kzM.png\" rel=\"nofollow noreferrer\">code</a> after the method code.!!</p>\n<p>Please help me to resolve this.!! Thanks in advance</p>\n<p>My Chrome driver should be closed after test execution</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1664382925,"post_id":73879871,"comment_id":130460831,"body_markdown":"It looks like you don&#39;t use Maven 3.8.X or even higher than 3.2.5?... Try on command line first..second which version of Eclipse do you use? Do you use an up-to-date version?","body":"It looks like you don&#39;t use Maven 3.8.X or even higher than 3.2.5?... Try on command line first..second which version of Eclipse do you use? Do you use an up-to-date version?"}],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664362107,"creation_date":1664362107,"answer_id":73880187,"question_id":73879871,"body_markdown":"You may **indirectly** addressing a `maven-clean-plugin` different than 3.2.0.\r\n\r\nPlease inspect your dependencies tree by `mvn dependency:tree` and find out if this is your real issue.","title":"MAVEN ERROR : &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean &quot;","body":"<p>You may <strong>indirectly</strong> addressing a <code>maven-clean-plugin</code> different than 3.2.0.</p>\n<p>Please inspect your dependencies tree by <code>mvn dependency:tree</code> and find out if this is your real issue.</p>\n"},{"tags":[],"owner":{"account_id":16212572,"reputation":55,"user_id":11706125,"display_name":"Liyang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681975706,"creation_date":1681975706,"answer_id":76061542,"question_id":73879871,"body_markdown":"my case is network block when download jar when work from office network, need setup proxy\r\n\r\nrefer to this link https://maven.apache.org/guides/mini/guide-proxies.html\r\n\r\nafter create settings.xml in C:\\Users\\{username}\\.m2 folder\r\nthen update proxy information in settings.xml\r\n\r\nthen it success","title":"MAVEN ERROR : &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean &quot;","body":"<p>my case is network block when download jar when work from office network, need setup proxy</p>\n<p>refer to this link <a href=\"https://maven.apache.org/guides/mini/guide-proxies.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-proxies.html</a></p>\n<p>after create settings.xml in C:\\Users{username}.m2 folder\nthen update proxy information in settings.xml</p>\n<p>then it success</p>\n"}],"owner":{"account_id":2749252,"reputation":311,"user_id":2368975,"display_name":"user2368975"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1060,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1681975706,"creation_date":1664360671,"question_id":73879871,"body_markdown":"Need your kind help here. I am trying a very simple springweb application from Eclipse, but When I try Run As-&gt;Maven clean, I am getting below error.\r\n\r\n```\r\n Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean ---requires MAVEN 3.2.5.\r\n```\r\n\r\nMY Maven Version is: 3.8.6, however I have read in the maven-clean-plugin:3.2.0: documentation that, it supports Maven:3.2.5+\r\n","title":"MAVEN ERROR : &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean &quot;","body":"<p>Need your kind help here. I am trying a very simple springweb application from Eclipse, but When I try Run As-&gt;Maven clean, I am getting below error.</p>\n<pre><code> Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean ---requires MAVEN 3.2.5.\n</code></pre>\n<p>MY Maven Version is: 3.8.6, however I have read in the maven-clean-plugin:3.2.0: documentation that, it supports Maven:3.2.5+</p>\n"},{"tags":["java","hibernate","jpa","nativequery"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1679052364,"post_id":75765038,"comment_id":133655787,"body_markdown":"What about setting other 2 parameters?","body":"What about setting other 2 parameters?"}],"owner":{"account_id":14008954,"reputation":81,"user_id":10118195,"display_name":"Aurora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681975559,"creation_date":1679040053,"question_id":75765038,"body_markdown":"I want to execute a simple native query, but it does not work:\r\n```\r\nQuery query = entityManager.createNativeQuery(&quot;SELECT col1,col2,col3\r\nFROM table(schema.fn_name(?1,?2,?3))\r\nORDER BY col1,col2&quot;);\r\n\r\nquery.setParameter(1, 1193679);\r\nquery.setParameter(2, 1193679);\r\nquery.setParameter(3, 1193679);   \r\n\r\nresultList = query.getResultList();\r\n```\r\nIt&#39;s failing with the below error\r\n\r\n&gt;&quot;message&quot;:&quot;Unknown data type: ; SQL statement\r\norg.springframework.orm.jpa.JpaSystemException: could not prepare statement; nested exception is org.hibernate.exception.GenericJDBCException: could not prepare statement\r\n","title":"Unknown data type issue with native query","body":"<p>I want to execute a simple native query, but it does not work:</p>\n<pre><code>Query query = entityManager.createNativeQuery(&quot;SELECT col1,col2,col3\nFROM table(schema.fn_name(?1,?2,?3))\nORDER BY col1,col2&quot;);\n\nquery.setParameter(1, 1193679);\nquery.setParameter(2, 1193679);\nquery.setParameter(3, 1193679);   \n\nresultList = query.getResultList();\n</code></pre>\n<p>It's failing with the below error</p>\n<blockquote>\n<p>&quot;message&quot;:&quot;Unknown data type: ; SQL statement\norg.springframework.orm.jpa.JpaSystemException: could not prepare statement; nested exception is org.hibernate.exception.GenericJDBCException: could not prepare statement</p>\n</blockquote>\n"},{"tags":["java","android","countdowntimer"],"answers":[{"tags":[],"owner":{"account_id":9860838,"reputation":1261,"user_id":7303915,"display_name":"Usman Zafer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585565372,"creation_date":1585408593,"answer_id":60902563,"question_id":60902152,"body_markdown":"**UPDATED**\r\n\r\n**Below is your code converted into a code snippet for a CountdownTimer which will keep working even when the app is closed, pushed to background or restarted.**\r\n\r\n\r\n\r\nset `START_TIME_IN_MILLIS` as the Timer start time, in the following example it is set to 15 seconds.\r\n\r\n\r\n\r\n    import android.content.SharedPreferences;\r\n    import android.os.CountDownTimer;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.util.Locale;\r\n    \r\n    public class MainActivity2 extends AppCompatActivity {\r\n        private static final long START_TIME_IN_MILLIS = 15000;\r\n        private TextView mTextViewCountDown;\r\n        private CountDownTimer mCountDownTimer;\r\n        private boolean mTimerRunning;\r\n        private long mTimeLeftInMillis;\r\n        private long mEndTime;\r\n        private long remainingTimeInMillis;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_new);\r\n    \r\n            mTextViewCountDown = findViewById(R.id.tv);\r\n        }\r\n    \r\n        private void startTimer() {\r\n            mCountDownTimer = new CountDownTimer(remainingTimeInMillis, 1000) {\r\n                @Override\r\n                public void onTick(long millisUntilFinished) {\r\n                    remainingTimeInMillis = millisUntilFinished;\r\n                    mTimeLeftInMillis = millisUntilFinished;\r\n                    updateCountDownText();\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                    //mTimerRunning = false;\r\n                    //updateButtons();\r\n    \r\n                    updateCountDownText();\r\n                    resetTimer();\r\n                    startTimer();\r\n    \r\n                }\r\n            }.start();\r\n    \r\n            //mTimerRunning = true;\r\n    \r\n        }\r\n    \r\n    \r\n        private void resetTimer() {\r\n            remainingTimeInMillis = START_TIME_IN_MILLIS;\r\n            updateCountDownText();\r\n    \r\n        }\r\n    \r\n        private void updateCountDownText() {\r\n    \r\n    \r\n            int minutes = (int) (remainingTimeInMillis / 1000) / 60;\r\n            int seconds = (int) (remainingTimeInMillis / 1000) % 60;\r\n    \r\n            String timeLeftFormatted = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, minutes, seconds);\r\n    \r\n            mTextViewCountDown.setText(timeLeftFormatted);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = prefs.edit();\r\n    \r\n            editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\r\n            editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\r\n            editor.putLong(&quot;endTime&quot;, System.currentTimeMillis());\r\n            editor.apply();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n    \r\n            mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, START_TIME_IN_MILLIS);\r\n            mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\r\n            mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\r\n            if (mEndTime == 0L) {\r\n                remainingTimeInMillis = (mTimeLeftInMillis);\r\n            } else {\r\n                Long timeDiff = (mEndTime - System.currentTimeMillis());\r\n                //to convert into positive number\r\n                timeDiff = Math.abs(timeDiff);\r\n    \r\n                long timeDiffInSeconds = (timeDiff / 1000) % 60;\r\n               long timeDiffInMillis = timeDiffInSeconds * 1000;\r\n                Long timeDiffInMillisPlusTimerRemaining = remainingTimeInMillis = mTimeLeftInMillis - timeDiffInMillis;\r\n    \r\n                if (timeDiffInMillisPlusTimerRemaining &lt; 0) {\r\n                    timeDiffInMillisPlusTimerRemaining = Math.abs(timeDiffInMillisPlusTimerRemaining);\r\n                    remainingTimeInMillis = START_TIME_IN_MILLIS - timeDiffInMillisPlusTimerRemaining;\r\n                }\r\n            }\r\n            updateCountDownText();\r\n            startTimer();\r\n        }\r\n    }\r\n\r\n","title":"CountDownTimer problem when app is closed","body":"<p><strong>UPDATED</strong></p>\n\n<p><strong>Below is your code converted into a code snippet for a CountdownTimer which will keep working even when the app is closed, pushed to background or restarted.</strong></p>\n\n<p>set <code>START_TIME_IN_MILLIS</code> as the Timer start time, in the following example it is set to 15 seconds.</p>\n\n<pre><code>import android.content.SharedPreferences;\nimport android.os.CountDownTimer;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.Locale;\n\npublic class MainActivity2 extends AppCompatActivity {\n    private static final long START_TIME_IN_MILLIS = 15000;\n    private TextView mTextViewCountDown;\n    private CountDownTimer mCountDownTimer;\n    private boolean mTimerRunning;\n    private long mTimeLeftInMillis;\n    private long mEndTime;\n    private long remainingTimeInMillis;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new);\n\n        mTextViewCountDown = findViewById(R.id.tv);\n    }\n\n    private void startTimer() {\n        mCountDownTimer = new CountDownTimer(remainingTimeInMillis, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                remainingTimeInMillis = millisUntilFinished;\n                mTimeLeftInMillis = millisUntilFinished;\n                updateCountDownText();\n            }\n\n            @Override\n            public void onFinish() {\n                //mTimerRunning = false;\n                //updateButtons();\n\n                updateCountDownText();\n                resetTimer();\n                startTimer();\n\n            }\n        }.start();\n\n        //mTimerRunning = true;\n\n    }\n\n\n    private void resetTimer() {\n        remainingTimeInMillis = START_TIME_IN_MILLIS;\n        updateCountDownText();\n\n    }\n\n    private void updateCountDownText() {\n\n\n        int minutes = (int) (remainingTimeInMillis / 1000) / 60;\n        int seconds = (int) (remainingTimeInMillis / 1000) % 60;\n\n        String timeLeftFormatted = String.format(Locale.getDefault(), \"%02d:%02d\", minutes, seconds);\n\n        mTextViewCountDown.setText(timeLeftFormatted);\n    }\n\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        SharedPreferences prefs = getSharedPreferences(\"prefs\", MODE_PRIVATE);\n        SharedPreferences.Editor editor = prefs.edit();\n\n        editor.putLong(\"millisLeft\", mTimeLeftInMillis);\n        editor.putBoolean(\"timerRunning\", mTimerRunning);\n        editor.putLong(\"endTime\", System.currentTimeMillis());\n        editor.apply();\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n\n        SharedPreferences prefs = getSharedPreferences(\"prefs\", MODE_PRIVATE);\n\n        mTimeLeftInMillis = prefs.getLong(\"millisLeft\", START_TIME_IN_MILLIS);\n        mTimerRunning = prefs.getBoolean(\"timerRunning\", false);\n        mEndTime = prefs.getLong(\"endTime\", 0);\n        if (mEndTime == 0L) {\n            remainingTimeInMillis = (mTimeLeftInMillis);\n        } else {\n            Long timeDiff = (mEndTime - System.currentTimeMillis());\n            //to convert into positive number\n            timeDiff = Math.abs(timeDiff);\n\n            long timeDiffInSeconds = (timeDiff / 1000) % 60;\n           long timeDiffInMillis = timeDiffInSeconds * 1000;\n            Long timeDiffInMillisPlusTimerRemaining = remainingTimeInMillis = mTimeLeftInMillis - timeDiffInMillis;\n\n            if (timeDiffInMillisPlusTimerRemaining &lt; 0) {\n                timeDiffInMillisPlusTimerRemaining = Math.abs(timeDiffInMillisPlusTimerRemaining);\n                remainingTimeInMillis = START_TIME_IN_MILLIS - timeDiffInMillisPlusTimerRemaining;\n            }\n        }\n        updateCountDownText();\n        startTimer();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14107969,"reputation":3700,"user_id":10191554,"display_name":"Angus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585410630,"creation_date":1585410630,"answer_id":60903030,"question_id":60902152,"body_markdown":"First, take a look here: [Understand the Activity Lifecycle][1]\n\nYou need `onResume`, `onPause` and `onDestroy` so that all scenarios are covered. \n\nFor `onResume`, the reason is, when you put your app to `background`, and resume the app by making it to `foreground`, action can be further applied, for example, getting the last saved state from SharedPreferences to ensure the condition is executed. \n\nFor `onPause`, it is crucial because when you click your phone home button, this state will be executed. Therefore, it ensures all the states is saved before it is destroyed (insurance).\n\nFor `onDestroy`, it is the most crucial part, because for some low-end phones, resources are limited, the os will do the &#39;cleaning&#39; by killing apps, so for your app, it will get kill, so before it is killed, you can save the state.\n\nHence, whenever you start or use your app, query the `SharedPreferences`, and do some calculation to ensure everything is correct.\n\nUse `service` or `broadcast`, which allow your program to run background.\n\nSome detailed explanation from the documentation:\n\n 1. `onResume()`\n\nWhen the activity enters the Resumed state, it comes to the foreground, and then the system invokes the onResume() callback. This is the state in which the app interacts with the user. The app stays in this state until something happens to take focus away from the app. Such an event might be, for instance, receiving a phone call, the user’s navigating to another activity, or the device screen’s turning off.\n\nWhen the activity moves to the resumed state, any lifecycle-aware component tied to the activity&#39;s lifecycle will receive the `ON_RESUME` event. This is where the lifecycle components can enable any functionality that needs to run while the component is visible and in the foreground, such as starting a camera preview.\n\nWhen an interruptive event occurs, the activity enters the Paused state, and the system invokes the `onPause()` callback.\n\nIf the activity returns to the Resumed state from the Paused state, the system once again calls `onResume()` method. For this reason, you should implement `onResume()` to initialize components that you release during `onPause()`, and perform any other initializations that must occur each time the activity enters the Resumed state.\n\n 2. `onPause`\n\nThe system calls this method as the first indication that the user is leaving your activity (though it does not always mean the activity is being destroyed); it indicates that the activity is no longer in the foreground (though it may still be visible if the user is in multi-window mode). Use the onPause() method to pause or adjust operations that should not continue (or should continue in moderation) while the Activity is in the Paused state, and that you expect to resume shortly. There are several reasons why an activity may enter this state.\n\n 3. `onDestroy()`\n\n`onDestroy()` is called before the activity is destroyed. The system invokes this callback either because:\n\n 1. the activity is finishing (due to the user completely dismissing the\n    activity or due to finish() being called on the activity), or\n 2. the system is temporarily destroying the activity due to a\n    configuration change (such as device rotation or multi-window mode)\n\nWhen the activity moves to the destroyed state, any lifecycle-aware component tied to the activity&#39;s lifecycle will receive the ON_DESTROY event. This is where the lifecycle components can clean up anything it needs to before the Activity is destroyed.\n\n\n\nHave a look here: [Background Execution Limits][2]\n\n  [1]: https://developer.android.com/guide/components/activities/activity-lifecycle\n  [2]: https://developer.android.com/about/versions/oreo/background","title":"CountDownTimer problem when app is closed","body":"<p>First, take a look here: <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">Understand the Activity Lifecycle</a></p>\n<p>You need <code>onResume</code>, <code>onPause</code> and <code>onDestroy</code> so that all scenarios are covered.</p>\n<p>For <code>onResume</code>, the reason is, when you put your app to <code>background</code>, and resume the app by making it to <code>foreground</code>, action can be further applied, for example, getting the last saved state from SharedPreferences to ensure the condition is executed.</p>\n<p>For <code>onPause</code>, it is crucial because when you click your phone home button, this state will be executed. Therefore, it ensures all the states is saved before it is destroyed (insurance).</p>\n<p>For <code>onDestroy</code>, it is the most crucial part, because for some low-end phones, resources are limited, the os will do the 'cleaning' by killing apps, so for your app, it will get kill, so before it is killed, you can save the state.</p>\n<p>Hence, whenever you start or use your app, query the <code>SharedPreferences</code>, and do some calculation to ensure everything is correct.</p>\n<p>Use <code>service</code> or <code>broadcast</code>, which allow your program to run background.</p>\n<p>Some detailed explanation from the documentation:</p>\n<ol>\n<li><code>onResume()</code></li>\n</ol>\n<p>When the activity enters the Resumed state, it comes to the foreground, and then the system invokes the onResume() callback. This is the state in which the app interacts with the user. The app stays in this state until something happens to take focus away from the app. Such an event might be, for instance, receiving a phone call, the user’s navigating to another activity, or the device screen’s turning off.</p>\n<p>When the activity moves to the resumed state, any lifecycle-aware component tied to the activity's lifecycle will receive the <code>ON_RESUME</code> event. This is where the lifecycle components can enable any functionality that needs to run while the component is visible and in the foreground, such as starting a camera preview.</p>\n<p>When an interruptive event occurs, the activity enters the Paused state, and the system invokes the <code>onPause()</code> callback.</p>\n<p>If the activity returns to the Resumed state from the Paused state, the system once again calls <code>onResume()</code> method. For this reason, you should implement <code>onResume()</code> to initialize components that you release during <code>onPause()</code>, and perform any other initializations that must occur each time the activity enters the Resumed state.</p>\n<ol start=\"2\">\n<li><code>onPause</code></li>\n</ol>\n<p>The system calls this method as the first indication that the user is leaving your activity (though it does not always mean the activity is being destroyed); it indicates that the activity is no longer in the foreground (though it may still be visible if the user is in multi-window mode). Use the onPause() method to pause or adjust operations that should not continue (or should continue in moderation) while the Activity is in the Paused state, and that you expect to resume shortly. There are several reasons why an activity may enter this state.</p>\n<ol start=\"3\">\n<li><code>onDestroy()</code></li>\n</ol>\n<p><code>onDestroy()</code> is called before the activity is destroyed. The system invokes this callback either because:</p>\n<ol>\n<li>the activity is finishing (due to the user completely dismissing the\nactivity or due to finish() being called on the activity), or</li>\n<li>the system is temporarily destroying the activity due to a\nconfiguration change (such as device rotation or multi-window mode)</li>\n</ol>\n<p>When the activity moves to the destroyed state, any lifecycle-aware component tied to the activity's lifecycle will receive the ON_DESTROY event. This is where the lifecycle components can clean up anything it needs to before the Activity is destroyed.</p>\n<p>Have a look here: <a href=\"https://developer.android.com/about/versions/oreo/background\" rel=\"nofollow noreferrer\">Background Execution Limits</a></p>\n"}],"owner":{"account_id":18024804,"reputation":47,"user_id":13101103,"display_name":"joska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2444,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60902563,"answer_count":2,"score":2,"last_activity_date":1681974908,"creation_date":1585406841,"question_id":60902152,"body_markdown":"I made a CountDownTimer code, I would like the CountDownTimer to restart when it is finished even if the app is closed, but it only restarts if the app is running or when the app is re-launched. So if I close the app when the countdown is 00:10 (min: sec) and reopen the app after 30 sec, the counter should be 00:40, but it starts from 1 minute... But if I close the app at 00:40 and reopen it after 10 sec, it starts at 00:30 so it&#39;s good, but the problem is that it restarts from 1 min when the app closed and reopened.... can somebody help me?\r\n\r\nMy code:\r\n\r\n\r\n    package com.example.countdown_implement;\r\n\r\n    import android.content.SharedPreferences;\r\n    import android.os.CountDownTimer;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import java.util.Locale;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private static final long START_TIME_IN_MILLIS = 60000;\r\n        private TextView mTextViewCountDown;\r\n        private CountDownTimer mCountDownTimer;\r\n        private boolean mTimerRunning;\r\n        private long mTimeLeftInMillis;\r\n        private long mEndTime;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTextViewCountDown = findViewById(R.id.text_view_countdown);\r\n\r\n    }\r\n\r\n    private void startTimer() {\r\n        mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\r\n\r\n        mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                mTimeLeftInMillis = millisUntilFinished;\r\n                updateCountDownText();\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                //mTimerRunning = false;\r\n                //updateButtons();\r\n\r\n                updateCountDownText();\r\n                resetTimer();\r\n                startTimer();\r\n\r\n            }\r\n        }.start();\r\n\r\n        //mTimerRunning = true;\r\n\r\n    }\r\n\r\n\r\n    private void resetTimer() {\r\n        mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n        updateCountDownText();\r\n\r\n    }\r\n\r\n    private void updateCountDownText() {\r\n        int minutes = (int) (mTimeLeftInMillis / 1000) / 60;\r\n        int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\r\n\r\n        String timeLeftFormatted = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, minutes, seconds);\r\n\r\n        mTextViewCountDown.setText(timeLeftFormatted);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n\r\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = prefs.edit();\r\n\r\n        editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\r\n        editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\r\n        editor.putLong(&quot;endTime&quot;, mEndTime);\r\n\r\n        editor.apply();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n\r\n        mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, START_TIME_IN_MILLIS);\r\n        mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\r\n        mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\r\n        mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\r\n\r\n        updateCountDownText();\r\n        startTimer();\r\n        if (mTimeLeftInMillis &lt; 0) {\r\n            updateCountDownText();\r\n            startTimer();\r\n        }\r\n      }\r\n    }","title":"CountDownTimer problem when app is closed","body":"<p>I made a CountDownTimer code, I would like the CountDownTimer to restart when it is finished even if the app is closed, but it only restarts if the app is running or when the app is re-launched. So if I close the app when the countdown is 00:10 (min: sec) and reopen the app after 30 sec, the counter should be 00:40, but it starts from 1 minute... But if I close the app at 00:40 and reopen it after 10 sec, it starts at 00:30 so it's good, but the problem is that it restarts from 1 min when the app closed and reopened.... can somebody help me?</p>\n<p>My code:</p>\n<pre><code>package com.example.countdown_implement;\n\nimport android.content.SharedPreferences;\nimport android.os.CountDownTimer;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final long START_TIME_IN_MILLIS = 60000;\n    private TextView mTextViewCountDown;\n    private CountDownTimer mCountDownTimer;\n    private boolean mTimerRunning;\n    private long mTimeLeftInMillis;\n    private long mEndTime;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mTextViewCountDown = findViewById(R.id.text_view_countdown);\n\n}\n\nprivate void startTimer() {\n    mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\n\n    mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\n        @Override\n        public void onTick(long millisUntilFinished) {\n            mTimeLeftInMillis = millisUntilFinished;\n            updateCountDownText();\n        }\n\n        @Override\n        public void onFinish() {\n            //mTimerRunning = false;\n            //updateButtons();\n\n            updateCountDownText();\n            resetTimer();\n            startTimer();\n\n        }\n    }.start();\n\n    //mTimerRunning = true;\n\n}\n\n\nprivate void resetTimer() {\n    mTimeLeftInMillis = START_TIME_IN_MILLIS;\n    updateCountDownText();\n\n}\n\nprivate void updateCountDownText() {\n    int minutes = (int) (mTimeLeftInMillis / 1000) / 60;\n    int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\n\n    String timeLeftFormatted = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, minutes, seconds);\n\n    mTextViewCountDown.setText(timeLeftFormatted);\n}\n\n\n@Override\nprotected void onStop() {\n    super.onStop();\n\n    SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n    SharedPreferences.Editor editor = prefs.edit();\n\n    editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\n    editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\n    editor.putLong(&quot;endTime&quot;, mEndTime);\n\n    editor.apply();\n\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n\n    SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n\n    mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, START_TIME_IN_MILLIS);\n    mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\n    mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\n    mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\n\n    updateCountDownText();\n    startTimer();\n    if (mTimeLeftInMillis &lt; 0) {\n        updateCountDownText();\n        startTimer();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","appium","appium-android"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1624472143,"post_id":68104028,"comment_id":120371512,"body_markdown":"What is the 18 line in HomeScreen?","body":"What is the 18 line in HomeScreen?"},{"owner":{"account_id":6737300,"reputation":3,"user_id":5191607,"display_name":"Chanakya Garikapati"},"score":0,"creation_date":1624477013,"post_id":68104028,"comment_id":120373128,"body_markdown":"those are few suggestion from internet that i have tried and i have commented those out. For the convivence i have removed them.","body":"those are few suggestion from internet that i have tried and i have commented those out. For the convivence i have removed them."}],"answers":[{"tags":[],"owner":{"account_id":26727495,"reputation":1,"user_id":20330406,"display_name":"zheliang liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681974819,"creation_date":1681974819,"answer_id":76061447,"question_id":68104028,"body_markdown":"an example:\r\n\r\n    private void findUIByText(String t,String b,int n){\r\n        Log.d(TAG,&quot;findUIByText&quot;);\r\n        //autoCheckAndClick.autoClick();\r\n        int i = 0;\r\n        UiObject2 object2 = null;\r\n        while (i &lt; 6) {\r\n            i++;\r\n            object2 = mDevice.findObject(\r\n                    By.textContains(t)\r\n            );\r\n            try {\r\n                if(object2 != null){\r\n                    Log.d(TAG,&quot;not null&quot;);\r\n                    if(Objects.equals(b, &quot;TRUE&quot;)){\r\n                        object2.click(1000);\r\n                    }else {\r\n                        object2.click();\r\n                    }\r\n                    break;\r\n                }\r\n\r\n            } catch (StaleObjectException e) {\r\n                Log.d(TAG,&quot;StaleObjectException&quot;);\r\n                if (n &lt; 4){\r\n                    findUIByText(t,b,n+1);\r\n                }\r\n            }\r\n            toSleep(500);\r\n\r\n        }\r\n    }","title":"Exception in thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: androidx.test.uiautomator.StaleObjectException","body":"<p>an example:</p>\n<pre><code>private void findUIByText(String t,String b,int n){\n    Log.d(TAG,&quot;findUIByText&quot;);\n    //autoCheckAndClick.autoClick();\n    int i = 0;\n    UiObject2 object2 = null;\n    while (i &lt; 6) {\n        i++;\n        object2 = mDevice.findObject(\n                By.textContains(t)\n        );\n        try {\n            if(object2 != null){\n                Log.d(TAG,&quot;not null&quot;);\n                if(Objects.equals(b, &quot;TRUE&quot;)){\n                    object2.click(1000);\n                }else {\n                    object2.click();\n                }\n                break;\n            }\n\n        } catch (StaleObjectException e) {\n            Log.d(TAG,&quot;StaleObjectException&quot;);\n            if (n &lt; 4){\n                findUIByText(t,b,n+1);\n            }\n        }\n        toSleep(500);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6737300,"reputation":3,"user_id":5191607,"display_name":"Chanakya Garikapati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681974819,"creation_date":1624466808,"question_id":68104028,"body_markdown":"I was trying to run this on the Android TV i see the Appium is able to click on all the buttons and input the data in text box except the very first one. i have to click on it then wait and used send keys to see if it solves the issue but no luck. can someone help me on this.[enter image description here][1]\r\n\r\n    Base.Java\r\n    \r\n    import java.io.File;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    \r\n    import io.appium.java_client.android.AndroidDriver;\r\n    import io.appium.java_client.android.AndroidElement;\r\n    import io.appium.java_client.remote.MobileCapabilityType;\r\n    \r\n    public class Base {\r\n    \t\r\n    \tpublic static AndroidDriver&lt;AndroidElement&gt; capabalities() throws MalformedURLException {\r\n    \t\t\r\n    \t\tFile file = new File (&quot;src&quot;);\r\n    \t\tFile fs = new File(file,&quot;TVTestApp_ct.apk&quot;);\r\n    \t\t\r\n    \t\tDesiredCapabilities capabalities = new DesiredCapabilities();\r\n    \t\tcapabalities.setCapability(MobileCapabilityType.AUTOMATION_NAME,&quot;uiautomator2&quot;);\r\n    \t\tcapabalities.setCapability(MobileCapabilityType.DEVICE_NAME, &quot;Automation&quot;);\r\n    \t\tcapabalities.setCapability(MobileCapabilityType.APP, fs.getAbsolutePath());\r\n    \t\tAndroidDriver&lt;AndroidElement&gt; driver = new AndroidDriver&lt;AndroidElement&gt;(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;),capabalities);\r\n    \t\treturn driver;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    HomeScreen.Java\r\n    \r\n    import java.net.MalformedURLException;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.By.ByClassName;\r\n    import org.openqa.selenium.StaleElementReferenceException;\r\n    \r\n    import io.appium.java_client.MobileElement;\r\n    import io.appium.java_client.android.AndroidDriver;\r\n    import io.appium.java_client.android.AndroidElement;\r\n    \r\n    public class HomeScreen extends Base {\r\n    \t\r\n    \tpublic static void main(String[] args) throws MalformedURLException, InterruptedException {\r\n    \t\t\r\n    \t\tAndroidDriver&lt;AndroidElement&gt; driver = capabalities();\r\n    \t\t\r\n    \t\tdriver.findElementById(&quot;com.tvexample.tvtestapp:id/editText&quot;).sendKeys(&quot;1234&quot;);\r\n    \t\tdriver.findElementById(&quot;com.tvexample.tvtestapp:id/editText1&quot;).sendKeys(&quot;1234&quot;)    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n\r\nLogs:\r\n```\r\nJun 21, 2021 2:11:47 PM io.appium.java_client.remote.AppiumCommandExecutor$1 lambda$0\r\nINFO: Detected dialect: W3C\r\nException in thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: androidx.test.uiautomator.StaleObjectException\r\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/stale_element_reference.html\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:25:48&#39;\r\nSystem info: host: &#39;TXCDTL20CT1696&#39;, ip: &#39;135.70.71.74&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;15.0.2&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCapabilities {app: C:\\Users\\cg517n\\Documents\\e..., appPackage: com.tvexample.tvtestapp, automationName: uiautomator2, databaseEnabled: false, desired: {app: C:\\Users\\cg517n\\Documents\\e..., automationName: uiautomator2, deviceName: Automation, platformName: android}, deviceApiLevel: 28, deviceManufacturer: unknown, deviceModel: sdk_google_atv_x86, deviceName: emulator-5554, deviceScreenDensity: 320, deviceScreenSize: 1920x1080, deviceUDID: emulator-5554, javascriptEnabled: true, locationContextEnabled: false, networkConnectionEnabled: true, pixelRatio: 2, platform: LINUX, platformName: Android, platformVersion: 9, statBarHeight: 0, takesScreenshot: true, viewportRect: {height: 1080, left: 0, top: 0, width: 1920}, warnings: {}, webStorageEnabled: false}\r\nSession ID: 75f6f7db-21e8-407e-8a53-59271e4e9e02\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:247)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:41)\r\n\tat io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\r\n\tat io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:285)\r\n\tat io.appium.java_client.DefaultGenericMobileElement.execute(DefaultGenericMobileElement.java:45)\r\n\tat io.appium.java_client.MobileElement.execute(MobileElement.java:1)\r\n\tat io.appium.java_client.android.AndroidElement.execute(AndroidElement.java:1)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:106)\r\n\tat HomeScreen.main(HomeScreen.java:18)\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/gq32o.png","title":"Exception in thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: androidx.test.uiautomator.StaleObjectException","body":"<p>I was trying to run this on the Android TV i see the Appium is able to click on all the buttons and input the data in text box except the very first one. i have to click on it then wait and used send keys to see if it solves the issue but no luck. can someone help me on this.<a href=\"https://i.stack.imgur.com/gq32o.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>Base.Java\n\nimport java.io.File;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport org.openqa.selenium.remote.DesiredCapabilities;\n\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.android.AndroidElement;\nimport io.appium.java_client.remote.MobileCapabilityType;\n\npublic class Base {\n    \n    public static AndroidDriver&lt;AndroidElement&gt; capabalities() throws MalformedURLException {\n        \n        File file = new File (&quot;src&quot;);\n        File fs = new File(file,&quot;TVTestApp_ct.apk&quot;);\n        \n        DesiredCapabilities capabalities = new DesiredCapabilities();\n        capabalities.setCapability(MobileCapabilityType.AUTOMATION_NAME,&quot;uiautomator2&quot;);\n        capabalities.setCapability(MobileCapabilityType.DEVICE_NAME, &quot;Automation&quot;);\n        capabalities.setCapability(MobileCapabilityType.APP, fs.getAbsolutePath());\n        AndroidDriver&lt;AndroidElement&gt; driver = new AndroidDriver&lt;AndroidElement&gt;(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;),capabalities);\n        return driver;\n    }\n\n}\n\nHomeScreen.Java\n\nimport java.net.MalformedURLException;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.By.ByClassName;\nimport org.openqa.selenium.StaleElementReferenceException;\n\nimport io.appium.java_client.MobileElement;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.android.AndroidElement;\n\npublic class HomeScreen extends Base {\n    \n    public static void main(String[] args) throws MalformedURLException, InterruptedException {\n        \n        AndroidDriver&lt;AndroidElement&gt; driver = capabalities();\n        \n        driver.findElementById(&quot;com.tvexample.tvtestapp:id/editText&quot;).sendKeys(&quot;1234&quot;);\n        driver.findElementById(&quot;com.tvexample.tvtestapp:id/editText1&quot;).sendKeys(&quot;1234&quot;)         \n        \n    }\n\n\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>Jun 21, 2021 2:11:47 PM io.appium.java_client.remote.AppiumCommandExecutor$1 lambda$0\nINFO: Detected dialect: W3C\nException in thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: androidx.test.uiautomator.StaleObjectException\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/stale_element_reference.html\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:25:48'\nSystem info: host: 'TXCDTL20CT1696', ip: '135.70.71.74', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '15.0.2'\nDriver info: io.appium.java_client.android.AndroidDriver\nCapabilities {app: C:\\Users\\cg517n\\Documents\\e..., appPackage: com.tvexample.tvtestapp, automationName: uiautomator2, databaseEnabled: false, desired: {app: C:\\Users\\cg517n\\Documents\\e..., automationName: uiautomator2, deviceName: Automation, platformName: android}, deviceApiLevel: 28, deviceManufacturer: unknown, deviceModel: sdk_google_atv_x86, deviceName: emulator-5554, deviceScreenDensity: 320, deviceScreenSize: 1920x1080, deviceUDID: emulator-5554, javascriptEnabled: true, locationContextEnabled: false, networkConnectionEnabled: true, pixelRatio: 2, platform: LINUX, platformName: Android, platformVersion: 9, statBarHeight: 0, takesScreenshot: true, viewportRect: {height: 1080, left: 0, top: 0, width: 1920}, warnings: {}, webStorageEnabled: false}\nSession ID: 75f6f7db-21e8-407e-8a53-59271e4e9e02\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:247)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:41)\n    at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\n    at io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\n    at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:285)\n    at io.appium.java_client.DefaultGenericMobileElement.execute(DefaultGenericMobileElement.java:45)\n    at io.appium.java_client.MobileElement.execute(MobileElement.java:1)\n    at io.appium.java_client.android.AndroidElement.execute(AndroidElement.java:1)\n    at org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:106)\n    at HomeScreen.main(HomeScreen.java:18)\n</code></pre>\n"},{"tags":["java","android","unit-testing","junit","android-webview"],"comments":[{"owner":{"account_id":29332,"reputation":12535,"user_id":79207,"accept_rate":72,"display_name":"planetjones"},"score":1,"creation_date":1363622006,"post_id":15481034,"comment_id":21912264,"body_markdown":"You&#39;re breaking one of the fundamental principles of Junit - that all tests should be independent of each other.  A good test class should have tests which can be executed in any order and don&#39;t have dependencies between them.","body":"You&#39;re breaking one of the fundamental principles of Junit - that all tests should be independent of each other.  A good test class should have tests which can be executed in any order and don&#39;t have dependencies between them."},{"owner":{"account_id":29332,"reputation":12535,"user_id":79207,"accept_rate":72,"display_name":"planetjones"},"score":0,"creation_date":1363622106,"post_id":15481034,"comment_id":21912333,"body_markdown":"also see http://stackoverflow.com/questions/3693626/how-to-run-test-methods-in-spec-order-in-junit4","body":"also see <a href=\"http://stackoverflow.com/questions/3693626/how-to-run-test-methods-in-spec-order-in-junit4\" title=\"how to run test methods in spec order in junit4\">stackoverflow.com/questions/3693626/&hellip;</a>"},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1363622178,"post_id":15481034,"comment_id":21912381,"body_markdown":"There is a [pretty nifty example from IBM DeveloperWorks](https://www.ibm.com/developerworks/mydeveloperworks/blogs/amcohen/entry/stop_junit_before_you_get_into_trouble3?lang=en) of using a custom suite to accomplish this. You could also run your tests with Ant, which has an attribute on the Junit task that will allow you to halt on failure.","body":"There is a <a href=\"https://www.ibm.com/developerworks/mydeveloperworks/blogs/amcohen/entry/stop_junit_before_you_get_into_trouble3?lang=en\" rel=\"nofollow noreferrer\">pretty nifty example from IBM DeveloperWorks</a> of using a custom suite to accomplish this. You could also run your tests with Ant, which has an attribute on the Junit task that will allow you to halt on failure."},{"owner":{"account_id":1613746,"reputation":5826,"user_id":1492005,"accept_rate":71,"display_name":"Jaison Brooks"},"score":0,"creation_date":1363622516,"post_id":15481034,"comment_id":21912615,"body_markdown":"@Perception Thanks for this, do you happen to know what that attribute is called possibly?","body":"@Perception Thanks for this, do you happen to know what that attribute is called possibly?"},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1363622673,"post_id":15481034,"comment_id":21912708,"body_markdown":"On the [Ant JUnit](http://ant.apache.org/manual/Tasks/junit.html) task the attribute you would be looking for is called `haltonfailure`.","body":"On the <a href=\"http://ant.apache.org/manual/Tasks/junit.html\" rel=\"nofollow noreferrer\">Ant JUnit</a> task the attribute you would be looking for is called <code>haltonfailure</code>."}],"answers":[{"tags":[],"owner":{"account_id":1000058,"reputation":3169,"user_id":1015144,"accept_rate":100,"display_name":"Shellum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1363621958,"creation_date":1363621958,"answer_id":15481128,"question_id":15481034,"body_markdown":"If you&#39;re doing integration tests using JUnit, you could prefix the method name with _1, _2 etc.:\r\n\r\n    public void _1_testThatButton()...\r\n    public void _2_testSomethingSecond()...\r\n\r\nI suppose you could call System.exit() instead of throwing an exception, but if your tests are taking too long, that may be a bad sign for adding more tests in the future (adding more tests may discourage you from running them).\r\n\r\nIf your&#39;re using ant, you can try this: https://stackoverflow.com/questions/188606/how-to-make-junit-testing-to-stop-after-first-failing-test","title":"Stopping Test&#39;s if JUnit Test fails","body":"<p>If you're doing integration tests using JUnit, you could prefix the method name with _1, _2 etc.:</p>\n\n<pre><code>public void _1_testThatButton()...\npublic void _2_testSomethingSecond()...\n</code></pre>\n\n<p>I suppose you could call System.exit() instead of throwing an exception, but if your tests are taking too long, that may be a bad sign for adding more tests in the future (adding more tests may discourage you from running them).</p>\n\n<p>If your're using ant, you can try this: <a href=\"https://stackoverflow.com/questions/188606/how-to-make-junit-testing-to-stop-after-first-failing-test\">How to make junit testing to stop after first failing test</a></p>\n"},{"tags":[],"owner":{"account_id":1914082,"reputation":20095,"user_id":1727092,"accept_rate":100,"display_name":"Pragnani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363622213,"creation_date":1363622213,"answer_id":15481226,"question_id":15481034,"body_markdown":"I Haven&#39;t done Junit test for Android Apps, but based on my experience with web application, I am suggesting this answer.\r\n\r\nWhen ever I face such situation, I&#39;ll call them in separate method with return type\r\n\r\nExample:\r\n\r\n    public void testCheckFunctions()\r\n    {\r\n    boolean returnval=false;\r\n    \r\n    returnval=test1();\r\n    if(returnval)\r\n    {\r\n    returnval=test2();\r\n    }\r\n    if(returnval)\r\n    {\r\n    returnval=test3();\r\n    }\r\n    }\r\n\r\nYou can exit the test if any of the above condition fails.","title":"Stopping Test&#39;s if JUnit Test fails","body":"<p>I Haven't done Junit test for Android Apps, but based on my experience with web application, I am suggesting this answer.</p>\n\n<p>When ever I face such situation, I'll call them in separate method with return type</p>\n\n<p>Example:</p>\n\n<pre><code>public void testCheckFunctions()\n{\nboolean returnval=false;\n\nreturnval=test1();\nif(returnval)\n{\nreturnval=test2();\n}\nif(returnval)\n{\nreturnval=test3();\n}\n}\n</code></pre>\n\n<p>You can exit the test if any of the above condition fails.</p>\n"},{"tags":[],"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681974569,"creation_date":1681974569,"answer_id":76061412,"question_id":15481034,"body_markdown":"Changing the tests order in jUnit5 can be done by using [@MethodOrder][1] \r\n\r\nIf you want to have a specific order, you should annotate your class to use [OrderAnnotion][2]\r\n\r\n    \r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    public class OrderInJunit {\r\n\r\n        @Test\r\n        @Order(1)\r\n        public void runsFirst() {\r\n            System.out.println(&quot;runs first&quot;);\r\n        }\r\n        @Test\r\n        @Order(2)\r\n        public void runsSecond() {\r\n            System.out.println(&quot;runs second&quot;);\r\n        }\r\n\r\n    }\r\n\r\nIf you want that one test fails consecutive tests in vanilla junit, you can do something like this:\r\n\r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    // One test instance per class, to keep the state of &quot;previousTestFailed&quot; between each test\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    public class OrderInJunit {\r\n\r\n        private Boolean previousTestFailed = false;\r\n\r\n        @Test\r\n        @Order(1)\r\n        public void runsFirst() {\r\n            previousTestFailed = true;\r\n            System.out.println(&quot;runs first&quot;);\r\n            previousTestFailed = false;\r\n        }\r\n\r\n        @Test\r\n        @Order(2)\r\n        public void runsSecond() {\r\n            Assumptions.assumeFalse(previousTestFailed,&quot;No use to run this when \\&quot;runsFirst\\&quot; fails&quot;);\r\n            previousTestFailed = true;\r\n            System.out.println(&quot;runs second&quot;);\r\n            fail(&quot;Test failure&quot;);\r\n            previousTestFailed = false;\r\n        }\r\n        @Test\r\n        @Order(3)\r\n        public void runsThird() {\r\n            Assumptions.assumeFalse(previousTestFailed,&quot;No use to run this when \\&quot;runsSecond\\&quot; fails&quot;);\r\n            previousTestFailed = true;\r\n            System.out.println(&quot;runs second&quot;);\r\n            previousTestFailed = false;\r\n        }\r\n    }\r\n\r\nThis will always result in:\r\n\r\n[![Image displaying that the first test succeeds, the second fails and the third gets ignored in intellij UI][3]][3]\r\n\r\nHowever, it&#39;s clear that this setup has some issues:\r\n 1. you change the order which you regulary don&#39;t want to do in jUnit\r\n 2. you create an instance per class instead of per test method\r\n 3. it does come with boilerplate since you have to flip the previousTestFailed boolean and you have to add the assumption in each test (except the first).\r\n\r\nYou probably want to look into a more E2E specific test framework or jUnit plugin(s).\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods\r\n  [2]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/MethodOrderer.OrderAnnotation.html\r\n  [3]: https://i.stack.imgur.com/kxs9M.png","title":"Stopping Test&#39;s if JUnit Test fails","body":"<p>Changing the tests order in jUnit5 can be done by using <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods\" rel=\"nofollow noreferrer\">@MethodOrder</a></p>\n<p>If you want to have a specific order, you should annotate your class to use <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/MethodOrderer.OrderAnnotation.html\" rel=\"nofollow noreferrer\">OrderAnnotion</a></p>\n<pre><code>@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class OrderInJunit {\n\n    @Test\n    @Order(1)\n    public void runsFirst() {\n        System.out.println(&quot;runs first&quot;);\n    }\n    @Test\n    @Order(2)\n    public void runsSecond() {\n        System.out.println(&quot;runs second&quot;);\n    }\n\n}\n</code></pre>\n<p>If you want that one test fails consecutive tests in vanilla junit, you can do something like this:</p>\n<pre><code>@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n// One test instance per class, to keep the state of &quot;previousTestFailed&quot; between each test\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class OrderInJunit {\n\n    private Boolean previousTestFailed = false;\n\n    @Test\n    @Order(1)\n    public void runsFirst() {\n        previousTestFailed = true;\n        System.out.println(&quot;runs first&quot;);\n        previousTestFailed = false;\n    }\n\n    @Test\n    @Order(2)\n    public void runsSecond() {\n        Assumptions.assumeFalse(previousTestFailed,&quot;No use to run this when \\&quot;runsFirst\\&quot; fails&quot;);\n        previousTestFailed = true;\n        System.out.println(&quot;runs second&quot;);\n        fail(&quot;Test failure&quot;);\n        previousTestFailed = false;\n    }\n    @Test\n    @Order(3)\n    public void runsThird() {\n        Assumptions.assumeFalse(previousTestFailed,&quot;No use to run this when \\&quot;runsSecond\\&quot; fails&quot;);\n        previousTestFailed = true;\n        System.out.println(&quot;runs second&quot;);\n        previousTestFailed = false;\n    }\n}\n</code></pre>\n<p>This will always result in:</p>\n<p><a href=\"https://i.stack.imgur.com/kxs9M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kxs9M.png\" alt=\"Image displaying that the first test succeeds, the second fails and the third gets ignored in intellij UI\" /></a></p>\n<p>However, it's clear that this setup has some issues:</p>\n<ol>\n<li>you change the order which you regulary don't want to do in jUnit</li>\n<li>you create an instance per class instead of per test method</li>\n<li>it does come with boilerplate since you have to flip the previousTestFailed boolean and you have to add the assumption in each test (except the first).</li>\n</ol>\n<p>You probably want to look into a more E2E specific test framework or jUnit plugin(s).</p>\n"}],"owner":{"account_id":1613746,"reputation":5826,"user_id":1492005,"accept_rate":71,"display_name":"Jaison Brooks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5764,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15481128,"answer_count":3,"score":2,"last_activity_date":1681974569,"creation_date":1363621711,"question_id":15481034,"body_markdown":"I&#39;m trying to figure out **How i can make my JUnits tests run a specific order as well as stop all test&#39;s if one of the test&#39;s fail**. Here below i have included just some simple actionbar item test&#39;s. All i basically want to make sure is when i run my build/test via command line, i want the test to stop if one of these tests fails. Any Recommendations?\r\n\r\n    public void testPreconditions() {\r\n        assertNotNull(instrumentation);\r\n        assertNotNull(mWeb);\r\n        assertNotNull(mActivity);\r\n    }\r\n\r\n    protected void setUp() throws Exception {\r\n        super.setUp();\r\n\r\n        instrumentation = getInstrumentation();\r\n        mActivity = getActivity();\r\n        setActivityInitialTouchMode(false);\r\n        mWeb = (WebView) mActivity\r\n                .findViewById(com.jaisonbrooks.webview.R.id.webview_main);\r\n        mMockWebViewClient = new MockWebViewClient();\r\n        mWeb.setWebViewClient(mMockWebViewClient);\r\n        mSettings = mWeb.getSettings();\r\n    }\r\n\r\n    public void testThatButtonReloadWorks() {\r\n        final View view = mActivity\r\n                .findViewById(com.jaisonbrooks.webview.R.id.menu_refresh);\r\n        mActivity.runOnUiThread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                view.requestFocus();\r\n                view.callOnClick();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void testThatButtonForwardWorks() {\r\n        final View view = mActivity\r\n                .findViewById(com.jaisonbrooks.webview.R.id.menu_forward);\r\n        mActivity.runOnUiThread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                view.requestFocus();\r\n                view.callOnClick();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void testThatButtonBackWorks() {\r\n        final View view = mActivity\r\n                .findViewById(com.jaisonbrooks.webview.R.id.menu_back);\r\n        mActivity.runOnUiThread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                view.requestFocus();\r\n                view.callOnClick();\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"Stopping Test&#39;s if JUnit Test fails","body":"<p>I'm trying to figure out <strong>How i can make my JUnits tests run a specific order as well as stop all test's if one of the test's fail</strong>. Here below i have included just some simple actionbar item test's. All i basically want to make sure is when i run my build/test via command line, i want the test to stop if one of these tests fails. Any Recommendations?</p>\n\n<pre><code>public void testPreconditions() {\n    assertNotNull(instrumentation);\n    assertNotNull(mWeb);\n    assertNotNull(mActivity);\n}\n\nprotected void setUp() throws Exception {\n    super.setUp();\n\n    instrumentation = getInstrumentation();\n    mActivity = getActivity();\n    setActivityInitialTouchMode(false);\n    mWeb = (WebView) mActivity\n            .findViewById(com.jaisonbrooks.webview.R.id.webview_main);\n    mMockWebViewClient = new MockWebViewClient();\n    mWeb.setWebViewClient(mMockWebViewClient);\n    mSettings = mWeb.getSettings();\n}\n\npublic void testThatButtonReloadWorks() {\n    final View view = mActivity\n            .findViewById(com.jaisonbrooks.webview.R.id.menu_refresh);\n    mActivity.runOnUiThread(new Runnable() {\n\n        @Override\n        public void run() {\n            view.requestFocus();\n            view.callOnClick();\n        }\n    });\n}\n\npublic void testThatButtonForwardWorks() {\n    final View view = mActivity\n            .findViewById(com.jaisonbrooks.webview.R.id.menu_forward);\n    mActivity.runOnUiThread(new Runnable() {\n\n        @Override\n        public void run() {\n            view.requestFocus();\n            view.callOnClick();\n        }\n    });\n}\n\npublic void testThatButtonBackWorks() {\n    final View view = mActivity\n            .findViewById(com.jaisonbrooks.webview.R.id.menu_back);\n    mActivity.runOnUiThread(new Runnable() {\n\n        @Override\n        public void run() {\n            view.requestFocus();\n            view.callOnClick();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","timer"],"comments":[{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":1,"creation_date":1281848612,"post_id":3486162,"comment_id":3640304,"body_markdown":"If you post a few snippets of the code that you&#39;ve tried, it might be helpful.","body":"If you post a few snippets of the code that you&#39;ve tried, it might be helpful."}],"answers":[{"tags":[],"owner":{"account_id":84475,"reputation":36366,"user_id":236128,"accept_rate":92,"display_name":"Samuh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681973590,"creation_date":1281854407,"answer_id":3486485,"question_id":3486162,"body_markdown":"One way could be creating a Pipeline thread(a normal thread with Looper.prepare()). Post delayed messages to its message loop. In the Message Handler, swap the images. See the following list of tutorials to understand the entities involved:  \r\n[Handler Tutorial][1]   \r\n[Handler: documentation][2]  \r\n[Android guts into Loopers(Pipeline threads) and Handlers][3]\r\n\r\nHope that helps.\r\n\r\n  [1]: https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html\r\n  [2]: https://developer.android.com/reference/android/os/Handler.html\r\n  [3]: https://mindtherobot.com/blog/159/android-guts-intro-to-loopers-and-handlers/","title":"Android: how to use a timer","body":"<p>One way could be creating a Pipeline thread(a normal thread with Looper.prepare()). Post delayed messages to its message loop. In the Message Handler, swap the images. See the following list of tutorials to understand the entities involved:<br />\n<a href=\"https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html\" rel=\"nofollow noreferrer\">Handler Tutorial</a><br />\n<a href=\"https://developer.android.com/reference/android/os/Handler.html\" rel=\"nofollow noreferrer\">Handler: documentation</a><br />\n<a href=\"https://mindtherobot.com/blog/159/android-guts-intro-to-loopers-and-handlers/\" rel=\"nofollow noreferrer\">Android guts into Loopers(Pipeline threads) and Handlers</a></p>\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":184323,"reputation":1323,"user_id":420301,"accept_rate":60,"display_name":"StefanMK"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1314948584,"creation_date":1281868099,"answer_id":3486993,"question_id":3486162,"body_markdown":"Here is my Android timer class which should work fine. It sends a signal every second. Change schedule() call is you want a different scheme.\r\n\r\nNote that you cannot change Android gui stuff in the timer thread, this is only allowed in the main thread. This is why you have to use a Handler to give the control back to the main thread.\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n\r\n    import android.os.Handler;\r\n    import android.os.Message;\r\n\r\n    public class SystemTimerAndroid {\r\n    \tprivate final Timer clockTimer;\r\n\r\n    \tprivate class Task extends TimerTask {\r\n    \t\tpublic void run() {\r\n    \t\t\ttimerHandler.sendEmptyMessage(0);\r\n    \t\t}\r\n    \t}\r\n\t\r\n    \tprivate final Handler timerHandler = new Handler() {\r\n    \t\tpublic void handleMessage (Message  msg) {\r\n    \t\t\t// runs in context of the main thread\r\n    \t\t\ttimerSignal();\r\n    \t\t}\r\n    \t};\r\n\t\r\n    \tprivate List&lt;SystemTimerListener&gt; clockListener = new ArrayList&lt;SystemTimerListener&gt;();\r\n\t\r\n    \tpublic SystemTimerAndroid() {\r\n    \t\tclockTimer = new Timer();\r\n    \t\tclockTimer.schedule(new Task(), 1000, 1000);\r\n    \t}\r\n\t\r\n    \tprivate void timerSignal() {\r\n    \t\tfor(SystemTimerListener listener : clockListener)\r\n    \t\t\tlistener.onSystemTimeSignal();\t\t\r\n    \t}\r\n    \t\r\n    \tpublic void killTimer() {\r\n    \t\tclockTimer.cancel();\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic void addListener(SystemTimerListener listener) {\r\n    \t\tclockListener.add(listener);\t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Android: how to use a timer","body":"<p>Here is my Android timer class which should work fine. It sends a signal every second. Change schedule() call is you want a different scheme.</p>\n\n<p>Note that you cannot change Android gui stuff in the timer thread, this is only allowed in the main thread. This is why you have to use a Handler to give the control back to the main thread.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\nimport android.os.Handler;\nimport android.os.Message;\n\npublic class SystemTimerAndroid {\n    private final Timer clockTimer;\n\n    private class Task extends TimerTask {\n        public void run() {\n            timerHandler.sendEmptyMessage(0);\n        }\n    }\n\n    private final Handler timerHandler = new Handler() {\n        public void handleMessage (Message  msg) {\n            // runs in context of the main thread\n            timerSignal();\n        }\n    };\n\n    private List&lt;SystemTimerListener&gt; clockListener = new ArrayList&lt;SystemTimerListener&gt;();\n\n    public SystemTimerAndroid() {\n        clockTimer = new Timer();\n        clockTimer.schedule(new Task(), 1000, 1000);\n    }\n\n    private void timerSignal() {\n        for(SystemTimerListener listener : clockListener)\n            listener.onSystemTimeSignal();      \n    }\n\n    public void killTimer() {\n        clockTimer.cancel();\n    }\n\n    @Override\n    public void addListener(SystemTimerListener listener) {\n        clockListener.add(listener);        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":184616,"reputation":43,"user_id":420775,"display_name":"Yorgo12345"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13944,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":3486993,"answer_count":2,"score":3,"last_activity_date":1681973590,"creation_date":1281845532,"question_id":3486162,"body_markdown":"this is my first post..\r\n\r\nso I&#39;m learning Android &amp; Java (coming from Actionscript), and I&#39;m working on a project where :  \r\n\r\nI&#39;m trying to click an ImageView, have that ImageView swap images for a second, then return to the original image.  ( this is for a tapping game )\r\n\r\nsounds easy enough, right?    I&#39;ve spent the whole day trying to get a standard Java Timer / TimerTask to work.. no luck..  \r\n\r\nis there a better way? I mean, is there an Android specific way to do something like this?  If not, then what is the ideal way?\r\n\r\nthanks for all your help in advance guys!\r\n-g","title":"Android: how to use a timer","body":"<p>this is my first post..</p>\n\n<p>so I'm learning Android &amp; Java (coming from Actionscript), and I'm working on a project where :  </p>\n\n<p>I'm trying to click an ImageView, have that ImageView swap images for a second, then return to the original image.  ( this is for a tapping game )</p>\n\n<p>sounds easy enough, right?    I've spent the whole day trying to get a standard Java Timer / TimerTask to work.. no luck..  </p>\n\n<p>is there a better way? I mean, is there an Android specific way to do something like this?  If not, then what is the ideal way?</p>\n\n<p>thanks for all your help in advance guys!\n-g</p>\n"},{"tags":["java","azure","project-reactor","azure-keyvault"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681835279,"post_id":76046932,"comment_id":134119526,"body_markdown":"Please tidy up the code formatting and include the .subscribe() code that extracts the secret from the Mono and causes a FlapNotNull.","body":"Please tidy up the code formatting and include the .subscribe() code that extracts the secret from the Mono and causes a FlapNotNull."},{"owner":{"account_id":28340883,"reputation":1,"user_id":21673905,"display_name":"eluciaa"},"score":0,"creation_date":1681837393,"post_id":76046932,"comment_id":134120020,"body_markdown":"I added the subscribe and it gives the error &quot;Unauthorized\\&quot;,\\&quot;message\\&quot;:\\&quot;AKV10000: Request is missing a Bearer or PoP token.&quot;   and reactor shows  &quot;reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono&quot;","body":"I added the subscribe and it gives the error &quot;Unauthorized\\&quot;,\\&quot;message\\&quot;:\\&quot;AKV10000: Request is missing a Bearer or PoP token.&quot;   and reactor shows  &quot;reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/&zwnj;&#8203;Function;)Lreactor/c&zwnj;&#8203;ore/publisher/Mono&quot;"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681838441,"post_id":76046932,"comment_id":134120273,"body_markdown":"Perfect. Now you know why it’s failing. The call to Vault is missing the “Authorization”:”Bearer token” header. Google the error message (maybe even the error code) and Vault and you should make some progress.","body":"Perfect. Now you know why it’s failing. The call to Vault is missing the “Authorization”:”Bearer token” header. Google the error message (maybe even the error code) and Vault and you should make some progress."},{"owner":{"account_id":28340883,"reputation":1,"user_id":21673905,"display_name":"eluciaa"},"score":0,"creation_date":1681842378,"post_id":76046932,"comment_id":134121207,"body_markdown":"The thing is, I&#39;m creating the ClientSecretCredential with the clientId, clientSecret and the tenantId with the values obtained from the portal, and it still gives me the same error. I have tried with a weblfux application, but using SecreCliente instead of SecretASyncClient, and it brings me the value of the secret, it works fine in that project ..    the credentials are ok and i have full access..","body":"The thing is, I&#39;m creating the ClientSecretCredential with the clientId, clientSecret and the tenantId with the values obtained from the portal, and it still gives me the same error. I have tried with a weblfux application, but using SecreCliente instead of SecretASyncClient, and it brings me the value of the secret, it works fine in that project ..    the credentials are ok and i have full access.."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681843304,"post_id":76046932,"comment_id":134121377,"body_markdown":"There must be a different way of adding the Bearer or PoP token with the Async route. Can’t find anything helpful on Google though.☹️","body":"There must be a different way of adding the Bearer or PoP token with the Async route. Can’t find anything helpful on Google though.☹️"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681973439,"creation_date":1681973439,"answer_id":76061295,"question_id":76046932,"body_markdown":"I have tried your requirement in my environment by using the below code and got expected results:\r\n\r\n**Note:** I have configured my credentials in my environment.\r\n\r\n***Code Snippet:*** \r\n```java\r\n@RestController\r\npublic class AzureKeyReactorController {\r\n\r\n@GetMapping(&quot;/data&quot;)\r\npublic String getSecret() {\r\n\r\nSecretClient secretClient = new SecretClientBuilder().vaultUrl(&quot;https://mykey7.vault.azure.net/&quot;)\r\n\r\n.credential(new DefaultAzureCredentialBuilder().build()).buildClient();\r\n\r\nKeyVaultSecret secretMono = secretClient.getSecret(&quot;mysecret&quot;);\r\n\r\nString secretValue = secretMono.getValue();\r\n\r\nSystem.out.println(secretValue);\r\nreturn &quot;My Stored Secret is : &quot; + secretValue;\r\n}\r\n}\r\n```\r\nFirstly, Created KeyVault without giving permission or without adding it to my service principal and I was getting *Access Denied* error as shown below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/uwW0x.png)\r\n\r\nBut after giving Access Control to my service principal for this KeyVault which I have created, I&#39;m able to get the secret from the KeyVault.\r\n- *Storing the test secret and I&#39;m able to fetch the same through the code.*\r\n\r\n![enter image description here](https://i.stack.imgur.com/WZxQc.png)\r\n\r\n***Console output:***\r\n![enter image description here](https://i.stack.imgur.com/4EIr4.png)\r\n\r\n***Result:***\r\n\r\nAble to fetch secret value:\r\n![enter image description here](https://i.stack.imgur.com/4aXg4.png)","title":"How do I get the secret from Azure Key Vault using reactor java?","body":"<p>I have tried your requirement in my environment by using the below code and got expected results:</p>\n<p><strong>Note:</strong> I have configured my credentials in my environment.</p>\n<p><em><strong>Code Snippet:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class AzureKeyReactorController {\n\n@GetMapping(&quot;/data&quot;)\npublic String getSecret() {\n\nSecretClient secretClient = new SecretClientBuilder().vaultUrl(&quot;https://mykey7.vault.azure.net/&quot;)\n\n.credential(new DefaultAzureCredentialBuilder().build()).buildClient();\n\nKeyVaultSecret secretMono = secretClient.getSecret(&quot;mysecret&quot;);\n\nString secretValue = secretMono.getValue();\n\nSystem.out.println(secretValue);\nreturn &quot;My Stored Secret is : &quot; + secretValue;\n}\n}\n</code></pre>\n<p>Firstly, Created KeyVault without giving permission or without adding it to my service principal and I was getting <em>Access Denied</em> error as shown below:</p>\n<p><img src=\"https://i.stack.imgur.com/uwW0x.png\" alt=\"enter image description here\" /></p>\n<p>But after giving Access Control to my service principal for this KeyVault which I have created, I'm able to get the secret from the KeyVault.</p>\n<ul>\n<li><em>Storing the test secret and I'm able to fetch the same through the code.</em></li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/WZxQc.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Console output:</strong></em>\n<img src=\"https://i.stack.imgur.com/4EIr4.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Result:</strong></em></p>\n<p>Able to fetch secret value:\n<img src=\"https://i.stack.imgur.com/4aXg4.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":28340883,"reputation":1,"user_id":21673905,"display_name":"eluciaa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681973439,"creation_date":1681834957,"question_id":76046932,"body_markdown":"I&#39;m currently working in a microservice using reactor. I&#39;ve implemented this method to return an asyncrhonous KeyVaultSecret, but when i debug the code I get a value like &quot;MonoLiftFuseable&quot;. I&#39;ve looked why is that value shows but i haven&#39;t found much information.\r\n\r\nMethod in java:\r\n\r\n  public Mono&lt;KeyVaultSecret&gt; retrieveParamSecret(String secretName) {\r\n\r\n    ClientSecretCredential paramClientSecretCredential = new ClientSecretCredentialBuilder()\r\n            .clientId(paramClientId)\r\n            .clientSecret(paramClientKey)\r\n            .tenantId(paramTenantId)\r\n            .build();\r\n\r\n    SecretAsyncClient paramSecretClient = new SecretClientBuilder()\r\n            .credential(paramClientSecretCredential)\r\n            .vaultUrl(paramVaultUrl)\r\n            .httpLogOptions(new HttpLogOptions().setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS))\r\n            .buildAsyncClient();\r\n\r\n    return paramSecretClient.getSecret(secretName);\r\n\r\n  }\r\n\r\nMainService:\r\n\r\nMono&lt;KeyVaultSecret&gt; keyVaultSecretParam = azureKeyVaultService.retrieveParamSecret(&quot;KV_PARAMS&quot;);\r\n\r\n        keyVaultSecretParam.map(secretWithVersion -&gt;\r\n                System.out.printf(&quot;Secret is returned with name %s and value %s %n&quot;,\r\n                        secretWithVersion.getName(), secretWithVersion.getValue()));\r\n\r\nSidenote: In the main service implementation class it doesn&#39;t enter in the map to print the values.\r\n\r\n[enter image description here](https://i.stack.imgur.com/jmECQ.png)\r\n\r\nI&#39;ve tried to keep the SecretClient and use a Mono.fromCallable but I get the same value\r\nI&#39;ve looked in the Microsoft page about the SecretAsyncClient and it says I need to subscribe it, but when I do that It shows an error for FlapNotNull. \r\n\r\nOfficial page: https://learn.microsoft.com/en-us/java/api/com.azure.security.keyvault.secrets.secretasyncclient?view=azure-java-stable\r\n\r\nUpdate: \r\n\r\nWhen I use the subscribe to print the value obtain, AzureKeyVault gives me this error &quot;code\\&quot;:\\&quot;Unauthorized\\&quot;,\\&quot;message\\&quot;:\\&quot;AKV10000: Request is missing a Bearer or PoP token.\r\n\r\nAnd reactor shows : java.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;\r\n\r\nCode:\r\n\r\n[Code and error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9iJQj.png","title":"How do I get the secret from Azure Key Vault using reactor java?","body":"<p>I'm currently working in a microservice using reactor. I've implemented this method to return an asyncrhonous KeyVaultSecret, but when i debug the code I get a value like &quot;MonoLiftFuseable&quot;. I've looked why is that value shows but i haven't found much information.</p>\n<p>Method in java:</p>\n<p>public Mono retrieveParamSecret(String secretName) {</p>\n<pre><code>ClientSecretCredential paramClientSecretCredential = new ClientSecretCredentialBuilder()\n        .clientId(paramClientId)\n        .clientSecret(paramClientKey)\n        .tenantId(paramTenantId)\n        .build();\n\nSecretAsyncClient paramSecretClient = new SecretClientBuilder()\n        .credential(paramClientSecretCredential)\n        .vaultUrl(paramVaultUrl)\n        .httpLogOptions(new HttpLogOptions().setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS))\n        .buildAsyncClient();\n\nreturn paramSecretClient.getSecret(secretName);\n</code></pre>\n<p>}</p>\n<p>MainService:</p>\n<p>Mono keyVaultSecretParam = azureKeyVaultService.retrieveParamSecret(&quot;KV_PARAMS&quot;);</p>\n<pre><code>    keyVaultSecretParam.map(secretWithVersion -&gt;\n            System.out.printf(&quot;Secret is returned with name %s and value %s %n&quot;,\n                    secretWithVersion.getName(), secretWithVersion.getValue()));\n</code></pre>\n<p>Sidenote: In the main service implementation class it doesn't enter in the map to print the values.</p>\n<p><a href=\"https://i.stack.imgur.com/jmECQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I've tried to keep the SecretClient and use a Mono.fromCallable but I get the same value\nI've looked in the Microsoft page about the SecretAsyncClient and it says I need to subscribe it, but when I do that It shows an error for FlapNotNull.</p>\n<p>Official page: <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.security.keyvault.secrets.secretasyncclient?view=azure-java-stable\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/api/com.azure.security.keyvault.secrets.secretasyncclient?view=azure-java-stable</a></p>\n<p>Update:</p>\n<p>When I use the subscribe to print the value obtain, AzureKeyVault gives me this error &quot;code&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;AKV10000: Request is missing a Bearer or PoP token.</p>\n<p>And reactor shows : java.lang.NoSuchMethodError: reactor.core.publisher.Mono.mapNotNull(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;</p>\n<p>Code:</p>\n<p><a href=\"https://i.stack.imgur.com/9iJQj.png\" rel=\"nofollow noreferrer\">Code and error</a></p>\n"},{"tags":["java","jackson","jackson-databind"],"owner":{"account_id":28203287,"reputation":31,"user_id":21556763,"display_name":"Jharokha "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681973280,"creation_date":1681960676,"question_id":76060307,"body_markdown":"I have to sort the entities based on their attributes. There is priority given to attributes based on that I need to sort the objects.  \r\n\r\nGiven input looks like: \r\n    \r\n\r\n    [\r\n       {&quot;Clever&quot;:false , &quot;Singer&quot;:true , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\r\n       {&quot;Clever&quot;:false , &quot;Singer&quot;:false , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\r\n       {&quot;Clever&quot;:true ,  &quot;Singer&quot;:false , &quot;Actor&quot;:false,  &quot;Dancer&quot;:true}\r\n    ]\r\n\r\nAnd this is what expected:\r\n\r\n    [\r\n       {&quot;Clever&quot;:true ,  &quot;Singer&quot;:false , &quot;Actor&quot;:false,  &quot;Dancer&quot;:true},\r\n       {&quot;Clever&quot;:false , &quot;Singer&quot;:true ,  &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\r\n       {&quot;Clever&quot;:false , &quot;Singer&quot;:false , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\r\n    ]\r\n\r\nI want to do something like:\r\n\r\n    priority = [&quot;Clever&quot; ,&quot;Singer&quot; , &quot;Actor&quot;] \r\n          \r\n    list.sort(priority);\r\n\r\n","title":"Sort JsonNode inside ArrayNode in some sequence using java jackson API","body":"<p>I have to sort the entities based on their attributes. There is priority given to attributes based on that I need to sort the objects.</p>\n<p>Given input looks like:</p>\n<pre><code>[\n   {&quot;Clever&quot;:false , &quot;Singer&quot;:true , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\n   {&quot;Clever&quot;:false , &quot;Singer&quot;:false , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\n   {&quot;Clever&quot;:true ,  &quot;Singer&quot;:false , &quot;Actor&quot;:false,  &quot;Dancer&quot;:true}\n]\n</code></pre>\n<p>And this is what expected:</p>\n<pre><code>[\n   {&quot;Clever&quot;:true ,  &quot;Singer&quot;:false , &quot;Actor&quot;:false,  &quot;Dancer&quot;:true},\n   {&quot;Clever&quot;:false , &quot;Singer&quot;:true ,  &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\n   {&quot;Clever&quot;:false , &quot;Singer&quot;:false , &quot;Actor&quot;:true ,  &quot;Dancer&quot;:false},\n]\n</code></pre>\n<p>I want to do something like:</p>\n<pre><code>priority = [&quot;Clever&quot; ,&quot;Singer&quot; , &quot;Actor&quot;] \n      \nlist.sort(priority);\n</code></pre>\n"},{"tags":["java","com","rpc","opc-da","j-interop"],"comments":[{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1681975604,"post_id":76061241,"comment_id":134143762,"body_markdown":"These are not bugs, just reports that your client requires changes to support servers DCOM hardening. Not familiar with your overall environment, but about RPC and DCOM, you need to determine precisely in what part of your setup you (or components you use) configure DCOM (CoInitializeSecurity calls) authentication level. Note the way you authenticate is somewhat another matter at this point. This is not clear to me reading your question. You can also check for messages event viewer message 10037 and 10038 they may add some info.","body":"These are not bugs, just reports that your client requires changes to support servers DCOM hardening. Not familiar with your overall environment, but about RPC and DCOM, you need to determine precisely in what part of your setup you (or components you use) configure DCOM (CoInitializeSecurity calls) authentication level. Note the way you authenticate is somewhat another matter at this point. This is not clear to me reading your question. You can also check for messages event viewer message 10037 and 10038 they may add some info."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1681977425,"post_id":76061241,"comment_id":134144154,"body_markdown":"`j-interop` is Java library, so there is no `CoInitializeSecurity `. I added mentioned `Admin` Windows user to default DCOM activation and access permissions via `dcomcnfg`, grant both local and remote access and ensured that OPC server uses that default DCOM settings.","body":"<code>j-interop</code> is Java library, so there is no <code>CoInitializeSecurity </code>. I added mentioned <code>Admin</code> Windows user to default DCOM activation and access permissions via <code>dcomcnfg</code>, grant both local and remote access and ensured that OPC server uses that default DCOM settings."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1681978505,"post_id":76061241,"comment_id":134144389,"body_markdown":"I guess I am not correct in terms. But also my app  &quot;formes&quot; outgoing NDR buffer with `PROTECTION_LEVEL_PRIVACY` (so it is stronger than `PROTECTION_LEVEL_INTEGRITY`) and authentication service is NTLM","body":"I guess I am not correct in terms. But also my app  &quot;formes&quot; outgoing NDR buffer with <code>PROTECTION_LEVEL_PRIVACY</code> (so it is stronger than <code>PROTECTION_LEVEL_INTEGRITY</code>) and authentication service is NTLM"},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1681978532,"post_id":76061241,"comment_id":134144393,"body_markdown":"These configuration settings are (at that point) irrelevant. Java or not, if you want to talk to a hardened DCOM server using DCOM you must call CoInitializeSecurity with RPC_C_AUTHN_LEVEL_PKT_INTEGRITY or higher somehow. If you don&#39;t, you&#39;ll use default security.","body":"These configuration settings are (at that point) irrelevant. Java or not, if you want to talk to a hardened DCOM server using DCOM you must call CoInitializeSecurity with RPC_C_AUTHN_LEVEL_PKT_INTEGRITY or higher somehow. If you don&#39;t, you&#39;ll use default security."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1681986589,"post_id":76061241,"comment_id":134146220,"body_markdown":"@SimonMourier I guess you are talking about the same as in [this SO](https://stackoverflow.com/a/6125335/17782348), right?","body":"@SimonMourier I guess you are talking about the same as in <a href=\"https://stackoverflow.com/a/6125335/17782348\">this SO</a>, right?"},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1681994430,"post_id":76061241,"comment_id":134148043,"body_markdown":"Impersonation is another subject. I&#39;m just talking about calling CoInitializeSecurity with RPC_C_AUTHN_LEVEL_PKT_INTEGRITY in the client.","body":"Impersonation is another subject. I&#39;m just talking about calling CoInitializeSecurity with RPC_C_AUTHN_LEVEL_PKT_INTEGRITY in the client."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1682402312,"post_id":76061241,"comment_id":134205072,"body_markdown":"Leave here [useful article about RPC on Windows](https://flylib.com/books/en/2.294.1.111/1/)","body":"Leave here <a href=\"https://flylib.com/books/en/2.294.1.111/1/\" rel=\"nofollow noreferrer\">useful article about RPC on Windows</a>"},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1682518336,"post_id":76061241,"comment_id":134229009,"body_markdown":"@SimonMourier Could you explain me again how [this C++ OPC DA](https://github.com/edimetia3d/OPC-Client-X64) client even with [RPC_C_AUTHN_LEVEL_NONE](https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCClient.cpp#L57) in `CoInitializeSecurity` works out of the box on my the same test machine? Here is its [CoCreateInstanceEx](https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCHost.cpp#L69) call for more information.","body":"@SimonMourier Could you explain me again how <a href=\"https://github.com/edimetia3d/OPC-Client-X64\" rel=\"nofollow noreferrer\">this C++ OPC DA</a> client even with <a href=\"https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCClient.cpp#L57\" rel=\"nofollow noreferrer\">RPC_C_AUTHN_LEVEL_NONE</a> in <code>CoInitializeSecurity</code> works out of the box on my the same test machine? Here is its <a href=\"https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCHost.cpp#L69\" rel=\"nofollow noreferrer\">CoCreateInstanceEx</a> call for more information."},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":1,"creation_date":1682521302,"post_id":76061241,"comment_id":134229889,"body_markdown":"You say &quot;on the same test machine&quot;. Is this client connecting to a DCOM-hardened machine through network? Otherwise have you checked the AppID registry key (for this client and yours) https://learn.microsoft.com/en-us/windows/win32/com/appid-key. Note there&#39;s also an auto-elevation patch (see end of https://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c) that works for most non-anonymous clients. It&#39;s possible that this client benefits fromt it since it&#39;s non-anonymous.","body":"You say &quot;on the same test machine&quot;. Is this client connecting to a DCOM-hardened machine through network? Otherwise have you checked the AppID registry key (for this client and yours) <a href=\"https://learn.microsoft.com/en-us/windows/win32/com/appid-key\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/com/appid-key</a>. Note there&#39;s also an auto-elevation patch (see end of <a href=\"https://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/topic/&hellip;</a>) that works for most non-anonymous clients. It&#39;s possible that this client benefits fromt it since it&#39;s non-anonymous."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1682572057,"post_id":76061241,"comment_id":134237666,"body_markdown":"@SimonMourier 1) Working C++ client, non-working Java client and OPC DA server are on the same machine - my laptop, so `localhost` connection. 2) I guess there is no AppID for both clients (I didn&#39;t find source code of editing registry) and they runs as raw `exe` binaries built from source code, so no installers that might add that registry AppID.\n3) You said `this client benefits fromt it since it&#39;s non-anonymous` Explain me, please, how do to you know that the C++ client is non-anonymous, because I thought that setting `RPC_C_AUTHN_LEVEL_NONE` in `CoInitializeSecurity` means anomymous.","body":"@SimonMourier 1) Working C++ client, non-working Java client and OPC DA server are on the same machine - my laptop, so <code>localhost</code> connection. 2) I guess there is no AppID for both clients (I didn&#39;t find source code of editing registry) and they runs as raw <code>exe</code> binaries built from source code, so no installers that might add that registry AppID. 3) You said <code>this client benefits fromt it since it&#39;s non-anonymous</code> Explain me, please, how do to you know that the C++ client is non-anonymous, because I thought that setting <code>RPC_C_AUTHN_LEVEL_NONE</code> in <code>CoInitializeSecurity</code> means anomymous."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1682572501,"post_id":76061241,"comment_id":134237730,"body_markdown":"4) `RequireIntegrityActivationAuthenticationLevel` is 0 (so disabled) and `RaiseActivationAuthenticationLevel` is 2","body":"4) <code>RequireIntegrityActivationAuthenticationLevel</code> is 0 (so disabled) and <code>RaiseActivationAuthenticationLevel</code> is 2"},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":1,"creation_date":1682575239,"post_id":76061241,"comment_id":134238077,"body_markdown":"If system is under normal maintenance, post March 2023, `RequireIntegrityActivationAuthenticationLevel` (server) has no longer any effect, and settings `RaiseActivationAuthenticationLevel` (client) should not be needed (defaults to 2). This line of code here https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCClient.cpp#L57 tells this client seems (is it ran? can&#39;t say) to use anonymous activation security (https://learn.microsoft.com/en-us/windows/win32/com/turning-off-activation-security) that&#39;s whay it may work.\nAnonymous clients are not affected by DCOM hardening.","body":"If system is under normal maintenance, post March 2023, <code>RequireIntegrityActivationAuthenticationLevel</code> (server) has no longer any effect, and settings <code>RaiseActivationAuthenticationLevel</code> (client) should not be needed (defaults to 2). This line of code here <a href=\"https://github.com/edimetia3d/OPC-Client-X64/blob/master/OPCClientToolKit/OPCClient.cpp#L57\" rel=\"nofollow noreferrer\">github.com/edimetia3d/OPC-Client-X64/blob/master/&hellip;</a> tells this client seems (is it ran? can&#39;t say) to use anonymous activation security (<a href=\"https://learn.microsoft.com/en-us/windows/win32/com/turning-off-activation-security\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/com/&hellip;</a>) that&#39;s whay it may work. Anonymous clients are not affected by DCOM hardening."},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1682576570,"post_id":76061241,"comment_id":134238310,"body_markdown":"@SimonMourier Regarding to security setting under AppID, is there any way to set Java-wide DCOM settings (via registry)? As it is suggested in [this forum topic](https://forums.oracle.com/ords/apexds/post/coinitializesecurity-7100): `Change security for java.exe in the registry. This effects\nall java-DCOM applications`","body":"@SimonMourier Regarding to security setting under AppID, is there any way to set Java-wide DCOM settings (via registry)? As it is suggested in <a href=\"https://forums.oracle.com/ords/apexds/post/coinitializesecurity-7100\" rel=\"nofollow noreferrer\">this forum topic</a>: <code>Change security for java.exe in the registry. This effects all java-DCOM applications</code>"},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":1,"creation_date":1682578275,"post_id":76061241,"comment_id":134238660,"body_markdown":"All is explained here https://learn.microsoft.com/en-us/windows/win32/com/appid-key so yes with something similar to this : https://forums.oracle.com/ords/apexds/post/running-as-administrator-2258  but if CoInitializeSecurity is used somehow, the AppID info concerning security will not be used https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializesecurity#remarks","body":"All is explained here <a href=\"https://learn.microsoft.com/en-us/windows/win32/com/appid-key\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/com/appid-key</a> so yes with something similar to this : <a href=\"https://forums.oracle.com/ords/apexds/post/running-as-administrator-2258\" rel=\"nofollow noreferrer\">forums.oracle.com/ords/apexds/post/&hellip;</a>  but if CoInitializeSecurity is used somehow, the AppID info concerning security will not be used <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializesecurity#remarks\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/api/combaseapi/&hellip;</a>"},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1683118387,"post_id":76061241,"comment_id":134317076,"body_markdown":"@SimonMourier Do you know how manually create/edit `LaunchPermission` and `AccessPermission` registry values?","body":"@SimonMourier Do you know how manually create/edit <code>LaunchPermission</code> and <code>AccessPermission</code> registry values?"},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":1,"creation_date":1683121637,"post_id":76061241,"comment_id":134318026,"body_markdown":"Once you have created an APPID you can use DCOMCNFG https://learn.microsoft.com/en-us/windows/win32/com/setting-processwide-security-using-dcomcnfg example https://social.technet.microsoft.com/Forums/fr-FR/a28706ff-216c-437d-8210-311dd7dd93c5/how-to-grant-component-servicesdcom-permissions-for-an-application-via-gpo-ssis?forum=winserverGP","body":"Once you have created an APPID you can use DCOMCNFG <a href=\"https://learn.microsoft.com/en-us/windows/win32/com/setting-processwide-security-using-dcomcnfg\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/com/&hellip;</a> example <a href=\"https://social.technet.microsoft.com/Forums/fr-FR/a28706ff-216c-437d-8210-311dd7dd93c5/how-to-grant-component-servicesdcom-permissions-for-an-application-via-gpo-ssis?forum=winserverGP\" rel=\"nofollow noreferrer\">social.technet.microsoft.com/Forums/fr-FR/&hellip;</a>"}],"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681972961,"creation_date":1681972961,"question_id":76061241,"body_markdown":"Our applications cannot poll OPC DA server (running on the SAME MACHINE) **ONLY in asynchronous mode**, because of (got from Windows Event Viewer -&gt; Windows Logs -&gt; System)\r\n```\r\nThe server-side authentication level policy does not allow the user \r\nDESKTOP-AAAAA\\Admin SID (S-1-5-21-239355189-745547292-2783995333-1001) \r\nfrom address 192.168.0.5 to activate DCOM server. \r\n\r\nPlease raise the activation authentication level at least to \r\nRPC_C_AUTHN_LEVEL_PKT_INTEGRITY in client application.\r\n```\r\nThis is because of tricky and buggy [Microsoft DCOM hardening][1]. Thus our application already uses [the highest authentication level][2] (higher than `RPC_C_AUTHN_LEVEL_PKT_INTEGRITY`) and DCOM settings are configured according to recommendation of OPC DA Server provider (Matricon Simulation in our case).\r\n\r\nFrom the error above I can conclude that `j-interop` (or something else in calling chain) uses wrong IP address of my machine, thus Windows applies wrong authentication rules. Because both the our application and OPC DA server run on the same machine, so I initialized `JiSession` with `127.0.0.1` as target host. But the error shows that request is from `192.168.0.5` - the IP of my WiFi adapter (*by the way, my machine hasn&#39;t static IP*):\r\n```\r\n$ ipconfig\r\n....\r\n\r\nWireless LAN adapter:\r\n\r\n   Connection-specific DNS Suffix  . :\r\n   IPv6 Address. . . . . . . . . . . : 2a02:2698:582b:1606:91d4:8c27:683f:333f\r\n   Temporary IPv6 Address. . . . . . : 2a02:2698:582b:1606:8042:9881:a089:37e3\r\n   Link-local IPv6 Address . . . . . : fe80::ac0:a10c:425:4577%8\r\n   IPv4 Address. . . . . . . . . . . : 192.168.0.5\r\n   Subnet Mask . . . . . . . . . . . : 255.255.255.0\r\n   Default Gateway . . . . . . . . . : fe80::1%8\r\n```\r\n\r\nAfter digging into `j-interop` source code, I found it [supports only][3] `ncacn_ip_tcp` RPC  [endpoint][4] disregarding remote address or localhost. For the latter `j-interop` might use `ncalrpc` RPC endpoint. I guess it could be the root cause of the error mentioned at the begging on the question.\r\n\r\nAt the moment my questions are:\r\n\r\n 1. Did anyone try to force `j-interop` using `ncalrpc` for `127.0.0.1`\r\n    (i.e. *localhost*)? \r\n 2. Or maybe someone solved the error of authentication level check?\r\n\r\n  [1]: https://techcommunity.microsoft.com/t5/windows-it-pro-blog/dcom-authentication-hardening-what-you-need-to-know/ba-p/3657154\r\n  [2]: https://github.com/skyghis/j-interop-ng/pull/17\r\n  [3]: https://github.com/skyghis/j-interop-ng/blob/jcifs-ng/j-interop/src/main/java/org/jinterop/dcom/core/JIComServer.java#L329\r\n  [4]: https://learn.microsoft.com/en-us/windows/win32/midl/ncacn-ip-tcp","title":"How to force j-interop using ncalrpc for localhost?","body":"<p>Our applications cannot poll OPC DA server (running on the SAME MACHINE) <strong>ONLY in asynchronous mode</strong>, because of (got from Windows Event Viewer -&gt; Windows Logs -&gt; System)</p>\n<pre><code>The server-side authentication level policy does not allow the user \nDESKTOP-AAAAA\\Admin SID (S-1-5-21-239355189-745547292-2783995333-1001) \nfrom address 192.168.0.5 to activate DCOM server. \n\nPlease raise the activation authentication level at least to \nRPC_C_AUTHN_LEVEL_PKT_INTEGRITY in client application.\n</code></pre>\n<p>This is because of tricky and buggy <a href=\"https://techcommunity.microsoft.com/t5/windows-it-pro-blog/dcom-authentication-hardening-what-you-need-to-know/ba-p/3657154\" rel=\"nofollow noreferrer\">Microsoft DCOM hardening</a>. Thus our application already uses <a href=\"https://github.com/skyghis/j-interop-ng/pull/17\" rel=\"nofollow noreferrer\">the highest authentication level</a> (higher than <code>RPC_C_AUTHN_LEVEL_PKT_INTEGRITY</code>) and DCOM settings are configured according to recommendation of OPC DA Server provider (Matricon Simulation in our case).</p>\n<p>From the error above I can conclude that <code>j-interop</code> (or something else in calling chain) uses wrong IP address of my machine, thus Windows applies wrong authentication rules. Because both the our application and OPC DA server run on the same machine, so I initialized <code>JiSession</code> with <code>127.0.0.1</code> as target host. But the error shows that request is from <code>192.168.0.5</code> - the IP of my WiFi adapter (<em>by the way, my machine hasn't static IP</em>):</p>\n<pre><code>$ ipconfig\n....\n\nWireless LAN adapter:\n\n   Connection-specific DNS Suffix  . :\n   IPv6 Address. . . . . . . . . . . : 2a02:2698:582b:1606:91d4:8c27:683f:333f\n   Temporary IPv6 Address. . . . . . : 2a02:2698:582b:1606:8042:9881:a089:37e3\n   Link-local IPv6 Address . . . . . : fe80::ac0:a10c:425:4577%8\n   IPv4 Address. . . . . . . . . . . : 192.168.0.5\n   Subnet Mask . . . . . . . . . . . : 255.255.255.0\n   Default Gateway . . . . . . . . . : fe80::1%8\n</code></pre>\n<p>After digging into <code>j-interop</code> source code, I found it <a href=\"https://github.com/skyghis/j-interop-ng/blob/jcifs-ng/j-interop/src/main/java/org/jinterop/dcom/core/JIComServer.java#L329\" rel=\"nofollow noreferrer\">supports only</a> <code>ncacn_ip_tcp</code> RPC  <a href=\"https://learn.microsoft.com/en-us/windows/win32/midl/ncacn-ip-tcp\" rel=\"nofollow noreferrer\">endpoint</a> disregarding remote address or localhost. For the latter <code>j-interop</code> might use <code>ncalrpc</code> RPC endpoint. I guess it could be the root cause of the error mentioned at the begging on the question.</p>\n<p>At the moment my questions are:</p>\n<ol>\n<li>Did anyone try to force <code>j-interop</code> using <code>ncalrpc</code> for <code>127.0.0.1</code>\n(i.e. <em>localhost</em>)?</li>\n<li>Or maybe someone solved the error of authentication level check?</li>\n</ol>\n"},{"tags":["java","android","gridview"],"answers":[{"tags":[],"owner":{"account_id":195039,"reputation":6156,"user_id":437703,"accept_rate":67,"display_name":"100rabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681972815,"creation_date":1297246497,"answer_id":4943431,"question_id":4941353,"body_markdown":"michael , Well You have two choices for such an implementation\r\n\r\n - Set onclickListener on each of\r\n   widgets in each grid\r\n   Item(eg.Textview/ImageView)\r\n\r\nOR\r\n\r\n - [Customize GridView][1]\r\n\r\nAnd you&#39;re Done!\r\n\r\n\r\n  [1]: https://web.archive.org/web/20200927172131/http://www.tutorialforandroid.com/2009/09/extending-and-customizing-gridview-with.html","title":"How to get position of item selecte in gridview, or detect release of key with onItemClick?","body":"<p>michael , Well You have two choices for such an implementation</p>\n<ul>\n<li>Set onclickListener on each of\nwidgets in each grid\nItem(eg.Textview/ImageView)</li>\n</ul>\n<p>OR</p>\n<ul>\n<li><a href=\"https://web.archive.org/web/20200927172131/http://www.tutorialforandroid.com/2009/09/extending-and-customizing-gridview-with.html\" rel=\"nofollow noreferrer\">Customize GridView</a></li>\n</ul>\n<p>And you're Done!</p>\n"}],"owner":{"account_id":705695,"reputation":1,"user_id":609193,"display_name":"michael zonemikel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2076,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681972815,"creation_date":1297226301,"question_id":4941353,"body_markdown":"I must be able to detect the press and release of a button, but I must also have the position of the item in the gridview that is being touched. I basically have a gridview that is a d-pad control. So when the user pushed on it i need it to send &quot;go&quot; and when they release i need it to send &quot;stop&quot;\r\n\r\nwith this below , there is no way to tell when they lift off the button (that i know!).\r\n\r\n\t    Grid.setAdapter(new ImageAdapter(c, mThumbIds));\r\n\t    Grid.setOnItemClickListener(new OnItemClickListener() {\r\n\t        public void onItemClick(AdapterView&lt;?&gt; parent, View v, int position, long id) {\r\n\t            Message msg = new Message();\r\n\t            msg.what = what;\r\n\t            msg.arg1 = position;\r\n\t            cHandler.sendMessage(msg);\r\n\t        }\r\n\t    });\r\n\r\nbut If i use a ontouch listner I cant tell which item in the grid they have selected\r\n\t    \r\n    Grid.setOnTouchListener(new OnTouchListener() {\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    if (event.getAction() == MotionEvent.ACTION_UP) {\r\n        \t            Message msg = new Message();\r\n        \t            msg.what = 255;\r\n        \t            msg.arg1 = 255;\r\n        \t            cHandler.sendMessage(msg);\r\n                    }\r\n                    \r\n                    if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n            \t            Message msg = new Message();\r\n            \t            msg.what = what;\r\n            \t            msg.arg1 = 55;\r\n            \t            cHandler.sendMessage(msg);\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n\r\nyour time is greatly appreciated !! \r\n\r\n\r\n\r\n\r\n/// well this is what i&#39;ve been trying to do, i can never get the bounds of the different parts of the gridview. The r.getX etc always returns 0. if i have the id of the resource how can i pull its rectangle ? \r\n\r\n    Grid.setOnTouchListener(new OnTouchListener() {\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    if (event.getAction() == MotionEvent.ACTION_UP) {\r\n                    \tRect r = new Rect();\r\n                    \tImageView imageView = new ImageView(c);\r\n                    \t\r\n                    \tfor(int n: mThumbIds){\r\n                    \t\timageView.setImageResource(n);\r\n                    \t\tr = imageView.getDrawable().getBounds();\r\n                        \tif(r.contains((int)event.getX(),(int)event.getY()))\r\n                        \t{\r\n                \t            Message msg = new Message();\r\n                \t            msg.what = what;\r\n                \t            msg.arg1 = n;\r\n                \t            msg.arg2 = (int)event.getRawY();\r\n                \t            cHandler.sendMessage(msg);\r\n                \t            break;\r\n                        \t}else{\r\n                \t            Message msg = new Message();\r\n                \t            msg.what = what;\r\n                \t            msg.arg1 = r.centerX();\r\n                \t            msg.arg2 = n;\r\n                \t            cHandler.sendMessage(msg);\r\n                        \t\t\r\n                        \t}\r\n                    \t}// end for\r\n                    }// end if action up","title":"How to get position of item selecte in gridview, or detect release of key with onItemClick?","body":"<p>I must be able to detect the press and release of a button, but I must also have the position of the item in the gridview that is being touched. I basically have a gridview that is a d-pad control. So when the user pushed on it i need it to send \"go\" and when they release i need it to send \"stop\"</p>\n\n<p>with this below , there is no way to tell when they lift off the button (that i know!).</p>\n\n<pre><code>    Grid.setAdapter(new ImageAdapter(c, mThumbIds));\n    Grid.setOnItemClickListener(new OnItemClickListener() {\n        public void onItemClick(AdapterView&lt;?&gt; parent, View v, int position, long id) {\n            Message msg = new Message();\n            msg.what = what;\n            msg.arg1 = position;\n            cHandler.sendMessage(msg);\n        }\n    });\n</code></pre>\n\n<p>but If i use a ontouch listner I cant tell which item in the grid they have selected</p>\n\n<pre><code>Grid.setOnTouchListener(new OnTouchListener() {\n            public boolean onTouch(View v, MotionEvent event) {\n                if (event.getAction() == MotionEvent.ACTION_UP) {\n                    Message msg = new Message();\n                    msg.what = 255;\n                    msg.arg1 = 255;\n                    cHandler.sendMessage(msg);\n                }\n\n                if (event.getAction() == MotionEvent.ACTION_DOWN) {\n                        Message msg = new Message();\n                        msg.what = what;\n                        msg.arg1 = 55;\n                        cHandler.sendMessage(msg);\n                }\n                return false;\n            }\n        });\n</code></pre>\n\n<p>your time is greatly appreciated !! </p>\n\n<p>/// well this is what i've been trying to do, i can never get the bounds of the different parts of the gridview. The r.getX etc always returns 0. if i have the id of the resource how can i pull its rectangle ? </p>\n\n<pre><code>Grid.setOnTouchListener(new OnTouchListener() {\n            public boolean onTouch(View v, MotionEvent event) {\n                if (event.getAction() == MotionEvent.ACTION_UP) {\n                    Rect r = new Rect();\n                    ImageView imageView = new ImageView(c);\n\n                    for(int n: mThumbIds){\n                        imageView.setImageResource(n);\n                        r = imageView.getDrawable().getBounds();\n                        if(r.contains((int)event.getX(),(int)event.getY()))\n                        {\n                            Message msg = new Message();\n                            msg.what = what;\n                            msg.arg1 = n;\n                            msg.arg2 = (int)event.getRawY();\n                            cHandler.sendMessage(msg);\n                            break;\n                        }else{\n                            Message msg = new Message();\n                            msg.what = what;\n                            msg.arg1 = r.centerX();\n                            msg.arg2 = n;\n                            cHandler.sendMessage(msg);\n\n                        }\n                    }// end for\n                }// end if action up\n</code></pre>\n"},{"tags":["java","excel","apache-poi","hssfworkbook"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681903092,"post_id":76053442,"comment_id":134131019,"body_markdown":"Isn&#39;t the date format a &#39;view level&#39; thing? i.e. you would change your desired format from Excel itself (or whatever you&#39;re viewing it in) Users of your sheet should be able to choose whatever format they want","body":"Isn&#39;t the date format a &#39;view level&#39; thing? i.e. you would change your desired format from Excel itself (or whatever you&#39;re viewing it in) Users of your sheet should be able to choose whatever format they want"},{"owner":{"account_id":9917587,"reputation":640,"user_id":7341878,"accept_rate":10,"display_name":"Prakash"},"score":0,"creation_date":1681903784,"post_id":76053442,"comment_id":134131184,"body_markdown":"Yes I agree user can choose their desire format but I have mentioned in the code as the cell should format as dd/MM/yyyy format. That conversion is not working","body":"Yes I agree user can choose their desire format but I have mentioned in the code as the cell should format as dd/MM/yyyy format. That conversion is not working"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681906006,"post_id":76053442,"comment_id":134131761,"body_markdown":"And what if the user&#39;s setting overrides the format you set?","body":"And what if the user&#39;s setting overrides the format you set?"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681972795,"creation_date":1681910481,"answer_id":76055035,"question_id":76053442,"body_markdown":"The Excel Number format `DD/MM/YYYY` means a date format DMY having the delimiter which is defined in Systems region settings. Seems for your system that delimiter is hyphen (minus). In other words, the `/` in that format code does not mean the slash but the default date delimiter. \r\n\r\nHave a look at Control Panel - Region what is the delimiter in Date (short). This is the default date delimiter. \r\n\r\nIf you want set a user defined format which always uses the slash as the delimiter, then you need mark the slash as meaningless character. That would be `DD\\/MM\\/YYYY` - backslash preceded or `DD&quot;/&quot;MM&quot;/&quot;YYYY` - slash in double quotes.\r\n\r\nComplete Example:\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    \r\n    class CreateExcelDate {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (Workbook workbook = new HSSFWorkbook(); \r\n           FileOutputStream fileout = new FileOutputStream(&quot;./Excel.xls&quot;) ) {\r\n    \r\n       CellStyle cStyle = workbook.createCellStyle();\r\n       CreationHelper createHelper = workbook.getCreationHelper();         \r\n       //cStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd/MM/yyyy&quot;));\r\n       //cStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd\\\\/MM\\\\/yyyy&quot;));\r\n       cStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd\\&quot;/\\&quot;MM\\&quot;/\\&quot;yyyy&quot;));\r\n    \r\n       Sheet excelSheet = workbook.createSheet();\r\n      \r\n       for (int r = 1; r &lt; 10; r++) {\r\n        Row dataRow = excelSheet.createRow(r);;\r\n        Cell dataCell = dataRow.createCell(1);;\r\n        dataCell.setCellValue(new java.util.GregorianCalendar(2023, 3, r*2, r, r, r));\r\n        dataCell.setCellStyle(cStyle);\r\n       }\r\n    \r\n       excelSheet.setColumnWidth(1, 15 * 256);\r\n    \r\n       workbook.write(fileout);\r\n      }\r\n    \r\n     }\r\n    }\r\n\r\n\r\n_______________________________________\r\n\r\nWhen it comes to the question about documentation for this, there is:\r\n\r\n[Number format codes](https://support.microsoft.com/en-us/office/number-format-codes-5026bbd6-04bc-48cd-bf33-80f18b4eae68)\r\n\r\nand for regionalization:\r\n\r\n[Number formatting](https://learn.microsoft.com/en-us/globalization/locale/number-formatting)\r\n\r\nBut since we are on file storage level using Apache POI and not on Excel GUI level, following needs also to be known:\r\n\r\nMicrosoft Office always stores en_US settings in files. The regionalization is done in GUI only.\r\n\r\nSo for number formats that means:\r\n\r\nA stored number format `#,##0.00` in a file may be `#.##0,00` in a GUI which uses regional settings where comma is decimal delimiter and dot is thousands separator.\r\n\r\nA stored date format `DD/MM/YYYY` in a file may be `DD.MM.YYYY` in a GUI which uses regional settings where dot is the date separator. It also may be  `TT.MM.JJJJ` when &quot;Day&quot; spells &quot;Tag&quot; and &quot;Year&quot; spells &quot;Jahr&quot; in that regions language.\r\n\r\nIf one put `DD/MM/YYYY` in a GUI which region settings have not slash as the date separator, then in file storage `DD\\/MM\\/YYYY` will be stored to mark that slash as a meaningless character. But as Apache POI directly writes in file storage, there `DD\\/MM\\/YYYY` needs to be used directly. Else slash means the default date separator.\r\n\r\n","title":"Mentioned date format (dd/MM/yyyy) is not working for current date in excel using Apache Poi","body":"<p>The Excel Number format <code>DD/MM/YYYY</code> means a date format DMY having the delimiter which is defined in Systems region settings. Seems for your system that delimiter is hyphen (minus). In other words, the <code>/</code> in that format code does not mean the slash but the default date delimiter.</p>\n<p>Have a look at Control Panel - Region what is the delimiter in Date (short). This is the default date delimiter.</p>\n<p>If you want set a user defined format which always uses the slash as the delimiter, then you need mark the slash as meaningless character. That would be <code>DD\\/MM\\/YYYY</code> - backslash preceded or <code>DD&quot;/&quot;MM&quot;/&quot;YYYY</code> - slash in double quotes.</p>\n<p>Complete Example:</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\n\nclass CreateExcelDate {\n\n public static void main(String[] args) throws Exception {\n\n  try (Workbook workbook = new HSSFWorkbook(); \n       FileOutputStream fileout = new FileOutputStream(&quot;./Excel.xls&quot;) ) {\n\n   CellStyle cStyle = workbook.createCellStyle();\n   CreationHelper createHelper = workbook.getCreationHelper();         \n   //cStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd/MM/yyyy&quot;));\n   //cStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd\\\\/MM\\\\/yyyy&quot;));\n   cStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd\\&quot;/\\&quot;MM\\&quot;/\\&quot;yyyy&quot;));\n\n   Sheet excelSheet = workbook.createSheet();\n  \n   for (int r = 1; r &lt; 10; r++) {\n    Row dataRow = excelSheet.createRow(r);;\n    Cell dataCell = dataRow.createCell(1);;\n    dataCell.setCellValue(new java.util.GregorianCalendar(2023, 3, r*2, r, r, r));\n    dataCell.setCellStyle(cStyle);\n   }\n\n   excelSheet.setColumnWidth(1, 15 * 256);\n\n   workbook.write(fileout);\n  }\n\n }\n}\n</code></pre>\n<hr />\n<p>When it comes to the question about documentation for this, there is:</p>\n<p><a href=\"https://support.microsoft.com/en-us/office/number-format-codes-5026bbd6-04bc-48cd-bf33-80f18b4eae68\" rel=\"nofollow noreferrer\">Number format codes</a></p>\n<p>and for regionalization:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/globalization/locale/number-formatting\" rel=\"nofollow noreferrer\">Number formatting</a></p>\n<p>But since we are on file storage level using Apache POI and not on Excel GUI level, following needs also to be known:</p>\n<p>Microsoft Office always stores en_US settings in files. The regionalization is done in GUI only.</p>\n<p>So for number formats that means:</p>\n<p>A stored number format <code>#,##0.00</code> in a file may be <code>#.##0,00</code> in a GUI which uses regional settings where comma is decimal delimiter and dot is thousands separator.</p>\n<p>A stored date format <code>DD/MM/YYYY</code> in a file may be <code>DD.MM.YYYY</code> in a GUI which uses regional settings where dot is the date separator. It also may be  <code>TT.MM.JJJJ</code> when &quot;Day&quot; spells &quot;Tag&quot; and &quot;Year&quot; spells &quot;Jahr&quot; in that regions language.</p>\n<p>If one put <code>DD/MM/YYYY</code> in a GUI which region settings have not slash as the date separator, then in file storage <code>DD\\/MM\\/YYYY</code> will be stored to mark that slash as a meaningless character. But as Apache POI directly writes in file storage, there <code>DD\\/MM\\/YYYY</code> needs to be used directly. Else slash means the default date separator.</p>\n"}],"owner":{"account_id":9917587,"reputation":640,"user_id":7341878,"accept_rate":10,"display_name":"Prakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76055035,"answer_count":1,"score":1,"last_activity_date":1681972795,"creation_date":1681900157,"question_id":76053442,"body_markdown":"I need to generate excel file with date values using HSSFWorkbook(.xlsx). I am passing date value generated by Date class and also I am adding the format to the excel cell as dd/MM/yyyy using ```createHelper.createDataFormat().getFormat(&quot;dd/MM/yyyy&quot;)``` but in the downloaded excel file it is showing in different format.\r\n\r\npassing date as Wed Apr 19 15:00:17 IST 2023, \r\nI am expecting the format as 19/04/2023 however I am getting as shown in the image.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DtKFZ.png\r\n\r\n\r\nAttached the code snippets,\r\n\r\n    Workbook wb = new HSSFWorkbook();  \r\n    CreationHelper createHelper = wb.getCreationHelper();  \r\n    Sheet sheet = wb.createSheet(&quot;New Sheet&quot;);  \r\n    Row row     = sheet.createRow(0);  \r\n    Cell cell   = row.createCell(0);  \r\n    cell.setCellValue(&quot;test&quot;);\r\n    CellStyle cellStyle = wb.createCellStyle();  \r\n    cellStyle.setDataFormat(  \r\n                createHelper.createDataFormat().getFormat(&quot;dd/MM/yyyy&quot;));  \r\n    cell = row.createCell(1); \r\n    Date date = new Date();\r\n    System.out.println(&quot;Date :&quot;+date);\r\n    cell.setCellValue(date);    \r\n    cell.setCellStyle(cellStyle);\r\n \r\nThanks","title":"Mentioned date format (dd/MM/yyyy) is not working for current date in excel using Apache Poi","body":"<p>I need to generate excel file with date values using HSSFWorkbook(.xlsx). I am passing date value generated by Date class and also I am adding the format to the excel cell as dd/MM/yyyy using <code>createHelper.createDataFormat().getFormat(&quot;dd/MM/yyyy&quot;)</code> but in the downloaded excel file it is showing in different format.</p>\n<p>passing date as Wed Apr 19 15:00:17 IST 2023,\nI am expecting the format as 19/04/2023 however I am getting as shown in the image.</p>\n<p><a href=\"https://i.stack.imgur.com/DtKFZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DtKFZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Attached the code snippets,</p>\n<pre><code>Workbook wb = new HSSFWorkbook();  \nCreationHelper createHelper = wb.getCreationHelper();  \nSheet sheet = wb.createSheet(&quot;New Sheet&quot;);  \nRow row     = sheet.createRow(0);  \nCell cell   = row.createCell(0);  \ncell.setCellValue(&quot;test&quot;);\nCellStyle cellStyle = wb.createCellStyle();  \ncellStyle.setDataFormat(  \n            createHelper.createDataFormat().getFormat(&quot;dd/MM/yyyy&quot;));  \ncell = row.createCell(1); \nDate date = new Date();\nSystem.out.println(&quot;Date :&quot;+date);\ncell.setCellValue(date);    \ncell.setCellStyle(cellStyle);\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","android","telephony"],"comments":[{"owner":{"account_id":51633,"reputation":37763,"user_id":154306,"accept_rate":98,"display_name":"Paul Lammertsma"},"score":0,"creation_date":1295534876,"post_id":4745899,"comment_id":5250460,"body_markdown":"I&#39;ve tried using `ClassLoader.getSystemClassLoader()`, but this doesn&#39;t work either.","body":"I&#39;ve tried using <code>ClassLoader.getSystemClassLoader()</code>, but this doesn&#39;t work either."}],"answers":[{"tags":[],"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1295521562,"creation_date":1295521562,"answer_id":4746322,"question_id":4745899,"body_markdown":"Did you add `READ_PHONE_STATE` in AndroidManifest.xml ?\r\n\r\nI think you miss that one.","title":"how to access com.android.internal.telephony.CallManager?","body":"<p>Did you add <code>READ_PHONE_STATE</code> in AndroidManifest.xml ?</p>\n\n<p>I think you miss that one.</p>\n"},{"tags":[],"owner":{"account_id":51633,"reputation":37763,"user_id":154306,"accept_rate":98,"display_name":"Paul Lammertsma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1295535113,"creation_date":1295535113,"answer_id":4748551,"question_id":4745899,"body_markdown":"I understand that you want to detect when the call is disconnected. You can instead use the `PhoneStateListener.LISTEN_CALL_STATE`. For example:\r\n\r\n\tfinal TelephonyManager telephony = (TelephonyManager)\r\n\t\t\tgetSystemService(Context.TELEPHONY_SERVICE);\r\n\ttelephony.listen(new PhoneStateListener() {\r\n\t\tpublic void onCallStateChanged(final int state,\r\n\t\t\t\tfinal String incomingNumber) {\r\n\t\t\tswitch (state) {\r\n\t\t\tcase TelephonyManager.CALL_STATE_IDLE:\r\n\t\t\t\tbreak;\r\n\t\t\tcase TelephonyManager.CALL_STATE_OFFHOOK:\r\n\t\t\t\tLog.d(&quot;TestActivity&quot;, &quot;Call disconnected&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase TelephonyManager.CALL_STATE_RINGING:\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}, PhoneStateListener.LISTEN_CALL_STATE);\r\n","title":"how to access com.android.internal.telephony.CallManager?","body":"<p>I understand that you want to detect when the call is disconnected. You can instead use the <code>PhoneStateListener.LISTEN_CALL_STATE</code>. For example:</p>\n\n<pre><code>final TelephonyManager telephony = (TelephonyManager)\n        getSystemService(Context.TELEPHONY_SERVICE);\ntelephony.listen(new PhoneStateListener() {\n    public void onCallStateChanged(final int state,\n            final String incomingNumber) {\n        switch (state) {\n        case TelephonyManager.CALL_STATE_IDLE:\n            break;\n        case TelephonyManager.CALL_STATE_OFFHOOK:\n            Log.d(\"TestActivity\", \"Call disconnected\");\n            break;\n        case TelephonyManager.CALL_STATE_RINGING:\n            break;\n        default:\n            break;\n        }\n    }\n}, PhoneStateListener.LISTEN_CALL_STATE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71316,"reputation":34203,"user_id":206367,"accept_rate":93,"display_name":"t0mm13b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681972755,"creation_date":1297789134,"answer_id":5006795,"question_id":4745899,"body_markdown":"Have you tried this method found here on this [blog][1]?\r\n\r\nBy loading the Phone.apk might be the clue to getting around the ClassNotFound exception error...\r\n\r\n\r\n  [1]: https://web.archive.org/web/20210117124429/http://www.tutorialforandroid.com/2010/07/access-internal-classes-in-android.html","title":"how to access com.android.internal.telephony.CallManager?","body":"<p>Have you tried this method found here on this <a href=\"https://web.archive.org/web/20210117124429/http://www.tutorialforandroid.com/2010/07/access-internal-classes-in-android.html\" rel=\"nofollow noreferrer\">blog</a>?</p>\n<p>By loading the Phone.apk might be the clue to getting around the ClassNotFound exception error...</p>\n"},{"tags":[],"owner":{"account_id":188432,"reputation":433,"user_id":427171,"accept_rate":17,"display_name":"tuan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1301551697,"creation_date":1301551259,"answer_id":5495850,"question_id":4745899,"body_markdown":"I could successfully load CallManager and its methods. However, when I invoke getState(), getActiveFgCallState(), it always return IDLE even when the app receives different call states from TelephonyManager, i.e. TelephonyManager.CALL_STATE_IDLE, TelephonyManager.CALL_STATE_OFFHOOK, TelephonyManager.CALL_STATE_RINGING.\r\n\r\nI used the following code to load the class and its methods:\r\n\r\n    final Class&lt;?&gt; classCallManager = classLoader.loadClass(&quot;com.android.internal.telephony.CallManager&quot;);\r\n    Log.i(TAG, &quot;Class loaded &quot; + classCallManager.toString());\r\n    \r\n    Method methodGetInstance = classCallManager.getDeclaredMethod(&quot;getInstance&quot;);\r\n    Log.i(TAG, &quot;Method loaded &quot; + methodGetInstance.getName());\r\n    \r\n    Object objectCallManager = methodGetInstance.invoke(null);\r\n    Log.i(TAG, &quot;Object loaded &quot; + objectCallManager.getClass().getName());\r\n    \t\r\n    \t\t\t\r\n    Method methodGetState = classCallManager.getDeclaredMethod(&quot;getState&quot;);\r\n    Log.i(TAG, &quot;Method loaded &quot; + methodGetState.getName());\r\n    \r\n    Log.i(TAG, &quot;Phone state = &quot; + methodGetState.invoke(objectCallManager));\r\n\r\nBtw, what I am trying to do is detecting when the phone starts ringing. I saw in the source code that ALERTING is the internal event that I should listen to. Therefore, I tried to use CallManager to get Call.State, rather than Phone.State. I also tried to use registerForPreciseCallStateChanges() of CallManager class but none of approached worked so far.","title":"how to access com.android.internal.telephony.CallManager?","body":"<p>I could successfully load CallManager and its methods. However, when I invoke getState(), getActiveFgCallState(), it always return IDLE even when the app receives different call states from TelephonyManager, i.e. TelephonyManager.CALL_STATE_IDLE, TelephonyManager.CALL_STATE_OFFHOOK, TelephonyManager.CALL_STATE_RINGING.</p>\n\n<p>I used the following code to load the class and its methods:</p>\n\n<pre><code>final Class&lt;?&gt; classCallManager = classLoader.loadClass(\"com.android.internal.telephony.CallManager\");\nLog.i(TAG, \"Class loaded \" + classCallManager.toString());\n\nMethod methodGetInstance = classCallManager.getDeclaredMethod(\"getInstance\");\nLog.i(TAG, \"Method loaded \" + methodGetInstance.getName());\n\nObject objectCallManager = methodGetInstance.invoke(null);\nLog.i(TAG, \"Object loaded \" + objectCallManager.getClass().getName());\n\n\nMethod methodGetState = classCallManager.getDeclaredMethod(\"getState\");\nLog.i(TAG, \"Method loaded \" + methodGetState.getName());\n\nLog.i(TAG, \"Phone state = \" + methodGetState.invoke(objectCallManager));\n</code></pre>\n\n<p>Btw, what I am trying to do is detecting when the phone starts ringing. I saw in the source code that ALERTING is the internal event that I should listen to. Therefore, I tried to use CallManager to get Call.State, rather than Phone.State. I also tried to use registerForPreciseCallStateChanges() of CallManager class but none of approached worked so far.</p>\n"},{"tags":[],"owner":{"account_id":890434,"reputation":7576,"user_id":928814,"accept_rate":98,"display_name":"Avadhani Y"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1335951744,"creation_date":1335951744,"answer_id":10411249,"question_id":4745899,"body_markdown":"Use this : \r\n       \r\n        telephone = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);\r\n\r\n        private PhoneStateListener psl = new PhoneStateListener() {\r\n\t\r\n\t\t@Override\r\n\t\tpublic  void onCallStateChanged (int state, String incomingNumber)\r\n\t\t{\r\n\t\t\tstate = telephone.getCallState();\r\n\t\t\t\r\n\t\t\tswitch(state) {\r\n\t\t\tcase android.telephony.TelephonyManager.CALL_STATE_IDLE:\t\r\n\t\t\t\tif (callsucces ) act();\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase android.telephony.TelephonyManager.CALL_STATE_RINGING:\r\n\t\t\t\tcallsucces = true; \r\n\t\t\t\tbreak;\r\n\t\t\tcase android.telephony.TelephonyManager.CALL_STATE_OFFHOOK:\r\n\t\t\t\tcallsucces = true; \r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t};\r\n\r\n\r\n       private void call(String pnum) {\r\n\t    try {\r\n\t   \r\n\t    \tcallIntent = new Intent(Intent.ACTION_CALL);\r\n\t    \t\r\n\t        callsucces = false;\r\n\t        if (telephone.getNetworkType() != 0) {\r\n\t        if (telephone.getCallState() == TelephonyManager.CALL_STATE_IDLE) {\r\n\t        callIntent.setData(Uri.parse(&quot;tel:&quot;+pnum)); \r\n\t        startActivity(callIntent);\r\n\t        telephone.listen(psl,PhoneStateListener.LISTEN_CALL_STATE);\r\n\t        }\r\n\t        } else act();\r\n\t        //callIntent.ACTION_NEW_OUTGOING_CALL\r\n\t    } catch (ActivityNotFoundException activityException) {\r\n\t    \t Toast.makeText(getBaseContext(), &quot;Call failed&quot;,Toast.LENGTH_SHORT).show();\r\n\t    \t act();\r\n\t        \r\n\t    }\r\n\t}","title":"how to access com.android.internal.telephony.CallManager?","body":"<p>Use this : </p>\n\n<pre><code>    telephone = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);\n\n    private PhoneStateListener psl = new PhoneStateListener() {\n\n    @Override\n    public  void onCallStateChanged (int state, String incomingNumber)\n    {\n        state = telephone.getCallState();\n\n        switch(state) {\n        case android.telephony.TelephonyManager.CALL_STATE_IDLE:    \n            if (callsucces ) act();\n\n            break;\n        case android.telephony.TelephonyManager.CALL_STATE_RINGING:\n            callsucces = true; \n            break;\n        case android.telephony.TelephonyManager.CALL_STATE_OFFHOOK:\n            callsucces = true; \n            break;\n        }\n    }\n\n};\n\n\n   private void call(String pnum) {\n    try {\n\n        callIntent = new Intent(Intent.ACTION_CALL);\n\n        callsucces = false;\n        if (telephone.getNetworkType() != 0) {\n        if (telephone.getCallState() == TelephonyManager.CALL_STATE_IDLE) {\n        callIntent.setData(Uri.parse(\"tel:\"+pnum)); \n        startActivity(callIntent);\n        telephone.listen(psl,PhoneStateListener.LISTEN_CALL_STATE);\n        }\n        } else act();\n        //callIntent.ACTION_NEW_OUTGOING_CALL\n    } catch (ActivityNotFoundException activityException) {\n         Toast.makeText(getBaseContext(), \"Call failed\",Toast.LENGTH_SHORT).show();\n         act();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1270597,"reputation":563,"user_id":1226971,"accept_rate":71,"display_name":"sm13294"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1335967633,"creation_date":1335967633,"answer_id":10415432,"question_id":4745899,"body_markdown":"I have written a program that recognize the phone calls and list all recent calls in a list. Maybe you can have a look on this code and it can help I think.\r\nAll you need is this: \r\n\r\n    String state = bundle.getString(TelephonyManager.EXTRA_STATE);\r\n    if(state.equalsIgnoreCase(TelephonyManager.EXTRA_STATE_RINGING))\r\n\r\nbut check this example also:\r\n\r\n\r\n    package org.java.sm222bt;\r\n\r\n    import org.java.sm222bt.R;\r\n  \r\n    import android.app.ListActivity;\r\n    import android.content.Intent;\r\n    import android.database.Cursor;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.view.ContextMenu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.ListAdapter;\r\n    import android.widget.SimpleCursorAdapter;\r\n\r\n    public class MainActivity extends ListActivity {\r\n\tprivate CountryDbAdapter db;\r\n\tprivate Cursor entrycursor;\r\n\tprivate ListAdapter adapter;\r\n\t\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //setContentView(R.layout.main);\r\n        registerForContextMenu(getListView());\r\n        db = new CountryDbAdapter(this);\r\n       updateEntry();\r\n       \r\n    }\r\n    public void updateEntry(){\r\n    \tdb.open();\r\n        \r\n        entrycursor = db.fetchAllEntries();\r\n        \r\n        adapter = new SimpleCursorAdapter(this, R.layout.row, entrycursor, new String[] {&quot;phonenumber&quot;}, new int[] {R.id.number});\r\n        setListAdapter(adapter);\r\n        db.close();\r\n    }\r\n    @Override\r\n    protected void onResume() {\r\n    \t\r\n    \tsuper.onResume();\r\n    \tupdateEntry();\r\n    }\r\n    \r\n    public static final int Call = 0;\r\n    public static final int SendSMS = 1;\r\n    public static final int Share = 2;\r\n    public static final int Delete = 3;\r\n    public static final int ClearList = 4;\r\n\r\n\r\n\r\n    public void onCreateContextMenu(ContextMenu menu, View v, \r\n    ContextMenu.ContextMenuInfo menuInfo) { \r\n    menu.setHeaderTitle(&quot;Select:&quot;);\t\r\n    menu.add(0, Call, 0, &quot;Call&quot;);\r\n    menu.add(0, SendSMS, 0, &quot;Send SMS&quot;);\r\n    menu.add(0, Share, 0, &quot;Share&quot;);\r\n    menu.add(0, Delete, 0, &quot;Delete&quot;);\r\n    menu.add(0, ClearList, 0, &quot;Clear all contacts&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onContextItemSelected(MenuItem item) { \r\n    switch (item.getItemId()) {\r\n    case Call:\r\n    //System.out.println(entrycursor.getString(1));\r\n    //EditText number=(EditText)findViewById(R.id.number);\r\n    String toDial=&quot;tel:&quot;+entrycursor.getString(1);\r\n    //start activity for ACTION_DIAL or ACTION_CALL intent\r\n    startActivity(new Intent(Intent.ACTION_DIAL, Uri.parse(toDial)));\r\n    \t//update(entryCursor.getLong(0));\r\n    return true;\r\n    case SendSMS:\r\n\r\n\r\n    \t//EditText number=(EditText)findViewById(R.id.number);\r\n        //EditText msg=(EditText)findViewById(R.id.msg);\r\n        String sendUri=&quot;smsto:&quot;+entrycursor.getString(1);\r\n        Intent sms=new Intent(Intent.ACTION_SENDTO,\r\n                                Uri.parse(sendUri));\r\n        //sms.putExtra(&quot;sms_body&quot;, msg.getText().toString());\r\n        startActivity(sms);\r\n\r\n    return true;\r\n    case Share:\r\n\r\n    \tIntent i=new Intent(Intent.ACTION_SEND);\r\n        i.setType(&quot;text/plain&quot;);\r\n        i.putExtra(Intent.EXTRA_SUBJECT, &quot;Hello&quot;);\r\n        i.putExtra(Intent.EXTRA_TEXT, &quot;Sharing this number&quot;+entrycursor.getString(1));\r\n        startActivity(Intent.createChooser(i,\r\n                                      entrycursor.getString(1)));\r\n        return true;\r\n        \r\n    case Delete:\r\n\r\n    \tdb.open();\r\n    \tdb.deleteEntry(entrycursor.getLong(0));\r\n    \tdb.close();\r\n    \tupdateEntry();\r\n        \r\n    return true;\r\n    \r\n    case ClearList:\r\n\r\n    \tdb.open();\r\n    \tdb.deleteEntry();\r\n    \tdb.close();\r\n    \tupdateEntry();\r\n    \t\r\n    \treturn true;\r\n    \r\n    default:\r\n    return super.onContextItemSelected(item);\r\n    }\r\n    }\r\n    }\r\n\r\nand here is the incomming call receiver:\r\n\r\n    package org.java.sm222bt;\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.database.Cursor;\r\n    import android.os.Bundle;\r\n    import android.telephony.TelephonyManager;\r\n    import android.widget.ListAdapter;\r\n    import android.widget.SimpleCursorAdapter;\r\n\r\n    public class IncomingCallReceiver extends BroadcastReceiver {\r\n\tCountryDbAdapter db;\r\n\t@Override\r\n\tpublic void onReceive(Context context, Intent intent) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tBundle bundle = intent.getExtras();\r\n        if(null == bundle)\r\n                return;\r\n        String state = bundle.getString(TelephonyManager.EXTRA_STATE);\r\n        if(state.equalsIgnoreCase(TelephonyManager.EXTRA_STATE_RINGING))\r\n        {\r\n        \tString phonenumber = bundle.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);\r\n        \tSystem.out.println(phonenumber);\r\n        \t\r\n        \tdb = new CountryDbAdapter(context);\r\n        \tdb.open();\r\n        \tdb.insertEntry(phonenumber);\r\n        \tdb.fetchAllEntries();\r\n        \tdb.close();\r\n        \t\r\n\t}\r\n    }} ","title":"how to access com.android.internal.telephony.CallManager?","body":"<p>I have written a program that recognize the phone calls and list all recent calls in a list. Maybe you can have a look on this code and it can help I think.\nAll you need is this: </p>\n\n<pre><code>String state = bundle.getString(TelephonyManager.EXTRA_STATE);\nif(state.equalsIgnoreCase(TelephonyManager.EXTRA_STATE_RINGING))\n</code></pre>\n\n<p>but check this example also:</p>\n\n<pre><code>package org.java.sm222bt;\n\nimport org.java.sm222bt.R;\n\nimport android.app.ListActivity;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.ContextMenu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ListAdapter;\nimport android.widget.SimpleCursorAdapter;\n\npublic class MainActivity extends ListActivity {\nprivate CountryDbAdapter db;\nprivate Cursor entrycursor;\nprivate ListAdapter adapter;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    //setContentView(R.layout.main);\n    registerForContextMenu(getListView());\n    db = new CountryDbAdapter(this);\n   updateEntry();\n\n}\npublic void updateEntry(){\n    db.open();\n\n    entrycursor = db.fetchAllEntries();\n\n    adapter = new SimpleCursorAdapter(this, R.layout.row, entrycursor, new String[] {\"phonenumber\"}, new int[] {R.id.number});\n    setListAdapter(adapter);\n    db.close();\n}\n@Override\nprotected void onResume() {\n\n    super.onResume();\n    updateEntry();\n}\n\npublic static final int Call = 0;\npublic static final int SendSMS = 1;\npublic static final int Share = 2;\npublic static final int Delete = 3;\npublic static final int ClearList = 4;\n\n\n\npublic void onCreateContextMenu(ContextMenu menu, View v, \nContextMenu.ContextMenuInfo menuInfo) { \nmenu.setHeaderTitle(\"Select:\"); \nmenu.add(0, Call, 0, \"Call\");\nmenu.add(0, SendSMS, 0, \"Send SMS\");\nmenu.add(0, Share, 0, \"Share\");\nmenu.add(0, Delete, 0, \"Delete\");\nmenu.add(0, ClearList, 0, \"Clear all contacts\");\n\n\n}\n\n@Override\npublic boolean onContextItemSelected(MenuItem item) { \nswitch (item.getItemId()) {\ncase Call:\n//System.out.println(entrycursor.getString(1));\n//EditText number=(EditText)findViewById(R.id.number);\nString toDial=\"tel:\"+entrycursor.getString(1);\n//start activity for ACTION_DIAL or ACTION_CALL intent\nstartActivity(new Intent(Intent.ACTION_DIAL, Uri.parse(toDial)));\n    //update(entryCursor.getLong(0));\nreturn true;\ncase SendSMS:\n\n\n    //EditText number=(EditText)findViewById(R.id.number);\n    //EditText msg=(EditText)findViewById(R.id.msg);\n    String sendUri=\"smsto:\"+entrycursor.getString(1);\n    Intent sms=new Intent(Intent.ACTION_SENDTO,\n                            Uri.parse(sendUri));\n    //sms.putExtra(\"sms_body\", msg.getText().toString());\n    startActivity(sms);\n\nreturn true;\ncase Share:\n\n    Intent i=new Intent(Intent.ACTION_SEND);\n    i.setType(\"text/plain\");\n    i.putExtra(Intent.EXTRA_SUBJECT, \"Hello\");\n    i.putExtra(Intent.EXTRA_TEXT, \"Sharing this number\"+entrycursor.getString(1));\n    startActivity(Intent.createChooser(i,\n                                  entrycursor.getString(1)));\n    return true;\n\ncase Delete:\n\n    db.open();\n    db.deleteEntry(entrycursor.getLong(0));\n    db.close();\n    updateEntry();\n\nreturn true;\n\ncase ClearList:\n\n    db.open();\n    db.deleteEntry();\n    db.close();\n    updateEntry();\n\n    return true;\n\ndefault:\nreturn super.onContextItemSelected(item);\n}\n}\n}\n</code></pre>\n\n<p>and here is the incomming call receiver:</p>\n\n<pre><code>package org.java.sm222bt;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.telephony.TelephonyManager;\nimport android.widget.ListAdapter;\nimport android.widget.SimpleCursorAdapter;\n\npublic class IncomingCallReceiver extends BroadcastReceiver {\nCountryDbAdapter db;\n@Override\npublic void onReceive(Context context, Intent intent) {\n    // TODO Auto-generated method stub\n    Bundle bundle = intent.getExtras();\n    if(null == bundle)\n            return;\n    String state = bundle.getString(TelephonyManager.EXTRA_STATE);\n    if(state.equalsIgnoreCase(TelephonyManager.EXTRA_STATE_RINGING))\n    {\n        String phonenumber = bundle.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);\n        System.out.println(phonenumber);\n\n        db = new CountryDbAdapter(context);\n        db.open();\n        db.insertEntry(phonenumber);\n        db.fetchAllEntries();\n        db.close();\n\n}\n}} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1670491,"reputation":21,"user_id":1537035,"display_name":"Cyrus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342681209,"creation_date":1342681209,"answer_id":11555492,"question_id":4745899,"body_markdown":"I had to solve the exact same problem - getting the disconnection cause during call hangup. My solution was to grep the radio logs for the relevant lines. Seems to work - hope it helps.\r\n\r\n\tprivate void startRadioLogListener() {\r\n\t\tnew Thread(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tProcess process = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Clear the log first\r\n\t\t\t\t\tString myCommandClear = &quot;logcat -b radio -c&quot;;  \r\n\t\t\t\t\tRuntime.getRuntime().exec(myCommandClear);\r\n\t\t\t\t\t\r\n\t\t\t\t\tString myCommand = &quot;logcat -b radio&quot;;  \r\n\t\t\t\t\tprocess = Runtime.getRuntime().exec(myCommand);\r\n\t\t\t\t\tLog.e(LogHelper.CAL_MON, &quot;RadioLogProc: &quot; + process);\r\n\r\n\t\t\t\t\tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\tfinal String line = bufferedReader.readLine();\r\n\t\t\t\t\t\tif (line != null) {\r\n\t\t\t\t\t\t\tif (line.contains(&quot;disconnectCauseFromCode&quot;) || line.contains(&quot;LAST_CALL_FAIL_CAUSE&quot;)) {\r\n\t\t\t\t\t\t\t\tLog.d(LogHelper.CAL_MON, &quot;RadioLog: &quot; + line);\r\n\t\t\t\t\t\t\t\tradioLogHandler.post(new Runnable() {\r\n\t\t\t\t\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t\t\t\t\tconsolePrint(&quot;Radio: &quot; + line + &quot;\\n&quot;);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tLog.e(LogHelper.CAL_MON, &quot;Can&#39;t get radio log&quot;, e);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tif (process != null) {\r\n\t\t\t\t\t\tprocess.destroy();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).start();\r\n\t}","title":"how to access com.android.internal.telephony.CallManager?","body":"<p>I had to solve the exact same problem - getting the disconnection cause during call hangup. My solution was to grep the radio logs for the relevant lines. Seems to work - hope it helps.</p>\n\n<pre><code>private void startRadioLogListener() {\n    new Thread(new Runnable() {\n        public void run() {\n            Process process = null;\n            try {\n                // Clear the log first\n                String myCommandClear = \"logcat -b radio -c\";  \n                Runtime.getRuntime().exec(myCommandClear);\n\n                String myCommand = \"logcat -b radio\";  \n                process = Runtime.getRuntime().exec(myCommand);\n                Log.e(LogHelper.CAL_MON, \"RadioLogProc: \" + process);\n\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n                while (true) {\n                    final String line = bufferedReader.readLine();\n                    if (line != null) {\n                        if (line.contains(\"disconnectCauseFromCode\") || line.contains(\"LAST_CALL_FAIL_CAUSE\")) {\n                            Log.d(LogHelper.CAL_MON, \"RadioLog: \" + line);\n                            radioLogHandler.post(new Runnable() {\n                                public void run() {\n                                    consolePrint(\"Radio: \" + line + \"\\n\");\n                                }\n                            });\n                        }\n                    }\n                }\n            } catch (IOException e) {\n                Log.e(LogHelper.CAL_MON, \"Can't get radio log\", e);\n            } finally {\n                if (process != null) {\n                    process.destroy();\n                }\n            }\n        }\n    }).start();\n}\n</code></pre>\n"}],"owner":{"account_id":278217,"reputation":133,"user_id":572679,"display_name":"Harsha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15680,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":7,"score":7,"last_activity_date":1681972755,"creation_date":1295518996,"question_id":4745899,"body_markdown":"I am trying to access `CallManager` class object from `com.android.internal.telephony` package. \r\n\r\nHere is my code:\r\n\r\n\tClassLoader classLoader = TestActivity.class.getClassLoader();\r\n\tfinal ClassLoader classLoader = this.getClass().getClassLoader();\r\n\ttry {\r\n\t\tfinal Class&lt;?&gt; classCallManager =\r\n\t\t    classLoader.loadClass(&quot;com.android.internal.telephony.CallManager&quot;);\r\n\t\tLog.i(&quot;TestActivity&quot;, classCallManager);\r\n\t} catch (final ClassNotFoundException e) {\r\n\t\tLog.e(&quot;TestActivity&quot;, e);\r\n\t}\r\n\r\nUnfortunately, this is throwing a `ClassNotFoundException`. The same approach allows me to access `PhoneFactory`, but apparently I&#39;m not allowed to access `CallManager`.\r\n\r\nIf I could reach the class, then I&#39;d want to proceed using the class as follows:\r\n\r\n\tMethod method_getInstance;\r\n\tmethod_getInstance = classCallManager.getDeclaredMethod(&quot;getInstance&quot;);\r\n\tmethod_getInstance.setAccessible(true);\r\n\tObject callManagerInstance = method_getInstance.invoke(null);\r\n\r\nCan anyone help me on this?\r\n\r\nThanks in advance,  \r\nHarsha C","title":"how to access com.android.internal.telephony.CallManager?","body":"<p>I am trying to access <code>CallManager</code> class object from <code>com.android.internal.telephony</code> package. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>ClassLoader classLoader = TestActivity.class.getClassLoader();\nfinal ClassLoader classLoader = this.getClass().getClassLoader();\ntry {\n    final Class&lt;?&gt; classCallManager =\n        classLoader.loadClass(\"com.android.internal.telephony.CallManager\");\n    Log.i(\"TestActivity\", classCallManager);\n} catch (final ClassNotFoundException e) {\n    Log.e(\"TestActivity\", e);\n}\n</code></pre>\n\n<p>Unfortunately, this is throwing a <code>ClassNotFoundException</code>. The same approach allows me to access <code>PhoneFactory</code>, but apparently I'm not allowed to access <code>CallManager</code>.</p>\n\n<p>If I could reach the class, then I'd want to proceed using the class as follows:</p>\n\n<pre><code>Method method_getInstance;\nmethod_getInstance = classCallManager.getDeclaredMethod(\"getInstance\");\nmethod_getInstance.setAccessible(true);\nObject callManagerInstance = method_getInstance.invoke(null);\n</code></pre>\n\n<p>Can anyone help me on this?</p>\n\n<p>Thanks in advance,<br>\nHarsha C</p>\n"},{"tags":["java","spring","api"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1681968302,"post_id":76060813,"comment_id":134142642,"body_markdown":"Can the `6-PRN.00-00.01` be wrapped in double quotes?","body":"Can the <code>6-PRN.00-00.01</code> be wrapped in double quotes?"},{"owner":{"account_id":28147992,"reputation":3,"user_id":21510008,"display_name":"EloneTheBeige"},"score":0,"creation_date":1681968670,"post_id":76060813,"comment_id":134142693,"body_markdown":"@dan1st, I think so","body":"@dan1st, I think so"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681971069,"post_id":76060813,"comment_id":134142996,"body_markdown":"That&#39;s not valid JSON, so it&#39;s not a response you can get. You can get `[{&quot;name&quot;:&quot;6-PRN.00-00.01&quot;}]`, or you can get `[&quot;6-PRN.00-00-01&quot;]`, but you can not get what you want.","body":"That&#39;s not valid JSON, so it&#39;s not a response you can get. You can get <code>[{&quot;name&quot;:&quot;6-PRN.00-00.01&quot;}]</code>, or you can get <code>[&quot;6-PRN.00-00-01&quot;]</code>, but you can not get what you want."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681969902,"creation_date":1681968616,"answer_id":76060858,"question_id":76060813,"body_markdown":"You can stream the list you have and only keep the `pur.name` Strings:\r\n\r\n    ArrayList&lt;PUR&gt; pur = purRepository.findAllByDevice(device);\r\n    List&lt;String&gt; purNames = pur.stream.map(p -&gt; p.getName()).toList();\r\n    return ResponseEntity.ok().body(purNames);\r\n\r\nedited: the other answers are also right, `purRepository.findAllDeviceNames` will be more effective because you&#39;ll retrieve less data from the database.","title":"How to return values of only one parameter in GetMapping?","body":"<p>You can stream the list you have and only keep the <code>pur.name</code> Strings:</p>\n<pre><code>ArrayList&lt;PUR&gt; pur = purRepository.findAllByDevice(device);\nList&lt;String&gt; purNames = pur.stream.map(p -&gt; p.getName()).toList();\nreturn ResponseEntity.ok().body(purNames);\n</code></pre>\n<p>edited: the other answers are also right, <code>purRepository.findAllDeviceNames</code> will be more effective because you'll retrieve less data from the database.</p>\n"},{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681972591,"creation_date":1681969502,"answer_id":76060924,"question_id":76060813,"body_markdown":"You don&#39;t need to use stream. You can solve it easily:\r\n\r\n      @Query(value = &quot;SELECT p.name FROM PUR p where p.device= :device&quot;, nativeQuery = true)\r\n      List&lt;String&gt; findAllNamesByDevice(@Param(&quot;device&quot;) String device);\r\n\r\n","title":"How to return values of only one parameter in GetMapping?","body":"<p>You don't need to use stream. You can solve it easily:</p>\n<pre><code>  @Query(value = &quot;SELECT p.name FROM PUR p where p.device= :device&quot;, nativeQuery = true)\n  List&lt;String&gt; findAllNamesByDevice(@Param(&quot;device&quot;) String device);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681969704,"creation_date":1681969704,"answer_id":76060948,"question_id":76060813,"body_markdown":"Instead of putting extra load on your database and returning the entire record and possible joined/referenced objects, add a dedicated query that returns just the name.\r\n\r\n    @Repository\r\n    public interface PURRepository extends JpaRepository&lt;PUR, Long&gt; {\r\n        @Query(&quot;select p.name from PUR p where PUR.deviceId == ?1&quot;)\r\n        ArrayList&lt;String&gt; findAllDeviceNames(String device);\r\n\r\nThen:\r\n\r\n    public ResponseEntity&lt;ArrayList&lt;PUR&gt;&gt; getPurName(@PathVariable(value = &quot;device&quot;) String device){\r\n        return ResponseEntity.ok(purRepository.findAllDeviceNames(device));\r\n    }","title":"How to return values of only one parameter in GetMapping?","body":"<p>Instead of putting extra load on your database and returning the entire record and possible joined/referenced objects, add a dedicated query that returns just the name.</p>\n<pre><code>@Repository\npublic interface PURRepository extends JpaRepository&lt;PUR, Long&gt; {\n    @Query(&quot;select p.name from PUR p where PUR.deviceId == ?1&quot;)\n    ArrayList&lt;String&gt; findAllDeviceNames(String device);\n</code></pre>\n<p>Then:</p>\n<pre><code>public ResponseEntity&lt;ArrayList&lt;PUR&gt;&gt; getPurName(@PathVariable(value = &quot;device&quot;) String device){\n    return ResponseEntity.ok(purRepository.findAllDeviceNames(device));\n}\n</code></pre>\n"}],"owner":{"account_id":28147992,"reputation":3,"user_id":21510008,"display_name":"EloneTheBeige"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76060924,"answer_count":3,"score":0,"last_activity_date":1681972591,"creation_date":1681968247,"question_id":76060813,"body_markdown":"I have an API. How to return the values of only one column (name) from the database? Request code in the controller:\r\n\r\n```\r\n@RestController\r\npublic class PURController {\r\n    @Autowired\r\n    private PURRepository purRepository;\r\n@CrossOrigin()\r\n    @GetMapping(&quot;/purs/getname/{device}&quot;)\r\n    public ResponseEntity&lt;ArrayList&lt;PUR&gt;&gt; getPurName(@PathVariable(value = &quot;device&quot;) String device){\r\n         ArrayList&lt;PUR&gt; pur = purRepository.findAllByDevice(device);\r\n        return ResponseEntity.ok().body(pur);\r\n    }\r\n```\r\n\r\nIn this case, all rows found by the &quot;device&quot; field are returned. Also I have a method in PUR.java:\r\n\r\n```\r\npublic String getName() {\r\n        return name;\r\n    }\r\n```\r\n\r\nHow can it all be connected?\r\n\r\nAlso: my repository class:\r\n\r\n```\r\n@Repository\r\npublic interface PURRepository extends JpaRepository&lt;PUR, Long&gt; {\r\n    ArrayList&lt;PUR&gt; findAllByDevice(String device);\r\n    Optional&lt;PUR&gt; findByDevice(String device);}\r\n```\r\n\r\nResponse now:\r\n```\r\n[{&quot;id&quot;:48,&quot;name&quot;:&quot;6-PRN.00-00.01&quot;,&quot;quantity&quot;:3,&quot;device&quot;:&quot;6-PRN.01-01.000&quot;},{&quot;id&quot;:49,&quot;name&quot;:&quot;6-PRN.00-00.02&quot;,&quot;quantity&quot;:7,&quot;device&quot;:&quot;6-PRN.01-01.000&quot;},{&quot;id&quot;:50,&quot;name&quot;:&quot;6-PRN.00-00.03&quot;,&quot;quantity&quot;:4,&quot;device&quot;:&quot;6-PRN.01-01.000&quot;}]\r\n```\r\n\r\nResponse i want:\r\n\r\n```\r\n[{6-PRN.00-00.01},{6-PRN.00-00.02},{6-PRN.00-00.03}]\r\n```","title":"How to return values of only one parameter in GetMapping?","body":"<p>I have an API. How to return the values of only one column (name) from the database? Request code in the controller:</p>\n<pre><code>@RestController\npublic class PURController {\n    @Autowired\n    private PURRepository purRepository;\n@CrossOrigin()\n    @GetMapping(&quot;/purs/getname/{device}&quot;)\n    public ResponseEntity&lt;ArrayList&lt;PUR&gt;&gt; getPurName(@PathVariable(value = &quot;device&quot;) String device){\n         ArrayList&lt;PUR&gt; pur = purRepository.findAllByDevice(device);\n        return ResponseEntity.ok().body(pur);\n    }\n</code></pre>\n<p>In this case, all rows found by the &quot;device&quot; field are returned. Also I have a method in PUR.java:</p>\n<pre><code>public String getName() {\n        return name;\n    }\n</code></pre>\n<p>How can it all be connected?</p>\n<p>Also: my repository class:</p>\n<pre><code>@Repository\npublic interface PURRepository extends JpaRepository&lt;PUR, Long&gt; {\n    ArrayList&lt;PUR&gt; findAllByDevice(String device);\n    Optional&lt;PUR&gt; findByDevice(String device);}\n</code></pre>\n<p>Response now:</p>\n<pre><code>[{&quot;id&quot;:48,&quot;name&quot;:&quot;6-PRN.00-00.01&quot;,&quot;quantity&quot;:3,&quot;device&quot;:&quot;6-PRN.01-01.000&quot;},{&quot;id&quot;:49,&quot;name&quot;:&quot;6-PRN.00-00.02&quot;,&quot;quantity&quot;:7,&quot;device&quot;:&quot;6-PRN.01-01.000&quot;},{&quot;id&quot;:50,&quot;name&quot;:&quot;6-PRN.00-00.03&quot;,&quot;quantity&quot;:4,&quot;device&quot;:&quot;6-PRN.01-01.000&quot;}]\n</code></pre>\n<p>Response i want:</p>\n<pre><code>[{6-PRN.00-00.01},{6-PRN.00-00.02},{6-PRN.00-00.03}]\n</code></pre>\n"},{"tags":["java","android","mobile","sms","pdu"],"answers":[{"tags":[],"owner":{"account_id":290870,"reputation":187,"user_id":592664,"display_name":"Gary"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1681972577,"creation_date":1298151648,"answer_id":5053721,"question_id":3713094,"body_markdown":"This is a [requested](https://code.google.com/p/android/issues/detail?id=8218) feature for the public API.\r\n\r\n\r\nThe developer comments hint at using the `sendRawPdu` from the internal `SMSDispatcher` API, which can be done via [reflection](https://web.archive.org/web/20170305192539/http://www.tutorialforandroid.com/2009_11_01_archive.html). However, the use of private APIs for production code is highly discouraged\r\n\r\nIt is not clear if it&#39;s possible to send using the public `TelephonyManager` API.\r\n\r\n\r\n    /*\r\n     * TODO(cleanup): It looks like there is now no useful reason why\r\n     * apps should generate pdus themselves using these routines,\r\n     * instead of handing the raw data to SMSDispatcher (and thereby\r\n     * have the phone process do the encoding).  Moreover, CDMA now\r\n     * has shared state (in the form of the msgId system property)\r\n     * which can only be modified by the phone process, and hence\r\n     * makes the output of these routines incorrect.  Since they now\r\n     * serve no purpose, they should probably just return null\r\n     * directly, and be deprecated.  Going further in that direction,\r\n     * the above parsers of serialized pdu data should probably also\r\n     * be gotten rid of, hiding all but the necessarily visible\r\n     * structured data from client apps.  A possible concern with\r\n     * doing this is that apps may be using these routines to generate\r\n     * pdus that are then sent elsewhere, some network server, for\r\n     * example, and that always returning null would thereby break\r\n     * otherwise useful apps.\r\n     */\r\n\r\n    /**\r\n     * Get an SMS-SUBMIT PDU for a destination address and a message\r\n     *\r\n     * @param scAddress Service Centre address.  Null means use default.\r\n     * @return a &lt;code&gt;SubmitPdu&lt;/code&gt; containing the encoded SC\r\n     *         address, if applicable, and the encoded message.\r\n     *         Returns null on encode error.\r\n     * @hide\r\n     */\r\n    public static SubmitPdu getSubmitPdu(String scAddress,\r\n            String destinationAddress, String message,\r\n            boolean statusReportRequested, byte[] header) {\r\n\r\nIn conclusion:\r\nIt&#39;s not clear if it&#39;s possible. I have the same question as you.","title":"SMS raw pdu in Android","body":"<p>This is a <a href=\"https://code.google.com/p/android/issues/detail?id=8218\" rel=\"nofollow noreferrer\">requested</a> feature for the public API.</p>\n<p>The developer comments hint at using the <code>sendRawPdu</code> from the internal <code>SMSDispatcher</code> API, which can be done via <a href=\"https://web.archive.org/web/20170305192539/http://www.tutorialforandroid.com/2009_11_01_archive.html\" rel=\"nofollow noreferrer\">reflection</a>. However, the use of private APIs for production code is highly discouraged</p>\n<p>It is not clear if it's possible to send using the public <code>TelephonyManager</code> API.</p>\n<pre><code>/*\n * TODO(cleanup): It looks like there is now no useful reason why\n * apps should generate pdus themselves using these routines,\n * instead of handing the raw data to SMSDispatcher (and thereby\n * have the phone process do the encoding).  Moreover, CDMA now\n * has shared state (in the form of the msgId system property)\n * which can only be modified by the phone process, and hence\n * makes the output of these routines incorrect.  Since they now\n * serve no purpose, they should probably just return null\n * directly, and be deprecated.  Going further in that direction,\n * the above parsers of serialized pdu data should probably also\n * be gotten rid of, hiding all but the necessarily visible\n * structured data from client apps.  A possible concern with\n * doing this is that apps may be using these routines to generate\n * pdus that are then sent elsewhere, some network server, for\n * example, and that always returning null would thereby break\n * otherwise useful apps.\n */\n\n/**\n * Get an SMS-SUBMIT PDU for a destination address and a message\n *\n * @param scAddress Service Centre address.  Null means use default.\n * @return a &lt;code&gt;SubmitPdu&lt;/code&gt; containing the encoded SC\n *         address, if applicable, and the encoded message.\n *         Returns null on encode error.\n * @hide\n */\npublic static SubmitPdu getSubmitPdu(String scAddress,\n        String destinationAddress, String message,\n        boolean statusReportRequested, byte[] header) {\n</code></pre>\n<p>In conclusion:\nIt's not clear if it's possible. I have the same question as you.</p>\n"},{"tags":[],"owner":{"account_id":4617868,"reputation":21,"user_id":3743725,"display_name":"Some Guy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402902692,"creation_date":1402898498,"answer_id":24237416,"question_id":3713094,"body_markdown":"I know how. http://www.silentservices.de/products/android-hushsms/ and `xposed` framework http://repo.xposed.info/module/de.robv.android.xposed.installer  \r\nYou&#39;ll need to root your phone to make use of the the `xposed` module &#39;raw-pdu&#39;, but it works. Hush-sms provides the api functionality / extensibility to send the 7 raw sms types. ","title":"SMS raw pdu in Android","body":"<p>I know how. <a href=\"http://www.silentservices.de/products/android-hushsms/\" rel=\"nofollow\">http://www.silentservices.de/products/android-hushsms/</a> and <code>xposed</code> framework <a href=\"http://repo.xposed.info/module/de.robv.android.xposed.installer\" rel=\"nofollow\">http://repo.xposed.info/module/de.robv.android.xposed.installer</a><br>\nYou'll need to root your phone to make use of the the <code>xposed</code> module 'raw-pdu', but it works. Hush-sms provides the api functionality / extensibility to send the 7 raw sms types. </p>\n"}],"owner":{"account_id":201396,"reputation":1037,"user_id":447810,"accept_rate":67,"display_name":"zlinks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11304,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":5053721,"answer_count":2,"score":8,"last_activity_date":1681972577,"creation_date":1284500189,"question_id":3713094,"body_markdown":"1) Is there any way that I can send a raw SMS PDU from an Android device? \r\n\r\nOr,\r\n \r\n2) are there any classes available that can give me access to the PDU headers (for example TP-DCS) so that I can construct the PDU as I like?\r\n\r\nI have searched the net and found: \r\nhttp://www.androidjavadoc.com/1.0_r1_src/com/android/internal/telephony/gsm/ISms.html \r\nbut the above classes are private and as such are not available to me(haven&#39;t actually understood why).\r\n\r\nIs what I&#39;m asking possible in any way or not? If not then why can&#39;t I have that kind of functionallity?\r\n\r\nThanx","title":"SMS raw pdu in Android","body":"<p>1) Is there any way that I can send a raw SMS PDU from an Android device? </p>\n\n<p>Or,</p>\n\n<p>2) are there any classes available that can give me access to the PDU headers (for example TP-DCS) so that I can construct the PDU as I like?</p>\n\n<p>I have searched the net and found: \n<a href=\"http://www.androidjavadoc.com/1.0_r1_src/com/android/internal/telephony/gsm/ISms.html\" rel=\"nofollow noreferrer\">http://www.androidjavadoc.com/1.0_r1_src/com/android/internal/telephony/gsm/ISms.html</a> \nbut the above classes are private and as such are not available to me(haven't actually understood why).</p>\n\n<p>Is what I'm asking possible in any way or not? If not then why can't I have that kind of functionallity?</p>\n\n<p>Thanx</p>\n"},{"tags":["java","json","jackson","objectmapper"],"comments":[{"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"score":1,"creation_date":1488791700,"post_id":42621547,"comment_id":72371590,"body_markdown":"could you add the JSON returned by URL  to be parsed?","body":"could you add the JSON returned by URL  to be parsed?"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":1,"creation_date":1488792398,"post_id":42621547,"comment_id":72372060,"body_markdown":"Just a note: Please always use `example.org` or `example.com` for example domain names. If you make up a domain, you may create trouble for whoever happens to own it. See [example.com on Wikipedia](https://en.wikipedia.org/wiki/Example.com).","body":"Just a note: Please always use <code>example.org</code> or <code>example.com</code> for example domain names. If you make up a domain, you may create trouble for whoever happens to own it. See <a href=\"https://en.wikipedia.org/wiki/Example.com\" rel=\"nofollow noreferrer\">example.com on Wikipedia</a>."},{"owner":{"account_id":1597864,"reputation":869,"user_id":4154338,"accept_rate":90,"display_name":"rogger2016"},"score":0,"creation_date":1488792996,"post_id":42621547,"comment_id":72372477,"body_markdown":"emaple response added","body":"emaple response added"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1488793500,"post_id":42621547,"comment_id":72372846,"body_markdown":"@rogger2016: The problem is probably an invisible character in the response. Could you add a hexdump of the response? For example on Linux or using cygwin on Windows, run: `curl http://example.org/my-rest-url |hexdump  -C `.","body":"@rogger2016: The problem is probably an invisible character in the response. Could you add a hexdump of the response? For example on Linux or using cygwin on Windows, run: <code>curl http:&#47;&#47;example.org&#47;my-rest-url |hexdump  -C </code>."},{"owner":{"account_id":1597864,"reputation":869,"user_id":4154338,"accept_rate":90,"display_name":"rogger2016"},"score":0,"creation_date":1488795278,"post_id":42621547,"comment_id":72373993,"body_markdown":"Hi @sleske, I have curled the URL and get a response...then I run the JSON through JSLint and get &#39;Valid JSON&#39;","body":"Hi @sleske, I have curled the URL and get a response...then I run the JSON through JSLint and get &#39;Valid JSON&#39;"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1488795517,"post_id":42621547,"comment_id":72374126,"body_markdown":"@rogger2016: Well, how does that matter? JSLint is for checking _JavsScript_ not for JSON. The two are different (though they may look similar). At any rate, some checking tools may be more tolerant than Jackson, so even if a checker finds the JSON ok that may not matter. So, please post the hexdump as I wrote, otherwise we&#39;re getting nowhere...","body":"@rogger2016: Well, how does that matter? JSLint is for checking <i>JavsScript</i> not for JSON. The two are different (though they may look similar). At any rate, some checking tools may be more tolerant than Jackson, so even if a checker finds the JSON ok that may not matter. So, please post the hexdump as I wrote, otherwise we&#39;re getting nowhere..."}],"answers":[{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1488794890,"creation_date":1488793328,"answer_id":42622196,"question_id":42621547,"body_markdown":"The message should be pretty self-explanatory:\r\n\r\nThere is an illegal character (in this case character code 31, i.e. the control code &quot;Unit Separator&quot;) in the JSON you are processing.\r\n\r\nIn other words, the data you are receiving is not proper JSON.\r\n\r\n---\r\nBackground: \r\n\r\nThe JSON spec ([RFC 7159][1]) says:\r\n\r\n&gt; 2.  JSON Grammar\r\n&gt; \r\n&gt; A JSON text is a sequence of tokens. The set of tokens includes six\r\n&gt; tructural characters, strings, numbers, and three literal names.\r\n&gt; \r\n&gt; [...]\r\n&gt;\r\n&gt; Insignificant whitespace is allowed before or after any of the\r\n&gt; six structural characters.\r\n&gt; \r\n&gt; ws = *(\r\n&gt; \r\n&gt; %x20 /              ; Space\r\n&gt;\r\n&gt; %x09 /              ; Horizontal tab\r\n&gt;\r\n&gt; %x0A /              ; Line feed or New line\r\n&gt;\r\n&gt; %x0D )              ; Carriage return\r\n\r\nIn other words: JSON may contain whitespace between the tokens (&quot;tokens&quot; meaning the part of the JSON, i.e. lists, strings etc.), but &quot;whitespace&quot; is defined to only mean the characters Space, Tab, Line feed and Carriage return.\r\n\r\nYour document contains something else (code 31) where only whitespace is allowed, hence is not valid JSON.\r\n\r\n---\r\nTo parse this:\r\n\r\nUnfortunately, the Jackson library you are using does not offer a way to parse this malformed data. To parse this successfully, you will have to filter the JSON before it is handled by Jackson.\r\n\r\nYou will probably have to retrieve the (pseudo-)JSON yourself from the REST service, using standard HTTP using, e.g. [java.net.HttpUrlConnection][2]. Then suitably filter out &quot;bad&quot; characters, and pass the resulting string to Jackson. How to do this exactly depends on how you use Jackson.\r\n\r\nFeel free to ask a separate questions if you are having trouble :-).\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc7159\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html\r\n","title":"Jackson error &quot;Illegal character... only regular white space allowed&quot; when parsing JSON","body":"<p>The message should be pretty self-explanatory:</p>\n<p>There is an illegal character (in this case character code 31, i.e. the control code &quot;Unit Separator&quot;) in the JSON you are processing.</p>\n<p>In other words, the data you are receiving is not proper JSON.</p>\n<hr />\n<p>Background:</p>\n<p>The JSON spec (<a href=\"https://www.rfc-editor.org/rfc/rfc7159\" rel=\"nofollow noreferrer\">RFC 7159</a>) says:</p>\n<blockquote>\n<ol start=\"2\">\n<li>JSON Grammar</li>\n</ol>\n<p>A JSON text is a sequence of tokens. The set of tokens includes six\ntructural characters, strings, numbers, and three literal names.</p>\n<p>[...]</p>\n<p>Insignificant whitespace is allowed before or after any of the\nsix structural characters.</p>\n<p>ws = *(</p>\n<p>%x20 /              ; Space</p>\n<p>%x09 /              ; Horizontal tab</p>\n<p>%x0A /              ; Line feed or New line</p>\n<p>%x0D )              ; Carriage return</p>\n</blockquote>\n<p>In other words: JSON may contain whitespace between the tokens (&quot;tokens&quot; meaning the part of the JSON, i.e. lists, strings etc.), but &quot;whitespace&quot; is defined to only mean the characters Space, Tab, Line feed and Carriage return.</p>\n<p>Your document contains something else (code 31) where only whitespace is allowed, hence is not valid JSON.</p>\n<hr />\n<p>To parse this:</p>\n<p>Unfortunately, the Jackson library you are using does not offer a way to parse this malformed data. To parse this successfully, you will have to filter the JSON before it is handled by Jackson.</p>\n<p>You will probably have to retrieve the (pseudo-)JSON yourself from the REST service, using standard HTTP using, e.g. <a href=\"http://download.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">java.net.HttpUrlConnection</a>. Then suitably filter out &quot;bad&quot; characters, and pass the resulting string to Jackson. How to do this exactly depends on how you use Jackson.</p>\n<p>Feel free to ask a separate questions if you are having trouble :-).</p>\n"},{"tags":[],"owner":{"account_id":4438980,"reputation":899,"user_id":3633525,"display_name":"ChocolateAndCheese"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1517358221,"creation_date":1517358221,"answer_id":48532617,"question_id":42621547,"body_markdown":"I got this same issue, and I found that it was caused by the `Content-Encoding: gzip` header.  The client application (where the exception was being thrown) was not able to handle this content-encoding.  FWIW the client application was using `io.github.openfeign:feign-core:9.5.0`, and this library appears to have some issues around compression ([link](https://github.com/spring-cloud/spring-cloud-netflix/issues/2462)).\r\n\r\nYou might try adding the header `Accept-Encoding: identity` to your request, however, not all web servers/web applications are configured properly, and some seem to disregard this header.  See [this question](https://stackoverflow.com/questions/12321455/what-encoding-string-tells-a-web-server-not-to-send-gzip-content) for more details about how to prevent gzipped content.","title":"Jackson error &quot;Illegal character... only regular white space allowed&quot; when parsing JSON","body":"<p>I got this same issue, and I found that it was caused by the <code>Content-Encoding: gzip</code> header.  The client application (where the exception was being thrown) was not able to handle this content-encoding.  FWIW the client application was using <code>io.github.openfeign:feign-core:9.5.0</code>, and this library appears to have some issues around compression (<a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/2462\" rel=\"noreferrer\">link</a>).</p>\n\n<p>You might try adding the header <code>Accept-Encoding: identity</code> to your request, however, not all web servers/web applications are configured properly, and some seem to disregard this header.  See <a href=\"https://stackoverflow.com/questions/12321455/what-encoding-string-tells-a-web-server-not-to-send-gzip-content\">this question</a> for more details about how to prevent gzipped content.</p>\n"},{"tags":[],"owner":{"account_id":14079119,"reputation":541,"user_id":10170629,"display_name":"Gayan Chinthaka"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1559881825,"creation_date":1559881825,"answer_id":56487984,"question_id":42621547,"body_markdown":"I had the same problem. After setting Gzip it was fixed. Please refer my code\r\n\r\n    public String sendPostRequest(String req) throws Exception {\r\n\t\t\r\n\t\t// Create connection\r\n\t\tURL urlObject = new URL(mURL);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) urlObject.openConnection();\r\n\t\tconnection.setRequestMethod(&quot;POST&quot;);\r\n\t\tconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\tconnection.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(req.getBytes().length));\r\n\t\tconnection.setRequestProperty(&quot;Content-Language&quot;, &quot;en-US&quot;);\r\n\t\tconnection.setUseCaches(false);\r\n\t\tconnection.setDoOutput(true);\r\n\r\n\t\t// Send request\r\n\t\tDataOutputStream wr = new DataOutputStream(connection.getOutputStream());\r\n\t\twr.writeBytes(req);\r\n\t\twr.close();\r\n\t\t\r\n\t\t//Response handling\r\n\t\tInputStream responseBody \t\t\t\t= null;\r\n\t\tif (isGzipResponse(connection)) {\r\n\t\t\tresponseBody \t\t\t\t= new GZIPInputStream(connection.getInputStream());\t\t\t\r\n\t\t}else{\r\n\t\t\tresponseBody = connection.getInputStream();\r\n\t\t}\r\n\t\tconvertStreamToString(responseBody);\r\n\r\n\t\treturn response.toString();\r\n\t\t\r\n\t}\r\n\t\r\n\tprotected boolean isGzipResponse(HttpURLConnection con) {\r\n\t\tString encodingHeader = con.getHeaderField(&quot;Content-Encoding&quot;);\r\n\t\treturn (encodingHeader != null &amp;&amp; encodingHeader.toLowerCase().indexOf(&quot;gzip&quot;) != -1);\r\n\t}\r\n\t\r\n\tpublic void convertStreamToString(InputStream in) throws Exception {\r\n\t\tif (in != null) {\r\n\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tbyte[] buffer = new byte[4096];\r\n\t\t\tint length = 0;\r\n\t\t\twhile ((length = in.read(buffer)) != -1) {\r\n\t\t\t\tbaos.write(buffer, 0, length);\r\n\t\t\t}\r\n\r\n\t\t\tresponse = new String(baos.toByteArray());\r\n\r\n\t\t\tbaos.close();\r\n\r\n\t\t} else {\r\n\t\t\tresponse = null;\r\n\t\t}\r\n\r\n\t}","title":"Jackson error &quot;Illegal character... only regular white space allowed&quot; when parsing JSON","body":"<p>I had the same problem. After setting Gzip it was fixed. Please refer my code</p>\n\n<pre><code>public String sendPostRequest(String req) throws Exception {\n\n    // Create connection\n    URL urlObject = new URL(mURL);\n    HttpURLConnection connection = (HttpURLConnection) urlObject.openConnection();\n    connection.setRequestMethod(\"POST\");\n    connection.setRequestProperty(\"Content-Type\", \"application/json\");\n    connection.setRequestProperty(\"Content-Length\", Integer.toString(req.getBytes().length));\n    connection.setRequestProperty(\"Content-Language\", \"en-US\");\n    connection.setUseCaches(false);\n    connection.setDoOutput(true);\n\n    // Send request\n    DataOutputStream wr = new DataOutputStream(connection.getOutputStream());\n    wr.writeBytes(req);\n    wr.close();\n\n    //Response handling\n    InputStream responseBody                = null;\n    if (isGzipResponse(connection)) {\n        responseBody                = new GZIPInputStream(connection.getInputStream());         \n    }else{\n        responseBody = connection.getInputStream();\n    }\n    convertStreamToString(responseBody);\n\n    return response.toString();\n\n}\n\nprotected boolean isGzipResponse(HttpURLConnection con) {\n    String encodingHeader = con.getHeaderField(\"Content-Encoding\");\n    return (encodingHeader != null &amp;&amp; encodingHeader.toLowerCase().indexOf(\"gzip\") != -1);\n}\n\npublic void convertStreamToString(InputStream in) throws Exception {\n    if (in != null) {\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        byte[] buffer = new byte[4096];\n        int length = 0;\n        while ((length = in.read(buffer)) != -1) {\n            baos.write(buffer, 0, length);\n        }\n\n        response = new String(baos.toByteArray());\n\n        baos.close();\n\n    } else {\n        response = null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8894998,"reputation":161,"user_id":6640365,"display_name":"Ash"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1681972576,"creation_date":1560200675,"answer_id":56533517,"question_id":42621547,"body_markdown":"I had a similar issue. After some research, I found out that `restTemplate` uses the `SimpleClientHttpRequestFactory` which does not support gzip encoding. To enable gzip encoding for your response, you will need to set a new request factory for the rest template object - `HttpComponentsClientHttpRequestFactory`.\r\n\r\n```restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());```\r\n\r\n","title":"Jackson error &quot;Illegal character... only regular white space allowed&quot; when parsing JSON","body":"<p>I had a similar issue. After some research, I found out that <code>restTemplate</code> uses the <code>SimpleClientHttpRequestFactory</code> which does not support gzip encoding. To enable gzip encoding for your response, you will need to set a new request factory for the rest template object - <code>HttpComponentsClientHttpRequestFactory</code>.</p>\n<p><code>restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());</code></p>\n"},{"tags":[],"owner":{"account_id":1894369,"reputation":681,"user_id":1711670,"display_name":"humbleCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600080508,"creation_date":1600080508,"answer_id":63882780,"question_id":42621547,"body_markdown":"We had the same issue in out integration tests recently. We have a `spring boot` application and we use `wiremock` to mock a integrated microservice server. For one of the test `get` requests that we had implemented we started getting this error. We had to downgrade `wiremock` from 2.18.0 to 2.17.0 and it worked fine. Due to some bug the `jackson parser` and the that particular version of `wiremock` didn&#39;t work together. We didnt have time to figure out what actually the bug was in those libraries.","title":"Jackson error &quot;Illegal character... only regular white space allowed&quot; when parsing JSON","body":"<p>We had the same issue in out integration tests recently. We have a <code>spring boot</code> application and we use <code>wiremock</code> to mock a integrated microservice server. For one of the test <code>get</code> requests that we had implemented we started getting this error. We had to downgrade <code>wiremock</code> from 2.18.0 to 2.17.0 and it worked fine. Due to some bug the <code>jackson parser</code> and the that particular version of <code>wiremock</code> didn't work together. We didnt have time to figure out what actually the bug was in those libraries.</p>\n"},{"tags":[],"owner":{"account_id":2378682,"reputation":832,"user_id":2081279,"display_name":"Thomas Sch&#252;tt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609843057,"creation_date":1609843057,"answer_id":65577258,"question_id":42621547,"body_markdown":"I had the same issue with zalando logbook in my spring boot application, and after reading the answers in here carefully, I realized, that the response interceptor must be applied _after_ whatever takes care for decompression:\r\n\r\n    @Configuration\r\n    public class RestTemplateConfig {\r\n\r\n       [....]\r\n    \r\n       @Bean\r\n       public RestTemplate restTemplate() {\r\n           return new RestTemplateBuilder()\r\n                   .requestFactory(new MyRequestFactorySupplier())\r\n                   .build();\r\n       }\r\n\r\n       class MyRequestFactorySupplier implements Supplier&lt;ClientHttpRequestFactory&gt; {\r\n           @Override\r\n           public ClientHttpRequestFactory get() {\r\n               CloseableHttpClient client = HttpClientBuilder.create()\r\n                       .addInterceptorFirst(logbookHttpRequestInterceptor)\r\n            // wrong:  .addInterceptorFirst(logbookHttpResponseInterceptor)\r\n                       .addInterceptorLast(logbookHttpResponseInterceptor)\r\n                       .build();\r\n               HttpComponentsClientHttpRequestFactory clientHttpRequestFactory = \r\n            \t      new HttpComponentsClientHttpRequestFactory(client);\r\n               return clientHttpRequestFactory;\r\n           }\r\n       }\r\n    }\r\n","title":"Jackson error &quot;Illegal character... only regular white space allowed&quot; when parsing JSON","body":"<p>I had the same issue with zalando logbook in my spring boot application, and after reading the answers in here carefully, I realized, that the response interceptor must be applied <em>after</em> whatever takes care for decompression:</p>\n<pre><code>@Configuration\npublic class RestTemplateConfig {\n\n   [....]\n\n   @Bean\n   public RestTemplate restTemplate() {\n       return new RestTemplateBuilder()\n               .requestFactory(new MyRequestFactorySupplier())\n               .build();\n   }\n\n   class MyRequestFactorySupplier implements Supplier&lt;ClientHttpRequestFactory&gt; {\n       @Override\n       public ClientHttpRequestFactory get() {\n           CloseableHttpClient client = HttpClientBuilder.create()\n                   .addInterceptorFirst(logbookHttpRequestInterceptor)\n        // wrong:  .addInterceptorFirst(logbookHttpResponseInterceptor)\n                   .addInterceptorLast(logbookHttpResponseInterceptor)\n                   .build();\n           HttpComponentsClientHttpRequestFactory clientHttpRequestFactory = \n                  new HttpComponentsClientHttpRequestFactory(client);\n           return clientHttpRequestFactory;\n       }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14777499,"reputation":319,"user_id":10671944,"display_name":"Abdulraqeeb M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643112880,"creation_date":1643112880,"answer_id":70848480,"question_id":42621547,"body_markdown":"Those who use **FeignClient**, please refer to this answer **[spring-feign-not-compressing-response][1]**\r\n\r\nSpring is not able to Decode the response on the fly, so you need to define a custom GZip Decoder.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57831707/spring-feign-not-compressing-response/58214611#58214611\r\n\r\nSolved for me.","title":"Jackson error &quot;Illegal character... only regular white space allowed&quot; when parsing JSON","body":"<p>Those who use <strong>FeignClient</strong>, please refer to this answer <strong><a href=\"https://stackoverflow.com/questions/57831707/spring-feign-not-compressing-response/58214611#58214611\">spring-feign-not-compressing-response</a></strong></p>\n<p>Spring is not able to Decode the response on the fly, so you need to define a custom GZip Decoder.</p>\n<p>Solved for me.</p>\n"}],"owner":{"account_id":1597864,"reputation":869,"user_id":4154338,"accept_rate":90,"display_name":"rogger2016"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59292,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":42622196,"answer_count":7,"score":25,"last_activity_date":1681972576,"creation_date":1488791382,"question_id":42621547,"body_markdown":"I am trying to retrieve JSON data from a URL but get the following error:\r\n\r\n    Illegal character ((CTRL-CHAR, code 31)):\r\n    only regular white space (\\r, \\n,\\t) is allowed between tokens\r\n\r\nMy code:\r\n\r\n    final URI uri = new URIBuilder(UrlConstants.SEARCH_URL)\r\n          .addParameter(&quot;keywords&quot;, searchTerm)\r\n          .addParameter(&quot;count&quot;, &quot;50&quot;)\r\n          .build();\r\n      node = new ObjectMapper().readTree(new URL(uri.toString())); &lt;&lt;&lt;&lt;&lt; THROWS THE ERROR\r\n      \r\n\r\nThe url constructed is i.e https://www.example.org/api/search.json?keywords=iphone&amp;count=50\r\n\r\nWhat is going wrong here? And how can I parse this data successfully?\r\n\r\n---\r\n\r\nImports:\r\n\r\n    import com.google.appengine.repackaged.org.codehaus.jackson.JsonNode;\r\n    import com.google.appengine.repackaged.org.codehaus.jackson.map.ObjectMapper;\r\n    import com.google.appengine.repackaged.org.codehaus.jackson.node.ArrayNode;\r\n    import org.apache.http.client.utils.URIBuilder;\r\n\r\n\r\nexample response \r\n\r\n    {\r\n\t    meta: {\r\n\t        indexAllowed: false\r\n\t    },\r\n\t    products: {\r\n\t\t    products: [ \r\n\t\t\t    {\r\n\t\t\t\t    id: 1,\r\n\t\t\t\t    name: &quot;Apple iPhone 6 16GB 4G LTE GSM Factory Unlocked&quot;\r\n\t\t\t    },\r\n\t\t\t    {\r\n\t\t\t\t    id: 2,\r\n\t\t\t\t    name: &quot;Apple iPhone 7 8GB 4G LTE GSM Factory Unlocked&quot;\r\n\t\t\t    }\r\n\t\t    ]\r\n\t    }\r\n    }","title":"Jackson error &quot;Illegal character... only regular white space allowed&quot; when parsing JSON","body":"<p>I am trying to retrieve JSON data from a URL but get the following error:</p>\n\n<pre><code>Illegal character ((CTRL-CHAR, code 31)):\nonly regular white space (\\r, \\n,\\t) is allowed between tokens\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>final URI uri = new URIBuilder(UrlConstants.SEARCH_URL)\n      .addParameter(\"keywords\", searchTerm)\n      .addParameter(\"count\", \"50\")\n      .build();\n  node = new ObjectMapper().readTree(new URL(uri.toString())); &lt;&lt;&lt;&lt;&lt; THROWS THE ERROR\n</code></pre>\n\n<p>The url constructed is i.e <a href=\"https://www.example.org/api/search.json?keywords=iphone&amp;count=50\" rel=\"noreferrer\">https://www.example.org/api/search.json?keywords=iphone&amp;count=50</a></p>\n\n<p>What is going wrong here? And how can I parse this data successfully?</p>\n\n<hr>\n\n<p>Imports:</p>\n\n<pre><code>import com.google.appengine.repackaged.org.codehaus.jackson.JsonNode;\nimport com.google.appengine.repackaged.org.codehaus.jackson.map.ObjectMapper;\nimport com.google.appengine.repackaged.org.codehaus.jackson.node.ArrayNode;\nimport org.apache.http.client.utils.URIBuilder;\n</code></pre>\n\n<p>example response </p>\n\n<pre><code>{\n    meta: {\n        indexAllowed: false\n    },\n    products: {\n        products: [ \n            {\n                id: 1,\n                name: \"Apple iPhone 6 16GB 4G LTE GSM Factory Unlocked\"\n            },\n            {\n                id: 2,\n                name: \"Apple iPhone 7 8GB 4G LTE GSM Factory Unlocked\"\n            }\n        ]\n    }\n}\n</code></pre>\n"},{"tags":["java","methods","parameters"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1681971055,"post_id":76061052,"comment_id":134142990,"body_markdown":"what about doing: &quot;sayHello(&quot;Raj&quot;, 20);&quot;","body":"what about doing: &quot;sayHello(&quot;Raj&quot;, 20);&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681971060,"post_id":76061052,"comment_id":134142992,"body_markdown":"did you type `name:` and `age:`  ? These should NOT be included in code, correct is `sayHello(&quot;Raj&quot;, 20);` The parameter names (`name` and `age`) are displayed by some IDEs to *help* identify the arguments, but they are not part of code (should be displayed in a different color/background) - probably you watched some video tutorial and they did not explain that *detail*","body":"did you type <code>name:</code> and <code>age:</code>  ? These should NOT be included in code, correct is <code>sayHello(&quot;Raj&quot;, 20);</code> The parameter names (<code>name</code> and <code>age</code>) are displayed by some IDEs to <i>help</i> identify the arguments, but they are not part of code (should be displayed in a different color/background) - probably you watched some video tutorial and they did not explain that <i>detail</i>"}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681971105,"creation_date":1681971105,"answer_id":76061065,"question_id":76061052,"body_markdown":"in java there is no named- but positional-parameters only\r\n\r\nso this is invalid:\r\n\r\n    sayHello(name:&quot;Raj&quot;,age:20);\r\n\r\ndo instead:\r\n\r\n    sayHello(&quot;Raj&quot;, 20); ","title":"I&#39;m learning java,currently a beginner.I was trying to use method parameters but this unexpected error has popped up","body":"<p>in java there is no named- but positional-parameters only</p>\n<p>so this is invalid:</p>\n<pre><code>sayHello(name:&quot;Raj&quot;,age:20);\n</code></pre>\n<p>do instead:</p>\n<pre><code>sayHello(&quot;Raj&quot;, 20); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28294658,"reputation":1,"user_id":21634287,"display_name":"RickChen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681972341,"creation_date":1681971833,"answer_id":76061129,"question_id":76061052,"body_markdown":" I copied your code and ran it. If you pasted the full code, there is something wrong with your method input parameters. It should be sayHello(&quot;Raj&quot;,20), not sayHello(name:&quot;Raj&quot;,age:20), just pass in the actual parameters in the order of the method definition line parameters, and then I noticed in your method The attributes name and age do not play a role in the method at all. When defining a function, you should ensure that each formal parameter plays a role. If you want to enter name and age to print to the console, you can refer to the following code   \r\n\r\npublic class MyClass\r\n    {\r\n        public static void main(String[] args){\r\n    \r\n        //A method is a block of code which only runs when it is called\r\n        sayHello(&quot;Raj&quot;,20);\r\n    \r\n    }\r\n    //method should be defined in the class\r\n    \r\n    public static void sayHello(String name, int age){\r\n            //  output the name and its age\r\n        System.out.println(&quot;Hello!,name:&quot;+name+&quot;,age:&quot;+age);\r\n    }\r\n    }","title":"I&#39;m learning java,currently a beginner.I was trying to use method parameters but this unexpected error has popped up","body":"<p>I copied your code and ran it. If you pasted the full code, there is something wrong with your method input parameters. It should be sayHello(&quot;Raj&quot;,20), not sayHello(name:&quot;Raj&quot;,age:20), just pass in the actual parameters in the order of the method definition line parameters, and then I noticed in your method The attributes name and age do not play a role in the method at all. When defining a function, you should ensure that each formal parameter plays a role. If you want to enter name and age to print to the console, you can refer to the following code</p>\n<p>public class MyClass\n{\npublic static void main(String[] args){</p>\n<pre><code>    //A method is a block of code which only runs when it is called\n    sayHello(&quot;Raj&quot;,20);\n\n}\n//method should be defined in the class\n\npublic static void sayHello(String name, int age){\n        //  output the name and its age\n    System.out.println(&quot;Hello!,name:&quot;+name+&quot;,age:&quot;+age);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":28356665,"reputation":13,"user_id":21687307,"display_name":"Heisenberg RandaBhai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76061065,"answer_count":2,"score":1,"last_activity_date":1681972341,"creation_date":1681970913,"question_id":76061052,"body_markdown":"```java\r\npublic class MyClass {\r\n    public static void main(String[] args){\r\n\r\n        //A method is a block of code which only runs when it is called\r\n        sayHello(name:&quot;Raj&quot;,age:20);\r\n\r\n    }\r\n    //method should be defined in the class\r\n\r\n    public static void sayHello(String name, int age){\r\n        System.out.println(&quot;Hello!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis code is returning folowwing errors for line 7:\r\n&#39;)&#39; expected\r\n&#39;;&#39; expected\r\n&#39;not a statement&#39;\r\n\r\nI had expected the code to run as is should but I can&#39;t seem to identify the error.","title":"I&#39;m learning java,currently a beginner.I was trying to use method parameters but this unexpected error has popped up","body":"<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n    public static void main(String[] args){\n\n        //A method is a block of code which only runs when it is called\n        sayHello(name:&quot;Raj&quot;,age:20);\n\n    }\n    //method should be defined in the class\n\n    public static void sayHello(String name, int age){\n        System.out.println(&quot;Hello!&quot;);\n    }\n}\n</code></pre>\n<p>This code is returning folowwing errors for line 7:\n')' expected\n';' expected\n'not a statement'</p>\n<p>I had expected the code to run as is should but I can't seem to identify the error.</p>\n"},{"tags":["java","android","interface","dialog"],"answers":[{"tags":[],"owner":{"account_id":272573,"reputation":10312,"user_id":563735,"accept_rate":71,"display_name":"Rohit Mandiwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681972300,"creation_date":1298197806,"answer_id":5056443,"question_id":5056359,"body_markdown":"You can declare a `Handler` object as an anonymous inner class in your activity and on its reference call the `sendEmptyMessage(0)`. in the `handlerMessage()` of the handler instance just dismiss the `AlertDialog`.\r\n\r\n\r\nHere is a tutorial link which will help you more https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html","title":"How to Send Message From AlertDialog to Activity","body":"<p>You can declare a <code>Handler</code> object as an anonymous inner class in your activity and on its reference call the <code>sendEmptyMessage(0)</code>. in the <code>handlerMessage()</code> of the handler instance just dismiss the <code>AlertDialog</code>.</p>\n<p>Here is a tutorial link which will help you more <a href=\"https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html</a></p>\n"}],"owner":{"account_id":710975,"reputation":11,"user_id":625136,"display_name":"Bogdan George Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681972300,"creation_date":1298196589,"question_id":5056359,"body_markdown":"I&#39;m trying to ask the user if he wants to retry a login process if the initial one has failed.\r\nI do this using an AlertDialog. The problem is i&#39;m going around in a circle. Let me explain:\r\nI have the login method named Login which I call from the main activity. If this fails, I open an AlertDialog. The response from AlertDialog comes on the main thread. How do I make the AlertDialog dissapear before I call Login again? \r\n\r\nNow I have something like this onCreate-&gt;Login-&gt;AlertDialog-&gt;ResponseHandler-&gt;Login. If I do this, the AlertDialog will never close because everything happens on the same thread. \r\n\r\nIs there a way to send the response from the AlertDialog to the activity in a asynchronous way?","title":"How to Send Message From AlertDialog to Activity","body":"<p>I'm trying to ask the user if he wants to retry a login process if the initial one has failed.\nI do this using an AlertDialog. The problem is i'm going around in a circle. Let me explain:\nI have the login method named Login which I call from the main activity. If this fails, I open an AlertDialog. The response from AlertDialog comes on the main thread. How do I make the AlertDialog dissapear before I call Login again? </p>\n\n<p>Now I have something like this onCreate->Login->AlertDialog->ResponseHandler->Login. If I do this, the AlertDialog will never close because everything happens on the same thread. </p>\n\n<p>Is there a way to send the response from the AlertDialog to the activity in a asynchronous way?</p>\n"},{"tags":["java","class","normalization"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1681974269,"post_id":76061154,"comment_id":134143518,"body_markdown":"hello and welcome to StackOverflow. The error you are facing is very basic and needs also very basic Java knowledge. I am afraid if you do not have this knowledge, even after you fix this one, you will face another simple error. If you are really planning to work with Java it would be usefull to: 1) get an IDE which helps you to fix  this basic errors (eg IntelliJIdea), 2) Read some basic concepts about Java.  The error which you encounter simply says that in your class you have not defined the getKey(..) method. Maybe you have not copied everything from the example?","body":"hello and welcome to StackOverflow. The error you are facing is very basic and needs also very basic Java knowledge. I am afraid if you do not have this knowledge, even after you fix this one, you will face another simple error. If you are really planning to work with Java it would be usefull to: 1) get an IDE which helps you to fix  this basic errors (eg IntelliJIdea), 2) Read some basic concepts about Java.  The error which you encounter simply says that in your class you have not defined the getKey(..) method. Maybe you have not copied everything from the example?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681977382,"post_id":76061154,"comment_id":134144149,"body_markdown":"There is no method `getKey` in your class. Consequently, you cannot call it. You can only call methods that exist","body":"There is no method <code>getKey</code> in your class. Consequently, you cannot call it. You can only call methods that exist"}],"owner":{"account_id":28356450,"reputation":3,"user_id":21687128,"display_name":"nima tehrani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681972091,"creation_date":1681972091,"question_id":76061154,"body_markdown":"Helo \r\nany help can be good for me.\r\nI have to convert a jason to some kind of string by a java class. But it has 2 errors in line 84, 90 method getkey.\r\nInside the flatMap function\r\n\r\n```\r\npackage normjsn;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport java.text.Collator;\r\nimport java.util.*;\r\n\r\n\r\n\r\npublic class CryptoUtils {\r\n\tprivate final static ObjectMapper mapper = new ObjectMapper();\r\n\tpublic static byte[] hexStringToByteArray(String s) {\r\n\t\tint len = s.length();\r\n\t\tbyte[] data = new byte[len / 2];\r\n\t\tfor (int i = 0; i &lt; len; i += 2) {\r\n\t\t\tdata[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4) + Character.digit(s.charAt(i + 1), 16));\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic static String normalJson(Object object, Map&lt;String, Object&gt; header) {\r\n\t\tif (object == null &amp;&amp; header == null) return null;\r\n\r\n\t\tMap&lt;String, Object&gt; map = null;\r\n\t\tif (object != null) {\r\n\t\t\tif (object instanceof String) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tobject = mapper.readValue((String) object, Object.class);\r\n\t\t\t\t} \r\n\t\t\t\tcatch (JsonProcessingException e) {\r\n\t\t\t\t\tthrow new RuntimeException(e.getMessage());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (object instanceof Collection) {\r\n\t\t\t\t/// @SuppressWarnings(&quot;rawtypes&quot;)  /// Skip non generic var s warning\r\n\t\t\t\tPacketsWrapper packetsWrapper = new PacketsWrapper((Collection) object);\r\n\t\t\t\tmap = mapper.convertValue(packetsWrapper, Map.class);\r\n\t\t\t} else {\r\n\t\t\t\tmap = mapper.convertValue(object, Map.class);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (map == null &amp;&amp; header != null) {\r\n\t\t\tmap = header;\r\n\t\t}\r\n\t\tif (map != null &amp;&amp; header != null) {\r\n\t\t\tfor (Map.Entry&lt;String, Object&gt; entry : header.entrySet()) {\r\n\t\t\t\tmap.put(entry.getKey(), entry.getValue());\r\n\t\t\t}\t\r\n\t\t}\r\n\r\n\t\tMap&lt;String, Object&gt; result = new HashMap&lt;&gt;();\r\n\t\tflatMap(result, null, map);\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tList&lt;String&gt; keys = new ArrayList&lt;&gt;(result.keySet());\r\n\t\tCollections.sort(keys, Collator.getInstance(Locale.ENGLISH));\r\n\t\tfor (String key : keys) {\r\n\t\t\tString textValue;\r\n\t\t\tObject value = result.get(key);\r\n\t\t\tif (value != null) {\r\n\t\t\t\ttextValue = value.toString();\r\n\t\t\t\tif (textValue == null || textValue.equals(&quot;&quot;)) {\r\n\t\t\t\t\ttextValue = &quot;#&quot;;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttextValue = textValue.replaceAll(&quot;#&quot;, &quot;##&quot;);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttextValue = &quot;#&quot;;\r\n\t\t\t}\r\n\t\t\tsb.append(textValue).append(&#39;#&#39;);\r\n\t\t}\r\n\t\treturn sb.deleteCharAt(sb.length() - 1).toString();\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tprivate static void flatMap(Map&lt;String, Object&gt; result, String rootKey, Object input) {\r\n\t\t\tif (input instanceof Collection) {\r\n\t\t\t\tCollection list = (Collection) input;\r\n\t\t\t\tint i = 0;\r\n\t\t\t\tfor (Object e : list) {\r\n\t\t\t\t\tString key = getKey(rootKey, &quot;E&quot; + i++);\r\n\t\t\t\t\tflatMap(result, key, e);\r\n\t\t\t\t}\r\n\t\t\t} else if (input instanceof Map) {\r\n\t\t\t\tMap&lt;String, Object&gt; map = (Map) input;\r\n\t\t\t\tfor (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n\t\t\t\t\tflatMap(result, getKey(rootKey, entry.getKey()), entry.getValue());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresult.put(rootKey, input);\r\n\t\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tprivate static class PacketsWrapper {\r\n\t\tprivate Collection packets;\r\n\t\tpublic PacketsWrapper() {}\r\n\t\tpublic PacketsWrapper(Collection packets) {\r\n\t\t\tthis.packets = packets;\r\n\t\t}\r\n\t\tpublic Collection getPackets() {\r\n\t\t\treturn packets;\r\n\t\t}\r\n\t\tpublic void setPackets(Collection packets) {\r\n\t\t\tthis.packets = packets;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\nMore about me: have you heard of vb6? yeah, I am a dinosaur age programmer. Recently I have to connect to government tax API and they have gave a non-useful document guide and the above class is suggested in the document. \r\nUnfortunately there is no support, and it&#39;s about 1 month I am working on it but because of lack of info and support I am still in the first line :))))","title":"The method getKey(String, String) is undefined for the type CryptoUtils","body":"<p>Helo\nany help can be good for me.\nI have to convert a jason to some kind of string by a java class. But it has 2 errors in line 84, 90 method getkey.\nInside the flatMap function</p>\n<pre><code>package normjsn;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.text.Collator;\nimport java.util.*;\n\n\n\npublic class CryptoUtils {\n    private final static ObjectMapper mapper = new ObjectMapper();\n    public static byte[] hexStringToByteArray(String s) {\n        int len = s.length();\n        byte[] data = new byte[len / 2];\n        for (int i = 0; i &lt; len; i += 2) {\n            data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4) + Character.digit(s.charAt(i + 1), 16));\n        }\n        return data;\n    }\n    \n    \n    \n    public static String normalJson(Object object, Map&lt;String, Object&gt; header) {\n        if (object == null &amp;&amp; header == null) return null;\n\n        Map&lt;String, Object&gt; map = null;\n        if (object != null) {\n            if (object instanceof String) {\n                try {\n                    object = mapper.readValue((String) object, Object.class);\n                } \n                catch (JsonProcessingException e) {\n                    throw new RuntimeException(e.getMessage());\n                }\n            }\n            if (object instanceof Collection) {\n                /// @SuppressWarnings(&quot;rawtypes&quot;)  /// Skip non generic var s warning\n                PacketsWrapper packetsWrapper = new PacketsWrapper((Collection) object);\n                map = mapper.convertValue(packetsWrapper, Map.class);\n            } else {\n                map = mapper.convertValue(object, Map.class);\n            }\n        }\n        if (map == null &amp;&amp; header != null) {\n            map = header;\n        }\n        if (map != null &amp;&amp; header != null) {\n            for (Map.Entry&lt;String, Object&gt; entry : header.entrySet()) {\n                map.put(entry.getKey(), entry.getValue());\n            }   \n        }\n\n        Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\n        flatMap(result, null, map);\n        StringBuilder sb = new StringBuilder();\n        List&lt;String&gt; keys = new ArrayList&lt;&gt;(result.keySet());\n        Collections.sort(keys, Collator.getInstance(Locale.ENGLISH));\n        for (String key : keys) {\n            String textValue;\n            Object value = result.get(key);\n            if (value != null) {\n                textValue = value.toString();\n                if (textValue == null || textValue.equals(&quot;&quot;)) {\n                    textValue = &quot;#&quot;;\n                } else {\n                    textValue = textValue.replaceAll(&quot;#&quot;, &quot;##&quot;);\n                }\n            } else {\n                textValue = &quot;#&quot;;\n            }\n            sb.append(textValue).append('#');\n        }\n        return sb.deleteCharAt(sb.length() - 1).toString();\n    }\n    \n    \n    \n    private static void flatMap(Map&lt;String, Object&gt; result, String rootKey, Object input) {\n            if (input instanceof Collection) {\n                Collection list = (Collection) input;\n                int i = 0;\n                for (Object e : list) {\n                    String key = getKey(rootKey, &quot;E&quot; + i++);\n                    flatMap(result, key, e);\n                }\n            } else if (input instanceof Map) {\n                Map&lt;String, Object&gt; map = (Map) input;\n                for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n                    flatMap(result, getKey(rootKey, entry.getKey()), entry.getValue());\n                }\n            } else {\n                result.put(rootKey, input);\n            }\n    }\n    \n    \n    \n    \n    \n    private static class PacketsWrapper {\n        private Collection packets;\n        public PacketsWrapper() {}\n        public PacketsWrapper(Collection packets) {\n            this.packets = packets;\n        }\n        public Collection getPackets() {\n            return packets;\n        }\n        public void setPackets(Collection packets) {\n            this.packets = packets;\n        }\n    }\n    \n    \n    \n}\n\n</code></pre>\n<p>More about me: have you heard of vb6? yeah, I am a dinosaur age programmer. Recently I have to connect to government tax API and they have gave a non-useful document guide and the above class is suggested in the document.\nUnfortunately there is no support, and it's about 1 month I am working on it but because of lack of info and support I am still in the first line :))))</p>\n"},{"tags":["java","android","web-services","rest","httprequest"],"comments":[{"owner":{"account_id":347905,"reputation":1525,"user_id":682302,"accept_rate":68,"display_name":"sudo"},"score":0,"creation_date":1306140187,"post_id":6094676,"comment_id":7064258,"body_markdown":"hi andreas_D, i got NullPointerException  .This is log file 05-23 08:41:27.120: ERROR/AndroidRuntime(1344): FATAL EXCEPTION: main\n05-23 08:41:27.120: ERROR/AndroidRuntime(1344): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.test/com.test.putandroid}: java.lang.NullPointerException\n: ERROR/AndroidRuntime(1344):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)\n: ERROR/AndroidRuntime(1344):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)","body":"hi andreas_D, i got NullPointerException  .This is log file 05-23 08:41:27.120: ERROR/AndroidRuntime(1344): FATAL EXCEPTION: main 05-23 08:41:27.120: ERROR/AndroidRuntime(1344): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.test/com.test.putandroid}: java.lang.NullPointerException : ERROR/AndroidRuntime(1344):     at android.app.ActivityThread.performLaunchActivity(ActivityThr&zwnj;&#8203;ead.java:1647) : ERROR/AndroidRuntime(1344):     at android.app.ActivityThread.handleLaunchActivity(ActivityThre&zwnj;&#8203;ad.java:1663)"}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306139684,"creation_date":1306139684,"answer_id":6094730,"question_id":6094676,"body_markdown":"No idea for the network exception (yet) but the last NPE is most likely because the previous exception is thrown before `response` has been initialized through `httpclient.execute(delete)`.\r\n\r\nYou should rewrite your `catch` block and write the name of the catched exception and the message to the log.","title":"how to solve the exception in android","body":"<p>No idea for the network exception (yet) but the last NPE is most likely because the previous exception is thrown before <code>response</code> has been initialized through <code>httpclient.execute(delete)</code>.</p>\n\n<p>You should rewrite your <code>catch</code> block and write the name of the catched exception and the message to the log.</p>\n"},{"tags":[],"owner":{"account_id":211509,"reputation":39983,"user_id":463721,"accept_rate":53,"display_name":"Tanmay Mandal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681971134,"creation_date":1306140416,"answer_id":6094876,"question_id":6094676,"body_markdown":"In the onCreate() function on line 4 we find that after initializing your `TextView` you are trying to set a value.\r\n\r\nYou must use a `Handler` object because you cannot update an UI objects while in a separate thread.\r\n\r\nHere is some link for your help\r\n\r\nhttps://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html\r\n\r\nhttps://web.archive.org/web/20130306131310/http://thedevelopersinfo.com/?p=150","title":"how to solve the exception in android","body":"<p>In the onCreate() function on line 4 we find that after initializing your <code>TextView</code> you are trying to set a value.</p>\n<p>You must use a <code>Handler</code> object because you cannot update an UI objects while in a separate thread.</p>\n<p>Here is some link for your help</p>\n<p><a href=\"https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html</a></p>\n<p><a href=\"https://web.archive.org/web/20130306131310/http://thedevelopersinfo.com/?p=150\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20130306131310/http://thedevelopersinfo.com/?p=150</a></p>\n"},{"tags":[],"owner":{"account_id":393282,"reputation":391,"user_id":755060,"accept_rate":67,"display_name":"Karthik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1306142232,"creation_date":1306142232,"answer_id":6095199,"question_id":6094676,"body_markdown":"did you check for the manifest file for Internet permission?","title":"how to solve the exception in android","body":"<p>did you check for the manifest file for Internet permission?</p>\n"}],"owner":{"account_id":347905,"reputation":1525,"user_id":682302,"accept_rate":68,"display_name":"sudo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6095199,"answer_count":3,"score":0,"last_activity_date":1681971134,"creation_date":1306139411,"question_id":6094676,"body_markdown":"i have written HttpDelete in android to call REST web service.\r\n\r\n    public void onCreate(Bundle savedInstanceState)\r\n\t\t{\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.main);\r\n\t\tTextView txt = (TextView) findViewById(R.id.textView1);\r\n        txt.setText(getInputStreamFromUrl(&quot;http://192.168.37.241:8080/kyaw/k&quot;));\r\n\t\t}\r\n\t\t\r\n\t\tpublic static String getInputStreamFromUrl(String url) {\r\n\t\t\t  InputStream content = null;\r\n\t\t\t  HttpResponse response = null;\r\n\t\t\t  try {\r\n\t\t\t\t\t\t\r\n\t\t\t\tDefaultHttpClient httpclient = new DefaultHttpClient();\t\t\t\t\r\n\t\t\t    HttpDelete delete=new HttpDelete(url);\r\n\t\t\t    put.setHeader(&quot;Content-Type&quot;,&quot;application/vnd.org.snia.cdmi.container&quot;);\r\n\t\t        response = httpclient.execute(delete);\r\n\t\t\t    content = response.getEntity().getContent();\r\n\t\t\t  }catch (Exception e) {\r\n\t\t\t    Log.e(&quot;[DELETE REQUEST]&quot;, &quot;Network exception&quot;);\r\n\t\t\t  }\r\n\t\t\t    String result=response.getStatusLine().toString()+&quot;\\n&quot;+response.getHeaders(url);\r\n\t\t\t    return result;\r\n\t\t\t}\r\n\r\n\r\nAnd I get the exception which is \r\n\r\n\r\n    05-23 08:30:16.868: ERROR/[DELETE REQUEST](1197): Network exception\r\n    05-23 08:30:16.868: DEBUG/AndroidRuntime(1197): Shutting down VM\r\n    05-23 08:30:16.878: WARN/dalvikvm(1197): threadid=1: thread exiting with uncaught exception (group=0x40015560)\r\n    05-23 08:30:16.908: ERROR/AndroidRuntime(1197): FATAL EXCEPTION: main\r\n    05-23 08:30:16.908: ERROR/AndroidRuntime(1197): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.test/com.test.putandroid}: java.lang.NullPointerException\r\n\r\nDo anyone know why?\r\n","title":"how to solve the exception in android","body":"<p>i have written HttpDelete in android to call REST web service.</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState)\n    {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n    TextView txt = (TextView) findViewById(R.id.textView1);\n    txt.setText(getInputStreamFromUrl(\"http://192.168.37.241:8080/kyaw/k\"));\n    }\n\n    public static String getInputStreamFromUrl(String url) {\n          InputStream content = null;\n          HttpResponse response = null;\n          try {\n\n            DefaultHttpClient httpclient = new DefaultHttpClient();             \n            HttpDelete delete=new HttpDelete(url);\n            put.setHeader(\"Content-Type\",\"application/vnd.org.snia.cdmi.container\");\n            response = httpclient.execute(delete);\n            content = response.getEntity().getContent();\n          }catch (Exception e) {\n            Log.e(\"[DELETE REQUEST]\", \"Network exception\");\n          }\n            String result=response.getStatusLine().toString()+\"\\n\"+response.getHeaders(url);\n            return result;\n        }\n</code></pre>\n\n<p>And I get the exception which is </p>\n\n<pre><code>05-23 08:30:16.868: ERROR/[DELETE REQUEST](1197): Network exception\n05-23 08:30:16.868: DEBUG/AndroidRuntime(1197): Shutting down VM\n05-23 08:30:16.878: WARN/dalvikvm(1197): threadid=1: thread exiting with uncaught exception (group=0x40015560)\n05-23 08:30:16.908: ERROR/AndroidRuntime(1197): FATAL EXCEPTION: main\n05-23 08:30:16.908: ERROR/AndroidRuntime(1197): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.test/com.test.putandroid}: java.lang.NullPointerException\n</code></pre>\n\n<p>Do anyone know why?</p>\n"},{"tags":["java","android","user-interface","sleep"],"comments":[{"owner":{"account_id":305988,"reputation":5117,"user_id":616456,"accept_rate":91,"display_name":"Teo Klestrup R&#246;ijezon"},"score":0,"creation_date":1308791180,"post_id":6448253,"comment_id":7571705,"body_markdown":"Are you really sure a Thread.sleep is a good idea? Besides, having it 5 seconds means that if you&#39;re just slightly slower then the Android not answering dialog might pop up. If you absolutely have to make it sleep, make it sleep for a shorter while.","body":"Are you really sure a Thread.sleep is a good idea? Besides, having it 5 seconds means that if you&#39;re just slightly slower then the Android not answering dialog might pop up. If you absolutely have to make it sleep, make it sleep for a shorter while."}],"answers":[{"tags":[],"owner":{"account_id":11512,"reputation":10910,"user_id":22231,"accept_rate":77,"display_name":"Haphazard"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1308791149,"creation_date":1308791149,"answer_id":6448282,"question_id":6448253,"body_markdown":"You&#39;ll need an [AsyncTask][1] for that.  Google gives you an intro to it [here][2].\r\n\r\nWhen you Thread.sleep() on the main Activity, you are putting the application to sleep.  The AsyncTask will allow you to pause for the 5 seconds, maybe show a little In Progress bar and then pick up from there, without freezing the screen.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: http://developer.android.com/resources/articles/painless-threading.html","title":"Pause execution in Java GUI","body":"<p>You'll need an <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow\">AsyncTask</a> for that.  Google gives you an intro to it <a href=\"http://developer.android.com/resources/articles/painless-threading.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>When you Thread.sleep() on the main Activity, you are putting the application to sleep.  The AsyncTask will allow you to pause for the 5 seconds, maybe show a little In Progress bar and then pick up from there, without freezing the screen.</p>\n"},{"tags":[],"owner":{"account_id":148654,"reputation":14978,"user_id":360592,"accept_rate":96,"display_name":"mibollma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1310645131,"creation_date":1308791250,"answer_id":6448289,"question_id":6448253,"body_markdown":"Imo `AsyncTask` is too much for this usecase. \r\n\r\nDon&#39;t use sleep.\r\nInstead set your correct/incorrect message and than do this:\r\n\r\n    new Handler().postDelayed(new Runnable(){\r\n      public void run()\r\n      {\r\n        goToNextScreen();\r\n      }\r\n    }\r\n    , 5000);","title":"Pause execution in Java GUI","body":"<p>Imo <code>AsyncTask</code> is too much for this usecase. </p>\n\n<p>Don't use sleep.\nInstead set your correct/incorrect message and than do this:</p>\n\n<pre><code>new Handler().postDelayed(new Runnable(){\n  public void run()\n  {\n    goToNextScreen();\n  }\n}\n, 5000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":353777,"reputation":64351,"user_id":691688,"accept_rate":80,"display_name":"Femi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681970432,"creation_date":1308791276,"answer_id":6448293,"question_id":6448253,"body_markdown":"Use a [Handler][1]: you can send a message with a 5000 millisecond delay, disable the buttons and when the message arrives you can re-enable the buttons. See https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html for more info.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/Handler.html","title":"Pause execution in Java GUI","body":"<p>Use a <a href=\"http://developer.android.com/reference/android/os/Handler.html\" rel=\"nofollow noreferrer\">Handler</a>: you can send a message with a 5000 millisecond delay, disable the buttons and when the message arrives you can re-enable the buttons. See <a href=\"https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":400584,"reputation":2150,"user_id":766640,"accept_rate":100,"display_name":"adamjmarkham"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1308791317,"creation_date":1308791317,"answer_id":6448296,"question_id":6448253,"body_markdown":"You should look into using timers for this. I don&#39;t think using threads are sensible for this. Using a timer to move onto the next question would work.\r\n\r\nLook at [timers here][1]\r\n\r\nHope this helps.\r\n\r\nDisclaimer: I have only used timers in Java to do something similar but i&#39;m sure it would work in Android.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/Timer.html","title":"Pause execution in Java GUI","body":"<p>You should look into using timers for this. I don't think using threads are sensible for this. Using a timer to move onto the next question would work.</p>\n\n<p>Look at <a href=\"http://developer.android.com/reference/java/util/Timer.html\" rel=\"nofollow\">timers here</a></p>\n\n<p>Hope this helps.</p>\n\n<p>Disclaimer: I have only used timers in Java to do something similar but i'm sure it would work in Android.</p>\n"}],"owner":{"account_id":74953,"reputation":762,"user_id":215141,"accept_rate":89,"display_name":"Rob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6448289,"answer_count":4,"score":1,"last_activity_date":1681970432,"creation_date":1308790892,"question_id":6448253,"body_markdown":"I am writing a quiz program for the Android (written in Java). When the user answers a question (by clicking a button), I want to flash a message on the screen saying whether they were correct or not, followed by a 5 second pause before moving on to the next question.\r\n\r\nHowever, when an answer button is clicked, the program pauses, but does not display the message of correct/incorrect. The message only comes up once the sleep method has finished.\r\n\r\n    if (correct)   \r\n        Answer.setText(&quot;CORRECT!&quot;); \r\n    else \r\n        Answer.setText(&quot;WRONG!&quot;); \r\n\r\n    try { Thread.sleep(5000); } \r\n    catch(InterruptedException e) {}\r\n\r\nAs a bonus, I&#39;d like the answer buttons to be disabled during the pause.","title":"Pause execution in Java GUI","body":"<p>I am writing a quiz program for the Android (written in Java). When the user answers a question (by clicking a button), I want to flash a message on the screen saying whether they were correct or not, followed by a 5 second pause before moving on to the next question.</p>\n\n<p>However, when an answer button is clicked, the program pauses, but does not display the message of correct/incorrect. The message only comes up once the sleep method has finished.</p>\n\n<pre><code>if (correct)   \n    Answer.setText(\"CORRECT!\"); \nelse \n    Answer.setText(\"WRONG!\"); \n\ntry { Thread.sleep(5000); } \ncatch(InterruptedException e) {}\n</code></pre>\n\n<p>As a bonus, I'd like the answer buttons to be disabled during the pause.</p>\n"},{"tags":["java","android","controls","cordova","zooming"],"answers":[{"tags":[],"owner":{"account_id":269559,"reputation":703,"user_id":558961,"accept_rate":97,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681970178,"creation_date":1311895716,"answer_id":6866991,"question_id":6866710,"body_markdown":"Not sure if this will work as I never tried, but I checked the reference in developer.android.com\r\n\r\n    ws.setDisplayZoomControls(true);\r\n\r\n\r\n\r\nAlso check this out:\r\nhttps://web.archive.org/web/20210127130931/http://www.tutorialforandroid.com/2009/02/webview-with-zoomcontrols-in-android.html\r\n\r\ngood tutorial. (Debunks my theory)\r\n","title":"Always show zoom controls in WebView","body":"<p>Not sure if this will work as I never tried, but I checked the reference in developer.android.com</p>\n<pre><code>ws.setDisplayZoomControls(true);\n</code></pre>\n<p>Also check this out:\n<a href=\"https://web.archive.org/web/20210127130931/http://www.tutorialforandroid.com/2009/02/webview-with-zoomcontrols-in-android.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20210127130931/http://www.tutorialforandroid.com/2009/02/webview-with-zoomcontrols-in-android.html</a></p>\n<p>good tutorial. (Debunks my theory)</p>\n"},{"tags":[],"owner":{"account_id":808906,"reputation":141,"user_id":848588,"display_name":"Robin Nixon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1313934907,"creation_date":1313934907,"answer_id":7138660,"question_id":6866710,"body_markdown":"setDisplayZoomControls() is only available from API 11 (Android 3). So you can&#39;t even consider using it until the vast majority of Android devices are 3 or above - which will not be for some years :(","title":"Always show zoom controls in WebView","body":"<p>setDisplayZoomControls() is only available from API 11 (Android 3). So you can't even consider using it until the vast majority of Android devices are 3 or above - which will not be for some years :(</p>\n"},{"tags":[],"owner":{"account_id":248767,"reputation":1239,"user_id":524355,"display_name":"CaptainCrunch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596135181,"creation_date":1596135181,"answer_id":63179568,"question_id":6866710,"body_markdown":"None of the above worked for my. Only when I start draging the webview content the controls show up the first time. So what I did as a &quot;quick fix&quot; is in onStart() of my Fragment that holds the Dialog with the webview I call:\r\n\r\n    webview.invokeZoomPicker();\r\n\r\nExample:\r\n\r\n        @Override\r\n        public void onStart(){\r\n            super.onStart();\r\n            DialogFragment dialog = this;\r\n           //...stuff\r\n            if(dialog.getDialog()!= null &amp;&amp; dialog.getDialog().getWindow()!=null){\r\n                //...more stuff\r\n                View v = dialog.getView();\r\n                if(v!=null){\r\n                    //invoke controls on start once, they stay active a few seconds:\r\n                    WebView webview =v.findViewById(R.id.frag_dlg_WebView);\r\n                    webview.invokeZoomPicker();\r\n                }\r\n            }\r\n        }\r\n\r\nThe controls light up only for a few seconds until they disappear again, by then the user in my case should have dragged the webview already.","title":"Always show zoom controls in WebView","body":"<p>None of the above worked for my. Only when I start draging the webview content the controls show up the first time. So what I did as a &quot;quick fix&quot; is in onStart() of my Fragment that holds the Dialog with the webview I call:</p>\n<pre><code>webview.invokeZoomPicker();\n</code></pre>\n<p>Example:</p>\n<pre><code>    @Override\n    public void onStart(){\n        super.onStart();\n        DialogFragment dialog = this;\n       //...stuff\n        if(dialog.getDialog()!= null &amp;&amp; dialog.getDialog().getWindow()!=null){\n            //...more stuff\n            View v = dialog.getView();\n            if(v!=null){\n                //invoke controls on start once, they stay active a few seconds:\n                WebView webview =v.findViewById(R.id.frag_dlg_WebView);\n                webview.invokeZoomPicker();\n            }\n        }\n    }\n</code></pre>\n<p>The controls light up only for a few seconds until they disappear again, by then the user in my case should have dragged the webview already.</p>\n"}],"owner":{"account_id":464730,"reputation":63,"user_id":868426,"display_name":"user868426"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2833,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7138660,"answer_count":3,"score":2,"last_activity_date":1681970178,"creation_date":1311893419,"question_id":6866710,"body_markdown":"Is there any way to always show zoom controls in webview?\r\nI found this: https://stackoverflow.com/questions/920741/always-show-zoom-controls-on-a-mapview\r\nbut that&#39;s for the mapview.\r\nI want them to always be visible.\r\n\r\n        super.onCreate(savedInstanceState);\r\n        super.loadUrl(&quot;file:///android_asset/www/index.html&quot;);\r\n        WebSettings ws = super.appView.getSettings();\r\n        ws.setSupportZoom(true);\r\n        ws.setBuiltInZoomControls(true);","title":"Always show zoom controls in WebView","body":"<p>Is there any way to always show zoom controls in webview?\nI found this: <a href=\"https://stackoverflow.com/questions/920741/always-show-zoom-controls-on-a-mapview\">Always show zoom controls on a MapView</a>\nbut that's for the mapview.\nI want them to always be visible.</p>\n\n<pre><code>    super.onCreate(savedInstanceState);\n    super.loadUrl(\"file:///android_asset/www/index.html\");\n    WebSettings ws = super.appView.getSettings();\n    ws.setSupportZoom(true);\n    ws.setBuiltInZoomControls(true);\n</code></pre>\n"},{"tags":["java","spring","spring-bean"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1681966308,"post_id":76060603,"comment_id":134142415,"body_markdown":"Related: https://stackoverflow.com/questions/10636201/java-annotations-values-provided-in-dynamic-manner","body":"Related: <a href=\"https://stackoverflow.com/questions/10636201/java-annotations-values-provided-in-dynamic-manner\" title=\"java annotations values provided in dynamic manner\">stackoverflow.com/questions/10636201/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681969801,"creation_date":1681969801,"answer_id":76060962,"question_id":76060603,"body_markdown":"Yes its possible:\r\n\r\n\r\n      private static final String myVar = &quot;health.xyz.throughput&quot;;\r\n    \r\n      @Value(&quot;${&quot; + myVar + &quot;:10}&quot;)\r\n      private Integer healthThroughput;\r\n\r\nAlso you can use:\r\n\r\n      private static final String myVar = &quot;${health.xyz.throughput:10}&quot;;\r\n    \r\n      @Value(myVar)\r\n      private Integer healthThroughput;","title":"when using @Value spring annotation, is it possible to leverage some sort of string interpolation?","body":"<p>Yes its possible:</p>\n<pre><code>  private static final String myVar = &quot;health.xyz.throughput&quot;;\n\n  @Value(&quot;${&quot; + myVar + &quot;:10}&quot;)\n  private Integer healthThroughput;\n</code></pre>\n<p>Also you can use:</p>\n<pre><code>  private static final String myVar = &quot;${health.xyz.throughput:10}&quot;;\n\n  @Value(myVar)\n  private Integer healthThroughput;\n</code></pre>\n"}],"owner":{"account_id":3847859,"reputation":7139,"user_id":3188761,"accept_rate":55,"display_name":"90abyss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76060962,"answer_count":1,"score":0,"last_activity_date":1681969801,"creation_date":1681965340,"question_id":76060603,"body_markdown":"Can I do something like this?\r\n\r\n    private final static String myVar = &quot;health.xyz.throughput&quot;;\r\n\r\n    @Value(&quot;${{myVar}:10}&quot;)   // doesn&#39;t work of course\r\n    private Integer healthThroughput;\r\n\r\n\r\nEssentially `myVar` key is getting used elsewhere so wanted to see if it can be moved to a constant?","title":"when using @Value spring annotation, is it possible to leverage some sort of string interpolation?","body":"<p>Can I do something like this?</p>\n<pre><code>private final static String myVar = &quot;health.xyz.throughput&quot;;\n\n@Value(&quot;${{myVar}:10}&quot;)   // doesn't work of course\nprivate Integer healthThroughput;\n</code></pre>\n<p>Essentially <code>myVar</code> key is getting used elsewhere so wanted to see if it can be moved to a constant?</p>\n"},{"tags":["java","oop","design-patterns","guice"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681958023,"post_id":76060013,"comment_id":134141642,"body_markdown":"Have a `DataServices` class with methods `FooDataService getFooDataService()` etc.","body":"Have a <code>DataServices</code> class with methods <code>FooDataService getFooDataService()</code> etc."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681969712,"creation_date":1681969712,"answer_id":76060949,"question_id":76060013,"body_markdown":"\r\nSomething that would help here would be Lombok&#39;s @Delegate -  but it is currently only an experimental feature.\r\nThis annotation allows you to eliminate theboilerplate code (the straightforward calls to the delegated service):\r\n\r\n\tpublic interface DataService extends FooDataService, BarDataService {}\r\n\r\n\tpublic class DataServiceImpl implements DataService {\r\n\t\t@Delegate(FooDataService.clas)\r\n\t\tprivate final FooDataService fooDataService;\r\n\t\t@Delegate(BarDataService.clas)\r\n\t\tprivate final BarDataService barDataService;\r\n\t\t\r\n\t\t// no more doFoo(x) { fooService.doFoo(x) } \r\n\t\t// only the code that does delegate here.\r\n\t}\r\n\t\r\nIf you find this interesting, read more about it in their official docs: https://projectlombok.org/features/experimental/Delegate\r\n\r\n\r\n----------\r\n\r\n\r\nA second approach would be to move the straight forward delegations to the interface itself:\r\n\r\n\tpublic interface DataService extends FooDataService, BarDataService {\r\n\t\tFooDataService fooService();\r\n\t\tBarDataService barService(); // new &quot;accessor&quot; methods in the interface\r\n\t\r\n\t\t@Override\r\n\t\tdefault Foo getFoo(){ return fooService().getFoo(); }\r\n\t\r\n\t\t@Override\r\n\t\tdefault Foo getBar(){ return barService().getBar(); }\r\n\t\t\r\n\t\t// other delegates here\r\n\t}\r\n\r\nWith this solution, if you change something you still need to change it everywhere. But at least `DataServiceImpl` can focus on the things it does, apart from the delegations\r\n","title":"How can I better organize my java classes to use delegation, without the tedium?","body":"<p>Something that would help here would be Lombok's @Delegate -  but it is currently only an experimental feature.\nThis annotation allows you to eliminate theboilerplate code (the straightforward calls to the delegated service):</p>\n<pre><code>public interface DataService extends FooDataService, BarDataService {}\n\npublic class DataServiceImpl implements DataService {\n    @Delegate(FooDataService.clas)\n    private final FooDataService fooDataService;\n    @Delegate(BarDataService.clas)\n    private final BarDataService barDataService;\n    \n    // no more doFoo(x) { fooService.doFoo(x) } \n    // only the code that does delegate here.\n}\n</code></pre>\n<p>If you find this interesting, read more about it in their official docs: <a href=\"https://projectlombok.org/features/experimental/Delegate\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/experimental/Delegate</a></p>\n<hr />\n<p>A second approach would be to move the straight forward delegations to the interface itself:</p>\n<pre><code>public interface DataService extends FooDataService, BarDataService {\n    FooDataService fooService();\n    BarDataService barService(); // new &quot;accessor&quot; methods in the interface\n\n    @Override\n    default Foo getFoo(){ return fooService().getFoo(); }\n\n    @Override\n    default Foo getBar(){ return barService().getBar(); }\n    \n    // other delegates here\n}\n</code></pre>\n<p>With this solution, if you change something you still need to change it everywhere. But at least <code>DataServiceImpl</code> can focus on the things it does, apart from the delegations</p>\n"}],"owner":{"account_id":2518215,"reputation":355,"user_id":2189108,"accept_rate":80,"display_name":"mdong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681969712,"creation_date":1681956240,"question_id":76060013,"body_markdown":"I have a Java project where one overwhelmingly large class had been split up into smaller classes, entirely because of readability reasons. Guice dependency injection is used. \r\n\r\n```\r\npublic interface FooDataService { Foo getFoo(){} }\r\npublic class FooDataServiceImpl implements FooDataService { @Override Foo getFoo(){} }\r\n// Also BarDataService, BazDataService, and more\r\n\r\n\r\npublic interface DataService extends FooDataService, BarDataService {}\r\npublic class DataServiceImpl implements DataService {\r\n    private final FooDataService fooDataService;\r\n    private final BarDataService barDataService;\r\n    // ...\r\n\r\n    @Inject\r\n    public DataServiceImpl(FooDataService fooDataService, BarDataService barDataService) {\r\n        this.fooDataService = fooDataService;\r\n        this.barDataService = barDataService;\r\n        // ...\r\n    }\r\n    \r\n    @Override Foo getFoo(){ return fooDataService.getFoo(); }\r\n    @Override Bar getBar(){ return barDataService.getBar(); }\r\n    // A very large number of methods follow.\r\n}\r\n\r\n\r\n// Usage\r\npublic class ApiService {\r\n    // The idea was to only inject the one dataService variable instead of injecting FooService, BarService, etc.\r\n    // There&#39;s not really place where FooDataService is used but not BarDataService, except unit tests\r\n    @Inject\r\n    private final static DataService dataService;\r\n\r\n    public void doThing() {\r\n      dataService.getFoo();\r\n      dataService.getBar();\r\n    }\r\n}\r\n```\r\n\r\nThis is mostly fine since it keeps all the XDataService classes relatively small. DataServiceImpl itself used to be 2000+ lines long.\r\nBut it&#39;s getting a little tiresome.\r\n1. As we add more methods, DataServiceImpl is now 600 lines long and it&#39;s hard to find where any method is in the file. DataServiceImpl also gets merge conflicts quite frequently now as multiple devs are adding functionality to it.\r\n2. If we need to add a new method to FooDataService or change a function signature, we have to do it in 4 places, which is annoying.\r\n3. Occasionally, FooDataService would need to call a method in BarDataService, which breaks the nice separation of duty we had between the classes.\r\n\r\nIs there a better way to go about it so that we can have small, readable classes?","title":"How can I better organize my java classes to use delegation, without the tedium?","body":"<p>I have a Java project where one overwhelmingly large class had been split up into smaller classes, entirely because of readability reasons. Guice dependency injection is used.</p>\n<pre><code>public interface FooDataService { Foo getFoo(){} }\npublic class FooDataServiceImpl implements FooDataService { @Override Foo getFoo(){} }\n// Also BarDataService, BazDataService, and more\n\n\npublic interface DataService extends FooDataService, BarDataService {}\npublic class DataServiceImpl implements DataService {\n    private final FooDataService fooDataService;\n    private final BarDataService barDataService;\n    // ...\n\n    @Inject\n    public DataServiceImpl(FooDataService fooDataService, BarDataService barDataService) {\n        this.fooDataService = fooDataService;\n        this.barDataService = barDataService;\n        // ...\n    }\n    \n    @Override Foo getFoo(){ return fooDataService.getFoo(); }\n    @Override Bar getBar(){ return barDataService.getBar(); }\n    // A very large number of methods follow.\n}\n\n\n// Usage\npublic class ApiService {\n    // The idea was to only inject the one dataService variable instead of injecting FooService, BarService, etc.\n    // There's not really place where FooDataService is used but not BarDataService, except unit tests\n    @Inject\n    private final static DataService dataService;\n\n    public void doThing() {\n      dataService.getFoo();\n      dataService.getBar();\n    }\n}\n</code></pre>\n<p>This is mostly fine since it keeps all the XDataService classes relatively small. DataServiceImpl itself used to be 2000+ lines long.\nBut it's getting a little tiresome.</p>\n<ol>\n<li>As we add more methods, DataServiceImpl is now 600 lines long and it's hard to find where any method is in the file. DataServiceImpl also gets merge conflicts quite frequently now as multiple devs are adding functionality to it.</li>\n<li>If we need to add a new method to FooDataService or change a function signature, we have to do it in 4 places, which is annoying.</li>\n<li>Occasionally, FooDataService would need to call a method in BarDataService, which breaks the nice separation of duty we had between the classes.</li>\n</ol>\n<p>Is there a better way to go about it so that we can have small, readable classes?</p>\n"},{"tags":["java","methods","nullpointerexception","hashmap"],"comments":[{"owner":{"account_id":19833403,"reputation":571,"user_id":14527497,"display_name":"dangerousmanleesanghyeon"},"score":4,"creation_date":1681967622,"post_id":76060746,"comment_id":134142557,"body_markdown":"`this.movieTimes = movieTimes;` to `this.movieTimes = new HashMap&lt;String, String[]&gt;();`","body":"<code>this.movieTimes = movieTimes;</code> to <code>this.movieTimes = new HashMap&lt;String, String[]&gt;();</code>"},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1681968010,"post_id":76060746,"comment_id":134142608,"body_markdown":"Use different names for your fields and methods. `movieTimes` isn&#39;t a good name for something that adds/sets info, it sounds like a &quot;getter&quot;.","body":"Use different names for your fields and methods. <code>movieTimes</code> isn&#39;t a good name for something that adds/sets info, it sounds like a &quot;getter&quot;."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":1,"creation_date":1681968222,"post_id":76060746,"comment_id":134142632,"body_markdown":"Either initialize `movieTimes` during declaration with a new HashMap object or add an argument to your constructor as the same type that of `movieTimes`, so that one will be forced to supply the Map when the object is created.","body":"Either initialize <code>movieTimes</code> during declaration with a new HashMap object or add an argument to your constructor as the same type that of <code>movieTimes</code>, so that one will be forced to supply the Map when the object is created."}],"answers":[{"tags":[],"owner":{"account_id":28348905,"reputation":3,"user_id":21680679,"display_name":"Sercos10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681968336,"creation_date":1681968336,"answer_id":76060823,"question_id":76060746,"body_markdown":"The problem here is that when you invoke `movieSchedule athensSchedule = new movieSchedule();`, java goes to the constructor and in the constructor, the hashmap that you have equals itself if you notice, and because you didn&#39;t inicialize it, the hashmap is null. So what you need to to do is `this.movieTimes = new HashMap&lt;String, String[]&gt;();`","title":"Issue with methods, constructors, and derived classes","body":"<p>The problem here is that when you invoke <code>movieSchedule athensSchedule = new movieSchedule();</code>, java goes to the constructor and in the constructor, the hashmap that you have equals itself if you notice, and because you didn't inicialize it, the hashmap is null. So what you need to to do is <code>this.movieTimes = new HashMap&lt;String, String[]&gt;();</code></p>\n"},{"tags":[],"owner":{"account_id":14587217,"reputation":43,"user_id":10535590,"display_name":"Teletubbies"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681969678,"creation_date":1681969678,"answer_id":76060946,"question_id":76060746,"body_markdown":"Basically, Variable &#39;movieTimes&#39; is assigned to itself in the constructor. \r\n\r\nSo first, as @Arun said, pass hashmap as constructor argument\r\n\r\n```\r\npublic MovieSchedule(HashMap&lt;String, String[]&gt; movieTimes) {\r\n        this.movieTimes = movieTimes;\r\n    }\r\n```\r\n\r\n```\r\nMovieSchedule athensSchedule = new MovieSchedule(new HashMap&lt;&gt;());\r\nString[] guardiansTimes = {&quot;5:30 P.M.&quot;, &quot;7:20 P.M.&quot;, &quot;9:00 P.M.&quot;};\r\nathensSchedule.AddMovieSchedule(&quot;Guardians 4&quot;, guardiansTimes);\r\n```\r\n\r\nOR\r\n\r\ninitialise the map at the time of declaration\r\n\r\n```\r\nprivate HashMap&lt;String, String[]&gt; movieTimes = new HashMap&lt;&gt;();\r\n\r\n```\r\n\r\nOR\r\nmodify the default constructor code and add it as initialization as hashmap\r\n\r\n```\r\nprivate HashMap&lt;String, String[]&gt; movieTimes ;\r\n\r\npublic MovieSchedule() {\r\n  this.movieTimes = new HashMap&lt;&gt;();\r\n}\r\n```\r\n\r\nAlso, please note, according to naming convention, the first letter of each word should be capitalised \r\n[check oracle documentation here][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"Issue with methods, constructors, and derived classes","body":"<p>Basically, Variable 'movieTimes' is assigned to itself in the constructor.</p>\n<p>So first, as @Arun said, pass hashmap as constructor argument</p>\n<pre><code>public MovieSchedule(HashMap&lt;String, String[]&gt; movieTimes) {\n        this.movieTimes = movieTimes;\n    }\n</code></pre>\n<pre><code>MovieSchedule athensSchedule = new MovieSchedule(new HashMap&lt;&gt;());\nString[] guardiansTimes = {&quot;5:30 P.M.&quot;, &quot;7:20 P.M.&quot;, &quot;9:00 P.M.&quot;};\nathensSchedule.AddMovieSchedule(&quot;Guardians 4&quot;, guardiansTimes);\n</code></pre>\n<p>OR</p>\n<p>initialise the map at the time of declaration</p>\n<pre><code>private HashMap&lt;String, String[]&gt; movieTimes = new HashMap&lt;&gt;();\n\n</code></pre>\n<p>OR\nmodify the default constructor code and add it as initialization as hashmap</p>\n<pre><code>private HashMap&lt;String, String[]&gt; movieTimes ;\n\npublic MovieSchedule() {\n  this.movieTimes = new HashMap&lt;&gt;();\n}\n</code></pre>\n<p>Also, please note, according to naming convention, the first letter of each word should be capitalised\n<a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">check oracle documentation here</a></p>\n"}],"owner":{"account_id":28356337,"reputation":1,"user_id":21687034,"display_name":"Aryan Rath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681968743,"answer_count":2,"score":0,"last_activity_date":1681969678,"creation_date":1681967460,"question_id":76060746,"body_markdown":"I have 3 classes for a project that I am working on. The first class I have no issues with. I am deriving a class from this method. I am in turn calling a method from this derived class into my main method. Specifically, I am getting an exception in thread &quot;main&quot;, and I cannot invoke my hash map. If someone could help me, I would really appreciate it.\r\n\r\n\r\nThis is the code for the derived class:\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class movieSchedule extends movieEvent {\r\n    \r\n    \tprivate HashMap&lt;String, String[]&gt;movieTimes;\r\n    \r\n    \tpublic movieSchedule() {\r\n    \r\n    \t\tthis.movieTimes = movieTimes;\r\n    \t}\r\n    \r\n    \tpublic void AddMovieSchedule(String name, String[] times) {\r\n    \r\n    \t\tmovieTimes(name, times);\r\n    \t}\r\n    \r\n    \tprivate void movieTimes(String name, String[] times) {\r\n    \t\tmovieTimes.put(name, times);\r\n    \r\n    \t}\r\n    }\r\n\t\r\n\r\nThis is the code for the relevant parts of the main method:\r\n\r\n    movieSchedule athensSchedule = new movieSchedule();\r\n\t\t\r\n\tString[] guardiansTimes = {&quot;5:30 P.M.&quot;, &quot;7:20 P.M.&quot;, &quot;9:00 P.M.&quot;};\r\n\tathensSchedule.AddMovieSchedule(&quot;Guardians 4&quot;, guardiansTimes);\r\n\t\t\r\n\tString[] airTimes = {&quot;6:30 P.M.&quot;, &quot;8:45 P.M.&quot;, &quot;9:10 P.M.&quot;};\r\n\tathensSchedule.AddMovieSchedule(&quot;AIR&quot;, airTimes);\r\n\t\t\r\n\tString[] marioTimes = {&quot;3:30 P.M.&quot;, &quot;4:20 P.M.&quot;, &quot;5:00 P.M.&quot;};\r\n\tathensSchedule.AddMovieSchedule(&quot;Mario&quot;, marioTimes);\r\n\t\t\r\n\tString[] oppenheimerTimes = {&quot;7:30 P.M.&quot;, &quot;9:20 P.M.&quot;, &quot;10:00 P.M.&quot;};\r\n\tathensSchedule.AddMovieSchedule(&quot;Oppenheimer&quot;, oppenheimerTimes);\r\n\t\t\r\n\tString[] insidiousTimes = {&quot;9:30 P.M.&quot;, &quot;10:20 P.M.&quot;, &quot;11:00 P.M.&quot;};\r\n\tathensSchedule.AddMovieSchedule(&quot;Insidious&quot;, insidiousTimes); \r\n\r\nThis is the error I am getting:\r\n\r\n     Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.HashMap.put(Object,    Object)&quot; because &quot;this.movieTimes&quot; is null","title":"Issue with methods, constructors, and derived classes","body":"<p>I have 3 classes for a project that I am working on. The first class I have no issues with. I am deriving a class from this method. I am in turn calling a method from this derived class into my main method. Specifically, I am getting an exception in thread &quot;main&quot;, and I cannot invoke my hash map. If someone could help me, I would really appreciate it.</p>\n<p>This is the code for the derived class:</p>\n<pre><code>import java.util.HashMap;\n\npublic class movieSchedule extends movieEvent {\n\n    private HashMap&lt;String, String[]&gt;movieTimes;\n\n    public movieSchedule() {\n\n        this.movieTimes = movieTimes;\n    }\n\n    public void AddMovieSchedule(String name, String[] times) {\n\n        movieTimes(name, times);\n    }\n\n    private void movieTimes(String name, String[] times) {\n        movieTimes.put(name, times);\n\n    }\n}\n</code></pre>\n<p>This is the code for the relevant parts of the main method:</p>\n<pre><code>movieSchedule athensSchedule = new movieSchedule();\n    \nString[] guardiansTimes = {&quot;5:30 P.M.&quot;, &quot;7:20 P.M.&quot;, &quot;9:00 P.M.&quot;};\nathensSchedule.AddMovieSchedule(&quot;Guardians 4&quot;, guardiansTimes);\n    \nString[] airTimes = {&quot;6:30 P.M.&quot;, &quot;8:45 P.M.&quot;, &quot;9:10 P.M.&quot;};\nathensSchedule.AddMovieSchedule(&quot;AIR&quot;, airTimes);\n    \nString[] marioTimes = {&quot;3:30 P.M.&quot;, &quot;4:20 P.M.&quot;, &quot;5:00 P.M.&quot;};\nathensSchedule.AddMovieSchedule(&quot;Mario&quot;, marioTimes);\n    \nString[] oppenheimerTimes = {&quot;7:30 P.M.&quot;, &quot;9:20 P.M.&quot;, &quot;10:00 P.M.&quot;};\nathensSchedule.AddMovieSchedule(&quot;Oppenheimer&quot;, oppenheimerTimes);\n    \nString[] insidiousTimes = {&quot;9:30 P.M.&quot;, &quot;10:20 P.M.&quot;, &quot;11:00 P.M.&quot;};\nathensSchedule.AddMovieSchedule(&quot;Insidious&quot;, insidiousTimes); \n</code></pre>\n<p>This is the error I am getting:</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.HashMap.put(Object,    Object)&quot; because &quot;this.movieTimes&quot; is null\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":557894,"reputation":8752,"user_id":920511,"display_name":"Knickedi"},"score":0,"creation_date":1316649101,"post_id":7508002,"comment_id":9092066,"body_markdown":"Logcat output would be helpful","body":"Logcat output would be helpful"}],"answers":[{"tags":[],"owner":{"account_id":322638,"reputation":30068,"user_id":642161,"accept_rate":64,"display_name":"dmon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681969614,"creation_date":1316649142,"answer_id":7508028,"question_id":7508002,"body_markdown":"I bet it&#39;s because you haven&#39;t set the permissions in the AndroidManifest.xml. See [here][1]. However, remember that it helps a ton if you post the actual exception message you are getting.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20200312112904/http://www.tutorialforandroid.com/2009/05/permissions-journey-accesswifistate.html","title":"program closed unexpected when i try getConnectionInfo","body":"<p>I bet it's because you haven't set the permissions in the AndroidManifest.xml. See <a href=\"https://web.archive.org/web/20200312112904/http://www.tutorialforandroid.com/2009/05/permissions-journey-accesswifistate.html\" rel=\"nofollow noreferrer\">here</a>. However, remember that it helps a ton if you post the actual exception message you are getting.</p>\n"},{"tags":[],"owner":{"account_id":213107,"reputation":3608,"user_id":466319,"accept_rate":57,"display_name":"mmeyer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1316649371,"creation_date":1316649371,"answer_id":7508061,"question_id":7508002,"body_markdown":"Not certain if it&#39;s supported on emmulator but on a real device I think you would need to have the following permission in your manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n\r\nIf you were to look at the logcat output for errors when it closes you should see something to the effect of not having a permission...or maybe some other tidbit of info that would help others provide you some guidance.  See: http://developer.android.com/guide/developing/tools/adb.html#logcat\r\n\r\n\r\n","title":"program closed unexpected when i try getConnectionInfo","body":"<p>Not certain if it's supported on emmulator but on a real device I think you would need to have the following permission in your manifest:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"&gt;&lt;/uses-permission&gt;\n</code></pre>\n\n<p>If you were to look at the logcat output for errors when it closes you should see something to the effect of not having a permission...or maybe some other tidbit of info that would help others provide you some guidance.  See: <a href=\"http://developer.android.com/guide/developing/tools/adb.html#logcat\" rel=\"nofollow\">http://developer.android.com/guide/developing/tools/adb.html#logcat</a></p>\n"}],"owner":{"account_id":144283,"reputation":26766,"user_id":353217,"accept_rate":84,"display_name":"Saad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1432,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7508061,"answer_count":2,"score":2,"last_activity_date":1681969614,"creation_date":1316648851,"question_id":7508002,"body_markdown":"I&#39;m in the process of learning the android api. However, when I try to get info about wifi my program is closing unexpectedly:\r\n\r\nhere is the code: \r\n\r\n    package com.example.helloandroid;    \r\n    \r\n    import java.util.List;\r\n    \r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.net.wifi.WifiConfiguration;\r\n    import android.net.wifi.WifiInfo;\r\n    import android.net.wifi.WifiManager;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    \r\n    public class HelloAndroid extends Activity {\r\n        /** Called when the activity is first created. */\r\n    \t\r\n        WifiManager wifi;\r\n    \tBroadcastReceiver receiver;\r\n    \t\r\n    \tTextView textStatus;\r\n    \tButton buttonScan;\r\n    \t\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            TextView tv = new TextView(this);\r\n            tv.setText(&quot;Hello, Android&quot;);\r\n            setContentView(tv);\r\n            \r\n            wifi = (WifiManager)getSystemService(Context.WIFI_SERVICE);\r\n         //   WifiInfo info = wifi.getConnectionInfo();\r\n           // tv.append(&quot;\\n\\nWiFi Status: &quot; + info.toString());\r\n            \r\n        }\r\n    }\r\n\r\nThe code above runs, but as soon as I uncomment the line:\r\n `WifiInfo info = wifi.getConnectionInfo();`\r\n\r\nIt says that my program has closed unexpectedly. I&#39;m not sure what I&#39;m doing wrong. Any help would be appreciated.\r\n\r\nI am using the simulator.\r\n\r\nThanks\r\n\r\nUPDATE: if I write out the wifi obj:\r\n\r\n    wifi = (WifiManager)getSystemService(Context.WIFI_SERVICE);\r\n    tv.append(wifi.toString());\r\n\r\nthe app run and tv says:\r\n\r\n    android.net.wifi.\r\n    WifiManager@4051c960\r\n\r\nUPDATE:\r\nLogCat:\r\n\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408): FATAL EXCEPTION: main\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.helloandroid/com.example.helloandroid.HelloAndroid}: java.lang.SecurityException: WifiService: Neither user 10034 nor current process has android.permission.ACCESS_WIFI_STATE.\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.os.Looper.loop(Looper.java:123)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread.main(ActivityThread.java:3683)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at java.lang.reflect.Method.invokeNative(Native Method)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at java.lang.reflect.Method.invoke(Method.java:507)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at dalvik.system.NativeStart.main(Native Method)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408): Caused by: java.lang.SecurityException: WifiService: Neither user 10034 nor current process has android.permission.ACCESS_WIFI_STATE.\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.os.Parcel.readException(Parcel.java:1322)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.os.Parcel.readException(Parcel.java:1276)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.net.wifi.IWifiManager$Stub$Proxy.getConnectionInfo(IWifiManager.java:591)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.net.wifi.WifiManager.getConnectionInfo(WifiManager.java:605)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at com.example.helloandroid.HelloAndroid.onCreate(HelloAndroid.java:35)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)\r\n    09-22 14:56:51.387: ERROR/AndroidRuntime(408):     ... 11 more\r\n\r\n","title":"program closed unexpected when i try getConnectionInfo","body":"<p>I'm in the process of learning the android api. However, when I try to get info about wifi my program is closing unexpectedly:</p>\n\n<p>here is the code: </p>\n\n<pre><code>package com.example.helloandroid;    \n\nimport java.util.List;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.net.wifi.WifiConfiguration;\nimport android.net.wifi.WifiInfo;\nimport android.net.wifi.WifiManager;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\n\npublic class HelloAndroid extends Activity {\n    /** Called when the activity is first created. */\n\n    WifiManager wifi;\n    BroadcastReceiver receiver;\n\n    TextView textStatus;\n    Button buttonScan;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        TextView tv = new TextView(this);\n        tv.setText(\"Hello, Android\");\n        setContentView(tv);\n\n        wifi = (WifiManager)getSystemService(Context.WIFI_SERVICE);\n     //   WifiInfo info = wifi.getConnectionInfo();\n       // tv.append(\"\\n\\nWiFi Status: \" + info.toString());\n\n    }\n}\n</code></pre>\n\n<p>The code above runs, but as soon as I uncomment the line:\n <code>WifiInfo info = wifi.getConnectionInfo();</code></p>\n\n<p>It says that my program has closed unexpectedly. I'm not sure what I'm doing wrong. Any help would be appreciated.</p>\n\n<p>I am using the simulator.</p>\n\n<p>Thanks</p>\n\n<p>UPDATE: if I write out the wifi obj:</p>\n\n<pre><code>wifi = (WifiManager)getSystemService(Context.WIFI_SERVICE);\ntv.append(wifi.toString());\n</code></pre>\n\n<p>the app run and tv says:</p>\n\n<pre><code>android.net.wifi.\nWifiManager@4051c960\n</code></pre>\n\n<p>UPDATE:\nLogCat:</p>\n\n<pre><code>09-22 14:56:51.387: ERROR/AndroidRuntime(408): FATAL EXCEPTION: main\n09-22 14:56:51.387: ERROR/AndroidRuntime(408): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.helloandroid/com.example.helloandroid.HelloAndroid}: java.lang.SecurityException: WifiService: Neither user 10034 nor current process has android.permission.ACCESS_WIFI_STATE.\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.os.Handler.dispatchMessage(Handler.java:99)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.os.Looper.loop(Looper.java:123)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread.main(ActivityThread.java:3683)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at java.lang.reflect.Method.invokeNative(Native Method)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at java.lang.reflect.Method.invoke(Method.java:507)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at dalvik.system.NativeStart.main(Native Method)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408): Caused by: java.lang.SecurityException: WifiService: Neither user 10034 nor current process has android.permission.ACCESS_WIFI_STATE.\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.os.Parcel.readException(Parcel.java:1322)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.os.Parcel.readException(Parcel.java:1276)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.net.wifi.IWifiManager$Stub$Proxy.getConnectionInfo(IWifiManager.java:591)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.net.wifi.WifiManager.getConnectionInfo(WifiManager.java:605)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at com.example.helloandroid.HelloAndroid.onCreate(HelloAndroid.java:35)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)\n09-22 14:56:51.387: ERROR/AndroidRuntime(408):     ... 11 more\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":389692,"reputation":39228,"user_id":749284,"accept_rate":100,"display_name":"mah"},"score":3,"creation_date":1320072351,"post_id":7955272,"comment_id":9724450,"body_markdown":"You need to include, at a minimum, the stack dump that accompanies your force close. You should also include the relevant code it refers to. Without at least that level of info, instead of posting on stackoverflow you might consider posting on crystalball.","body":"You need to include, at a minimum, the stack dump that accompanies your force close. You should also include the relevant code it refers to. Without at least that level of info, instead of posting on stackoverflow you might consider posting on crystalball."},{"owner":{"account_id":949008,"reputation":15,"user_id":975588,"accept_rate":100,"display_name":"smithseanp16"},"score":0,"creation_date":1320077336,"post_id":7955272,"comment_id":9725843,"body_markdown":"I am trying to use the ARCA application to get my crash into a spreadsheet on my google docs, is there a way that would be better for you?","body":"I am trying to use the ARCA application to get my crash into a spreadsheet on my google docs, is there a way that would be better for you?"}],"answers":[{"tags":[],"owner":{"account_id":26457,"reputation":33684,"user_id":68805,"display_name":"Reno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681968776,"creation_date":1320129819,"answer_id":7963272,"question_id":7955272,"body_markdown":"I bet your manifest has this `&lt;receiver android:name=&quot;first.Package.localactivity&quot;&gt;`\r\n\r\nBut it actually does not exist. You might have spelt something wrong. \r\n\r\nThe problem is that you have and activity `&lt;activity android:name=&quot;.localactivity&quot;` and a broadcast receiver `&lt;receiver android:name=&quot;.localactivity&quot;&gt;` with the same name. \r\nThe `android:name` tag is used to identify the java file containing the Broadcast receiver. \r\n\r\nFollow [this tutorial][1] \r\n\r\n----\r\n\r\nFor your other question in the comments [refer to this][2] \r\n\r\n\r\n  [1]: https://web.archive.org/web/20210127130519/http://www.tutorialforandroid.com/2009/01/get-phone-state-when-someone-is-calling_22.html\r\n  [2]: https://stackoverflow.com/questions/4854807/broadcastreceiver-as-inner-class","title":"Android Force Close after initiating dial in a program","body":"<p>I bet your manifest has this <code>&lt;receiver android:name=&quot;first.Package.localactivity&quot;&gt;</code></p>\n<p>But it actually does not exist. You might have spelt something wrong.</p>\n<p>The problem is that you have and activity <code>&lt;activity android:name=&quot;.localactivity&quot;</code> and a broadcast receiver <code>&lt;receiver android:name=&quot;.localactivity&quot;&gt;</code> with the same name.\nThe <code>android:name</code> tag is used to identify the java file containing the Broadcast receiver.</p>\n<p>Follow <a href=\"https://web.archive.org/web/20210127130519/http://www.tutorialforandroid.com/2009/01/get-phone-state-when-someone-is-calling_22.html\" rel=\"nofollow noreferrer\">this tutorial</a></p>\n<hr />\n<p>For your other question in the comments <a href=\"https://stackoverflow.com/questions/4854807/broadcastreceiver-as-inner-class\">refer to this</a></p>\n"}],"owner":{"account_id":949008,"reputation":15,"user_id":975588,"accept_rate":100,"display_name":"smithseanp16"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":7963272,"answer_count":1,"score":-1,"last_activity_date":1681968776,"creation_date":1320072189,"question_id":7955272,"body_markdown":"Hi everyone I am creating an android program where I am to make a phone call from a list of numbers in an array.  Depending on the button click it will select the appropriate array.  I can make the phone dial however my program force closes.  This is bad because I need a dialog box to pop up afterwards (that portion of which I have completed but with no way to tell)  I increments inside of the method for the dialog box, I can post it if you guys ned it.  Here is what I have:\r\n\r\n      public class ServiceReceiver extends BroadcastReceiver {\r\n\t  public void onReceive(Context context, Intent intent) {\r\n\t    MyPhoneStateListener phoneListener=new MyPhoneStateListener();\r\n\t    TelephonyManager telephony = (TelephonyManager) \r\n\t    context.getSystemService(Context.TELEPHONY_SERVICE);\r\n\t    telephony.listen(phoneListener,PhoneStateListener.LISTEN_CALL_STATE);\r\n\t  }\r\n\t}\r\n    public class MyPhoneStateListener extends PhoneStateListener {\r\n\t  public void onCallStateChanged(int state,String incomingNumber){\r\n\t\t  boolean mCall=false;\r\n\t  switch(state){\r\n\t    case TelephonyManager.CALL_STATE_IDLE:\r\n\t      Log.d(&quot;DEBUG&quot;, &quot;IDLE&quot;);\r\n\t      if(mCall)\r\n          {\r\n            mCall=false; //Reverting the flag, indicating you are aware that there was call\r\n            // Here do the rest of your operation you want\r\n            showAlert();\r\n          }\r\n\t    break;\r\n\t    case TelephonyManager.CALL_STATE_OFFHOOK:\r\n\t      Log.d(&quot;DEBUG&quot;, &quot;OFFHOOK&quot;);\r\n\t      mCall=true;\r\n\t    break;\r\n\t    case TelephonyManager.CALL_STATE_RINGING:\r\n\t      Log.d(&quot;DEBUG&quot;, &quot;RINGING&quot;);\r\n\t      mCall=true;\r\n\t    break;\r\n\t    }\r\n\t  } \r\n\t}\r\n     public void showAlert(){\r\n\t\t  new AlertDialog.Builder( this )\r\n\t         .setTitle( &quot;Was This Call Sucessful?&quot; )\r\n\t         .setMessage( &quot;Did you get through and is help on the way?&quot; )\r\n\t         .setPositiveButton( &quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n\t             public void onClick(DialogInterface dialog, int which) {\r\n\t                 Log.d(&quot;AlertDialog&quot;, &quot;Positive&quot;);\r\n\t            \t startActivity(new Intent(&quot;first.Package.HaitiDisasterPhoneAppActivity&quot;));\r\n\t             }  })\r\n\t         .setNegativeButton( &quot;No&quot;, new DialogInterface.OnClickListener() {\r\n\t             public void onClick(DialogInterface dialog, int which) {\r\n\t                 Log.d(&quot;AlertDialog&quot;,&quot;Negative&quot;);\r\n\t                 i++;\r\n\t                 sequence();\r\n\t             } })\r\n\t         .show();\r\n\t\t  }\r\n\r\nI took the code that you gave and replaced the one I had in the manifest before.  I can post it again if you think it would help!","title":"Android Force Close after initiating dial in a program","body":"<p>Hi everyone I am creating an android program where I am to make a phone call from a list of numbers in an array.  Depending on the button click it will select the appropriate array.  I can make the phone dial however my program force closes.  This is bad because I need a dialog box to pop up afterwards (that portion of which I have completed but with no way to tell)  I increments inside of the method for the dialog box, I can post it if you guys ned it.  Here is what I have:</p>\n\n<pre><code>  public class ServiceReceiver extends BroadcastReceiver {\n  public void onReceive(Context context, Intent intent) {\n    MyPhoneStateListener phoneListener=new MyPhoneStateListener();\n    TelephonyManager telephony = (TelephonyManager) \n    context.getSystemService(Context.TELEPHONY_SERVICE);\n    telephony.listen(phoneListener,PhoneStateListener.LISTEN_CALL_STATE);\n  }\n}\npublic class MyPhoneStateListener extends PhoneStateListener {\n  public void onCallStateChanged(int state,String incomingNumber){\n      boolean mCall=false;\n  switch(state){\n    case TelephonyManager.CALL_STATE_IDLE:\n      Log.d(\"DEBUG\", \"IDLE\");\n      if(mCall)\n      {\n        mCall=false; //Reverting the flag, indicating you are aware that there was call\n        // Here do the rest of your operation you want\n        showAlert();\n      }\n    break;\n    case TelephonyManager.CALL_STATE_OFFHOOK:\n      Log.d(\"DEBUG\", \"OFFHOOK\");\n      mCall=true;\n    break;\n    case TelephonyManager.CALL_STATE_RINGING:\n      Log.d(\"DEBUG\", \"RINGING\");\n      mCall=true;\n    break;\n    }\n  } \n}\n public void showAlert(){\n      new AlertDialog.Builder( this )\n         .setTitle( \"Was This Call Sucessful?\" )\n         .setMessage( \"Did you get through and is help on the way?\" )\n         .setPositiveButton( \"Yes\", new DialogInterface.OnClickListener() {\n             public void onClick(DialogInterface dialog, int which) {\n                 Log.d(\"AlertDialog\", \"Positive\");\n                 startActivity(new Intent(\"first.Package.HaitiDisasterPhoneAppActivity\"));\n             }  })\n         .setNegativeButton( \"No\", new DialogInterface.OnClickListener() {\n             public void onClick(DialogInterface dialog, int which) {\n                 Log.d(\"AlertDialog\",\"Negative\");\n                 i++;\n                 sequence();\n             } })\n         .show();\n      }\n</code></pre>\n\n<p>I took the code that you gave and replaced the one I had in the manifest before.  I can post it again if you think it would help!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682007358,"post_id":76060477,"comment_id":134151639,"body_markdown":"Hello, with the query you will get a list of object arrays. List &lt;Object []&gt; You can iterate over the list and get stateCode from the array element 0 and stateName from the element 1.","body":"Hello, with the query you will get a list of object arrays. List &lt;Object []&gt; You can iterate over the list and get stateCode from the array element 0 and stateName from the element 1."}],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681965939,"creation_date":1681965939,"answer_id":76060639,"question_id":76060477,"body_markdown":"Can you try this please?\r\n\r\n    @Repository\r\n    public interface CityRepository extends JpaRepository&lt;City, Long&gt; {\r\n\r\n    List&lt;City&gt; findAll();\r\n\r\n    default Map&lt;String, String&gt; findAllMap() {\r\n        return findAll().stream()\r\n        .collect(Collectors.toMap(City::getStateCode, City::getStateName));\r\n       }\r\n    }\r\n  \r\n\r\nReference from: https://stackoverflow.com/a/51184124/10277150","title":"Fetching 2 column records from database and store them in hashmap using JPA/Hibernate","body":"<p>Can you try this please?</p>\n<pre><code>@Repository\npublic interface CityRepository extends JpaRepository&lt;City, Long&gt; {\n\nList&lt;City&gt; findAll();\n\ndefault Map&lt;String, String&gt; findAllMap() {\n    return findAll().stream()\n    .collect(Collectors.toMap(City::getStateCode, City::getStateName));\n   }\n}\n</code></pre>\n<p>Reference from: <a href=\"https://stackoverflow.com/a/51184124/10277150\">https://stackoverflow.com/a/51184124/10277150</a></p>\n"}],"owner":{"account_id":18452701,"reputation":1,"user_id":13442368,"display_name":"Ajanmcr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681968225,"creation_date":1681963251,"question_id":76060477,"body_markdown":"There is one table called City.\r\nCity tables has id, city_name, state_code and state_name.\r\nI want to retrieve state_code and state_name. But don&#39;t want to use \r\n&quot;select c from City c&quot;. I just want those two column from the table.\r\n\r\nIs it possible to use Hashmap in this situation? Or is there any other possible way?\r\n\r\nI have tried using class based projection but there is only one use of that projection and no where else its being used. So I&#39;m feeling that it will effect the performance in some way.\r\n\r\n\r\nThe catch is I want to avoid findAll(). \r\n\r\n    @Query(select c.stateCode, c.stateName from City c)\r\n\r\n    //Here I want to try to return stateCode and stateName\r\n\r\n ","title":"Fetching 2 column records from database and store them in hashmap using JPA/Hibernate","body":"<p>There is one table called City.\nCity tables has id, city_name, state_code and state_name.\nI want to retrieve state_code and state_name. But don't want to use\n&quot;select c from City c&quot;. I just want those two column from the table.</p>\n<p>Is it possible to use Hashmap in this situation? Or is there any other possible way?</p>\n<p>I have tried using class based projection but there is only one use of that projection and no where else its being used. So I'm feeling that it will effect the performance in some way.</p>\n<p>The catch is I want to avoid findAll().</p>\n<pre><code>@Query(select c.stateCode, c.stateName from City c)\n\n//Here I want to try to return stateCode and stateName\n</code></pre>\n"},{"tags":["java","android","java-io","android-file"],"answers":[{"tags":[],"owner":{"account_id":117449,"reputation":10572,"user_id":307585,"accept_rate":78,"display_name":"Sujit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681967999,"creation_date":1326175050,"answer_id":8799155,"question_id":8799113,"body_markdown":"You Should use **Handler** for this so when all files gets deleted it will send message to handler to the next task that you want to perform . \r\n\r\nsee [this link][1] for the handler.\r\n\r\n\r\n\r\n\r\n  [1]: https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html\r\n\r\n","title":"Deleting files in Android","body":"<p>You Should use <strong>Handler</strong> for this so when all files gets deleted it will send message to handler to the next task that you want to perform .</p>\n<p>see <a href=\"https://web.archive.org/web/20200810154212/http://www.tutorialforandroid.com/2009/01/using-handler-in-android.html\" rel=\"nofollow noreferrer\">this link</a> for the handler.</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1326175160,"creation_date":1326175160,"answer_id":8799172,"question_id":8799113,"body_markdown":"You should not run this on the UI thread. If the file deletion takes too long, the system will pop up an &quot;Application Not Responding&quot; error. You can do this with an [AsyncTask][1]. The documentation shows a simple way to use this to pop up a &quot;please wait&quot; dialog, do the time-consuming work in the background, and then dismiss the dialog.\r\n\r\nP.S. Your method name is kind of scary! :)\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/AsyncTask.html","title":"Deleting files in Android","body":"<p>You should not run this on the UI thread. If the file deletion takes too long, the system will pop up an \"Application Not Responding\" error. You can do this with an <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"noreferrer\">AsyncTask</a>. The documentation shows a simple way to use this to pop up a \"please wait\" dialog, do the time-consuming work in the background, and then dismiss the dialog.</p>\n\n<p>P.S. Your method name is kind of scary! :)</p>\n"},{"tags":[],"owner":{"account_id":1147046,"reputation":24,"user_id":1129563,"display_name":"Naveed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326177668,"creation_date":1326177668,"answer_id":8799522,"question_id":8799113,"body_markdown":"    public static void DeleteRecursive(String filename) {\r\n\t\tFile file = new File(filename);\r\n\t\tif (!file.exists())\r\n\t\t\treturn;\r\n\t\tif (!file.isDirectory()) {\r\n\t\t\tfile.delete();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tString[] files = file.list();\r\n\t\tfor (int i = 0; i &lt; files.length; i++) {\r\n\r\n\t\t\tDeleteRecursive(filename + &quot;/&quot; + files[i]);\r\n\t\t}\r\n\t\tfile.delete();\r\n\t}","title":"Deleting files in Android","body":"<pre><code>public static void DeleteRecursive(String filename) {\n    File file = new File(filename);\n    if (!file.exists())\n        return;\n    if (!file.isDirectory()) {\n        file.delete();\n        return;\n    }\n\n    String[] files = file.list();\n    for (int i = 0; i &lt; files.length; i++) {\n\n        DeleteRecursive(filename + \"/\" + files[i]);\n    }\n    file.delete();\n}\n</code></pre>\n"}],"owner":{"account_id":430452,"reputation":269,"user_id":813895,"accept_rate":58,"display_name":"Fresher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9720,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":8799172,"answer_count":3,"score":5,"last_activity_date":1681967999,"creation_date":1326174718,"question_id":8799113,"body_markdown":"I have a directory that contains a lot of files. I want to delete the entire directory as well as all the files in it.\r\n\r\nI want my code to wait until every File in that directory (including the directory itself) is deleted before the next command is executed.\r\n\r\nHow do i wait?\r\nMy code is \r\n\r\n    public void wipeMemoryCard() \r\n    \t{\r\n            File deleteMatchingFile = new File(Environment \r\n                    .getExternalStorageDirectory().toString()); \r\n            try { \r\n                filenames = deleteMatchingFile.listFiles(); \r\n                if (filenames != null &amp;&amp; filenames.length &gt; 0) \r\n                { \r\n                \tcontent = true;\r\n                    for (File tempFile : filenames) \r\n                    { \r\n                        if (tempFile.isDirectory()) \r\n                        { \r\n                            wipeDirectory(tempFile.toString()); \r\n                            tempFile.delete();\r\n                            \r\n                        } \r\n                        else \r\n                        {                    \t\r\n                        \tFile file = new File(tempFile.getAbsolutePath()); \r\n                        \tfile.delete(); \r\n                        } \r\n                    } \r\n                } \r\n                else \r\n                {   \r\n                \t\r\n                    deleteMatchingFile.delete(); \r\n                    Toast(&quot;No files to Delete&quot;);\r\n                } \r\n            } \r\n            \r\n            catch (Exception e) \r\n            { \r\n               e.printStackTrace();\r\n            }\r\n            if(content == true)\r\n            {\r\n            \t  if (filenames == null &amp;&amp; filenames.length == 0) \r\n            \t  {\r\n            \t\t  Toast(&quot;Files Deleted&quot;);\r\n            \t  }\r\n            }\r\n        } \r\n     \r\n        private static void wipeDirectory(String name) { \r\n            File directoryFile = new File(name); \r\n            File[] filenames = directoryFile.listFiles(); \r\n            if (filenames != null &amp;&amp; filenames.length &gt; 0) \r\n            { \r\n                for (File tempFile : filenames) \r\n                { \r\n                    if (tempFile.isDirectory()) \r\n                    { \r\n                        wipeDirectory(tempFile.toString()); \r\n                        tempFile.delete(); \r\n                    }\r\n                    else \r\n                    { \r\n                    \tFile file = new File(tempFile.getAbsolutePath()); \r\n                    \tfile.delete();  \r\n                    } \r\n                } \r\n            } else \r\n            { \r\n                directoryFile.delete(); \r\n            } \r\n        } \r\n\r\n","title":"Deleting files in Android","body":"<p>I have a directory that contains a lot of files. I want to delete the entire directory as well as all the files in it.</p>\n\n<p>I want my code to wait until every File in that directory (including the directory itself) is deleted before the next command is executed.</p>\n\n<p>How do i wait?\nMy code is </p>\n\n<pre><code>public void wipeMemoryCard() \n    {\n        File deleteMatchingFile = new File(Environment \n                .getExternalStorageDirectory().toString()); \n        try { \n            filenames = deleteMatchingFile.listFiles(); \n            if (filenames != null &amp;&amp; filenames.length &gt; 0) \n            { \n                content = true;\n                for (File tempFile : filenames) \n                { \n                    if (tempFile.isDirectory()) \n                    { \n                        wipeDirectory(tempFile.toString()); \n                        tempFile.delete();\n\n                    } \n                    else \n                    {                       \n                        File file = new File(tempFile.getAbsolutePath()); \n                        file.delete(); \n                    } \n                } \n            } \n            else \n            {   \n\n                deleteMatchingFile.delete(); \n                Toast(\"No files to Delete\");\n            } \n        } \n\n        catch (Exception e) \n        { \n           e.printStackTrace();\n        }\n        if(content == true)\n        {\n              if (filenames == null &amp;&amp; filenames.length == 0) \n              {\n                  Toast(\"Files Deleted\");\n              }\n        }\n    } \n\n    private static void wipeDirectory(String name) { \n        File directoryFile = new File(name); \n        File[] filenames = directoryFile.listFiles(); \n        if (filenames != null &amp;&amp; filenames.length &gt; 0) \n        { \n            for (File tempFile : filenames) \n            { \n                if (tempFile.isDirectory()) \n                { \n                    wipeDirectory(tempFile.toString()); \n                    tempFile.delete(); \n                }\n                else \n                { \n                    File file = new File(tempFile.getAbsolutePath()); \n                    file.delete();  \n                } \n            } \n        } else \n        { \n            directoryFile.delete(); \n        } \n    } \n</code></pre>\n"},{"tags":["java","oracle","logging","deployment","weblogic"],"answers":[{"tags":[],"owner":{"account_id":2392858,"reputation":6207,"user_id":2092358,"display_name":"Display Name is missing"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1409846825,"creation_date":1409846825,"answer_id":25670204,"question_id":25657341,"body_markdown":"There are two potential locations (the one you mentioned is the default):\r\n\r\n    - &lt;domain home&gt;/servers/&lt;server_name&gt;/logs\r\n    - Admin Console-&gt;Servers-&gt;Server Name-&gt;Logging tab-&gt;Log file name\r\n\r\nIf you&#39;re not seeing the debug/stack traces you expect, you should use the `Advanced` section on the Logging tab and turn up the `Severity Level` for the log file and standard out.\r\n\r\nYou can also set `Redirect stdout logging enabled` and `Redirect stderr logging enabled` to ensure everything you expect gets to the log file.\r\n\r\nThat said, the application you are running could be using it&#39;s own logging location and ignore everything above.","title":"Where to find the application log that deployed on weblogic server 10.3.5?","body":"<p>There are two potential locations (the one you mentioned is the default):</p>\n\n<pre><code>- &lt;domain home&gt;/servers/&lt;server_name&gt;/logs\n- Admin Console-&gt;Servers-&gt;Server Name-&gt;Logging tab-&gt;Log file name\n</code></pre>\n\n<p>If you're not seeing the debug/stack traces you expect, you should use the <code>Advanced</code> section on the Logging tab and turn up the <code>Severity Level</code> for the log file and standard out.</p>\n\n<p>You can also set <code>Redirect stdout logging enabled</code> and <code>Redirect stderr logging enabled</code> to ensure everything you expect gets to the log file.</p>\n\n<p>That said, the application you are running could be using it's own logging location and ignore everything above.</p>\n"},{"tags":[],"owner":{"account_id":1228379,"reputation":56,"user_id":1193485,"display_name":"Bistro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410803205,"creation_date":1410803205,"answer_id":25853821,"question_id":25657341,"body_markdown":"I agree with @castling. I found these 2 answers that may help.\r\n\r\n[Weblogic Logging Start Script][1]\r\n\r\n\r\n[Weblogic Enabling Redirect through Admin Console][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8112581/how-to-make-weblogic-log-all-console-message-into-a-file\r\n  [2]: http://myfusionlearnings.blogspot.com/2013/03/enable-logging-in-weblogic-to-print.html","title":"Where to find the application log that deployed on weblogic server 10.3.5?","body":"<p>I agree with @castling. I found these 2 answers that may help.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8112581/how-to-make-weblogic-log-all-console-message-into-a-file\">Weblogic Logging Start Script</a></p>\n\n<p><a href=\"http://myfusionlearnings.blogspot.com/2013/03/enable-logging-in-weblogic-to-print.html\" rel=\"nofollow noreferrer\">Weblogic Enabling Redirect through Admin Console</a></p>\n"},{"tags":[],"owner":{"account_id":315862,"reputation":2972,"user_id":2279170,"accept_rate":80,"display_name":"Jeevi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498570384,"creation_date":1498570384,"answer_id":44781662,"question_id":25657341,"body_markdown":"Default weblogic domain will be under &quot;.jdeveloper/system&quot; folder in your home..  Under System folder, navigate to &quot;DefaultDomain/servers/DefaultServer/logs&quot;\r\n\r\n\r\nEg: \r\n/home/myuser/.jdeveloper/system12.2.1.0.42.151011.0031/DefaultDomain/servers/DefaultServer/logs\r\n\r\n","title":"Where to find the application log that deployed on weblogic server 10.3.5?","body":"<p>Default weblogic domain will be under \".jdeveloper/system\" folder in your home..  Under System folder, navigate to \"DefaultDomain/servers/DefaultServer/logs\"</p>\n\n<p>Eg: \n/home/myuser/.jdeveloper/system12.2.1.0.42.151011.0031/DefaultDomain/servers/DefaultServer/logs</p>\n"},{"tags":[],"owner":{"account_id":22103504,"reputation":1,"user_id":16359588,"display_name":"Apk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681967710,"creation_date":1681967710,"answer_id":76060766,"question_id":25657341,"body_markdown":"Open your startweblogic.cmd and add these properties. Make sure you give the path correctly..[Check the below image for details][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d6vIH.png","title":"Where to find the application log that deployed on weblogic server 10.3.5?","body":"<p>Open your startweblogic.cmd and add these properties. Make sure you give the path correctly..<a href=\"https://i.stack.imgur.com/d6vIH.png\" rel=\"nofollow noreferrer\">Check the below image for details</a></p>\n"}],"owner":{"account_id":3653292,"reputation":1236,"user_id":3044904,"accept_rate":61,"display_name":"Salman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27424,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1681967710,"creation_date":1409805149,"question_id":25657341,"body_markdown":"I am able to find the whole sever log under the path\r\n\r\n `....\\Oracle\\WLS\\user_projects\\domains\\[domain name goes here]\\servers\\[Server name goes here]\\logs`\r\n\r\n\r\nBut the problem that I it does not contains all the stack that I usually see in `Jdeveloper` console at the development time.\r\n \r\nSo, Where to find the stack or logs for the application not the whole sever exactly like `Jdeveloper` console where every thing is shown even the print statements (`System.out.print()`) ?","title":"Where to find the application log that deployed on weblogic server 10.3.5?","body":"<p>I am able to find the whole sever log under the path</p>\n\n<p><code>....\\Oracle\\WLS\\user_projects\\domains\\[domain name goes here]\\servers\\[Server name goes here]\\logs</code></p>\n\n<p>But the problem that I it does not contains all the stack that I usually see in <code>Jdeveloper</code> console at the development time.</p>\n\n<p>So, Where to find the stack or logs for the application not the whole sever exactly like <code>Jdeveloper</code> console where every thing is shown even the print statements (<code>System.out.print()</code>) ?</p>\n"},{"tags":["java","android","sqlite","bitmap","inputstream"],"answers":[{"tags":[],"owner":{"account_id":1307035,"reputation":2451,"user_id":1255810,"accept_rate":84,"display_name":"Araw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681966250,"creation_date":1332184735,"answer_id":9776458,"question_id":9776310,"body_markdown":"If you want to store images into a database you can store them as a BLOB-value.\r\nTake a look here for that part: https://web.archive.org/web/20200718180158/http://www.tutorialforandroid.com/2009/10/how-to-insert-image-data-to-sqlite.html","title":"downloading mulitple images from a website and saving them in sqlite","body":"<p>If you want to store images into a database you can store them as a BLOB-value.\nTake a look here for that part: <a href=\"https://web.archive.org/web/20200718180158/http://www.tutorialforandroid.com/2009/10/how-to-insert-image-data-to-sqlite.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20200718180158/http://www.tutorialforandroid.com/2009/10/how-to-insert-image-data-to-sqlite.html</a></p>\n"}],"owner":{"account_id":1336759,"reputation":572,"user_id":1279324,"accept_rate":89,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9776458,"answer_count":1,"score":1,"last_activity_date":1681966250,"creation_date":1332183965,"question_id":9776310,"body_markdown":"I am working on a app where I would like to download images from a website and then save those images into a sqlite database. I tried already to find some good tutorials and the only thing that came close to what I would like to do, is a article by Tim Bray. \r\n\r\nhttp://android-developers.blogspot.de/2010/07/multithreading-for-performance.html\r\n\r\nThe code is really nice however it does not account for saving each single image. Bitmap unfortunatley (as far as I understand) does not distinguish between each image.\r\n\r\nI would like to ask if anybody could give me some pointers or even better has source code for such a problem.","title":"downloading mulitple images from a website and saving them in sqlite","body":"<p>I am working on a app where I would like to download images from a website and then save those images into a sqlite database. I tried already to find some good tutorials and the only thing that came close to what I would like to do, is a article by Tim Bray. </p>\n\n<p><a href=\"http://android-developers.blogspot.de/2010/07/multithreading-for-performance.html\" rel=\"nofollow noreferrer\">http://android-developers.blogspot.de/2010/07/multithreading-for-performance.html</a></p>\n\n<p>The code is really nice however it does not account for saving each single image. Bitmap unfortunatley (as far as I understand) does not distinguish between each image.</p>\n\n<p>I would like to ask if anybody could give me some pointers or even better has source code for such a problem.</p>\n"},{"tags":["java","maven","junit5"],"comments":[{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":0,"creation_date":1521785750,"post_id":49441049,"comment_id":85888516,"body_markdown":"Can we see your complete POM, please?","body":"Can we see your complete POM, please?"},{"owner":{"account_id":6105471,"reputation":4298,"user_id":4763309,"accept_rate":75,"display_name":"mrkernelpanic"},"score":0,"creation_date":1521812884,"post_id":49441049,"comment_id":85904548,"body_markdown":"Have you taken a look into the samples? https://github.com/junit-team/junit5-samples/blob/r5.1.0/junit5-maven-consumer/pom.xml","body":"Have you taken a look into the samples? <a href=\"https://github.com/junit-team/junit5-samples/blob/r5.1.0/junit5-maven-consumer/pom.xml\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5-samples/blob/r5.1.0/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1521819318,"creation_date":1521819318,"answer_id":49453348,"question_id":49441049,"body_markdown":"Your `init()` method is not invoked because you have not instructed Maven Surefire to use the JUnit Platform Surefire Provider.\r\n\r\nThus, **surprisingly** your test is not even being run with JUnit. Instead, it is being run with Maven Surefire&#39;s support for what they call [POJO Tests](http://maven.apache.org/surefire/maven-surefire-plugin/examples/pojo-test.html).\r\n\r\nAdding the following to your `pom.xml` should solve the problem.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\t\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.19.1&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"JUnit 5 does not execute method annotated with BeforeEach","body":"<p>Your <code>init()</code> method is not invoked because you have not instructed Maven Surefire to use the JUnit Platform Surefire Provider.</p>\n\n<p>Thus, <strong>surprisingly</strong> your test is not even being run with JUnit. Instead, it is being run with Maven Surefire's support for what they call <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/pojo-test.html\" rel=\"noreferrer\">POJO Tests</a>.</p>\n\n<p>Adding the following to your <code>pom.xml</code> should solve the problem.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                    &lt;version&gt;1.1.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5215819,"reputation":196,"user_id":4170815,"display_name":"Eric Romrell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531334739,"creation_date":1531334739,"answer_id":51292319,"question_id":49441049,"body_markdown":"Sam Brannen&#39;s answer worked for me, but it seems that it doesn&#39;t work with the 2.22.0 version of maven-surefire-plugin unless you upgrade the junit-platform-surefire-provider to 1.2.0. Be aware!","title":"JUnit 5 does not execute method annotated with BeforeEach","body":"<p>Sam Brannen's answer worked for me, but it seems that it doesn't work with the 2.22.0 version of maven-surefire-plugin unless you upgrade the junit-platform-surefire-provider to 1.2.0. Be aware!</p>\n"},{"tags":[],"owner":{"account_id":996754,"reputation":2291,"user_id":1012497,"accept_rate":100,"display_name":"nikli"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1567665256,"creation_date":1567665256,"answer_id":57799630,"question_id":49441049,"body_markdown":"There is `junit-jupiter-api` dependency missing\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;","title":"JUnit 5 does not execute method annotated with BeforeEach","body":"<p>There is <code>junit-jupiter-api</code> dependency missing</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.5.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.5.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.1&lt;/version&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7990830,"reputation":187,"user_id":6028739,"display_name":"KHanusova"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1569830032,"creation_date":1569830032,"answer_id":58163654,"question_id":49441049,"body_markdown":"Nowadays it is not necessary to add provider to plugin. Just add junit-jupiter-engine to your dependencies (as written in official documentation https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html).\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"JUnit 5 does not execute method annotated with BeforeEach","body":"<p>Nowadays it is not necessary to add provider to plugin. Just add junit-jupiter-engine to your dependencies (as written in official documentation <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html</a>).</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9637519,"reputation":2905,"user_id":7153055,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":250,"is_accepted":false,"score":250,"last_activity_date":1579446329,"creation_date":1579446329,"answer_id":59811329,"question_id":49441049,"body_markdown":"In my case the problem was that the `@Test` annotation was taken from wrong import.\r\nOriginally it was imported from `org.junit.Test`.\r\nOnce I have switched it to `org.junit.jupiter.api.Test` the problem was resolved.\r\n\r\nWrong original code:\r\n\r\n    import org.junit.Test;\r\n    \r\n    @BeforeEach\r\n    ...some code\r\n    \r\n    @Test\r\n    ...some code\r\n\r\nCorrect fixed code:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    @BeforeEach\r\n    ...some code\r\n    \r\n    @Test\r\n    ...some code","title":"JUnit 5 does not execute method annotated with BeforeEach","body":"<p>In my case the problem was that the <code>@Test</code> annotation was taken from wrong import.\nOriginally it was imported from <code>org.junit.Test</code>.\nOnce I have switched it to <code>org.junit.jupiter.api.Test</code> the problem was resolved.</p>\n\n<p>Wrong original code:</p>\n\n<pre><code>import org.junit.Test;\n\n@BeforeEach\n...some code\n\n@Test\n...some code\n</code></pre>\n\n<p>Correct fixed code:</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\n\n@BeforeEach\n...some code\n\n@Test\n...some code\n</code></pre>\n"},{"tags":[],"owner":{"account_id":375733,"reputation":2697,"user_id":726755,"accept_rate":70,"display_name":"Display name"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681965809,"creation_date":1612290355,"answer_id":66015509,"question_id":49441049,"body_markdown":"In my case the problem was that I overwrote a method annotated with @BeforeEach in a subclass of the test, so the super method was not called.","title":"JUnit 5 does not execute method annotated with BeforeEach","body":"<p>In my case the problem was that I overwrote a method annotated with @BeforeEach in a subclass of the test, so the super method was not called.</p>\n"},{"tags":[],"owner":{"account_id":21959355,"reputation":101,"user_id":16237464,"display_name":"Srikanth"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1623799920,"creation_date":1623799920,"answer_id":67994612,"question_id":49441049,"body_markdown":"I Faced the same issue for my gradle project. \r\nNoticed that, @Test annotation using wrong package (`org.junit.Test`) and the issue fixed after using correct package (`org.junit.jupiter.api.Test`)\r\n","title":"JUnit 5 does not execute method annotated with BeforeEach","body":"<p>I Faced the same issue for my gradle project.\nNoticed that, @Test annotation using wrong package (<code>org.junit.Test</code>) and the issue fixed after using correct package (<code>org.junit.jupiter.api.Test</code>)</p>\n"},{"tags":[],"owner":{"account_id":8146380,"reputation":575,"user_id":6134928,"accept_rate":25,"display_name":"OSGI Java"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630440311,"creation_date":1630440311,"answer_id":69004745,"question_id":49441049,"body_markdown":"In order for Maven to execute tests properly with `@BeforeEach` you have to have your project correctly configured via `pom.xml`\r\n\r\nYour project&#39;s `pom.xml` must contain these parts:\r\n\r\n 1. `dependencyManagement` with **Junit BOM**\r\n 2. `dependency` with **Junit Jupiter**\r\n 3. `plugin` with **Maven Surefire Plugin**\r\n\r\nThis is documented officially [here][1] and the official project examples are [here][2].\r\n\r\nHere is a [link][3] to the example project&#39;s `pom.xml`.\r\n\r\nHere is the example project&#39;s `pom.xml` for your convenience:  \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;junit5-jupiter-starter-maven&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;${maven.compiler.source}&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.7.2&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#overview-getting-started\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#overview-getting-started-example-projects\r\n  [3]: https://github.com/junit-team/junit5-samples/blob/r5.7.2/junit5-jupiter-starter-maven/pom.xml","title":"JUnit 5 does not execute method annotated with BeforeEach","body":"<p>In order for Maven to execute tests properly with <code>@BeforeEach</code> you have to have your project correctly configured via <code>pom.xml</code></p>\n<p>Your project's <code>pom.xml</code> must contain these parts:</p>\n<ol>\n<li><code>dependencyManagement</code> with <strong>Junit BOM</strong></li>\n<li><code>dependency</code> with <strong>Junit Jupiter</strong></li>\n<li><code>plugin</code> with <strong>Maven Surefire Plugin</strong></li>\n</ol>\n<p>This is documented officially <a href=\"https://junit.org/junit5/docs/current/user-guide/#overview-getting-started\" rel=\"nofollow noreferrer\">here</a> and the official project examples are <a href=\"https://junit.org/junit5/docs/current/user-guide/#overview-getting-started-example-projects\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here is a <a href=\"https://github.com/junit-team/junit5-samples/blob/r5.7.2/junit5-jupiter-starter-maven/pom.xml\" rel=\"nofollow noreferrer\">link</a> to the example project's <code>pom.xml</code>.</p>\n<p>Here is the example project's <code>pom.xml</code> for your convenience:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;junit5-jupiter-starter-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${maven.compiler.source}&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.7.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":6849744,"reputation":1702,"user_id":5267244,"accept_rate":75,"display_name":"David"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67953,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":49453348,"answer_count":8,"score":79,"last_activity_date":1681965809,"creation_date":1521768725,"question_id":49441049,"body_markdown":"JUnit 5 does not invoke my method in a test class that is annotated with the `@BeforeEach` annotation, where I initialize some fields of the test object that are needed in the tests. When trying to access these fields inside a test method (method annotated with `@Test`) I obviously get a NullpointerException. So I added some output messages to the methods.\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class TestClass {\r\n       private String s;\r\n    \r\n       public TestClass() {\r\n    \r\n       }\r\n    \r\n       @BeforeEach\r\n       public void init() {\r\n          System.out.println(&quot;before&quot;);\r\n          s = &quot;not null&quot;;\r\n       }\r\n    \r\n       @Test\r\n       public void test0() {\r\n          System.out.println(&quot;testing&quot;);\r\n          assertEquals(&quot;not null&quot;, s.toString());\r\n       }\r\n    \r\n    }\r\n\r\nIn the output of the tests when running `mvn clean test` I get the &quot;testing&quot; message from the `test0()` method annotated with `@Test` annotation, but the &quot;before&quot; message is not printed.\r\n\r\n    Running de.dk.spielwiese.TestClass\r\n    !!!testing!!!\r\n    Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0 sec &lt;&lt;&lt; FAILURE!\r\n    de.dk.spielwiese.TestClass.test0()  Time elapsed: 0 sec  &lt;&lt;&lt; FAILURE!\r\n    java.lang.NullPointerException\r\n            at de.dk.spielwiese.TestClass.test0(TestClass.java:24)\r\n\r\nThe very obvious and only reason that I can think of is that the `init()` method is not invoked. The documentation of `@BeforeEach` says\r\n\r\n&gt; @BeforeEach is used to signal that the annotated method should be\r\n&gt; executed before each @Test, @RepeatedTest, @ParameterizedTest,\r\n&gt; @TestFactory, and @TestTemplate method in the current test class.\r\n\r\nI also tried running the tests in eclipse and there they always pass without any errors.\r\n\r\nI am using maven 3.5.3.\r\nI declared JUnit Jupiter 5.1.0 as dependency in my pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;de.dk&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spielwiese&lt;/artifactId&gt;\r\n\t&lt;version&gt;0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;Spielwiese&lt;/name&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;de.dk.spielwiese.Spielwiese&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n\t\t\t\t\t&lt;finalName&gt;Spielwiese&lt;/finalName&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;assemble-all&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.6.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;de.dk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\nWhy is my `init()` method not invoked?","title":"JUnit 5 does not execute method annotated with BeforeEach","body":"<p>JUnit 5 does not invoke my method in a test class that is annotated with the <code>@BeforeEach</code> annotation, where I initialize some fields of the test object that are needed in the tests. When trying to access these fields inside a test method (method annotated with <code>@Test</code>) I obviously get a NullpointerException. So I added some output messages to the methods.</p>\n\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\npublic class TestClass {\n   private String s;\n\n   public TestClass() {\n\n   }\n\n   @BeforeEach\n   public void init() {\n      System.out.println(\"before\");\n      s = \"not null\";\n   }\n\n   @Test\n   public void test0() {\n      System.out.println(\"testing\");\n      assertEquals(\"not null\", s.toString());\n   }\n\n}\n</code></pre>\n\n<p>In the output of the tests when running <code>mvn clean test</code> I get the \"testing\" message from the <code>test0()</code> method annotated with <code>@Test</code> annotation, but the \"before\" message is not printed.</p>\n\n<pre><code>Running de.dk.spielwiese.TestClass\n!!!testing!!!\nTests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0 sec &lt;&lt;&lt; FAILURE!\nde.dk.spielwiese.TestClass.test0()  Time elapsed: 0 sec  &lt;&lt;&lt; FAILURE!\njava.lang.NullPointerException\n        at de.dk.spielwiese.TestClass.test0(TestClass.java:24)\n</code></pre>\n\n<p>The very obvious and only reason that I can think of is that the <code>init()</code> method is not invoked. The documentation of <code>@BeforeEach</code> says</p>\n\n<blockquote>\n  <p>@BeforeEach is used to signal that the annotated method should be\n  executed before each @Test, @RepeatedTest, @ParameterizedTest,\n  @TestFactory, and @TestTemplate method in the current test class.</p>\n</blockquote>\n\n<p>I also tried running the tests in eclipse and there they always pass without any errors.</p>\n\n<p>I am using maven 3.5.3.\nI declared JUnit Jupiter 5.1.0 as dependency in my pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;de.dk&lt;/groupId&gt;\n&lt;artifactId&gt;spielwiese&lt;/artifactId&gt;\n&lt;version&gt;0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;Spielwiese&lt;/name&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;de.dk.spielwiese.Spielwiese&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                &lt;finalName&gt;Spielwiese&lt;/finalName&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;assemble-all&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.dk&lt;/groupId&gt;\n        &lt;artifactId&gt;util&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p></p>\n\n<p>Why is my <code>init()</code> method not invoked?</p>\n"},{"tags":["java","spring-boot","kotlin","aws-documentdb"],"owner":{"account_id":28348883,"reputation":11,"user_id":21680663,"display_name":"Rahul Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681964928,"creation_date":1681964599,"question_id":76060548,"body_markdown":"\r\n\r\nBelow is my Application yml file\r\n\r\n```\r\nauthorization:Bearer\r\nspring:\r\n  cache:\r\n    type: redis\r\n  data:\r\n    redis:\r\n      host: localhost\r\n      port: 6379\r\n      database: 1\r\n      connection-timeout: 500\r\n    mongodb:\r\n      uri: mongodb://user:password@amazonaws.com:27017/?ssl=true&amp;ssl_ca_certs=rds-combined-ca-bundle.pem&amp;retryWrites=false\r\n      database: docdb\r\n     \r\nserver:\r\n  http2:\r\n    enabled: true\r\n  port: 7015\r\n\r\n```\r\n\r\n\r\nI followed this document https://docs.aws.amazon.com/documentdb/latest/developerguide/connect_programmatically.html#connect_programmatically-tls_enabled to make connection with documentdb\r\n\r\nI have created a xyz.sh file for below code and ran in dockerfile\r\n\r\n\r\n```\r\nmydir=/tmp/certs\r\ntruststore=${mydir}/rds-truststore.jks\r\nstorepassword=&lt;truststorePassword&gt;\r\n\r\ncurl -sS &quot;https://truststore.pki.rds.amazonaws.com/global/global-bundle.pem&quot; &gt; ${mydir}/global-bundle.pem\r\nawk &#39;split_after == 1 {n++;split_after=0} /-----END CERTIFICATE-----/ {split_after=1}{print &gt; &quot;rds-ca-&quot; n &quot;.pem&quot;}&#39; &lt; ${mydir}/global-bundle.pem\r\n\r\nfor CERT in rds-ca-*; do\r\n  alias=$(openssl x509 -noout -text -in $CERT | perl -ne &#39;next unless /Subject:/; s/.*(CN=|CN = )//; print&#39;)\r\n  echo &quot;Importing $alias&quot;\r\n  keytool -import -file ${CERT} -alias &quot;${alias}&quot; -storepass ${storepassword} -keystore ${truststore} -noprompt\r\n  rm $CERT\r\ndone\r\n\r\nrm ${mydir}/global-bundle.pem\r\n\r\necho &quot;Trust store content is: &quot;\r\n\r\nkeytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} | grep Alias | cut -d &quot; &quot; -f3- | while read alias \r\ndo\r\n   expiry=`keytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} -alias &quot;${alias}&quot; | grep Valid | perl -ne &#39;if(/until: (.*?)\\n/) { print &quot;$1\\n&quot;; }&#39;`\r\n   echo &quot; Certificate ${alias} expires in &#39;$expiry&#39;&quot; \r\ndone\r\n```","title":"Not able to connect DocumentDB with springboot(kotlin) application","body":"<p>Below is my Application yml file</p>\n<pre><code>authorization:Bearer\nspring:\n  cache:\n    type: redis\n  data:\n    redis:\n      host: localhost\n      port: 6379\n      database: 1\n      connection-timeout: 500\n    mongodb:\n      uri: mongodb://user:password@amazonaws.com:27017/?ssl=true&amp;ssl_ca_certs=rds-combined-ca-bundle.pem&amp;retryWrites=false\n      database: docdb\n     \nserver:\n  http2:\n    enabled: true\n  port: 7015\n\n</code></pre>\n<p>I followed this document <a href=\"https://docs.aws.amazon.com/documentdb/latest/developerguide/connect_programmatically.html#connect_programmatically-tls_enabled\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/documentdb/latest/developerguide/connect_programmatically.html#connect_programmatically-tls_enabled</a> to make connection with documentdb</p>\n<p>I have created a xyz.sh file for below code and ran in dockerfile</p>\n<pre><code>mydir=/tmp/certs\ntruststore=${mydir}/rds-truststore.jks\nstorepassword=&lt;truststorePassword&gt;\n\ncurl -sS &quot;https://truststore.pki.rds.amazonaws.com/global/global-bundle.pem&quot; &gt; ${mydir}/global-bundle.pem\nawk 'split_after == 1 {n++;split_after=0} /-----END CERTIFICATE-----/ {split_after=1}{print &gt; &quot;rds-ca-&quot; n &quot;.pem&quot;}' &lt; ${mydir}/global-bundle.pem\n\nfor CERT in rds-ca-*; do\n  alias=$(openssl x509 -noout -text -in $CERT | perl -ne 'next unless /Subject:/; s/.*(CN=|CN = )//; print')\n  echo &quot;Importing $alias&quot;\n  keytool -import -file ${CERT} -alias &quot;${alias}&quot; -storepass ${storepassword} -keystore ${truststore} -noprompt\n  rm $CERT\ndone\n\nrm ${mydir}/global-bundle.pem\n\necho &quot;Trust store content is: &quot;\n\nkeytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} | grep Alias | cut -d &quot; &quot; -f3- | while read alias \ndo\n   expiry=`keytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} -alias &quot;${alias}&quot; | grep Valid | perl -ne 'if(/until: (.*?)\\n/) { print &quot;$1\\n&quot;; }'`\n   echo &quot; Certificate ${alias} expires in '$expiry'&quot; \ndone\n</code></pre>\n"},{"tags":["java","docker","apache-spark","spring-boot","yaml"],"answers":[{"tags":[],"owner":{"account_id":10266263,"reputation":487,"user_id":7576157,"accept_rate":80,"display_name":"Александр Шаповалов"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1533638053,"creation_date":1533638053,"answer_id":51724659,"question_id":51710753,"body_markdown":"I have found solution.\r\nOrigin spark package has folder jars where is snakeyml 1.15, i changed it to 1.19 and all work now.","title":"SparkLauncher. java.lang.NoSuchMethodError: org.yaml.snakeyaml.Yaml.&lt;init&gt;","body":"<p>I have found solution.\nOrigin spark package has folder jars where is snakeyml 1.15, i changed it to 1.19 and all work now.</p>\n"},{"tags":[],"owner":{"account_id":3345927,"reputation":372,"user_id":2811078,"display_name":"Chandan Gawri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681964392,"creation_date":1681964392,"answer_id":76060535,"question_id":51710753,"body_markdown":"I could fix by downgrading version of snakeyml to 1.33, Spark provided version as 2.0 and with 1.33 I get this fixed.","title":"SparkLauncher. java.lang.NoSuchMethodError: org.yaml.snakeyaml.Yaml.&lt;init&gt;","body":"<p>I could fix by downgrading version of snakeyml to 1.33, Spark provided version as 2.0 and with 1.33 I get this fixed.</p>\n"}],"owner":{"account_id":10266263,"reputation":487,"user_id":7576157,"accept_rate":80,"display_name":"Александр Шаповалов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12956,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":51724659,"answer_count":2,"score":7,"last_activity_date":1681964392,"creation_date":1533568319,"question_id":51710753,"body_markdown":"Good day collegues.\r\nI developed an application based on sparkLauncher that run an executable jar where are 5 operations. Each operation depending on the specific variable.\r\nI have a main hadoop cluster spark2.3.0-hadoop2.6.5. It works good on it.\r\nPart of my working code:\r\n\r\n     private void runSparkJob(String pathToJar, final LocalDate startDate, final LocalDate endDate) {\r\n            if (executionInProgress.get()) {\r\n                LOGGER.warn(&quot;Execution already in progress&quot;);\r\n                return;\r\n            }\r\n            Process sparkProcess = null;\r\n            try {\r\n                LOGGER.info(&quot;Create SparkLauncher. SparkHome: [{}]. JarPath: [{}].&quot;, sparkHome, vmJarPath);\r\n                executionInProgress.set(true);\r\n                sparkProcess = new SparkLauncher()\r\n                        .setAppName(activeOperationProfile)\r\n                        .setSparkHome(sparkHome) //sparkHome folder on main cluster\r\n                        .setAppResource(pathToJar) // jar with 5 operation\r\n                        .setConf(SparkLauncher.DRIVER_EXTRA_JAVA_OPTIONS,\r\n                                String.format(&quot;-Drunner.operation-profile=%1$s -Doperation.startDate=%2$s -Doperation.endDate=%3$s&quot;, activeOperationProfile, startDate,endDate))\r\n                        .setConf(SparkLauncher.DRIVER_MEMORY, &quot;12G&quot;)\r\n                        .redirectToLog(LOGGER.getName())\r\n                        .setMaster(&quot;yarn&quot;)\r\n                        .launch();\r\n    \r\n                sparkProcess.waitFor();\r\n                int exitCode = sparkProcess.exitValue();\r\n                if (exitCode != 0) {\r\n                    throw new RuntimeException(&quot;Illegal exit code. Expected: [0]. Actual: [&quot; + exitCode + &quot;]&quot;);\r\n                }\r\n    \r\n            } catch (IOException | InterruptedException e) {\r\n                LOGGER.error(&quot;Error occurred while running SparkApplication.&quot;, e);\r\n                throw new RuntimeException(e);\r\n            } finally {\r\n                if (sparkProcess != null &amp;&amp; sparkProcess.isAlive()) {\r\n                    LOGGER.warn(&quot;Process still alive. Try to kill&quot;);\r\n                    sparkProcess.destroy();\r\n                }\r\n                executionInProgress.set(false);\r\n            }\r\n        }\r\n\r\nI have started a docker container, where is a downloaded spark 2.3.0-hadoop6. This container needed for testers. **I changed master to .setMaster(&quot;local&quot;), put new profile with paths to sparkHome, jarsWithOpertations** and packaged jar without shade(tried with shade and it doesn&#39;t work for me). When i tried to run my sparkLaunch app i have an exception now:\r\n\r\n&gt; 2018-08-06 14:47:53,150 INFO \r\n&gt; [n.m.m.b.r.SparkBaseOperationsRunner.runSparkJob] 105 : Create\r\n&gt; SparkLauncher. SparkHome:\r\n&gt; [/opt/bigtv/spark/spark-2.3.0-bin-hadoop2.6]. JarPath:\r\n&gt; [/opt/bigtv/bin/multirating-bigdata-operations-MASTER-SNAPSHOT.jar].\r\n&gt; 2018-08-06 14:47:54,905 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 : 2018-08-06\r\n&gt; 14:47:54 WARN  NativeCodeLoader:62 - Unable to load native-hadoop\r\n&gt; library for your platform... using builtin-java classes where\r\n&gt; applicable 2018-08-06 14:47:57,042 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 : 2018-08-06\r\n&gt; 14:47:57 ERROR SpringApplication:842 - Application run failed\r\n&gt; 2018-08-06 14:47:57,043 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :\r\n&gt; **java.lang.NoSuchMethodError:\r\n&gt; org.yaml.snakeyaml.Yaml.&lt;init&gt;(Lorg/yaml/snakeyaml/constructor/BaseConstructor;Lorg/yaml/snakeyaml/representer/Representer;Lorg/yaml/snakeyaml/DumperOptions;Lorg/yaml/snakeyaml/LoaderOptions;Lorg/yaml/snakeyaml/resolver/Resolver;)V**\r\n&gt; 2018-08-06 14:47:57,043 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:70)\r\n&gt; 2018-08-06 14:47:57,043 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:139)\r\n&gt; 2018-08-06 14:47:57,044 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.env.OriginTrackedYamlLoader.load(OriginTrackedYamlLoader.java:75)\r\n&gt; 2018-08-06 14:47:57,044 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.env.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\r\n&gt; 2018-08-06 14:47:57,044 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:547)\r\n&gt; 2018-08-06 14:47:57,044 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:517)\r\n&gt; 2018-08-06 14:47:57,045 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:496)\r\n&gt; 2018-08-06 14:47:57,045 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:464)\r\n&gt; 2018-08-06 14:47:57,045 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$6(ConfigFileApplicationListener.java:446)\r\n&gt; 2018-08-06 14:47:57,046 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; java.lang.Iterable.forEach(Iterable.java:75) 2018-08-06 14:47:57,046\r\n&gt; INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$7(ConfigFileApplicationListener.java:445)\r\n&gt; 2018-08-06 14:47:57,046 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; java.lang.Iterable.forEach(Iterable.java:75) 2018-08-06 14:47:57,046\r\n&gt; INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:442)\r\n&gt; 2018-08-06 14:47:57,046 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:330)\r\n&gt; 2018-08-06 14:47:57,047 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:212)\r\n&gt; 2018-08-06 14:47:57,047 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:195)\r\n&gt; 2018-08-06 14:47:57,047 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:182)\r\n&gt; 2018-08-06 14:47:57,047 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:168)\r\n&gt; 2018-08-06 14:47:57,048 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n&gt; 2018-08-06 14:47:57,048 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n&gt; 2018-08-06 14:47:57,048 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n&gt; 2018-08-06 14:47:57,048 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n&gt; 2018-08-06 14:47:57,049 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:74)\r\n&gt; 2018-08-06 14:47:57,049 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\r\n&gt; 2018-08-06 14:47:57,049 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:358)\r\n&gt; 2018-08-06 14:47:57,049 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:317)\r\n&gt; 2018-08-06 14:47:57,050 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1255)\r\n&gt; 2018-08-06 14:47:57,050 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1243)\r\n&gt; 2018-08-06 14:47:57,050 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; net.mediascope.multirating.bigdata.operations.OperationRunner.main(OperationRunner.java:21)\r\n&gt; 2018-08-06 14:47:57,050 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 2018-08-06\r\n&gt; 14:47:57,050 INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\r\n&gt; at\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; 2018-08-06 14:47:57,051 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; 2018-08-06 14:47:57,051 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; java.lang.reflect.Method.invoke(Method.java:498) 2018-08-06\r\n&gt; 14:47:57,051 INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\r\n&gt; at\r\n&gt; org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n&gt; 2018-08-06 14:47:57,051 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n&gt; 2018-08-06 14:47:57,052 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n&gt; 2018-08-06 14:47:57,052 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n&gt; 2018-08-06 14:47:57,052 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 2018-08-06\r\n&gt; 14:47:57,052 INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\r\n&gt; at\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; 2018-08-06 14:47:57,053 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; 2018-08-06 14:47:57,053 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; java.lang.reflect.Method.invoke(Method.java:498) 2018-08-06\r\n&gt; 14:47:57,053 INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\r\n&gt; at\r\n&gt; org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n&gt; 2018-08-06 14:47:57,053 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:879)\r\n&gt; 2018-08-06 14:47:57,054 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:197)\r\n&gt; 2018-08-06 14:47:57,054 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:227)\r\n&gt; 2018-08-06 14:47:57,054 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:136)\r\n&gt; 2018-08-06 14:47:57,054 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\r\n&gt; org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala) 2018-08-06\r\n&gt; 14:47:57,058 INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\r\n&gt; 2018-08-06 14:47:57 INFO  ShutdownHookManager:54 - Shutdown hook\r\n&gt; called 2018-08-06 14:47:57,060 INFO \r\n&gt; [o.a.spark.launcher.OutputRedirector.redirect] 63 : 2018-08-06\r\n&gt; 14:47:57 INFO  ShutdownHookManager:54 - Deleting directory\r\n&gt; /tmp/spark-55b54924-e628-43fe-9e43-ed34d7f35a8b 2018-08-06\r\n&gt; 14:47:57,151 INFO \r\n&gt; [o.s.b.a.l.ConditionEvaluationReportLoggingListener.logAutoConfigurationReport]\r\n&gt; 101 :\r\n&gt; \r\n&gt; Error starting ApplicationContext. To display the conditions report\r\n&gt; re-run your application with &#39;debug&#39; enabled.\r\n\r\nIn my project i have snake yaml 1.19 from spring 5.0 and no others dependicies.\r\nI can not understand what the problem is, perhaps when I put it into docker container manual it was necessary to install something else besides the spark. \r\n\r\nPom from module with operations:\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.mediascope&lt;/groupId&gt;\r\n                &lt;artifactId&gt;multirating-bigdata-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Data Base --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jdbi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jdbi&lt;/artifactId&gt;\r\n                &lt;version&gt;2.71&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sqljdbc42&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;local&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;profiles&gt;\r\n                                    &lt;profile&gt;${profile.active}&lt;/profile&gt;\r\n                                &lt;/profiles&gt;\r\n                                &lt;executable&gt;true&lt;/executable&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;hadoop&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;!--Необходимо для адаптации Spring-Boot приложения под запуск через Spark--&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.3&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;phase&gt;package&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;shade&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;transformers&gt;\r\n                                            &lt;transformer\r\n                                                    implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                                &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\r\n                                            &lt;/transformer&gt;\r\n                                            &lt;transformer\r\n                                                    implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                                &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\r\n                                            &lt;/transformer&gt;\r\n                                            &lt;transformer\r\n                                                    implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                                &lt;resource&gt;META-INF/spring.provides&lt;/resource&gt;\r\n                                            &lt;/transformer&gt;\r\n                                            &lt;transformer\r\n                                                    implementation=&quot;org.springframework.boot.maven.PropertiesMergingResourceTransformer&quot;&gt;\r\n                                                &lt;resource&gt;META-INF/spring.factories&lt;/resource&gt;\r\n                                            &lt;/transformer&gt;\r\n                                            &lt;transformer\r\n                                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                                &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n                                            &lt;/transformer&gt;\r\n                                        &lt;/transformers&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;I\r\n\r\n","title":"SparkLauncher. java.lang.NoSuchMethodError: org.yaml.snakeyaml.Yaml.&lt;init&gt;","body":"<p>Good day collegues.\nI developed an application based on sparkLauncher that run an executable jar where are 5 operations. Each operation depending on the specific variable.\nI have a main hadoop cluster spark2.3.0-hadoop2.6.5. It works good on it.\nPart of my working code:</p>\n\n<pre><code> private void runSparkJob(String pathToJar, final LocalDate startDate, final LocalDate endDate) {\n        if (executionInProgress.get()) {\n            LOGGER.warn(\"Execution already in progress\");\n            return;\n        }\n        Process sparkProcess = null;\n        try {\n            LOGGER.info(\"Create SparkLauncher. SparkHome: [{}]. JarPath: [{}].\", sparkHome, vmJarPath);\n            executionInProgress.set(true);\n            sparkProcess = new SparkLauncher()\n                    .setAppName(activeOperationProfile)\n                    .setSparkHome(sparkHome) //sparkHome folder on main cluster\n                    .setAppResource(pathToJar) // jar with 5 operation\n                    .setConf(SparkLauncher.DRIVER_EXTRA_JAVA_OPTIONS,\n                            String.format(\"-Drunner.operation-profile=%1$s -Doperation.startDate=%2$s -Doperation.endDate=%3$s\", activeOperationProfile, startDate,endDate))\n                    .setConf(SparkLauncher.DRIVER_MEMORY, \"12G\")\n                    .redirectToLog(LOGGER.getName())\n                    .setMaster(\"yarn\")\n                    .launch();\n\n            sparkProcess.waitFor();\n            int exitCode = sparkProcess.exitValue();\n            if (exitCode != 0) {\n                throw new RuntimeException(\"Illegal exit code. Expected: [0]. Actual: [\" + exitCode + \"]\");\n            }\n\n        } catch (IOException | InterruptedException e) {\n            LOGGER.error(\"Error occurred while running SparkApplication.\", e);\n            throw new RuntimeException(e);\n        } finally {\n            if (sparkProcess != null &amp;&amp; sparkProcess.isAlive()) {\n                LOGGER.warn(\"Process still alive. Try to kill\");\n                sparkProcess.destroy();\n            }\n            executionInProgress.set(false);\n        }\n    }\n</code></pre>\n\n<p>I have started a docker container, where is a downloaded spark 2.3.0-hadoop6. This container needed for testers. <strong>I changed master to .setMaster(\"local\"), put new profile with paths to sparkHome, jarsWithOpertations</strong> and packaged jar without shade(tried with shade and it doesn't work for me). When i tried to run my sparkLaunch app i have an exception now:</p>\n\n<blockquote>\n  <p>2018-08-06 14:47:53,150 INFO \n  [n.m.m.b.r.SparkBaseOperationsRunner.runSparkJob] 105 : Create\n  SparkLauncher. SparkHome:\n  [/opt/bigtv/spark/spark-2.3.0-bin-hadoop2.6]. JarPath:\n  [/opt/bigtv/bin/multirating-bigdata-operations-MASTER-SNAPSHOT.jar].\n  2018-08-06 14:47:54,905 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 : 2018-08-06\n  14:47:54 WARN  NativeCodeLoader:62 - Unable to load native-hadoop\n  library for your platform... using builtin-java classes where\n  applicable 2018-08-06 14:47:57,042 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 : 2018-08-06\n  14:47:57 ERROR SpringApplication:842 - Application run failed\n  2018-08-06 14:47:57,043 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\n  <strong>java.lang.NoSuchMethodError:\n  org.yaml.snakeyaml.Yaml.(Lorg/yaml/snakeyaml/constructor/BaseConstructor;Lorg/yaml/snakeyaml/representer/Representer;Lorg/yaml/snakeyaml/DumperOptions;Lorg/yaml/snakeyaml/LoaderOptions;Lorg/yaml/snakeyaml/resolver/Resolver;)V</strong>\n  2018-08-06 14:47:57,043 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:70)\n  2018-08-06 14:47:57,043 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:139)\n  2018-08-06 14:47:57,044 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.env.OriginTrackedYamlLoader.load(OriginTrackedYamlLoader.java:75)\n  2018-08-06 14:47:57,044 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.env.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\n  2018-08-06 14:47:57,044 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:547)\n  2018-08-06 14:47:57,044 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:517)\n  2018-08-06 14:47:57,045 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:496)\n  2018-08-06 14:47:57,045 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:464)\n  2018-08-06 14:47:57,045 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$6(ConfigFileApplicationListener.java:446)\n  2018-08-06 14:47:57,046 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  java.lang.Iterable.forEach(Iterable.java:75) 2018-08-06 14:47:57,046\n  INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$7(ConfigFileApplicationListener.java:445)\n  2018-08-06 14:47:57,046 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  java.lang.Iterable.forEach(Iterable.java:75) 2018-08-06 14:47:57,046\n  INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:442)\n  2018-08-06 14:47:57,046 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:330)\n  2018-08-06 14:47:57,047 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:212)\n  2018-08-06 14:47:57,047 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:195)\n  2018-08-06 14:47:57,047 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:182)\n  2018-08-06 14:47:57,047 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:168)\n  2018-08-06 14:47:57,048 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n  2018-08-06 14:47:57,048 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n  2018-08-06 14:47:57,048 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n  2018-08-06 14:47:57,048 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n  2018-08-06 14:47:57,049 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:74)\n  2018-08-06 14:47:57,049 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\n  2018-08-06 14:47:57,049 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:358)\n  2018-08-06 14:47:57,049 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:317)\n  2018-08-06 14:47:57,050 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1255)\n  2018-08-06 14:47:57,050 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1243)\n  2018-08-06 14:47:57,050 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  net.mediascope.multirating.bigdata.operations.OperationRunner.main(OperationRunner.java:21)\n  2018-08-06 14:47:57,050 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 2018-08-06\n  14:47:57,050 INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\n  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  2018-08-06 14:47:57,051 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  2018-08-06 14:47:57,051 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  java.lang.reflect.Method.invoke(Method.java:498) 2018-08-06\n  14:47:57,051 INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\n  at\n  org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n  2018-08-06 14:47:57,051 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n  2018-08-06 14:47:57,052 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n  2018-08-06 14:47:57,052 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\n  2018-08-06 14:47:57,052 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 2018-08-06\n  14:47:57,052 INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\n  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  2018-08-06 14:47:57,053 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  2018-08-06 14:47:57,053 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  java.lang.reflect.Method.invoke(Method.java:498) 2018-08-06\n  14:47:57,053 INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\n  at\n  org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n  2018-08-06 14:47:57,053 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:879)\n  2018-08-06 14:47:57,054 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:197)\n  2018-08-06 14:47:57,054 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:227)\n  2018-08-06 14:47:57,054 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:136)\n  2018-08-06 14:47:57,054 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 :       at\n  org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala) 2018-08-06\n  14:47:57,058 INFO  [o.a.spark.launcher.OutputRedirector.redirect] 63 :\n  2018-08-06 14:47:57 INFO  ShutdownHookManager:54 - Shutdown hook\n  called 2018-08-06 14:47:57,060 INFO \n  [o.a.spark.launcher.OutputRedirector.redirect] 63 : 2018-08-06\n  14:47:57 INFO  ShutdownHookManager:54 - Deleting directory\n  /tmp/spark-55b54924-e628-43fe-9e43-ed34d7f35a8b 2018-08-06\n  14:47:57,151 INFO \n  [o.s.b.a.l.ConditionEvaluationReportLoggingListener.logAutoConfigurationReport]\n  101 :</p>\n  \n  <p>Error starting ApplicationContext. To display the conditions report\n  re-run your application with 'debug' enabled.</p>\n</blockquote>\n\n<p>In my project i have snake yaml 1.19 from spring 5.0 and no others dependicies.\nI can not understand what the problem is, perhaps when I put it into docker container manual it was necessary to install something else besides the spark. </p>\n\n<p>Pom from module with operations:</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.mediascope&lt;/groupId&gt;\n            &lt;artifactId&gt;multirating-bigdata-core&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Data Base --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jdbi&lt;/groupId&gt;\n            &lt;artifactId&gt;jdbi&lt;/artifactId&gt;\n            &lt;version&gt;2.71&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;sqljdbc42&lt;/artifactId&gt;\n            &lt;version&gt;4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n            &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;profiles&gt;\n                                &lt;profile&gt;${profile.active}&lt;/profile&gt;\n                            &lt;/profiles&gt;\n                            &lt;executable&gt;true&lt;/executable&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;hadoop&lt;/id&gt;\n            &lt;build&gt;\n                &lt;!--Необходимо для адаптации Spring-Boot приложения под запуск через Spark--&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.3&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;shade&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;transformers&gt;\n                                        &lt;transformer\n                                                implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                                            &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\n                                        &lt;/transformer&gt;\n                                        &lt;transformer\n                                                implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                                            &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\n                                        &lt;/transformer&gt;\n                                        &lt;transformer\n                                                implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                                            &lt;resource&gt;META-INF/spring.provides&lt;/resource&gt;\n                                        &lt;/transformer&gt;\n                                        &lt;transformer\n                                                implementation=\"org.springframework.boot.maven.PropertiesMergingResourceTransformer\"&gt;\n                                            &lt;resource&gt;META-INF/spring.factories&lt;/resource&gt;\n                                        &lt;/transformer&gt;\n                                        &lt;transformer\n                                                implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                                            &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n                                        &lt;/transformer&gt;\n                                    &lt;/transformers&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;I\n</code></pre>\n"},{"tags":["java","spring","dependencies","code-injection","inversion"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681964137,"creation_date":1681964137,"answer_id":76060520,"question_id":76059321,"body_markdown":"I suppose you&#39;re using the tests without spring (plain unit tests) with JUnit or something.\r\nIn this case, I suggest moving from the field injection (that you use to inject the service) to the constructor injection. Your class will look like this:\r\n```java\r\n@Service\r\n@Scope(&quot;prototype&quot;)\r\nfinal class Adapter {\r\n    private final AdapterService adapterService; // note, I&#39;ve removed an @Autowired annotation\r\n    private final Options s;\r\n\r\n    @Autowired // if this is a single constructor, this annotation is not mandatory\r\n    Adapter(AdapterService adapterService, @NotNull Options options) {\r\n        this.adapterService = adapterService;\r\n        this.options = options;\r\n    }\r\n}\r\n```\r\nI see that the `Adapter` is a prototype but Spring will still be able to inject a singleton instance of the `AdapterService` as long as it&#39;s also defined by Spring (it is a bean by itself).\r\n\r\nNow in a Unit test you will create an `Adapter` class and can pass now as many mocks as you like:\r\n\r\n```java\r\n\r\nclass AdapterTest {\r\n  \r\n  @Test  \r\n  void mytest() {\r\n     AdapterService adapterService = Mockito.mock(AdapterService.class);\r\n     Options options = ...;\r\n     Adapter underTest = new Adapter(adapterService, options);\r\n  }\r\n}\r\n```\r\n","title":"How do I use Spring Dependency Injection for a class that has stored data?","body":"<p>I suppose you're using the tests without spring (plain unit tests) with JUnit or something.\nIn this case, I suggest moving from the field injection (that you use to inject the service) to the constructor injection. Your class will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Scope(&quot;prototype&quot;)\nfinal class Adapter {\n    private final AdapterService adapterService; // note, I've removed an @Autowired annotation\n    private final Options s;\n\n    @Autowired // if this is a single constructor, this annotation is not mandatory\n    Adapter(AdapterService adapterService, @NotNull Options options) {\n        this.adapterService = adapterService;\n        this.options = options;\n    }\n}\n</code></pre>\n<p>I see that the <code>Adapter</code> is a prototype but Spring will still be able to inject a singleton instance of the <code>AdapterService</code> as long as it's also defined by Spring (it is a bean by itself).</p>\n<p>Now in a Unit test you will create an <code>Adapter</code> class and can pass now as many mocks as you like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass AdapterTest {\n  \n  @Test  \n  void mytest() {\n     AdapterService adapterService = Mockito.mock(AdapterService.class);\n     Options options = ...;\n     Adapter underTest = new Adapter(adapterService, options);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":28354203,"reputation":11,"user_id":21685203,"display_name":"Christian Bueche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681964137,"creation_date":1681944292,"question_id":76059321,"body_markdown":"I have a class which stores data, and needs access to an external service. How do I configure this class so that I can instantiate it with data, while still allowing the ability to inject a mock of the service in tests?\r\n\r\n```\r\n@Service\r\n@Scope(&quot;prototype&quot;)\r\nfinal class Adapter {\r\n    @Autowired private AdapterService adapterService;\r\n    private final Options s;\r\n\r\n    @Autowired\r\n    Adapter(@NotNull Options options) {\r\n        this.options = options;\r\n    }\r\n}\r\n```\r\n```\r\n@Test\r\nvoid adapter() {\r\n    // How do I inject mock(AdapterService.class)?\r\n    Adapter adapter = applicationContext.getBean(Adapter.class, options);\r\n}\r\n```\r\n\r\nSome hacky workarounds I&#39;ve played with:\r\n1. TestOnly Constructor\r\n2. TestOnly Setter to override adapterService\r\n3. Setting the adapterService property via reflection\r\n\r\nPlease tell me that these aren&#39;t the only options, and that Spring provides support for this common use-case!","title":"How do I use Spring Dependency Injection for a class that has stored data?","body":"<p>I have a class which stores data, and needs access to an external service. How do I configure this class so that I can instantiate it with data, while still allowing the ability to inject a mock of the service in tests?</p>\n<pre><code>@Service\n@Scope(&quot;prototype&quot;)\nfinal class Adapter {\n    @Autowired private AdapterService adapterService;\n    private final Options s;\n\n    @Autowired\n    Adapter(@NotNull Options options) {\n        this.options = options;\n    }\n}\n</code></pre>\n<pre><code>@Test\nvoid adapter() {\n    // How do I inject mock(AdapterService.class)?\n    Adapter adapter = applicationContext.getBean(Adapter.class, options);\n}\n</code></pre>\n<p>Some hacky workarounds I've played with:</p>\n<ol>\n<li>TestOnly Constructor</li>\n<li>TestOnly Setter to override adapterService</li>\n<li>Setting the adapterService property via reflection</li>\n</ol>\n<p>Please tell me that these aren't the only options, and that Spring provides support for this common use-case!</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1681913087,"post_id":76054858,"comment_id":134133836,"body_markdown":"Get rid of that badge by resolving the error(s)? What do you see when you trace that error badge down into the &quot;Other Sources&quot; folder (and its sub-folders)? Where, specifically, is the error? I&#39;m guessing maybe a HTML file, or CSS file, or JavaScript file in a `resources` folder...?","body":"Get rid of that badge by resolving the error(s)? What do you see when you trace that error badge down into the &quot;Other Sources&quot; folder (and its sub-folders)? Where, specifically, is the error? I&#39;m guessing maybe a HTML file, or CSS file, or JavaScript file in a <code>resources</code> folder...?"},{"owner":{"account_id":9158700,"reputation":33,"user_id":6810838,"display_name":"Rodrigo Oliveira"},"score":0,"creation_date":1681933806,"post_id":76054858,"comment_id":134138637,"body_markdown":"I cannot trace it. I&#39;m going to edit my question to include the image with 3 levels open (there are too much levels). The badge doesn&#39;t appear.","body":"I cannot trace it. I&#39;m going to edit my question to include the image with 3 levels open (there are too much levels). The badge doesn&#39;t appear."},{"owner":{"account_id":9158700,"reputation":33,"user_id":6810838,"display_name":"Rodrigo Oliveira"},"score":0,"creation_date":1681943506,"post_id":76054858,"comment_id":134140174,"body_markdown":"Later I removed the resorce and added it again. Now the errors propagate to a hundred of files. Everyone is &quot;Error parsing file&quot;. Opening the files, there is no errors. Even if there was, I would not mess with them, because the whole thing is working perfectly. I just want to remove the error badge.","body":"Later I removed the resorce and added it again. Now the errors propagate to a hundred of files. Everyone is &quot;Error parsing file&quot;. Opening the files, there is no errors. Even if there was, I would not mess with them, because the whole thing is working perfectly. I just want to remove the error badge."}],"answers":[{"tags":[],"owner":{"account_id":9158700,"reputation":33,"user_id":6810838,"display_name":"Rodrigo Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681963297,"creation_date":1681963297,"answer_id":76060480,"question_id":76054858,"body_markdown":"I found that I didn&#39;t really need that source. It is already declared as a dependency. So I just removed it. Still learning about Maven, dependencies...","title":"How to disable this error badge on NetBeans?","body":"<p>I found that I didn't really need that source. It is already declared as a dependency. So I just removed it. Still learning about Maven, dependencies...</p>\n"}],"owner":{"account_id":9158700,"reputation":33,"user_id":6810838,"display_name":"Rodrigo Oliveira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681963297,"creation_date":1681909314,"question_id":76054858,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nEverething works fine and I need that &quot;Other Sources&quot; there.\r\nBut that red badge is annoying!\r\n\r\nI looked &quot;Options&quot; for a hint I could disable but I found nothing.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tR98F.png","title":"How to disable this error badge on NetBeans?","body":"<p><a href=\"https://i.stack.imgur.com/tR98F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tR98F.png\" alt=\"enter image description here\" /></a></p>\n<p>Everething works fine and I need that &quot;Other Sources&quot; there.\nBut that red badge is annoying!</p>\n<p>I looked &quot;Options&quot; for a hint I could disable but I found nothing.</p>\n"},{"tags":["java","scala","apache-spark","sbt"],"answers":[{"tags":[],"owner":{"account_id":12948557,"reputation":1081,"user_id":9362137,"accept_rate":67,"display_name":"Pavan_Obj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556312406,"creation_date":1556312406,"answer_id":55874883,"question_id":55859159,"body_markdown":"It was a memory Issue.\r\nI referred to the following Answer: [Answer][1]. \r\nAnd in my C:\\Program Files (x86)\\sbt\\conf\\sbtconfig File, I added/increased the below params for memory.\r\n````\r\n-Xmx2G\r\n-XX:MaxPermSize=1000m\r\n-XX:ReservedCodeCacheSize=1000m\r\n-Xss8M\r\n````\r\n\r\nAnd running sbt package has seamlessly worked and Compilation succeeded.\r\nThank you All.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46984767/compiling-case-class-with-many-parameters-causes-java-lang-stackoverflowerror","title":"How to fix scala.tools.nsc.typechecker.Contexts$Context.imports(Contexts.scala:232) in an sbt project?","body":"<p>It was a memory Issue.\nI referred to the following Answer: <a href=\"https://stackoverflow.com/questions/46984767/compiling-case-class-with-many-parameters-causes-java-lang-stackoverflowerror\">Answer</a>. \nAnd in my C:\\Program Files (x86)\\sbt\\conf\\sbtconfig File, I added/increased the below params for memory.</p>\n\n<pre><code>-Xmx2G\n-XX:MaxPermSize=1000m\n-XX:ReservedCodeCacheSize=1000m\n-Xss8M\n</code></pre>\n\n<p>And running sbt package has seamlessly worked and Compilation succeeded.\nThank you All.</p>\n"}],"owner":{"account_id":12948557,"reputation":1081,"user_id":9362137,"accept_rate":67,"display_name":"Pavan_Obj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681963215,"creation_date":1556237757,"question_id":55859159,"body_markdown":"The Issue is with the below Error,\r\n\r\n[error]         at scala.tools.nsc.typechecker.Typers$Typer.typedApply$1(Typers.scala:4580)\r\n[error]         at scala.tools.nsc.typechecker.Typers$Typer.typedInAnyMode$1(Typers.scala:5343)\r\n[error]         at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:5360)\r\n[error]         at scala.tools.nsc.typechecker.Typers$Typer.runTyper$1(Typers.scala:5396)\r\n[error] (Compile / compileIncremental) java.lang.StackOverflowError\r\n[error] Total time: 11 s, completed Apr 25, 2019 7:11:28 PM\r\n\r\n also tried to increase the jmx parameters\r\njavaOptions ++= Seq(&quot;-Xms512M&quot;, &quot;-Xmx4048M&quot;, &quot;-XX:MaxPermSize=4048M&quot;, &quot;-XX:+CMSClassUnloadingEnabled&quot;) but it didn&#39;t help. All the dependencies seems to resolve properly but this Error is kind of Struck.\r\n\r\n```\r\nbuild.properties\r\nsbt.version=1.2.8\r\n```\r\n\r\n```\r\nplugin.sbt\r\naddSbtPlugin(&quot;com.typesafe.sbteclipse&quot; % &quot;sbteclipse-plugin&quot; % &quot;5.2.4&quot;)\r\naddSbtPlugin(&quot;org.scoverage&quot; % &quot;sbt-scoverage&quot; % &quot;1.5.1&quot;)\r\naddSbtPlugin(&quot;com.eed3si9n&quot; % &quot;sbt-assembly&quot; % &quot;0.14.9&quot;)\r\n```\r\n\r\n```\r\nAnd the build.sbt\r\n\r\nname := &quot;ProjectNew&quot;\r\n\r\nversion := &quot;4.0&quot;\r\n\r\nscalaVersion := &quot;2.11.8&quot;\r\n\r\n\r\n\r\nfork := true\r\n\r\nlibraryDependencies ++= Seq(\r\n  &quot;org.scalaz&quot; %% &quot;scalaz-core&quot; % &quot;7.1.0&quot; % &quot;test&quot;,\r\n  (&quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;2.1.0.cloudera1&quot;).\r\n    exclude(&quot;org.mortbay.jetty&quot;, &quot;servlet-api&quot;).\r\n    exclude(&quot;commons-beanutils&quot;, &quot;commons-beanutils-core&quot;).\r\n    //exclude(&quot;commons-collections&quot;, &quot;commons-collections&quot;).\r\n    exclude(&quot;com.esotericsoftware.minlog&quot;, &quot;minlog&quot;).\r\n    //exclude(&quot;org.apache.hadooop&quot;,&quot;hadoop-client&quot;).\r\n    exclude(&quot;commons-logging&quot;, &quot;commons-logging&quot;) % &quot;provided&quot;,\r\n  (&quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;2.1.0.cloudera1&quot;)\r\n    .exclude(&quot;com.esotericsoftware.minlog&quot;,&quot;minlog&quot;)\r\n    //.exclude(&quot;org.apache.hadoop&quot;,&quot;hadoop-client&quot;)\r\n     % &quot;provided&quot;,\r\n  (&quot;org.apache.spark&quot; %% &quot;spark-hive&quot; % &quot;2.1.0.cloudera1&quot;)\r\n    .exclude(&quot;com.esotericsoftware.minlog&quot;,&quot;minlog&quot;)\r\n    //.exclude(&quot;org.apache.hadoop&quot;,&quot;hadoop-client&quot;)\r\n     % &quot;provided&quot;,\r\n  &quot;spark.jobserver&quot; % &quot;job-server-api&quot; % &quot;0.4.0&quot;,\r\n  &quot;org.scalatest&quot; %%&quot;scalatest&quot; % &quot;2.2.4&quot; % &quot;test&quot;,\r\n   &quot;com.github.nscala-time&quot; %% &quot;nscala-time&quot; % &quot;1.6.0&quot;  \r\n )\r\n\r\n\r\n//libraryDependencies ++= Seq(\r\n//  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;1.5.0-cdh5.5.0&quot; % &quot;provided&quot;,\r\n//  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;1.5.0-cdh5.5.0&quot; % &quot;provided&quot;,\r\n//  &quot;org.scalatest&quot;%&quot;scalatest_2.10&quot; % &quot;2.2.4&quot; % &quot;test&quot;,\r\n//  &quot;com.github.nscala-time&quot; %% &quot;nscala-time&quot; % &quot;1.6.0&quot;  \r\n// )\r\n  \r\n  \r\n  resolvers ++= Seq(\r\n\t&quot;cloudera&quot; at &quot;http://repository.cloudera.com/artifactory/cloudera-repos/&quot;,\r\n\t&quot;Job Server Bintray&quot; at &quot;http://dl.bintray.com/spark-jobserver/maven&quot;\r\n)\r\nscalacOptions ++= Seq(&quot;-unchecked&quot;, &quot;-deprecation&quot;)\r\n\r\nassemblyMergeStrategy in assembly := {\r\n  case PathList(&quot;META-INF&quot;, xs @ _*) =&gt; MergeStrategy.discard\r\n  case x =&gt; MergeStrategy.first\r\n}\r\n\r\nparallelExecution in Test := false\r\n\r\nfork in Test := true\r\n\r\njavaOptions ++= Seq(&quot;-Xms512M&quot;, &quot;-Xmx4048M&quot;, &quot;-XX:MaxPermSize=4048M&quot;, &quot;-XX:+CMSClassUnloadingEnabled&quot;)\r\n\r\n```","title":"How to fix scala.tools.nsc.typechecker.Contexts$Context.imports(Contexts.scala:232) in an sbt project?","body":"<p>The Issue is with the below Error,</p>\n\n<p>[error]         at scala.tools.nsc.typechecker.Typers$Typer.typedApply$1(Typers.scala:4580)\n[error]         at scala.tools.nsc.typechecker.Typers$Typer.typedInAnyMode$1(Typers.scala:5343)\n[error]         at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:5360)\n[error]         at scala.tools.nsc.typechecker.Typers$Typer.runTyper$1(Typers.scala:5396)\n[error] (Compile / compileIncremental) java.lang.StackOverflowError\n[error] Total time: 11 s, completed Apr 25, 2019 7:11:28 PM</p>\n\n<p>also tried to increase the jmx parameters\njavaOptions ++= Seq(\"-Xms512M\", \"-Xmx4048M\", \"-XX:MaxPermSize=4048M\", \"-XX:+CMSClassUnloadingEnabled\") but it didn't help. All the dependencies seems to resolve properly but this Error is kind of Struck.</p>\n\n<pre><code>build.properties\nsbt.version=1.2.8\n</code></pre>\n\n<pre><code>plugin.sbt\naddSbtPlugin(\"com.typesafe.sbteclipse\" % \"sbteclipse-plugin\" % \"5.2.4\")\naddSbtPlugin(\"org.scoverage\" % \"sbt-scoverage\" % \"1.5.1\")\naddSbtPlugin(\"com.eed3si9n\" % \"sbt-assembly\" % \"0.14.9\")\n</code></pre>\n\n<pre><code>And the build.sbt\n\nname := \"ProjectNew\"\n\nversion := \"4.0\"\n\nscalaVersion := \"2.11.8\"\n\n\n\nfork := true\n\nlibraryDependencies ++= Seq(\n  \"org.scalaz\" %% \"scalaz-core\" % \"7.1.0\" % \"test\",\n  (\"org.apache.spark\" %% \"spark-core\" % \"2.1.0.cloudera1\").\n    exclude(\"org.mortbay.jetty\", \"servlet-api\").\n    exclude(\"commons-beanutils\", \"commons-beanutils-core\").\n    //exclude(\"commons-collections\", \"commons-collections\").\n    exclude(\"com.esotericsoftware.minlog\", \"minlog\").\n    //exclude(\"org.apache.hadooop\",\"hadoop-client\").\n    exclude(\"commons-logging\", \"commons-logging\") % \"provided\",\n  (\"org.apache.spark\" %% \"spark-sql\" % \"2.1.0.cloudera1\")\n    .exclude(\"com.esotericsoftware.minlog\",\"minlog\")\n    //.exclude(\"org.apache.hadoop\",\"hadoop-client\")\n     % \"provided\",\n  (\"org.apache.spark\" %% \"spark-hive\" % \"2.1.0.cloudera1\")\n    .exclude(\"com.esotericsoftware.minlog\",\"minlog\")\n    //.exclude(\"org.apache.hadoop\",\"hadoop-client\")\n     % \"provided\",\n  \"spark.jobserver\" % \"job-server-api\" % \"0.4.0\",\n  \"org.scalatest\" %%\"scalatest\" % \"2.2.4\" % \"test\",\n   \"com.github.nscala-time\" %% \"nscala-time\" % \"1.6.0\"  \n )\n\n\n//libraryDependencies ++= Seq(\n//  \"org.apache.spark\" %% \"spark-core\" % \"1.5.0-cdh5.5.0\" % \"provided\",\n//  \"org.apache.spark\" %% \"spark-sql\" % \"1.5.0-cdh5.5.0\" % \"provided\",\n//  \"org.scalatest\"%\"scalatest_2.10\" % \"2.2.4\" % \"test\",\n//  \"com.github.nscala-time\" %% \"nscala-time\" % \"1.6.0\"  \n// )\n\n\n  resolvers ++= Seq(\n    \"cloudera\" at \"http://repository.cloudera.com/artifactory/cloudera-repos/\",\n    \"Job Server Bintray\" at \"http://dl.bintray.com/spark-jobserver/maven\"\n)\nscalacOptions ++= Seq(\"-unchecked\", \"-deprecation\")\n\nassemblyMergeStrategy in assembly := {\n  case PathList(\"META-INF\", xs @ _*) =&gt; MergeStrategy.discard\n  case x =&gt; MergeStrategy.first\n}\n\nparallelExecution in Test := false\n\nfork in Test := true\n\njavaOptions ++= Seq(\"-Xms512M\", \"-Xmx4048M\", \"-XX:MaxPermSize=4048M\", \"-XX:+CMSClassUnloadingEnabled\")\n\n</code></pre>\n"},{"tags":["java","windows","swagger","openapi","swagger-codegen"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681963025,"post_id":76060453,"comment_id":134142090,"body_markdown":"Why is the order important?","body":"Why is the order important?"}],"owner":{"account_id":14839841,"reputation":63,"user_id":10716900,"display_name":"lnash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681962890,"creation_date":1681962890,"question_id":76060453,"body_markdown":"Why does the output of **Yaml.pretty()** differ between **Linux** and **Windows** when using the **Swagger YAML utility**, and how can I generate the same output for both operating systems using Java?\r\n\r\nI noticed that when using **Yaml.pretty()** to generate YAML output in the Swagger YAML utility, the output can differ between Linux and Windows. I suspect this is due to differences in how these operating systems handle line breaks.\r\n\r\nCan you explain the reason for this difference and suggest how I can generate consistent output for both operating systems using Java?\r\n\r\nCode that I used\r\n```\r\nimport io.swagger.v3.core.util.Yaml;\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\n....\r\npublic String getYaml() {\r\n   return Yaml.pretty(this.openAPI);\r\n}\r\n```\r\noutput for Linux\r\n```\r\nopenapi: 3.0.1\r\ninfo:\r\n  title: PayloadV\r\n  version: 0.1.0\r\nservers:\r\n  - url: &quot;{server}:{port}/payloadV&quot;\r\n    variables:\r\n      server:\r\n        enum:\r\n          - http://petstore.openapi.io\r\n          - http://localhost\r\n        default: http://localhost\r\n      port:\r\n        enum:\r\n          - &quot;443&quot;\r\n          - &quot;80&quot;\r\n        default: &quot;80&quot;\r\npaths:\r\n...\r\n```\r\noutput for Windows\r\n```\r\nopenapi: 3.0.1\r\ninfo:\r\n  title: PayloadV\r\n  version: 0.1.0\r\nservers:\r\n  - url: &quot;{server}:{port}/payloadV&quot;\r\n    variables:\r\n      server:\r\n        default: http://localhost\r\n        enum:\r\n          - http://petstore.openapi.io\r\n          - http://localhost\r\n      port:\r\n        default: &quot;80&quot;\r\n        enum:\r\n          - &quot;443&quot;\r\n          - &quot;80&quot;   \r\npaths:\r\n...\r\n```\r\nIt has a different order for server variables enum and default property.","title":"Why does swagger util `Yaml.pretty()` give different out put for same OpenAPI content in Windows and Linux OS? How to fix this to have same output?","body":"<p>Why does the output of <strong>Yaml.pretty()</strong> differ between <strong>Linux</strong> and <strong>Windows</strong> when using the <strong>Swagger YAML utility</strong>, and how can I generate the same output for both operating systems using Java?</p>\n<p>I noticed that when using <strong>Yaml.pretty()</strong> to generate YAML output in the Swagger YAML utility, the output can differ between Linux and Windows. I suspect this is due to differences in how these operating systems handle line breaks.</p>\n<p>Can you explain the reason for this difference and suggest how I can generate consistent output for both operating systems using Java?</p>\n<p>Code that I used</p>\n<pre><code>import io.swagger.v3.core.util.Yaml;\nimport io.swagger.v3.oas.models.OpenAPI;\n....\npublic String getYaml() {\n   return Yaml.pretty(this.openAPI);\n}\n</code></pre>\n<p>output for Linux</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: PayloadV\n  version: 0.1.0\nservers:\n  - url: &quot;{server}:{port}/payloadV&quot;\n    variables:\n      server:\n        enum:\n          - http://petstore.openapi.io\n          - http://localhost\n        default: http://localhost\n      port:\n        enum:\n          - &quot;443&quot;\n          - &quot;80&quot;\n        default: &quot;80&quot;\npaths:\n...\n</code></pre>\n<p>output for Windows</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: PayloadV\n  version: 0.1.0\nservers:\n  - url: &quot;{server}:{port}/payloadV&quot;\n    variables:\n      server:\n        default: http://localhost\n        enum:\n          - http://petstore.openapi.io\n          - http://localhost\n      port:\n        default: &quot;80&quot;\n        enum:\n          - &quot;443&quot;\n          - &quot;80&quot;   \npaths:\n...\n</code></pre>\n<p>It has a different order for server variables enum and default property.</p>\n"},{"tags":["java","eclipse","windowbuilder","eclipse-photon"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1536280679,"post_id":52213114,"comment_id":91376975,"body_markdown":"[1] I had the same problem downloading 4.8 as you, but that issue is off topic for StackOverflow. [2] The other issue (_&quot;Eclipse running under 0&quot;_) is because you are using Java 10. WindowBuilder has compatibility issues with that, so use Java 8 or Java 9 instead. Possible duplicate of [Eclipse Oxygen Window Builder Error with Java SE 10.0.1](https://stackoverflow.com/q/50124714/2985643). Also see [Incompatible Java Versions for WindowBuilder](https://stackoverflow.com/q/51408029/2985643).","body":"[1] I had the same problem downloading 4.8 as you, but that issue is off topic for StackOverflow. [2] The other issue (<i>&quot;Eclipse running under 0&quot;</i>) is because you are using Java 10. WindowBuilder has compatibility issues with that, so use Java 8 or Java 9 instead. Possible duplicate of <a href=\"https://stackoverflow.com/q/50124714/2985643\">Eclipse Oxygen Window Builder Error with Java SE 10.0.1</a>. Also see <a href=\"https://stackoverflow.com/q/51408029/2985643\">Incompatible Java Versions for WindowBuilder</a>."},{"owner":{"account_id":1535286,"reputation":553,"user_id":1431510,"display_name":"Yaza"},"score":0,"creation_date":1536831734,"post_id":52213114,"comment_id":91568828,"body_markdown":"This has been fixed in windowbuilder 1.9.1 Please upgrade\nhttps://www.eclipse.org/windowbuilder/download.php","body":"This has been fixed in windowbuilder 1.9.1 Please upgrade <a href=\"https://www.eclipse.org/windowbuilder/download.php\" rel=\"nofollow noreferrer\">eclipse.org/windowbuilder/download.php</a>"}],"answers":[{"tags":[],"owner":{"account_id":9276236,"reputation":11,"user_id":6888823,"display_name":"Davide Daffonchio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536322861,"creation_date":1536322861,"answer_id":52222477,"question_id":52213114,"body_markdown":"I finally found a solution here https://stackoverflow.com/questions/50427447/eclipse-windowbuilder-incompatible-java by modifying the .ini file in the eclipse root i managed to open window builder with jdk 1.8!","title":"Cannot install windowbuilder plugin on eclipse photon","body":"<p>I finally found a solution here <a href=\"https://stackoverflow.com/questions/50427447/eclipse-windowbuilder-incompatible-java\">Eclipse Windowbuilder Incompatible Java</a> by modifying the .ini file in the eclipse root i managed to open window builder with jdk 1.8!</p>\n"},{"tags":[],"owner":{"account_id":28325699,"reputation":1,"user_id":21660743,"display_name":"yakuzeTheSamurai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681962052,"creation_date":1681705789,"answer_id":76031725,"question_id":52213114,"body_markdown":"1. Check your Eclipse version: Windows builder requires a specific version of Eclipse to run. You can check on Windows Builder Website.\r\n    \r\n2. Check your Eclipse installation to make sure there are no corrupt files, you can try reinstalling.\r\n    \r\n3. Use Eclipse Marketplace: Open Eclipse and go to Help&gt; Eclipse Marketplace, then search for Windows Builder and follow the installation prompts.","title":"Cannot install windowbuilder plugin on eclipse photon","body":"<ol>\n<li><p>Check your Eclipse version: Windows builder requires a specific version of Eclipse to run. You can check on Windows Builder Website.</p>\n</li>\n<li><p>Check your Eclipse installation to make sure there are no corrupt files, you can try reinstalling.</p>\n</li>\n<li><p>Use Eclipse Marketplace: Open Eclipse and go to Help&gt; Eclipse Marketplace, then search for Windows Builder and follow the installation prompts.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9276236,"reputation":11,"user_id":6888823,"display_name":"Davide Daffonchio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681962052,"creation_date":1536274777,"question_id":52213114,"body_markdown":"I&#39;ve installed eclipse photon on my new pc (with ubuntu 18).\r\nWhen i try to get it from the marketplace or from the link (http://download.eclipse.org/windowbuilder/WB/integration/4.8/) i get this error:\r\n\r\nNo repository found at http://download.eclipse.org/windowbuilder/WB/integration/4.8/.\r\n\r\nI tried to install the previous version, but i get the &quot;Eclipse running under 0&quot; error when i try to open a java file with windowbuilder. How can i solve this?","title":"Cannot install windowbuilder plugin on eclipse photon","body":"<p>I've installed eclipse photon on my new pc (with ubuntu 18).\nWhen i try to get it from the marketplace or from the link (<a href=\"http://download.eclipse.org/windowbuilder/WB/integration/4.8/\" rel=\"nofollow noreferrer\">http://download.eclipse.org/windowbuilder/WB/integration/4.8/</a>) i get this error:</p>\n\n<p>No repository found at <a href=\"http://download.eclipse.org/windowbuilder/WB/integration/4.8/\" rel=\"nofollow noreferrer\">http://download.eclipse.org/windowbuilder/WB/integration/4.8/</a>.</p>\n\n<p>I tried to install the previous version, but i get the \"Eclipse running under 0\" error when i try to open a java file with windowbuilder. How can i solve this?</p>\n"},{"tags":["java","variables","binary","bitwise-operators"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681961464,"creation_date":1681961464,"answer_id":76060358,"question_id":76060227,"body_markdown":"In java, really only `int`, `double`, `float`, `long`, and `boolean` are the true primitives. `short`, `char`, and `byte` are inferior half-non-existent types.\r\n\r\nYou can create arrays of them (`byte[]` exists), and use them as a type (`byte a;` is legal), but in math operations __there is no such thing as a byte, short, or char__.\r\n\r\nGiven:\r\n\r\n```\r\nbyte a = 5;\r\nbyte b = 10;\r\n```\r\n\r\nThe expression `a + b` is of type int. As in, if you try this stunt:\r\n\r\n```\r\npublic void test(int a) {\r\n  System.out.println(&quot;The int variant&quot;);\r\n}\r\n\r\npublic void test(byte a) {\r\n  System.out.println(&quot;The byte variant&quot;);\r\n}\r\n\r\nbyte x = 5;\r\nbyte y = 10;\r\ntest(x + y);\r\n```\r\n\r\nYou would see... &quot;The int variant&quot;.\r\n\r\nTo do what you want to do here, add casts to `byte`: `byte b = (byte) (a &lt;&lt; 2);`.\r\n\r\n\r\nNB: In Bytecode, i.e. the stuff in class files; what `javac` makes for you, bytes, booleans, shorts, and floats do not exist at all. There&#39;s `DADD`, `FADD`, `IADD`, and `LADD` (for double/float/int/long respectively). There are no short, char, or byte variants.\r\n\r\nThe reason is fairly simple: Given that CPUs when java was created were almost all at least 32-bit (and in fact, today, almost all are 64-bit), you gain absolutely nothing whatsoever by using fewer bits; if anything, it would be _slower_, not faster.\r\n\r\nJava &#39;correctly&#39; packs byte arrays (each entry in a byte array only takes 8 bits, not more). That&#39;s the only time where &#39;... but bytes are small!&#39; is relevant, and java does the correct thing there.\r\n","title":"Confusion in Variable type int and Byte during Left shift operator","body":"<p>In java, really only <code>int</code>, <code>double</code>, <code>float</code>, <code>long</code>, and <code>boolean</code> are the true primitives. <code>short</code>, <code>char</code>, and <code>byte</code> are inferior half-non-existent types.</p>\n<p>You can create arrays of them (<code>byte[]</code> exists), and use them as a type (<code>byte a;</code> is legal), but in math operations <strong>there is no such thing as a byte, short, or char</strong>.</p>\n<p>Given:</p>\n<pre><code>byte a = 5;\nbyte b = 10;\n</code></pre>\n<p>The expression <code>a + b</code> is of type int. As in, if you try this stunt:</p>\n<pre><code>public void test(int a) {\n  System.out.println(&quot;The int variant&quot;);\n}\n\npublic void test(byte a) {\n  System.out.println(&quot;The byte variant&quot;);\n}\n\nbyte x = 5;\nbyte y = 10;\ntest(x + y);\n</code></pre>\n<p>You would see... &quot;The int variant&quot;.</p>\n<p>To do what you want to do here, add casts to <code>byte</code>: <code>byte b = (byte) (a &lt;&lt; 2);</code>.</p>\n<p>NB: In Bytecode, i.e. the stuff in class files; what <code>javac</code> makes for you, bytes, booleans, shorts, and floats do not exist at all. There's <code>DADD</code>, <code>FADD</code>, <code>IADD</code>, and <code>LADD</code> (for double/float/int/long respectively). There are no short, char, or byte variants.</p>\n<p>The reason is fairly simple: Given that CPUs when java was created were almost all at least 32-bit (and in fact, today, almost all are 64-bit), you gain absolutely nothing whatsoever by using fewer bits; if anything, it would be <em>slower</em>, not faster.</p>\n<p>Java 'correctly' packs byte arrays (each entry in a byte array only takes 8 bits, not more). That's the only time where '... but bytes are small!' is relevant, and java does the correct thing there.</p>\n"}],"owner":{"account_id":28355560,"reputation":3,"user_id":21686362,"display_name":"Hemant Singh Tanwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76060358,"answer_count":1,"score":0,"last_activity_date":1681961464,"creation_date":1681959793,"question_id":76060227,"body_markdown":"In left Shift.... I choose all Variables type are Byte. But there is an error show about incompatible types.\r\n\r\n[that is what i&#39;m trying to do in Code](https://i.stack.imgur.com/Bjle0.png)","title":"Confusion in Variable type int and Byte during Left shift operator","body":"<p>In left Shift.... I choose all Variables type are Byte. But there is an error show about incompatible types.</p>\n<p><a href=\"https://i.stack.imgur.com/Bjle0.png\" rel=\"nofollow noreferrer\">that is what i'm trying to do in Code</a></p>\n"},{"tags":["java","spring-boot","jpa","builder"],"owner":{"account_id":28355744,"reputation":1,"user_id":21686516,"display_name":"ike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681961229,"creation_date":1681961229,"question_id":76060340,"body_markdown":"Within Spring Boot, I have an entity class that I am currently constructing with a builder since it contains many parameters. I want to compute and store additional fields relevant to the entity on/before object construction, but computing these fields requires database queries. I can&#39;t access the database from a static context, and I&#39;d like to avoid using some sort of non-static additional service to setup my entity objects (I&#39;d like the computation and storage of these additional fields to be inseparable with entity creation).\r\n\r\nIt seems incorrect to auto-wire a repository into my entity class in any way. How do I go about implementing something like this, or is there a better way to architect my system to avoid this?","title":"Is there a way to access spring boot&#39;s database from a static inner builder class/method for an entity?","body":"<p>Within Spring Boot, I have an entity class that I am currently constructing with a builder since it contains many parameters. I want to compute and store additional fields relevant to the entity on/before object construction, but computing these fields requires database queries. I can't access the database from a static context, and I'd like to avoid using some sort of non-static additional service to setup my entity objects (I'd like the computation and storage of these additional fields to be inseparable with entity creation).</p>\n<p>It seems incorrect to auto-wire a repository into my entity class in any way. How do I go about implementing something like this, or is there a better way to architect my system to avoid this?</p>\n"},{"tags":["java","spring","spring-bean"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1681957701,"post_id":76060028,"comment_id":134141613,"body_markdown":"What&#39;s the *full* error message and stack trace?","body":"What&#39;s the <i>full</i> error message and stack trace?"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1681959775,"post_id":76060028,"comment_id":134141810,"body_markdown":"Hi I have updated the question. I guess I dont have any bean of type `String` which can be autowired into `createScopedBeans`.","body":"Hi I have updated the question. I guess I dont have any bean of type <code>String</code> which can be autowired into <code>createScopedBeans</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681971066,"post_id":76060028,"comment_id":134142995,"body_markdown":"That is not how it works. You won&#39;t get a reference to all prototype scoped beans, if it would even be possible to create an instance, you would get a list of 1 bean. Each reference to bean of type A will lead to the creation of a new bean.","body":"That is not how it works. You won&#39;t get a reference to all prototype scoped beans, if it would even be possible to create an instance, you would get a list of 1 bean. Each reference to bean of type A will lead to the creation of a new bean."},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1681973999,"post_id":76060028,"comment_id":134143471,"body_markdown":"So if I want to autowire all instances `A` I need to create them as singleton beans ?","body":"So if I want to autowire all instances <code>A</code> I need to create them as singleton beans ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681977513,"post_id":76060028,"comment_id":134144177,"body_markdown":"If you want all instances that is the way to go, as the context doesn&#39;t keep track of prototype scoped instances, as the lifecycle isn&#39;t controlled by the Spring container but the actual component that it is being injected into.","body":"If you want all instances that is the way to go, as the context doesn&#39;t keep track of prototype scoped instances, as the lifecycle isn&#39;t controlled by the Spring container but the actual component that it is being injected into."}],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681959755,"creation_date":1681956484,"question_id":76060028,"body_markdown":"I currently have the following code\r\n```\r\n@Bean\r\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\npublic A createScopedBeans(String s) {\r\n   return new A(s);\r\n}\r\n```\r\nThis function above is being called multiple times and each time it creates a new bean/instance. \r\nI also have another function as follows\r\n```\r\n@Bean\r\npublic Manager manager(List&lt;A&gt; list) {\r\n    return new Manager(list)\r\n}\r\n```\r\nSo this should load all beans of type `A` and help create the bean of type `Manager`\r\nHowever I get an error which says\r\n`UnsatisfiedDependencyException: Error creating bean with name &#39;createScopedBeans&#39;`\r\n\r\nIs it looking for a singleton bean of type `A` ?\r\nHow can I get around this ?\r\n\r\nFull exception:\r\n\r\n```2023-04-19 15:09:31.100 [main] [WARN ] o.s.c.a.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;manager&#39; defined in xxx.xxx: Unsatisfied dependency expressed through method &#39;manager&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;createScopedBeans&#39; defined in yyy.yyy: Unsatisfied dependency expressed through method &#39;createScopedBeans&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}```","title":"Function for creating scoped beans causing UnsatisfiedDependencyException due to absence of singleton bean?","body":"<p>I currently have the following code</p>\n<pre><code>@Bean\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic A createScopedBeans(String s) {\n   return new A(s);\n}\n</code></pre>\n<p>This function above is being called multiple times and each time it creates a new bean/instance.\nI also have another function as follows</p>\n<pre><code>@Bean\npublic Manager manager(List&lt;A&gt; list) {\n    return new Manager(list)\n}\n</code></pre>\n<p>So this should load all beans of type <code>A</code> and help create the bean of type <code>Manager</code>\nHowever I get an error which says\n<code>UnsatisfiedDependencyException: Error creating bean with name 'createScopedBeans'</code></p>\n<p>Is it looking for a singleton bean of type <code>A</code> ?\nHow can I get around this ?</p>\n<p>Full exception:</p>\n<p><code>2023-04-19 15:09:31.100 [main] [WARN ] o.s.c.a.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'manager' defined in xxx.xxx: Unsatisfied dependency expressed through method 'manager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'createScopedBeans' defined in yyy.yyy: Unsatisfied dependency expressed through method 'createScopedBeans' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</code></p>\n"},{"tags":["java","spring-boot","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":20427321,"reputation":111,"user_id":21686446,"display_name":"Simon Geard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681959376,"creation_date":1681959376,"answer_id":76060201,"question_id":76060162,"body_markdown":"There&#39;s no Project option for Java because Gradle build scripts are not written in Java... only in Groovy or Kotlin. To select the language your application is built in, you should be looking at Language, not Project.","title":"start.spring.io does not have Gradle version","body":"<p>There's no Project option for Java because Gradle build scripts are not written in Java... only in Groovy or Kotlin. To select the language your application is built in, you should be looking at Language, not Project.</p>\n"}],"owner":{"account_id":17800927,"reputation":11,"user_id":12927720,"display_name":"aCodeRancher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681959376,"creation_date":1681958904,"question_id":76060162,"body_markdown":"I tried to use start.spring.io to create a new Java Gradle project. But today, I found out that there are only two Gradle options - Groovy and Kotlin. I don&#39;t see any Gradle for Java.\r\n\r\nI created a Java Gradle-Groovy project, but the Spring Boot dependency cannot be imported.\r\n\r\nI tried to use start.spring.io to create a brand new Gradle project in Java. I expect to have the Spring Boot dependencies loaded. But they are not loaded.","title":"start.spring.io does not have Gradle version","body":"<p>I tried to use start.spring.io to create a new Java Gradle project. But today, I found out that there are only two Gradle options - Groovy and Kotlin. I don't see any Gradle for Java.</p>\n<p>I created a Java Gradle-Groovy project, but the Spring Boot dependency cannot be imported.</p>\n<p>I tried to use start.spring.io to create a brand new Gradle project in Java. I expect to have the Spring Boot dependencies loaded. But they are not loaded.</p>\n"},{"tags":["java","web-services","gradle","soap","java-17"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1681976556,"post_id":76060189,"comment_id":134143974,"body_markdown":"hello and welcome to StackOverflow. Please share the solution which you have tried to resolve your issue. Please share what problems (error code, error message), which you have encountered.","body":"hello and welcome to StackOverflow. Please share the solution which you have tried to resolve your issue. Please share what problems (error code, error message), which you have encountered."},{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1682028856,"post_id":76060189,"comment_id":134155779,"body_markdown":"Does this answer your question? [Generate java from wsdl](https://stackoverflow.com/questions/73005780/generate-java-from-wsdl)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73005780/generate-java-from-wsdl\">Generate java from wsdl</a>"}],"owner":{"account_id":28355608,"reputation":21,"user_id":21686405,"display_name":"Sumit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681959268,"creation_date":1681959268,"question_id":76060189,"body_markdown":"I got the wsdl from client and need to generate stubs from that wsdl but condition is it should be **using jdk 17 and gradle 7.6. **\r\n\r\nTried multiple ways but always face issue with jars compatibility which is working in the older java version. \r\n\r\nI am expecting build.gradle file which read the wsdl file and generate java objects in build/generated folder using jdk 17","title":"Generate stubs from WSDL using jdk 17 and gradle 7.6","body":"<p>I got the wsdl from client and need to generate stubs from that wsdl but condition is it should be **using jdk 17 and gradle 7.6. **</p>\n<p>Tried multiple ways but always face issue with jars compatibility which is working in the older java version.</p>\n<p>I am expecting build.gradle file which read the wsdl file and generate java objects in build/generated folder using jdk 17</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"owner":{"account_id":25810139,"reputation":3,"user_id":19551052,"display_name":"thgtveh7031"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681958973,"creation_date":1681958973,"question_id":76060164,"body_markdown":"I am writing a Spring Boot Application on creating and managing personal note. I have a Note entity class which have createdDate attribute with annotations like this\r\n`\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @Size(max=30)\r\n    private String title;\r\n\r\n    private String content;\r\n\r\n    @CreationTimestamp\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(nullable = false, updatable = false)\r\n    private Date createdDate;\r\n\r\n    @UpdateTimestamp\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date updatedDate;\r\n\r\n`\r\n\r\nI wrote a NoteService method to update the note\r\n`\r\n\r\n    @Override\r\n    public Note updateNote(Note note) {\r\n        return noteRepository.save(note);\r\n    }\r\n`\r\n\r\nI wrote an updateNote method in NoteController to call.\r\n`\r\n\r\n    @@PutMapping(&quot;/notes/{note_id}&quot;)\r\n    public NoteDTO updateNote(@RequestBody Note note, @PathVariable Long note_id) throws IOException {\r\n        note.setId(note_id);\r\n        Note updatedNote = noteService.updateNote(note);\r\n        NoteDTO noteDTO = modelMapper.map(updatedNote, NoteDTO.class);\r\n        return noteDTO;\r\n    }\r\n`\r\n\r\nI committed a API test with postmna to check if I send a PUT request with provided createdDate will it update the createdDate column. \r\n\r\nAfter send request, I received response with createdDate updated but when I check the database it still be the same\r\n[Postman API test](https://i.stack.imgur.com/RtYxZ.png)\r\n\r\nWhen I check database record\r\n[Database record](https://i.stack.imgur.com/RMpX8.png)\r\n\r\nI tried to change controller method code. After updating the note using noteService.updateNote(note) I call the method Note updatedNote =  noteService.getNoteById(note_id) but the problem still be same","title":"Testing to update a non-updatable column in Spring Boot Application, the value in database is not changed but the return value from method is changed","body":"<p>I am writing a Spring Boot Application on creating and managing personal note. I have a Note entity class which have createdDate attribute with annotations like this\n`</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@NotBlank\n@Size(max=30)\nprivate String title;\n\nprivate String content;\n\n@CreationTimestamp\n@Temporal(TemporalType.TIMESTAMP)\n@Column(nullable = false, updatable = false)\nprivate Date createdDate;\n\n@UpdateTimestamp\n@Temporal(TemporalType.TIMESTAMP)\nprivate Date updatedDate;\n</code></pre>\n<p>`</p>\n<p>I wrote a NoteService method to update the note\n`</p>\n<pre><code>@Override\npublic Note updateNote(Note note) {\n    return noteRepository.save(note);\n}\n</code></pre>\n<p>`</p>\n<p>I wrote an updateNote method in NoteController to call.\n`</p>\n<pre><code>@@PutMapping(&quot;/notes/{note_id}&quot;)\npublic NoteDTO updateNote(@RequestBody Note note, @PathVariable Long note_id) throws IOException {\n    note.setId(note_id);\n    Note updatedNote = noteService.updateNote(note);\n    NoteDTO noteDTO = modelMapper.map(updatedNote, NoteDTO.class);\n    return noteDTO;\n}\n</code></pre>\n<p>`</p>\n<p>I committed a API test with postmna to check if I send a PUT request with provided createdDate will it update the createdDate column.</p>\n<p>After send request, I received response with createdDate updated but when I check the database it still be the same\n<a href=\"https://i.stack.imgur.com/RtYxZ.png\" rel=\"nofollow noreferrer\">Postman API test</a></p>\n<p>When I check database record\n<a href=\"https://i.stack.imgur.com/RMpX8.png\" rel=\"nofollow noreferrer\">Database record</a></p>\n<p>I tried to change controller method code. After updating the note using noteService.updateNote(note) I call the method Note updatedNote =  noteService.getNoteById(note_id) but the problem still be same</p>\n"},{"tags":["java","queue","computer-science"],"comments":[{"owner":{"account_id":8623377,"reputation":9580,"user_id":6457407,"display_name":"Frank Yellin"},"score":0,"creation_date":1682017594,"post_id":76060161,"comment_id":134153819,"body_markdown":"Your code really doesn&#39;t make much sense.  You have three variables &quot;front&quot;, &quot;back&quot;, and &quot;size&quot;, but it&#39;s not clear what the relationship between them is, or why you need more than two of them.  Write an invariant about the relationship between these variables, and what this means about which elements of the array are in the queue.  For example, why, if back == 0, do you set front = 0?  This makes no sense in a circular queue.  I think you&#39;re best off starting over and paying attention to the definition of your queue.","body":"Your code really doesn&#39;t make much sense.  You have three variables &quot;front&quot;, &quot;back&quot;, and &quot;size&quot;, but it&#39;s not clear what the relationship between them is, or why you need more than two of them.  Write an invariant about the relationship between these variables, and what this means about which elements of the array are in the queue.  For example, why, if back == 0, do you set front = 0?  This makes no sense in a circular queue.  I think you&#39;re best off starting over and paying attention to the definition of your queue."}],"owner":{"account_id":28355577,"reputation":1,"user_id":21686377,"display_name":"lolunkash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681958900,"creation_date":1681958900,"question_id":76060161,"body_markdown":"I am trying to work with an array-like queue(circlequeue) and trying to dequeue the first element. Here is my implementation, however, it does not decrements the size variable correctly where it removes the last object. Why is this happening?\r\n\r\n    public Bottle dequeue() throws NoSuchElementException {\r\n        if (isEmpty() || front == -1) {\r\n            throw new NoSuchElementException(&quot;queue is empty&quot;);\r\n    }\r\n    Bottle tempt = bottles\\[front\\];\r\n    if (front == back) { // when there is only one element in the queue\r\n        front = -1;\r\n        back = -1;\r\n        return tempt;\r\n    }\r\n    if (front == size - 1) { // when front is the end of the array, set it to first index\r\n        front = 0;\r\n    } else if (back == 0) {\r\n        front = back;\r\n    } else { // when front is not the end of the array nor\r\n        front = (front) % bottles.length;\r\n    }\r\n    bottles\\[front\\] = null;\r\n    return tempt;\r\n    }\r\n\r\nwhen I tried to add &quot;size--;&quot; after all the if and else statement it removes my last element.","title":"Decrementing Field Size and dequeue() method","body":"<p>I am trying to work with an array-like queue(circlequeue) and trying to dequeue the first element. Here is my implementation, however, it does not decrements the size variable correctly where it removes the last object. Why is this happening?</p>\n<pre><code>public Bottle dequeue() throws NoSuchElementException {\n    if (isEmpty() || front == -1) {\n        throw new NoSuchElementException(&quot;queue is empty&quot;);\n}\nBottle tempt = bottles\\[front\\];\nif (front == back) { // when there is only one element in the queue\n    front = -1;\n    back = -1;\n    return tempt;\n}\nif (front == size - 1) { // when front is the end of the array, set it to first index\n    front = 0;\n} else if (back == 0) {\n    front = back;\n} else { // when front is not the end of the array nor\n    front = (front) % bottles.length;\n}\nbottles\\[front\\] = null;\nreturn tempt;\n}\n</code></pre>\n<p>when I tried to add &quot;size--;&quot; after all the if and else statement it removes my last element.</p>\n"},{"tags":["java","hibernate","criteria","hibernate-criteria","criteria-api"],"comments":[{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":0,"creation_date":1681954210,"post_id":76059770,"comment_id":134141283,"body_markdown":"Please check the below references which uses multiple queries instead one query to solve multiplebagfetchexception https://stackoverflow.com/questions/66196630/build-criteria-api-query-to-avoid-multiplebagfetchexception .","body":"Please check the below references which uses multiple queries instead one query to solve multiplebagfetchexception <a href=\"https://stackoverflow.com/questions/66196630/build-criteria-api-query-to-avoid-multiplebagfetchexception\" title=\"build criteria api query to avoid multiplebagfetchexception\">stackoverflow.com/questions/66196630/&hellip;</a> ."},{"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"score":1,"creation_date":1681959042,"post_id":76059770,"comment_id":134141733,"body_markdown":"@madhawaOnline thanks for the suggestion, i would do this if all of the related records i wanted to fetch were inside my AEntity, however they are all nested inside each other like Russian nesting dolls. How would i do it in this case?","body":"@madhawaOnline thanks for the suggestion, i would do this if all of the related records i wanted to fetch were inside my AEntity, however they are all nested inside each other like Russian nesting dolls. How would i do it in this case?"}],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681958839,"creation_date":1681951415,"question_id":76059770,"body_markdown":"I&#39;m writing a criteria api request to resolve some N+1 issues. My entities looks something like this:\r\n```\r\nAEntity\r\n  ...\r\n  List&lt;BEntity&gt;\r\nBEntity\r\n  ...\r\n  List&lt;CEntity&gt;\r\nCEntity\r\n  ...\r\n  List&lt;DEntity&gt;\r\nDEntity\r\n  ...\r\n```\r\n\r\nWhen i run the query hibernate blows up and gives me this error message:\r\n```\r\norg.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.company.crs.model.AEntity.bEntityList, org.company.crs.model.BEntity.cEntityList, org.company.crs.model.CEntity.dEntityList]\r\n```\r\n\r\nAll that from this innocent looking code:\r\n```\r\n\t\tCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;AEntity&gt; query = criteriaBuilder.createQuery(AEntity.class);\r\n\t\tRoot&lt;AEntity&gt; conference = query.from(AEntity.class);\r\n\r\n\t\tFetch&lt;AEntity, BEntity&gt; pages = conference.fetch(AEntity_.bEntityList, JoinType.LEFT);\r\n\t\tFetch&lt;BEntity, CEntity&gt; blocks = pages.fetch(BEntity_.cEntityList, JoinType.LEFT);\r\n\t\tFetch&lt;CEntity, DEntity&gt; rules = blocks.fetch(CEntity_.dEntityList, JoinType.LEFT);\r\n\r\n\t\tPredicate idPredicate =\r\n\t\t\tcriteriaBuilder.equal(criteriaBuilder.literal(AEntity_.id), criteriaBuilder.literal(id));\r\n\r\n\t\tquery.where(idPredicate);\r\n\r\n\t\treturn entityManager.createQuery(query).getSingleResult();\r\n```\r\n\r\nWondering what options i have as a workaround to still load all related records in B, C &amp; D preferably using the criteria API? Is this even possible? Do i need to create a separate query?\r\n\r\nThanks in advance.","title":"Hibernate work around for MultipleBagFetchException","body":"<p>I'm writing a criteria api request to resolve some N+1 issues. My entities looks something like this:</p>\n<pre><code>AEntity\n  ...\n  List&lt;BEntity&gt;\nBEntity\n  ...\n  List&lt;CEntity&gt;\nCEntity\n  ...\n  List&lt;DEntity&gt;\nDEntity\n  ...\n</code></pre>\n<p>When i run the query hibernate blows up and gives me this error message:</p>\n<pre><code>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [org.company.crs.model.AEntity.bEntityList, org.company.crs.model.BEntity.cEntityList, org.company.crs.model.CEntity.dEntityList]\n</code></pre>\n<p>All that from this innocent looking code:</p>\n<pre><code>        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;AEntity&gt; query = criteriaBuilder.createQuery(AEntity.class);\n        Root&lt;AEntity&gt; conference = query.from(AEntity.class);\n\n        Fetch&lt;AEntity, BEntity&gt; pages = conference.fetch(AEntity_.bEntityList, JoinType.LEFT);\n        Fetch&lt;BEntity, CEntity&gt; blocks = pages.fetch(BEntity_.cEntityList, JoinType.LEFT);\n        Fetch&lt;CEntity, DEntity&gt; rules = blocks.fetch(CEntity_.dEntityList, JoinType.LEFT);\n\n        Predicate idPredicate =\n            criteriaBuilder.equal(criteriaBuilder.literal(AEntity_.id), criteriaBuilder.literal(id));\n\n        query.where(idPredicate);\n\n        return entityManager.createQuery(query).getSingleResult();\n</code></pre>\n<p>Wondering what options i have as a workaround to still load all related records in B, C &amp; D preferably using the criteria API? Is this even possible? Do i need to create a separate query?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","selenium-webdriver","webautomation"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681957545,"post_id":76060014,"comment_id":134141600,"body_markdown":"Please fix the formatting of your question. The code isn&#39;t all formatted as code and the text description needs to be formatted properly.","body":"Please fix the formatting of your question. The code isn&#39;t all formatted as code and the text description needs to be formatted properly."}],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681957868,"creation_date":1681957868,"answer_id":76060100,"question_id":76060014,"body_markdown":"If you put a breakpoint on `driver = initializeDriver();` inside `launchWebsite()` and the step through the code, you&#39;d see exactly what the problem is. You should spend some time learning to debug your own problems so that you can become more proficient at finding and fixing your own issues.\r\n\r\nThe problem is that you are calling `launchWebsite()` twice.\r\n\r\n1. You have `launchWebsite()` marked as `@BeforeMethod(alwaysRun=true)`\r\n\r\n       @BeforeMethod(alwaysRun=true)\r\n       public LandingPage launchWebsite()\r\n\r\n1. then you call it again in the first line of the `submitOrder()` test.\r\n\r\nI would remove the `@BeforeMethod(alwaysRun=true)` annotation because you are going to need the return instance of `LandingPage` inside of each test.","title":"2 Chrome Browsers opening during UI automation using Selenium and Java","body":"<p>If you put a breakpoint on <code>driver = initializeDriver();</code> inside <code>launchWebsite()</code> and the step through the code, you'd see exactly what the problem is. You should spend some time learning to debug your own problems so that you can become more proficient at finding and fixing your own issues.</p>\n<p>The problem is that you are calling <code>launchWebsite()</code> twice.</p>\n<ol>\n<li><p>You have <code>launchWebsite()</code> marked as <code>@BeforeMethod(alwaysRun=true)</code></p>\n<pre><code>@BeforeMethod(alwaysRun=true)\npublic LandingPage launchWebsite()\n</code></pre>\n</li>\n<li><p>then you call it again in the first line of the <code>submitOrder()</code> test.</p>\n</li>\n</ol>\n<p>I would remove the <code>@BeforeMethod(alwaysRun=true)</code> annotation because you are going to need the return instance of <code>LandingPage</code> inside of each test.</p>\n"}],"owner":{"account_id":28355291,"reputation":3,"user_id":21686141,"display_name":"anoopezhap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76060100,"answer_count":1,"score":0,"last_activity_date":1681957868,"creation_date":1681956243,"question_id":76060014,"body_markdown":"I have 3 classes as below\r\n\r\n`public class SubmitOrderTest extends DefaultTest {\r\n\r\n\t\r\n\t@Test\r\n\tpublic void submitOrder()\r\n\t{\r\n\t\tLandingPage landingPage = launchWebsite();\r\n\t\tlandingPage.login(&quot;standard_user&quot;, &quot;secret_sauce&quot;);\r\n\t\tString errorMessage = landingPage.getErrorMessage();\r\n\t}\r\n\t\r\n\t\r\n}`\r\n\r\n`public class DefaultTest {\r\n\t\r\n\tpublic WebDriver driver;\r\n\tpublic LandingPage landingPage;\r\n\t\r\n\t//Method to initialize driver\r\n\tpublic WebDriver initializeDriver() \r\n\t{\r\n\t\tdriver=new ChromeDriver();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\r\n\t\tdriver.manage().window().maximize();\r\n\t\treturn driver;\r\n\t}\r\n\t\r\n\t\r\n\t//Method to open the browser and website before each test\r\n\t@BeforeMethod(alwaysRun=true)\r\n\tpublic LandingPage launchWebsite() \r\n\t{\r\n\t\tdriver = initializeDriver();\r\n\t\tlandingPage = new LandingPage(driver);\r\n\t\tlandingPage.goTo();\r\n\t\treturn landingPage;\r\n\t}\r\n\t\r\n\t//Method to close browser after each test\r\n\t@AfterMethod(alwaysRun=true)\r\n\tpublic void tearDown()\r\n\t{\r\n\t\tdriver.close();\r\n\t}\r\n\r\n\r\n`\r\n\r\n`public class LandingPage extends AbstractComponents {\r\n\r\n\tWebDriver driver;\r\n\tpublic LandingPage(WebDriver driver) \r\n\t{\r\n\t\tsuper(driver);\r\n\t\tthis.driver=driver;\r\n\t\tPageFactory.initElements(driver, this);\r\n\t}\r\n\t\r\n\t@FindBy(id = &quot;user-name&quot;)\r\n\tWebElement userName;\r\n\t\r\n\t@FindBy(id = &quot;password&quot;)\r\n\tWebElement userPassword;\r\n\t\r\n\t@FindBy(id =&quot;login-button&quot;)\r\n\tWebElement loginButton;\r\n\t\r\n\t@FindBy(xpath = &quot;//h3[@data-test=&#39;error&#39;]&quot;)\r\n\tWebElement errorMessage;\r\n\t\r\n\t\r\n\tpublic void goTo()\r\n\t{\r\n\t\tdriver.get(&quot;https://www.saucedemo.com/&quot;);\r\n\t}\r\n\t\r\n\tpublic void login(String email, String password)\r\n\t{\r\n\t\tuserName.sendKeys(email);\r\n\t\tuserPassword.sendKeys(password);\r\n\t\tloginButton.click();\r\n\t}\r\n\t\r\n\tpublic String getErrorMessage()\r\n\t{\r\n\t\twaitForElementToAppear(errorMessage);\r\n\t\treturn errorMessage.getText();\r\n\t\t \r\n\t}\r\n\t\r\n\t\r\n\r\n}`\r\n\r\n\r\nWhen running the subOrder method, 2 browsers are opening. \r\n\r\n\r\n\r\n\r\n**When running the code, my expected output was**\r\n\r\nUsing method launchWebsite\r\n\r\n1)Chrome browser opened\r\n2)Url entered\r\n\r\nUsing method login\r\n\r\n3)User name entered\r\n4)Password entered\r\n5)Login button clicked\r\n\r\nUsing method tearDown\r\n\r\n6)Close browser\r\n\r\n**But the output I am getting** \r\n\r\nUsing method launchWebsite\r\n\r\n1)Chrome browser1 opened\r\n2)Url entered\r\n\r\nAgain one more chrome browser 2 is opened and url is entered\r\n\r\nUsing method login\r\n\r\n3)User name entered on chrome browser 2\r\n4)Password entered on chrome browser 2\r\n5)Login button clicked on chrome browser 2\r\n\r\nUsing method tearDown\r\n\r\n6)Closed browser2\r\n\r\nWhat changes should I make, so that only one browser is opened?\r\n\r\n\r\n","title":"2 Chrome Browsers opening during UI automation using Selenium and Java","body":"<p>I have 3 classes as below</p>\n<p>`public class SubmitOrderTest extends DefaultTest {</p>\n<pre><code>@Test\npublic void submitOrder()\n{\n    LandingPage landingPage = launchWebsite();\n    landingPage.login(&quot;standard_user&quot;, &quot;secret_sauce&quot;);\n    String errorMessage = landingPage.getErrorMessage();\n}\n</code></pre>\n<p>}`</p>\n<p>`public class DefaultTest {</p>\n<pre><code>public WebDriver driver;\npublic LandingPage landingPage;\n\n//Method to initialize driver\npublic WebDriver initializeDriver() \n{\n    driver=new ChromeDriver();\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\n    driver.manage().window().maximize();\n    return driver;\n}\n\n\n//Method to open the browser and website before each test\n@BeforeMethod(alwaysRun=true)\npublic LandingPage launchWebsite() \n{\n    driver = initializeDriver();\n    landingPage = new LandingPage(driver);\n    landingPage.goTo();\n    return landingPage;\n}\n\n//Method to close browser after each test\n@AfterMethod(alwaysRun=true)\npublic void tearDown()\n{\n    driver.close();\n}\n</code></pre>\n<p>`</p>\n<p>`public class LandingPage extends AbstractComponents {</p>\n<pre><code>WebDriver driver;\npublic LandingPage(WebDriver driver) \n{\n    super(driver);\n    this.driver=driver;\n    PageFactory.initElements(driver, this);\n}\n\n@FindBy(id = &quot;user-name&quot;)\nWebElement userName;\n\n@FindBy(id = &quot;password&quot;)\nWebElement userPassword;\n\n@FindBy(id =&quot;login-button&quot;)\nWebElement loginButton;\n\n@FindBy(xpath = &quot;//h3[@data-test='error']&quot;)\nWebElement errorMessage;\n\n\npublic void goTo()\n{\n    driver.get(&quot;https://www.saucedemo.com/&quot;);\n}\n\npublic void login(String email, String password)\n{\n    userName.sendKeys(email);\n    userPassword.sendKeys(password);\n    loginButton.click();\n}\n\npublic String getErrorMessage()\n{\n    waitForElementToAppear(errorMessage);\n    return errorMessage.getText();\n     \n}\n</code></pre>\n<p>}`</p>\n<p>When running the subOrder method, 2 browsers are opening.</p>\n<p><strong>When running the code, my expected output was</strong></p>\n<p>Using method launchWebsite</p>\n<p>1)Chrome browser opened\n2)Url entered</p>\n<p>Using method login</p>\n<p>3)User name entered\n4)Password entered\n5)Login button clicked</p>\n<p>Using method tearDown</p>\n<p>6)Close browser</p>\n<p><strong>But the output I am getting</strong></p>\n<p>Using method launchWebsite</p>\n<p>1)Chrome browser1 opened\n2)Url entered</p>\n<p>Again one more chrome browser 2 is opened and url is entered</p>\n<p>Using method login</p>\n<p>3)User name entered on chrome browser 2\n4)Password entered on chrome browser 2\n5)Login button clicked on chrome browser 2</p>\n<p>Using method tearDown</p>\n<p>6)Closed browser2</p>\n<p>What changes should I make, so that only one browser is opened?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml","google-cloud-logging"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1681909899,"post_id":76054925,"comment_id":134132839,"body_markdown":"Remove the version from `google-cloud-logging` you alredy import the bom which manages the versions.","body":"Remove the version from <code>google-cloud-logging</code> you alredy import the bom which manages the versions."},{"owner":{"account_id":28349900,"reputation":1,"user_id":21681543,"display_name":"Mantes"},"score":0,"creation_date":1681916053,"post_id":76054925,"comment_id":134134698,"body_markdown":"So, I have tried that too, but i just causes a new error: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.gcp.pubsub.integration.inbound.PubSubInboundChannelAdapter]: Factory method &#39;inboundChannelAdapter&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Pub/Sub subscription name can&#39;t be null.","body":"So, I have tried that too, but i just causes a new error: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.cloud.gcp.pubsub.integration.inbound.Pu&zwnj;&#8203;bSubInboundChannelAd&zwnj;&#8203;apter]: Factory method &#39;inboundChannelAdapter&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Pub/Sub subscription name can&#39;t be null."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1681918109,"post_id":76054925,"comment_id":134135339,"body_markdown":"hi &amp; welcome! `java.version` has no special meaning in maven ... do you use some parent pom?","body":"hi &amp; welcome! <code>java.version</code> has no special meaning in maven ... do you use some parent pom?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1681918714,"post_id":76054925,"comment_id":134135485,"body_markdown":"taking this pom snippet to a &quot;quickstart&quot; project, I get: &quot;Overrides version in dependency management&quot; warning (+ dep. conflicts) for the `&lt;version&gt;2.3.2&lt;/version&gt;` quick fixes: 1. remove explicit version declaration (2. upgrade to 3.11.1 (current))","body":"taking this pom snippet to a &quot;quickstart&quot; project, I get: &quot;Overrides version in dependency management&quot; warning (+ dep. conflicts) for the <code>&lt;version&gt;2.3.2&lt;&#47;version&gt;</code> quick fixes: 1. remove explicit version declaration (2. upgrade to 3.11.1 (current))"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681925945,"post_id":76054925,"comment_id":134137022,"body_markdown":"Please don&#39;t add additional information stacktraces as comments as those are totally unreadable. What I can decipher is that you apparently now have a configuration issue which is something you should solve. Have you read upgrade/migration guides?","body":"Please don&#39;t add additional information stacktraces as comments as those are totally unreadable. What I can decipher is that you apparently now have a configuration issue which is something you should solve. Have you read upgrade/migration guides?"}],"owner":{"account_id":28349900,"reputation":1,"user_id":21681543,"display_name":"Mantes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681956587,"creation_date":1681909808,"question_id":76054925,"body_markdown":"So I&#39;m having a little bit of an issue with a project, the following error appears while trying to start a Spring Boot application:\r\n\r\n\r\n```\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    com.google.cloud.logging.v2.stub.LoggingServiceV2StubSettings$Builder.createDefault(LoggingServiceV2StubSettings.java:634)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;com.google.api.gax.rpc.StubSettings$Builder com.google.cloud.logging.v2.stub.LoggingServiceV2StubSettings$Builder.setMtlsEndpoint(java.lang.String)&#39;\r\n\r\nThe method&#39;s class, com.google.cloud.logging.v2.stub.LoggingServiceV2StubSettings$Builder, is available from the following locations:\r\n\r\n    jar:file:/home/mantes/.m2/repository/com/google/cloud/google-cloud-logging/2.3.2/google-cloud-logging-2.3.2.jar!/com/google/cloud/logging/v2/stub/LoggingServiceV2StubSettings$Builder.class\r\n\r\nThe class hierarchy was loaded from the following locations:\r\n\r\n    com.google.cloud.logging.v2.stub.LoggingServiceV2StubSettings.Builder: file:/home/mantes/.m2/repository/com/google/cloud/google-cloud-logging/2.3.2/google-cloud-logging-2.3.2.jar\r\n    com.google.api.gax.rpc.StubSettings.Builder: file:/home/sebastian/.m2/repository/com/google/api/gax/1.54.0/gax-1.54.0.jar\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains a single, compatible version of com.google.cloud.logging.v2.stub.LoggingServiceV2StubSettings$Builder\r\n```\r\n \r\n\r\nNow, I have read something online and it appears to be a problem related to either:\r\n- An incompatibility between libraries versions.\r\n- An unnecessary duplication of libraries.\r\n\r\nIn both cases it&#39;s something maven/pom related, I&#39;ve tried deleting the .m2 files but nothing really changes also tried to find if there where some duplicated of libraries and excluding what I thought could be causing the problem but again, nothing, also I&#39;ve build this project into a docker image and after running it the problem still appears (wasn&#39;t expecting it to solve the problem but at least can give a hint as to why I&#39;m having this issue). So, I&#39;m kinda at a loss here, not sure how to proceed\r\n\r\nImportant parts in the POM:\r\n\r\n```\r\n&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;google-cloud.version&gt;19.2.1&lt;/google-cloud.version&gt;\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt; \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-cloud-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n     &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;          \r\n            &lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${google-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n```\r\n\r\nEDIT:\r\nSo, I solved the issue thanks to @M. Deinum and @xerx593, it was indeed an error caused by dependency override handled poorly, the error I received by removing the version was caused by a totally different issue that I associated with what I had just changed. Anyways removing the version from google-cloud-logging indeed solved the problem, thanks a lot for your help!","title":"An attempt was made to call a method that does not exist - Springboot: Maven","body":"<p>So I'm having a little bit of an issue with a project, the following error appears while trying to start a Spring Boot application:</p>\n<pre><code>An attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    com.google.cloud.logging.v2.stub.LoggingServiceV2StubSettings$Builder.createDefault(LoggingServiceV2StubSettings.java:634)\n\nThe following method did not exist:\n\n    'com.google.api.gax.rpc.StubSettings$Builder com.google.cloud.logging.v2.stub.LoggingServiceV2StubSettings$Builder.setMtlsEndpoint(java.lang.String)'\n\nThe method's class, com.google.cloud.logging.v2.stub.LoggingServiceV2StubSettings$Builder, is available from the following locations:\n\n    jar:file:/home/mantes/.m2/repository/com/google/cloud/google-cloud-logging/2.3.2/google-cloud-logging-2.3.2.jar!/com/google/cloud/logging/v2/stub/LoggingServiceV2StubSettings$Builder.class\n\nThe class hierarchy was loaded from the following locations:\n\n    com.google.cloud.logging.v2.stub.LoggingServiceV2StubSettings.Builder: file:/home/mantes/.m2/repository/com/google/cloud/google-cloud-logging/2.3.2/google-cloud-logging-2.3.2.jar\n    com.google.api.gax.rpc.StubSettings.Builder: file:/home/sebastian/.m2/repository/com/google/api/gax/1.54.0/gax-1.54.0.jar\n\nAction:\n\nCorrect the classpath of your application so that it contains a single, compatible version of com.google.cloud.logging.v2.stub.LoggingServiceV2StubSettings$Builder\n</code></pre>\n<p>Now, I have read something online and it appears to be a problem related to either:</p>\n<ul>\n<li>An incompatibility between libraries versions.</li>\n<li>An unnecessary duplication of libraries.</li>\n</ul>\n<p>In both cases it's something maven/pom related, I've tried deleting the .m2 files but nothing really changes also tried to find if there where some duplicated of libraries and excluding what I thought could be causing the problem but again, nothing, also I've build this project into a docker image and after running it the problem still appears (wasn't expecting it to solve the problem but at least can give a hint as to why I'm having this issue). So, I'm kinda at a loss here, not sure how to proceed</p>\n<p>Important parts in the POM:</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;google-cloud.version&gt;19.2.1&lt;/google-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-logging&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n     &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;          \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                &lt;version&gt;${google-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n</code></pre>\n<p>EDIT:\nSo, I solved the issue thanks to @M. Deinum and @xerx593, it was indeed an error caused by dependency override handled poorly, the error I received by removing the version was caused by a totally different issue that I associated with what I had just changed. Anyways removing the version from google-cloud-logging indeed solved the problem, thanks a lot for your help!</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":11898165,"reputation":82,"user_id":8706905,"display_name":"SteveHu"},"score":0,"creation_date":1681955890,"post_id":76059967,"comment_id":134141435,"body_markdown":"What&#39;s your intention? Update an object in database with MyBatis or just update an object in memory?","body":"What&#39;s your intention? Update an object in database with MyBatis or just update an object in memory?"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":3,"creation_date":1681957694,"post_id":76059967,"comment_id":134141611,"body_markdown":"@user2395365 There is `&lt;set&gt;` tag. See the [doc](https://mybatis.org/mybatis-3/dynamic-sql.html#trim-where-set).","body":"@user2395365 There is <code>&lt;set&gt;</code> tag. See the <a href=\"https://mybatis.org/mybatis-3/dynamic-sql.html#trim-where-set\" rel=\"nofollow noreferrer\">doc</a>."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1682020598,"post_id":76059967,"comment_id":134154360,"body_markdown":"Yes, use the `&lt;set&gt;` tag. That&#39;s what is was designed for. Also, you don&#39;t need a `&lt;resultMap&gt;` if you are updating; those are for selects.","body":"Yes, use the <code>&lt;set&gt;</code> tag. That&#39;s what is was designed for. Also, you don&#39;t need a <code>&lt;resultMap&gt;</code> if you are updating; those are for selects."}],"owner":{"account_id":2783308,"reputation":2051,"user_id":2395365,"accept_rate":27,"display_name":"user2395365"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681955271,"creation_date":1681955271,"question_id":76059967,"body_markdown":"I have a class Foo with fields bar, baz, and buz and an XML mapping file:\r\n\r\n\r\n    &lt;resultMap id=&quot;Foo&quot; type=&quot;com.Foo&quot;&gt;\r\n            &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n            &lt;result column=&quot;bar&quot; property=&quot;bar&quot;/&gt;\r\n            &lt;result column=&quot;baz&quot; property=&quot;baz&quot;/&gt;\r\n            &lt;result column=&quot;buz&quot; property=&quot;buz&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\nHow would I write a generic update mapper that will allow me to update all records for a non-null value of one of of the fields?\r\n\r\ne.g. something like\r\n\r\n    &lt;update id=&quot;bulkUpdate&quot; parameterType=&quot;com.Foo&quot; useGeneratedKeys=&#39;true&#39; keyProperty=&#39;id&#39; keyColumn=&quot;id&quot;&gt;\r\n            UPDATE public.foo set\r\n            &lt;if test=&quot;bar!= null&quot;&gt;\r\n               bar = #{bar},\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;baz!= null&quot;&gt;\r\n               baz = #{baz},\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;buz!= null&quot;&gt;\r\n               buz = #{buz},\r\n            &lt;/if&gt;\r\n        &lt;/update&gt;\r\n\r\n        \r\n","title":"how to do dynamic update for a field of an object in MyBatis","body":"<p>I have a class Foo with fields bar, baz, and buz and an XML mapping file:</p>\n<pre><code>&lt;resultMap id=&quot;Foo&quot; type=&quot;com.Foo&quot;&gt;\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n        &lt;result column=&quot;bar&quot; property=&quot;bar&quot;/&gt;\n        &lt;result column=&quot;baz&quot; property=&quot;baz&quot;/&gt;\n        &lt;result column=&quot;buz&quot; property=&quot;buz&quot;/&gt;\n&lt;/resultMap&gt;\n</code></pre>\n<p>How would I write a generic update mapper that will allow me to update all records for a non-null value of one of of the fields?</p>\n<p>e.g. something like</p>\n<pre><code>&lt;update id=&quot;bulkUpdate&quot; parameterType=&quot;com.Foo&quot; useGeneratedKeys='true' keyProperty='id' keyColumn=&quot;id&quot;&gt;\n        UPDATE public.foo set\n        &lt;if test=&quot;bar!= null&quot;&gt;\n           bar = #{bar},\n        &lt;/if&gt;\n        &lt;if test=&quot;baz!= null&quot;&gt;\n           baz = #{baz},\n        &lt;/if&gt;\n        &lt;if test=&quot;buz!= null&quot;&gt;\n           buz = #{buz},\n        &lt;/if&gt;\n    &lt;/update&gt;\n\n    \n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1462115750,"post_id":36968122,"comment_id":61492070,"body_markdown":"You specify a pattern of &quot;dd-MM-yyyy&quot; and provide &quot;2016-05-01&quot;, which clearly doesn&#39;t match that pattern.","body":"You specify a pattern of &quot;dd-MM-yyyy&quot; and provide &quot;2016-05-01&quot;, which clearly doesn&#39;t match that pattern."},{"owner":{"account_id":7295946,"reputation":740,"user_id":5560783,"accept_rate":60,"display_name":"Hussein Ahmed"},"score":0,"creation_date":1462117186,"post_id":36968122,"comment_id":61492557,"body_markdown":"this is a formatter  for datepicker.","body":"this is a formatter  for datepicker."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1462117233,"post_id":36968122,"comment_id":61492574,"body_markdown":"Well yes, obviously, but the point is that you are providing the date in a different format to the one you specify for the formatter.","body":"Well yes, obviously, but the point is that you are providing the date in a different format to the one you specify for the formatter."},{"owner":{"account_id":7295946,"reputation":740,"user_id":5560783,"accept_rate":60,"display_name":"Hussein Ahmed"},"score":0,"creation_date":1462117336,"post_id":36968122,"comment_id":61492612,"body_markdown":"I have tried without any DateTimeFormatter once!","body":"I have tried without any DateTimeFormatter once!"},{"owner":{"account_id":7295946,"reputation":740,"user_id":5560783,"accept_rate":60,"display_name":"Hussein Ahmed"},"score":0,"creation_date":1462117427,"post_id":36968122,"comment_id":61492639,"body_markdown":"does this formatter to tell datepicker the value or to show?","body":"does this formatter to tell datepicker the value or to show?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1462117480,"post_id":36968122,"comment_id":61492659,"body_markdown":"In the code you posted, the formatter has nothing to do with the date picker at all. You just use it for parsing a string to a `LocalDate`.","body":"In the code you posted, the formatter has nothing to do with the date picker at all. You just use it for parsing a string to a <code>LocalDate</code>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1462117328,"creation_date":1462117328,"answer_id":36968548,"question_id":36968122,"body_markdown":"You specify a format for parsing the date of `dd-MM-yyyy`:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n\r\nbut then you provide the date in a format that doesn&#39;t match that:\r\n\r\n    datePicker.setValue(LOCAL_DATE(&quot;2016-05-01&quot;));\r\n\r\nObviously, `&quot;2016-05-01&quot;` is not in the format `&quot;dd-MM-yyyy&quot;`.\r\n\r\n\r\nTry\r\n\r\n    datePicker.setValue(LOCAL_DATE(&quot;01-05-2016&quot;));\r\n","title":"How to set javafx datepicker value correctly?","body":"<p>You specify a format for parsing the date of <code>dd-MM-yyyy</code>:</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"dd-MM-yyyy\");\n</code></pre>\n\n<p>but then you provide the date in a format that doesn't match that:</p>\n\n<pre><code>datePicker.setValue(LOCAL_DATE(\"2016-05-01\"));\n</code></pre>\n\n<p>Obviously, <code>\"2016-05-01\"</code> is not in the format <code>\"dd-MM-yyyy\"</code>.</p>\n\n<p>Try</p>\n\n<pre><code>datePicker.setValue(LOCAL_DATE(\"01-05-2016\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681954963,"creation_date":1681954963,"answer_id":76059956,"question_id":36968122,"body_markdown":"For people who found this answer while trying to learn how to set the date picker to today:\r\n\r\n    import java.time.LocalDate;\r\n    datePicker.setValue(LocalDate.now());\r\n\r\n","title":"How to set javafx datepicker value correctly?","body":"<p>For people who found this answer while trying to learn how to set the date picker to today:</p>\n<pre><code>import java.time.LocalDate;\ndatePicker.setValue(LocalDate.now());\n</code></pre>\n"}],"owner":{"account_id":7295946,"reputation":740,"user_id":5560783,"accept_rate":60,"display_name":"Hussein Ahmed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36874,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":36968548,"answer_count":2,"score":11,"last_activity_date":1681954963,"creation_date":1462115060,"question_id":36968122,"body_markdown":"I used this method to setting `DatePicker` value: \r\n\r\n    public static final LocalDate LOCAL_DATE (String dateString){\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n        LocalDate localDate = LocalDate.parse(dateString, formatter);\r\n        return localDate;\r\n    }\r\n\r\n    try {\r\n        datePicker.setValue(LOCAL_DATE(&quot;2016-05-01&quot;);\r\n    } catch (NullPointerException e) {}\r\n\r\nBut sometimes throw an exception:\r\n&gt;java.time.format.DateTimeParseException: Text &#39;&#39; could not be parsed at index 0\r\n\r\nSo what&#39;s the wrong here?\r\n","title":"How to set javafx datepicker value correctly?","body":"<p>I used this method to setting <code>DatePicker</code> value:</p>\n<pre><code>public static final LocalDate LOCAL_DATE (String dateString){\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n    LocalDate localDate = LocalDate.parse(dateString, formatter);\n    return localDate;\n}\n\ntry {\n    datePicker.setValue(LOCAL_DATE(&quot;2016-05-01&quot;);\n} catch (NullPointerException e) {}\n</code></pre>\n<p>But sometimes throw an exception:</p>\n<blockquote>\n<p>java.time.format.DateTimeParseException: Text '' could not be parsed at index 0</p>\n</blockquote>\n<p>So what's the wrong here?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675499743,"post_id":75343269,"comment_id":132945630,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":16908599,"reputation":1108,"user_id":12228296,"display_name":"Shoaib Kakal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681954557,"creation_date":1675491826,"answer_id":75343362,"question_id":75343269,"body_markdown":"Google fit works on [Step Detector][1] sensor. Step detector does not give any value for the initial few meters because it observes the sensitivity and patterns first and then emits values.\r\n\r\nTo increase step counting accuracy, you should integrate [Accelerometer][2] sensor with the Step Detector in a way that if the Step Detector is not giving any value, then take values from the Accelerometer.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/hardware/Sensor#TYPE_STEP_DETECTOR\r\n  [2]: https://developer.android.com/reference/android/hardware/Sensor#TYPE_ACCELEROMETER","title":"Get Accurate steps in google fit","body":"<p>Google fit works on <a href=\"https://developer.android.com/reference/android/hardware/Sensor#TYPE_STEP_DETECTOR\" rel=\"nofollow noreferrer\">Step Detector</a> sensor. Step detector does not give any value for the initial few meters because it observes the sensitivity and patterns first and then emits values.</p>\n<p>To increase step counting accuracy, you should integrate <a href=\"https://developer.android.com/reference/android/hardware/Sensor#TYPE_ACCELEROMETER\" rel=\"nofollow noreferrer\">Accelerometer</a> sensor with the Step Detector in a way that if the Step Detector is not giving any value, then take values from the Accelerometer.</p>\n"}],"owner":{"account_id":27441955,"reputation":1,"user_id":20936634,"display_name":"android developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681954557,"creation_date":1675490224,"question_id":75343269,"body_markdown":"Need to get the accurate steps in google fit android, that how can we get the real steps in google fit if possible, how can we make the progress.\r\n\r\nreal steps max accuracy, using location are how to filter those steps to calculate.","title":"Get Accurate steps in google fit","body":"<p>Need to get the accurate steps in google fit android, that how can we get the real steps in google fit if possible, how can we make the progress.</p>\n<p>real steps max accuracy, using location are how to filter those steps to calculate.</p>\n"},{"tags":["java","sql","spring","postgresql","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":6115121,"reputation":1200,"user_id":4770399,"display_name":"Jean Jung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680554802,"creation_date":1445421709,"answer_id":33256317,"question_id":33255967,"body_markdown":"The problem is your query evaluates to:\r\n\r\n```sql\r\nselect * from table1 where ids in (&#39;abc,bcd,dbc&#39;)\r\n``` \r\n\r\nInstead of the desired form:\r\n\r\n```sql\r\nselect * from table1 where ids in (&#39;abc&#39;,&#39;bcd&#39;,&#39;dbc&#39;)\r\n```\r\n\r\nYou can either build the query manually adding multiple parameters and setting each of them individually:\r\n\r\n```java\r\nString sql = &quot;select * from table1 where ids in (&quot;;\r\nfor (int i = 0; i &lt; ids.length; i++) \r\n    if (i == 0)\r\n        sql += &quot;?&quot;\r\n    else \r\n        sql += &quot;,?&quot;;\r\n\r\nsql += &quot;)&quot;;\r\n    \r\nPreparedStatement ps = connection.prepareStatement(sql);\r\nfor (int i = 0; i &lt; ids.length; i++)\r\n    ps.setString(i+1, ids[i]);\r\n```\r\n\r\nOr use the [PreparedStatement::setArray](https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/PreparedStatement.html#setArray(int,java.sql.Array)) method:\r\n\r\n```java\r\nString sql = &quot;select * from table1 where ids in (?);&quot;;\r\nPreparedStatement ps = connection.prepareStatement(sql);\r\n\r\nps.setArray(1, connection.createArrayOf(&quot;VARCHAR&quot;, ids.toArray()));\r\n``` \r\n   ","title":"how to pass comma seperated UUID in parameterized select query where IN clause","body":"<p>The problem is your query evaluates to:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from table1 where ids in ('abc,bcd,dbc')\n</code></pre>\n<p>Instead of the desired form:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from table1 where ids in ('abc','bcd','dbc')\n</code></pre>\n<p>You can either build the query manually adding multiple parameters and setting each of them individually:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;select * from table1 where ids in (&quot;;\nfor (int i = 0; i &lt; ids.length; i++) \n    if (i == 0)\n        sql += &quot;?&quot;\n    else \n        sql += &quot;,?&quot;;\n\nsql += &quot;)&quot;;\n    \nPreparedStatement ps = connection.prepareStatement(sql);\nfor (int i = 0; i &lt; ids.length; i++)\n    ps.setString(i+1, ids[i]);\n</code></pre>\n<p>Or use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/PreparedStatement.html#setArray(int,java.sql.Array)\" rel=\"nofollow noreferrer\">PreparedStatement::setArray</a> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;select * from table1 where ids in (?);&quot;;\nPreparedStatement ps = connection.prepareStatement(sql);\n\nps.setArray(1, connection.createArrayOf(&quot;VARCHAR&quot;, ids.toArray()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1451415,"reputation":946,"user_id":1368236,"display_name":"Thomas Risberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445438760,"creation_date":1445438760,"answer_id":33262441,"question_id":33255967,"body_markdown":"If you are using Spring then you can take advantage of the named parameter support and pass in the values for `:commaseperatedUUIDs` as a `java.util.List`. See the docs http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html#jdbc-in-clause","title":"how to pass comma seperated UUID in parameterized select query where IN clause","body":"<p>If you are using Spring then you can take advantage of the named parameter support and pass in the values for <code>:commaseperatedUUIDs</code> as a <code>java.util.List</code>. See the docs <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html#jdbc-in-clause\" rel=\"nofollow\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html#jdbc-in-clause</a></p>\n"},{"tags":[],"owner":{"account_id":7095204,"reputation":399,"user_id":5429061,"display_name":"javaguest"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681954267,"creation_date":1445439439,"answer_id":33262691,"question_id":33255967,"body_markdown":"Since you&#39;re using Spring, I suggest using **NamedParameterJdbcTemplate**, since it automatically formats your list parameters to a db-readable format.\r\n\r\n    \r\n\r\n```java\r\nString sql =&quot;select * from table1 where ids in (:commaseperatedUUIDs)&quot;\r\n\r\nNamedParameterJdbcTemplate namedTemplate = new NamedParameterJdbcTemplate(myJdbcTemplate);\r\n        \r\nMapSqlParameterSource parameters = new MapSqlParameterSource();\r\nparameters.addValue(&quot;commaseparateduuids&quot;,commaseparateduuids);\r\n\r\nnamedTemplate.query(sql, parameters);\r\n```\r\n\r\n\r\nAlso, be advised that some RDBMS (e.g. Oracle) impose limits on `IN` clause parameters. This is not the case for Postgresql, but in case you face some database migration in the future, take it into account.","title":"how to pass comma seperated UUID in parameterized select query where IN clause","body":"<p>Since you're using Spring, I suggest using <strong>NamedParameterJdbcTemplate</strong>, since it automatically formats your list parameters to a db-readable format.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql =&quot;select * from table1 where ids in (:commaseperatedUUIDs)&quot;\n\nNamedParameterJdbcTemplate namedTemplate = new NamedParameterJdbcTemplate(myJdbcTemplate);\n        \nMapSqlParameterSource parameters = new MapSqlParameterSource();\nparameters.addValue(&quot;commaseparateduuids&quot;,commaseparateduuids);\n\nnamedTemplate.query(sql, parameters);\n</code></pre>\n<p>Also, be advised that some RDBMS (e.g. Oracle) impose limits on <code>IN</code> clause parameters. This is not the case for Postgresql, but in case you face some database migration in the future, take it into account.</p>\n"}],"owner":{"account_id":991127,"reputation":2249,"user_id":1008411,"accept_rate":67,"display_name":"sakura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2745,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33256317,"answer_count":3,"score":3,"last_activity_date":1681954267,"creation_date":1445420765,"question_id":33255967,"body_markdown":"I have a table with `UUID` as keys and want to fetch multiple rows using select query, so the query is as follow:\r\n\r\n    select * from table1 where ids in (:commaseperatedUUIDs); //DB is postgreSql\r\n\r\nI am trying it in Java code, I have `List&lt;UUID&gt;` which contains all the UUID but if I make it comma separated of course by using String operations and pass the String in query as parameter then it throws SQL Exception stating \r\n\r\n    operator does not exist: uuid = character varying\r\n\r\nAny clues?","title":"how to pass comma seperated UUID in parameterized select query where IN clause","body":"<p>I have a table with <code>UUID</code> as keys and want to fetch multiple rows using select query, so the query is as follow:</p>\n\n<pre><code>select * from table1 where ids in (:commaseperatedUUIDs); //DB is postgreSql\n</code></pre>\n\n<p>I am trying it in Java code, I have <code>List&lt;UUID&gt;</code> which contains all the UUID but if I make it comma separated of course by using String operations and pass the String in query as parameter then it throws SQL Exception stating </p>\n\n<pre><code>operator does not exist: uuid = character varying\n</code></pre>\n\n<p>Any clues?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681951801,"creation_date":1681951801,"answer_id":76059794,"question_id":76059624,"body_markdown":"Just create a Java file.  Projects don&#39;t have to be one or the other, the two languages can call each other.  You can have some files in Java and some in kotlin if you want\r\n","title":"Android studio language query","body":"<p>Just create a Java file.  Projects don't have to be one or the other, the two languages can call each other.  You can have some files in Java and some in kotlin if you want</p>\n"}],"owner":{"account_id":28344434,"reputation":91,"user_id":21676869,"display_name":"Bisal Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681951801,"creation_date":1681948931,"question_id":76059624,"body_markdown":"Not showing language option (java,kotlin) while creating new project.\r\n\r\nI am expecting to write code in java but it&#39;s creating .kt file.","title":"Android studio language query","body":"<p>Not showing language option (java,kotlin) while creating new project.</p>\n<p>I am expecting to write code in java but it's creating .kt file.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"score":4,"creation_date":1429202736,"post_id":29681073,"comment_id":47499293,"body_markdown":"Instead of using `String letters = keyboard.next();` use `keyboard.nextLine()`","body":"Instead of using <code>String letters = keyboard.next();</code> use <code>keyboard.nextLine()</code>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1429202741,"creation_date":1429202741,"answer_id":29681136,"question_id":29681073,"body_markdown":"This is your problem:\r\n\r\n    String letters = keyboard.next();\r\n\r\nIt has nothing to do with the vowel-counting part - but everything to do with reading the value. The `Scanner.next()` method will only read to the end of the token - which means it stops on whitespace, by default.\r\n\r\nChange that to\r\n\r\n    String letters = keyboard.nextLine();\r\n\r\nand you should be fine.\r\n\r\nYou should verify this is the problem by printing out the string you&#39;re working with, e.g.\r\n\r\n    System.out.println(&quot;Counting vowels in: &quot; + letters);","title":"Write a program that prompts the user to input a sequence of characters and outputs the numbers of vowels","body":"<p>This is your problem:</p>\n\n<pre><code>String letters = keyboard.next();\n</code></pre>\n\n<p>It has nothing to do with the vowel-counting part - but everything to do with reading the value. The <code>Scanner.next()</code> method will only read to the end of the token - which means it stops on whitespace, by default.</p>\n\n<p>Change that to</p>\n\n<pre><code>String letters = keyboard.nextLine();\n</code></pre>\n\n<p>and you should be fine.</p>\n\n<p>You should verify this is the problem by printing out the string you're working with, e.g.</p>\n\n<pre><code>System.out.println(\"Counting vowels in: \" + letters);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1911974,"reputation":8959,"user_id":1725558,"display_name":"Anderson Vieira"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1429202752,"creation_date":1429202752,"answer_id":29681142,"question_id":29681073,"body_markdown":"When you do:\r\n\r\n    String letters = keyboard.next();\r\n\r\nThe `Scanner` stops reading at the first whitespace.\r\n\r\nTo read the complete phrase until you press enter, you should use `nextLine()` instead:\r\n\r\n    String letters = keyboard.nextLine();","title":"Write a program that prompts the user to input a sequence of characters and outputs the numbers of vowels","body":"<p>When you do:</p>\n\n<pre><code>String letters = keyboard.next();\n</code></pre>\n\n<p>The <code>Scanner</code> stops reading at the first whitespace.</p>\n\n<p>To read the complete phrase until you press enter, you should use <code>nextLine()</code> instead:</p>\n\n<pre><code>String letters = keyboard.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5270923,"reputation":425,"user_id":4209197,"display_name":"Dipen Adroja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429202862,"creation_date":1429202862,"answer_id":29681173,"question_id":29681073,"body_markdown":"Just use \r\n\r\n    String letters = keyboard.nextLine();\r\n\r\ninstead of \r\n   \r\n    String letters = keyboard.next();\r\n\r\nThis is because .nextLine() will read line by line so that you can have your complete statement in latters. Hope this will help you","title":"Write a program that prompts the user to input a sequence of characters and outputs the numbers of vowels","body":"<p>Just use </p>\n\n<pre><code>String letters = keyboard.nextLine();\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>String letters = keyboard.next();\n</code></pre>\n\n<p>This is because .nextLine() will read line by line so that you can have your complete statement in latters. Hope this will help you</p>\n"}],"owner":{"account_id":6006053,"reputation":19,"user_id":4717959,"accept_rate":67,"display_name":"Mike Chang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2682,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":29681142,"answer_count":3,"score":-1,"last_activity_date":1681951354,"creation_date":1429202557,"question_id":29681073,"body_markdown":"  \r\n\r\n      import java.util.*;\r\n    \r\n    public class VowelCounter\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        Scanner keyboard = new Scanner(System.in);\r\n        System.out.println(&quot;Input a series of characters: &quot;);\r\n        String letters = keyboard.next();\r\n        int count = 0;\r\n        for (int i = 0; i &lt; letters.length(); i++)\r\n        {\r\n            char characters = letters.charAt(i);\r\n            if (isVowel(characters) == true)\r\n            {\r\n                count++;\r\n            }\r\n        }\r\n        System.out.println(&quot;The number of vowels is: &quot; + count);\r\n    \r\n      }\r\n      public static boolean isVowel(char characters)\r\n      {\r\n        boolean result;\r\n          if(characters==&#39;a&#39; || characters==&#39;e&#39; || characters==&#39;i&#39; || characters==&#39;o&#39; || characters==&#39;u&#39;)\r\n            result = true;\r\n          else\r\n            result = false;\r\n        return result;\r\n    }\r\n    }\r\n\r\nThe code works but im suppose to input &quot;Spring break only comes once a year.&quot; which if i do with the spaces my program will only find the vowels of Spring. how do i make it so it will skip the spaces and read the whole sentence.","title":"Write a program that prompts the user to input a sequence of characters and outputs the numbers of vowels","body":"<pre><code>  import java.util.*;\n\npublic class VowelCounter\n{\n  public static void main(String[] args)\n  {\n    Scanner keyboard = new Scanner(System.in);\n    System.out.println(\"Input a series of characters: \");\n    String letters = keyboard.next();\n    int count = 0;\n    for (int i = 0; i &lt; letters.length(); i++)\n    {\n        char characters = letters.charAt(i);\n        if (isVowel(characters) == true)\n        {\n            count++;\n        }\n    }\n    System.out.println(\"The number of vowels is: \" + count);\n\n  }\n  public static boolean isVowel(char characters)\n  {\n    boolean result;\n      if(characters=='a' || characters=='e' || characters=='i' || characters=='o' || characters=='u')\n        result = true;\n      else\n        result = false;\n    return result;\n}\n}\n</code></pre>\n\n<p>The code works but im suppose to input \"Spring break only comes once a year.\" which if i do with the spaces my program will only find the vowels of Spring. how do i make it so it will skip the spaces and read the whole sentence.</p>\n"},{"tags":["java","mongodb","version"],"comments":[{"owner":{"account_id":9165034,"reputation":453,"user_id":6815004,"accept_rate":57,"display_name":"retatu"},"score":0,"creation_date":1526387550,"post_id":50350263,"comment_id":87716354,"body_markdown":"did you try to use Database MetaData?","body":"did you try to use Database MetaData?"},{"owner":{"account_id":11346560,"reputation":59,"user_id":8318889,"display_name":"pooja"},"score":0,"creation_date":1526388498,"post_id":50350263,"comment_id":87717042,"body_markdown":"Ok , I will try it As I got the version of java.","body":"Ok , I will try it As I got the version of java."}],"answers":[{"tags":[],"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526387531,"creation_date":1526387531,"answer_id":50350312,"question_id":50350263,"body_markdown":"You may look into the META-INF subfolder, there is MANIFEST.MF file, where you&#39;ll find the mongodb version.","title":"How to know version of mongodb used to create .jar file?","body":"<p>You may look into the META-INF subfolder, there is MANIFEST.MF file, where you'll find the mongodb version.</p>\n"},{"tags":[],"owner":{"account_id":20984259,"reputation":1,"user_id":15756460,"display_name":"Rafael Faria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681950943,"creation_date":1681493545,"answer_id":76017642,"question_id":50350263,"body_markdown":"Check if this helps\r\n\r\n    .../jdk/jre/bin/java -cp [your_mongo_jar_file].jar\r\n\r\nThis command will return the version.","title":"How to know version of mongodb used to create .jar file?","body":"<p>Check if this helps</p>\n<pre><code>.../jdk/jre/bin/java -cp [your_mongo_jar_file].jar\n</code></pre>\n<p>This command will return the version.</p>\n"}],"owner":{"account_id":11346560,"reputation":59,"user_id":8318889,"display_name":"pooja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1681950943,"creation_date":1526387378,"question_id":50350263,"body_markdown":"I got the jar file like **XXX.jar** and I changed it to **XXX.zip** Then\r\nAfter extracting I could get that which java version used to create XXX.jar file.\r\nBut in that zip I can see -\r\n*com-&gt;mongodb-&gt; different folders and many more .class files*\r\nAnd I want to know that on which mongodb version this XXX.jar file was created.\r\n\r\n","title":"How to know version of mongodb used to create .jar file?","body":"<p>I got the jar file like <strong>XXX.jar</strong> and I changed it to <strong>XXX.zip</strong> Then\nAfter extracting I could get that which java version used to create XXX.jar file.\nBut in that zip I can see -\n<em>com->mongodb-> different folders and many more .class files</em>\nAnd I want to know that on which mongodb version this XXX.jar file was created.</p>\n"},{"tags":["java","jackson"],"owner":{"account_id":28354861,"reputation":3,"user_id":21685770,"display_name":"Fernando Sabalete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681950094,"creation_date":1681949671,"question_id":76059674,"body_markdown":"Suppose I have a class\r\n```\r\npublic class Product {\r\n\r\n    private BigDecimal value;\r\n    private String valueFormatted;\r\n\r\n}\r\n```\r\n\r\nand I want the serialization of valueFormatted hav&#232; currency formatting. What I have today, is a custom getter which transforms value to the formatted String.\r\nThe problem is, I have a class with loads of value fields, and I don&#39;t want to create getters for all (Lombok).\r\n\r\n\r\n\r\nI tried creating a custom serializer, but I have to create the serialization logic for each of the fields, and I need it to behave like this:\r\n\r\nfieldName contains &quot;Formatted&quot; -\\&gt; get value of field without &quot;Formatted&quot; and serialize.\r\n\r\nAnd for any other field, do the default.","title":"Serialize json field based on field name/other fields, without overriding the whole serialization","body":"<p>Suppose I have a class</p>\n<pre><code>public class Product {\n\n    private BigDecimal value;\n    private String valueFormatted;\n\n}\n</code></pre>\n<p>and I want the serialization of valueFormatted havè currency formatting. What I have today, is a custom getter which transforms value to the formatted String.\nThe problem is, I have a class with loads of value fields, and I don't want to create getters for all (Lombok).</p>\n<p>I tried creating a custom serializer, but I have to create the serialization logic for each of the fields, and I need it to behave like this:</p>\n<p>fieldName contains &quot;Formatted&quot; -&gt; get value of field without &quot;Formatted&quot; and serialize.</p>\n<p>And for any other field, do the default.</p>\n"},{"tags":["java","spring","spring-boot","memory-leaks","threadpoolexecutor"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1627292552,"post_id":68527645,"comment_id":121107906,"body_markdown":"And that is a memory leak because? You are creating 20 threads, max 100. They remain in the pool for some time. So why would this be a memory leak?","body":"And that is a memory leak because? You are creating 20 threads, max 100. They remain in the pool for some time. So why would this be a memory leak?"},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1627292871,"post_id":68527645,"comment_id":121108022,"body_markdown":"Ok So, can I consider that this will not affect anything in the performance of the application. I just got confused when the MAT tool shows this suspected memory leak.","body":"Ok So, can I consider that this will not affect anything in the performance of the application. I just got confused when the MAT tool shows this suspected memory leak."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1627294145,"post_id":68527645,"comment_id":121108536,"body_markdown":"Each thread you create will occupy (depending on your OS) around 128kb. You create max 100 (so depending on what you do) you will get 100 * 128kb = ~12.8MB of memory just for having 100 threads. You keep about 130Mb, which is quite a bit more, but that could be related to what tasks you are executing. **pro-tip:** remove the call to `initialize` and change the return type type `ThreadPoolTaskExecutor` instead of `Executor`. This will not solve the excessive memory usage but will help in configuration (it will make it proper).","body":"Each thread you create will occupy (depending on your OS) around 128kb. You create max 100 (so depending on what you do) you will get 100 * 128kb = ~12.8MB of memory just for having 100 threads. You keep about 130Mb, which is quite a bit more, but that could be related to what tasks you are executing. <b>pro-tip:</b> remove the call to <code>initialize</code> and change the return type type <code>ThreadPoolTaskExecutor</code> instead of <code>Executor</code>. This will not solve the excessive memory usage but will help in configuration (it will make it proper)."}],"answers":[{"tags":[],"owner":{"account_id":28017354,"reputation":1,"user_id":21398868,"display_name":"Thiago Souza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681950009,"creation_date":1681508417,"answer_id":76019133,"question_id":68527645,"body_markdown":"It&#39;s important to mention that with no queue capacity being explicity defined in your ThreadPoolTaskExecutor, it leads to infinite queue capacity. Furthermore, the maxPoolSize has no effect, as a new thread will only be created after the queue becomes full.\r\n\r\nSo, you **must** set the queue capacity to prevent OutOfMemoryErrors.\r\n\r\n    executor.setQueueCapacity(100); // for example\r\n\r\nAs presented in the spring docs: &quot;The main idea is that when a task is submitted, the executor will first try to use a free thread if the number of active threads is currently less than the core size. If the core size has been reached, then the task will be added to the queue as long as its capacity has not yet been reached. \r\n\r\nOnly then, if the queue’s capacity has been reached, will the executor create a new thread beyond the core size. If the max size has also been reached, then the executor will reject the task.\r\n\r\nBy default, the queue is unbounded, but this is rarely the desired configuration, because it can lead to OutOfMemoryErrors if enough tasks are added to that queue while all pool threads are busy. Furthermore, if the queue is unbounded, then the max size has no effect at all. \r\n\r\nSince the executor will always try the queue before creating a new thread beyond the core size, a queue must have a finite capacity for the thread pool to grow beyond the core size (this is why a fixed size pool is the only sensible case when using an unbounded queue).&quot;\r\n\r\nFor clarification, here is the docs: https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/scheduling.html#scheduling-task-namespace-executor ","title":"How to fix Memory leak in ThreadPoolTaskExecutor in spring boot?","body":"<p>It's important to mention that with no queue capacity being explicity defined in your ThreadPoolTaskExecutor, it leads to infinite queue capacity. Furthermore, the maxPoolSize has no effect, as a new thread will only be created after the queue becomes full.</p>\n<p>So, you <strong>must</strong> set the queue capacity to prevent OutOfMemoryErrors.</p>\n<pre><code>executor.setQueueCapacity(100); // for example\n</code></pre>\n<p>As presented in the spring docs: &quot;The main idea is that when a task is submitted, the executor will first try to use a free thread if the number of active threads is currently less than the core size. If the core size has been reached, then the task will be added to the queue as long as its capacity has not yet been reached.</p>\n<p>Only then, if the queue’s capacity has been reached, will the executor create a new thread beyond the core size. If the max size has also been reached, then the executor will reject the task.</p>\n<p>By default, the queue is unbounded, but this is rarely the desired configuration, because it can lead to OutOfMemoryErrors if enough tasks are added to that queue while all pool threads are busy. Furthermore, if the queue is unbounded, then the max size has no effect at all.</p>\n<p>Since the executor will always try the queue before creating a new thread beyond the core size, a queue must have a finite capacity for the thread pool to grow beyond the core size (this is why a fixed size pool is the only sensible case when using an unbounded queue).&quot;</p>\n<p>For clarification, here is the docs: <a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/scheduling.html#scheduling-task-namespace-executor\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/scheduling.html#scheduling-task-namespace-executor</a></p>\n"}],"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681950009,"creation_date":1627292419,"question_id":68527645,"body_markdown":"I am using `ThreadPoolTaskExecutor` to execute few operations asynchronously. I am getting the memory leaks as below. \r\n\r\n**`ThreadPoolTaskExecutor` Configuration**\r\n\r\n    @Bean(name = &quot;specificTaskExecutor&quot;)\r\n        public Executor asyncExecutor() {\r\n    \tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    \texecutor.setCorePoolSize(20);\r\n    \texecutor.setMaxPoolSize(100);\r\n    \texecutor.setThreadNamePrefix(&quot;Seperate&quot;);\r\n    \tTaskDecorator taskDecorator = (Runnable runnable) -&gt; {\r\n    \t    Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\r\n    \t    return () -&gt; {\r\n    \t\ttry {\r\n    \t\t    MDC.setContextMap(contextMap);\r\n    \t\t    runnable.run();\r\n    \t\t} finally {\r\n    \t\t    MDC.clear();\r\n    \t\t}\r\n    \t    };\r\n    \t};\r\n    \texecutor.setTaskDecorator(taskDecorator);\r\n    \texecutor.initialize();\r\n    \treturn executor;\r\n        }\r\n\r\n\r\n**Async usage:**\r\n\r\n    @Async(&quot;specificTaskExecutor&quot;)\r\n    Public void asyncMethod(){\r\n    // some functionality\r\n    }\r\n\r\n**Memory Leaks:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nKindly let me know what I am missing here which causes the memory leak. \r\n\r\n  [1]: https://i.stack.imgur.com/Iyals.png\r\n  [2]: https://i.stack.imgur.com/i6tot.png","title":"How to fix Memory leak in ThreadPoolTaskExecutor in spring boot?","body":"<p>I am using <code>ThreadPoolTaskExecutor</code> to execute few operations asynchronously. I am getting the memory leaks as below.</p>\n<p><strong><code>ThreadPoolTaskExecutor</code> Configuration</strong></p>\n<pre><code>@Bean(name = &quot;specificTaskExecutor&quot;)\n    public Executor asyncExecutor() {\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setCorePoolSize(20);\n    executor.setMaxPoolSize(100);\n    executor.setThreadNamePrefix(&quot;Seperate&quot;);\n    TaskDecorator taskDecorator = (Runnable runnable) -&gt; {\n        Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\n        return () -&gt; {\n        try {\n            MDC.setContextMap(contextMap);\n            runnable.run();\n        } finally {\n            MDC.clear();\n        }\n        };\n    };\n    executor.setTaskDecorator(taskDecorator);\n    executor.initialize();\n    return executor;\n    }\n</code></pre>\n<p><strong>Async usage:</strong></p>\n<pre><code>@Async(&quot;specificTaskExecutor&quot;)\nPublic void asyncMethod(){\n// some functionality\n}\n</code></pre>\n<p><strong>Memory Leaks:</strong>\n<a href=\"https://i.stack.imgur.com/Iyals.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iyals.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/i6tot.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i6tot.png\" alt=\"enter image description here\" /></a></p>\n<p>Kindly let me know what I am missing here which causes the memory leak.</p>\n"},{"tags":["java","ssl-certificate","keytool"],"answers":[{"tags":[],"owner":{"account_id":5105399,"reputation":568,"user_id":4093604,"accept_rate":36,"display_name":"Tatkal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1510746149,"creation_date":1510745070,"answer_id":47306157,"question_id":41611406,"body_markdown":"Try adding the ssl file using command promt. It worked for me","title":"Keytool error java.io.FileNotFoundException(the system cannot find the file specified)","body":"<p>Try adding the ssl file using command promt. It worked for me</p>\n"},{"tags":[],"owner":{"account_id":15375008,"reputation":19,"user_id":11091992,"display_name":"Muhammad shuja"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1550689985,"creation_date":1550689985,"answer_id":54793686,"question_id":41611406,"body_markdown":"just create file in any other directory than c: Drive\r\nfor eg: create in d: Drive","title":"Keytool error java.io.FileNotFoundException(the system cannot find the file specified)","body":"<p>just create file in any other directory than c: Drive\nfor eg: create in d: Drive</p>\n"},{"tags":[],"owner":{"account_id":18959849,"reputation":41,"user_id":13835638,"display_name":"GITANSH Lamba"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593495530,"creation_date":1593446956,"answer_id":62642246,"question_id":41611406,"body_markdown":"Firstly download the certificate into any of your directory, for me I choose (D:\\My) where I kept my certificate with the name `xyz.cert`.\r\n\r\nSecond, you should be the admin of CMD/Command and write the word &quot;keytool&quot;, it should give you the output as :\r\n\r\n&gt; Key and Certificate Management Tool\r\n\r\nCommands:\r\n\r\n     -certreq            Generates a certificate request\r\n     -changealias        Changes an entry&#39;s alias\r\n     -delete             Deletes an entry\r\n    ...something like this should be the output \r\n\r\nThird, As all the certificate are kept &quot;cacerts&quot; which is in the directory -&lt;br&gt;\r\n`C:\\Program Files\\Java\\jdk1.8.0_172\\jre\\lib\\security` \r\n\r\nUse the below command from the directory -&lt;br&gt;\r\n`C:\\Program Files\\Java\\jdk1.8.0_172\\jre\\lib\\security`\r\n\r\n&gt; keytool -import -alias clojars.org -keystore  /cacerts -file\r\n&gt; D:/My/xyz.cer\r\n\r\nWhere to find what : &lt;br&gt;\r\n\r\n 1. When you double click on the certificate (xyz.cert in my case) it\r\n    will open a pop up, where you will find in General Tab, Issued to\r\n    : `clojars.org` ( this name you need to give in front of -alias)\r\n 2. In front of -keystore should be the path of cacerts but as we are\r\n    already in the directory `C:\\Program Files\\Java\\jdk1.8.0_172\\jre\\lib\\security`, so we can just give\r\n    /cacerts\r\n 3. file --&gt; location of the certificate\r\n\r\nIf it asks for password, default is changeit, so keep the same everytime\r\n\r\nHope this solves your problem. :)\r\n\r\n\r\n","title":"Keytool error java.io.FileNotFoundException(the system cannot find the file specified)","body":"<p>Firstly download the certificate into any of your directory, for me I choose (D:\\My) where I kept my certificate with the name <code>xyz.cert</code>.</p>\n<p>Second, you should be the admin of CMD/Command and write the word &quot;keytool&quot;, it should give you the output as :</p>\n<blockquote>\n<p>Key and Certificate Management Tool</p>\n</blockquote>\n<p>Commands:</p>\n<pre><code> -certreq            Generates a certificate request\n -changealias        Changes an entry's alias\n -delete             Deletes an entry\n...something like this should be the output \n</code></pre>\n<p>Third, As all the certificate are kept &quot;cacerts&quot; which is in the directory -<br>\n<code>C:\\Program Files\\Java\\jdk1.8.0_172\\jre\\lib\\security</code></p>\n<p>Use the below command from the directory -<br>\n<code>C:\\Program Files\\Java\\jdk1.8.0_172\\jre\\lib\\security</code></p>\n<blockquote>\n<p>keytool -import -alias clojars.org -keystore  /cacerts -file\nD:/My/xyz.cer</p>\n</blockquote>\n<p>Where to find what : <br></p>\n<ol>\n<li>When you double click on the certificate (xyz.cert in my case) it\nwill open a pop up, where you will find in General Tab, Issued to\n: <code>clojars.org</code> ( this name you need to give in front of -alias)</li>\n<li>In front of -keystore should be the path of cacerts but as we are\nalready in the directory <code>C:\\Program Files\\Java\\jdk1.8.0_172\\jre\\lib\\security</code>, so we can just give\n/cacerts</li>\n<li>file --&gt; location of the certificate</li>\n</ol>\n<p>If it asks for password, default is changeit, so keep the same everytime</p>\n<p>Hope this solves your problem. :)</p>\n"},{"tags":[],"owner":{"account_id":19542302,"reputation":445,"user_id":14492099,"display_name":"Dzmitry Darashuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634992619,"creation_date":1634992619,"answer_id":69688225,"question_id":41611406,"body_markdown":"1.Advice:  run Comand Prompt as administrator ( If you are using windows 7, you can go to run, type cmd and hit Ctrl+Shift+enter. This will open the command prompt in administrator mode.)\r\n\r\n2.C:\\...\\...  &gt;  keytool -importcert -file &quot;C:part/to/file.crt&quot; -keystore &quot;%JAVA_HOME%\\jre\\lib\\security\\cacerts&quot; -alias 1Alias\r\n(Do not forget that file with .crt )\r\n\r\n3.password - changeit\r\n\r\n4. y  - yes.\r\n\r\n","title":"Keytool error java.io.FileNotFoundException(the system cannot find the file specified)","body":"<p>1.Advice:  run Comand Prompt as administrator ( If you are using windows 7, you can go to run, type cmd and hit Ctrl+Shift+enter. This will open the command prompt in administrator mode.)</p>\n<p>2.C:......  &gt;  keytool -importcert -file &quot;C:part/to/file.crt&quot; -keystore &quot;%JAVA_HOME%\\jre\\lib\\security\\cacerts&quot; -alias 1Alias\n(Do not forget that file with .crt )</p>\n<p>3.password - changeit</p>\n<ol start=\"4\">\n<li>y  - yes.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5066829,"reputation":2585,"user_id":4066742,"accept_rate":0,"display_name":"S. Mayol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666031966,"creation_date":1666031966,"answer_id":74101741,"question_id":41611406,"body_markdown":"I was getting the similar error when I was trying to run the BAT file:\r\n\r\n&gt; D:\\Accela\\av.biz\\conf\\certs&gt;D:\\Accela\\bin\\jdk1.7.0\\jre\\bin\\keytool.exe\r\n&gt; -import - noprompt -alias stgdiitehsccatsii.health.dohmh.nycnet -keystore D:\\Accela\\av.biz \\conf\\certs\\trusted_cacerts -file D:\\Accela\\av.biz\\conf\\certs\\stgdiitehsccatsii. health.dohmh.nycnet.cer\r\n&gt; -storepass changeit **keytool error: java.io.FileNotFoundException:** D:\\Accela\\av.biz\\conf\\certs\\stgdii tehsccatsii.health.dohmh.nycnet.cer\r\n&gt; (The system cannot find the file specified)\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; D:\\Accela\\av.biz\\conf\\certs&gt;pause Press any key to continue . . .\r\n\r\nI was able to fix it just changing the extension from **.cer** to **.crt** on the BAT file code:\r\n\r\n&gt; D:\\Accela\\av.biz\\conf\\certs\\stgdiitehsccatsii.health.dohmh.nycnet.**cer**\r\n\r\nto \r\n\r\n&gt; D:\\Accela\\av.biz\\conf\\certs\\stgdiitehsccatsii.health.dohmh.nycnet.**crt**\r\n\r\nSince that was the right extension for the certificate file.","title":"Keytool error java.io.FileNotFoundException(the system cannot find the file specified)","body":"<p>I was getting the similar error when I was trying to run the BAT file:</p>\n<blockquote>\n<p>D:\\Accela\\av.biz\\conf\\certs&gt;D:\\Accela\\bin\\jdk1.7.0\\jre\\bin\\keytool.exe\n-import - noprompt -alias stgdiitehsccatsii.health.dohmh.nycnet -keystore D:\\Accela\\av.biz \\conf\\certs\\trusted_cacerts -file D:\\Accela\\av.biz\\conf\\certs\\stgdiitehsccatsii. health.dohmh.nycnet.cer\n-storepass changeit <strong>keytool error: java.io.FileNotFoundException:</strong> D:\\Accela\\av.biz\\conf\\certs\\stgdii tehsccatsii.health.dohmh.nycnet.cer\n(The system cannot find the file specified)</p>\n<p>D:\\Accela\\av.biz\\conf\\certs&gt;pause Press any key to continue . . .</p>\n</blockquote>\n<p>I was able to fix it just changing the extension from <strong>.cer</strong> to <strong>.crt</strong> on the BAT file code:</p>\n<blockquote>\n<p>D:\\Accela\\av.biz\\conf\\certs\\stgdiitehsccatsii.health.dohmh.nycnet.<strong>cer</strong></p>\n</blockquote>\n<p>to</p>\n<blockquote>\n<p>D:\\Accela\\av.biz\\conf\\certs\\stgdiitehsccatsii.health.dohmh.nycnet.<strong>crt</strong></p>\n</blockquote>\n<p>Since that was the right extension for the certificate file.</p>\n"}],"owner":{"account_id":5105399,"reputation":568,"user_id":4093604,"accept_rate":36,"display_name":"Tatkal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29389,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47306157,"answer_count":5,"score":3,"last_activity_date":1681948322,"creation_date":1484218733,"question_id":41611406,"body_markdown":"&gt; keytool error: java.io.FileNotFoundException: api.sepa.express.crt (The system cannot find the file specified)\r\n\r\nI tried various examples which I found in stackoverflow. \r\n\r\n    keytool -importcert -file certificate.cer -keystore keystore.jks -alias &quot;Alias&quot;\r\n\r\nand \r\n\r\n        keytool -import -alias susan\r\n       -file Example.cer -keystore exampleraystore\r\n\r\nTried using cmd as admin. I have placed my certificate file in Desktop. When I&#39;m trying to copy in:\r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.8.0_60\\jre\\lib\\security\r\n\r\nIt&#39;s not accepting the certificate file.\r\n\r\nWhat would be the preferred way to complete this command?","title":"Keytool error java.io.FileNotFoundException(the system cannot find the file specified)","body":"<blockquote>\n<p>keytool error: java.io.FileNotFoundException: api.sepa.express.crt (The system cannot find the file specified)</p>\n</blockquote>\n<p>I tried various examples which I found in stackoverflow.</p>\n<pre><code>keytool -importcert -file certificate.cer -keystore keystore.jks -alias &quot;Alias&quot;\n</code></pre>\n<p>and</p>\n<pre><code>    keytool -import -alias susan\n   -file Example.cer -keystore exampleraystore\n</code></pre>\n<p>Tried using cmd as admin. I have placed my certificate file in Desktop. When I'm trying to copy in:</p>\n<blockquote>\n<p>C:\\Program Files\\Java\\jdk1.8.0_60\\jre\\lib\\security</p>\n</blockquote>\n<p>It's not accepting the certificate file.</p>\n<p>What would be the preferred way to complete this command?</p>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681879919,"post_id":76050837,"comment_id":134126209,"body_markdown":"[`File#exists`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/File.html#exists()) and I might also consider [`File#isFile`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/File.html#isFile())","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/File.html#exists()\" rel=\"nofollow noreferrer\"><code>File#exists</code></a> and I might also consider <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/File.html#isFile()\" rel=\"nofollow noreferrer\"><code>File#isFile</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681886072,"creation_date":1681886072,"answer_id":76051392,"question_id":76050837,"body_markdown":"try catch\r\n---\r\n\r\nyou could use a `try-catch` block for operation, where it is not guaranteed to work:\r\n\r\n```\r\ntry{\r\n    object.readBuyerFile(in.nextLine());\r\n    //if the operation from line above will not work, then an exception is thrown and the code is stopped - it will continue in the catch block then \r\n    System.out.print(object.generateReport());\r\n    System.out.print(object.generateReportByName());\r\n}catch(Exception e){\r\n    System.out.println(&quot;File name expected as command line argument.\\n&quot;\r\n               + &quot;Program ending.&quot;);\r\n}","title":"How do I set a statement to print if an invalid zip file is entered?","body":"<h2>try catch</h2>\n<p>you could use a <code>try-catch</code> block for operation, where it is not guaranteed to work:</p>\n<pre><code>try{\n    object.readBuyerFile(in.nextLine());\n    //if the operation from line above will not work, then an exception is thrown and the code is stopped - it will continue in the catch block then \n    System.out.print(object.generateReport());\n    System.out.print(object.generateReportByName());\n}catch(Exception e){\n    System.out.println(&quot;File name expected as command line argument.\\n&quot;\n               + &quot;Program ending.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20716510,"reputation":219,"user_id":15211804,"display_name":"Trevor Kropp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681947657,"creation_date":1681947657,"answer_id":76059546,"question_id":76050837,"body_markdown":"There are many ways something that sounds simple like reading a file can fail. As MadProgrammer suggests, we can use File methods to check whether it is valid.\r\nI have provided a more complete solution:\r\n```java\r\n// Buyer2App.java\r\npublic static void main(String[] args) {\r\n    BuyerProcessor object = new BuyerProcessor();\r\n    Scanner in = new Scanner(System.in);\r\n\r\n    object.readBuyerFile(in.nextLine());\r\n\r\n    if (!object.fileExists()) {\r\n        System.out.println(&quot;File does not exist.\\nProgram ending.&quot;);\r\n        in.close();\r\n        return;\r\n    }\r\n    if (!object.fileCanRead()) {\r\n        System.out.println(&quot;File cannot be read.\\nProgram ending.&quot;);\r\n        in.close();\r\n        return;\r\n    }\r\n    // file is valid if the runtime has reached this point\r\n    try {\r\n        System.out.print(object.generateReport());\r\n        System.out.print(object.generateReportByName());\r\n        System.out.print(object.generateReportByTotalPurchases());\r\n    } catch (IOException io) {\r\n        System.out.println(&quot;Failed to read reports from the file.\\nProgram ending.&quot;);\r\n    } finally {\r\n        in.close();\r\n    }\r\n}\r\n\r\n// BuyerProcessor.java\r\nprivate File file;\r\n\r\npublic void readBuyerFile(String fileName) {\r\n    this.file = new File(fileName);\r\n}\r\n\r\npublic boolean fileExists() {\r\n    return file.exists();\r\n}\r\n\r\npublic boolean fileCanRead() {\r\n    return file.canRead();\r\n}\r\n```\r\nThe key here is to **not** have the `main` method throw any Exception, so that any compile-time Exception will force the programmer to write a `catch` block for it.\r\n\r\nThere are more ways to improve the design, but hopefully this answers your question.","title":"How do I set a statement to print if an invalid zip file is entered?","body":"<p>There are many ways something that sounds simple like reading a file can fail. As MadProgrammer suggests, we can use File methods to check whether it is valid.\nI have provided a more complete solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Buyer2App.java\npublic static void main(String[] args) {\n    BuyerProcessor object = new BuyerProcessor();\n    Scanner in = new Scanner(System.in);\n\n    object.readBuyerFile(in.nextLine());\n\n    if (!object.fileExists()) {\n        System.out.println(&quot;File does not exist.\\nProgram ending.&quot;);\n        in.close();\n        return;\n    }\n    if (!object.fileCanRead()) {\n        System.out.println(&quot;File cannot be read.\\nProgram ending.&quot;);\n        in.close();\n        return;\n    }\n    // file is valid if the runtime has reached this point\n    try {\n        System.out.print(object.generateReport());\n        System.out.print(object.generateReportByName());\n        System.out.print(object.generateReportByTotalPurchases());\n    } catch (IOException io) {\n        System.out.println(&quot;Failed to read reports from the file.\\nProgram ending.&quot;);\n    } finally {\n        in.close();\n    }\n}\n\n// BuyerProcessor.java\nprivate File file;\n\npublic void readBuyerFile(String fileName) {\n    this.file = new File(fileName);\n}\n\npublic boolean fileExists() {\n    return file.exists();\n}\n\npublic boolean fileCanRead() {\n    return file.canRead();\n}\n</code></pre>\n<p>The key here is to <strong>not</strong> have the <code>main</code> method throw any Exception, so that any compile-time Exception will force the programmer to write a <code>catch</code> block for it.</p>\n<p>There are more ways to improve the design, but hopefully this answers your question.</p>\n"}],"owner":{"account_id":28345931,"reputation":1,"user_id":21678158,"display_name":"Halopez800"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681947657,"creation_date":1681879831,"question_id":76050837,"body_markdown":"In my code currently I have a zip file which is printing my methods currently when entered, but if my Zip file is entered wrong or just does not exist I want to print `&quot;File name expected.\\n&quot; + &quot;Program ending.&quot;);` I want to make this an if else statement but I do not know what to exactly put in the if statement. \r\n```\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n \r\npublic class Buyer2App {\r\n\r\n   public static void main(String[] args) throws IOException {\r\n      \r\n      BuyerProcessor object = new BuyerProcessor();\r\n      Scanner in = new Scanner(System.in);\r\n      \r\n      object.readBuyerFile(in.nextLine());\r\n      \r\n      if (????) {\r\n         System.out.print(object.generateReport());\r\n         System.out.print(object.generateReportByName());\r\n      System.out.print(object.generateReportByTotalPurchases());\r\n      }\r\n      else {\r\n         System.out.println(&quot;File name expected as command line argument.\\n&quot;\r\n               + &quot;Program ending.&quot;);\r\n      }\r\n   }\r\n```","title":"How do I set a statement to print if an invalid zip file is entered?","body":"<p>In my code currently I have a zip file which is printing my methods currently when entered, but if my Zip file is entered wrong or just does not exist I want to print <code>&quot;File name expected.\\n&quot; + &quot;Program ending.&quot;);</code> I want to make this an if else statement but I do not know what to exactly put in the if statement.</p>\n<pre><code>import java.io.IOException;\nimport java.util.Scanner;\n \npublic class Buyer2App {\n\n   public static void main(String[] args) throws IOException {\n      \n      BuyerProcessor object = new BuyerProcessor();\n      Scanner in = new Scanner(System.in);\n      \n      object.readBuyerFile(in.nextLine());\n      \n      if (????) {\n         System.out.print(object.generateReport());\n         System.out.print(object.generateReportByName());\n      System.out.print(object.generateReportByTotalPurchases());\n      }\n      else {\n         System.out.println(&quot;File name expected as command line argument.\\n&quot;\n               + &quot;Program ending.&quot;);\n      }\n   }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"owner":{"account_id":20923138,"reputation":33,"user_id":15371234,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681947230,"creation_date":1681947230,"question_id":76059530,"body_markdown":"I&#180;m doing Spring Boot tutorial of Amigoscode. I&#180;m at the point where he checks, whether the code is working. The classes are:\r\n\r\n1. AppUser\r\n```\r\npackage com.example.demo.appuser;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\n\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@Entity\r\npublic class AppUser implements UserDetails {\r\n    @SequenceGenerator(\r\n            name = &quot;student_sequence&quot;,\r\n            sequenceName = &quot;student_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;student_sequence&quot;\r\n    )\r\n    private Long id; // will be auto-generated\r\n    private String name;\r\n    private String username;\r\n    private String email;\r\n    private String password;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private AppUserRole appUserRole;\r\n    private Boolean locked;\r\n    private Boolean enabled;\r\n\r\n\r\n    public AppUser(String name,\r\n                   String username,\r\n                   String email,\r\n                   String password,\r\n                   AppUserRole appUserRole,\r\n                   Boolean locked,\r\n                   Boolean enabled) {\r\n        this.name = name;\r\n        this.username = username;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.appUserRole = appUserRole;\r\n        this.locked = locked;\r\n        this.enabled = enabled;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        SimpleGrantedAuthority authority = new SimpleGrantedAuthority(appUserRole.name());\r\n        return Collections.singletonList(authority);\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return !locked;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return enabled;\r\n    }\r\n}\r\n```\r\n\r\n2. AppUserRepository\r\n\r\n```\r\npackage com.example.demo.appuser;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\n@Transactional(readOnly = true)\r\npublic interface AppUserRepository extends JpaRepository&lt;AppUser, Long&gt; {\r\n    Optional&lt;AppUser&gt; findByEmail(String email);\r\n}\r\n```\r\n\r\n3. AppUserRole\r\n```\r\npackage com.example.demo.appuser;\r\n\r\npublic enum AppUserRole {\r\n    USER,\r\n    ADMIN\r\n}\r\n```\r\n\r\n4. AppUserService\r\n```\r\npackage com.example.demo.appuser;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class AppUserService implements UserDetailsService {\r\n    private final AppUserRepository appUserRepository;\r\n    private final static  String USER_NOT_FOUND_MSG = &quot;Benutzer mit der Email %s nicht gefunden!&quot;;\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        return appUserRepository.findByEmail(email).orElseThrow(()-&gt;\r\n                new UsernameNotFoundException(\r\n                        String.format(USER_NOT_FOUND_MSG, email)));\r\n    }\r\n}\r\n```\r\n\r\n5. RegistrationController\r\n```\r\npackage com.example.demo.registration;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/registration&quot;)\r\n@AllArgsConstructor\r\npublic class RegistrationController {\r\n\r\n    private RegistrationService registrationService;\r\n\r\n    public String register(@RequestBody RegistrationRequest request){\r\n        return registrationService.register(request);\r\n    }\r\n}\r\n```\r\n\r\n6. RegistrationRequest\r\n\r\n```\r\npackage com.example.demo.registration;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\nimport lombok.ToString;\r\n\r\n@Getter\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\n@ToString\r\npublic class RegistrationRequest {\r\n    private final String firstName;\r\n    private final String lastName;\r\n    private final String email;\r\n    private final String password;\r\n}\r\n```\r\n\r\n7. RegistrationService\r\n```\r\npackage com.example.demo.registration;\r\n\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class RegistrationService {\r\n    public String register(RegistrationRequest request) {\r\n        return &quot;works&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI also created a database named &quot;registration&quot; with PostgreSQL\r\n\r\n\r\nMy application.properties (or: application.yml):\r\n```\r\n# H2 properties\r\nspring.h2.console.enabled=true\r\nspring.h2.console.path=/h2-console\r\n\r\n# PostgreSQL properties\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/registration\r\nspring.datasource.username=\r\nspring.datasource.password=19031993\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\n# Hibernate properties\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n```\r\n\r\nand my pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nError code:\r\n```\r\n2023-04-20T01:07:10.425+02:00  INFO 29504 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.2 with PID 29504 (C:\\Users\\Kemal\\OneDrive\\Desktop\\Provi\\demo\\demo\\target\\classes started by Kemal in C:\\Users\\Kemal\\OneDrive\\Desktop\\Provi)\r\n2023-04-20T01:07:10.428+02:00  INFO 29504 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-20T01:07:10.588+02:00  WARN 29504 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.demo.security.config.WebSecurityConfig]: class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist\r\n2023-04-20T01:07:10.607+02:00 ERROR 29504 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.demo.security.config.WebSecurityConfig]: class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:497) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:297) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:747) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: java.io.FileNotFoundException: class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:54) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:48) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:610) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getSuperClass(ConfigurationClassParser.java:923) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:334) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514) ~[spring-context-6.0.7.jar:6.0.7]\r\n\t... 21 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI tried to fix the problems by trying to add/remove some dependencies and by changing the database &amp; application.property settings but nothing is working. How can I fix these problems?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot Errors: BeanDefinitionStoreException &amp; FileNotFoundException","body":"<p>I´m doing Spring Boot tutorial of Amigoscode. I´m at the point where he checks, whether the code is working. The classes are:</p>\n<ol>\n<li>AppUser</li>\n</ol>\n<pre><code>package com.example.demo.appuser;\n\nimport jakarta.persistence.*;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Collection;\nimport java.util.Collections;\n\n@Getter\n@Setter\n@EqualsAndHashCode\n@NoArgsConstructor\n@Entity\npublic class AppUser implements UserDetails {\n    @SequenceGenerator(\n            name = &quot;student_sequence&quot;,\n            sequenceName = &quot;student_sequence&quot;,\n            allocationSize = 1\n    )\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;student_sequence&quot;\n    )\n    private Long id; // will be auto-generated\n    private String name;\n    private String username;\n    private String email;\n    private String password;\n\n    @Enumerated(EnumType.STRING)\n    private AppUserRole appUserRole;\n    private Boolean locked;\n    private Boolean enabled;\n\n\n    public AppUser(String name,\n                   String username,\n                   String email,\n                   String password,\n                   AppUserRole appUserRole,\n                   Boolean locked,\n                   Boolean enabled) {\n        this.name = name;\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.appUserRole = appUserRole;\n        this.locked = locked;\n        this.enabled = enabled;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        SimpleGrantedAuthority authority = new SimpleGrantedAuthority(appUserRole.name());\n        return Collections.singletonList(authority);\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !locked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return enabled;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>AppUserRepository</li>\n</ol>\n<pre><code>package com.example.demo.appuser;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.Optional;\n\n@Repository\n@Transactional(readOnly = true)\npublic interface AppUserRepository extends JpaRepository&lt;AppUser, Long&gt; {\n    Optional&lt;AppUser&gt; findByEmail(String email);\n}\n</code></pre>\n<ol start=\"3\">\n<li>AppUserRole</li>\n</ol>\n<pre><code>package com.example.demo.appuser;\n\npublic enum AppUserRole {\n    USER,\n    ADMIN\n}\n</code></pre>\n<ol start=\"4\">\n<li>AppUserService</li>\n</ol>\n<pre><code>package com.example.demo.appuser;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\n@Service\n@AllArgsConstructor\npublic class AppUserService implements UserDetailsService {\n    private final AppUserRepository appUserRepository;\n    private final static  String USER_NOT_FOUND_MSG = &quot;Benutzer mit der Email %s nicht gefunden!&quot;;\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        return appUserRepository.findByEmail(email).orElseThrow(()-&gt;\n                new UsernameNotFoundException(\n                        String.format(USER_NOT_FOUND_MSG, email)));\n    }\n}\n</code></pre>\n<ol start=\"5\">\n<li>RegistrationController</li>\n</ol>\n<pre><code>package com.example.demo.registration;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(path = &quot;api/v1/registration&quot;)\n@AllArgsConstructor\npublic class RegistrationController {\n\n    private RegistrationService registrationService;\n\n    public String register(@RequestBody RegistrationRequest request){\n        return registrationService.register(request);\n    }\n}\n</code></pre>\n<ol start=\"6\">\n<li>RegistrationRequest</li>\n</ol>\n<pre><code>package com.example.demo.registration;\n\nimport lombok.AllArgsConstructor;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.ToString;\n\n@Getter\n@AllArgsConstructor\n@EqualsAndHashCode\n@ToString\npublic class RegistrationRequest {\n    private final String firstName;\n    private final String lastName;\n    private final String email;\n    private final String password;\n}\n</code></pre>\n<ol start=\"7\">\n<li>RegistrationService</li>\n</ol>\n<pre><code>package com.example.demo.registration;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class RegistrationService {\n    public String register(RegistrationRequest request) {\n        return &quot;works&quot;;\n    }\n}\n</code></pre>\n<p>I also created a database named &quot;registration&quot; with PostgreSQL</p>\n<p>My application.properties (or: application.yml):</p>\n<pre><code># H2 properties\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n\n# PostgreSQL properties\nspring.datasource.url=jdbc:postgresql://localhost:5432/registration\nspring.datasource.username=\nspring.datasource.password=19031993\nspring.datasource.driver-class-name=org.postgresql.Driver\n\n# Hibernate properties\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n<p>and my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Error code:</p>\n<pre><code>2023-04-20T01:07:10.425+02:00  INFO 29504 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.2 with PID 29504 (C:\\Users\\Kemal\\OneDrive\\Desktop\\Provi\\demo\\demo\\target\\classes started by Kemal in C:\\Users\\Kemal\\OneDrive\\Desktop\\Provi)\n2023-04-20T01:07:10.428+02:00  INFO 29504 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-20T01:07:10.588+02:00  WARN 29504 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.demo.security.config.WebSecurityConfig]: class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist\n2023-04-20T01:07:10.607+02:00 ERROR 29504 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.demo.security.config.WebSecurityConfig]: class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:497) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:297) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:747) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: java.io.FileNotFoundException: class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist\n    at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:54) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:48) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:610) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getSuperClass(ConfigurationClassParser.java:923) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:334) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514) ~[spring-context-6.0.7.jar:6.0.7]\n    ... 21 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I tried to fix the problems by trying to add/remove some dependencies and by changing the database &amp; application.property settings but nothing is working. How can I fix these problems?</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1304886488,"post_id":5930087,"comment_id":6832442,"body_markdown":"list() can be very slow on many files.","body":"list() can be very slow on many files."},{"owner":{"account_id":199821,"reputation":21300,"user_id":445348,"accept_rate":77,"display_name":"cottonBallPaws"},"score":2,"creation_date":1406830807,"post_id":5930087,"comment_id":38995164,"body_markdown":"When scanning for empty directories I found that .list() was taking up well over 50% of the execution time. So finding an alternative could significantly speed things up if you don&#39;t actually need the list of files.","body":"When scanning for empty directories I found that .list() was taking up well over 50% of the execution time. So finding an alternative could significantly speed things up if you don&#39;t actually need the list of files."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1618179221,"post_id":5930087,"comment_id":118517445,"body_markdown":"Over an excruciatingly slow network (via a UNC path), reading a directory list containing 10,000 subdirectories once took a program I was tasked to maintain somewhere around 30 minutes. The program then attempted to read the contents of each directory cross-indexed against a database, resulting in an 8-hour runtime. `list()` can be _very_ slow indeed. After flipping the logic (database query first), the runtime dropped to around 8 minutes.","body":"Over an excruciatingly slow network (via a UNC path), reading a directory list containing 10,000 subdirectories once took a program I was tasked to maintain somewhere around 30 minutes. The program then attempted to read the contents of each directory cross-indexed against a database, resulting in an 8-hour runtime. <code>list()</code> can be <i>very</i> slow indeed. After flipping the logic (database query first), the runtime dropped to around 8 minutes."}],"answers":[{"tags":[],"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1304891424,"creation_date":1304886346,"answer_id":5930138,"question_id":5930087,"body_markdown":"This is a dirty workaround, but you can try do delete it (with the `delete` method), and if the delete operation fails, then the directory is not empty, if it succeeds, then it is empty (but you have to re-create it, and that&#39;s not neat). I&#39;ll continue searching for a better solution.\r\n\r\n**EDIT**: I&#39;ve found walkFileTree from java.nio.file.Files class: http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#walkFileTree(java.nio.file.Path, java.nio.file.FileVisitor)\r\nProblem is that this is Java 7 only.\r\n\r\nI&#39;ve searched S.O. for other questions related to this very issue (listing files in a directory w/o using list() which allocates memory for a big array) and the answer is quite always &quot;you can&#39;t, unless you use JNI&quot;, which is both platform dependent and ugly.","title":"How to check if a directory is empty in Java","body":"<p>This is a dirty workaround, but you can try do delete it (with the <code>delete</code> method), and if the delete operation fails, then the directory is not empty, if it succeeds, then it is empty (but you have to re-create it, and that's not neat). I'll continue searching for a better solution.</p>\n\n<p><strong>EDIT</strong>: I've found walkFileTree from java.nio.file.Files class: <a href=\"http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#walkFileTree(java.nio.file.Path\" rel=\"nofollow\">http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#walkFileTree(java.nio.file.Path</a>, java.nio.file.FileVisitor)\nProblem is that this is Java 7 only.</p>\n\n<p>I've searched S.O. for other questions related to this very issue (listing files in a directory w/o using list() which allocates memory for a big array) and the answer is quite always \"you can't, unless you use JNI\", which is both platform dependent and ugly.</p>\n"},{"tags":[],"owner":{"account_id":146723,"reputation":9512,"user_id":357360,"accept_rate":84,"display_name":"RonK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1304889293,"creation_date":1304887054,"answer_id":5930214,"question_id":5930087,"body_markdown":"If you can live with platform dependent code - you can try using actual native code by loading a system library and using its APIs.\r\n\r\nIn Windows for example you have a [Win32 API][1] named `FindFirstFile()` with the directory name (*without* a trailing backslash). If it returns something other than `.` and `..` you know the directory isn&#39;t empty. It will not list all the files so it&#39;s much faster than `file.list()`.\r\n\r\nThe equivalent on Unix is &lt;a href=&quot;http://pubs.opengroup.org/onlinepubs/007908799/xsh/opendir.html&quot;&gt;`opendir`&lt;/a&gt;. For your purposes the logic would be the same.\r\n\r\nOf course - calling native methods has a price on usability and the initial library loading which should be negated by the time it will save on the FS queries.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/aa364418%28v=VS.85%29.aspx","title":"How to check if a directory is empty in Java","body":"<p>If you can live with platform dependent code - you can try using actual native code by loading a system library and using its APIs.</p>\n\n<p>In Windows for example you have a <a href=\"http://msdn.microsoft.com/en-us/library/aa364418%28v=VS.85%29.aspx\" rel=\"nofollow\">Win32 API</a> named <code>FindFirstFile()</code> with the directory name (<em>without</em> a trailing backslash). If it returns something other than <code>.</code> and <code>..</code> you know the directory isn't empty. It will not list all the files so it's much faster than <code>file.list()</code>.</p>\n\n<p>The equivalent on Unix is <a href=\"http://pubs.opengroup.org/onlinepubs/007908799/xsh/opendir.html\" rel=\"nofollow\"><code>opendir</code></a>. For your purposes the logic would be the same.</p>\n\n<p>Of course - calling native methods has a price on usability and the initial library loading which should be negated by the time it will save on the FS queries.</p>\n"},{"tags":[],"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1463050099,"creation_date":1304888925,"answer_id":5930380,"question_id":5930087,"body_markdown":"Considering from [`java.io.File`][1] [source code][2], [`list()`][3] method does:\r\n\r\n        public java.lang.String[] list() {\r\n        ...\r\n            byte[][] implList = listImpl(bs);\r\n            if (implList == null) {\r\n               // empty list\r\n               return new String[0];\r\n            }     \r\n         ...\r\n         }\r\n\r\n         private synchronized static native byte[][] listImpl(byte[] path);\r\nIt calls a native method passing a byte array to get files from it. If a method returns `null` it means directory is empty. \r\n\r\n**Which means**, they don&#39;t even have a native method, to check for directory emptiness without listing files, so there is no way they would have an implementation in java for checking if directory is empty.\r\n\r\n**Outcome**: checking if directory is empty without listing files is not implemented in java, yet.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html\r\n  [2]: http://www.docjar.com/html/api/java/io/File.java.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#list%28%29","title":"How to check if a directory is empty in Java","body":"<p>Considering from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\"><code>java.io.File</code></a> <a href=\"http://www.docjar.com/html/api/java/io/File.java.html\" rel=\"nofollow noreferrer\">source code</a>, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#list%28%29\" rel=\"nofollow noreferrer\"><code>list()</code></a> method does:</p>\n\n<pre><code>    public java.lang.String[] list() {\n    ...\n        byte[][] implList = listImpl(bs);\n        if (implList == null) {\n           // empty list\n           return new String[0];\n        }     \n     ...\n     }\n\n     private synchronized static native byte[][] listImpl(byte[] path);\n</code></pre>\n\n<p>It calls a native method passing a byte array to get files from it. If a method returns <code>null</code> it means directory is empty. </p>\n\n<p><strong>Which means</strong>, they don't even have a native method, to check for directory emptiness without listing files, so there is no way they would have an implementation in java for checking if directory is empty.</p>\n\n<p><strong>Outcome</strong>: checking if directory is empty without listing files is not implemented in java, yet.</p>\n"},{"tags":[],"owner":{"account_id":679949,"reputation":2827,"user_id":527768,"display_name":"Alan"},"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1408030269,"creation_date":1304949527,"answer_id":5937917,"question_id":5930087,"body_markdown":"With JDK7 you can use Files.newDirectoryStream to open the directory and then use the iterator&#39;s hasNext() method to test there are any files to iterator over (don&#39;t forgot to close the stream). This should work better for huge directories or where the directory is on a remote file system when compared to the java.io.File list methods.\r\n\r\nExample:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tprivate static boolean isDirEmpty(final Path directory) throws IOException {\r\n\t\ttry(DirectoryStream&lt;Path&gt; dirStream = Files.newDirectoryStream(directory)) {\r\n\t\t\treturn !dirStream.iterator().hasNext();\r\n\t\t}\r\n\t}","title":"How to check if a directory is empty in Java","body":"<p>With JDK7 you can use Files.newDirectoryStream to open the directory and then use the iterator's hasNext() method to test there are any files to iterator over (don't forgot to close the stream). This should work better for huge directories or where the directory is on a remote file system when compared to the java.io.File list methods.</p>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isDirEmpty(final Path directory) throws IOException {\n    try(DirectoryStream&lt;Path&gt; dirStream = Files.newDirectoryStream(directory)) {\n        return !dirStream.iterator().hasNext();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110976,"reputation":3549,"user_id":293420,"accept_rate":92,"display_name":"lesolorzanov"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1344280767,"creation_date":1344280767,"answer_id":11834492,"question_id":5930087,"body_markdown":"         Path checkIfEmpty=Paths.get(&quot;Pathtofile&quot;);\r\n         DirectoryStream&lt;Path&gt; ds = Files.newDirectoryStream(checkIfEmpty);\r\n         Iterator files = ds.iterator();\r\n         if(!files.hasNext())\r\n             Files.deleteIfExists(Paths.get(checkIfEmpty.toString()));","title":"How to check if a directory is empty in Java","body":"<pre><code>     Path checkIfEmpty=Paths.get(\"Pathtofile\");\n     DirectoryStream&lt;Path&gt; ds = Files.newDirectoryStream(checkIfEmpty);\n     Iterator files = ds.iterator();\n     if(!files.hasNext())\n         Files.deleteIfExists(Paths.get(checkIfEmpty.toString()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":872746,"reputation":1869,"user_id":923233,"display_name":"Divanshu"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1455257113,"creation_date":1397642244,"answer_id":23106028,"question_id":5930087,"body_markdown":"    File parentDir =  file.getParentFile();\r\n    if(parentDir.isDirectory() &amp;&amp; parentDir.list().length == 0) {\r\n\t    LOGGER.info(&quot;Directory is empty&quot;);\r\n    } else {\r\n        LOGGER.info(&quot;Directory is not empty&quot;);\r\n    }","title":"How to check if a directory is empty in Java","body":"<pre><code>File parentDir =  file.getParentFile();\nif(parentDir.isDirectory() &amp;&amp; parentDir.list().length == 0) {\n    LOGGER.info(\"Directory is empty\");\n} else {\n    LOGGER.info(\"Directory is not empty\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4541771,"reputation":505,"user_id":3689438,"display_name":"Minnow"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1480588875,"creation_date":1480588875,"answer_id":40908478,"question_id":5930087,"body_markdown":"    if(!Files.list(Paths.get(directory)).findAny().isPresent()){\r\n\t    Files.delete(Paths.get(directory));\r\n     }\r\nAs Files.list Return a lazily populated Stream it will solve your  execution time related issue.","title":"How to check if a directory is empty in Java","body":"<pre><code>if(!Files.list(Paths.get(directory)).findAny().isPresent()){\n    Files.delete(Paths.get(directory));\n }\n</code></pre>\n\n<p>As Files.list Return a lazily populated Stream it will solve your  execution time related issue.</p>\n"},{"tags":[],"owner":{"account_id":11214877,"reputation":141,"user_id":8227834,"display_name":"Radhesh Khanna"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1498810759,"creation_date":1498810759,"answer_id":44841842,"question_id":5930087,"body_markdown":"I also had this Confusion for a Long time about how to check if the Directory was empty or not \r\nBut the Answer is Quite Simple \r\nuse \r\n   \r\n   \r\n    class isFileEmpty{\r\n    public static void main(String args[]){\r\n    File d = new File(//Path of the Directory you want to check or open);\r\n    String path = d.getAbsolutePath().toString();\r\n    File dir = new File(path);\r\n    File[] files = dir.listFiles();\r\n    if(!dir.exists()){\r\n    System.out.Println(&quot;Directory is Empty&quot;);\r\n    }\r\n    else{\r\n    for(int i =0;i&lt;files.length;i++){\r\n    System.out.Println(files[i])\r\n               }\r\n           }\r\n       }\r\n    }","title":"How to check if a directory is empty in Java","body":"<p>I also had this Confusion for a Long time about how to check if the Directory was empty or not \nBut the Answer is Quite Simple \nuse </p>\n\n<pre><code>class isFileEmpty{\npublic static void main(String args[]){\nFile d = new File(//Path of the Directory you want to check or open);\nString path = d.getAbsolutePath().toString();\nFile dir = new File(path);\nFile[] files = dir.listFiles();\nif(!dir.exists()){\nSystem.out.Println(\"Directory is Empty\");\n}\nelse{\nfor(int i =0;i&lt;files.length;i++){\nSystem.out.Println(files[i])\n           }\n       }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10228169,"reputation":183,"user_id":7549946,"accept_rate":100,"display_name":"Eugene Shamkin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541141649,"creation_date":1541141649,"answer_id":53113903,"question_id":5930087,"body_markdown":"I want to add to answer of Developer. Checking is it directory or not should not be in one If operator, because you will have mistake in logic. First of all you checking is it directory or not, and only after that you checking directory consistensy, becouse you will get wrong answer if the tranfered to method directory is not exist. Just check it. Should be like this:\r\n    \r\n    if (file.isDirectory()) {\r\n        if( file.list().length == 0) {\r\n            logger.info(&quot;Directory is empty&quot;);\r\n            return false;\r\n        } else {\r\n            logger.info(&quot;Directory is not empty&quot;);\r\n            return true;\r\n        }\r\n    } else {\r\n        return false;\r\n    }","title":"How to check if a directory is empty in Java","body":"<p>I want to add to answer of Developer. Checking is it directory or not should not be in one If operator, because you will have mistake in logic. First of all you checking is it directory or not, and only after that you checking directory consistensy, becouse you will get wrong answer if the tranfered to method directory is not exist. Just check it. Should be like this:</p>\n\n<pre><code>if (file.isDirectory()) {\n    if( file.list().length == 0) {\n        logger.info(\"Directory is empty\");\n        return false;\n    } else {\n        logger.info(\"Directory is not empty\");\n        return true;\n    }\n} else {\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10386270,"reputation":1413,"user_id":7659255,"accept_rate":38,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1576255846,"creation_date":1576255846,"answer_id":59326744,"question_id":5930087,"body_markdown":"    boolean isEmptyDirectory(Path dir) throws IOException {\r\n        try (var entries = Files.list(dir)) {\r\n            return entries.count() == 0;\r\n        }\r\n    }\r\n\r\nSimilar to @Minnow&#39;s solution (but with less method calls), this solution has the benefit &quot;As Files.list Return a lazily populated Stream it will solve your execution time related issue.&quot;","title":"How to check if a directory is empty in Java","body":"<pre><code>boolean isEmptyDirectory(Path dir) throws IOException {\n    try (var entries = Files.list(dir)) {\n        return entries.count() == 0;\n    }\n}\n</code></pre>\n\n<p>Similar to @Minnow's solution (but with less method calls), this solution has the benefit \"As Files.list Return a lazily populated Stream it will solve your execution time related issue.\"</p>\n"},{"tags":[],"owner":{"account_id":11354284,"reputation":1,"user_id":8324325,"display_name":"Leo Ka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681946717,"creation_date":1681801705,"answer_id":76041712,"question_id":5930087,"body_markdown":"You can check whether `directory` `isDirectory()` after all (and not a file) and then, call `list()` to get its content and finally, get the `length` value to see whether there is content, i.e., whether it&#39;s not empty.\r\n\r\n    directory.isDirectory() &amp;&amp; directory.list().length &gt; 0 // directory is a File obj\r\n\r\n","title":"How to check if a directory is empty in Java","body":"<p>You can check whether <code>directory</code> <code>isDirectory()</code> after all (and not a file) and then, call <code>list()</code> to get its content and finally, get the <code>length</code> value to see whether there is content, i.e., whether it's not empty.</p>\n<pre><code>directory.isDirectory() &amp;&amp; directory.list().length &gt; 0 // directory is a File obj\n</code></pre>\n"}],"owner":{"account_id":347076,"reputation":5785,"user_id":680982,"display_name":"Csq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75636,"favorite_count":0,"down_vote_count":1,"up_vote_count":76,"accepted_answer_id":5937917,"answer_count":11,"score":75,"last_activity_date":1681946717,"creation_date":1304885974,"question_id":5930087,"body_markdown":"I&#39;d like to check if directory is empty in Java. But there is a possibility that there are many files in that directory so I&#39;d like to do it without querying its file list, if possible.","title":"How to check if a directory is empty in Java","body":"<p>I'd like to check if directory is empty in Java. But there is a possibility that there are many files in that directory so I'd like to do it without querying its file list, if possible.</p>\n"},{"tags":["java","swing","jtextarea","ibm-midrange","jt400"],"answers":[{"tags":[],"owner":{"account_id":23229,"reputation":40703,"user_id":58061,"accept_rate":74,"display_name":"James Allman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1681945998,"creation_date":1377669520,"answer_id":18480381,"question_id":18480014,"body_markdown":"The [PrintObjectPageInputStream](https://javadoc.io/static/net.sf.jt400/jt400/11.2/com/ibm/as400/access/PrintObjectPageInputStream.html) class has a [nextPage()](https://javadoc.io/static/net.sf.jt400/jt400/11.2/com/ibm/as400/access/PrintObjectPageInputStream.html#nextPage())\r\n method to move to the next page.\r\n\r\n    BufferedReader d = new BufferedReader(new InputStreamReader(is));\r\n    String data = &quot;&quot;;\r\n    do {\r\n        while((data = d.readLine()) != null)\r\n        {\r\n            System.out.println (data);\r\n            jTextArea1.setText(jTextArea1.getText()+&quot;\\n&quot;+data);\r\n        }\r\n    } while (d.nextPage());\r\n\r\n&lt;hr&gt;\r\n\r\nUse [PrintObjectTransformedInputStream](https://javadoc.io/static/net.sf.jt400/jt400/11.2/com/ibm/as400/access/PrintObjectTransformedInputStream.html) to read an entire spooled file without paging.","title":"Read AS400 Spooled File with All pages - JAVA (JT400)","body":"<p>The <a href=\"https://javadoc.io/static/net.sf.jt400/jt400/11.2/com/ibm/as400/access/PrintObjectPageInputStream.html\" rel=\"nofollow noreferrer\">PrintObjectPageInputStream</a> class has a <a href=\"https://javadoc.io/static/net.sf.jt400/jt400/11.2/com/ibm/as400/access/PrintObjectPageInputStream.html#nextPage()\" rel=\"nofollow noreferrer\">nextPage()</a>\nmethod to move to the next page.</p>\n<pre><code>BufferedReader d = new BufferedReader(new InputStreamReader(is));\nString data = &quot;&quot;;\ndo {\n    while((data = d.readLine()) != null)\n    {\n        System.out.println (data);\n        jTextArea1.setText(jTextArea1.getText()+&quot;\\n&quot;+data);\n    }\n} while (d.nextPage());\n</code></pre>\n<hr>\n<p>Use <a href=\"https://javadoc.io/static/net.sf.jt400/jt400/11.2/com/ibm/as400/access/PrintObjectTransformedInputStream.html\" rel=\"nofollow noreferrer\">PrintObjectTransformedInputStream</a> to read an entire spooled file without paging.</p>\n"}],"owner":{"account_id":3186905,"reputation":201,"user_id":2692308,"accept_rate":69,"display_name":"sheanD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2888,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18480381,"answer_count":1,"score":3,"last_activity_date":1681945998,"creation_date":1377667569,"question_id":18480014,"body_markdown":"I&#39;m Trying to read AS400 Spooled file in JAVA. I read it using this code. but problem is it&#39;s retrieve only one page details of that Spooled file. But i want to read and get all pages details. Any one know how to do it ?\r\n\r\nThanks in Advance!\r\n\r\nCODE :\r\n\r\n    try {\r\n        jTextArea1.setText(null);\r\n        DefaultTableModel DTM =(DefaultTableModel) jTable1.getModel();\r\n        int SR = jTable1.getSelectedRow();\r\n\r\n        String SPLFNAME =  (String) DTM.getValueAt(SR, 0);\r\n        String SPLFNUMBERT =  (String) DTM.getValueAt(SR, 1);\r\n        String JOBNAME =  (String) DTM.getValueAt(SR, 3);\r\n        String JOBUSER =  (String) DTM.getValueAt(SR, 4);\r\n        String JOBFNUMBER =  (String) DTM.getValueAt(SR, 5);\r\n\r\n        int SPLNO = Integer.parseInt(SPLFNUMBERT);\r\n\r\n        AS400 sys = new AS400();\r\n        SpooledFile sf = new SpooledFile( sys,          // AS400\r\n                                          SPLFNAME,     // splf name\r\n                                          SPLNO,        // splf number\r\n                                          JOBNAME,      // job name\r\n                                          JOBUSER,      // job user\r\n                                          JOBFNUMBER ); // job number\r\n\r\n        PrintParameterList printParms = new PrintParameterList();\r\n        printParms.setParameter(PrintObject.ATTR_WORKSTATION_CUST_OBJECT, &quot;/QSYS.LIB/QWPDEFAULT.WSCST&quot;);\r\n        printParms.setParameter(PrintObject.ATTR_MFGTYPE, &quot;*WSCST&quot;);\r\n\r\n        // Create a page input stream from the spooled file\r\n        PrintObjectPageInputStream is = sf.getPageInputStream(printParms);\r\n\r\n        BufferedReader d = new BufferedReader(new InputStreamReader(is));\r\n        String data =&quot;&quot;;\r\n        while((data = d.readLine() )!=null)\r\n        {\r\n            System.out.println (data);\r\n\r\n            jTextArea1.setText(jTextArea1.getText()+&quot;\\n&quot;+data);\r\n        }\r\n    } catch (Exception e) {\r\n        System.out.println(e);\r\n    }","title":"Read AS400 Spooled File with All pages - JAVA (JT400)","body":"<p>I'm Trying to read AS400 Spooled file in JAVA. I read it using this code. but problem is it's retrieve only one page details of that Spooled file. But i want to read and get all pages details. Any one know how to do it ?</p>\n\n<p>Thanks in Advance!</p>\n\n<p>CODE :</p>\n\n<pre><code>try {\n    jTextArea1.setText(null);\n    DefaultTableModel DTM =(DefaultTableModel) jTable1.getModel();\n    int SR = jTable1.getSelectedRow();\n\n    String SPLFNAME =  (String) DTM.getValueAt(SR, 0);\n    String SPLFNUMBERT =  (String) DTM.getValueAt(SR, 1);\n    String JOBNAME =  (String) DTM.getValueAt(SR, 3);\n    String JOBUSER =  (String) DTM.getValueAt(SR, 4);\n    String JOBFNUMBER =  (String) DTM.getValueAt(SR, 5);\n\n    int SPLNO = Integer.parseInt(SPLFNUMBERT);\n\n    AS400 sys = new AS400();\n    SpooledFile sf = new SpooledFile( sys,          // AS400\n                                      SPLFNAME,     // splf name\n                                      SPLNO,        // splf number\n                                      JOBNAME,      // job name\n                                      JOBUSER,      // job user\n                                      JOBFNUMBER ); // job number\n\n    PrintParameterList printParms = new PrintParameterList();\n    printParms.setParameter(PrintObject.ATTR_WORKSTATION_CUST_OBJECT, \"/QSYS.LIB/QWPDEFAULT.WSCST\");\n    printParms.setParameter(PrintObject.ATTR_MFGTYPE, \"*WSCST\");\n\n    // Create a page input stream from the spooled file\n    PrintObjectPageInputStream is = sf.getPageInputStream(printParms);\n\n    BufferedReader d = new BufferedReader(new InputStreamReader(is));\n    String data =\"\";\n    while((data = d.readLine() )!=null)\n    {\n        System.out.println (data);\n\n        jTextArea1.setText(jTextArea1.getText()+\"\\n\"+data);\n    }\n} catch (Exception e) {\n    System.out.println(e);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","integration-testing"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1681926198,"post_id":76057394,"comment_id":134137084,"body_markdown":"I&#39;m a bit confused at your requirements.  You want to run both unit tests *and* E2E tests from the same class?  Is separating the classes that do E2E from unit tests not an option?","body":"I&#39;m a bit confused at your requirements.  You want to run both unit tests <i>and</i> E2E tests from the same class?  Is separating the classes that do E2E from unit tests not an option?"},{"owner":{"account_id":13893241,"reputation":11,"user_id":14451370,"display_name":"bazzingaa"},"score":0,"creation_date":1681928015,"post_id":76057394,"comment_id":134137517,"body_markdown":"@Makoto thanks for taking a look at the question. I need to use the same class for integration and module testing. The same tests are reusable for both. Hence I just want to be able to change the profile with which my test is run.","body":"@Makoto thanks for taking a look at the question. I need to use the same class for integration and module testing. The same tests are reusable for both. Hence I just want to be able to change the profile with which my test is run."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1681929090,"post_id":76057394,"comment_id":134137788,"body_markdown":"Can you explain more on this &quot;need&quot;?  Normally the convention even in Spring testing is to split the two up.  Is there something else mandating that?","body":"Can you explain more on this &quot;need&quot;?  Normally the convention even in Spring testing is to split the two up.  Is there something else mandating that?"},{"owner":{"account_id":13893241,"reputation":11,"user_id":14451370,"display_name":"bazzingaa"},"score":0,"creation_date":1681942160,"post_id":76057394,"comment_id":134139997,"body_markdown":"@Makoto The test code is the same for both profiles, the only thing that varies is some properties in the yml files for both. I know I can always have two separate test files but I am trying to avoid that and make the above approach work.","body":"@Makoto The test code is the same for both profiles, the only thing that varies is some properties in the yml files for both. I know I can always have two separate test files but I am trying to avoid that and make the above approach work."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681945262,"creation_date":1681945262,"answer_id":76059397,"question_id":76057394,"body_markdown":"This isn&#39;t something you want to hear, but it&#39;s a lot easier to separate this into two separate test classes.\r\n\r\nHere&#39;s why.\r\n\r\n1. With JUnit Jupiter, you can [tag long-running tests](https://junit.org/junit5/docs/current/user-guide/#writing-tests-tagging-and-filtering).  This would allow you to have one file that is your E2E test suite, and one that is your unit tests.  On top of that...\r\n2. It is ***way*** easier to control the properties for a whole test class rather than by profile.  The easiest way to do this is through `@SpringBootTest` which allows you to load in a profile-specific properties file (through [the usual means in Spring](https://docs.spring.io/spring-boot/docs/2.7.x/reference/htmlsingle/#features.external-config.files.profile-specific)).  Then this begets...\r\n3.  It&#39;s ***way*** simpler to keep track of a failed test in a specific context than to have the context munged together.  This can&#39;t be overstated; knowing that your test failed because it was an E2E test is better than assuming or guessing.  Keeping your tests consistent and concise to understand what it is you are or aren&#39;t testing at any given time is vital to writing good tests.","title":"How to set Spring active profile programatically in my test class?","body":"<p>This isn't something you want to hear, but it's a lot easier to separate this into two separate test classes.</p>\n<p>Here's why.</p>\n<ol>\n<li>With JUnit Jupiter, you can <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-tagging-and-filtering\" rel=\"nofollow noreferrer\">tag long-running tests</a>.  This would allow you to have one file that is your E2E test suite, and one that is your unit tests.  On top of that...</li>\n<li>It is <em><strong>way</strong></em> easier to control the properties for a whole test class rather than by profile.  The easiest way to do this is through <code>@SpringBootTest</code> which allows you to load in a profile-specific properties file (through <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/reference/htmlsingle/#features.external-config.files.profile-specific\" rel=\"nofollow noreferrer\">the usual means in Spring</a>).  Then this begets...</li>\n<li>It's <em><strong>way</strong></em> simpler to keep track of a failed test in a specific context than to have the context munged together.  This can't be overstated; knowing that your test failed because it was an E2E test is better than assuming or guessing.  Keeping your tests consistent and concise to understand what it is you are or aren't testing at any given time is vital to writing good tests.</li>\n</ol>\n"}],"owner":{"account_id":13893241,"reputation":11,"user_id":14451370,"display_name":"bazzingaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681945262,"creation_date":1681925967,"question_id":76057394,"body_markdown":"I have a springBoot test class that I want to run with two different profiles which can be switched ideally through the build.gradle or using profiles. \r\nI am using @ActiveProfiles annotation to specify which spring profile to use for testing. I want to switch between two different test profiles based on whether I want e2e testing or not, without having to make a code change every time. I tried using a resolver but it always sets to ITPRofile.\r\nHere is the annotation:\r\n```\r\n`@ActiveProfiles(value = &quot;ITProfile&quot;, resolver = SystemPropertyActiveProfileResolver.class)\r\n`\r\n```\r\n\r\nHere is the resolver:\r\n```\r\n`public class SystemPropertyActiveProfileResolver implements ActiveProfilesResolver {\r\n\r\n  private final DefaultActiveProfilesResolver defaultActiveProfilesResolver =\r\n      new DefaultActiveProfilesResolver();\r\n\r\n  @Override\r\n  public String[] resolve(Class&lt;?&gt; testClass) {\r\n    final String springProfileKey = &quot;spring.profiles.active&quot;;\r\n    return System.getProperties().containsKey(springProfileKey)\r\n        ? System.getProperty(springProfileKey).split(&quot;\\\\s*,\\\\s*&quot;)\r\n        : defaultActiveProfilesResolver.resolve(testClass);\r\n  }\r\n}`\r\n```\r\n\r\nWhen I evaluate System.getProperties() it doesn&#39;t have any key value pair for spring.profiles.active. How can I make the property available to the resolver? Without the activeProfiles annotation the profile in my test class is simply set to be the one in my application.yml\r\n\r\nI tried setting spring.profiles.active in my build.gradle, but it doesn&#39;t look like it is picked by the springboot test class. \r\nI tried printing `System.getProperty(&quot;spring.profiles.active&quot;)` in the resolver but it was null. \r\nI tried printing `System.getenv()` but there was no key corresponding to an active profile\r\nHow can I make the resolver set the correct profile? Where should I be defining it?","title":"How to set Spring active profile programatically in my test class?","body":"<p>I have a springBoot test class that I want to run with two different profiles which can be switched ideally through the build.gradle or using profiles.\nI am using @ActiveProfiles annotation to specify which spring profile to use for testing. I want to switch between two different test profiles based on whether I want e2e testing or not, without having to make a code change every time. I tried using a resolver but it always sets to ITPRofile.\nHere is the annotation:</p>\n<pre><code>`@ActiveProfiles(value = &quot;ITProfile&quot;, resolver = SystemPropertyActiveProfileResolver.class)\n`\n</code></pre>\n<p>Here is the resolver:</p>\n<pre><code>`public class SystemPropertyActiveProfileResolver implements ActiveProfilesResolver {\n\n  private final DefaultActiveProfilesResolver defaultActiveProfilesResolver =\n      new DefaultActiveProfilesResolver();\n\n  @Override\n  public String[] resolve(Class&lt;?&gt; testClass) {\n    final String springProfileKey = &quot;spring.profiles.active&quot;;\n    return System.getProperties().containsKey(springProfileKey)\n        ? System.getProperty(springProfileKey).split(&quot;\\\\s*,\\\\s*&quot;)\n        : defaultActiveProfilesResolver.resolve(testClass);\n  }\n}`\n</code></pre>\n<p>When I evaluate System.getProperties() it doesn't have any key value pair for spring.profiles.active. How can I make the property available to the resolver? Without the activeProfiles annotation the profile in my test class is simply set to be the one in my application.yml</p>\n<p>I tried setting spring.profiles.active in my build.gradle, but it doesn't look like it is picked by the springboot test class.\nI tried printing <code>System.getProperty(&quot;spring.profiles.active&quot;)</code> in the resolver but it was null.\nI tried printing <code>System.getenv()</code> but there was no key corresponding to an active profile\nHow can I make the resolver set the correct profile? Where should I be defining it?</p>\n"},{"tags":["java","git","github","push"],"answers":[{"tags":[],"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491261269,"creation_date":1491261269,"answer_id":43195817,"question_id":43195765,"body_markdown":"Add your public ssh key to your GitHub account (drop down on the top right, settings, SSH and GPG keys, new SSH key).  \r\nThen execute:\r\n\r\n    git remote set-url origin https://github.com/username/desiredrepo.git\r\n\r\nThis command changes the repository of origin.1","title":"How to change GitHub accounts when trying to push from Git?","body":"<p>Add your public ssh key to your GitHub account (drop down on the top right, settings, SSH and GPG keys, new SSH key).<br>\nThen execute:</p>\n\n<pre><code>git remote set-url origin https://github.com/username/desiredrepo.git\n</code></pre>\n\n<p>This command changes the repository of origin.1</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491280749,"creation_date":1491280749,"answer_id":43198386,"question_id":43195765,"body_markdown":"First, if you are pushing to an *https* url, changing anything regarding *SSH* won&#39;t matter one bit.\r\n\r\nRegarding HTTPS, if the wrong user is consistently used, that means the wrong credentials (username/password) is used by Git. That is because you must be using a **[credential helper][1]** which caches said credentials.\r\n\r\nCheck what credential helper you are using with:\r\n\r\n    git config -l | grep credential\r\n\r\n\r\n----\r\n\r\nThe alternative (if you do have changed your ~/.ssh/id_rsa(.pub) keys) is to use an ssh url\r\n\r\n    git remote set-url origin git@github.com:maiusername/SURVIVAL2.git\r\n\r\n*Then* your new ssh key would be taken into account.\r\n\r\n  [1]: https://git-scm.com/docs/gitcredentials","title":"How to change GitHub accounts when trying to push from Git?","body":"<p>First, if you are pushing to an <em>https</em> url, changing anything regarding <em>SSH</em> won't matter one bit.</p>\n\n<p>Regarding HTTPS, if the wrong user is consistently used, that means the wrong credentials (username/password) is used by Git. That is because you must be using a <strong><a href=\"https://git-scm.com/docs/gitcredentials\" rel=\"nofollow noreferrer\">credential helper</a></strong> which caches said credentials.</p>\n\n<p>Check what credential helper you are using with:</p>\n\n<pre><code>git config -l | grep credential\n</code></pre>\n\n<hr>\n\n<p>The alternative (if you do have changed your ~/.ssh/id_rsa(.pub) keys) is to use an ssh url</p>\n\n<pre><code>git remote set-url origin git@github.com:maiusername/SURVIVAL2.git\n</code></pre>\n\n<p><em>Then</em> your new ssh key would be taken into account.</p>\n"},{"tags":[],"owner":{"account_id":13470213,"reputation":1,"user_id":9882480,"display_name":"Paulo Eduardo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681942770,"creation_date":1681942770,"answer_id":76059214,"question_id":43195765,"body_markdown":"U need: \r\n- to access your windows credential manager;\r\n- clik in &quot;windows&#39;s credentical&quot; (I don&#39;t know how u will to see this because my windowns is in portuguese)\r\n- look for &quot;git:https://...&quot; and remove this\r\nSo, when u to try push again, git will to ask u to connect with you github account and u connect in your new acconut :)\r\n ","title":"How to change GitHub accounts when trying to push from Git?","body":"<p>U need:</p>\n<ul>\n<li>to access your windows credential manager;</li>\n<li>clik in &quot;windows's credentical&quot; (I don't know how u will to see this because my windowns is in portuguese)</li>\n<li>look for &quot;git:https://...&quot; and remove this\nSo, when u to try push again, git will to ask u to connect with you github account and u connect in your new acconut :)</li>\n</ul>\n"}],"owner":{"account_id":10605504,"reputation":21,"user_id":7811075,"display_name":"Mai Vo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1681942770,"creation_date":1491260956,"question_id":43195765,"body_markdown":"So I may have set up Git under an account that I will not be using in the future, and I want to change that account to my personal GitHub account. I would like to push under my personal rather than that one. \r\n\r\nIf this has any relevance, I&#39;ve created a separate SSH key for my computer, but as inexperienced as I am, I&#39;m not sure what to do with it. \r\n\r\nMy ultimate goal is to change the GitHub account I&#39;m under, because whenever I try to push code to my personal account&#39;s repository, I get this error message:\r\n\r\n    $ git push origin master\r\n    remote: Permission to maiusername/SURVIVAL2.git denied to SupernovaRobotics.\r\n    fatal: unable to access &#39;https://github.com/maiusername/SURVIVAL2.git/&#39;: The requested URL returned error: 403\r\n\r\n\r\nSupernovaRobotics is what I&#39;m trying to get rid of, but I&#39;m not sure how!\r\n\r\nPlease help!!\r\n\r\n","title":"How to change GitHub accounts when trying to push from Git?","body":"<p>So I may have set up Git under an account that I will not be using in the future, and I want to change that account to my personal GitHub account. I would like to push under my personal rather than that one. </p>\n\n<p>If this has any relevance, I've created a separate SSH key for my computer, but as inexperienced as I am, I'm not sure what to do with it. </p>\n\n<p>My ultimate goal is to change the GitHub account I'm under, because whenever I try to push code to my personal account's repository, I get this error message:</p>\n\n<pre><code>$ git push origin master\nremote: Permission to maiusername/SURVIVAL2.git denied to SupernovaRobotics.\nfatal: unable to access 'https://github.com/maiusername/SURVIVAL2.git/': The requested URL returned error: 403\n</code></pre>\n\n<p>SupernovaRobotics is what I'm trying to get rid of, but I'm not sure how!</p>\n\n<p>Please help!!</p>\n"},{"tags":["java","lambda","containers","kubernetes-helm","amazon-ecr"],"answers":[{"tags":[],"owner":{"account_id":758014,"reputation":519,"user_id":761014,"accept_rate":45,"display_name":"salgmachine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681941110,"creation_date":1681941110,"answer_id":76059074,"question_id":75933206,"body_markdown":"you may wanna have a look at https://github.com/helm-unittest/helm-unittest \r\n\r\neven if you manage to pull the helm chart, you will not exactly be able to parse it (unless you run _helm template_ first) since it is not spec compliant yaml with the helm template expressions in there. ","title":"Pull a helm chart locally in a lambda to run some validations","body":"<p>you may wanna have a look at <a href=\"https://github.com/helm-unittest/helm-unittest\" rel=\"nofollow noreferrer\">https://github.com/helm-unittest/helm-unittest</a></p>\n<p>even if you manage to pull the helm chart, you will not exactly be able to parse it (unless you run <em>helm template</em> first) since it is not spec compliant yaml with the helm template expressions in there.</p>\n"}],"owner":{"account_id":28216182,"reputation":1,"user_id":21567663,"display_name":"obab 17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681941110,"creation_date":1680637040,"question_id":75933206,"body_markdown":"I’m trying to figure out how we can download/pull a helm chart from the Java code ( Lambda) to perform some validations on the helm chart. How we normally pull helm chart → We have helm CLI installed on our dev box and that helm CLI interface will go to the ECR repository and pull the helm chart for us locally like HELM PULL CHART …. We need to have some sort of helm client which pulls it for us in lambda code package and then we should be able to read the helm chart and perform certain validations in the code itself and provide output.\r\nBiggest problem : we don’t have a helm Java client through which we can make calls to ECR repository to pull the helm chart from the java code we have. Any idea how this can be done ? Thanks\r\n\r\nLooked into lamdbda layers, but nothing fruitful.","title":"Pull a helm chart locally in a lambda to run some validations","body":"<p>I’m trying to figure out how we can download/pull a helm chart from the Java code ( Lambda) to perform some validations on the helm chart. How we normally pull helm chart → We have helm CLI installed on our dev box and that helm CLI interface will go to the ECR repository and pull the helm chart for us locally like HELM PULL CHART …. We need to have some sort of helm client which pulls it for us in lambda code package and then we should be able to read the helm chart and perform certain validations in the code itself and provide output.\nBiggest problem : we don’t have a helm Java client through which we can make calls to ECR repository to pull the helm chart from the java code we have. Any idea how this can be done ? Thanks</p>\n<p>Looked into lamdbda layers, but nothing fruitful.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1681915052,"post_id":76055023,"comment_id":134134422,"body_markdown":"It looks like your `#getNextState` is potentially solving the problem outright, not just taking a single step (notice the printed &quot;next state&quot; is a full solution each time, with only that first Q on the left being misplaced). It would help to include your starting states, perhaps with a configuration that is 1-2 steps from being solved (so you know the expected steps). It&#39;d also help to explain parts of your code (e.g. how `int[] state` is an array of the row-indices for each queen, so `state[4] == 1` means the queen in the 1-indexed 5th column is in the 2nd row).","body":"It looks like your <code>#getNextState</code> is potentially solving the problem outright, not just taking a single step (notice the printed &quot;next state&quot; is a full solution each time, with only that first Q on the left being misplaced). It would help to include your starting states, perhaps with a configuration that is 1-2 steps from being solved (so you know the expected steps). It&#39;d also help to explain parts of your code (e.g. how <code>int[] state</code> is an array of the row-indices for each queen, so <code>state[4] == 1</code> means the queen in the 1-indexed 5th column is in the 2nd row)."}],"answers":[{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681940699,"creation_date":1681940699,"answer_id":76059031,"question_id":76055023,"body_markdown":"It looks like for each it&#233;ration of i in the nested loop in getNextState, there is a significant chance the statement `nextState[i] = currentState[i];` will be called,\r\nit is called at least once for each i, which results in the complete override of nextState by currentState by the end of the loop.\r\nThat is why it looks like nothing changed.","title":"Java Not expected Result","body":"<p>It looks like for each itération of i in the nested loop in getNextState, there is a significant chance the statement <code>nextState[i] = currentState[i];</code> will be called,\nit is called at least once for each i, which results in the complete override of nextState by currentState by the end of the loop.\nThat is why it looks like nothing changed.</p>\n"}],"owner":{"account_id":27081903,"reputation":13,"user_id":20630952,"display_name":"Wang Haozhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76059031,"answer_count":1,"score":1,"last_activity_date":1681940699,"creation_date":1681910439,"question_id":76055023,"body_markdown":"I am using java language to write a hill climbing algorithm for solving the eight queens problem.\r\nThe code above defines a class called HillClimbing that contains a main method and some helper methods. The main method first uses the generateRandomState method to generate a random state, and then uses the getHeuristic method to calculate the heuristic function value of the state. Next, the program enters a loop, continuously uses the getNextState method to obtain the next state, and updates the value of the heuristic function until the value of the heuristic function is 0.\r\n\r\nThe generateRandomState method uses Java&#39;s Random class to generate a random array of length N, representing the row where the queen of each column on the chessboard is located. The getHeuristic method calculates the value of the heuristic function for a given state, i.e. how many pairs of queens are attacking each other on the board. The getNextState method gets the next state based on the current state, it traverses the queens of each column on the board, and tries to move them to other rows, if the value of the heuristic function becomes smaller after moving, then update the state.\r\n\r\nThere is an infinite loop at runtime. When I checked the code, I found that the getNextState function successfully updated bestHeuristic every time, but nextState was not updated. I don&#39;t know where the problem is. Is the question about the relationship between references and memory in java? Here is my code.(Sorry for the long description, but I just want to make things clearly)\r\n\r\n```\r\nimport java.util.Random;\r\n\r\npublic class HillClimbing {\r\n    private static final int N = 8;\r\n    private static final Random RANDOM = new Random();\r\n\r\n    public static void main(String[] args) {\r\n        int[] state = generateRandomState();\r\n        int heuristic = getHeuristic(state);\r\n        System.out.println(&quot;This is initial state:&quot;);\r\n        printState(state);\r\n\r\n        while (heuristic != 0) {\r\n            state = getNextState(state);\r\n            heuristic = getHeuristic(state);\r\n        }\r\n\r\n        printState(state);\r\n    }\r\n\r\n    private static int[] generateRandomState() {\r\n        int[] state = new int[N];\r\n        for (int i = 0; i &lt; N; i++) {\r\n            state[i] = RANDOM.nextInt(N);\r\n        }\r\n        return state;\r\n    }\r\n\r\n    private static int getHeuristic(int[] state) {\r\n        int heuristic = 0;\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = i + 1; j &lt; N; j++) {\r\n                if (state[i] == state[j] || Math.abs(state[i] - state[j]) == Math.abs(i - j)) {\r\n                    heuristic++;\r\n                }\r\n            }\r\n        }\r\n        return heuristic;\r\n    }\r\n\r\n    private static int[] getNextState(int[] currentState) {\r\n        int[] nextState = new int[N];\r\n        int currentHeuristic = getHeuristic(currentState);\r\n        int bestHeuristic = currentHeuristic;\r\n        boolean found = false;\r\n\r\n        for (int i = 0; i &lt; N; i++) {\r\n            nextState[i] = currentState[i];\r\n        }\r\n\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                if (currentState[i] == j) continue;\r\n\r\n                nextState[i] = j;\r\n                int nextHeuristic = getHeuristic(nextState);\r\n\r\n                if (nextHeuristic &lt; bestHeuristic) {\r\n                    System.out.println(&quot;heuristic after movement: &quot;+ nextHeuristic);\r\n                    bestHeuristic = nextHeuristic;\r\n                    found = true;\r\n                } else {\r\n                    nextState[i] = currentState[i];\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!found) {\r\n            return getNextState(generateRandomState());\r\n        }\r\n        \r\n        System.out.println(&quot;The next state:&quot;);\r\n        printState(nextState);\r\n        return nextState;\r\n    }\r\n\r\n    private static void printState(int[] state) {\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                if (state[j] == i) {\r\n                    System.out.print(&quot;Q &quot;);\r\n                } else {\r\n                    System.out.print(&quot;. &quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\nAnd this is some of the output:\r\n[Weird output ](https://i.stack.imgur.com/4g7lu.png)  \r\nAny detailed answers will be appreciated.\r\n\r\n\r\nI&#39;ve checked many times and still got nothing. Hope to find where the error is.","title":"Java Not expected Result","body":"<p>I am using java language to write a hill climbing algorithm for solving the eight queens problem.\nThe code above defines a class called HillClimbing that contains a main method and some helper methods. The main method first uses the generateRandomState method to generate a random state, and then uses the getHeuristic method to calculate the heuristic function value of the state. Next, the program enters a loop, continuously uses the getNextState method to obtain the next state, and updates the value of the heuristic function until the value of the heuristic function is 0.</p>\n<p>The generateRandomState method uses Java's Random class to generate a random array of length N, representing the row where the queen of each column on the chessboard is located. The getHeuristic method calculates the value of the heuristic function for a given state, i.e. how many pairs of queens are attacking each other on the board. The getNextState method gets the next state based on the current state, it traverses the queens of each column on the board, and tries to move them to other rows, if the value of the heuristic function becomes smaller after moving, then update the state.</p>\n<p>There is an infinite loop at runtime. When I checked the code, I found that the getNextState function successfully updated bestHeuristic every time, but nextState was not updated. I don't know where the problem is. Is the question about the relationship between references and memory in java? Here is my code.(Sorry for the long description, but I just want to make things clearly)</p>\n<pre><code>import java.util.Random;\n\npublic class HillClimbing {\n    private static final int N = 8;\n    private static final Random RANDOM = new Random();\n\n    public static void main(String[] args) {\n        int[] state = generateRandomState();\n        int heuristic = getHeuristic(state);\n        System.out.println(&quot;This is initial state:&quot;);\n        printState(state);\n\n        while (heuristic != 0) {\n            state = getNextState(state);\n            heuristic = getHeuristic(state);\n        }\n\n        printState(state);\n    }\n\n    private static int[] generateRandomState() {\n        int[] state = new int[N];\n        for (int i = 0; i &lt; N; i++) {\n            state[i] = RANDOM.nextInt(N);\n        }\n        return state;\n    }\n\n    private static int getHeuristic(int[] state) {\n        int heuristic = 0;\n        for (int i = 0; i &lt; N; i++) {\n            for (int j = i + 1; j &lt; N; j++) {\n                if (state[i] == state[j] || Math.abs(state[i] - state[j]) == Math.abs(i - j)) {\n                    heuristic++;\n                }\n            }\n        }\n        return heuristic;\n    }\n\n    private static int[] getNextState(int[] currentState) {\n        int[] nextState = new int[N];\n        int currentHeuristic = getHeuristic(currentState);\n        int bestHeuristic = currentHeuristic;\n        boolean found = false;\n\n        for (int i = 0; i &lt; N; i++) {\n            nextState[i] = currentState[i];\n        }\n\n        for (int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; N; j++) {\n                if (currentState[i] == j) continue;\n\n                nextState[i] = j;\n                int nextHeuristic = getHeuristic(nextState);\n\n                if (nextHeuristic &lt; bestHeuristic) {\n                    System.out.println(&quot;heuristic after movement: &quot;+ nextHeuristic);\n                    bestHeuristic = nextHeuristic;\n                    found = true;\n                } else {\n                    nextState[i] = currentState[i];\n                }\n            }\n        }\n\n        if (!found) {\n            return getNextState(generateRandomState());\n        }\n        \n        System.out.println(&quot;The next state:&quot;);\n        printState(nextState);\n        return nextState;\n    }\n\n    private static void printState(int[] state) {\n        for (int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; N; j++) {\n                if (state[j] == i) {\n                    System.out.print(&quot;Q &quot;);\n                } else {\n                    System.out.print(&quot;. &quot;);\n                }\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>And this is some of the output:\n<a href=\"https://i.stack.imgur.com/4g7lu.png\" rel=\"nofollow noreferrer\">Weird output </a><br />\nAny detailed answers will be appreciated.</p>\n<p>I've checked many times and still got nothing. Hope to find where the error is.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1681923983,"post_id":76057025,"comment_id":134136608,"body_markdown":"your test scenarios do not even try to save (&quot;flush&quot;) data into DB. https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/flushing/Flushing.html","body":"your test scenarios do not even try to save (&quot;flush&quot;) data into DB. <a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/flushing/Flushing.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapt&zwnj;&#8203;ers/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28353208,"reputation":1,"user_id":21684348,"display_name":"Md Faizan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681940453,"creation_date":1681940329,"answer_id":76058996,"question_id":76057025,"body_markdown":"Your second case also did not work as you expect because data is not coming from the database, it shows true because you manually add ```user.getMemberships().add(membership); // Add from user side``` by this line when you get this object by id again, it is present because you get the same object, for your confirmation you can add a debugger at findById line and see data is not saved in a database or you can print the address of the object it must be the same. \r\n\r\nAnd you can also enable MySQL query by this line ```spring.jpa.show-sql=true```. and do not forget to flush data before call findById. ","title":"Different ways to insert join table of Many-to-many relationships have different results in Spring JPA","body":"<p>Your second case also did not work as you expect because data is not coming from the database, it shows true because you manually add <code>user.getMemberships().add(membership); // Add from user side</code> by this line when you get this object by id again, it is present because you get the same object, for your confirmation you can add a debugger at findById line and see data is not saved in a database or you can print the address of the object it must be the same.</p>\n<p>And you can also enable MySQL query by this line <code>spring.jpa.show-sql=true</code>. and do not forget to flush data before call findById.</p>\n"}],"owner":{"account_id":13507880,"reputation":151,"user_id":9745412,"display_name":"Haohan Yang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681940453,"creation_date":1681923016,"question_id":76057025,"body_markdown":"I defined data models `User`, `Group` and `Membership` such that a user can join a group via `Membership`. \r\n\r\n```java\r\n// User.java\r\n\r\n@Entity\r\n@Table(name = &quot;USER_&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Column(name = &quot;USERNAME_&quot;, length = 20)\r\n    private String username;\r\n\r\n    @Column(name = &quot;PASSWORD_&quot;, nullable = false)\r\n    private String password;\r\n\r\n    @OneToMany(mappedBy = &quot;member&quot;, fetch = FetchType.EAGER)\r\n    private Set&lt;Membership&gt; memberships = new HashSet&lt;&gt;();\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public User(String username, String password) {\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public Set&lt;Membership&gt; getMemberships() {\r\n        return memberships;\r\n    }\r\n\r\n    public void setMemberships(Set&lt;Membership&gt; memberships) {\r\n        this.memberships = memberships;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n```\r\n```java\r\n// Group.java\r\n@Entity\r\n@Table(name = &quot;GROUP_&quot;)\r\npublic class Group {\r\n    @Id\r\n    @Column(name = &quot;ID_&quot;)\r\n    private final String id;\r\n\r\n    @OneToMany(mappedBy = &quot;group&quot;, fetch = FetchType.EAGER)\r\n    private Set&lt;Membership&gt; memberships = new HashSet&lt;&gt;();\r\n\r\n    public Group(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public Set&lt;Membership&gt; getMemberships() {\r\n        return memberships;\r\n    }\r\n\r\n    public void setMemberships(Set&lt;Membership&gt; memberships) {\r\n        this.memberships = memberships;\r\n    }\r\n}\r\n```\r\n```java\r\n// Membership.java\r\n@Entity\r\n@Table(name = &quot;MEMBERSHIP_&quot;)\r\npublic class Membership {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;MEMBER_&quot;)\r\n    private User member;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;GROUP_&quot;)\r\n    private Group group;\r\n\r\n    @Column(name = &quot;JOINED_TIME_&quot;)\r\n    private LocalDateTime joinedTime;\r\n\r\n    public Membership(LocalDateTime joinDateTime) {\r\n        this.joinedTime = joinDateTime;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public Group getGroup() {\r\n        return group;\r\n    }\r\n\r\n    public User getMember() {\r\n        return member;\r\n    }\r\n\r\n    public LocalDateTime getJoinedTime() {\r\n        return joinedTime;\r\n    }\r\n\r\n    public void setGroup(Group group) {\r\n        this.group = group;\r\n    }\r\n\r\n    public void setMember(User member) {\r\n        this.member = member;\r\n    }\r\n\r\n    public void setJoinedTime(LocalDateTime joinedTime) {\r\n        this.joinedTime = joinedTime;\r\n    }\r\n}\r\n```\r\nNow I want to insert a membership relation to database, so I wrote the following test cases. In the first test case I persisted `Membership` that has both `User` and `Group`. In the second case I added membership to user and persisted user. In the last case I added membership to group and persisted the group. It turned out only the second case actually inserted the membership.\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\nclass UserRepositoryTest {\r\n\r\n    @Autowired\r\n    private TestEntityManager entityManager;\r\n\r\n    @Autowired\r\n    UserRepository repository;\r\n    \r\n    // Persist relationship\r\n    // Failed\r\n    @Test\r\n    public void should_add_membership_from_membership() {\r\n        var user = new User(&quot;user1&quot;, &quot;password&quot;);\r\n        var group = new Group(&quot;group1&quot;);\r\n        entityManager.persist(user);\r\n        entityManager.persist(group);\r\n        var membership = new Membership(LocalDateTime.now());\r\n        membership.setMember(user);\r\n        membership.setGroup(group);\r\n        //user.getMemberships().add(membership);\r\n        entityManager.persist(membership);\r\n\r\n        var dbUser = repository.findById(&quot;user1&quot;);\r\n        assertTrue(dbUser.isPresent());\r\n        assertEquals(1, dbUser.get().getMemberships().size());\r\n        // user.setMemberships(new Membership(123, ));\r\n    }\r\n    \r\n    // Persist user with added membership\r\n    \r\n    @Test\r\n    // Passed\r\n    public void should_add_membership_from_user() {\r\n        var user = new User(&quot;user1&quot;, &quot;password&quot;);\r\n        var group = new Group(&quot;group1&quot;);\r\n        entityManager.persist(user);\r\n        entityManager.persist(group);\r\n        var membership = new Membership(LocalDateTime.now());\r\n        membership.setGroup(group);\r\n        user.getMemberships().add(membership); // Add from user side\r\n        entityManager.persist(user);\r\n\r\n        var dbUser = repository.findById(&quot;user1&quot;);\r\n        assertTrue(dbUser.isPresent());\r\n        assertEquals(1, dbUser.get().getMemberships().size());\r\n        // user.setMemberships(new Membership(123, ));\r\n    }\r\n   \r\n    // Persist group with added membership\r\n    @Test\r\n    // Failed\r\n    public void should_add_membership_from_group() {\r\n        var user = new User(&quot;user1&quot;, &quot;password&quot;);\r\n        var group = new Group(&quot;group1&quot;);\r\n        entityManager.persist(user);\r\n        entityManager.persist(group);\r\n        var membership = new Membership(LocalDateTime.now());\r\n        membership.setGroup(group);\r\n        group.getMemberships().add(membership); // Add from group side\r\n        entityManager.persist(user);\r\n\r\n        var dbUser = repository.findById(&quot;user1&quot;);\r\n        assertTrue(dbUser.isPresent());\r\n        assertEquals(1, dbUser.get().getMemberships().size());\r\n    }\r\n}\r\n```\r\nHere are logs in all test cases \r\n\r\n* First\r\n```\r\n18:43:20.425 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Neither @ContextConfiguration nor @ContextHierarchy found for test class [UserRepositoryTest]: using SpringBootContextLoader\r\n18:43:20.433 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader -- Could not detect default resource locations for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n18:43:20.434 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n18:43:20.513 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using ContextCustomizers for test class [UserRepositoryTest]: [DisableAutoConfigurationContextCustomizer, DisableObservabilityContextCustomizer, TypeExcludeFiltersContextCustomizer, PropertyMappingContextCustomizer, Customizer, ImportsContextCustomizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer]\r\n18:43:20.634 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider -- Identified candidate component class: file [C:\\Users\\haohan\\Projects\\springchat\\build\\classes\\java\\main\\haohanyang\\springchat\\server\\SpringChatServerApplication.class]\r\n18:43:20.636 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration haohanyang.springchat.server.SpringChatServerApplication for test class haohanyang.springchat.server.repositories.UserRepositoryTest\r\n18:43:20.689 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using TestExecutionListeners for test class [UserRepositoryTest]: [ServletTestExecutionListener, DirtiesContextBeforeModesTestExecutionListener, ApplicationEventsTestExecutionListener, MockitoTestExecutionListener, DependencyInjectionTestExecutionListener, DirtiesContextTestExecutionListener, TransactionalTestExecutionListener, SqlScriptsTestExecutionListener, WithSecurityContextTestExecutionListener, EventPublishingTestExecutionListener, ReactorContextTestExecutionListener, RestDocsTestExecutionListener, MockRestServiceServerResetTestExecutionListener, MockMvcPrintOnlyOnFailureTestExecutionListener, WebDriverTestExecutionListener, MockWebServiceServerTestExecutionListener, ResetMocksTestExecutionListener]\r\n18:43:20.692 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener -- Before test class: class [UserRepositoryTest], class annotated with @DirtiesContext [false] with mode [null]\r\n18:43:20.714 [Test worker] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener -- Performing dependency injection for test class haohanyang.springchat.server.repositories.UserRepositoryTest\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.5)\r\n\r\n2023-04-19T18:43:21.296+02:00  INFO 32264 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Starting UserRepositoryTest using Java 17.0.6 with PID 32264 (started by haohan in C:\\Users\\haohan\\Projects\\springchat)\r\n2023-04-19T18:43:21.298+02:00  INFO 32264 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-19T18:43:21.853+02:00  INFO 32264 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-19T18:43:21.950+02:00  INFO 32264 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84 ms. Found 3 JPA repository interfaces.\r\n2023-04-19T18:43:22.388+02:00  INFO 32264 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-19T18:43:22.740+02:00  INFO 32264 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:e5afb49d-6155-4e4f-825f-c87803336629 user=SA\r\n2023-04-19T18:43:22.743+02:00  INFO 32264 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-04-19T18:43:22.816+02:00  INFO 32264 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-19T18:43:22.931+02:00  INFO 32264 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-04-19T18:43:23.587+02:00  INFO 32264 --- [    Test worker] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2023-04-19T18:43:24.788+02:00  INFO 32264 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Group (class must be instantiated by Interceptor)\r\n2023-04-19T18:43:24.833+02:00  INFO 32264 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Membership (class must be instantiated by Interceptor)\r\nHibernate: drop table if exists group_ cascade \r\nHibernate: drop table if exists membership_ cascade \r\nHibernate: drop table if exists user_ cascade \r\nHibernate: drop sequence if exists membership__seq\r\nHibernate: create sequence membership__seq start with 1 increment by 50\r\nHibernate: create table group_ (id_ varchar(255) not null, primary key (id_))\r\nHibernate: create table membership_ (id bigint not null, joined_time_ timestamp(6), group_ varchar(255), member_ varchar(20), primary key (id))\r\nHibernate: create table user_ (username_ varchar(20) not null, password_ varchar(255) not null, primary key (username_))\r\nHibernate: alter table if exists membership_ add constraint FK1udya4gvkv075w9wno3743i39 foreign key (group_) references group_\r\nHibernate: alter table if exists membership_ add constraint FKthdd3se5969gd80afjg8yml8i foreign key (member_) references user_\r\n2023-04-19T18:43:25.133+02:00  INFO 32264 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-04-19T18:43:25.153+02:00  INFO 32264 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-19T18:43:25.593+02:00  INFO 32264 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Started UserRepositoryTest in 4.814 seconds (process running for 6.482)\r\nHibernate: select next value for membership__seq\r\n\r\nexpected: &lt;1&gt; but was: &lt;0&gt;\r\nExpected :1\r\nActual   :0\r\n```\r\n\r\n* Second\r\n```\r\n18:44:31.394 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Neither @ContextConfiguration nor @ContextHierarchy found for test class [UserRepositoryTest]: using SpringBootContextLoader\r\n18:44:31.401 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader -- Could not detect default resource locations for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n18:44:31.402 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n18:44:31.474 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using ContextCustomizers for test class [UserRepositoryTest]: [DisableAutoConfigurationContextCustomizer, DisableObservabilityContextCustomizer, TypeExcludeFiltersContextCustomizer, PropertyMappingContextCustomizer, Customizer, ImportsContextCustomizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer]\r\n18:44:31.569 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider -- Identified candidate component class: file [C:\\Users\\haohan\\Projects\\springchat\\build\\classes\\java\\main\\haohanyang\\springchat\\server\\SpringChatServerApplication.class]\r\n18:44:31.570 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration haohanyang.springchat.server.SpringChatServerApplication for test class haohanyang.springchat.server.repositories.UserRepositoryTest\r\n18:44:31.624 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using TestExecutionListeners for test class [UserRepositoryTest]: [ServletTestExecutionListener, DirtiesContextBeforeModesTestExecutionListener, ApplicationEventsTestExecutionListener, MockitoTestExecutionListener, DependencyInjectionTestExecutionListener, DirtiesContextTestExecutionListener, TransactionalTestExecutionListener, SqlScriptsTestExecutionListener, WithSecurityContextTestExecutionListener, EventPublishingTestExecutionListener, ReactorContextTestExecutionListener, RestDocsTestExecutionListener, MockRestServiceServerResetTestExecutionListener, MockMvcPrintOnlyOnFailureTestExecutionListener, WebDriverTestExecutionListener, MockWebServiceServerTestExecutionListener, ResetMocksTestExecutionListener]\r\n18:44:31.626 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener -- Before test class: class [UserRepositoryTest], class annotated with @DirtiesContext [false] with mode [null]\r\n18:44:31.646 [Test worker] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener -- Performing dependency injection for test class haohanyang.springchat.server.repositories.UserRepositoryTest\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.5)\r\n\r\n2023-04-19T18:44:32.223+02:00  INFO 18164 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Starting UserRepositoryTest using Java 17.0.6 with PID 18164 (started by haohan in C:\\Users\\haohan\\Projects\\springchat)\r\n2023-04-19T18:44:32.226+02:00  INFO 18164 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-19T18:44:32.751+02:00  INFO 18164 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-19T18:44:32.847+02:00  INFO 18164 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84 ms. Found 3 JPA repository interfaces.\r\n2023-04-19T18:44:33.301+02:00  INFO 18164 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-19T18:44:33.645+02:00  INFO 18164 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:0f8724d0-fc30-4034-bec6-69e75f6c5a17 user=SA\r\n2023-04-19T18:44:33.648+02:00  INFO 18164 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-04-19T18:44:33.714+02:00  INFO 18164 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-19T18:44:33.829+02:00  INFO 18164 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-04-19T18:44:34.470+02:00  INFO 18164 --- [    Test worker] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2023-04-19T18:44:35.666+02:00  INFO 18164 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Group (class must be instantiated by Interceptor)\r\n2023-04-19T18:44:35.712+02:00  INFO 18164 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Membership (class must be instantiated by Interceptor)\r\nHibernate: drop table if exists group_ cascade \r\nHibernate: drop table if exists membership_ cascade \r\nHibernate: drop table if exists user_ cascade \r\nHibernate: drop sequence if exists membership__seq\r\nHibernate: create sequence membership__seq start with 1 increment by 50\r\nHibernate: create table group_ (id_ varchar(255) not null, primary key (id_))\r\nHibernate: create table membership_ (id bigint not null, joined_time_ timestamp(6), group_ varchar(255), member_ varchar(20), primary key (id))\r\nHibernate: create table user_ (username_ varchar(20) not null, password_ varchar(255) not null, primary key (username_))\r\nHibernate: alter table if exists membership_ add constraint FK1udya4gvkv075w9wno3743i39 foreign key (group_) references group_\r\nHibernate: alter table if exists membership_ add constraint FKthdd3se5969gd80afjg8yml8i foreign key (member_) references user_\r\n2023-04-19T18:44:36.000+02:00  INFO 18164 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-04-19T18:44:36.019+02:00  INFO 18164 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-19T18:44:36.445+02:00  INFO 18164 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Started UserRepositoryTest in 4.735 seconds (process running for 6.252)\r\n2023-04-19T18:44:36.823+02:00  INFO 18164 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-19T18:44:36.823+02:00  INFO 18164 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\nHibernate: drop table if exists group_ cascade \r\nHibernate: drop table if exists membership_ cascade \r\nHibernate: drop table if exists user_ cascade \r\nHibernate: drop sequence if exists membership__seq\r\n2023-04-19T18:44:36.828+02:00  INFO 18164 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-04-19T18:44:36.829+02:00  INFO 18164 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\nBUILD SUCCESSFUL in 7s\r\n4 actionable tasks: 1 executed, 3 up-to-date\r\n18:44:36: Execution finished &#39;:test --tests &quot;haohanyang.springchat.server.repositories.UserRepositoryTest.should_add_membership_from_user&quot;&#39;.\r\n```\r\n* Third\r\n\r\n```\r\n18:45:20.673 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Neither @ContextConfiguration nor @ContextHierarchy found for test class [UserRepositoryTest]: using SpringBootContextLoader\r\n18:45:20.682 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader -- Could not detect default resource locations for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n18:45:20.683 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n18:45:20.755 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using ContextCustomizers for test class [UserRepositoryTest]: [DisableAutoConfigurationContextCustomizer, DisableObservabilityContextCustomizer, TypeExcludeFiltersContextCustomizer, PropertyMappingContextCustomizer, Customizer, ImportsContextCustomizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer]\r\n18:45:20.848 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider -- Identified candidate component class: file [C:\\Users\\haohan\\Projects\\springchat\\build\\classes\\java\\main\\haohanyang\\springchat\\server\\SpringChatServerApplication.class]\r\n18:45:20.849 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration haohanyang.springchat.server.SpringChatServerApplication for test class haohanyang.springchat.server.repositories.UserRepositoryTest\r\n18:45:20.896 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using TestExecutionListeners for test class [UserRepositoryTest]: [ServletTestExecutionListener, DirtiesContextBeforeModesTestExecutionListener, ApplicationEventsTestExecutionListener, MockitoTestExecutionListener, DependencyInjectionTestExecutionListener, DirtiesContextTestExecutionListener, TransactionalTestExecutionListener, SqlScriptsTestExecutionListener, WithSecurityContextTestExecutionListener, EventPublishingTestExecutionListener, ReactorContextTestExecutionListener, RestDocsTestExecutionListener, MockRestServiceServerResetTestExecutionListener, MockMvcPrintOnlyOnFailureTestExecutionListener, WebDriverTestExecutionListener, MockWebServiceServerTestExecutionListener, ResetMocksTestExecutionListener]\r\n18:45:20.898 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener -- Before test class: class [UserRepositoryTest], class annotated with @DirtiesContext [false] with mode [null]\r\n18:45:20.917 [Test worker] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener -- Performing dependency injection for test class haohanyang.springchat.server.repositories.UserRepositoryTest\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.5)\r\n\r\n2023-04-19T18:45:21.504+02:00  INFO 17312 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Starting UserRepositoryTest using Java 17.0.6 with PID 17312 (started by haohan in C:\\Users\\haohan\\Projects\\springchat)\r\n2023-04-19T18:45:21.506+02:00  INFO 17312 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-19T18:45:22.053+02:00  INFO 17312 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-19T18:45:22.160+02:00  INFO 17312 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 90 ms. Found 3 JPA repository interfaces.\r\n2023-04-19T18:45:22.614+02:00  INFO 17312 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-19T18:45:22.955+02:00  INFO 17312 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:80be883e-488c-46b7-8108-3be59e84964d user=SA\r\n2023-04-19T18:45:22.958+02:00  INFO 17312 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-04-19T18:45:23.027+02:00  INFO 17312 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-19T18:45:23.144+02:00  INFO 17312 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-04-19T18:45:23.775+02:00  INFO 17312 --- [    Test worker] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2023-04-19T18:45:24.967+02:00  INFO 17312 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Group (class must be instantiated by Interceptor)\r\n2023-04-19T18:45:25.014+02:00  INFO 17312 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Membership (class must be instantiated by Interceptor)\r\nHibernate: drop table if exists group_ cascade \r\nHibernate: drop table if exists membership_ cascade \r\nHibernate: drop table if exists user_ cascade \r\nHibernate: drop sequence if exists membership__seq\r\nHibernate: create sequence membership__seq start with 1 increment by 50\r\nHibernate: create table group_ (id_ varchar(255) not null, primary key (id_))\r\nHibernate: create table membership_ (id bigint not null, joined_time_ timestamp(6), group_ varchar(255), member_ varchar(20), primary key (id))\r\nHibernate: create table user_ (username_ varchar(20) not null, password_ varchar(255) not null, primary key (username_))\r\nHibernate: alter table if exists membership_ add constraint FK1udya4gvkv075w9wno3743i39 foreign key (group_) references group_\r\nHibernate: alter table if exists membership_ add constraint FKthdd3se5969gd80afjg8yml8i foreign key (member_) references user_\r\n2023-04-19T18:45:25.328+02:00  INFO 17312 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-04-19T18:45:25.349+02:00  INFO 17312 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-19T18:45:25.785+02:00  INFO 17312 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Started UserRepositoryTest in 4.804 seconds (process running for 6.329)\r\n\r\nexpected: &lt;1&gt; but was: &lt;0&gt;\r\nExpected :1\r\nActual   :0\r\n```\r\nI would appreciate it a lot for identifying the reason and suggest the best practice in this scenarios. ","title":"Different ways to insert join table of Many-to-many relationships have different results in Spring JPA","body":"<p>I defined data models <code>User</code>, <code>Group</code> and <code>Membership</code> such that a user can join a group via <code>Membership</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// User.java\n\n@Entity\n@Table(name = &quot;USER_&quot;)\npublic class User {\n\n    @Id\n    @Column(name = &quot;USERNAME_&quot;, length = 20)\n    private String username;\n\n    @Column(name = &quot;PASSWORD_&quot;, nullable = false)\n    private String password;\n\n    @OneToMany(mappedBy = &quot;member&quot;, fetch = FetchType.EAGER)\n    private Set&lt;Membership&gt; memberships = new HashSet&lt;&gt;();\n\n    public User() {\n\n    }\n\n    public User(String username, String password) {\n        this.username = username;\n        this.password = password;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public Set&lt;Membership&gt; getMemberships() {\n        return memberships;\n    }\n\n    public void setMemberships(Set&lt;Membership&gt; memberships) {\n        this.memberships = memberships;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Group.java\n@Entity\n@Table(name = &quot;GROUP_&quot;)\npublic class Group {\n    @Id\n    @Column(name = &quot;ID_&quot;)\n    private final String id;\n\n    @OneToMany(mappedBy = &quot;group&quot;, fetch = FetchType.EAGER)\n    private Set&lt;Membership&gt; memberships = new HashSet&lt;&gt;();\n\n    public Group(String id) {\n        this.id = id;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public Set&lt;Membership&gt; getMemberships() {\n        return memberships;\n    }\n\n    public void setMemberships(Set&lt;Membership&gt; memberships) {\n        this.memberships = memberships;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Membership.java\n@Entity\n@Table(name = &quot;MEMBERSHIP_&quot;)\npublic class Membership {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;MEMBER_&quot;)\n    private User member;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;GROUP_&quot;)\n    private Group group;\n\n    @Column(name = &quot;JOINED_TIME_&quot;)\n    private LocalDateTime joinedTime;\n\n    public Membership(LocalDateTime joinDateTime) {\n        this.joinedTime = joinDateTime;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public Group getGroup() {\n        return group;\n    }\n\n    public User getMember() {\n        return member;\n    }\n\n    public LocalDateTime getJoinedTime() {\n        return joinedTime;\n    }\n\n    public void setGroup(Group group) {\n        this.group = group;\n    }\n\n    public void setMember(User member) {\n        this.member = member;\n    }\n\n    public void setJoinedTime(LocalDateTime joinedTime) {\n        this.joinedTime = joinedTime;\n    }\n}\n</code></pre>\n<p>Now I want to insert a membership relation to database, so I wrote the following test cases. In the first test case I persisted <code>Membership</code> that has both <code>User</code> and <code>Group</code>. In the second case I added membership to user and persisted user. In the last case I added membership to group and persisted the group. It turned out only the second case actually inserted the membership.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\nclass UserRepositoryTest {\n\n    @Autowired\n    private TestEntityManager entityManager;\n\n    @Autowired\n    UserRepository repository;\n    \n    // Persist relationship\n    // Failed\n    @Test\n    public void should_add_membership_from_membership() {\n        var user = new User(&quot;user1&quot;, &quot;password&quot;);\n        var group = new Group(&quot;group1&quot;);\n        entityManager.persist(user);\n        entityManager.persist(group);\n        var membership = new Membership(LocalDateTime.now());\n        membership.setMember(user);\n        membership.setGroup(group);\n        //user.getMemberships().add(membership);\n        entityManager.persist(membership);\n\n        var dbUser = repository.findById(&quot;user1&quot;);\n        assertTrue(dbUser.isPresent());\n        assertEquals(1, dbUser.get().getMemberships().size());\n        // user.setMemberships(new Membership(123, ));\n    }\n    \n    // Persist user with added membership\n    \n    @Test\n    // Passed\n    public void should_add_membership_from_user() {\n        var user = new User(&quot;user1&quot;, &quot;password&quot;);\n        var group = new Group(&quot;group1&quot;);\n        entityManager.persist(user);\n        entityManager.persist(group);\n        var membership = new Membership(LocalDateTime.now());\n        membership.setGroup(group);\n        user.getMemberships().add(membership); // Add from user side\n        entityManager.persist(user);\n\n        var dbUser = repository.findById(&quot;user1&quot;);\n        assertTrue(dbUser.isPresent());\n        assertEquals(1, dbUser.get().getMemberships().size());\n        // user.setMemberships(new Membership(123, ));\n    }\n   \n    // Persist group with added membership\n    @Test\n    // Failed\n    public void should_add_membership_from_group() {\n        var user = new User(&quot;user1&quot;, &quot;password&quot;);\n        var group = new Group(&quot;group1&quot;);\n        entityManager.persist(user);\n        entityManager.persist(group);\n        var membership = new Membership(LocalDateTime.now());\n        membership.setGroup(group);\n        group.getMemberships().add(membership); // Add from group side\n        entityManager.persist(user);\n\n        var dbUser = repository.findById(&quot;user1&quot;);\n        assertTrue(dbUser.isPresent());\n        assertEquals(1, dbUser.get().getMemberships().size());\n    }\n}\n</code></pre>\n<p>Here are logs in all test cases</p>\n<ul>\n<li>First</li>\n</ul>\n<pre><code>18:43:20.425 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Neither @ContextConfiguration nor @ContextHierarchy found for test class [UserRepositoryTest]: using SpringBootContextLoader\n18:43:20.433 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader -- Could not detect default resource locations for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.\n18:43:20.434 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n18:43:20.513 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using ContextCustomizers for test class [UserRepositoryTest]: [DisableAutoConfigurationContextCustomizer, DisableObservabilityContextCustomizer, TypeExcludeFiltersContextCustomizer, PropertyMappingContextCustomizer, Customizer, ImportsContextCustomizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer]\n18:43:20.634 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider -- Identified candidate component class: file [C:\\Users\\haohan\\Projects\\springchat\\build\\classes\\java\\main\\haohanyang\\springchat\\server\\SpringChatServerApplication.class]\n18:43:20.636 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration haohanyang.springchat.server.SpringChatServerApplication for test class haohanyang.springchat.server.repositories.UserRepositoryTest\n18:43:20.689 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using TestExecutionListeners for test class [UserRepositoryTest]: [ServletTestExecutionListener, DirtiesContextBeforeModesTestExecutionListener, ApplicationEventsTestExecutionListener, MockitoTestExecutionListener, DependencyInjectionTestExecutionListener, DirtiesContextTestExecutionListener, TransactionalTestExecutionListener, SqlScriptsTestExecutionListener, WithSecurityContextTestExecutionListener, EventPublishingTestExecutionListener, ReactorContextTestExecutionListener, RestDocsTestExecutionListener, MockRestServiceServerResetTestExecutionListener, MockMvcPrintOnlyOnFailureTestExecutionListener, WebDriverTestExecutionListener, MockWebServiceServerTestExecutionListener, ResetMocksTestExecutionListener]\n18:43:20.692 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener -- Before test class: class [UserRepositoryTest], class annotated with @DirtiesContext [false] with mode [null]\n18:43:20.714 [Test worker] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener -- Performing dependency injection for test class haohanyang.springchat.server.repositories.UserRepositoryTest\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-04-19T18:43:21.296+02:00  INFO 32264 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Starting UserRepositoryTest using Java 17.0.6 with PID 32264 (started by haohan in C:\\Users\\haohan\\Projects\\springchat)\n2023-04-19T18:43:21.298+02:00  INFO 32264 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-19T18:43:21.853+02:00  INFO 32264 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-19T18:43:21.950+02:00  INFO 32264 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84 ms. Found 3 JPA repository interfaces.\n2023-04-19T18:43:22.388+02:00  INFO 32264 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-19T18:43:22.740+02:00  INFO 32264 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:e5afb49d-6155-4e4f-825f-c87803336629 user=SA\n2023-04-19T18:43:22.743+02:00  INFO 32264 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-19T18:43:22.816+02:00  INFO 32264 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-19T18:43:22.931+02:00  INFO 32264 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-19T18:43:23.587+02:00  INFO 32264 --- [    Test worker] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2023-04-19T18:43:24.788+02:00  INFO 32264 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Group (class must be instantiated by Interceptor)\n2023-04-19T18:43:24.833+02:00  INFO 32264 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Membership (class must be instantiated by Interceptor)\nHibernate: drop table if exists group_ cascade \nHibernate: drop table if exists membership_ cascade \nHibernate: drop table if exists user_ cascade \nHibernate: drop sequence if exists membership__seq\nHibernate: create sequence membership__seq start with 1 increment by 50\nHibernate: create table group_ (id_ varchar(255) not null, primary key (id_))\nHibernate: create table membership_ (id bigint not null, joined_time_ timestamp(6), group_ varchar(255), member_ varchar(20), primary key (id))\nHibernate: create table user_ (username_ varchar(20) not null, password_ varchar(255) not null, primary key (username_))\nHibernate: alter table if exists membership_ add constraint FK1udya4gvkv075w9wno3743i39 foreign key (group_) references group_\nHibernate: alter table if exists membership_ add constraint FKthdd3se5969gd80afjg8yml8i foreign key (member_) references user_\n2023-04-19T18:43:25.133+02:00  INFO 32264 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-19T18:43:25.153+02:00  INFO 32264 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-19T18:43:25.593+02:00  INFO 32264 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Started UserRepositoryTest in 4.814 seconds (process running for 6.482)\nHibernate: select next value for membership__seq\n\nexpected: &lt;1&gt; but was: &lt;0&gt;\nExpected :1\nActual   :0\n</code></pre>\n<ul>\n<li>Second</li>\n</ul>\n<pre><code>18:44:31.394 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Neither @ContextConfiguration nor @ContextHierarchy found for test class [UserRepositoryTest]: using SpringBootContextLoader\n18:44:31.401 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader -- Could not detect default resource locations for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.\n18:44:31.402 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n18:44:31.474 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using ContextCustomizers for test class [UserRepositoryTest]: [DisableAutoConfigurationContextCustomizer, DisableObservabilityContextCustomizer, TypeExcludeFiltersContextCustomizer, PropertyMappingContextCustomizer, Customizer, ImportsContextCustomizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer]\n18:44:31.569 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider -- Identified candidate component class: file [C:\\Users\\haohan\\Projects\\springchat\\build\\classes\\java\\main\\haohanyang\\springchat\\server\\SpringChatServerApplication.class]\n18:44:31.570 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration haohanyang.springchat.server.SpringChatServerApplication for test class haohanyang.springchat.server.repositories.UserRepositoryTest\n18:44:31.624 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using TestExecutionListeners for test class [UserRepositoryTest]: [ServletTestExecutionListener, DirtiesContextBeforeModesTestExecutionListener, ApplicationEventsTestExecutionListener, MockitoTestExecutionListener, DependencyInjectionTestExecutionListener, DirtiesContextTestExecutionListener, TransactionalTestExecutionListener, SqlScriptsTestExecutionListener, WithSecurityContextTestExecutionListener, EventPublishingTestExecutionListener, ReactorContextTestExecutionListener, RestDocsTestExecutionListener, MockRestServiceServerResetTestExecutionListener, MockMvcPrintOnlyOnFailureTestExecutionListener, WebDriverTestExecutionListener, MockWebServiceServerTestExecutionListener, ResetMocksTestExecutionListener]\n18:44:31.626 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener -- Before test class: class [UserRepositoryTest], class annotated with @DirtiesContext [false] with mode [null]\n18:44:31.646 [Test worker] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener -- Performing dependency injection for test class haohanyang.springchat.server.repositories.UserRepositoryTest\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-04-19T18:44:32.223+02:00  INFO 18164 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Starting UserRepositoryTest using Java 17.0.6 with PID 18164 (started by haohan in C:\\Users\\haohan\\Projects\\springchat)\n2023-04-19T18:44:32.226+02:00  INFO 18164 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-19T18:44:32.751+02:00  INFO 18164 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-19T18:44:32.847+02:00  INFO 18164 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84 ms. Found 3 JPA repository interfaces.\n2023-04-19T18:44:33.301+02:00  INFO 18164 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-19T18:44:33.645+02:00  INFO 18164 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:0f8724d0-fc30-4034-bec6-69e75f6c5a17 user=SA\n2023-04-19T18:44:33.648+02:00  INFO 18164 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-19T18:44:33.714+02:00  INFO 18164 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-19T18:44:33.829+02:00  INFO 18164 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-19T18:44:34.470+02:00  INFO 18164 --- [    Test worker] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2023-04-19T18:44:35.666+02:00  INFO 18164 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Group (class must be instantiated by Interceptor)\n2023-04-19T18:44:35.712+02:00  INFO 18164 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Membership (class must be instantiated by Interceptor)\nHibernate: drop table if exists group_ cascade \nHibernate: drop table if exists membership_ cascade \nHibernate: drop table if exists user_ cascade \nHibernate: drop sequence if exists membership__seq\nHibernate: create sequence membership__seq start with 1 increment by 50\nHibernate: create table group_ (id_ varchar(255) not null, primary key (id_))\nHibernate: create table membership_ (id bigint not null, joined_time_ timestamp(6), group_ varchar(255), member_ varchar(20), primary key (id))\nHibernate: create table user_ (username_ varchar(20) not null, password_ varchar(255) not null, primary key (username_))\nHibernate: alter table if exists membership_ add constraint FK1udya4gvkv075w9wno3743i39 foreign key (group_) references group_\nHibernate: alter table if exists membership_ add constraint FKthdd3se5969gd80afjg8yml8i foreign key (member_) references user_\n2023-04-19T18:44:36.000+02:00  INFO 18164 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-19T18:44:36.019+02:00  INFO 18164 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-19T18:44:36.445+02:00  INFO 18164 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Started UserRepositoryTest in 4.735 seconds (process running for 6.252)\n2023-04-19T18:44:36.823+02:00  INFO 18164 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-04-19T18:44:36.823+02:00  INFO 18164 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\nHibernate: drop table if exists group_ cascade \nHibernate: drop table if exists membership_ cascade \nHibernate: drop table if exists user_ cascade \nHibernate: drop sequence if exists membership__seq\n2023-04-19T18:44:36.828+02:00  INFO 18164 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-19T18:44:36.829+02:00  INFO 18164 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\nBUILD SUCCESSFUL in 7s\n4 actionable tasks: 1 executed, 3 up-to-date\n18:44:36: Execution finished ':test --tests &quot;haohanyang.springchat.server.repositories.UserRepositoryTest.should_add_membership_from_user&quot;'.\n</code></pre>\n<ul>\n<li>Third</li>\n</ul>\n<pre><code>18:45:20.673 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Neither @ContextConfiguration nor @ContextHierarchy found for test class [UserRepositoryTest]: using SpringBootContextLoader\n18:45:20.682 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader -- Could not detect default resource locations for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.\n18:45:20.683 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [haohanyang.springchat.server.repositories.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n18:45:20.755 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using ContextCustomizers for test class [UserRepositoryTest]: [DisableAutoConfigurationContextCustomizer, DisableObservabilityContextCustomizer, TypeExcludeFiltersContextCustomizer, PropertyMappingContextCustomizer, Customizer, ImportsContextCustomizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer]\n18:45:20.848 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider -- Identified candidate component class: file [C:\\Users\\haohan\\Projects\\springchat\\build\\classes\\java\\main\\haohanyang\\springchat\\server\\SpringChatServerApplication.class]\n18:45:20.849 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration haohanyang.springchat.server.SpringChatServerApplication for test class haohanyang.springchat.server.repositories.UserRepositoryTest\n18:45:20.896 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper -- Using TestExecutionListeners for test class [UserRepositoryTest]: [ServletTestExecutionListener, DirtiesContextBeforeModesTestExecutionListener, ApplicationEventsTestExecutionListener, MockitoTestExecutionListener, DependencyInjectionTestExecutionListener, DirtiesContextTestExecutionListener, TransactionalTestExecutionListener, SqlScriptsTestExecutionListener, WithSecurityContextTestExecutionListener, EventPublishingTestExecutionListener, ReactorContextTestExecutionListener, RestDocsTestExecutionListener, MockRestServiceServerResetTestExecutionListener, MockMvcPrintOnlyOnFailureTestExecutionListener, WebDriverTestExecutionListener, MockWebServiceServerTestExecutionListener, ResetMocksTestExecutionListener]\n18:45:20.898 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener -- Before test class: class [UserRepositoryTest], class annotated with @DirtiesContext [false] with mode [null]\n18:45:20.917 [Test worker] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener -- Performing dependency injection for test class haohanyang.springchat.server.repositories.UserRepositoryTest\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-04-19T18:45:21.504+02:00  INFO 17312 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Starting UserRepositoryTest using Java 17.0.6 with PID 17312 (started by haohan in C:\\Users\\haohan\\Projects\\springchat)\n2023-04-19T18:45:21.506+02:00  INFO 17312 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-19T18:45:22.053+02:00  INFO 17312 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-19T18:45:22.160+02:00  INFO 17312 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 90 ms. Found 3 JPA repository interfaces.\n2023-04-19T18:45:22.614+02:00  INFO 17312 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-19T18:45:22.955+02:00  INFO 17312 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:80be883e-488c-46b7-8108-3be59e84964d user=SA\n2023-04-19T18:45:22.958+02:00  INFO 17312 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-19T18:45:23.027+02:00  INFO 17312 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-19T18:45:23.144+02:00  INFO 17312 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-19T18:45:23.775+02:00  INFO 17312 --- [    Test worker] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2023-04-19T18:45:24.967+02:00  INFO 17312 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Group (class must be instantiated by Interceptor)\n2023-04-19T18:45:25.014+02:00  INFO 17312 --- [    Test worker] o.h.m.i.EntityInstantiatorPojoStandard   : HHH000182: No default (no-argument) constructor for class: haohanyang.springchat.server.models.Membership (class must be instantiated by Interceptor)\nHibernate: drop table if exists group_ cascade \nHibernate: drop table if exists membership_ cascade \nHibernate: drop table if exists user_ cascade \nHibernate: drop sequence if exists membership__seq\nHibernate: create sequence membership__seq start with 1 increment by 50\nHibernate: create table group_ (id_ varchar(255) not null, primary key (id_))\nHibernate: create table membership_ (id bigint not null, joined_time_ timestamp(6), group_ varchar(255), member_ varchar(20), primary key (id))\nHibernate: create table user_ (username_ varchar(20) not null, password_ varchar(255) not null, primary key (username_))\nHibernate: alter table if exists membership_ add constraint FK1udya4gvkv075w9wno3743i39 foreign key (group_) references group_\nHibernate: alter table if exists membership_ add constraint FKthdd3se5969gd80afjg8yml8i foreign key (member_) references user_\n2023-04-19T18:45:25.328+02:00  INFO 17312 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-19T18:45:25.349+02:00  INFO 17312 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-19T18:45:25.785+02:00  INFO 17312 --- [    Test worker] h.s.s.repositories.UserRepositoryTest    : Started UserRepositoryTest in 4.804 seconds (process running for 6.329)\n\nexpected: &lt;1&gt; but was: &lt;0&gt;\nExpected :1\nActual   :0\n</code></pre>\n<p>I would appreciate it a lot for identifying the reason and suggest the best practice in this scenarios.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14474123,"reputation":1147,"user_id":12469165,"display_name":"Amit pandey"},"score":0,"creation_date":1623133658,"post_id":67882436,"comment_id":119984810,"body_markdown":"check your menifest file its should have two launcher activity","body":"check your menifest file its should have two launcher activity"}],"answers":[{"tags":[],"owner":{"account_id":1209052,"reputation":7,"user_id":9663745,"display_name":"Nilam Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623133956,"creation_date":1623133956,"answer_id":67882514,"question_id":67882436,"body_markdown":"In your AndroidManifest file, **SplashActivity** must be set as Launcher activity. Check the name of the Splash screen activity file in your project.\r\n````\r\n&lt;activity android:name=&quot;.SplashActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n````","title":"why does my main activity show&#39;s first than my splash screen","body":"<p>In your AndroidManifest file, <strong>SplashActivity</strong> must be set as Launcher activity. Check the name of the Splash screen activity file in your project.</p>\n<pre><code>&lt;activity android:name=&quot;.SplashActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17625096,"reputation":126,"user_id":12790285,"display_name":"ahmednawazCS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623139183,"creation_date":1623134013,"answer_id":67882526,"question_id":67882436,"body_markdown":"You have to specify your activity Actions by using Intent Filter , \r\nIntent Filters specifies the types of intents that an activity, service, or broadcast receiver can respond to. An intent filter declares the capabilities of its parent component — what an activity or service can do and what types of broadcasts a receiver can handle. It opens the component to receiving intents of the advertised type, while filtering out those that are not meaningful for the component.\r\n\r\nAs in For your Case, You have to specify that MainActivity/SplashActivity should be on Launcher Mode(Launcher mode is an instruction for Android OS which specifies how the activity should be launched), you have to use Intent filter and specify Activity Actions ,\r\n\r\n*Must go through this Article [App Manifest Overview][1]\r\n\r\nAdd this in your Manifest file within `&lt;Application&gt;` Tag\r\n\r\n     &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/manifest-intro","title":"why does my main activity show&#39;s first than my splash screen","body":"<p>You have to specify your activity Actions by using Intent Filter ,\nIntent Filters specifies the types of intents that an activity, service, or broadcast receiver can respond to. An intent filter declares the capabilities of its parent component — what an activity or service can do and what types of broadcasts a receiver can handle. It opens the component to receiving intents of the advertised type, while filtering out those that are not meaningful for the component.</p>\n<p>As in For your Case, You have to specify that MainActivity/SplashActivity should be on Launcher Mode(Launcher mode is an instruction for Android OS which specifies how the activity should be launched), you have to use Intent filter and specify Activity Actions ,</p>\n<p>*Must go through this Article <a href=\"https://developer.android.com/guide/topics/manifest/manifest-intro\" rel=\"nofollow noreferrer\">App Manifest Overview</a></p>\n<p>Add this in your Manifest file within <code>&lt;Application&gt;</code> Tag</p>\n<pre><code> &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5161640,"reputation":1,"user_id":4133130,"display_name":"B&#252;şra Akdağ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623134335,"creation_date":1623134335,"answer_id":67882574,"question_id":67882436,"body_markdown":"Can you share your manifest? Launch Activity should be Splash Activity. \r\n\r\nWhich Activity you want the application to start with, you need to add IntentFilter in that Activity in the Manifest file.\r\n\r\n    &lt;activity android:name=&quot;SplashActivity&quot;\r\n          android:label=&quot;@string/app_name&quot;&gt;\r\n\t  &lt;intent-filter&gt;\r\n          &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n          &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n\t  &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;","title":"why does my main activity show&#39;s first than my splash screen","body":"<p>Can you share your manifest? Launch Activity should be Splash Activity.</p>\n<p>Which Activity you want the application to start with, you need to add IntentFilter in that Activity in the Manifest file.</p>\n<pre><code>&lt;activity android:name=&quot;SplashActivity&quot;\n      android:label=&quot;@string/app_name&quot;&gt;\n  &lt;intent-filter&gt;\n      &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n      &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n  &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9554877,"reputation":35,"user_id":7916443,"display_name":"literallyafk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681939054,"creation_date":1681939054,"answer_id":76058882,"question_id":67882436,"body_markdown":"This is an old thread but it has helped me pinpoint another issue on my end, given the solutions above. In the Android Studio emulator, you want to `run configurations` on app and not MainActivity since that launches you into the main activity if you are running with the run button. Else, launching the app on the phone screen works.","title":"why does my main activity show&#39;s first than my splash screen","body":"<p>This is an old thread but it has helped me pinpoint another issue on my end, given the solutions above. In the Android Studio emulator, you want to <code>run configurations</code> on app and not MainActivity since that launches you into the main activity if you are running with the run button. Else, launching the app on the phone screen works.</p>\n"}],"owner":{"account_id":20412803,"reputation":11,"user_id":14975759,"display_name":"Yazer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1681939054,"creation_date":1623133561,"question_id":67882436,"body_markdown":"&gt; this the first part of the code with the splash screen code\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private static final int SPLASH_TIME_OUT = 1000;\r\n        private static final String FILE_NAME = &quot;example.txt&quot;;\r\n        EditText mEditText;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            mEditText = findViewById(R.id.edit_text);\r\n    \r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                        Intent homeIntent = new Intent(MainActivity.this, HomeActivity.class);\r\n                        startActivity(homeIntent);\r\n                        finish();\r\n    \r\n                }\r\n            },SPLASH_TIME_OUT);\r\n\r\n\r\n\r\n\r\n\r\n&gt; the first thing that comes out after i run the app is the main activity and not the splash screen","title":"why does my main activity show&#39;s first than my splash screen","body":"<blockquote>\n<p>this the first part of the code with the splash screen code</p>\n</blockquote>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final int SPLASH_TIME_OUT = 1000;\n    private static final String FILE_NAME = &quot;example.txt&quot;;\n    EditText mEditText;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mEditText = findViewById(R.id.edit_text);\n\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                    Intent homeIntent = new Intent(MainActivity.this, HomeActivity.class);\n                    startActivity(homeIntent);\n                    finish();\n\n            }\n        },SPLASH_TIME_OUT);\n</code></pre>\n<blockquote>\n<p>the first thing that comes out after i run the app is the main activity and not the splash screen</p>\n</blockquote>\n"},{"tags":["java","spring","spring-framework-beans"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1681940508,"post_id":76058820,"comment_id":134139767,"body_markdown":"Have you checked from the `Environment` which profile is active and from it the properties you are looking for? Everything is described in the doc: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html","body":"Have you checked from the <code>Environment</code> which profile is active and from it the properties you are looking for? Everything is described in the doc: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":4410043,"reputation":560,"user_id":3593261,"accept_rate":64,"display_name":"user3593261"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681938527,"creation_date":1681938527,"question_id":76058820,"body_markdown":"I have a very old Spring Framework 5.0 based project, recently I tried to add some feature to it. It has xml based configuration with `context:property-placeholder` to load the properties files.\r\n\r\nAnd now I created an new Java based @Configuration file, tried to access the properties which loaded by the XML. I found I can use @Value to wired the value to variable, but can&#39;t find them in the `@Autowired Environment env`.\r\n\r\nconfig/application.prroperties:\r\n\r\n```\r\nkey1=value1\r\nkey2=value2\r\n```\r\n\r\napplication.xml\r\n\r\n```\r\n&lt;context:property-placeholder location=&quot;classpath:config/application.properties&quot;/&gt;\r\n&lt;context:component-scan base-package=&quot;com.example&quot; /&gt;\r\n```\r\n\r\nJava configuration\r\n```\r\n@Configuration\r\nclass MyConfiguration {\r\n  @Autowired\r\n  Environment env;           // Can&#39;t get &quot;key1&quot; and &quot;key2&quot;\r\n\r\n  @Value(&quot;${key1}&quot;) key1;    // This is valid. it has been assigned with &quot;value1&quot;\r\n  @Value(&quot;${key2}&quot;) key2;    // also work\r\n\r\n  @Bean public static PropertySourcesPlaceholderConfigurer propertyConfigurer() { \r\n    return new PropertySourcesPlaceholderConfigurer(); \r\n  }\r\n\r\n  ...\r\n}\r\n```\r\n\r\nI don&#39;t know why, and how I can make the `env` has those properties? Or any other way that allows me access the properties list? not wired them one by one?","title":"Who to access the property from Environment?","body":"<p>I have a very old Spring Framework 5.0 based project, recently I tried to add some feature to it. It has xml based configuration with <code>context:property-placeholder</code> to load the properties files.</p>\n<p>And now I created an new Java based @Configuration file, tried to access the properties which loaded by the XML. I found I can use @Value to wired the value to variable, but can't find them in the <code>@Autowired Environment env</code>.</p>\n<p>config/application.prroperties:</p>\n<pre><code>key1=value1\nkey2=value2\n</code></pre>\n<p>application.xml</p>\n<pre><code>&lt;context:property-placeholder location=&quot;classpath:config/application.properties&quot;/&gt;\n&lt;context:component-scan base-package=&quot;com.example&quot; /&gt;\n</code></pre>\n<p>Java configuration</p>\n<pre><code>@Configuration\nclass MyConfiguration {\n  @Autowired\n  Environment env;           // Can't get &quot;key1&quot; and &quot;key2&quot;\n\n  @Value(&quot;${key1}&quot;) key1;    // This is valid. it has been assigned with &quot;value1&quot;\n  @Value(&quot;${key2}&quot;) key2;    // also work\n\n  @Bean public static PropertySourcesPlaceholderConfigurer propertyConfigurer() { \n    return new PropertySourcesPlaceholderConfigurer(); \n  }\n\n  ...\n}\n</code></pre>\n<p>I don't know why, and how I can make the <code>env</code> has those properties? Or any other way that allows me access the properties list? not wired them one by one?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1681937703,"post_id":76058713,"comment_id":134139330,"body_markdown":"I don&#39;t believe those parentheses are strictly required. Have you tried removing them to see what happens? My guess is they were added to make it clearer (to whoever wrote the code) that the result of the expression is being cast to `K`.","body":"I don&#39;t believe those parentheses are strictly required. Have you tried removing them to see what happens? My guess is they were added to make it clearer (to whoever wrote the code) that the result of the expression is being cast to <code>K</code>."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1681938351,"post_id":76058713,"comment_id":134139451,"body_markdown":"If `K` is a generic argument, then you can&#39;t cast to it since generics are erased at runtime. If `K` isn&#39;t a generic argument, then it&#39;s a terrible class name. Either way, this code is suspect.","body":"If <code>K</code> is a generic argument, then you can&#39;t cast to it since generics are erased at runtime. If <code>K</code> isn&#39;t a generic argument, then it&#39;s a terrible class name. Either way, this code is suspect."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1681938448,"post_id":76058713,"comment_id":134139471,"body_markdown":"@SilvioMayolo You can cast to `K` even if it&#39;s a generic parameter, you&#39;ll just get an unchecked cast warning.","body":"@SilvioMayolo You can cast to <code>K</code> even if it&#39;s a generic parameter, you&#39;ll just get an unchecked cast warning."}],"answers":[{"tags":[],"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1681938472,"creation_date":1681938472,"answer_id":76058815,"question_id":76058713,"body_markdown":"while this particular brackets are not required, it is quite common to use them:\r\n\r\nhere is quick example, which works as expected - other variable is casted to another class:\r\n\r\n    Class temp = (Class)other;\r\n\r\nnow, lets imagine we need to cast object and call method, this does not compile, because casting is applied to result of MethodOfClass, not to variable other\r\n\r\n    Something temp = (Class)other.MethodOfClass();\r\n\r\nthis is why you have to use:\r\n\r\n    Something temp = ((Class)other).MethodOfClass();\r\n\r\nnow, you want to cast result of the method:\r\n\r\n    Something temp = (Something)((Class)other).MethodOfClass();\r\n\r\nand it works, until again you need to call method on result, so it is much easier to wrap everything in brackets from the very beginning, so you can later add method call\r\n\r\nbut, all these brackets actually create mess, so as part of good will - just refactor it to:\r\n\r\n    var request = healthCheckVO.getRestConnectorRequest();\r\n    var connector = (RestConnector)restConnector;\r\n    var response = connector.connect(request);\r\n    restResponse = Optional.ofNullable((K)response);\r\n\r\nor something along this idea - less mental load per line of code","title":"method call within a parenthesis","body":"<p>while this particular brackets are not required, it is quite common to use them:</p>\n<p>here is quick example, which works as expected - other variable is casted to another class:</p>\n<pre><code>Class temp = (Class)other;\n</code></pre>\n<p>now, lets imagine we need to cast object and call method, this does not compile, because casting is applied to result of MethodOfClass, not to variable other</p>\n<pre><code>Something temp = (Class)other.MethodOfClass();\n</code></pre>\n<p>this is why you have to use:</p>\n<pre><code>Something temp = ((Class)other).MethodOfClass();\n</code></pre>\n<p>now, you want to cast result of the method:</p>\n<pre><code>Something temp = (Something)((Class)other).MethodOfClass();\n</code></pre>\n<p>and it works, until again you need to call method on result, so it is much easier to wrap everything in brackets from the very beginning, so you can later add method call</p>\n<p>but, all these brackets actually create mess, so as part of good will - just refactor it to:</p>\n<pre><code>var request = healthCheckVO.getRestConnectorRequest();\nvar connector = (RestConnector)restConnector;\nvar response = connector.connect(request);\nrestResponse = Optional.ofNullable((K)response);\n</code></pre>\n<p>or something along this idea - less mental load per line of code</p>\n"}],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76058815,"answer_count":1,"score":0,"last_activity_date":1681938472,"creation_date":1681937425,"question_id":76058713,"body_markdown":"This might be a basic question but I can&#39;t find a explanation of it. In the following example,\r\n\r\n    restResponse = Optional.ofNullable((K) (((RestConnector) restConnector).connect(healthCheckVO.getRestConnectorRequest())));\r\n\r\nI know that two parenthesis: ((RestConnector) restConnector) are needed to cast variable restConnector to type RestConnector before calling its connect() method. but why the result of the call needs to be wrapped in another parenthesis?\r\n\r\n    (   ((RestConnector) restConnector).connect(healthCheckVO.getRestConnectorRequest())   )","title":"method call within a parenthesis","body":"<p>This might be a basic question but I can't find a explanation of it. In the following example,</p>\n<pre><code>restResponse = Optional.ofNullable((K) (((RestConnector) restConnector).connect(healthCheckVO.getRestConnectorRequest())));\n</code></pre>\n<p>I know that two parenthesis: ((RestConnector) restConnector) are needed to cast variable restConnector to type RestConnector before calling its connect() method. but why the result of the call needs to be wrapped in another parenthesis?</p>\n<pre><code>(   ((RestConnector) restConnector).connect(healthCheckVO.getRestConnectorRequest())   )\n</code></pre>\n"},{"tags":["java","mockito","httpurlconnection"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1681886915,"post_id":76051409,"comment_id":134127336,"body_markdown":"Could you present a piece of code (even pseudocode) which will  show what you want to achieve? Or how would you like to change your existing code? Mockito is not intended for production code. In order to handle unexpected scenarios you need to handle those explicitly.","body":"Could you present a piece of code (even pseudocode) which will  show what you want to achieve? Or how would you like to change your existing code? Mockito is not intended for production code. In order to handle unexpected scenarios you need to handle those explicitly."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1681887104,"post_id":76051409,"comment_id":134127370,"body_markdown":"Mockito is for testing only. Do not use it in production code","body":"Mockito is for testing only. Do not use it in production code"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681891856,"post_id":76051409,"comment_id":134128458,"body_markdown":"maybe you would consider `wiremock` instead. You can configure it using some json files or programmatically, take a look here:  https://wiremock.org/","body":"maybe you would consider <code>wiremock</code> instead. You can configure it using some json files or programmatically, take a look here:  <a href=\"https://wiremock.org/\" rel=\"nofollow noreferrer\">wiremock.org</a>"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":1,"creation_date":1681930500,"post_id":76051409,"comment_id":134138063,"body_markdown":"@fascynacja I updated the question with more details to clarify my use-case and the possible change to be made to the command line utility.","body":"@fascynacja I updated the question with more details to clarify my use-case and the possible change to be made to the command line utility."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1681930529,"post_id":76051409,"comment_id":134138068,"body_markdown":"@EmanuelTrandafir I will check it out `wiremock`.","body":"@EmanuelTrandafir I will check it out <code>wiremock</code>."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1681936906,"post_id":76051409,"comment_id":134139174,"body_markdown":"Sounds like a perfect `wiremock` scenario. You can run wiremock as part of your code uising feature toggle, part of a test instance or as standalone server. Place static or dynamic mappings and lets go. I am always doing it like: searing ID=200 returns OK, searching id=404 return not found, .... like this you will always know what was expected and if your app woirks correct. \nOften you will hear internal mocking with switches is better - for a first appraoch maybe BUT you will have toggles and test code on real prod code + it is not integrative - just mocked instead. So wiremock should fit.","body":"Sounds like a perfect <code>wiremock</code> scenario. You can run wiremock as part of your code uising feature toggle, part of a test instance or as standalone server. Place static or dynamic mappings and lets go. I am always doing it like: searing ID=200 returns OK, searching id=404 return not found, .... like this you will always know what was expected and if your app woirks correct.  Often you will hear internal mocking with switches is better - for a first appraoch maybe BUT you will have toggles and test code on real prod code + it is not integrative - just mocked instead. So wiremock should fit."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1681937598,"post_id":76051409,"comment_id":134139307,"body_markdown":"@LenglBoy thanks a lot... would you be able to add an answer with a sample code?","body":"@LenglBoy thanks a lot... would you be able to add an answer with a sample code?"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1681950038,"post_id":76051409,"comment_id":134140857,"body_markdown":"Your stated use case is integration testing. It&#39;s not a great idea to be mocking the behaviour of another module inside the module under test given the point of it is to test how modules work together. But it is a reasonable idea to have a mocked version of other modules so that you can perform layered integration testing. Once you get to system testing of course there should be no mocking at all.","body":"Your stated use case is integration testing. It&#39;s not a great idea to be mocking the behaviour of another module inside the module under test given the point of it is to test how modules work together. But it is a reasonable idea to have a mocked version of other modules so that you can perform layered integration testing. Once you get to system testing of course there should be no mocking at all."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1681963902,"post_id":76051409,"comment_id":134142190,"body_markdown":"Integration testing is happening on a server that has no internet connectivity that&#39;s why I need to find a mocking solution.","body":"Integration testing is happening on a server that has no internet connectivity that&#39;s why I need to find a mocking solution."}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681938068,"creation_date":1681886250,"question_id":76051409,"body_markdown":"Below is a simple java command line utility to download a web page into a file. \r\n\r\nThis code was brought from here:\r\n\r\nhttps://www.codejava.net/java-se/networking/java-urlconnection-and-httpurlconnection-examples\r\n\r\nMy question: is it a good idea to integrate mockito with this command line program? \r\n\r\nFor example, I want to extend the features of this utility to return an internal server error response code even if the provided url is working.\r\n\r\nThe use case is that the developed component needs to be deployed into a production-like running instance on a staging server where it&#39;s not possible to install a tool like Mockoon. Also, it is not enough to depend on the developed tests using JUnit and Mockito. This is because in this case we will be running integration tests where the running instance has all the dependencies and other systems can interface with the component. When the component is functional in such an environment, I need to see how it will behave when the url returns an internal server error for example.\r\n\r\nWe can achieve the same using [Mockoon][1], but, since Mockoon cannot be installed due to policy restrictions, I wanted to find out if there is an alternative by coding the mocking logic along with the developed component. \r\n\r\nMy thoughts on this approach in the case of the command line utility below, we can add another argument to configure the utility to mock the `httpurlconnection` to return an internal server error even if the url is working without problems. \r\n\r\n\r\nThe code of the command line utility:\r\n```\r\nimport java.net.*;\r\nimport java.io.*;\r\nimport java.util.*;\r\n \r\npublic class DownloadWebPage {\r\n \r\n    public static void main(String[] args) {\r\n        if (args.length &lt; 2) {\r\n            System.out.println(&quot;Syntax: &lt;url&gt; &lt;file&gt;&quot;);\r\n            return;\r\n        }\r\n \r\n        String url = args[0];\r\n        String filePath = args[1];\r\n \r\n        try {\r\n \r\n            URL urlObj = new URL(url);\r\n            URLConnection urlCon = urlObj.openConnection();\r\n \r\n            InputStream inputStream = urlCon.getInputStream();\r\n            BufferedInputStream reader = new BufferedInputStream(inputStream);\r\n \r\n            BufferedOutputStream writer = new BufferedOutputStream(new FileOutputStream(filePath));\r\n \r\n            byte[] buffer = new byte[4096];\r\n            int bytesRead = -1;\r\n \r\n            while ((bytesRead = reader.read(buffer)) != -1) {\r\n                writer.write(buffer, 0, bytesRead);\r\n            }\r\n \r\n            writer.close();\r\n            reader.close();\r\n \r\n            System.out.println(&quot;Web page saved&quot;);\r\n \r\n        } catch (MalformedURLException e) {\r\n            System.out.println(&quot;The specified URL is malformed: &quot; + e.getMessage());\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;An I/O error occurs: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBelow is a rough modified version of the above code to achieve what I am looking for:\r\n\r\n\r\n```\r\nimport java.net.*;\r\nimport java.io.*;\r\nimport java.util.*;\r\n \r\npublic class DownloadWebPage {\r\n \r\n    public static void main(String[] args) {\r\n        if (args.length &lt; 2) {\r\n            System.out.println(&quot;Syntax: &lt;url&gt; &lt;file&gt;&quot;);\r\n            return;\r\n        }\r\n \r\n        String url = args[0];\r\n        String filePath = args[1];\r\n\t\tString mockFlag = args[2];\r\n \r\n        try {\r\n \r\n            URL urlObj;\r\n            URLConnection urlCon;\r\n\r\n\t\t\tif (mockFlag.equals(&quot;interal_server_error&quot;) {\r\n\t\t\t\t//Set up the mocks for urlObj and urlCon\r\n\t\t\t\t//Must return the response code Internal Server Error\r\n\t\t\t\t...\r\n\t\t\t\t...\r\n\t\t\t} else {\r\n\t\t\t\turlObj = new URL(url);\r\n\t\t\t\turlCon = urlObj.openConnection();\r\n\t\t\t}\r\n \r\n            InputStream inputStream = urlCon.getInputStream();\r\n            BufferedInputStream reader = new BufferedInputStream(inputStream);\r\n \r\n            BufferedOutputStream writer = new BufferedOutputStream(new FileOutputStream(filePath));\r\n \r\n            byte[] buffer = new byte[4096];\r\n            int bytesRead = -1;\r\n \r\n            while ((bytesRead = reader.read(buffer)) != -1) {\r\n                writer.write(buffer, 0, bytesRead);\r\n            }\r\n \r\n            writer.close();\r\n            reader.close();\r\n \r\n            System.out.println(&quot;Web page saved&quot;);\r\n \r\n        } catch (MalformedURLException e) {\r\n            System.out.println(&quot;The specified URL is malformed: &quot; + e.getMessage());\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;An I/O error occurs: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOf course, the first problem we are introducing is readability issues. We can resolve such issues by using the Strategy software design pattern. I wanted to know if this approach is reasonable and if anyone used it before.\r\n\r\n\r\n  [1]: https://mockoon.com/","title":"Integrate mockito logic with the production code","body":"<p>Below is a simple java command line utility to download a web page into a file.</p>\n<p>This code was brought from here:</p>\n<p><a href=\"https://www.codejava.net/java-se/networking/java-urlconnection-and-httpurlconnection-examples\" rel=\"nofollow noreferrer\">https://www.codejava.net/java-se/networking/java-urlconnection-and-httpurlconnection-examples</a></p>\n<p>My question: is it a good idea to integrate mockito with this command line program?</p>\n<p>For example, I want to extend the features of this utility to return an internal server error response code even if the provided url is working.</p>\n<p>The use case is that the developed component needs to be deployed into a production-like running instance on a staging server where it's not possible to install a tool like Mockoon. Also, it is not enough to depend on the developed tests using JUnit and Mockito. This is because in this case we will be running integration tests where the running instance has all the dependencies and other systems can interface with the component. When the component is functional in such an environment, I need to see how it will behave when the url returns an internal server error for example.</p>\n<p>We can achieve the same using <a href=\"https://mockoon.com/\" rel=\"nofollow noreferrer\">Mockoon</a>, but, since Mockoon cannot be installed due to policy restrictions, I wanted to find out if there is an alternative by coding the mocking logic along with the developed component.</p>\n<p>My thoughts on this approach in the case of the command line utility below, we can add another argument to configure the utility to mock the <code>httpurlconnection</code> to return an internal server error even if the url is working without problems.</p>\n<p>The code of the command line utility:</p>\n<pre><code>import java.net.*;\nimport java.io.*;\nimport java.util.*;\n \npublic class DownloadWebPage {\n \n    public static void main(String[] args) {\n        if (args.length &lt; 2) {\n            System.out.println(&quot;Syntax: &lt;url&gt; &lt;file&gt;&quot;);\n            return;\n        }\n \n        String url = args[0];\n        String filePath = args[1];\n \n        try {\n \n            URL urlObj = new URL(url);\n            URLConnection urlCon = urlObj.openConnection();\n \n            InputStream inputStream = urlCon.getInputStream();\n            BufferedInputStream reader = new BufferedInputStream(inputStream);\n \n            BufferedOutputStream writer = new BufferedOutputStream(new FileOutputStream(filePath));\n \n            byte[] buffer = new byte[4096];\n            int bytesRead = -1;\n \n            while ((bytesRead = reader.read(buffer)) != -1) {\n                writer.write(buffer, 0, bytesRead);\n            }\n \n            writer.close();\n            reader.close();\n \n            System.out.println(&quot;Web page saved&quot;);\n \n        } catch (MalformedURLException e) {\n            System.out.println(&quot;The specified URL is malformed: &quot; + e.getMessage());\n        } catch (IOException e) {\n            System.out.println(&quot;An I/O error occurs: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Below is a rough modified version of the above code to achieve what I am looking for:</p>\n<pre><code>import java.net.*;\nimport java.io.*;\nimport java.util.*;\n \npublic class DownloadWebPage {\n \n    public static void main(String[] args) {\n        if (args.length &lt; 2) {\n            System.out.println(&quot;Syntax: &lt;url&gt; &lt;file&gt;&quot;);\n            return;\n        }\n \n        String url = args[0];\n        String filePath = args[1];\n        String mockFlag = args[2];\n \n        try {\n \n            URL urlObj;\n            URLConnection urlCon;\n\n            if (mockFlag.equals(&quot;interal_server_error&quot;) {\n                //Set up the mocks for urlObj and urlCon\n                //Must return the response code Internal Server Error\n                ...\n                ...\n            } else {\n                urlObj = new URL(url);\n                urlCon = urlObj.openConnection();\n            }\n \n            InputStream inputStream = urlCon.getInputStream();\n            BufferedInputStream reader = new BufferedInputStream(inputStream);\n \n            BufferedOutputStream writer = new BufferedOutputStream(new FileOutputStream(filePath));\n \n            byte[] buffer = new byte[4096];\n            int bytesRead = -1;\n \n            while ((bytesRead = reader.read(buffer)) != -1) {\n                writer.write(buffer, 0, bytesRead);\n            }\n \n            writer.close();\n            reader.close();\n \n            System.out.println(&quot;Web page saved&quot;);\n \n        } catch (MalformedURLException e) {\n            System.out.println(&quot;The specified URL is malformed: &quot; + e.getMessage());\n        } catch (IOException e) {\n            System.out.println(&quot;An I/O error occurs: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Of course, the first problem we are introducing is readability issues. We can resolve such issues by using the Strategy software design pattern. I wanted to know if this approach is reasonable and if anyone used it before.</p>\n"},{"tags":["java","zip","pentaho"],"answers":[{"tags":[],"owner":{"account_id":1480496,"reputation":669,"user_id":1390012,"display_name":"mesompi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681937069,"creation_date":1681936305,"answer_id":76058597,"question_id":76058570,"body_markdown":"You can use the step `Modified JavaScript value` with a little help of java code:\r\n\r\n```js\r\nvar filePath = &quot;D:\\\\file.zip&quot;;\r\nvar bytes = java.nio.file.Files.readAllBytes(java.nio.file.Paths.get(filePath));\r\nvar zis = new java.util.zip.ZipInputStream(new java.io.ByteArrayInputStream(bytes));\r\n\r\nfunction extractContentFile(zis){\r\n    var baos = new java.io.ByteArrayOutputStream();\r\n    var buffer = java.nio.ByteBuffer.allocate(1024).array();\r\n    var len;\r\n    while ((len = zis.read(buffer)) &gt; 0) {\r\n        baos.write(buffer, 0, len);\r\n    }\r\n    return new java.lang.String(baos.toByteArray());\t\t\r\n}\r\n\r\nvar zipEntry = zis.getNextEntry();\r\nwhile (zipEntry != null) {\r\n\tvar entryName = zipEntry.getName();\r\n\tif(entryName.equals(&quot;posts.json&quot;)){\r\n\t\tvar content = extractContentFile(zis);\t\t\r\n\t}\r\n\tzipEntry = zis.getNextEntry();\r\n}\r\n```\r\n\r\nIn my case the file `posts.json` is a text file, so you can use the variable `content` in the steps ahead like a String. Remember to map the variables you want to use in the `Fields` section:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DsGOX.png","title":"How can I unzip a file programmatically without writing to the disk using Pentaho?","body":"<p>You can use the step <code>Modified JavaScript value</code> with a little help of java code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var filePath = &quot;D:\\\\file.zip&quot;;\nvar bytes = java.nio.file.Files.readAllBytes(java.nio.file.Paths.get(filePath));\nvar zis = new java.util.zip.ZipInputStream(new java.io.ByteArrayInputStream(bytes));\n\nfunction extractContentFile(zis){\n    var baos = new java.io.ByteArrayOutputStream();\n    var buffer = java.nio.ByteBuffer.allocate(1024).array();\n    var len;\n    while ((len = zis.read(buffer)) &gt; 0) {\n        baos.write(buffer, 0, len);\n    }\n    return new java.lang.String(baos.toByteArray());        \n}\n\nvar zipEntry = zis.getNextEntry();\nwhile (zipEntry != null) {\n    var entryName = zipEntry.getName();\n    if(entryName.equals(&quot;posts.json&quot;)){\n        var content = extractContentFile(zis);      \n    }\n    zipEntry = zis.getNextEntry();\n}\n</code></pre>\n<p>In my case the file <code>posts.json</code> is a text file, so you can use the variable <code>content</code> in the steps ahead like a String. Remember to map the variables you want to use in the <code>Fields</code> section:</p>\n<p><a href=\"https://i.stack.imgur.com/DsGOX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DsGOX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1480496,"reputation":669,"user_id":1390012,"display_name":"mesompi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681937069,"creation_date":1681936051,"question_id":76058570,"body_markdown":"I am working on a project that requires me to extract data from a ZIP file without writing the unzipped files to the disk. I am using Pentaho for my project and would like to know if there is a way to accomplish this using Pentaho&#39;s APIs.\r\n\r\nI have tried using the Unzip step in Pentaho&#39;s ETL tool, but this writes the unzipped files to the disk, which is not acceptable for my use case.\r\n\r\nIs there a way to unzip a file in memory using Pentaho&#39;s APIs? If so, can someone please provide an example of how to do this? I am relatively new to Pentaho and would appreciate any guidance or examples that can be provided. Thank you in advance for your help!","title":"How can I unzip a file programmatically without writing to the disk using Pentaho?","body":"<p>I am working on a project that requires me to extract data from a ZIP file without writing the unzipped files to the disk. I am using Pentaho for my project and would like to know if there is a way to accomplish this using Pentaho's APIs.</p>\n<p>I have tried using the Unzip step in Pentaho's ETL tool, but this writes the unzipped files to the disk, which is not acceptable for my use case.</p>\n<p>Is there a way to unzip a file in memory using Pentaho's APIs? If so, can someone please provide an example of how to do this? I am relatively new to Pentaho and would appreciate any guidance or examples that can be provided. Thank you in advance for your help!</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1681912429,"post_id":76054136,"comment_id":134133637,"body_markdown":"Does this answer your question? [Could not Load Plugin due to Error: &quot;Jar does not contain plugin.yml&quot;](https://stackoverflow.com/questions/67925186/could-not-load-plugin-due-to-error-jar-does-not-contain-plugin-yml) or [this one](https://stackoverflow.com/a/74732824/10952503)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67925186/could-not-load-plugin-due-to-error-jar-does-not-contain-plugin-yml\">Could not Load Plugin due to Error: &quot;Jar does not contain plugin.yml&quot;</a> or <a href=\"https://stackoverflow.com/a/74732824/10952503\">this one</a>"}],"answers":[{"tags":[],"owner":{"account_id":28334758,"reputation":70,"user_id":21668471,"display_name":"atlaska826"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681936557,"creation_date":1681924538,"answer_id":76057208,"question_id":76054136,"body_markdown":"It would be nice to be able to see your plugin.yml, but with the information you&#39;ve given, there are a few possible solutions I can think of. \r\n\r\n 1. Check and make sure the plugin is located in the correct plugins folder. I&#39;ve seen one time when there was a duplicate for some reason, so I&#39;d check that.\r\n 2. This is gonna sound like a really stupid fix, but make sure that your plugin is compatible with the version of Minecraft your server is in. I&#39;ve done this before, so that&#39;s why I&#39;m including it.\r\n 3. You could also try redownloading the .jar file to see if it possibly got corrupted in any way.\r\n 4. Make sure that your plugin.yml file is included on the jar.\r\n\r\nI mainly develop in Spigot and not Paper, and I know there are a few differences between the two, so I may be missing an obvious solution.","title":"How do i fix this RuntimeException when the plugin attempts to load?","body":"<p>It would be nice to be able to see your plugin.yml, but with the information you've given, there are a few possible solutions I can think of.</p>\n<ol>\n<li>Check and make sure the plugin is located in the correct plugins folder. I've seen one time when there was a duplicate for some reason, so I'd check that.</li>\n<li>This is gonna sound like a really stupid fix, but make sure that your plugin is compatible with the version of Minecraft your server is in. I've done this before, so that's why I'm including it.</li>\n<li>You could also try redownloading the .jar file to see if it possibly got corrupted in any way.</li>\n<li>Make sure that your plugin.yml file is included on the jar.</li>\n</ol>\n<p>I mainly develop in Spigot and not Paper, and I know there are a few differences between the two, so I may be missing an obvious solution.</p>\n"}],"owner":{"account_id":24716258,"reputation":23,"user_id":18605954,"display_name":"Sigge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681936557,"creation_date":1681904797,"question_id":76054136,"body_markdown":"I have got a error in this plugin, which i dont know how to fix.\r\nThe error (copied from console) is \r\n```\r\n[18:21:25 ERROR]: Error loading plugin: File &#39;plugins\\lobbyplugin.jar&#39; failed to load!\r\njava.lang.RuntimeException: File &#39;plugins\\lobbyplugin.jar&#39; failed to load!\r\n\tat io.papermc.paper.plugin.provider.source.FileProviderSource.registerProviders(FileProviderSource.java:59) ~[paper-1.19.3.jar:git-Paper-448]\r\n\tat io.papermc.paper.plugin.provider.source.DirectoryProviderSource.lambda$registerProviders$2(DirectoryProviderSource.java:32) ~[paper-1.19.3.jar:git-Paper-448]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[?:?]\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:133) ~[?:?]\r\n\tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[?:?]\r\n\tat io.papermc.paper.plugin.provider.source.DirectoryProviderSource.registerProviders(DirectoryProviderSource.java:30) ~[paper-1.19.3.jar:git-Paper-448]\r\n\tat io.papermc.paper.plugin.provider.source.DirectoryProviderSource.registerProviders(DirectoryProviderSource.java:14) ~[paper-1.19.3.jar:git-Paper-448]\r\n\tat io.papermc.paper.plugin.util.EntrypointUtil.registerProvidersFromSource(EntrypointUtil.java:14) ~[paper-1.19.3.jar:git-Paper-448]\r\n\tat io.papermc.paper.plugin.PluginInitializerManager.load(PluginInitializerManager.java:100) ~[paper-1.19.3.jar:git-Paper-448]\r\n\tat net.minecraft.server.Main.main(Main.java:114) ~[paper-1.19.3.jar:git-Paper-448]\r\n\tat org.bukkit.craftbukkit.Main.main(Main.java:302) ~[paper-1.19.3.jar:git-Paper-448]\r\n\tat io.papermc.paperclip.Paperclip.lambda$main$0(Paperclip.java:42) ~[app:?]\r\n\tat java.lang.Thread.run(Thread.java:1589) ~[?:?]\r\nCaused by: java.lang.IllegalArgumentException: File &#39;plugins\\lobbyplugin.jar&#39; is not a valid plugin file, cannot load a plugin from it!\r\n\tat io.papermc.paper.plugin.provider.source.FileProviderSource.registerProviders(FileProviderSource.java:54) ~[paper-1.19.3.jar:git-Paper-448]\r\n\t... 20 more\r\n```\r\nI tried the old way of checking for errors, but it didnt work.\r\nThe code is: \r\n```\r\npackage com.gmail.AAAA.SpleefClicker;\r\n\r\n\r\nimport org.bukkit.Material;\r\nimport org.bukkit.NamespacedKey;\r\nimport org.bukkit.entity.ArmorStand;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.entity.EntityDamageByEntityEvent;\r\nimport org.bukkit.persistence.PersistentDataType;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\n\r\nimport com.google.common.io.ByteArrayDataOutput;\r\nimport com.google.common.io.ByteStreams;\r\npublic final class SpleefClicker extends JavaPlugin implements Listener {\r\n    @Override\r\n    public void onEnable() {\r\n        getLogger().info(&quot;onEnable has been invoked!&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDisable() {\r\n        // TODO Put stuff to clean the plugin up.\r\n    }\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    @EventHandler\r\n    public void onArmorStandDamage(EntityDamageByEntityEvent event) {\r\n        if (!(event.getEntity() instanceof ArmorStand)) {\r\n            return;\r\n        }\r\n\r\n        ArmorStand armorStand = (ArmorStand) event.getEntity();\r\n\r\n        if (!armorStand.getPersistentDataContainer().has(new NamespacedKey(this, &quot;tag&quot;), PersistentDataType.STRING)) {\r\n            return;\r\n        }\r\n\r\n        if (!armorStand.getPersistentDataContainer().get(new NamespacedKey(this, &quot;tag&quot;), PersistentDataType.STRING).equals(&quot;spleefclicker&quot;)) {\r\n            return;\r\n        }\r\n\r\n        if (!(event.getDamager() instanceof Player)) {\r\n            return;\r\n        }\r\n\r\n        Player player = (Player) event.getDamager();\r\n\r\n        if (player.getInventory().getItemInMainHand().getType() != Material.STICK) {\r\n            return;\r\n        }\r\n\r\n        player.sendMessage(&quot;We are attempting to teleport you&quot;);\r\n        // TODO Add bungeecord pluginmessages to teleport the player to another server\r\n        armorStand.setHealth(armorStand.getMaxHealth()); // Heal the armor stand to prevent it breaking.\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to make a plugin to interact with the world and send a player to minigame server.\r\n\r\nI expected it to send a message and teleport the player (not currently implemented)\r\n\r\nHowever, it failed to load.\r\nThe plugin.yml exists and the code is OK.","title":"How do i fix this RuntimeException when the plugin attempts to load?","body":"<p>I have got a error in this plugin, which i dont know how to fix.\nThe error (copied from console) is</p>\n<pre><code>[18:21:25 ERROR]: Error loading plugin: File 'plugins\\lobbyplugin.jar' failed to load!\njava.lang.RuntimeException: File 'plugins\\lobbyplugin.jar' failed to load!\n    at io.papermc.paper.plugin.provider.source.FileProviderSource.registerProviders(FileProviderSource.java:59) ~[paper-1.19.3.jar:git-Paper-448]\n    at io.papermc.paper.plugin.provider.source.DirectoryProviderSource.lambda$registerProviders$2(DirectoryProviderSource.java:32) ~[paper-1.19.3.jar:git-Paper-448]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?]\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[?:?]\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[?:?]\n    at java.util.Iterator.forEachRemaining(Iterator.java:133) ~[?:?]\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921) ~[?:?]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[?:?]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[?:?]\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[?:?]\n    at io.papermc.paper.plugin.provider.source.DirectoryProviderSource.registerProviders(DirectoryProviderSource.java:30) ~[paper-1.19.3.jar:git-Paper-448]\n    at io.papermc.paper.plugin.provider.source.DirectoryProviderSource.registerProviders(DirectoryProviderSource.java:14) ~[paper-1.19.3.jar:git-Paper-448]\n    at io.papermc.paper.plugin.util.EntrypointUtil.registerProvidersFromSource(EntrypointUtil.java:14) ~[paper-1.19.3.jar:git-Paper-448]\n    at io.papermc.paper.plugin.PluginInitializerManager.load(PluginInitializerManager.java:100) ~[paper-1.19.3.jar:git-Paper-448]\n    at net.minecraft.server.Main.main(Main.java:114) ~[paper-1.19.3.jar:git-Paper-448]\n    at org.bukkit.craftbukkit.Main.main(Main.java:302) ~[paper-1.19.3.jar:git-Paper-448]\n    at io.papermc.paperclip.Paperclip.lambda$main$0(Paperclip.java:42) ~[app:?]\n    at java.lang.Thread.run(Thread.java:1589) ~[?:?]\nCaused by: java.lang.IllegalArgumentException: File 'plugins\\lobbyplugin.jar' is not a valid plugin file, cannot load a plugin from it!\n    at io.papermc.paper.plugin.provider.source.FileProviderSource.registerProviders(FileProviderSource.java:54) ~[paper-1.19.3.jar:git-Paper-448]\n    ... 20 more\n</code></pre>\n<p>I tried the old way of checking for errors, but it didnt work.\nThe code is:</p>\n<pre><code>package com.gmail.AAAA.SpleefClicker;\n\n\nimport org.bukkit.Material;\nimport org.bukkit.NamespacedKey;\nimport org.bukkit.entity.ArmorStand;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.entity.EntityDamageByEntityEvent;\nimport org.bukkit.persistence.PersistentDataType;\nimport org.bukkit.plugin.java.JavaPlugin;\n\nimport com.google.common.io.ByteArrayDataOutput;\nimport com.google.common.io.ByteStreams;\npublic final class SpleefClicker extends JavaPlugin implements Listener {\n    @Override\n    public void onEnable() {\n        getLogger().info(&quot;onEnable has been invoked!&quot;);\n    }\n\n\n    @Override\n    public void onDisable() {\n        // TODO Put stuff to clean the plugin up.\n    }\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @EventHandler\n    public void onArmorStandDamage(EntityDamageByEntityEvent event) {\n        if (!(event.getEntity() instanceof ArmorStand)) {\n            return;\n        }\n\n        ArmorStand armorStand = (ArmorStand) event.getEntity();\n\n        if (!armorStand.getPersistentDataContainer().has(new NamespacedKey(this, &quot;tag&quot;), PersistentDataType.STRING)) {\n            return;\n        }\n\n        if (!armorStand.getPersistentDataContainer().get(new NamespacedKey(this, &quot;tag&quot;), PersistentDataType.STRING).equals(&quot;spleefclicker&quot;)) {\n            return;\n        }\n\n        if (!(event.getDamager() instanceof Player)) {\n            return;\n        }\n\n        Player player = (Player) event.getDamager();\n\n        if (player.getInventory().getItemInMainHand().getType() != Material.STICK) {\n            return;\n        }\n\n        player.sendMessage(&quot;We are attempting to teleport you&quot;);\n        // TODO Add bungeecord pluginmessages to teleport the player to another server\n        armorStand.setHealth(armorStand.getMaxHealth()); // Heal the armor stand to prevent it breaking.\n    }\n}\n</code></pre>\n<p>I tried to make a plugin to interact with the world and send a player to minigame server.</p>\n<p>I expected it to send a message and teleport the player (not currently implemented)</p>\n<p>However, it failed to load.\nThe plugin.yml exists and the code is OK.</p>\n"},{"tags":["java","visual-studio-code","gradle","assertj"],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661915749,"creation_date":1661915749,"answer_id":73550517,"question_id":73542891,"body_markdown":"Try to right-click the `build.gradle` file of your project and select `Reload Project`","title":"The import org.assertj.core.api.Assertions.catchException cannot be resolved in VSCode","body":"<p>Try to right-click the <code>build.gradle</code> file of your project and select <code>Reload Project</code></p>\n"},{"tags":[],"owner":{"account_id":21340774,"reputation":1,"user_id":15711263,"display_name":"devdev42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681935992,"creation_date":1681935992,"answer_id":76058560,"question_id":73542891,"body_markdown":"I got it working by cleaning the java language server cache. Was the first option provided by VSCode itself to fix the issue. ","title":"The import org.assertj.core.api.Assertions.catchException cannot be resolved in VSCode","body":"<p>I got it working by cleaning the java language server cache. Was the first option provided by VSCode itself to fix the issue.</p>\n"}],"owner":{"account_id":15917371,"reputation":91,"user_id":11485546,"display_name":"Wiktor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1681935992,"creation_date":1661864424,"question_id":73542891,"body_markdown":"When I am trying to launch my Spring application using VSCode&#39;s [Extension Pack for Java][1] which has\r\n```\r\nimport static org.assertj.core.api.Assertions.catchException;\r\n```\r\nin one of the tests, I get `build failed` with the following message:\r\n```\r\nThe import org.assertj.core.api.Assertions.catchException cannot be resolved\r\n```\r\nHowever, when I press `Proceed`, the app works normally. I have\r\n```\r\ntestImplementation group: &#39;org.assertj&#39;, name: &#39;assertj-core&#39;, version: &#39;3.22.0&#39;\r\n```\r\nin my `gradle.build` file and it also works fine if I compile it with `gradle build`. How can I fix it?\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack","title":"The import org.assertj.core.api.Assertions.catchException cannot be resolved in VSCode","body":"<p>When I am trying to launch my Spring application using VSCode's <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a> which has</p>\n<pre><code>import static org.assertj.core.api.Assertions.catchException;\n</code></pre>\n<p>in one of the tests, I get <code>build failed</code> with the following message:</p>\n<pre><code>The import org.assertj.core.api.Assertions.catchException cannot be resolved\n</code></pre>\n<p>However, when I press <code>Proceed</code>, the app works normally. I have</p>\n<pre><code>testImplementation group: 'org.assertj', name: 'assertj-core', version: '3.22.0'\n</code></pre>\n<p>in my <code>gradle.build</code> file and it also works fine if I compile it with <code>gradle build</code>. How can I fix it?</p>\n"},{"tags":["c#","java","arrays","int"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1259942780,"creation_date":1259942780,"answer_id":1847943,"question_id":1847915,"body_markdown":"    pArray = new int[] {-3, -1, -2, -3, -4};\r\n\r\ni.e., no need to specify the initial size - the compiler can count the items inside the curly brackets.\r\n\r\nAlso, have in mind that as java passed by value, your array won&#39;t &#39;change&#39;. You have to return the new array.","title":"How to reinitialize the int array in java","body":"<pre><code>pArray = new int[] {-3, -1, -2, -3, -4};\n</code></pre>\n\n<p>i.e., no need to specify the initial size - the compiler can count the items inside the curly brackets.</p>\n\n<p>Also, have in mind that as java passed by value, your array won't 'change'. You have to return the new array.</p>\n"},{"tags":[],"owner":{"account_id":37019,"reputation":51344,"user_id":105744,"accept_rate":92,"display_name":"Taylor Leese"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259943114,"creation_date":1259942808,"answer_id":1847946,"question_id":1847915,"body_markdown":"You can&#39;t &quot;reinitialize&quot; the array from within the other method because Java is pass by value. You can solve this in C# by using the ref keyword, but this is not available in Java. You will only be able to change the elements in the existing array from the calling method.\r\n\r\nIf you only want the array to be changed locally then Bozho&#39;s solution will work.","title":"How to reinitialize the int array in java","body":"<p>You can't \"reinitialize\" the array from within the other method because Java is pass by value. You can solve this in C# by using the ref keyword, but this is not available in Java. You will only be able to change the elements in the existing array from the calling method.</p>\n\n<p>If you only want the array to be changed locally then Bozho's solution will work.</p>\n"},{"tags":[],"owner":{"account_id":67735,"reputation":4793,"user_id":198040,"accept_rate":100,"display_name":"Gordon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259942831,"creation_date":1259942831,"answer_id":1847950,"question_id":1847915,"body_markdown":"You can&#39;t supply dimensions when an array initalizer is present i.e. \r\n\r\n     pArray = new int[5] {-3, -1, -2, -3, -4};","title":"How to reinitialize the int array in java","body":"<p>You can't supply dimensions when an array initalizer is present i.e. </p>\n\n<pre><code> pArray = new int[5] {-3, -1, -2, -3, -4};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259943280,"creation_date":1259943280,"answer_id":1848009,"question_id":1847915,"body_markdown":"as you correctly noted, this is **impossibile** with the Java parameter passing semantic (C# has the ref keywords for these scenarios).\r\n\r\nSince Java arrays are **immutable in size** you can change only the values, not the array&#39;s lenght (it cannot grown nor shrink).\r\n","title":"How to reinitialize the int array in java","body":"<p>as you correctly noted, this is <strong>impossibile</strong> with the Java parameter passing semantic (C# has the ref keywords for these scenarios).</p>\n\n<p>Since Java arrays are <strong>immutable in size</strong> you can change only the values, not the array's lenght (it cannot grown nor shrink).</p>\n"},{"tags":[],"owner":{"account_id":79271,"reputation":1988,"user_id":224935,"accept_rate":100,"display_name":"Jay Elston"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259946476,"creation_date":1259946476,"answer_id":1848362,"question_id":1847915,"body_markdown":"Here is what the C# program prints:\r\n\r\n**Inside Main, before calling the method, the first element is: 1\r\n\r\nInside the method, the first element is: -3\r\n\r\nInside Main, after calling the method, the first element is: 888**\r\n\r\n\r\n\r\nAsk yourself, why is *arr[0]* set to 888 in *Main()* after the call to *Change()*? Were you expecting to -3?\r\n\r\n\r\nHere is what is going on. The int array variable *pArray* is treated as a local variable inside the *Change()* method. It is initially set to be a reference to the array instance that is passed to it. (In the example program, this would be *arr* in *Main()*). The line\r\n\r\n    **pArray = new int[5] { -3, -1, -2, -3, -4 };   // This change is local.**\r\n\r\ncauses a new array to be created, and pArray is set to be a reference to this new array instead of the *arr* from *Main()*.\r\n\r\nThe program did not print the array lengths out. If it had, the lengths would have been 3, 5, and 3 respectively.\r\n\r\nYou could try the following:\r\n\r\n    public class TestPassByRefByVal\r\n    {\r\n        public static void Change(int[] pArray)\r\n        {\r\n            int [] lArray = { -3, -1, -2, -3, -4 };\r\n            pArray[0] = 888;  // This change affects the original element.\r\n            pArray = lArray;     // This change is local.\r\n            System.out.println(&quot;Inside the method, the first element is: &quot; + pArray[0]);\r\n        }\r\n    \r\n        public static void main(String[]args)\r\n        {\r\n            int [] arr = { 1, 4, 5 };\r\n            System.out.println(&quot;Inside Main, before Change(), arr[0]: &quot; + arr[0]);\r\n    \r\n            Change(arr);\r\n            System.out.println(&quot;Inside Main,  after Change(), arr[0]: &quot; + arr[0]);\r\n        }\r\n    }\r\n\r\n","title":"How to reinitialize the int array in java","body":"<p>Here is what the C# program prints:</p>\n\n<p>**Inside Main, before calling the method, the first element is: 1</p>\n\n<p>Inside the method, the first element is: -3</p>\n\n<p>Inside Main, after calling the method, the first element is: 888**</p>\n\n<p>Ask yourself, why is <em>arr[0]</em> set to 888 in <em>Main()</em> after the call to <em>Change()</em>? Were you expecting to -3?</p>\n\n<p>Here is what is going on. The int array variable <em>pArray</em> is treated as a local variable inside the <em>Change()</em> method. It is initially set to be a reference to the array instance that is passed to it. (In the example program, this would be <em>arr</em> in <em>Main()</em>). The line</p>\n\n<pre><code>**pArray = new int[5] { -3, -1, -2, -3, -4 };   // This change is local.**\n</code></pre>\n\n<p>causes a new array to be created, and pArray is set to be a reference to this new array instead of the <em>arr</em> from <em>Main()</em>.</p>\n\n<p>The program did not print the array lengths out. If it had, the lengths would have been 3, 5, and 3 respectively.</p>\n\n<p>You could try the following:</p>\n\n<pre><code>public class TestPassByRefByVal\n{\n    public static void Change(int[] pArray)\n    {\n        int [] lArray = { -3, -1, -2, -3, -4 };\n        pArray[0] = 888;  // This change affects the original element.\n        pArray = lArray;     // This change is local.\n        System.out.println(\"Inside the method, the first element is: \" + pArray[0]);\n    }\n\n    public static void main(String[]args)\n    {\n        int [] arr = { 1, 4, 5 };\n        System.out.println(\"Inside Main, before Change(), arr[0]: \" + arr[0]);\n\n        Change(arr);\n        System.out.println(\"Inside Main,  after Change(), arr[0]: \" + arr[0]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74039,"reputation":365,"user_id":212949,"display_name":"Steve Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259946956,"creation_date":1259946956,"answer_id":1848396,"question_id":1847915,"body_markdown":"If you want to change the size in java, you might need to use Vector, or ArrayList","title":"How to reinitialize the int array in java","body":"<p>If you want to change the size in java, you might need to use Vector, or ArrayList</p>\n"}],"owner":{"account_id":39037,"reputation":12517,"user_id":112500,"accept_rate":94,"display_name":"Batakj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1847943,"answer_count":6,"score":2,"last_activity_date":1681935556,"creation_date":1259942559,"question_id":1847915,"body_markdown":"    class PassingRefByVal \r\n    {\r\n        static void Change(int[] pArray)\r\n        {\r\n            pArray[0] = 888;  // This change affects the original element.\r\n            pArray = new int[5] {-3, -1, -2, -3, -4};   // This change is local.\r\n            System.Console.WriteLine(&quot;Inside the method, the first element is: {0}&quot;, pArray[0]);\r\n        }\r\n\r\n        static void Main() \r\n        {\r\n            int[] arr = {1, 4, 5};\r\n            System.Console.WriteLine(&quot;Inside Main, before calling the method, the first element is: {0}&quot;, arr [0]);\r\n\r\n            Change(arr);\r\n            System.Console.WriteLine(&quot;Inside Main, after calling the method, the first element is: {0}&quot;, arr [0]);\r\n        }\r\n    }\r\n\r\n\r\nI have to convert this c# program into java language. But this line confuse me\r\n           \r\npArray = new int[5] {-3, -1, -2, -3, -4};   // This change is local.\r\n\r\nHow can i reinitialize the java int array? Thanks for help.  ","title":"How to reinitialize the int array in java","body":"<pre><code>class PassingRefByVal \n{\n    static void Change(int[] pArray)\n    {\n        pArray[0] = 888;  // This change affects the original element.\n        pArray = new int[5] {-3, -1, -2, -3, -4};   // This change is local.\n        System.Console.WriteLine(\"Inside the method, the first element is: {0}\", pArray[0]);\n    }\n\n    static void Main() \n    {\n        int[] arr = {1, 4, 5};\n        System.Console.WriteLine(\"Inside Main, before calling the method, the first element is: {0}\", arr [0]);\n\n        Change(arr);\n        System.Console.WriteLine(\"Inside Main, after calling the method, the first element is: {0}\", arr [0]);\n    }\n}\n</code></pre>\n\n<p>I have to convert this c# program into java language. But this line confuse me</p>\n\n<p>pArray = new int[5] {-3, -1, -2, -3, -4};   // This change is local.</p>\n\n<p>How can i reinitialize the java int array? Thanks for help.  </p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1681929968,"post_id":76057835,"comment_id":134137954,"body_markdown":"you seem to want the average of every subject for every student instead of &quot;average grade in a given subject for all students&quot;. Is that correct?","body":"you seem to want the average of every subject for every student instead of &quot;average grade in a given subject for all students&quot;. Is that correct?"}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681934141,"creation_date":1681930531,"answer_id":76057964,"question_id":76057835,"body_markdown":"As I understood you need a method that`s finds all averages in subjects for student. So you can create method like findAverage:\r\n\r\n  \r\n\r\n     public static Map&lt;String, List&lt;Integer&gt;&gt; findAverage(Map&lt;String, List&lt;Integer&gt;&gt; students){\r\n            return students.entrySet()\r\n                    .stream()\r\n                    .collect(Collectors.toMap(\r\n                            Map.Entry::getKey,\r\n                            entry -&gt; Collections.singletonList(\r\n                                    (int) entry.getValue().stream().mapToInt(Integer::intValue).average().orElse(0)\r\n                            )\r\n                    ));\r\n        }\r\n\r\nThe method returns Map&lt;String, List&lt;Integer&gt;&gt; with value like:\r\n\r\n    {Mathematics=[4], History=[3], Physics=[2]}\r\n\r\nthan you can add it to your collection.\r\n\r\n    Student[] students = {new Student(&quot;Ann&quot;, findAverage(markAnn)),\r\n                    new Student(&quot;Kate&quot;, findAverage(markKate))\r\n            };\r\n\r\nNote that could be some situations when the average could be 4.3 or 3.5. So if you need it. You can change types to double whenever you want by using `mapToDouble()` instead `mapToInt()`","title":"search for the average via streamapi","body":"<p>As I understood you need a method that`s finds all averages in subjects for student. So you can create method like findAverage:</p>\n<pre><code> public static Map&lt;String, List&lt;Integer&gt;&gt; findAverage(Map&lt;String, List&lt;Integer&gt;&gt; students){\n        return students.entrySet()\n                .stream()\n                .collect(Collectors.toMap(\n                        Map.Entry::getKey,\n                        entry -&gt; Collections.singletonList(\n                                (int) entry.getValue().stream().mapToInt(Integer::intValue).average().orElse(0)\n                        )\n                ));\n    }\n</code></pre>\n<p>The method returns Map&lt;String, List&gt; with value like:</p>\n<pre><code>{Mathematics=[4], History=[3], Physics=[2]}\n</code></pre>\n<p>than you can add it to your collection.</p>\n<pre><code>Student[] students = {new Student(&quot;Ann&quot;, findAverage(markAnn)),\n                new Student(&quot;Kate&quot;, findAverage(markKate))\n        };\n</code></pre>\n<p>Note that could be some situations when the average could be 4.3 or 3.5. So if you need it. You can change types to double whenever you want by using <code>mapToDouble()</code> instead <code>mapToInt()</code></p>\n"}],"owner":{"account_id":28352837,"reputation":1,"user_id":21684040,"display_name":"Joe Black"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681934505,"creation_date":1681929437,"question_id":76057835,"body_markdown":"how to use the api stream to find the average grade in a given subject for all students?\r\nAllow in Hashmap&lt;String, String &gt; map\r\n\r\nFor example: `key: &quot;Ann&quot;, value: &quot;Physics 3.5 Math 4.0 History 2.5&quot;`\r\n\r\n```\r\nclass Student {\r\n\r\n    private String name;\r\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\r\n\r\n\r\n    public Student(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\r\n        this.name = name;\r\n        this.marks = marks;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\r\n        return marks;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\n        markAnn.put(&quot;Physics&quot;, List.of(4, 4, 5));\r\n        markAnn.put(&quot;Mathematics&quot;, List.of(2, 3, 4));\r\n        markAnn.put(&quot;History&quot;, List.of(3, 3, 3));\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\n        markKate.put(&quot;Physics&quot;, List.of(1, 2, 3));\r\n        markKate.put(&quot;Mathematics&quot;, List.of(5, 5, 3));\r\n        markKate.put(&quot;History&quot;, List.of(4, 2, 5));\r\n\r\n        Student[] students = {new Student(&quot;Ann&quot;, markAnn),\r\n                new Student(&quot;Kate&quot;, markKate)\r\n        };\r\n    }\r\n}\r\n```\r\n","title":"search for the average via streamapi","body":"<p>how to use the api stream to find the average grade in a given subject for all students?\nAllow in Hashmap&lt;String, String &gt; map</p>\n<p>For example: <code>key: &quot;Ann&quot;, value: &quot;Physics 3.5 Math 4.0 History 2.5&quot;</code></p>\n<pre><code>class Student {\n\n    private String name;\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\n\n\n    public Student(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\n        this.name = name;\n        this.marks = marks;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\n        return marks;\n    }\n\n    public static void main(String[] args) {\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\n        markAnn.put(&quot;Physics&quot;, List.of(4, 4, 5));\n        markAnn.put(&quot;Mathematics&quot;, List.of(2, 3, 4));\n        markAnn.put(&quot;History&quot;, List.of(3, 3, 3));\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\n        markKate.put(&quot;Physics&quot;, List.of(1, 2, 3));\n        markKate.put(&quot;Mathematics&quot;, List.of(5, 5, 3));\n        markKate.put(&quot;History&quot;, List.of(4, 2, 5));\n\n        Student[] students = {new Student(&quot;Ann&quot;, markAnn),\n                new Student(&quot;Kate&quot;, markKate)\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl-certificate","version","sdkman"],"owner":{"account_id":21184435,"reputation":97,"user_id":15578125,"display_name":"Reed M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681934477,"creation_date":1681934477,"question_id":76058398,"body_markdown":"I am trying to add some certs to my java cacerts file, but am consistently getting the error `PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target`, suggesting that the root certs (which I know are correct) are not being read properly.\r\n\r\nThe location where I&#39;m adding the certs is `~/.sdkman/candidates/java/current/jre/lib/security/cacerts`. However, I just tried adding them to the specific current java version (which happens to be 8.0.372-amzn) at `~/.sdkman/candidates/java/8.0.372-amzn/jre/lib/security/cacerts` and now suddenly it&#39;s working without error.\r\n\r\nMy understanding *had* been that putting them in the `java/current/` folder would apply to whatever version of java I was currently using, i.e. it would apply to *all* of my java versions. But evidently that&#39;s not the case.\r\n\r\nI&#39;d like to avoid having to manage certs in every individual java version this way, since we run several different apps that share the same root certs but use different versions of java, or may upgrade versions from time to time. Is there a way to get the `java/current/` folder to behave the way I&#39;m envisioning, or am I misunderstanding its purpose?","title":"The .sdkman/candidates/java/current/ folder cacerts file is not working for certs, but the .sdkman/candidates/java/[version]/ folder does","body":"<p>I am trying to add some certs to my java cacerts file, but am consistently getting the error <code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code>, suggesting that the root certs (which I know are correct) are not being read properly.</p>\n<p>The location where I'm adding the certs is <code>~/.sdkman/candidates/java/current/jre/lib/security/cacerts</code>. However, I just tried adding them to the specific current java version (which happens to be 8.0.372-amzn) at <code>~/.sdkman/candidates/java/8.0.372-amzn/jre/lib/security/cacerts</code> and now suddenly it's working without error.</p>\n<p>My understanding <em>had</em> been that putting them in the <code>java/current/</code> folder would apply to whatever version of java I was currently using, i.e. it would apply to <em>all</em> of my java versions. But evidently that's not the case.</p>\n<p>I'd like to avoid having to manage certs in every individual java version this way, since we run several different apps that share the same root certs but use different versions of java, or may upgrade versions from time to time. Is there a way to get the <code>java/current/</code> folder to behave the way I'm envisioning, or am I misunderstanding its purpose?</p>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1681308119,"post_id":75989851,"comment_id":134035570,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28278402,"reputation":1,"user_id":21620467,"display_name":"Yenn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681933796,"creation_date":1681244448,"question_id":75989851,"body_markdown":"I am working on a bot in Java (JDA) and currently I am working on slash command called slap - I guess it’s well known plug-in. User types /slap @mentionUser and as a reply bot sends embed with text “user slapped user” and some anime gif. I wish for my bot to choose randomly different embeds created by me each time someone use the command. Any ideas? I guess I could do it with Random class, but I am new in Java and wish to get some help with that. \r\n\r\nI just made bot responding with embed, but still didn’t figure it out how to get random embeds. ","title":"How make jda bot respond random embed messages on slash command?","body":"<p>I am working on a bot in Java (JDA) and currently I am working on slash command called slap - I guess it’s well known plug-in. User types /slap @mentionUser and as a reply bot sends embed with text “user slapped user” and some anime gif. I wish for my bot to choose randomly different embeds created by me each time someone use the command. Any ideas? I guess I could do it with Random class, but I am new in Java and wish to get some help with that.</p>\n<p>I just made bot responding with embed, but still didn’t figure it out how to get random embeds.</p>\n"},{"tags":["java","spring-boot","apache-kafka","apache-kafka-streams","spring-cloud-stream"],"comments":[{"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1594931124,"post_id":62884230,"comment_id":111307997,"body_markdown":"It&#39;s weird that using `KSteam#toTable()` changes anything. Can you maybe share the TopologyDescription of both programs to compare them? Could shed some light.","body":"It&#39;s weird that using <code>KSteam#toTable()</code> changes anything. Can you maybe share the TopologyDescription of both programs to compare them? Could shed some light."},{"owner":{"account_id":17141178,"reputation":148,"user_id":12405149,"display_name":"Mario P."},"score":0,"creation_date":1596037886,"post_id":62884230,"comment_id":111683348,"body_markdown":"@MatthiasJ.Sax It turns out that the combination of `KStream#map()` and `KStream#toTable()` is what does the trick when using more than one partition. Just to reiterate, this works as expected with 1 partition, but when we try more than one, it only works if we consume as a KStream then force it to re-partition by mapping the keys/values.","body":"@MatthiasJ.Sax It turns out that the combination of <code>KStream#map()</code> and <code>KStream#toTable()</code> is what does the trick when using more than one partition. Just to reiterate, this works as expected with 1 partition, but when we try more than one, it only works if we consume as a KStream then force it to re-partition by mapping the keys/values."}],"answers":[{"tags":[],"owner":{"account_id":4281050,"reputation":1,"user_id":3500408,"display_name":"user3500408"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1594677770,"creation_date":1594677770,"answer_id":62884971,"question_id":62884230,"body_markdown":"Selecting the key on joined topic might help. Partition configuration of topics should be same.\r\n\r\n```\r\nreturn (topicOne, topicTwo) -&gt;\r\n        topicOne\r\n            .leftJoin(topicTwo,\r\n                value -&gt; MyOtherKey.newBuilder()\r\n                    .setFieldA(value.getFieldA())\r\n                    .setFieldB(value.getFieldB())\r\n                    .build(),\r\n                this::enrich)\r\n            .toStream().selectKey((key, value) -&gt; key);\r\n```","title":"KTable-KTable foreign-key join not producing all messages when topics have more than one partition","body":"<p>Selecting the key on joined topic might help. Partition configuration of topics should be same.</p>\n<pre><code>return (topicOne, topicTwo) -&gt;\n        topicOne\n            .leftJoin(topicTwo,\n                value -&gt; MyOtherKey.newBuilder()\n                    .setFieldA(value.getFieldA())\n                    .setFieldB(value.getFieldB())\n                    .build(),\n                this::enrich)\n            .toStream().selectKey((key, value) -&gt; key);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19071283,"reputation":1,"user_id":13925393,"display_name":"Ashish Chawla"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1594680268,"creation_date":1594678459,"answer_id":62885090,"question_id":62884230,"body_markdown":"This is a strange issue, I have never heard of a number of output topic partitions controlling the data write frequency. However I do know that `toStream()` writes the data to downstream only when the cache is full, so try setting `cache.max.bytes.buffering = 0`. \r\nAlso, KTable keeps only the latest record for each key, so if you have multiple values against the same key, only latest value would stay and be written downstream. ","title":"KTable-KTable foreign-key join not producing all messages when topics have more than one partition","body":"<p>This is a strange issue, I have never heard of a number of output topic partitions controlling the data write frequency. However I do know that <code>toStream()</code> writes the data to downstream only when the cache is full, so try setting <code>cache.max.bytes.buffering = 0</code>.\nAlso, KTable keeps only the latest record for each key, so if you have multiple values against the same key, only latest value would stay and be written downstream.</p>\n"},{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1596405963,"creation_date":1596405963,"answer_id":63221471,"question_id":62884230,"body_markdown":"Given the description of the problem, it seems that the data in the (left) KTable input topic is not correctly partitioned by its key. For a single partitioned topic, well, there is only one partition and all data goes to this one partition and the join result is complete.\r\n\r\nHowever, for a multi-partitioned input topic, you need to ensure that the data is partitioned by key, otherwise, two records with the same key might end up in different partitions and thus the join fails (as the join is done on a per-partition basis).\r\n\r\nNote that even if a foreign-key join does not require that both input topics are co-partitioned, it is still required that each input topic itself is partitioned by its key!\r\n\r\nIf you use a `map().toTable()` you basically trigger an internal repartitioning of the data that ensures that the data gets partitioned by the key, and this fixes the problem.","title":"KTable-KTable foreign-key join not producing all messages when topics have more than one partition","body":"<p>Given the description of the problem, it seems that the data in the (left) KTable input topic is not correctly partitioned by its key. For a single partitioned topic, well, there is only one partition and all data goes to this one partition and the join result is complete.</p>\n<p>However, for a multi-partitioned input topic, you need to ensure that the data is partitioned by key, otherwise, two records with the same key might end up in different partitions and thus the join fails (as the join is done on a per-partition basis).</p>\n<p>Note that even if a foreign-key join does not require that both input topics are co-partitioned, it is still required that each input topic itself is partitioned by its key!</p>\n<p>If you use a <code>map().toTable()</code> you basically trigger an internal repartitioning of the data that ensures that the data gets partitioned by the key, and this fixes the problem.</p>\n"},{"tags":[],"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650792422,"creation_date":1650792422,"answer_id":71987076,"question_id":62884230,"body_markdown":"I had a similar issue. I have two incoming KStreams, which I converted to KTables, and performed a KTable-KTable FK join. Kafka streams produced absolutely no records, the joined were never performed.\r\n\r\n\r\nRepartitioning the KStreams didn&#39;t work for me. Instead I had to manually set the partition size to 1.\r\n\r\nHere&#39;s a stripped down example of what doesn&#39;t work:\r\n\r\n\r\n&lt;sup&gt;Note I&#39;m using Kotlin, with some [extension helper functions](https://github.com/adamko-dev/kotka-streams/)&lt;/sup&gt;\r\n\r\n```kotlin\r\nfun enrichUsersData(\r\n  userDataStream: KStream&lt;UserId, UserData&gt;,\r\n  environmentDataStream: KStream&lt;RealmId, EnvironmentMetaData&gt;,\r\n) {\r\n\r\n  // aggregate all users on a server into an aggregating DTO\r\n  val userDataTable: KTable&lt;ServerId, AggregatedUserData&gt; =\r\n    userDataStream\r\n      .groupBy { _: UserId, userData: UserData -&gt; userData.serverId }\r\n      .aggregate({ AggregatedUserData }) { serverId: ServerId, userData: UserData, usersAggregate: AggregatedUserData -&gt;\r\n        usersAggregate\r\n          .addUserData(userData)\r\n          .setServerId(serverId)\r\n        return@aggregate usersAggregate\r\n      }\r\n\r\n  // convert all incoming environment data into a KTable\r\n  val environmentDataTable: KTable&lt;RealmId, EnvironmentMetaData&gt; =\r\n    environmentDataStream\r\n      .toTable()\r\n\r\n  // Now, try to enrich the user&#39;s data with the environment data\r\n  // the KTable-KTable FK join is correctly configured, but...\r\n  val enrichedUsersData: KTable&lt;ServerId, AggregatedUserData&gt; =\r\n    userDataTable.join(\r\n      other = environmentDataTable,\r\n      tableJoined = tableJoined(&quot;enrich-user-data.join&quot;),\r\n      materialized = materializedAs(\r\n        &quot;enriched-user-data.store&quot;,\r\n        jsonMapper.serde(),\r\n        jsonMapper.serde(),\r\n      ),\r\n      foreignKeyExtractor = { usersData: AggregatedUserData -&gt; usersData.realmId },\r\n    ) { usersData: AggregatedUserData, environmentData: EnvironmentMetaData -&gt;\r\n      usersData.enrichUserData(environmentData)\r\n      // this join is never called!!\r\n      return@join usersData\r\n    }\r\n}\r\n```\r\n\r\nIf I manually set the partition size to 1, then it works.\r\n\r\n```kotlin\r\nfun enrichUsersData(\r\n  userDataStream: KStream&lt;UserId, UserData&gt;,\r\n  environmentDataStream: KStream&lt;RealmId, EnvironmentMetaData&gt;,\r\n) {\r\n\r\n  // manually set the partition size to 1 *before* creating the table\r\n  val userDataTable: KTable&lt;ServerId, AggregatedUserData&gt; =\r\n    userDataStream\r\n      .repartition(\r\n        repartitionedAs(\r\n          &quot;user-data.pre-table-repartition&quot;,\r\n          jsonMapper.serde(),\r\n          jsonMapper.serde(),\r\n          numberOfPartitions = 1,\r\n        )\r\n      )\r\n      .groupBy { _: UserId, userData: UserData -&gt; userData.serverId }\r\n      .aggregate({ AggregatedUserData }) { serverId: ServerId, userData: UserData, usersAggregate: AggregatedUserData -&gt;\r\n        usersAggregate\r\n          .addUserData(userData)\r\n          .setServerId(serverId)\r\n        return@aggregate usersAggregate\r\n      }\r\n\r\n  // again, manually set the partition size to 1 *before* creating the table\r\n  val environmentDataTable: KTable&lt;RealmId, EnvironmentMetaData&gt; =\r\n    environmentDataStream\r\n      .repartition(\r\n        repartitionedAs(\r\n          &quot;environment-metadata.pre-table-repartition&quot;,\r\n          jsonMapper.serde(),\r\n          jsonMapper.serde(),\r\n          numberOfPartitions = 1,\r\n        )\r\n      )\r\n      .toTable()\r\n\r\n  // this join now works as expected!\r\n  val enrichedUsersData: KTable&lt;ServerId, AggregatedUserData&gt; =\r\n    userDataTable.join(\r\n      other = environmentDataTable,\r\n      tableJoined = tableJoined(&quot;enrich-user-data.join&quot;),\r\n      materialized = materializedAs(\r\n        &quot;enriched-user-data.store&quot;,\r\n        jsonMapper.serde(),\r\n        jsonMapper.serde(),\r\n      ),\r\n      foreignKeyExtractor = { usersData: AggregatedUserData -&gt; usersData.realmId },\r\n    ) { usersData: AggregatedUserData, environmentData: EnvironmentMetaData -&gt;\r\n      usersData.enrichUserData(environmentData)\r\n      return@join usersData\r\n    }\r\n}\r\n```","title":"KTable-KTable foreign-key join not producing all messages when topics have more than one partition","body":"<p>I had a similar issue. I have two incoming KStreams, which I converted to KTables, and performed a KTable-KTable FK join. Kafka streams produced absolutely no records, the joined were never performed.</p>\n<p>Repartitioning the KStreams didn't work for me. Instead I had to manually set the partition size to 1.</p>\n<p>Here's a stripped down example of what doesn't work:</p>\n<p><sup>Note I'm using Kotlin, with some <a href=\"https://github.com/adamko-dev/kotka-streams/\" rel=\"nofollow noreferrer\">extension helper functions</a></sup></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun enrichUsersData(\n  userDataStream: KStream&lt;UserId, UserData&gt;,\n  environmentDataStream: KStream&lt;RealmId, EnvironmentMetaData&gt;,\n) {\n\n  // aggregate all users on a server into an aggregating DTO\n  val userDataTable: KTable&lt;ServerId, AggregatedUserData&gt; =\n    userDataStream\n      .groupBy { _: UserId, userData: UserData -&gt; userData.serverId }\n      .aggregate({ AggregatedUserData }) { serverId: ServerId, userData: UserData, usersAggregate: AggregatedUserData -&gt;\n        usersAggregate\n          .addUserData(userData)\n          .setServerId(serverId)\n        return@aggregate usersAggregate\n      }\n\n  // convert all incoming environment data into a KTable\n  val environmentDataTable: KTable&lt;RealmId, EnvironmentMetaData&gt; =\n    environmentDataStream\n      .toTable()\n\n  // Now, try to enrich the user's data with the environment data\n  // the KTable-KTable FK join is correctly configured, but...\n  val enrichedUsersData: KTable&lt;ServerId, AggregatedUserData&gt; =\n    userDataTable.join(\n      other = environmentDataTable,\n      tableJoined = tableJoined(&quot;enrich-user-data.join&quot;),\n      materialized = materializedAs(\n        &quot;enriched-user-data.store&quot;,\n        jsonMapper.serde(),\n        jsonMapper.serde(),\n      ),\n      foreignKeyExtractor = { usersData: AggregatedUserData -&gt; usersData.realmId },\n    ) { usersData: AggregatedUserData, environmentData: EnvironmentMetaData -&gt;\n      usersData.enrichUserData(environmentData)\n      // this join is never called!!\n      return@join usersData\n    }\n}\n</code></pre>\n<p>If I manually set the partition size to 1, then it works.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun enrichUsersData(\n  userDataStream: KStream&lt;UserId, UserData&gt;,\n  environmentDataStream: KStream&lt;RealmId, EnvironmentMetaData&gt;,\n) {\n\n  // manually set the partition size to 1 *before* creating the table\n  val userDataTable: KTable&lt;ServerId, AggregatedUserData&gt; =\n    userDataStream\n      .repartition(\n        repartitionedAs(\n          &quot;user-data.pre-table-repartition&quot;,\n          jsonMapper.serde(),\n          jsonMapper.serde(),\n          numberOfPartitions = 1,\n        )\n      )\n      .groupBy { _: UserId, userData: UserData -&gt; userData.serverId }\n      .aggregate({ AggregatedUserData }) { serverId: ServerId, userData: UserData, usersAggregate: AggregatedUserData -&gt;\n        usersAggregate\n          .addUserData(userData)\n          .setServerId(serverId)\n        return@aggregate usersAggregate\n      }\n\n  // again, manually set the partition size to 1 *before* creating the table\n  val environmentDataTable: KTable&lt;RealmId, EnvironmentMetaData&gt; =\n    environmentDataStream\n      .repartition(\n        repartitionedAs(\n          &quot;environment-metadata.pre-table-repartition&quot;,\n          jsonMapper.serde(),\n          jsonMapper.serde(),\n          numberOfPartitions = 1,\n        )\n      )\n      .toTable()\n\n  // this join now works as expected!\n  val enrichedUsersData: KTable&lt;ServerId, AggregatedUserData&gt; =\n    userDataTable.join(\n      other = environmentDataTable,\n      tableJoined = tableJoined(&quot;enrich-user-data.join&quot;),\n      materialized = materializedAs(\n        &quot;enriched-user-data.store&quot;,\n        jsonMapper.serde(),\n        jsonMapper.serde(),\n      ),\n      foreignKeyExtractor = { usersData: AggregatedUserData -&gt; usersData.realmId },\n    ) { usersData: AggregatedUserData, environmentData: EnvironmentMetaData -&gt;\n      usersData.enrichUserData(environmentData)\n      return@join usersData\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19968656,"reputation":1,"user_id":14634660,"display_name":"Gergely Jahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681933407,"creation_date":1681933407,"answer_id":76058261,"question_id":62884230,"body_markdown":"We had the same issue let me explain the reasons and the fix. We use Debezium as a CDC to process changes in Oracle with Kafka Streams. We use **avro** schemas.\r\n\r\nThe schema generated by Kafka Connect for our CardKey looks like this:\r\n\r\n    {\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;name&quot;: &quot;CardKey&quot;,\r\n        &quot;namespace&quot;: &quot;hu.erste.slcard&quot;,\r\n        &quot;fields&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;NCRD&quot;,\r\n                &quot;type&quot;: [\r\n                    &quot;null&quot;,\r\n                    &quot;string&quot;\r\n                ],\r\n                &quot;default&quot;: null\r\n            }\r\n        ],\r\n        &quot;connect.name&quot;: &quot;hu.erste.slcard.CardKey&quot;\r\n    }\r\n\r\n\r\nIf I hexdump the card topic a record&#39;s key looks like this:\r\n\r\n\r\n&gt;00 00 00 00 **03** 02 20 34  32 38 39 34 32 30 31 30  |...... 428942010|\r\n\r\nIn the AbstractKafkaAvroSerializer class&#39;s serializeImpl() method we can see that the first 0 is constant and that&#39;s followed by the schema id stored on 4 bytes:\r\n\r\nout.write(0);\r\nout.write(ByteBuffer.allocate(4).putInt(id).array());\r\n\r\nWhen Kafka Streams generates internal topics it generates the schema on its own. The above topic should be co-partitioned with the subscription-response topic to let the foreign-key join happen. Learn more on this here:[https://www.confluent.io/blog/data-enrichment-with-kafka-streams-foreign-key-joins/][1]\r\n\r\nLet&#39;s see what Kafka Streams generates for us as a key for subscription-response-topic:\r\n\r\n&gt;00 00 00 00 **0d** 02 20 34  32 38 39 34 32 30 31 30  |...... 428942010|\r\n\r\nIt looks like the schema id is different and when we check the schema we can see why:\r\n\r\n    {\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;name&quot;: &quot;CardKey&quot;,\r\n        &quot;namespace&quot;: &quot;hu.erste.slcard&quot;,\r\n        &quot;fields&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;NCRD&quot;,\r\n                &quot;type&quot;: [\r\n                    &quot;null&quot;,\r\n                    {\r\n                        &quot;type&quot;: &quot;string&quot;,\r\n                        &quot;avro.java.string&quot;: &quot;String&quot;\r\n                    }\r\n                ],\r\n                &quot;default&quot;: null\r\n            }\r\n        ],\r\n        &quot;connect.name&quot;: &quot;hu.erste.slcard.CardKey&quot;\r\n    }\r\n\r\nSo instead of null and string types we have an additional &quot;avro.java.string&quot;: &quot;String&quot;  in the schema. As the schema is different its id will be also different in the schema registry when we register it, therefore the difference in the message keys-&gt; different hashes-&gt; different partitions-&gt; no co-partitioning\r\n\r\nThere is a related opened bug in Avro codebase:\r\nhttps://issues.apache.org/jira/browse/AVRO-2838\r\n\r\nLuckily there is a workaround for this based on this:\r\nhttps://docs.confluent.io/platform/current/schema-registry/fundamentals/serdes-develop/serdes-avro.html#avro-deserializer\r\n\r\n&quot;The avro-maven-plugin generated code adds Java-specific properties such as &quot;avro.java.string&quot;:&quot;String&quot;, which may prevent schema evolution. You can override this by setting avro.remove.java.properties=true in the Avro serializer configurations.&quot;\r\n\r\nAdding the following to the KafkaStreamsConfiguration solves the problem:\r\n\r\nprops.put(AVRO_REMOVE_JAVA_PROPS_CONFIG, true);\r\n\r\nRepartition/map the stream workes as it creates an internal topic with the same key schema as above and that will have the same id as the subscription-response-topic so co-partitioning is not violated.\r\n\r\nChanging the partition number to 1 also works as with 1 partition you&#39;re always co-partitioned.\r\n\r\n\r\n  [1]: https://www.confluent.io/blog/data-enrichment-with-kafka-streams-foreign-key-joins/","title":"KTable-KTable foreign-key join not producing all messages when topics have more than one partition","body":"<p>We had the same issue let me explain the reasons and the fix. We use Debezium as a CDC to process changes in Oracle with Kafka Streams. We use <strong>avro</strong> schemas.</p>\n<p>The schema generated by Kafka Connect for our CardKey looks like this:</p>\n<pre><code>{\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;name&quot;: &quot;CardKey&quot;,\n    &quot;namespace&quot;: &quot;hu.erste.slcard&quot;,\n    &quot;fields&quot;: [\n        {\n            &quot;name&quot;: &quot;NCRD&quot;,\n            &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n            ],\n            &quot;default&quot;: null\n        }\n    ],\n    &quot;connect.name&quot;: &quot;hu.erste.slcard.CardKey&quot;\n}\n</code></pre>\n<p>If I hexdump the card topic a record's key looks like this:</p>\n<blockquote>\n<p>00 00 00 00 <strong>03</strong> 02 20 34  32 38 39 34 32 30 31 30  |...... 428942010|</p>\n</blockquote>\n<p>In the AbstractKafkaAvroSerializer class's serializeImpl() method we can see that the first 0 is constant and that's followed by the schema id stored on 4 bytes:</p>\n<p>out.write(0);\nout.write(ByteBuffer.allocate(4).putInt(id).array());</p>\n<p>When Kafka Streams generates internal topics it generates the schema on its own. The above topic should be co-partitioned with the subscription-response topic to let the foreign-key join happen. Learn more on this here:<a href=\"https://www.confluent.io/blog/data-enrichment-with-kafka-streams-foreign-key-joins/\" rel=\"nofollow noreferrer\">https://www.confluent.io/blog/data-enrichment-with-kafka-streams-foreign-key-joins/</a></p>\n<p>Let's see what Kafka Streams generates for us as a key for subscription-response-topic:</p>\n<blockquote>\n<p>00 00 00 00 <strong>0d</strong> 02 20 34  32 38 39 34 32 30 31 30  |...... 428942010|</p>\n</blockquote>\n<p>It looks like the schema id is different and when we check the schema we can see why:</p>\n<pre><code>{\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;name&quot;: &quot;CardKey&quot;,\n    &quot;namespace&quot;: &quot;hu.erste.slcard&quot;,\n    &quot;fields&quot;: [\n        {\n            &quot;name&quot;: &quot;NCRD&quot;,\n            &quot;type&quot;: [\n                &quot;null&quot;,\n                {\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;avro.java.string&quot;: &quot;String&quot;\n                }\n            ],\n            &quot;default&quot;: null\n        }\n    ],\n    &quot;connect.name&quot;: &quot;hu.erste.slcard.CardKey&quot;\n}\n</code></pre>\n<p>So instead of null and string types we have an additional &quot;avro.java.string&quot;: &quot;String&quot;  in the schema. As the schema is different its id will be also different in the schema registry when we register it, therefore the difference in the message keys-&gt; different hashes-&gt; different partitions-&gt; no co-partitioning</p>\n<p>There is a related opened bug in Avro codebase:\n<a href=\"https://issues.apache.org/jira/browse/AVRO-2838\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/AVRO-2838</a></p>\n<p>Luckily there is a workaround for this based on this:\n<a href=\"https://docs.confluent.io/platform/current/schema-registry/fundamentals/serdes-develop/serdes-avro.html#avro-deserializer\" rel=\"nofollow noreferrer\">https://docs.confluent.io/platform/current/schema-registry/fundamentals/serdes-develop/serdes-avro.html#avro-deserializer</a></p>\n<p>&quot;The avro-maven-plugin generated code adds Java-specific properties such as &quot;avro.java.string&quot;:&quot;String&quot;, which may prevent schema evolution. You can override this by setting avro.remove.java.properties=true in the Avro serializer configurations.&quot;</p>\n<p>Adding the following to the KafkaStreamsConfiguration solves the problem:</p>\n<p>props.put(AVRO_REMOVE_JAVA_PROPS_CONFIG, true);</p>\n<p>Repartition/map the stream workes as it creates an internal topic with the same key schema as above and that will have the same id as the subscription-response-topic so co-partitioning is not violated.</p>\n<p>Changing the partition number to 1 also works as with 1 partition you're always co-partitioned.</p>\n"}],"owner":{"account_id":17141178,"reputation":148,"user_id":12405149,"display_name":"Mario P."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2310,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":63221471,"answer_count":5,"score":8,"last_activity_date":1681933407,"creation_date":1594674255,"question_id":62884230,"body_markdown":"***See Update below to show potential workaround***\r\n\r\nOur application consumes 2 topics as KTables, performs a left join, and outputs to a topic. During testing, we found that this works as expected when our output topic has only 1 partition. When we increase the number of partitions, we notice that the number of messages that get produced to the output topic decreases.\r\n\r\nWe tested this theory with multiple partition configurations prior to starting the app. With 1 partition, we see 100% of the messages. With 2, we see some messages (less than 50%). With 10, we see barely any (less than 10%).\r\n\r\nBecause we are left joining, every single message that is consumed from Topic 1 should get written to our output topic, but we&#39;re finding that this is not happening. It seems like messages are getting stuck in the &quot;intermediate&quot; topics created from the foreign key join of the Ktables, but there are no error messages.\r\n\r\nAny help would be greatly appreciated!\r\n\r\n**Service.java**\r\n```\r\n@Bean\r\npublic BiFunction&lt;KTable&lt;MyKey, MyValue&gt;, KTable&lt;MyOtherKey, MyOtherValue&gt;, KStream&lt;MyKey, MyEnrichedValue&gt;&gt; process() {\r\n\r\n    return (topicOne, topicTwo) -&gt;\r\n            topicOne\r\n                    .leftJoin(topicTwo,\r\n                            value -&gt; MyOtherKey.newBuilder()\r\n                                    .setFieldA(value.getFieldA())\r\n                                    .setFieldB(value.getFieldB())\r\n                                    .build(),\r\n                            this::enrich)\r\n                    .toStream();\r\n}\r\n```\r\n\r\n**build.gradle**\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.3.1.RELEASE&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n\tid &#39;com.commercehub.gradle.plugin.avro&#39; version &#39;0.9.1&#39;\r\n}\r\n\r\n...\r\n\r\next {\r\n\tset(&#39;springCloudVersion&#39;, &quot;Hoxton.SR6&quot;)\r\n}\r\n\r\n...\r\n\r\nimplementation &#39;org.springframework.cloud:spring-cloud-stream-binder-kafka-streams&#39;\r\nimplementation &#39;io.confluent:kafka-streams-avro-serde:5.5.1&#39;\r\n```\r\nNote: We are excluding the org.apache.kafka dependencies due to a bug in the versions included in spring-cloud-stream\r\n\r\n**application.yml**\r\n```\r\nspring:\r\n  application:\r\n    name: app-name\r\n    stream:\r\n      bindings:\r\n        process-in-0:\r\n          destination: topic1\r\n          group: ${spring.application.name}\r\n        process-in-1:\r\n          destination: topic2\r\n          group: ${spring.application.name}\r\n        process-out-0:\r\n          destination: outputTopic\r\n      kafka:\r\n        streams:\r\n          binder:\r\n            applicationId: ${spring.application.name}\r\n            brokers: ${KAFKA_BROKERS}\r\n            configuration:\r\n              commit.interval.ms: 1000\r\n              producer:\r\n                acks: all\r\n                retries: 20\r\n              default:\r\n                key:\r\n                  serde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde\r\n                value:\r\n                  serde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde\r\n            min-partition-count: 2\r\n```\r\n\r\n**Test Scenario:**\r\n\r\nTo provide a concrete example, if I publish the following 3 messages to Topic 1:\r\n\r\n    {&quot;fieldA&quot;: 1, &quot;fieldB&quot;: 1},,{&quot;fieldA&quot;: 1, &quot;fieldB&quot;: 1}\r\n    {&quot;fieldA&quot;: 2, &quot;fieldB&quot;: 2},,{&quot;fieldA&quot;: 2, &quot;fieldB&quot;: 2}\r\n    {&quot;fieldA&quot;: 3, &quot;fieldB&quot;: 3},,{&quot;fieldA&quot;: 3, &quot;fieldB&quot;: 3}\r\n    {&quot;fieldA&quot;: 4, &quot;fieldB&quot;: 4},,{&quot;fieldA&quot;: 4, &quot;fieldB&quot;: 4}\r\n\r\nThe output topic will only receive 2 messages. \r\n\r\n    {&quot;fieldA&quot;: 2, &quot;fieldB&quot;: 2},,{&quot;fieldA&quot;: 2, &quot;fieldB&quot;: 2}\r\n    {&quot;fieldA&quot;: 3, &quot;fieldB&quot;: 3},,{&quot;fieldA&quot;: 3, &quot;fieldB&quot;: 3}\r\n\r\nWhat happened to the other 2? It seems certain key/value pairs are just unable to get written to the output topic. Retrying these &quot;lost&quot; messages does not work either.\r\n\r\n**Update:**\r\n\r\nI was able to get this functioning properly by consuming Topic 1 as a KStream instead of a KTable and calling `toTable()` before going on to do the KTable-KTable join. I am still not sure why my original solution does not work, but hopefully this workaround can shed some light on the actual issue. \r\n\r\n```\r\n@Bean\r\npublic BiFunction&lt;KStream&lt;MyKey, MyValue&gt;, KTable&lt;MyOtherKey, MyOtherValue&gt;, KStream&lt;MyKey, MyEnrichedValue&gt;&gt; process() {\r\n\r\n    return (topicOne, topicTwo) -&gt;\r\n            topicOne\r\n                    .map(...)\r\n                    .toTable()\r\n                    .leftJoin(topicTwo,\r\n                            value -&gt; MyOtherKey.newBuilder()\r\n                                    .setFieldA(value.getFieldA())\r\n                                    .setFieldB(value.getFieldB())\r\n                                    .build(),\r\n                            this::enrich)\r\n                    .toStream();\r\n}\r\n```","title":"KTable-KTable foreign-key join not producing all messages when topics have more than one partition","body":"<p><em><strong>See Update below to show potential workaround</strong></em></p>\n<p>Our application consumes 2 topics as KTables, performs a left join, and outputs to a topic. During testing, we found that this works as expected when our output topic has only 1 partition. When we increase the number of partitions, we notice that the number of messages that get produced to the output topic decreases.</p>\n<p>We tested this theory with multiple partition configurations prior to starting the app. With 1 partition, we see 100% of the messages. With 2, we see some messages (less than 50%). With 10, we see barely any (less than 10%).</p>\n<p>Because we are left joining, every single message that is consumed from Topic 1 should get written to our output topic, but we're finding that this is not happening. It seems like messages are getting stuck in the &quot;intermediate&quot; topics created from the foreign key join of the Ktables, but there are no error messages.</p>\n<p>Any help would be greatly appreciated!</p>\n<p><strong>Service.java</strong></p>\n<pre><code>@Bean\npublic BiFunction&lt;KTable&lt;MyKey, MyValue&gt;, KTable&lt;MyOtherKey, MyOtherValue&gt;, KStream&lt;MyKey, MyEnrichedValue&gt;&gt; process() {\n\n    return (topicOne, topicTwo) -&gt;\n            topicOne\n                    .leftJoin(topicTwo,\n                            value -&gt; MyOtherKey.newBuilder()\n                                    .setFieldA(value.getFieldA())\n                                    .setFieldB(value.getFieldB())\n                                    .build(),\n                            this::enrich)\n                    .toStream();\n}\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.3.1.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'com.commercehub.gradle.plugin.avro' version '0.9.1'\n}\n\n...\n\next {\n    set('springCloudVersion', &quot;Hoxton.SR6&quot;)\n}\n\n...\n\nimplementation 'org.springframework.cloud:spring-cloud-stream-binder-kafka-streams'\nimplementation 'io.confluent:kafka-streams-avro-serde:5.5.1'\n</code></pre>\n<p>Note: We are excluding the org.apache.kafka dependencies due to a bug in the versions included in spring-cloud-stream</p>\n<p><strong>application.yml</strong></p>\n<pre><code>spring:\n  application:\n    name: app-name\n    stream:\n      bindings:\n        process-in-0:\n          destination: topic1\n          group: ${spring.application.name}\n        process-in-1:\n          destination: topic2\n          group: ${spring.application.name}\n        process-out-0:\n          destination: outputTopic\n      kafka:\n        streams:\n          binder:\n            applicationId: ${spring.application.name}\n            brokers: ${KAFKA_BROKERS}\n            configuration:\n              commit.interval.ms: 1000\n              producer:\n                acks: all\n                retries: 20\n              default:\n                key:\n                  serde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde\n                value:\n                  serde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde\n            min-partition-count: 2\n</code></pre>\n<p><strong>Test Scenario:</strong></p>\n<p>To provide a concrete example, if I publish the following 3 messages to Topic 1:</p>\n<pre><code>{&quot;fieldA&quot;: 1, &quot;fieldB&quot;: 1},,{&quot;fieldA&quot;: 1, &quot;fieldB&quot;: 1}\n{&quot;fieldA&quot;: 2, &quot;fieldB&quot;: 2},,{&quot;fieldA&quot;: 2, &quot;fieldB&quot;: 2}\n{&quot;fieldA&quot;: 3, &quot;fieldB&quot;: 3},,{&quot;fieldA&quot;: 3, &quot;fieldB&quot;: 3}\n{&quot;fieldA&quot;: 4, &quot;fieldB&quot;: 4},,{&quot;fieldA&quot;: 4, &quot;fieldB&quot;: 4}\n</code></pre>\n<p>The output topic will only receive 2 messages.</p>\n<pre><code>{&quot;fieldA&quot;: 2, &quot;fieldB&quot;: 2},,{&quot;fieldA&quot;: 2, &quot;fieldB&quot;: 2}\n{&quot;fieldA&quot;: 3, &quot;fieldB&quot;: 3},,{&quot;fieldA&quot;: 3, &quot;fieldB&quot;: 3}\n</code></pre>\n<p>What happened to the other 2? It seems certain key/value pairs are just unable to get written to the output topic. Retrying these &quot;lost&quot; messages does not work either.</p>\n<p><strong>Update:</strong></p>\n<p>I was able to get this functioning properly by consuming Topic 1 as a KStream instead of a KTable and calling <code>toTable()</code> before going on to do the KTable-KTable join. I am still not sure why my original solution does not work, but hopefully this workaround can shed some light on the actual issue.</p>\n<pre><code>@Bean\npublic BiFunction&lt;KStream&lt;MyKey, MyValue&gt;, KTable&lt;MyOtherKey, MyOtherValue&gt;, KStream&lt;MyKey, MyEnrichedValue&gt;&gt; process() {\n\n    return (topicOne, topicTwo) -&gt;\n            topicOne\n                    .map(...)\n                    .toTable()\n                    .leftJoin(topicTwo,\n                            value -&gt; MyOtherKey.newBuilder()\n                                    .setFieldA(value.getFieldA())\n                                    .setFieldB(value.getFieldB())\n                                    .build(),\n                            this::enrich)\n                    .toStream();\n}\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1680605498,"post_id":75928393,"comment_id":133922933,"body_markdown":"`Object genericMapper(Object object)` won&#39;t work because you&#39;d have to at least define the target type you want to get. Also, mapstruct does a lot of compile-time magic so it will need to know which mappers to generate.","body":"<code>Object genericMapper(Object object)</code> won&#39;t work because you&#39;d have to at least define the target type you want to get. Also, mapstruct does a lot of compile-time magic so it will need to know which mappers to generate."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681933256,"creation_date":1681603844,"answer_id":76025327,"question_id":75928393,"body_markdown":"Unfortunately, it is not possible to use MapStruct for this.\r\n\r\nSo if for example you define a generic mapper like that:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface GenericMapper {\r\n    \r\n    \t&lt;SOURCE, TARGET&gt; TARGET toTarget(SOURCE source);\r\n    \t\r\n    }\r\n\r\nor like that:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface GenericMapper&lt;SOURCE, TARGET&gt; {\r\n    \r\n    \tTARGET toTarget(SOURCE source);\r\n    \t\r\n    }\r\n\r\nas soon as you try to build the project, you will get an error:\r\n\r\n**GenericMapper.java: Can&#39;t generate mapping method for a generic type variable source.**\r\n\r\nAs an alternative solution, you can use [BeanUtils][1].\r\n\r\nsee also: \r\n[Copy all values from fields in one class to another through reflection][2]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-beanutils/\r\n  [2]: https://stackoverflow.com/questions/1667854/copy-all-values-from-fields-in-one-class-to-another-through-reflection","title":"Using MapStruct to convert one POJO to another without having to define that implementation","body":"<p>Unfortunately, it is not possible to use MapStruct for this.</p>\n<p>So if for example you define a generic mapper like that:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface GenericMapper {\n\n    &lt;SOURCE, TARGET&gt; TARGET toTarget(SOURCE source);\n    \n}\n</code></pre>\n<p>or like that:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface GenericMapper&lt;SOURCE, TARGET&gt; {\n\n    TARGET toTarget(SOURCE source);\n    \n}\n</code></pre>\n<p>as soon as you try to build the project, you will get an error:</p>\n<p><strong>GenericMapper.java: Can't generate mapping method for a generic type variable source.</strong></p>\n<p>As an alternative solution, you can use <a href=\"https://commons.apache.org/proper/commons-beanutils/\" rel=\"nofollow noreferrer\">BeanUtils</a>.</p>\n<p>see also:\n<a href=\"https://stackoverflow.com/questions/1667854/copy-all-values-from-fields-in-one-class-to-another-through-reflection\">Copy all values from fields in one class to another through reflection</a></p>\n"}],"owner":{"account_id":2206737,"reputation":2452,"user_id":1949771,"accept_rate":60,"display_name":"Nanor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681933256,"creation_date":1680604882,"question_id":75928393,"body_markdown":"Suppose I have any given number of POJOs that all share common, identically named properties. Ideally I&#39;d like to avoid a large interface with multiple mappers defined like\r\n\r\n    DtoA fromBToA(DtoB dtoB)\r\n    DtoB fromAToB(DtoA dtoA)\r\n    DtoC fromAToC(DtoA dtoA)\r\n\r\nfor each of the many POJOs I&#39;ll be dealing with.\r\n\r\nIs it possible to define an interface which will accept any object and return any object? I tried\r\n\r\n    Object genericMapper(Object object)\r\n\r\nThis obviously doesn&#39;t work because it can&#39;t access the properties to generate the code.\r\n\r\nI suppose since MapStruct documentation states:\r\n\r\n&gt;  This implementation uses plain Java method invocations for mapping between source and target objects, i.e. no reflection or similar.\r\n\r\nwhat I&#39;m requesting isn&#39;t possible, but I just thought I&#39;d get closure or if there are any workarounds available.","title":"Using MapStruct to convert one POJO to another without having to define that implementation","body":"<p>Suppose I have any given number of POJOs that all share common, identically named properties. Ideally I'd like to avoid a large interface with multiple mappers defined like</p>\n<pre><code>DtoA fromBToA(DtoB dtoB)\nDtoB fromAToB(DtoA dtoA)\nDtoC fromAToC(DtoA dtoA)\n</code></pre>\n<p>for each of the many POJOs I'll be dealing with.</p>\n<p>Is it possible to define an interface which will accept any object and return any object? I tried</p>\n<pre><code>Object genericMapper(Object object)\n</code></pre>\n<p>This obviously doesn't work because it can't access the properties to generate the code.</p>\n<p>I suppose since MapStruct documentation states:</p>\n<blockquote>\n<p>This implementation uses plain Java method invocations for mapping between source and target objects, i.e. no reflection or similar.</p>\n</blockquote>\n<p>what I'm requesting isn't possible, but I just thought I'd get closure or if there are any workarounds available.</p>\n"},{"tags":["java","spring-boot","csv","initialization"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681856039,"post_id":76046135,"comment_id":134123784,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":21136789,"reputation":21,"user_id":15540106,"display_name":"Crypto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681932690,"creation_date":1681829888,"question_id":76046135,"body_markdown":"I have a large CSV file which contains all the data, I need to create several @Beans based on that file. To be efficient, after reading the file into memory, I want to loop it once (as less as possible) to create all the beans. If I use @Bean on the method, that would cause multiple for-loop because in each method I have to take one loop. Instead, is there a way that I use a standalone method to loop the data once and register all the beans programmatically?\r\n\r\nThis is what I expected, is there a method similar to registerAsBean()?\r\n\r\n```java\r\npublic void processData(List&lt;String[]&gt; data) {\r\n\r\nList&lt;Cat&gt; bean1;\r\nList&lt;Dog&gt; bean2;\r\n\r\nfor (String[] row: data) {\r\n   Cat cat = new Cat(row[0]);\r\n   Dog dog = new Dog(row[1]);\r\n   bean1.add(cat);\r\n   bean2.add(dog);\r\n}\r\n\r\nregisterAsBean(bean1);\r\nregisterAsBean(bean2);\r\n\r\nreturn;\r\n\r\n}\r\n```\r\nThis is a conventional way which takes multiple loops.\r\n```java\r\n@Bean(name=&quot;bean1&quot;)\r\npublic List&lt;Cat&gt; createBean1(List&lt;String[]&gt; data) {\r\n\r\nList&lt;Cat&gt; bean1;\r\n\r\nfor (String[] row: data) {\r\n   Cat cat = new Cat(row[0]);\r\n   bean1.add(cat);\r\n}\r\n\r\nreturn bean1;\r\n\r\n}\r\n\r\n@Bean(name=&quot;bean2&quot;)\r\npublic List&lt;Dog&gt; createBean2(List&lt;String[]&gt; data) {\r\n\r\nList&lt;Dog&gt; bean2;\r\n\r\nfor (String[] row: data) {\r\n   Dog dog = new Dog(row[1]);\r\n   bean2.add(dog);\r\n}\r\n\r\nreturn bean2;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI have tried GenericWebApplicationContext.registerBean() which needs Beans class as param. One of my Bean class is List&lt;CustomClass&gt; so it is not convenient to get the class. \r\n\r\nI expect that in the initializaion of Spring Boot, all the beans could be created as efficient as possible through a large CSV file.","title":"Spring Boot - How to register Bean programmatically and efficiently from a large CSV file (not using @Bean to method)?","body":"<p>I have a large CSV file which contains all the data, I need to create several @Beans based on that file. To be efficient, after reading the file into memory, I want to loop it once (as less as possible) to create all the beans. If I use @Bean on the method, that would cause multiple for-loop because in each method I have to take one loop. Instead, is there a way that I use a standalone method to loop the data once and register all the beans programmatically?</p>\n<p>This is what I expected, is there a method similar to registerAsBean()?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void processData(List&lt;String[]&gt; data) {\n\nList&lt;Cat&gt; bean1;\nList&lt;Dog&gt; bean2;\n\nfor (String[] row: data) {\n   Cat cat = new Cat(row[0]);\n   Dog dog = new Dog(row[1]);\n   bean1.add(cat);\n   bean2.add(dog);\n}\n\nregisterAsBean(bean1);\nregisterAsBean(bean2);\n\nreturn;\n\n}\n</code></pre>\n<p>This is a conventional way which takes multiple loops.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name=&quot;bean1&quot;)\npublic List&lt;Cat&gt; createBean1(List&lt;String[]&gt; data) {\n\nList&lt;Cat&gt; bean1;\n\nfor (String[] row: data) {\n   Cat cat = new Cat(row[0]);\n   bean1.add(cat);\n}\n\nreturn bean1;\n\n}\n\n@Bean(name=&quot;bean2&quot;)\npublic List&lt;Dog&gt; createBean2(List&lt;String[]&gt; data) {\n\nList&lt;Dog&gt; bean2;\n\nfor (String[] row: data) {\n   Dog dog = new Dog(row[1]);\n   bean2.add(dog);\n}\n\nreturn bean2;\n\n}\n\n</code></pre>\n<p>I have tried GenericWebApplicationContext.registerBean() which needs Beans class as param. One of my Bean class is List so it is not convenient to get the class.</p>\n<p>I expect that in the initializaion of Spring Boot, all the beans could be created as efficient as possible through a large CSV file.</p>\n"},{"tags":["java","file-io","pdf-generation","fileoutputstream","pdf-writer"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681935396,"post_id":76058095,"comment_id":134138918,"body_markdown":"Do you need to be using lowagie PdfWriter? See [here](https://stackoverflow.com/a/13515403/12567365) which discusses how that library is an older (_very_ much older) incarnation of what is now upgraded/rewritten as [iText](https://mvnrepository.com/artifact/com.itextpdf/itextpdf).  So, first of all, I&#39;d recommend &quot;upgrading&quot;. If you can.","body":"Do you need to be using lowagie PdfWriter? See <a href=\"https://stackoverflow.com/a/13515403/12567365\">here</a> which discusses how that library is an older (<i>very</i> much older) incarnation of what is now upgraded/rewritten as <a href=\"https://mvnrepository.com/artifact/com.itextpdf/itextpdf\" rel=\"nofollow noreferrer\">iText</a>.  So, first of all, I&#39;d recommend &quot;upgrading&quot;. If you can."},{"owner":{"account_id":5434943,"reputation":187,"user_id":4324702,"accept_rate":40,"display_name":"surm"},"score":0,"creation_date":1681974276,"post_id":76058095,"comment_id":134143520,"body_markdown":"I can try that. New page is not getting created / it is not going into append. @andrewJames","body":"I can try that. New page is not getting created / it is not going into append. @andrewJames"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681997359,"post_id":76058095,"comment_id":134148879,"body_markdown":"Now that you are using iText, have you researched existing iText answers, such as [Editing PDF text using Java](https://stackoverflow.com/q/4131031/12567365), [How to add Content to a PDF using iText PdfStamper](https://stackoverflow.com/q/8176780/12567365), or [iText - add content to existing PDF file](https://stackoverflow.com/q/3335126/12567365) and various other answers? Maybe you can try using those approaches and ask a new, specific question with a [mre] if you get stuck.","body":"Now that you are using iText, have you researched existing iText answers, such as <a href=\"https://stackoverflow.com/q/4131031/12567365\">Editing PDF text using Java</a>, <a href=\"https://stackoverflow.com/q/8176780/12567365\">How to add Content to a PDF using iText PdfStamper</a>, or <a href=\"https://stackoverflow.com/q/3335126/12567365\">iText - add content to existing PDF file</a> and various other answers? Maybe you can try using those approaches and ask a new, specific question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you get stuck."}],"owner":{"account_id":5434943,"reputation":187,"user_id":4324702,"accept_rate":40,"display_name":"surm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681931807,"creation_date":1681931807,"question_id":76058095,"body_markdown":"lowagie PdfWriter is not appending data but overwriting it whenever writeData is called.\r\nHow can we append data?\r\n```\r\nvoid writeData(List&lt;org.bson.Document&gt; item){\r\nboolean isExistingFile = Files.exists(Paths.get(filePath));\r\nFile file = new File(filePath);\r\nPdfPTable table = null;\r\nif (!isExistingFile) {\r\n\twriter = PdfWriter.getInstance(doc, new FileOutputStream(file, true));\r\n\twriter.setPageEvent(reportPdfWriter);\r\n\ttable = new PdfPTable(headerLength);\r\n    // table cell added for each header\r\n\t\t{\ttable.addCell(header); }\r\n}\r\nfor (org.bson.Document d : item) {\r\n\tIterator&lt;Object&gt; itr = d.values().iterator();\r\n\twhile (itr.hasNext()) {\r\n\t\tObject obj = itr.next();\r\n\t\ttable.addCell(String.valueOf(obj));\r\n\t}\r\n}\r\ndoc.open();\r\ndoc.add(table);\r\n}\r\n```","title":"PdfWriter not appending data","body":"<p>lowagie PdfWriter is not appending data but overwriting it whenever writeData is called.\nHow can we append data?</p>\n<pre><code>void writeData(List&lt;org.bson.Document&gt; item){\nboolean isExistingFile = Files.exists(Paths.get(filePath));\nFile file = new File(filePath);\nPdfPTable table = null;\nif (!isExistingFile) {\n    writer = PdfWriter.getInstance(doc, new FileOutputStream(file, true));\n    writer.setPageEvent(reportPdfWriter);\n    table = new PdfPTable(headerLength);\n    // table cell added for each header\n        {   table.addCell(header); }\n}\nfor (org.bson.Document d : item) {\n    Iterator&lt;Object&gt; itr = d.values().iterator();\n    while (itr.hasNext()) {\n        Object obj = itr.next();\n        table.addCell(String.valueOf(obj));\n    }\n}\ndoc.open();\ndoc.add(table);\n}\n</code></pre>\n"},{"tags":["java","akka","akka-typed"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679939606,"post_id":75857454,"comment_id":133807595,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":28139145,"reputation":1,"user_id":21502469,"display_name":"DanisKu"},"score":0,"creation_date":1679946339,"post_id":75857454,"comment_id":133809097,"body_markdown":"I&#39;m try design &quot;flowable style&quot;: findOrSpawn(...).tell(...)","body":"I&#39;m try design &quot;flowable style&quot;: findOrSpawn(...).tell(...)"}],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681931621,"creation_date":1681931621,"answer_id":76058077,"question_id":75857454,"body_markdown":"Assuming that your actor is the only one that will spawn the worker actors (by implication: the workers are local), you don&#39;t need to bother with registering with the receptionist: building a `Map&lt;ServiceKey&lt;Worker.Command&gt;, ActorRef&lt;Worker.Command&gt;&gt;` and saving that in the actor is sufficient.  Then when you need a worker, look up the `ServiceKey` in the `Map`: if there isn&#39;t one, then spawn and save in the actor.  If there&#39;s only one `ServiceKey`, then an `Optional&lt;ActorRef&lt;Worker.Command&gt;&gt;` works.\r\n\r\nAdditionally, if there are multiple workers all doing the same job, [routers][1] may be worth considering: you spawn an actor and send it messages; the actor forwards them to a pool of workers (the behaviors of which are provided by you) which it manages.\r\n\r\n\r\n  [1]: https://doc.akka.io/docs/akka/current/typed/routers.html","title":"How correct find actor or spawn in on place","body":"<p>Assuming that your actor is the only one that will spawn the worker actors (by implication: the workers are local), you don't need to bother with registering with the receptionist: building a <code>Map&lt;ServiceKey&lt;Worker.Command&gt;, ActorRef&lt;Worker.Command&gt;&gt;</code> and saving that in the actor is sufficient.  Then when you need a worker, look up the <code>ServiceKey</code> in the <code>Map</code>: if there isn't one, then spawn and save in the actor.  If there's only one <code>ServiceKey</code>, then an <code>Optional&lt;ActorRef&lt;Worker.Command&gt;&gt;</code> works.</p>\n<p>Additionally, if there are multiple workers all doing the same job, <a href=\"https://doc.akka.io/docs/akka/current/typed/routers.html\" rel=\"nofollow noreferrer\">routers</a> may be worth considering: you spawn an actor and send it messages; the actor forwards them to a pool of workers (the behaviors of which are provided by you) which it manages.</p>\n"}],"owner":{"account_id":28139145,"reputation":1,"user_id":21502469,"display_name":"DanisKu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681931621,"creation_date":1679930033,"question_id":75857454,"body_markdown":"I&#39;m try use akka-typed in homepet project, but don&#39;t know how correct find actor or spawn and send message.\r\nMy first try: wrapped &quot;listing&quot; from receptionist and send over adapter - very wordy and need always wear command for actor\r\nSecond try: create function &quot;tellToXXX&quot;\r\n\r\n```\r\nprivate Behavior&lt;Command&gt; tellToWorker(ServiceKey&lt;Worker.Command&gt; serviceKey, Worker.Command command) {\r\n    record WrappedFindResult(Receptionist.Listing listing, Throwable failure) implements Command {\r\n    }\r\n\r\n    var system = getContext().getSystem();\r\n    getContext().pipeToSelf(\r\n            AskPattern.ask(\r\n                    system.receptionist(),\r\n                    replyTo -&gt; Receptionist.find(serviceKey, replyTo),\r\n                    Duration.ofSeconds(1),\r\n                    system.scheduler()),\r\n            WrappedFindResult::new);\r\n\r\n    return Behaviors.receive(Command.class)\r\n            .onMessage(WrappedFindResult.class, result -&gt; {\r\n                result.listing().getServiceInstances(serviceKey).stream().findFirst()\r\n                        .orElseGet(() -&gt; getContext().spawnAnonymous(Worker.create()))\r\n                        .tell(command);\r\n\r\n                return this;\r\n            }).build();\r\n}\r\n\r\n```\r\nhow correct this?\r\nthx\r\n\r\n","title":"How correct find actor or spawn in on place","body":"<p>I'm try use akka-typed in homepet project, but don't know how correct find actor or spawn and send message.\nMy first try: wrapped &quot;listing&quot; from receptionist and send over adapter - very wordy and need always wear command for actor\nSecond try: create function &quot;tellToXXX&quot;</p>\n<pre><code>private Behavior&lt;Command&gt; tellToWorker(ServiceKey&lt;Worker.Command&gt; serviceKey, Worker.Command command) {\n    record WrappedFindResult(Receptionist.Listing listing, Throwable failure) implements Command {\n    }\n\n    var system = getContext().getSystem();\n    getContext().pipeToSelf(\n            AskPattern.ask(\n                    system.receptionist(),\n                    replyTo -&gt; Receptionist.find(serviceKey, replyTo),\n                    Duration.ofSeconds(1),\n                    system.scheduler()),\n            WrappedFindResult::new);\n\n    return Behaviors.receive(Command.class)\n            .onMessage(WrappedFindResult.class, result -&gt; {\n                result.listing().getServiceInstances(serviceKey).stream().findFirst()\n                        .orElseGet(() -&gt; getContext().spawnAnonymous(Worker.create()))\n                        .tell(command);\n\n                return this;\n            }).build();\n}\n\n</code></pre>\n<p>how correct this?\nthx</p>\n"},{"tags":["java","sql","oracle"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1681930239,"post_id":76057884,"comment_id":134138016,"body_markdown":"You should provide the code to reproduce the error. Kindly read https://stackoverflow.com/help/how-to-ask","body":"You should provide the code to reproduce the error. Kindly read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1681931313,"post_id":76057884,"comment_id":134138210,"body_markdown":"this has nothing to do with postman.","body":"this has nothing to do with postman."},{"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"score":0,"creation_date":1682284446,"post_id":76057884,"comment_id":134187111,"body_markdown":"Please provide the error! We can&#39;t help if you don&#39;t show us what happens when you run your code.","body":"Please provide the error! We can&#39;t help if you don&#39;t show us what happens when you run your code."}],"answers":[{"tags":[],"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681931539,"creation_date":1681931539,"answer_id":76058071,"question_id":76057884,"body_markdown":"You can&#39;t do this:\r\n\r\n          AND (\r\n                SELECT \r\n                  CHP.CRI_KEY_PARENT \r\n                FROM \r\n                  S4C_CRITERIA_HERITANCE CHP \r\n                WHERE \r\n                  CHP.CRI_KEY_CHILD = CRI.CRI_KEY\r\n              ) IN (\r\n                SELECT \r\n                  CBB.CRI_KEY \r\n                FROM \r\n                  S4C_CRITERIA CBB \r\n                WHERE \r\n                  CBB.SPRM_KEY = P.SPRM_PARENT_KEY\r\n              )\r\n\r\nThe left side of the IN operator expects a scalar, and you are providing a subquery that is apparently returning multiple rows.\r\n\r\nYou will need to combine these two queries into one:\r\n\r\n      AND EXISTS (\r\n            SELECT *\r\n              FROM S4C_CRITERIA_HERITANCE CHP ,\r\n                   S4C_CRITERIA CBB\r\n             WHERE CHP.CRI_KEY_CHILD = CRI.CRI_KEY\r\n               AND CBB.CRI_KEY = CHP.CRI_KEY_PARENT \r\n               AND CBB.SPRM_KEY = P.SPRM_PARENT_KEY\r\n            )","title":"single-row subquery returns more than one row with multiple OR","body":"<p>You can't do this:</p>\n<pre><code>      AND (\n            SELECT \n              CHP.CRI_KEY_PARENT \n            FROM \n              S4C_CRITERIA_HERITANCE CHP \n            WHERE \n              CHP.CRI_KEY_CHILD = CRI.CRI_KEY\n          ) IN (\n            SELECT \n              CBB.CRI_KEY \n            FROM \n              S4C_CRITERIA CBB \n            WHERE \n              CBB.SPRM_KEY = P.SPRM_PARENT_KEY\n          )\n</code></pre>\n<p>The left side of the IN operator expects a scalar, and you are providing a subquery that is apparently returning multiple rows.</p>\n<p>You will need to combine these two queries into one:</p>\n<pre><code>  AND EXISTS (\n        SELECT *\n          FROM S4C_CRITERIA_HERITANCE CHP ,\n               S4C_CRITERIA CBB\n         WHERE CHP.CRI_KEY_CHILD = CRI.CRI_KEY\n           AND CBB.CRI_KEY = CHP.CRI_KEY_PARENT \n           AND CBB.SPRM_KEY = P.SPRM_PARENT_KEY\n        )\n</code></pre>\n"}],"owner":{"account_id":28352880,"reputation":1,"user_id":21684079,"display_name":"AEL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76058071,"answer_count":1,"score":-2,"last_activity_date":1681931539,"creation_date":1681929904,"question_id":76057884,"body_markdown":" I got this error while using multiple looped OR : single-row subquery returns more than one row, \r\n\r\nThe error only occurs via postman (maybe related to hibernate), the query works in oracle sql develoer\r\n\r\n My request : \r\n```\r\n\r\nWITH SPRM_TABLE AS (\r\n  SELECT \r\n    DISTINCT P.SPRM_KEY, \r\n    P.SPRM_PARENT_KEY AS PARENTS, \r\n    P.CPRM_KEY, \r\n    P.SPRM_PARENT_KEY \r\n  FROM \r\n    S4C_SUB_PERIMETER P \r\n    INNER JOIN S4C_CRITERIA CRI ON CRI.SPRM_KEY = P.SPRM_KEY \r\n  WHERE \r\n    (\r\n      (\r\n        CRI.CRI_TYPE = &#39;OFFER&#39; \r\n        AND CRI.CRI_VALUE = &#39;BUSINESS_ETHERNET&#39;\r\n      )\r\n    ) \r\n    or (\r\n      (\r\n        P.SPRM_PARENT_KEY IS NULL \r\n        OR (\r\n          CRI.CRI_TYPE IN (\r\n            &#39;SATIN_ACCOUNT&#39;, &#39;SATIN_SUBACCOUNT&#39;, \r\n            &#39;IDENT_RCE&#39;, &#39;ICO1&#39;\r\n          ) \r\n          AND (\r\n            SELECT \r\n              CHP.CRI_KEY_PARENT \r\n            FROM \r\n              S4C_CRITERIA_HERITANCE CHP \r\n            WHERE \r\n              CHP.CRI_KEY_CHILD = CRI.CRI_KEY\r\n          ) IN (\r\n            SELECT \r\n              CBB.CRI_KEY \r\n            FROM \r\n              S4C_CRITERIA CBB \r\n            WHERE \r\n              CBB.SPRM_KEY = P.SPRM_PARENT_KEY\r\n          )\r\n        )\r\n      ) \r\n      AND (\r\n        (\r\n          CRI.CRI_TYPE = &#39;IDENT&#39; \r\n          AND CRI.CRI_VALUE = &#39;00010525&#39;\r\n        )\r\n      )\r\n    )\r\n) \r\nSELECT \r\n  DISTINCT CPRM.CPRM_KEY AS PRM_ID, \r\n  &#39;CLIENT&#39; AS PRM_TYPE \r\nFROM \r\n  CPRM_TABLE CPRM \r\nUNION ALL \r\nSELECT \r\n  DISTINCT PRM.SPRM_KEY AS PRM_ID, \r\n  &#39;SUB&#39; AS PRM_TYPE \r\nFROM \r\n  SPRM_TABLE PRM START WITH PRM.SPRM_PARENT_KEY IS NULL \r\n  AND PRM.CPRM_KEY IN (\r\n    SELECT \r\n      CLI_PRM.CPRM_KEY \r\n    FROM \r\n      CPRM_TABLE CLI_PRM\r\n  ) CONNECT BY PRIOR PRM.SPRM_KEY = PRM.SPRM_PARENT_KEY\r\n```\r\n\r\n\r\n\r\nIf Someone could help please? and if someone could explain why does this works in Oracle sql develper but not in java code with hibernate?","title":"single-row subquery returns more than one row with multiple OR","body":"<p>I got this error while using multiple looped OR : single-row subquery returns more than one row,</p>\n<p>The error only occurs via postman (maybe related to hibernate), the query works in oracle sql develoer</p>\n<p>My request :</p>\n<pre><code>\nWITH SPRM_TABLE AS (\n  SELECT \n    DISTINCT P.SPRM_KEY, \n    P.SPRM_PARENT_KEY AS PARENTS, \n    P.CPRM_KEY, \n    P.SPRM_PARENT_KEY \n  FROM \n    S4C_SUB_PERIMETER P \n    INNER JOIN S4C_CRITERIA CRI ON CRI.SPRM_KEY = P.SPRM_KEY \n  WHERE \n    (\n      (\n        CRI.CRI_TYPE = 'OFFER' \n        AND CRI.CRI_VALUE = 'BUSINESS_ETHERNET'\n      )\n    ) \n    or (\n      (\n        P.SPRM_PARENT_KEY IS NULL \n        OR (\n          CRI.CRI_TYPE IN (\n            'SATIN_ACCOUNT', 'SATIN_SUBACCOUNT', \n            'IDENT_RCE', 'ICO1'\n          ) \n          AND (\n            SELECT \n              CHP.CRI_KEY_PARENT \n            FROM \n              S4C_CRITERIA_HERITANCE CHP \n            WHERE \n              CHP.CRI_KEY_CHILD = CRI.CRI_KEY\n          ) IN (\n            SELECT \n              CBB.CRI_KEY \n            FROM \n              S4C_CRITERIA CBB \n            WHERE \n              CBB.SPRM_KEY = P.SPRM_PARENT_KEY\n          )\n        )\n      ) \n      AND (\n        (\n          CRI.CRI_TYPE = 'IDENT' \n          AND CRI.CRI_VALUE = '00010525'\n        )\n      )\n    )\n) \nSELECT \n  DISTINCT CPRM.CPRM_KEY AS PRM_ID, \n  'CLIENT' AS PRM_TYPE \nFROM \n  CPRM_TABLE CPRM \nUNION ALL \nSELECT \n  DISTINCT PRM.SPRM_KEY AS PRM_ID, \n  'SUB' AS PRM_TYPE \nFROM \n  SPRM_TABLE PRM START WITH PRM.SPRM_PARENT_KEY IS NULL \n  AND PRM.CPRM_KEY IN (\n    SELECT \n      CLI_PRM.CPRM_KEY \n    FROM \n      CPRM_TABLE CLI_PRM\n  ) CONNECT BY PRIOR PRM.SPRM_KEY = PRM.SPRM_PARENT_KEY\n</code></pre>\n<p>If Someone could help please? and if someone could explain why does this works in Oracle sql develper but not in java code with hibernate?</p>\n"},{"tags":["java","algorithm","depth-first-search"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1681228053,"post_id":75987782,"comment_id":134021096,"body_markdown":"&quot;*Problem is this code is not correct and is not giving the required correct result*&quot; Give us a sample input. Tell us the expected result and the actual result. That both allows us to reproduce exactly what you&#39;re doing, and avoids the possibility that it&#39;s not the code, but *your expectations* that are wrong.","body":"&quot;<i>Problem is this code is not correct and is not giving the required correct result</i>&quot; Give us a sample input. Tell us the expected result and the actual result. That both allows us to reproduce exactly what you&#39;re doing, and avoids the possibility that it&#39;s not the code, but <i>your expectations</i> that are wrong."},{"owner":{"account_id":1737868,"reputation":2807,"user_id":1590011,"accept_rate":91,"display_name":"John Doe"},"score":0,"creation_date":1681228411,"post_id":75987782,"comment_id":134021180,"body_markdown":"Agreed, and those things are now added in the question. Please see and let me know any other shortcomings, thanks.","body":"Agreed, and those things are now added in the question. Please see and let me know any other shortcomings, thanks."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1681229338,"post_id":75987782,"comment_id":134021396,"body_markdown":"Please see [mcve], emphasis on *minimal*.","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, emphasis on <i>minimal</i>."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1681229916,"post_id":75987782,"comment_id":134021524,"body_markdown":"Note that the linked problem is behind a subscription wall.","body":"Note that the linked problem is behind a subscription wall."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":3,"creation_date":1681231033,"post_id":75987782,"comment_id":134021817,"body_markdown":"DFS is not appropriate for this problem.  You should use BFS to find the distance to each cell from a gate.","body":"DFS is not appropriate for this problem.  You should use BFS to find the distance to each cell from a gate."},{"owner":{"account_id":1737868,"reputation":2807,"user_id":1590011,"accept_rate":91,"display_name":"John Doe"},"score":0,"creation_date":1681231659,"post_id":75987782,"comment_id":134021982,"body_markdown":"@MattTimmermans that would be easier, yes I agree, but we can use DFS, I mean in principle, may not be super efficient, the count value would decrement when we backtrack in DFS and the cells should be having an appropriate value!! \nPlease correct me if I am wrong!!","body":"@MattTimmermans that would be easier, yes I agree, but we can use DFS, I mean in principle, may not be super efficient, the count value would decrement when we backtrack in DFS and the cells should be having an appropriate value!!  Please correct me if I am wrong!!"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":3,"creation_date":1681231857,"post_id":75987782,"comment_id":134022014,"body_markdown":"Yes, you are wrong.  A &quot;distance&quot; is a shortest path length.  BFS follows shortest paths.  DFS does not.","body":"Yes, you are wrong.  A &quot;distance&quot; is a shortest path length.  BFS follows shortest paths.  DFS does not."},{"owner":{"account_id":1737868,"reputation":2807,"user_id":1590011,"accept_rate":91,"display_name":"John Doe"},"score":0,"creation_date":1681232018,"post_id":75987782,"comment_id":134022058,"body_markdown":"So the count values in the above algorithm will not be giving us the correct distance of the cell from the gate cell. Hmm...\nIs this the logical flaw in my solution?","body":"So the count values in the above algorithm will not be giving us the correct distance of the cell from the gate cell. Hmm... Is this the logical flaw in my solution?"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681798927,"creation_date":1681676703,"answer_id":76030150,"question_id":75987782,"body_markdown":"Your mistake is you are marking the room as seen before figuring out whether you have found shortest path or not:\r\n\r\n```\r\n    private void visitRommsDFS(int[][] rooms, int row, int col, int count, boolean[][] roomsBool){\r\n        if(... roomsBool[row][col] == true ...) {\r\n            return;\r\n        }\r\n        if(rooms[row][col] &gt; 0){\r\n            rooms[row][col] = Math.min(rooms[row][col], count);\r\n        }\r\n        roomsBool[row][col] = true;\r\n        // 1\r\n        visitRommsDFS(rooms, row-1, col, count + 1, roomsBool);\r\n        // 2\r\n        visitRommsDFS(rooms, row+1, col, count + 1, roomsBool);\r\n        // 3\r\n        visitRommsDFS(rooms, row, col+1, count + 1, roomsBool);\r\n        // 4\r\n        visitRommsDFS(rooms, row, col-1, count + 1, roomsBool);\r\n    }\r\n```\r\n\r\ni.e. call(1) is poisoning all reachable cells in `roomsBool` with `true` value, and, so, calls (2), (3) and (4) might have no effect.\r\n\r\n\r\nQuick fix is to revert `roomsBool` state back at the end of `visitRommsDFS` call:\r\n\r\n```java\r\nroomsBool[row][col] = true;\r\nvisitRommsDFS(rooms, row - 1, col, count + 1, roomsBool);\r\nvisitRommsDFS(rooms, row + 1, col, count + 1, roomsBool);\r\nvisitRommsDFS(rooms, row, col + 1, count + 1, roomsBool);\r\nvisitRommsDFS(rooms, row, col - 1, count + 1, roomsBool);\r\nroomsBool[row][col] = false;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nWell... I&#39;m actually not sure it is worth trying optimize that puzzle without relevant test data, by the way...\r\n\r\nyour current algorithm is: let find all rooms with gates and traverse all rooms reachable from particular gate, time complexity for such naive algorithm is obviously *worse than* `O(MxNxG)`, the best you can get here is to stop traversing rooms if room is closer to &quot;another&quot; gate rather than to the current one, something like:\r\n\r\n```java\r\npublic static final int[][] DIRS = new int[][]{new int[]{-1, 0}, new int[]{1, 0}, new int[]{0, -1}, new int[]{0, 1}};\r\n\r\npublic void wallsAndGates(int[][] rooms) {\r\n    for (int i = 0; i &lt; rooms.length; ++i) {\r\n        for (int j = 0; j &lt; rooms[i].length; ++j) {\r\n            if (rooms[i][j] == 0) {\r\n                visitRoomsDFS(rooms, i, j);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nprivate void visitRoomsDFS(int[][] rooms, int row, int col) {\r\n    int distance = rooms[row][col] + 1;\r\n    for (int[] dir : DIRS) {\r\n        int r = row + dir[0];\r\n        int c = col + dir[1];\r\n        if (r &lt; 0 || c &lt; 0 || r &gt;= rooms.length || c &gt;= rooms[row].length) {\r\n            continue;\r\n        }\r\n        // optimization: &quot;have seen better&quot; or not a room\r\n        if (rooms[r][c] &lt;= distance) {\r\n            continue;\r\n        }\r\n        rooms[r][c] = distance;\r\n        visitRoomsDFS(rooms, r, c);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever, I believe that even with such optimization the time complexity is still *not better than* `O(MxNxG)`, on the other hand the *theoretical* time complexity for this puzzle should not be better than `O(MxN)` - we need to traverse all rooms anyway, and the problem is the algorithm with `O(MxN)` time complexity does exist:\r\n\r\n\r\nthe main idea is to traverse rooms in very specific order:\r\n- at first we traverse gates\r\n- at second we traverse gate&#39;s neighbours - such rooms either have distance `1` to some gate or are the walls or we have seen them before\r\n- at third we traverse all neighbours of rooms having distance `1` to some gate - such rooms either have distance `2` to some gate or are the walls or we have seen them before.\r\n- etc\r\n\r\n```java\r\npublic static final int[][] DIRS = new int[][]{new int[]{-1, 0}, new int[]{1, 0}, new int[]{0, -1}, new int[]{0, 1}};\r\n\r\npublic void wallsAndGates(int[][] rooms) {\r\n    int rows = rooms.length;\r\n    int cols = rooms[0].length;\r\n    Deque&lt;int[]&gt; deque = new LinkedList&lt;&gt;();\r\n    for (int i = 0; i &lt; rows; ++i) {\r\n        for (int j = 0; j &lt; cols; ++j) {\r\n            if (rooms[i][j] == 0) {\r\n                deque.add(new int[]{i, j});\r\n            }\r\n        }\r\n    }\r\n    int[] room;\r\n    while ((room = deque.pollFirst()) != null) {\r\n        int distance = rooms[room[0]][room[1]] + 1;\r\n        for (int[] dir : DIRS) {\r\n            int r = room[0] + dir[0];\r\n            int c = room[1] + dir[1];\r\n            if (r &lt; 0 || c &lt; 0 || r &gt;= rows || c &gt;= cols) {\r\n                continue;\r\n            }\r\n            // ignoring walls and rooms\r\n            // seen previously\r\n            if (rooms[r][c] &gt; distance) {\r\n                rooms[r][c] = distance;\r\n                deque.addLast(new int[]{r, c});\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"What should I do to improve the DFS Java implementation, to solve the problem?","body":"<p>Your mistake is you are marking the room as seen before figuring out whether you have found shortest path or not:</p>\n<pre><code>    private void visitRommsDFS(int[][] rooms, int row, int col, int count, boolean[][] roomsBool){\n        if(... roomsBool[row][col] == true ...) {\n            return;\n        }\n        if(rooms[row][col] &gt; 0){\n            rooms[row][col] = Math.min(rooms[row][col], count);\n        }\n        roomsBool[row][col] = true;\n        // 1\n        visitRommsDFS(rooms, row-1, col, count + 1, roomsBool);\n        // 2\n        visitRommsDFS(rooms, row+1, col, count + 1, roomsBool);\n        // 3\n        visitRommsDFS(rooms, row, col+1, count + 1, roomsBool);\n        // 4\n        visitRommsDFS(rooms, row, col-1, count + 1, roomsBool);\n    }\n</code></pre>\n<p>i.e. call(1) is poisoning all reachable cells in <code>roomsBool</code> with <code>true</code> value, and, so, calls (2), (3) and (4) might have no effect.</p>\n<p>Quick fix is to revert <code>roomsBool</code> state back at the end of <code>visitRommsDFS</code> call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>roomsBool[row][col] = true;\nvisitRommsDFS(rooms, row - 1, col, count + 1, roomsBool);\nvisitRommsDFS(rooms, row + 1, col, count + 1, roomsBool);\nvisitRommsDFS(rooms, row, col + 1, count + 1, roomsBool);\nvisitRommsDFS(rooms, row, col - 1, count + 1, roomsBool);\nroomsBool[row][col] = false;\n</code></pre>\n<hr />\n<p>Well... I'm actually not sure it is worth trying optimize that puzzle without relevant test data, by the way...</p>\n<p>your current algorithm is: let find all rooms with gates and traverse all rooms reachable from particular gate, time complexity for such naive algorithm is obviously <em>worse than</em> <code>O(MxNxG)</code>, the best you can get here is to stop traversing rooms if room is closer to &quot;another&quot; gate rather than to the current one, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int[][] DIRS = new int[][]{new int[]{-1, 0}, new int[]{1, 0}, new int[]{0, -1}, new int[]{0, 1}};\n\npublic void wallsAndGates(int[][] rooms) {\n    for (int i = 0; i &lt; rooms.length; ++i) {\n        for (int j = 0; j &lt; rooms[i].length; ++j) {\n            if (rooms[i][j] == 0) {\n                visitRoomsDFS(rooms, i, j);\n            }\n        }\n    }\n}\n\nprivate void visitRoomsDFS(int[][] rooms, int row, int col) {\n    int distance = rooms[row][col] + 1;\n    for (int[] dir : DIRS) {\n        int r = row + dir[0];\n        int c = col + dir[1];\n        if (r &lt; 0 || c &lt; 0 || r &gt;= rooms.length || c &gt;= rooms[row].length) {\n            continue;\n        }\n        // optimization: &quot;have seen better&quot; or not a room\n        if (rooms[r][c] &lt;= distance) {\n            continue;\n        }\n        rooms[r][c] = distance;\n        visitRoomsDFS(rooms, r, c);\n    }\n\n}\n</code></pre>\n<p>However, I believe that even with such optimization the time complexity is still <em>not better than</em> <code>O(MxNxG)</code>, on the other hand the <em>theoretical</em> time complexity for this puzzle should not be better than <code>O(MxN)</code> - we need to traverse all rooms anyway, and the problem is the algorithm with <code>O(MxN)</code> time complexity does exist:</p>\n<p>the main idea is to traverse rooms in very specific order:</p>\n<ul>\n<li>at first we traverse gates</li>\n<li>at second we traverse gate's neighbours - such rooms either have distance <code>1</code> to some gate or are the walls or we have seen them before</li>\n<li>at third we traverse all neighbours of rooms having distance <code>1</code> to some gate - such rooms either have distance <code>2</code> to some gate or are the walls or we have seen them before.</li>\n<li>etc</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int[][] DIRS = new int[][]{new int[]{-1, 0}, new int[]{1, 0}, new int[]{0, -1}, new int[]{0, 1}};\n\npublic void wallsAndGates(int[][] rooms) {\n    int rows = rooms.length;\n    int cols = rooms[0].length;\n    Deque&lt;int[]&gt; deque = new LinkedList&lt;&gt;();\n    for (int i = 0; i &lt; rows; ++i) {\n        for (int j = 0; j &lt; cols; ++j) {\n            if (rooms[i][j] == 0) {\n                deque.add(new int[]{i, j});\n            }\n        }\n    }\n    int[] room;\n    while ((room = deque.pollFirst()) != null) {\n        int distance = rooms[room[0]][room[1]] + 1;\n        for (int[] dir : DIRS) {\n            int r = room[0] + dir[0];\n            int c = room[1] + dir[1];\n            if (r &lt; 0 || c &lt; 0 || r &gt;= rows || c &gt;= cols) {\n                continue;\n            }\n            // ignoring walls and rooms\n            // seen previously\n            if (rooms[r][c] &gt; distance) {\n                rooms[r][c] = distance;\n                deque.addLast(new int[]{r, c});\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1737868,"reputation":2807,"user_id":1590011,"accept_rate":91,"display_name":"John Doe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681931316,"creation_date":1681818181,"answer_id":76044163,"question_id":75987782,"body_markdown":"The answer given by @Andrey B. Panfilov is correct, but the implementation provided, idea wise, is not very distinct from what I have done, apart from, of course, the mistake that I was doing of, not backtracking correctly, by not marking the auxiliary boolean array cell value as false again, at the end, it should be done precisely at the end of all traversals on all of the various sides.\r\n\r\n    roomsBool[row][col] = false;\r\n\r\nThis above step is crucial, to backtrack.\r\n\r\nAlso, just one check that the rooms[row][col] is less than count :-\r\n\r\n    if(rooms[row][col] &lt; count) {\r\n      rooms[row][col] = count;\r\n    }\r\n\r\nwon&#39;t guarantee that the smallest value is being stored in that cell, we must let recursion decide this, that which one is the shortest path, this will be done when we recurse to the cell from the various directions, and to enable recursion do that, that is allow it to come from the various sides to the cell under consideration, we must make \r\n\r\n    roomsBool[row][col] = false;\r\n\r\nafter traversing in all 4 directions.\r\n\r\n\r\n\r\nAnd the optimization suggested, can be easily incorporated in my solution as well.\r\nHere is the complete working solution.\r\n\r\n \r\n\r\n \r\n\r\n      class Solution {\r\n        public void wallsAndGates(int[][] rooms) {\r\n    \r\n            boolean[][] roomsBool = new boolean[rooms.length][rooms[0].length];\r\n    \r\n            for(int i = 0; i &lt; rooms.length; ++i){\r\n                for(int j = 0; j &lt; rooms[i].length; ++j){\r\n                    if(rooms[i][j] == 0){\r\n                        //if it is a gate we will do a DFS and fill the cells with the appropriate values.\r\n                        visitRommsDFS(rooms, i, j, 0, roomsBool);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void visitRommsDFS(int[][] rooms, int row, int col, int count, boolean[][] roomsBool){\r\n            if(row &lt; 0 || row &gt;= rooms.length || col &lt; 0 || col &gt;= rooms[row].length || rooms[row][col] == -1 || rooms[row][col] == 0 &amp;&amp; count &gt; 0) return;\r\n    \r\n            rooms[row][col] =  count;\r\n            roomsBool[row][col] = true;\r\n    \r\n            if(row &gt; 0 &amp;&amp; rooms[row-1][col] &gt; count + 1)\r\n              visitRommsDFS(rooms, row-1, col, count + 1, roomsBool);\r\n    \r\n            if(row + 1 &lt; rooms.length &amp;&amp; rooms[row+1][col] &gt; count + 1)  \r\n              visitRommsDFS(rooms, row+1, col, count + 1, roomsBool);\r\n    \r\n            if(col + 1 &lt; rooms[row].length &amp;&amp; rooms[row][col + 1] &gt; count + 1)  \r\n              visitRommsDFS(rooms, row, col+1, count + 1, roomsBool);\r\n    \r\n            if(col &gt; 0 &amp;&amp; rooms[row][col - 1] &gt; count + 1) \r\n              visitRommsDFS(rooms, row, col-1, count + 1, roomsBool);\r\n    \r\n            roomsBool[row][col] = false;\r\n        }\r\n     }\r\n\r\n\r\nIn my humble opinion the morale of the story is to recurse definitely, recurse obviously, recurse forever, but recurse selectively and recurse wisely.\r\n\r\n**Time Complexity Analysis**\r\nSince the search space is a m X n grid, the complexity of the DFS, the second helper function is O(m X n), as we are covering all the cells of the grid and there are m X n of them. And the pruning when we are making a recursive call, ensures that no more repetitive traversal of a cell happens, while doing DFS.\r\n \r\nHad I done it in BFS way then also the time complexity would have remained the same that is O(m X n), here the choice of BFS and DFS would not matter on the time complexity, as the grid size is fixed before hand and we are traversing each cell, only once, unless the distance value is smaller.\r\n\r\n*If the distance value in the next call is smaller than the current value in the cell, then obviously we are traversing a cell more than 1 time.*\r\n\r\nWhether we are going from a centre to larger and larger concentric circle, or we are going too deep in one direction, will not affect the complexity, in this case.\r\n\r\n**Why?**\r\n \r\nBecause the number of cells in the given grid is limited, and even if DFS goes in one direction, it is forced to comeback from that direction by grid edges and walls.\r\nAnd continue exploration in another direction, and eventually DFS covers all cells.\r\nAlso, with the logic to curtail unnecessary traversal we are being efficient in our traversal. \r\nAs does the BFS, style of traversal.\r\nSo time complexity of both the traversals is asymptotically the same with the above pruning of unwanted recursive calls.  \r\n\r\n\r\n","title":"What should I do to improve the DFS Java implementation, to solve the problem?","body":"<p>The answer given by @Andrey B. Panfilov is correct, but the implementation provided, idea wise, is not very distinct from what I have done, apart from, of course, the mistake that I was doing of, not backtracking correctly, by not marking the auxiliary boolean array cell value as false again, at the end, it should be done precisely at the end of all traversals on all of the various sides.</p>\n<pre><code>roomsBool[row][col] = false;\n</code></pre>\n<p>This above step is crucial, to backtrack.</p>\n<p>Also, just one check that the rooms[row][col] is less than count :-</p>\n<pre><code>if(rooms[row][col] &lt; count) {\n  rooms[row][col] = count;\n}\n</code></pre>\n<p>won't guarantee that the smallest value is being stored in that cell, we must let recursion decide this, that which one is the shortest path, this will be done when we recurse to the cell from the various directions, and to enable recursion do that, that is allow it to come from the various sides to the cell under consideration, we must make</p>\n<pre><code>roomsBool[row][col] = false;\n</code></pre>\n<p>after traversing in all 4 directions.</p>\n<p>And the optimization suggested, can be easily incorporated in my solution as well.\nHere is the complete working solution.</p>\n<pre><code>  class Solution {\n    public void wallsAndGates(int[][] rooms) {\n\n        boolean[][] roomsBool = new boolean[rooms.length][rooms[0].length];\n\n        for(int i = 0; i &lt; rooms.length; ++i){\n            for(int j = 0; j &lt; rooms[i].length; ++j){\n                if(rooms[i][j] == 0){\n                    //if it is a gate we will do a DFS and fill the cells with the appropriate values.\n                    visitRommsDFS(rooms, i, j, 0, roomsBool);\n                }\n            }\n        }\n    }\n\n    private void visitRommsDFS(int[][] rooms, int row, int col, int count, boolean[][] roomsBool){\n        if(row &lt; 0 || row &gt;= rooms.length || col &lt; 0 || col &gt;= rooms[row].length || rooms[row][col] == -1 || rooms[row][col] == 0 &amp;&amp; count &gt; 0) return;\n\n        rooms[row][col] =  count;\n        roomsBool[row][col] = true;\n\n        if(row &gt; 0 &amp;&amp; rooms[row-1][col] &gt; count + 1)\n          visitRommsDFS(rooms, row-1, col, count + 1, roomsBool);\n\n        if(row + 1 &lt; rooms.length &amp;&amp; rooms[row+1][col] &gt; count + 1)  \n          visitRommsDFS(rooms, row+1, col, count + 1, roomsBool);\n\n        if(col + 1 &lt; rooms[row].length &amp;&amp; rooms[row][col + 1] &gt; count + 1)  \n          visitRommsDFS(rooms, row, col+1, count + 1, roomsBool);\n\n        if(col &gt; 0 &amp;&amp; rooms[row][col - 1] &gt; count + 1) \n          visitRommsDFS(rooms, row, col-1, count + 1, roomsBool);\n\n        roomsBool[row][col] = false;\n    }\n }\n</code></pre>\n<p>In my humble opinion the morale of the story is to recurse definitely, recurse obviously, recurse forever, but recurse selectively and recurse wisely.</p>\n<p><strong>Time Complexity Analysis</strong>\nSince the search space is a m X n grid, the complexity of the DFS, the second helper function is O(m X n), as we are covering all the cells of the grid and there are m X n of them. And the pruning when we are making a recursive call, ensures that no more repetitive traversal of a cell happens, while doing DFS.</p>\n<p>Had I done it in BFS way then also the time complexity would have remained the same that is O(m X n), here the choice of BFS and DFS would not matter on the time complexity, as the grid size is fixed before hand and we are traversing each cell, only once, unless the distance value is smaller.</p>\n<p><em>If the distance value in the next call is smaller than the current value in the cell, then obviously we are traversing a cell more than 1 time.</em></p>\n<p>Whether we are going from a centre to larger and larger concentric circle, or we are going too deep in one direction, will not affect the complexity, in this case.</p>\n<p><strong>Why?</strong></p>\n<p>Because the number of cells in the given grid is limited, and even if DFS goes in one direction, it is forced to comeback from that direction by grid edges and walls.\nAnd continue exploration in another direction, and eventually DFS covers all cells.\nAlso, with the logic to curtail unnecessary traversal we are being efficient in our traversal.\nAs does the BFS, style of traversal.\nSo time complexity of both the traversals is asymptotically the same with the above pruning of unwanted recursive calls.</p>\n"}],"owner":{"account_id":1737868,"reputation":2807,"user_id":1590011,"accept_rate":91,"display_name":"John Doe"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76030150,"answer_count":2,"score":2,"last_activity_date":1681931316,"creation_date":1681227847,"question_id":75987782,"body_markdown":"I am trying to solve the problem called Walls and Gates.\r\n\r\nHere is the problem link. \r\n[https://leetcode.com/problems/walls-and-gates/description/][1]\r\n\r\n\r\n  [1]: https://leetcode.com/problems/walls-and-gates/description/\r\n\r\n&gt; You are given a m X n grid, rooms initialized with these three possible values. \r\n&gt; * -1 A wall or an obstacle.\r\n&gt; * 0 A gate.\r\n&gt; * INF Infinity means an empty room.\r\n&gt;\r\n&gt;     We use the value 2&lt;sup&gt;31&lt;/sup&gt; - 1 = 2147483647 to represent INF as you may assume that the distance to a gate is less than 2147483647.\r\n&gt; \r\n&gt; Fill each empty room with the distance to its nearest gate. If it is impossible to reach a gate, it should be filled with INF.\r\n\r\nI am trying to use DFS to solve the above problem.\r\n\r\nMy approach is to \r\n\r\n      \r\n* Traverse the grid using two indexes i and j. \r\n* And wherever I encounter a 0 cell value, I start a DFS, as this is a Gate as per the problem definition. \r\n* In the DFS algorithm, I first check the boundaries are satisfied or not.\r\n    * If out of boundary, then I return.\r\n    * If the cell value is -1 then also I return, since as per the problem condition it is a wall.\r\n    * If the cell is already traversed then also I return.\r\n      \r\n    After all the above cases, I find out the minimum of cell value and count, and update the current cell with the minimum.\r\n\r\n     \r\n* Mark the cell as visited. For which I am using another boolean grid.\r\n* And then I traverse all the cell by doing, row + 1, row - 1, cell + 1, cell -1.\r\n    \r\nHere is the code:\r\n\r\n    class Solution {\r\n        public void wallsAndGates(int[][] rooms) {\r\n            boolean[][] roomsBool = new boolean[rooms.length][rooms[0].length];\r\n            for(int i = 0; i &lt; rooms.length; ++i){\r\n                for(int j = 0; j &lt; rooms[i].length; ++j){\r\n                    if(rooms[i][j] == 0){\r\n                        //if it is a gate we will do a DFS and fill the cells with the appropriate values.\r\n                        visitRommsDFS(rooms, i, j, 0, roomsBool);\r\n                        roomsBool = new boolean[rooms.length][rooms[i].length];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void visitRommsDFS(int[][] rooms, int row, int col, int count, boolean[][] roomsBool){\r\n            if(row &lt; 0 || row &gt;= rooms.length || col &lt; 0 || col &gt;= rooms[row].length || rooms[row][col] == -1 || roomsBool[row][col] == true || rooms[row][col] == 0 &amp;&amp; count &gt; 0) return;\r\n            if(rooms[row][col] &gt; 0){\r\n                rooms[row][col] = Math.min(rooms[row][col], count);\r\n            }\r\n            roomsBool[row][col] = true;\r\n            visitRommsDFS(rooms, row-1, col, count + 1, roomsBool);\r\n            visitRommsDFS(rooms, row+1, col, count + 1, roomsBool);\r\n            visitRommsDFS(rooms, row, col+1, count + 1, roomsBool);\r\n            visitRommsDFS(rooms, row, col-1, count + 1, roomsBool);\r\n        }\r\n    }\r\n\r\n Problem is this code is not correct and is not giving the required correct result, what is that is lacking in this solution? What should I add to make this solution to make it fool proof? \r\n\r\nHere is the sample input for the problem.\r\n\r\n    [\r\n    \t[0, 2147483647, -1, 2147483647, 2147483647, -1, -1, 0, 0, -1, 2147483647, 2147483647, 0, -1, 2147483647, 2147483647, 2147483647, 2147483647, 0, 2147483647, 0, -1, -1, -1, -1, 2147483647, -1, -1, 2147483647, 2147483647, -1, -1, 0, 0, -1, 0, 0, 0, 2147483647, 0, 2147483647, -1, -1, 0, -1, 0, 0, 0, 2147483647],\r\n    \t[2147483647, 0, -1, 2147483647, 0, -1, -1, -1, -1, 0, 0, 2147483647, 2147483647, -1, -1, 2147483647, -1, -1, 2147483647, 2147483647, -1, 0, -1, 2147483647, 0, 2147483647, -1, 2147483647, 0, 2147483647, 0, 2147483647, -1, 2147483647, 0, 2147483647, -1, 2147483647, 0, 2147483647, 2147483647, 0, -1, 2147483647, -1, -1, -1, 0, 2147483647]\r\n    ]\r\n\r\nand here is my output.\r\n\r\n    [\r\n    \t[0, 1, -1, 2, 1, -1, -1, 0, 0, -1, 1, 2, 0, -1, 4, 3, 2, 1, 0, 1, 0, -1, -1, -1, -1, 2, -1, -1, 1, 2, -1, -1, 0, 0, -1, 0, 0, 0, 1, 0, 2, -1, -1, 0, -1, 0, 0, 0, 1],\r\n    \t[1, 0, -1, 3, 0, -1, -1, -1, -1, 0, 0, 2, 1, -1, -1, 4, -1, -1, 1, 2, -1, 0, -1, 1, 0, 1, -1, 1, 0, 1, 0, 1, -1, 1, 0, 1, -1, 1, 0, 1, 1, 0, -1, 1, -1, -1, -1, 0, 1]\r\n    ]\r\n\r\nwhile here is the expected output.\r\n\r\n    [\r\n    \t[0, 1, -1, 2, 1, -1, -1, 0, 0, -1, 1, 1, 0, -1, 4, 3, 2, 1, 0, 1, 0, -1, -1, -1, -1, 2, -1, -1, 1, 2, -1, -1, 0, 0, -1, 0, 0, 0, 1, 0, 1, -1, -1, 0, -1, 0, 0, 0, 1],\r\n    \t[1, 0, -1, 1, 0, -1, -1, -1, -1, 0, 0, 1, 1, -1, -1, 4, -1, -1, 1, 2, -1, 0, -1, 1, 0, 1, -1, 1, 0, 1, 0, 1, -1, 1, 0, 1, -1, 1, 0, 1, 1, 0, -1, 1, -1, -1, -1, 0, 1]\r\n    ]\r\n\r\nSome more sample input and their expected outputs are as follows :-\r\n\r\n &gt;1. Sample input\r\n\r\n    [\r\n    \t[2147483647, -1, 0, 2147483647],\r\n    \t[2147483647, 2147483647, 2147483647, -1],\r\n    \t[2147483647, -1, 2147483647, -1],\r\n    \t[0, -1, 2147483647, 2147483647]\r\n    ]\r\n\r\n&gt;Expected output of Sample output 1.\r\n\r\n     [\r\n    \t[3, -1, 0, 1],\r\n    \t[2, 2, 1, -1],\r\n    \t[1, -1, 2, -1],\r\n    \t[0, -1, 3, 4]\r\n    ]\r\n\r\n&gt;Sample input 2.\r\n\r\n    [\r\n    \t[-1]\r\n    ]\r\n\r\n&gt;Expected output for sample input 2.\r\n\r\n    [\r\n    \t[-1]\r\n    ]\r\n\r\n    \r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n","title":"What should I do to improve the DFS Java implementation, to solve the problem?","body":"<p>I am trying to solve the problem called Walls and Gates.</p>\n<p>Here is the problem link.\n<a href=\"https://leetcode.com/problems/walls-and-gates/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/walls-and-gates/description/</a></p>\n<blockquote>\n<p>You are given a m X n grid, rooms initialized with these three possible values.</p>\n<ul>\n<li><p>-1 A wall or an obstacle.</p>\n</li>\n<li><p>0 A gate.</p>\n</li>\n<li><p>INF Infinity means an empty room.</p>\n<p>We use the value 2<sup>31</sup> - 1 = 2147483647 to represent INF as you may assume that the distance to a gate is less than 2147483647.</p>\n</li>\n</ul>\n<p>Fill each empty room with the distance to its nearest gate. If it is impossible to reach a gate, it should be filled with INF.</p>\n</blockquote>\n<p>I am trying to use DFS to solve the above problem.</p>\n<p>My approach is to</p>\n<ul>\n<li><p>Traverse the grid using two indexes i and j.</p>\n</li>\n<li><p>And wherever I encounter a 0 cell value, I start a DFS, as this is a Gate as per the problem definition.</p>\n</li>\n<li><p>In the DFS algorithm, I first check the boundaries are satisfied or not.</p>\n<ul>\n<li>If out of boundary, then I return.</li>\n<li>If the cell value is -1 then also I return, since as per the problem condition it is a wall.</li>\n<li>If the cell is already traversed then also I return.</li>\n</ul>\n<p>After all the above cases, I find out the minimum of cell value and count, and update the current cell with the minimum.</p>\n</li>\n<li><p>Mark the cell as visited. For which I am using another boolean grid.</p>\n</li>\n<li><p>And then I traverse all the cell by doing, row + 1, row - 1, cell + 1, cell -1.</p>\n</li>\n</ul>\n<p>Here is the code:</p>\n<pre><code>class Solution {\n    public void wallsAndGates(int[][] rooms) {\n        boolean[][] roomsBool = new boolean[rooms.length][rooms[0].length];\n        for(int i = 0; i &lt; rooms.length; ++i){\n            for(int j = 0; j &lt; rooms[i].length; ++j){\n                if(rooms[i][j] == 0){\n                    //if it is a gate we will do a DFS and fill the cells with the appropriate values.\n                    visitRommsDFS(rooms, i, j, 0, roomsBool);\n                    roomsBool = new boolean[rooms.length][rooms[i].length];\n                }\n            }\n        }\n    }\n\n    private void visitRommsDFS(int[][] rooms, int row, int col, int count, boolean[][] roomsBool){\n        if(row &lt; 0 || row &gt;= rooms.length || col &lt; 0 || col &gt;= rooms[row].length || rooms[row][col] == -1 || roomsBool[row][col] == true || rooms[row][col] == 0 &amp;&amp; count &gt; 0) return;\n        if(rooms[row][col] &gt; 0){\n            rooms[row][col] = Math.min(rooms[row][col], count);\n        }\n        roomsBool[row][col] = true;\n        visitRommsDFS(rooms, row-1, col, count + 1, roomsBool);\n        visitRommsDFS(rooms, row+1, col, count + 1, roomsBool);\n        visitRommsDFS(rooms, row, col+1, count + 1, roomsBool);\n        visitRommsDFS(rooms, row, col-1, count + 1, roomsBool);\n    }\n}\n</code></pre>\n<p>Problem is this code is not correct and is not giving the required correct result, what is that is lacking in this solution? What should I add to make this solution to make it fool proof?</p>\n<p>Here is the sample input for the problem.</p>\n<pre><code>[\n    [0, 2147483647, -1, 2147483647, 2147483647, -1, -1, 0, 0, -1, 2147483647, 2147483647, 0, -1, 2147483647, 2147483647, 2147483647, 2147483647, 0, 2147483647, 0, -1, -1, -1, -1, 2147483647, -1, -1, 2147483647, 2147483647, -1, -1, 0, 0, -1, 0, 0, 0, 2147483647, 0, 2147483647, -1, -1, 0, -1, 0, 0, 0, 2147483647],\n    [2147483647, 0, -1, 2147483647, 0, -1, -1, -1, -1, 0, 0, 2147483647, 2147483647, -1, -1, 2147483647, -1, -1, 2147483647, 2147483647, -1, 0, -1, 2147483647, 0, 2147483647, -1, 2147483647, 0, 2147483647, 0, 2147483647, -1, 2147483647, 0, 2147483647, -1, 2147483647, 0, 2147483647, 2147483647, 0, -1, 2147483647, -1, -1, -1, 0, 2147483647]\n]\n</code></pre>\n<p>and here is my output.</p>\n<pre><code>[\n    [0, 1, -1, 2, 1, -1, -1, 0, 0, -1, 1, 2, 0, -1, 4, 3, 2, 1, 0, 1, 0, -1, -1, -1, -1, 2, -1, -1, 1, 2, -1, -1, 0, 0, -1, 0, 0, 0, 1, 0, 2, -1, -1, 0, -1, 0, 0, 0, 1],\n    [1, 0, -1, 3, 0, -1, -1, -1, -1, 0, 0, 2, 1, -1, -1, 4, -1, -1, 1, 2, -1, 0, -1, 1, 0, 1, -1, 1, 0, 1, 0, 1, -1, 1, 0, 1, -1, 1, 0, 1, 1, 0, -1, 1, -1, -1, -1, 0, 1]\n]\n</code></pre>\n<p>while here is the expected output.</p>\n<pre><code>[\n    [0, 1, -1, 2, 1, -1, -1, 0, 0, -1, 1, 1, 0, -1, 4, 3, 2, 1, 0, 1, 0, -1, -1, -1, -1, 2, -1, -1, 1, 2, -1, -1, 0, 0, -1, 0, 0, 0, 1, 0, 1, -1, -1, 0, -1, 0, 0, 0, 1],\n    [1, 0, -1, 1, 0, -1, -1, -1, -1, 0, 0, 1, 1, -1, -1, 4, -1, -1, 1, 2, -1, 0, -1, 1, 0, 1, -1, 1, 0, 1, 0, 1, -1, 1, 0, 1, -1, 1, 0, 1, 1, 0, -1, 1, -1, -1, -1, 0, 1]\n]\n</code></pre>\n<p>Some more sample input and their expected outputs are as follows :-</p>\n<blockquote>\n<ol>\n<li>Sample input</li>\n</ol>\n</blockquote>\n<pre><code>[\n    [2147483647, -1, 0, 2147483647],\n    [2147483647, 2147483647, 2147483647, -1],\n    [2147483647, -1, 2147483647, -1],\n    [0, -1, 2147483647, 2147483647]\n]\n</code></pre>\n<blockquote>\n<p>Expected output of Sample output 1.</p>\n</blockquote>\n<pre><code> [\n    [3, -1, 0, 1],\n    [2, 2, 1, -1],\n    [1, -1, 2, -1],\n    [0, -1, 3, 4]\n]\n</code></pre>\n<blockquote>\n<p>Sample input 2.</p>\n</blockquote>\n<pre><code>[\n    [-1]\n]\n</code></pre>\n<blockquote>\n<p>Expected output for sample input 2.</p>\n</blockquote>\n<pre><code>[\n    [-1]\n]\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9504,"page":488,"page_size":100}
