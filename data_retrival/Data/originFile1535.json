{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1646724317,"post_id":71391195,"comment_id":126188375,"body_markdown":"It&#39;ll help to know why you&#39;re doing this to make answers more helpful.","body":"It&#39;ll help to know why you&#39;re doing this to make answers more helpful."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1646729041,"post_id":71391195,"comment_id":126189738,"body_markdown":"If your method `f1()` has to behave differently depending on the caller method, it&#39;s poorly designed. Create two different methods or add a meaningful parameter for the distinction.","body":"If your method <code>f1()</code> has to behave differently depending on the caller method, it&#39;s poorly designed. Create two different methods or add a meaningful parameter for the distinction."},{"owner":{"account_id":17352190,"reputation":33,"user_id":12570445,"display_name":"scx567888"},"score":0,"creation_date":1646729587,"post_id":71391195,"comment_id":126189940,"body_markdown":"I just want to try the feasibility of this design. There is no need to criticize it from an engineering perspective.","body":"I just want to try the feasibility of this design. There is no need to criticize it from an engineering perspective."}],"owner":{"account_id":17352190,"reputation":33,"user_id":12570445,"display_name":"scx567888"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646723343,"creation_date":1646723343,"question_id":71391195,"body_markdown":"How can I determine whether a method is running in another method ?\r\n\r\nThis is my way.\r\n\r\nHowever, there may be some performance problems.\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static final ThreadLocal&lt;Object&gt; THREAD_LOCAL = new ThreadLocal&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        f1();\r\n        foo(i -&gt; f1());\r\n    }\r\n\r\n    public static void f1() {\r\n        Object o = THREAD_LOCAL.get();\r\n        if (o == null) {\r\n            System.out.println(&quot;not in foo&quot;);\r\n        } else {\r\n            System.out.println(&quot;in foo&quot;);\r\n        }\r\n    }\r\n\r\n    public static void foo(Handler&lt;Integer&gt; handler) {\r\n        new Thread(() -&gt; {\r\n            THREAD_LOCAL.set(new Object());\r\n            handler.handle(10);\r\n        }).start();\r\n    }\r\n\r\n    public interface Handler&lt;A&gt; {\r\n        void handle(A a);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIs there a better way?\r\n\r\nDo not use threads ?","title":"How can I determine whether a method is running in another method?","body":"<p>How can I determine whether a method is running in another method ?</p>\n<p>This is my way.</p>\n<p>However, there may be some performance problems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static final ThreadLocal&lt;Object&gt; THREAD_LOCAL = new ThreadLocal&lt;&gt;();\n\n    public static void main(String[] args) {\n        f1();\n        foo(i -&gt; f1());\n    }\n\n    public static void f1() {\n        Object o = THREAD_LOCAL.get();\n        if (o == null) {\n            System.out.println(&quot;not in foo&quot;);\n        } else {\n            System.out.println(&quot;in foo&quot;);\n        }\n    }\n\n    public static void foo(Handler&lt;Integer&gt; handler) {\n        new Thread(() -&gt; {\n            THREAD_LOCAL.set(new Object());\n            handler.handle(10);\n        }).start();\n    }\n\n    public interface Handler&lt;A&gt; {\n        void handle(A a);\n    }\n\n}\n</code></pre>\n<p>Is there a better way?</p>\n<p>Do not use threads ?</p>\n"},{"tags":["java","android","android-studio","fusedlocationproviderclient"],"comments":[{"owner":{"account_id":23831471,"reputation":43,"user_id":17837687,"display_name":"Tameer Hussain"},"score":0,"creation_date":1646720955,"post_id":71390684,"comment_id":126187538,"body_markdown":"Updated the function name.","body":"Updated the function name."},{"owner":{"account_id":5981137,"reputation":17317,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"score":0,"creation_date":1651685538,"post_id":71390684,"comment_id":127424013,"body_markdown":"Why do you need to make an instance or need to return instance of an Activity? Isn&#39;t it a big NoNo ?","body":"Why do you need to make an instance or need to return instance of an Activity? Isn&#39;t it a big NoNo ?"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646723304,"creation_date":1646722999,"answer_id":71391147,"question_id":71390684,"body_markdown":"First off-  DashboardActivity.getInstance()-  NEVER DO THIS.  You&#39;re assuming there&#39;s exactly 1 instance of an activity at all times.  That&#39;s wrong.  There can be 0.  There can be 2.  You can&#39;t make an activity a singleton. In addition, this always creates a memory leak.  NEVER store an Activity in a static variable, this is always a memory leak.  It&#39;s also (due to the first fact) wrong because it can point to the wrong instance of an Activity.\r\n\r\nSecondly-  you&#39;re using getLastLocation.  Don&#39;t do that.  That function is meant for optimization and will usually return null (I know the docs say the opposite.  The docs there have always been wrong.)  If you need the location, request it instead.  getLastLocation should only be used to get a quick result optimisticly before requesting location updates.\r\n\r\nThirdly-  your call to requestNewLocation is passing in a location handler that does nothing.  It isn&#39;t even updating mLastLocation because that&#39;s a method level variable and not a class one.\r\n\r\nFourthly-  did you read the new rules for background location processing in ANdroid 12?  https://proandroiddev.com/android-12-privacy-changes-for-location-55ffd8c016fd\r\n\r\nThose are just the major mistakes, not smaller things that make me go &quot;huh?&quot;.  With the best of intentions here-  this code needs major refactoring.  It feels like someone who didn&#39;t really understand Android cobbled it together from a dozen examples he didn&#39;t understand.  If I were you I&#39;d start by simplifying the concept-  do one thing, understand it, and then do another.  You&#39;re overreaching your abilities at the moment doing this all at once, and you&#39;ll be better off learning one thing at a time.","title":"How to access location in background Android 12?","body":"<p>First off-  DashboardActivity.getInstance()-  NEVER DO THIS.  You're assuming there's exactly 1 instance of an activity at all times.  That's wrong.  There can be 0.  There can be 2.  You can't make an activity a singleton. In addition, this always creates a memory leak.  NEVER store an Activity in a static variable, this is always a memory leak.  It's also (due to the first fact) wrong because it can point to the wrong instance of an Activity.</p>\n<p>Secondly-  you're using getLastLocation.  Don't do that.  That function is meant for optimization and will usually return null (I know the docs say the opposite.  The docs there have always been wrong.)  If you need the location, request it instead.  getLastLocation should only be used to get a quick result optimisticly before requesting location updates.</p>\n<p>Thirdly-  your call to requestNewLocation is passing in a location handler that does nothing.  It isn't even updating mLastLocation because that's a method level variable and not a class one.</p>\n<p>Fourthly-  did you read the new rules for background location processing in ANdroid 12?  <a href=\"https://proandroiddev.com/android-12-privacy-changes-for-location-55ffd8c016fd\" rel=\"nofollow noreferrer\">https://proandroiddev.com/android-12-privacy-changes-for-location-55ffd8c016fd</a></p>\n<p>Those are just the major mistakes, not smaller things that make me go &quot;huh?&quot;.  With the best of intentions here-  this code needs major refactoring.  It feels like someone who didn't really understand Android cobbled it together from a dozen examples he didn't understand.  If I were you I'd start by simplifying the concept-  do one thing, understand it, and then do another.  You're overreaching your abilities at the moment doing this all at once, and you'll be better off learning one thing at a time.</p>\n"}],"owner":{"account_id":23831471,"reputation":43,"user_id":17837687,"display_name":"Tameer Hussain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71391147,"answer_count":1,"score":0,"last_activity_date":1646723304,"creation_date":1646719589,"question_id":71390684,"body_markdown":"I am making an application that fetch last known location when user clicked power key two times. I am using foreground service to register the broadcast receiver and for location I am using fusedlocationproviderclient. The user can fetch the location while app is in background. My problem is I am only able to fetch location for one time only. Second time location is null. How can I solve it?\r\n\r\nNote:\r\nIt is working fine in android 7 version.\r\n\r\nService:\r\n\r\n    public class ScreenOnOffBackgroundService extends Service {\r\n    private ScreenOnOffReceiver screenOnOffReceiver = null;\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        createNotificationChannel();\r\n        Intent mainIntent = new Intent(this, DashboardActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this,0,mainIntent, 0);\r\n        Notification notification = new NotificationCompat.Builder(this,&quot;safetyId&quot;)\r\n                .setContentTitle(&quot;Safety Service&quot;)\r\n                .setContentText(&quot;Press power key to send alert&quot;)\r\n                .setSmallIcon(R.drawable.android)\r\n                .setContentIntent(pendingIntent)\r\n                .build();\r\n        startForeground(1,notification);\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        // Create an IntentFilter instance.\r\n        IntentFilter intentFilter = new IntentFilter();\r\n        // Add network connectivity change action.\r\n        intentFilter.addAction(&quot;android.intent.action.SCREEN_ON&quot;);\r\n        // Set broadcast receiver priority.\r\n        intentFilter.setPriority(100);\r\n        screenOnOffReceiver = new ScreenOnOffReceiver();\r\n        HandlerThread broadcastHandlerThread = new HandlerThread(&quot;SafetyThread&quot;);\r\n        broadcastHandlerThread.start();\r\n        Looper looper = broadcastHandlerThread.getLooper();\r\n        Handler broadcastHandler = new Handler(looper);\r\n        registerReceiver(screenOnOffReceiver,intentFilter,null,broadcastHandler);\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O ){\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    &quot;safetyId&quot;,\r\n                    &quot;Safety Service&quot;,\r\n                    NotificationManager.IMPORTANCE_DEFAULT\r\n            );\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n\r\n        stopForeground(true);\r\n        stopSelf();\r\n        // Unregister screenOnOffReceiver when destroy.\r\n        if(screenOnOffReceiver!=null)\r\n        {\r\n            unregisterReceiver(screenOnOffReceiver);\r\n        }\r\n    }\r\n    }\r\n\r\nBroadcast Receiver:\r\n\r\n    public class ScreenOnOffReceiver extends BroadcastReceiver {\r\n\r\n    private int count = 0;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n        if (Intent.ACTION_SCREEN_ON.equals(action) || Intent.ACTION_SCREEN_OFF.equals(action)) {\r\n            count++;\r\n            if (count == 2) {\r\n                count = 0;\r\n                DashboardActivity.getInstance().getLastLocation();\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nDashboard Activity:\r\n\r\n    public class DashboardActivity extends AppCompatActivity {\r\n    public Button btnAlert;\r\n    private static DashboardActivity instance;\r\n    private final static int REQUEST_CODE = 123;\r\n    private FusedLocationProviderClient locationProviderClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dashboard);\r\n        instance = this;\r\n        registerService();\r\n        btnAlert = findViewById(R.id.btnAlert);\r\n        locationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n        btnAlert.setOnClickListener(view -&gt; getLastLocation());\r\n    }\r\n\r\n    public static DashboardActivity getInstance(){\r\n        return instance;\r\n    }\r\n\r\n    public void registerService(){\r\n        if(!foregroundServiceRunning()){\r\n            Intent backgroundService = new Intent(this, ScreenOnOffBackgroundService.class);\r\n            ContextCompat.startForegroundService(this,backgroundService);\r\n        }\r\n    }\r\n\r\n    public boolean foregroundServiceRunning(){\r\n        ActivityManager manager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        for(ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)){\r\n            if(ScreenOnOffBackgroundService.class.getName().equals(service.service.getClassName())){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void getLastLocation() {\r\n        // check if permissions are given\r\n        if (checkPermissions()) {\r\n            // check if location is enabled\r\n            if (isLocationEnabled()) {\r\n\r\n                locationProviderClient.getLastLocation().addOnCompleteListener(task -&gt; {\r\n                    Location location = task.getResult();\r\n                    if (location == null) {\r\n                        requestNewLocationData();\r\n                    } else {\r\n                        Toast.makeText(this, &quot;Latitude: &quot;+location.getLatitude(), Toast.LENGTH_LONG).show();\r\n                    }\r\n                });\r\n            } else {\r\n                Toast.makeText(this, &quot;Please turn on your location&quot;, Toast.LENGTH_LONG).show();\r\n                Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\r\n                startActivity(intent);\r\n            }\r\n        } else {\r\n            requestPermissions();\r\n        }\r\n    }\r\n\r\n\r\n    private boolean checkPermissions() {\r\n        return ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n    private void requestPermissions() {\r\n\r\n        String[] permissionArray = new String[]{\r\n                android.Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                android.Manifest.permission.ACCESS_FINE_LOCATION,};\r\n        ActivityCompat.requestPermissions(this, permissionArray, REQUEST_CODE);\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void requestNewLocationData() {\r\n\r\n        LocationRequest mLocationRequest = LocationRequest.create()\r\n                .setInterval(100)\r\n                .setFastestInterval(3000)\r\n                .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY)\r\n                .setMaxWaitTime(100).setNumUpdates(1);\r\n\r\n        locationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n        locationProviderClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\r\n    }\r\n\r\n    private final LocationCallback mLocationCallback = new LocationCallback() {\r\n\r\n        @Override\r\n        public void onLocationResult(LocationResult locationResult) {\r\n            Location mLastLocation = locationResult.getLastLocation();\r\n        }\r\n    };\r\n\r\n    private boolean isLocationEnabled() {\r\n        LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n        return locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER) || locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\r\n    }\r\n\r\n    @Override\r\n    public void\r\n    onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                getLastLocation();\r\n            }\r\n        }\r\n\r\n        if (requestCode == 0) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                notifyPolice();\r\n            }\r\n        }\r\n    }\r\n}","title":"How to access location in background Android 12?","body":"<p>I am making an application that fetch last known location when user clicked power key two times. I am using foreground service to register the broadcast receiver and for location I am using fusedlocationproviderclient. The user can fetch the location while app is in background. My problem is I am only able to fetch location for one time only. Second time location is null. How can I solve it?</p>\n<p>Note:\nIt is working fine in android 7 version.</p>\n<p>Service:</p>\n<pre><code>public class ScreenOnOffBackgroundService extends Service {\nprivate ScreenOnOffReceiver screenOnOffReceiver = null;\n\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    createNotificationChannel();\n    Intent mainIntent = new Intent(this, DashboardActivity.class);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this,0,mainIntent, 0);\n    Notification notification = new NotificationCompat.Builder(this,&quot;safetyId&quot;)\n            .setContentTitle(&quot;Safety Service&quot;)\n            .setContentText(&quot;Press power key to send alert&quot;)\n            .setSmallIcon(R.drawable.android)\n            .setContentIntent(pendingIntent)\n            .build();\n    startForeground(1,notification);\n    return START_STICKY;\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    // Create an IntentFilter instance.\n    IntentFilter intentFilter = new IntentFilter();\n    // Add network connectivity change action.\n    intentFilter.addAction(&quot;android.intent.action.SCREEN_ON&quot;);\n    // Set broadcast receiver priority.\n    intentFilter.setPriority(100);\n    screenOnOffReceiver = new ScreenOnOffReceiver();\n    HandlerThread broadcastHandlerThread = new HandlerThread(&quot;SafetyThread&quot;);\n    broadcastHandlerThread.start();\n    Looper looper = broadcastHandlerThread.getLooper();\n    Handler broadcastHandler = new Handler(looper);\n    registerReceiver(screenOnOffReceiver,intentFilter,null,broadcastHandler);\n}\n\nprivate void createNotificationChannel() {\n\n    if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O ){\n        NotificationChannel channel = new NotificationChannel(\n                &quot;safetyId&quot;,\n                &quot;Safety Service&quot;,\n                NotificationManager.IMPORTANCE_DEFAULT\n        );\n        NotificationManager manager = getSystemService(NotificationManager.class);\n        manager.createNotificationChannel(channel);\n    }\n}\n\n\n@Override\npublic void onDestroy() {\n\n    stopForeground(true);\n    stopSelf();\n    // Unregister screenOnOffReceiver when destroy.\n    if(screenOnOffReceiver!=null)\n    {\n        unregisterReceiver(screenOnOffReceiver);\n    }\n}\n}\n</code></pre>\n<p>Broadcast Receiver:</p>\n<pre><code>public class ScreenOnOffReceiver extends BroadcastReceiver {\n\nprivate int count = 0;\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    String action = intent.getAction();\n    if (Intent.ACTION_SCREEN_ON.equals(action) || Intent.ACTION_SCREEN_OFF.equals(action)) {\n        count++;\n        if (count == 2) {\n            count = 0;\n            DashboardActivity.getInstance().getLastLocation();\n        }\n    }\n}\n}\n</code></pre>\n<p>Dashboard Activity:</p>\n<pre><code>public class DashboardActivity extends AppCompatActivity {\npublic Button btnAlert;\nprivate static DashboardActivity instance;\nprivate final static int REQUEST_CODE = 123;\nprivate FusedLocationProviderClient locationProviderClient;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_dashboard);\n    instance = this;\n    registerService();\n    btnAlert = findViewById(R.id.btnAlert);\n    locationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n    btnAlert.setOnClickListener(view -&gt; getLastLocation());\n}\n\npublic static DashboardActivity getInstance(){\n    return instance;\n}\n\npublic void registerService(){\n    if(!foregroundServiceRunning()){\n        Intent backgroundService = new Intent(this, ScreenOnOffBackgroundService.class);\n        ContextCompat.startForegroundService(this,backgroundService);\n    }\n}\n\npublic boolean foregroundServiceRunning(){\n    ActivityManager manager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\n    for(ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)){\n        if(ScreenOnOffBackgroundService.class.getName().equals(service.service.getClassName())){\n            return true;\n        }\n    }\n    return false;\n}\n\n@SuppressLint(&quot;MissingPermission&quot;)\npublic void getLastLocation() {\n    // check if permissions are given\n    if (checkPermissions()) {\n        // check if location is enabled\n        if (isLocationEnabled()) {\n\n            locationProviderClient.getLastLocation().addOnCompleteListener(task -&gt; {\n                Location location = task.getResult();\n                if (location == null) {\n                    requestNewLocationData();\n                } else {\n                    Toast.makeText(this, &quot;Latitude: &quot;+location.getLatitude(), Toast.LENGTH_LONG).show();\n                }\n            });\n        } else {\n            Toast.makeText(this, &quot;Please turn on your location&quot;, Toast.LENGTH_LONG).show();\n            Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\n            startActivity(intent);\n        }\n    } else {\n        requestPermissions();\n    }\n}\n\n\nprivate boolean checkPermissions() {\n    return ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED;\n}\n\nprivate void requestPermissions() {\n\n    String[] permissionArray = new String[]{\n            android.Manifest.permission.ACCESS_COARSE_LOCATION,\n            android.Manifest.permission.ACCESS_FINE_LOCATION,};\n    ActivityCompat.requestPermissions(this, permissionArray, REQUEST_CODE);\n}\n\n@SuppressLint(&quot;MissingPermission&quot;)\nprivate void requestNewLocationData() {\n\n    LocationRequest mLocationRequest = LocationRequest.create()\n            .setInterval(100)\n            .setFastestInterval(3000)\n            .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY)\n            .setMaxWaitTime(100).setNumUpdates(1);\n\n    locationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n    locationProviderClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\n}\n\nprivate final LocationCallback mLocationCallback = new LocationCallback() {\n\n    @Override\n    public void onLocationResult(LocationResult locationResult) {\n        Location mLastLocation = locationResult.getLastLocation();\n    }\n};\n\nprivate boolean isLocationEnabled() {\n    LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n    return locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER) || locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\n}\n\n@Override\npublic void\nonRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    if (requestCode == REQUEST_CODE) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            getLastLocation();\n        }\n    }\n\n    if (requestCode == 0) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            notifyPolice();\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","multithreading","queue","threadpoolexecutor"],"comments":[{"owner":{"account_id":3977767,"reputation":22190,"user_id":3280538,"accept_rate":74,"display_name":"flakes"},"score":0,"creation_date":1541835264,"post_id":53236911,"comment_id":93360047,"body_markdown":"Have you looked at [RejectedExecutionHandler](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RejectedExecutionHandler.html)?","body":"Have you looked at <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RejectedExecutionHandler.html\" rel=\"nofollow noreferrer\">RejectedExecutionHandler</a>?"}],"answers":[{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1541836137,"creation_date":1541835810,"answer_id":53236993,"question_id":53236911,"body_markdown":"`ThreadPoolExecutor` supports this function via [`ThreadPoolExecutor.DiscardOldestPolicy`][1]:\r\n\r\n&gt; A handler for rejected tasks that discards the oldest unhandled\r\n&gt; request and then retries execute, unless the executor is shut down, in\r\n&gt; which case the task is discarded.\r\n\r\nYou need to construct the pool with this policy mannully, for exmaple:\r\n\r\n    int poolSize = ...;\r\n    int queueSize = ...;\r\n    RejectedExecutionHandler handler = new ThreadPoolExecutor.DiscardOldestPolicy();\r\n    \r\n    ExecutorService executorService = new ThreadPoolExecutor(poolSize, poolSize,\r\n        0L, TimeUnit.MILLISECONDS,\r\n        new LinkedBlockingQueue&lt;&gt;(queueSize),\r\n        handler);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.DiscardOldestPolicy.html","title":"Executor Thread Pool - limit queue size and dequeue oldest","body":"<p><code>ThreadPoolExecutor</code> supports this function via <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.DiscardOldestPolicy.html\" rel=\"noreferrer\"><code>ThreadPoolExecutor.DiscardOldestPolicy</code></a>:</p>\n\n<blockquote>\n  <p>A handler for rejected tasks that discards the oldest unhandled\n  request and then retries execute, unless the executor is shut down, in\n  which case the task is discarded.</p>\n</blockquote>\n\n<p>You need to construct the pool with this policy mannully, for exmaple:</p>\n\n<pre><code>int poolSize = ...;\nint queueSize = ...;\nRejectedExecutionHandler handler = new ThreadPoolExecutor.DiscardOldestPolicy();\n\nExecutorService executorService = new ThreadPoolExecutor(poolSize, poolSize,\n    0L, TimeUnit.MILLISECONDS,\n    new LinkedBlockingQueue&lt;&gt;(queueSize),\n    handler);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14576370,"reputation":335,"user_id":10528125,"display_name":"janardhan sharma"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1541836085,"creation_date":1541836085,"answer_id":53237024,"question_id":53236911,"body_markdown":"This will create a thread pool for you of the size that you pass.\r\n\r\n    ExecutorService service = Executors.newFixedThreadPool(THREAD_SIZE);\r\n\r\nThis internally creates an instance of ThreadPoolExecutor, which implements ExecutorService. \r\n\r\n    public static ExecutorService newFixedThreadPool(int nThreads) {\r\n        return new ThreadPoolExecutor(nThreads, nThreads,\r\n                                      0L, TimeUnit.MILLISECONDS,\r\n                                      new LinkedBlockingQueue&lt;Runnable&gt;());\r\n    }\r\n\r\nTo create a custom thead pool, you can just do. \r\n\r\n    ExecutorService service =   new ThreadPoolExecutor(5, 5,\r\n                                      0L, TimeUnit.MILLISECONDS,\r\n                                      new LinkedBlockingQueue&lt;Runnable&gt;(10));\r\n\r\nHere we can specify the size of the queue, using the overloaded constructor of the LinkedBlockingQueue. \r\n\r\n  \r\n\r\n        public LinkedBlockingQueue(int capacity) {\r\n            if (capacity &lt;= 0) throw new IllegalArgumentException();\r\n            this.capacity = capacity;\r\n            last = head = new Node&lt;E&gt;(null);\r\n        }\r\n\r\nHope this helps. Cheers !!!","title":"Executor Thread Pool - limit queue size and dequeue oldest","body":"<p>This will create a thread pool for you of the size that you pass.</p>\n\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(THREAD_SIZE);\n</code></pre>\n\n<p>This internally creates an instance of ThreadPoolExecutor, which implements ExecutorService. </p>\n\n<pre><code>public static ExecutorService newFixedThreadPool(int nThreads) {\n    return new ThreadPoolExecutor(nThreads, nThreads,\n                                  0L, TimeUnit.MILLISECONDS,\n                                  new LinkedBlockingQueue&lt;Runnable&gt;());\n}\n</code></pre>\n\n<p>To create a custom thead pool, you can just do. </p>\n\n<pre><code>ExecutorService service =   new ThreadPoolExecutor(5, 5,\n                                  0L, TimeUnit.MILLISECONDS,\n                                  new LinkedBlockingQueue&lt;Runnable&gt;(10));\n</code></pre>\n\n<p>Here we can specify the size of the queue, using the overloaded constructor of the LinkedBlockingQueue. </p>\n\n<pre><code>    public LinkedBlockingQueue(int capacity) {\n        if (capacity &lt;= 0) throw new IllegalArgumentException();\n        this.capacity = capacity;\n        last = head = new Node&lt;E&gt;(null);\n    }\n</code></pre>\n\n<p>Hope this helps. Cheers !!!</p>\n"},{"tags":[],"owner":{"account_id":16221511,"reputation":9,"user_id":11712959,"display_name":"GUTTI SUMANTH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646722891,"creation_date":1646722891,"answer_id":71391129,"question_id":53236911,"body_markdown":"For example if you working with Data Base(psql) which has capable of 100 connections at a time . and task may takes 2000ms ...\r\n\r\n``` \r\n        int THREADS = 50;\r\n        ExecutorService exe = new ThreadPoolExecutor(THREADS,\r\n                                                    50,\r\n                                                    0L,\r\n                                                     TimeUnit.MILLISECONDS,\r\n                                                     new ArrayBlockingQueue&lt;&gt;(10),\r\n                                                     new ThreadPoolExecutor.CallerRunsPolicy()); ```\r\n     \r\n","title":"Executor Thread Pool - limit queue size and dequeue oldest","body":"<p>For example if you working with Data Base(psql) which has capable of 100 connections at a time . and task may takes 2000ms ...</p>\n<pre><code>        int THREADS = 50;\n        ExecutorService exe = new ThreadPoolExecutor(THREADS,\n                                                    50,\n                                                    0L,\n                                                     TimeUnit.MILLISECONDS,\n                                                     new ArrayBlockingQueue&lt;&gt;(10),\n                                                     new ThreadPoolExecutor.CallerRunsPolicy()); ```\n     \n</code></pre>\n"}],"owner":{"account_id":9297133,"reputation":167,"user_id":6903701,"display_name":"user6903701"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14726,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":53236993,"answer_count":3,"score":10,"last_activity_date":1646722891,"creation_date":1541835027,"question_id":53236911,"body_markdown":"I am using a fixed thread pool for a consumer of produced messages within a spring boot application. My producer is producing (a lot) faster than the producer is able to handle a message, therefore the queue of the thread pool seems to be &quot;flooding&quot;. \r\n\r\nWhat would be the best way to limit the queue size? The intended queue behaviour would be &quot;if the queue is full, remove the head and insert the new Runnable&quot;. Is it possible to configure Executors thread pool like this?","title":"Executor Thread Pool - limit queue size and dequeue oldest","body":"<p>I am using a fixed thread pool for a consumer of produced messages within a spring boot application. My producer is producing (a lot) faster than the producer is able to handle a message, therefore the queue of the thread pool seems to be \"flooding\". </p>\n\n<p>What would be the best way to limit the queue size? The intended queue behaviour would be \"if the queue is full, remove the head and insert the new Runnable\". Is it possible to configure Executors thread pool like this?</p>\n"},{"tags":["java","android","file","android-external-storage","scoped-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646648554,"post_id":71378449,"comment_id":126167126,"body_markdown":"`if (!newDir.exists()) {\n            if(!newDir.mkdir()) return;`","body":"<code>if (!newDir.exists()) {             if(!newDir.mkdir()) return;</code>"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646648461,"creation_date":1646648461,"answer_id":71379572,"question_id":71378449,"body_markdown":"&gt;&gt;Environment.getExternalStorageDirectory()\r\n\r\nChange to: \r\n\r\n \r\n   \r\n    Environment.getExternalStoragePublicDirectory( Environment.DIRECTORY_DOCUMENTS)\r\n\r\nAnd you are done.","title":"create external file targeting android 12","body":"<blockquote>\n<blockquote>\n<p>Environment.getExternalStorageDirectory()</p>\n</blockquote>\n</blockquote>\n<p>Change to:</p>\n<pre><code>Environment.getExternalStoragePublicDirectory( Environment.DIRECTORY_DOCUMENTS)\n</code></pre>\n<p>And you are done.</p>\n"},{"tags":[],"owner":{"account_id":18400794,"reputation":143,"user_id":13403911,"display_name":"Yahya Durrani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646722625,"creation_date":1646722625,"answer_id":71391103,"question_id":71378449,"body_markdown":"You cannot create a new folder in root, you can although create a folder in type specific directories, for example if u want to save pictures in a folder, make a folder in DCIM or Pictures directory, Music for audio files, Documents for , well documents and so on,\r\nso basically, if you want to make a new folder instead of\r\n\r\n    try {\r\n        File ext = Environment.getExternalStorageDirectory();\r\n        File newDir = new File(ext + &quot;/&quot; + &quot;testFile&quot;);\r\n        if (!newDir.exists()) {\r\n            newDir.mkdir();\r\n        }\r\n    } catch (Exception ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\ndo this\r\n\r\n    try {\r\n        File ext = Environment.getExternalStorageDirectory();\r\n        File newDir = new File(ext +Environment.DIRECTORY_DOCUMENTS+ &quot;/&quot; + &quot;testFile&quot;); //or any other folder for specific purpose\r\n        if (!newDir.exists()) {\r\n            newDir.mkdir();\r\n        }\r\n    } catch (Exception ex) {\r\n        ex.printStackTrace();\r\n    }","title":"create external file targeting android 12","body":"<p>You cannot create a new folder in root, you can although create a folder in type specific directories, for example if u want to save pictures in a folder, make a folder in DCIM or Pictures directory, Music for audio files, Documents for , well documents and so on,\nso basically, if you want to make a new folder instead of</p>\n<pre><code>try {\n    File ext = Environment.getExternalStorageDirectory();\n    File newDir = new File(ext + &quot;/&quot; + &quot;testFile&quot;);\n    if (!newDir.exists()) {\n        newDir.mkdir();\n    }\n} catch (Exception ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n<p>do this</p>\n<pre><code>try {\n    File ext = Environment.getExternalStorageDirectory();\n    File newDir = new File(ext +Environment.DIRECTORY_DOCUMENTS+ &quot;/&quot; + &quot;testFile&quot;); //or any other folder for specific purpose\n    if (!newDir.exists()) {\n        newDir.mkdir();\n    }\n} catch (Exception ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":23305708,"reputation":41,"user_id":17385711,"display_name":"robot_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646722625,"creation_date":1646642862,"question_id":71378449,"body_markdown":"I assume the issue is related to the scoped storage changes introduced in android 11. However the online documentation did not make it clear for me how to approach this now. This is how it was done before:\r\n\r\n    try {\r\n            File ext = Environment.getExternalStorageDirectory();\r\n            File newDir = new File(ext + &quot;/&quot; + &quot;testFile&quot;);\r\n            if (!newDir.exists()) {\r\n                newDir.mkdir();\r\n            }\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\nKeep in mind that this app is already published in the store so tricking the manifest by requesting legacy access is not an option since it probably can&#39;t be pulished anymore then. \r\nWhat needs to be changed so I can achieve the same behaviour? \r\n\r\nSome background information: The app is creating playlists in that file so if the user switches his device he can copy the whole playlist onto the new device.","title":"create external file targeting android 12","body":"<p>I assume the issue is related to the scoped storage changes introduced in android 11. However the online documentation did not make it clear for me how to approach this now. This is how it was done before:</p>\n<pre><code>try {\n        File ext = Environment.getExternalStorageDirectory();\n        File newDir = new File(ext + &quot;/&quot; + &quot;testFile&quot;);\n        if (!newDir.exists()) {\n            newDir.mkdir();\n        }\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n</code></pre>\n<p>Keep in mind that this app is already published in the store so tricking the manifest by requesting legacy access is not an option since it probably can't be pulished anymore then.\nWhat needs to be changed so I can achieve the same behaviour?</p>\n<p>Some background information: The app is creating playlists in that file so if the user switches his device he can copy the whole playlist onto the new device.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646721907,"creation_date":1646653966,"answer_id":71380663,"question_id":71377219,"body_markdown":"To increment by one the value of the `date` property within all nodes, please use the following lines of code:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference outstdlnRef = db.child(&quot;outstdln&quot;);\r\n    outstdlnRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tds.child(&quot;date&quot;).getRef().setValue(ServerValue.increment(1));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nThis code will work only if you **change the type of the `date` property from String to a number**. It&#39;s really a bad practice to store numbers as strings. You should always store the data according to its correct data type.","title":"incrementing the value of child in firebase","body":"<p>To increment by one the value of the <code>date</code> property within all nodes, please use the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference outstdlnRef = db.child(&quot;outstdln&quot;);\noutstdlnRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                ds.child(&quot;date&quot;).getRef().setValue(ServerValue.increment(1));\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>This code will work only if you <strong>change the type of the <code>date</code> property from String to a number</strong>. It's really a bad practice to store numbers as strings. You should always store the data according to its correct data type.</p>\n"}],"owner":{"account_id":24475863,"reputation":13,"user_id":18394909,"display_name":"vamshidhar seelam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71380663,"answer_count":1,"score":0,"last_activity_date":1646721907,"creation_date":1646634854,"question_id":71377219,"body_markdown":"![firebase details photo][1]\r\n\r\nMy app is a monthly basis app. like every 1st of the month my app should do the calculations and update the data in firebase.. as there is no function like that I&#39;m using a button(reset) on which when clicked do the calculations and update in Firebase but I don&#39;t know how to update all date child in all nodes please help me.\r\n\r\nTill now I have tried this.\r\n\r\n    datarefoutstd = database.getReference(&quot;outstdln&quot;);\r\n\r\n    datarefoutstd.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            for (DataSnapshot outsnapshot: snapshot.getChildren()) {\r\n                outsnapshot.child(&quot;date&quot;).setValue(snapshot.getValue(Long.class)+1);\r\n\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n\r\n  [1]: https://i.stack.imgur.com/y8ffg.png\r\n\r\n","title":"incrementing the value of child in firebase","body":"<p><img src=\"https://i.stack.imgur.com/y8ffg.png\" alt=\"firebase details photo\" /></p>\n<p>My app is a monthly basis app. like every 1st of the month my app should do the calculations and update the data in firebase.. as there is no function like that I'm using a button(reset) on which when clicked do the calculations and update in Firebase but I don't know how to update all date child in all nodes please help me.</p>\n<p>Till now I have tried this.</p>\n<pre><code>datarefoutstd = database.getReference(&quot;outstdln&quot;);\n\ndatarefoutstd.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        for (DataSnapshot outsnapshot: snapshot.getChildren()) {\n            outsnapshot.child(&quot;date&quot;).setValue(snapshot.getValue(Long.class)+1);\n\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n"},{"tags":["java","selenium","automation"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646721427,"creation_date":1646721427,"answer_id":71390919,"question_id":71390798,"body_markdown":"This should do the job:\r\n\r\n    package foo;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    import java.util.Date;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Bar {\r\n    \r\n    \tpublic static File getNewestFileFromDir(File dir) throws IOException {\t\t\r\n    \t\tFile newestFile = null;\r\n    \t\tDate newestCreationDate = null;\r\n    \t\tFile[] files = dir.listFiles(File::isFile);\r\n    \t\tfor (File file: files) {\r\n    \t\t\tPath filePath = file.toPath();\r\n    \t\t\tBasicFileAttributes attributes = Files.readAttributes(filePath, BasicFileAttributes.class);\r\n    \t        long milliseconds = attributes.creationTime().to(TimeUnit.MILLISECONDS);\r\n    \t        if ((milliseconds &gt; Long.MIN_VALUE) &amp;&amp; (milliseconds &lt; Long.MAX_VALUE)) {\r\n    \t            Date creationDate = new Date(attributes.creationTime().to(TimeUnit.MILLISECONDS));\r\n    \t            if (newestCreationDate != null) {\r\n    \t            \tif (creationDate.after(newestCreationDate)) {\r\n    \t            \t\tnewestCreationDate = creationDate;\r\n    \t            \t\tnewestFile = file;\r\n    \t            \t}\r\n    \t            }\r\n    \t        }\r\n    \t\t}\r\n    \t\treturn newestFile;\r\n    \t}\r\n    \t\r\n    \tpublic static String getFileExtension(File file) {\r\n    \t\tString extension = &quot;&quot;;\r\n    \t\tString fileName = file.getName();\r\n    \t\tint i = fileName.lastIndexOf(&#39;.&#39;);\r\n    \t\tif (i &gt; 0) {\r\n    \t\t    extension = fileName.substring(i + 1).toLowerCase();\r\n    \t\t}\r\n    \t\treturn extension;\r\n    \t}\r\n    \r\n    }","title":"Fetch path of recently downloaded file","body":"<p>This should do the job:</p>\n<pre><code>package foo;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.Date;\nimport java.util.concurrent.TimeUnit;\n\npublic class Bar {\n\n    public static File getNewestFileFromDir(File dir) throws IOException {      \n        File newestFile = null;\n        Date newestCreationDate = null;\n        File[] files = dir.listFiles(File::isFile);\n        for (File file: files) {\n            Path filePath = file.toPath();\n            BasicFileAttributes attributes = Files.readAttributes(filePath, BasicFileAttributes.class);\n            long milliseconds = attributes.creationTime().to(TimeUnit.MILLISECONDS);\n            if ((milliseconds &gt; Long.MIN_VALUE) &amp;&amp; (milliseconds &lt; Long.MAX_VALUE)) {\n                Date creationDate = new Date(attributes.creationTime().to(TimeUnit.MILLISECONDS));\n                if (newestCreationDate != null) {\n                    if (creationDate.after(newestCreationDate)) {\n                        newestCreationDate = creationDate;\n                        newestFile = file;\n                    }\n                }\n            }\n        }\n        return newestFile;\n    }\n    \n    public static String getFileExtension(File file) {\n        String extension = &quot;&quot;;\n        String fileName = file.getName();\n        int i = fileName.lastIndexOf('.');\n        if (i &gt; 0) {\n            extension = fileName.substring(i + 1).toLowerCase();\n        }\n        return extension;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19469710,"reputation":15,"user_id":14242337,"display_name":"prathameshmore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71390919,"answer_count":1,"score":0,"last_activity_date":1646721427,"creation_date":1646720452,"question_id":71390798,"body_markdown":"I&#39;m working on an automation task, where a file gets downloaded and I have to extract path of that downloaded file alongwith name (I know that file will be downloaded in **Downloads** folder, but I want path for the latest downloaded file only). Ultimately, I want to fetch extension. But I&#39;ll be able to fetch extension only when path is available, please help me out with extracting path. ","title":"Fetch path of recently downloaded file","body":"<p>I'm working on an automation task, where a file gets downloaded and I have to extract path of that downloaded file alongwith name (I know that file will be downloaded in <strong>Downloads</strong> folder, but I want path for the latest downloaded file only). Ultimately, I want to fetch extension. But I'll be able to fetch extension only when path is available, please help me out with extracting path.</p>\n"},{"tags":["java","google-oauth","google-oauth-java-client"],"comments":[{"owner":{"account_id":1861986,"reputation":1003,"user_id":1686407,"display_name":"min"},"score":0,"creation_date":1667903023,"post_id":70184446,"comment_id":131273250,"body_markdown":"you can try to use `MemoryDataStoreFactory` to simplify your work.","body":"you can try to use <code>MemoryDataStoreFactory</code> to simplify your work."},{"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"score":0,"creation_date":1668768819,"post_id":70184446,"comment_id":131492097,"body_markdown":"@min I never did actually figure this out, but as a workaround I ended up using `FileDataStoreFactory` loaded from the local file system.","body":"@min I never did actually figure this out, but as a workaround I ended up using <code>FileDataStoreFactory</code> loaded from the local file system."},{"owner":{"account_id":1866573,"reputation":1130,"user_id":1689987,"accept_rate":100,"display_name":"user1689987"},"score":0,"creation_date":1670612061,"post_id":70184446,"comment_id":131921642,"body_markdown":"I found a couple articles but I haven&#39;t tried them yet:\n\nhttps://medium.com/@dirkvranckaert/google-authentication-with-jpa-f1c78d386c45\n\nhttps://mlescaille.medium.com/using-a-db-and-jpa-as-data-store-for-google-authentication-e1780b22e772","body":"I found a couple articles but I haven&#39;t tried them yet:  <a href=\"https://medium.com/@dirkvranckaert/google-authentication-with-jpa-f1c78d386c45\" rel=\"nofollow noreferrer\">medium.com/@dirkvranckaert/&hellip;</a>  <a href=\"https://mlescaille.medium.com/using-a-db-and-jpa-as-data-store-for-google-authentication-e1780b22e772\" rel=\"nofollow noreferrer\">mlescaille.medium.com/&hellip;</a>"}],"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1646721226,"creation_date":1638362637,"question_id":70184446,"body_markdown":"I&#39;m trying to implement a custom `DataStoreFactory` as mentioned in the [docs here][1] so that I can authenticate with Google APIs and store my access/refresh tokens in my database, but I can&#39;t find any documentation or examples of a custom implementation e.g. \r\n\r\n    // Build flow and trigger user authorization request.\r\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                 .setDataStoreFactory(new MyCustomDatastoreFactory() )\r\n                 .setAccessType(&quot;offline&quot;)\r\n                 .build();\r\n\r\nIf I implement the `DataStoreFactory` interface, it gives me one method to implement:\r\n\r\n    import java.io.IOException;\r\n    import java.io.Serializable;\r\n    \r\n    import com.google.api.client.util.store.DataStore;\r\n    import com.google.api.client.util.store.DataStoreFactory;\r\n    \r\n    public class MyCustomDatastoreFactory implements DataStoreFactory {\r\n    \r\n        @Override\r\n        public &lt;V extends Serializable&gt; DataStore&lt;V&gt; getDataStore(String arg0) throws IOException {\r\n            ...\r\n        }\r\n    \r\n    }\r\n\r\nThe `DataStore` object has several methods that need to be implemented, but I&#39;m not sure where and how exactly I need to use this to retrieve and store my credentials:\r\n\r\n    new DataStore&lt;Serializable&gt;() {\r\n    \r\n        @Override\r\n        public DataStore&lt;Serializable&gt; clear() throws IOException {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public boolean containsKey(String arg0) throws IOException {\r\n            // TODO Auto-generated method stub\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean containsValue(Serializable arg0) throws IOException {\r\n            // TODO Auto-generated method stub\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public DataStore&lt;Serializable&gt; delete(String arg0) throws IOException {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Serializable get(String arg0) throws IOException {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public DataStoreFactory getDataStoreFactory() {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public String getId() {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEmpty() throws IOException {\r\n            // TODO Auto-generated method stub\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;String&gt; keySet() throws IOException {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public DataStore&lt;Serializable&gt; set(String arg0, Serializable arg1) throws IOException {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public int size() throws IOException {\r\n            // TODO Auto-generated method stub\r\n            return 0;\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;Serializable&gt; values() throws IOException {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    };\r\n\r\nThere is also `DataStoreCredentialRefreshListener` class, but do I need to implement that and associate it with my `DataStoreFactory` or `DataStore` so that it will automatically update my DB with new tokens?\r\n\r\n  [1]: https://developers.google.com/api-client-library/java/google-api-java-client/oauth2#data_store","title":"How to implement a custom DataStoreFactory for use with Google APIs using OAuth2?","body":"<p>I'm trying to implement a custom <code>DataStoreFactory</code> as mentioned in the <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/oauth2#data_store\" rel=\"nofollow noreferrer\">docs here</a> so that I can authenticate with Google APIs and store my access/refresh tokens in my database, but I can't find any documentation or examples of a custom implementation e.g.</p>\n<pre><code>// Build flow and trigger user authorization request.\nGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n             .setDataStoreFactory(new MyCustomDatastoreFactory() )\n             .setAccessType(&quot;offline&quot;)\n             .build();\n</code></pre>\n<p>If I implement the <code>DataStoreFactory</code> interface, it gives me one method to implement:</p>\n<pre><code>import java.io.IOException;\nimport java.io.Serializable;\n\nimport com.google.api.client.util.store.DataStore;\nimport com.google.api.client.util.store.DataStoreFactory;\n\npublic class MyCustomDatastoreFactory implements DataStoreFactory {\n\n    @Override\n    public &lt;V extends Serializable&gt; DataStore&lt;V&gt; getDataStore(String arg0) throws IOException {\n        ...\n    }\n\n}\n</code></pre>\n<p>The <code>DataStore</code> object has several methods that need to be implemented, but I'm not sure where and how exactly I need to use this to retrieve and store my credentials:</p>\n<pre><code>new DataStore&lt;Serializable&gt;() {\n\n    @Override\n    public DataStore&lt;Serializable&gt; clear() throws IOException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public boolean containsKey(String arg0) throws IOException {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public boolean containsValue(Serializable arg0) throws IOException {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public DataStore&lt;Serializable&gt; delete(String arg0) throws IOException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Serializable get(String arg0) throws IOException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public DataStoreFactory getDataStoreFactory() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public String getId() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public boolean isEmpty() throws IOException {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public Set&lt;String&gt; keySet() throws IOException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public DataStore&lt;Serializable&gt; set(String arg0, Serializable arg1) throws IOException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public int size() throws IOException {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public Collection&lt;Serializable&gt; values() throws IOException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n};\n</code></pre>\n<p>There is also <code>DataStoreCredentialRefreshListener</code> class, but do I need to implement that and associate it with my <code>DataStoreFactory</code> or <code>DataStore</code> so that it will automatically update my DB with new tokens?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646720459,"creation_date":1646720267,"answer_id":71390778,"question_id":71390729,"body_markdown":"The answer is:\r\n\r\n```java\r\nPerson p1 = new Person(&quot;John&quot;, new MyDate(3, 8, 2022));\r\n```\r\n\r\nYou can also instantiate a date first, separately, then pass the variable to the constructor for the `Person` object:\r\n\r\n```java\r\nMyDate endOfCovid = new MyDate(12, 25, 9999);\r\nPerson someGuy = new Person(&quot;John&quot;, endOfCovid);\r\n```","title":"How to make an object that has a another object as a parameter in JAVA","body":"<p>The answer is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person p1 = new Person(&quot;John&quot;, new MyDate(3, 8, 2022));\n</code></pre>\n<p>You can also instantiate a date first, separately, then pass the variable to the constructor for the <code>Person</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyDate endOfCovid = new MyDate(12, 25, 9999);\nPerson someGuy = new Person(&quot;John&quot;, endOfCovid);\n</code></pre>\n"}],"owner":{"account_id":23585396,"reputation":3,"user_id":17623910,"display_name":"TheGermanShrimp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71390778,"answer_count":1,"score":0,"last_activity_date":1646721156,"creation_date":1646719908,"question_id":71390729,"body_markdown":"So I have 2 constructors\r\n\r\none for the object MyDate:\r\n\r\n    public MyDate(int month, int day, int year) {\r\n\t\tthis.month = month;\r\n\t\tthis.day = day;\r\n\t\tthis.year = year;\r\n\r\nand one for the object Person:\r\n\r\n    public Person(String name, MyDate dob) {\r\n\t\tthis.name = name;\r\n\t\tthis.dob = dob;\r\n\r\nso how do I make a new Person object in my main method?\r\n\r\n    Person p1 = new Person(?????);","title":"How to make an object that has a another object as a parameter in JAVA","body":"<p>So I have 2 constructors</p>\n<p>one for the object MyDate:</p>\n<pre><code>public MyDate(int month, int day, int year) {\n    this.month = month;\n    this.day = day;\n    this.year = year;\n</code></pre>\n<p>and one for the object Person:</p>\n<pre><code>public Person(String name, MyDate dob) {\n    this.name = name;\n    this.dob = dob;\n</code></pre>\n<p>so how do I make a new Person object in my main method?</p>\n<pre><code>Person p1 = new Person(?????);\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646707663,"post_id":71389433,"comment_id":126185351,"body_markdown":"The `T`&#39;s aren&#39;t all the same, so don&#39;t use the same letter. What you really need is more like `public static List&lt;Cake&gt; union(List&lt;T extends Cake&gt; listA, List&lt;U extends Cake&gt; listB)`.","body":"The <code>T</code>&#39;s aren&#39;t all the same, so don&#39;t use the same letter. What you really need is more like <code>public static List&lt;Cake&gt; union(List&lt;T extends Cake&gt; listA, List&lt;U extends Cake&gt; listB)</code>."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646707967,"creation_date":1646707967,"answer_id":71389507,"question_id":71389433,"body_markdown":"Change the return type to `List&lt;Cake&gt;` and your second version should work fine:\r\n\r\n    public static List&lt;Cake&gt; union(List&lt;? extends Cake&gt; listA, List&lt;? extends Cake&gt; listB) {\r\n        List&lt;Cake&gt; returnObject = new ArrayList&lt;&gt;();\r\n        returnObject.addAll(listA);\r\n        returnObject.addAll(listB);\r\n        return returnObject;\r\n    }\r\n\r\nIf you want the option to return some common subtype of `Cake`, you can combine the wildcard with the generic parameter:\r\n\r\n    public static &lt;T extends Cake&gt; List&lt;T&gt; union(List&lt;? extends T&gt; listA, List&lt;? extends T&gt; listB) {\r\n        List&lt;T&gt; returnObject = new ArrayList&lt;&gt;();\r\n        returnObject.addAll(listA);\r\n        returnObject.addAll(listB);\r\n        return returnObject;\r\n    }","title":"Java Generics - Equality constraint in parameters","body":"<p>Change the return type to <code>List&lt;Cake&gt;</code> and your second version should work fine:</p>\n<pre><code>public static List&lt;Cake&gt; union(List&lt;? extends Cake&gt; listA, List&lt;? extends Cake&gt; listB) {\n    List&lt;Cake&gt; returnObject = new ArrayList&lt;&gt;();\n    returnObject.addAll(listA);\n    returnObject.addAll(listB);\n    return returnObject;\n}\n</code></pre>\n<p>If you want the option to return some common subtype of <code>Cake</code>, you can combine the wildcard with the generic parameter:</p>\n<pre><code>public static &lt;T extends Cake&gt; List&lt;T&gt; union(List&lt;? extends T&gt; listA, List&lt;? extends T&gt; listB) {\n    List&lt;T&gt; returnObject = new ArrayList&lt;&gt;();\n    returnObject.addAll(listA);\n    returnObject.addAll(listB);\n    return returnObject;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646708025,"creation_date":1646708025,"answer_id":71389512,"question_id":71389433,"body_markdown":"Your existing code can only union two lists of exactly the same type. However you can change your type signature (the rest of the code can be left unchanged) to\r\n\r\n    public static &lt;T extends Cake&gt; List&lt;T&gt; union(\r\n        List&lt;? extends T&gt; listA, List&lt;? extends T&gt; listB\r\n    )\r\n\r\nIn that case, you&#39;re saying that the two lists can be of any type, as long as that type is a subtype of `T`, which is a subtype of `Cake`.","title":"Java Generics - Equality constraint in parameters","body":"<p>Your existing code can only union two lists of exactly the same type. However you can change your type signature (the rest of the code can be left unchanged) to</p>\n<pre><code>public static &lt;T extends Cake&gt; List&lt;T&gt; union(\n    List&lt;? extends T&gt; listA, List&lt;? extends T&gt; listB\n)\n</code></pre>\n<p>In that case, you're saying that the two lists can be of any type, as long as that type is a subtype of <code>T</code>, which is a subtype of <code>Cake</code>.</p>\n"},{"tags":[],"owner":{"account_id":20490512,"reputation":21,"user_id":15036693,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646721115,"creation_date":1646721115,"answer_id":71390868,"question_id":71389433,"body_markdown":"```\r\npackage cake;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n\r\n    public static List&lt;Cake&gt; unionB(List&lt;Cake&gt; listA, List&lt;Cake&gt; listB) {\r\n        List&lt;Cake&gt; returnObject = new ArrayList&lt;&gt;();\r\n        returnObject.addAll(listA);\r\n        returnObject.addAll(listB);\r\n        return returnObject;\r\n    }\r\n\r\n    public static List&lt;Cake&gt; unionC(List&lt;ChocolateCake&gt; listA, List&lt;VanillaCake&gt; listB) {\r\n        List&lt;Cake&gt; returnObject = new ArrayList&lt;&gt;();\r\n        returnObject.addAll(listA);\r\n        returnObject.addAll(listB);\r\n        return returnObject;\r\n    }\r\n\r\n    public static List&lt;Cake&gt; unionD(List&lt;? extends Cake&gt; listA, List&lt;? extends Cake&gt; listB) {\r\n        List&lt;Cake&gt; returnObject = new ArrayList&lt;&gt;();\r\n        returnObject.addAll(listA);\r\n        returnObject.addAll(listB);\r\n        return returnObject;\r\n    }\r\n\r\n    public static void setB() {\r\n\r\n        List&lt;Cake&gt; a = new ArrayList&lt;&gt;();\r\n        a.add(new ChocolateCake());\r\n\r\n        List&lt;Cake&gt; b = new ArrayList&lt;&gt;();\r\n        b.add(new VanillaCake());\r\n\r\n        unionB(a, b);\r\n    }\r\n\r\n    public static void setC() {\r\n\r\n        List&lt;ChocolateCake&gt; a = new ArrayList&lt;&gt;();\r\n        a.add(new ChocolateCake());\r\n\r\n        List&lt;VanillaCake&gt; b = new ArrayList&lt;&gt;();\r\n        b.add(new VanillaCake());\r\n\r\n        unionC(a, b);\r\n    }\r\n\r\n    public static void setD() {\r\n\r\n        List&lt;ChocolateCake&gt; a = new ArrayList&lt;&gt;();\r\n        a.add(new ChocolateCake());\r\n\r\n        List&lt;VanillaCake&gt; b = new ArrayList&lt;&gt;();\r\n        b.add(new VanillaCake());\r\n\r\n        unionD(a, b);\r\n    }\r\n}\r\n```\r\nThis three method is also work. \r\n\r\n1. unionB, unionC, unionD parameter type depends on your real parameter, when we need type like `? extends T`, generally there is a container, and the container need keep different type inherit from T. In this case, T is Cake.\r\n2. `? extends T` container can not update, so your second method will cause compile error.\r\n3. you change the three method return type to List&lt;? extends Cake&gt;","title":"Java Generics - Equality constraint in parameters","body":"<pre><code>package cake;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n\n    public static List&lt;Cake&gt; unionB(List&lt;Cake&gt; listA, List&lt;Cake&gt; listB) {\n        List&lt;Cake&gt; returnObject = new ArrayList&lt;&gt;();\n        returnObject.addAll(listA);\n        returnObject.addAll(listB);\n        return returnObject;\n    }\n\n    public static List&lt;Cake&gt; unionC(List&lt;ChocolateCake&gt; listA, List&lt;VanillaCake&gt; listB) {\n        List&lt;Cake&gt; returnObject = new ArrayList&lt;&gt;();\n        returnObject.addAll(listA);\n        returnObject.addAll(listB);\n        return returnObject;\n    }\n\n    public static List&lt;Cake&gt; unionD(List&lt;? extends Cake&gt; listA, List&lt;? extends Cake&gt; listB) {\n        List&lt;Cake&gt; returnObject = new ArrayList&lt;&gt;();\n        returnObject.addAll(listA);\n        returnObject.addAll(listB);\n        return returnObject;\n    }\n\n    public static void setB() {\n\n        List&lt;Cake&gt; a = new ArrayList&lt;&gt;();\n        a.add(new ChocolateCake());\n\n        List&lt;Cake&gt; b = new ArrayList&lt;&gt;();\n        b.add(new VanillaCake());\n\n        unionB(a, b);\n    }\n\n    public static void setC() {\n\n        List&lt;ChocolateCake&gt; a = new ArrayList&lt;&gt;();\n        a.add(new ChocolateCake());\n\n        List&lt;VanillaCake&gt; b = new ArrayList&lt;&gt;();\n        b.add(new VanillaCake());\n\n        unionC(a, b);\n    }\n\n    public static void setD() {\n\n        List&lt;ChocolateCake&gt; a = new ArrayList&lt;&gt;();\n        a.add(new ChocolateCake());\n\n        List&lt;VanillaCake&gt; b = new ArrayList&lt;&gt;();\n        b.add(new VanillaCake());\n\n        unionD(a, b);\n    }\n}\n</code></pre>\n<p>This three method is also work.</p>\n<ol>\n<li>unionB, unionC, unionD parameter type depends on your real parameter, when we need type like <code>? extends T</code>, generally there is a container, and the container need keep different type inherit from T. In this case, T is Cake.</li>\n<li><code>? extends T</code> container can not update, so your second method will cause compile error.</li>\n<li>you change the three method return type to List&lt;? extends Cake&gt;</li>\n</ol>\n"}],"owner":{"account_id":2053255,"reputation":542,"user_id":1831731,"display_name":"Francisco Carriedo Scher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71389507,"answer_count":3,"score":0,"last_activity_date":1646721115,"creation_date":1646707196,"question_id":71389433,"body_markdown":"Imagine the following class hierarchy:\r\n\r\n```\r\nCake\r\n\\- ChocolateCake\r\n  \\- StuffedChocolateCake\r\n\\- VanillaCake\r\n```\r\nI want to write a method to combine Lists of ChocolateCake and VanillaCake, something like:\r\n\r\n```\r\n    public static &lt;T extends Cake&gt; List&lt;T&gt; union(List&lt;T&gt; listA, List&lt;T&gt; listB) {\r\n        List&lt;T&gt; returnObject = new ArrayList&lt;&gt;();\r\n        returnObject.addAll(listA);\r\n        returnObject.addAll(listB);\r\n        return returnObject;\r\n    }\r\n```\r\n\r\nThis throws a compilation error I understand:\r\n```\r\ninferred type does not conform to equality constraint(s)\r\n```\r\n\r\nI tried removing the equality constraint doing something like this:\r\n```\r\n    public static List&lt;? extends Cake&gt; union(List&lt;? extends Cake&gt; listA, List&lt;? extends Cake&gt; listB) {\r\n        List&lt;? extends Cake&gt; returnObject = new ArrayList&lt;&gt;();\r\n        returnObject.addAll(listA);\r\n        returnObject.addAll(listB);\r\n        return returnObject;\r\n    }\r\n```\r\nI guess this is a rather basic scenario for Java Generics, what would be the right way of getting this right?\r\n\r\nThanks in advance for your time!","title":"Java Generics - Equality constraint in parameters","body":"<p>Imagine the following class hierarchy:</p>\n<pre><code>Cake\n\\- ChocolateCake\n  \\- StuffedChocolateCake\n\\- VanillaCake\n</code></pre>\n<p>I want to write a method to combine Lists of ChocolateCake and VanillaCake, something like:</p>\n<pre><code>    public static &lt;T extends Cake&gt; List&lt;T&gt; union(List&lt;T&gt; listA, List&lt;T&gt; listB) {\n        List&lt;T&gt; returnObject = new ArrayList&lt;&gt;();\n        returnObject.addAll(listA);\n        returnObject.addAll(listB);\n        return returnObject;\n    }\n</code></pre>\n<p>This throws a compilation error I understand:</p>\n<pre><code>inferred type does not conform to equality constraint(s)\n</code></pre>\n<p>I tried removing the equality constraint doing something like this:</p>\n<pre><code>    public static List&lt;? extends Cake&gt; union(List&lt;? extends Cake&gt; listA, List&lt;? extends Cake&gt; listB) {\n        List&lt;? extends Cake&gt; returnObject = new ArrayList&lt;&gt;();\n        returnObject.addAll(listA);\n        returnObject.addAll(listB);\n        return returnObject;\n    }\n</code></pre>\n<p>I guess this is a rather basic scenario for Java Generics, what would be the right way of getting this right?</p>\n<p>Thanks in advance for your time!</p>\n"},{"tags":["java","spring-boot","docker","kubernetes","tomcat"],"comments":[{"owner":{"account_id":23782503,"reputation":845,"user_id":17795006,"display_name":"anarxz"},"score":0,"creation_date":1646388155,"post_id":71337822,"comment_id":126115753,"body_markdown":"Could you please provide Docker image &amp; MyExample.war file to have a look?","body":"Could you please provide Docker image &amp; MyExample.war file to have a look?"}],"answers":[{"tags":[],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646720277,"creation_date":1646720277,"answer_id":71390779,"question_id":71337822,"body_markdown":"It was due to permission issues in the kubernetes pod. I copied the war file into tomcat/webapps directory with the root user and then i had switched to tomcat user in the dockerFile. Which somehow used to work in local docker in my system, but failed in kubernetes pod. \r\n\r\n\r\n","title":"Exception fixing docBase for context - Error thrown but Successfull deployment","body":"<p>It was due to permission issues in the kubernetes pod. I copied the war file into tomcat/webapps directory with the root user and then i had switched to tomcat user in the dockerFile. Which somehow used to work in local docker in my system, but failed in kubernetes pod.</p>\n"}],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646720277,"creation_date":1646313232,"question_id":71337822,"body_markdown":"I have built a docker image based on tomcat base image and copying the MyExample.war file to tomcat/webapp folder in my custom dockerFile and built an image.\r\nIt successfully deploys the war file and is able to run on my system with docker.\r\n\r\nBut when i deploy the same image in kubernetes server. It deploys the application successfully.\r\nAnd the pod becomes up. But i see an error in the log as below. \r\n\r\n    {&quot;type&quot;:&quot;log&quot;, &quot;level&quot;:&quot;ERROR&quot;, &quot;time&quot;:&quot;2022-03-03T12:18:38.081Z&quot;, &quot;message&quot;:&quot;Exception fixing docBase for context [/MyExample]&quot;}\r\n\r\n\r\nAnd there is no stack trace available i enabled debug logs and checked.\r\nwhat is the cause of this error is unknown since i don&#39;t have any stacktrace. \r\n\r\nBelow is the full stackTrace when this error is printed.\r\n\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;IntrospectionUtils:org.apache.catalina.core.StandardContext.addWatchedResource( WEB-INF/tomcat-web.xml)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,&quot;level&quot;:&quot;DEBUG&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;characters(\\n    )&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;startElement(,,WatchedResource)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  New match=&#39;Context/WatchedResource&#39;&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire begin() for CallMethodRule[methodName=addWatchedResource, paramCount=0, paramTypes={java.lang.String}]&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;characters(${catalina.base}/conf/web.xml)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;endElement(,,WatchedResource)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  match=&#39;Context/WatchedResource&#39;&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  bodyText=&#39;${catalina.base}/conf/web.xml&#39;&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire body() for CallMethodRule[methodName=addWatchedResource, paramCount=0, paramTypes={java.lang.String}]&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire end() for CallMethodRule[methodName=addWatchedResource, paramCount=0, paramTypes={java.lang.String}]&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;[CallMethodRule]{Context/WatchedResource} Call org.apache.catalina.core.StandardContext.addWatchedResource(/opt/tomcat/conf/web.xml/java.lang.String)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;IntrospectionUtils:org.apache.catalina.core.StandardContext.addWatchedResource( /opt/tomcat/conf/web.xml)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;characters(\\n\\n    )&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;characters(\\n    )&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;characters(\\n)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;endElement(,,Context)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  match=&#39;Context&#39;&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  bodyText=&#39;\\n\\n    \\n    \\n    \\n    \\n    \\n\\n    \\n    \\n&#39;&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire body() for SetPropertiesRule[]&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire end() for SetPropertiesRule[]&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;endDocument():  2 elements left&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Successfully processed context [/MyExample] configuration file [file:/opt/tomcat/conf/context.xml]&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Setting state for [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/MyExample]] to [STARTING_PREP]&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;ERROR&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.081Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Exception fixing docBase for context [/MyExample]&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.081Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Starting MyExample&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.087Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Configuring default Resources&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.091Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Setting state for [org.apache.catalina.webresources.StandardRoot@6b587673] to [INITIALIZING]&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.091Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Managed= Catalina:type=WebResourceRoot,host=localhost,context=/MyExample&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.091Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Looking for descriptor &quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.092Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Found jar:file:/opt/tomcat/lib/catalina.jar!/org/apache/catalina/webresources/mbeans-descriptors.xml&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.092Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;setDocumentLocator(com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser$LocatorProxy@1bbae752)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.092Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;startDocument()&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.092Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;resolveEntity(&#39;-//Apache Software Foundation//DTD Model MBeans Configuration File&#39;, &#39;http://jakarta.apache.org/commons/dtds/mbeans-descriptors.dtd&#39;, &#39;null&#39;)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.093Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot; Resolving to alternate DTD &#39;jar:file:/opt/tomcat/lib/tomcat-coyote.jar!/org/apache/tomcat/util/modeler/mbeans-descriptors.dtd&#39;&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;startElement(,,mbeans-descriptors)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  New match=&#39;mbeans-descriptors&#39;&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;No rules found matching [mbeans-descriptors]&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;ignorableWhitespace(\\n\\n  )&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;startElement(,,mbean)&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  New match=&#39;mbeans-descriptors/mbean&#39;&quot;}}\r\n    {&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire begin() for ObjectCreateRule[className=org.apache.tomcat.util.modeler.ManagedBean, attributeName=null]&quot;}}\r\n\r\n\r\nThis error is not seen when i run it in local docker on my system, where as only on kubernetes cluster when i deploy it i see this error.  But Application is deployed successfully after the error and i&#39;m able to access the services. Also the time taken for tomcat to initialize and deploy the application is more than 5 minutes. Where as in local docker it is in seconds.\r\nDOn&#39;t know if this error is causing this delay. Any help will be appreciated.","title":"Exception fixing docBase for context - Error thrown but Successfull deployment","body":"<p>I have built a docker image based on tomcat base image and copying the MyExample.war file to tomcat/webapp folder in my custom dockerFile and built an image.\nIt successfully deploys the war file and is able to run on my system with docker.</p>\n<p>But when i deploy the same image in kubernetes server. It deploys the application successfully.\nAnd the pod becomes up. But i see an error in the log as below.</p>\n<pre><code>{&quot;type&quot;:&quot;log&quot;, &quot;level&quot;:&quot;ERROR&quot;, &quot;time&quot;:&quot;2022-03-03T12:18:38.081Z&quot;, &quot;message&quot;:&quot;Exception fixing docBase for context [/MyExample]&quot;}\n</code></pre>\n<p>And there is no stack trace available i enabled debug logs and checked.\nwhat is the cause of this error is unknown since i don't have any stacktrace.</p>\n<p>Below is the full stackTrace when this error is printed.</p>\n<pre><code>{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;IntrospectionUtils:org.apache.catalina.core.StandardContext.addWatchedResource( WEB-INF/tomcat-web.xml)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,&quot;level&quot;:&quot;DEBUG&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;characters(\\n    )&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;startElement(,,WatchedResource)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  New match='Context/WatchedResource'&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire begin() for CallMethodRule[methodName=addWatchedResource, paramCount=0, paramTypes={java.lang.String}]&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;characters(${catalina.base}/conf/web.xml)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;endElement(,,WatchedResource)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  match='Context/WatchedResource'&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  bodyText='${catalina.base}/conf/web.xml'&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire body() for CallMethodRule[methodName=addWatchedResource, paramCount=0, paramTypes={java.lang.String}]&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire end() for CallMethodRule[methodName=addWatchedResource, paramCount=0, paramTypes={java.lang.String}]&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;[CallMethodRule]{Context/WatchedResource} Call org.apache.catalina.core.StandardContext.addWatchedResource(/opt/tomcat/conf/web.xml/java.lang.String)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;IntrospectionUtils:org.apache.catalina.core.StandardContext.addWatchedResource( /opt/tomcat/conf/web.xml)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.078Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;characters(\\n\\n    )&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;characters(\\n    )&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;characters(\\n)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;endElement(,,Context)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  match='Context'&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  bodyText='\\n\\n    \\n    \\n    \\n    \\n    \\n\\n    \\n    \\n'&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire body() for SetPropertiesRule[]&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire end() for SetPropertiesRule[]&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;endDocument():  2 elements left&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Successfully processed context [/MyExample] configuration file [file:/opt/tomcat/conf/context.xml]&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.079Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Setting state for [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/MyExample]] to [STARTING_PREP]&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;ERROR&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.081Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Exception fixing docBase for context [/MyExample]&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.081Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Starting MyExample&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.087Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Configuring default Resources&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.091Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Setting state for [org.apache.catalina.webresources.StandardRoot@6b587673] to [INITIALIZING]&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.091Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Managed= Catalina:type=WebResourceRoot,host=localhost,context=/MyExample&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.091Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Looking for descriptor &quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.092Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;Found jar:file:/opt/tomcat/lib/catalina.jar!/org/apache/catalina/webresources/mbeans-descriptors.xml&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.092Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;setDocumentLocator(com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser$LocatorProxy@1bbae752)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.092Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;startDocument()&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.092Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;resolveEntity('-//Apache Software Foundation//DTD Model MBeans Configuration File', 'http://jakarta.apache.org/commons/dtds/mbeans-descriptors.dtd', 'null')&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.093Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot; Resolving to alternate DTD 'jar:file:/opt/tomcat/lib/tomcat-coyote.jar!/org/apache/tomcat/util/modeler/mbeans-descriptors.dtd'&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;startElement(,,mbeans-descriptors)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  New match='mbeans-descriptors'&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;No rules found matching [mbeans-descriptors]&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;ignorableWhitespace(\\n\\n  )&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;startElement(,,mbean)&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  New match='mbeans-descriptors/mbean'&quot;}}\n{&quot;type&quot;:&quot;log&quot;,  &quot;level&quot;:&quot;DEBUG&quot;, &quot;neid&quot;:&quot;0&quot;,  &quot;time&quot;:&quot;2022-03-03T12:18:38.094Z&quot;, &quot;log&quot;:{&quot;message&quot;:&quot;  Fire begin() for ObjectCreateRule[className=org.apache.tomcat.util.modeler.ManagedBean, attributeName=null]&quot;}}\n</code></pre>\n<p>This error is not seen when i run it in local docker on my system, where as only on kubernetes cluster when i deploy it i see this error.  But Application is deployed successfully after the error and i'm able to access the services. Also the time taken for tomcat to initialize and deploy the application is more than 5 minutes. Where as in local docker it is in seconds.\nDOn't know if this error is causing this delay. Any help will be appreciated.</p>\n"},{"tags":["java","generics","polymorphism"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646720019,"post_id":71390715,"comment_id":126187334,"body_markdown":"*As I understand, #CAP1 of &quot;? extends Number&quot; is Integer*. Why do you say that?","body":"<i>As I understand, #CAP1 of &quot;? extends Number&quot; is Integer</i>. Why do you say that?"},{"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"score":0,"creation_date":1646720412,"post_id":71390715,"comment_id":126187427,"body_markdown":"@shmosel Because I am assigning new ArrayList&lt;Integer&gt;() to nums in the first line.","body":"@shmosel Because I am assigning new ArrayList&lt;Integer&gt;() to nums in the first line."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1646720532,"post_id":71390715,"comment_id":126187453,"body_markdown":"That&#39;s lost to the compiler as soon as you assign it. It&#39;s like assigning an `Integer` to a `Number` variable.","body":"That&#39;s lost to the compiler as soon as you assign it. It&#39;s like assigning an <code>Integer</code> to a <code>Number</code> variable."},{"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"score":0,"creation_date":1646720676,"post_id":71390715,"comment_id":126187478,"body_markdown":"@shmosel You are saying at Line 2, Compile dont know what is #CAP1, All it knows is nums contains data of Number or its subtypes. But dont know which exact subtype it is.","body":"@shmosel You are saying at Line 2, Compile dont know what is #CAP1, All it knows is nums contains data of Number or its subtypes. But dont know which exact subtype it is."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1646721994,"post_id":71390715,"comment_id":126187768,"body_markdown":"That&#39;s correct.","body":"That&#39;s correct."}],"owner":{"account_id":147805,"reputation":3135,"user_id":359179,"accept_rate":95,"display_name":"Tarun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646719832,"creation_date":1646719832,"question_id":71390715,"body_markdown":"I have following code inspect:    \r\n\r\n    List&lt;? extends Number&gt; nums = new ArrayList&lt;Integer&gt;(); // Line 1  \r\n    int a = nums.get(0); // Line 2 - cannot convert from capture#1-of ? extends Number to int\r\n\r\nPolymorphically, I can understand why it makes sense to for line 2 to generate error.     This is because nums may contain list of any child of Number (Long,Integer etc) so its only allowed to assign to Parent type (Number).    \r\nFrom perspective of wildcard capturing, I am facing difficulty to make sense of it. As I understand, #CAP1 of &quot;? extends Number&quot; is Integer so i should be able to do line 2.  \r\nCould someone please help me explain the behavior in terms of wildcard capturing.\r\n\r\nRegards,  \r\nTarun ","title":"Problem in understanding wildcard capturing","body":"<p>I have following code inspect:</p>\n<pre><code>List&lt;? extends Number&gt; nums = new ArrayList&lt;Integer&gt;(); // Line 1  \nint a = nums.get(0); // Line 2 - cannot convert from capture#1-of ? extends Number to int\n</code></pre>\n<p>Polymorphically, I can understand why it makes sense to for line 2 to generate error.     This is because nums may contain list of any child of Number (Long,Integer etc) so its only allowed to assign to Parent type (Number).<br />\nFrom perspective of wildcard capturing, I am facing difficulty to make sense of it. As I understand, #CAP1 of &quot;? extends Number&quot; is Integer so i should be able to do line 2.<br />\nCould someone please help me explain the behavior in terms of wildcard capturing.</p>\n<p>Regards,<br />\nTarun</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10519995,"reputation":109,"user_id":7752882,"display_name":"Awais Rashid"},"score":1,"creation_date":1646639444,"post_id":71375390,"comment_id":126164433,"body_markdown":"why ain&#39;t you persisting data using\n`JpaRepository&lt;Table, PrimaryKey-DataType&gt;`","body":"why ain&#39;t you persisting data using <code>JpaRepository&lt;Table, PrimaryKey-DataType&gt;</code>"},{"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"score":0,"creation_date":1646671077,"post_id":71375390,"comment_id":126175852,"body_markdown":"What is MyChart? `public class TableADao extends AbstractJpaDao&lt;MyChart&gt; {`? What is returning Dao by id `public TableADao get(final Long id) {`?","body":"What is MyChart? <code>public class TableADao extends AbstractJpaDao&lt;MyChart&gt; {</code>? What is returning Dao by id <code>public TableADao get(final Long id) {</code>?"},{"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"score":0,"creation_date":1646677090,"post_id":71375390,"comment_id":126178128,"body_markdown":"@MuhammadAwaisRashid, I tried JpaRepository and that didn&#39;t work either.","body":"@MuhammadAwaisRashid, I tried JpaRepository and that didn&#39;t work either."},{"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"score":0,"creation_date":1646677132,"post_id":71375390,"comment_id":126178145,"body_markdown":"@AndriySlobodyanyk, it is a typo. MyChart is actually TableA and get returns TableA.","body":"@AndriySlobodyanyk, it is a typo. MyChart is actually TableA and get returns TableA."},{"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"score":0,"creation_date":1646743121,"post_id":71375390,"comment_id":126194713,"body_markdown":"`c.m.d.AbstractJpaDao                     : in create... persist...` where does it come from? How do you create/save entities? Don&#39;t you mind to fix typos and update the question?","body":"<code>c.m.d.AbstractJpaDao                     : in create... persist...</code> where does it come from? How do you create/save entities? Don&#39;t you mind to fix typos and update the question?"},{"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"score":0,"creation_date":1646776863,"post_id":71375390,"comment_id":126207116,"body_markdown":"@AndriySlobodyanyk, I already fixed the typo that I have spotted. **in create... persist** came from AbstractJpaDao create method just before calling entityManager.persist.","body":"@AndriySlobodyanyk, I already fixed the typo that I have spotted. <b>in create... persist</b> came from AbstractJpaDao create method just before calling entityManager.persist."},{"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"score":0,"creation_date":1646820034,"post_id":71375390,"comment_id":126216484,"body_markdown":"I still don&#39;t see the log call with `in create... persist...` at the provided code. Also, could you confirm that after fixing the typo `TableADaoService` still accepts and returns `TableADao` instead of `TableA` at `create` and `get` methods? Do you understand the difference between `TableADao` and `TableA` classes?","body":"I still don&#39;t see the log call with <code>in create... persist...</code> at the provided code. Also, could you confirm that after fixing the typo <code>TableADaoService</code> still accepts and returns <code>TableADao</code> instead of <code>TableA</code> at <code>create</code> and <code>get</code> methods? Do you understand the difference between <code>TableADao</code> and <code>TableA</code> classes?"},{"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"score":0,"creation_date":1646873645,"post_id":71375390,"comment_id":126234053,"body_markdown":"I added the log after I shared my code. As noted earlier, it was just before calling entityManager.persist in AbstractJpaDao.create. I solved this problem after fixing multiple issues. Some of them are as below:","body":"I added the log after I shared my code. As noted earlier, it was just before calling entityManager.persist in AbstractJpaDao.create. I solved this problem after fixing multiple issues. Some of them are as below:"},{"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"score":0,"creation_date":1646874238,"post_id":71375390,"comment_id":126234141,"body_markdown":"When I ran this code in debug mode, I found out that I had multiple issues and one of them include moving the @ Transactional to AbstractEntityDao and removed class level @ Transactional in the service class. I also had issues with id in TableB. Also included &quot;readOnly = false&quot; for create method of AbstractEntityDao.","body":"When I ran this code in debug mode, I found out that I had multiple issues and one of them include moving the @ Transactional to AbstractEntityDao and removed class level @ Transactional in the service class. I also had issues with id in TableB. Also included &quot;readOnly = false&quot; for create method of AbstractEntityDao."}],"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646716303,"creation_date":1646614110,"question_id":71375390,"body_markdown":"I have written code to persist an object using spring boot / JPA and Hibernate.\r\n\r\nNOTE: I have changed the actual names of the classes for confidentiality.\r\n\r\nTableA object is not getting persisted when I call, TableADaoService.create method. The instance of TableADaoService is autowired in the class where I am calling create.\r\n    \r\nWhat is that I am missing? I spent nearly 2 days to read through various materials and SO postings. I am fairly new to this topic and this is my first code that uses spring boot / JPA and Hibernate to persist an object.\r\n    \r\nI am able to write the object into file using GSon and that&#39;s looks perfectly fine. But the write to mysql is not working. I am not getting any exception as well. It is just that when I do a get call to read from the DB, I see that it doesn&#39;t exist.\r\n    \r\nRelevant properties of application.properties as below:\r\n    \r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/MySchema\r\nspring.datasource.username=root\r\nspring.datasource.password=XXX    \r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.properties.hibernate.id.new_generator_mappings = false\r\nspring.jpa.properties.hibernate.format_sql = true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql = true\r\nspring.jpa.generate-ddl=true\r\nspring.sql.init.mode=always\r\n```\r\n\r\nBelow is the definition of my Class: (Ignored the getter/setters for brevity)\r\n    \r\n```\r\n    @Entity\r\n    @Table(name = &quot;TABLEA&quot;, uniqueConstraints = {\r\n    \t\t\t\t@UniqueConstraint(columnNames = &quot;ID&quot;)})\r\n    @JsonIgnoreProperties(value = { &quot;creationTime&quot;, &quot;updatedTime&quot; }, allowGetters = true, ignoreUnknown = true)\r\n    public class TableA implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;ID&quot;, unique = true, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;NAME&quot;, unique = false, nullable = false, length = 100)\r\n    \tprivate String Name;\r\n     \r\n        @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n        @JoinTable(name=&quot;A_B&quot;, joinColumns={@JoinColumn(name=&quot;A_ID&quot;, referencedColumnName=&quot;ID&quot;)}\r\n        \t, inverseJoinColumns={@JoinColumn(name=&quot;B_ID&quot;, referencedColumnName=&quot;ID&quot;)})\r\n        private List&lt;TableB&gt; cList = new ArrayList&lt;&gt;();\r\n    \r\n        @Temporal(value=TemporalType.TIMESTAMP)\r\n        @Column(name=&quot;CREATED_TIME&quot;)\r\n        private Date creationTime;\r\n        \r\n        @Temporal(value=TemporalType.TIMESTAMP)\r\n        @Column(name=&quot;UPDATED_TIME&quot;)\r\n        private Date updatedTime;\r\n     }\r\n  ```\r\n    \r\n    TableB class is as below: (Ignoring getter/setters for brevity) \r\n    \r\n    ```\r\n    @Entity\r\n    @Table(name = &quot;TABLEB&quot;, uniqueConstraints = {\r\n    \t\t@UniqueConstraint(columnNames = &quot;ID&quot;)})\r\n    @CacheConfig(cacheNames={&quot;houseDatacache&quot;})\r\n    public class TableB implements Serializable {\r\n    \tprivate static final long serialVersionUID = 2L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;ID&quot;, unique = true, nullable = false)\r\n    \tprivate Long id;\r\n    \tprivate String Name;\r\n    \tprivate int HouseNumber;\r\n    \r\n    \t@OneToMany(cascade = CascadeType.ALL)\r\n    \t@JoinTable(name=&quot;B_C&quot;, joinColumns={@JoinColumn(name=&quot;B_ID&quot;, referencedColumnName=&quot;ID&quot;)}\r\n    \t, inverseJoinColumns={@JoinColumn(name=&quot;C_ID&quot;, referencedColumnName=&quot;ID&quot;)})\r\n    \t//@JoinColumn(name=&quot;planet_id&quot;)\t \r\n    \tprivate Set&lt;C&gt; cSet = new HashSet&lt;&gt;();\r\n    \r\n    \t@Temporal(value=TemporalType.TIMESTAMP)\r\n    \t@Column(name=&quot;CREATED_TIME&quot;)\r\n    \tprivate Date creationTime;\r\n    \r\n    \t@Temporal(value=TemporalType.TIMESTAMP)\r\n    \t@Column(name=&quot;UPDATED_TIME&quot;)\r\n    \tprivate Date updatedTime;\r\n    }\r\n    ```\r\n    \r\n    Below is the definition of TableADao class:\r\n    ```\r\n    @Repository\r\n    @Transactional(readOnly = false)\r\n    public class TableADao extends AbstractJpaDao&lt;MyChart&gt; {\r\n    \tpublic TableADao() {\r\n            super();\r\n            setClazz(MyChart.class);\r\n        }\r\n    }\r\n    ```\r\n    AbstractJpaDao as below:\r\n    \r\n    ```\r\n    public abstract class AbstractJpaDao&lt;T extends Serializable&gt; {\r\n        private Class&lt;T&gt; clazz;\r\n    \r\n        @PersistenceContext(unitName = &quot;entityManagerFactory&quot;)\r\n        private EntityManager entityManager;\r\n    \r\n        public final void setClazz(final Class&lt;T&gt; clazzToSet) {\r\n            this.clazz = clazzToSet;\r\n        }\r\n    \r\n        public T get(final Long id) {\r\n            return entityManager.find(clazz, id);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public List&lt;T&gt; findAll() {\r\n            return entityManager.createQuery(&quot;from &quot; + clazz.getName()).getResultList();\r\n        }\r\n    \r\n        public T create(final T entity) {\r\n            entityManager.persist(entity);\r\n            return entity;\r\n        }\r\n    \r\n        public T update(final T entity) {\r\n            return entityManager.merge(entity);\r\n        }\r\n    \r\n        public void delete(final T entity) {\r\n            entityManager.remove(entity);\r\n        }\r\n    \r\n        public void deleteById(final Long entityId) {\r\n            final T entity = get(entityId);\r\n            delete(entity);\r\n        }\r\n    }\r\n    ```\r\n    \r\n    ```\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @ComponentScan(&quot;com.xxx\r\n    &quot;)\r\n    public class EntityManagerFactoriesConfiguration {\r\n    \t@Autowired\r\n        private DataSource dataSource;\r\n    \tprivate static Logger logger = LoggerFactory.getLogger(EntityManagerFactoriesConfiguration.class);\r\n    \r\n        @Bean(name = &quot;entityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\r\n            emf.setDataSource(dataSource);\r\n            emf.setPackagesToScan(new String[] {&quot;com.xxx&quot;});\r\n            emf.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n            return emf;\r\n       }\r\n        \r\n        @Bean\r\n        public PlatformTransactionManager transactienter code hereonManager() {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\r\n    \r\n            return transactionManager;\r\n        }\r\n    \r\n        @Bean\r\n        public PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\r\n            return new PersistenceExceptionTranslationPostProcessor();\r\n        }\r\n    }\r\n    ```\r\n    \r\n    MyChartService class is as below:\r\n    \r\n    ```\r\n    @Service\r\n    public class TableADaoService {\r\n    \t\r\n    \tprivate static Logger logger = LoggerFactory.getLogger(TableADao.class);\r\n    \tprivate TableADao dao;\r\n    \t \r\n    \tpublic TableADaoervice(TableDao dao) {\r\n    \t\tthis.dao = dao;\r\n    \t}\r\n    \r\n    \tpublic TableADao get(final Long id) {\r\n        \treturn dao.get(id);\r\n    \t}\r\n        \r\n    \t@Transactional\r\n    \tpublic TableADao create(final TableADao result) {\r\n    \t\tlogger.debug(&quot;In TableADao service save profile:&quot;);\r\n    \t\tif(result != null) {\r\n    \t\t\tDate date = new Date();\r\n    \t\t\tresult.setCreationTime(date);\r\n    \t\t}\r\n    \t\treturn dao.create(result);\r\n    \t}\r\n       }\r\n    ```\r\n\r\nUPDATE 1: After enabling debug on, I am seeing below error that the transaction is getting rolled back but not sure why though.\r\n\r\n```\r\n2022-03-06 23:36:04.728 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Found thread-bound EntityManager [SessionImpl(428197716&lt;open&gt;)] for JPA transaction\r\n2022-03-06 23:36:04.729 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Creating new transaction with name [com.xxx.service.TableAService.create]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n2022-03-06 23:36:04.729 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@370f2e18]\r\n2022-03-06 23:36:04.730 DEBUG 36389 --- [http-nio-8085-exec-1] c.m.s.TableAService                     : In TableA service save profile:\r\n2022-03-06 23:36:04.730 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Found thread-bound EntityManager [SessionImpl(428197716&lt;open&gt;)] for JPA transaction\r\n2022-03-06 23:36:04.730 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Participating in existing transaction\r\n2022-03-06 23:36:04.730 DEBUG 36389 --- [http-nio-8085-exec-1] c.m.d.AbstractJpaDao                     : in create... persist...\r\n2022-03-06 23:36:04.734 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Participating transaction failed - marking existing transaction as rollback-only\r\n2022-03-06 23:36:04.734 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Setting JPA transaction on EntityManager [SessionImpl(428197716&lt;open&gt;)] rollback-only\r\n2022-03-06 23:36:04.734 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Initiating transaction rollback\r\n2022-03-06 23:36:04.734 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Rolling back JPA transaction on EntityManager [SessionImpl(428197716&lt;open&gt;)]\r\n2022-03-06 23:36:04.736 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Not closing pre-bound JPA EntityManager after transaction\r\n20\r\n```\r\n\r\nUPDATE 2:\r\n\r\nWhen I ran the application in debug mode in Eclipse, I got the below exception:\r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.xxx.entity.TableA; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: \r\n```\r\n\r\nThe child TableB should NOT already exist in the DB and hence I am not sure why I am seeing this error. I tried to change Cascade.ALL to Cascade.PERSIST and still the same error.\r\n\r\nWhat is that I am missing? Also, why did I not see this exception when I didn&#39;t run in debug mode? \r\n\r\n\r\nUPDATE 3: I made some progress. While trying to persist TableA which has unidirectional OnetoMany relationship with Table B, I am getting below exception:\r\n\r\nCan someone help me understand what is going on here? \r\n\r\nNOTE: I am using the profile ID as the ID for both Table A and Table B. I am no longer auto generating it.\r\n\r\n```\r\n2022-03-07 21:00:28.349 DEBUG 39462 --- [http-nio-8085-exec-2] o.s.o.j.JpaTransactionManager            : Found thread-bound EntityManager [SessionImpl(1155241674PersistenceContext[entityKeys=[EntityKey[com.xxx.entity.TableC#20], EntityKey[com.xxx.entity.UserProfile#47], EntityKey[com.xxx.entity.UserProfile#46]], collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction\r\n2022-03-07 21:00:28.370 DEBUG 39462 --- [http-nio-8085-exec-2] o.s.o.j.JpaTransactionManager            : Creating new transaction with name [com.xxx.dao.TableADao.create]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,-java.lang.Exception\r\n2022-03-07 21:00:28.378 DEBUG 39462 --- [http-nio-8085-exec-2] o.h.e.t.i.TransactionImpl                : begin\r\n2022-03-07 21:00:28.384 TRACE 39462 --- [http-nio-8085-exec-2] j.i.AbstractLogicalConnectionImplementor : Preparing to begin transaction via JDBC Connection.setAutoCommit(false)\r\n2022-03-07 21:00:28.395 TRACE 39462 --- [http-nio-8085-exec-2] j.i.AbstractLogicalConnectionImplementor : Transaction begun via JDBC Connection.setAutoCommit(false)\r\n2022-03-07 21:00:28.401 TRACE 39462 --- [http-nio-8085-exec-2] cResourceLocalTransactionCoordinatorImpl : ResourceLocalTransactionCoordinatorImpl#afterBeginCallback\r\n2022-03-07 21:00:28.407 DEBUG 39462 --- [http-nio-8085-exec-2] o.s.o.j.JpaTransactionManager            : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f165f83]\r\n2022-03-07 21:00:28.416 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.s.IdentifierValue                  : ID unsaved-value strategy UNDEFINED\r\n2022-03-07 21:00:28.422 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.EntityState                      : Transient instance of: com.xxx.entity.TableA\r\n2022-03-07 21:00:28.429 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.DefaultPersistEventListener      : Saving transient instance\r\n2022-03-07 21:00:28.434 DEBUG 39462 --- [http-nio-8085-exec-2] o.h.e.i.AbstractSaveEventListener        : Generated identifier: 47, using strategy: org.hibernate.id.Assigned\r\n2022-03-07 21:00:28.442 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.AbstractSaveEventListener        : Saving [com.xxx.entity.MyChart#47]\r\n2022-03-07 21:00:28.448 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.Cascade                          : Processing cascade ACTION_PERSIST for: com.xxx.entity.TableA\r\n2022-03-07 21:00:28.455 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.Cascade                          : Done processing cascade ACTION_PERSIST for: com.xxx.entity.TableA\r\n2022-03-07 21:00:28.767 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.WrapVisitor                      : Wrapped collection in role: com.xxx.entity.TableA.TableB\r\n2022-03-07 21:00:28.775 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.s.ActionQueue                      : Adding an EntityInsertAction for [com.xxx.entity.TableA] object\r\n2022-03-07 21:00:28.782 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.s.ActionQueue                      : Adding insert with no non-nullable, transient entities: [EntityInsertAction[com.xxx.entity.TableA#47]]\r\n2022-03-07 21:00:28.790 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.s.ActionQueue                      : Adding resolved non-early insert action.\r\n2022-03-07 21:00:28.822 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.Cascade                          : Processing cascade ACTION_PERSIST for: com.xxx.entity.TableA\r\n2022-03-07 21:00:28.832 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.Cascade                          : Cascade ACTION_PERSIST for collection: com.xxx.entity.TableA.TableB\r\n2022-03-07 21:00:28.855 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.s.CascadingAction                  : Cascading to persist: com.xxx.entity.TableB\r\n2022-03-07 21:00:28.880 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.EntityState                      : Transient instance of: com.xxx.entity.TableB\r\n2022-03-07 21:00:28.887 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.DefaultPersistEventListener      : Saving transient instance\r\n2022-03-07 21:00:28.908 DEBUG 39462 --- [http-nio-8085-exec-2] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)\r\n\r\njava.lang.Exception: exception just for purpose of providing stack trace\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:324) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.engine.transaction.internal.TransactionImpl.markRollbackOnly(TransactionImpl.java:203) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:428) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:297) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:155) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:790) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:752) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:543) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:474) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:135) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) [hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:760) [hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:746) [hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) [spring-orm-5.3.15.jar:5.3.15]\r\n        at jdk.proxy2.$Proxy158.persist(Unknown Source) [?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n```\r\n\r\n\r\n","title":"Unable to persist object using Spring/JPA/Hibernate","body":"<p>I have written code to persist an object using spring boot / JPA and Hibernate.</p>\n<p>NOTE: I have changed the actual names of the classes for confidentiality.</p>\n<p>TableA object is not getting persisted when I call, TableADaoService.create method. The instance of TableADaoService is autowired in the class where I am calling create.</p>\n<p>What is that I am missing? I spent nearly 2 days to read through various materials and SO postings. I am fairly new to this topic and this is my first code that uses spring boot / JPA and Hibernate to persist an object.</p>\n<p>I am able to write the object into file using GSon and that's looks perfectly fine. But the write to mysql is not working. I am not getting any exception as well. It is just that when I do a get call to read from the DB, I see that it doesn't exist.</p>\n<p>Relevant properties of application.properties as below:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/MySchema\nspring.datasource.username=root\nspring.datasource.password=XXX    \nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.properties.hibernate.id.new_generator_mappings = false\nspring.jpa.properties.hibernate.format_sql = true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql = true\nspring.jpa.generate-ddl=true\nspring.sql.init.mode=always\n</code></pre>\n<p>Below is the definition of my Class: (Ignored the getter/setters for brevity)</p>\n<pre><code>    @Entity\n    @Table(name = &quot;TABLEA&quot;, uniqueConstraints = {\n                    @UniqueConstraint(columnNames = &quot;ID&quot;)})\n    @JsonIgnoreProperties(value = { &quot;creationTime&quot;, &quot;updatedTime&quot; }, allowGetters = true, ignoreUnknown = true)\n    public class TableA implements Serializable {\n        private static final long serialVersionUID = 1L;\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;ID&quot;, unique = true, nullable = false)\n        private Long id;\n    \n        @Column(name = &quot;NAME&quot;, unique = false, nullable = false, length = 100)\n        private String Name;\n     \n        @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n        @JoinTable(name=&quot;A_B&quot;, joinColumns={@JoinColumn(name=&quot;A_ID&quot;, referencedColumnName=&quot;ID&quot;)}\n            , inverseJoinColumns={@JoinColumn(name=&quot;B_ID&quot;, referencedColumnName=&quot;ID&quot;)})\n        private List&lt;TableB&gt; cList = new ArrayList&lt;&gt;();\n    \n        @Temporal(value=TemporalType.TIMESTAMP)\n        @Column(name=&quot;CREATED_TIME&quot;)\n        private Date creationTime;\n        \n        @Temporal(value=TemporalType.TIMESTAMP)\n        @Column(name=&quot;UPDATED_TIME&quot;)\n        private Date updatedTime;\n     }\n</code></pre>\n<pre><code>TableB class is as below: (Ignoring getter/setters for brevity) \n\n```\n@Entity\n@Table(name = &quot;TABLEB&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = &quot;ID&quot;)})\n@CacheConfig(cacheNames={&quot;houseDatacache&quot;})\npublic class TableB implements Serializable {\n    private static final long serialVersionUID = 2L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;, unique = true, nullable = false)\n    private Long id;\n    private String Name;\n    private int HouseNumber;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinTable(name=&quot;B_C&quot;, joinColumns={@JoinColumn(name=&quot;B_ID&quot;, referencedColumnName=&quot;ID&quot;)}\n    , inverseJoinColumns={@JoinColumn(name=&quot;C_ID&quot;, referencedColumnName=&quot;ID&quot;)})\n    //@JoinColumn(name=&quot;planet_id&quot;)  \n    private Set&lt;C&gt; cSet = new HashSet&lt;&gt;();\n\n    @Temporal(value=TemporalType.TIMESTAMP)\n    @Column(name=&quot;CREATED_TIME&quot;)\n    private Date creationTime;\n\n    @Temporal(value=TemporalType.TIMESTAMP)\n    @Column(name=&quot;UPDATED_TIME&quot;)\n    private Date updatedTime;\n}\n```\n\nBelow is the definition of TableADao class:\n```\n@Repository\n@Transactional(readOnly = false)\npublic class TableADao extends AbstractJpaDao&lt;MyChart&gt; {\n    public TableADao() {\n        super();\n        setClazz(MyChart.class);\n    }\n}\n```\nAbstractJpaDao as below:\n\n```\npublic abstract class AbstractJpaDao&lt;T extends Serializable&gt; {\n    private Class&lt;T&gt; clazz;\n\n    @PersistenceContext(unitName = &quot;entityManagerFactory&quot;)\n    private EntityManager entityManager;\n\n    public final void setClazz(final Class&lt;T&gt; clazzToSet) {\n        this.clazz = clazzToSet;\n    }\n\n    public T get(final Long id) {\n        return entityManager.find(clazz, id);\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public List&lt;T&gt; findAll() {\n        return entityManager.createQuery(&quot;from &quot; + clazz.getName()).getResultList();\n    }\n\n    public T create(final T entity) {\n        entityManager.persist(entity);\n        return entity;\n    }\n\n    public T update(final T entity) {\n        return entityManager.merge(entity);\n    }\n\n    public void delete(final T entity) {\n        entityManager.remove(entity);\n    }\n\n    public void deleteById(final Long entityId) {\n        final T entity = get(entityId);\n        delete(entity);\n    }\n}\n```\n\n```\n@Configuration\n@EnableTransactionManagement\n@ComponentScan(&quot;com.xxx\n&quot;)\npublic class EntityManagerFactoriesConfiguration {\n    @Autowired\n    private DataSource dataSource;\n    private static Logger logger = LoggerFactory.getLogger(EntityManagerFactoriesConfiguration.class);\n\n    @Bean(name = &quot;entityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\n        emf.setDataSource(dataSource);\n        emf.setPackagesToScan(new String[] {&quot;com.xxx&quot;});\n        emf.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        return emf;\n   }\n    \n    @Bean\n    public PlatformTransactionManager transactienter code hereonManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\n\n        return transactionManager;\n    }\n\n    @Bean\n    public PersistenceExceptionTranslationPostProcessor exceptionTranslation(){\n        return new PersistenceExceptionTranslationPostProcessor();\n    }\n}\n```\n\nMyChartService class is as below:\n\n```\n@Service\npublic class TableADaoService {\n    \n    private static Logger logger = LoggerFactory.getLogger(TableADao.class);\n    private TableADao dao;\n     \n    public TableADaoervice(TableDao dao) {\n        this.dao = dao;\n    }\n\n    public TableADao get(final Long id) {\n        return dao.get(id);\n    }\n    \n    @Transactional\n    public TableADao create(final TableADao result) {\n        logger.debug(&quot;In TableADao service save profile:&quot;);\n        if(result != null) {\n            Date date = new Date();\n            result.setCreationTime(date);\n        }\n        return dao.create(result);\n    }\n   }\n```\n</code></pre>\n<p>UPDATE 1: After enabling debug on, I am seeing below error that the transaction is getting rolled back but not sure why though.</p>\n<pre><code>2022-03-06 23:36:04.728 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Found thread-bound EntityManager [SessionImpl(428197716&lt;open&gt;)] for JPA transaction\n2022-03-06 23:36:04.729 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Creating new transaction with name [com.xxx.service.TableAService.create]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n2022-03-06 23:36:04.729 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@370f2e18]\n2022-03-06 23:36:04.730 DEBUG 36389 --- [http-nio-8085-exec-1] c.m.s.TableAService                     : In TableA service save profile:\n2022-03-06 23:36:04.730 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Found thread-bound EntityManager [SessionImpl(428197716&lt;open&gt;)] for JPA transaction\n2022-03-06 23:36:04.730 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Participating in existing transaction\n2022-03-06 23:36:04.730 DEBUG 36389 --- [http-nio-8085-exec-1] c.m.d.AbstractJpaDao                     : in create... persist...\n2022-03-06 23:36:04.734 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Participating transaction failed - marking existing transaction as rollback-only\n2022-03-06 23:36:04.734 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Setting JPA transaction on EntityManager [SessionImpl(428197716&lt;open&gt;)] rollback-only\n2022-03-06 23:36:04.734 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Initiating transaction rollback\n2022-03-06 23:36:04.734 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Rolling back JPA transaction on EntityManager [SessionImpl(428197716&lt;open&gt;)]\n2022-03-06 23:36:04.736 DEBUG 36389 --- [http-nio-8085-exec-1] o.s.o.j.JpaTransactionManager            : Not closing pre-bound JPA EntityManager after transaction\n20\n</code></pre>\n<p>UPDATE 2:</p>\n<p>When I ran the application in debug mode in Eclipse, I got the below exception:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.xxx.entity.TableA; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: \n</code></pre>\n<p>The child TableB should NOT already exist in the DB and hence I am not sure why I am seeing this error. I tried to change Cascade.ALL to Cascade.PERSIST and still the same error.</p>\n<p>What is that I am missing? Also, why did I not see this exception when I didn't run in debug mode?</p>\n<p>UPDATE 3: I made some progress. While trying to persist TableA which has unidirectional OnetoMany relationship with Table B, I am getting below exception:</p>\n<p>Can someone help me understand what is going on here?</p>\n<p>NOTE: I am using the profile ID as the ID for both Table A and Table B. I am no longer auto generating it.</p>\n<pre><code>2022-03-07 21:00:28.349 DEBUG 39462 --- [http-nio-8085-exec-2] o.s.o.j.JpaTransactionManager            : Found thread-bound EntityManager [SessionImpl(1155241674PersistenceContext[entityKeys=[EntityKey[com.xxx.entity.TableC#20], EntityKey[com.xxx.entity.UserProfile#47], EntityKey[com.xxx.entity.UserProfile#46]], collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction\n2022-03-07 21:00:28.370 DEBUG 39462 --- [http-nio-8085-exec-2] o.s.o.j.JpaTransactionManager            : Creating new transaction with name [com.xxx.dao.TableADao.create]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,-java.lang.Exception\n2022-03-07 21:00:28.378 DEBUG 39462 --- [http-nio-8085-exec-2] o.h.e.t.i.TransactionImpl                : begin\n2022-03-07 21:00:28.384 TRACE 39462 --- [http-nio-8085-exec-2] j.i.AbstractLogicalConnectionImplementor : Preparing to begin transaction via JDBC Connection.setAutoCommit(false)\n2022-03-07 21:00:28.395 TRACE 39462 --- [http-nio-8085-exec-2] j.i.AbstractLogicalConnectionImplementor : Transaction begun via JDBC Connection.setAutoCommit(false)\n2022-03-07 21:00:28.401 TRACE 39462 --- [http-nio-8085-exec-2] cResourceLocalTransactionCoordinatorImpl : ResourceLocalTransactionCoordinatorImpl#afterBeginCallback\n2022-03-07 21:00:28.407 DEBUG 39462 --- [http-nio-8085-exec-2] o.s.o.j.JpaTransactionManager            : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f165f83]\n2022-03-07 21:00:28.416 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.s.IdentifierValue                  : ID unsaved-value strategy UNDEFINED\n2022-03-07 21:00:28.422 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.EntityState                      : Transient instance of: com.xxx.entity.TableA\n2022-03-07 21:00:28.429 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.DefaultPersistEventListener      : Saving transient instance\n2022-03-07 21:00:28.434 DEBUG 39462 --- [http-nio-8085-exec-2] o.h.e.i.AbstractSaveEventListener        : Generated identifier: 47, using strategy: org.hibernate.id.Assigned\n2022-03-07 21:00:28.442 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.AbstractSaveEventListener        : Saving [com.xxx.entity.MyChart#47]\n2022-03-07 21:00:28.448 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.Cascade                          : Processing cascade ACTION_PERSIST for: com.xxx.entity.TableA\n2022-03-07 21:00:28.455 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.Cascade                          : Done processing cascade ACTION_PERSIST for: com.xxx.entity.TableA\n2022-03-07 21:00:28.767 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.WrapVisitor                      : Wrapped collection in role: com.xxx.entity.TableA.TableB\n2022-03-07 21:00:28.775 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.s.ActionQueue                      : Adding an EntityInsertAction for [com.xxx.entity.TableA] object\n2022-03-07 21:00:28.782 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.s.ActionQueue                      : Adding insert with no non-nullable, transient entities: [EntityInsertAction[com.xxx.entity.TableA#47]]\n2022-03-07 21:00:28.790 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.s.ActionQueue                      : Adding resolved non-early insert action.\n2022-03-07 21:00:28.822 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.Cascade                          : Processing cascade ACTION_PERSIST for: com.xxx.entity.TableA\n2022-03-07 21:00:28.832 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.Cascade                          : Cascade ACTION_PERSIST for collection: com.xxx.entity.TableA.TableB\n2022-03-07 21:00:28.855 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.s.CascadingAction                  : Cascading to persist: com.xxx.entity.TableB\n2022-03-07 21:00:28.880 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.EntityState                      : Transient instance of: com.xxx.entity.TableB\n2022-03-07 21:00:28.887 TRACE 39462 --- [http-nio-8085-exec-2] o.h.e.i.DefaultPersistEventListener      : Saving transient instance\n2022-03-07 21:00:28.908 DEBUG 39462 --- [http-nio-8085-exec-2] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)\n\njava.lang.Exception: exception just for purpose of providing stack trace\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:324) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.engine.transaction.internal.TransactionImpl.markRollbackOnly(TransactionImpl.java:203) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:428) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:297) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:155) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:790) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:752) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:543) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:474) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:135) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) [hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:760) [hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:746) [hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) [spring-orm-5.3.15.jar:5.3.15]\n        at jdk.proxy2.$Proxy158.persist(Unknown Source) [?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n</code></pre>\n"},{"tags":["java","caching","spring-aop","aspect"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646733131,"post_id":71390295,"comment_id":126191171,"body_markdown":"Where is your full, minimal, reproducible example? I cannot compile and debug an incoherent set of snippets. There are simply too many options what you could have done wrong, and this is not a guessing game.","body":"Where is your full, minimal, reproducible example? I cannot compile and debug an incoherent set of snippets. There are simply too many options what you could have done wrong, and this is not a guessing game."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646790209,"post_id":71390295,"comment_id":126209615,"body_markdown":"Looking at this question again, I guess it is simply a duplicate of [that one](https://stackoverflow.com/a/56616248/1082681).","body":"Looking at this question again, I guess it is simply a duplicate of <a href=\"https://stackoverflow.com/a/56616248/1082681\">that one</a>."}],"owner":{"account_id":8678409,"reputation":455,"user_id":8231333,"display_name":"arunken"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646716165,"creation_date":1646716165,"question_id":71390295,"body_markdown":"\r\n  Here is the interface code. Here the abstract method `getItemById` is called inside `findById`. This was causing the spring proxy to not work as intented.\r\n\r\n      @Nullable\r\n      T getItemById(@NotNull final String id);\r\n    \r\n      @NotNull\r\n      default Optional&lt;T&gt; findById(@Nullable final String id) {\r\n        return isBlank(id) ? Optional.empty() : Optional.ofNullable(getItemById(id));\r\n      }\r\n\r\n\r\nThe following is an implementation of of the interface :\r\n\r\n          @Override\r\n          @Nullable\r\n          @Cacheable(value = &quot;cartCache&quot;)\r\n          public Cart getItemById(@NotNull final String id) {\r\n            //get data from DB\r\n          }\r\n\r\n\r\nWhen I call the method from the autowired class directly `service.getItemById()` then it would work. But when I call `service.findById()`it isn&#39;t working due to aspect not getting applied for the method.I have read tht aspectj being a solution but I don&#39;t know it&#39;s working very well and how to implement it in the following case.\r\n\r\nI have came across a [post][1] which uses `@Scope(proxyMode = ScopedProxyMode.TARGET_CLASS)` annotation. But it is on a class and an object of the service is also create inside itself. As I coulnd&#39;t do this in my interface, I don&#39;t know how to proceed.\r\n\r\n  [1]: https://stackoverflow.com/questions/16899604/spring-cache-cacheable-not-working-while-calling-from-another-method-of-the-s/34091265#34091265","title":"Spring cache proxy issue when method called within the same class","body":"<p>Here is the interface code. Here the abstract method <code>getItemById</code> is called inside <code>findById</code>. This was causing the spring proxy to not work as intented.</p>\n<pre><code>  @Nullable\n  T getItemById(@NotNull final String id);\n\n  @NotNull\n  default Optional&lt;T&gt; findById(@Nullable final String id) {\n    return isBlank(id) ? Optional.empty() : Optional.ofNullable(getItemById(id));\n  }\n</code></pre>\n<p>The following is an implementation of of the interface :</p>\n<pre><code>      @Override\n      @Nullable\n      @Cacheable(value = &quot;cartCache&quot;)\n      public Cart getItemById(@NotNull final String id) {\n        //get data from DB\n      }\n</code></pre>\n<p>When I call the method from the autowired class directly <code>service.getItemById()</code> then it would work. But when I call <code>service.findById()</code>it isn't working due to aspect not getting applied for the method.I have read tht aspectj being a solution but I don't know it's working very well and how to implement it in the following case.</p>\n<p>I have came across a <a href=\"https://stackoverflow.com/questions/16899604/spring-cache-cacheable-not-working-while-calling-from-another-method-of-the-s/34091265#34091265\">post</a> which uses <code>@Scope(proxyMode = ScopedProxyMode.TARGET_CLASS)</code> annotation. But it is on a class and an object of the service is also create inside itself. As I coulnd't do this in my interface, I don't know how to proceed.</p>\n"},{"tags":["java","tuples","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":22168905,"reputation":26,"user_id":16414668,"display_name":"Marcelo C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646716135,"creation_date":1625836177,"answer_id":68317357,"question_id":67593543,"body_markdown":"You can try this. (Fixed up)\r\n\r\n    List&lt;Product&gt; products = productsTuple\r\n\t            .stream()\r\n\t            .map(p -&gt; {\r\n\t            \tMap&lt;String, Object&gt; maps = new HashMap&lt;&gt;();\r\n\t    \t\t\tp.getElements().forEach(te -&gt; {\r\n\t    \t\t\t\tmaps.put(te.getAlias(), p.get(te.getAlias()));\r\n\t    \t\t\t});\r\n\t            \treturn modelMapper.map(maps, Product.class));\r\n\t            })\r\n\t            .collect(Collectors.toList());\r\n\r\n","title":"Modelmapper to convert objects: from Tuple to AnyClass","body":"<p>You can try this. (Fixed up)</p>\n<pre><code>List&lt;Product&gt; products = productsTuple\n            .stream()\n            .map(p -&gt; {\n                Map&lt;String, Object&gt; maps = new HashMap&lt;&gt;();\n                p.getElements().forEach(te -&gt; {\n                    maps.put(te.getAlias(), p.get(te.getAlias()));\n                });\n                return modelMapper.map(maps, Product.class));\n            })\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6790700,"reputation":833,"user_id":5227954,"display_name":"Amrith Raj Herle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629107145,"creation_date":1629107145,"answer_id":68800634,"question_id":67593543,"body_markdown":"I think there is a small compile error. Also, this works only if you set an alias. \r\n\r\nIt should be \r\n\r\n\r\n\r\n```\r\n            List&lt;Product&gt; products = tupleResult\r\n                    .stream()\r\n                    .map(p -&gt; {\r\n                        Map&lt;String, Object&gt; maps = new HashMap&lt;&gt;();\r\n                        p.getElements().forEach(te -&gt; {\r\n                            maps.put(te.getAlias(), p.get(te.getAlias()));\r\n                        });\r\n                        return modelMapper.map(maps, Product.class);\r\n                    })\r\n                    .collect(Collectors.toList());\r\n```","title":"Modelmapper to convert objects: from Tuple to AnyClass","body":"<p>I think there is a small compile error. Also, this works only if you set an alias.</p>\n<p>It should be</p>\n<pre><code>            List&lt;Product&gt; products = tupleResult\n                    .stream()\n                    .map(p -&gt; {\n                        Map&lt;String, Object&gt; maps = new HashMap&lt;&gt;();\n                        p.getElements().forEach(te -&gt; {\n                            maps.put(te.getAlias(), p.get(te.getAlias()));\n                        });\n                        return modelMapper.map(maps, Product.class);\n                    })\n                    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":8118112,"reputation":25,"user_id":6115903,"display_name":"FredeBr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68317357,"answer_count":2,"score":1,"last_activity_date":1646716135,"creation_date":1621369875,"question_id":67593543,"body_markdown":"I have a method that returns a Tuple type object, with the values: category type Category and total type BigDecimal.\r\n\r\nHow do I implement a modelMapper method to map the Tuple to a Product type class with the two attributes (category - type Category and total - type BigDecimal)?\r\n\r\nHow to implement this method to convert a Tuple object of n values to any other object with n corresponding attributes?\r\n\r\nHow to implement this method in the case of `List&lt;Tuple&gt;` to `List &lt;AnyClass&gt;`?\r\n\r\nIn the case of `List&lt;Tuple&gt;` to `List&lt;Product&gt;`, I have the following piece of functional code. It is incomplete, it just maps the first attribute, in the case of category.\r\n\r\nNote: productsTuple is a type of `List&lt;Tuple&gt;` object returned from a repository.\r\n\r\n    List&lt;Product&gt; products = productsTuple\r\n\t\t\t\t.stream()\r\n\t\t\t\t.map(p -&gt; modelMapper.map(p.get(0), Produto.class))\r\n\t\t\t\t.collect(Collectors.toList());","title":"Modelmapper to convert objects: from Tuple to AnyClass","body":"<p>I have a method that returns a Tuple type object, with the values: category type Category and total type BigDecimal.</p>\n<p>How do I implement a modelMapper method to map the Tuple to a Product type class with the two attributes (category - type Category and total - type BigDecimal)?</p>\n<p>How to implement this method to convert a Tuple object of n values to any other object with n corresponding attributes?</p>\n<p>How to implement this method in the case of <code>List&lt;Tuple&gt;</code> to <code>List &lt;AnyClass&gt;</code>?</p>\n<p>In the case of <code>List&lt;Tuple&gt;</code> to <code>List&lt;Product&gt;</code>, I have the following piece of functional code. It is incomplete, it just maps the first attribute, in the case of category.</p>\n<p>Note: productsTuple is a type of <code>List&lt;Tuple&gt;</code> object returned from a repository.</p>\n<pre><code>List&lt;Product&gt; products = productsTuple\n            .stream()\n            .map(p -&gt; modelMapper.map(p.get(0), Produto.class))\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","collections","set-intersection"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1470743626,"post_id":38849941,"comment_id":65064269,"body_markdown":"Use `retainAll` on all of the sets, 2 at a time.","body":"Use <code>retainAll</code> on all of the sets, 2 at a time."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1470744365,"post_id":38849941,"comment_id":65064771,"body_markdown":"Despite using `TreeSet`, you should implement `equals()` and `hashCode()` in your `Rate` if you are using it in collections.","body":"Despite using <code>TreeSet</code>, you should implement <code>equals()</code> and <code>hashCode()</code> in your <code>Rate</code> if you are using it in collections."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1470748222,"post_id":38849941,"comment_id":65067460,"body_markdown":"You need to implement `compareTo(Rate)` for your code to compile; and as stated in the previous comment, you will likely also want to override `equals(Object)`.","body":"You need to implement <code>compareTo(Rate)</code> for your code to compile; and as stated in the previous comment, you will likely also want to override <code>equals(Object)</code>."},{"owner":{"account_id":2161147,"reputation":672,"user_id":1915274,"accept_rate":73,"display_name":"Siva Kumar"},"score":0,"creation_date":1470749242,"post_id":38849941,"comment_id":65068263,"body_markdown":"My class implementation have implementaions equals, hashCode and compareTo.","body":"My class implementation have implementaions equals, hashCode and compareTo."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1470745091,"creation_date":1470745091,"answer_id":38850531,"question_id":38849941,"body_markdown":"You may do like this:\r\n\r\n    public static TreeSet&lt;Rate&gt; intersect(List&lt;TreeSet&lt;Rate&gt;&gt; setList) {\r\n    \tif (setList.isEmpty()) {\r\n    \t\tthrow new IllegalArgumentException(&quot;Need at least one TreeSet in list&quot;);\r\n    \t}\r\n    \tIterator&lt;TreeSet&lt;Rate&gt;&gt; it = setList.iterator();\r\n    \tTreeSet&lt;Rate&gt; result = new TreeSet&lt;&gt;(it.next());\r\n    \twhile (it.hasNext()) {\r\n    \t\tresult.retainAll(it.next());\r\n    \t}\r\n    \treturn result;\r\n    }","title":"Intersection of all N sets in Java","body":"<p>You may do like this:</p>\n\n<pre><code>public static TreeSet&lt;Rate&gt; intersect(List&lt;TreeSet&lt;Rate&gt;&gt; setList) {\n    if (setList.isEmpty()) {\n        throw new IllegalArgumentException(\"Need at least one TreeSet in list\");\n    }\n    Iterator&lt;TreeSet&lt;Rate&gt;&gt; it = setList.iterator();\n    TreeSet&lt;Rate&gt; result = new TreeSet&lt;&gt;(it.next());\n    while (it.hasNext()) {\n        result.retainAll(it.next());\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":2161147,"reputation":672,"user_id":1915274,"accept_rate":73,"display_name":"Siva Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":697,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":38850531,"answer_count":1,"score":-2,"last_activity_date":1646715666,"creation_date":1470743462,"question_id":38849941,"body_markdown":"I have List of `TreeSet&lt;Rate&gt;`. I need intersection of all  TreeSets in the List. I checked `reatainAll` it is working on two sets,Correct me if i am wrong.  Maximum size of List is 8.\r\n\r\nHow can i get intersection of all these sets? \r\n\r\n```java\r\npublic class Rate implements Comparable&lt;Rate&gt; {\r\n  private double value = 0.00;\r\n  private int restuarentID = 0;\r\n\r\n  //setters and getters\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    final int prime = 31;\r\n    int result = 1;\r\n    result = prime * result + restuarentID;\r\n    long temp;\r\n    temp = Double.doubleToLongBits(value);\r\n    result = prime * result + (int) (temp ^ (temp &gt;&gt;&gt; 32));\r\n    return result;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object obj) {\r\n    if (this == obj)\r\n      return true;\r\n    if (obj == null)\r\n      return false;\r\n    if (getClass() != obj.getClass())\r\n      return false;\r\n    Rate other = (Rate) obj;\r\n    if (restuarentID != other.restuarentID)\r\n      return false;\r\n    if (Double.doubleToLongBits(value) != Double.doubleToLongBits(other.value))\r\n      return false;\r\n    return true;\r\n  }\r\n\r\n  @Override\r\n  public int compareTo(Rate o) {\r\n    int ret = 0;\r\n    if (this.getValue() &gt; o.getValue())\r\n      ret = 1;\r\n    if (this.getValue() &lt; o.getValue())\r\n      ret = -1;\r\n    if (this.getValue() == o.getValue())\r\n      ret = 0;\r\n    return ret;\r\n  }\r\n}\r\n```\r\n","title":"Intersection of all N sets in Java","body":"<p>I have List of <code>TreeSet&lt;Rate&gt;</code>. I need intersection of all  TreeSets in the List. I checked <code>reatainAll</code> it is working on two sets,Correct me if i am wrong.  Maximum size of List is 8.</p>\n<p>How can i get intersection of all these sets?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Rate implements Comparable&lt;Rate&gt; {\n  private double value = 0.00;\n  private int restuarentID = 0;\n\n  //setters and getters\n\n  @Override\n  public int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + restuarentID;\n    long temp;\n    temp = Double.doubleToLongBits(value);\n    result = prime * result + (int) (temp ^ (temp &gt;&gt;&gt; 32));\n    return result;\n  }\n\n  @Override\n  public boolean equals(Object obj) {\n    if (this == obj)\n      return true;\n    if (obj == null)\n      return false;\n    if (getClass() != obj.getClass())\n      return false;\n    Rate other = (Rate) obj;\n    if (restuarentID != other.restuarentID)\n      return false;\n    if (Double.doubleToLongBits(value) != Double.doubleToLongBits(other.value))\n      return false;\n    return true;\n  }\n\n  @Override\n  public int compareTo(Rate o) {\n    int ret = 0;\n    if (this.getValue() &gt; o.getValue())\n      ret = 1;\n    if (this.getValue() &lt; o.getValue())\n      ret = -1;\n    if (this.getValue() == o.getValue())\n      ret = 0;\n    return ret;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate-validator"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1646700038,"post_id":71388215,"comment_id":126184112,"body_markdown":"What version of Spring Boot are you using? Do you’ve Hibernate validator on classpath, and if yes, what version?","body":"What version of Spring Boot are you using? Do you’ve Hibernate validator on classpath, and if yes, what version?"},{"owner":{"account_id":4185888,"reputation":2459,"user_id":3429660,"accept_rate":67,"display_name":"user3429660"},"score":0,"creation_date":1646700217,"post_id":71388215,"comment_id":126184129,"body_markdown":"I just created the Spring Boot project, with version 2.6.3. Hibernate validator is 6.2.0.Final.","body":"I just created the Spring Boot project, with version 2.6.3. Hibernate validator is 6.2.0.Final."},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1646700357,"post_id":71388215,"comment_id":126184146,"body_markdown":"[Validating RequestParams and PathVariables in Spring MVC](https://sadique.io/blog/2015/12/05/validating-requestparams-and-pathvariables-in-spring-mvc/)","body":"<a href=\"https://sadique.io/blog/2015/12/05/validating-requestparams-and-pathvariables-in-spring-mvc/\" rel=\"nofollow noreferrer\">Validating RequestParams and PathVariables in Spring MVC</a>"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1646700368,"post_id":71388215,"comment_id":126184148,"body_markdown":"Spring Boot no longer adds `spring-boot-starter-validation`, did you add it to your build file?","body":"Spring Boot no longer adds <code>spring-boot-starter-validation</code>, did you add it to your build file?"},{"owner":{"account_id":4185888,"reputation":2459,"user_id":3429660,"accept_rate":67,"display_name":"user3429660"},"score":0,"creation_date":1646700854,"post_id":71388215,"comment_id":126184230,"body_markdown":"Yes, I included `spring-boot-starter-validation`.","body":"Yes, I included <code>spring-boot-starter-validation</code>."},{"owner":{"account_id":4185888,"reputation":2459,"user_id":3429660,"accept_rate":67,"display_name":"user3429660"},"score":0,"creation_date":1646700877,"post_id":71388215,"comment_id":126184237,"body_markdown":"I tried the solution provided in @LeiYang recommandation, and it simply ignores the validation.","body":"I tried the solution provided in @LeiYang recommandation, and it simply ignores the validation."}],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646715623,"creation_date":1646712138,"answer_id":71389892,"question_id":71388215,"body_markdown":"I generated a Spring project from https://start.spring.io/ as shown below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI then added the controller code in your question, and an integration test as below:\r\n\r\n    class DemoApplicationTests {\r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @Test\r\n        void testGoodInput() throws Exception {\r\n            mockMvc\r\n                    .perform(MockMvcRequestBuilders.get(&quot;/test?val=10&quot;))\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n        }\r\n    \r\n        @Test\r\n        void testBadInput() {\r\n            Throwable ex = catchThrowable(() -&gt; mockMvc\r\n                    .perform(MockMvcRequestBuilders.get(&quot;/test?val=0&quot;))\r\n                    .andReturn());\r\n            var cause = getViolationExceptionFromCause(ex);\r\n            assertThat(cause)\r\n                    .isInstanceOf(ConstraintViolationException.class);\r\n        }\r\n    \r\n        private ConstraintViolationException getViolationExceptionFromCause(Throwable ex) {\r\n            if (ex == null || ex instanceof ConstraintViolationException) {\r\n                return (ConstraintViolationException) ex;\r\n            }\r\n            return getViolationExceptionFromCause(ex.getCause());\r\n        }\r\n    }\r\n\r\nThis works as expected, `val=0` throws a `ConstraintViolationException`. It&#39;s your turn to prove otherwise.\r\n\r\n  [1]: https://i.stack.imgur.com/7WRCH.png","title":"How to make validations work with @RequestParam","body":"<p>I generated a Spring project from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> as shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/7WRCH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7WRCH.png\" alt=\"enter image description here\" /></a></p>\n<p>I then added the controller code in your question, and an integration test as below:</p>\n<pre><code>class DemoApplicationTests {\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    void testGoodInput() throws Exception {\n        mockMvc\n                .perform(MockMvcRequestBuilders.get(&quot;/test?val=10&quot;))\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    }\n\n    @Test\n    void testBadInput() {\n        Throwable ex = catchThrowable(() -&gt; mockMvc\n                .perform(MockMvcRequestBuilders.get(&quot;/test?val=0&quot;))\n                .andReturn());\n        var cause = getViolationExceptionFromCause(ex);\n        assertThat(cause)\n                .isInstanceOf(ConstraintViolationException.class);\n    }\n\n    private ConstraintViolationException getViolationExceptionFromCause(Throwable ex) {\n        if (ex == null || ex instanceof ConstraintViolationException) {\n            return (ConstraintViolationException) ex;\n        }\n        return getViolationExceptionFromCause(ex.getCause());\n    }\n}\n</code></pre>\n<p>This works as expected, <code>val=0</code> throws a <code>ConstraintViolationException</code>. It's your turn to prove otherwise.</p>\n"}],"owner":{"account_id":4185888,"reputation":2459,"user_id":3429660,"accept_rate":67,"display_name":"user3429660"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71389892,"answer_count":1,"score":-1,"last_activity_date":1646715623,"creation_date":1646693955,"question_id":71388215,"body_markdown":"Given `Spring Boot 2.6.3`, `Hibernate validator 6.2.0.Final`, after running the code below:\r\n\r\n    import org.springframework.validation.annotation.Validated;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import javax.validation.constraints.Min;\r\n    \r\n    @RestController\r\n    @Validated\r\n    public class TestController {\r\n        @GetMapping(&quot;/test&quot;)\r\n        public Integer test( @Min(10) @RequestParam Integer val) {\r\n            return val;\r\n        }\r\n    }\r\n\r\nIf I call http://localhost:8080/test?val=0 , it returns 0 and it seems it ignores `@Min(10)` part. \r\n\r\nDoes anybody know whether it is possible to validate `@RequestParam` parameters?","title":"How to make validations work with @RequestParam","body":"<p>Given <code>Spring Boot 2.6.3</code>, <code>Hibernate validator 6.2.0.Final</code>, after running the code below:</p>\n<pre><code>import org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport javax.validation.constraints.Min;\n\n@RestController\n@Validated\npublic class TestController {\n    @GetMapping(&quot;/test&quot;)\n    public Integer test( @Min(10) @RequestParam Integer val) {\n        return val;\n    }\n}\n</code></pre>\n<p>If I call http://localhost:8080/test?val=0 , it returns 0 and it seems it ignores <code>@Min(10)</code> part.</p>\n<p>Does anybody know whether it is possible to validate <code>@RequestParam</code> parameters?</p>\n"},{"tags":["java","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646715102,"creation_date":1646715102,"answer_id":71390172,"question_id":71390126,"body_markdown":"Hibernate query language does not directly support this type of update join.  Instead, we can use a correlated subquery in the select clause:\r\n\r\n    SELECT c.id, c.name,\r\n           (SELECT COUNT(*)\r\n            FROM Commerce AS comm\r\n            WHERE comm.category.id = c.id) AS total\r\n    FROM Category c","title":"How to execute joins of an entity with the result of a query in Hibernate","body":"<p>Hibernate query language does not directly support this type of update join.  Instead, we can use a correlated subquery in the select clause:</p>\n<pre><code>SELECT c.id, c.name,\n       (SELECT COUNT(*)\n        FROM Commerce AS comm\n        WHERE comm.category.id = c.id) AS total\nFROM Category c\n</code></pre>\n"}],"owner":{"account_id":24221121,"reputation":29,"user_id":18176299,"display_name":"Tomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646715102,"creation_date":1646714665,"question_id":71390126,"body_markdown":"I want to run the following SQL in hibernate:\r\n\r\n    SELECT c.id, c.name, ipc.total \r\n    FROM Category c,\r\n    (\r\n        SELECT comm.category.id as id, count(*) as total \r\n        FROM Commerce as comm \r\n        GROUP BY comm.category.id \r\n    ) ipc \r\n    WHERE c.id = ipc.id\r\n\r\nThis is my attempt to write that one in JQL but I get an error. It doesn&#39;t seem to like my join against a query result.\r\n\r\nRequest processing failed; nested exception is java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 1, column 86 [SELECT c.id, c.name, ipc.total FROM com.brujulasolutions.directorio.model.Category c,( SELECT comm.category.id as id, count(*) as total FROM com.brujulasolutions.directorio.model.Commerce as comm GROUP BY comm.category.id ) ipc WHERE c.id = ipc.id]\r\n\r\n    SELECT c.id, c.name, ipc.total \r\n    FROM Category c,\r\n    (\r\n        SELECT comm.category.id as id, count(*) as total \r\n        FROM Commerce as comm \r\n        GROUP BY comm.category.id \r\n    ) ipc \r\n    WHERE c.id = ipc.id\r\n\r\n\r\n","title":"How to execute joins of an entity with the result of a query in Hibernate","body":"<p>I want to run the following SQL in hibernate:</p>\n<pre><code>SELECT c.id, c.name, ipc.total \nFROM Category c,\n(\n    SELECT comm.category.id as id, count(*) as total \n    FROM Commerce as comm \n    GROUP BY comm.category.id \n) ipc \nWHERE c.id = ipc.id\n</code></pre>\n<p>This is my attempt to write that one in JQL but I get an error. It doesn't seem to like my join against a query result.</p>\n<p>Request processing failed; nested exception is java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 1, column 86 [SELECT c.id, c.name, ipc.total FROM com.brujulasolutions.directorio.model.Category c,( SELECT comm.category.id as id, count(*) as total FROM com.brujulasolutions.directorio.model.Commerce as comm GROUP BY comm.category.id ) ipc WHERE c.id = ipc.id]</p>\n<pre><code>SELECT c.id, c.name, ipc.total \nFROM Category c,\n(\n    SELECT comm.category.id as id, count(*) as total \n    FROM Commerce as comm \n    GROUP BY comm.category.id \n) ipc \nWHERE c.id = ipc.id\n</code></pre>\n"},{"tags":["java","excel","apache-poi","notimplementedexception"],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":2,"up_vote_count":149,"is_accepted":false,"score":147,"last_activity_date":1406804732,"creation_date":1317381504,"answer_id":7609587,"question_id":7608511,"body_markdown":"For formula cells, excel stores two things. One is the Formula itself, the other is the &quot;cached&quot; value (the last value that the forumla was evaluated as)\r\n\r\nIf you want to get the last cached value (which may no longer be correct, but as long as Excel saved the file and you haven&#39;t changed it it should be), you&#39;ll want something like:\r\n\r\n     for(Cell cell : row) {\r\n         if(cell.getCellType() == Cell.CELL_TYPE_FORMULA) {\r\n            System.out.println(&quot;Formula is &quot; + cell.getCellFormula());\r\n            switch(cell.getCachedFormulaResultType()) {\r\n                case Cell.CELL_TYPE_NUMERIC:\r\n                    System.out.println(&quot;Last evaluated as: &quot; + cell.getNumericCellValue());\r\n                    break;\r\n                case Cell.CELL_TYPE_STRING:\r\n                    System.out.println(&quot;Last evaluated as \\&quot;&quot; + cell.getRichStringCellValue() + &quot;\\&quot;&quot;);\r\n                    break;\r\n            }\r\n         }\r\n     }","title":"Java POI : How to read Excel cell value and not the formula computing it?","body":"<p>For formula cells, excel stores two things. One is the Formula itself, the other is the \"cached\" value (the last value that the forumla was evaluated as)</p>\n\n<p>If you want to get the last cached value (which may no longer be correct, but as long as Excel saved the file and you haven't changed it it should be), you'll want something like:</p>\n\n<pre><code> for(Cell cell : row) {\n     if(cell.getCellType() == Cell.CELL_TYPE_FORMULA) {\n        System.out.println(\"Formula is \" + cell.getCellFormula());\n        switch(cell.getCachedFormulaResultType()) {\n            case Cell.CELL_TYPE_NUMERIC:\n                System.out.println(\"Last evaluated as: \" + cell.getNumericCellValue());\n                break;\n            case Cell.CELL_TYPE_STRING:\n                System.out.println(\"Last evaluated as \\\"\" + cell.getRichStringCellValue() + \"\\\"\");\n                break;\n        }\n     }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5809133,"reputation":31,"user_id":4580829,"display_name":"Sanjay Singh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1430151382,"creation_date":1430150239,"answer_id":29900523,"question_id":7608511,"body_markdown":"There is an alternative command where you can get the raw value of a cell where formula is put on. It&#39;s returns type is String. Use:\r\n\r\n    cell.getRawValue();\r\n\r\n","title":"Java POI : How to read Excel cell value and not the formula computing it?","body":"<p>There is an alternative command where you can get the raw value of a cell where formula is put on. It's returns type is String. Use:</p>\n\n<pre><code>cell.getRawValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9717980,"reputation":321,"user_id":7207651,"accept_rate":75,"display_name":"SelThroughJava"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1525660929,"creation_date":1480684019,"answer_id":40932972,"question_id":7608511,"body_markdown":"Previously posted solutions did not work for me. `cell.getRawValue()` returned the same formula as stated in the cell. The following function worked for me: \r\n\r\n\r\n    public void readFormula() throws IOException {\r\n        FileInputStream fis = new FileInputStream(&quot;Path of your file&quot;);\r\n        Workbook wb = new XSSFWorkbook(fis);\r\n        Sheet sheet = wb.getSheetAt(0);\r\n        FormulaEvaluator evaluator = wb.getCreationHelper().createFormulaEvaluator();\r\n\r\n        CellReference cellReference = new CellReference(&quot;C2&quot;); // pass the cell which contains the formula\r\n        Row row = sheet.getRow(cellReference.getRow());\r\n        Cell cell = row.getCell(cellReference.getCol());\r\n\r\n        CellValue cellValue = evaluator.evaluate(cell);\r\n\r\n        switch (cellValue.getCellType()) {\r\n            case Cell.CELL_TYPE_BOOLEAN:\r\n                System.out.println(cellValue.getBooleanValue());\r\n                break;\r\n            case Cell.CELL_TYPE_NUMERIC:\r\n                System.out.println(cellValue.getNumberValue());\r\n                break;\r\n            case Cell.CELL_TYPE_STRING:\r\n                System.out.println(cellValue.getStringValue());\r\n                break;\r\n            case Cell.CELL_TYPE_BLANK:\r\n                break;\r\n            case Cell.CELL_TYPE_ERROR:\r\n                break;\r\n\r\n            // CELL_TYPE_FORMULA will never happen\r\n            case Cell.CELL_TYPE_FORMULA:\r\n                break;\r\n        }\r\n\r\n    }","title":"Java POI : How to read Excel cell value and not the formula computing it?","body":"<p>Previously posted solutions did not work for me. <code>cell.getRawValue()</code> returned the same formula as stated in the cell. The following function worked for me: </p>\n\n<pre><code>public void readFormula() throws IOException {\n    FileInputStream fis = new FileInputStream(\"Path of your file\");\n    Workbook wb = new XSSFWorkbook(fis);\n    Sheet sheet = wb.getSheetAt(0);\n    FormulaEvaluator evaluator = wb.getCreationHelper().createFormulaEvaluator();\n\n    CellReference cellReference = new CellReference(\"C2\"); // pass the cell which contains the formula\n    Row row = sheet.getRow(cellReference.getRow());\n    Cell cell = row.getCell(cellReference.getCol());\n\n    CellValue cellValue = evaluator.evaluate(cell);\n\n    switch (cellValue.getCellType()) {\n        case Cell.CELL_TYPE_BOOLEAN:\n            System.out.println(cellValue.getBooleanValue());\n            break;\n        case Cell.CELL_TYPE_NUMERIC:\n            System.out.println(cellValue.getNumberValue());\n            break;\n        case Cell.CELL_TYPE_STRING:\n            System.out.println(cellValue.getStringValue());\n            break;\n        case Cell.CELL_TYPE_BLANK:\n            break;\n        case Cell.CELL_TYPE_ERROR:\n            break;\n\n        // CELL_TYPE_FORMULA will never happen\n        case Cell.CELL_TYPE_FORMULA:\n            break;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4474415,"reputation":1971,"user_id":3639856,"display_name":"Remigius Stalder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586890116,"creation_date":1586890116,"answer_id":61215028,"question_id":7608511,"body_markdown":"If you want to extract a raw-ish value from a HSSF cell, you can use something like this code fragment:\r\n\r\n    CellBase base = (CellBase) cell;\r\n    CellType cellType = cell.getCellType();\r\n    base.setCellType(CellType.STRING);\r\n    String result = cell.getStringCellValue();\r\n    base.setCellType(cellType);\r\n\r\nAt least for strings that are completely composed of digits (and automatically converted to numbers by Excel), this returns the original string (e.g. `&quot;12345&quot;`) instead of a fractional value (e.g. `&quot;12345.0&quot;`). Note that `setCellType` is available in interface `Cell`(as of v. 4.1) but deprecated and announced to be eliminated in v 5.x, whereas this method is still available in class `CellBase`. Obviously, it would be nicer either to have `getRawValue` in the `Cell` interface or at least to be able use `getStringCellValue` on non STRING cell types. Unfortunately, all replacements of `setCellType` mentioned in the description won&#39;t cover this use case (maybe a member of the POI dev team reads this answer).","title":"Java POI : How to read Excel cell value and not the formula computing it?","body":"<p>If you want to extract a raw-ish value from a HSSF cell, you can use something like this code fragment:</p>\n\n<pre><code>CellBase base = (CellBase) cell;\nCellType cellType = cell.getCellType();\nbase.setCellType(CellType.STRING);\nString result = cell.getStringCellValue();\nbase.setCellType(cellType);\n</code></pre>\n\n<p>At least for strings that are completely composed of digits (and automatically converted to numbers by Excel), this returns the original string (e.g. <code>\"12345\"</code>) instead of a fractional value (e.g. <code>\"12345.0\"</code>). Note that <code>setCellType</code> is available in interface <code>Cell</code>(as of v. 4.1) but deprecated and announced to be eliminated in v 5.x, whereas this method is still available in class <code>CellBase</code>. Obviously, it would be nicer either to have <code>getRawValue</code> in the <code>Cell</code> interface or at least to be able use <code>getStringCellValue</code> on non STRING cell types. Unfortunately, all replacements of <code>setCellType</code> mentioned in the description won't cover this use case (maybe a member of the POI dev team reads this answer).</p>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589291943,"creation_date":1589291943,"answer_id":61753677,"question_id":7608511,"body_markdown":"SelThroughJava&#39;s answer was very  helpful I had to modify a bit to my code to be worked .\r\nI used https://mvnrepository.com/artifact/org.apache.poi/poi  and  https://mvnrepository.com/artifact/org.testng/testng as dependencies .\r\nFull code is given below with exact imports.\r\n\r\n\r\n    \r\n   \r\n\r\n     import java.io.FileInputStream;\r\n        import java.io.FileNotFoundException;\r\n        import java.io.IOException;\r\n        \r\n        import org.apache.poi.hssf.usermodel.HSSFCell;\r\n        import org.apache.poi.hssf.util.CellReference;\r\n        import org.apache.poi.sl.usermodel.Sheet;\r\n        import org.apache.poi.ss.usermodel.Cell;\r\n        import org.apache.poi.ss.usermodel.CellType;\r\n        import org.apache.poi.ss.usermodel.CellValue;\r\n        import org.apache.poi.ss.usermodel.FormulaEvaluator;\r\n        import org.apache.poi.ss.usermodel.Row;\r\n        import org.apache.poi.ss.usermodel.Workbook;\r\n        import org.apache.poi.ss.usermodel.WorkbookFactory;\r\n        import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n        \r\n        \r\n        public class ReadExcelFormulaValue {\r\n        \r\n        \tprivate static final CellType NUMERIC = null;\r\n        \tpublic static void main(String[] args) {\r\n        \t\ttry {\r\n        \t\t\treadFormula();\r\n        \t\t} catch (IOException e) {\r\n        \t\t\t// TODO Auto-generated catch block\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t}\r\n        \tpublic static void readFormula() throws IOException {\r\n        \t    FileInputStream fis = new FileInputStream(&quot;C:eclipse-workspace\\\\sam-webdbriver-diaries\\\\resources\\\\tUser_WS.xls&quot;);\r\n        \t    org.apache.poi.ss.usermodel.Workbook workbook = WorkbookFactory.create(fis);\r\n        \t    org.apache.poi.ss.usermodel.Sheet sheet = workbook.getSheetAt(0);\r\n        \r\n        \t    FormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();\r\n        \r\n        \t    CellReference cellReference = new CellReference(&quot;G2&quot;); // pass the cell which contains the formula\r\n        \t    Row row = sheet.getRow(cellReference.getRow());\r\n        \t    Cell cell = row.getCell(cellReference.getCol());\r\n        \r\n        \t    CellValue cellValue = evaluator.evaluate(cell);\r\n        \t    System.out.println(&quot;Cell type month  is &quot;+cellValue.getCellTypeEnum());\r\n        \t    System.out.println(&quot;getNumberValue month is  &quot;+cellValue.getNumberValue());\t    \r\n              //  System.out.println(&quot;getStringValue &quot;+cellValue.getStringValue());\r\n                \r\n             \r\n                cellReference = new CellReference(&quot;H2&quot;); // pass the cell which contains the formula\r\n        \t     row = sheet.getRow(cellReference.getRow());\r\n        \t     cell = row.getCell(cellReference.getCol());\r\n        \r\n        \t    cellValue = evaluator.evaluate(cell);\r\n        \t    System.out.println(&quot;getNumberValue DAY is  &quot;+cellValue.getNumberValue());\t \r\n        \t\r\n        \r\n        \t}\r\n        \r\n        }\r\n\r\n","title":"Java POI : How to read Excel cell value and not the formula computing it?","body":"<p>SelThroughJava's answer was very  helpful I had to modify a bit to my code to be worked .\nI used <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.poi/poi</a>  and  <a href=\"https://mvnrepository.com/artifact/org.testng/testng\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.testng/testng</a> as dependencies .\nFull code is given below with exact imports.</p>\n\n<pre><code> import java.io.FileInputStream;\n    import java.io.FileNotFoundException;\n    import java.io.IOException;\n\n    import org.apache.poi.hssf.usermodel.HSSFCell;\n    import org.apache.poi.hssf.util.CellReference;\n    import org.apache.poi.sl.usermodel.Sheet;\n    import org.apache.poi.ss.usermodel.Cell;\n    import org.apache.poi.ss.usermodel.CellType;\n    import org.apache.poi.ss.usermodel.CellValue;\n    import org.apache.poi.ss.usermodel.FormulaEvaluator;\n    import org.apache.poi.ss.usermodel.Row;\n    import org.apache.poi.ss.usermodel.Workbook;\n    import org.apache.poi.ss.usermodel.WorkbookFactory;\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n\n    public class ReadExcelFormulaValue {\n\n        private static final CellType NUMERIC = null;\n        public static void main(String[] args) {\n            try {\n                readFormula();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        public static void readFormula() throws IOException {\n            FileInputStream fis = new FileInputStream(\"C:eclipse-workspace\\\\sam-webdbriver-diaries\\\\resources\\\\tUser_WS.xls\");\n            org.apache.poi.ss.usermodel.Workbook workbook = WorkbookFactory.create(fis);\n            org.apache.poi.ss.usermodel.Sheet sheet = workbook.getSheetAt(0);\n\n            FormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();\n\n            CellReference cellReference = new CellReference(\"G2\"); // pass the cell which contains the formula\n            Row row = sheet.getRow(cellReference.getRow());\n            Cell cell = row.getCell(cellReference.getCol());\n\n            CellValue cellValue = evaluator.evaluate(cell);\n            System.out.println(\"Cell type month  is \"+cellValue.getCellTypeEnum());\n            System.out.println(\"getNumberValue month is  \"+cellValue.getNumberValue());     \n          //  System.out.println(\"getStringValue \"+cellValue.getStringValue());\n\n\n            cellReference = new CellReference(\"H2\"); // pass the cell which contains the formula\n             row = sheet.getRow(cellReference.getRow());\n             cell = row.getCell(cellReference.getCol());\n\n            cellValue = evaluator.evaluate(cell);\n            System.out.println(\"getNumberValue DAY is  \"+cellValue.getNumberValue());    \n\n\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646714814,"creation_date":1646714814,"answer_id":71390145,"question_id":7608511,"body_markdown":"If the need is to read values from Excel sheets and having them as strings then, for example to present them somewhere or to use them in text file formats, then using `DataFormatter` will be the best. \r\n\r\n`DataFormatter` is able to get a string from each cell value, whether the cell value itself is string, boolean, number, error or date. This string then looks the same as Excel will show it in the cells in it&#39;s GUI. \r\n\r\nOnly problem are formula cells. Up to apache poi 5.1.0 a FormulaEvaluator is needed to evaluate the formulas while using DataFormatter. This fails when `apache poi` is not able evaluating the formula. From 5.2.0 on the `DataFormatter` can be set to use cached values for formula cells. Then no formula evaluation is needed if Excel had evaluated the formulas before.\r\n\r\nComplete example:\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import java.io.FileInputStream;\r\n    \r\n    class ReadExcel {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./ExcelExample.xlsx&quot;));\r\n      \r\n      // up to apache poi 5.1.0 a FormulaEvaluator is needed to evaluate the formulas while using DataFormatter\r\n      FormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();  \r\n      \r\n      DataFormatter dataFormatter = new DataFormatter(new java.util.Locale(&quot;en&quot;, &quot;US&quot;));\r\n      // from 5.2.0 on the DataFormatter can set to use cached values for formula cells\r\n      dataFormatter.setUseCachedValuesForFormulaCells(true);\r\n      \r\n      Sheet sheet = workbook.getSheetAt(0);\r\n      for (Row row : sheet) {\r\n       for (Cell cell : row) {\r\n        //String value = dataFormatter.formatCellValue(cell, evaluator); // up to apache poi 5.1.0\r\n        String value = dataFormatter.formatCellValue(cell); // from apache poi 5.2.0 on \r\n    \tSystem.out.println(value);\r\n       }\r\n      }\r\n      workbook.close();\r\n     }\r\n    }","title":"Java POI : How to read Excel cell value and not the formula computing it?","body":"<p>If the need is to read values from Excel sheets and having them as strings then, for example to present them somewhere or to use them in text file formats, then using <code>DataFormatter</code> will be the best.</p>\n<p><code>DataFormatter</code> is able to get a string from each cell value, whether the cell value itself is string, boolean, number, error or date. This string then looks the same as Excel will show it in the cells in it's GUI.</p>\n<p>Only problem are formula cells. Up to apache poi 5.1.0 a FormulaEvaluator is needed to evaluate the formulas while using DataFormatter. This fails when <code>apache poi</code> is not able evaluating the formula. From 5.2.0 on the <code>DataFormatter</code> can be set to use cached values for formula cells. Then no formula evaluation is needed if Excel had evaluated the formulas before.</p>\n<p>Complete example:</p>\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport java.io.FileInputStream;\n\nclass ReadExcel {\n\n public static void main(String[] args) throws Exception {\n\n  Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./ExcelExample.xlsx&quot;));\n  \n  // up to apache poi 5.1.0 a FormulaEvaluator is needed to evaluate the formulas while using DataFormatter\n  FormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();  \n  \n  DataFormatter dataFormatter = new DataFormatter(new java.util.Locale(&quot;en&quot;, &quot;US&quot;));\n  // from 5.2.0 on the DataFormatter can set to use cached values for formula cells\n  dataFormatter.setUseCachedValuesForFormulaCells(true);\n  \n  Sheet sheet = workbook.getSheetAt(0);\n  for (Row row : sheet) {\n   for (Cell cell : row) {\n    //String value = dataFormatter.formatCellValue(cell, evaluator); // up to apache poi 5.1.0\n    String value = dataFormatter.formatCellValue(cell); // from apache poi 5.2.0 on \n    System.out.println(value);\n   }\n  }\n  workbook.close();\n }\n}\n</code></pre>\n"}],"owner":{"account_id":945404,"reputation":731,"user_id":972743,"display_name":"Aminoss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132460,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"answer_count":6,"score":73,"last_activity_date":1646714814,"creation_date":1317375276,"question_id":7608511,"body_markdown":"I am using Apache POI API to getting values from an Excel file. \r\nEverything is working great except with cells containing formulas. In fact, the `cell.getStringCellValue()` is returning the formula used in the cell and not the value of the cell. \r\n\r\nI tried to use `evaluateFormulaCell()` method but it&#39;s not working because I am using GETPIVOTDATA Excel formula and this formula is not implemented in the API:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.poi.ss.formula.eval.NotImplementedException: Error evaluating cell Landscape!K11\r\n    \tat org.apache.poi.ss.formula.WorkbookEvaluator.addExceptionInfo(WorkbookEvaluator.java:321)\r\n    \tat org.apache.poi.ss.formula.WorkbookEvaluator.evaluateAny(WorkbookEvaluator.java:288)\r\n    \tat org.apache.poi.ss.formula.WorkbookEvaluator.evaluate(WorkbookEvaluator.java:221)\r\n    \tat org.apache.poi.hssf.usermodel.HSSFFormulaEvaluator.evaluateFormulaCellValue(HSSFFormulaEvaluator.java:320)\r\n    \tat org.apache.poi.hssf.usermodel.HSSFFormulaEvaluator.evaluateFormulaCell(HSSFFormulaEvaluator.java:213)\r\n    \tat fromExcelToJava.ExcelSheetReader.unAutreTest(ExcelSheetReader.java:193)\r\n    \tat fromExcelToJava.ExcelSheetReader.main(ExcelSheetReader.java:224)\r\n    Caused by: org.apache.poi.ss.formula.eval.NotImplementedException: GETPIVOTDATA\r\n    \tat org.apache.poi.hssf.record.formula.functions.NotImplementedFunction.evaluate(NotImplementedFunction.java:42)\r\n","title":"Java POI : How to read Excel cell value and not the formula computing it?","body":"<p>I am using Apache POI API to getting values from an Excel file. \nEverything is working great except with cells containing formulas. In fact, the <code>cell.getStringCellValue()</code> is returning the formula used in the cell and not the value of the cell. </p>\n\n<p>I tried to use <code>evaluateFormulaCell()</code> method but it's not working because I am using GETPIVOTDATA Excel formula and this formula is not implemented in the API:</p>\n\n<pre><code>Exception in thread \"main\" org.apache.poi.ss.formula.eval.NotImplementedException: Error evaluating cell Landscape!K11\n    at org.apache.poi.ss.formula.WorkbookEvaluator.addExceptionInfo(WorkbookEvaluator.java:321)\n    at org.apache.poi.ss.formula.WorkbookEvaluator.evaluateAny(WorkbookEvaluator.java:288)\n    at org.apache.poi.ss.formula.WorkbookEvaluator.evaluate(WorkbookEvaluator.java:221)\n    at org.apache.poi.hssf.usermodel.HSSFFormulaEvaluator.evaluateFormulaCellValue(HSSFFormulaEvaluator.java:320)\n    at org.apache.poi.hssf.usermodel.HSSFFormulaEvaluator.evaluateFormulaCell(HSSFFormulaEvaluator.java:213)\n    at fromExcelToJava.ExcelSheetReader.unAutreTest(ExcelSheetReader.java:193)\n    at fromExcelToJava.ExcelSheetReader.main(ExcelSheetReader.java:224)\nCaused by: org.apache.poi.ss.formula.eval.NotImplementedException: GETPIVOTDATA\n    at org.apache.poi.hssf.record.formula.functions.NotImplementedFunction.evaluate(NotImplementedFunction.java:42)\n</code></pre>\n"},{"tags":["java","maven","import"],"comments":[{"owner":{"account_id":16670624,"reputation":1,"user_id":12048164,"display_name":"Rushi"},"score":0,"creation_date":1568137905,"post_id":57875985,"comment_id":102176693,"body_markdown":"it is showing package javax.xml.ws does not exist","body":"it is showing package javax.xml.ws does not exist"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1568139063,"post_id":57875985,"comment_id":102177154,"body_markdown":"Please add your pom.xml and Java code.","body":"Please add your pom.xml and Java code."},{"owner":{"account_id":3300222,"reputation":1987,"user_id":2776572,"display_name":"Eric Labelle"},"score":1,"creation_date":1568143669,"post_id":57875985,"comment_id":102178948,"body_markdown":"As mentionned, we need your pom.xml to help you.\nYou should have something like this in order to fix the import\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;","body":"As mentionned, we need your pom.xml to help you. You should have something like this in order to fix the import &lt;dependency&gt;     &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;     &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;     &lt;version&gt;2.3.1&lt;/version&gt; &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":7793005,"reputation":63,"user_id":5895230,"display_name":"Rifqi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574416207,"creation_date":1574415345,"answer_id":58991315,"question_id":57875985,"body_markdown":"Either it is not correctly stated in your `pom.xml`. Or the project you&#39;re trying to import is meant for JDK 8 which still include the `JAX-WS` API, and you&#39;re using JDK 8+ compiler. See https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis/48204154#48204154.\r\n\r\nEdit: add reference.","title":"Error while importing javax.xml.ws.WebServiceException in java class","body":"<p>Either it is not correctly stated in your <code>pom.xml</code>. Or the project you're trying to import is meant for JDK 8 which still include the <code>JAX-WS</code> API, and you're using JDK 8+ compiler. See <a href=\"https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis/48204154#48204154\">Replacements for deprecated JPMS modules with Java EE APIs</a>.</p>\n\n<p>Edit: add reference.</p>\n"},{"tags":[],"owner":{"account_id":4100631,"reputation":41,"user_id":3366273,"display_name":"iftekher2283"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646714736,"creation_date":1646714736,"answer_id":71390134,"question_id":57875985,"body_markdown":"Add webservices-api.jar in project classpath and clean your project.","title":"Error while importing javax.xml.ws.WebServiceException in java class","body":"<p>Add webservices-api.jar in project classpath and clean your project.</p>\n"}],"owner":{"account_id":16670624,"reputation":1,"user_id":12048164,"display_name":"Rushi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646714736,"creation_date":1568137815,"question_id":57875985,"body_markdown":"while importing `javax.xml.ws.WebServiceException;` in java file, I am getting compilation error \r\n\r\n&gt; cannot resolve symbol ws.\r\n\r\nI have cleaned and installed dependencies mentioned in POM.xml","title":"Error while importing javax.xml.ws.WebServiceException in java class","body":"<p>while importing <code>javax.xml.ws.WebServiceException;</code> in java file, I am getting compilation error </p>\n\n<blockquote>\n  <p>cannot resolve symbol ws.</p>\n</blockquote>\n\n<p>I have cleaned and installed dependencies mentioned in POM.xml</p>\n"},{"tags":["java","validation","spring-boot"],"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1549915556,"post_id":54638255,"comment_id":96068595,"body_markdown":"Anyway take a look at my question&amp;answer here https://stackoverflow.com/questions/46957854/spring-validation-class-level-validation-to-address-field-errors","body":"Anyway take a look at my question&amp;answer here <a href=\"https://stackoverflow.com/questions/46957854/spring-validation-class-level-validation-to-address-field-errors\" title=\"spring validation class level validation to address field errors\">stackoverflow.com/questions/46957854/&hellip;</a>"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1549915824,"post_id":54638255,"comment_id":96068712,"body_markdown":"Class validation is the optimal way to go. Which errors are you getting?","body":"Class validation is the optimal way to go. Which errors are you getting?"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1549917818,"post_id":54638255,"comment_id":96069579,"body_markdown":"@LppEdd I have updated OP with the errors. It throws that `RUNTIME`, `FIELD`, `ANNOTATION_TYPE`, `PARAMETER` cannot find symbols for them.","body":"@LppEdd I have updated OP with the errors. It throws that <code>RUNTIME</code>, <code>FIELD</code>, <code>ANNOTATION_TYPE</code>, <code>PARAMETER</code> cannot find symbols for them."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1549917914,"post_id":54638255,"comment_id":96069628,"body_markdown":"They&#39;re static imports. Just qualify them with ElementType or RetentionPolicy (e.g. ElementType.FIELD - RetentionPolicy.RUNTIME)","body":"They&#39;re static imports. Just qualify them with ElementType or RetentionPolicy (e.g. ElementType.FIELD - RetentionPolicy.RUNTIME)"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1549919556,"post_id":54638255,"comment_id":96070304,"body_markdown":"@LppEdd OK, moved forward and it came up I&#39;m not able to pass two fields into `ConstraintValidatorContext`","body":"@LppEdd OK, moved forward and it came up I&#39;m not able to pass two fields into <code>ConstraintValidatorContext</code>"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1549919679,"post_id":54638255,"comment_id":96070347,"body_markdown":"What do you mean &quot;pass&quot; two fields? Inside ConstraintValidator#isValid you have access to the entire object and you can check field by field.","body":"What do you mean &quot;pass&quot; two fields? Inside ConstraintValidator#isValid you have access to the entire object and you can check field by field."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1549919712,"post_id":54638255,"comment_id":96070365,"body_markdown":"You need a **class** annotation, not a **field** annotation here","body":"You need a <b>class</b> annotation, not a <b>field</b> annotation here"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1549919947,"post_id":54638255,"comment_id":96070479,"body_markdown":"@LppEdd so I&#39;m lost now - all examples which I saw had field annotations","body":"@LppEdd so I&#39;m lost now - all examples which I saw had field annotations"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1549920192,"post_id":54638255,"comment_id":96070596,"body_markdown":"See my answer, it should be almost what you want.","body":"See my answer, it should be almost what you want."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1549920528,"post_id":54638255,"comment_id":96070736,"body_markdown":"@LppEdd Great! Now I need to get it understand for future usage :)","body":"@LppEdd Great! Now I need to get it understand for future usage :)"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1549920673,"post_id":54638255,"comment_id":96070799,"body_markdown":"Let me know if you have questions.","body":"Let me know if you have questions."}],"answers":[{"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1594300437,"creation_date":1549920096,"answer_id":54639336,"question_id":54638255,"body_markdown":"I&#39;ll try to implement it for you (even if I&#39;m without an IDE).&lt;br&gt;\r\nInside `ConstraintValidator#initialize` you can get a hold of the configured fields&#39; names which **cannot** be `null`.\r\n\r\n    @Override\r\n    public void initialize(final CombinedNotNull combinedNotNull) {\r\n        fields = combinedNotNull.fields();\r\n    }\r\n    \r\nInside `ConstraintValidator#isValid` you can use those fields&#39; names to check the `Object` fields.\r\n\r\n    @Override\r\n    public boolean isValid(final Object value, final ConstraintValidatorContext context) {\r\n        final BeanWrapperImpl beanWrapper = new BeanWrapperImpl(value);\r\n    \t\r\n        for (final String f : fields) {\r\n    \t   final Object fieldValue = beanWrapper.getPropertyValue(f);\r\n    \t   \r\n    \t   if (fieldValue == null) {\r\n    \t      return false;\r\n    \t   }\r\n    \t}\r\n    \r\n        return true;\r\n    }\r\n\r\nAnnotation:\r\n\r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.Target;\r\n    \r\n    import static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n    \r\n    @Retention(RUNTIME)\r\n    @Target({ElementType.TYPE, ElementType.ANNOTATION_TYPE})\r\n    @Constraint(validatedBy = CombinedNotNullValidator.class)\r\n    public @interface CombinedNotNull {\r\n        String message() default &quot;username or email is required&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n        /**\r\n         * Fields to validate against null.\r\n         */\r\n        String[] fields() default {};\r\n    }\r\n\r\nThe annotation could be applied as\r\n\r\n    @CombinedNotNull(fields = {\r\n          &quot;fieldName1&quot;,\r\n          &quot;fieldName2&quot;\r\n    })\r\n    public class MyClassToValidate { ... }\r\n\r\nTo learn how to create a Class-level constraint annotation, refer always to the official documentation. [Docs][1]\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html/validator-customconstraints.html#section-class-level-constraints","title":"Spring Boot validation - one from two not null","body":"<p>I'll try to implement it for you (even if I'm without an IDE).<br>\nInside <code>ConstraintValidator#initialize</code> you can get a hold of the configured fields' names which <strong>cannot</strong> be <code>null</code>.</p>\n<pre><code>@Override\npublic void initialize(final CombinedNotNull combinedNotNull) {\n    fields = combinedNotNull.fields();\n}\n</code></pre>\n<p>Inside <code>ConstraintValidator#isValid</code> you can use those fields' names to check the <code>Object</code> fields.</p>\n<pre><code>@Override\npublic boolean isValid(final Object value, final ConstraintValidatorContext context) {\n    final BeanWrapperImpl beanWrapper = new BeanWrapperImpl(value);\n    \n    for (final String f : fields) {\n       final Object fieldValue = beanWrapper.getPropertyValue(f);\n       \n       if (fieldValue == null) {\n          return false;\n       }\n    }\n\n    return true;\n}\n</code></pre>\n<p>Annotation:</p>\n<pre><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\n@Retention(RUNTIME)\n@Target({ElementType.TYPE, ElementType.ANNOTATION_TYPE})\n@Constraint(validatedBy = CombinedNotNullValidator.class)\npublic @interface CombinedNotNull {\n    String message() default &quot;username or email is required&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    /**\n     * Fields to validate against null.\n     */\n    String[] fields() default {};\n}\n</code></pre>\n<p>The annotation could be applied as</p>\n<pre><code>@CombinedNotNull(fields = {\n      &quot;fieldName1&quot;,\n      &quot;fieldName2&quot;\n})\npublic class MyClassToValidate { ... }\n</code></pre>\n<p>To learn how to create a Class-level constraint annotation, refer always to the official documentation. <a href=\"https://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html/validator-customconstraints.html#section-class-level-constraints\" rel=\"nofollow noreferrer\">Docs</a></p>\n"},{"tags":[],"owner":{"account_id":3135856,"reputation":802,"user_id":2652379,"accept_rate":90,"display_name":"user2652379"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1646714622,"creation_date":1582510027,"answer_id":60368700,"question_id":54638255,"body_markdown":"I&#39;m assuming `username` **OR** `email` must not be null. Not **XOR**.\r\n\r\nAdd this getter in `User` class:\r\n\r\n    @AssertTrue(message = &quot;username or email is required&quot;)\r\n    private boolean isUsernameOrEmailExists() {\r\n        return username != null || email != null;\r\n    }\r\n\r\nIn my experience, the method name must follow the getter name convention otherwise this won&#39;t work. For examples, `getFoo` or `isBar`.\r\n\r\nThis has a small problem: the field name from this validation error would be `usernameOrEmailExists`, only 1 error field. If that is not a concern, this might help.\r\n\r\n---\r\n\r\nBut If you want to have `username` and `email` fields when errors occur, you can use this workaround:\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    @AssertTrue(message = &quot;username or email is required&quot;)\r\n    private boolean isUsername() {\r\n        return isUsernameOrEmailExists();\r\n    }\r\n\r\n    @AssertTrue(message = &quot;username or email is required&quot;)\r\n    private boolean isEmail() {\r\n        return isUsernameOrEmailExists();\r\n    }\r\n\r\n    private boolean isUsernameOrEmailExists() {\r\n        return username != null || email != null;\r\n    }\r\n\r\n`get...` methods are just simple getters for general use, and `is...`  are for validation. This will emit 2 validation errors with `username` and `email` fields.","title":"Spring Boot validation - one from two not null","body":"<p>I'm assuming <code>username</code> <strong>OR</strong> <code>email</code> must not be null. Not <strong>XOR</strong>.</p>\n<p>Add this getter in <code>User</code> class:</p>\n<pre><code>@AssertTrue(message = &quot;username or email is required&quot;)\nprivate boolean isUsernameOrEmailExists() {\n    return username != null || email != null;\n}\n</code></pre>\n<p>In my experience, the method name must follow the getter name convention otherwise this won't work. For examples, <code>getFoo</code> or <code>isBar</code>.</p>\n<p>This has a small problem: the field name from this validation error would be <code>usernameOrEmailExists</code>, only 1 error field. If that is not a concern, this might help.</p>\n<hr />\n<p>But If you want to have <code>username</code> and <code>email</code> fields when errors occur, you can use this workaround:</p>\n<pre><code>public String getUsername() {\n    return username;\n}\n\npublic String getEmail() {\n    return email;\n}\n\n@AssertTrue(message = &quot;username or email is required&quot;)\nprivate boolean isUsername() {\n    return isUsernameOrEmailExists();\n}\n\n@AssertTrue(message = &quot;username or email is required&quot;)\nprivate boolean isEmail() {\n    return isUsernameOrEmailExists();\n}\n\nprivate boolean isUsernameOrEmailExists() {\n    return username != null || email != null;\n}\n</code></pre>\n<p><code>get...</code> methods are just simple getters for general use, and <code>is...</code>  are for validation. This will emit 2 validation errors with <code>username</code> and <code>email</code> fields.</p>\n"},{"tags":[],"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624746780,"creation_date":1624746780,"answer_id":68146713,"question_id":54638255,"body_markdown":"If you want to validate that exactly one is set and the others are null:\r\n\r\n# Annotation\r\n```\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.Target;\r\n\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\n@Retention(RUNTIME)\r\n@Target({ElementType.TYPE, ElementType.ANNOTATION_TYPE})\r\n@Constraint(validatedBy = OneNotNullValidator.class)\r\npublic @interface OneNotNull {\r\n    String message() default &quot;Exactly one of the fields must be set and the other must be null&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n    /**\r\n     * Fields to validate against null.\r\n     */\r\n    String[] fields() default {};\r\n}\r\n```\r\n\r\n# Validator\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Objects;\r\n\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\n\r\nimport org.springframework.beans.BeanWrapperImpl;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class OneNotNullValidator implements ConstraintValidator&lt;OneNotNull, Object&gt; {\r\n    private String[] fields;\r\n\r\n    @Override\r\n    public void initialize(final OneNotNull combinedNotNull) {\r\n        fields = combinedNotNull.fields();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(final Object obj, final ConstraintValidatorContext context) {\r\n        final BeanWrapperImpl beanWrapper = new BeanWrapperImpl(obj);\r\n\r\n        return Arrays.stream(fields)\r\n                .map(beanWrapper::getPropertyValue)\r\n                .filter(Objects::isNull)\r\n                .count()\r\n                == 1;\r\n    }\r\n}\r\n\r\n```\r\n\r\n# Usage\r\n\r\n```\r\n@OneNotNull(\r\n    fields = {&quot;username&quot;,&quot;email&quot;},\r\n    message=&quot;Either username or email must be set&quot;\r\n)\r\npublic class User {\r\n\r\n    private String username;\r\n    private String email;\r\n\r\n   // ...\r\n}\r\n```","title":"Spring Boot validation - one from two not null","body":"<p>If you want to validate that exactly one is set and the others are null:</p>\n<h1>Annotation</h1>\n<pre><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\n@Retention(RUNTIME)\n@Target({ElementType.TYPE, ElementType.ANNOTATION_TYPE})\n@Constraint(validatedBy = OneNotNullValidator.class)\npublic @interface OneNotNull {\n    String message() default &quot;Exactly one of the fields must be set and the other must be null&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    /**\n     * Fields to validate against null.\n     */\n    String[] fields() default {};\n}\n</code></pre>\n<h1>Validator</h1>\n<pre><code>import java.util.Arrays;\nimport java.util.Objects;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\nimport org.springframework.beans.BeanWrapperImpl;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class OneNotNullValidator implements ConstraintValidator&lt;OneNotNull, Object&gt; {\n    private String[] fields;\n\n    @Override\n    public void initialize(final OneNotNull combinedNotNull) {\n        fields = combinedNotNull.fields();\n    }\n\n    @Override\n    public boolean isValid(final Object obj, final ConstraintValidatorContext context) {\n        final BeanWrapperImpl beanWrapper = new BeanWrapperImpl(obj);\n\n        return Arrays.stream(fields)\n                .map(beanWrapper::getPropertyValue)\n                .filter(Objects::isNull)\n                .count()\n                == 1;\n    }\n}\n\n</code></pre>\n<h1>Usage</h1>\n<pre><code>@OneNotNull(\n    fields = {&quot;username&quot;,&quot;email&quot;},\n    message=&quot;Either username or email must be set&quot;\n)\npublic class User {\n\n    private String username;\n    private String email;\n\n   // ...\n}\n</code></pre>\n"}],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29612,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":54639336,"answer_count":3,"score":14,"last_activity_date":1646714622,"creation_date":1549915412,"question_id":54638255,"body_markdown":"I&#39;m trying to validate if one of two fields are not null in Spring Boot?\r\n\r\nI have set that in the method class for the main object:\r\n\r\n    @NotNull(message = &quot;Username field is required&quot;)\r\n    private String username;\r\n\r\n    @NotNull(message = &quot;Email field is required&quot;)\r\n    private String email;\r\n\r\nbut that will require to have both fields not null. Then I went with custom validation described here https://lmonkiewicz.com/programming/get-noticed-2017/spring-boot-rest-request-validation/ but I wasn&#39;t able to get that example to work. I have to stuck on\r\n\r\nUser class declaration:\r\n\r\n    @CombinedNotNull(fields = {&quot;username&quot;,&quot;email&quot;})\r\n    public class User implements {\r\n    \r\n        private long id = 0L;\r\n        @NotNull(message = &quot;First name field is required&quot;)\r\n        private String firstName;\r\n    \r\n        @NotNull(message = &quot;Last name field is required&quot;)\r\n        private String lastName;\r\n    \r\n        private String username;\r\n        private String email;\r\n    \r\n        @NotNull(message = &quot;Status field is required&quot;)\r\n        private String status;\r\n    \r\n        ...all methods here...\r\n        ...setters and getters...\r\n    \r\n    }\r\n\r\nCombibnedNotNull class:\r\n\r\n    @Documented\r\n    @Retention(RUNTIME)\r\n    @Target({ TYPE, ANNOTATION_TYPE })\r\n    @Constraint(validatedBy = userValidator.class)\r\n    public @interface CombinedNotNull {\r\n            String message() default &quot;username or email is required&quot;;\r\n            Class&lt;?&gt;[] groups() default { };\r\n            Class&lt;? extends Payload&gt;[] payload() default { };\r\n    }\r\n\r\nuserValidator class:\r\n\r\n    @Component\r\n    public class userValidator implements ConstraintValidator&lt;CombinedNotNull, User&gt; {\r\n    \r\n        @Override\r\n        public void initialize(final CombinedNotNull combinedNotNull) {\r\n            fields = combinedNotNull.fields();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(final User user, final ConstraintValidatorContext context) {\r\n            final BeanWrapperImpl beanWrapper = new BeanWrapperImpl(user);\r\n    \r\n            for (final String f : fields) {\r\n                final Object fieldValue = beanWrapper.getPropertyValue(f);\r\n    \r\n                if (fieldValue == null) {\r\n                    return false;\r\n                }\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    }\r\n\r\nIs there any other way to get this done or should I go with the &quot;complex&quot; example from that page?\r\n\r\n","title":"Spring Boot validation - one from two not null","body":"<p>I'm trying to validate if one of two fields are not null in Spring Boot?</p>\n\n<p>I have set that in the method class for the main object:</p>\n\n<pre><code>@NotNull(message = \"Username field is required\")\nprivate String username;\n\n@NotNull(message = \"Email field is required\")\nprivate String email;\n</code></pre>\n\n<p>but that will require to have both fields not null. Then I went with custom validation described here <a href=\"https://lmonkiewicz.com/programming/get-noticed-2017/spring-boot-rest-request-validation/\" rel=\"noreferrer\">https://lmonkiewicz.com/programming/get-noticed-2017/spring-boot-rest-request-validation/</a> but I wasn't able to get that example to work. I have to stuck on</p>\n\n<p>User class declaration:</p>\n\n<pre><code>@CombinedNotNull(fields = {\"username\",\"email\"})\npublic class User implements {\n\n    private long id = 0L;\n    @NotNull(message = \"First name field is required\")\n    private String firstName;\n\n    @NotNull(message = \"Last name field is required\")\n    private String lastName;\n\n    private String username;\n    private String email;\n\n    @NotNull(message = \"Status field is required\")\n    private String status;\n\n    ...all methods here...\n    ...setters and getters...\n\n}\n</code></pre>\n\n<p>CombibnedNotNull class:</p>\n\n<pre><code>@Documented\n@Retention(RUNTIME)\n@Target({ TYPE, ANNOTATION_TYPE })\n@Constraint(validatedBy = userValidator.class)\npublic @interface CombinedNotNull {\n        String message() default \"username or email is required\";\n        Class&lt;?&gt;[] groups() default { };\n        Class&lt;? extends Payload&gt;[] payload() default { };\n}\n</code></pre>\n\n<p>userValidator class:</p>\n\n<pre><code>@Component\npublic class userValidator implements ConstraintValidator&lt;CombinedNotNull, User&gt; {\n\n    @Override\n    public void initialize(final CombinedNotNull combinedNotNull) {\n        fields = combinedNotNull.fields();\n    }\n\n    @Override\n    public boolean isValid(final User user, final ConstraintValidatorContext context) {\n        final BeanWrapperImpl beanWrapper = new BeanWrapperImpl(user);\n\n        for (final String f : fields) {\n            final Object fieldValue = beanWrapper.getPropertyValue(f);\n\n            if (fieldValue == null) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n\n<p>Is there any other way to get this done or should I go with the \"complex\" example from that page?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"display_name":"user18296845"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646714270,"creation_date":1646714270,"answer_id":71390097,"question_id":71371982,"body_markdown":"Declaring the **Linearlayout** locally, solved the issue:\r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\n    \r\n    btn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n             LinearLayout diagLayout = new LinearLayout(getContext());\r\n             diagLayout.setOrientation(LinearLayout.VERTICAL);\r\n             TextView text = new TextView(getContext());\r\n    \r\n             text.setText(&quot;Hello&quot;);\r\n             diagLayout.addView(text);\r\n    \r\n             builder.setView(diagLayout);\r\n    \r\n             builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n                  @Override\r\n                  public void onClick(DialogInterface dialogInterface, int i) {\r\n                      dialogInterface.dismiss();\r\n                  }\r\n             });\r\n    \r\n             AlertDialog ad=builder.create();\r\n             ad.show();\r\n       }\r\n    });","title":"How do I call removeView() on child&#39;s parent?","body":"<p>Declaring the <strong>Linearlayout</strong> locally, solved the issue:</p>\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\n\nbtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n         LinearLayout diagLayout = new LinearLayout(getContext());\n         diagLayout.setOrientation(LinearLayout.VERTICAL);\n         TextView text = new TextView(getContext());\n\n         text.setText(&quot;Hello&quot;);\n         diagLayout.addView(text);\n\n         builder.setView(diagLayout);\n\n         builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n              @Override\n              public void onClick(DialogInterface dialogInterface, int i) {\n                  dialogInterface.dismiss();\n              }\n         });\n\n         AlertDialog ad=builder.create();\n         ad.show();\n   }\n});\n</code></pre>\n"}],"owner":{"display_name":"user18296845"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646714270,"creation_date":1646582878,"question_id":71371982,"body_markdown":"I am trying to make a simple android `alertdialog` box. This is my code:\r\n\r\n    LinearLayout diagLayout = new LinearLayout(getContext());\r\n    diagLayout.setOrientation(LinearLayout.VERTICAL);\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\n\r\n    btn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n             TextView text = new TextView(getContext());\r\n             if(text.getParent()!=null)\r\n                 ((ViewGroup)text.getParent()).removeView(text);\r\n\r\n             text.setText(&quot;Hello&quot;);\r\n             diagLayout.addView(text);\r\n\r\n             builder.setView(diagLayout);\r\n\r\n             builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n                  @Override\r\n                  public void onClick(DialogInterface dialogInterface, int i) {\r\n                      dialogInterface.dismiss();\r\n                  }\r\n             });\r\n\r\n             AlertDialog ad=builder.create();\r\n             ad.show();  //this is where the error shows\r\n       }\r\n    });\r\n\r\nWhen I click the `btn`, the dialog shows. Then when I press the `Cancel` button and then again press the `btn`, my app crashes and the following error shows up in my console:\r\n\r\n&gt; java.lang.IllegalStateException: The specified child already has a\r\n&gt; parent. You must call removeView() on the child&#39;s parent first.\r\n\r\nI have no idea why this error is occurring and how to fix this. Please help me\r\n\r\n             ","title":"How do I call removeView() on child&#39;s parent?","body":"<p>I am trying to make a simple android <code>alertdialog</code> box. This is my code:</p>\n<pre><code>LinearLayout diagLayout = new LinearLayout(getContext());\ndiagLayout.setOrientation(LinearLayout.VERTICAL);\nAlertDialog.Builder builder = new AlertDialog.Builder(getContext());\n\nbtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n         TextView text = new TextView(getContext());\n         if(text.getParent()!=null)\n             ((ViewGroup)text.getParent()).removeView(text);\n\n         text.setText(&quot;Hello&quot;);\n         diagLayout.addView(text);\n\n         builder.setView(diagLayout);\n\n         builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n              @Override\n              public void onClick(DialogInterface dialogInterface, int i) {\n                  dialogInterface.dismiss();\n              }\n         });\n\n         AlertDialog ad=builder.create();\n         ad.show();  //this is where the error shows\n   }\n});\n</code></pre>\n<p>When I click the <code>btn</code>, the dialog shows. Then when I press the <code>Cancel</code> button and then again press the <code>btn</code>, my app crashes and the following error shows up in my console:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: The specified child already has a\nparent. You must call removeView() on the child's parent first.</p>\n</blockquote>\n<p>I have no idea why this error is occurring and how to fix this. Please help me</p>\n"},{"tags":["java","postgresql","jdbc","hikaricp"],"comments":[{"owner":{"account_id":2730129,"reputation":4790,"user_id":2354099,"accept_rate":74,"display_name":"pinkpanther"},"score":0,"creation_date":1646670933,"post_id":71383619,"comment_id":126175779,"body_markdown":"Who ever added close vote, I request them to add a comment here so that I will know and improve the question. I posted this as a last resort. This is not an open ended question.","body":"Who ever added close vote, I request them to add a comment here so that I will know and improve the question. I posted this as a last resort. This is not an open ended question."},{"owner":{"account_id":2730129,"reputation":4790,"user_id":2354099,"accept_rate":74,"display_name":"pinkpanther"},"score":1,"creation_date":1646671348,"post_id":71383619,"comment_id":126175975,"body_markdown":"This is not an opinion based question. I don&#39;t have any solution for this. Someone should answer to even make it clear that if it&#39;s opinion based or not. That is if someone clearly knows if there are alternatives and they are equivalent. At this point I&#39;m not even sure how to keep the connection alive in this situation.","body":"This is not an opinion based question. I don&#39;t have any solution for this. Someone should answer to even make it clear that if it&#39;s opinion based or not. That is if someone clearly knows if there are alternatives and they are equivalent. At this point I&#39;m not even sure how to keep the connection alive in this situation."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1646696152,"post_id":71383619,"comment_id":126183463,"body_markdown":"Closing the connection on every iteration and *not* re-acquiring it sure doesn&#39;t work for me: `org.postgresql.util.PSQLException: This connection has been closed`.  It also doesn&#39;t make any sense.","body":"Closing the connection on every iteration and <i>not</i> re-acquiring it sure doesn&#39;t work for me: <code>org.postgresql.util.PSQLException: This connection has been closed</code>.  It also doesn&#39;t make any sense."},{"owner":{"account_id":2730129,"reputation":4790,"user_id":2354099,"accept_rate":74,"display_name":"pinkpanther"},"score":0,"creation_date":1646713496,"post_id":71383619,"comment_id":126186205,"body_markdown":"@jjanes I meant pgjdbc-ng. I edited question now.","body":"@jjanes I meant pgjdbc-ng. I edited question now."},{"owner":{"account_id":2730129,"reputation":4790,"user_id":2354099,"accept_rate":74,"display_name":"pinkpanther"},"score":0,"creation_date":1646713566,"post_id":71383619,"comment_id":126186217,"body_markdown":"@jjanes Yeah, that was just an experiment to see if I get that error, but I didn&#39;t for some reason. I did get this error without closing as well though when the application is left running for sometime.","body":"@jjanes Yeah, that was just an experiment to see if I get that error, but I didn&#39;t for some reason. I did get this error without closing as well though when the application is left running for sometime."}],"answers":[{"tags":[],"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646708463,"creation_date":1646708463,"answer_id":71389572,"question_id":71383619,"body_markdown":"The connection pool is the servant, not the master. Keep the connection for as long as you are using it to LISTEN on, i.e. ideally forever.  If the connection ever does close, then you will miss whatever notices were sent while it was closed. So to keep the cache in good shape, you would need to discard the whole thing and start over.  Obviously not something you would want to do on a regular basis, or what would be the point of having it in the first place?\r\n\r\nThe other doc you show is just an ancient version of the first one.  The dummy query just before polling is there to poke the underlying socket code to make sure it has absorbed all the messages.  This is no longer necessary.  I don&#39;t know if it ever was necessary, it might have just been some cargo cult that found its way into the docs.\r\n\r\nYou would probably be better off with the blocking version of this code, by using `getNotifications(0)` and getting rid of `sleep(delay)`.  This will block until a notice becomes available, rather than waking up twice a second and consuming some (small) amount of resources before sleeping again.  Also, once a notice does arrive it will be processed almost immediately, instead of waiting for what is left of a half-second timeout to expire (so, on average, about a quarter second).","title":"Is it a good idea to close the JDBC connection in case of PG Listen/Notify polling?","body":"<p>The connection pool is the servant, not the master. Keep the connection for as long as you are using it to LISTEN on, i.e. ideally forever.  If the connection ever does close, then you will miss whatever notices were sent while it was closed. So to keep the cache in good shape, you would need to discard the whole thing and start over.  Obviously not something you would want to do on a regular basis, or what would be the point of having it in the first place?</p>\n<p>The other doc you show is just an ancient version of the first one.  The dummy query just before polling is there to poke the underlying socket code to make sure it has absorbed all the messages.  This is no longer necessary.  I don't know if it ever was necessary, it might have just been some cargo cult that found its way into the docs.</p>\n<p>You would probably be better off with the blocking version of this code, by using <code>getNotifications(0)</code> and getting rid of <code>sleep(delay)</code>.  This will block until a notice becomes available, rather than waking up twice a second and consuming some (small) amount of resources before sleeping again.  Also, once a notice does arrive it will be processed almost immediately, instead of waiting for what is left of a half-second timeout to expire (so, on average, about a quarter second).</p>\n"}],"owner":{"account_id":2730129,"reputation":4790,"user_id":2354099,"accept_rate":74,"display_name":"pinkpanther"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71389572,"answer_count":1,"score":1,"last_activity_date":1646714130,"creation_date":1646667708,"question_id":71383619,"body_markdown":"We use connection pool in our application. While I understand that we should close and get connections as needed since we are using a connection pool. I implemented a cache update mechanism by receiving Postgres `LISTEN` notifications. The code is pretty much similar to the canonical example given by the [documentation][1].\r\n\r\nAs you can see in the code, the query is initiated in the constructor and the connection is re used. This may pose problem when the connection is closed out of band due to any factor. One solution to this is to get the connection before every use, but as you can see the statement is only executed once in the constructor but still I can receive the notification in the polling. So if I get the connection every time, it will force me to re issue the statement for every iteration(after delay). I&#39;m not sure if that&#39;s an expensive operation.\r\n\r\nWhat is the middle ground here?\r\n\r\n\r\n    class Listener extends Thread\r\n    {\r\n    private Connection conn;\r\n    private org.postgresql.PGConnection pgconn;\r\n\r\n    Listener(Connection conn) throws SQLException\r\n    {\r\n        this.conn = conn;\r\n        this.pgconn = conn.unwrap(org.postgresql.PGConnection.class);\r\n        Statement stmt = conn.createStatement();\r\n        stmt.execute(&quot;LISTEN mymessage&quot;);\r\n        stmt.close();\r\n    }\r\n\r\n    public void run()\r\n    {\r\n        try\r\n        {\r\n            while (true)\r\n            {\r\n                org.postgresql.PGNotification notifications[] = pgconn.getNotifications();\r\n\r\n              \r\n                if (notifications != null)\r\n                {\r\n                    for (int i=0; i &lt; notifications.length; i++){\r\n                        //use notification\r\n                    }   \r\n                }\r\n\r\n                Thread.sleep(delay);\r\n            }\r\n        }\r\n        catch (SQLException sqle)\r\n        {\r\n            //handle\r\n        }\r\n        catch (InterruptedException ie)\r\n        {\r\n            //handle\r\n        }\r\n    }\r\n}\r\n\r\n\r\nIn addition to this, there is also another similar [document][2] which had another query in run method as well in addition to constructor. I&#39;m wondering if someone could enlighten me the purpose of another query within the method.\r\n\r\n    public void run() {\r\n\t\twhile (true) {\r\n\t\t\ttry {\r\n\t\t\t\t//this query is additional to the one in the constructor\r\n\t\t\t\tStatement stmt = conn.createStatement();\r\n\t\t\t\tResultSet rs = stmt.executeQuery(&quot;SELECT 1&quot;);\r\n\t\t\t\trs.close();\r\n\t\t\t\tstmt.close();\r\n\r\n\t\t\t\torg.postgresql.PGNotification notifications[] = pgconn.getNotifications();\r\n\t\t\t\tif (notifications != null) {\r\n\t\t\t\t\tfor (int i=0; i&lt;notifications.length; i++) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Got notification: &quot; + notifications[i].getName());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// wait a while before checking again for new\r\n\t\t\t\t// notifications\r\n\t\t\t\tThread.sleep(delay);\r\n\t\t\t} catch (SQLException sqle) {\r\n\t\t\t\t//handle\r\n\t\t\t} catch (InterruptedException ie) {\r\n\t\t\t\t//handle\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nI experimented closing the connection in every iteration(but without getting another one). That&#39;s still working. Perhaps that&#39;s due to unwrap that was done.\r\n\r\nStack:\r\nSpring Boot, JPA, Hikari, Postgres JDBC Driver (not pgjdbc-ng)\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/head/listennotify.html\r\n  [2]: https://jdbc.postgresql.org/documentation/81/listennotify.html","title":"Is it a good idea to close the JDBC connection in case of PG Listen/Notify polling?","body":"<p>We use connection pool in our application. While I understand that we should close and get connections as needed since we are using a connection pool. I implemented a cache update mechanism by receiving Postgres <code>LISTEN</code> notifications. The code is pretty much similar to the canonical example given by the <a href=\"https://jdbc.postgresql.org/documentation/head/listennotify.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>As you can see in the code, the query is initiated in the constructor and the connection is re used. This may pose problem when the connection is closed out of band due to any factor. One solution to this is to get the connection before every use, but as you can see the statement is only executed once in the constructor but still I can receive the notification in the polling. So if I get the connection every time, it will force me to re issue the statement for every iteration(after delay). I'm not sure if that's an expensive operation.</p>\n<p>What is the middle ground here?</p>\n<pre><code>class Listener extends Thread\n{\nprivate Connection conn;\nprivate org.postgresql.PGConnection pgconn;\n\nListener(Connection conn) throws SQLException\n{\n    this.conn = conn;\n    this.pgconn = conn.unwrap(org.postgresql.PGConnection.class);\n    Statement stmt = conn.createStatement();\n    stmt.execute(&quot;LISTEN mymessage&quot;);\n    stmt.close();\n}\n\npublic void run()\n{\n    try\n    {\n        while (true)\n        {\n            org.postgresql.PGNotification notifications[] = pgconn.getNotifications();\n\n          \n            if (notifications != null)\n            {\n                for (int i=0; i &lt; notifications.length; i++){\n                    //use notification\n                }   \n            }\n\n            Thread.sleep(delay);\n        }\n    }\n    catch (SQLException sqle)\n    {\n        //handle\n    }\n    catch (InterruptedException ie)\n    {\n        //handle\n    }\n}\n</code></pre>\n<p>}</p>\n<p>In addition to this, there is also another similar <a href=\"https://jdbc.postgresql.org/documentation/81/listennotify.html\" rel=\"nofollow noreferrer\">document</a> which had another query in run method as well in addition to constructor. I'm wondering if someone could enlighten me the purpose of another query within the method.</p>\n<pre><code>public void run() {\n    while (true) {\n        try {\n            //this query is additional to the one in the constructor\n            Statement stmt = conn.createStatement();\n            ResultSet rs = stmt.executeQuery(&quot;SELECT 1&quot;);\n            rs.close();\n            stmt.close();\n\n            org.postgresql.PGNotification notifications[] = pgconn.getNotifications();\n            if (notifications != null) {\n                for (int i=0; i&lt;notifications.length; i++) {\n                    System.out.println(&quot;Got notification: &quot; + notifications[i].getName());\n                }\n            }\n\n            // wait a while before checking again for new\n            // notifications\n            Thread.sleep(delay);\n        } catch (SQLException sqle) {\n            //handle\n        } catch (InterruptedException ie) {\n            //handle\n        }\n    }\n}\n</code></pre>\n<p>I experimented closing the connection in every iteration(but without getting another one). That's still working. Perhaps that's due to unwrap that was done.</p>\n<p>Stack:\nSpring Boot, JPA, Hikari, Postgres JDBC Driver (not pgjdbc-ng)</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646708129,"post_id":71389509,"comment_id":126185430,"body_markdown":"What&#39;s the error?","body":"What&#39;s the error?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1646708129,"post_id":71389509,"comment_id":126185431,"body_markdown":"You need to reset `reverse` for each String.  You can easily check by printing out the value of `reverse`","body":"You need to reset <code>reverse</code> for each String.  You can easily check by printing out the value of <code>reverse</code>"}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646710964,"creation_date":1646710964,"answer_id":71389781,"question_id":71389509,"body_markdown":"    public static void main(String[] args) {                                                                                                                                                        \r\n        String[] names = {&quot;Anna&quot;, &quot;Nalan&quot;, &quot;Hannah&quot;, &quot;Emma&quot;, &quot;Aidai&quot;, &quot;Ciris&quot;, &quot;Yasin&quot;, &quot;Bob&quot;, &quot;Inna&quot;, &quot;Eve&quot;};\r\n                                                                                \r\n        for (String str : names) {                                              \r\n            String lowStr = str.toLowerCase();                                  \r\n            char[] chs = lowStr.toCharArray();                                  \r\n            for ( int i = 0, j = chs.length -1; i &lt; j; ) {                      \r\n                char c = chs[i];                                                  \r\n                chs[i++] = chs[j];                                              \r\n                chs[j--] = c;                                                   \r\n            }                                                                     \r\n            if ( lowStr.equals(new String(chs)) ) {                             \r\n                System.out.println(str);                                        \r\n                System.out.println(str.length());                               \r\n            }                                                                   \r\n        }                                                                       \r\n    }","title":"Check palindrome of string array","body":"<pre><code>public static void main(String[] args) {                                                                                                                                                        \n    String[] names = {&quot;Anna&quot;, &quot;Nalan&quot;, &quot;Hannah&quot;, &quot;Emma&quot;, &quot;Aidai&quot;, &quot;Ciris&quot;, &quot;Yasin&quot;, &quot;Bob&quot;, &quot;Inna&quot;, &quot;Eve&quot;};\n                                                                            \n    for (String str : names) {                                              \n        String lowStr = str.toLowerCase();                                  \n        char[] chs = lowStr.toCharArray();                                  \n        for ( int i = 0, j = chs.length -1; i &lt; j; ) {                      \n            char c = chs[i];                                                  \n            chs[i++] = chs[j];                                              \n            chs[j--] = c;                                                   \n        }                                                                     \n        if ( lowStr.equals(new String(chs)) ) {                             \n            System.out.println(str);                                        \n            System.out.println(str.length());                               \n        }                                                                   \n    }                                                                       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22496556,"reputation":59,"user_id":16693450,"display_name":"Ashray Trivedi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646712264,"creation_date":1646712264,"answer_id":71389909,"question_id":71389509,"body_markdown":"With StringBuilder to easily find all palindrome string in String[].\r\n\r\nRunning Code - \r\n\r\n    class PalindromeStrings {\r\n    \r\n        private static void printOnlyPalindrome(String str) {\r\n            String oldString = str;\r\n            StringBuilder builder = new StringBuilder(str);\r\n            if (builder.reverse().toString().toLowerCase().equals(oldString.toLowerCase())) {\r\n                System.out.println(oldString);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String stringArray[] = {\r\n                &quot;Anna&quot;,\r\n                &quot;Nalan&quot;,\r\n                &quot;Hannah&quot;,\r\n                &quot;Emma&quot;,\r\n                &quot;Aidai&quot;,\r\n                &quot;Ciris&quot;,\r\n                &quot;Yasin&quot;,\r\n                &quot;Bob&quot;,\r\n                &quot;Inna&quot;,\r\n                &quot;Eve&quot;\r\n            };\r\n            for (int i = 0; i &lt; stringArray.length; i++) {\r\n                printOnlyPalindrome(stringArray[i]);\r\n            }\r\n        }\r\n    \r\n    \r\n    }","title":"Check palindrome of string array","body":"<p>With StringBuilder to easily find all palindrome string in String[].</p>\n<p>Running Code -</p>\n<pre><code>class PalindromeStrings {\n\n    private static void printOnlyPalindrome(String str) {\n        String oldString = str;\n        StringBuilder builder = new StringBuilder(str);\n        if (builder.reverse().toString().toLowerCase().equals(oldString.toLowerCase())) {\n            System.out.println(oldString);\n        }\n    }\n\n    public static void main(String[] args) {\n        String stringArray[] = {\n            &quot;Anna&quot;,\n            &quot;Nalan&quot;,\n            &quot;Hannah&quot;,\n            &quot;Emma&quot;,\n            &quot;Aidai&quot;,\n            &quot;Ciris&quot;,\n            &quot;Yasin&quot;,\n            &quot;Bob&quot;,\n            &quot;Inna&quot;,\n            &quot;Eve&quot;\n        };\n        for (int i = 0; i &lt; stringArray.length; i++) {\n            printOnlyPalindrome(stringArray[i]);\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646713900,"creation_date":1646713900,"answer_id":71390054,"question_id":71389509,"body_markdown":"A different approach:\r\n\r\n    String[] names = {&quot;Anna&quot;, &quot;Nalan&quot;, &quot;Hannah&quot;, &quot;Emma&quot;, &quot;Aidai&quot;, &quot;Ciris&quot;, &quot;Yasin&quot;, &quot;Bob&quot;, &quot;Inna&quot;, &quot;Eve&quot;};\r\n    for (String name : names) {\r\n      System.out.print(name);\r\n      \r\n      boolean isPalindrome = true;\r\n      for(int x=0, y=name.length()-1; x&lt;y &amp;&amp; isPalindrome; x++, y--) {\r\n        isPalindrome=(name.substring(x,x+1).equalsIgnoreCase(name.substring(y,y+1)));\r\n      }\r\n      \r\n      if (isPalindrome){\r\n          System.out.println(&quot; is a Palindrome&quot;);\r\n      }\r\n      else {\r\n        System.out.println(&quot; is NOT a Palindrome&quot;);\r\n      }\r\n    } \r\n\r\nOutput:\r\n\r\n    Anna is a Palindrome\r\n    Nalan is a Palindrome\r\n    Hannah is a Palindrome\r\n    Emma is NOT a Palindrome\r\n    Aidai is NOT a Palindrome\r\n    Ciris is NOT a Palindrome\r\n    Yasin is NOT a Palindrome\r\n    Bob is a Palindrome\r\n    Inna is NOT a Palindrome\r\n    Eve is a Palindrome","title":"Check palindrome of string array","body":"<p>A different approach:</p>\n<pre><code>String[] names = {&quot;Anna&quot;, &quot;Nalan&quot;, &quot;Hannah&quot;, &quot;Emma&quot;, &quot;Aidai&quot;, &quot;Ciris&quot;, &quot;Yasin&quot;, &quot;Bob&quot;, &quot;Inna&quot;, &quot;Eve&quot;};\nfor (String name : names) {\n  System.out.print(name);\n  \n  boolean isPalindrome = true;\n  for(int x=0, y=name.length()-1; x&lt;y &amp;&amp; isPalindrome; x++, y--) {\n    isPalindrome=(name.substring(x,x+1).equalsIgnoreCase(name.substring(y,y+1)));\n  }\n  \n  if (isPalindrome){\n      System.out.println(&quot; is a Palindrome&quot;);\n  }\n  else {\n    System.out.println(&quot; is NOT a Palindrome&quot;);\n  }\n} \n</code></pre>\n<p>Output:</p>\n<pre><code>Anna is a Palindrome\nNalan is a Palindrome\nHannah is a Palindrome\nEmma is NOT a Palindrome\nAidai is NOT a Palindrome\nCiris is NOT a Palindrome\nYasin is NOT a Palindrome\nBob is a Palindrome\nInna is NOT a Palindrome\nEve is a Palindrome\n</code></pre>\n"}],"owner":{"account_id":24486150,"reputation":1,"user_id":18403801,"display_name":"Tola Chea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646713900,"creation_date":1646707990,"question_id":71389509,"body_markdown":"\r\nGiven this array. find all palindrome string\r\n        String[] names = {&quot;Anna&quot;, &quot;Nalan&quot;, &quot;Hannah&quot;, &quot;Emma&quot;, &quot;Aidai&quot;, &quot;Ciris&quot;, &quot;Yasin&quot;, &quot;Bob&quot;, &quot;Inna&quot;, &quot;Eve&quot;};\r\n\r\nCan anyone help me fixing my error?\r\n\r\n     String[] names = {&quot;Anna&quot;, &quot;Nalan&quot;, &quot;Hannah&quot;, &quot;Emma&quot;, &quot;Aidai&quot;, &quot;Ciris&quot;, &quot;Yasin&quot;, &quot;Bob&quot;, &quot;Inna&quot;, &quot;Eve&quot;};\r\n        boolean isPalindrome = true;\r\n        String reverses[] = new String[names.length];\r\n        String reverse = &quot;&quot;;\r\n        char [] ch = {};\r\n//       System.out.println(Arrays.toString(names));\r\n\r\n        for (int i = 0; i&lt; names.length; i++){\r\n            System.out.println(names[i]);//convert from array to string\r\n            int strLength = names[i].length();\r\n            System.out.println(strLength);\r\n\r\n            for(int j = strLength - 1; j&gt;=0; j--) {\r\n                reverse = reverse + names[i].charAt(j);\r\n            }\r\n            if (names[i].toLowerCase().equals(reverse.toLowerCase())){\r\n                System.out.println(reverse);\r\n\r\nOutput is:\r\n\r\n    Anna\r\n    4\r\n    annA\r\n    Nalan\r\n    5\r\n    Hannah\r\n    6\r\n    Emma\r\n    4\r\n    Aidai\r\n    5\r\n    Ciris\r\n    5\r\n    Yasin\r\n    5\r\n    Bob\r\n    3\r\n    Inna\r\n    4\r\n    Eve\r\n    3\r\n\r\n   ","title":"Check palindrome of string array","body":"<p>Given this array. find all palindrome string\nString[] names = {&quot;Anna&quot;, &quot;Nalan&quot;, &quot;Hannah&quot;, &quot;Emma&quot;, &quot;Aidai&quot;, &quot;Ciris&quot;, &quot;Yasin&quot;, &quot;Bob&quot;, &quot;Inna&quot;, &quot;Eve&quot;};</p>\n<p>Can anyone help me fixing my error?</p>\n<pre><code> String[] names = {&quot;Anna&quot;, &quot;Nalan&quot;, &quot;Hannah&quot;, &quot;Emma&quot;, &quot;Aidai&quot;, &quot;Ciris&quot;, &quot;Yasin&quot;, &quot;Bob&quot;, &quot;Inna&quot;, &quot;Eve&quot;};\n    boolean isPalindrome = true;\n    String reverses[] = new String[names.length];\n    String reverse = &quot;&quot;;\n    char [] ch = {};\n</code></pre>\n<p>//       System.out.println(Arrays.toString(names));</p>\n<pre><code>    for (int i = 0; i&lt; names.length; i++){\n        System.out.println(names[i]);//convert from array to string\n        int strLength = names[i].length();\n        System.out.println(strLength);\n\n        for(int j = strLength - 1; j&gt;=0; j--) {\n            reverse = reverse + names[i].charAt(j);\n        }\n        if (names[i].toLowerCase().equals(reverse.toLowerCase())){\n            System.out.println(reverse);\n</code></pre>\n<p>Output is:</p>\n<pre><code>Anna\n4\nannA\nNalan\n5\nHannah\n6\nEmma\n4\nAidai\n5\nCiris\n5\nYasin\n5\nBob\n3\nInna\n4\nEve\n3\n</code></pre>\n"},{"tags":["java","hibernate","jpa","orm","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1418798079,"creation_date":1418797159,"answer_id":27519443,"question_id":27519399,"body_markdown":"From the **JPA 2.0 spe**c, the defaults are like so:\r\n\r\n    OneToMany: LAZY\r\n    ManyToOne: EAGER\r\n    ManyToMany: LAZY\r\n    OneToOne: EAGER\r\n\r\nAnd in **hibernate, all is Lazy**\r\n\r\nFrom Hibernate Docs,\r\n\r\n&gt; By default, Hibernate uses lazy select fetching for collections and\r\n&gt; lazy proxy fetching for single-valued associations. These defaults\r\n&gt; make sense for most associations in the majority of applications.\r\n\r\n\r\n\t\r\n\r\nTo answer your question, Hibernate is an implementation of the JPA standard. Hibernate has its own quirks of operation, but as per the Hibernate docs\r\n\r\n    By default, Hibernate uses lazy select fetching for collections and lazy proxy fetching for single-valued associations. These defaults make sense for most associations in the majority of applications.\r\n\r\nSo Hibernate will always load any object using a lazy fetching strategy, no matter what type of relationship you have declared.\r\n\r\n**JPA Spec** assumes that in general most of the applications will require the singleton relations by default be eager, whereas multi value relations by default be lazy. \r\n\r\nRefer [here][1] for more\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html/performance.html#performance-fetching-lazy","title":"Why does JPA use FetchType EAGER by default for the @ManyToOne relationship","body":"<p>From the <strong>JPA 2.0 spe</strong>c, the defaults are like so:</p>\n\n<pre><code>OneToMany: LAZY\nManyToOne: EAGER\nManyToMany: LAZY\nOneToOne: EAGER\n</code></pre>\n\n<p>And in <strong>hibernate, all is Lazy</strong></p>\n\n<p>From Hibernate Docs,</p>\n\n<blockquote>\n  <p>By default, Hibernate uses lazy select fetching for collections and\n  lazy proxy fetching for single-valued associations. These defaults\n  make sense for most associations in the majority of applications.</p>\n</blockquote>\n\n<p>To answer your question, Hibernate is an implementation of the JPA standard. Hibernate has its own quirks of operation, but as per the Hibernate docs</p>\n\n<pre><code>By default, Hibernate uses lazy select fetching for collections and lazy proxy fetching for single-valued associations. These defaults make sense for most associations in the majority of applications.\n</code></pre>\n\n<p>So Hibernate will always load any object using a lazy fetching strategy, no matter what type of relationship you have declared.</p>\n\n<p><strong>JPA Spec</strong> assumes that in general most of the applications will require the singleton relations by default be eager, whereas multi value relations by default be lazy. </p>\n\n<p>Refer <a href=\"https://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html/performance.html#performance-fetching-lazy\" rel=\"noreferrer\">here</a> for more</p>\n"},{"tags":[],"owner":{"account_id":1265422,"reputation":133,"user_id":2527264,"accept_rate":50,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418797498,"creation_date":1418797498,"answer_id":27519519,"question_id":27519399,"body_markdown":"if you use lazyfetch in ManyToOne, you have to use join when you do a query which gets all the models in the many side ","title":"Why does JPA use FetchType EAGER by default for the @ManyToOne relationship","body":"<p>if you use lazyfetch in ManyToOne, you have to use join when you do a query which gets all the models in the many side </p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1589813853,"creation_date":1418802529,"answer_id":27520593,"question_id":27519399,"body_markdown":"JPA gotcha\r\n----------\r\n\r\nThe reason for setting those to EAGER was because the early JPA 1.0 designers assumed that enforcing JPA implementations to support dynamically initializing Proxies would be a very strong requirement. However, since without Proxies, performance would suffer tremendously, all providers support LAZY associations.\r\n\r\nAvoid `FetchType.EAGER`\r\n-----------------------\r\n\r\nUsing the default EAGER fetching strategy for `@ManyToOne` and `@OneToOne` associations is [a terrible idea][1] as you can easily end up with [N+1 query issues][2].\r\n\r\nWhen using Hibernate, once an association is set to `FetchType.EAGER`, you can no longer fetch it lazily at query time. So, you are always going to fetch that relationship whether the current business use case needs it or not.\r\n\r\nUse `FetchType.LAZY` by default\r\n-------------------------------\r\n\r\nSo, you are better off using `FetchType.LAZY` by default for all associations. \r\n\r\nUnlike `FetchType.EAGER`, a `FetchType.LAZY` relationship can be fetched eagerly at query time using a `JOIN FETCH` clause. \r\n\r\nThe only thing you need to be aware of is that you need to fetch a lazy association in the context of the currently running Persistence Context if you need to access the association after the JPA `EntityManager` is closed. Otherwise, you are going to get a [`LazyInitializationException`][3]\r\n\r\n  [1]: http://vladmihalcea.com/eager-fetching-is-a-code-smell/\r\n  [2]: https://vladmihalcea.com/n-plus-1-query-problem/\r\n  [3]: https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/","title":"Why does JPA use FetchType EAGER by default for the @ManyToOne relationship","body":"<h2>JPA gotcha</h2>\n\n<p>The reason for setting those to EAGER was because the early JPA 1.0 designers assumed that enforcing JPA implementations to support dynamically initializing Proxies would be a very strong requirement. However, since without Proxies, performance would suffer tremendously, all providers support LAZY associations.</p>\n\n<h2>Avoid <code>FetchType.EAGER</code></h2>\n\n<p>Using the default EAGER fetching strategy for <code>@ManyToOne</code> and <code>@OneToOne</code> associations is <a href=\"http://vladmihalcea.com/eager-fetching-is-a-code-smell/\" rel=\"noreferrer\">a terrible idea</a> as you can easily end up with <a href=\"https://vladmihalcea.com/n-plus-1-query-problem/\" rel=\"noreferrer\">N+1 query issues</a>.</p>\n\n<p>When using Hibernate, once an association is set to <code>FetchType.EAGER</code>, you can no longer fetch it lazily at query time. So, you are always going to fetch that relationship whether the current business use case needs it or not.</p>\n\n<h2>Use <code>FetchType.LAZY</code> by default</h2>\n\n<p>So, you are better off using <code>FetchType.LAZY</code> by default for all associations. </p>\n\n<p>Unlike <code>FetchType.EAGER</code>, a <code>FetchType.LAZY</code> relationship can be fetched eagerly at query time using a <code>JOIN FETCH</code> clause. </p>\n\n<p>The only thing you need to be aware of is that you need to fetch a lazy association in the context of the currently running Persistence Context if you need to access the association after the JPA <code>EntityManager</code> is closed. Otherwise, you are going to get a <a href=\"https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\" rel=\"noreferrer\"><code>LazyInitializationException</code></a></p>\n"},{"tags":[],"owner":{"account_id":11934406,"reputation":21,"user_id":8733421,"display_name":"Mahesh Shimpi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576678331,"creation_date":1576673357,"answer_id":59392448,"question_id":27519399,"body_markdown":"If you look at it carefully, you will find that if the relationship ends with `Many` keyword i.e. `OneToMany`, `ManyToMany`, it is Lazy. If it ends with `One` i.e. `ManyToOne`, `OneToOne`, it is Eager. So the thing is if you have to load just one object it will fetch it very fast. But if it is loading many objects it will take a lot of time. So, to stop that loading time by default they should have set it to the Lazy loading.\r\n","title":"Why does JPA use FetchType EAGER by default for the @ManyToOne relationship","body":"<p>If you look at it carefully, you will find that if the relationship ends with <code>Many</code> keyword i.e. <code>OneToMany</code>, <code>ManyToMany</code>, it is Lazy. If it ends with <code>One</code> i.e. <code>ManyToOne</code>, <code>OneToOne</code>, it is Eager. So the thing is if you have to load just one object it will fetch it very fast. But if it is loading many objects it will take a lot of time. So, to stop that loading time by default they should have set it to the Lazy loading.</p>\n"}],"owner":{"account_id":5382000,"reputation":5258,"user_id":4286990,"accept_rate":60,"display_name":"vatsal mevada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39946,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":4,"score":23,"last_activity_date":1646712648,"creation_date":1418796944,"question_id":27519399,"body_markdown":"I came to notice that the default `FetchType` for the `@ManyToOne` mapping is `EAGER` in JPA and Hibernate, whereas for the `@OneToMany` mapping, the default `FetchType` is `LAZY`. \r\n\r\nWhat is the specific reason behind this?","title":"Why does JPA use FetchType EAGER by default for the @ManyToOne relationship","body":"<p>I came to notice that the default <code>FetchType</code> for the <code>@ManyToOne</code> mapping is <code>EAGER</code> in JPA and Hibernate, whereas for the <code>@OneToMany</code> mapping, the default <code>FetchType</code> is <code>LAZY</code>.</p>\n<p>What is the specific reason behind this?</p>\n"},{"tags":["java","json","objectmapper"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":1,"creation_date":1646712720,"post_id":71389899,"comment_id":126186102,"body_markdown":"the json you provided doesn&#39;t match with the model you are using","body":"the json you provided doesn&#39;t match with the model you are using"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":1,"creation_date":1646712859,"post_id":71389899,"comment_id":126186122,"body_markdown":"you can use `om.readValue(jsonString, new TypeReference&lt;List&lt;LookupData&gt;&gt;(){})`","body":"you can use <code>om.readValue(jsonString, new TypeReference&lt;List&lt;LookupData&gt;&gt;(){})</code>"},{"owner":{"account_id":5424092,"reputation":587,"user_id":4316933,"accept_rate":50,"display_name":"user222"},"score":0,"creation_date":1646715527,"post_id":71389899,"comment_id":126186545,"body_markdown":"Yes, as I mentioned in the model class, I have the inner class LookupData which holds the properties mentioned in the json and model class has List&lt;LookupData&gt; as the property as shown in BusinessModel.java","body":"Yes, as I mentioned in the model class, I have the inner class LookupData which holds the properties mentioned in the json and model class has List&lt;LookupData&gt; as the property as shown in BusinessModel.java"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1646720321,"post_id":71389899,"comment_id":126187401,"body_markdown":"your model class has property but the json you provided doesn&#39;t have that property, if you still don&#39;t understand you need to learn how deserialization works","body":"your model class has property but the json you provided doesn&#39;t have that property, if you still don&#39;t understand you need to learn how deserialization works"}],"owner":{"account_id":5424092,"reputation":587,"user_id":4316933,"accept_rate":50,"display_name":"user222"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646712205,"creation_date":1646712205,"question_id":71389899,"body_markdown":"I am trying to read the json String and map to the model object (BusinessModel). The model object is as shown below which has property &quot;`List&lt;LookupData&gt; lookupData;`&quot; and LookupData is the inner class of BusinessModel class and from jsonString i want to map the LookupData .\r\n\r\nBelow is the sample model class.\r\n\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @JsonIgnoreProperties\r\n    public class BusinessModel {\r\n    \r\n        private List&lt;LookupData&gt; lookupData;\r\n        @Getter\r\n        @Setter\r\n        @EqualsAndHashCode\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @Builder\r\n        public static class LoanDescLookup {\r\n            private String id;\r\n            private String description;\r\n            private boolean status;\r\n            private String type;\r\n        }\r\n        @Getter\r\n        @Setter\r\n        @EqualsAndHashCode\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @Builder\r\n        public static class LookupData {\r\n            private String id;\r\n            private String description;\r\n            private boolean defaultLookup;\r\n            private String regex;\r\n            private String regexDescription;\r\n        }    \r\n    }\r\nBelow is the sample json String.\r\n\r\n    String jsonString = &quot;[\\n&quot; +\r\n                        &quot;        {\\n&quot; +\r\n                        &quot;            \\&quot;id\\&quot;: \\&quot;101\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;description\\&quot;: \\&quot;issueID 101\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;defaultLookup\\&quot;: true,\\n&quot; +\r\n                        &quot;            \\&quot;regex\\&quot;: \\&quot;^([a-zA-Z0-9_-]){4,5}$\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;regexDescription\\&quot;: \\&quot;A four or five character string, including numbers\\&quot;\\n&quot; +\r\n                        &quot;        },\\n&quot; +\r\n                        &quot;        {\\n&quot; +\r\n                        &quot;            \\&quot;id\\&quot;: \\&quot;102\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;description\\&quot;: \\&quot;issueID 102\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;defaultLookup\\&quot;: false,\\n&quot; +\r\n                        &quot;            \\&quot;regex\\&quot;: \\&quot;^([a-zA-Z0-9_-]){4}$\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;regexDescription\\&quot;: \\&quot;A four character string, including numbers\\&quot;\\n&quot; +\r\n                        &quot;        },\\n&quot; +\r\n                        &quot;        {\\n&quot; +\r\n                        &quot;            \\&quot;id\\&quot;: \\&quot;103\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;description\\&quot;: \\&quot;issueID 103\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;defaultLookup\\&quot;: false,\\n&quot; +\r\n                        &quot;            \\&quot;regex\\&quot;: \\&quot;^[A-Z0-9]{11}$\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;regexDescription\\&quot;: \\&quot;A 11 character vin number\\&quot;\\n&quot; +\r\n                        &quot;        },\\n&quot; +\r\n                        &quot;        {\\n&quot; +\r\n                        &quot;            \\&quot;id\\&quot;: \\&quot;104\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;description\\&quot;: \\&quot;issueID 104\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;defaultLookup\\&quot;: true,\\n&quot; +\r\n                        &quot;            \\&quot;regex\\&quot;: \\&quot;^[0-9]{6}$\\&quot;,\\n&quot; +\r\n                        &quot;            \\&quot;regexDescription\\&quot;: \\&quot;A 6 character vin number (e.g. 202108)\\&quot;\\n&quot; +\r\n                        &quot;        }\\n&quot; +\r\n                        &quot;    ]&quot;;\r\n\r\nSample java code to read the above jsonString and map to model object.\r\n\r\n                    ObjectMapper om = new ObjectMapper();\r\n                    BusinessModel lookupData = om.readValue(jsonString, BusinessModel.class);\r\n                  \r\n                    for (int i = 0; i &lt; lookupData.getLookupData().size(); i++) {\r\n                        BusinessModel.LookupData selectByLookup = lookupData.getLookupData().get(i);\r\n                        String id = selectByLookup.getId();\r\n                        String description = selectByLookup.getDescription();\r\n                        String regex = selectByLookup.getRegex();\r\n                        String regexDescription = selectByLookup.getRegexDescription();\r\n                        result.add(BusinessModel.selectByLookup.builder().id(id)\r\n                                .description(description)\r\n                                .defaultLookup(result.size() == 0)\r\n                                .regex(regex)\r\n                                .regexDescription(regexDescription)\r\n                                .build());\r\n    }\r\n\r\nBelow is the exception i&#39;m getting while running the above code.\r\n\r\n    Exception :: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `com.model.BusinessModel` out of START_ARRAY token\r\n     at [Source: (String)&quot;[\r\n","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException while read the json string and map to model object","body":"<p>I am trying to read the json String and map to the model object (BusinessModel). The model object is as shown below which has property &quot;<code>List&lt;LookupData&gt; lookupData;</code>&quot; and LookupData is the inner class of BusinessModel class and from jsonString i want to map the LookupData .</p>\n<p>Below is the sample model class.</p>\n<pre><code>import java.io.IOException;\nimport java.util.List;\n@Getter\n@Setter\n@EqualsAndHashCode\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@JsonIgnoreProperties\npublic class BusinessModel {\n\n    private List&lt;LookupData&gt; lookupData;\n    @Getter\n    @Setter\n    @EqualsAndHashCode\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder\n    public static class LoanDescLookup {\n        private String id;\n        private String description;\n        private boolean status;\n        private String type;\n    }\n    @Getter\n    @Setter\n    @EqualsAndHashCode\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder\n    public static class LookupData {\n        private String id;\n        private String description;\n        private boolean defaultLookup;\n        private String regex;\n        private String regexDescription;\n    }    \n}\n</code></pre>\n<p>Below is the sample json String.</p>\n<pre><code>String jsonString = &quot;[\\n&quot; +\n                    &quot;        {\\n&quot; +\n                    &quot;            \\&quot;id\\&quot;: \\&quot;101\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;description\\&quot;: \\&quot;issueID 101\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;defaultLookup\\&quot;: true,\\n&quot; +\n                    &quot;            \\&quot;regex\\&quot;: \\&quot;^([a-zA-Z0-9_-]){4,5}$\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;regexDescription\\&quot;: \\&quot;A four or five character string, including numbers\\&quot;\\n&quot; +\n                    &quot;        },\\n&quot; +\n                    &quot;        {\\n&quot; +\n                    &quot;            \\&quot;id\\&quot;: \\&quot;102\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;description\\&quot;: \\&quot;issueID 102\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;defaultLookup\\&quot;: false,\\n&quot; +\n                    &quot;            \\&quot;regex\\&quot;: \\&quot;^([a-zA-Z0-9_-]){4}$\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;regexDescription\\&quot;: \\&quot;A four character string, including numbers\\&quot;\\n&quot; +\n                    &quot;        },\\n&quot; +\n                    &quot;        {\\n&quot; +\n                    &quot;            \\&quot;id\\&quot;: \\&quot;103\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;description\\&quot;: \\&quot;issueID 103\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;defaultLookup\\&quot;: false,\\n&quot; +\n                    &quot;            \\&quot;regex\\&quot;: \\&quot;^[A-Z0-9]{11}$\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;regexDescription\\&quot;: \\&quot;A 11 character vin number\\&quot;\\n&quot; +\n                    &quot;        },\\n&quot; +\n                    &quot;        {\\n&quot; +\n                    &quot;            \\&quot;id\\&quot;: \\&quot;104\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;description\\&quot;: \\&quot;issueID 104\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;defaultLookup\\&quot;: true,\\n&quot; +\n                    &quot;            \\&quot;regex\\&quot;: \\&quot;^[0-9]{6}$\\&quot;,\\n&quot; +\n                    &quot;            \\&quot;regexDescription\\&quot;: \\&quot;A 6 character vin number (e.g. 202108)\\&quot;\\n&quot; +\n                    &quot;        }\\n&quot; +\n                    &quot;    ]&quot;;\n</code></pre>\n<p>Sample java code to read the above jsonString and map to model object.</p>\n<pre><code>                ObjectMapper om = new ObjectMapper();\n                BusinessModel lookupData = om.readValue(jsonString, BusinessModel.class);\n              \n                for (int i = 0; i &lt; lookupData.getLookupData().size(); i++) {\n                    BusinessModel.LookupData selectByLookup = lookupData.getLookupData().get(i);\n                    String id = selectByLookup.getId();\n                    String description = selectByLookup.getDescription();\n                    String regex = selectByLookup.getRegex();\n                    String regexDescription = selectByLookup.getRegexDescription();\n                    result.add(BusinessModel.selectByLookup.builder().id(id)\n                            .description(description)\n                            .defaultLookup(result.size() == 0)\n                            .regex(regex)\n                            .regexDescription(regexDescription)\n                            .build());\n}\n</code></pre>\n<p>Below is the exception i'm getting while running the above code.</p>\n<pre><code>Exception :: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `com.model.BusinessModel` out of START_ARRAY token\n at [Source: (String)&quot;[\n</code></pre>\n"},{"tags":["java","jira-rest-api","jira-xray"],"answers":[{"tags":[],"owner":{"account_id":3396772,"reputation":1874,"user_id":2850180,"display_name":"S&#233;rgio"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646474667,"creation_date":1646474667,"answer_id":71361232,"question_id":71360982,"body_markdown":"Well, first of all we need to clarify if you have Xray on Jira server/datacenter or Xray on Jira cloud, as they are different products and the APIs are also slightly different.\r\nFrom your example, it seems that you&#39;re targetting Xray on Jira server/datacenter, and that you aim to import results using the Xray JSON format and respective endpoint as detailed [here][1].\r\nThe endpoint URL in that case should either be\r\n&lt;jira_base_url&gt;/rest/raven/1.0/import/execution or &lt;jira_base_url&gt;/rest/raven/2.0/import/execution\r\n\r\nAlso, please make sure the Xray JSON content you submit follows [this syntax][2].\r\n\r\nNote: you may want to have a look at [this repo][3] which contains some sample code for submiting results in Java and other languages, including a [proof-of-concept client api][4].\r\n\r\nThe response body content may show you clues about what&#39;s wrong. You can start by using `curl` utility first as shown [here][1] and then implement the java code.\r\n\r\n    curl -H &quot;Content-Type: application/json&quot; -X POST -u admin:admin --data @data.json http://yourserver/rest/raven/1.0/import/execution\r\n\r\n\r\n  [1]: https://docs.getxray.app/display/XRAY/Import+Execution+Results+-+REST#ImportExecutionResultsREST-XrayJSONresults\r\n  [2]: https://docs.getxray.app/display/XRAY/Import+Execution+Results#ImportExecutionResults-XrayJSONformat\r\n  [3]: https://github.com/Xray-App/xray-code-snippets\r\n  [4]: https://github.com/Xray-App/xray-code-snippets/tree/main/use_cases/import_automation_results/java/xray-code-snippets/src/main/java/com/idera/xray","title":"HTTP connection to JIRA XRAY Rest API not working","body":"<p>Well, first of all we need to clarify if you have Xray on Jira server/datacenter or Xray on Jira cloud, as they are different products and the APIs are also slightly different.\nFrom your example, it seems that you're targetting Xray on Jira server/datacenter, and that you aim to import results using the Xray JSON format and respective endpoint as detailed <a href=\"https://docs.getxray.app/display/XRAY/Import+Execution+Results+-+REST#ImportExecutionResultsREST-XrayJSONresults\" rel=\"nofollow noreferrer\">here</a>.\nThe endpoint URL in that case should either be\n&lt;jira_base_url&gt;/rest/raven/1.0/import/execution or &lt;jira_base_url&gt;/rest/raven/2.0/import/execution</p>\n<p>Also, please make sure the Xray JSON content you submit follows <a href=\"https://docs.getxray.app/display/XRAY/Import+Execution+Results#ImportExecutionResults-XrayJSONformat\" rel=\"nofollow noreferrer\">this syntax</a>.</p>\n<p>Note: you may want to have a look at <a href=\"https://github.com/Xray-App/xray-code-snippets\" rel=\"nofollow noreferrer\">this repo</a> which contains some sample code for submiting results in Java and other languages, including a <a href=\"https://github.com/Xray-App/xray-code-snippets/tree/main/use_cases/import_automation_results/java/xray-code-snippets/src/main/java/com/idera/xray\" rel=\"nofollow noreferrer\">proof-of-concept client api</a>.</p>\n<p>The response body content may show you clues about what's wrong. You can start by using <code>curl</code> utility first as shown <a href=\"https://docs.getxray.app/display/XRAY/Import+Execution+Results+-+REST#ImportExecutionResultsREST-XrayJSONresults\" rel=\"nofollow noreferrer\">here</a> and then implement the java code.</p>\n<pre><code>curl -H &quot;Content-Type: application/json&quot; -X POST -u admin:admin --data @data.json http://yourserver/rest/raven/1.0/import/execution\n</code></pre>\n"}],"owner":{"account_id":6987615,"reputation":69,"user_id":5357916,"accept_rate":0,"display_name":"Devkant Krishnatrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":918,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1646711683,"creation_date":1646472077,"question_id":71360982,"body_markdown":"Need help\r\nI am trying to connect to XRAY JIRA using Rest API and want to execute a case but getting 400  error response  at step **inputStream=new InputStreamReader(con.getInputStream(),&quot;UTF-8&quot;)**\r\n\r\njava.io.IOException: Server returned HTTP response code: 400 for URL: \r\n\r\nMy Code is below:\r\n\r\n\t\t*HttpURLConnection con=null;\r\n        InputStreamReader inputStream=null;\r\n            URL jira_API_URL=new URL(&quot;https://jira.abc.com/rest/raven/latest/import/execution&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t  String encodeCredentials=Base64.getEncoder().encodeToString(\r\n\t\t\t  &quot;kkris:testjira@234&quot;.getBytes(&quot;UTF-8&quot;));\r\n\t\t\t  con=(HttpURLConnection)jira_API_URL.openConnection();\r\n\t\t\t  con.setRequestMethod(&quot;POST&quot;); con.setDoOutput(true);\r\n\t\t\t  con.setRequestProperty(&quot;Autherization&quot;, &quot;Basic &quot;+encodeCredentials);\r\n\t\t\t  con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\t\t  con.setRequestProperty(&quot;X-Atlassian-Token&quot;, &quot;nocheck&quot;);\r\n\t\t\t \r\n\t\t\t\t\t \r\n\r\n            try(OutputStream os=con.getOutputStream()){\r\n                byte[] input=json.toString().getBytes(&quot;UTF-8&quot;);\r\n                os.write(input,0,input.length);\r\n            }\r\n            inputStream=new InputStreamReader(con.getInputStream(),&quot;UTF-8&quot;);*\r\n\r\n\r\n**Note** :Would like to add that I am able to hit this RestAPI using postman and Restassured &amp; able to execute testcase in XRAYJIRA successfully","title":"HTTP connection to JIRA XRAY Rest API not working","body":"<p>Need help\nI am trying to connect to XRAY JIRA using Rest API and want to execute a case but getting 400  error response  at step <strong>inputStream=new InputStreamReader(con.getInputStream(),&quot;UTF-8&quot;)</strong></p>\n<p>java.io.IOException: Server returned HTTP response code: 400 for URL:</p>\n<p>My Code is below:</p>\n<pre><code>    *HttpURLConnection con=null;\n    InputStreamReader inputStream=null;\n        URL jira_API_URL=new URL(&quot;https://jira.abc.com/rest/raven/latest/import/execution&quot;);\n        \n        \n          String encodeCredentials=Base64.getEncoder().encodeToString(\n          &quot;kkris:testjira@234&quot;.getBytes(&quot;UTF-8&quot;));\n          con=(HttpURLConnection)jira_API_URL.openConnection();\n          con.setRequestMethod(&quot;POST&quot;); con.setDoOutput(true);\n          con.setRequestProperty(&quot;Autherization&quot;, &quot;Basic &quot;+encodeCredentials);\n          con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n          con.setRequestProperty(&quot;X-Atlassian-Token&quot;, &quot;nocheck&quot;);\n         \n                 \n\n        try(OutputStream os=con.getOutputStream()){\n            byte[] input=json.toString().getBytes(&quot;UTF-8&quot;);\n            os.write(input,0,input.length);\n        }\n        inputStream=new InputStreamReader(con.getInputStream(),&quot;UTF-8&quot;);*\n</code></pre>\n<p><strong>Note</strong> :Would like to add that I am able to hit this RestAPI using postman and Restassured &amp; able to execute testcase in XRAYJIRA successfully</p>\n"},{"tags":["java","minecraft","classnotfoundexception","bukkit"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1646659299,"post_id":71380766,"comment_id":126170891,"body_markdown":"Oh ok, your problem is totally different. Can you show the om.xml file or gradle one ?","body":"Oh ok, your problem is totally different. Can you show the om.xml file or gradle one ?"},{"owner":{"account_id":19680463,"reputation":171,"user_id":14407699,"display_name":"Arnau Mas"},"score":0,"creation_date":1646671447,"post_id":71380766,"comment_id":126176018,"body_markdown":"@Elikill58 I export it with Eclipse, manually. Right click on the project -&gt; Export -&gt; JAR","body":"@Elikill58 I export it with Eclipse, manually. Right click on the project -&gt; Export -&gt; JAR"},{"owner":{"account_id":4626602,"reputation":3739,"user_id":3750257,"display_name":"pppery"},"score":0,"creation_date":1646711603,"post_id":71380766,"comment_id":126185961,"body_markdown":"Possible duplicate of [How do I resolve ClassNotFoundException?](https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception\">How do I resolve ClassNotFoundException?</a>"}],"owner":{"account_id":19680463,"reputation":171,"user_id":14407699,"display_name":"Arnau Mas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646711619,"creation_date":1646654468,"question_id":71380766,"body_markdown":"I am using an API in my minecraft plugin. I have added the API .jar in the classpath in Eclipse, and it gives no errors, but when I excute a command that uses a class of the API, it says it doesn&#39;t find it. It&#39;s as if the API is not being exported or something like that. I have tried to change the classpath when I execute the server, this is start.bat:\r\n\r\n    java -classpath .;lib/*; -Xms4024M -Xmx4024M -jar server.jar -o true\r\n\r\nBut it still doesn&#39;t work.\r\n\r\n[EDIT]\r\nI have removed the classpath and added the .jar to /plugins. I keep getting the error:\r\n\r\n    [13:19:11 WARN]: Unexpected exception while parsing console command &quot;uhc skin&quot;\r\n    org.bukkit.command.CommandException: Unhandled exception executing command &#39;uhc&#39; in plugin UhcMain v1.0\r\n    \tat org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:159) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchCommand(CraftServer.java:826) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchServerCommand(CraftServer.java:788) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat net.minecraft.server.v1_16_R3.DedicatedServer.handleCommandQueue(DedicatedServer.java:470) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat net.minecraft.server.v1_16_R3.DedicatedServer.b(DedicatedServer.java:437) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat net.minecraft.server.v1_16_R3.MinecraftServer.a(MinecraftServer.java:1342) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:1130) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat net.minecraft.server.v1_16_R3.MinecraftServer.lambda$a$0(MinecraftServer.java:291) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat java.lang.Thread.run(Unknown Source) [?:1.8.0_202]\r\n    Caused by: java.lang.NoClassDefFoundError: me/PauMAVA/MojangAPI/MojangAPI\r\n    \tat me.arnaumas.commands.CommandsFacade.onCommand(CommandsFacade.java:55) ~[?:?]\r\n    \tat org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \t... 9 more\r\n    Caused by: java.lang.ClassNotFoundException: me.PauMAVA.MojangAPI.MojangAPI\r\n    \tat org.bukkit.plugin.java.PluginClassLoader.loadClass0(PluginClassLoader.java:155) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat org.bukkit.plugin.java.PluginClassLoader.loadClass(PluginClassLoader.java:114) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_202]\r\n    \tat me.arnaumas.commands.CommandsFacade.onCommand(CommandsFacade.java:55) ~[?:?]\r\n    \tat org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[patched_1.16.5.jar:git-Paper-788]\r\n    \t... 9 more\r\n\r\n","title":"Bukkit Server API java.lang.ClassNotFoundException","body":"<p>I am using an API in my minecraft plugin. I have added the API .jar in the classpath in Eclipse, and it gives no errors, but when I excute a command that uses a class of the API, it says it doesn't find it. It's as if the API is not being exported or something like that. I have tried to change the classpath when I execute the server, this is start.bat:</p>\n<pre><code>java -classpath .;lib/*; -Xms4024M -Xmx4024M -jar server.jar -o true\n</code></pre>\n<p>But it still doesn't work.</p>\n<p>[EDIT]\nI have removed the classpath and added the .jar to /plugins. I keep getting the error:</p>\n<pre><code>[13:19:11 WARN]: Unexpected exception while parsing console command &quot;uhc skin&quot;\norg.bukkit.command.CommandException: Unhandled exception executing command 'uhc' in plugin UhcMain v1.0\n    at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[patched_1.16.5.jar:git-Paper-788]\n    at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:159) ~[patched_1.16.5.jar:git-Paper-788]\n    at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchCommand(CraftServer.java:826) ~[patched_1.16.5.jar:git-Paper-788]\n    at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchServerCommand(CraftServer.java:788) ~[patched_1.16.5.jar:git-Paper-788]\n    at net.minecraft.server.v1_16_R3.DedicatedServer.handleCommandQueue(DedicatedServer.java:470) ~[patched_1.16.5.jar:git-Paper-788]\n    at net.minecraft.server.v1_16_R3.DedicatedServer.b(DedicatedServer.java:437) ~[patched_1.16.5.jar:git-Paper-788]\n    at net.minecraft.server.v1_16_R3.MinecraftServer.a(MinecraftServer.java:1342) ~[patched_1.16.5.jar:git-Paper-788]\n    at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:1130) ~[patched_1.16.5.jar:git-Paper-788]\n    at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$a$0(MinecraftServer.java:291) ~[patched_1.16.5.jar:git-Paper-788]\n    at java.lang.Thread.run(Unknown Source) [?:1.8.0_202]\nCaused by: java.lang.NoClassDefFoundError: me/PauMAVA/MojangAPI/MojangAPI\n    at me.arnaumas.commands.CommandsFacade.onCommand(CommandsFacade.java:55) ~[?:?]\n    at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[patched_1.16.5.jar:git-Paper-788]\n    ... 9 more\nCaused by: java.lang.ClassNotFoundException: me.PauMAVA.MojangAPI.MojangAPI\n    at org.bukkit.plugin.java.PluginClassLoader.loadClass0(PluginClassLoader.java:155) ~[patched_1.16.5.jar:git-Paper-788]\n    at org.bukkit.plugin.java.PluginClassLoader.loadClass(PluginClassLoader.java:114) ~[patched_1.16.5.jar:git-Paper-788]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_202]\n    at me.arnaumas.commands.CommandsFacade.onCommand(CommandsFacade.java:55) ~[?:?]\n    at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[patched_1.16.5.jar:git-Paper-788]\n    ... 9 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":1,"creation_date":1646711447,"post_id":71389805,"comment_id":126185939,"body_markdown":"Please read the Literals section of https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","body":"Please read the Literals section of <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646715126,"post_id":71389805,"comment_id":126186462,"body_markdown":"So it&#39;s a double. Surely this is obvious?","body":"So it&#39;s a double. Surely this is obvious?"}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646711483,"creation_date":1646711483,"answer_id":71389838,"question_id":71389805,"body_markdown":"The concept is simple: 1E5 is a &#39;double&#39; floating-point number in Java because the [Java language specification](https://docs.oracle.com/javase/specs/jls/se11/html/jls-3.html#jls-FloatingPointLiteral) says it is.\r\n\r\nMeanwhile, an array size must be integral, and the compiler is telling you that.  If you really want to use a floating-point number there, you need to cast to `int`.  However, it&#39;s easier to just write 100000.\r\n","title":"1e5 which is equivalent to 10^5 . Is this value represents double or int in java. Can You please elaborate the concept","body":"<p>The concept is simple: 1E5 is a 'double' floating-point number in Java because the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-3.html#jls-FloatingPointLiteral\" rel=\"nofollow noreferrer\">Java language specification</a> says it is.</p>\n<p>Meanwhile, an array size must be integral, and the compiler is telling you that.  If you really want to use a floating-point number there, you need to cast to <code>int</code>.  However, it's easier to just write 100000.</p>\n"}],"owner":{"account_id":24177461,"reputation":1,"user_id":18138623,"display_name":"Rupesh Yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1646716723,"answer_count":1,"score":-4,"last_activity_date":1646711483,"creation_date":1646711104,"question_id":71389805,"body_markdown":"This Code is giving error that lossy conversion from double to int.\r\n\r\nint[] ans=new int[1e5+1];","title":"1e5 which is equivalent to 10^5 . Is this value represents double or int in java. Can You please elaborate the concept","body":"<p>This Code is giving error that lossy conversion from double to int.</p>\n<p>int[] ans=new int[1e5+1];</p>\n"},{"tags":["java","android","android-recyclerview","contacts"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1646448259,"post_id":71357385,"comment_id":126132316,"body_markdown":"How are you setting the adapter for the RecyclerView? (usually something like `rv.setAdapter(myAdapter);` in your MainActivity)","body":"How are you setting the adapter for the RecyclerView? (usually something like <code>rv.setAdapter(myAdapter);</code> in your MainActivity)"},{"owner":{"account_id":23070498,"reputation":53,"user_id":17184322,"display_name":"Andr&#233;_Almeida"},"score":0,"creation_date":1646642838,"post_id":71357385,"comment_id":126165335,"body_markdown":"I&#39;ll add the MainActivity code later today.","body":"I&#39;ll add the MainActivity code later today."},{"owner":{"account_id":23070498,"reputation":53,"user_id":17184322,"display_name":"Andr&#233;_Almeida"},"score":0,"creation_date":1646659985,"post_id":71357385,"comment_id":126171168,"body_markdown":"It&#39;s been added.","body":"It&#39;s been added."}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646711111,"creation_date":1646661599,"answer_id":71382237,"question_id":71357385,"body_markdown":"There are a few things wrong here (in the original version of the question):\r\n * You never actually created an instance of your adapter\r\n * You never assigned it to the RecyclerView \r\n * You never added any data to `arrayList`\r\n * You never set a layout manager for the RecyclerView.\r\n\r\nPutting all of these together, the following `onCreate` works for me with your example to show dummy items in the list. You will need to add your actual code for populating `arrayList` somewhere in there still.\r\n\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n\r\n    ContactModel dummy = new ContactModel();\r\n    dummy.setName(&quot;foo&quot;);\r\n    dummy.setNumber(&quot;123&quot;);\r\n    arrayList.add(dummy);\r\n\r\n    adapter = new MainAdapter(this, arrayList);\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    recyclerView.setAdapter(adapter);\r\n\r\n    // in your code, you could call something here to populate\r\n    // arrayList with real values\r\n}\r\n```","title":"My activity_main.xml is not showing my contacts","body":"<p>There are a few things wrong here (in the original version of the question):</p>\n<ul>\n<li>You never actually created an instance of your adapter</li>\n<li>You never assigned it to the RecyclerView</li>\n<li>You never added any data to <code>arrayList</code></li>\n<li>You never set a layout manager for the RecyclerView.</li>\n</ul>\n<p>Putting all of these together, the following <code>onCreate</code> works for me with your example to show dummy items in the list. You will need to add your actual code for populating <code>arrayList</code> somewhere in there still.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    RecyclerView recyclerView = findViewById(R.id.recycler_view);\n\n    ContactModel dummy = new ContactModel();\n    dummy.setName(&quot;foo&quot;);\n    dummy.setNumber(&quot;123&quot;);\n    arrayList.add(dummy);\n\n    adapter = new MainAdapter(this, arrayList);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setAdapter(adapter);\n\n    // in your code, you could call something here to populate\n    // arrayList with real values\n}\n</code></pre>\n"}],"owner":{"account_id":23070498,"reputation":53,"user_id":17184322,"display_name":"Andr&#233;_Almeida"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71382237,"answer_count":1,"score":0,"last_activity_date":1646711111,"creation_date":1646429319,"question_id":71357385,"body_markdown":"In my Android Studio layout file for my MainActivity class, there is a layout that used to show my contacts but it doesn&#39;t work anymore.\r\n\r\nThis is how the layout shows:\r\n\r\n[![activity_main.xml][1]][1]\r\n\r\nThis is what shows in the emulator (note: I already have added contacts).\r\n\r\n[![Outcome][2]][2]\r\n\r\nI&#39;m not sure if it has to do with the layout, the MainActivity itself or the Manifest.\r\n\r\nThe ```onCreate``` code that&#39;s suppose to show contacts below the buttons:\r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\nsuper.onCreate(savedInstanceState);\r\nsetContentView(R.layout.activity_main);\r\nrecyclerView = findViewById(R.id.recycler_view);\r\n\r\nContactModel dummy = new ContactModel();\r\ndummy.setName(&quot;foo&quot;);\r\ndummy.setNumber(&quot;123&quot;);\r\narrayList.add(dummy);\r\n\r\nadapter = new MainAdapter(this, arrayList);\r\nrecyclerView.setAdapter(adapter);\r\n\r\nButton add_btn = findViewById(R.id.add_btn);\r\n\r\nadd_btn.setOnClickListener(v -&gt; startActivity(new Intent(MainActivity.this, Add_Contact.class)));\r\n\r\nButton rem_btn = findViewById(R.id.rem_btn);\r\n\r\nrem_btn.setOnClickListener(v -&gt; startActivity(new Intent(MainActivity.this, Main_Remove_Contact.class)));\r\n}\r\n```\r\n\r\nThis is what my ```ContactModel``` looks like:\r\n\r\n```\r\npackage com.app.wolfix;\r\n\r\npublic class ContactModel {\r\n    String name, number;\r\n\r\n    public String getName(){\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) { this.name = name; }\r\n\r\n    public String getNumber() { return number; }\r\n\r\n    public void setNumber(String number) { this.number = number; }\r\n}\r\n```\r\n\r\nPlease don&#39;t hesitate to ask for any piece of code necessary, I will edit the question if necessary.\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/w614q.png\r\n  [2]: https://i.stack.imgur.com/ewgfq.png","title":"My activity_main.xml is not showing my contacts","body":"<p>In my Android Studio layout file for my MainActivity class, there is a layout that used to show my contacts but it doesn't work anymore.</p>\n<p>This is how the layout shows:</p>\n<p><a href=\"https://i.stack.imgur.com/w614q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w614q.png\" alt=\"activity_main.xml\" /></a></p>\n<p>This is what shows in the emulator (note: I already have added contacts).</p>\n<p><a href=\"https://i.stack.imgur.com/ewgfq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ewgfq.png\" alt=\"Outcome\" /></a></p>\n<p>I'm not sure if it has to do with the layout, the MainActivity itself or the Manifest.</p>\n<p>The <code>onCreate</code> code that's suppose to show contacts below the buttons:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\nrecyclerView = findViewById(R.id.recycler_view);\n\nContactModel dummy = new ContactModel();\ndummy.setName(&quot;foo&quot;);\ndummy.setNumber(&quot;123&quot;);\narrayList.add(dummy);\n\nadapter = new MainAdapter(this, arrayList);\nrecyclerView.setAdapter(adapter);\n\nButton add_btn = findViewById(R.id.add_btn);\n\nadd_btn.setOnClickListener(v -&gt; startActivity(new Intent(MainActivity.this, Add_Contact.class)));\n\nButton rem_btn = findViewById(R.id.rem_btn);\n\nrem_btn.setOnClickListener(v -&gt; startActivity(new Intent(MainActivity.this, Main_Remove_Contact.class)));\n}\n</code></pre>\n<p>This is what my <code>ContactModel</code> looks like:</p>\n<pre><code>package com.app.wolfix;\n\npublic class ContactModel {\n    String name, number;\n\n    public String getName(){\n        return name;\n    }\n\n    public void setName(String name) { this.name = name; }\n\n    public String getNumber() { return number; }\n\n    public void setNumber(String number) { this.number = number; }\n}\n</code></pre>\n<p>Please don't hesitate to ask for any piece of code necessary, I will edit the question if necessary.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","dependency-injection","javabeans","spring5"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646727446,"post_id":71389796,"comment_id":126189226,"body_markdown":"Load the files from `bigBean` into your context instead of the `beanRefFactory` thing.","body":"Load the files from <code>bigBean</code> into your context instead of the <code>beanRefFactory</code> thing."},{"owner":{"account_id":17690939,"reputation":81,"user_id":12842720,"display_name":"Bharath"},"score":0,"creation_date":1646728051,"post_id":71389796,"comment_id":126189421,"body_markdown":"BeanFactory factory = new ClassPathXmlApplicationContext(&quot;Connector.xml&quot;);\nBeanFactory fs=(BeanFactory) factory.getBean(&quot;bigBean&quot;);\nreturn fs;                                                          will these works?","body":"BeanFactory factory = new ClassPathXmlApplicationContext(&quot;Connector.xml&quot;); BeanFactory fs=(BeanFactory) factory.getBean(&quot;bigBean&quot;); return fs;                                                          will these works?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646728298,"post_id":71389796,"comment_id":126189513,"body_markdown":"Just ditch that file and just load the `sample1-connector.xml` etc. directly with your `ContextLoaderListener` or use `&lt;import resource /&gt;` in an xml file to get these loaded to (you could change your `beanRefContext.xml` to that and let the `ContextLoaderListener` load that file.","body":"Just ditch that file and just load the <code>sample1-connector.xml</code> etc. directly with your <code>ContextLoaderListener</code> or use <code>&lt;import resource &#47;&gt;</code> in an xml file to get these loaded to (you could change your <code>beanRefContext.xml</code> to that and let the <code>ContextLoaderListener</code> load that file."},{"owner":{"account_id":17690939,"reputation":81,"user_id":12842720,"display_name":"Bharath"},"score":0,"creation_date":1646728837,"post_id":71389796,"comment_id":126189673,"body_markdown":"i didn&#39;t get could you please give me an example","body":"i didn&#39;t get could you please give me an example"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646729150,"post_id":71389796,"comment_id":126189780,"body_markdown":"The example is in the comments. Replace what you have now in your `beanRefContext.xml` with `&lt;import resourse=&quot;classpath:sample1-connector.xml /&gt;` and then let your `ContextLoaderListener` load the `beanRefContext.xml` (or just rename it to `applicationContext.xml` so it will be loaded automatically.","body":"The example is in the comments. Replace what you have now in your <code>beanRefContext.xml</code> with <code>&lt;import resourse=&quot;classpath:sample1-connector.xml &#47;&gt;</code> and then let your <code>ContextLoaderListener</code> load the <code>beanRefContext.xml</code> (or just rename it to <code>applicationContext.xml</code> so it will be loaded automatically."},{"owner":{"account_id":17690939,"reputation":81,"user_id":12842720,"display_name":"Bharath"},"score":0,"creation_date":1646733944,"post_id":71389796,"comment_id":126191474,"body_markdown":"i think ContextLoaderListener is used in web.xml to automate the creation of the ApplicationContext where we need to specify multiple xml files under contextconfigloaciton, is this correct..... but here i need to create applicationContext/Beanfactory in a method and return to caller..","body":"i think ContextLoaderListener is used in web.xml to automate the creation of the ApplicationContext where we need to specify multiple xml files under contextconfigloaciton, is this correct..... but here i need to create applicationContext/Beanfactory in a method and return to caller.."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646735287,"post_id":71389796,"comment_id":126191954,"body_markdown":"Why? That seems very inefficient as it will recreate things each time. I would no mark this question to be closed as apparently there is more information needed to help you. You haven&#39;t included all the details in here.","body":"Why? That seems very inefficient as it will recreate things each time. I would no mark this question to be closed as apparently there is more information needed to help you. You haven&#39;t included all the details in here."},{"owner":{"account_id":17690939,"reputation":81,"user_id":12842720,"display_name":"Bharath"},"score":0,"creation_date":1646742842,"post_id":71389796,"comment_id":126194597,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/242723/discussion-between-bharath-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/242723/discussion-between-bharath-and-m-deinum\">continue this discussion in chat</a>."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1649346190,"post_id":71389796,"comment_id":126857739,"body_markdown":"Someone solved it like [this](https://stackoverflow.com/questions/46902115/spring-framework-5-0-0-final-parent-context-not-getting-loaded/70094114#70094114)","body":"Someone solved it like <a href=\"https://stackoverflow.com/questions/46902115/spring-framework-5-0-0-final-parent-context-not-getting-loaded/70094114#70094114\">this</a>"}],"owner":{"account_id":17690939,"reputation":81,"user_id":12842720,"display_name":"Bharath"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646711033,"creation_date":1646711033,"question_id":71389796,"body_markdown":"We were using 4.2.x version of spring and we are using BeanFactoryLocator to create a factory from xml file.\r\n\r\n**method to return Beanfactory**:\r\n\t\r\n\r\n    private BeanFactory createServicesContainer() {\r\n    \t\tBeanFactoryLocator bfLocator = SingletonBeanFactoryLocator.getInstance(&quot;Connector.xml&quot;);\r\n            BeanFactoryReference bfReference = bfLocator.useBeanFactory(&quot;bigBean&quot;);\r\n    \t\treturn bfReference.getFactory();\r\n        }\r\n\r\n**my Connector.xml file contains**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;\r\n           default-lazy-init=&quot;false&quot;&gt;\r\n    \r\n    \t&lt;!--\r\n    \t\tThe Big Bean for accessing all the repository services. This factory bean serves as\r\n    \t\tand umbrella bean for all the underlying repository services.\r\n    \t--&gt;\r\n        &lt;bean id=&quot;bigBean&quot; class=&quot;org.springframework.context.support.ClassPathXmlApplicationContext&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;sample1-connector.xml&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;sample2-connector.xml&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;sample3-connector.xml&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n**Now how can make changes it to work in Spring 5.x**","title":"BeanFactoryLocator alternative in Spring 5","body":"<p>We were using 4.2.x version of spring and we are using BeanFactoryLocator to create a factory from xml file.</p>\n<p><strong>method to return Beanfactory</strong>:</p>\n<pre><code>private BeanFactory createServicesContainer() {\n        BeanFactoryLocator bfLocator = SingletonBeanFactoryLocator.getInstance(&quot;Connector.xml&quot;);\n        BeanFactoryReference bfReference = bfLocator.useBeanFactory(&quot;bigBean&quot;);\n        return bfReference.getFactory();\n    }\n</code></pre>\n<p><strong>my Connector.xml file contains</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot;\n       default-lazy-init=&quot;false&quot;&gt;\n\n    &lt;!--\n        The Big Bean for accessing all the repository services. This factory bean serves as\n        and umbrella bean for all the underlying repository services.\n    --&gt;\n    &lt;bean id=&quot;bigBean&quot; class=&quot;org.springframework.context.support.ClassPathXmlApplicationContext&quot;&gt;\n        &lt;constructor-arg&gt;\n            &lt;list&gt;\n                &lt;value&gt;sample1-connector.xml&lt;/value&gt;\n                &lt;value&gt;sample2-connector.xml&lt;/value&gt;\n                &lt;value&gt;sample3-connector.xml&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p><strong>Now how can make changes it to work in Spring 5.x</strong></p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":24445346,"reputation":51,"user_id":18368385,"display_name":"Gamaray"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646687363,"creation_date":1646687363,"answer_id":71387287,"question_id":71387116,"body_markdown":"I don&#39;t know if this is the only issue with your code but for ```ID:4``` in the JSON after ```Claim related to issueID``` you are missing a closing speech mark.","title":"error :com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>I don't know if this is the only issue with your code but for <code>ID:4</code> in the JSON after <code>Claim related to issueID</code> you are missing a closing speech mark.</p>\n"}],"owner":{"account_id":5424092,"reputation":587,"user_id":4316933,"accept_rate":50,"display_name":"user222"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646710912,"creation_date":1646686334,"question_id":71387116,"body_markdown":"I&#39;m trying to read the below json and map to the model object.\r\n\r\nModel class:\r\n\r\n     public class User {\r\n        private String name;\r\n        private int age;\r\n        private List&lt;String&gt; messages;\r\n    }\r\n\r\nBelow is the sample code used to map the json to model (MyModelData.java)\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            String jsonInString = &quot;{\\&quot;age\\&quot;:33,\\&quot;messages\\&quot;:[\\&quot;msg 1\\&quot;,\\&quot;msg 2\\&quot;],\\&quot;name\\&quot;:\\&quot;mkyong\\&quot;}&quot;;\r\n            User user1 = mapper.readValue(jsonInString, User.class);\r\n            System.out.println(user1);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;ex &quot; + e);\r\n        }\r\n\r\nBelow is the exception :\r\n\r\n       com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;age&quot; (class com.dsr.User), not marked as ignorable (0 known properties: ])\r\n     at [Source: (String)&quot;{&quot;age&quot;:33,&quot;messages&quot;:[&quot;msg 1&quot;,&quot;msg 2&quot;],&quot;name&quot;:&quot;mkyong&quot;}&quot;; line: 1, column: 10] (through reference chain: com.dsr.User[&quot;age&quot;])\r\n\r\nWhen mapping the json string to the model object it is showing the above exception. The User class has age property defined.","title":"error :com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>I'm trying to read the below json and map to the model object.</p>\n<p>Model class:</p>\n<pre><code> public class User {\n    private String name;\n    private int age;\n    private List&lt;String&gt; messages;\n}\n</code></pre>\n<p>Below is the sample code used to map the json to model (MyModelData.java)</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n    try {\n        String jsonInString = &quot;{\\&quot;age\\&quot;:33,\\&quot;messages\\&quot;:[\\&quot;msg 1\\&quot;,\\&quot;msg 2\\&quot;],\\&quot;name\\&quot;:\\&quot;mkyong\\&quot;}&quot;;\n        User user1 = mapper.readValue(jsonInString, User.class);\n        System.out.println(user1);\n    } catch (Exception e) {\n        System.out.println(&quot;ex &quot; + e);\n    }\n</code></pre>\n<p>Below is the exception :</p>\n<pre><code>   com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;age&quot; (class com.dsr.User), not marked as ignorable (0 known properties: ])\n at [Source: (String)&quot;{&quot;age&quot;:33,&quot;messages&quot;:[&quot;msg 1&quot;,&quot;msg 2&quot;],&quot;name&quot;:&quot;mkyong&quot;}&quot;; line: 1, column: 10] (through reference chain: com.dsr.User[&quot;age&quot;])\n</code></pre>\n<p>When mapping the json string to the model object it is showing the above exception. The User class has age property defined.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1646400060,"post_id":71346340,"comment_id":126119723,"body_markdown":"it&#39;s not entirely clear what _exactly_ is the problem - f.i. is a single well-known data object or varying types (as jewelsee assumed in the answer)? Do you _have_ to use fxml and if so, why? Do you want the relation of textField&#39;s text to a property on the data object be set once or should it be updated on change (uni- or bidirectionally)? ...","body":"it&#39;s not entirely clear what <i>exactly</i> is the problem - f.i. is a single well-known data object or varying types (as jewelsee assumed in the answer)? Do you <i>have</i> to use fxml and if so, why? Do you want the relation of textField&#39;s text to a property on the data object be set once or should it be updated on change (uni- or bidirectionally)? ..."},{"owner":{"account_id":1539649,"reputation":437,"user_id":1434601,"accept_rate":77,"display_name":"Jacob"},"score":0,"creation_date":1646710079,"post_id":71346340,"comment_id":126185727,"body_markdown":"@kleopatra thank you for comment I have updated the question I have its clear","body":"@kleopatra thank you for comment I have updated the question I have its clear"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646368948,"creation_date":1646368199,"answer_id":71346625,"question_id":71346340,"body_markdown":"As you state that you are new to JavaFX, I do not recommend that you try to implement the potential approaches in this answer.\r\n\r\n----\r\n\r\nInvestigate the controlsfx [BeanPropertyUtils](https://controlsfx.github.io/javadoc/11.1.1/org.controlsfx.controls/org/controlsfx/property/BeanPropertyUtils.html), PropertySheet and PropertyEditor.\r\n\r\nDifferent potential implementation strategies:\r\n\r\n 1. You could use a collection of TextFields, e.g. a list and assign values sequentially based on, for example, position in an sql row set. \r\n 2. Or perform a lookup on a map of strings to TextFields based on a column name key. \r\n 3. Or use reflection on Java Beans (this is how controlsfx works).\r\n\r\nBut none of them would be worth implementing unless you have a great many fields and need some generic system to handle values.  Otherwise I wouldn’t recommend implementing such abstract functionality.\r\n\r\nAn example of a generic use case would be if you were introspecting on an unknown large database schema.\r\n\r\nIf you do need to do this, probably your best place to start would be the controlsfx library.\r\n\r\nSceneBuilderKit, which was used to build SceneBuilder, has similar functionality but it is not as easily accesible as ControlsFX.\r\n\r\nI advise you review the above comments then decide if you really want to do this. \r\n\r\nIf you do, then choose one potential strategy and implement it (this won’t be done in a StackOverflow answer).\r\n\r\nIf stuck, provide a complete [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) for a concrete example and implementation attempt in code, only for the art of the problem you are stuck on.  This allows you to create a more concrete question that is greatly reduced in scope.\r\n\r\n\r\n\r\n","title":"assign data from dto to group of text fields in javafx","body":"<p>As you state that you are new to JavaFX, I do not recommend that you try to implement the potential approaches in this answer.</p>\n<hr />\n<p>Investigate the controlsfx <a href=\"https://controlsfx.github.io/javadoc/11.1.1/org.controlsfx.controls/org/controlsfx/property/BeanPropertyUtils.html\" rel=\"nofollow noreferrer\">BeanPropertyUtils</a>, PropertySheet and PropertyEditor.</p>\n<p>Different potential implementation strategies:</p>\n<ol>\n<li>You could use a collection of TextFields, e.g. a list and assign values sequentially based on, for example, position in an sql row set.</li>\n<li>Or perform a lookup on a map of strings to TextFields based on a column name key.</li>\n<li>Or use reflection on Java Beans (this is how controlsfx works).</li>\n</ol>\n<p>But none of them would be worth implementing unless you have a great many fields and need some generic system to handle values.  Otherwise I wouldn’t recommend implementing such abstract functionality.</p>\n<p>An example of a generic use case would be if you were introspecting on an unknown large database schema.</p>\n<p>If you do need to do this, probably your best place to start would be the controlsfx library.</p>\n<p>SceneBuilderKit, which was used to build SceneBuilder, has similar functionality but it is not as easily accesible as ControlsFX.</p>\n<p>I advise you review the above comments then decide if you really want to do this.</p>\n<p>If you do, then choose one potential strategy and implement it (this won’t be done in a StackOverflow answer).</p>\n<p>If stuck, provide a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for a concrete example and implementation attempt in code, only for the art of the problem you are stuck on.  This allows you to create a more concrete question that is greatly reduced in scope.</p>\n"}],"owner":{"account_id":1539649,"reputation":437,"user_id":1434601,"accept_rate":77,"display_name":"Jacob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646709949,"creation_date":1646364882,"question_id":71346340,"body_markdown":"I&#39;m new to JavaFX and what I&#39;m trying to do is I have a DTO object with 15 fields that I fetch from backend which I need to show all the fields in screen \r\n\r\nfor now what I did for each filed will create textfield in fxml file and inject it in the controller using textfield id then set the text for that from the dto for example \r\n\r\n      @FXML\r\n      TextField firstName;\r\n      \r\n       ........\r\n    \r\n      firstName.setText(dto.getFirstName)\r\n\r\nso is there is any other way than going through each textfield and using setText to set their value \r\n\r\n","title":"assign data from dto to group of text fields in javafx","body":"<p>I'm new to JavaFX and what I'm trying to do is I have a DTO object with 15 fields that I fetch from backend which I need to show all the fields in screen</p>\n<p>for now what I did for each filed will create textfield in fxml file and inject it in the controller using textfield id then set the text for that from the dto for example</p>\n<pre><code>  @FXML\n  TextField firstName;\n  \n   ........\n\n  firstName.setText(dto.getFirstName)\n</code></pre>\n<p>so is there is any other way than going through each textfield and using setText to set their value</p>\n"},{"tags":["java","android","android-studio","web","webview"],"answers":[{"tags":[],"owner":{"account_id":15989106,"reputation":304,"user_id":11538740,"display_name":"Siddarth Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643951339,"creation_date":1643951339,"answer_id":70981662,"question_id":70979433,"body_markdown":"Try this\r\n\r\n    if(url.startsWith(&quot;mailto:&quot;)){\r\n            MailTo mt = MailTo.parse(url);\r\n            Intent i = new Intent(Intent.ACTION_SEND);\r\n            i.setType(&quot;text/plain&quot;);\r\n            i.putExtra(Intent.EXTRA_EMAIL, new String[]{mt.getTo()});\r\n            i.putExtra(Intent.EXTRA_SUBJECT, mt.getSubject());\r\n            i.putExtra(Intent.EXTRA_CC, mt.getCc());\r\n            i.putExtra(Intent.EXTRA_TEXT, mt.getBody());\r\n            mContext.startActivity(i);\r\n            view.reload();\r\n            return true;\r\n        } ","title":"Android WebView app err_unknown_url_scheme (mailto, external links, website internal links)","body":"<p>Try this</p>\n<pre><code>if(url.startsWith(&quot;mailto:&quot;)){\n        MailTo mt = MailTo.parse(url);\n        Intent i = new Intent(Intent.ACTION_SEND);\n        i.setType(&quot;text/plain&quot;);\n        i.putExtra(Intent.EXTRA_EMAIL, new String[]{mt.getTo()});\n        i.putExtra(Intent.EXTRA_SUBJECT, mt.getSubject());\n        i.putExtra(Intent.EXTRA_CC, mt.getCc());\n        i.putExtra(Intent.EXTRA_TEXT, mt.getBody());\n        mContext.startActivity(i);\n        view.reload();\n        return true;\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23214346,"reputation":46,"user_id":17307422,"display_name":"Bernard Wong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646709445,"creation_date":1646709445,"answer_id":71389656,"question_id":70979433,"body_markdown":"In your **WebViewClien**t&#39;s *shouldOverrideUrlLoading* method, try this:\r\n\r\n```\r\n@Override\r\npublic boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n    String requestUrl = String.valueOf(request.getUrl())\r\n\r\n    if (requestUrl.startsWith(&quot;mailto:&quot;) {\r\n        view.getContext().startActivity(new Intent(Intent.ACTION_SENDTO, Uri.parse(requestUrl)))\r\n    } else if (requestUrl.startsWith(&quot;tel:&quot;) {\r\n        view.getContext().startActivity(new Intent(Intent.ACTION_DIAL, Uri.parse(requestUrl)))\r\n    } else if(requestUrl.contains(&quot;dwosix.com&quot;)) {\r\n        view.loadUrl(requestUrl);\r\n    }\r\n\r\n    return true;\r\n}\r\n```","title":"Android WebView app err_unknown_url_scheme (mailto, external links, website internal links)","body":"<p>In your <strong>WebViewClien</strong>t's <em>shouldOverrideUrlLoading</em> method, try this:</p>\n<pre><code>@Override\npublic boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n    String requestUrl = String.valueOf(request.getUrl())\n\n    if (requestUrl.startsWith(&quot;mailto:&quot;) {\n        view.getContext().startActivity(new Intent(Intent.ACTION_SENDTO, Uri.parse(requestUrl)))\n    } else if (requestUrl.startsWith(&quot;tel:&quot;) {\n        view.getContext().startActivity(new Intent(Intent.ACTION_DIAL, Uri.parse(requestUrl)))\n    } else if(requestUrl.contains(&quot;dwosix.com&quot;)) {\n        view.loadUrl(requestUrl);\n    }\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":24149183,"reputation":21,"user_id":18114304,"display_name":"Singleline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2590,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646709445,"creation_date":1643928955,"question_id":70979433,"body_markdown":"I have used this code and is working correctly (webview links and external links of website) but,\r\n\r\nI get &quot;ERR_UNKNOWN_URL_SCHEME&quot; when trying to tap on html links that starts with mailto:\r\n\r\n*So I need my website links work in webview app, other external links like facebook, instagram, all others... to open from browser android or app, and links like mailto: | tel: to send from app / phone.\r\n\r\nAnyone can help me to fix this please?\r\nI have little knowledge in java :(\r\n\r\nThanks.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    String websiteURL = &quot;https://dwosix.com&quot;; // sets web url\r\n    private WebView webview;\r\n    SwipeRefreshLayout mySwipeRefreshLayout;\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        if( ! CheckNetwork.isInternetAvailable(this)) //returns true if internet available\r\n        {\r\n            //if there is no internet do this\r\n            setContentView(R.layout.activity_main);\r\n            //Toast.makeText(this,&quot;No Internet Connection, Chris&quot;,Toast.LENGTH_LONG).show();\r\n\r\n            new AlertDialog.Builder(this) //alert the person knowing they are about to close\r\n                    .setTitle(&quot;No internet connection available&quot;)\r\n                    .setMessage(&quot;Please Check you&#39;re Mobile data or Wifi network.&quot;)\r\n                    .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            finish();\r\n                        }\r\n                    })\r\n                    //.setNegativeButton(&quot;No&quot;, null)\r\n                    .show();\r\n\r\n        }\r\n        else\r\n        {\r\n            //Webview stuff\r\n            webview = findViewById(R.id.webView);\r\n            WebSettings webSettings = webview.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            webview.getSettings().setJavaScriptEnabled(true);\r\n            webview.getSettings().setDomStorageEnabled(true);\r\n            webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\r\n            webview.loadUrl(websiteURL);\r\n            webview.setWebViewClient(new WebViewClientDemo(){\r\n                public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                    if (url.startsWith(&quot;mailto:&quot;) || url.startsWith(&quot;tel:&quot;)) {\r\n                        view.getContext().startActivity(\r\n                                new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\r\n                    } else {\r\n                        // Stay within this webview and load url\r\n                        view.loadUrl(url);\r\n                    }\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n\r\n        //Swipe to refresh functionality\r\n        mySwipeRefreshLayout = this.findViewById(R.id.swipeContainer);\r\n\r\n        mySwipeRefreshLayout.setOnRefreshListener(\r\n                new SwipeRefreshLayout.OnRefreshListener() {\r\n                    @Override\r\n                    public void onRefresh() {\r\n                        webview.reload();\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    private class WebViewClientDemo extends WebViewClient {\r\n\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n            if((String.valueOf(request.getUrl())).contains(&quot;dwosix.com&quot;)) {\r\n                view.loadUrl(String.valueOf(request.getUrl()));\r\n            }\r\n            else {\r\n                view.getContext().startActivity(\r\n                        new Intent(Intent.ACTION_VIEW, request.getUrl()));\r\n            }\r\n            return true;\r\n        }\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            super.onPageFinished(view, url);\r\n            mySwipeRefreshLayout.setRefreshing(false);\r\n        }\r\n    }\r\n\r\n    //set back button functionality\r\n    @Override\r\n    public void onBackPressed() { //if user presses the back button do this\r\n        if (webview.isFocused() &amp;&amp; webview.canGoBack()) { //check if in webview and the user can go back\r\n            webview.goBack(); //go back in webview\r\n        } else { //do this if the webview cannot go back any further\r\n\r\n            new AlertDialog.Builder(this) //alert the person knowing they are about to close\r\n                    .setTitle(&quot;EXIT&quot;)\r\n                    .setMessage(&quot;Are you sure. You want to close this app?&quot;)\r\n                    .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            finish();\r\n                        }\r\n                    })\r\n                    .setNegativeButton(&quot;No&quot;, null)\r\n                    .show();\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass CheckNetwork {\r\n\r\n    private static final String TAG = CheckNetwork.class.getSimpleName();\r\n\r\n    public static boolean isInternetAvailable(Context context)\r\n    {\r\n        NetworkInfo info = ((ConnectivityManager)\r\n                context.getSystemService(Context.CONNECTIVITY_SERVICE)).getActiveNetworkInfo();\r\n\r\n        if (info == null)\r\n        {\r\n            Log.d(TAG,&quot;no internet connection&quot;);\r\n            return false;\r\n        }\r\n        else\r\n        {\r\n            if(info.isConnected())\r\n            {\r\n                Log.d(TAG,&quot; internet connection available...&quot;);\r\n            }\r\n            else\r\n            {\r\n                Log.d(TAG,&quot; internet connection&quot;);\r\n            }\r\n            return true;\r\n\r\n        }\r\n    }\r\n}","title":"Android WebView app err_unknown_url_scheme (mailto, external links, website internal links)","body":"<p>I have used this code and is working correctly (webview links and external links of website) but,</p>\n<p>I get &quot;ERR_UNKNOWN_URL_SCHEME&quot; when trying to tap on html links that starts with mailto:</p>\n<p>*So I need my website links work in webview app, other external links like facebook, instagram, all others... to open from browser android or app, and links like mailto: | tel: to send from app / phone.</p>\n<p>Anyone can help me to fix this please?\nI have little knowledge in java :(</p>\n<p>Thanks.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nString websiteURL = &quot;https://dwosix.com&quot;; // sets web url\nprivate WebView webview;\nSwipeRefreshLayout mySwipeRefreshLayout;\n\n@SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    if( ! CheckNetwork.isInternetAvailable(this)) //returns true if internet available\n    {\n        //if there is no internet do this\n        setContentView(R.layout.activity_main);\n        //Toast.makeText(this,&quot;No Internet Connection, Chris&quot;,Toast.LENGTH_LONG).show();\n\n        new AlertDialog.Builder(this) //alert the person knowing they are about to close\n                .setTitle(&quot;No internet connection available&quot;)\n                .setMessage(&quot;Please Check you're Mobile data or Wifi network.&quot;)\n                .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        finish();\n                    }\n                })\n                //.setNegativeButton(&quot;No&quot;, null)\n                .show();\n\n    }\n    else\n    {\n        //Webview stuff\n        webview = findViewById(R.id.webView);\n        WebSettings webSettings = webview.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webview.getSettings().setJavaScriptEnabled(true);\n        webview.getSettings().setDomStorageEnabled(true);\n        webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\n        webview.loadUrl(websiteURL);\n        webview.setWebViewClient(new WebViewClientDemo(){\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                if (url.startsWith(&quot;mailto:&quot;) || url.startsWith(&quot;tel:&quot;)) {\n                    view.getContext().startActivity(\n                            new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\n                } else {\n                    // Stay within this webview and load url\n                    view.loadUrl(url);\n                }\n                return true;\n            }\n        });\n    }\n\n    //Swipe to refresh functionality\n    mySwipeRefreshLayout = this.findViewById(R.id.swipeContainer);\n\n    mySwipeRefreshLayout.setOnRefreshListener(\n            new SwipeRefreshLayout.OnRefreshListener() {\n                @Override\n                public void onRefresh() {\n                    webview.reload();\n                }\n            }\n    );\n}\n\nprivate class WebViewClientDemo extends WebViewClient {\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n        if((String.valueOf(request.getUrl())).contains(&quot;dwosix.com&quot;)) {\n            view.loadUrl(String.valueOf(request.getUrl()));\n        }\n        else {\n            view.getContext().startActivity(\n                    new Intent(Intent.ACTION_VIEW, request.getUrl()));\n        }\n        return true;\n    }\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        super.onPageFinished(view, url);\n        mySwipeRefreshLayout.setRefreshing(false);\n    }\n}\n\n//set back button functionality\n@Override\npublic void onBackPressed() { //if user presses the back button do this\n    if (webview.isFocused() &amp;&amp; webview.canGoBack()) { //check if in webview and the user can go back\n        webview.goBack(); //go back in webview\n    } else { //do this if the webview cannot go back any further\n\n        new AlertDialog.Builder(this) //alert the person knowing they are about to close\n                .setTitle(&quot;EXIT&quot;)\n                .setMessage(&quot;Are you sure. You want to close this app?&quot;)\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        finish();\n                    }\n                })\n                .setNegativeButton(&quot;No&quot;, null)\n                .show();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>class CheckNetwork {</p>\n<pre><code>private static final String TAG = CheckNetwork.class.getSimpleName();\n\npublic static boolean isInternetAvailable(Context context)\n{\n    NetworkInfo info = ((ConnectivityManager)\n            context.getSystemService(Context.CONNECTIVITY_SERVICE)).getActiveNetworkInfo();\n\n    if (info == null)\n    {\n        Log.d(TAG,&quot;no internet connection&quot;);\n        return false;\n    }\n    else\n    {\n        if(info.isConnected())\n        {\n            Log.d(TAG,&quot; internet connection available...&quot;);\n        }\n        else\n        {\n            Log.d(TAG,&quot; internet connection&quot;);\n        }\n        return true;\n\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":4394677,"reputation":15428,"user_id":4034572,"display_name":"Albert Vila Calvo"},"score":0,"creation_date":1604578173,"post_id":63451900,"comment_id":114392150,"body_markdown":"This happens to me when changing the Android Gradle Plugin from 4.0.2 to 4.1.0","body":"This happens to me when changing the Android Gradle Plugin from 4.0.2 to 4.1.0"},{"owner":{"account_id":3738722,"reputation":4355,"user_id":3169029,"accept_rate":81,"display_name":"Erik"},"score":0,"creation_date":1604587846,"post_id":63451900,"comment_id":114396989,"body_markdown":"May be related to https://issuetracker.google.com/issues/171801043 or https://issuetracker.google.com/issues/171171054. Please give those issues a ⭐️ star if you are experiencing them.","body":"May be related to <a href=\"https://issuetracker.google.com/issues/171801043\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/171801043</a> or <a href=\"https://issuetracker.google.com/issues/171171054\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/171171054</a>. Please give those issues a ⭐️ star if you are experiencing them."}],"answers":[{"tags":[],"owner":{"account_id":7987117,"reputation":1452,"user_id":6026222,"accept_rate":43,"display_name":"aleksandrbel"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1602577363,"creation_date":1602577363,"answer_id":64331364,"question_id":63451900,"body_markdown":"This happened to me when I updated to Android Studio 4.1 and then I changed back to previous settings and everything is working now.\r\n\r\ngradle-wrapper.properties\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip\r\n\r\nbuild.gradle (project)\r\n\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.0.1&#39;\r\n        }","title":"Build Error Extension not initialized yet, couldn&#39;t access compileSdkVersion. Android Studio","body":"<p>This happened to me when I updated to Android Studio 4.1 and then I changed back to previous settings and everything is working now.</p>\n<p>gradle-wrapper.properties</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip\n</code></pre>\n<p>build.gradle (project)</p>\n<pre><code>    dependencies {\n        classpath 'com.android.tools.build:gradle:4.0.1'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2437051,"reputation":101,"user_id":2126701,"display_name":"Vacxe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604966370,"creation_date":1604966370,"answer_id":64760947,"question_id":63451900,"body_markdown":"I have the same issue in our project after uplift gradle plugin to 4.1.0 version and it has been solved by removing this plugin\r\n\r\n```\r\napply plugin: &#39;com.getkeepsafe.dexcount&#39;\r\n```\r\n\r\n* Firstly check what a plugin in use in your project\r\n* Secondly try to recompile without it to find a tricky one","title":"Build Error Extension not initialized yet, couldn&#39;t access compileSdkVersion. Android Studio","body":"<p>I have the same issue in our project after uplift gradle plugin to 4.1.0 version and it has been solved by removing this plugin</p>\n<pre><code>apply plugin: 'com.getkeepsafe.dexcount'\n</code></pre>\n<ul>\n<li>Firstly check what a plugin in use in your project</li>\n<li>Secondly try to recompile without it to find a tricky one</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11763767,"reputation":397,"user_id":8609041,"display_name":"AlexG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605177447,"creation_date":1605177447,"answer_id":64802291,"question_id":63451900,"body_markdown":"They removed some deprecated methods from the DSL. So not-up-to-date plugins will crash miserably on this update.\r\nIn fact, issue can come from any gradle plugin that uses deprecated methods from the gradle Android DSL.\r\nJust run \r\n```\r\n$ ./gradlew clean assemble --stacktrace\r\n```\r\nto understand what plugin calls a deprecated (removed) method, and in general this plugin has a more recent version that no longer uses the deprecated DSL method.\r\nIn my case, this was junit5, but one has to do the per-case verification.","title":"Build Error Extension not initialized yet, couldn&#39;t access compileSdkVersion. Android Studio","body":"<p>They removed some deprecated methods from the DSL. So not-up-to-date plugins will crash miserably on this update.\nIn fact, issue can come from any gradle plugin that uses deprecated methods from the gradle Android DSL.\nJust run</p>\n<pre><code>$ ./gradlew clean assemble --stacktrace\n</code></pre>\n<p>to understand what plugin calls a deprecated (removed) method, and in general this plugin has a more recent version that no longer uses the deprecated DSL method.\nIn my case, this was junit5, but one has to do the per-case verification.</p>\n"},{"tags":[],"owner":{"account_id":339902,"reputation":1200,"user_id":669647,"accept_rate":73,"display_name":"penkzhou"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1605420509,"creation_date":1605420509,"answer_id":64841672,"question_id":63451900,"body_markdown":"like @Vacexe said, this is dexcount plugin&#39;s bug. \r\n\r\nYou can resovle this problem by update dexcount plugin version to 2.0.0:\r\n\r\n    classpath &#39;com.getkeepsafe.dexcount:dexcount-gradle-plugin:2.0.0&#39;","title":"Build Error Extension not initialized yet, couldn&#39;t access compileSdkVersion. Android Studio","body":"<p>like @Vacexe said, this is dexcount plugin's bug.</p>\n<p>You can resovle this problem by update dexcount plugin version to 2.0.0:</p>\n<pre><code>classpath 'com.getkeepsafe.dexcount:dexcount-gradle-plugin:2.0.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22153211,"reputation":113,"user_id":16401444,"display_name":"zimmy9537"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626969899,"creation_date":1626969543,"answer_id":68488012,"question_id":63451900,"body_markdown":"could not create task &#39;:app:generateLintModuleInfo&#39;\r\n\r\nI had this above problem when i created a new project in android studio. I visited stackoverflow got this question.\r\n\r\nthen as i didn&#39;t got anything i tried to compare build.gradle(:app) files of previously successfully build projects I saw that, their was this extra line \r\n  ```  \r\n   buildToolsVersion &quot;31.0.0&quot;\r\n  ```\r\nyou will get it bellow compileSdkVersion. just remove above line and sync the gradle file. for me everything worked smoothly later.","title":"Build Error Extension not initialized yet, couldn&#39;t access compileSdkVersion. Android Studio","body":"<p>could not create task ':app:generateLintModuleInfo'</p>\n<p>I had this above problem when i created a new project in android studio. I visited stackoverflow got this question.</p>\n<p>then as i didn't got anything i tried to compare build.gradle(:app) files of previously successfully build projects I saw that, their was this extra line</p>\n<pre><code> buildToolsVersion &quot;31.0.0&quot;\n</code></pre>\n<p>you will get it bellow compileSdkVersion. just remove above line and sync the gradle file. for me everything worked smoothly later.</p>\n"},{"tags":[],"owner":{"account_id":19167711,"reputation":1,"user_id":14002103,"display_name":"袁婷钰"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646709368,"creation_date":1646709368,"answer_id":71389647,"question_id":63451900,"body_markdown":"could not create task &#39;:app:generateLintModuleInfo&#39;\r\n\r\nI had this above problem when i created a new project in android studio. \r\ni tried to change gradle version from 4.2.1 to 3.4.3 in project gradle,then it build successfully.like this-\r\n\r\n     dependencies {\r\n      classpath &quot;com.android.tools.build:gradle:3.4.3&quot;}\r\n\r\ni think this problem is something wrong appears in gradle version and buildToolsVersion etc,when i creat a new project,it use the leatest android version in default,now is targetSdkVersion 32.\r\n","title":"Build Error Extension not initialized yet, couldn&#39;t access compileSdkVersion. Android Studio","body":"<p>could not create task ':app:generateLintModuleInfo'</p>\n<p>I had this above problem when i created a new project in android studio.\ni tried to change gradle version from 4.2.1 to 3.4.3 in project gradle,then it build successfully.like this-</p>\n<pre><code> dependencies {\n  classpath &quot;com.android.tools.build:gradle:3.4.3&quot;}\n</code></pre>\n<p>i think this problem is something wrong appears in gradle version and buildToolsVersion etc,when i creat a new project,it use the leatest android version in default,now is targetSdkVersion 32.</p>\n"}],"owner":{"account_id":15892535,"reputation":445,"user_id":11467234,"display_name":"Adarsh Sahu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8766,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1646709368,"creation_date":1597671143,"question_id":63451900,"body_markdown":"    &gt; Task :prepareKotlinBuildScriptModel UP-TO-DATE\r\n    &lt;ij_msg_gr&gt;Gradle import errors&lt;ij_msg_gr&gt;&lt;ij_nav&gt;D:\\Important_Docs\\Projects\\Backup\\RLPHYC\\android-utils\\build.gradle&lt;ij_nav&gt;&lt;i&gt;&lt;b&gt;project &#39;:android-utils&#39;: Unable to build Kotlin project configuration&lt;/b&gt;&lt;eol&gt;Details: org.gradle.api.internal.tasks.DefaultTaskContainer$TaskCreationException: Could not create task &#39;:android-utils:generateLintModuleInfo&#39;.&lt;eol&gt;Caused by: java.lang.IllegalStateException: Extension not initialized yet, couldn&#39;t access compileSdkVersion.&lt;/i&gt;\r\n    &lt;ij_msg_gr&gt;Gradle import errors&lt;ij_msg_gr&gt;&lt;ij_nav&gt;D:\\Important_Docs\\Projects\\Backup\\RLPHYC\\app\\build.gradle&lt;ij_nav&gt;&lt;i&gt;&lt;b&gt;project &#39;:app&#39;: Unable to build Kotlin project configuration&lt;/b&gt;&lt;eol&gt;Details: org.gradle.api.internal.tasks.DefaultTaskContainer$TaskCreationException: Could not create task &#39;:app:generateLintModuleInfo&#39;.&lt;eol&gt;Caused by: java.lang.IllegalStateException: Extension not initialized yet, couldn&#39;t access compileSdkVersion.&lt;/i&gt;\r\n    Extension not initialized yet, couldn&#39;t access compileSdkVersion.\r\n\r\n\r\n&gt; Tried to invalidate cache restart also used ext in top-level Gradle and also deleted Gradle folder Still error continues\r\n\r\nNo problem with the Gradle version tried the same with different Gradle versions\r\n","title":"Build Error Extension not initialized yet, couldn&#39;t access compileSdkVersion. Android Studio","body":"<pre><code>&gt; Task :prepareKotlinBuildScriptModel UP-TO-DATE\n&lt;ij_msg_gr&gt;Gradle import errors&lt;ij_msg_gr&gt;&lt;ij_nav&gt;D:\\Important_Docs\\Projects\\Backup\\RLPHYC\\android-utils\\build.gradle&lt;ij_nav&gt;&lt;i&gt;&lt;b&gt;project ':android-utils': Unable to build Kotlin project configuration&lt;/b&gt;&lt;eol&gt;Details: org.gradle.api.internal.tasks.DefaultTaskContainer$TaskCreationException: Could not create task ':android-utils:generateLintModuleInfo'.&lt;eol&gt;Caused by: java.lang.IllegalStateException: Extension not initialized yet, couldn't access compileSdkVersion.&lt;/i&gt;\n&lt;ij_msg_gr&gt;Gradle import errors&lt;ij_msg_gr&gt;&lt;ij_nav&gt;D:\\Important_Docs\\Projects\\Backup\\RLPHYC\\app\\build.gradle&lt;ij_nav&gt;&lt;i&gt;&lt;b&gt;project ':app': Unable to build Kotlin project configuration&lt;/b&gt;&lt;eol&gt;Details: org.gradle.api.internal.tasks.DefaultTaskContainer$TaskCreationException: Could not create task ':app:generateLintModuleInfo'.&lt;eol&gt;Caused by: java.lang.IllegalStateException: Extension not initialized yet, couldn't access compileSdkVersion.&lt;/i&gt;\nExtension not initialized yet, couldn't access compileSdkVersion.\n</code></pre>\n<blockquote>\n<p>Tried to invalidate cache restart also used ext in top-level Gradle and also deleted Gradle folder Still error continues</p>\n</blockquote>\n<p>No problem with the Gradle version tried the same with different Gradle versions</p>\n"},{"tags":["java","tomcat","servlets","web-applications"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646710180,"post_id":71389612,"comment_id":126185747,"body_markdown":"Do you have a class named `AddServlet` in the default package?","body":"Do you have a class named <code>AddServlet</code> in the default package?"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1646715954,"post_id":71389612,"comment_id":126186606,"body_markdown":"Where did you place the   AddServlet.class  file?","body":"Where did you place the   AddServlet.class  file?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646718042,"post_id":71389612,"comment_id":126186945,"body_markdown":"Do not use the default package: classes inside packages can not access it.","body":"Do not use the default package: classes inside packages can not access it."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1646727984,"post_id":71389612,"comment_id":126189392,"body_markdown":"Please read [ask]: Just dumping an error message does not make a proper question. Please give steps to reproduce, ideally in the form of a [mcve] and mention the _exact_ version that you&#39;re using","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>: Just dumping an error message does not make a proper question. Please give steps to reproduce, ideally in the form of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and mention the <i>exact</i> version that you&#39;re using"}],"owner":{"account_id":7795861,"reputation":1,"user_id":5896976,"display_name":"jatindra malik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646708993,"creation_date":1646708993,"question_id":71389612,"body_markdown":"HTTP Status 500 – Internal Server Error\r\n\r\nType Exception Report\r\n\r\nMessage Error instantiating servlet class [AddServlet]\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njavax.servlet.ServletException: Error instantiating servlet class [AddServlet]\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:366)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:639)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:881)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1647)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nRoot Cause\r\n\r\njava.lang.ClassNotFoundException: AddServlet\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1415)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1223)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:366)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:639)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:881)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1647)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nNote The full stack trace of the root cause is available in the server logs.\r\n","title":"The mapping cant instantiating servlet class","body":"<p>HTTP Status 500 – Internal Server Error</p>\n<p>Type Exception Report</p>\n<p>Message Error instantiating servlet class [AddServlet]</p>\n<p>Description The server encountered an unexpected condition that prevented it from fulfilling the request.</p>\n<p>Exception</p>\n<p>javax.servlet.ServletException: Error instantiating servlet class [AddServlet]\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:366)\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:639)\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:881)\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1647)\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.base/java.lang.Thread.run(Thread.java:829)</p>\n<p>Root Cause</p>\n<p>java.lang.ClassNotFoundException: AddServlet\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1415)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1223)\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:366)\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:639)\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:881)\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1647)\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.base/java.lang.Thread.run(Thread.java:829)</p>\n<p>Note The full stack trace of the root cause is available in the server logs.</p>\n"},{"tags":["java","web-services","tomcat"],"answers":[{"tags":[],"owner":{"account_id":4467154,"reputation":1,"user_id":3634440,"display_name":"bpendell"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1400682082,"creation_date":1400682082,"answer_id":23786004,"question_id":23784582,"body_markdown":"It appears that javax.ws.rs.ProcessingException is part of the javax.ws.rs package, which is  part of rest but is not shipped by default with Java or with Tomcat.  \r\n\r\nit appears to be included in , among other things, javax.ws.rs-api-2.0.jar .  There is also a version of javax.ws.rs available on the Maven repository. \r\n\r\nIt appears that Jersey REFERENCES but does not IMPLEMENT this class. \r\n\r\nhttps://jersey.java.net/apidocs/2.6/jersey/javax/ws/rs/class-use/ProcessingException.html\r\n\r\nSo you&#39;re going to need to download the corresponding jar and include it in your classpath in order for it to be able to use ProcessingException and start your container.\r\n\r\nDid some looking. I would *hope* that Jersey.java.net would provide this library as part of their bundle. If they don&#39;t, you&#39;re going to have to pull the REST prerequisites off of Maven yourself. \r\n\r\n","title":"Tomcat 7.0 service fails to start with ClassNotFoundException: javax.ws.rs.ProcessingException","body":"<p>It appears that javax.ws.rs.ProcessingException is part of the javax.ws.rs package, which is  part of rest but is not shipped by default with Java or with Tomcat.  </p>\n\n<p>it appears to be included in , among other things, javax.ws.rs-api-2.0.jar .  There is also a version of javax.ws.rs available on the Maven repository. </p>\n\n<p>It appears that Jersey REFERENCES but does not IMPLEMENT this class. </p>\n\n<p><a href=\"https://jersey.java.net/apidocs/2.6/jersey/javax/ws/rs/class-use/ProcessingException.html\" rel=\"nofollow\">https://jersey.java.net/apidocs/2.6/jersey/javax/ws/rs/class-use/ProcessingException.html</a></p>\n\n<p>So you're going to need to download the corresponding jar and include it in your classpath in order for it to be able to use ProcessingException and start your container.</p>\n\n<p>Did some looking. I would <em>hope</em> that Jersey.java.net would provide this library as part of their bundle. If they don't, you're going to have to pull the REST prerequisites off of Maven yourself. </p>\n"},{"tags":[],"owner":{"account_id":384274,"reputation":5408,"user_id":1655398,"accept_rate":43,"display_name":"Alvin Thompson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1415045214,"creation_date":1415045214,"answer_id":26722251,"question_id":23784582,"body_markdown":"Sorry the text isn&#39;t specifically tailored to your question (but it should get the job done). I answered a similar question so I&#39;m just reusing it.\r\n\r\nIf you&#39;re using a standard Tomcat install (or some other servlet container), AFAIK you can&#39;t avoid explicitly telling it what servlets to start in the `web.xml` file\\*. Since you have to use `web.xml` anyway, the simplest way to get restful web services working is to forget extending `javax.ws.rs.core.Application` entirely and just specify the context path there. You can still use standard jax-rs annotations to declare the actual web services.\r\n\r\nweb.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app\r\n      xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n      version=&quot;3.0&quot;\r\n    &gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;rest-test&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n          &lt;param-value&gt;com.domain.mypackage&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt; rest-test&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nTwo noteworthy points:\r\n\r\n 1. You will need to bundle a REST implementation in your WAR file, since servlet containers don&#39;t usually contain one. Since Jersey is the reference implementation for JAX-RS, that&#39;s the one I&#39;m using in the `servlet-class` element above. You can replace this with Apache CXF implementation if you want.\r\n\r\n 2. The `init-param` element tells Jersey which of your packages to search for Java files with web service annotations. Edit this to point to your web services. Note that if you opt to use apache CXF instead of Jersey, the stuff needed in any `init-param` elements will be different. Someone who knows CXF please post what they would be.\r\n\r\nIf you&#39;re using Maven, just add a dependency to `jersey-servlet` in the `dependencies` section of your `pom.xml` file:\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-servlet&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      ...\r\n    &lt;/dependencies&gt;\r\n\r\nAfter this, declaring your web services is straight forward using the standard JAX-RS annotations in your Java classes:\r\n\r\n    package com.domain.mypackage;\r\n    import javax.ws.rs.Consumes;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.MatrixParam;\r\n    import javax.ws.rs.Path;\r\n    \r\n    // It&#39;s good practice to include a version number in the path so you can have\r\n    // multiple versions deployed at once. That way consumers don&#39;t need to upgrade\r\n    // right away if things are working for them.\r\n    @Path(&quot;calc/1.0&quot;)\r\n    public class CalculatorV1_0 {\r\n      @GET\r\n      @Consumes(&quot;text/plain&quot;)\r\n      @Produces(&quot;text/plain&quot;)\r\n      @Path(&quot;addTwoNumbers&quot;)\r\n      public String add(@MatrixParam(&quot;firstNumber&quot;) int n1, @MatrixParam(&quot;secondNumber&quot;) int n2) {\r\n        return String.valueOf(n1 + n2);\r\n      }\r\n    }\r\n\r\nThis should be all you need. If your Tomcat install is running locally on port 8080 and you deploy your WAR file to the context `myContext`, going to\r\n\r\n    http://localhost:8080/myContext/rest/calc/1.0/addTwoNumbers;firstNumber=2;secondNumber=3\r\n\r\n...should produce the expected result (5).\r\n\r\nCheers!\r\n\r\n\\* Someone please correct me if you know of a way to a add the Jersey servlet to the context in Tomcat without using `web.xml`--maybe by using a context or life cycle listener?","title":"Tomcat 7.0 service fails to start with ClassNotFoundException: javax.ws.rs.ProcessingException","body":"<p>Sorry the text isn't specifically tailored to your question (but it should get the job done). I answered a similar question so I'm just reusing it.</p>\n\n<p>If you're using a standard Tomcat install (or some other servlet container), AFAIK you can't avoid explicitly telling it what servlets to start in the <code>web.xml</code> file*. Since you have to use <code>web.xml</code> anyway, the simplest way to get restful web services working is to forget extending <code>javax.ws.rs.core.Application</code> entirely and just specify the context path there. You can still use standard jax-rs annotations to declare the actual web services.</p>\n\n<p>web.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app\n  xmlns=\"http://java.sun.com/xml/ns/javaee\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n  version=\"3.0\"\n&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;rest-test&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n      &lt;param-value&gt;com.domain.mypackage&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt; rest-test&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Two noteworthy points:</p>\n\n<ol>\n<li><p>You will need to bundle a REST implementation in your WAR file, since servlet containers don't usually contain one. Since Jersey is the reference implementation for JAX-RS, that's the one I'm using in the <code>servlet-class</code> element above. You can replace this with Apache CXF implementation if you want.</p></li>\n<li><p>The <code>init-param</code> element tells Jersey which of your packages to search for Java files with web service annotations. Edit this to point to your web services. Note that if you opt to use apache CXF instead of Jersey, the stuff needed in any <code>init-param</code> elements will be different. Someone who knows CXF please post what they would be.</p></li>\n</ol>\n\n<p>If you're using Maven, just add a dependency to <code>jersey-servlet</code> in the <code>dependencies</code> section of your <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-servlet&lt;/artifactId&gt;\n    &lt;version&gt;1.18.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  ...\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>After this, declaring your web services is straight forward using the standard JAX-RS annotations in your Java classes:</p>\n\n<pre><code>package com.domain.mypackage;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.MatrixParam;\nimport javax.ws.rs.Path;\n\n// It's good practice to include a version number in the path so you can have\n// multiple versions deployed at once. That way consumers don't need to upgrade\n// right away if things are working for them.\n@Path(\"calc/1.0\")\npublic class CalculatorV1_0 {\n  @GET\n  @Consumes(\"text/plain\")\n  @Produces(\"text/plain\")\n  @Path(\"addTwoNumbers\")\n  public String add(@MatrixParam(\"firstNumber\") int n1, @MatrixParam(\"secondNumber\") int n2) {\n    return String.valueOf(n1 + n2);\n  }\n}\n</code></pre>\n\n<p>This should be all you need. If your Tomcat install is running locally on port 8080 and you deploy your WAR file to the context <code>myContext</code>, going to</p>\n\n<pre><code>http://localhost:8080/myContext/rest/calc/1.0/addTwoNumbers;firstNumber=2;secondNumber=3\n</code></pre>\n\n<p>...should produce the expected result (5).</p>\n\n<p>Cheers!</p>\n\n<p>* Someone please correct me if you know of a way to a add the Jersey servlet to the context in Tomcat without using <code>web.xml</code>--maybe by using a context or life cycle listener?</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633457861,"creation_date":1633406998,"answer_id":69444817,"question_id":23784582,"body_markdown":"The OP was using [version 2.0-m10](https://mvnrepository.com/artifact/javax.ws.rs/javax.ws.rs-api/2.0-m10) of `javax.ws.rs-api`. Pre-release versions are work in progress and there can be differences from the final version.\r\n\r\nIn this case the `javax.ws.rs.ProcessingException` class was absent. Using the final [version 2.0](https://mvnrepository.com/artifact/javax.ws.rs/javax.ws.rs-api/2.0) of the artifact (released one year **before** this question was posted) should solve the problem. ","title":"Tomcat 7.0 service fails to start with ClassNotFoundException: javax.ws.rs.ProcessingException","body":"<p>The OP was using <a href=\"https://mvnrepository.com/artifact/javax.ws.rs/javax.ws.rs-api/2.0-m10\" rel=\"nofollow noreferrer\">version 2.0-m10</a> of <code>javax.ws.rs-api</code>. Pre-release versions are work in progress and there can be differences from the final version.</p>\n<p>In this case the <code>javax.ws.rs.ProcessingException</code> class was absent. Using the final <a href=\"https://mvnrepository.com/artifact/javax.ws.rs/javax.ws.rs-api/2.0\" rel=\"nofollow noreferrer\">version 2.0</a> of the artifact (released one year <strong>before</strong> this question was posted) should solve the problem.</p>\n"}],"owner":{"account_id":2352647,"reputation":21,"user_id":2061138,"display_name":"Anna Bekkerman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1646708930,"creation_date":1400678728,"question_id":23784582,"body_markdown":"I have a toy REST web service that I&#39;m trying to deploy to Tomcat 7.0 server. The problem is I can&#39;t even start the server. Here&#39;s the error message I&#39;m getting:\r\n\r\n&gt; SEVERE: A child container failed during start\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/HelloWorldRestService]]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:133)\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:199)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:273)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1170)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:640)\r\n\tat java.lang.Thread.run(Thread.java:853)\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/HelloWorldRestService]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\t... 6 more\r\n\r\n&gt; Caused by: java.lang.NoClassDefFoundError: javax.ws.rs.ProcessingException\r\n\tat java.lang.J9VMInternals.prepareClassImpl(Native Method)\r\n\tat java.lang.J9VMInternals.prepare(J9VMInternals.java:1122)\r\n\tat java.lang.Class.getDeclaredFields(Class.java:685)\r\n\tat org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:106)\r\n\tat org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:263)\r\n\tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationServletAnnotations(WebAnnotationSet.java:142)\r\n\tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:67)\r\n\tat org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:405)\r\n\tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:881)\r\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:376)\r\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5322)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 6 more\r\nCaused by: java.lang.ClassNotFoundException: javax.ws.rs.ProcessingException\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547)\r\n\t... 20 more\r\n\r\n&gt; SEVERE: A child container failed during start\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:133)\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:199)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:691)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:94)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:619)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:273)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1170)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:640)\r\n\tat java.lang.Thread.run(Thread.java:853)\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 6 more\r\n\r\n&gt;SEVERE: The required Server component failed to start so Tomcat is unable to start.\r\norg.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:691)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:94)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:619)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 7 more\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 9 more\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 11 more\r\n\r\nI&#39;m using Jersey 2.x. Here&#39;re my jars:\r\n\r\njavax.ws.rs-api-2.0-m10.jar\r\n\r\njersey-client.jar\r\n\r\njersey-common.jar\r\n\r\njersey-container-servlet.jar\r\n\r\njersey-container-servlet-core.jar\r\n\r\njersey-server.jar\r\n\r\n\r\nMy &lt;i&gt;web.xml&lt;i&gt; looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app id=&quot;WebApp_ID&quot; version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n    &lt;display-name&gt;HelloWorldRestService&lt;/display-name&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;java.helloworldrestservice.resources.HelloWorldApplication&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n \r\n        &lt;!-- Register JAX-RS Application, if needed. --&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n            &lt;param-value&gt;java.helloworldrestservice.resources.HelloWorldApplication&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n \r\n        &lt;!-- Register resources and providers under my.package. --&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;java.helloworldrestservice.resources&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n \r\n        &lt;!-- Enable Tracing support. --&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.tracing&lt;/param-name&gt;\r\n            &lt;param-value&gt;ALL&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n \r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n \r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;java.helloworldrestservice.resources.HelloWorldApplication&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n\r\nHelloWorldApplication.java:\r\n\r\n    package java.helloworldrestservice.resources;\r\n\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import javax.ws.rs.core.Application;\r\n\r\n\r\n    public class HelloWorldApplication extends Application \r\n    {\r\n\t\r\n\t@Override\r\n\tpublic Set&lt;Class&lt;?&gt;&gt; getClasses()\r\n\t{\r\n\t\t//log.info(&quot;starting the HelloWorld application...&quot;);\r\n\t\tSet&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n\t\tset.add(HelloWorld.class);\r\n\t\treturn set;\r\n\t}\r\n    }\r\n\r\nHelloWorld.java:\r\n\r\n    package java.helloworldrestservice.resources;\r\n\r\n\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n\r\n    @Path(&quot;/hello&quot;)\r\n    public class HelloWorld {\r\n\t@GET\r\n\t@Produces(MediaType.TEXT_PLAIN)\r\n\tpublic String sayPlainTextHello()\r\n\t{\r\n\t\treturn &quot;Hello World!!&quot;;\r\n\t}\r\n    }\r\n\r\nWhat is wrong? Why do I see this missing ProcessingException class and how can I get rid of this error?\r\n\r\nThanks a lot!","title":"Tomcat 7.0 service fails to start with ClassNotFoundException: javax.ws.rs.ProcessingException","body":"<p>I have a toy REST web service that I'm trying to deploy to Tomcat 7.0 server. The problem is I can't even start the server. Here's the error message I'm getting:</p>\n\n<blockquote>\n  <p>SEVERE: A child container failed during start\n  java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/HelloWorldRestService]]\n      at java.util.concurrent.FutureTask.report(FutureTask.java:133)\n      at java.util.concurrent.FutureTask.get(FutureTask.java:199)\n      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n      at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n      at java.util.concurrent.FutureTask.run(FutureTask.java:273)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1170)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:640)\n      at java.lang.Thread.run(Thread.java:853)\n  Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/HelloWorldRestService]]\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n      ... 6 more</p>\n  \n  <p>Caused by: java.lang.NoClassDefFoundError: javax.ws.rs.ProcessingException\n      at java.lang.J9VMInternals.prepareClassImpl(Native Method)\n      at java.lang.J9VMInternals.prepare(J9VMInternals.java:1122)\n      at java.lang.Class.getDeclaredFields(Class.java:685)\n      at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:106)\n      at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:263)\n      at org.apache.catalina.startup.WebAnnotationSet.loadApplicationServletAnnotations(WebAnnotationSet.java:142)\n      at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:67)\n      at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:405)\n      at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:881)\n      at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:376)\n      at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n      at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n      at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5322)\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n      ... 6 more\n  Caused by: java.lang.ClassNotFoundException: javax.ws.rs.ProcessingException\n      at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1702)\n      at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1547)\n      ... 20 more</p>\n  \n  <p>SEVERE: A child container failed during start\n  java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n      at java.util.concurrent.FutureTask.report(FutureTask.java:133)\n      at java.util.concurrent.FutureTask.get(FutureTask.java:199)\n      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n      at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n      at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n      at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n      at org.apache.catalina.startup.Catalina.start(Catalina.java:691)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:94)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n      at java.lang.reflect.Method.invoke(Method.java:619)\n      at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\n      at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)\n  Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n      at java.util.concurrent.FutureTask.run(FutureTask.java:273)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1170)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:640)\n      at java.lang.Thread.run(Thread.java:853)\n  Caused by: org.apache.catalina.LifecycleException: A child container failed during start\n      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\n      at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n      ... 6 more</p>\n  \n  <p>SEVERE: The required Server component failed to start so Tomcat is unable to start.\n  org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n      at org.apache.catalina.startup.Catalina.start(Catalina.java:691)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:94)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n      at java.lang.reflect.Method.invoke(Method.java:619)\n      at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\n      at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)\n  Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n      at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n      ... 7 more\n  Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n      at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n      ... 9 more\n  Caused by: org.apache.catalina.LifecycleException: A child container failed during start\n      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\n      at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n      ... 11 more</p>\n</blockquote>\n\n<p>I'm using Jersey 2.x. Here're my jars:</p>\n\n<p>javax.ws.rs-api-2.0-m10.jar</p>\n\n<p>jersey-client.jar</p>\n\n<p>jersey-common.jar</p>\n\n<p>jersey-container-servlet.jar</p>\n\n<p>jersey-container-servlet-core.jar</p>\n\n<p>jersey-server.jar</p>\n\n<p>My web.xml looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app id=\"WebApp_ID\" version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n&lt;display-name&gt;HelloWorldRestService&lt;/display-name&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;java.helloworldrestservice.resources.HelloWorldApplication&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n\n    &lt;!-- Register JAX-RS Application, if needed. --&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;java.helloworldrestservice.resources.HelloWorldApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n\n    &lt;!-- Register resources and providers under my.package. --&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;java.helloworldrestservice.resources&lt;/param-value&gt;\n    &lt;/init-param&gt;\n\n    &lt;!-- Enable Tracing support. --&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.tracing&lt;/param-name&gt;\n        &lt;param-value&gt;ALL&lt;/param-value&gt;\n    &lt;/init-param&gt;\n\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;java.helloworldrestservice.resources.HelloWorldApplication&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p></p>\n\n<p>HelloWorldApplication.java:</p>\n\n<pre><code>package java.helloworldrestservice.resources;\n\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.ws.rs.core.Application;\n\n\npublic class HelloWorldApplication extends Application \n{\n\n@Override\npublic Set&lt;Class&lt;?&gt;&gt; getClasses()\n{\n    //log.info(\"starting the HelloWorld application...\");\n    Set&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\n    set.add(HelloWorld.class);\n    return set;\n}\n}\n</code></pre>\n\n<p>HelloWorld.java:</p>\n\n<pre><code>package java.helloworldrestservice.resources;\n\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\n@Path(\"/hello\")\npublic class HelloWorld {\n@GET\n@Produces(MediaType.TEXT_PLAIN)\npublic String sayPlainTextHello()\n{\n    return \"Hello World!!\";\n}\n}\n</code></pre>\n\n<p>What is wrong? Why do I see this missing ProcessingException class and how can I get rid of this error?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","sorting","collections","hashmap","key-value"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1646083256,"post_id":71301156,"comment_id":126032651,"body_markdown":"Share what did you try so far. It&#39;s unclear from the title and examples what do you need to achieve. HashMap is unsorted by its nature.","body":"Share what did you try so far. It&#39;s unclear from the title and examples what do you need to achieve. HashMap is unsorted by its nature."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1646083276,"post_id":71301156,"comment_id":126032659,"body_markdown":"Are you trying to *print* the output in some form?  Or else, what manner of output are you expecting?  Because, generally speaking, you cannot modify the iteration order of an existing `Map`.","body":"Are you trying to <i>print</i> the output in some form?  Or else, what manner of output are you expecting?  Because, generally speaking, you cannot modify the iteration order of an existing <code>Map</code>."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1646688953,"post_id":71301156,"comment_id":126181696,"body_markdown":"A `Map` is not a useful output from a sort method.  A `List` or `Set` would maintain the sort order.,","body":"A <code>Map</code> is not a useful output from a sort method.  A <code>List</code> or <code>Set</code> would maintain the sort order.,"},{"owner":{"account_id":1463408,"reputation":4327,"user_id":4660481,"accept_rate":50,"display_name":"GaspardP"},"score":0,"creation_date":1647008188,"post_id":71301156,"comment_id":126271292,"body_markdown":"@GilbertLeBlanc a `Set` will not maintain order more or less than a `Map`, in fact their implementations are very similar. There are many real-life situations where a `SortedMap` or `LinkedHashMap` are useful and good reasons they made it to `java.lang`","body":"@GilbertLeBlanc a <code>Set</code> will not maintain order more or less than a <code>Map</code>, in fact their implementations are very similar. There are many real-life situations where a <code>SortedMap</code> or <code>LinkedHashMap</code> are useful and good reasons they made it to <code>java.lang</code>"}],"answers":[{"tags":[],"owner":{"account_id":1463408,"reputation":4327,"user_id":4660481,"accept_rate":50,"display_name":"GaspardP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646708854,"creation_date":1646708854,"answer_id":71389604,"question_id":71301156,"body_markdown":"While I agree with some of the comments hinting that a list is better suited when looking for sorted results, Java does allow some maps like the `TreeMap` to be sorted using `Comparator&lt;&gt;` functions.\r\n\r\nUnfortunately, `Maps` are always sorted by key, but luckily, Java also provides `LinkedHashMap` which maintain their insertion order.\r\n\r\nSo the trick here is to first sort using the `Comparator` in a `TreeMap` using the value as a key, and then insert the sorted result to a `LinkedHashMap`:\r\n\r\n```\r\nprivate LinkedHashMap&lt;String, Integer&gt; sortByAbsoluteValue(Map&lt;String, Integer&gt; unsorted)\r\n{\r\n\t// assemble the comparator function\r\n\tComparator&lt;Integer&gt; sortedByAbsValue = Comparator.comparingInt(Math::abs);\r\n\tComparator&lt;Integer&gt; sortedByAbsValueReversed = sortedByAbsValue.reversed();\r\n\r\n\t// group by value, sorting using the custom comparator\r\n\tTreeMap&lt;Integer, List&lt;Map.Entry&lt;String, Integer&gt;&gt;&gt; sorted = new TreeMap&lt;&gt;(sortedByAbsValueReversed);\r\n\tsorted.putAll(unsorted.entrySet().stream().collect(Collectors.groupingBy(Map.Entry::getValue)));\r\n\r\n\t// assemble back into a map that maintains insertion order\r\n\treturn sorted.entrySet()\r\n\t\t\t.stream()\r\n\t\t\t.flatMap(kv -&gt; kv.getValue().stream())\r\n\t\t\t.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (a, b) -&gt; b, LinkedHashMap::new));\r\n}\r\n```","title":"How to sort a java map with a custom comparator on values instead of keys","body":"<p>While I agree with some of the comments hinting that a list is better suited when looking for sorted results, Java does allow some maps like the <code>TreeMap</code> to be sorted using <code>Comparator&lt;&gt;</code> functions.</p>\n<p>Unfortunately, <code>Maps</code> are always sorted by key, but luckily, Java also provides <code>LinkedHashMap</code> which maintain their insertion order.</p>\n<p>So the trick here is to first sort using the <code>Comparator</code> in a <code>TreeMap</code> using the value as a key, and then insert the sorted result to a <code>LinkedHashMap</code>:</p>\n<pre><code>private LinkedHashMap&lt;String, Integer&gt; sortByAbsoluteValue(Map&lt;String, Integer&gt; unsorted)\n{\n    // assemble the comparator function\n    Comparator&lt;Integer&gt; sortedByAbsValue = Comparator.comparingInt(Math::abs);\n    Comparator&lt;Integer&gt; sortedByAbsValueReversed = sortedByAbsValue.reversed();\n\n    // group by value, sorting using the custom comparator\n    TreeMap&lt;Integer, List&lt;Map.Entry&lt;String, Integer&gt;&gt;&gt; sorted = new TreeMap&lt;&gt;(sortedByAbsValueReversed);\n    sorted.putAll(unsorted.entrySet().stream().collect(Collectors.groupingBy(Map.Entry::getValue)));\n\n    // assemble back into a map that maintains insertion order\n    return sorted.entrySet()\n            .stream()\n            .flatMap(kv -&gt; kv.getValue().stream())\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (a, b) -&gt; b, LinkedHashMap::new));\n}\n</code></pre>\n"}],"owner":{"account_id":24368826,"reputation":31,"user_id":18302119,"display_name":"VijayA76R"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2230,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1646708854,"creation_date":1646083081,"question_id":71301156,"body_markdown":"How can we order the content of a map by comparing its values instead of the value of its keys? For example, how can we implement a method `sortByAbsoluteValue` that orders the map entries from the one with highest absolute value to lowest absolute value:\r\n\r\n    HashMap&lt;String,Integer&gt; hashmap=new HashMap&lt;String,Integer&gt;();\r\n\t\thashmap.put(&quot;product5&quot;,100);\r\n\t\thashmap.put(&quot;product6&quot;,-20);\r\n\t\thashmap.put(&quot;product3&quot;,10);\r\n\t\thashmap.put(&quot;product4&quot;,5);\r\n\t\thashmap.put(&quot;product1&quot;,15);\r\n\t\thashmap.put(&quot;product2&quot;,-40);\r\n\t\thashmap.put(&quot;product9&quot;,0);\r\n\t\thashmap.put(&quot;product7&quot;,70);\r\n\t\thashmap.put(&quot;product8&quot;,30);\r\n\tMap&lt;String, Integer&gt; map = sortByAbsoluteValue(hashmap);\r\n\r\nWhere `map.toString()` would output\r\n\r\n    {product5=100, product7=70, product2=-40, product8=30, product6=-20, product1=15, product3=10, product4=5, product9=0}","title":"How to sort a java map with a custom comparator on values instead of keys","body":"<p>How can we order the content of a map by comparing its values instead of the value of its keys? For example, how can we implement a method <code>sortByAbsoluteValue</code> that orders the map entries from the one with highest absolute value to lowest absolute value:</p>\n<pre><code>HashMap&lt;String,Integer&gt; hashmap=new HashMap&lt;String,Integer&gt;();\n    hashmap.put(&quot;product5&quot;,100);\n    hashmap.put(&quot;product6&quot;,-20);\n    hashmap.put(&quot;product3&quot;,10);\n    hashmap.put(&quot;product4&quot;,5);\n    hashmap.put(&quot;product1&quot;,15);\n    hashmap.put(&quot;product2&quot;,-40);\n    hashmap.put(&quot;product9&quot;,0);\n    hashmap.put(&quot;product7&quot;,70);\n    hashmap.put(&quot;product8&quot;,30);\nMap&lt;String, Integer&gt; map = sortByAbsoluteValue(hashmap);\n</code></pre>\n<p>Where <code>map.toString()</code> would output</p>\n<pre><code>{product5=100, product7=70, product2=-40, product8=30, product6=-20, product1=15, product3=10, product4=5, product9=0}\n</code></pre>\n"},{"tags":["java","intellij-idea","markdown"],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646708784,"creation_date":1646708784,"answer_id":71389595,"question_id":71388527,"body_markdown":"This is caused by the fact that partial code snippets are not supported yet. See https://youtrack.jetbrains.com/issue/IDEA-267081\r\n\r\nAs a workaround, uncheck the **Preferences | Languages &amp; Frameworks | Markdown | Inject languages in code fences** option: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uiYlD.png","title":"IntelliJ - Formatting Java code in Markdown","body":"<p>This is caused by the fact that partial code snippets are not supported yet. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-267081\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-267081</a></p>\n<p>As a workaround, uncheck the <strong>Preferences | Languages &amp; Frameworks | Markdown | Inject languages in code fences</strong> option:\n<a href=\"https://i.stack.imgur.com/uiYlD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uiYlD.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13961251,"reputation":741,"user_id":10082415,"display_name":"M. Al Jumaily"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71389595,"answer_count":1,"score":3,"last_activity_date":1646708784,"creation_date":1646697136,"question_id":71388527,"body_markdown":"When a Java code snippet is added to Markdown, the indentation is not formatted correctly. For example, having the following code snippet:\r\n~~~\r\n```java\r\nif(x==0){\r\n    if(flag){\r\n        return true;\r\n    }else{\r\n        return false;\r\n    }\r\n}\r\n```\r\n~~~\r\n\r\nwill render the following once the auto-formatter is complete\r\n\r\n~~~\r\n```java\r\nif(x==0){\r\n        if(flag){\r\n        return true;\r\n        }else{\r\n        return false;\r\n        }\r\n        }\r\n```\r\n~~~\r\n\r\nI am certain that this is a part of the language of Java&#39;s settings because replacing `` ```java `` with just `` ``` `` will keep the format as usual.\r\n\r\nHow can I ensure to have IntelliJ format Java code snippets appropriately in Markdown (or ignore autoformat and I would format them myself)?","title":"IntelliJ - Formatting Java code in Markdown","body":"<p>When a Java code snippet is added to Markdown, the indentation is not formatted correctly. For example, having the following code snippet:</p>\n<pre><code>```java\nif(x==0){\n    if(flag){\n        return true;\n    }else{\n        return false;\n    }\n}\n```\n</code></pre>\n<p>will render the following once the auto-formatter is complete</p>\n<pre><code>```java\nif(x==0){\n        if(flag){\n        return true;\n        }else{\n        return false;\n        }\n        }\n```\n</code></pre>\n<p>I am certain that this is a part of the language of Java's settings because replacing <code>```java</code> with just <code>```</code> will keep the format as usual.</p>\n<p>How can I ensure to have IntelliJ format Java code snippets appropriately in Markdown (or ignore autoformat and I would format them myself)?</p>\n"},{"tags":["java","object","json-simple"],"answers":[{"tags":[],"owner":{"account_id":16501074,"reputation":222,"user_id":13541158,"display_name":"Karamveer Gahlot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646708317,"creation_date":1646708317,"answer_id":71389549,"question_id":71389477,"body_markdown":"Simply create a pojo class in the same format. \r\n\r\n    Classs Pojo{\r\n    \r\n    private List&lt;Place&gt; place;\r\n    \r\n    private List&lt;Branch&gt; branch;\r\n    \r\n    // other fields\r\n    \r\n    }\r\n\r\nand use writeValueAsString() from your object mapper to convet it to json.","title":"JSON-Simple. Modify and use complex object","body":"<p>Simply create a pojo class in the same format.</p>\n<pre><code>Classs Pojo{\n\nprivate List&lt;Place&gt; place;\n\nprivate List&lt;Branch&gt; branch;\n\n// other fields\n\n}\n</code></pre>\n<p>and use writeValueAsString() from your object mapper to convet it to json.</p>\n"}],"owner":{"account_id":24486268,"reputation":3,"user_id":18403910,"display_name":"Gabo Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71389549,"answer_count":1,"score":-2,"last_activity_date":1646708317,"creation_date":1646707665,"question_id":71389477,"body_markdown":"I am using the JSON-simple library to parse the Json format. How can I use or modify something to a JSONArray? For e.g. consider the following json\r\n\r\n```\r\n&quot;Place&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;owner 1&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;owner 2&quot;\r\n    }\r\n  ],\r\n  &quot;branch&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;sucursal&quot;,\r\n      &quot;employe&quot;: [\r\n        \r\n      ],\r\n      &quot;clients&quot;: [\r\n        \r\n      ]\r\n    },\r\n```\r\n\r\nI need to add some clients and in the future modify them. How to achieve this?","title":"JSON-Simple. Modify and use complex object","body":"<p>I am using the JSON-simple library to parse the Json format. How can I use or modify something to a JSONArray? For e.g. consider the following json</p>\n<pre><code>&quot;Place&quot;: [\n    {\n      &quot;name&quot;: &quot;owner 1&quot;\n    },\n    {\n      &quot;name&quot;: &quot;owner 2&quot;\n    }\n  ],\n  &quot;branch&quot;: [\n    {\n      &quot;name&quot;: &quot;sucursal&quot;,\n      &quot;employe&quot;: [\n        \n      ],\n      &quot;clients&quot;: [\n        \n      ]\n    },\n</code></pre>\n<p>I need to add some clients and in the future modify them. How to achieve this?</p>\n"},{"tags":["java","string","multidimensional-array","type-conversion","char"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646706759,"post_id":71389367,"comment_id":126185212,"body_markdown":"Your question is not very clear.","body":"Your question is not very clear."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1646706767,"post_id":71389367,"comment_id":126185216,"body_markdown":"`if(tableLetter.equals(letter));{` that is an **unfortunate** semicolon. That makes an `if` with no body. The braces open a semantically independent block. You should indent your code properly. That would have helped.","body":"<code>if(tableLetter.equals(letter));{</code> that is an <b>unfortunate</b> semicolon. That makes an <code>if</code> with no body. The braces open a semantically independent block. You should indent your code properly. That would have helped."},{"owner":{"account_id":24486014,"reputation":1,"user_id":18403679,"display_name":"Ilyas Hirji"},"score":0,"creation_date":1646707047,"post_id":71389367,"comment_id":126185254,"body_markdown":"thank you for helping me, i did see better progress with eliminating that error, however for some reason i am still getting a \njava.lang.StringIndexOutOfBoundsException: String index out of range: 4\n\tat java.lang.String.charAt(Unknown Source)","body":"thank you for helping me, i did see better progress with eliminating that error, however for some reason i am still getting a  java.lang.StringIndexOutOfBoundsException: String index out of range: 4 \tat java.lang.String.charAt(Unknown Source)"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1646707145,"post_id":71389367,"comment_id":126185272,"body_markdown":"It&#39;s OK to do things &quot;the hard way&quot; in order to learn, but there are better ways of searching strings.  Can you back up a few steps and tell us what you are trying to accomplish?  And post your full code, the bit you have provided doesn&#39;t really clarify the question.","body":"It&#39;s OK to do things &quot;the hard way&quot; in order to learn, but there are better ways of searching strings.  Can you back up a few steps and tell us what you are trying to accomplish?  And post your full code, the bit you have provided doesn&#39;t really clarify the question."},{"owner":{"account_id":24486014,"reputation":1,"user_id":18403679,"display_name":"Ilyas Hirji"},"score":0,"creation_date":1646707825,"post_id":71389367,"comment_id":126185382,"body_markdown":"np ill send the full code","body":"np ill send the full code"},{"owner":{"account_id":24486014,"reputation":1,"user_id":18403679,"display_name":"Ilyas Hirji"},"score":0,"creation_date":1646708014,"post_id":71389367,"comment_id":126185413,"body_markdown":"srry this is my first time using this website so im not sure how i can send the full code","body":"srry this is my first time using this website so im not sure how i can send the full code"}],"owner":{"account_id":24486014,"reputation":1,"user_id":18403679,"display_name":"Ilyas Hirji"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646707014,"answer_count":0,"score":0,"last_activity_date":1646706994,"creation_date":1646706463,"question_id":71389367,"body_markdown":"     //searching a word\r\n        String search;\r\n        System.out.println(&quot;Please enter a word you have found:&quot;);//word found from the 2d array grid\r\n        search = kb.nextLine();\r\n        \r\n        System.out.println(&quot;First character of the word: &quot;+search.charAt(0));//testing the split string\r\n        System.out.println(&quot;Length of the word: &quot;+search.length());//length for string\r\n        \r\n        for(int i=0; i&lt;search.length(); i++){\r\n          System.out.println(search.charAt(i));}\r\n        \r\n        int [] answerCheck = new int [search.length()];\r\n        \r\n        String searchLetter;\r\n        String tableLetter;\r\n        \r\n        for (int row=0; row&lt;table.length; row++){\r\n          System.out.println(&quot;Loop &quot;+row);\r\n          searchLetter = String.valueOf(search.charAt(row));//convert char to string\r\n          if (row&gt;answerCheck.length){\r\n            break;}//closes the for-loop\r\n    \r\n          for(int col=0; col&lt;table[row].length; col++){\r\n            tableLetter = table[row][col];\r\n            if(tableLetter.equals(letter));{\r\n            answerCheck[row] = 1;\r\n            System.out.println(table[row][col]+&quot; = &quot;+letter);}}}\r\n\r\nHow can i find the same letter of a char string in a 2d array?\r\n","title":"How do I convert a char to a string to search a 2d array?","body":"<pre><code> //searching a word\n    String search;\n    System.out.println(&quot;Please enter a word you have found:&quot;);//word found from the 2d array grid\n    search = kb.nextLine();\n    \n    System.out.println(&quot;First character of the word: &quot;+search.charAt(0));//testing the split string\n    System.out.println(&quot;Length of the word: &quot;+search.length());//length for string\n    \n    for(int i=0; i&lt;search.length(); i++){\n      System.out.println(search.charAt(i));}\n    \n    int [] answerCheck = new int [search.length()];\n    \n    String searchLetter;\n    String tableLetter;\n    \n    for (int row=0; row&lt;table.length; row++){\n      System.out.println(&quot;Loop &quot;+row);\n      searchLetter = String.valueOf(search.charAt(row));//convert char to string\n      if (row&gt;answerCheck.length){\n        break;}//closes the for-loop\n\n      for(int col=0; col&lt;table[row].length; col++){\n        tableLetter = table[row][col];\n        if(tableLetter.equals(letter));{\n        answerCheck[row] = 1;\n        System.out.println(table[row][col]+&quot; = &quot;+letter);}}}\n</code></pre>\n<p>How can i find the same letter of a char string in a 2d array?</p>\n"},{"tags":["java","javafx","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":7229906,"reputation":526,"user_id":5517149,"accept_rate":75,"display_name":"Aaron Stein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515850195,"creation_date":1515832266,"answer_id":48238216,"question_id":48237645,"body_markdown":"I found 2 solutions to you answer\r\n\r\n**1:**\r\n\r\nDeclare the StringProperty as `static`\r\n\r\n\r\n**OR 2:**\r\n\r\nIn the TextArea Listener just call `toBind.get()`\r\n\r\n*But honestly I don&#39;t know why those work.*","title":"How to add listeners to bidirectionally bound objects","body":"<p>I found 2 solutions to you answer</p>\n\n<p><strong>1:</strong></p>\n\n<p>Declare the StringProperty as <code>static</code></p>\n\n<p><strong>OR 2:</strong></p>\n\n<p>In the TextArea Listener just call <code>toBind.get()</code></p>\n\n<p><em>But honestly I don't know why those work.</em></p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1515852411,"creation_date":1515849545,"answer_id":48240249,"question_id":48237645,"body_markdown":"Your binding, and the `toBind` property, are getting garbage collected.\r\n\r\nA succinct description of the &quot;premature garbage collection&quot; problem is provided by Tomas Mikula on his [blog](http://tomasmikula.github.io/blog/2015/02/10/the-trouble-with-weak-listeners.html).\r\n\r\n---\r\n\r\nFirst, a quick aside for anyone trying to reproduce this issue. Since the behavior described depends on garbage collection occurring, it may not always occur (it depends on memory allocation, the GC implementation being used, and other factors). If you add the line\r\n\r\n    root.setOnMouseClicked(e -&gt; System.gc());\r\n\r\nto the `start()` method, then clicking on the blank area in the scene will request garbage collection, and the issue will (at least be more likely to) manifest itself after that (if it hasn&#39;t already).\r\n\r\n---\r\n\r\nThe problem is that bindings use `WeakListener`s to listen to changes in properties and propagate those changes to the bound properties. A weak listener is designed not to prevent the property to which it is attached from being garbage collected if there are no other live references to that property. (The rationale is to avoid having to force programmers to manually clean up bindings when properties are no longer in scope.)\r\n\r\nIn your example code, the controller and its property `toBind` are eligible for garbage collection.\r\n\r\nAfter the `start()` method completes, all that you are guaranteed to have references to are the `Application` instance created when you call `launch()`, the `Stage` that is shown, and anything referenced from those. This of course includes the `Scene` (referenced by the `Stage`), its `root`, the children of the `root`, their children, etc, properties of those, and (non-weak) listeners on any of those properties.\r\n\r\nSo the `stage` has a reference to the `scene`, which has a reference to the `GridPane` which is its root, and that has a reference to the `TextArea`. \r\n\r\nThe `TextArea` has a reference to the listener that is attached to it, but that listener keeps no additional references.\r\n\r\n(In the second version of your code, the non-weak `ChangeListener` attached to the `textArea.textProperty()` has a reference to `toBind`. So in that version, the `ChangeListener` prevents `toBind` from being GC&#39;d, and you see the output from the listener on it.)\r\n\r\nWhen you load the FXML, the `FXMLLoader` creates the controller instance. While that controller instance has references to the string property and the text area, the reverse is not true. So once loading is complete, there are no live references to the controller, and it is eligible for garbage collection, along with the `StringProperty` it defines. The text area&#39;s `textProperty()` has only a *weak reference* to a listener on `toBind`, so the text area cannot prevent `toBind` being garbage collected.\r\n\r\nIn most real scenarios, this won&#39;t be a problem. You are unlikely to create this additional `StringProperty` unless you are going to use it somewhere. So if you add in any code that uses this in a &quot;natural&quot; way, you are likely to see the issue disappear.\r\n\r\nSo, e.g., suppose you add a label:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;Label fx:id=&quot;label&quot; GridPane.rowIndex=&quot;1&quot;/&gt;\r\n\r\nand bind its text to the property:\r\n\r\n      public void initialize() {\r\n        textArea.textProperty().bindBidirectional(toBind);\r\n    \r\n        textArea.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n          System.out.print(&quot;textArea: &quot;);\r\n          System.out.println(newValue);\r\n        });\r\n    \r\n        toBind.addListener((observable, oldValue, newValue) -&gt; {\r\n          System.out.print(&quot;toBind: &quot;);\r\n          System.out.println(newValue);\r\n        });\r\n        \r\n        label.textProperty().bind(toBind);\r\n      }\r\n\r\nThen the scene has a reference to the label, etc, so it is not GC&#39;d, and the label&#39;s `textProperty` has a weak reference via its binding to `toBind`. Since the `label` is not GC&#39;d, the weak reference survives garbage collection, and `toBind` cannot be GC&#39;d, so you see the output you expect.\r\n\r\nAlternatively, if you reference the `toBind` property elsewhere, e.g. in the `Application` instance:\r\n\r\n    public class Controller {\r\n    \r\n      @FXML\r\n      TextArea textArea;\r\n    \r\n      private StringProperty toBind = new SimpleStringProperty();\r\n    \r\n      public void initialize() {\r\n        textArea.textProperty().bindBidirectional(toBind);\r\n    \r\n        textArea.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n          System.out.print(&quot;textArea: &quot;);\r\n          System.out.println(newValue);\r\n        });\r\n    \r\n        toBind.addListener((observable, oldValue, newValue) -&gt; {\r\n          System.out.print(&quot;toBind: &quot;);\r\n          System.out.println(newValue);\r\n        });\r\n        \r\n      }\r\n      \r\n      public StringProperty boundProperty() {\r\n    \t  return toBind ;\r\n      }\r\n    }\r\n\r\nand then\r\n\r\n    package sample;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \t\r\n    \tprivate StringProperty boundProperty ;\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception{\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;sample.fxml&quot;));\r\n            Parent root = loader.load();\r\n            Controller controller = loader.getController();\r\n            boundProperty = controller.boundProperty();\r\n            root.setOnMouseClicked(e -&gt; System.gc());\r\n            primaryStage.setScene(new Scene(root, 400, 300));\r\n            primaryStage.show();\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nyou again see the expected behavior (even after garbage collection).\r\n\r\nFinally (and this last point gets very subtle), if you replace the listener on `textArea.textProperty()` with an anonymous inner class:\r\n\r\n    textArea.textProperty().addListener(new ChangeListener&lt;String&gt;() {\r\n    \t\r\n      @Override\r\n      public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) {\r\n        System.out.print(&quot;textArea: &quot;);\r\n        System.out.println(newValue);\r\n      }\r\n    });\r\n\r\nthen this also prevents GC of `toBind`. The reason here is that instances of anonymous inner classes contain implicit references to the enclosing instance (i.e. the instance of the controller in this case): and here the controller keeps a reference to `toBind`. Lambda expressions, by contrast, don&#39;t do this.\r\n","title":"How to add listeners to bidirectionally bound objects","body":"<p>Your binding, and the <code>toBind</code> property, are getting garbage collected.</p>\n\n<p>A succinct description of the \"premature garbage collection\" problem is provided by Tomas Mikula on his <a href=\"http://tomasmikula.github.io/blog/2015/02/10/the-trouble-with-weak-listeners.html\" rel=\"nofollow noreferrer\">blog</a>.</p>\n\n<hr>\n\n<p>First, a quick aside for anyone trying to reproduce this issue. Since the behavior described depends on garbage collection occurring, it may not always occur (it depends on memory allocation, the GC implementation being used, and other factors). If you add the line</p>\n\n<pre><code>root.setOnMouseClicked(e -&gt; System.gc());\n</code></pre>\n\n<p>to the <code>start()</code> method, then clicking on the blank area in the scene will request garbage collection, and the issue will (at least be more likely to) manifest itself after that (if it hasn't already).</p>\n\n<hr>\n\n<p>The problem is that bindings use <code>WeakListener</code>s to listen to changes in properties and propagate those changes to the bound properties. A weak listener is designed not to prevent the property to which it is attached from being garbage collected if there are no other live references to that property. (The rationale is to avoid having to force programmers to manually clean up bindings when properties are no longer in scope.)</p>\n\n<p>In your example code, the controller and its property <code>toBind</code> are eligible for garbage collection.</p>\n\n<p>After the <code>start()</code> method completes, all that you are guaranteed to have references to are the <code>Application</code> instance created when you call <code>launch()</code>, the <code>Stage</code> that is shown, and anything referenced from those. This of course includes the <code>Scene</code> (referenced by the <code>Stage</code>), its <code>root</code>, the children of the <code>root</code>, their children, etc, properties of those, and (non-weak) listeners on any of those properties.</p>\n\n<p>So the <code>stage</code> has a reference to the <code>scene</code>, which has a reference to the <code>GridPane</code> which is its root, and that has a reference to the <code>TextArea</code>. </p>\n\n<p>The <code>TextArea</code> has a reference to the listener that is attached to it, but that listener keeps no additional references.</p>\n\n<p>(In the second version of your code, the non-weak <code>ChangeListener</code> attached to the <code>textArea.textProperty()</code> has a reference to <code>toBind</code>. So in that version, the <code>ChangeListener</code> prevents <code>toBind</code> from being GC'd, and you see the output from the listener on it.)</p>\n\n<p>When you load the FXML, the <code>FXMLLoader</code> creates the controller instance. While that controller instance has references to the string property and the text area, the reverse is not true. So once loading is complete, there are no live references to the controller, and it is eligible for garbage collection, along with the <code>StringProperty</code> it defines. The text area's <code>textProperty()</code> has only a <em>weak reference</em> to a listener on <code>toBind</code>, so the text area cannot prevent <code>toBind</code> being garbage collected.</p>\n\n<p>In most real scenarios, this won't be a problem. You are unlikely to create this additional <code>StringProperty</code> unless you are going to use it somewhere. So if you add in any code that uses this in a \"natural\" way, you are likely to see the issue disappear.</p>\n\n<p>So, e.g., suppose you add a label:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Label fx:id=\"label\" GridPane.rowIndex=\"1\"/&gt;\n</code></pre>\n\n<p>and bind its text to the property:</p>\n\n<pre><code>  public void initialize() {\n    textArea.textProperty().bindBidirectional(toBind);\n\n    textArea.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n      System.out.print(\"textArea: \");\n      System.out.println(newValue);\n    });\n\n    toBind.addListener((observable, oldValue, newValue) -&gt; {\n      System.out.print(\"toBind: \");\n      System.out.println(newValue);\n    });\n\n    label.textProperty().bind(toBind);\n  }\n</code></pre>\n\n<p>Then the scene has a reference to the label, etc, so it is not GC'd, and the label's <code>textProperty</code> has a weak reference via its binding to <code>toBind</code>. Since the <code>label</code> is not GC'd, the weak reference survives garbage collection, and <code>toBind</code> cannot be GC'd, so you see the output you expect.</p>\n\n<p>Alternatively, if you reference the <code>toBind</code> property elsewhere, e.g. in the <code>Application</code> instance:</p>\n\n<pre><code>public class Controller {\n\n  @FXML\n  TextArea textArea;\n\n  private StringProperty toBind = new SimpleStringProperty();\n\n  public void initialize() {\n    textArea.textProperty().bindBidirectional(toBind);\n\n    textArea.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n      System.out.print(\"textArea: \");\n      System.out.println(newValue);\n    });\n\n    toBind.addListener((observable, oldValue, newValue) -&gt; {\n      System.out.print(\"toBind: \");\n      System.out.println(newValue);\n    });\n\n  }\n\n  public StringProperty boundProperty() {\n      return toBind ;\n  }\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>package sample;\n\nimport javafx.application.Application;\nimport javafx.beans.property.StringProperty;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    private StringProperty boundProperty ;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\"sample.fxml\"));\n        Parent root = loader.load();\n        Controller controller = loader.getController();\n        boundProperty = controller.boundProperty();\n        root.setOnMouseClicked(e -&gt; System.gc());\n        primaryStage.setScene(new Scene(root, 400, 300));\n        primaryStage.show();\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>you again see the expected behavior (even after garbage collection).</p>\n\n<p>Finally (and this last point gets very subtle), if you replace the listener on <code>textArea.textProperty()</code> with an anonymous inner class:</p>\n\n<pre><code>textArea.textProperty().addListener(new ChangeListener&lt;String&gt;() {\n\n  @Override\n  public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) {\n    System.out.print(\"textArea: \");\n    System.out.println(newValue);\n  }\n});\n</code></pre>\n\n<p>then this also prevents GC of <code>toBind</code>. The reason here is that instances of anonymous inner classes contain implicit references to the enclosing instance (i.e. the instance of the controller in this case): and here the controller keeps a reference to <code>toBind</code>. Lambda expressions, by contrast, don't do this.</p>\n"}],"owner":{"account_id":9697100,"reputation":112,"user_id":7193176,"display_name":"Cipher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48240249,"answer_count":2,"score":4,"last_activity_date":1646706674,"creation_date":1515826817,"question_id":48237645,"body_markdown":"I am trying to bind a TextArea&#39;s textProperty to a StringProperty in controller&#39;s initialize() method.\r\n\r\nBoth of them are listened by listeners to perform some behavior when value changes.\r\n\r\nBut something weird happens.\r\n\r\nI build a simple model to reproduce the situation.\r\n\r\n\r\nMain.java\r\n\r\n    package sample;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception{\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n            primaryStage.setScene(new Scene(root, 400, 300));\r\n            primaryStage.show();\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n    \r\n\r\nsample.fxml\r\n\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.TextArea?&gt;\r\n    &lt;GridPane fx:controller=&quot;sample.Controller&quot;\r\n              xmlns:fx=&quot;http://javafx.com/fxml&quot; alignment=&quot;center&quot; hgap=&quot;10&quot; vgap=&quot;10&quot;\r\n              prefHeight=&quot;300&quot; prefWidth=&quot;400&quot;&gt;\r\n      &lt;TextArea fx:id=&quot;textArea&quot;/&gt;\r\n    &lt;/GridPane&gt;\r\n\r\n\r\nI don&#39;t think the above code is relevant to this question. But just in case, I put it here. \r\n\r\nHere is the Controller.\r\n\r\nController.java\r\n\r\n    package sample;\r\n    \r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TextArea;\r\n    \r\n    public class Controller {\r\n    \r\n      @FXML\r\n      TextArea textArea;\r\n    \r\n      private StringProperty toBind = new SimpleStringProperty();\r\n    \r\n      public void initialize() {\r\n        textArea.textProperty().bindBidirectional(toBind);\r\n    \r\n        textArea.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n          System.out.print(&quot;textArea: &quot;);\r\n          System.out.println(newValue);\r\n        });\r\n    \r\n        toBind.addListener((observable, oldValue, newValue) -&gt; {\r\n          System.out.print(&quot;toBind: &quot;);\r\n          System.out.println(newValue);\r\n        });\r\n      }\r\n    }\r\n\r\nWith this controller, when I input the sequence &#39;abcd&#39; to the textarea, I get:\r\n\r\n    textArea: a\r\n    textArea: ab\r\n    textArea: abc\r\n    textArea: abcd\r\n\r\nIt seems that the change event for the toBind object is not fired.\r\n\r\nSo then I tried to print the value of toBind in textArea&#39;s Listener.\r\n\r\nThe new code is:\r\n\r\n    package sample;\r\n    \r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TextArea;\r\n    \r\n    public class Controller {\r\n    \r\n      @FXML\r\n      TextArea textArea;\r\n    \r\n      private StringProperty toBind = new SimpleStringProperty();\r\n    \r\n      public void initialize() {\r\n        textArea.textProperty().bindBidirectional(toBind);\r\n    \r\n        textArea.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n          System.out.print(&quot;textArea: &quot;);\r\n          System.out.println(newValue);\r\n    \r\n          // ----- New statements. -----\r\n          System.out.print(&quot;toBind value in textArea: &quot;);\r\n          System.out.println(toBind.get());\r\n          // ----- New statements. -----\r\n        });\r\n    \r\n        toBind.addListener((observable, oldValue, newValue) -&gt; {\r\n          System.out.print(&quot;toBind: &quot;);\r\n          System.out.println(newValue);\r\n        });\r\n      }\r\n    }\r\n\r\nThen I got:\r\n\r\n    toBind: a\r\n    textArea: a\r\n    toBind value in textArea: a\r\n    toBind: ab\r\n    textArea: ab\r\n    toBind value in textArea: ab\r\n    toBind: abc\r\n    textArea: abc\r\n    toBind value in textArea: abc\r\n    toBind: abcd\r\n    textArea: abcd\r\n    toBind value in textArea: abcd\r\n\r\nWhy does this happen? The event is fired properly.\r\n","title":"How to add listeners to bidirectionally bound objects","body":"<p>I am trying to bind a TextArea's textProperty to a StringProperty in controller's initialize() method.</p>\n\n<p>Both of them are listened by listeners to perform some behavior when value changes.</p>\n\n<p>But something weird happens.</p>\n\n<p>I build a simple model to reproduce the situation.</p>\n\n<p>Main.java</p>\n\n<pre><code>package sample;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(\"sample.fxml\"));\n        primaryStage.setScene(new Scene(root, 400, 300));\n        primaryStage.show();\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>sample.fxml</p>\n\n<pre><code>&lt;?import javafx.scene.layout.GridPane?&gt;\n\n&lt;?import javafx.scene.control.TextArea?&gt;\n&lt;GridPane fx:controller=\"sample.Controller\"\n          xmlns:fx=\"http://javafx.com/fxml\" alignment=\"center\" hgap=\"10\" vgap=\"10\"\n          prefHeight=\"300\" prefWidth=\"400\"&gt;\n  &lt;TextArea fx:id=\"textArea\"/&gt;\n&lt;/GridPane&gt;\n</code></pre>\n\n<p>I don't think the above code is relevant to this question. But just in case, I put it here. </p>\n\n<p>Here is the Controller.</p>\n\n<p>Controller.java</p>\n\n<pre><code>package sample;\n\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextArea;\n\npublic class Controller {\n\n  @FXML\n  TextArea textArea;\n\n  private StringProperty toBind = new SimpleStringProperty();\n\n  public void initialize() {\n    textArea.textProperty().bindBidirectional(toBind);\n\n    textArea.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n      System.out.print(\"textArea: \");\n      System.out.println(newValue);\n    });\n\n    toBind.addListener((observable, oldValue, newValue) -&gt; {\n      System.out.print(\"toBind: \");\n      System.out.println(newValue);\n    });\n  }\n}\n</code></pre>\n\n<p>With this controller, when I input the sequence 'abcd' to the textarea, I get:</p>\n\n<pre><code>textArea: a\ntextArea: ab\ntextArea: abc\ntextArea: abcd\n</code></pre>\n\n<p>It seems that the change event for the toBind object is not fired.</p>\n\n<p>So then I tried to print the value of toBind in textArea's Listener.</p>\n\n<p>The new code is:</p>\n\n<pre><code>package sample;\n\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextArea;\n\npublic class Controller {\n\n  @FXML\n  TextArea textArea;\n\n  private StringProperty toBind = new SimpleStringProperty();\n\n  public void initialize() {\n    textArea.textProperty().bindBidirectional(toBind);\n\n    textArea.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n      System.out.print(\"textArea: \");\n      System.out.println(newValue);\n\n      // ----- New statements. -----\n      System.out.print(\"toBind value in textArea: \");\n      System.out.println(toBind.get());\n      // ----- New statements. -----\n    });\n\n    toBind.addListener((observable, oldValue, newValue) -&gt; {\n      System.out.print(\"toBind: \");\n      System.out.println(newValue);\n    });\n  }\n}\n</code></pre>\n\n<p>Then I got:</p>\n\n<pre><code>toBind: a\ntextArea: a\ntoBind value in textArea: a\ntoBind: ab\ntextArea: ab\ntoBind value in textArea: ab\ntoBind: abc\ntextArea: abc\ntoBind value in textArea: abc\ntoBind: abcd\ntextArea: abcd\ntoBind value in textArea: abcd\n</code></pre>\n\n<p>Why does this happen? The event is fired properly.</p>\n"},{"tags":["java","android-studio","arraylist","android-sensors"],"comments":[{"owner":{"account_id":24324131,"reputation":405,"user_id":18263961,"display_name":"iLittleWizard"},"score":0,"creation_date":1646703579,"post_id":71389089,"comment_id":126184741,"body_markdown":"_&quot;Now when I run the app, it only crashes.&quot;_, can you provide the crash log?","body":"<i>&quot;Now when I run the app, it only crashes.&quot;</i>, can you provide the crash log?"},{"owner":{"account_id":24485756,"reputation":1,"user_id":18403466,"display_name":"AStudent"},"score":0,"creation_date":1646703904,"post_id":71389089,"comment_id":126184795,"body_markdown":"@iLittleWizard That would have been helpful! It&#39;s quite long, and me being a newbie, I have no idea where to start when looking at the debug logs. It&#39;s too long, so I will update my post with the debug logs.","body":"@iLittleWizard That would have been helpful! It&#39;s quite long, and me being a newbie, I have no idea where to start when looking at the debug logs. It&#39;s too long, so I will update my post with the debug logs."}],"answers":[{"tags":[],"owner":{"account_id":24324131,"reputation":405,"user_id":18263961,"display_name":"iLittleWizard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646704425,"creation_date":1646704425,"answer_id":71389181,"question_id":71389089,"body_markdown":"From the debug log you&#39;ve provided\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.servicesassignmentone, PID: 28780 java.lang.ClassCastException: com.example.servicesassignmentone.Accelerometer cannot be cast to java.lang.CharSequence\r\n\r\nThe problem happens at MainActivity.java:120 (Line 120)\r\n\r\n    for (int i = 0; i &lt; accelerometerListValues.size(); i++) {\r\n        Accelerometer output = accelerometerListValues.get(i);\r\n        accelerometerX.setText((CharSequence) output); // Program crash at this line\r\n    }\r\n\r\nVariable `output` is a `Accelerometer`, but you are casting it to a `CharSequence`. I have no idea how `com.example.servicesassignmentone.Accelerometer` looks like as you didn&#39;t show the code, but I am sure that there is probably a method for you to access it&#39;s value.","title":"Setting Android motion sensors into an array and displaying the value","body":"<p>From the debug log you've provided</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.servicesassignmentone, PID: 28780 java.lang.ClassCastException: com.example.servicesassignmentone.Accelerometer cannot be cast to java.lang.CharSequence\n</code></pre>\n<p>The problem happens at MainActivity.java:120 (Line 120)</p>\n<pre><code>for (int i = 0; i &lt; accelerometerListValues.size(); i++) {\n    Accelerometer output = accelerometerListValues.get(i);\n    accelerometerX.setText((CharSequence) output); // Program crash at this line\n}\n</code></pre>\n<p>Variable <code>output</code> is a <code>Accelerometer</code>, but you are casting it to a <code>CharSequence</code>. I have no idea how <code>com.example.servicesassignmentone.Accelerometer</code> looks like as you didn't show the code, but I am sure that there is probably a method for you to access it's value.</p>\n"}],"owner":{"account_id":24485756,"reputation":1,"user_id":18403466,"display_name":"AStudent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646729601,"answer_count":1,"score":0,"last_activity_date":1646704425,"creation_date":1646703379,"question_id":71389089,"body_markdown":"I&#39;m looking for some help. I took an android programming class and we need to build an app that takes sensor data (accelerometer, gyroscope, and magnetic field) into an array, and display the values. Unfortunately, I only know basic Java and I feel a bit stuck with some of the logic. \r\n\r\nI started my app by displaying the real time values of the sensors. I got that working, but it&#39;s too noisy and not accurate. So I am trying to store the values generated from the sensor to an array, then display those values in a TextView. Now when I run the app, it only crashes. I am not sure what I am missing, but it is probably some Java logic. \r\nIn total, I have the UI set up properly. I have the MainActivity.java, and separate java classes to collect the sensor data set up with getters and setters. \r\n\r\nThe MainActivity code:\r\n```\r\npackage com.example.servicesassignmentone;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorEvent;\r\nimport android.hardware.SensorEventListener;\r\nimport android.hardware.SensorManager;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity implements SensorEventListener{\r\n    private Button myButton;\r\n    Handler myHandler = new Handler();\r\n\r\n    private TextView accelerometerX, accelerometerY, accelerometerZ;\r\n    private SensorManager sensorManager;\r\n    private Sensor sensorAccelerometer;\r\n    private boolean sensorAccelerometerSet = false;\r\n    private List&lt;Accelerometer&gt; accelerometerListValues = new ArrayList&lt;Accelerometer&gt;();\r\n\r\n    private TextView gyroscopeX, gyroscopeY, gyroscopeZ;\r\n    private Sensor sensorGyroscope;\r\n    private boolean sensorGyroscopeSet = false;\r\n    private List&lt;Gyroscope&gt; gyroscopeLastValues = new ArrayList&lt;Gyroscope&gt;();\r\n\r\n    private TextView magFieldX, magFieldY, magFieldZ;\r\n    private Sensor sensorMagField;\r\n    private boolean sensorMagFieldSet = false;\r\n    private List&lt;MagField&gt; magFieldLastValues = new ArrayList&lt;MagField&gt;();\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // button and UI initialization\r\n        myButton = (Button) findViewById(R.id.myButton);\r\n        //Accelerometer\r\n        accelerometerX = (TextView) findViewById(R.id.textViewAccX);\r\n        accelerometerY = (TextView) findViewById(R.id.textViewAccY);\r\n        accelerometerZ = (TextView) findViewById(R.id.textViewAccZ);\r\n        //Gyroscope\r\n        gyroscopeX = (TextView) findViewById(R.id.textViewGyroX);\r\n        gyroscopeY = (TextView) findViewById(R.id.textViewGyroY);\r\n        gyroscopeZ = (TextView) findViewById(R.id.textViewGyroZ);\r\n        //Magnetic Field\r\n        magFieldX = (TextView) findViewById(R.id.textViewMagX);\r\n        magFieldY = (TextView) findViewById(R.id.textViewMagY);\r\n        magFieldZ = (TextView) findViewById(R.id.textViewMagZ);\r\n\r\n        // initializing the sensor manager\r\n        sensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\r\n        // initializing the different sensors\r\n        sensorAccelerometer = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n        sensorGyroscope = sensorManager.getDefaultSensor(Sensor.TYPE_GYROSCOPE);\r\n        sensorMagField = sensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD);\r\n\r\n        myButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                switch (view.getId()){\r\n                    case R.id.myButton:\r\n                    sensorManager.registerListener((SensorEventListener) MainActivity.this, sensorAccelerometer, SensorManager.SENSOR_DELAY_FASTEST);\r\n                    sensorManager.registerListener((SensorEventListener) MainActivity.this, sensorGyroscope, SensorManager.SENSOR_DELAY_FASTEST);\r\n                    sensorManager.registerListener((SensorEventListener) MainActivity.this, sensorMagField, SensorManager.SENSOR_DELAY_FASTEST);\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        sensorAccelerometerSet = false;\r\n        sensorGyroscopeSet = false;\r\n        sensorMagFieldSet = false;\r\n        sensorManager.registerListener((SensorEventListener) this, sensorAccelerometer, SensorManager.SENSOR_DELAY_FASTEST);\r\n        sensorManager.registerListener((SensorEventListener) this, sensorGyroscope, SensorManager.SENSOR_DELAY_FASTEST);\r\n        sensorManager.registerListener((SensorEventListener) this, sensorMagField, SensorManager.SENSOR_DELAY_FASTEST);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        sensorManager.unregisterListener((SensorEventListener) this);\r\n    }\r\n\r\n\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent sensorEvent) {\r\n\r\n        //Using the arraylist\r\n        Float accelerValuesX, accelerValuesY, accelerValuesZ;\r\n        Float gyroValuesX, gyroValuesY, gyroValuesZ;\r\n        Float magValuesX, magValuesY, magValuesZ;\r\n\r\n       //if (accelerometerListValues.size() &gt;= 500 &amp;&amp; gyroscopeLastValues.size() &gt;= 500 &amp;&amp; magFieldLastValues.size() &gt;= 500) {\r\n       //}\r\n\r\n        if (sensorEvent.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {\r\n            accelerValuesX = sensorEvent.values[0];\r\n            accelerValuesY = sensorEvent.values[1];\r\n            accelerValuesZ = sensorEvent.values[2];\r\n          accelerometerListValues.add(new Accelerometer(accelerValuesX, accelerValuesY, accelerValuesZ));\r\n          for (int i = 0; i &lt; accelerometerListValues.size(); i++) {\r\n              Accelerometer output = accelerometerListValues.get(i);\r\n              accelerometerX.setText((CharSequence) output);\r\n          }\r\n            }\r\n        if (sensorEvent.sensor.getType() == Sensor.TYPE_GYROSCOPE) {\r\n            gyroValuesX = sensorEvent.values[0];\r\n            gyroValuesY = sensorEvent.values[1];\r\n            gyroValuesZ = sensorEvent.values[2];\r\n            gyroscopeLastValues.add(new Gyroscope(gyroValuesX, gyroValuesY, gyroValuesZ));\r\n            for (int i = 0; i &lt; gyroscopeLastValues.size(); i++) {\r\n                 Gyroscope output = gyroscopeLastValues.get(i);\r\n                gyroscopeX.setText((CharSequence) output);\r\n            }\r\n        }\r\n        if (sensorEvent.sensor.getType() == Sensor.TYPE_MAGNETIC_FIELD) {\r\n            magValuesX = sensorEvent.values[0];\r\n            magValuesY = sensorEvent.values[1];\r\n            magValuesZ = sensorEvent.values[2];\r\n            magFieldLastValues.add(new MagField(magValuesX, magValuesY, magValuesZ));\r\n            for (int i = 0; i &lt; magFieldLastValues.size(); i++) {\r\n                MagField output = magFieldLastValues.get(i);\r\n                magFieldX.setText((CharSequence) output);\r\n            }\r\n        }\r\n\r\n```\r\n\r\nThe debugging log is very long:\r\n    --------- beginning of crash\r\n2022-03-07 20:42:59.962 28780-28780/com.example.servicesassignmentone E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.servicesassignmentone, PID: 28780\r\n    java.lang.ClassCastException: com.example.servicesassignmentone.Accelerometer cannot be cast to java.lang.CharSequence\r\n        at com.example.servicesassignmentone.MainActivity.onSensorChanged(MainActivity.java:120)\r\n        at android.hardware.SystemSensorManager$SensorEventQueue.dispatchSensorEvent(SystemSensorManager.java:900)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:342)\r\n        at android.os.Looper.loop(Looper.java:197)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7803)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:958)\r\n2022-03-07 20:42:59.970 2108-28828/? I/DropBoxManagerService: add tag=data_app_crash isTagEnabled=true flags=0x2\r\n2022-03-07 20:42:59.971 2108-3891/? W/ActivityTaskManager:   Force finishing activity com.example.servicesassignmentone/.MainActivity\r\n2022-03-07 20:43:00.011 2108-2282/? W/BroadcastQueue: Background execution not allowed: receiving Intent { act=android.intent.action.DROPBOX_ENTRY_ADDED flg=0x10 (has extras) } to com.google.android.gms/.stats.service.DropBoxEntryAddedReceiver\r\n2022-03-07 20:43:00.012 2108-2282/? W/BroadcastQueue: Background execution not allowed: receiving Intent { act=android.intent.action.DROPBOX_ENTRY_ADDED flg=0x10 (has extras) } to com.google.android.gms/.chimera.GmsIntentOperationService$PersistentTrustedReceiver\r\n2022-03-07 20:43:00.018 28780-28780/com.example.servicesassignmentone I/Process: Sending signal. PID: 28780 SIG: 9\r\n2022-03-07 20:43:00.030 5605-5638/? W/DynamicVolume-DynamicVolumeService: onForegroundActivitiesChanged, but feature not opened, ignore! \r\n2022-03-07 20:43:00.059 1106-1218/? E/qdmetadata: paramType 2048 not supported\r\n2022-03-07 20:43:00.068 2108-9083/? I/ActivityManager: Process com.example.servicesassignmentone (pid 28780) has died: prcp TOP \r\n2022-03-07 20:43:00.069 2108-3891/? I/WindowManager: WIN DEATH: Window{6c0ef4 u0 com.example.servicesassignmentone/com.example.servicesassignmentone.MainActivity}\r\n2022-03-07 20:43:00.069 2108-3891/? W/InputDispatcher: Attempted to unregister already unregistered input channel &#39;6c0ef4 com.example.servicesassignmentone/com.example.servicesassignmentone.MainActivity (server)&#39;\r\n2022-03-07 20:43:00.069 1097-1097/? I/sensors-hal: batch:242, android.sensor.accelerometer/11, period=200000000, max_latency=0\r\n2022-03-07 20:43:00.069 1097-1097/? I/sensors-hal: set_config:63, sample_period_ns is adjusted to 200000000 based on min/max delay_ns\r\n2022-03-07 20:43:00.069 1097-1097/? I/sensors-hal: batch:251, android.sensor.accelerometer/11, period=200000000, max_latency=0 request completed\r\n2022-03-07 20:43:00.071 1097-1097/? I/sensors-hal: activate:209, android.sensor.magnetic_field/21 en=0\r\n2022-03-07 20:43:00.075 1097-28701/? I/sensors-hal: ssc_conn_resp_cb:654, resp_value = 0\r\n2022-03-07 20:43:00.076 1097-1097/? E/Diag_Lib: diag: Diag_LSM_DeInit done for pid: 1097\r\n2022-03-07 20:43:00.076 1097-1097/? I/sensors-hal: activate:220, android.sensor.magnetic_field/21 en=0 completed\r\n2022-03-07 20:43:00.076 1097-1097/? I/sensors-hal: activate:209, android.sensor.gyroscope/41 en=0\r\n2022-03-07 20:43:00.078 1195-1219/? E/adsprpcd: vendor/qcom/proprietary/commonsys-intf/adsprpc/src/apps_std_imp.c:596:Error 0xffffffff: apps_std getenv failed: ADSP_LIBRARY_PATH Unknown error -1\r\n2022-03-07 20:43:00.079 1195-1219/? I/adsprpcd: vendor/qcom/proprietary/commonsys-intf/adsprpc/src/apps_std_imp.c:777: Successfully opened file /mnt/vendor/persist/sensors/registry/temp.json\r\n2022-03-07 20:43:00.082 1097-1097/? E/Diag_Lib: diag: Diag_LSM_DeInit done for pid: 1097\r\n2022-03-07 20:43:00.083 1195-1219/? E/adsprpcd: vendor/qcom/proprietary/commonsys-intf/adsprpc/src/apps_std_imp.c:596:Error 0xffffffff: apps_std getenv failed: ADSP_LIBRARY_PATH Unknown error -1\r\n2022-03-07 20:43:00.083 1195-1219/? I/adsprpcd: vendor/qcom/proprietary/commonsys-intf/adsprpc/src/apps_std_imp.c:777: Successfully opened file /mnt/vendor/persist/sensors/registry/temp.json\r\n2022-03-07 20:43:00.083 1097-1097/? E/Diag_Lib: diag: Diag_LSM_DeInit done for pid: 1097\r\n2022-03-07 20:43:00.083 1097-1097/? I/sensors-hal: activate:220, android.sensor.gyroscope/41 en=0 completed\r\n2022-03-07 20:43:00.088 1001-1001/? I/Zygote: Process 28780 exited due to signal 9 (Killed)\r\n2022-03-07 20:43:00.099 2108-2315/? I/libprocessgroup: Successfully killed process cgroup uid 10298 pid 28780 in 29ms\r\n2022-03-07 20:43:00.109 3818-3838/? I/ndroid.systemu: NativeAlloc concurrent copying GC freed 13956(730KB) AllocSpace objects, 0(0B) LOS objects, 49% free, 8443KB/16MB, paused 76us total 105.730ms\r\n2022-03-07 20:43:00.122 3818-3844/? W/System: A resource failed to call release. \r\n2022-03-07 20:43:00.131 2108-2259/? W/ActivityManager: setHasOverlayUi called on unknown pid: 28780\r\n2022-03-07 20:43:00.145 2108-2260/? I/WindowManager: SURFACE show Surface(name=com.android.systemui.ImageWallpaper)/@0x704dd96 on display:0\r\n2022-03-07 20:43:00.146 2108-2259/? E/SystemServiceRegistry: No service published for: payjoy_access_service\r\n    android.os.ServiceManager$ServiceNotFoundException: No service published for: payjoy_access_service\r\n        at android.os.ServiceManager.getServiceOrThrow(ServiceManager.java:153)\r\n        at android.app.SystemServiceRegistry$126.createService(SystemServiceRegistry.java:1694)\r\n        at android.app.SystemServiceRegistry$StaticServiceFetcher.getService(SystemServiceRegistry.java:1919)\r\n        at android.app.SystemServiceRegistry.getSystemService(SystemServiceRegistry.java:1517)\r\n        at android.app.ContextImpl.getSystemService(ContextImpl.java:1938)\r\n        at com.android.server.wm.ActivityStack.shouldSendPayJoyBroadcast(ActivityStack.java:3644)\r\n        at com.android.server.wm.ActivityStack.access$000(ActivityStack.java:188)\r\n        at com.android.server.wm.ActivityStack$ActivityStackHandler.handleMessage(ActivityStack.java:316)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:250)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n        at com.android.server.ServiceThread.run(ServiceThread.java:44)\r\n2022-03-07 20:43:00.146 2108-2259/? E/SystemServiceRegistry: Manager wrapper not available: payjoy_access_service\r\n2022-03-07 20:43:00.148 2108-2260/? I/WindowManager: SURFACE show Surface(name=com.motorola.launcher3/com.android.launcher3.CustomizationPanelLauncher)/@0x43cd0d3 on display:0\r\n2022-03-07 20:43:00.148 2108-2260/? I/WindowManager: SURFACE show Surface(name=com.motorola.launcher3/com.android.launcher3.CustomizationPanelLauncher)/@0xbb76410 on display:0\r\n2022-03-07 20:43:00.157 5263-5263/? I/GsaVoiceInteractionSrv: Handling ACTION_START_HOTWORD\r\n2022-03-07 20:43:00.160 1106-1218/? E/qdmetadata: paramType 2048 not supported\r\n2022-03-07 20:43:00.160 1106-1218/? E/qdmetadata: paramType 2048 not supported\r\n2022-03-07 20:43:00.161 5263-5933/? I/GsaVoiceInteractionSrv: disregardVoiceMatch: false\r\n2022-03-07 20:43:00.162 5263-5933/? I/GsaVoiceInteractionSrv: Cannot start hotword, hotword has been explicitly disabled.\r\n2022-03-07 20:43:00.167 1111-1111/? I/QTI PowerHAL: Power setMode: 5 to: 0\r\n2022-03-07 20:43:00.168 5103-5103/? I/GoogleInputMethodService: GoogleInputMethodService.onFinishInput():3210 \r\n2022-03-07 20:43:00.175 5103-5103/? I/GoogleInputMethodService: GoogleInputMethodService.updateDeviceLockedStatus():2099 checkRepeatedly = false, unlocked = true\r\n2022-03-07 20:43:00.175 5103-5103/? I/GoogleInputMethodService: GoogleInputMethodService.onStartInput():1907 onStartInput(EditorInfo{inputType=0x0(NULL) imeOptions=0x0 privateImeOptions=null actionName=UNSPECIFIED actionLabel=null actionId=0 initialSelStart=-1 initialSelEnd=-1 initialCapsMode=0x0 hintText=null label=null packageName=com.motorola.launcher3 fieldId=-1 fieldName=null extras=null}, false)\r\n2022-03-07 20:43:00.177 5103-5103/? I/GoogleInputMethodService: GoogleInputMethodService.updateDeviceLockedStatus():2099 checkRepeatedly = true, unlocked = true\r\n2022-03-07 20:43:00.263 5537-5556/? D/AssistReceiver: call: lightWakeup | null | null\r\n2022-03-07 20:43:00.284 1106-1218/? E/qdmetadata: paramType 2048 not supported\r\n2022-03-07 20:43:00.476 2108-2259/? W/ActivityTaskManager: Activity top resumed state loss timeout for ActivityRecord{c3cd9a0 u0 com.example.servicesassignmentone/.MainActivity t-1 f}}\r\n2022-03-07 20:43:00.484 4941-4941/? D/GameMode: isScreenUnlocked: true\r\n2022-03-07 20:43:00.486 4941-4941/? D/GameMode: exiting game mode\r\n2022-03-07 20:43:00.491 4941-4941/? D/GameMode: reset : false\r\n2022-03-07 20:43:00.491 4941-4941/? D/GameMode: reset: \r\n2022-03-07 20:43:00.491 4941-4941/? D/GameMode: isFeatureSupported: false\r\n2022-03-07 20:43:00.495 4941-7481/? D/MFL: getFreeFormPackages: is blank\r\n2022-03-07 20:43:00.496 4941-7481/? D/MFL: getDensityIndependentPixel: smallest width = 411\r\n2022-03-07 20:43:00.497 4941-7481/? D/MFL: getLaunchRect: margin = 0\r\n2022-03-07 20:43:00.708 22132-22132/? W/DetectPable: type=1400 audit(0.0:135965): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:00.708 22132-22132/? W/DetectPable: type=1400 audit(0.0:135966): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\r\n2022-03-07 20:43:00.708 22132-22132/? W/DetectPable: type=1400 audit(0.0:135967): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\r\n2022-03-07 20:43:00.708 22132-22132/? W/DetectPable: type=1400 audit(0.0:135968): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:00.708 22132-22132/? W/DetectPable: type=1400 audit(0.0:135969): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\r\n2022-03-07 20:43:01.768 22132-22132/? W/DetectPable: type=1400 audit(0.0:136005): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:01.768 22132-22132/? W/DetectPable: type=1400 audit(0.0:136006): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\r\n2022-03-07 20:43:01.768 22132-22132/? W/DetectPable: type=1400 audit(0.0:136007): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\r\n2022-03-07 20:43:01.773 1112-1137/? I/android.hardware.thermal@2.0-service.qti: uevent triggered for sensor: msm_therm\r\n2022-03-07 20:43:01.768 22132-22132/? W/DetectPable: type=1400 audit(0.0:136008): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:01.771 22132-22132/? W/DetectPable: type=1400 audit(0.0:136009): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\r\n2022-03-07 20:43:02.828 22132-22132/? W/DetectPable: type=1400 audit(0.0:136045): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:02.828 22132-22132/? W/DetectPable: type=1400 audit(0.0:136046): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\r\n2022-03-07 20:43:02.828 22132-22132/? W/DetectPable: type=1400 audit(0.0:136047): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\r\n2022-03-07 20:43:02.828 22132-22132/? W/DetectPable: type=1400 audit(0.0:136048): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:02.828 22132-22132/? W/DetectPable: type=1400 audit(0.0:136049): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\r\n2022-03-07 20:43:02.954 1097-2576/? I/slpi: ALS_OC LUX:6.20,SCALE:0.99, CH0:50, CH1:54, aT:198.80, aG:138\r\n2022-03-07 20:43:03.142 5966-6209/? I/WorkerManager: dispose()\r\n2022-03-07 20:43:03.150 1097-2576/? I/slpi: ALS_OC LUX:5.10,SCALE:0.99, CH0:40, CH1:39, aT:198.80, aG:138\r\n2022-03-07 20:43:03.346 2108-2574/? D/BatteryService: uevent={POWER_SUPPLY_DP_DM=0, POWER_SUPPLY_TEMP_HOT=0, POWER_SUPPLY_VOLTAGE_QNOVO=-22, POWER_SUPPLY_VOLTAGE_NOW=4373493, POWER_SUPPLY_SW_JEITA_ENABLED=0, POWER_SUPPLY_CHARGE_CONTROL_LIMIT_MAX=8, POWER_SUPPLY_RECHARGE_SOC=99, POWER_SUPPLY_HEALTH=Good, POWER_SUPPLY_TECHNOLOGY=Li-ion, POWER_SUPPLY_CHARGER_TEMP_MAX=800, POWER_SUPPLY_CHARGE_FULL_DESIGN=4100000, POWER_SUPPLY_FCC_STEPPER_ENABLE=0, SEQNUM=20602, POWER_SUPPLY_INPUT_CURRENT_LIMITED=0, POWER_SUPPLY_CHARGE_CONTROL_LIMIT=0, POWER_SUPPLY_STATUS=Full, POWER_SUPPLY_CURRENT_MAX=0, POWER_SUPPLY_CYCLE_COUNT=0, POWER_SUPPLY_CHARGE_TERM_CURRENT=-102, POWER_SUPPLY_CAPACITY=100, DEVPATH=/devices/platform/soc/1c40000.qcom,spmi/spmi-0/spmi0-02/1c40000.qcom,spmi:qcom,pmi632@2:qcom,qpnp-smb5-mmi/power_supply/battery, POWER_SUPPLY_CHARGE_DONE=1, POWER_SUPPLY_CHARGE_TYPE=N/A, POWER_SUPPLY_CHARGER_TEMP=290, POWER_SUPPLY_CHARGE_RATE=Normal, POWER_SUPPLY_CURRENT_QNOVO=-22, POWER_SUPPLY_CURRENT_NOW=0, POWER_SUPPLY_PRESENT=1, POWER_SUPPLY_PARALLEL_DISABLE=0, POWER_SUPPLY_CHARGE_FULL=4104000, POWER_SUPPLY_CONSTANT_CHARGE_CURRENT=0, SUBSYSTEM=power_supply, POWER_SUPPLY_SET_SHIP_MODE=0, POWER_SUPPLY_TEMP=267, ACTION=change, POWER_SUPPLY_RERUN_AICL=0, POWER_SUPPLY_NAME=battery, POWER_SUPPLY_VOLTAGE_MAX=-22, POWER_SUPPLY_CONSTANT_CHARGE_CURRENT_MAX=3600000, POWER_SUPPLY_CHARGE_COUNTER=4104000, POWER_SUPPLY_STEP_CHARGING_ENABLED=0, POWER_SUPPLY_DIE_HEALTH=Cool, POWER_SUPPLY_INPUT_SUSPEND=0}\r\n2022-03-07 20:43:03.885 22132-22132/? W/DetectPable: type=1400 audit(0.0:136085): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:03.885 22132-22132/? W/DetectPable: type=1400 audit(0.0:136086): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\r\n2022-03-07 20:43:03.885 22132-22132/? W/DetectPable: type=1400 audit(0.0:136087): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\r\n2022-03-07 20:43:03.885 22132-22132/? W/DetectPable: type=1400 audit(0.0:136088): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:03.885 22132-22132/? W/DetectPable: type=1400 audit(0.0:136089): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\r\n2022-03-07 20:43:04.696 4875-28832/? I/Authzen: [DeviceStateSyncManager] The server is in sync with current state. Nothing to do\r\n2022-03-07 20:43:04.726 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService.onStartJob():204 onStartJob(): mdd_periodical_task_MDD.CHARGING.PERIODIC.TASK.\r\n2022-03-07 20:43:04.727 5103-5103/? I/MDDTaskScheduler: MDDTaskScheduler$Runner.onRunTask():37 task mdd_periodical_task_MDD.CHARGING.PERIODIC.TASK started\r\n2022-03-07 20:43:04.734 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService$Callback.onSuccess():380 Task: mdd_periodical_task_MDD.CHARGING.PERIODIC.TASK successes.\r\n2022-03-07 20:43:04.945 22132-22132/? W/DetectPable: type=1400 audit(0.0:136125): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:04.945 22132-22132/? W/DetectPable: type=1400 audit(0.0:136126): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\r\n2022-03-07 20:43:04.945 22132-22132/? W/DetectPable: type=1400 audit(0.0:136127): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\r\n2022-03-07 20:43:04.945 22132-22132/? W/DetectPable: type=1400 audit(0.0:136128): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:04.945 22132-22132/? W/DetectPable: type=1400 audit(0.0:136129): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\r\n2022-03-07 20:43:05.111 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService.onStartJob():204 onStartJob(): mdd_periodical_task_MDD.MAINTENANCE.PERIODIC.GCM.TASK.\r\n2022-03-07 20:43:05.111 5103-5103/? I/MDDTaskScheduler: MDDTaskScheduler$Runner.onRunTask():37 task mdd_periodical_task_MDD.MAINTENANCE.PERIODIC.GCM.TASK started\r\n2022-03-07 20:43:05.152 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService$Callback.onSuccess():380 Task: mdd_periodical_task_MDD.MAINTENANCE.PERIODIC.GCM.TASK successes.\r\n2022-03-07 20:43:05.308 1097-2576/? I/slpi: ALS_OC LUX:3.90,SCALE:0.99, CH0:32, CH1:38, aT:198.80, aG:138\r\n2022-03-07 20:43:05.369 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService.onStartJob():204 onStartJob(): mdd_periodical_task_MDD.CELLULAR.CHARGING.PERIODIC.TASK.\r\n2022-03-07 20:43:05.370 5103-5103/? I/MDDTaskScheduler: MDDTaskScheduler$Runner.onRunTask():37 task mdd_periodical_task_MDD.CELLULAR.CHARGING.PERIODIC.TASK started\r\n2022-03-07 20:43:05.376 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService$Callback.onSuccess():380 Task: mdd_periodical_task_MDD.CELLULAR.CHARGING.PERIODIC.TASK successes.\r\n2022-03-07 20:43:05.608 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService.onStartJob():204 onStartJob(): mdd_periodical_task_MDD.WIFI.CHARGING.PERIODIC.TASK.\r\n2022-03-07 20:43:05.609 5103-5103/? I/MDDTaskScheduler: MDDTaskScheduler$Runner.onRunTask():37 task mdd_periodical_task_MDD.WIFI.CHARGING.PERIODIC.TASK started\r\n2022-03-07 20:43:05.614 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService$Callback.onSuccess():380 Task: mdd_periodical_task_MDD.WIFI.CHARGING.PERIODIC.TASK successes.\r\n2022-03-07 20:43:05.878 1097-28719/? E/sensors-hal: handle_sns_client_event:62, mot_disprot_event: now=79053277432287 ts=79053059708105, type=0, status=3\r\n2022-03-07 20:43:05.878 1097-28719/? E/sensors-hal: handle_sns_client_event:62, mot_disprot_event: now=79053278458433 ts=79053263942480, type=16, status=3\r\n2022-03-07 20:43:05.896 1097-2576/? I/slpi: ALS_OC LUX:4.70,SCALE:0.99, CH0:37, CH1:38, aT:198.80, aG:138\r\n2022-03-07 20:43:06.005 22132-22132/? W/DetectPable: type=1400 audit(0.0:136165): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:06.005 22132-22132/? W/DetectPable: type=1400 audit(0.0:136166): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\r\n2022-03-07 20:43:06.005 22132-22132/? W/DetectPable: type=1400 audit(0.0:136167): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\r\n2022-03-07 20:43:06.005 22132-22132/? W/DetectPable: type=1400 audit(0.0:136168): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\r\n2022-03-07 20:43:06.005 22132-22132/? W/DetectPable: type=1400 audit(0.0:136169): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\r\n2022-03-07 20:43:06.097 2108-2108/? E/AudioService.OrientationHelper: Unknown device rotation\r\n\r\n\r\n\r\n\r\n","title":"Setting Android motion sensors into an array and displaying the value","body":"<p>I'm looking for some help. I took an android programming class and we need to build an app that takes sensor data (accelerometer, gyroscope, and magnetic field) into an array, and display the values. Unfortunately, I only know basic Java and I feel a bit stuck with some of the logic.</p>\n<p>I started my app by displaying the real time values of the sensors. I got that working, but it's too noisy and not accurate. So I am trying to store the values generated from the sensor to an array, then display those values in a TextView. Now when I run the app, it only crashes. I am not sure what I am missing, but it is probably some Java logic.\nIn total, I have the UI set up properly. I have the MainActivity.java, and separate java classes to collect the sensor data set up with getters and setters.</p>\n<p>The MainActivity code:</p>\n<pre><code>package com.example.servicesassignmentone;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity implements SensorEventListener{\n    private Button myButton;\n    Handler myHandler = new Handler();\n\n    private TextView accelerometerX, accelerometerY, accelerometerZ;\n    private SensorManager sensorManager;\n    private Sensor sensorAccelerometer;\n    private boolean sensorAccelerometerSet = false;\n    private List&lt;Accelerometer&gt; accelerometerListValues = new ArrayList&lt;Accelerometer&gt;();\n\n    private TextView gyroscopeX, gyroscopeY, gyroscopeZ;\n    private Sensor sensorGyroscope;\n    private boolean sensorGyroscopeSet = false;\n    private List&lt;Gyroscope&gt; gyroscopeLastValues = new ArrayList&lt;Gyroscope&gt;();\n\n    private TextView magFieldX, magFieldY, magFieldZ;\n    private Sensor sensorMagField;\n    private boolean sensorMagFieldSet = false;\n    private List&lt;MagField&gt; magFieldLastValues = new ArrayList&lt;MagField&gt;();\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        // button and UI initialization\n        myButton = (Button) findViewById(R.id.myButton);\n        //Accelerometer\n        accelerometerX = (TextView) findViewById(R.id.textViewAccX);\n        accelerometerY = (TextView) findViewById(R.id.textViewAccY);\n        accelerometerZ = (TextView) findViewById(R.id.textViewAccZ);\n        //Gyroscope\n        gyroscopeX = (TextView) findViewById(R.id.textViewGyroX);\n        gyroscopeY = (TextView) findViewById(R.id.textViewGyroY);\n        gyroscopeZ = (TextView) findViewById(R.id.textViewGyroZ);\n        //Magnetic Field\n        magFieldX = (TextView) findViewById(R.id.textViewMagX);\n        magFieldY = (TextView) findViewById(R.id.textViewMagY);\n        magFieldZ = (TextView) findViewById(R.id.textViewMagZ);\n\n        // initializing the sensor manager\n        sensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\n        // initializing the different sensors\n        sensorAccelerometer = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n        sensorGyroscope = sensorManager.getDefaultSensor(Sensor.TYPE_GYROSCOPE);\n        sensorMagField = sensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD);\n\n        myButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                switch (view.getId()){\n                    case R.id.myButton:\n                    sensorManager.registerListener((SensorEventListener) MainActivity.this, sensorAccelerometer, SensorManager.SENSOR_DELAY_FASTEST);\n                    sensorManager.registerListener((SensorEventListener) MainActivity.this, sensorGyroscope, SensorManager.SENSOR_DELAY_FASTEST);\n                    sensorManager.registerListener((SensorEventListener) MainActivity.this, sensorMagField, SensorManager.SENSOR_DELAY_FASTEST);\n                    break;\n                }\n            }\n        });\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        sensorAccelerometerSet = false;\n        sensorGyroscopeSet = false;\n        sensorMagFieldSet = false;\n        sensorManager.registerListener((SensorEventListener) this, sensorAccelerometer, SensorManager.SENSOR_DELAY_FASTEST);\n        sensorManager.registerListener((SensorEventListener) this, sensorGyroscope, SensorManager.SENSOR_DELAY_FASTEST);\n        sensorManager.registerListener((SensorEventListener) this, sensorMagField, SensorManager.SENSOR_DELAY_FASTEST);\n\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        sensorManager.unregisterListener((SensorEventListener) this);\n    }\n\n\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n\n    }\n\n    @Override\n    public void onSensorChanged(SensorEvent sensorEvent) {\n\n        //Using the arraylist\n        Float accelerValuesX, accelerValuesY, accelerValuesZ;\n        Float gyroValuesX, gyroValuesY, gyroValuesZ;\n        Float magValuesX, magValuesY, magValuesZ;\n\n       //if (accelerometerListValues.size() &gt;= 500 &amp;&amp; gyroscopeLastValues.size() &gt;= 500 &amp;&amp; magFieldLastValues.size() &gt;= 500) {\n       //}\n\n        if (sensorEvent.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {\n            accelerValuesX = sensorEvent.values[0];\n            accelerValuesY = sensorEvent.values[1];\n            accelerValuesZ = sensorEvent.values[2];\n          accelerometerListValues.add(new Accelerometer(accelerValuesX, accelerValuesY, accelerValuesZ));\n          for (int i = 0; i &lt; accelerometerListValues.size(); i++) {\n              Accelerometer output = accelerometerListValues.get(i);\n              accelerometerX.setText((CharSequence) output);\n          }\n            }\n        if (sensorEvent.sensor.getType() == Sensor.TYPE_GYROSCOPE) {\n            gyroValuesX = sensorEvent.values[0];\n            gyroValuesY = sensorEvent.values[1];\n            gyroValuesZ = sensorEvent.values[2];\n            gyroscopeLastValues.add(new Gyroscope(gyroValuesX, gyroValuesY, gyroValuesZ));\n            for (int i = 0; i &lt; gyroscopeLastValues.size(); i++) {\n                 Gyroscope output = gyroscopeLastValues.get(i);\n                gyroscopeX.setText((CharSequence) output);\n            }\n        }\n        if (sensorEvent.sensor.getType() == Sensor.TYPE_MAGNETIC_FIELD) {\n            magValuesX = sensorEvent.values[0];\n            magValuesY = sensorEvent.values[1];\n            magValuesZ = sensorEvent.values[2];\n            magFieldLastValues.add(new MagField(magValuesX, magValuesY, magValuesZ));\n            for (int i = 0; i &lt; magFieldLastValues.size(); i++) {\n                MagField output = magFieldLastValues.get(i);\n                magFieldX.setText((CharSequence) output);\n            }\n        }\n\n</code></pre>\n<p>The debugging log is very long:\n--------- beginning of crash\n2022-03-07 20:42:59.962 28780-28780/com.example.servicesassignmentone E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.servicesassignmentone, PID: 28780\njava.lang.ClassCastException: com.example.servicesassignmentone.Accelerometer cannot be cast to java.lang.CharSequence\nat com.example.servicesassignmentone.MainActivity.onSensorChanged(MainActivity.java:120)\nat android.hardware.SystemSensorManager$SensorEventQueue.dispatchSensorEvent(SystemSensorManager.java:900)\nat android.os.MessageQueue.nativePollOnce(Native Method)\nat android.os.MessageQueue.next(MessageQueue.java:342)\nat android.os.Looper.loop(Looper.java:197)\nat android.app.ActivityThread.main(ActivityThread.java:7803)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:958)\n2022-03-07 20:42:59.970 2108-28828/? I/DropBoxManagerService: add tag=data_app_crash isTagEnabled=true flags=0x2\n2022-03-07 20:42:59.971 2108-3891/? W/ActivityTaskManager:   Force finishing activity com.example.servicesassignmentone/.MainActivity\n2022-03-07 20:43:00.011 2108-2282/? W/BroadcastQueue: Background execution not allowed: receiving Intent { act=android.intent.action.DROPBOX_ENTRY_ADDED flg=0x10 (has extras) } to com.google.android.gms/.stats.service.DropBoxEntryAddedReceiver\n2022-03-07 20:43:00.012 2108-2282/? W/BroadcastQueue: Background execution not allowed: receiving Intent { act=android.intent.action.DROPBOX_ENTRY_ADDED flg=0x10 (has extras) } to com.google.android.gms/.chimera.GmsIntentOperationService$PersistentTrustedReceiver\n2022-03-07 20:43:00.018 28780-28780/com.example.servicesassignmentone I/Process: Sending signal. PID: 28780 SIG: 9\n2022-03-07 20:43:00.030 5605-5638/? W/DynamicVolume-DynamicVolumeService: onForegroundActivitiesChanged, but feature not opened, ignore!\n2022-03-07 20:43:00.059 1106-1218/? E/qdmetadata: paramType 2048 not supported\n2022-03-07 20:43:00.068 2108-9083/? I/ActivityManager: Process com.example.servicesassignmentone (pid 28780) has died: prcp TOP\n2022-03-07 20:43:00.069 2108-3891/? I/WindowManager: WIN DEATH: Window{6c0ef4 u0 com.example.servicesassignmentone/com.example.servicesassignmentone.MainActivity}\n2022-03-07 20:43:00.069 2108-3891/? W/InputDispatcher: Attempted to unregister already unregistered input channel '6c0ef4 com.example.servicesassignmentone/com.example.servicesassignmentone.MainActivity (server)'\n2022-03-07 20:43:00.069 1097-1097/? I/sensors-hal: batch:242, android.sensor.accelerometer/11, period=200000000, max_latency=0\n2022-03-07 20:43:00.069 1097-1097/? I/sensors-hal: set_config:63, sample_period_ns is adjusted to 200000000 based on min/max delay_ns\n2022-03-07 20:43:00.069 1097-1097/? I/sensors-hal: batch:251, android.sensor.accelerometer/11, period=200000000, max_latency=0 request completed\n2022-03-07 20:43:00.071 1097-1097/? I/sensors-hal: activate:209, android.sensor.magnetic_field/21 en=0\n2022-03-07 20:43:00.075 1097-28701/? I/sensors-hal: ssc_conn_resp_cb:654, resp_value = 0\n2022-03-07 20:43:00.076 1097-1097/? E/Diag_Lib: diag: Diag_LSM_DeInit done for pid: 1097\n2022-03-07 20:43:00.076 1097-1097/? I/sensors-hal: activate:220, android.sensor.magnetic_field/21 en=0 completed\n2022-03-07 20:43:00.076 1097-1097/? I/sensors-hal: activate:209, android.sensor.gyroscope/41 en=0\n2022-03-07 20:43:00.078 1195-1219/? E/adsprpcd: vendor/qcom/proprietary/commonsys-intf/adsprpc/src/apps_std_imp.c:596:Error 0xffffffff: apps_std getenv failed: ADSP_LIBRARY_PATH Unknown error -1\n2022-03-07 20:43:00.079 1195-1219/? I/adsprpcd: vendor/qcom/proprietary/commonsys-intf/adsprpc/src/apps_std_imp.c:777: Successfully opened file /mnt/vendor/persist/sensors/registry/temp.json\n2022-03-07 20:43:00.082 1097-1097/? E/Diag_Lib: diag: Diag_LSM_DeInit done for pid: 1097\n2022-03-07 20:43:00.083 1195-1219/? E/adsprpcd: vendor/qcom/proprietary/commonsys-intf/adsprpc/src/apps_std_imp.c:596:Error 0xffffffff: apps_std getenv failed: ADSP_LIBRARY_PATH Unknown error -1\n2022-03-07 20:43:00.083 1195-1219/? I/adsprpcd: vendor/qcom/proprietary/commonsys-intf/adsprpc/src/apps_std_imp.c:777: Successfully opened file /mnt/vendor/persist/sensors/registry/temp.json\n2022-03-07 20:43:00.083 1097-1097/? E/Diag_Lib: diag: Diag_LSM_DeInit done for pid: 1097\n2022-03-07 20:43:00.083 1097-1097/? I/sensors-hal: activate:220, android.sensor.gyroscope/41 en=0 completed\n2022-03-07 20:43:00.088 1001-1001/? I/Zygote: Process 28780 exited due to signal 9 (Killed)\n2022-03-07 20:43:00.099 2108-2315/? I/libprocessgroup: Successfully killed process cgroup uid 10298 pid 28780 in 29ms\n2022-03-07 20:43:00.109 3818-3838/? I/ndroid.systemu: NativeAlloc concurrent copying GC freed 13956(730KB) AllocSpace objects, 0(0B) LOS objects, 49% free, 8443KB/16MB, paused 76us total 105.730ms\n2022-03-07 20:43:00.122 3818-3844/? W/System: A resource failed to call release.\n2022-03-07 20:43:00.131 2108-2259/? W/ActivityManager: setHasOverlayUi called on unknown pid: 28780\n2022-03-07 20:43:00.145 2108-2260/? I/WindowManager: SURFACE show Surface(name=com.android.systemui.ImageWallpaper)/@0x704dd96 on display:0\n2022-03-07 20:43:00.146 2108-2259/? E/SystemServiceRegistry: No service published for: payjoy_access_service\nandroid.os.ServiceManager$ServiceNotFoundException: No service published for: payjoy_access_service\nat android.os.ServiceManager.getServiceOrThrow(ServiceManager.java:153)\nat android.app.SystemServiceRegistry$126.createService(SystemServiceRegistry.java:1694)\nat android.app.SystemServiceRegistry$StaticServiceFetcher.getService(SystemServiceRegistry.java:1919)\nat android.app.SystemServiceRegistry.getSystemService(SystemServiceRegistry.java:1517)\nat android.app.ContextImpl.getSystemService(ContextImpl.java:1938)\nat com.android.server.wm.ActivityStack.shouldSendPayJoyBroadcast(ActivityStack.java:3644)\nat com.android.server.wm.ActivityStack.access$000(ActivityStack.java:188)\nat com.android.server.wm.ActivityStack$ActivityStackHandler.handleMessage(ActivityStack.java:316)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:250)\nat android.os.HandlerThread.run(HandlerThread.java:67)\nat com.android.server.ServiceThread.run(ServiceThread.java:44)\n2022-03-07 20:43:00.146 2108-2259/? E/SystemServiceRegistry: Manager wrapper not available: payjoy_access_service\n2022-03-07 20:43:00.148 2108-2260/? I/WindowManager: SURFACE show Surface(name=com.motorola.launcher3/com.android.launcher3.CustomizationPanelLauncher)/@0x43cd0d3 on display:0\n2022-03-07 20:43:00.148 2108-2260/? I/WindowManager: SURFACE show Surface(name=com.motorola.launcher3/com.android.launcher3.CustomizationPanelLauncher)/@0xbb76410 on display:0\n2022-03-07 20:43:00.157 5263-5263/? I/GsaVoiceInteractionSrv: Handling ACTION_START_HOTWORD\n2022-03-07 20:43:00.160 1106-1218/? E/qdmetadata: paramType 2048 not supported\n2022-03-07 20:43:00.160 1106-1218/? E/qdmetadata: paramType 2048 not supported\n2022-03-07 20:43:00.161 5263-5933/? I/GsaVoiceInteractionSrv: disregardVoiceMatch: false\n2022-03-07 20:43:00.162 5263-5933/? I/GsaVoiceInteractionSrv: Cannot start hotword, hotword has been explicitly disabled.\n2022-03-07 20:43:00.167 1111-1111/? I/QTI PowerHAL: Power setMode: 5 to: 0\n2022-03-07 20:43:00.168 5103-5103/? I/GoogleInputMethodService: GoogleInputMethodService.onFinishInput():3210\n2022-03-07 20:43:00.175 5103-5103/? I/GoogleInputMethodService: GoogleInputMethodService.updateDeviceLockedStatus():2099 checkRepeatedly = false, unlocked = true\n2022-03-07 20:43:00.175 5103-5103/? I/GoogleInputMethodService: GoogleInputMethodService.onStartInput():1907 onStartInput(EditorInfo{inputType=0x0(NULL) imeOptions=0x0 privateImeOptions=null actionName=UNSPECIFIED actionLabel=null actionId=0 initialSelStart=-1 initialSelEnd=-1 initialCapsMode=0x0 hintText=null label=null packageName=com.motorola.launcher3 fieldId=-1 fieldName=null extras=null}, false)\n2022-03-07 20:43:00.177 5103-5103/? I/GoogleInputMethodService: GoogleInputMethodService.updateDeviceLockedStatus():2099 checkRepeatedly = true, unlocked = true\n2022-03-07 20:43:00.263 5537-5556/? D/AssistReceiver: call: lightWakeup | null | null\n2022-03-07 20:43:00.284 1106-1218/? E/qdmetadata: paramType 2048 not supported\n2022-03-07 20:43:00.476 2108-2259/? W/ActivityTaskManager: Activity top resumed state loss timeout for ActivityRecord{c3cd9a0 u0 com.example.servicesassignmentone/.MainActivity t-1 f}}\n2022-03-07 20:43:00.484 4941-4941/? D/GameMode: isScreenUnlocked: true\n2022-03-07 20:43:00.486 4941-4941/? D/GameMode: exiting game mode\n2022-03-07 20:43:00.491 4941-4941/? D/GameMode: reset : false\n2022-03-07 20:43:00.491 4941-4941/? D/GameMode: reset:\n2022-03-07 20:43:00.491 4941-4941/? D/GameMode: isFeatureSupported: false\n2022-03-07 20:43:00.495 4941-7481/? D/MFL: getFreeFormPackages: is blank\n2022-03-07 20:43:00.496 4941-7481/? D/MFL: getDensityIndependentPixel: smallest width = 411\n2022-03-07 20:43:00.497 4941-7481/? D/MFL: getLaunchRect: margin = 0\n2022-03-07 20:43:00.708 22132-22132/? W/DetectPable: type=1400 audit(0.0:135965): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\n2022-03-07 20:43:00.708 22132-22132/? W/DetectPable: type=1400 audit(0.0:135966): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\n2022-03-07 20:43:00.708 22132-22132/? W/DetectPable: type=1400 audit(0.0:135967): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\n2022-03-07 20:43:00.708 22132-22132/? W/DetectPable: type=1400 audit(0.0:135968): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\n2022-03-07 20:43:00.708 22132-22132/? W/DetectPable: type=1400 audit(0.0:135969): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\n2022-03-07 20:43:01.768 22132-22132/? W/DetectPable: type=1400 audit(0.0:136005): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\n2022-03-07 20:43:01.768 22132-22132/? W/DetectPable: type=1400 audit(0.0:136006): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\n2022-03-07 20:43:01.768 22132-22132/? W/DetectPable: type=1400 audit(0.0:136007): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\n2022-03-07 20:43:01.773 1112-1137/? I/android.hardware.thermal@2.0-service.qti: uevent triggered for sensor: msm_therm\n2022-03-07 20:43:01.768 22132-22132/? W/DetectPable: type=1400 audit(0.0:136008): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\n2022-03-07 20:43:01.771 22132-22132/? W/DetectPable: type=1400 audit(0.0:136009): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\n2022-03-07 20:43:02.828 22132-22132/? W/DetectPable: type=1400 audit(0.0:136045): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\n2022-03-07 20:43:02.828 22132-22132/? W/DetectPable: type=1400 audit(0.0:136046): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\n2022-03-07 20:43:02.828 22132-22132/? W/DetectPable: type=1400 audit(0.0:136047): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\n2022-03-07 20:43:02.828 22132-22132/? W/DetectPable: type=1400 audit(0.0:136048): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\n2022-03-07 20:43:02.828 22132-22132/? W/DetectPable: type=1400 audit(0.0:136049): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\n2022-03-07 20:43:02.954 1097-2576/? I/slpi: ALS_OC LUX:6.20,SCALE:0.99, CH0:50, CH1:54, aT:198.80, aG:138\n2022-03-07 20:43:03.142 5966-6209/? I/WorkerManager: dispose()\n2022-03-07 20:43:03.150 1097-2576/? I/slpi: ALS_OC LUX:5.10,SCALE:0.99, CH0:40, CH1:39, aT:198.80, aG:138\n2022-03-07 20:43:03.346 2108-2574/? D/BatteryService: uevent={POWER_SUPPLY_DP_DM=0, POWER_SUPPLY_TEMP_HOT=0, POWER_SUPPLY_VOLTAGE_QNOVO=-22, POWER_SUPPLY_VOLTAGE_NOW=4373493, POWER_SUPPLY_SW_JEITA_ENABLED=0, POWER_SUPPLY_CHARGE_CONTROL_LIMIT_MAX=8, POWER_SUPPLY_RECHARGE_SOC=99, POWER_SUPPLY_HEALTH=Good, POWER_SUPPLY_TECHNOLOGY=Li-ion, POWER_SUPPLY_CHARGER_TEMP_MAX=800, POWER_SUPPLY_CHARGE_FULL_DESIGN=4100000, POWER_SUPPLY_FCC_STEPPER_ENABLE=0, SEQNUM=20602, POWER_SUPPLY_INPUT_CURRENT_LIMITED=0, POWER_SUPPLY_CHARGE_CONTROL_LIMIT=0, POWER_SUPPLY_STATUS=Full, POWER_SUPPLY_CURRENT_MAX=0, POWER_SUPPLY_CYCLE_COUNT=0, POWER_SUPPLY_CHARGE_TERM_CURRENT=-102, POWER_SUPPLY_CAPACITY=100, DEVPATH=/devices/platform/soc/1c40000.qcom,spmi/spmi-0/spmi0-02/1c40000.qcom,spmi:qcom,pmi632@2:qcom,qpnp-smb5-mmi/power_supply/battery, POWER_SUPPLY_CHARGE_DONE=1, POWER_SUPPLY_CHARGE_TYPE=N/A, POWER_SUPPLY_CHARGER_TEMP=290, POWER_SUPPLY_CHARGE_RATE=Normal, POWER_SUPPLY_CURRENT_QNOVO=-22, POWER_SUPPLY_CURRENT_NOW=0, POWER_SUPPLY_PRESENT=1, POWER_SUPPLY_PARALLEL_DISABLE=0, POWER_SUPPLY_CHARGE_FULL=4104000, POWER_SUPPLY_CONSTANT_CHARGE_CURRENT=0, SUBSYSTEM=power_supply, POWER_SUPPLY_SET_SHIP_MODE=0, POWER_SUPPLY_TEMP=267, ACTION=change, POWER_SUPPLY_RERUN_AICL=0, POWER_SUPPLY_NAME=battery, POWER_SUPPLY_VOLTAGE_MAX=-22, POWER_SUPPLY_CONSTANT_CHARGE_CURRENT_MAX=3600000, POWER_SUPPLY_CHARGE_COUNTER=4104000, POWER_SUPPLY_STEP_CHARGING_ENABLED=0, POWER_SUPPLY_DIE_HEALTH=Cool, POWER_SUPPLY_INPUT_SUSPEND=0}\n2022-03-07 20:43:03.885 22132-22132/? W/DetectPable: type=1400 audit(0.0:136085): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\n2022-03-07 20:43:03.885 22132-22132/? W/DetectPable: type=1400 audit(0.0:136086): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\n2022-03-07 20:43:03.885 22132-22132/? W/DetectPable: type=1400 audit(0.0:136087): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\n2022-03-07 20:43:03.885 22132-22132/? W/DetectPable: type=1400 audit(0.0:136088): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\n2022-03-07 20:43:03.885 22132-22132/? W/DetectPable: type=1400 audit(0.0:136089): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\n2022-03-07 20:43:04.696 4875-28832/? I/Authzen: [DeviceStateSyncManager] The server is in sync with current state. Nothing to do\n2022-03-07 20:43:04.726 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService.onStartJob():204 onStartJob(): mdd_periodical_task_MDD.CHARGING.PERIODIC.TASK.\n2022-03-07 20:43:04.727 5103-5103/? I/MDDTaskScheduler: MDDTaskScheduler$Runner.onRunTask():37 task mdd_periodical_task_MDD.CHARGING.PERIODIC.TASK started\n2022-03-07 20:43:04.734 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService$Callback.onSuccess():380 Task: mdd_periodical_task_MDD.CHARGING.PERIODIC.TASK successes.\n2022-03-07 20:43:04.945 22132-22132/? W/DetectPable: type=1400 audit(0.0:136125): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\n2022-03-07 20:43:04.945 22132-22132/? W/DetectPable: type=1400 audit(0.0:136126): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\n2022-03-07 20:43:04.945 22132-22132/? W/DetectPable: type=1400 audit(0.0:136127): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\n2022-03-07 20:43:04.945 22132-22132/? W/DetectPable: type=1400 audit(0.0:136128): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\n2022-03-07 20:43:04.945 22132-22132/? W/DetectPable: type=1400 audit(0.0:136129): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\n2022-03-07 20:43:05.111 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService.onStartJob():204 onStartJob(): mdd_periodical_task_MDD.MAINTENANCE.PERIODIC.GCM.TASK.\n2022-03-07 20:43:05.111 5103-5103/? I/MDDTaskScheduler: MDDTaskScheduler$Runner.onRunTask():37 task mdd_periodical_task_MDD.MAINTENANCE.PERIODIC.GCM.TASK started\n2022-03-07 20:43:05.152 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService$Callback.onSuccess():380 Task: mdd_periodical_task_MDD.MAINTENANCE.PERIODIC.GCM.TASK successes.\n2022-03-07 20:43:05.308 1097-2576/? I/slpi: ALS_OC LUX:3.90,SCALE:0.99, CH0:32, CH1:38, aT:198.80, aG:138\n2022-03-07 20:43:05.369 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService.onStartJob():204 onStartJob(): mdd_periodical_task_MDD.CELLULAR.CHARGING.PERIODIC.TASK.\n2022-03-07 20:43:05.370 5103-5103/? I/MDDTaskScheduler: MDDTaskScheduler$Runner.onRunTask():37 task mdd_periodical_task_MDD.CELLULAR.CHARGING.PERIODIC.TASK started\n2022-03-07 20:43:05.376 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService$Callback.onSuccess():380 Task: mdd_periodical_task_MDD.CELLULAR.CHARGING.PERIODIC.TASK successes.\n2022-03-07 20:43:05.608 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService.onStartJob():204 onStartJob(): mdd_periodical_task_MDD.WIFI.CHARGING.PERIODIC.TASK.\n2022-03-07 20:43:05.609 5103-5103/? I/MDDTaskScheduler: MDDTaskScheduler$Runner.onRunTask():37 task mdd_periodical_task_MDD.WIFI.CHARGING.PERIODIC.TASK started\n2022-03-07 20:43:05.614 5103-5103/? I/JobSchedulerImpl: JobSchedulerImpl$TaskRunnerJobService$Callback.onSuccess():380 Task: mdd_periodical_task_MDD.WIFI.CHARGING.PERIODIC.TASK successes.\n2022-03-07 20:43:05.878 1097-28719/? E/sensors-hal: handle_sns_client_event:62, mot_disprot_event: now=79053277432287 ts=79053059708105, type=0, status=3\n2022-03-07 20:43:05.878 1097-28719/? E/sensors-hal: handle_sns_client_event:62, mot_disprot_event: now=79053278458433 ts=79053263942480, type=16, status=3\n2022-03-07 20:43:05.896 1097-2576/? I/slpi: ALS_OC LUX:4.70,SCALE:0.99, CH0:37, CH1:38, aT:198.80, aG:138\n2022-03-07 20:43:06.005 22132-22132/? W/DetectPable: type=1400 audit(0.0:136165): avc: denied { getattr } for path=&quot;/proc/fb&quot; dev=&quot;proc&quot; ino=4026531964 scontext=u:r:shell:s0 tcontext=u:object_r:proc:s0 tclass=file permissive=0\n2022-03-07 20:43:06.005 22132-22132/? W/DetectPable: type=1400 audit(0.0:136166): avc: denied { getattr } for path=&quot;/proc/keys&quot; dev=&quot;proc&quot; ino=4026532156 scontext=u:r:shell:s0 tcontext=u:object_r:proc_keys:s0 tclass=file permissive=0\n2022-03-07 20:43:06.005 22132-22132/? W/DetectPable: type=1400 audit(0.0:136167): avc: denied { getattr } for path=&quot;/proc/kmsg&quot; dev=&quot;proc&quot; ino=4026532061 scontext=u:r:shell:s0 tcontext=u:object_r:proc_kmsg:s0 tclass=file permissive=0\n2022-03-07 20:43:06.005 22132-22132/? W/DetectPable: type=1400 audit(0.0:136168): avc: denied { getattr } for path=&quot;/proc/misc&quot; dev=&quot;proc&quot; ino=4026531965 scontext=u:r:shell:s0 tcontext=u:object_r:proc_misc:s0 tclass=file permissive=0\n2022-03-07 20:43:06.005 22132-22132/? W/DetectPable: type=1400 audit(0.0:136169): avc: denied { getattr } for path=&quot;/proc/iomem&quot; dev=&quot;proc&quot; ino=4026532140 scontext=u:r:shell:s0 tcontext=u:object_r:proc_iomem:s0 tclass=file permissive=0\n2022-03-07 20:43:06.097 2108-2108/? E/AudioService.OrientationHelper: Unknown device rotation</p>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":3021635,"reputation":480,"user_id":4947979,"display_name":"Nic Estrada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646702661,"creation_date":1646702661,"answer_id":71389018,"question_id":71388268,"body_markdown":"When the Enums are constructed on project startup, Spring hasn&#39;t had a chance to get up and running yet. So, instead, we can do this.\r\n\r\n```\r\npublic enum MetadataType {\r\n  TRANSACTION(TransactionMetadataHandler.class);\r\n\r\n  private Class&lt;? extends MetadataHandler&gt; handlerClass;\r\n\r\n  public MetadataHandler getHandlerClass() {\r\n    return handlerClass;\r\n  }\r\n\r\n  MetadataType(Class&lt;? extends MetadataHandler&gt; handlerClass) {\r\n    this.handlerClass = handlerClass;\r\n  }\r\n}\r\n```\r\nAnd then in the service, use reflection to get an instance.\r\n\r\n```\r\n@Service\r\npublic class MetadataService {\r\n  public String formatMetadata(MetadataInfo info) {\r\n    try {\r\n      String formattedMetadata = info.getType().getHandlerClass().newInstance().format(info);\r\n      return formattedMetadata;\r\n    } catch (InstantiationException | IllegalAccessException e) {\r\n      // do whatever with the exception\r\n    }\r\n  }\r\n}\r\n```\r\nThis way, though nothing material changes, since the instantiation of `TransactionMetadataHandler` is at runtime, Spring will actually be up and running, and so will field-inject properly.","title":"NullPointerException when trying to use field-injected beans inside a @Configurable class instantiated in an enum?","body":"<p>When the Enums are constructed on project startup, Spring hasn't had a chance to get up and running yet. So, instead, we can do this.</p>\n<pre><code>public enum MetadataType {\n  TRANSACTION(TransactionMetadataHandler.class);\n\n  private Class&lt;? extends MetadataHandler&gt; handlerClass;\n\n  public MetadataHandler getHandlerClass() {\n    return handlerClass;\n  }\n\n  MetadataType(Class&lt;? extends MetadataHandler&gt; handlerClass) {\n    this.handlerClass = handlerClass;\n  }\n}\n</code></pre>\n<p>And then in the service, use reflection to get an instance.</p>\n<pre><code>@Service\npublic class MetadataService {\n  public String formatMetadata(MetadataInfo info) {\n    try {\n      String formattedMetadata = info.getType().getHandlerClass().newInstance().format(info);\n      return formattedMetadata;\n    } catch (InstantiationException | IllegalAccessException e) {\n      // do whatever with the exception\n    }\n  }\n}\n</code></pre>\n<p>This way, though nothing material changes, since the instantiation of <code>TransactionMetadataHandler</code> is at runtime, Spring will actually be up and running, and so will field-inject properly.</p>\n"},{"tags":[],"owner":{"account_id":11016374,"reputation":1,"user_id":8092105,"display_name":"Abi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646704357,"creation_date":1646704357,"answer_id":71389174,"question_id":71388268,"body_markdown":"What version of java and aspectj-maven-plugin are you using ? When i follow step mentioned in https://www.baeldung.com/aspectj i got the null pointer exception , however i had to replace codehaus plugin with ` \r\n\r\n    &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.13.M3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;complianceLevel&gt;16&lt;/complianceLevel&gt;\r\n                        &lt;aspectLibraries&gt;\r\n                            &lt;aspectLibrary&gt;\r\n                                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n                            &lt;/aspectLibrary&gt;\r\n                        &lt;/aspectLibraries&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n\r\n` on java version 16 and then compile team weaving worked fine for @Configurable annotation","title":"NullPointerException when trying to use field-injected beans inside a @Configurable class instantiated in an enum?","body":"<p>What version of java and aspectj-maven-plugin are you using ? When i follow step mentioned in <a href=\"https://www.baeldung.com/aspectj\" rel=\"nofollow noreferrer\">https://www.baeldung.com/aspectj</a> i got the null pointer exception , however i had to replace codehaus plugin with `</p>\n<pre><code>&lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.13.M3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;complianceLevel&gt;16&lt;/complianceLevel&gt;\n                    &lt;aspectLibraries&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                    &lt;/aspectLibraries&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n</code></pre>\n<p>` on java version 16 and then compile team weaving worked fine for @Configurable annotation</p>\n"}],"owner":{"account_id":3021635,"reputation":480,"user_id":4947979,"display_name":"Nic Estrada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71389018,"answer_count":2,"score":0,"last_activity_date":1646704357,"creation_date":1646694485,"question_id":71388268,"body_markdown":"I have this enum, used in a dto.\r\n\r\n```java\r\npublic enum MetadataType {\r\n  TRANSACTION(new TransactionMetadataHandler());\r\n\r\n  private MetadataHandler handler;\r\n\r\n  public MetadataHandler getHandler() {\r\n    return handler;\r\n  }\r\n\r\n  MetadataType(MetadataHandler handler) {\r\n    this.handler = handler;\r\n  }\r\n}\r\n\r\npublic class MetadataInfo {\r\n  private MetadataType type;\r\n\r\n  public MetadataType getType() {\r\n    return this.type;\r\n  }\r\n}\r\n```\r\nThe idea being to be able to change what handler is used for each metadata type.\r\n\r\nThis is used in a service. Note, everything is simplified here. There are many functions that I want to be able to perform on any type of metadata without having a giant switch statement.\r\n\r\n```java\r\n@Service\r\npublic class MetadataService {\r\n  public String formatMetadata(MetadataInfo info) {\r\n    String formattedMetadata = info.getType().getHandler().format(info);\r\n    return formattedMetadata;\r\n  }\r\n}\r\n\r\npublic interface MetadataHandler {\r\n  String formatMetadata(MetadataInfo info);\r\n}\r\n\r\n@Configurable\r\npublic class TransactionMetadataHandler implements MetadataHandler {\r\n  @Autowired\r\n  private SomeOtherBean someOtherBean;\r\n\r\n  public String formatMetadata(MetadataInfo info) {\r\n    someOtherBean.doSomething(); // NullPointerException here\r\n  }\r\n}\r\n```\r\n\r\nHow do I fix this NullPointerException? It&#39;s like the enum is being processed too early and Spring never gets around to autowiring the `TransactionMetadataHandler`. Not sure what to do here.\r\n\r\n","title":"NullPointerException when trying to use field-injected beans inside a @Configurable class instantiated in an enum?","body":"<p>I have this enum, used in a dto.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum MetadataType {\n  TRANSACTION(new TransactionMetadataHandler());\n\n  private MetadataHandler handler;\n\n  public MetadataHandler getHandler() {\n    return handler;\n  }\n\n  MetadataType(MetadataHandler handler) {\n    this.handler = handler;\n  }\n}\n\npublic class MetadataInfo {\n  private MetadataType type;\n\n  public MetadataType getType() {\n    return this.type;\n  }\n}\n</code></pre>\n<p>The idea being to be able to change what handler is used for each metadata type.</p>\n<p>This is used in a service. Note, everything is simplified here. There are many functions that I want to be able to perform on any type of metadata without having a giant switch statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MetadataService {\n  public String formatMetadata(MetadataInfo info) {\n    String formattedMetadata = info.getType().getHandler().format(info);\n    return formattedMetadata;\n  }\n}\n\npublic interface MetadataHandler {\n  String formatMetadata(MetadataInfo info);\n}\n\n@Configurable\npublic class TransactionMetadataHandler implements MetadataHandler {\n  @Autowired\n  private SomeOtherBean someOtherBean;\n\n  public String formatMetadata(MetadataInfo info) {\n    someOtherBean.doSomething(); // NullPointerException here\n  }\n}\n</code></pre>\n<p>How do I fix this NullPointerException? It's like the enum is being processed too early and Spring never gets around to autowiring the <code>TransactionMetadataHandler</code>. Not sure what to do here.</p>\n"},{"tags":["java","class","parameters","methods","anonymous"],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1296861338,"creation_date":1296860193,"answer_id":4903739,"question_id":4903728,"body_markdown":"How would you access an [anonymous class][1] without an instance? You would need a *name* to refer to it somehow, which it by definition does not have (sure it will have some compiler generated name at runtime, but to query that you need to first *create* it, and you can&#39;t create it without instantiating it).\r\n\r\nSo there is no way to achieve what you want.\r\n\r\n\r\n  [1]: http://docstore.mik.ua/orelly/java-ent/jnut/ch03_12.htm","title":"How to pass an anonymous Class (not an instance) as a parameter to a method expecting type Class in Java","body":"<p>How would you access an <a href=\"http://docstore.mik.ua/orelly/java-ent/jnut/ch03_12.htm\" rel=\"nofollow\">anonymous class</a> without an instance? You would need a <em>name</em> to refer to it somehow, which it by definition does not have (sure it will have some compiler generated name at runtime, but to query that you need to first <em>create</em> it, and you can't create it without instantiating it).</p>\n\n<p>So there is no way to achieve what you want.</p>\n"},{"tags":[],"owner":{"account_id":223301,"reputation":1800,"user_id":482410,"display_name":"Scott Montgomerie"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1296860690,"creation_date":1296860690,"answer_id":4903792,"question_id":4903728,"body_markdown":"You should be able to do the following: \r\n\r\n    public void action(Class&lt;? extends SomeInterface&gt; classVariable);\r\n\r\nthen call:\r\n\r\n    action(new SomeInterface() { // implement interface }.getClass());\r\n\r\n\r\nExample code: \r\n\r\n    interface I {}\r\n        \r\n    class A implements I\r\n    {    \r\n    }\r\n        \r\n    public void action(Class&lt;? extends I&gt; c)\r\n    {\r\n    }\r\n               \r\n               \r\n    public void test()\r\n    {\r\n       action(new I() {}.getClass());\r\n    }","title":"How to pass an anonymous Class (not an instance) as a parameter to a method expecting type Class in Java","body":"<p>You should be able to do the following: </p>\n\n<pre><code>public void action(Class&lt;? extends SomeInterface&gt; classVariable);\n</code></pre>\n\n<p>then call:</p>\n\n<pre><code>action(new SomeInterface() { // implement interface }.getClass());\n</code></pre>\n\n<p>Example code: </p>\n\n<pre><code>interface I {}\n\nclass A implements I\n{    \n}\n\npublic void action(Class&lt;? extends I&gt; c)\n{\n}\n\n\npublic void test()\n{\n   action(new I() {}.getClass());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1296860912,"creation_date":1296860912,"answer_id":4903818,"question_id":4903728,"body_markdown":"Anonymous classes cannot be safely referred to by name, only but instance.  You can predict the name and use that but its not elegant, or reliable.\r\n\r\n\r\n    private void neverCalled() {\r\n        SomeInterface si = new SomeInterface() { \r\n            // implement interface\r\n        };\r\n    }\r\n\r\n    Class anon = Class.forName(getClass()+&quot;$1&quot;); // hopefully its the first!\r\n\r\nIt is much simpler to give the class a name and use that. Many IDEs allow you to change one into the other very easily.\r\n","title":"How to pass an anonymous Class (not an instance) as a parameter to a method expecting type Class in Java","body":"<p>Anonymous classes cannot be safely referred to by name, only but instance.  You can predict the name and use that but its not elegant, or reliable.</p>\n\n<pre><code>private void neverCalled() {\n    SomeInterface si = new SomeInterface() { \n        // implement interface\n    };\n}\n\nClass anon = Class.forName(getClass()+\"$1\"); // hopefully its the first!\n</code></pre>\n\n<p>It is much simpler to give the class a name and use that. Many IDEs allow you to change one into the other very easily.</p>\n"},{"tags":[],"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1296863558,"creation_date":1296861905,"answer_id":4903908,"question_id":4903728,"body_markdown":"Maybe you&#39;re looking for this?\r\n\r\n\taction(SomeInterface.class);\r\n\r\nI think this could be what you&#39;re looking for, but this doesn&#39;t involve anonymous classes at all.\r\n\r\nIt might help to have more details on what the method  `action` does with the class reference.","title":"How to pass an anonymous Class (not an instance) as a parameter to a method expecting type Class in Java","body":"<p>Maybe you're looking for this?</p>\n\n<pre><code>action(SomeInterface.class);\n</code></pre>\n\n<p>I think this could be what you're looking for, but this doesn't involve anonymous classes at all.</p>\n\n<p>It might help to have more details on what the method  <code>action</code> does with the class reference.</p>\n"},{"tags":[],"owner":{"account_id":172794,"reputation":7472,"user_id":401059,"display_name":"Caesar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622428738,"creation_date":1622428738,"answer_id":67767338,"question_id":4903728,"body_markdown":"(Long form of @PeterLawrey&#39;s [answer](https://stackoverflow.com/a/4903818/401059))\r\n\r\nThe problem is that there is no syntax that defines an inner class without also instantiating it. My personal feeling is that this means it isn&#39;t properly supported by the language, and you shouldn&#39;t do it.\r\n\r\nBut technically, it&#39;s possible. Even if it is never executed, an anonymous inner class definition/instantiation will still be compiled and result in a class file. So, if you&#39;re willing to hack around and &quot;guess&quot; the name generated for the anonymous inner class, you can get its `Class&lt;?&gt;` instance with `Class.forName`.\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\nclass X {\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private Class&lt;? extends Runnable&gt; getAnon() {\r\n        if (true) { // Circumvent dead code compiler error\r\n            String innerName = getClass().getName() + &quot;$1&quot;;\r\n            System.out.println(&quot;Expect autogenerated inner class name to be &quot; + innerName);\r\n            try {\r\n                return (Class&lt;? extends Runnable&gt;)Class.forName(innerName);\r\n            } catch(ClassNotFoundException e) {\r\n                throw new RuntimeException(&quot;CompileTimeException!&quot;, e);\r\n            }\r\n        } \r\n        // Here&#39;s our anonymous inner\r\n        // And be careful:\r\n        // if you stuff it into the else branch of the if above,\r\n        // the class file won&#39;t get created\r\n        new Runnable() {\r\n            {\r\n                System.out.println(&quot;Inner class instantiated!&quot;);\r\n            }\r\n            public void run() {\r\n                System.out.println(&quot;My outer is \\&quot;&quot; + name + &quot;\\&quot;.&quot;);\r\n            }\r\n        };\r\n        // If you had multiple anonymous inner classes, the order would matter...\r\n        return null;\r\n    }\r\n\r\n    final String name;\r\n\r\n    X(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public static void main(final String... arguments) throws Exception {\r\n        Class&lt;? extends Runnable&gt; clazz = new X(&quot;This won&#39;t be used&quot;).getAnon();\r\n        System.out.println(&quot;Ctors: &quot; + Arrays.toString(clazz.getDeclaredConstructors()));\r\n        clazz.getDeclaredConstructor(X.class).newInstance(new X(&quot;magic&quot;)).run();\r\n    }\r\n}\r\n\r\n\r\n```\r\nThis should print:\r\n```text\r\nExpect autogenerated inner class name to be X$1\r\nCtors: [X$1(X)]\r\nInner class instantiated!\r\nMy outer is &quot;magic&quot;.\r\n```\r\nNote how only one instance of the inner class is constructed, and the instance of `X` that `getAnon` is called on is not the one that the anonymous class is instantiated with.\r\n\r\nSo we can refute some other arguments that said this should be impossible:\r\n * You need a name to refer to the class (@P&#233;terT&#246;r&#246;k): The `Class` instance stored in `clazz` is sufficient. (But we did have to cheat with the generated name `X$1`.)\r\n * Inner classes need an outer class for instantiation (@PaŭloEbermann): All variables that the inner class &quot;captures&quot; become parameters to its generated constructor. `this` behaves the same way. (Try adding a parameter to `getAnon` and print it from `run`.)","title":"How to pass an anonymous Class (not an instance) as a parameter to a method expecting type Class in Java","body":"<p>(Long form of @PeterLawrey's <a href=\"https://stackoverflow.com/a/4903818/401059\">answer</a>)</p>\n<p>The problem is that there is no syntax that defines an inner class without also instantiating it. My personal feeling is that this means it isn't properly supported by the language, and you shouldn't do it.</p>\n<p>But technically, it's possible. Even if it is never executed, an anonymous inner class definition/instantiation will still be compiled and result in a class file. So, if you're willing to hack around and &quot;guess&quot; the name generated for the anonymous inner class, you can get its <code>Class&lt;?&gt;</code> instance with <code>Class.forName</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\nclass X {\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private Class&lt;? extends Runnable&gt; getAnon() {\n        if (true) { // Circumvent dead code compiler error\n            String innerName = getClass().getName() + &quot;$1&quot;;\n            System.out.println(&quot;Expect autogenerated inner class name to be &quot; + innerName);\n            try {\n                return (Class&lt;? extends Runnable&gt;)Class.forName(innerName);\n            } catch(ClassNotFoundException e) {\n                throw new RuntimeException(&quot;CompileTimeException!&quot;, e);\n            }\n        } \n        // Here's our anonymous inner\n        // And be careful:\n        // if you stuff it into the else branch of the if above,\n        // the class file won't get created\n        new Runnable() {\n            {\n                System.out.println(&quot;Inner class instantiated!&quot;);\n            }\n            public void run() {\n                System.out.println(&quot;My outer is \\&quot;&quot; + name + &quot;\\&quot;.&quot;);\n            }\n        };\n        // If you had multiple anonymous inner classes, the order would matter...\n        return null;\n    }\n\n    final String name;\n\n    X(String name) {\n        this.name = name;\n    }\n\n    public static void main(final String... arguments) throws Exception {\n        Class&lt;? extends Runnable&gt; clazz = new X(&quot;This won't be used&quot;).getAnon();\n        System.out.println(&quot;Ctors: &quot; + Arrays.toString(clazz.getDeclaredConstructors()));\n        clazz.getDeclaredConstructor(X.class).newInstance(new X(&quot;magic&quot;)).run();\n    }\n}\n\n\n</code></pre>\n<p>This should print:</p>\n<pre><code>Expect autogenerated inner class name to be X$1\nCtors: [X$1(X)]\nInner class instantiated!\nMy outer is &quot;magic&quot;.\n</code></pre>\n<p>Note how only one instance of the inner class is constructed, and the instance of <code>X</code> that <code>getAnon</code> is called on is not the one that the anonymous class is instantiated with.</p>\n<p>So we can refute some other arguments that said this should be impossible:</p>\n<ul>\n<li>You need a name to refer to the class (@PéterTörök): The <code>Class</code> instance stored in <code>clazz</code> is sufficient. (But we did have to cheat with the generated name <code>X$1</code>.)</li>\n<li>Inner classes need an outer class for instantiation (@PaŭloEbermann): All variables that the inner class &quot;captures&quot; become parameters to its generated constructor. <code>this</code> behaves the same way. (Try adding a parameter to <code>getAnon</code> and print it from <code>run</code>.)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18441322,"reputation":71,"user_id":13433886,"display_name":"Leandro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646704090,"creation_date":1646703641,"answer_id":71389109,"question_id":4903728,"body_markdown":"Actually there&#39;s a way to achieve this without relying on reflection hacks, in other words, **without needing to guess the generated name**.\r\n\r\nBasically we can exploit the ternary operator to cast a null instance into an anonymous class, and then call a generic method with that null instance to retrieve the class (by using the generic varargs trick):\r\n\r\n```java\r\nclass X {\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;T&gt; Class&lt;?&gt; getAnon(T instance, T... dummyArray) {\r\n        return dummyArray.getClass().getComponentType();\r\n    } \r\n\r\n    public static void main(final String... arguments) throws Exception {\r\n        // Apparently there&#39;s a compiler bug if we just use &quot;false&quot;,\r\n        // so I&#39;m using an always-false condition\r\n        Class&lt;?&gt; clazz = getAnon(1 &lt; 0 ? new Runnable() { { System.out.println(&quot;Inner class instantiated!&quot;); } void run() { } } : null);\r\n        System.out.println(clazz);\r\n    }\r\n}\r\n```\r\n\r\nThis should print the name of the anonymous class, without printing &quot;Inner class instantiated!&quot;\r\n\r\nEDIT: Using an always-false condition causes the compiler to not generate the class file for the anonymous class. So you must use a condition that the compiler can&#39;t assure to be false (a public boolean variable should work, not sure if private also works)","title":"How to pass an anonymous Class (not an instance) as a parameter to a method expecting type Class in Java","body":"<p>Actually there's a way to achieve this without relying on reflection hacks, in other words, <strong>without needing to guess the generated name</strong>.</p>\n<p>Basically we can exploit the ternary operator to cast a null instance into an anonymous class, and then call a generic method with that null instance to retrieve the class (by using the generic varargs trick):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class X {\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private static &lt;T&gt; Class&lt;?&gt; getAnon(T instance, T... dummyArray) {\n        return dummyArray.getClass().getComponentType();\n    } \n\n    public static void main(final String... arguments) throws Exception {\n        // Apparently there's a compiler bug if we just use &quot;false&quot;,\n        // so I'm using an always-false condition\n        Class&lt;?&gt; clazz = getAnon(1 &lt; 0 ? new Runnable() { { System.out.println(&quot;Inner class instantiated!&quot;); } void run() { } } : null);\n        System.out.println(clazz);\n    }\n}\n</code></pre>\n<p>This should print the name of the anonymous class, without printing &quot;Inner class instantiated!&quot;</p>\n<p>EDIT: Using an always-false condition causes the compiler to not generate the class file for the anonymous class. So you must use a condition that the compiler can't assure to be false (a public boolean variable should work, not sure if private also works)</p>\n"}],"owner":{"account_id":707563,"reputation":31,"user_id":603911,"display_name":"Nithya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3908,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1646704090,"creation_date":1296860052,"question_id":4903728,"body_markdown":"I have to call a method that takes a `Class` parameter:\r\n\r\n    public action(Class&lt;? extends SomeInterface&gt; classVariable);\r\n\r\nI am able to do this:\r\n\r\n    action(new SomeInterface() { \r\n        // implement interface\r\n      }.getClass());\r\n\r\nBut, can I get away without instantiating the object and calling the `getClass()`? \r\n\r\n","title":"How to pass an anonymous Class (not an instance) as a parameter to a method expecting type Class in Java","body":"<p>I have to call a method that takes a <code>Class</code> parameter:</p>\n\n<pre><code>public action(Class&lt;? extends SomeInterface&gt; classVariable);\n</code></pre>\n\n<p>I am able to do this:</p>\n\n<pre><code>action(new SomeInterface() { \n    // implement interface\n  }.getClass());\n</code></pre>\n\n<p>But, can I get away without instantiating the object and calling the <code>getClass()</code>? </p>\n"},{"tags":["java","angularjs","jersey","cors"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1459606700,"post_id":36374247,"comment_id":60366498,"body_markdown":"Have you registered the provider in your `web.xml` or application class?","body":"Have you registered the provider in your <code>web.xml</code> or application class?"},{"owner":{"account_id":7084284,"reputation":38870,"user_id":5421539,"accept_rate":66,"display_name":"Joey Yi Zhao"},"score":0,"creation_date":1459607098,"post_id":36374247,"comment_id":60366628,"body_markdown":"I am using spring-boot and it works for other method like GET, POST. Only failed on DELETE","body":"I am using spring-boot and it works for other method like GET, POST. Only failed on DELETE"}],"answers":[{"tags":[],"owner":{"account_id":7084284,"reputation":38870,"user_id":5421539,"accept_rate":66,"display_name":"Joey Yi Zhao"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1459772964,"creation_date":1459772964,"answer_id":36402706,"question_id":36374247,"body_markdown":"After some testing, I found the solution. I put the allow method on the header as below, then it works. I don&#39;t know why &quot;*&quot; doesn&#39;t work.\r\n\r\n    headers.add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, OPTIONS, PUT, DELETE&quot;);","title":"Always got Method DELETE is not allowed by Access-Control-Allow-Methods in preflight response","body":"<p>After some testing, I found the solution. I put the allow method on the header as below, then it works. I don't know why \"*\" doesn't work.</p>\n\n<pre><code>headers.add(\"Access-Control-Allow-Methods\", \"GET, POST, OPTIONS, PUT, DELETE\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24485820,"reputation":31,"user_id":18403518,"display_name":"kaizoku"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646702763,"creation_date":1646702763,"answer_id":71389030,"question_id":36374247,"body_markdown":"The value &quot; * &quot; only counts as a special wildcard value for **requests without credentials (requests without HTTP cookies or HTTP authentication information)**. In requests with credentials, it is treated as the literal method name &quot;*&quot; without special semantics.\r\n\r\nSource : https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Methods","title":"Always got Method DELETE is not allowed by Access-Control-Allow-Methods in preflight response","body":"<p>The value &quot; * &quot; only counts as a special wildcard value for <strong>requests without credentials (requests without HTTP cookies or HTTP authentication information)</strong>. In requests with credentials, it is treated as the literal method name &quot;*&quot; without special semantics.</p>\n<p>Source : <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Methods\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Methods</a></p>\n"}],"owner":{"account_id":7084284,"reputation":38870,"user_id":5421539,"accept_rate":66,"display_name":"Joey Yi Zhao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41632,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":36402706,"answer_count":2,"score":28,"last_activity_date":1646702763,"creation_date":1459605785,"question_id":36374247,"body_markdown":"I am using jersey as my restful api implementation. In the front end, I am using angularjs $http service to make http request. When I request a delete method I always got below error.\r\n\r\n    &quot;Method DELETE is not allowed by Access-Control-Allow-Methods in preflight response.&quot;  \r\n\r\nI read some articles and they say I need to allow delete on &quot;Access-Control-Allow-Methods&quot;. I have setup the response filter as below but it still has such problem. What else should I do?\r\n\r\n    @Provider\r\n    public class CORSResponseFilter implements ContainerResponseFilter {\r\n    \r\n        @Override\r\n        public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException {\r\n            MultivaluedMap&lt;String, Object&gt; headers = responseContext.getHeaders();\r\n    \r\n            headers.add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            headers.add(&quot;Access-Control-Allow-Methods&quot;, &quot;*&quot;);\r\n        }\r\n    }\r\n\r\nbelow is my angular code to make the request:\r\n\r\n    $http({\r\n                method: &#39;DELETE&#39;,\r\n                url: remoteUrl,\r\n                headers : {&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded;charset=utf-8&#39;,\r\n                    &#39;ACCESS_TOKEN&#39; : $cookieStore.get(&quot;access_token&quot;)\r\n                },\r\n                data : $httpParamSerializer({\r\n                    &#39;id&#39;:id\r\n                })\r\n            }).success(function(data,status,headers,config) {\r\n                $scope.refreshDepartments();\r\n                console.log(data);\r\n                alert(&quot;success&quot;);\r\n            }).error(function(data,status,headers,config){\r\n                console.log(data);\r\n                alert(&quot;error&quot;);\r\n            });","title":"Always got Method DELETE is not allowed by Access-Control-Allow-Methods in preflight response","body":"<p>I am using jersey as my restful api implementation. In the front end, I am using angularjs $http service to make http request. When I request a delete method I always got below error.</p>\n\n<pre><code>\"Method DELETE is not allowed by Access-Control-Allow-Methods in preflight response.\"  \n</code></pre>\n\n<p>I read some articles and they say I need to allow delete on \"Access-Control-Allow-Methods\". I have setup the response filter as below but it still has such problem. What else should I do?</p>\n\n<pre><code>@Provider\npublic class CORSResponseFilter implements ContainerResponseFilter {\n\n    @Override\n    public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException {\n        MultivaluedMap&lt;String, Object&gt; headers = responseContext.getHeaders();\n\n        headers.add(\"Access-Control-Allow-Origin\", \"*\");\n        headers.add(\"Access-Control-Allow-Methods\", \"*\");\n    }\n}\n</code></pre>\n\n<p>below is my angular code to make the request:</p>\n\n<pre><code>$http({\n            method: 'DELETE',\n            url: remoteUrl,\n            headers : {'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8',\n                'ACCESS_TOKEN' : $cookieStore.get(\"access_token\")\n            },\n            data : $httpParamSerializer({\n                'id':id\n            })\n        }).success(function(data,status,headers,config) {\n            $scope.refreshDepartments();\n            console.log(data);\n            alert(\"success\");\n        }).error(function(data,status,headers,config){\n            console.log(data);\n            alert(\"error\");\n        });\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646702609,"creation_date":1646702609,"answer_id":71389012,"question_id":71388084,"body_markdown":"i think as you use `spring.jpa.hibernate.ddl-auto=create-drop` if you application runs normally you will find your tables but if crashed or throws error the spring make rollback to created tables if any","title":"Spring boot/Hibernate: Tables not getting created","body":"<p>i think as you use <code>spring.jpa.hibernate.ddl-auto=create-drop</code> if you application runs normally you will find your tables but if crashed or throws error the spring make rollback to created tables if any</p>\n"}],"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646702609,"creation_date":1646692815,"question_id":71388084,"body_markdown":"My application was creating tables earlier. I was running into &quot;detached entity passed to persist&quot; exception during which I found out that the date/time was null. To fix the issue so that I can debug the problem, I dropped all the tables in the dev environment and re-ran the application. Now my tables are no longer getting created. \r\n\r\nAny suggestions on what is that I messed up?\r\n\r\nRelevant application.properties are as below:\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/XXX\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.properties.hibernate.id.new_generator_mappings = false\r\nspring.jpa.properties.hibernate.format_sql = true\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql = true\r\nspring.jpa.generate-ddl=true\r\n``` \r\n\r\nI am seeing below errors during startup:\r\n\r\n```\r\n2022-03-07 14:13:36.666 DEBUG 37790 --- [main] .h.t.s.s.SchemaManagementToolCoordinator : No actions specified; doing nothing\r\n2022-03-07 14:13:36.667 DEBUG 37790 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : No JtaPlatform was specified, checking resolver\r\n2022-03-07 14:13:36.667 DEBUG 37790 --- [main] h.e.t.j.p.i.JtaPlatformResolverInitiator : No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]\r\n2022-03-07 14:13:36.671 DEBUG 37790 --- [main] .h.e.t.j.p.i.StandardJtaPlatformResolver : Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-03-07 14:13:36.671  INFO 37790 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-03-07 14:13:36.672 DEBUG 37790 --- [main] o.h.q.s.NamedQueryRepository             : Checking 0 named HQL queries\r\n2022-03-07 14:13:36.672 DEBUG 37790 --- [main] o.h.q.s.NamedQueryRepository             : Checking 0 named SQL queries\r\n```\r\n\r\nI do see that the LoadPlan is properly getting created. I tried with spring.jpa.hibernate.ddl-auto=create as well.","title":"Spring boot/Hibernate: Tables not getting created","body":"<p>My application was creating tables earlier. I was running into &quot;detached entity passed to persist&quot; exception during which I found out that the date/time was null. To fix the issue so that I can debug the problem, I dropped all the tables in the dev environment and re-ran the application. Now my tables are no longer getting created.</p>\n<p>Any suggestions on what is that I messed up?</p>\n<p>Relevant application.properties are as below:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/XXX\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.properties.hibernate.id.new_generator_mappings = false\nspring.jpa.properties.hibernate.format_sql = true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql = true\nspring.jpa.generate-ddl=true\n</code></pre>\n<p>I am seeing below errors during startup:</p>\n<pre><code>2022-03-07 14:13:36.666 DEBUG 37790 --- [main] .h.t.s.s.SchemaManagementToolCoordinator : No actions specified; doing nothing\n2022-03-07 14:13:36.667 DEBUG 37790 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : No JtaPlatform was specified, checking resolver\n2022-03-07 14:13:36.667 DEBUG 37790 --- [main] h.e.t.j.p.i.JtaPlatformResolverInitiator : No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]\n2022-03-07 14:13:36.671 DEBUG 37790 --- [main] .h.e.t.j.p.i.StandardJtaPlatformResolver : Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-03-07 14:13:36.671  INFO 37790 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-03-07 14:13:36.672 DEBUG 37790 --- [main] o.h.q.s.NamedQueryRepository             : Checking 0 named HQL queries\n2022-03-07 14:13:36.672 DEBUG 37790 --- [main] o.h.q.s.NamedQueryRepository             : Checking 0 named SQL queries\n</code></pre>\n<p>I do see that the LoadPlan is properly getting created. I tried with spring.jpa.hibernate.ddl-auto=create as well.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1646724623,"post_id":71388353,"comment_id":126188443,"body_markdown":"Remove the configuration `&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;` and follow convention over configuration. Put the sources into src/main/java and tests into src/test/java etc. Furthermore if you like to create an executable jar you should check for [maven-shade-plugin](https://maven.apache.org/plugins/maven-shade-plugin/)","body":"Remove the configuration <code>&lt;sourceDirectory&gt;src&lt;&#47;sourceDirectory&gt;</code> and follow convention over configuration. Put the sources into src/main/java and tests into src/test/java etc. Furthermore if you like to create an executable jar you should check for <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven-shade-plugin</a>"}],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646702343,"creation_date":1646702343,"answer_id":71388983,"question_id":71388353,"body_markdown":"as you use maven there is property `&lt;packaging&gt;jar&lt;/packaging&gt;` you can put it after &lt;version&gt; property then from cmd u can run  `mvn clean package` or from eclipse right click -&gt; run as -&gt;  run configuraton -&gt;  select maven -&gt; new (most top left) -&gt; inside goals -&gt; clean package","title":"how to set up my java maven project so it will export","body":"<p>as you use maven there is property <code>&lt;packaging&gt;jar&lt;/packaging&gt;</code> you can put it after  property then from cmd u can run  <code>mvn clean package</code> or from eclipse right click -&gt; run as -&gt;  run configuraton -&gt;  select maven -&gt; new (most top left) -&gt; inside goals -&gt; clean package</p>\n"}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646702343,"creation_date":1646695331,"question_id":71388353,"body_markdown":"I have a Java Swing project that&#39;s working fine from within eclipse. When I attempt to export it as a runnable jar, I get the following errors:\r\n\r\n[![&#39;additional details&#39; from export to runnable jar selection][1]][1]\r\n\r\n\r\nI don&#39;t know how to keep eclipse from looking for classfiles from my &#39;sandbox&#39; sources; they don&#39;t figure in the program. I don&#39;t know if that&#39;s the fatal error that&#39;s preventing the creation of the runnable jar.\r\n\r\nI don&#39;t know how to eliminate the &#39;duplicate entry&#39; messages, there are hundreds of them. All the org/apache/log4j, org/apache/batik, etc. These are all brought in by maven, I don&#39;t know who uses them but it isn&#39;t in my code. The pom file is:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;DrivingRecordReader&lt;/groupId&gt;\r\n      &lt;artifactId&gt;DrivingRecordReader&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n      &lt;dependencies&gt;\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;4.4.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.0.25&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t     &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t     &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t     &lt;version&gt;5.0.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.17.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nSo I only depend on 4 things: tess4j, pdfbox, apache poi, and apache logging. The build path for the project in eclipse only references a utility library of my own; I do not define any other external jars, letting maven take care of that.\r\n\r\nWhen I select &#39;export to runnable jar&#39;, it cranks for a long time, then displays the following:\r\n\r\n[![Error pop-up after eclipse export to runnable jar][2]][2]\r\n\r\nI can run the jar, but don&#39;t know how to verify that it has all that it&#39;s supposed to have in it.\r\n\r\nHow is the eclipse project supposed to be set up so that I avoid hundreds of &#39;duplicate entry&#39; calls, and can configure sample code directories to be skipped for packaging a runnable jar? And can someone tell from this what the blocking problem is?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rv2FU.png\r\n  [2]: https://i.stack.imgur.com/W3ovr.png","title":"how to set up my java maven project so it will export","body":"<p>I have a Java Swing project that's working fine from within eclipse. When I attempt to export it as a runnable jar, I get the following errors:</p>\n<p><a href=\"https://i.stack.imgur.com/rv2FU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rv2FU.png\" alt=\"'additional details' from export to runnable jar selection\" /></a></p>\n<p>I don't know how to keep eclipse from looking for classfiles from my 'sandbox' sources; they don't figure in the program. I don't know if that's the fatal error that's preventing the creation of the runnable jar.</p>\n<p>I don't know how to eliminate the 'duplicate entry' messages, there are hundreds of them. All the org/apache/log4j, org/apache/batik, etc. These are all brought in by maven, I don't know who uses them but it isn't in my code. The pom file is:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;DrivingRecordReader&lt;/groupId&gt;\n  &lt;artifactId&gt;DrivingRecordReader&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n        &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n        &lt;version&gt;4.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n        &lt;version&gt;2.0.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n         &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n         &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>So I only depend on 4 things: tess4j, pdfbox, apache poi, and apache logging. The build path for the project in eclipse only references a utility library of my own; I do not define any other external jars, letting maven take care of that.</p>\n<p>When I select 'export to runnable jar', it cranks for a long time, then displays the following:</p>\n<p><a href=\"https://i.stack.imgur.com/W3ovr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W3ovr.png\" alt=\"Error pop-up after eclipse export to runnable jar\" /></a></p>\n<p>I can run the jar, but don't know how to verify that it has all that it's supposed to have in it.</p>\n<p>How is the eclipse project supposed to be set up so that I avoid hundreds of 'duplicate entry' calls, and can configure sample code directories to be skipped for packaging a runnable jar? And can someone tell from this what the blocking problem is?</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":1220513,"reputation":121,"user_id":1187247,"accept_rate":50,"display_name":"jjjjj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646702107,"creation_date":1646700106,"answer_id":71388778,"question_id":71357031,"body_markdown":"I was able to solve this with a custom extension of JacksonAnnotationIntrospector.  I overrode the methods that look for @JsonProperty and provided my own logic.  I also had to implement my own hasIgnoreMarker() to avoid placing @JsonIgnore all over the place because the filtering doesn&#39;t happen until the actual serialization so I was getting errors about duplicate getters and setters. \r\n\r\n    mapper.setAnnotationIntrospector(new MyAnnotationIntrospector());\r\n\r\n\r\n\r\n    private static class MyAnnotationIntrospector extends JacksonAnnotationIntrospector {\r\n\r\n        \r\n        @Override\r\n        public PropertyName findNameForSerialization(Annotated a) {\r\n            if (a instanceof AnnotatedField) {\r\n                String name = a.getName();\r\n                if (name.endsWith(&quot;Attribute&quot;)) {\r\n                    return PropertyName.construct(name.replace(&quot;Attribute&quot;, &quot;&quot;));\r\n                }\r\n            }\r\n            return super.findNameForSerialization(a);\r\n        }\r\n\r\n        @Override\r\n        public PropertyName findNameForDeserialization(Annotated a) {\r\n            if (a instanceof AnnotatedField) {\r\n                String name = a.getName();\r\n                if (name.endsWith(&quot;Attribute&quot;)) {\r\n                    return PropertyName.construct(name.replace(&quot;Attribute&quot;, &quot;&quot;));\r\n                }\r\n            }\r\n            return super.findNameForDeserialization(a);\r\n        }","title":"Custom or dynamic @JsonProperty for all fields without annotation with Jackson","body":"<p>I was able to solve this with a custom extension of JacksonAnnotationIntrospector.  I overrode the methods that look for @JsonProperty and provided my own logic.  I also had to implement my own hasIgnoreMarker() to avoid placing @JsonIgnore all over the place because the filtering doesn't happen until the actual serialization so I was getting errors about duplicate getters and setters.</p>\n<pre><code>mapper.setAnnotationIntrospector(new MyAnnotationIntrospector());\n\n\n\nprivate static class MyAnnotationIntrospector extends JacksonAnnotationIntrospector {\n\n    \n    @Override\n    public PropertyName findNameForSerialization(Annotated a) {\n        if (a instanceof AnnotatedField) {\n            String name = a.getName();\n            if (name.endsWith(&quot;Attribute&quot;)) {\n                return PropertyName.construct(name.replace(&quot;Attribute&quot;, &quot;&quot;));\n            }\n        }\n        return super.findNameForSerialization(a);\n    }\n\n    @Override\n    public PropertyName findNameForDeserialization(Annotated a) {\n        if (a instanceof AnnotatedField) {\n            String name = a.getName();\n            if (name.endsWith(&quot;Attribute&quot;)) {\n                return PropertyName.construct(name.replace(&quot;Attribute&quot;, &quot;&quot;));\n            }\n        }\n        return super.findNameForDeserialization(a);\n    }\n</code></pre>\n"}],"owner":{"account_id":1220513,"reputation":121,"user_id":1187247,"accept_rate":50,"display_name":"jjjjj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71388778,"answer_count":1,"score":1,"last_activity_date":1646702107,"creation_date":1646426529,"question_id":71357031,"body_markdown":"I&#39;m looking for a way to customize the serialized keys and deserialized setter calls for jackson.  I have a few hundred objects that are all somehow related with various levels of abstractions and interfaces, however they don&#39;t have many inherited fields. I am using a mixin that applies to all my classes to utilize a filter and a TypeIdResolver.  All of the fields I want serialized to json end in &#39;attribute&#39;, but I don&#39;t want attribute after every key in the json. I&#39;m unable to refactor the field and method names as it&#39;s used for legacy XML parsing and I can&#39;t break that. I really don&#39;t want to add @JsonProperty to every field;  I&#39;m looking for something more dynamic.  Some way to inspect fields to serialize or keys to deserialize and modify it to my liking.\r\n\r\nFor deserialization, I think I might be able to use InjectibleValues, but I haven&#39;t tried as I haven&#39;t been able to find anything to customize the output keys.\r\n\r\nfor example,\r\n\r\n    String nameAttribute = &quot;xyz&quot;;\r\n    getNameAttribute()\r\n\r\n    &quot;name&quot;=&quot;xyz&quot;\r\nNot\r\n\r\n    &quot;nameAttribute&quot;=&quot;xyz&quot;","title":"Custom or dynamic @JsonProperty for all fields without annotation with Jackson","body":"<p>I'm looking for a way to customize the serialized keys and deserialized setter calls for jackson.  I have a few hundred objects that are all somehow related with various levels of abstractions and interfaces, however they don't have many inherited fields. I am using a mixin that applies to all my classes to utilize a filter and a TypeIdResolver.  All of the fields I want serialized to json end in 'attribute', but I don't want attribute after every key in the json. I'm unable to refactor the field and method names as it's used for legacy XML parsing and I can't break that. I really don't want to add @JsonProperty to every field;  I'm looking for something more dynamic.  Some way to inspect fields to serialize or keys to deserialize and modify it to my liking.</p>\n<p>For deserialization, I think I might be able to use InjectibleValues, but I haven't tried as I haven't been able to find anything to customize the output keys.</p>\n<p>for example,</p>\n<pre><code>String nameAttribute = &quot;xyz&quot;;\ngetNameAttribute()\n\n&quot;name&quot;=&quot;xyz&quot;\n</code></pre>\n<p>Not</p>\n<pre><code>&quot;nameAttribute&quot;=&quot;xyz&quot;\n</code></pre>\n"},{"tags":["java","spring","kotlin","security","webflux"],"comments":[{"owner":{"account_id":16404312,"reputation":641,"user_id":11849314,"display_name":"Jaume Mor&#243;n i Tarrasa"},"score":1,"creation_date":1646667375,"post_id":71378620,"comment_id":126174244,"body_markdown":"Could you write the security configuration? May be, SecureContextHolder returns null because authentication object is not set","body":"Could you write the security configuration? May be, SecureContextHolder returns null because authentication object is not set"},{"owner":{"account_id":5133120,"reputation":113,"user_id":4112670,"display_name":"Victor Mikhailov"},"score":0,"creation_date":1646701807,"post_id":71378620,"comment_id":126184419,"body_markdown":"updated in the post","body":"updated in the post"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646692550,"creation_date":1646692550,"answer_id":71388043,"question_id":71378620,"body_markdown":"You need to define WebFlux Security configuration using `SecurityWebFilterChain` bean. Here is an example for OAuth 2.0 Resource Server:\r\n\r\n```\r\n@Bean\r\npublic SecurityWebFilterChain apiSecurity(ServerHttpSecurity http) {\r\n\thttp.authorizeExchange()\r\n\t\t\t.pathMatchers(&quot;/api/**&quot;).hasAuthority(&quot;SCOPE_api&quot;)\r\n\t\t\t.anyExchange().authenticated()\r\n\t\t\t.and()\r\n\t\t\t.oauth2ResourceServer()\r\n\t\t\t.jwt();\r\n\treturn http.build();\r\n}\r\n``` \r\n\r\nYou can find more details here [WebFlux Security](https://docs.spring.io/spring-security/reference/reactive/configuration/webflux.html)","title":"How to get current authenticated user in Spring WebFlux","body":"<p>You need to define WebFlux Security configuration using <code>SecurityWebFilterChain</code> bean. Here is an example for OAuth 2.0 Resource Server:</p>\n<pre><code>@Bean\npublic SecurityWebFilterChain apiSecurity(ServerHttpSecurity http) {\n    http.authorizeExchange()\n            .pathMatchers(&quot;/api/**&quot;).hasAuthority(&quot;SCOPE_api&quot;)\n            .anyExchange().authenticated()\n            .and()\n            .oauth2ResourceServer()\n            .jwt();\n    return http.build();\n}\n</code></pre>\n<p>You can find more details here <a href=\"https://docs.spring.io/spring-security/reference/reactive/configuration/webflux.html\" rel=\"nofollow noreferrer\">WebFlux Security</a></p>\n"}],"owner":{"account_id":5133120,"reputation":113,"user_id":4112670,"display_name":"Victor Mikhailov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1705,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646702100,"creation_date":1646643776,"question_id":71378620,"body_markdown":"\r\nI&#39;m trying to retrieve authentication object, which creates user name and permissions.\r\nI know that in WebFlux I cannot use SecurityContextHolder.getContext(), but rather must use ReactiveSecurityContextHolder.getContext()\r\n\r\nBut in both cases, result is null.\r\n\r\n\r\n```\r\n        val autx = ReactiveSecurityContextHolder.getContext()\r\n            .map(SecurityContext::getAuthentication) // always null\r\n```\r\n\r\nor\r\n\r\n```\r\n        val auth = ReactiveSecurityContextHolder.getContext().filter { it.authentication != null }\r\n            .map { it.authentication.principal }.block() // always null\r\n```\r\n\r\nI understand, that before retrieve auth object from ReactiveSecurityContextHolder, someone must put it into there.  Cannot find any example how to do that, and where in the code it should be populated. \r\nIdeally, I think it should be in the ReactiveAuthenticationManager implementation in the authenticate method.  \r\nI added this into authenticate method:\r\n```\r\n                ReactiveSecurityContextHolder.getContext()\r\n                    .map { context: SecurityContext -&gt;\r\n                        context.authentication.principal\r\n                    }\r\n                    .cast(UserData::class.java)\r\n                    .contextWrite(ReactiveSecurityContextHolder.withAuthentication(authentication))\r\n                    .subscribe()\r\n```\r\n\r\nbut it doesnt change anything\r\n\r\nworking examples on Java or Kotlin are appreciated\r\n\r\nconfiguration:\r\n\r\n\r\n```\r\n@Bean\r\nfun securityWebFilterChain(http: ServerHttpSecurity): SecurityWebFilterChain {\r\n    return http.authorizeExchange()\r\n        .pathMatchers(&quot;**/health&quot;).permitAll()\r\n        .pathMatchers(&quot;/**&quot;).authenticated()\r\n        .anyExchange().authenticated()\r\n        .and()\r\n        .authenticationManager(authenticationManager) // ReactiveAuthenticationManager impl\r\n        .securityContextRepository(securityContextRepository)\r\n        .csrf().disable()\r\n        .cors().configurationSource(corsConfig())\r\n        .and()\r\n        .build()\r\n}\r\n```\r\n\r\n\r\ncontext repository:\r\n```\r\n@Component\r\nclass SecurityContextRepository(\r\n    val authenticationManager: ReactiveAuthenticationManager\r\n) : ServerSecurityContextRepository {\r\n\r\n    override fun save(swe: ServerWebExchange, sc: SecurityContext): Mono&lt;Void&gt; {\r\n        throw UnsupportedOperationException(&quot;SecurityContext save not supported&quot;)\r\n        // if i want to save, what should be there? \r\n    }\r\n\r\n    override fun load(serverExchange: ServerWebExchange): Mono&lt;SecurityContext&gt; {\r\n        val authHeader = serverExchange.request.headers.getFirst(HttpHeaders.AUTHORIZATION)\r\n        val preAuthentication = PreAuthenticatedAuthenticationToken(null, authHeader)\r\n        return this.authenticationManager.authenticate(preAuthentication)\r\n            .map { authentication -&gt; SecurityContextImpl(authentication) }\r\n    }\r\n}\r\n```","title":"How to get current authenticated user in Spring WebFlux","body":"<p>I'm trying to retrieve authentication object, which creates user name and permissions.\nI know that in WebFlux I cannot use SecurityContextHolder.getContext(), but rather must use ReactiveSecurityContextHolder.getContext()</p>\n<p>But in both cases, result is null.</p>\n<pre><code>        val autx = ReactiveSecurityContextHolder.getContext()\n            .map(SecurityContext::getAuthentication) // always null\n</code></pre>\n<p>or</p>\n<pre><code>        val auth = ReactiveSecurityContextHolder.getContext().filter { it.authentication != null }\n            .map { it.authentication.principal }.block() // always null\n</code></pre>\n<p>I understand, that before retrieve auth object from ReactiveSecurityContextHolder, someone must put it into there.  Cannot find any example how to do that, and where in the code it should be populated.\nIdeally, I think it should be in the ReactiveAuthenticationManager implementation in the authenticate method.<br />\nI added this into authenticate method:</p>\n<pre><code>                ReactiveSecurityContextHolder.getContext()\n                    .map { context: SecurityContext -&gt;\n                        context.authentication.principal\n                    }\n                    .cast(UserData::class.java)\n                    .contextWrite(ReactiveSecurityContextHolder.withAuthentication(authentication))\n                    .subscribe()\n</code></pre>\n<p>but it doesnt change anything</p>\n<p>working examples on Java or Kotlin are appreciated</p>\n<p>configuration:</p>\n<pre><code>@Bean\nfun securityWebFilterChain(http: ServerHttpSecurity): SecurityWebFilterChain {\n    return http.authorizeExchange()\n        .pathMatchers(&quot;**/health&quot;).permitAll()\n        .pathMatchers(&quot;/**&quot;).authenticated()\n        .anyExchange().authenticated()\n        .and()\n        .authenticationManager(authenticationManager) // ReactiveAuthenticationManager impl\n        .securityContextRepository(securityContextRepository)\n        .csrf().disable()\n        .cors().configurationSource(corsConfig())\n        .and()\n        .build()\n}\n</code></pre>\n<p>context repository:</p>\n<pre><code>@Component\nclass SecurityContextRepository(\n    val authenticationManager: ReactiveAuthenticationManager\n) : ServerSecurityContextRepository {\n\n    override fun save(swe: ServerWebExchange, sc: SecurityContext): Mono&lt;Void&gt; {\n        throw UnsupportedOperationException(&quot;SecurityContext save not supported&quot;)\n        // if i want to save, what should be there? \n    }\n\n    override fun load(serverExchange: ServerWebExchange): Mono&lt;SecurityContext&gt; {\n        val authHeader = serverExchange.request.headers.getFirst(HttpHeaders.AUTHORIZATION)\n        val preAuthentication = PreAuthenticatedAuthenticationToken(null, authHeader)\n        return this.authenticationManager.authenticate(preAuthentication)\n            .map { authentication -&gt; SecurityContextImpl(authentication) }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jhipster","jdl"],"answers":[{"tags":[],"owner":{"account_id":4273663,"reputation":329,"user_id":3494886,"display_name":"robinrjoe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1622022686,"creation_date":1622009825,"answer_id":67699452,"question_id":67281023,"body_markdown":"The problem is with the JSON files in `.Jhipster` directory. Whenever we upgrade JHipster or import new entity, JHipster runs the entire entities using JSON files in `.JHipster` directory.\r\n\r\nI couldn&#39;t get the exact solution but I did work around to get the solution. I just created new entity which is creating an issue. I imported the entity which generated new JSON file for the entity. I ignored other files created while importing this new JDL file. After this, I was able to upgrade the JHipster project.","title":"How to make JHipster JDL Import to skip regenerating existing entities","body":"<p>The problem is with the JSON files in <code>.Jhipster</code> directory. Whenever we upgrade JHipster or import new entity, JHipster runs the entire entities using JSON files in <code>.JHipster</code> directory.</p>\n<p>I couldn't get the exact solution but I did work around to get the solution. I just created new entity which is creating an issue. I imported the entity which generated new JSON file for the entity. I ignored other files created while importing this new JDL file. After this, I was able to upgrade the JHipster project.</p>\n"},{"tags":[],"owner":{"account_id":24485726,"reputation":11,"user_id":18403440,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646701870,"creation_date":1646701870,"answer_id":71388936,"question_id":67281023,"body_markdown":"I had the same error.  I deleted everything (the json files) in  .Jhipster directory.  Then I ran jhipster jdl jhipster-jdl.jdl\r\nand everything worked!","title":"How to make JHipster JDL Import to skip regenerating existing entities","body":"<p>I had the same error.  I deleted everything (the json files) in  .Jhipster directory.  Then I ran jhipster jdl jhipster-jdl.jdl\nand everything worked!</p>\n"}],"owner":{"account_id":4273663,"reputation":329,"user_id":3494886,"display_name":"robinrjoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67699452,"answer_count":2,"score":1,"last_activity_date":1646701870,"creation_date":1619518196,"question_id":67281023,"body_markdown":"I have a Monolith application generated by JHipster 6.7.0. My Local version of JHipster is 7.0.1. When I try to import a new entity using **jhipster import-jdl app.jdl** command, I am getting an issue with the the entities which are already available. \r\n\r\n ```\r\nERROR! Error at entity Ticket: relationship name is not synchronized {\r\n    &quot;relationshipName&quot;: &quot;jobs&quot;,\r\n    &quot;otherEntityName&quot;: &quot;ticketJob&quot;,\r\n    &quot;relationshipType&quot;: &quot;one-to-many&quot;,\r\n    &quot;otherEntityRelationshipName&quot;: &quot;ticket&quot;,\r\n    &quot;otherEntity&quot;: &quot;[TicketJob Entity]&quot;,\r\n    &quot;otherEntityField&quot;: &quot;id&quot;,\r\n    &quot;ownerSide&quot;: false,\r\n    &quot;collection&quot;: true,\r\n    &quot;otherSideReferenceExists&quot;: false,\r\n    &quot;otherEntityIsEmbedded&quot;: false\r\n} with {\r\n    &quot;relationshipName&quot;: &quot;ticket&quot;,\r\n    &quot;otherEntityName&quot;: &quot;ticket&quot;,\r\n    &quot;relationshipType&quot;: &quot;many-to-one&quot;,\r\n    &quot;otherEntityField&quot;: &quot;id&quot;,\r\n    &quot;otherEntityRelationshipName&quot;: &quot;ticketJob&quot;,\r\n    &quot;otherEntity&quot;: &quot;[Ticket Entity]&quot;,\r\n    &quot;ownerSide&quot;: true,\r\n    &quot;collection&quot;: false,\r\n    &quot;otherSideReferenceExists&quot;: false,\r\n    &quot;otherEntityIsEmbedded&quot;: false,\r\n    &quot;relatedField&quot;: {\r\n        &quot;fieldName&quot;: &quot;id&quot;,\r\n        &quot;id&quot;: true,\r\n        &quot;fieldNameHumanized&quot;: &quot;ID&quot;,\r\n        &quot;fieldTranslationKey&quot;: &quot;global.field.id&quot;,\r\n        &quot;autoGenerate&quot;: true,\r\n        &quot;dynamic&quot;: false,\r\n        &quot;fieldType&quot;: &quot;Long&quot;,\r\n        &quot;fieldNameCapitalized&quot;: &quot;Id&quot;,\r\n        &quot;fieldNameUnderscored&quot;: &quot;id&quot;,\r\n        &quot;tsType&quot;: &quot;number&quot;,\r\n        &quot;entity&quot;: &quot;[Ticket Entity]&quot;,\r\n        &quot;jpaGeneratedValue&quot;: &quot;sequence&quot;,\r\n        &quot;readonly&quot;: true,\r\n        &quot;fieldIsEnum&quot;: false,\r\n        &quot;fieldWithContentType&quot;: false,\r\n        &quot;fieldNameAsDatabaseColumn&quot;: &quot;id&quot;,\r\n        &quot;columnName&quot;: &quot;id&quot;,\r\n        &quot;fieldInJavaBeanMethod&quot;: &quot;Id&quot;,\r\n        &quot;fieldValidate&quot;: false,\r\n        &quot;nullable&quot;: true,\r\n        &quot;unique&quot;: false,\r\n        &quot;uniqueValue&quot;: [],\r\n        &quot;path&quot;: [\r\n            &quot;id&quot;\r\n        ],\r\n        &quot;relationshipsPath&quot;: [],\r\n        &quot;reference&quot;: &quot;[id Reference]&quot;,\r\n        &quot;relatedByOtherEntity&quot;: true\r\n    } \r\n```\r\n\r\nIs it possible to skip the existing entities while importing new entities with new version? Or is it easier to upgrade the existing entities to the latest version? (I get the same issue even I try to upgrade the application using **jhipster upgrade** command ","title":"How to make JHipster JDL Import to skip regenerating existing entities","body":"<p>I have a Monolith application generated by JHipster 6.7.0. My Local version of JHipster is 7.0.1. When I try to import a new entity using <strong>jhipster import-jdl app.jdl</strong> command, I am getting an issue with the the entities which are already available.</p>\n<pre><code>ERROR! Error at entity Ticket: relationship name is not synchronized {\n   &quot;relationshipName&quot;: &quot;jobs&quot;,\n   &quot;otherEntityName&quot;: &quot;ticketJob&quot;,\n   &quot;relationshipType&quot;: &quot;one-to-many&quot;,\n   &quot;otherEntityRelationshipName&quot;: &quot;ticket&quot;,\n   &quot;otherEntity&quot;: &quot;[TicketJob Entity]&quot;,\n   &quot;otherEntityField&quot;: &quot;id&quot;,\n   &quot;ownerSide&quot;: false,\n   &quot;collection&quot;: true,\n   &quot;otherSideReferenceExists&quot;: false,\n   &quot;otherEntityIsEmbedded&quot;: false\n} with {\n   &quot;relationshipName&quot;: &quot;ticket&quot;,\n   &quot;otherEntityName&quot;: &quot;ticket&quot;,\n   &quot;relationshipType&quot;: &quot;many-to-one&quot;,\n   &quot;otherEntityField&quot;: &quot;id&quot;,\n   &quot;otherEntityRelationshipName&quot;: &quot;ticketJob&quot;,\n   &quot;otherEntity&quot;: &quot;[Ticket Entity]&quot;,\n   &quot;ownerSide&quot;: true,\n   &quot;collection&quot;: false,\n   &quot;otherSideReferenceExists&quot;: false,\n   &quot;otherEntityIsEmbedded&quot;: false,\n   &quot;relatedField&quot;: {\n       &quot;fieldName&quot;: &quot;id&quot;,\n       &quot;id&quot;: true,\n       &quot;fieldNameHumanized&quot;: &quot;ID&quot;,\n       &quot;fieldTranslationKey&quot;: &quot;global.field.id&quot;,\n       &quot;autoGenerate&quot;: true,\n       &quot;dynamic&quot;: false,\n       &quot;fieldType&quot;: &quot;Long&quot;,\n       &quot;fieldNameCapitalized&quot;: &quot;Id&quot;,\n       &quot;fieldNameUnderscored&quot;: &quot;id&quot;,\n       &quot;tsType&quot;: &quot;number&quot;,\n       &quot;entity&quot;: &quot;[Ticket Entity]&quot;,\n       &quot;jpaGeneratedValue&quot;: &quot;sequence&quot;,\n       &quot;readonly&quot;: true,\n       &quot;fieldIsEnum&quot;: false,\n       &quot;fieldWithContentType&quot;: false,\n       &quot;fieldNameAsDatabaseColumn&quot;: &quot;id&quot;,\n       &quot;columnName&quot;: &quot;id&quot;,\n       &quot;fieldInJavaBeanMethod&quot;: &quot;Id&quot;,\n       &quot;fieldValidate&quot;: false,\n       &quot;nullable&quot;: true,\n       &quot;unique&quot;: false,\n       &quot;uniqueValue&quot;: [],\n       &quot;path&quot;: [\n           &quot;id&quot;\n       ],\n       &quot;relationshipsPath&quot;: [],\n       &quot;reference&quot;: &quot;[id Reference]&quot;,\n       &quot;relatedByOtherEntity&quot;: true\n   } \n</code></pre>\n<p>Is it possible to skip the existing entities while importing new entities with new version? Or is it easier to upgrade the existing entities to the latest version? (I get the same issue even I try to upgrade the application using <strong>jhipster upgrade</strong> command</p>\n"},{"tags":["java","arrays","memory"],"answers":[{"tags":[],"owner":{"account_id":4628250,"reputation":2306,"user_id":3751431,"accept_rate":75,"display_name":"Arno_Geismar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405590743,"creation_date":1405590235,"answer_id":24800076,"question_id":24799928,"body_markdown":"this might be an interesting article explaining your question.\r\n\r\n- Arrays are also objects in Java, so how an object looks like in memory applies to an array.\r\n\r\nTo summarise: \r\n\r\n    class A {\r\n\tint x;\r\n\tint y;\r\n    }\r\n \r\n\r\n \r\n    public void m1() {\r\n\tint i = 0;\r\n\tm2();\r\n    }\r\n \r\n    public void m2() {\r\n\tA a = new A();\r\n    }\r\n\r\nWhen m1 is invoked, a new frame (Frame-1) is pushed into the stack, and local variable i is also created in Frame-1.\r\nThen m2 is invoked inside of m1, another new frame (Frame-2) is pushed into the stack. In m2, an object of class A is created in the heap and reference variable is put in Frame-2. \r\n\r\nPhysical memory locations are out of your hands and will be assigned by the OS\r\n\r\nhttp://www.programcreek.com/2013/04/what-does-a-java-array-look-like-in-memory/","title":"Is array in java virtually sequential memory data structure? or physically sequential?","body":"<p>this might be an interesting article explaining your question.</p>\n\n<ul>\n<li>Arrays are also objects in Java, so how an object looks like in memory applies to an array.</li>\n</ul>\n\n<p>To summarise: </p>\n\n<pre><code>class A {\nint x;\nint y;\n}\n\n\n\npublic void m1() {\nint i = 0;\nm2();\n}\n\npublic void m2() {\nA a = new A();\n}\n</code></pre>\n\n<p>When m1 is invoked, a new frame (Frame-1) is pushed into the stack, and local variable i is also created in Frame-1.\nThen m2 is invoked inside of m1, another new frame (Frame-2) is pushed into the stack. In m2, an object of class A is created in the heap and reference variable is put in Frame-2. </p>\n\n<p>Physical memory locations are out of your hands and will be assigned by the OS</p>\n\n<p><a href=\"http://www.programcreek.com/2013/04/what-does-a-java-array-look-like-in-memory/\" rel=\"nofollow\">http://www.programcreek.com/2013/04/what-does-a-java-array-look-like-in-memory/</a></p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405590263,"creation_date":1405590263,"answer_id":24800090,"question_id":24799928,"body_markdown":"You would have to look at the JVM specs to see whether any such requirement is made (whether arrays need to be sequential memory or not), but for efficiency purposes it makes sense that an array would be allocated in a malloc type way.\r\n\r\nAs for virtual vs. physical, everything (above the OS) works with virtual memory. The JVM isn&#39;t low level enough to have access to something the kernel does at Ring-0.\r\n\r\nAnd lastly, why are you interested, are you writing your own JVM?\r\n","title":"Is array in java virtually sequential memory data structure? or physically sequential?","body":"<p>You would have to look at the JVM specs to see whether any such requirement is made (whether arrays need to be sequential memory or not), but for efficiency purposes it makes sense that an array would be allocated in a malloc type way.</p>\n\n<p>As for virtual vs. physical, everything (above the OS) works with virtual memory. The JVM isn't low level enough to have access to something the kernel does at Ring-0.</p>\n\n<p>And lastly, why are you interested, are you writing your own JVM?</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646701857,"creation_date":1405590265,"answer_id":24800091,"question_id":24799928,"body_markdown":"A Java array is sequential in virtual memory not necessarily in physical memory.\r\n\r\nA user-space application (such as a JVM) has no say over whether the physical pages that make up its virtual address space are contiguous in memory.  And in fact, it has no way of even knowing this in typical modern operating systems.  This is all hidden from a user-space application by the machine&#39;s virtual memory hardware and (user-space) instruction set architecture.\r\n\r\n----------------\r\n\r\nLooking at the JVM spec is not going to be instructive on the physical memory issue.  It is simply not relevant / out of scope.\r\n\r\nThe JVM spec doesn&#39;t *mandate* that arrays are contiguous in virtual memory.  However, (hypothetical) array implementations that involved non-contiguous virtual memory would lead to expensive array operations, so you are unlikely to find a mainstream JVM that does this.\r\n\r\nReferences:\r\n\r\n - [JVM Spec 2.7][1] says:\r\n\r\n    &gt; *&quot;The Java Virtual Machine does not mandate any particular internal structure for objects.&quot;*\r\n\r\n    Other parts of the spec imply that &quot;objects&quot; refers here to BOTH instances of classes AND arrays.\r\n\r\n - [JVM Spec 2.4][2] talks about arrays, but it doesn&#39;t mention how they are represented in memory.\r\n\r\n\r\n\r\n----------------\r\n\r\nThe difference between arrays and `ArrayList`s are at a higher level.  Arrays have a fixed size.  ArrayLists have a variable size.  But under the hood, an ArrayList is implemented using a (single) array ... which can be reallocated (i.e. replaced) if the list grows too big.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.7\r\n  [2]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.4","title":"Is array in java virtually sequential memory data structure? or physically sequential?","body":"<p>A Java array is sequential in virtual memory not necessarily in physical memory.</p>\n<p>A user-space application (such as a JVM) has no say over whether the physical pages that make up its virtual address space are contiguous in memory.  And in fact, it has no way of even knowing this in typical modern operating systems.  This is all hidden from a user-space application by the machine's virtual memory hardware and (user-space) instruction set architecture.</p>\n<hr />\n<p>Looking at the JVM spec is not going to be instructive on the physical memory issue.  It is simply not relevant / out of scope.</p>\n<p>The JVM spec doesn't <em>mandate</em> that arrays are contiguous in virtual memory.  However, (hypothetical) array implementations that involved non-contiguous virtual memory would lead to expensive array operations, so you are unlikely to find a mainstream JVM that does this.</p>\n<p>References:</p>\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.7\" rel=\"nofollow noreferrer\">JVM Spec 2.7</a> says:</p>\n<blockquote>\n<p><em>&quot;The Java Virtual Machine does not mandate any particular internal structure for objects.&quot;</em></p>\n</blockquote>\n<p>Other parts of the spec imply that &quot;objects&quot; refers here to BOTH instances of classes AND arrays.</p>\n</li>\n<li><p><a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.4\" rel=\"nofollow noreferrer\">JVM Spec 2.4</a> talks about arrays, but it doesn't mention how they are represented in memory.</p>\n</li>\n</ul>\n<hr />\n<p>The difference between arrays and <code>ArrayList</code>s are at a higher level.  Arrays have a fixed size.  ArrayLists have a variable size.  But under the hood, an ArrayList is implemented using a (single) array ... which can be reallocated (i.e. replaced) if the list grows too big.</p>\n"},{"tags":[],"owner":{"account_id":4435760,"reputation":4170,"user_id":3611648,"accept_rate":80,"display_name":"Mustafa sabir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405598430,"creation_date":1405590927,"answer_id":24800333,"question_id":24799928,"body_markdown":"JVM gets virtual sequential memory from OS. Only at OS level it is possible to assign physical memory sequentially. \r\n\r\nAlso it&#39;s important to not confuse between sequential memory allocation and sequential access - *sequential access* means that a group of elements is accessed in a predetermined, ordered sequence. A data structure is said to have sequential access if one can only visit the values it contains in one particular order. The canonical example is the linked list. \r\nWhereas *sequential memory* meaning assigning of sequential memory (not necessarily physically sequential, but virtually sequential).\r\n\r\nBesides the link you posted some major differences between `Array` and `ArrayList` are:\r\n\r\n - Array is fixed in size, ArrayList is dynamic in size\r\n - Array can store primitives, ArrayList can only store Objects (Wrapper\r\n   types for primitives)\r\n - You can use generics with ArrayList\r\n - You can use add() method to insert element into ArrayList and you can\r\n   simply use assignment operator to store element into Array\r\n\r\nReferences: [Java67 article](http://java67.blogspot.in/2012/12/difference-between-array-vs-arraylist-java.html), [Wikipedia](http://en.wikipedia.org/wiki/Sequential_access)","title":"Is array in java virtually sequential memory data structure? or physically sequential?","body":"<p>JVM gets virtual sequential memory from OS. Only at OS level it is possible to assign physical memory sequentially. </p>\n\n<p>Also it's important to not confuse between sequential memory allocation and sequential access - <em>sequential access</em> means that a group of elements is accessed in a predetermined, ordered sequence. A data structure is said to have sequential access if one can only visit the values it contains in one particular order. The canonical example is the linked list. \nWhereas <em>sequential memory</em> meaning assigning of sequential memory (not necessarily physically sequential, but virtually sequential).</p>\n\n<p>Besides the link you posted some major differences between <code>Array</code> and <code>ArrayList</code> are:</p>\n\n<ul>\n<li>Array is fixed in size, ArrayList is dynamic in size</li>\n<li>Array can store primitives, ArrayList can only store Objects (Wrapper\ntypes for primitives)</li>\n<li>You can use generics with ArrayList</li>\n<li>You can use add() method to insert element into ArrayList and you can\nsimply use assignment operator to store element into Array</li>\n</ul>\n\n<p>References: <a href=\"http://java67.blogspot.in/2012/12/difference-between-array-vs-arraylist-java.html\" rel=\"nofollow\">Java67 article</a>, <a href=\"http://en.wikipedia.org/wiki/Sequential_access\" rel=\"nofollow\">Wikipedia</a></p>\n"}],"owner":{"account_id":2036855,"reputation":70,"user_id":1819004,"accept_rate":50,"display_name":"Stephen Choi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2325,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24800091,"answer_count":4,"score":3,"last_activity_date":1646701857,"creation_date":1405589895,"question_id":24799928,"body_markdown":"I try to find what is difference between primitive java &#39;array&#39; and &#39;List&#39; data structure (like ArrayList), and find articles or Q&amp;A like this (https://stackoverflow.com/questions/10487104/difference-between-list-and-array). Many articles  including that link point that java primitive &#39;array&#39; is &#39;sequential memory&#39;. In this point, what is sequential exactly? is this really sequential in physical memory? or sequential in virtual memory? My guess is sequential in virtual memory, because OS assigns physical memory in general and application(JVM) doesn&#39;t care about specific memory allocation. But I do not know exact answer.  ","title":"Is array in java virtually sequential memory data structure? or physically sequential?","body":"<p>I try to find what is difference between primitive java 'array' and 'List' data structure (like ArrayList), and find articles or Q&amp;A like this (<a href=\"https://stackoverflow.com/questions/10487104/difference-between-list-and-array\">Difference between List and Array</a>). Many articles  including that link point that java primitive 'array' is 'sequential memory'. In this point, what is sequential exactly? is this really sequential in physical memory? or sequential in virtual memory? My guess is sequential in virtual memory, because OS assigns physical memory in general and application(JVM) doesn't care about specific memory allocation. But I do not know exact answer.  </p>\n"},{"tags":["java","types","primitive-types","strong-typing"],"comments":[{"owner":{"account_id":140142,"reputation":7582,"user_id":346232,"accept_rate":60,"display_name":"Ben Pearson"},"score":0,"creation_date":1356357580,"post_id":10430582,"comment_id":19365423,"body_markdown":"In addition to the answers below, it might help to also know the difference between variables of primitive data type and scalar variables as sometimes the distinction is not apparent: http://stackoverflow.com/q/6623130/346232","body":"In addition to the answers below, it might help to also know the difference between variables of primitive data type and scalar variables as sometimes the distinction is not apparent: <a href=\"http://stackoverflow.com/q/6623130/346232\">stackoverflow.com/q/6623130/346232</a>"},{"owner":{"account_id":2883093,"reputation":10355,"user_id":2473505,"accept_rate":71,"display_name":"Hari Das"},"score":1,"creation_date":1399464855,"post_id":10430582,"comment_id":36071005,"body_markdown":"Data type which holds values only are called primitive data types(byte,short,int etc.). And the other data types which contains references are called as reference data type (Integer,Boolean,String etc...).","body":"Data type which holds values only are called primitive data types(byte,short,int etc.). And the other data types which contains references are called as reference data type (Integer,Boolean,String etc...)."},{"owner":{"account_id":8445348,"reputation":7347,"user_id":6336221,"accept_rate":100,"display_name":"Nisal Edu"},"score":0,"creation_date":1509448439,"post_id":10430582,"comment_id":81014172,"body_markdown":"http://javaseeeedu.blogspot.com/2015/08/data-types-in-java.html","body":"<a href=\"http://javaseeeedu.blogspot.com/2015/08/data-types-in-java.html\" rel=\"nofollow noreferrer\">javaseeeedu.blogspot.com/2015/08/data-types-in-java.html</a>"},{"owner":{"account_id":2981052,"reputation":2273,"user_id":2530989,"display_name":"Jameer Mulani"},"score":0,"creation_date":1510766185,"post_id":10430582,"comment_id":81577828,"body_markdown":"see this, https://smugjava.blogspot.in/2017/11/data-types-in-java.html","body":"see this, <a href=\"https://smugjava.blogspot.in/2017/11/data-types-in-java.html\" rel=\"nofollow noreferrer\">smugjava.blogspot.in/2017/11/data-types-in-java.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1336045221,"creation_date":1336045221,"answer_id":10430614,"question_id":10430582,"body_markdown":"Primitive types in Java are none-class types. They only store values.\r\n\r\n    double d = 3.0;\r\n    d.intValue();  //compiler error!\r\n    Double d2 = new Double(3.0);\r\n    d2.intValue();  //works!","title":"What are Java&#39;s primitive types?","body":"<p>Primitive types in Java are none-class types. They only store values.</p>\n\n<pre><code>double d = 3.0;\nd.intValue();  //compiler error!\nDouble d2 = new Double(3.0);\nd2.intValue();  //works!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1336045275,"creation_date":1336045275,"answer_id":10430634,"question_id":10430582,"body_markdown":"In Java, every variable has a type declared in the source code. There are two kinds of types: reference types and primitive types. Reference types are references to objects. Primitive types directly contain values. There are 8 primitive types:\r\n\r\n* byte\r\n* short\r\n* int\r\n* long\r\n* char\r\n* float\r\n* double\r\n* boolean","title":"What are Java&#39;s primitive types?","body":"<p>In Java, every variable has a type declared in the source code. There are two kinds of types: reference types and primitive types. Reference types are references to objects. Primitive types directly contain values. There are 8 primitive types:</p>\n\n<ul>\n<li>byte</li>\n<li>short</li>\n<li>int</li>\n<li>long</li>\n<li>char</li>\n<li>float</li>\n<li>double</li>\n<li>boolean</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1003685,"reputation":4598,"user_id":1017953,"accept_rate":88,"display_name":"Memet Olsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336045446,"creation_date":1336045446,"answer_id":10430670,"question_id":10430582,"body_markdown":"They are non class types which only hold a value. While passing a primitive variable, you are passing the value itself instead of the reference of the value.","title":"What are Java&#39;s primitive types?","body":"<p>They are non class types which only hold a value. While passing a primitive variable, you are passing the value itself instead of the reference of the value.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336045493,"creation_date":1336045493,"answer_id":10430681,"question_id":10430582,"body_markdown":"There are reference types, primitives types and `void`\r\n\r\nFor each primitive types (and `void`) there is a wrapper type which defines a constant called `TYPE` which have the class of the primitive type.\r\n\r\nA compiler way to get a class for a primitive type is to use the `.class` notation. e.g.\r\n\r\n    Class&lt;Integer&gt; intClass = int.class; // == Integer.TYPE\r\n    Class&lt;Void&gt; voidClass = void.class; // == VOID.TYPE","title":"What are Java&#39;s primitive types?","body":"<p>There are reference types, primitives types and <code>void</code></p>\n\n<p>For each primitive types (and <code>void</code>) there is a wrapper type which defines a constant called <code>TYPE</code> which have the class of the primitive type.</p>\n\n<p>A compiler way to get a class for a primitive type is to use the <code>.class</code> notation. e.g.</p>\n\n<pre><code>Class&lt;Integer&gt; intClass = int.class; // == Integer.TYPE\nClass&lt;Void&gt; voidClass = void.class; // == VOID.TYPE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397466469,"creation_date":1336045852,"answer_id":10430789,"question_id":10430582,"body_markdown":"java support basic data type int, double, float etc. total eight.\r\nthese are the primitive type data or basic type of your data. \r\n\r\n**boolean,char,byte,short,int,long,double,float**\r\n\r\n","title":"What are Java&#39;s primitive types?","body":"<p>java support basic data type int, double, float etc. total eight.\nthese are the primitive type data or basic type of your data. </p>\n\n<p><strong>boolean,char,byte,short,int,long,double,float</strong></p>\n"},{"tags":[],"owner":{"account_id":327461,"reputation":15242,"user_id":649852,"display_name":"Go Dan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1336046618,"creation_date":1336046618,"answer_id":10431001,"question_id":10430582,"body_markdown":"From the [Java Language Specification](http://docs.oracle.com/javase/specs/jls/se7/html/index.html), [Chapter 4. Types, Values, and Variables](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html):\r\n\r\n&gt;The Java programming language is a statically typed language, which means that every variable and every expression has a type that is known at compile time.\r\n&gt;\r\n&gt;The Java programming language is also a strongly typed language, because types limit the values that a variable [...] can hold or that an expression can produce, limit the operations supported on those values, and determine the meaning of the operations. Strong static typing helps detect errors at compile time.\r\n&gt;\r\n&gt;The types of the Java programming language are divided into two categories: primitive types and reference types. The primitive types [...] are the boolean type and the numeric types. The numeric types are the integral types byte, short, int, long, and char, and the floating-point types float and double. The reference types [...] are class types, interface types, and array types. There is also a special null type. An object [...] is a dynamically created instance of a class type or a dynamically created array. The values of a reference type are references to objects. All objects, including arrays, support the methods of class Object [...].","title":"What are Java&#39;s primitive types?","body":"<p>From the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/index.html\" rel=\"noreferrer\">Java Language Specification</a>, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html\" rel=\"noreferrer\">Chapter 4. Types, Values, and Variables</a>:</p>\n\n<blockquote>\n  <p>The Java programming language is a statically typed language, which means that every variable and every expression has a type that is known at compile time.</p>\n  \n  <p>The Java programming language is also a strongly typed language, because types limit the values that a variable [...] can hold or that an expression can produce, limit the operations supported on those values, and determine the meaning of the operations. Strong static typing helps detect errors at compile time.</p>\n  \n  <p>The types of the Java programming language are divided into two categories: primitive types and reference types. The primitive types [...] are the boolean type and the numeric types. The numeric types are the integral types byte, short, int, long, and char, and the floating-point types float and double. The reference types [...] are class types, interface types, and array types. There is also a special null type. An object [...] is a dynamically created instance of a class type or a dynamically created array. The values of a reference type are references to objects. All objects, including arrays, support the methods of class Object [...].</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1457086,"reputation":21,"user_id":1372406,"display_name":"Phalgun D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539246606,"creation_date":1336046819,"answer_id":10431047,"question_id":10430582,"body_markdown":"Primitive types are not classes, but can be used to store values like numbers and characters.\r\n\r\n* byte\r\n* short\r\n* int\r\n* long\r\n* char\r\n* float\r\n* double\r\n* boolean\r\n","title":"What are Java&#39;s primitive types?","body":"<p>Primitive types are not classes, but can be used to store values like numbers and characters.</p>\n\n<ul>\n<li>byte</li>\n<li>short</li>\n<li>int</li>\n<li>long</li>\n<li>char</li>\n<li>float</li>\n<li>double</li>\n<li>boolean</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":335076,"reputation":503,"user_id":661946,"display_name":"Gaurav Porwal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1421352641,"creation_date":1376825437,"answer_id":18298601,"question_id":10430582,"body_markdown":"The eight primitive data types that are supported by Java Programming Language:\r\n\r\n - byte - It is 8-bit signed two&#39;s complement integer. It has a minimum value of -128 and a maximum value of 127.\r\n\r\n - short - It is a 16-bit signed two&#39;s complement integer. It has a minimum value of -32,768 and a maximum value of 32,767.\r\n\r\n\r\nFor detailed explanation [Click Here][1]\r\n\r\n\r\n  [1]: http://www.placementquestion.com/category/java_question/short_question/","title":"What are Java&#39;s primitive types?","body":"<p>The eight primitive data types that are supported by Java Programming Language:</p>\n\n<ul>\n<li><p>byte - It is 8-bit signed two's complement integer. It has a minimum value of -128 and a maximum value of 127.</p></li>\n<li><p>short - It is a 16-bit signed two's complement integer. It has a minimum value of -32,768 and a maximum value of 32,767.</p></li>\n</ul>\n\n<p>For detailed explanation <a href=\"http://www.placementquestion.com/category/java_question/short_question/\" rel=\"nofollow\">Click Here</a></p>\n"},{"tags":[],"owner":{"account_id":202579,"reputation":337,"user_id":449739,"display_name":"Krishan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610393771,"creation_date":1387183884,"answer_id":20606665,"question_id":10430582,"body_markdown":"Any data type built-in to a programming language is called primitive data type. Words primitive or built-in or basic data types are used interchangeably by authors. Primitive data types in Java are provided by the Java programming language as a basic building block and for that they are called primitive types to Java. Java also allows programmers to define their own types (user defined types). For primitive types Java has built-in support. Primitive types are predefined by the Java language and are named by a reserved keywords. Java supports 8 built-in data types and their basic behavior and supported operations cannot be modified by programmers.","title":"What are Java&#39;s primitive types?","body":"<p>Any data type built-in to a programming language is called primitive data type. Words primitive or built-in or basic data types are used interchangeably by authors. Primitive data types in Java are provided by the Java programming language as a basic building block and for that they are called primitive types to Java. Java also allows programmers to define their own types (user defined types). For primitive types Java has built-in support. Primitive types are predefined by the Java language and are named by a reserved keywords. Java supports 8 built-in data types and their basic behavior and supported operations cannot be modified by programmers.</p>\n"},{"tags":[],"owner":{"account_id":5671721,"reputation":250,"user_id":4486163,"accept_rate":40,"display_name":"saksham agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442680989,"creation_date":1442680989,"answer_id":32670702,"question_id":10430582,"body_markdown":"Actual meaning of primitive is whether datatypes are classes or not.Java is not a pure object oriented language because in java datatypes are not primitives means datatypes are not classes.\r\n\r\n    Eg:- int a; a=10;\r\n     \r\n    /*Integer a=new Integer();\r\n         a=10;\r\n    */not possible\r\n\r\nwhile in c# datatypes are classes and thats why it is pure object oriented language","title":"What are Java&#39;s primitive types?","body":"<p>Actual meaning of primitive is whether datatypes are classes or not.Java is not a pure object oriented language because in java datatypes are not primitives means datatypes are not classes.</p>\n\n<pre><code>Eg:- int a; a=10;\n\n/*Integer a=new Integer();\n     a=10;\n*/not possible\n</code></pre>\n\n<p>while in c# datatypes are classes and thats why it is pure object oriented language</p>\n"},{"tags":[],"owner":{"account_id":2619868,"reputation":101,"user_id":2268145,"display_name":"Yel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460070709,"creation_date":1460070709,"answer_id":36488785,"question_id":10430582,"body_markdown":"There are two types of data type, Primitive and Object reference.\r\nPrimitive data types are not object, they just only store the actual values, whereas object reference variable store the address of the object they refer to.","title":"What are Java&#39;s primitive types?","body":"<p>There are two types of data type, Primitive and Object reference.\nPrimitive data types are not object, they just only store the actual values, whereas object reference variable store the address of the object they refer to.</p>\n"},{"tags":[],"owner":{"account_id":6279284,"reputation":33851,"user_id":4880924,"accept_rate":50,"display_name":"BenKoshy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1646700794,"creation_date":1477604832,"answer_id":40294716,"question_id":10430582,"body_markdown":"# What do people mean by &quot;Types&quot;?\r\n\r\nIn the real world there are different &quot;types&quot; of things. e.g. There are many different &quot;types&quot; of vehicles: &quot;sports cars&quot; for driving fast, &quot;utes&quot; for carrying tools, &quot;trucks&quot; for transporting lots of goods, and limousines for traveling in luxury. \r\n\r\nIn the same way, in Java, you can have different &quot;types&quot; of data which serve different purposes: e.g.  numbers (are used to add/subtract etc),  &quot;strings&quot; are used to communicate words and letters. You cannot use letters to add - that just does not make sense, nor could you use numbers to write a sentence. \r\n\r\n## Primitives vs reference types - what does it mean? What&#39;s the difference? \r\n\r\nNow there are some &quot;types&quot; of data which are basic. These are already created by the boffins at Redmond/Sun. These are called &quot;primitive&quot; java types, and they store the values within themselves. What does that mean? It&#39;s best explained by example:\r\n\r\n***Example of a primitive type***\r\n\r\nIf I gave you a $50 note, then the note in and of itself is worth $50. The value is stored in the note itself. \r\n\r\n***Primitives Juxtaposed with Reference Types***\r\n\r\nImagine that instead of giving you $50 I gave you an piece of paper which has on it an address to a safe deposit box. The piece of paper i gave you is not worth $50 in and of itself, but it points to an address where you can get your $50. This piece of paper is basically a &quot;reference&quot; type, because it doesn&#39;t store any values within and in and of itself, it merely points to certain addresses. \r\n\r\nBut I can give you an address to anything: planes, castles, rainforrests: anything! \r\n\r\n## Summary\r\n\r\nYou can&#39;t just hand someone a plane or a Shinkansen train from your back pocket: you just hand them an address to it. Juxtapose this with having $50, or any type of currency: the actual substance is in your back pocket. \r\n\r\nThat in an nutshell is the difference between primitive and reference types.\r\n\r\n(Corny analogy used to help you understand and remember.)","title":"What are Java&#39;s primitive types?","body":"<h1>What do people mean by &quot;Types&quot;?</h1>\n<p>In the real world there are different &quot;types&quot; of things. e.g. There are many different &quot;types&quot; of vehicles: &quot;sports cars&quot; for driving fast, &quot;utes&quot; for carrying tools, &quot;trucks&quot; for transporting lots of goods, and limousines for traveling in luxury.</p>\n<p>In the same way, in Java, you can have different &quot;types&quot; of data which serve different purposes: e.g.  numbers (are used to add/subtract etc),  &quot;strings&quot; are used to communicate words and letters. You cannot use letters to add - that just does not make sense, nor could you use numbers to write a sentence.</p>\n<h2>Primitives vs reference types - what does it mean? What's the difference?</h2>\n<p>Now there are some &quot;types&quot; of data which are basic. These are already created by the boffins at Redmond/Sun. These are called &quot;primitive&quot; java types, and they store the values within themselves. What does that mean? It's best explained by example:</p>\n<p><em><strong>Example of a primitive type</strong></em></p>\n<p>If I gave you a $50 note, then the note in and of itself is worth $50. The value is stored in the note itself.</p>\n<p><em><strong>Primitives Juxtaposed with Reference Types</strong></em></p>\n<p>Imagine that instead of giving you $50 I gave you an piece of paper which has on it an address to a safe deposit box. The piece of paper i gave you is not worth $50 in and of itself, but it points to an address where you can get your $50. This piece of paper is basically a &quot;reference&quot; type, because it doesn't store any values within and in and of itself, it merely points to certain addresses.</p>\n<p>But I can give you an address to anything: planes, castles, rainforrests: anything!</p>\n<h2>Summary</h2>\n<p>You can't just hand someone a plane or a Shinkansen train from your back pocket: you just hand them an address to it. Juxtapose this with having $50, or any type of currency: the actual substance is in your back pocket.</p>\n<p>That in an nutshell is the difference between primitive and reference types.</p>\n<p>(Corny analogy used to help you understand and remember.)</p>\n"},{"tags":[],"owner":{"account_id":10525572,"reputation":295,"user_id":7756686,"accept_rate":75,"display_name":"Sathish Kumar Gurunathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490791636,"creation_date":1490778056,"answer_id":43088940,"question_id":10430582,"body_markdown":"There are two divisions in data types which are `primitives` and `reference` .\r\nThe primitives will represent the following \r\n\r\n - Numbers\r\n - Boolean\r\n - Float\r\n - Double \r\n - Char\r\n\r\nUnder the numbers we have \r\n\r\n 1. Byte: -128 to 127\r\n 2. Short: -32,768 to 32,767\r\n 3. Int: -2^31 to 2^31\r\n 4. Long: -2^63 to 2^63 - 1 \r\n\r\nThese will represent numbers and have different memory allocations to save memory we can use it efficiently. Among int and long we have signed &amp; unsigned. Unsigned starts with min=0.","title":"What are Java&#39;s primitive types?","body":"<p>There are two divisions in data types which are <code>primitives</code> and <code>reference</code> .\nThe primitives will represent the following </p>\n\n<ul>\n<li>Numbers</li>\n<li>Boolean</li>\n<li>Float</li>\n<li>Double </li>\n<li>Char</li>\n</ul>\n\n<p>Under the numbers we have </p>\n\n<ol>\n<li>Byte: -128 to 127</li>\n<li>Short: -32,768 to 32,767</li>\n<li>Int: -2^31 to 2^31</li>\n<li>Long: -2^63 to 2^63 - 1 </li>\n</ol>\n\n<p>These will represent numbers and have different memory allocations to save memory we can use it efficiently. Among int and long we have signed &amp; unsigned. Unsigned starts with min=0.</p>\n"},{"tags":[],"owner":{"account_id":10104128,"reputation":4849,"user_id":7467246,"accept_rate":67,"display_name":"Priyantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509441669,"creation_date":1509441669,"answer_id":47031817,"question_id":10430582,"body_markdown":"In Java has two kinds of type,\n\n - Primitive types\n - Reference types  \n\n\n**Primitive types**\n\nPrimitive types directly contain values. \n \n\n    int i = 24;\n\nThere are 8 primitive types,\n\n 1. byte  \n 2. short \n 3. int \n 4. long  \n 5. char  \n 6. float                \n 7. double  \n 8. boolean\n\n**Reference types**\n\n  Reference types are references to objects. When you create new Test object inside the Test.java class there is reference type\n\n    Test t = new Test();\n\n \n\nSpecially String is a reference type.\nIt&#39;s not a primitive type. There are two way create String object.\n\n    String s = &quot;abc&quot;;\n    \n    String y = new String(&quot;abc&quot;);\n\n \n\n","title":"What are Java&#39;s primitive types?","body":"<p>In Java has two kinds of type,</p>\n<ul>\n<li>Primitive types</li>\n<li>Reference types</li>\n</ul>\n<p><strong>Primitive types</strong></p>\n<p>Primitive types directly contain values.</p>\n<pre><code>int i = 24;\n</code></pre>\n<p>There are 8 primitive types,</p>\n<ol>\n<li>byte</li>\n<li>short</li>\n<li>int</li>\n<li>long</li>\n<li>char</li>\n<li>float</li>\n<li>double</li>\n<li>boolean</li>\n</ol>\n<p><strong>Reference types</strong></p>\n<p>Reference types are references to objects. When you create new Test object inside the Test.java class there is reference type</p>\n<pre><code>Test t = new Test();\n</code></pre>\n<p>Specially String is a reference type.\nIt's not a primitive type. There are two way create String object.</p>\n<pre><code>String s = &quot;abc&quot;;\n\nString y = new String(&quot;abc&quot;);\n</code></pre>\n"}],"owner":{"account_id":1214043,"reputation":2074,"user_id":1181992,"accept_rate":87,"display_name":"Android Girl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86820,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"closed_date":1539358572,"accepted_answer_id":10430634,"answer_count":14,"score":42,"last_activity_date":1646700794,"creation_date":1336045087,"question_id":10430582,"body_markdown":"What are primitive type in Java?\r\n\r\nWhat is the difference between a primitive type and a reference type?\r\n\r\nHow many primitive types does Java have, and what are they?","title":"What are Java&#39;s primitive types?","body":"<p>What are primitive type in Java?</p>\n\n<p>What is the difference between a primitive type and a reference type?</p>\n\n<p>How many primitive types does Java have, and what are they?</p>\n"},{"tags":["java","spring-boot","hibernate","redis","redisson"],"answers":[{"tags":[],"owner":{"account_id":24464366,"reputation":21,"user_id":18384976,"display_name":"express-switch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646698714,"creation_date":1646698714,"answer_id":71388664,"question_id":71366009,"body_markdown":"Well looks like JPA caching will work for the default `findById` but will not work for `findAll` or a custom `findByType` or in this case `findByEmployeeId`. \r\n\r\nHowever, I found a way to make it work by use of `@QueryHints`.\r\n\r\n````\r\nimport org.springframework.data.jpa.repository.QueryHints;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport javax.persistence.QueryHint;\r\n\r\nimport static org.hibernate.jpa.QueryHints.HINT_CACHEABLE;\r\n\r\n@Repository\r\npublic interface EmployeeRepository extends CrudRepository&lt;EmployeeEntity, Long&gt; {\r\n\r\n    @QueryHints(value = { @QueryHint(name = HINT_CACHEABLE, value = &quot;true&quot;)})\r\n    EmployeeEntity findByEmployeeId(Long employeeId);\r\n\r\n}\r\n````\r\n\r\n","title":"Redisson Hibernate 2L cache setup but always executes SQL query","body":"<p>Well looks like JPA caching will work for the default <code>findById</code> but will not work for <code>findAll</code> or a custom <code>findByType</code> or in this case <code>findByEmployeeId</code>.</p>\n<p>However, I found a way to make it work by use of <code>@QueryHints</code>.</p>\n<pre><code>import org.springframework.data.jpa.repository.QueryHints;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport javax.persistence.QueryHint;\n\nimport static org.hibernate.jpa.QueryHints.HINT_CACHEABLE;\n\n@Repository\npublic interface EmployeeRepository extends CrudRepository&lt;EmployeeEntity, Long&gt; {\n\n    @QueryHints(value = { @QueryHint(name = HINT_CACHEABLE, value = &quot;true&quot;)})\n    EmployeeEntity findByEmployeeId(Long employeeId);\n\n}\n</code></pre>\n"}],"owner":{"account_id":24464366,"reputation":21,"user_id":18384976,"display_name":"express-switch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71388664,"answer_count":1,"score":0,"last_activity_date":1646698714,"creation_date":1646515062,"question_id":71366009,"body_markdown":"I&#39;m trying to setup Redisson Hibernate 2L caching but I&#39;m seeing the hibernate query execute every time even though the results are clearly cached on my Redis instance.\r\n\r\nWhen debugging I can see it goes through hibernate and does the query execution and then after it goes into the `putIntoCache` from `RedissonStorage.java` as expected. When I check Redis I can see the new cached values. However, on a subsequent call to my service it again goes through the hibernate `executeQueryStatement` for the the exact same hibernate query but interestingly it then goes into the `getFromCache` from `RedissonStorage.java` and appears to return the value from Redis. Why is it executing the query every time and not actually checking redis first?\r\n\r\n\r\nappliation.yml\r\n````\r\nspring.profiles.active: local\r\n\r\nserver:\r\n  port: 9000\r\n\r\nspring:\r\n  config:\r\n    active:\r\n      on-profile: local\r\n  cache:\r\n    type: redis\r\n\r\n  jpa:\r\n    database: POSTGRESQL\r\n    generate-ddl: true\r\n    properties:\r\n      hibernate:\r\n        jdbc:\r\n          time_zone: UTC\r\n        ddl-auto: create-drop\r\n        show_sql: true\r\n        cache:\r\n          use_query_cache: true\r\n          use_second_level_cache: true\r\n          factory_class: org.redisson.hibernate.RedissonRegionFactory\r\n          redisson:\r\n            fallback: true\r\n            config: redisson/redisson.yml\r\n  datasource:\r\n    platform: postgres\r\n    url: jdbc:postgresql://localhost:5432/test\r\n    username: postgres\r\n    password: admin\r\n    driverClassName: org.postgresql.Driver\r\n    initialization-mode: always\r\n````\r\n\r\nredisson.yml\r\n````\r\nsingleServerConfig:\r\n  address: &quot;redis://localhost:6379&quot;\r\n````\r\n\r\nbuild.gradle\r\n````\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.test&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-cache:2.6.4&#39;\r\n\r\n\timplementation &#39;org.redisson:redisson-hibernate-53:3.16.8&#39;\r\n\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n\r\n\tcompileOnly &#39;org.apache.logging.log4j:log4j-api:2.17.1&#39;\r\n\tcompileOnly &#39;org.apache.logging.log4j:log4j-core:2.17.1&#39;\r\n\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n````\r\n\r\nEntity class\r\n````\r\n@Data\r\n@Entity\r\n@Table(name = &quot;employees&quot;)\r\n@Cacheable\r\n@Cache(region = &quot;employeeCache&quot;, usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class EmployeeEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long employeeId;\r\n\r\n    private String employeeName;\r\n    private String employeeLastName;\r\n}\r\n````\r\n\r\n\r\n````\r\n@Component\r\npublic class EmployeeDAO {\r\n\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    public EmployeeEntity findByEmployeeId(Long employeeId) {\r\n        return employeeRepository.findByEmployeeId(employeeId);\r\n    }\r\n````\r\n\r\n\r\n````\r\n@Repository\r\npublic interface EmployeeRepository extends CrudRepository&lt;EmployeeEntity, Long&gt; {\r\n\r\n    EmployeeEntity findByEmployeeId(Long employeeId);\r\n}\r\n````\r\n","title":"Redisson Hibernate 2L cache setup but always executes SQL query","body":"<p>I'm trying to setup Redisson Hibernate 2L caching but I'm seeing the hibernate query execute every time even though the results are clearly cached on my Redis instance.</p>\n<p>When debugging I can see it goes through hibernate and does the query execution and then after it goes into the <code>putIntoCache</code> from <code>RedissonStorage.java</code> as expected. When I check Redis I can see the new cached values. However, on a subsequent call to my service it again goes through the hibernate <code>executeQueryStatement</code> for the the exact same hibernate query but interestingly it then goes into the <code>getFromCache</code> from <code>RedissonStorage.java</code> and appears to return the value from Redis. Why is it executing the query every time and not actually checking redis first?</p>\n<p>appliation.yml</p>\n<pre><code>spring.profiles.active: local\n\nserver:\n  port: 9000\n\nspring:\n  config:\n    active:\n      on-profile: local\n  cache:\n    type: redis\n\n  jpa:\n    database: POSTGRESQL\n    generate-ddl: true\n    properties:\n      hibernate:\n        jdbc:\n          time_zone: UTC\n        ddl-auto: create-drop\n        show_sql: true\n        cache:\n          use_query_cache: true\n          use_second_level_cache: true\n          factory_class: org.redisson.hibernate.RedissonRegionFactory\n          redisson:\n            fallback: true\n            config: redisson/redisson.yml\n  datasource:\n    platform: postgres\n    url: jdbc:postgresql://localhost:5432/test\n    username: postgres\n    password: admin\n    driverClassName: org.postgresql.Driver\n    initialization-mode: always\n</code></pre>\n<p>redisson.yml</p>\n<pre><code>singleServerConfig:\n  address: &quot;redis://localhost:6379&quot;\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.test'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-cache:2.6.4'\n\n    implementation 'org.redisson:redisson-hibernate-53:3.16.8'\n\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'org.postgresql:postgresql'\n\n    compileOnly 'org.apache.logging.log4j:log4j-api:2.17.1'\n    compileOnly 'org.apache.logging.log4j:log4j-core:2.17.1'\n\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>Entity class</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;employees&quot;)\n@Cacheable\n@Cache(region = &quot;employeeCache&quot;, usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class EmployeeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long employeeId;\n\n    private String employeeName;\n    private String employeeLastName;\n}\n</code></pre>\n<pre><code>@Component\npublic class EmployeeDAO {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;\n\n    public EmployeeEntity findByEmployeeId(Long employeeId) {\n        return employeeRepository.findByEmployeeId(employeeId);\n    }\n</code></pre>\n<pre><code>@Repository\npublic interface EmployeeRepository extends CrudRepository&lt;EmployeeEntity, Long&gt; {\n\n    EmployeeEntity findByEmployeeId(Long employeeId);\n}\n</code></pre>\n"},{"tags":["java","mono","callable"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1646352227,"post_id":71344680,"comment_id":126108425,"body_markdown":"Is there a good reason why you are using `Mono.fromCallable`? This isn&#39;t reactive code, and you&#39;re not calling (natively) reactive code. Why not just call `Api.getApiValues(Id, offset, LIMIT, property);` directly in a try/catch block?","body":"Is there a good reason why you are using <code>Mono.fromCallable</code>? This isn&#39;t reactive code, and you&#39;re not calling (natively) reactive code. Why not just call <code>Api.getApiValues(Id, offset, LIMIT, property);</code> directly in a try/catch block?"},{"owner":{"account_id":24445232,"reputation":1,"user_id":18368285,"display_name":"Justin"},"score":0,"creation_date":1646355135,"post_id":71344680,"comment_id":126108917,"body_markdown":"code procedure / and we need it to be async as well.","body":"code procedure / and we need it to be async as well."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1646644745,"post_id":71344680,"comment_id":126165881,"body_markdown":"To be fully reactive you would need to rewrite all the surrounding code (the while loop) as well. That could involve using `takeWhile`, such as described here: https://stackoverflow.com/questions/52250893/how-to-use-reactor-spring-webclient-to-do-a-repeat-call","body":"To be fully reactive you would need to rewrite all the surrounding code (the while loop) as well. That could involve using <code>takeWhile</code>, such as described here: <a href=\"https://stackoverflow.com/questions/52250893/how-to-use-reactor-spring-webclient-to-do-a-repeat-call\" title=\"how to use reactor spring webclient to do a repeat call\">stackoverflow.com/questions/52250893/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24445232,"reputation":1,"user_id":18368285,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646698367,"creation_date":1646698367,"answer_id":71388633,"question_id":71344680,"body_markdown":"Using an atomicBoolean you can update the value inside the map function as below.\r\n```\r\n       AtomicBoolean receivedAllApiData = new AtomicBoolean(false);\r\n\r\n        while (!!receivedAllApiData.get() &amp;&amp; offsetAmount &lt; MAX_REQUEST_FALLBACK) {\r\n            int offset = offsetAmount;\r\n            Mono.fromCallable(() -&gt; Api.getApiValues(Id, offset, LIMIT, property))\r\n                    .map(listOfValues -&gt; {\r\n                        List&lt;Values&gt; nonNullListOfValues = CollectionUtils.isEmpty(listOfValues) ? emptyList() : listOfValues;\r\n                        receivedAllApiData.set(nonNullListOfValues.isEmpty());\r\n                        return nonNullListOfValues;\r\n                    })\r\n                    .subscribe(this::buildStructure, this::ErrorCounter);\r\n            offsetAmount += LIMIT;\r\n        }\r\n","title":"Is there a way to update a local variable through Mono.fromCallable()&#39;s return value of an api inside a while loop?","body":"<p>Using an atomicBoolean you can update the value inside the map function as below.</p>\n<pre><code>       AtomicBoolean receivedAllApiData = new AtomicBoolean(false);\n\n        while (!!receivedAllApiData.get() &amp;&amp; offsetAmount &lt; MAX_REQUEST_FALLBACK) {\n            int offset = offsetAmount;\n            Mono.fromCallable(() -&gt; Api.getApiValues(Id, offset, LIMIT, property))\n                    .map(listOfValues -&gt; {\n                        List&lt;Values&gt; nonNullListOfValues = CollectionUtils.isEmpty(listOfValues) ? emptyList() : listOfValues;\n                        receivedAllApiData.set(nonNullListOfValues.isEmpty());\n                        return nonNullListOfValues;\n                    })\n                    .subscribe(this::buildStructure, this::ErrorCounter);\n            offsetAmount += LIMIT;\n        }\n</code></pre>\n"}],"owner":{"account_id":24445232,"reputation":1,"user_id":18368285,"display_name":"Justin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71388633,"answer_count":1,"score":0,"last_activity_date":1646698367,"creation_date":1646347385,"question_id":71344680,"body_markdown":"I need to run GET requests multiple times until the return of the GET is an empty array.\r\nCurrently I have been doing it with a global receivedAllApiData variable I update in getApiValues if it is an empty array. However I need to find a way to do this in the method locally. Is there a way the mono.fromCallable could change a local variable?\r\n```\r\nwhile (!receivedAllApiData &amp;&amp; offsetAmount &lt; MAX_REQUEST_FALLBACK) {\r\n            int offset = offset;\r\n            Mono.fromCallable(() -&gt; Api.getApiValues(Id, offset, LIMIT, property))\r\n                    .map(this::getApiValues)\r\n                    .subscribe(this::buildStructure, this::ErrorCounter);\r\n            offsetAmount += LIMIT;\r\n        }\r\n```\r\nmaybe there is a better way to run several calls?","title":"Is there a way to update a local variable through Mono.fromCallable()&#39;s return value of an api inside a while loop?","body":"<p>I need to run GET requests multiple times until the return of the GET is an empty array.\nCurrently I have been doing it with a global receivedAllApiData variable I update in getApiValues if it is an empty array. However I need to find a way to do this in the method locally. Is there a way the mono.fromCallable could change a local variable?</p>\n<pre><code>while (!receivedAllApiData &amp;&amp; offsetAmount &lt; MAX_REQUEST_FALLBACK) {\n            int offset = offset;\n            Mono.fromCallable(() -&gt; Api.getApiValues(Id, offset, LIMIT, property))\n                    .map(this::getApiValues)\n                    .subscribe(this::buildStructure, this::ErrorCounter);\n            offsetAmount += LIMIT;\n        }\n</code></pre>\n<p>maybe there is a better way to run several calls?</p>\n"},{"tags":["java","validation"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1646690740,"post_id":71387744,"comment_id":126182198,"body_markdown":"Inside your `for` loop, you could have a condition like `if (ch == &#39;!&#39;)`","body":"Inside your <code>for</code> loop, you could have a condition like <code>if (ch == &#39;!&#39;)</code>"},{"owner":{"account_id":7855019,"reputation":117,"user_id":5937189,"display_name":"Edson Passos"},"score":0,"creation_date":1646696791,"post_id":71387744,"comment_id":126183575,"body_markdown":"The requirements say &quot;characters&quot;, but you are checking for &quot;digits&quot; (isDigit)","body":"The requirements say &quot;characters&quot;, but you are checking for &quot;digits&quot; (isDigit)"},{"owner":{"account_id":24483222,"reputation":1,"user_id":18401316,"display_name":"Johnta Ford"},"score":0,"creation_date":1646697406,"post_id":71387744,"comment_id":126183677,"body_markdown":"@EdsonPassos I am not understanding what you mean by that, can you clarify plz","body":"@EdsonPassos I am not understanding what you mean by that, can you clarify plz"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646697780,"post_id":71387744,"comment_id":126183745,"body_markdown":"What do you think `else if (Character.isDigit(ch)) minLength++;` does? What do you expect the value of `minLength` to be at the end of the for loop?","body":"What do you think <code>else if (Character.isDigit(ch)) minLength++;</code> does? What do you expect the value of <code>minLength</code> to be at the end of the for loop?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646697942,"post_id":71387744,"comment_id":126183762,"body_markdown":"This person is making the same odd mistake... https://stackoverflow.com/questions/71366037/how-to-validate-a-special-character-like-in-a-password-in-java-without-using-r","body":"This person is making the same odd mistake... <a href=\"https://stackoverflow.com/questions/71366037/how-to-validate-a-special-character-like-in-a-password-in-java-without-using-r\" title=\"how to validate a special character like in a password in java without using r\">stackoverflow.com/questions/71366037/&hellip;</a>"},{"owner":{"account_id":24483222,"reputation":1,"user_id":18401316,"display_name":"Johnta Ford"},"score":0,"creation_date":1646700017,"post_id":71387744,"comment_id":126184107,"body_markdown":"@tgdavies I was thinking that it would set the minimum length requirement which is 7. I now know that is incorrect, So I am looking for direction on trying to find the right answer.","body":"@tgdavies I was thinking that it would set the minimum length requirement which is 7. I now know that is incorrect, So I am looking for direction on trying to find the right answer."}],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646698324,"creation_date":1646698324,"answer_id":71388627,"question_id":71387744,"body_markdown":"this last IF-Else part need little modification as the following:\r\ni added &quot;!&quot; check and also regarding the min and max it should be compared with the password string length to check if the pasword in the range or not as i did\r\nand you should remove the last two Else-IF\r\n\r\n        if(upperCount &lt;= NUM_UPPER_LETTERS \r\n                &amp;&amp; lowerCount &lt;= NUM_LOWER_LETTERS \r\n                &amp;&amp; digitCount &lt;= NUM_DIGITS \r\n                &amp;&amp; inputLen &gt;= MIN_LENGTH\r\n                &amp;&amp; inputLen &lt;= MAX_LENGTH\r\n                &amp;&amp; input.contains(&quot;!&quot;))\r\n            System.out.println(&quot;Password valid and accepted&quot;);\r\n        else {\r\n            System.out.println(&quot;Error&quot;);","title":"Java Password Validated Without Regex","body":"<p>this last IF-Else part need little modification as the following:\ni added &quot;!&quot; check and also regarding the min and max it should be compared with the password string length to check if the pasword in the range or not as i did\nand you should remove the last two Else-IF</p>\n<pre><code>    if(upperCount &lt;= NUM_UPPER_LETTERS \n            &amp;&amp; lowerCount &lt;= NUM_LOWER_LETTERS \n            &amp;&amp; digitCount &lt;= NUM_DIGITS \n            &amp;&amp; inputLen &gt;= MIN_LENGTH\n            &amp;&amp; inputLen &lt;= MAX_LENGTH\n            &amp;&amp; input.contains(&quot;!&quot;))\n        System.out.println(&quot;Password valid and accepted&quot;);\n    else {\n        System.out.println(&quot;Error&quot;);\n</code></pre>\n"}],"owner":{"account_id":24483222,"reputation":1,"user_id":18401316,"display_name":"Johnta Ford"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646698324,"creation_date":1646690341,"question_id":71387744,"body_markdown":"I am very new to Java and have been working on the exercise for days now. The goal of this exercise is to validate a password without using regex. \r\n\r\nThe requirements of this exercise is: \r\nVia the console, ask the user to create a password with the following requirements.\r\nThe password must contain:\r\n○ At least one lowercase letter\r\n○ At least one uppercase letter\r\n***○ At least minimum 7 characters\r\n○ At least maximum 12 characters***\r\n***○ An exclamation point: !***\r\n● If the user meets all the requirements, print the string &quot;Password valid and\r\naccepted&quot; to the console\r\n● If the password fails any of the requirements, print the string &quot;Error &quot;.\r\n\r\nMy issue is that I can not get set the Max and Min length for the password requirement to 7 - min &amp; 12 Max. I am also having trouble adding &quot;!&quot; as a password requirement. Can someone please direct me in the correct direction? \r\n\r\n    Via the console, ask the user to create a password with the following requirements.\r\nThe password must contain:\r\n○ At least one lowercase letter\r\n○ At least one uppercase letter\r\n○ At least minimum 7 characters\r\n○ At least maximum 12 characters\r\n○ An exclamation point: !\r\n● If the user meets all the requirements, print the string &quot;Password valid and\r\naccepted&quot; to the console\r\n● If the password fails any of the requirements, print the string &quot;Error &quot;.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class WhatToEat {\r\npublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t/*\r\n\t\t * At Least One Lower case\r\n\t\t * At Least one Upper case\r\n\t\t * At least 7 Characters minimum \r\n\t\t * At least 12 characters maximum\r\n\t\t * Exclamation mark required\r\n\t\t */\r\n\t\t\r\n\t\tfinal int MIN_LENGTH = 7;\r\n\t\tfinal int MAX_LENGTH = 12;\r\n\t\tfinal int NUM_UPPER_LETTERS = 1;\r\n\t\tfinal int NUM_LOWER_LETTERS = 1;\r\n\t\tfinal int NUM_DIGITS =0;\r\n\t\tint minLength = 0;\r\n\t\tint maxLength = 0;\r\n\t\tint upperCount = 0;\r\n\t\tint lowerCount = 0;\r\n\t\tint digitCount = 0;\r\n\t\t\r\n\t\ttry (Scanner in = new Scanner(System.in)) {\r\n\t\t\tSystem.out.print(&quot;Enter Password Here:&quot;);\r\n\t\t\tString input = in.nextLine();\r\n\t\t\tint inputLen = input.length();\r\n\t\t\tfor (int i = 0; i &lt; inputLen; i++) {\r\n\t\t\t\tchar ch = input.charAt(i);\r\n\t\t\t\tif (Character.isUpperCase(ch))\r\n\t\t\t\t\tupperCount++;\r\n\t\t\t\telse if (Character.isLowerCase(ch))\r\n\t\t\t\t\tlowerCount++;\r\n\t\t\t\telse if (Character.isDigit(ch))\r\n\t\t\t\t\tdigitCount++;\t\r\n\t\t\t\telse if (Character.isDigit(ch))\r\n\t\t\t\t\tminLength++;\r\n\t\t\t\telse if (Character.isDigit(ch))\r\n\t\t\t\t\tmaxLength++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(upperCount &lt;= NUM_UPPER_LETTERS \r\n\t\t\t\t&amp;&amp; lowerCount &lt;= NUM_LOWER_LETTERS \r\n\t\t\t\t&amp;&amp; digitCount &lt;= NUM_DIGITS \r\n\t\t\t\t&amp;&amp; minLength &lt;= MIN_LENGTH\r\n\t\t\t\t&amp;&amp; maxLength &lt;= MAX_LENGTH)\r\n\t\t\tSystem.out.println(&quot;Password valid and accepted&quot;);\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Error&quot;);\r\n\t\t\t\r\n```\r\n\r\n \r\n\r\n","title":"Java Password Validated Without Regex","body":"<p>I am very new to Java and have been working on the exercise for days now. The goal of this exercise is to validate a password without using regex.</p>\n<p>The requirements of this exercise is:\nVia the console, ask the user to create a password with the following requirements.\nThe password must contain:\n○ At least one lowercase letter\n○ At least one uppercase letter\n<em><strong>○ At least minimum 7 characters\n○ At least maximum 12 characters</strong></em>\n<em><strong>○ An exclamation point: !</strong></em>\n● If the user meets all the requirements, print the string &quot;Password valid and\naccepted&quot; to the console\n● If the password fails any of the requirements, print the string &quot;Error &quot;.</p>\n<p>My issue is that I can not get set the Max and Min length for the password requirement to 7 - min &amp; 12 Max. I am also having trouble adding &quot;!&quot; as a password requirement. Can someone please direct me in the correct direction?</p>\n<pre><code>Via the console, ask the user to create a password with the following requirements.\n</code></pre>\n<p>The password must contain:\n○ At least one lowercase letter\n○ At least one uppercase letter\n○ At least minimum 7 characters\n○ At least maximum 12 characters\n○ An exclamation point: !\n● If the user meets all the requirements, print the string &quot;Password valid and\naccepted&quot; to the console\n● If the password fails any of the requirements, print the string &quot;Error &quot;.</p>\n<pre><code>import java.util.Scanner;\n\npublic class WhatToEat {\npublic static void main(String[] args) {\n        // TODO Auto-generated method stub\n        /*\n         * At Least One Lower case\n         * At Least one Upper case\n         * At least 7 Characters minimum \n         * At least 12 characters maximum\n         * Exclamation mark required\n         */\n        \n        final int MIN_LENGTH = 7;\n        final int MAX_LENGTH = 12;\n        final int NUM_UPPER_LETTERS = 1;\n        final int NUM_LOWER_LETTERS = 1;\n        final int NUM_DIGITS =0;\n        int minLength = 0;\n        int maxLength = 0;\n        int upperCount = 0;\n        int lowerCount = 0;\n        int digitCount = 0;\n        \n        try (Scanner in = new Scanner(System.in)) {\n            System.out.print(&quot;Enter Password Here:&quot;);\n            String input = in.nextLine();\n            int inputLen = input.length();\n            for (int i = 0; i &lt; inputLen; i++) {\n                char ch = input.charAt(i);\n                if (Character.isUpperCase(ch))\n                    upperCount++;\n                else if (Character.isLowerCase(ch))\n                    lowerCount++;\n                else if (Character.isDigit(ch))\n                    digitCount++;   \n                else if (Character.isDigit(ch))\n                    minLength++;\n                else if (Character.isDigit(ch))\n                    maxLength++;\n            }\n        }\n        if(upperCount &lt;= NUM_UPPER_LETTERS \n                &amp;&amp; lowerCount &lt;= NUM_LOWER_LETTERS \n                &amp;&amp; digitCount &lt;= NUM_DIGITS \n                &amp;&amp; minLength &lt;= MIN_LENGTH\n                &amp;&amp; maxLength &lt;= MAX_LENGTH)\n            System.out.println(&quot;Password valid and accepted&quot;);\n        else {\n            System.out.println(&quot;Error&quot;);\n            \n</code></pre>\n"},{"tags":["java","sql","postgresql","hibernate","querydsl"],"comments":[{"owner":{"account_id":12695231,"reputation":237,"user_id":9223879,"display_name":"Serhii Romanov"},"score":0,"creation_date":1516287771,"post_id":48280413,"comment_id":83633845,"body_markdown":"I came up with: `predicate.and(booleanTemplate(&quot;arraycontains({0}, string_to_array(&#39;someTag,anotherTag&#39;, &#39;,&#39;))&quot;, qEntity.tags));` but the functions can&#39;t be execute and this exception is thrown: `QuerySyntaxException: unexpected AST node: ( near line 3, column 20 [select blablabla where arraycontains(entity.tags,string_to_array(&#39;someTag,anotherTag&#39;, &#39;,&#39;))]` sources: https://stackoverflow.com/questions/41544332/call-mysql-nested-inner-functions-in-querydsl and https://stackoverflow.com/questions/22984343/how-to-call-mysql-function-using-querydsl","body":"I came up with: <code>predicate.and(booleanTemplate(&quot;arraycontains({0}, string_to_array(&#39;someTag,anotherTag&#39;, &#39;,&#39;))&quot;, qEntity.tags));</code> but the functions can&#39;t be execute and this exception is thrown: <code>QuerySyntaxException: unexpected AST node: ( near line 3, column 20 [select blablabla where arraycontains(entity.tags,string_to_array(&#39;someTag,anotherTa&zwnj;&#8203;g&#39;, &#39;,&#39;))]</code> sources: <a href=\"https://stackoverflow.com/questions/41544332/call-mysql-nested-inner-functions-in-querydsl\" title=\"call mysql nested inner functions in querydsl\">stackoverflow.com/questions/41544332/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/22984343/how-to-call-mysql-function-using-querydsl\" title=\"how to call mysql function using querydsl\">stackoverflow.com/questions/22984343/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1588869373,"creation_date":1516108705,"answer_id":48282207,"question_id":48280413,"body_markdown":"Since you can&#39;t use custom operators, you will have to use their functional equivalents. You can look them up in the psql console with `\\doS+`. For `\\doS+ @&gt;` we get several results, but this is the one you want:\r\n\r\n                                              List of operators\r\n       Schema   | Name | Left arg type | Right arg type | Result type |      Function       | Description \r\n    ------------+------+---------------+----------------+-------------+---------------------+-------------\r\n     pg_catalog | @&gt;   | anyarray      | anyarray       | boolean     | arraycontains       | contains\r\n\r\n\r\nIt tells us the function used is called `arraycontains`, so now we look-up that function to see it&#39;s parameters using `\\df arraycontains`\r\n\r\n                                  List of functions\r\n       Schema   |     Name      | Result data type | Argument data types |  Type  \r\n    ------------+---------------+------------------+---------------------+--------\r\n     pg_catalog | arraycontains | boolean          | anyarray, anyarray  | normal\r\n\r\nFrom here, we transform the target query you&#39;re aiming for into:\r\n\r\n    SELECT * FROM entity WHERE arraycontains(tags, &#39;{&quot;someTag&quot;,&quot;anotherTag&quot;}&#39;::text[]);\r\n\r\nYou should then be able to use the builder&#39;s `function` call to create this condition.\r\n\r\n    ParameterExpression&lt;String[]&gt; tags = cb.parameter(String[].class);\r\n    Expression&lt;Boolean&gt; tagcheck = cb.function(&quot;Flight_.id&quot;, Boolean.class, Entity_.tags, tags);\r\n\r\nThough I use a different array solution (might publish soon), I believe it should work, unless there are bugs in the underlying implementation.\r\n\r\nAn alternative to method would be to compile the escaped string format of the array and pass it on as the second parameter. It&#39;s easier to print if you don&#39;t treat the double-quotes as optional. In that event, you have to replace `String[]` with `String` in the `ParameterExpression` row above","title":"Postgresql Array Functions with QueryDSL","body":"<p>Since you can't use custom operators, you will have to use their functional equivalents. You can look them up in the psql console with <code>\\doS+</code>. For <code>\\doS+ @&gt;</code> we get several results, but this is the one you want:</p>\n\n<pre><code>                                          List of operators\n   Schema   | Name | Left arg type | Right arg type | Result type |      Function       | Description \n------------+------+---------------+----------------+-------------+---------------------+-------------\n pg_catalog | @&gt;   | anyarray      | anyarray       | boolean     | arraycontains       | contains\n</code></pre>\n\n<p>It tells us the function used is called <code>arraycontains</code>, so now we look-up that function to see it's parameters using <code>\\df arraycontains</code></p>\n\n<pre><code>                              List of functions\n   Schema   |     Name      | Result data type | Argument data types |  Type  \n------------+---------------+------------------+---------------------+--------\n pg_catalog | arraycontains | boolean          | anyarray, anyarray  | normal\n</code></pre>\n\n<p>From here, we transform the target query you're aiming for into:</p>\n\n<pre><code>SELECT * FROM entity WHERE arraycontains(tags, '{\"someTag\",\"anotherTag\"}'::text[]);\n</code></pre>\n\n<p>You should then be able to use the builder's <code>function</code> call to create this condition.</p>\n\n<pre><code>ParameterExpression&lt;String[]&gt; tags = cb.parameter(String[].class);\nExpression&lt;Boolean&gt; tagcheck = cb.function(\"Flight_.id\", Boolean.class, Entity_.tags, tags);\n</code></pre>\n\n<p>Though I use a different array solution (might publish soon), I believe it should work, unless there are bugs in the underlying implementation.</p>\n\n<p>An alternative to method would be to compile the escaped string format of the array and pass it on as the second parameter. It's easier to print if you don't treat the double-quotes as optional. In that event, you have to replace <code>String[]</code> with <code>String</code> in the <code>ParameterExpression</code> row above</p>\n"},{"tags":[],"owner":{"account_id":12695231,"reputation":237,"user_id":9223879,"display_name":"Serhii Romanov"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1646697434,"creation_date":1516620954,"answer_id":48380713,"question_id":48280413,"body_markdown":"1. 1st step is to generate proper sql: `WHERE tags @&gt; &#39;{&quot;someTag&quot;,&quot;anotherTag&quot;}&#39;::text[];`\r\n2. 2nd step is described by coladict (thanks a lot!): figure out the functions which are called: @&gt; is arraycontains and ::text[] is string_to_array\r\n3. 3rd step is to call them properly. After hours of debug I figured out that HQL doesn&#39;t treat functions as functions unless I added an expression sign (in my case: ...=true), so the final solution looks like this:\r\n\r\n        predicate.and(\r\n                Expressions.booleanTemplate(&quot;arraycontains({0}, string_to_array({1}, &#39;,&#39;)) = true&quot;, \r\n                        entity.tags,\r\n                        tagsStr)\r\n        );\r\n\r\nwhere `tagsStr` - is a `String` with values separated by `,`","title":"Postgresql Array Functions with QueryDSL","body":"<ol>\n<li><p>1st step is to generate proper sql: <code>WHERE tags @&gt; '{&quot;someTag&quot;,&quot;anotherTag&quot;}'::text[];</code></p>\n</li>\n<li><p>2nd step is described by coladict (thanks a lot!): figure out the functions which are called: @&gt; is arraycontains and ::text[] is string_to_array</p>\n</li>\n<li><p>3rd step is to call them properly. After hours of debug I figured out that HQL doesn't treat functions as functions unless I added an expression sign (in my case: ...=true), so the final solution looks like this:</p>\n<pre><code> predicate.and(\n         Expressions.booleanTemplate(&quot;arraycontains({0}, string_to_array({1}, ',')) = true&quot;, \n                 entity.tags,\n                 tagsStr)\n );\n</code></pre>\n</li>\n</ol>\n<p>where <code>tagsStr</code> - is a <code>String</code> with values separated by <code>,</code></p>\n"},{"tags":[],"owner":{"account_id":9000837,"reputation":61,"user_id":6709534,"display_name":"Akinniranye James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536982714,"creation_date":1536982714,"answer_id":52341343,"question_id":48280413,"body_markdown":"For **EclipseLink** I created a function \r\n\r\n    CREATE OR REPLACE FUNCTION check_array(array_val text[], string_comma character varying ) RETURNS bool AS $$\r\n            BEGIN\r\n                    RETURN arraycontains(array_val, string_to_array(string_comma, &#39;,&#39;));\r\n            END;\r\n    $$ LANGUAGE plpgsql;\r\n\r\nAs pointed out by Serhii, then you can use`Expressions.booleanTemplate(&quot;FUNCTION(&#39;check_array&#39;, {0}, {1}) = true&quot;, entity.tags, tagsStr)`\r\n\r\n","title":"Postgresql Array Functions with QueryDSL","body":"<p>For <strong>EclipseLink</strong> I created a function </p>\n\n<pre><code>CREATE OR REPLACE FUNCTION check_array(array_val text[], string_comma character varying ) RETURNS bool AS $$\n        BEGIN\n                RETURN arraycontains(array_val, string_to_array(string_comma, ','));\n        END;\n$$ LANGUAGE plpgsql;\n</code></pre>\n\n<p>As pointed out by Serhii, then you can use<code>Expressions.booleanTemplate(\"FUNCTION('check_array', {0}, {1}) = true\", entity.tags, tagsStr)</code></p>\n"}],"owner":{"account_id":12695231,"reputation":237,"user_id":9223879,"display_name":"Serhii Romanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5762,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48380713,"answer_count":3,"score":3,"last_activity_date":1646697434,"creation_date":1516102802,"question_id":48280413,"body_markdown":"I use the Vlad Mihalcea&#39;s library in order to map SQL arrays (Postgresql in my case) to JPA. Then let&#39;s imagine I have an Entity, ex.\r\n\r\n    @TypeDefs(\r\n    {@TypeDef(name = &quot;string-array&quot;, typeClass = \r\n    StringArrayType.class)}\r\n    )\r\n    @Entity\r\n    public class Entity {\r\n        @Type(type = &quot;string-array&quot;)\r\n        @Column(columnDefinition = &quot;text[]&quot;)\r\n        private String[] tags;\r\n    }\r\n\r\nThe appropriate SQL is:\r\n\r\n    CREATE TABLE entity (\r\n        tags text[]\r\n    );\r\n\r\nUsing QueryDSL I&#39;d like to fetch rows which tags contains all the given ones. The raw SQL could be:\r\n\r\n    SELECT * FROM entity WHERE tags @&gt; &#39;{&quot;someTag&quot;,&quot;anotherTag&quot;}&#39;::text[];\r\n(taken from: https://www.postgresql.org/docs/9.1/static/functions-array.html)\r\n\r\nIs it possible to do it with QueryDSL? Something like the code bellow ?\r\n\r\n    predicate.and(entity.tags.eqAll(&lt;whatever&gt;));","title":"Postgresql Array Functions with QueryDSL","body":"<p>I use the Vlad Mihalcea's library in order to map SQL arrays (Postgresql in my case) to JPA. Then let's imagine I have an Entity, ex.</p>\n\n<pre><code>@TypeDefs(\n{@TypeDef(name = \"string-array\", typeClass = \nStringArrayType.class)}\n)\n@Entity\npublic class Entity {\n    @Type(type = \"string-array\")\n    @Column(columnDefinition = \"text[]\")\n    private String[] tags;\n}\n</code></pre>\n\n<p>The appropriate SQL is:</p>\n\n<pre><code>CREATE TABLE entity (\n    tags text[]\n);\n</code></pre>\n\n<p>Using QueryDSL I'd like to fetch rows which tags contains all the given ones. The raw SQL could be:</p>\n\n<pre><code>SELECT * FROM entity WHERE tags @&gt; '{\"someTag\",\"anotherTag\"}'::text[];\n</code></pre>\n\n<p>(taken from: <a href=\"https://www.postgresql.org/docs/9.1/static/functions-array.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/9.1/static/functions-array.html</a>)</p>\n\n<p>Is it possible to do it with QueryDSL? Something like the code bellow ?</p>\n\n<pre><code>predicate.and(entity.tags.eqAll(&lt;whatever&gt;));\n</code></pre>\n"},{"tags":["java","inheritance","composition"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":3,"creation_date":1646693435,"post_id":71388118,"comment_id":126182908,"body_markdown":"It does not sound right when saying out loud &quot;`Weapon` is a `Player`&quot;, so that inheritance is not correct.  There is already a `Weapon` passed in to `Player`s constructor, so not sure why `h` is even needed there since `Player` could delegate to its `Weapon` to get the current `h` value.","body":"It does not sound right when saying out loud &quot;<code>Weapon</code> is a <code>Player</code>&quot;, so that inheritance is not correct.  There is already a <code>Weapon</code> passed in to <code>Player</code>s constructor, so not sure why <code>h</code> is even needed there since <code>Player</code> could delegate to its <code>Weapon</code> to get the current <code>h</code> value."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646695191,"post_id":71388118,"comment_id":126183280,"body_markdown":"I&#39;d start with some interfaces, like `Healthable`, `Player` and `Weapon`, where `Player` and `Weapon` extend from `Healthable` (this describes `getHP` for example).  You could then define a `abstract` class of `Healthable` which implements core functionality, so concrete implementations of `Player` and `Weapon` would extend from this `abstract` class and the implement their respective `interface`s. But this does start locking you in, so you might want to consider if re-implementing something as simple as `getHP` is really worth the effort","body":"I&#39;d start with some interfaces, like <code>Healthable</code>, <code>Player</code> and <code>Weapon</code>, where <code>Player</code> and <code>Weapon</code> extend from <code>Healthable</code> (this describes <code>getHP</code> for example).  You could then define a <code>abstract</code> class of <code>Healthable</code> which implements core functionality, so concrete implementations of <code>Player</code> and <code>Weapon</code> would extend from this <code>abstract</code> class and the implement their respective <code>interface</code>s. But this does start locking you in, so you might want to consider if re-implementing something as simple as <code>getHP</code> is really worth the effort"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646702285,"post_id":71388118,"comment_id":126184500,"body_markdown":"&#39;Inherited subclass&#39; is a contradiction in terms. Your question doesn&#39;t make sense.","body":"&#39;Inherited subclass&#39; is a contradiction in terms. Your question doesn&#39;t make sense."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646696172,"creation_date":1646696172,"answer_id":71388433,"question_id":71388118,"body_markdown":"Yes, this is a bad practice. Such architecture will lead to very hard to follow code.  What you need to do is create an Abstract class and move some of the information to that and have both your Weapon and Player class extend that.\r\n\r\n\r\n    public abstract class AbstractHealthObject {\r\n       private String name;\r\n       private int hp;\r\n\r\n       public AbstractHealthObject(String name, int hp) {\r\n         setName(name);\r\n         setHp(hp);\r\n       }\r\n       //add getters and setters\r\n    }\r\n\r\n    public class Player extends AbstractHealthObject {\r\n       //instance variables\r\n       public Player(int h, Weapon w, String n, int s) {\r\n         super(h, n);\r\n         //set instance variables\r\n       }\r\n    }\r\n\r\n    public class Weapon extends AbstractHealthObject {\r\n       public Weapon(String name, int hp, int damage) {\r\n         super(name, hp);\r\n         //set instance variables\r\n       }\r\n    }","title":"Is it bad practice to make a super class composed of its inherited subclass?","body":"<p>Yes, this is a bad practice. Such architecture will lead to very hard to follow code.  What you need to do is create an Abstract class and move some of the information to that and have both your Weapon and Player class extend that.</p>\n<pre><code>public abstract class AbstractHealthObject {\n   private String name;\n   private int hp;\n\n   public AbstractHealthObject(String name, int hp) {\n     setName(name);\n     setHp(hp);\n   }\n   //add getters and setters\n}\n\npublic class Player extends AbstractHealthObject {\n   //instance variables\n   public Player(int h, Weapon w, String n, int s) {\n     super(h, n);\n     //set instance variables\n   }\n}\n\npublic class Weapon extends AbstractHealthObject {\n   public Weapon(String name, int hp, int damage) {\n     super(name, hp);\n     //set instance variables\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":24165516,"reputation":1,"user_id":18128425,"display_name":"Joshua"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71388433,"answer_count":1,"score":-2,"last_activity_date":1646696172,"creation_date":1646693133,"question_id":71388118,"body_markdown":"I have 2 classes, a player and a weapon. Both have an hp instance (represents durability for weapon) and a &quot;name&quot; instance. So If I want to access the hp of the weapon, I don&#39;t have to re-create a getHp method in the weapon class, since it is already in the player class. That&#39;s inheritance. \r\nHowever, I also want a weapon to be in the player constructor. So thats composition of the subclass. The problem is, the weapons class has to inherit the weapon object in the player constructor, so I just put null, in super().\r\n\r\n    public class Player {\r\n    \r\n        private int hp;\r\n        private String name;\r\n        private int speed;\r\n    \r\n        \r\n        private ArrayList&lt;Weapon&gt; wList;  //There is a list of weapons in the player class\r\n       \r\n\r\n    \r\n\r\n        public Player(int h, Weapon w, String n, int s) {\r\n    \r\n            hp = h;\r\n            name = n;\r\n            currentW=w;\r\n            speed=s;\r\n    \r\n    \r\n            wList = new ArrayList&lt;&gt;();\r\n           public int getHp() {\r\n            return hp;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        }\r\n    public class Weapon extends Player {\r\n        private int damage;\r\n       \r\n    \r\n        public Weapon(int h, String n, int damage) {\r\n            super(h, null,n, 0)\r\n            this.damage = damage;\r\n          \r\n    \r\n        }\r\nIf this is bad practice, is there another way to have weapon in the player constructor, but not have to re-write the getter methods?.","title":"Is it bad practice to make a super class composed of its inherited subclass?","body":"<p>I have 2 classes, a player and a weapon. Both have an hp instance (represents durability for weapon) and a &quot;name&quot; instance. So If I want to access the hp of the weapon, I don't have to re-create a getHp method in the weapon class, since it is already in the player class. That's inheritance.\nHowever, I also want a weapon to be in the player constructor. So thats composition of the subclass. The problem is, the weapons class has to inherit the weapon object in the player constructor, so I just put null, in super().</p>\n<pre><code>public class Player {\n\n    private int hp;\n    private String name;\n    private int speed;\n\n    \n    private ArrayList&lt;Weapon&gt; wList;  //There is a list of weapons in the player class\n   \n\n\n\n    public Player(int h, Weapon w, String n, int s) {\n\n        hp = h;\n        name = n;\n        currentW=w;\n        speed=s;\n\n\n        wList = new ArrayList&lt;&gt;();\n       public int getHp() {\n        return hp;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    }\npublic class Weapon extends Player {\n    private int damage;\n   \n\n    public Weapon(int h, String n, int damage) {\n        super(h, null,n, 0)\n        this.damage = damage;\n      \n\n    }\n</code></pre>\n<p>If this is bad practice, is there another way to have weapon in the player constructor, but not have to re-write the getter methods?.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1646689589,"post_id":71387573,"comment_id":126181880,"body_markdown":"`trying to compare User by address instead of value` there is no address in your code snippet","body":"<code>trying to compare User by address instead of value</code> there is no address in your code snippet"},{"owner":{"account_id":4844268,"reputation":1484,"user_id":3908406,"display_name":"user3908406"},"score":0,"creation_date":1646690262,"post_id":71387573,"comment_id":126182072,"body_markdown":"@AdamSiemion I updated the question with more code. I&#39;m trying say is that the `new User(&quot;user1&quot;)` is not being compared based on the property values, instead it was compared based on whether it is the same reference","body":"@AdamSiemion I updated the question with more code. I&#39;m trying say is that the <code>new User(&quot;user1&quot;)</code> is not being compared based on the property values, instead it was compared based on whether it is the same reference"}],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646696164,"creation_date":1646696164,"answer_id":71388429,"question_id":71387573,"body_markdown":"if you create seprate list variable and passed it to the spied function and to the verify function it will work:\r\n\r\n    @Test\r\n\tpublic void test_spy_2() {\r\n\t\t\r\n\t\tBusinessImpl businessImpl_spied = spy(BusinessImpl.class);\r\n\t\t\r\n\t\tList&lt;Depratment&gt; list = List.of(\r\n                new Test(&quot;test1&quot;, new User(&quot;user1&quot;)),\r\n                new Test(&quot;test1&quot;, new User(&quot;user1&quot;))\r\n            );\r\n\t\t\r\n\t\tbusinessImpl_spied.testCallList(list);\r\n\t\t\r\n\t\tverify(businessImpl_spied).testCallList(ArgumentMatchers.eq(list));\r\n\t\t\r\n\t}\r\n\r\n ","title":"Mockito: verify function being called with an argument that has deep nested objects","body":"<p>if you create seprate list variable and passed it to the spied function and to the verify function it will work:</p>\n<pre><code>@Test\npublic void test_spy_2() {\n    \n    BusinessImpl businessImpl_spied = spy(BusinessImpl.class);\n    \n    List&lt;Depratment&gt; list = List.of(\n            new Test(&quot;test1&quot;, new User(&quot;user1&quot;)),\n            new Test(&quot;test1&quot;, new User(&quot;user1&quot;))\n        );\n    \n    businessImpl_spied.testCallList(list);\n    \n    verify(businessImpl_spied).testCallList(ArgumentMatchers.eq(list));\n    \n}\n</code></pre>\n"}],"owner":{"account_id":4844268,"reputation":1484,"user_id":3908406,"display_name":"user3908406"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646696164,"creation_date":1646689267,"question_id":71387573,"body_markdown":"I have this class and a unit test to verify a function being called with an argument which is a list of objects that has nested objects. \r\n```\r\n\r\n   @Data\r\n   class Test {\r\n      private String name;\r\n      private User user;\r\n   }\r\n\r\n   @Data\r\n   class User {\r\n       private String name;\r\n   }\r\n\r\n\r\n   service.somemethod(List.of(\r\n                new Test(&quot;test1&quot;, new User(&quot;user1&quot;)),\r\n                new Test(&quot;test1&quot;, new User(&quot;user1&quot;))\r\n            ));\r\n```\r\n\r\nMy test code:\r\n```\r\nService spyService = Mockito.spy(service);\r\n  verify(spyService, times(1)).somemethod(eq(List.of(\r\n                new Test(&quot;test1&quot;, new User(&quot;user1&quot;)),\r\n                new Test(&quot;test1&quot;, new User(&quot;user1&quot;))\r\n            )));\r\n```\r\n\r\nThis will give me an error that User does not match. I see it is trying to compare User by address instead of value. How can I make it so that it will compare the nested object by value? I tried adding `eq()` around `new User()` but it throws another error saying eq can&#39;t be used there","title":"Mockito: verify function being called with an argument that has deep nested objects","body":"<p>I have this class and a unit test to verify a function being called with an argument which is a list of objects that has nested objects.</p>\n<pre><code>\n   @Data\n   class Test {\n      private String name;\n      private User user;\n   }\n\n   @Data\n   class User {\n       private String name;\n   }\n\n\n   service.somemethod(List.of(\n                new Test(&quot;test1&quot;, new User(&quot;user1&quot;)),\n                new Test(&quot;test1&quot;, new User(&quot;user1&quot;))\n            ));\n</code></pre>\n<p>My test code:</p>\n<pre><code>Service spyService = Mockito.spy(service);\n  verify(spyService, times(1)).somemethod(eq(List.of(\n                new Test(&quot;test1&quot;, new User(&quot;user1&quot;)),\n                new Test(&quot;test1&quot;, new User(&quot;user1&quot;))\n            )));\n</code></pre>\n<p>This will give me an error that User does not match. I see it is trying to compare User by address instead of value. How can I make it so that it will compare the nested object by value? I tried adding <code>eq()</code> around <code>new User()</code> but it throws another error saying eq can't be used there</p>\n"},{"tags":["java","if-statement","matrix","super"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1646694368,"post_id":71388210,"comment_id":126183107,"body_markdown":"And what if the array isn&#39;t square?  Will the object remain unconstructed?","body":"And what if the array isn&#39;t square?  Will the object remain unconstructed?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1646694372,"post_id":71388210,"comment_id":126183108,"body_markdown":"Perhaps the sub-class should throw an exception if `array2D.length != array2D[0].length`, otherwise call the super constructor.","body":"Perhaps the sub-class should throw an exception if <code>array2D.length != array2D[0].length</code>, otherwise call the super constructor."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1646694602,"post_id":71388210,"comment_id":126183165,"body_markdown":"That seems to be the only sensible option, but I thought I should ask the OP.","body":"That seems to be the only sensible option, but I thought I should ask the OP."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1646695242,"post_id":71388210,"comment_id":126183288,"body_markdown":"Why does the `Matrix` constructor even **have** arguments giving row and column count?  As your latest edit shows, there&#39;s no use for them except to force the user to say the same numbers that were used in creating the array.","body":"Why does the <code>Matrix</code> constructor even <b>have</b> arguments giving row and column count?  As your latest edit shows, there&#39;s no use for them except to force the user to say the same numbers that were used in creating the array."}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646695060,"creation_date":1646694558,"answer_id":71388277,"question_id":71388210,"body_markdown":"The trick is simply to arrange that the `super` call can be in the first line of the subclass constructor.\r\n\r\n    public SquareMatrix(double[][] array2D){\r\n      super(check(array2D), check(array2D), array2D);\r\n    }\r\n    \r\n    private static int check(double[][] array2D) {\r\n      if (array2D.length != array2D[0].length)\r\n        throw new IllegalArgumentException(&quot;unsquare&quot;);\r\n      return array2D.length;\r\n    } \r\n\r\nAn exception is thrown since there seems to be no other way to construct the class correctly.  It&#39;s &quot;square or bust&quot;.\r\n\r\nYeah, we do the same computation twice. I didn&#39;t think it was worth working around, to save such a little.\r\n\r\nHowever, there seems to be a simpler solution for this case:\r\n\r\n    public SquareMatrix(double[][] array2D){\r\n      super(array2D.length, array2D[0].length, array2D);\r\n      if (array2D.length != arrary2D[0].length)\r\n        throw new IllegalArgumentException(&quot;unsquare&quot;);\r\n    }\r\n\r\nThere&#39;s no reason why the check for legitimacy has to be first.\r\n\r\nFinally, the checking is flawed. It does not screen out ragged arrays. There&#39;s nothing stopping `array2D[0].length != array2D[1].length`.\r\n\r\n\r\n","title":"How to use the single if condition inside the super keyword?","body":"<p>The trick is simply to arrange that the <code>super</code> call can be in the first line of the subclass constructor.</p>\n<pre><code>public SquareMatrix(double[][] array2D){\n  super(check(array2D), check(array2D), array2D);\n}\n\nprivate static int check(double[][] array2D) {\n  if (array2D.length != array2D[0].length)\n    throw new IllegalArgumentException(&quot;unsquare&quot;);\n  return array2D.length;\n} \n</code></pre>\n<p>An exception is thrown since there seems to be no other way to construct the class correctly.  It's &quot;square or bust&quot;.</p>\n<p>Yeah, we do the same computation twice. I didn't think it was worth working around, to save such a little.</p>\n<p>However, there seems to be a simpler solution for this case:</p>\n<pre><code>public SquareMatrix(double[][] array2D){\n  super(array2D.length, array2D[0].length, array2D);\n  if (array2D.length != arrary2D[0].length)\n    throw new IllegalArgumentException(&quot;unsquare&quot;);\n}\n</code></pre>\n<p>There's no reason why the check for legitimacy has to be first.</p>\n<p>Finally, the checking is flawed. It does not screen out ragged arrays. There's nothing stopping <code>array2D[0].length != array2D[1].length</code>.</p>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646695488,"creation_date":1646695488,"answer_id":71388365,"question_id":71388210,"body_markdown":"First, simplify. You don&#39;t need the numRows and numCols parameters if you&#39;re just going to get them from the actual data in the third parameter.\r\n\r\nThen Create an abstract method in your base class called validate or something similar.\r\n\r\n      private abstract void validate(double[][] data) throws MatrixValidationException\r\n\r\nThen create a new Exception that can be thrown from your validate method, creatively enough, MatrixValidationException.\r\n\r\n    public class MatrixValidationException extends Exception {\r\n       public MatricValidationException(String reason) {\r\n          super(reason);\r\n       }\r\n    }\r\n\r\nIf the matrix fails validation, have your subclass validate() method throw an exception with the details of why the validation failed.\r\n\r\n    private validate(double[][] data) throws MatrixValidatioException {\r\n       if (data.length == 0) {\r\n          throw new MatrixValidationException(&quot;No data&quot;);\r\n       }\r\n       if (data.length != data[0].length) {\r\n          throw new MatrixValidationException(&quot;Matrix is not square.&quot;);\r\n       }\r\n    }\r\n\r\nAdd a &quot;throws MatrixValidationException&quot; to your constructors\r\n\r\n    public Matrix(double[][] data) throws MatrixValidationException {\r\n       validate(data);\r\n       arr = data;\r\n    }\r\n\r\n    public SquareMatrix(double[][]data) throws MatrixValidationException {\r\n        super(data);\r\n    }\r\n\r\n    ","title":"How to use the single if condition inside the super keyword?","body":"<p>First, simplify. You don't need the numRows and numCols parameters if you're just going to get them from the actual data in the third parameter.</p>\n<p>Then Create an abstract method in your base class called validate or something similar.</p>\n<pre><code>  private abstract void validate(double[][] data) throws MatrixValidationException\n</code></pre>\n<p>Then create a new Exception that can be thrown from your validate method, creatively enough, MatrixValidationException.</p>\n<pre><code>public class MatrixValidationException extends Exception {\n   public MatricValidationException(String reason) {\n      super(reason);\n   }\n}\n</code></pre>\n<p>If the matrix fails validation, have your subclass validate() method throw an exception with the details of why the validation failed.</p>\n<pre><code>private validate(double[][] data) throws MatrixValidatioException {\n   if (data.length == 0) {\n      throw new MatrixValidationException(&quot;No data&quot;);\n   }\n   if (data.length != data[0].length) {\n      throw new MatrixValidationException(&quot;Matrix is not square.&quot;);\n   }\n}\n</code></pre>\n<p>Add a &quot;throws MatrixValidationException&quot; to your constructors</p>\n<pre><code>public Matrix(double[][] data) throws MatrixValidationException {\n   validate(data);\n   arr = data;\n}\n\npublic SquareMatrix(double[][]data) throws MatrixValidationException {\n    super(data);\n}\n</code></pre>\n"}],"owner":{"display_name":"user18402724"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646695488,"creation_date":1646693912,"question_id":71388210,"body_markdown":"I am trying to convert the below subclass constructor code to one line of code using the super constructor .This constructor only needs to verify that the 2D array has the same  number of elements in both dimensions and pass that information to the super class constructor. My super class constructor has three parameters as given below. My subclass constructor has only one array parameter. I am attaching my super class constructor also here.\r\nIn the square matrix class, I need to implement a class that represents a square matrix. I need to check the number of rows in the matrix must be the same as the number of columns. I must extend the Matrix class to implement my SquareMatrix class. I should not override any of the methods of the Matrix class, but I do need to create new constructors:\r\npublic SquareMatrix(double [][] array2D) throws IllegalArgumentException\r\nMy constructor initializes a new square matrix as an rc by rc matrix with values copies from array2D. My constructor should use the super class constructor to do all the work. If the super class constructor throws an exception, the SquareMatrix constructor need do nothing; the exception will simply propagate to the caller.\r\n\r\n    public class Matrix {\r\n    int nRows;\r\n    int nCols;\r\n\tdouble arr[][];\r\n\tpublic Matrix(int numRows,int numCols,double [][] array2D)throws IllegalArgumentException{\r\n\t\tthis.nRows=numRows;\r\n        this.nCols=numCols;\r\nif(nRows!=array2D.length || nCols!=array2D[0].length) throw new IllegalArgumentException(&quot;Dimensions are not matched&quot;);\r\n\t\telse {\r\n\t\t\r\n\t\t\tthis.arr = new double[nRows][nCols];\r\n\t\t\tfor(int i=0;i&lt;this.nRows;i++) {\r\n\t\t\t\tfor(int j=0;j&lt;this.nCols;j++) {\r\n\t\t\t\t\tthis.arr[i][j]=array2D[i][j];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} \r\n}\r\npublic class SquareMatrix extends Matrix {\r\n\t\r\n   \r\n\tpublic SquareMatrix(double[][] array2D) throws IllegalArgumentException{\r\n\t \r\n\t  if(array2D.length==array2D[0].length) {\r\n\t\t  super(array2D.length,array2D[0].length,array2D);\r\n\t  }                    \r\n","title":"How to use the single if condition inside the super keyword?","body":"<p>I am trying to convert the below subclass constructor code to one line of code using the super constructor .This constructor only needs to verify that the 2D array has the same  number of elements in both dimensions and pass that information to the super class constructor. My super class constructor has three parameters as given below. My subclass constructor has only one array parameter. I am attaching my super class constructor also here.\nIn the square matrix class, I need to implement a class that represents a square matrix. I need to check the number of rows in the matrix must be the same as the number of columns. I must extend the Matrix class to implement my SquareMatrix class. I should not override any of the methods of the Matrix class, but I do need to create new constructors:\npublic SquareMatrix(double [][] array2D) throws IllegalArgumentException\nMy constructor initializes a new square matrix as an rc by rc matrix with values copies from array2D. My constructor should use the super class constructor to do all the work. If the super class constructor throws an exception, the SquareMatrix constructor need do nothing; the exception will simply propagate to the caller.</p>\n<pre><code>public class Matrix {\nint nRows;\nint nCols;\ndouble arr[][];\npublic Matrix(int numRows,int numCols,double [][] array2D)throws IllegalArgumentException{\n    this.nRows=numRows;\n    this.nCols=numCols;\n</code></pre>\n<p>if(nRows!=array2D.length || nCols!=array2D[0].length) throw new IllegalArgumentException(&quot;Dimensions are not matched&quot;);\nelse {</p>\n<pre><code>        this.arr = new double[nRows][nCols];\n        for(int i=0;i&lt;this.nRows;i++) {\n            for(int j=0;j&lt;this.nCols;j++) {\n                this.arr[i][j]=array2D[i][j];\n            }\n            \n            }\n        }\n    } \n</code></pre>\n<p>}\npublic class SquareMatrix extends Matrix {</p>\n<pre><code>public SquareMatrix(double[][] array2D) throws IllegalArgumentException{\n \n  if(array2D.length==array2D[0].length) {\n      super(array2D.length,array2D[0].length,array2D);\n  }                    \n</code></pre>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":34404,"reputation":81844,"user_id":97248,"accept_rate":91,"display_name":"pts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646694056,"creation_date":1646693700,"answer_id":71388178,"question_id":71388138,"body_markdown":"Your code has almost all the needed building blocks. The key missing part is creating a new `ArrayList&lt;Integer&gt;` in each iteration of the outer loop, like this:\r\n\r\n```java\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; boolToIntByMonth = new ArrayList&lt;&gt;();\r\nfor (ArrayList&lt;Boolean&gt; arr : isExpenseByMonth) {\r\n    ArrayList&lt;Integer&gt; boolToInt = new ArrayList&lt;&gt;();\r\n    boolToIntByMonth.add(boolToInt);\r\n    for (boolean b : arr) {\r\n        if (b) {\r\n            boolToInt.add(-1);\r\n        } else {\r\n            boolToInt.add(1);\r\n        }\r\n    }   \r\n}\r\n```\r\n\r\nThen you can use the `boolToIntByMonth` as a `List&lt;ArrayList&lt;Integer&gt;&gt;`:\r\n\r\n```\r\nList&lt;ArrayList&lt;Integer&gt;&gt; result = boolToIntByMonth;\r\n```","title":"How to make a new List of ArrayList from a List of ArrayList?","body":"<p>Your code has almost all the needed building blocks. The key missing part is creating a new <code>ArrayList&lt;Integer&gt;</code> in each iteration of the outer loop, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; boolToIntByMonth = new ArrayList&lt;&gt;();\nfor (ArrayList&lt;Boolean&gt; arr : isExpenseByMonth) {\n    ArrayList&lt;Integer&gt; boolToInt = new ArrayList&lt;&gt;();\n    boolToIntByMonth.add(boolToInt);\n    for (boolean b : arr) {\n        if (b) {\n            boolToInt.add(-1);\n        } else {\n            boolToInt.add(1);\n        }\n    }   \n}\n</code></pre>\n<p>Then you can use the <code>boolToIntByMonth</code> as a <code>List&lt;ArrayList&lt;Integer&gt;&gt;</code>:</p>\n<pre><code>List&lt;ArrayList&lt;Integer&gt;&gt; result = boolToIntByMonth;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646695462,"creation_date":1646694174,"answer_id":71388239,"question_id":71388138,"body_markdown":"In order to create a **nested list** (`List&lt;List&lt;T&gt;&gt;`) at each step of iteration of the outer `for` loop you have to create a *new* `List` and populate it with the data for the current month inside the inner `for` loop. This *list* needs to be added into the resulting *nested list*.\r\n\r\n        List&lt;List&lt;Integer&gt;&gt; intByMonth = new ArrayList&lt;&gt;();\r\n\r\n        for (List&lt;Boolean&gt; arr : isExpenseByMonth) {\r\n            List&lt;Integer&gt; nextMonth = new ArrayList&lt;&gt;();\r\n            for (boolean b : arr) {\r\n                nextMonth.add(b ? -1 : 1);\r\n            }\r\n            intByMonth.add(nextMonth);\r\n        }\r\n\r\n**Note:**\r\n* Don&#39;t use concrete implementations like `ArrayList` as a type, it makes your code **inflexible** and unnecessarily verbose. Write the code against interfaces (`List`, `Map`, etc.). This approach is called [**Dependency inversion principle**](https://en.wikipedia.org/wiki/Dependency_inversion_principle).","title":"How to make a new List of ArrayList from a List of ArrayList?","body":"<p>In order to create a <strong>nested list</strong> (<code>List&lt;List&lt;T&gt;&gt;</code>) at each step of iteration of the outer <code>for</code> loop you have to create a <em>new</em> <code>List</code> and populate it with the data for the current month inside the inner <code>for</code> loop. This <em>list</em> needs to be added into the resulting <em>nested list</em>.</p>\n<pre><code>    List&lt;List&lt;Integer&gt;&gt; intByMonth = new ArrayList&lt;&gt;();\n\n    for (List&lt;Boolean&gt; arr : isExpenseByMonth) {\n        List&lt;Integer&gt; nextMonth = new ArrayList&lt;&gt;();\n        for (boolean b : arr) {\n            nextMonth.add(b ? -1 : 1);\n        }\n        intByMonth.add(nextMonth);\n    }\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li>Don't use concrete implementations like <code>ArrayList</code> as a type, it makes your code <strong>inflexible</strong> and unnecessarily verbose. Write the code against interfaces (<code>List</code>, <code>Map</code>, etc.). This approach is called <a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\"><strong>Dependency inversion principle</strong></a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646694317,"creation_date":1646694317,"answer_id":71388252,"question_id":71388138,"body_markdown":"Here is one way.\r\n- stream the original list of lists\r\n- then stream each list and map a boolean to the desired value.\r\n- creating a list of lists\r\n```\r\nList&lt;List&lt;Boolean&gt;&gt; lists = List.of(\r\n\t\tList.of(true, true, true, false, false, false),\r\n\t\tList.of(true, true, false, false, false),\r\n\t\tList.of(true, true, true, false, false, false));\r\n\r\nList&lt;List&lt;Integer&gt;&gt; result = lists.stream()\r\n    .map(list -&gt; list.stream().map(v -&gt; v ? -1 : 1)\r\n        .toList())\r\n    .toList();\r\n\r\nresult.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n[-1, -1, -1, 1, 1, 1]\r\n[-1, -1, 1, 1, 1]\r\n[-1, -1, -1, 1, 1, 1]\r\n```\r\nNote `v ? -1 or 1` says if `v` is true, use `-1` else use `1`.","title":"How to make a new List of ArrayList from a List of ArrayList?","body":"<p>Here is one way.</p>\n<ul>\n<li>stream the original list of lists</li>\n<li>then stream each list and map a boolean to the desired value.</li>\n<li>creating a list of lists</li>\n</ul>\n<pre><code>List&lt;List&lt;Boolean&gt;&gt; lists = List.of(\n        List.of(true, true, true, false, false, false),\n        List.of(true, true, false, false, false),\n        List.of(true, true, true, false, false, false));\n\nList&lt;List&lt;Integer&gt;&gt; result = lists.stream()\n    .map(list -&gt; list.stream().map(v -&gt; v ? -1 : 1)\n        .toList())\n    .toList();\n\nresult.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>[-1, -1, -1, 1, 1, 1]\n[-1, -1, 1, 1, 1]\n[-1, -1, -1, 1, 1, 1]\n</code></pre>\n<p>Note <code>v ? -1 or 1</code> says if <code>v</code> is true, use <code>-1</code> else use <code>1</code>.</p>\n"}],"owner":{"display_name":"user15270187"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71388178,"answer_count":3,"score":0,"last_activity_date":1646695462,"creation_date":1646693346,"question_id":71388138,"body_markdown":"Another silly question from a complete beginner.\r\n\r\nI have a ```List&lt;ArrayList&lt;Boolean&gt;&gt; isExpenseByMonth``` with the following contents:\r\n\r\n```[[true, true, true, false, false, false], [true, true, false, false, false], [true, true, true, false, false, false]]```.\r\n\r\nI need to &quot;convert&quot; boolean values to integers (true = -1, false = 1) and place them to a new ```List&lt;ArrayList&lt;Integer&gt;&gt; boolToIntByMonth``` so that it&#39;d look like this (```ArrayList&lt;Integer&gt;```s should be of the same size as ```ArrayList&lt;Boolean&gt;```s):\r\n\r\n```[[-1, -1, -1, 1, 1, 1], [-1, -1, 1, 1, 1], [-1, -1, -1, 1, 1, 1]]```\r\n\r\nSo far I&#39;ve tried to play around with the following code:\r\n\r\n```\r\nArrayList&lt;Integer&gt; boolToInt = new ArrayList&lt;&gt;();\r\n//List&lt;ArrayList&lt;Integer&gt;&gt; boolToIntByMonth = new ArrayList&lt;&gt;();\r\n\t\t\r\nfor (ArrayList&lt;Boolean&gt; arr : isExpenseByMonth) {\r\n\tfor (boolean b : arr) {\r\n\t\tif (b) {\r\n\t\t\tboolToInt.add(-1);\r\n\t\t\t//boolToIntByMonth.add(boolToInt);\r\n\t\t} else {\r\n\t\t\tboolToInt.add(1);\r\n\t\t\t//boolToIntByMonth.add(boolToInt);\r\n\t\t}\r\n\t}\t\r\n}\r\n```\r\nBut the best I could get is this (one ```ArrayList&lt;Integer&gt;``` with the correct values and order):\r\n\r\n```[-1, -1, -1, 1, 1, 1, -1, -1, 1, 1, 1, -1, -1, -1, 1, 1, 1]```\r\n\r\nAny help would be greatly appreciated.","title":"How to make a new List of ArrayList from a List of ArrayList?","body":"<p>Another silly question from a complete beginner.</p>\n<p>I have a <code>List&lt;ArrayList&lt;Boolean&gt;&gt; isExpenseByMonth</code> with the following contents:</p>\n<p><code>[[true, true, true, false, false, false], [true, true, false, false, false], [true, true, true, false, false, false]]</code>.</p>\n<p>I need to &quot;convert&quot; boolean values to integers (true = -1, false = 1) and place them to a new <code>List&lt;ArrayList&lt;Integer&gt;&gt; boolToIntByMonth</code> so that it'd look like this (<code>ArrayList&lt;Integer&gt;</code>s should be of the same size as <code>ArrayList&lt;Boolean&gt;</code>s):</p>\n<p><code>[[-1, -1, -1, 1, 1, 1], [-1, -1, 1, 1, 1], [-1, -1, -1, 1, 1, 1]]</code></p>\n<p>So far I've tried to play around with the following code:</p>\n<pre><code>ArrayList&lt;Integer&gt; boolToInt = new ArrayList&lt;&gt;();\n//List&lt;ArrayList&lt;Integer&gt;&gt; boolToIntByMonth = new ArrayList&lt;&gt;();\n        \nfor (ArrayList&lt;Boolean&gt; arr : isExpenseByMonth) {\n    for (boolean b : arr) {\n        if (b) {\n            boolToInt.add(-1);\n            //boolToIntByMonth.add(boolToInt);\n        } else {\n            boolToInt.add(1);\n            //boolToIntByMonth.add(boolToInt);\n        }\n    }   \n}\n</code></pre>\n<p>But the best I could get is this (one <code>ArrayList&lt;Integer&gt;</code> with the correct values and order):</p>\n<p><code>[-1, -1, -1, 1, 1, 1, -1, -1, 1, 1, 1, -1, -1, -1, 1, 1, 1]</code></p>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","ssl"],"answers":[{"tags":[],"owner":{"account_id":14095561,"reputation":1426,"user_id":10182449,"display_name":"PythonLearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583395908,"creation_date":1583395908,"answer_id":60540780,"question_id":60540641,"body_markdown":"First check the cacert file in `JDK 1.8.0_231/jre/lib/security` directory and same in jre directory with the same location also. First try to copy the security files and paste into another version of java with the above mentioned location. It should solve the problem.","title":"Geting PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException after jdk update","body":"<p>First check the cacert file in <code>JDK 1.8.0_231/jre/lib/security</code> directory and same in jre directory with the same location also. First try to copy the security files and paste into another version of java with the above mentioned location. It should solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":1928385,"reputation":1014,"user_id":1738332,"accept_rate":89,"display_name":"Wesley De Keirsmaeker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583396526,"creation_date":1583396526,"answer_id":60540918,"question_id":60540641,"body_markdown":"&gt; PKIX path building failed\r\n\r\nThis means there is a issue about trusting certificates. So the issue is with your trust store. As the problem started after updating your JDK, you were probably using the standard java truststore called &#39;cacerts&#39;. You can find this in JDK_HOME/jre/lib/security/cacerts.\r\n\r\nCopy this file from your old to your new JDK and test if the issue is resolved.\r\nThe best solution is to then just copy the certificates you need from the old cacerts to the new one, instead of overwriting it. This is because the new cacerts file will hold new certificates from trusted root parties that won&#39;t be in the old one.\r\n\r\nI suggest using a application with a UI, something like https://keystore-explorer.org/, to do this. It let&#39;s you drag and drop or copy paste certificates.","title":"Geting PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException after jdk update","body":"<blockquote>\n  <p>PKIX path building failed</p>\n</blockquote>\n\n<p>This means there is a issue about trusting certificates. So the issue is with your trust store. As the problem started after updating your JDK, you were probably using the standard java truststore called 'cacerts'. You can find this in JDK_HOME/jre/lib/security/cacerts.</p>\n\n<p>Copy this file from your old to your new JDK and test if the issue is resolved.\nThe best solution is to then just copy the certificates you need from the old cacerts to the new one, instead of overwriting it. This is because the new cacerts file will hold new certificates from trusted root parties that won't be in the old one.</p>\n\n<p>I suggest using a application with a UI, something like <a href=\"https://keystore-explorer.org/\" rel=\"nofollow noreferrer\">https://keystore-explorer.org/</a>, to do this. It let's you drag and drop or copy paste certificates.</p>\n"},{"tags":[],"owner":{"account_id":9104533,"reputation":108,"user_id":6775500,"display_name":"Alex L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646690254,"creation_date":1646690254,"answer_id":71387735,"question_id":60540641,"body_markdown":"If you have Netskope enabled, try killing it in activity monitor and running your CLi command. Netskope steers their your traffic goes through Netskope and your HTTP traffic is attached with Netskope&#39;s certificate.","title":"Geting PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException after jdk update","body":"<p>If you have Netskope enabled, try killing it in activity monitor and running your CLi command. Netskope steers their your traffic goes through Netskope and your HTTP traffic is attached with Netskope's certificate.</p>\n"}],"owner":{"account_id":7275439,"reputation":19,"user_id":5547054,"display_name":"Mohanrao Kolisetti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29697,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1646695105,"answer_count":3,"score":1,"last_activity_date":1646695136,"creation_date":1583395344,"question_id":60540641,"body_markdown":"After updating java version from 1.8.0_231 to 1.8.0_241, I am getting errors related to certificate confiugation. \r\n\r\nDuring spring boot starup I am setting keystore and keystorepass and making a rest call with the help of RestTemplate provided by Spring framework.\r\n\r\nAfter invoking rest service I am getting sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path error.\r\n\r\nThe same code was working fine with JDK 1.8.0_231. Can any help me what&#39;s creating the problem.\r\n\r\nI configured keystore and keystorepassowrd as shown below\r\n```\r\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, environment.getProperty(&quot;javax.net.ssl.keyStore&quot;));\r\n\t\tString pswd = null;\r\n\t\ttry (BufferedReader br = new BufferedReader(\r\n\t\t\t\tnew InputStreamReader(new \r\n        FileInputStream(environment.getProperty(&quot;javax.net.ssl.keyStorePassword&quot;)), Charset.defaultCharset()))) {\r\n\t\t\tpswd = br.readLine();\r\n\t\t\tif (pswd != null) {\r\n\t\t\t\tSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, pswd);\r\n\t\t\t}\r\n\r\n\t\t}\r\n```\r\n\r\n","title":"Geting PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException after jdk update","body":"<p>After updating java version from 1.8.0_231 to 1.8.0_241, I am getting errors related to certificate confiugation. </p>\n\n<p>During spring boot starup I am setting keystore and keystorepass and making a rest call with the help of RestTemplate provided by Spring framework.</p>\n\n<p>After invoking rest service I am getting sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path error.</p>\n\n<p>The same code was working fine with JDK 1.8.0_231. Can any help me what's creating the problem.</p>\n\n<p>I configured keystore and keystorepassowrd as shown below</p>\n\n<pre><code>        System.setProperty(\"javax.net.ssl.keyStore\", environment.getProperty(\"javax.net.ssl.keyStore\"));\n        String pswd = null;\n        try (BufferedReader br = new BufferedReader(\n                new InputStreamReader(new \n        FileInputStream(environment.getProperty(\"javax.net.ssl.keyStorePassword\")), Charset.defaultCharset()))) {\n            pswd = br.readLine();\n            if (pswd != null) {\n                System.setProperty(\"javax.net.ssl.keyStorePassword\", pswd);\n            }\n\n        }\n</code></pre>\n"},{"tags":["java","encryption","modulo"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646692043,"post_id":71387459,"comment_id":126182572,"body_markdown":"afaik Caesar is only expected to work on alpha characters. In fact it would be difficult to do otherwise as character sets vary","body":"afaik Caesar is only expected to work on alpha characters. In fact it would be difficult to do otherwise as character sets vary"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1646694828,"post_id":71387459,"comment_id":126183207,"body_markdown":"Other hints: if your cipher doesn&#39;t contain any state then make the methods `static` so you don&#39;t have to instantiate `Cipher`. Otherwise you could think of `Cipher` being constructed using the key, i.e. the shift (or `offset` in your words). Don&#39;t use `+ string` in a loop: use a `StringBuilder` instead and initiate it with the right number of characters.","body":"Other hints: if your cipher doesn&#39;t contain any state then make the methods <code>static</code> so you don&#39;t have to instantiate <code>Cipher</code>. Otherwise you could think of <code>Cipher</code> being constructed using the key, i.e. the shift (or <code>offset</code> in your words). Don&#39;t use <code>+ string</code> in a loop: use a <code>StringBuilder</code> instead and initiate it with the right number of characters."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646694361,"creation_date":1646694361,"answer_id":71388256,"question_id":71387459,"body_markdown":"What you generally try and do is to define your own alphabet rather than using the ABC, and put that in a string (or a char array). Then you replace the `- 65` (which is not very great when it comes to encoding, you could have used e.g. just `- &#39;A&#39;`) by looking up the character in the alphabet.\r\n\r\nThen you can perform the modulus operation *on the size of the alphabet*, i.e. `alphabet.length()` for strings or `alphabet.length` for char arrays. Then you perform the modular addition / subtraction, and finally you find the corresponding character in your alphabet again.\r\n\r\nNow you have some special code for space and upper / lowercase. That would not work anymore when you&#39;d include special characters. There are two ways around this. The simplest one is to create one big alphabet with uppercase, lowercase and special characters. If you want to keep the case you could also use e.g. 3 separate alphabets.\r\n\r\nSo you start off with e.g.\r\n\r\n```\r\nprivate static final String ALPHABET = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz,.;&quot;;\r\n```\r\n\r\nor you could use:\r\n\r\n```\r\nprivate static final String ALPHABET_UPPER = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\nprivate static final String ALPHABET_LOWER = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\nprivate static final String ALPHABET_SIGNS = &quot;,.;&quot;;\r\n```\r\n\r\nI&#39;d say the single alphabet is a bit more secure as you would directly be able to see the signs in the other. Then again, the Caesar cipher was only somewhat secure when almost nobody was able to read in the first place.\r\n\r\nBetter split your application into methods, have at least:\r\n - `charToIndex(char c): int`;\r\n - `indexToChar(int i): char`;\r\n - `shiftIndex(int i, int shift): int`.\r\n\r\nand while we are at it:\r\n\r\n```\r\npublic static int mod(int i, int n) {\r\n    return ((i % n) + n) % n;\r\n}\r\n```\r\n","title":"Caesar Cipher decryption not working for non-alphabetical characters","body":"<p>What you generally try and do is to define your own alphabet rather than using the ABC, and put that in a string (or a char array). Then you replace the <code>- 65</code> (which is not very great when it comes to encoding, you could have used e.g. just <code>- 'A'</code>) by looking up the character in the alphabet.</p>\n<p>Then you can perform the modulus operation <em>on the size of the alphabet</em>, i.e. <code>alphabet.length()</code> for strings or <code>alphabet.length</code> for char arrays. Then you perform the modular addition / subtraction, and finally you find the corresponding character in your alphabet again.</p>\n<p>Now you have some special code for space and upper / lowercase. That would not work anymore when you'd include special characters. There are two ways around this. The simplest one is to create one big alphabet with uppercase, lowercase and special characters. If you want to keep the case you could also use e.g. 3 separate alphabets.</p>\n<p>So you start off with e.g.</p>\n<pre><code>private static final String ALPHABET = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz,.;&quot;;\n</code></pre>\n<p>or you could use:</p>\n<pre><code>private static final String ALPHABET_UPPER = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\nprivate static final String ALPHABET_LOWER = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\nprivate static final String ALPHABET_SIGNS = &quot;,.;&quot;;\n</code></pre>\n<p>I'd say the single alphabet is a bit more secure as you would directly be able to see the signs in the other. Then again, the Caesar cipher was only somewhat secure when almost nobody was able to read in the first place.</p>\n<p>Better split your application into methods, have at least:</p>\n<ul>\n<li><code>charToIndex(char c): int</code>;</li>\n<li><code>indexToChar(int i): char</code>;</li>\n<li><code>shiftIndex(int i, int shift): int</code>.</li>\n</ul>\n<p>and while we are at it:</p>\n<pre><code>public static int mod(int i, int n) {\n    return ((i % n) + n) % n;\n}\n</code></pre>\n"}],"owner":{"account_id":24483990,"reputation":11,"user_id":18401966,"display_name":"C117"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646694549,"creation_date":1646688369,"question_id":71387459,"body_markdown":"I&#39;m completely new to programming and have been tasked with writing a method in Java to decrypt a message encrypted using a Caesar Cipher (without importing any utilities). \r\n\r\nThe following code was provided for encrypting a message: \r\n\r\n    \tpublic String encrypt(String plainText, int offset) {\r\n\t\tString cipher = &quot;&quot;;\r\n\t\tchar[] arr = plainText.toCharArray();\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tint numericalVal = (int) arr[i];\r\n\t\t\tif (Character.isUpperCase(arr[i])) {\r\n\t\t\t\tcipher += (char) (((numericalVal + offset - 65) % 26) + 65);\r\n\t\t\t} else if (numericalVal == 32) { \r\n\t\t\t\tcipher += arr[i];\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tcipher += (char) (((numericalVal + offset - 97) % 26) + 97);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cipher;\r\n\r\nMy solution must begin with the line `Public String decrypt(String plainText, int offset) `{\r\n\r\n\r\nThis is how I attempted to solve the problem: \r\n\r\n    \tpublic String decrypt(String plainText, int offset) {\r\n\t\tString decipher = &quot;&quot;;\r\n\t\tchar[] d_arr = plainText.toCharArray();\r\n\t\tfor (int i = 0; i &lt; d_arr.length; i++) {\r\n\t\t\tint numericalVal = (int) d_arr[i];\r\n\t\t\tif (Character.isUpperCase(d_arr[i])) {\r\n\t\t\t\tdecipher += (char) ((((numericalVal - offset - 65) % 26 + 26) % 26) + 65); \r\n                //to get remainder for negative values too\r\n\t\t\t} else if (numericalVal == 32) { \r\n\t\t\t\tdecipher += d_arr[i];\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tdecipher += (char) ((((numericalVal - offset - 97) % 26 + 26) % 26) + 97);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn decipher;\r\n\r\n\r\nThis works when decrypting letters of the alphabet, but non-alphabetical letters are not decrypted properly and I am unsure what the issue is. \r\n\r\nFor example:\r\n\r\n    public static void main(String[] args) {\r\n\t\tCaesarCipher C = new CaesarCipher();\r\n\t\tSystem.out.println(C.encrypt(&quot;?&quot;, 4)); //returns the ] symbol\r\n\t\tSystem.out.println(C.decrypt(&quot;]&quot;, 4)); //returns the letter s\r\n\r\nWe were told that adjusting the code to ignore non-alphabetical characters entirely was possible but would require more work, so I changed the `} else if (numericalVal == 32) {\tcipher += arr[i];` code in both the encrypt and decrypt Strings to `} else if (numericalVal &lt; 65 || (numericalVal &gt; 90 &amp;&amp; numericalVal &lt; 97) || numericalVal &gt; 122) {\tcipher += arr[i];`. \r\n\r\n\r\nThis circumvented the issue but I was told that it&#39;s much easier to just decrypt the non-alphabetical characters as well, so I reverted this change, but now I&#39;m at a complete loss as to how to solve this problem. I feel like I&#39;m missing something very simple as I managed to do it &quot;the hard way&quot; but cannot do it the easier way. I can see that when a non-alphabetical value is encrypted, the alphabetical letters are essentially skipped, but the same is not occurring for the decryption process. I presume this is related to the adjustment I made to find the remainder of negative values, but I am unsure. \r\n","title":"Caesar Cipher decryption not working for non-alphabetical characters","body":"<p>I'm completely new to programming and have been tasked with writing a method in Java to decrypt a message encrypted using a Caesar Cipher (without importing any utilities).</p>\n<p>The following code was provided for encrypting a message:</p>\n<pre><code>    public String encrypt(String plainText, int offset) {\n    String cipher = &quot;&quot;;\n    char[] arr = plainText.toCharArray();\n    for (int i = 0; i &lt; arr.length; i++) {\n        int numericalVal = (int) arr[i];\n        if (Character.isUpperCase(arr[i])) {\n            cipher += (char) (((numericalVal + offset - 65) % 26) + 65);\n        } else if (numericalVal == 32) { \n            cipher += arr[i];\n        }\n\n        else {\n            cipher += (char) (((numericalVal + offset - 97) % 26) + 97);\n        }\n    }\n    return cipher;\n</code></pre>\n<p>My solution must begin with the line <code>Public String decrypt(String plainText, int offset) </code>{</p>\n<p>This is how I attempted to solve the problem:</p>\n<pre><code>    public String decrypt(String plainText, int offset) {\n    String decipher = &quot;&quot;;\n    char[] d_arr = plainText.toCharArray();\n    for (int i = 0; i &lt; d_arr.length; i++) {\n        int numericalVal = (int) d_arr[i];\n        if (Character.isUpperCase(d_arr[i])) {\n            decipher += (char) ((((numericalVal - offset - 65) % 26 + 26) % 26) + 65); \n            //to get remainder for negative values too\n        } else if (numericalVal == 32) { \n            decipher += d_arr[i];\n        }\n\n        else {\n            decipher += (char) ((((numericalVal - offset - 97) % 26 + 26) % 26) + 97);\n        }\n\n    }\n    return decipher;\n</code></pre>\n<p>This works when decrypting letters of the alphabet, but non-alphabetical letters are not decrypted properly and I am unsure what the issue is.</p>\n<p>For example:</p>\n<pre><code>public static void main(String[] args) {\n    CaesarCipher C = new CaesarCipher();\n    System.out.println(C.encrypt(&quot;?&quot;, 4)); //returns the ] symbol\n    System.out.println(C.decrypt(&quot;]&quot;, 4)); //returns the letter s\n</code></pre>\n<p>We were told that adjusting the code to ignore non-alphabetical characters entirely was possible but would require more work, so I changed the <code>} else if (numericalVal == 32) {    cipher += arr[i];</code> code in both the encrypt and decrypt Strings to <code>} else if (numericalVal &lt; 65 || (numericalVal &gt; 90 &amp;&amp; numericalVal &lt; 97) || numericalVal &gt; 122) {   cipher += arr[i];</code>.</p>\n<p>This circumvented the issue but I was told that it's much easier to just decrypt the non-alphabetical characters as well, so I reverted this change, but now I'm at a complete loss as to how to solve this problem. I feel like I'm missing something very simple as I managed to do it &quot;the hard way&quot; but cannot do it the easier way. I can see that when a non-alphabetical value is encrypted, the alphabetical letters are essentially skipped, but the same is not occurring for the decryption process. I presume this is related to the adjustment I made to find the remainder of negative values, but I am unsure.</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646690579,"post_id":71387562,"comment_id":126182165,"body_markdown":"Are you saying the callback is not getting called? Or that the `context` has no `record`?","body":"Are you saying the callback is not getting called? Or that the <code>context</code> has no <code>record</code>?"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1646693096,"post_id":71387562,"comment_id":126182835,"body_markdown":"Retry in the listener adapter is deprecated - see my answer.","body":"Retry in the listener adapter is deprecated - see my answer."},{"owner":{"account_id":14484747,"reputation":1,"user_id":10463044,"display_name":"Samir Aghjayev"},"score":0,"creation_date":1646693583,"post_id":71387562,"comment_id":126182941,"body_markdown":"@OneCricketeer Callback called I want get message and save to database like json string when fallback called.","body":"@OneCricketeer Callback called I want get message and save to database like json string when fallback called."},{"owner":{"account_id":14484747,"reputation":1,"user_id":10463044,"display_name":"Samir Aghjayev"},"score":0,"creation_date":1646693701,"post_id":71387562,"comment_id":126182959,"body_markdown":"@GaryRussell `record.value()` give me record but like char array. [1,2,3,4] like that.","body":"@GaryRussell <code>record.value()</code> give me record but like char array. [1,2,3,4] like that."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1646694133,"post_id":71387562,"comment_id":126183059,"body_markdown":"It looks like you are using a `ByteArrayDeserializer` with the converted type being inferred from the listener method. So you will only get the raw unconverted data in the record. You can use a `ListenerErrorHandler` to get the converted `Message&lt;?&gt;`. https://docs.spring.io/spring-kafka/docs/2.8.4-SNAPSHOT/reference/html/#listener-error-handlers - or simply use `new String(record.value())`.","body":"It looks like you are using a <code>ByteArrayDeserializer</code> with the converted type being inferred from the listener method. So you will only get the raw unconverted data in the record. You can use a <code>ListenerErrorHandler</code> to get the converted <code>Message&lt;?&gt;</code>. <a href=\"https://docs.spring.io/spring-kafka/docs/2.8.4-SNAPSHOT/reference/html/#listener-error-handlers\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/2.8.4-SNAPSHOT/reference/ht&zwnj;&#8203;ml/&hellip;</a> - or simply use <code>new String(record.value())</code>."},{"owner":{"account_id":14484747,"reputation":1,"user_id":10463044,"display_name":"Samir Aghjayev"},"score":1,"creation_date":1646694922,"post_id":71387562,"comment_id":126183229,"body_markdown":"@GaryRussell yeah you are right. My bad I forget `ByteArrayDeserializer`. I changed just to `StringDeserializer`. Thanks.","body":"@GaryRussell yeah you are right. My bad I forget <code>ByteArrayDeserializer</code>. I changed just to <code>StringDeserializer</code>. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646693918,"creation_date":1646693071,"answer_id":71388113,"question_id":71387562,"body_markdown":"Note that retry in the container factory/listener adapter is deprecated now that the error handlers have back offs and exception classification.\r\n\r\nhttps://github.com/spring-projects/spring-kafka/issues/1886\r\n\r\nThe record is available in the record handler&#39;s recoverer.\r\n","title":"Kafka consumer get message as string from recovery context","body":"<p>Note that retry in the container factory/listener adapter is deprecated now that the error handlers have back offs and exception classification.</p>\n<p><a href=\"https://github.com/spring-projects/spring-kafka/issues/1886\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-kafka/issues/1886</a></p>\n<p>The record is available in the record handler's recoverer.</p>\n"}],"owner":{"account_id":14484747,"reputation":1,"user_id":10463044,"display_name":"Samir Aghjayev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646694003,"creation_date":1646689203,"question_id":71387562,"body_markdown":"I created a config class for consumer with RetryTemplate and RecoveryCallback.\r\n\r\nI want to just when works RecoveryCallback get consumer message as string. Anyway to do this?\r\n\r\n```\r\n  @Bean\r\n  public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n      ConcurrentKafkaListenerContainerFactoryConfigurer factoryConfigurer,\r\n      ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    factoryConfigurer.configure(factory, kafkaConsumerFactory);\r\n    factory.setRetryTemplate(kafkaRetry());\r\n//    factory.setErrorHandler(kafkaErrorHandler);\r\n    factory.setRecoveryCallback((context -&gt; {\r\n      ConsumerRecord record = (ConsumerRecord) context.getAttribute(&quot;record&quot;);\r\n      log.info(&quot;Record value {}&quot;, record.value());\r\n      System.out.println(&quot;========&quot;);\r\n      System.out.println(&quot;========&quot;);\r\n      return Optional.empty();\r\n    }));\r\n    return factory;\r\n  }\r\n\r\n  public RetryTemplate kafkaRetry() {\r\n    RetryTemplate retryTemplate = new RetryTemplate();\r\n    FixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\r\n    fixedBackOffPolicy.setBackOffPeriod(backOffPeriod);\r\n    retryTemplate.setBackOffPolicy(fixedBackOffPolicy);\r\n    SimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy(maxAttempts);\r\n    retryTemplate.setRetryPolicy(simpleRetryPolicy);\r\n    return retryTemplate;\r\n  }\r\n\r\n```\r\n\r\n\r\nLet me explain what I want to do. I want retry 3-4 times consume if not success when call fallback just save consumer message to database like json string. Just I cannot get message from consumer like json string in Fallback\r\n","title":"Kafka consumer get message as string from recovery context","body":"<p>I created a config class for consumer with RetryTemplate and RecoveryCallback.</p>\n<p>I want to just when works RecoveryCallback get consumer message as string. Anyway to do this?</p>\n<pre><code>  @Bean\n  public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n      ConcurrentKafkaListenerContainerFactoryConfigurer factoryConfigurer,\n      ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factoryConfigurer.configure(factory, kafkaConsumerFactory);\n    factory.setRetryTemplate(kafkaRetry());\n//    factory.setErrorHandler(kafkaErrorHandler);\n    factory.setRecoveryCallback((context -&gt; {\n      ConsumerRecord record = (ConsumerRecord) context.getAttribute(&quot;record&quot;);\n      log.info(&quot;Record value {}&quot;, record.value());\n      System.out.println(&quot;========&quot;);\n      System.out.println(&quot;========&quot;);\n      return Optional.empty();\n    }));\n    return factory;\n  }\n\n  public RetryTemplate kafkaRetry() {\n    RetryTemplate retryTemplate = new RetryTemplate();\n    FixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\n    fixedBackOffPolicy.setBackOffPeriod(backOffPeriod);\n    retryTemplate.setBackOffPolicy(fixedBackOffPolicy);\n    SimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy(maxAttempts);\n    retryTemplate.setRetryPolicy(simpleRetryPolicy);\n    return retryTemplate;\n  }\n\n</code></pre>\n<p>Let me explain what I want to do. I want retry 3-4 times consume if not success when call fallback just save consumer message to database like json string. Just I cannot get message from consumer like json string in Fallback</p>\n"},{"tags":["java","string","for-loop","oop"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1646690822,"post_id":71387775,"comment_id":126182214,"body_markdown":"`String [] newArray = new String[candidatesReports.length];` Then `newArray[i] = fill;`","body":"<code>String [] newArray = new String[candidatesReports.length];</code> Then <code>newArray[i] = fill;</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646691398,"post_id":71387775,"comment_id":126182379,"body_markdown":"@RolandRios I don&#39;t know what `CandidateDAO` has internally, but since in your code you just created a new instance of it, I assume it must be empty. So, even if you fix this issue, you might end up with an empty array or with a `NullPointerException` if `getAllCandidates()` returns null.","body":"@RolandRios I don&#39;t know what <code>CandidateDAO</code> has internally, but since in your code you just created a new instance of it, I assume it must be empty. So, even if you fix this issue, you might end up with an empty array or with a <code>NullPointerException</code> if <code>getAllCandidates()</code> returns null."},{"owner":{"account_id":14451885,"reputation":1,"user_id":10439118,"display_name":"Roland Rios"},"score":0,"creation_date":1646692310,"post_id":71387775,"comment_id":126182646,"body_markdown":"it actually gave me the answer, **CandidateDAO**  was just an array of candidates that I was supposed to iterate and create a string value from that array and some other method in that class, the string must be in the format of candidateID:Grade... but it gave me the answer","body":"it actually gave me the answer, <b>CandidateDAO</b>  was just an array of candidates that I was supposed to iterate and create a string value from that array and some other method in that class, the string must be in the format of candidateID:Grade... but it gave me the answer"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646692783,"post_id":71387775,"comment_id":126182745,"body_markdown":"@RolandRios The reason why I am asking is because some of this problem could also be resolved (probably easier) if you override the `toString()` method so that when you print out the object, it will come out the way you want to. I will add an update to my answer so you could see what I am talking about.","body":"@RolandRios The reason why I am asking is because some of this problem could also be resolved (probably easier) if you override the <code>toString()</code> method so that when you print out the object, it will come out the way you want to. I will add an update to my answer so you could see what I am talking about."},{"owner":{"account_id":14451885,"reputation":1,"user_id":10439118,"display_name":"Roland Rios"},"score":0,"creation_date":1646693374,"post_id":71387775,"comment_id":126182894,"body_markdown":"by the way, I forgot to say that the method should return a string array, made of the string","body":"by the way, I forgot to say that the method should return a string array, made of the string"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646693919,"creation_date":1646691098,"answer_id":71387854,"question_id":71387775,"body_markdown":"```\r\nString [] newArray = ;\r\n```\r\nThis is obviously wrong. To create an array of any type, you need to first instantiate it correctly. To do this, you need to set its size. The reason why you need to set its size is because arrays are allocated in memory in contiguous locations. This means that each index location is right next to another.\r\n\r\n```\r\nString [] newArray = new String[SOME_SIZE];\r\n```\r\nThe `SOME_SIZE` is a value based on whatever you need. In your case, you have another array, `candidatesReport`, that could be used to determine the size (length) of your given array.\r\n```\r\nString [] newArray = new String[candiatesReport.length];\r\n```\r\nNow that is done, you need to set the value in the array.\r\n```\r\nnewArray[i] = ...;\r\n```\r\nFor you, this is done inside the loop...\r\n```\r\nfor(int i = 0; i &lt; candidatesReports.length; i++) {\r\n    newArray[i] = candidatesReports[i].getCandidateId() + &quot;:&quot; + this.calculateGrade(candidatesReports[i]);\r\n}\r\n```\r\n\r\n**UPDATE**:\r\nThis problem is mainly to display some information contained in an array of `CandidateReport` objects by collecting data from each instance and concatenating it as a `String`. Not knowing about the internals of the aforementioned class, I believe this problem is better served by overwriting the Object&#39;s class `toString()` method in the `CandidateReport` class, so when objects of this type are printed, the output comes the way we want it. Otherwise, every class that wishes to display `CandidateReport` contents, it will have to repeat this same code over and over again. So here is a simple case for overriding `toString()` method.\r\n```\r\npublic class CandidateReport {\r\n    // rest of code omitted\r\n    @Override\r\n    public String toString() {\r\n        return candidateId + &quot;:&quot; + grade;\r\n    }\r\n}\r\n```\r\nIf the grade needs to be calculated, you will be better off putting that logic in a utility class where you could call some static method to return the calculation. For example:\r\n```\r\nreturn candidateId + &quot;:&quot; + CalculatorUtilities.calculateGrade(grade);\r\n```\r\nThe point of the matter is that each class should override the `Object#toString()` method to provide a default string representation of objects of a given type. If you do this, you won&#39;t need the String array at all. But, if you still feel it is necessary to capture this data in an String array, your code will be much simpler because of the overridden `toString()` method.\r\n```\r\nfor(int i = 0; i &lt; candidatesReports.length; i++) {\r\n    newArray[i] = candidatesReports[i].toString();\r\n}\r\n```","title":"How to add a string into a StringArray","body":"<pre><code>String [] newArray = ;\n</code></pre>\n<p>This is obviously wrong. To create an array of any type, you need to first instantiate it correctly. To do this, you need to set its size. The reason why you need to set its size is because arrays are allocated in memory in contiguous locations. This means that each index location is right next to another.</p>\n<pre><code>String [] newArray = new String[SOME_SIZE];\n</code></pre>\n<p>The <code>SOME_SIZE</code> is a value based on whatever you need. In your case, you have another array, <code>candidatesReport</code>, that could be used to determine the size (length) of your given array.</p>\n<pre><code>String [] newArray = new String[candiatesReport.length];\n</code></pre>\n<p>Now that is done, you need to set the value in the array.</p>\n<pre><code>newArray[i] = ...;\n</code></pre>\n<p>For you, this is done inside the loop...</p>\n<pre><code>for(int i = 0; i &lt; candidatesReports.length; i++) {\n    newArray[i] = candidatesReports[i].getCandidateId() + &quot;:&quot; + this.calculateGrade(candidatesReports[i]);\n}\n</code></pre>\n<p><strong>UPDATE</strong>:\nThis problem is mainly to display some information contained in an array of <code>CandidateReport</code> objects by collecting data from each instance and concatenating it as a <code>String</code>. Not knowing about the internals of the aforementioned class, I believe this problem is better served by overwriting the Object's class <code>toString()</code> method in the <code>CandidateReport</code> class, so when objects of this type are printed, the output comes the way we want it. Otherwise, every class that wishes to display <code>CandidateReport</code> contents, it will have to repeat this same code over and over again. So here is a simple case for overriding <code>toString()</code> method.</p>\n<pre><code>public class CandidateReport {\n    // rest of code omitted\n    @Override\n    public String toString() {\n        return candidateId + &quot;:&quot; + grade;\n    }\n}\n</code></pre>\n<p>If the grade needs to be calculated, you will be better off putting that logic in a utility class where you could call some static method to return the calculation. For example:</p>\n<pre><code>return candidateId + &quot;:&quot; + CalculatorUtilities.calculateGrade(grade);\n</code></pre>\n<p>The point of the matter is that each class should override the <code>Object#toString()</code> method to provide a default string representation of objects of a given type. If you do this, you won't need the String array at all. But, if you still feel it is necessary to capture this data in an String array, your code will be much simpler because of the overridden <code>toString()</code> method.</p>\n<pre><code>for(int i = 0; i &lt; candidatesReports.length; i++) {\n    newArray[i] = candidatesReports[i].toString();\n}\n</code></pre>\n"}],"owner":{"account_id":14451885,"reputation":1,"user_id":10439118,"display_name":"Roland Rios"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1646694678,"accepted_answer_id":71387854,"answer_count":1,"score":-1,"last_activity_date":1646693919,"creation_date":1646690567,"question_id":71387775,"body_markdown":"I&#39;ve already created the whole code, but i don&#39;t know how to add a String to a String array.\r\n\r\nhere&#39;s my code:\r\n\r\n    **CandidateDAO candidatedao = new CandidateDAO();\r\n    \t\tString fill = null;\r\n    \t\tCandidateReport[] candidatesReports = candidatedao.getAllCandidates();\r\n    \t\tString [] newArray = ;\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; candidatesReports.length; i++) {\r\n    \t\t\tfill = candidatesReports[i].getCandidateId() + &quot;:&quot; + this.calculateGrade(candidatesReports[i]);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\t\r\n    \t\treturn newArray;*****","title":"How to add a string into a StringArray","body":"<p>I've already created the whole code, but i don't know how to add a String to a String array.</p>\n<p>here's my code:</p>\n<pre><code>**CandidateDAO candidatedao = new CandidateDAO();\n        String fill = null;\n        CandidateReport[] candidatesReports = candidatedao.getAllCandidates();\n        String [] newArray = ;\n        \n        for(int i = 0; i &lt; candidatesReports.length; i++) {\n            fill = candidatesReports[i].getCandidateId() + &quot;:&quot; + this.calculateGrade(candidatesReports[i]);\n            \n        }\n            \n        return newArray;*****\n</code></pre>\n"},{"tags":["java","file","arraylist","writefile"],"comments":[{"owner":{"account_id":44455,"reputation":3383,"user_id":130529,"accept_rate":99,"display_name":"Harish"},"score":0,"creation_date":1646692170,"post_id":71387652,"comment_id":126182606,"body_markdown":"try(BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\gltha\\\\OneDrive\\\\Desktop\\\\JAVA\\\\Course Register Office\\\\src\\\\Courses List&quot;)){ for (String str : courseList){ bufferedWriter.write(str}; }}finally{bufferedWriter.flush();//this flushes the buffer}","body":"try(BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\gltha\\\\OneDrive\\\\Desktop\\\\JAVA\\\\Cours&zwnj;&#8203;e Register Office\\\\src\\\\Courses List&quot;)){ for (String str : courseList){ bufferedWriter.write(str}; }}finally{bufferedWriter.flush();//this flushes the buffer}"}],"answers":[{"tags":[],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646693848,"creation_date":1646693848,"answer_id":71388197,"question_id":71387652,"body_markdown":"As far as I see you are trying to write the message on a ***folder*** not a ***file***. You need to specify the file path as the following.\r\n\r\n    &quot;C:\\\\Users\\\\gltha\\\\OneDrive\\\\Desktop\\\\JAVA\\\\Course Register Office\\\\src\\\\Courses List\\\\courseList.txt&quot;","title":"Having trouble in writing String ArrayList into File","body":"<p>As far as I see you are trying to write the message on a <em><strong>folder</strong></em> not a <em><strong>file</strong></em>. You need to specify the file path as the following.</p>\n<pre><code>&quot;C:\\\\Users\\\\gltha\\\\OneDrive\\\\Desktop\\\\JAVA\\\\Course Register Office\\\\src\\\\Courses List\\\\courseList.txt&quot;\n</code></pre>\n"}],"owner":{"account_id":24366402,"reputation":9,"user_id":18300083,"display_name":"Evelyn Thai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646693848,"creation_date":1646689696,"question_id":71387652,"body_markdown":"I don&#39;t know why it doesn&#39;t write the `ArrayList` into the `File`.\r\nCan someone point out where is the mistake?\r\n\r\n```\r\npublic class Course {\r\n\tpublic static void main(String[] args) {\r\n\t\tInstructor instruct = new Instructor();\r\n\t\tTextBook text = new TextBook();\r\n\r\n\t\t// Ask for course name\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter course&#39;s name: &quot;);\r\n\t\tString name = sc.nextLine();\r\n\r\n\t\ttry {\r\n\t\t\t// Create a File name Courses List\r\n\t\t\tFileWriter file = new FileWriter(\r\n\t\t\t\t\t&quot;C:\\\\Users\\\\gltha\\\\OneDrive\\\\Desktop\\\\JAVA\\\\Course Register Office\\\\src\\\\Courses List&quot;);\r\n\t\t\twhile (true) {\r\n\t\t\t\t// Create an ArrayList name courseList to store the input\r\n\t\t\t\tArrayList&lt;String&gt; courseList = new ArrayList&lt;String&gt;();\r\n\t\t\t\tString course = name + &quot; || &quot; + instruct.instructor() + &quot; || &quot; + text.textbook();\r\n\t\t\t\t// Add input into ArrayList\r\n\t\t\t\tcourseList.add(course);\r\n\t\t\t\t// Print out the input\r\n\t\t\t\tSystem.out.println(courseList);\r\n\t\t\t\tfor (String str : courseList);\r\n\t\t\t\t// Write the ArrayList into File\r\n\t\t\t\tfile.write(courseList + System.lineSeparator());\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Having trouble in writing String ArrayList into File","body":"<p>I don't know why it doesn't write the <code>ArrayList</code> into the <code>File</code>.\nCan someone point out where is the mistake?</p>\n<pre><code>public class Course {\n    public static void main(String[] args) {\n        Instructor instruct = new Instructor();\n        TextBook text = new TextBook();\n\n        // Ask for course name\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter course's name: &quot;);\n        String name = sc.nextLine();\n\n        try {\n            // Create a File name Courses List\n            FileWriter file = new FileWriter(\n                    &quot;C:\\\\Users\\\\gltha\\\\OneDrive\\\\Desktop\\\\JAVA\\\\Course Register Office\\\\src\\\\Courses List&quot;);\n            while (true) {\n                // Create an ArrayList name courseList to store the input\n                ArrayList&lt;String&gt; courseList = new ArrayList&lt;String&gt;();\n                String course = name + &quot; || &quot; + instruct.instructor() + &quot; || &quot; + text.textbook();\n                // Add input into ArrayList\n                courseList.add(course);\n                // Print out the input\n                System.out.println(courseList);\n                for (String str : courseList);\n                // Write the ArrayList into File\n                file.write(courseList + System.lineSeparator());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","python","eclipse","pydev","jep"],"answers":[{"tags":[],"owner":{"account_id":19875280,"reputation":21,"user_id":14560429,"display_name":"Klodovsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606395731,"creation_date":1606395731,"answer_id":65022601,"question_id":61311440,"body_markdown":"I&#39;ve faced a similar issue working with Jep before, the trick is you need to redirect Python&#39;s output stream in your IDE by calling the correct method.\r\n\r\nTake a look at https://github.com/ninia/jep/issues/298","title":"Cannot see print and println statements in Eclipse using JEP/Pydev","body":"<p>I've faced a similar issue working with Jep before, the trick is you need to redirect Python's output stream in your IDE by calling the correct method.</p>\n<p>Take a look at <a href=\"https://github.com/ninia/jep/issues/298\" rel=\"nofollow noreferrer\">https://github.com/ninia/jep/issues/298</a></p>\n"},{"tags":[],"owner":{"account_id":1168702,"reputation":422,"user_id":1146391,"display_name":"nathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646693838,"creation_date":1646693838,"answer_id":71388196,"question_id":61311440,"body_markdown":"As Klodovsky mentioned, you need to redirect Python&#39;s output to the stream used by the IDE.  I&#39;ve adapted your example to do this.  The key line is the call to `SharedInterpreter.setConfig`:\r\n\r\n    package my.sand.box;\r\n    \r\n    import jep.Interpreter;\r\n    import jep.JepConfig;\r\n    import jep.JepException;\r\n    import jep.SharedInterpreter;\r\n    \r\n    public class JepTest {\r\n    \r\n    \tpublic static void main(String[] args) throws JepException {\r\n    \t\tSystem.out.println(&quot;hey&quot;);\r\n    \r\n    \t\t// Eclipse doesn&#39;t use stdout &amp; stderr, so use the streams from Java.\r\n    \t\tSharedInterpreter.setConfig(new JepConfig()\r\n    \t\t\t\t.redirectStdErr(System.err)\r\n    \t\t\t\t.redirectStdout(System.out));\r\n    \r\n    \t\ttry (Interpreter interp = new SharedInterpreter()) {\r\n    \t\t\t// interp.exec(&quot;import example_package&quot;);\r\n    \t\t\t// any of the following work, these are just pseudo-examples\r\n    \r\n                // Uncomment if you&#39;ve created a greetings.py script.\r\n    \t\t\t// interp.runScript(&quot;full/path/to/greetings.py&quot;);\r\n    \t\t\tinterp.eval(&quot;import sys&quot;);\r\n    \t\t\tinterp.eval(&quot;s = &#39;Hello World&#39;&quot;);\r\n    \t\t\tinterp.eval(&quot;print(s)&quot;);\r\n    \t\t\tString java_string = interp.getValue(&quot;s&quot;).toString();\r\n    \t\t\tSystem.out.println(&quot;Java String:&quot; + java_string);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Cannot see print and println statements in Eclipse using JEP/Pydev","body":"<p>As Klodovsky mentioned, you need to redirect Python's output to the stream used by the IDE.  I've adapted your example to do this.  The key line is the call to <code>SharedInterpreter.setConfig</code>:</p>\n<pre><code>package my.sand.box;\n\nimport jep.Interpreter;\nimport jep.JepConfig;\nimport jep.JepException;\nimport jep.SharedInterpreter;\n\npublic class JepTest {\n\n    public static void main(String[] args) throws JepException {\n        System.out.println(&quot;hey&quot;);\n\n        // Eclipse doesn't use stdout &amp; stderr, so use the streams from Java.\n        SharedInterpreter.setConfig(new JepConfig()\n                .redirectStdErr(System.err)\n                .redirectStdout(System.out));\n\n        try (Interpreter interp = new SharedInterpreter()) {\n            // interp.exec(&quot;import example_package&quot;);\n            // any of the following work, these are just pseudo-examples\n\n            // Uncomment if you've created a greetings.py script.\n            // interp.runScript(&quot;full/path/to/greetings.py&quot;);\n            interp.eval(&quot;import sys&quot;);\n            interp.eval(&quot;s = 'Hello World'&quot;);\n            interp.eval(&quot;print(s)&quot;);\n            String java_string = interp.getValue(&quot;s&quot;).toString();\n            System.out.println(&quot;Java String:&quot; + java_string);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2778809,"reputation":11,"user_id":2391784,"display_name":"user2391784"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646693838,"creation_date":1587329268,"question_id":61311440,"body_markdown":"I&#39;m learning JEP and PyDev plugin eclipse and new to Python.\r\n\r\nI cannot see my python print and java println statements on Eclipse console tab. \r\n\r\nAs I&#39;m just trying things out I create a simple python script by creating a new PyDev module and it just has one line (greetings.py):\r\n\r\n    print(&quot;Hello from python&quot;);\r\n\r\nWhen I run this I see it in the console when I run it both the PyDev and Jave EE perspective.\r\n\r\nNext as the intent of this exercise is to look into JEP to see if it&#39;s adequate for my project so I created another Java project with this code:\r\n\r\n    package my.sand.box;\r\n    \r\n    import jep.Interpreter;\r\n    import jep.Jep;\r\n    import jep.JepException;\r\n    import jep.SharedInterpreter;\r\n    \r\n    public class JepTest {\r\n    \r\n        public static void main(String[] args) throws JepException {\r\n            // TODO Auto-generated method stub\r\n            System.out.println(&quot;hey&quot;);\r\n            \r\n            try (Interpreter interp = new SharedInterpreter()) {\r\n                //interp.exec(&quot;import example_package&quot;);\r\n                // any of the following work, these are just pseudo-examples\r\n                \r\n                interp.runScript(&quot;full/path/to/greetings.py&quot;);\r\n                interp.eval(&quot;import sys&quot;);\r\n                interp.eval(&quot;s = &#39;Hello World&#39;&quot;);\r\n                interp.eval(&quot;print s&quot;);\r\n                 String java_string = interp.getValue(&quot;s&quot;).toString();\r\n                 System.out.println(&quot;Java String:&quot; + java_string);\r\n        }\r\n        }\r\n    \r\n    }\r\nI don&#39;t see anyting on the console. Not even the java println statements.\r\n\r\nI also recreated both projects in a new workspace and could see the output.  What&#39;s different between both workspaces is that in the one that&#39;s not workign I have other java projects and pydev projects open.\r\nWould appreciate any advice.","title":"Cannot see print and println statements in Eclipse using JEP/Pydev","body":"<p>I'm learning JEP and PyDev plugin eclipse and new to Python.</p>\n\n<p>I cannot see my python print and java println statements on Eclipse console tab. </p>\n\n<p>As I'm just trying things out I create a simple python script by creating a new PyDev module and it just has one line (greetings.py):</p>\n\n<pre><code>print(\"Hello from python\");\n</code></pre>\n\n<p>When I run this I see it in the console when I run it both the PyDev and Jave EE perspective.</p>\n\n<p>Next as the intent of this exercise is to look into JEP to see if it's adequate for my project so I created another Java project with this code:</p>\n\n<pre><code>package my.sand.box;\n\nimport jep.Interpreter;\nimport jep.Jep;\nimport jep.JepException;\nimport jep.SharedInterpreter;\n\npublic class JepTest {\n\n    public static void main(String[] args) throws JepException {\n        // TODO Auto-generated method stub\n        System.out.println(\"hey\");\n\n        try (Interpreter interp = new SharedInterpreter()) {\n            //interp.exec(\"import example_package\");\n            // any of the following work, these are just pseudo-examples\n\n            interp.runScript(\"full/path/to/greetings.py\");\n            interp.eval(\"import sys\");\n            interp.eval(\"s = 'Hello World'\");\n            interp.eval(\"print s\");\n             String java_string = interp.getValue(\"s\").toString();\n             System.out.println(\"Java String:\" + java_string);\n    }\n    }\n\n}\n</code></pre>\n\n<p>I don't see anyting on the console. Not even the java println statements.</p>\n\n<p>I also recreated both projects in a new workspace and could see the output.  What's different between both workspaces is that in the one that's not workign I have other java projects and pydev projects open.\nWould appreciate any advice.</p>\n"},{"tags":["java","spring-boot","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":2,"creation_date":1646660581,"post_id":71345761,"comment_id":126171389,"body_markdown":"The assignment won&#39;t actually happen until you `poll()` the consumer.","body":"The assignment won&#39;t actually happen until you <code>poll()</code> the consumer."},{"owner":{"account_id":4949942,"reputation":827,"user_id":3985332,"accept_rate":45,"display_name":"perplexedDev"},"score":0,"creation_date":1646673737,"post_id":71345761,"comment_id":126176960,"body_markdown":"Here is my requirement, I need a list of consumers that are pre assigned to partitions. I read from Kafka on demand, when ever I have to read data from Kafka i check the list of consumers for free consumers and use a free consumer to read from Kafka.  \nIs this possible without having to use poll, because if I poll()  the consumer it will read from Kafka which I don&#39;t want.","body":"Here is my requirement, I need a list of consumers that are pre assigned to partitions. I read from Kafka on demand, when ever I have to read data from Kafka i check the list of consumers for free consumers and use a free consumer to read from Kafka.   Is this possible without having to use poll, because if I poll()  the consumer it will read from Kafka which I don&#39;t want."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1646673958,"post_id":71345761,"comment_id":126177030,"body_markdown":"it doesn&#39;t work that way; you would have to use manual assignment, not group management.","body":"it doesn&#39;t work that way; you would have to use manual assignment, not group management."},{"owner":{"account_id":4949942,"reputation":827,"user_id":3985332,"accept_rate":45,"display_name":"perplexedDev"},"score":0,"creation_date":1646693797,"post_id":71345761,"comment_id":126182981,"body_markdown":"Okay,  I tried using consumer.poll(Duration.ofMillis(10));\nBut when I check the partitions, the partitions are still not assigned to the consumer. I have updated the question with the addition of poll. Is there something else I need to do?","body":"Okay,  I tried using consumer.poll(Duration.ofMillis(10)); But when I check the partitions, the partitions are still not assigned to the consumer. I have updated the question with the addition of poll. Is there something else I need to do?"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1646709188,"post_id":71345761,"comment_id":126185594,"body_markdown":"10ms is probably much too little for the assignment to happen in time. The client is highly asynchronous.","body":"10ms is probably much too little for the assignment to happen in time. The client is highly asynchronous."},{"owner":{"account_id":4949942,"reputation":827,"user_id":3985332,"accept_rate":45,"display_name":"perplexedDev"},"score":0,"creation_date":1646713796,"post_id":71345761,"comment_id":126186248,"body_markdown":"If one of these consumers stopped working, would rebalance occur and the partition be assigned to another consumer?","body":"If one of these consumers stopped working, would rebalance occur and the partition be assigned to another consumer?"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":2,"creation_date":1646747542,"post_id":71345761,"comment_id":126196472,"body_markdown":"Yes; it&#39;s a good idea to add a rebalance listener to the submit method so you get notification of assignment activity.","body":"Yes; it&#39;s a good idea to add a rebalance listener to the submit method so you get notification of assignment activity."}],"answers":[{"tags":[],"owner":{"account_id":8903202,"reputation":99,"user_id":12228510,"display_name":"DK93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646446826,"creation_date":1646446826,"answer_id":71358987,"question_id":71345761,"body_markdown":"Ensuring all the consumers fall under same consumer group, kafka by default assigns each partition to each consumer. More information below:\r\nhttps://www.oreilly.com/library/view/kafka-the-definitive/9781491936153/ch04.html\r\n","title":"Automatic assignment of Kafka partitions to Kafka consumers","body":"<p>Ensuring all the consumers fall under same consumer group, kafka by default assigns each partition to each consumer. More information below:\n<a href=\"https://www.oreilly.com/library/view/kafka-the-definitive/9781491936153/ch04.html\" rel=\"nofollow noreferrer\">https://www.oreilly.com/library/view/kafka-the-definitive/9781491936153/ch04.html</a></p>\n"}],"owner":{"account_id":4949942,"reputation":827,"user_id":3985332,"accept_rate":45,"display_name":"perplexedDev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646693831,"creation_date":1646358624,"question_id":71345761,"body_markdown":"I am creating a list of `Kafka` consumers as below:\r\n\r\n    public List&lt;Consumer&lt;String, String&gt;&gt; consumerPool(KafkaProperties kafkaProperties){\r\n            consumerInstance = 10;\r\n            List&lt;Consumer&lt;String, String&gt;&gt; consumerList = new ArrayList&lt;&gt;();\r\n            for (int c = 0; c &lt; consumerInstance; c++) {\r\n                Consumer&lt;String, String&gt; consumer = consumerFactory(kafkaProperties).createConsumer();\r\n                consumer.subscribe(Arrays.asList(&quot;topic1&quot;));\r\n                consumer.poll(Duration.ofMillis(10));\r\n                consumerList.add(consumer);\r\n            }\r\n    \r\n            return consumerList;\r\n        }\r\n    \r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory(KafkaProperties kafkaProperties) {\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties());\r\n        }\r\n\r\n\r\nI get the `KafkaProperties` set in the application config. I have set the `KafkaGroupID` to be &quot;group1&quot; in the `application.yml` so all the consumers belong to the same consumer group\r\n\r\nThe issue I am facing is the topics are not assigned to this consumers. I tested that using:\r\n\r\n     Set&lt;TopicPartition&gt; partitionSet = consumer.assignment();\r\n     partitionSet.forEach(topicPartition -&gt; log.debug( &quot;consumer:{}, Partition:{}&quot;, consumer.toString(), topicPartition.partition()));\r\n\r\nPartition set is empty for all the consumers in the list.\r\n\r\nI am able to assign the partition manually for each consumer using \r\n\r\n    TopicPartition tp = new TopicPartition(&quot;partition1&quot;, c);\r\n    consumer.assign(Collections.singleton(tp));\r\n\r\nHowever I want this to be done dynamically instead of manually. The main reason is so that the partition is assigned automatically if a rebalance occurs.\r\n","title":"Automatic assignment of Kafka partitions to Kafka consumers","body":"<p>I am creating a list of <code>Kafka</code> consumers as below:</p>\n<pre><code>public List&lt;Consumer&lt;String, String&gt;&gt; consumerPool(KafkaProperties kafkaProperties){\n        consumerInstance = 10;\n        List&lt;Consumer&lt;String, String&gt;&gt; consumerList = new ArrayList&lt;&gt;();\n        for (int c = 0; c &lt; consumerInstance; c++) {\n            Consumer&lt;String, String&gt; consumer = consumerFactory(kafkaProperties).createConsumer();\n            consumer.subscribe(Arrays.asList(&quot;topic1&quot;));\n            consumer.poll(Duration.ofMillis(10));\n            consumerList.add(consumer);\n        }\n\n        return consumerList;\n    }\n\npublic ConsumerFactory&lt;String, String&gt; consumerFactory(KafkaProperties kafkaProperties) {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties());\n    }\n</code></pre>\n<p>I get the <code>KafkaProperties</code> set in the application config. I have set the <code>KafkaGroupID</code> to be &quot;group1&quot; in the <code>application.yml</code> so all the consumers belong to the same consumer group</p>\n<p>The issue I am facing is the topics are not assigned to this consumers. I tested that using:</p>\n<pre><code> Set&lt;TopicPartition&gt; partitionSet = consumer.assignment();\n partitionSet.forEach(topicPartition -&gt; log.debug( &quot;consumer:{}, Partition:{}&quot;, consumer.toString(), topicPartition.partition()));\n</code></pre>\n<p>Partition set is empty for all the consumers in the list.</p>\n<p>I am able to assign the partition manually for each consumer using</p>\n<pre><code>TopicPartition tp = new TopicPartition(&quot;partition1&quot;, c);\nconsumer.assign(Collections.singleton(tp));\n</code></pre>\n<p>However I want this to be done dynamically instead of manually. The main reason is so that the partition is assigned automatically if a rebalance occurs.</p>\n"},{"tags":["java","xml","post","servlets"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646697565,"post_id":71388101,"comment_id":126183705,"body_markdown":"Yes, and there are many tutorials, use your favourite search engine. Try https://www.baeldung.com/java-9-http-client","body":"Yes, and there are many tutorials, use your favourite search engine. Try <a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">baeldung.com/java-9-http-client</a>"},{"owner":{"account_id":8473035,"reputation":31,"user_id":6355046,"display_name":"Luca Olivieri"},"score":0,"creation_date":1646726767,"post_id":71388101,"comment_id":126189043,"body_markdown":"thanks tgdavies, I&#39;ll watch your tutorial, but I&#39;m using Java 8.","body":"thanks tgdavies, I&#39;ll watch your tutorial, but I&#39;m using Java 8."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646735784,"post_id":71388101,"comment_id":126192162,"body_markdown":"Is there a particular reason for using Java 8? -- it is end-of-life.","body":"Is there a particular reason for using Java 8? -- it is end-of-life."},{"owner":{"account_id":8473035,"reputation":31,"user_id":6355046,"display_name":"Luca Olivieri"},"score":0,"creation_date":1646739106,"post_id":71388101,"comment_id":126193321,"body_markdown":"yes, in my company use this version...","body":"yes, in my company use this version..."}],"owner":{"account_id":8473035,"reputation":31,"user_id":6355046,"display_name":"Luca Olivieri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1646731600,"answer_count":0,"score":1,"last_activity_date":1646692955,"creation_date":1646692955,"question_id":71388101,"body_markdown":"I have a question. I have to develop an Application with JAVA SE that call a servlet with POST request and recive a response from the called servlet. \r\n\r\nMy application and the servlet exchange an xml files.\r\n\r\nMy question is: Is it possible with Java SE invoke a servlet with a post request? Is there some resoruce that I can study where I can find some advice?\r\n\r\nThanks\r\nLuca ","title":"Call Servlet with JAVA SE","body":"<p>I have a question. I have to develop an Application with JAVA SE that call a servlet with POST request and recive a response from the called servlet.</p>\n<p>My application and the servlet exchange an xml files.</p>\n<p>My question is: Is it possible with Java SE invoke a servlet with a post request? Is there some resoruce that I can study where I can find some advice?</p>\n<p>Thanks\nLuca</p>\n"},{"tags":["java","list","search","instanceof"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646693050,"post_id":71388071,"comment_id":126182822,"body_markdown":"What does _`if(list instanceOf 12)`_ supposed to mean?","body":"What does <i><code>if(list instanceOf 12)</code></i> supposed to mean?"},{"owner":{"account_id":23115210,"reputation":9,"user_id":17222586,"display_name":"Simon Suarez"},"score":0,"creation_date":1646693262,"post_id":71388071,"comment_id":126182866,"body_markdown":"@AndrewS Oh! It was because I wanted to know if the element &quot;12&quot; was in the list.","body":"@AndrewS Oh! It was because I wanted to know if the element &quot;12&quot; was in the list."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1646693974,"post_id":71388071,"comment_id":126183025,"body_markdown":"It seems you&#39;re mixing up checking type with a value.  Based on the code, `list` is apparently a list that contains `Integer`s (type).  Sounds like [List.contains](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#contains-java.lang.Object-) could be used here, e..g, `list.contains(12)`.","body":"It seems you&#39;re mixing up checking type with a value.  Based on the code, <code>list</code> is apparently a list that contains <code>Integer</code>s (type).  Sounds like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#contains-java.lang.Object-\" rel=\"nofollow noreferrer\">List.contains</a> could be used here, e..g, <code>list.contains(12)</code>."}],"owner":{"account_id":23115210,"reputation":9,"user_id":17222586,"display_name":"Simon Suarez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646692741,"creation_date":1646692741,"question_id":71388071,"body_markdown":"This is more than a doubt, since I have tried the traditional method for it and frankly I cannot obtain a satisfactory result. Is it possible to make a method that tells me if the element of a list (of an alternative class to the method) is present? That is, I want in a &quot;Method.java&quot; class to make a method that tells me if an element of the list found in the &quot;List.java&quot; class is present or not.\r\n``` \r\npackage linearsearch;\r\n\r\npublic class linealSearch {\r\n    public boolean elementList() {\r\n        for(Integer integer : this.list)\r\n            if(list instanceOf 12)\r\n        return true;\r\n        return false;  \r\n    }\r\n}\r\n","title":"Check if an element exists in a list of a different class in Java","body":"<p>This is more than a doubt, since I have tried the traditional method for it and frankly I cannot obtain a satisfactory result. Is it possible to make a method that tells me if the element of a list (of an alternative class to the method) is present? That is, I want in a &quot;Method.java&quot; class to make a method that tells me if an element of the list found in the &quot;List.java&quot; class is present or not.</p>\n<pre><code>package linearsearch;\n\npublic class linealSearch {\n    public boolean elementList() {\n        for(Integer integer : this.list)\n            if(list instanceOf 12)\n        return true;\n        return false;  \n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","java-stream"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1645922317,"post_id":71281141,"comment_id":125997427,"body_markdown":"Now imagine you have your `Map&lt;String, String&gt;`. What should be result of `yourMap.get(&quot;fuel&quot;)`? Should it be `&quot;BMW&quot;` `&quot;Honda&quot;` OR maybe *both* grouped, like `[&quot;BMW&quot;, &quot;Honda&quot;]` (like you had originally...)?","body":"Now imagine you have your <code>Map&lt;String, String&gt;</code>. What should be result of <code>yourMap.get(&quot;fuel&quot;)</code>? Should it be <code>&quot;BMW&quot;</code> <code>&quot;Honda&quot;</code> OR maybe <i>both</i> grouped, like <code>[&quot;BMW&quot;, &quot;Honda&quot;]</code> (like you had originally...)?"},{"owner":{"account_id":15266728,"reputation":49,"user_id":11015132,"display_name":"Alagu Narayanan K"},"score":0,"creation_date":1645936490,"post_id":71281141,"comment_id":125998813,"body_markdown":"I should have rephrased my question in a better way. My intention was to create a name value pair out of the map which contains value as a list of string","body":"I should have rephrased my question in a better way. My intention was to create a name value pair out of the map which contains value as a list of string"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646692020,"creation_date":1645920322,"answer_id":71281202,"question_id":71281141,"body_markdown":"It is not possible to have **multiple keys** identical according to `equals/hashCode` within the same map because it contradicts with idea of the **map** data structure. Every key must be unique, you can&#39;t store multiple entries with the **same key** in a `Map`. \r\n\r\nBut you can create a **list** of `Map.Entry` objects.\r\n\r\nFor that, you need to create a stream over the *entry set* and then **flatten** each entry by creating a **new entry** based on car brands (elements of a *flatted value*) for each *key*:\r\n```\r\n        Map&lt;String, List&lt;String&gt;&gt; cars =\r\n                Map.of(&quot;fuel&quot;, List.of(&quot;BMW&quot;, &quot;Honda&quot;),\r\n                        &quot;electric&quot;, List.of(&quot;Tesla&quot;, &quot;Nio&quot;));\r\n\r\n        List&lt;Map.Entry&lt;String, String&gt;&gt; entries =\r\n                cars.entrySet().stream()\r\n                    .flatMap(entry -&gt; entry.getValue().stream()\r\n                                .map(brand -&gt; Map.entry(entry.getKey(), brand)))\r\n                    .collect(Collectors.toList());\r\n\r\n        System.out.println(entries);\r\n```\r\n**output**\r\n```\r\n[electric=Tesla, electric=Nio, fuel=BMW, fuel=Honda]\r\n```\r\n_________________________________________________________\r\nOr maybe your intention was to create a `Map&lt;String, String&gt;` that will allow to retrieve *car type* based on *brand* (like that: *&quot;BMW&quot; : &quot;fuel&quot;, &quot;Honda&quot; : &quot;fuel&quot;*) then it&#39;ll make sense. \r\n\r\nThe overall approach will be similar to the previous one:\r\n* create a stream over the *entry set*;\r\n* *flatten* each entry using `flatMap()` by turning an element in the value-list into a **new entry**;\r\n* collect elements to a *map* with `Collectors.toMap()`.\r\n\r\nBut there&#39;s a **caveat**: all values have to be unique or there must be a rule on how to *combine/discarde* car types. \r\n\r\nI&#39;ll make an assumption that all brands in the map are unique, otherwise, the code below will fail (*to deal with collisions* `Collectors.toMap()` *requires the third argument* - `mergeFunction`).\r\n```\r\n        Map&lt;String, String&gt; typeByBrand =\r\n                cars.entrySet().stream()\r\n                        .flatMap(entry -&gt; entry.getValue().stream()\r\n                                .map(brand -&gt; Map.entry(brand, entry.getKey())))\r\n                        .collect(Collectors.toMap(Map.Entry::getKey,\r\n                                                  Map.Entry::getValue));\r\n\r\n        System.out.println(typeByBrand);\r\n```\r\n**output**\r\n```\r\n{Nio=electric, Tesla=electric, BMW=fuel, Honda=fuel}\r\n```","title":"How to flatten a Map by turning its values into keys","body":"<p>It is not possible to have <strong>multiple keys</strong> identical according to <code>equals/hashCode</code> within the same map because it contradicts with idea of the <strong>map</strong> data structure. Every key must be unique, you can't store multiple entries with the <strong>same key</strong> in a <code>Map</code>.</p>\n<p>But you can create a <strong>list</strong> of <code>Map.Entry</code> objects.</p>\n<p>For that, you need to create a stream over the <em>entry set</em> and then <strong>flatten</strong> each entry by creating a <strong>new entry</strong> based on car brands (elements of a <em>flatted value</em>) for each <em>key</em>:</p>\n<pre><code>        Map&lt;String, List&lt;String&gt;&gt; cars =\n                Map.of(&quot;fuel&quot;, List.of(&quot;BMW&quot;, &quot;Honda&quot;),\n                        &quot;electric&quot;, List.of(&quot;Tesla&quot;, &quot;Nio&quot;));\n\n        List&lt;Map.Entry&lt;String, String&gt;&gt; entries =\n                cars.entrySet().stream()\n                    .flatMap(entry -&gt; entry.getValue().stream()\n                                .map(brand -&gt; Map.entry(entry.getKey(), brand)))\n                    .collect(Collectors.toList());\n\n        System.out.println(entries);\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>[electric=Tesla, electric=Nio, fuel=BMW, fuel=Honda]\n</code></pre>\n<hr />\n<p>Or maybe your intention was to create a <code>Map&lt;String, String&gt;</code> that will allow to retrieve <em>car type</em> based on <em>brand</em> (like that: <em>&quot;BMW&quot; : &quot;fuel&quot;, &quot;Honda&quot; : &quot;fuel&quot;</em>) then it'll make sense.</p>\n<p>The overall approach will be similar to the previous one:</p>\n<ul>\n<li>create a stream over the <em>entry set</em>;</li>\n<li><em>flatten</em> each entry using <code>flatMap()</code> by turning an element in the value-list into a <strong>new entry</strong>;</li>\n<li>collect elements to a <em>map</em> with <code>Collectors.toMap()</code>.</li>\n</ul>\n<p>But there's a <strong>caveat</strong>: all values have to be unique or there must be a rule on how to <em>combine/discarde</em> car types.</p>\n<p>I'll make an assumption that all brands in the map are unique, otherwise, the code below will fail (<em>to deal with collisions</em> <code>Collectors.toMap()</code> <em>requires the third argument</em> - <code>mergeFunction</code>).</p>\n<pre><code>        Map&lt;String, String&gt; typeByBrand =\n                cars.entrySet().stream()\n                        .flatMap(entry -&gt; entry.getValue().stream()\n                                .map(brand -&gt; Map.entry(brand, entry.getKey())))\n                        .collect(Collectors.toMap(Map.Entry::getKey,\n                                                  Map.Entry::getValue));\n\n        System.out.println(typeByBrand);\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>{Nio=electric, Tesla=electric, BMW=fuel, Honda=fuel}\n</code></pre>\n"}],"owner":{"account_id":15266728,"reputation":49,"user_id":11015132,"display_name":"Alagu Narayanan K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71281202,"answer_count":1,"score":0,"last_activity_date":1646692020,"creation_date":1645919540,"question_id":71281141,"body_markdown":"How can I transform a `Map&lt;String, List&lt;String&gt;&gt;` into flattened map based on values grouped as keys. \r\n\r\nI.e. from `Map&lt;String, List&lt;String&gt;&gt;` to `Map&lt;String, String&gt;` (flattened by values)\r\n\r\nFor an example.\r\n\r\n**Source map:**\r\n\r\n    &lt;&quot;fuel&quot;, [&quot;BMW&quot;, &quot;Honda&quot;]&gt;,\r\n    &lt;&quot;electric&quot;, [&quot;Tesla&quot;, &quot;Nio&quot;]&gt;\r\n\r\n**Flattened map:**\r\n\r\n    [  \r\n    &quot;BMW&quot; : &quot;fuel&quot;,  \r\n    &quot;Honda&quot; : &quot;fuel&quot;,  \r\n    &quot;Tesla&quot; : &quot;electric&quot;,  \r\n    &quot;Nio&quot; : &quot;electric&quot;\r\n    ]\r\n\r\n","title":"How to flatten a Map by turning its values into keys","body":"<p>How can I transform a <code>Map&lt;String, List&lt;String&gt;&gt;</code> into flattened map based on values grouped as keys.</p>\n<p>I.e. from <code>Map&lt;String, List&lt;String&gt;&gt;</code> to <code>Map&lt;String, String&gt;</code> (flattened by values)</p>\n<p>For an example.</p>\n<p><strong>Source map:</strong></p>\n<pre><code>&lt;&quot;fuel&quot;, [&quot;BMW&quot;, &quot;Honda&quot;]&gt;,\n&lt;&quot;electric&quot;, [&quot;Tesla&quot;, &quot;Nio&quot;]&gt;\n</code></pre>\n<p><strong>Flattened map:</strong></p>\n<pre><code>[  \n&quot;BMW&quot; : &quot;fuel&quot;,  \n&quot;Honda&quot; : &quot;fuel&quot;,  \n&quot;Tesla&quot; : &quot;electric&quot;,  \n&quot;Nio&quot; : &quot;electric&quot;\n]\n</code></pre>\n"},{"tags":["java","intellij-idea","jshell"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1646690929,"post_id":71387776,"comment_id":126182240,"body_markdown":"I cannot reproduce that error using `jshell` directly (not though IDEA) - have you tried using `jshell` outside the IDE?","body":"I cannot reproduce that error using <code>jshell</code> directly (not though IDEA) - have you tried using <code>jshell</code> outside the IDE?"},{"owner":{"account_id":2666148,"reputation":454,"user_id":2566694,"accept_rate":75,"display_name":"codeedoc"},"score":0,"creation_date":1646691387,"post_id":71387776,"comment_id":126182373,"body_markdown":"@user16320675 yeah I just tried using it in the terminal. It worked fine as expected. So I guess the problem boils down to why IntelliJ complains about &quot;Expression expected&quot; but nonetheless was able to run the code.","body":"@user16320675 yeah I just tried using it in the terminal. It worked fine as expected. So I guess the problem boils down to why IntelliJ complains about &quot;Expression expected&quot; but nonetheless was able to run the code."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646691814,"creation_date":1646691814,"answer_id":71387946,"question_id":71387776,"body_markdown":"This is an IntelliJ bug, and has been reported in [IDEA-221953][1] and [IDEA-191768][2] for example. The editor doesn&#39;t seem to understand generics (among other things like `var`) when they appear in code snippets.\r\n\r\nNote that this isn&#39;t the case if you write the statement inside a method, \r\n\r\n```\r\nstatic void foo() {\r\n    List&lt;Integer&gt; foo = new ArrayList&lt;&gt;();\r\n    // ...\r\n}\r\nfoo();\r\n```\r\n\r\nbut of course, that sort of defeats the purpose of using JShell :(\r\n\r\nRunning the code itself isn&#39;t affected. You can still run the code by pressing cmd/ctrl + enter, and it will work as you expect, despite all the red squiggles.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-221953\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEA-191768","title":"JShell Error when initialize a list: &quot;Expression expected&quot;","body":"<p>This is an IntelliJ bug, and has been reported in <a href=\"https://youtrack.jetbrains.com/issue/IDEA-221953\" rel=\"nofollow noreferrer\">IDEA-221953</a> and <a href=\"https://youtrack.jetbrains.com/issue/IDEA-191768\" rel=\"nofollow noreferrer\">IDEA-191768</a> for example. The editor doesn't seem to understand generics (among other things like <code>var</code>) when they appear in code snippets.</p>\n<p>Note that this isn't the case if you write the statement inside a method,</p>\n<pre><code>static void foo() {\n    List&lt;Integer&gt; foo = new ArrayList&lt;&gt;();\n    // ...\n}\nfoo();\n</code></pre>\n<p>but of course, that sort of defeats the purpose of using JShell :(</p>\n<p>Running the code itself isn't affected. You can still run the code by pressing cmd/ctrl + enter, and it will work as you expect, despite all the red squiggles.</p>\n"}],"owner":{"account_id":2666148,"reputation":454,"user_id":2566694,"accept_rate":75,"display_name":"codeedoc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71387946,"answer_count":1,"score":0,"last_activity_date":1646691814,"creation_date":1646690569,"question_id":71387776,"body_markdown":"I am an absolute Java newbie and just got started learning Java. I came across this JShell functionality within IntelliJ where one can write some quick code without writing any class constructs. But the problem which annoys me for quite some time is that when I initialized even a simple ArrayList, it seems to be working fine but it always gives me this &quot;Expression expected&quot; error which underlines ```List&lt;Integer&gt; ``` in red. \r\n\r\nI do not encounter such error while in a normal .java file but only in JShell.\r\n\r\nDoes anyone know why? Much appreciated in advance!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jAS85.jpg","title":"JShell Error when initialize a list: &quot;Expression expected&quot;","body":"<p>I am an absolute Java newbie and just got started learning Java. I came across this JShell functionality within IntelliJ where one can write some quick code without writing any class constructs. But the problem which annoys me for quite some time is that when I initialized even a simple ArrayList, it seems to be working fine but it always gives me this &quot;Expression expected&quot; error which underlines <code>List&lt;Integer&gt; </code> in red.</p>\n<p>I do not encounter such error while in a normal .java file but only in JShell.</p>\n<p>Does anyone know why? Much appreciated in advance!</p>\n<p><a href=\"https://i.stack.imgur.com/jAS85.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jAS85.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","tomcat","logging"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1646680327,"post_id":71386104,"comment_id":126179125,"body_markdown":"have you tried different OS/JDK/computer? I have had some success in troubleshooting by changing one of those","body":"have you tried different OS/JDK/computer? I have had some success in troubleshooting by changing one of those"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646681221,"post_id":71386104,"comment_id":126179405,"body_markdown":"Remove the exclusions, you now have log4j which isn&#39;t really advisable. Remove the version for liquibase and provide your dependencies in your pom.","body":"Remove the exclusions, you now have log4j which isn&#39;t really advisable. Remove the version for liquibase and provide your dependencies in your pom."},{"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"score":0,"creation_date":1646691288,"post_id":71386104,"comment_id":126182352,"body_markdown":"@M.Deinum remove version of liquibase didn&#39;t help. But I edited a question, somethimes there is error: Class not found so assuming code is running on a pre-Java 16, java.net.UnixDomainSocketAddress but I don&#39;t know from where it coming from.","body":"@M.Deinum remove version of liquibase didn&#39;t help. But I edited a question, somethimes there is error: Class not found so assuming code is running on a pre-Java 16, java.net.UnixDomainSocketAddress but I don&#39;t know from where it coming from."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646720146,"post_id":71386104,"comment_id":126187368,"body_markdown":"That is just an info message and isn&#39;t relevant. I requested you add all your dependencies as the culprit is probably in there (conflicting dependencies etc.).","body":"That is just an info message and isn&#39;t relevant. I requested you add all your dependencies as the culprit is probably in there (conflicting dependencies etc.)."}],"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646691236,"creation_date":1646680186,"question_id":71386104,"body_markdown":"in my application I try to run spring boot app in a standard way. I have three modules\r\n\r\n    parent-module (spring-boot-parent 2.2.6, packaging:pom)\r\n    |-child-api (parent-module is parent)\r\n    |-child-service (parent-module is parent)\r\n\r\nFirst I had some problems with conflicts between slf4j and logback so I decided to exclude logback from classpath: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen I lost all the logs so I decided to add something like this line to application.properties:\r\n\r\n    logging.level.org.apache.tomcat=DEBUG\r\n\r\nNow when I try to run my app all I&#39;ve got is:\r\n\r\n    C:\\jdk-11\\bin\\java.exe -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\lib\\idea_rt.jar=63394:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\bin&quot; -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dfile.encoding=UTF-8 @C:\\Users\\rybak_b\\AppData\\Local\\Temp\\idea_arg_file967796595 PermissionsServiceApplication\r\n    log4j:WARN No appenders could be found for logger (liquibase.resource.ClassLoaderResourceAccessor).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.2.6.RELEASE)\r\n    \r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol port=8082)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol bindOnInit=false)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint bindOnInit=false)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol maxPostSize=2097152)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint maxPostSize=2097152)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol parseBodyMethods=POST)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint parseBodyMethods=POST)\r\n    mar 07, 2022 7:57:59 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service [Tomcat]\r\n    mar 07, 2022 7:57:59 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet engine: [Apache Tomcat/9.0.33]\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesRmiTargets=false)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesStopThreads=false)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesStopTimerThreads=false)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesHttpClientKeepAliveThread=true)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesObjectStreamClassCaches=false)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesObjectStreamClassCaches=false)\r\n    mar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesThreadLocals=false)\r\n    mar 07, 2022 7:57:59 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring embedded WebApplicationContext\r\n    mar 07, 2022 7:57:59 PM org.apache.catalina.core.StandardService stopInternal\r\n    INFO: Stopping service [Tomcat]\r\n    \r\n    Process finished with exit code 1\r\n\r\nEmbeded Tomcat just stops immediately after start and I don&#39;t know why. I am using JDK 11, spring boot-parent 2.2.6-RELESE or 2.6.3 (same problem).\r\n\r\nWhen I added `logging.level.org.apache.catalina=DEBUG` there are a few logs more:\r\n\r\n   \r\n\r\n     mar 07, 2022 8:10:28 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol port=8082)\r\n    mar 07, 2022 8:10:28 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol bindOnInit=false)\r\n    mar 07, 2022 8:10:28 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint bindOnInit=false)\r\n    mar 07, 2022 8:10:28 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol maxPostSize=2097152)\r\n    mar 07, 2022 8:10:28 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint maxPostSize=2097152)\r\n    mar 07, 2022 8:10:28 PM org.apache.catalina.core.ContainerBase addChildInternal\r\n    FINE: Add child StandardHost[localhost] StandardEngine[Tomcat]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.ContainerBase addChildInternal\r\n    FINE: Add child StandardWrapper[default] TomcatEmbeddedContext[]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.ContainerBase addChildInternal\r\n    FINE: Add child TomcatEmbeddedContext[] StandardEngine[Tomcat].StandardHost[localhost]\r\n    mar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol parseBodyMethods=POST)\r\n    mar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint parseBodyMethods=POST)\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service [Tomcat]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet engine: [Apache Tomcat/9.0.33]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\r\n    FINE: Starting ROOT\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\r\n    FINE: Configuring default Resources\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\r\n    FINE: Processing standard container startup\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.loader.WebappLoader startInternal\r\n    FINE: Starting this Loader\r\n    mar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesRmiTargets=false)\r\n    mar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesStopThreads=false)\r\n    mar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesStopTimerThreads=false)\r\n    mar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesHttpClientKeepAliveThread=true)\r\n    mar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesObjectStreamClassCaches=false)\r\n    mar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesObjectStreamClassCaches=false)\r\n    mar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\r\n    FINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesThreadLocals=false)\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.authenticator.AuthenticatorBase startInternal\r\n    FINE: No SingleSignOn Valve is present\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\r\n    FINE: No manager found. Checking if cluster manager should be used. Cluster configured: [false], Application distributable: [false]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\r\n    FINE: Configured a manager of class [org.apache.catalina.session.StandardManager]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring embedded WebApplicationContext\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.ContainerBase addChildInternal\r\n    FINE: Add child StandardWrapper[dispatcherServlet] StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext listenerStart\r\n    FINE: Configuring application event listeners\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext listenerStart\r\n    FINE:  Configuring event listener class &#39;org.apache.tomcat.websocket.server.WsContextListener&#39;\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext listenerStart\r\n    FINE: Sending application start events\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager doLoad\r\n    FINE: Start: Loading persisted sessions\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager doLoad\r\n    FINE: Loading persisted sessions from [SESSIONS.ser]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager doLoad\r\n    FINE: No persisted data file found\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStart\r\n    FINE: Starting filters\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStart\r\n    FINE:  Starting filter &#39;requestContextFilter&#39;\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStart\r\n    FINE:  Starting filter &#39;Tomcat WebSocket (JSR356) Filter&#39;\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStart\r\n    FINE:  Starting filter &#39;characterEncodingFilter&#39;\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStart\r\n    FINE:  Starting filter &#39;formContentFilter&#39;\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\r\n    FINE: Starting completed\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.mapper.Mapper addHost\r\n    FINE: Registered host [localhost]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener registerContext\r\n    FINE: Register Wrapper [default] in Context [] for service [StandardService[Tomcat]]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener registerContext\r\n    FINE: Register Wrapper [dispatcherServlet] in Context [] for service [StandardService[Tomcat]]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener registerContext\r\n    FINE: Register Context [] for service [StandardService[Tomcat]]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener registerHost\r\n    FINE: Register host [localhost] at domain [null] for service [StandardService[Tomcat]]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardService stopInternal\r\n    INFO: Stopping service [Tomcat]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener unregisterHost\r\n    FINE: Unregister host [localhost] at domain [null] for service [StandardService[Tomcat]]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener unregisterContext\r\n    FINE: Unregister Context [] for service [StandardService[Tomcat]]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener unregisterWrapper\r\n    FINE: Unregister Wrapper [default] in Context [] for service [StandardService[Tomcat]]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener unregisterWrapper\r\n    FINE: Unregister Wrapper [dispatcherServlet] in Context [] for service [StandardService[Tomcat]]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStop\r\n    FINE: Stopping filters\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStop\r\n    FINE:  Stopping filter &#39;requestContextFilter&#39;\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.ApplicationFilterConfig unregisterJMX\r\n    FINE: JMX de-registration complete for filter of type [org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter] and name [requestContextFilter]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStop\r\n    FINE:  Stopping filter &#39;Tomcat WebSocket (JSR356) Filter&#39;\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.ApplicationFilterConfig unregisterJMX\r\n    FINE: JMX de-registration complete for filter of type [org.apache.tomcat.websocket.server.WsFilter] and name [Tomcat WebSocket (JSR356) Filter]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStop\r\n    FINE:  Stopping filter &#39;characterEncodingFilter&#39;\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.ApplicationFilterConfig unregisterJMX\r\n    FINE: JMX de-registration complete for filter of type [org.springframework.boot.web.servlet.filter.OrderedCharacterEncodingFilter] and name [characterEncodingFilter]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStop\r\n    FINE:  Stopping filter &#39;formContentFilter&#39;\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.ApplicationFilterConfig unregisterJMX\r\n    FINE: JMX de-registration complete for filter of type [org.springframework.boot.web.servlet.filter.OrderedFormContentFilter] and name [formContentFilter]\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager stopInternal\r\n    FINE: Stopping\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager doUnload\r\n    FINE: Unloading persisted sessions\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager doUnload\r\n    FINE: No persisted sessions to unload\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext listenerStop\r\n    FINE: Sending application stop events\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext stopInternal\r\n    FINE: Processing standard container shutdown\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.loader.WebappLoader stopInternal\r\n    FINE: Stopping this Loader\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.loader.WebappClassLoaderBase getResourceAsStream\r\n    FINE: getResourceAsStream(org/apache/catalina/loader/JdbcLeakPrevention.class)\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.loader.WebappClassLoaderBase getResourceAsStream\r\n    FINE:   Delegating to parent classloader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.loader.WebappClassLoaderBase getResourceAsStream\r\n    FINE:   --&gt; Returning stream from parent\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext resetContext\r\n    FINE: resetContext Tomcat:j2eeType=WebModule,name=//localhost/,J2EEApplication=none,J2EEServer=none\r\n    mar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext stopInternal\r\n    FINE: Stopping complete\r\n    \r\n    Process finished with exit code 1\r\n\r\nEdit:\r\n\r\nSometimes I&#39;ve got this error:\r\n\r\n    mar 07, 2022 11:12:53 PM org.apache.tomcat.util.compat.Jre16Compat &lt;clinit&gt;\r\n    FINE: Class not found so assuming code is running on a pre-Java 16 JVM\r\n    java.lang.ClassNotFoundException: java.net.UnixDomainSocketAddress","title":"Can&#39;t run embeded Tomcat with spring-boot-parent","body":"<p>in my application I try to run spring boot app in a standard way. I have three modules</p>\n<pre><code>parent-module (spring-boot-parent 2.2.6, packaging:pom)\n|-child-api (parent-module is parent)\n|-child-service (parent-module is parent)\n</code></pre>\n<p>First I had some problems with conflicts between slf4j and logback so I decided to exclude logback from classpath:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;version&gt;3.9.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then I lost all the logs so I decided to add something like this line to application.properties:</p>\n<pre><code>logging.level.org.apache.tomcat=DEBUG\n</code></pre>\n<p>Now when I try to run my app all I've got is:</p>\n<pre><code>C:\\jdk-11\\bin\\java.exe -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\lib\\idea_rt.jar=63394:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\bin&quot; -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dfile.encoding=UTF-8 @C:\\Users\\rybak_b\\AppData\\Local\\Temp\\idea_arg_file967796595 PermissionsServiceApplication\nlog4j:WARN No appenders could be found for logger (liquibase.resource.ClassLoaderResourceAccessor).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.6.RELEASE)\n\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol port=8082)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol bindOnInit=false)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint bindOnInit=false)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol maxPostSize=2097152)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint maxPostSize=2097152)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol parseBodyMethods=POST)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint parseBodyMethods=POST)\nmar 07, 2022 7:57:59 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Tomcat]\nmar 07, 2022 7:57:59 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.33]\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesRmiTargets=false)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesStopThreads=false)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesStopTimerThreads=false)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesHttpClientKeepAliveThread=true)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesObjectStreamClassCaches=false)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesObjectStreamClassCaches=false)\nmar 07, 2022 7:57:59 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesThreadLocals=false)\nmar 07, 2022 7:57:59 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring embedded WebApplicationContext\nmar 07, 2022 7:57:59 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service [Tomcat]\n\nProcess finished with exit code 1\n</code></pre>\n<p>Embeded Tomcat just stops immediately after start and I don't know why. I am using JDK 11, spring boot-parent 2.2.6-RELESE or 2.6.3 (same problem).</p>\n<p>When I added <code>logging.level.org.apache.catalina=DEBUG</code> there are a few logs more:</p>\n<pre><code> mar 07, 2022 8:10:28 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol port=8082)\nmar 07, 2022 8:10:28 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol bindOnInit=false)\nmar 07, 2022 8:10:28 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint bindOnInit=false)\nmar 07, 2022 8:10:28 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol maxPostSize=2097152)\nmar 07, 2022 8:10:28 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint maxPostSize=2097152)\nmar 07, 2022 8:10:28 PM org.apache.catalina.core.ContainerBase addChildInternal\nFINE: Add child StandardHost[localhost] StandardEngine[Tomcat]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.ContainerBase addChildInternal\nFINE: Add child StandardWrapper[default] TomcatEmbeddedContext[]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.ContainerBase addChildInternal\nFINE: Add child TomcatEmbeddedContext[] StandardEngine[Tomcat].StandardHost[localhost]\nmar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.coyote.http11.Http11NioProtocol parseBodyMethods=POST)\nmar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.apache.tomcat.util.net.NioEndpoint parseBodyMethods=POST)\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Tomcat]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.33]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\nFINE: Starting ROOT\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\nFINE: Configuring default Resources\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\nFINE: Processing standard container startup\nmar 07, 2022 8:10:29 PM org.apache.catalina.loader.WebappLoader startInternal\nFINE: Starting this Loader\nmar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesRmiTargets=false)\nmar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesStopThreads=false)\nmar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesStopTimerThreads=false)\nmar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesHttpClientKeepAliveThread=true)\nmar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesObjectStreamClassCaches=false)\nmar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesObjectStreamClassCaches=false)\nmar 07, 2022 8:10:29 PM org.apache.tomcat.util.IntrospectionUtils setProperty\nFINE: IntrospectionUtils: setProperty(class org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader clearReferencesThreadLocals=false)\nmar 07, 2022 8:10:29 PM org.apache.catalina.authenticator.AuthenticatorBase startInternal\nFINE: No SingleSignOn Valve is present\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\nFINE: No manager found. Checking if cluster manager should be used. Cluster configured: [false], Application distributable: [false]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\nFINE: Configured a manager of class [org.apache.catalina.session.StandardManager]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring embedded WebApplicationContext\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.ContainerBase addChildInternal\nFINE: Add child StandardWrapper[dispatcherServlet] StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext listenerStart\nFINE: Configuring application event listeners\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext listenerStart\nFINE:  Configuring event listener class 'org.apache.tomcat.websocket.server.WsContextListener'\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext listenerStart\nFINE: Sending application start events\nmar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager doLoad\nFINE: Start: Loading persisted sessions\nmar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager doLoad\nFINE: Loading persisted sessions from [SESSIONS.ser]\nmar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager doLoad\nFINE: No persisted data file found\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStart\nFINE: Starting filters\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStart\nFINE:  Starting filter 'requestContextFilter'\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStart\nFINE:  Starting filter 'Tomcat WebSocket (JSR356) Filter'\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStart\nFINE:  Starting filter 'characterEncodingFilter'\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStart\nFINE:  Starting filter 'formContentFilter'\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext startInternal\nFINE: Starting completed\nmar 07, 2022 8:10:29 PM org.apache.catalina.mapper.Mapper addHost\nFINE: Registered host [localhost]\nmar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener registerContext\nFINE: Register Wrapper [default] in Context [] for service [StandardService[Tomcat]]\nmar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener registerContext\nFINE: Register Wrapper [dispatcherServlet] in Context [] for service [StandardService[Tomcat]]\nmar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener registerContext\nFINE: Register Context [] for service [StandardService[Tomcat]]\nmar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener registerHost\nFINE: Register host [localhost] at domain [null] for service [StandardService[Tomcat]]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service [Tomcat]\nmar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener unregisterHost\nFINE: Unregister host [localhost] at domain [null] for service [StandardService[Tomcat]]\nmar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener unregisterContext\nFINE: Unregister Context [] for service [StandardService[Tomcat]]\nmar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener unregisterWrapper\nFINE: Unregister Wrapper [default] in Context [] for service [StandardService[Tomcat]]\nmar 07, 2022 8:10:29 PM org.apache.catalina.mapper.MapperListener unregisterWrapper\nFINE: Unregister Wrapper [dispatcherServlet] in Context [] for service [StandardService[Tomcat]]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStop\nFINE: Stopping filters\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStop\nFINE:  Stopping filter 'requestContextFilter'\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.ApplicationFilterConfig unregisterJMX\nFINE: JMX de-registration complete for filter of type [org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter] and name [requestContextFilter]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStop\nFINE:  Stopping filter 'Tomcat WebSocket (JSR356) Filter'\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.ApplicationFilterConfig unregisterJMX\nFINE: JMX de-registration complete for filter of type [org.apache.tomcat.websocket.server.WsFilter] and name [Tomcat WebSocket (JSR356) Filter]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStop\nFINE:  Stopping filter 'characterEncodingFilter'\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.ApplicationFilterConfig unregisterJMX\nFINE: JMX de-registration complete for filter of type [org.springframework.boot.web.servlet.filter.OrderedCharacterEncodingFilter] and name [characterEncodingFilter]\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext filterStop\nFINE:  Stopping filter 'formContentFilter'\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.ApplicationFilterConfig unregisterJMX\nFINE: JMX de-registration complete for filter of type [org.springframework.boot.web.servlet.filter.OrderedFormContentFilter] and name [formContentFilter]\nmar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager stopInternal\nFINE: Stopping\nmar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager doUnload\nFINE: Unloading persisted sessions\nmar 07, 2022 8:10:29 PM org.apache.catalina.session.StandardManager doUnload\nFINE: No persisted sessions to unload\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext listenerStop\nFINE: Sending application stop events\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext stopInternal\nFINE: Processing standard container shutdown\nmar 07, 2022 8:10:29 PM org.apache.catalina.loader.WebappLoader stopInternal\nFINE: Stopping this Loader\nmar 07, 2022 8:10:29 PM org.apache.catalina.loader.WebappClassLoaderBase getResourceAsStream\nFINE: getResourceAsStream(org/apache/catalina/loader/JdbcLeakPrevention.class)\nmar 07, 2022 8:10:29 PM org.apache.catalina.loader.WebappClassLoaderBase getResourceAsStream\nFINE:   Delegating to parent classloader jdk.internal.loader.ClassLoaders$AppClassLoader@6ed3ef1\nmar 07, 2022 8:10:29 PM org.apache.catalina.loader.WebappClassLoaderBase getResourceAsStream\nFINE:   --&gt; Returning stream from parent\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext resetContext\nFINE: resetContext Tomcat:j2eeType=WebModule,name=//localhost/,J2EEApplication=none,J2EEServer=none\nmar 07, 2022 8:10:29 PM org.apache.catalina.core.StandardContext stopInternal\nFINE: Stopping complete\n\nProcess finished with exit code 1\n</code></pre>\n<p>Edit:</p>\n<p>Sometimes I've got this error:</p>\n<pre><code>mar 07, 2022 11:12:53 PM org.apache.tomcat.util.compat.Jre16Compat &lt;clinit&gt;\nFINE: Class not found so assuming code is running on a pre-Java 16 JVM\njava.lang.ClassNotFoundException: java.net.UnixDomainSocketAddress\n</code></pre>\n"},{"tags":["java","android","api","post","plaid"],"answers":[{"tags":[],"owner":{"account_id":498262,"reputation":1360,"user_id":1533263,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646690936,"creation_date":1646690936,"answer_id":71387826,"question_id":71344135,"body_markdown":"Response from the Plaid Android team:\r\n\r\nSo in our [Android quickstart sample on GitHub][1], we already have a Retrofit API set up to retrieve the `link_token`. \r\n\r\nWhat you would want to do is to add something like\r\n\r\n```\r\n  @POST(&quot;/api/get_transactions&quot;)\r\n  fun getTransactions(publicToken: PublicToken): Single&lt;Transactions&gt;\r\n\r\ndata class PublicToken(@SerializedName(&quot;public_token&quot;) publicToken: String)\r\n\r\ndata class Transactions( @SerializedName(&quot;transactions&quot;) val transactions: List&lt;Transaction&gt;\r\n)\r\n\r\ndata class Transaction( @SerializedName(&quot;amount&quot;) val amount: Float, \r\n@SerializedName(&quot;category&quot;) val category: String, \r\n)\r\n```\r\n\r\n\r\n  [1]: https://github.com/plaid/plaid-link-android","title":"Plaid API get Access Token java android","body":"<p>Response from the Plaid Android team:</p>\n<p>So in our <a href=\"https://github.com/plaid/plaid-link-android\" rel=\"nofollow noreferrer\">Android quickstart sample on GitHub</a>, we already have a Retrofit API set up to retrieve the <code>link_token</code>.</p>\n<p>What you would want to do is to add something like</p>\n<pre><code>  @POST(&quot;/api/get_transactions&quot;)\n  fun getTransactions(publicToken: PublicToken): Single&lt;Transactions&gt;\n\ndata class PublicToken(@SerializedName(&quot;public_token&quot;) publicToken: String)\n\ndata class Transactions( @SerializedName(&quot;transactions&quot;) val transactions: List&lt;Transaction&gt;\n)\n\ndata class Transaction( @SerializedName(&quot;amount&quot;) val amount: Float, \n@SerializedName(&quot;category&quot;) val category: String, \n)\n</code></pre>\n"}],"owner":{"account_id":24444878,"reputation":1,"user_id":18368001,"display_name":"fisiboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646690936,"creation_date":1646343699,"question_id":71344135,"body_markdown":"I am a beginner with communicating with APIs and I am currently working with the Plaid API in order to retrieve transaction data for an android application. Currently, I have successfully integrated with the Plaid Link and can obtain public tokens through the app, however I am now having trouble exchanging the public token for the access token. I obtain the public token from here:\r\n\r\n\r\n```\r\nprivate ActivityResultLauncher&lt;LinkTokenConfiguration&gt; linkAccountToPlaid = registerForActivityResult(\r\n      new OpenPlaidLink(),\r\n      result -&gt; {\r\n        if (result instanceof LinkSuccess) {\r\n            //Exchange public token for persistent access token\r\n```\r\n\r\nI believe the following code on the server is used to exchange the public token:\r\n```\r\napp.post(&#39;/api/set_access_token&#39;, function (request, response, next) {\r\n  PUBLIC_TOKEN = request.body.public_token;\r\n  Promise.resolve()\r\n    .then(async function () {\r\n      const tokenResponse = await client.itemPublicTokenExchange({\r\n        public_token: PUBLIC_TOKEN,\r\n      });\r\n      prettyPrintResponse(tokenResponse);\r\n      ACCESS_TOKEN = tokenResponse.data.access_token;\r\n      ITEM_ID = tokenResponse.data.item_id;\r\n      if (PLAID_PRODUCTS.includes(&#39;transfer&#39;)) {\r\n        TRANSFER_ID = await authorizeAndCreateTransfer(ACCESS_TOKEN);\r\n      }\r\n      response.json({\r\n        access_token: ACCESS_TOKEN,\r\n        item_id: ITEM_ID,\r\n        error: null,\r\n      });\r\n    })\r\n    .catch(next);\r\n});\r\n\r\n```\r\n\r\nI have the quickstart server running, my question is, how do I then make the call to the server to exchange the public token for the access token? or in other words, how do I make a post call, containing the public token to the server to receive the access token","title":"Plaid API get Access Token java android","body":"<p>I am a beginner with communicating with APIs and I am currently working with the Plaid API in order to retrieve transaction data for an android application. Currently, I have successfully integrated with the Plaid Link and can obtain public tokens through the app, however I am now having trouble exchanging the public token for the access token. I obtain the public token from here:</p>\n<pre><code>private ActivityResultLauncher&lt;LinkTokenConfiguration&gt; linkAccountToPlaid = registerForActivityResult(\n      new OpenPlaidLink(),\n      result -&gt; {\n        if (result instanceof LinkSuccess) {\n            //Exchange public token for persistent access token\n</code></pre>\n<p>I believe the following code on the server is used to exchange the public token:</p>\n<pre><code>app.post('/api/set_access_token', function (request, response, next) {\n  PUBLIC_TOKEN = request.body.public_token;\n  Promise.resolve()\n    .then(async function () {\n      const tokenResponse = await client.itemPublicTokenExchange({\n        public_token: PUBLIC_TOKEN,\n      });\n      prettyPrintResponse(tokenResponse);\n      ACCESS_TOKEN = tokenResponse.data.access_token;\n      ITEM_ID = tokenResponse.data.item_id;\n      if (PLAID_PRODUCTS.includes('transfer')) {\n        TRANSFER_ID = await authorizeAndCreateTransfer(ACCESS_TOKEN);\n      }\n      response.json({\n        access_token: ACCESS_TOKEN,\n        item_id: ITEM_ID,\n        error: null,\n      });\n    })\n    .catch(next);\n});\n\n</code></pre>\n<p>I have the quickstart server running, my question is, how do I then make the call to the server to exchange the public token for the access token? or in other words, how do I make a post call, containing the public token to the server to receive the access token</p>\n"},{"tags":["java","oop","architecture","factory-pattern"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1390304648,"post_id":21257089,"comment_id":32024417,"body_markdown":"So you just want to call `static` method of a particular `HelperBase` subclass?","body":"So you just want to call <code>static</code> method of a particular <code>HelperBase</code> subclass?"},{"owner":{"account_id":106479,"reputation":6658,"user_id":283647,"accept_rate":87,"display_name":"thelost"},"score":1,"creation_date":1390304757,"post_id":21257089,"comment_id":32024489,"body_markdown":"@Rohit Jain, yes. But I would like to have the helpers implement a marker interface, or extend an abstract base class.","body":"@Rohit Jain, yes. But I would like to have the helpers implement a marker interface, or extend an abstract base class."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1390304794,"post_id":21257089,"comment_id":32024514,"body_markdown":"Why would you like that?","body":"Why would you like that?"},{"owner":{"account_id":106479,"reputation":6658,"user_id":283647,"accept_rate":87,"display_name":"thelost"},"score":0,"creation_date":1390304900,"post_id":21257089,"comment_id":32024580,"body_markdown":"@Rohit Jain, for not having to if-else each place/time I need to call certain methods which each helper should implement.","body":"@Rohit Jain, for not having to if-else each place/time I need to call certain methods which each helper should implement."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1390304986,"post_id":21257089,"comment_id":32024643,"body_markdown":"You said, your classes just have `static` methods right? There is no polymorphism here. What kind of `if-else` condition do you have. We need some more code now. Or may be, a concrete problem statement.","body":"You said, your classes just have <code>static</code> methods right? There is no polymorphism here. What kind of <code>if-else</code> condition do you have. We need some more code now. Or may be, a concrete problem statement."},{"owner":{"account_id":1914008,"reputation":1385,"user_id":1727039,"accept_rate":40,"display_name":"Mr. P"},"score":0,"creation_date":1390305527,"post_id":21257089,"comment_id":32024988,"body_markdown":"It is a little bit weird as you actually specify what exacly you want in `HelperBase helper = HelperBase.getHelper(HELPER_TYPE.Type_A);`. Why cannot you just write `HelperBase helper = new Helper1();` ? If you want abstraction, just use a factory...","body":"It is a little bit weird as you actually specify what exacly you want in <code>HelperBase helper = HelperBase.getHelper(HELPER_TYPE.Type_A);</code>. Why cannot you just write <code>HelperBase helper = new Helper1();</code> ? If you want abstraction, just use a factory..."}],"answers":[{"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390305107,"creation_date":1390305107,"answer_id":21257328,"question_id":21257089,"body_markdown":"    enum HELPER_TYPE implements IHelper{\r\n        Type_A{\r\n            @Override\r\n            public void doSomething(){\r\n    \r\n            }\r\n        },\r\n        Type_B{\r\n           @Override\r\n           public void doSomething(){\r\n           }\r\n        }\r\n    }\r\n    \r\n    interface IHelper{\r\n        public void doSomething();\r\n    }\r\n\r\nHow about having an interface with required methods and having `enum` implement that?\r\n\r\nNow you have polymorphic behavior among all helpers implementing `IHelper` interface.\r\n\r\nSo you can call them like `HELPER_TYPE.Type_A.doSomething()`","title":"Factory for helper classes with static methods?","body":"<pre><code>enum HELPER_TYPE implements IHelper{\n    Type_A{\n        @Override\n        public void doSomething(){\n\n        }\n    },\n    Type_B{\n       @Override\n       public void doSomething(){\n       }\n    }\n}\n\ninterface IHelper{\n    public void doSomething();\n}\n</code></pre>\n\n<p>How about having an interface with required methods and having <code>enum</code> implement that?</p>\n\n<p>Now you have polymorphic behavior among all helpers implementing <code>IHelper</code> interface.</p>\n\n<p>So you can call them like <code>HELPER_TYPE.Type_A.doSomething()</code></p>\n"}],"owner":{"account_id":106479,"reputation":6658,"user_id":283647,"accept_rate":87,"display_name":"thelost"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1646690359,"creation_date":1390304460,"question_id":21257089,"body_markdown":"I have a couple of helper classes (`? extends HelperBase`) which only have public static methods. I would like to have something similar to what a factory is (with singleton support), but as there is no need for an instance, I am unsure which way to go best.\r\n\r\nIn the end, I would like to have something like:\r\n\r\n    enum HELPER_TYPE {\r\n        Type_A\r\n    }\r\n\r\n    abstract class HelperBase {\r\n        abstract void do();\r\n\r\n        static HelperBase getHelper(HELPER_TYPE type) {\r\n        // ...\r\n        }\r\n    }\r\n\r\n    class Helper1 extends HelperBase {\r\n        static void doImpl() {\r\n        // ... impl here\r\n        }\r\n      \r\n        void do() {\r\n            doImpl();\r\n        }\r\n    }\r\n\r\n    // ... and then:\r\n\r\n    HelperBase helper = HelperBase.getHelper(HELPER_TYPE.Type_A);\r\n    helper.do();\r\n\r\nIs there a better way ? Any suggestion would be appreciated.","title":"Factory for helper classes with static methods?","body":"<p>I have a couple of helper classes (<code>? extends HelperBase</code>) which only have public static methods. I would like to have something similar to what a factory is (with singleton support), but as there is no need for an instance, I am unsure which way to go best.</p>\n\n<p>In the end, I would like to have something like:</p>\n\n<pre><code>enum HELPER_TYPE {\n    Type_A\n}\n\nabstract class HelperBase {\n    abstract void do();\n\n    static HelperBase getHelper(HELPER_TYPE type) {\n    // ...\n    }\n}\n\nclass Helper1 extends HelperBase {\n    static void doImpl() {\n    // ... impl here\n    }\n\n    void do() {\n        doImpl();\n    }\n}\n\n// ... and then:\n\nHelperBase helper = HelperBase.getHelper(HELPER_TYPE.Type_A);\nhelper.do();\n</code></pre>\n\n<p>Is there a better way ? Any suggestion would be appreciated.</p>\n"},{"tags":["javascript","java","image","mqtt"],"answers":[{"tags":[],"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517765898,"creation_date":1517591051,"answer_id":48587550,"question_id":48587173,"body_markdown":"Give this a try:\r\n\r\n    function convert(buffer) {\r\n      var decoder = new TextDecoder(&#39;utf8&#39;);\r\n      return btoa(decoder.decode(buffer));\r\n    }","title":"JavaScript - Mqtt Sending and Reciving Image","body":"<p>Give this a try:</p>\n\n<pre><code>function convert(buffer) {\n  var decoder = new TextDecoder('utf8');\n  return btoa(decoder.decode(buffer));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17465866,"reputation":1,"user_id":12662617,"display_name":"meleem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646690160,"creation_date":1646612224,"answer_id":71375243,"question_id":48587173,"body_markdown":"I think the best approach here is to use blobs. Instead of converting the array to base64 which is terribly slow an error prone if not done correctly, you create a blob from the input array and assign it to the .src property like this:\r\n\r\n    var blob = new Blob([r_message.payloadBytes], {type: &#39;image/png&#39;});\r\n    document.getElementById(&quot;ItemPreview&quot;).src = URL.createObjectURL(blob);","title":"JavaScript - Mqtt Sending and Reciving Image","body":"<p>I think the best approach here is to use blobs. Instead of converting the array to base64 which is terribly slow an error prone if not done correctly, you create a blob from the input array and assign it to the .src property like this:</p>\n<pre><code>var blob = new Blob([r_message.payloadBytes], {type: 'image/png'});\ndocument.getElementById(&quot;ItemPreview&quot;).src = URL.createObjectURL(blob);\n</code></pre>\n"}],"owner":{"account_id":12865839,"reputation":15,"user_id":9306155,"display_name":"DavidMontani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48587550,"answer_count":2,"score":1,"last_activity_date":1646690160,"creation_date":1517589621,"question_id":48587173,"body_markdown":"I am currently working on a project in which I want to send an image as ByteArray to a mosquitto broker with java to the topic images. \r\nThe subscriber of these Topic is a JavaScript application, which should convert the ByteArray,made in Java, back to an Image. \r\nThe reception of the image is working well, but the image cannot be shown correctly.\r\n\r\nWhat I got so far:\r\n\r\nJava Code to Publish an Image\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public void doDemo(){\r\n            try {\r\n                client = new MqttClient(&quot;tcp://192.168.56.1&quot;, &quot;Camera1&quot;, new MemoryPersistence());\r\n                MqttConnectOptions connOpts = new MqttConnectOptions();\r\n                connOpts.setCleanSession(true);\r\n                client.connect(connOpts);\r\n                MqttMessage message = new MqttMessage();\r\n                File imgPath = new File(Reciver.class.getResource(&quot;Card_1007330_bg_low_quality_000.png&quot;).getPath());\r\n                BufferedImage bufferedImage = ImageIO.read(imgPath);\r\n\r\n                // get DataBufferBytes from Raster\r\n                WritableRaster raster = bufferedImage .getRaster();\r\n                DataBufferByte data   = (DataBufferByte) raster.getDataBuffer();\r\n\r\n                message.setPayload(data.getData());\r\n                client.publish(&quot;spengergasse/building-b/2.14/images&quot;, message);\r\n\r\n            } catch (MqttPersistenceException e) {\r\n                e.printStackTrace();\r\n            } catch (MqttSecurityException e) {\r\n                e.printStackTrace();\r\n            } catch (MqttException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }finally {\r\n                try {\r\n                    client.disconnect();\r\n                } catch (MqttException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nJavaScript to show the image\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n    function onMessageArrived(r_message){\r\n    \tconsole.log(r_message);\r\n    \t\t\r\n    \tdocument.getElementById(&quot;ItemPreview&quot;).src = &quot;data:image/png;base64,&quot; + convert(r_message.payloadBytes);\r\n    }\r\n\r\n    function convert(buffer) {\r\n    \tvar binary = &#39;&#39;;\r\n    \tvar bytes = new Uint8Array(buffer);\r\n    \tvar len = bytes.byteLength;\r\n    \tfor (var i = 0; i &lt; len; i++) {\r\n    \t\tbinary += String.fromCharCode(bytes[i]);\r\n    \t}\r\n    \treturn window.btoa(binary);\r\n    }\r\n&lt;!-- end snippet --&gt;\r\n\r\nAfter Reciving the Image I am gettin this:\r\n\r\n![Page + Console][1]\r\n\r\nMaybe someone could help me out.\r\nThanks a lot :D\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PAU1r.png","title":"JavaScript - Mqtt Sending and Reciving Image","body":"<p>I am currently working on a project in which I want to send an image as ByteArray to a mosquitto broker with java to the topic images. \nThe subscriber of these Topic is a JavaScript application, which should convert the ByteArray,made in Java, back to an Image. \nThe reception of the image is working well, but the image cannot be shown correctly.</p>\n\n<p>What I got so far:</p>\n\n<p>Java Code to Publish an Image</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public void doDemo(){\r\n        try {\r\n            client = new MqttClient(\"tcp://192.168.56.1\", \"Camera1\", new MemoryPersistence());\r\n            MqttConnectOptions connOpts = new MqttConnectOptions();\r\n            connOpts.setCleanSession(true);\r\n            client.connect(connOpts);\r\n            MqttMessage message = new MqttMessage();\r\n            File imgPath = new File(Reciver.class.getResource(\"Card_1007330_bg_low_quality_000.png\").getPath());\r\n            BufferedImage bufferedImage = ImageIO.read(imgPath);\r\n\r\n            // get DataBufferBytes from Raster\r\n            WritableRaster raster = bufferedImage .getRaster();\r\n            DataBufferByte data   = (DataBufferByte) raster.getDataBuffer();\r\n\r\n            message.setPayload(data.getData());\r\n            client.publish(\"spengergasse/building-b/2.14/images\", message);\r\n\r\n        } catch (MqttPersistenceException e) {\r\n            e.printStackTrace();\r\n        } catch (MqttSecurityException e) {\r\n            e.printStackTrace();\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }finally {\r\n            try {\r\n                client.disconnect();\r\n            } catch (MqttException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>JavaScript to show the image</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>function onMessageArrived(r_message){\r\n\tconsole.log(r_message);\r\n\t\t\r\n\tdocument.getElementById(\"ItemPreview\").src = \"data:image/png;base64,\" + convert(r_message.payloadBytes);\r\n}\r\n\r\nfunction convert(buffer) {\r\n\tvar binary = '';\r\n\tvar bytes = new Uint8Array(buffer);\r\n\tvar len = bytes.byteLength;\r\n\tfor (var i = 0; i &lt; len; i++) {\r\n\t\tbinary += String.fromCharCode(bytes[i]);\r\n\t}\r\n\treturn window.btoa(binary);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After Reciving the Image I am gettin this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/PAU1r.png\" alt=\"Page + Console\"></p>\n\n<p>Maybe someone could help me out.\nThanks a lot :D</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1646688600,"post_id":71387446,"comment_id":126181593,"body_markdown":"Just call `getClass()` on the object and compare the result with each of the Monster classes it might be.","body":"Just call <code>getClass()</code> on the object and compare the result with each of the Monster classes it might be."},{"owner":{"account_id":23507466,"reputation":11,"user_id":17556509,"display_name":"PhantomFoamy"},"score":0,"creation_date":1646688793,"post_id":71387446,"comment_id":126181647,"body_markdown":"I have tried using ```getClass()``` but I don&#39;t know how to make a new object with the result of ```getClass()```","body":"I have tried using <code>getClass()</code> but I don&#39;t know how to make a new object with the result of <code>getClass()</code>"}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646689742,"creation_date":1646689279,"answer_id":71387576,"question_id":71387446,"body_markdown":"As long as you don&#39;t have a lot of types of monsters, you can do something like this:\r\n\r\n    interface Monster {}\r\n    class Zombie implements Monster {}\r\n    class Slime implements Monster {}\r\n\r\n    private static Monster duplicateMonster(Monster monster) {\r\n        if (monster.getClass() == Zombie.class) {\r\n            return new Zombie();\r\n        } else if (monster.getClass() == Slime.class) {\r\n            return new Slime();\r\n        }\r\n        throw new Exception(&quot;Unknown Monster&quot;);\r\n    }\r\n\r\n    Monster anotherMonster = duplicateMonster(someMonster);\r\n\r\nAnother way would be to have a method in each class that makes a new instance of that same class.  Like this:\r\n\r\n    interface Monster {\r\n        Monster makeNewOne();\r\n    }\r\n    class Zombie implements Monster {\r\n        public Monster makeNewOne() {\r\n            return new Zombie();\r\n        }\r\n    }\r\n    class Slime implements Monster {\r\n        public Monster makeNewOne() {\r\n            return new Slime();\r\n        }\r\n    }\r\n\r\n    Monster anotherMonster = someMonster.makeNewOne();\r\n\r\n\r\nYou could implement a typical `copy()` method that would work just like above, but it would take each of the attributes of the monster you&#39;re calling the method on and transfer those to the new Monster, thereby making a copy that looks the same.\r\n\r\nIt is possible using introspection to get the class of an object and then ask for that class&#39;s constructor and then call that to create a new object.  But that&#39;s kinda messy.","title":"Make a new object of a returned class in java","body":"<p>As long as you don't have a lot of types of monsters, you can do something like this:</p>\n<pre><code>interface Monster {}\nclass Zombie implements Monster {}\nclass Slime implements Monster {}\n\nprivate static Monster duplicateMonster(Monster monster) {\n    if (monster.getClass() == Zombie.class) {\n        return new Zombie();\n    } else if (monster.getClass() == Slime.class) {\n        return new Slime();\n    }\n    throw new Exception(&quot;Unknown Monster&quot;);\n}\n\nMonster anotherMonster = duplicateMonster(someMonster);\n</code></pre>\n<p>Another way would be to have a method in each class that makes a new instance of that same class.  Like this:</p>\n<pre><code>interface Monster {\n    Monster makeNewOne();\n}\nclass Zombie implements Monster {\n    public Monster makeNewOne() {\n        return new Zombie();\n    }\n}\nclass Slime implements Monster {\n    public Monster makeNewOne() {\n        return new Slime();\n    }\n}\n\nMonster anotherMonster = someMonster.makeNewOne();\n</code></pre>\n<p>You could implement a typical <code>copy()</code> method that would work just like above, but it would take each of the attributes of the monster you're calling the method on and transfer those to the new Monster, thereby making a copy that looks the same.</p>\n<p>It is possible using introspection to get the class of an object and then ask for that class's constructor and then call that to create a new object.  But that's kinda messy.</p>\n"}],"owner":{"account_id":23507466,"reputation":11,"user_id":17556509,"display_name":"PhantomFoamy"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1646689419,"accepted_answer_id":71387576,"answer_count":1,"score":0,"last_activity_date":1646689742,"creation_date":1646688269,"question_id":71387446,"body_markdown":"I have an ArrayList of a class, ```Monster```, and inside the ArrayList is different subclasses of ```Monster```, like ```Slime``` or ```Zombie```. I then use a method to return a random class from that ArrayList. What I need to know is how to make a new object of the type that is returned. Right now I have a &quot;reset&quot; method for each subclass that basically reconstructs the object, but I don&#39;t want to have to make a reset method for every subclass.","title":"Make a new object of a returned class in java","body":"<p>I have an ArrayList of a class, <code>Monster</code>, and inside the ArrayList is different subclasses of <code>Monster</code>, like <code>Slime</code> or <code>Zombie</code>. I then use a method to return a random class from that ArrayList. What I need to know is how to make a new object of the type that is returned. Right now I have a &quot;reset&quot; method for each subclass that basically reconstructs the object, but I don't want to have to make a reset method for every subclass.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646690563,"post_id":71387629,"comment_id":126182159,"body_markdown":"It seems unusual to expect a `LocID` to match an  `i + 1` value.  Perhaps `alInfo` is not sorted by `LocID` or there are gaps in `LocID` values.","body":"It seems unusual to expect a <code>LocID</code> to match an  <code>i + 1</code> value.  Perhaps <code>alInfo</code> is not sorted by <code>LocID</code> or there are gaps in <code>LocID</code> values."},{"owner":{"account_id":14997822,"reputation":23,"user_id":10826564,"display_name":"Shawn"},"score":0,"creation_date":1646691475,"post_id":71387629,"comment_id":126182396,"body_markdown":"There are gaps. When a gap comes up I want it to output there is nothing at the number and move to the next","body":"There are gaps. When a gap comes up I want it to output there is nothing at the number and move to the next"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646691963,"post_id":71387629,"comment_id":126182542,"body_markdown":"well, every subsequent iteration would likely also be a gap","body":"well, every subsequent iteration would likely also be a gap"}],"owner":{"account_id":14997822,"reputation":23,"user_id":10826564,"display_name":"Shawn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646689575,"creation_date":1646689575,"question_id":71387629,"body_markdown":"Hello im trying to loop through an array list and whichever number doesnt have a corresponding Object gets a seperate text output but I get to 8 and it just repeats once it gets to the else statement.\r\n\r\ni = 8 output : &quot;radio 8 fbf&quot;\r\ni = 9+ output : //No GBT with LocID 9    This repeats even though there are radios 10-30\r\n\r\n```\r\n for(int i = 0; i &lt; alInfo.size(); i++) \r\n         {   \r\n             if(alInfo.get(i).LocId == i + 1 )\r\n             {\r\n                 out.println((alInfo.get(i).codeLine));\r\n             }\r\n            else\r\n             {\r\n                 //No GBT with LocID 9\r\n                 out.println(&quot;//No GBT with LocID &quot; + (i + 1));\r\n                 \r\n             }\r\n         }           \r\n\r\n```","title":"Skipping through numbers of a loop in java in an arraylist","body":"<p>Hello im trying to loop through an array list and whichever number doesnt have a corresponding Object gets a seperate text output but I get to 8 and it just repeats once it gets to the else statement.</p>\n<p>i = 8 output : &quot;radio 8 fbf&quot;\ni = 9+ output : //No GBT with LocID 9    This repeats even though there are radios 10-30</p>\n<pre><code> for(int i = 0; i &lt; alInfo.size(); i++) \n         {   \n             if(alInfo.get(i).LocId == i + 1 )\n             {\n                 out.println((alInfo.get(i).codeLine));\n             }\n            else\n             {\n                 //No GBT with LocID 9\n                 out.println(&quot;//No GBT with LocID &quot; + (i + 1));\n                 \n             }\n         }           \n\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1646688759,"post_id":71387453,"comment_id":126181637,"body_markdown":"You want to use a Map, not an array.","body":"You want to use a Map, not an array."}],"answers":[{"tags":[],"owner":{"account_id":19027214,"reputation":91,"user_id":13890028,"display_name":"knpfl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646689496,"creation_date":1646689496,"answer_id":71387620,"question_id":71387453,"body_markdown":"you can go over the albums array with an [foreach-loop][1] and if &quot;firstQuestion &quot; is matched you set &quot;isFound0&quot; to true and break out of the loop with break; to improve the string matching you can either use a library or do some quick and dirty operations on **both** strings before comparing them to reduce false negatives.\r\n\r\nfirstQuestion.toLowerCase().replaceAll(&quot;[^a-z]&quot;, &quot;&quot;); // makes all letters lowercase and removes all characters that aren&#39;t letters\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/for-each-loop-in-java/","title":"Is there a way to search an array for a value in the array in its string form?","body":"<p>you can go over the albums array with an <a href=\"https://www.geeksforgeeks.org/for-each-loop-in-java/\" rel=\"nofollow noreferrer\">foreach-loop</a> and if &quot;firstQuestion &quot; is matched you set &quot;isFound0&quot; to true and break out of the loop with break; to improve the string matching you can either use a library or do some quick and dirty operations on <strong>both</strong> strings before comparing them to reduce false negatives.</p>\n<p>firstQuestion.toLowerCase().replaceAll(&quot;[^a-z]&quot;, &quot;&quot;); // makes all letters lowercase and removes all characters that aren't letters</p>\n"}],"owner":{"account_id":24410878,"reputation":3,"user_id":18338352,"display_name":"Jeda Williams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71387620,"answer_count":1,"score":0,"last_activity_date":1646689496,"creation_date":1646688322,"question_id":71387453,"body_markdown":"I have an array in which I am trying to ask the user a question, have them give their answer (and in their answer will be a string value in the array), and then use their answer to formulate a response to them. I tried using .equals and changing the array into a list. Right now I am using a boolean to find if the string from the array is present in the user&#39;s answer or not, but I want the code to be very flexible (which means I want it not to matter if the user says &quot;Hi&quot; or &quot;hi&quot;. Here&#39;s the code below:\r\n\r\n        String[] albums = {&quot;positions&quot;, &quot;thank u, next&quot;, &quot;sweetener&quot;, &quot;k bye for now&quot;, \r\n        &quot;dangerous woman&quot;, &quot;my everything&quot;, &quot;yours truly&quot;};\r\n        String firstQuestion = ari.nextLine();\r\n        boolean isFound0 = firstQuestion.contains(albums[0]);\r\n                if (isFound0) {\r\n                    System.out.println(&quot;tysm! i love &quot; + (albums[0]) + &quot; as well!&quot;);\r\n                }\r\n","title":"Is there a way to search an array for a value in the array in its string form?","body":"<p>I have an array in which I am trying to ask the user a question, have them give their answer (and in their answer will be a string value in the array), and then use their answer to formulate a response to them. I tried using .equals and changing the array into a list. Right now I am using a boolean to find if the string from the array is present in the user's answer or not, but I want the code to be very flexible (which means I want it not to matter if the user says &quot;Hi&quot; or &quot;hi&quot;. Here's the code below:</p>\n<pre><code>    String[] albums = {&quot;positions&quot;, &quot;thank u, next&quot;, &quot;sweetener&quot;, &quot;k bye for now&quot;, \n    &quot;dangerous woman&quot;, &quot;my everything&quot;, &quot;yours truly&quot;};\n    String firstQuestion = ari.nextLine();\n    boolean isFound0 = firstQuestion.contains(albums[0]);\n            if (isFound0) {\n                System.out.println(&quot;tysm! i love &quot; + (albums[0]) + &quot; as well!&quot;);\n            }\n</code></pre>\n"},{"tags":["java","encoding","mime-types"],"answers":[{"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646689390,"creation_date":1646689390,"answer_id":71387595,"question_id":71383383,"body_markdown":"I think you have to look elsewhere to find the cause of your troubles. A simple test shows that `MimeUtility.encodeText` works as expected.\r\n\r\n```lang-java\r\nimport javax.mail.internet.MimeUtility;\r\n\r\n// To get required dependency:\r\n// mvn dependency:copy -Dartifact=com.sun.mail:jakarta.mail:1.6.7 -DoutputDirectory=.\r\npublic class Q71383383 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tfinal String fname = &quot;Action-41080-Cmd_Rapp&#233;rt-20220301_094222.xml&quot;;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tvar encoded = MimeUtility.encodeText(fname);\r\n\t\t\t// =?UTF-8?Q?Action-41080-Cmd=5FRapp=C3=A9rt-20220301=5F094222.xml?=\r\n\t\t\tSystem.out.println(encoded);\r\n\t\t\tvar decoded = MimeUtility.decodeText(encoded);\r\n\t\t\tSystem.out.println(decoded);\r\n\t\t\tSystem.out.println(fname);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"MimeMessageHelper encode text does not encode correctly some strings","body":"<p>I think you have to look elsewhere to find the cause of your troubles. A simple test shows that <code>MimeUtility.encodeText</code> works as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.mail.internet.MimeUtility;\n\n// To get required dependency:\n// mvn dependency:copy -Dartifact=com.sun.mail:jakarta.mail:1.6.7 -DoutputDirectory=.\npublic class Q71383383 {\n\n    public static void main(String[] args) {\n        \n        final String fname = &quot;Action-41080-Cmd_Rappért-20220301_094222.xml&quot;;\n        \n        try {\n            var encoded = MimeUtility.encodeText(fname);\n            // =?UTF-8?Q?Action-41080-Cmd=5FRapp=C3=A9rt-20220301=5F094222.xml?=\n            System.out.println(encoded);\n            var decoded = MimeUtility.decodeText(encoded);\n            System.out.println(decoded);\n            System.out.println(fname);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3887716,"reputation":53,"user_id":3218683,"display_name":"user3218683"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646689390,"creation_date":1646666790,"question_id":71383383,"body_markdown":"I&#39;m having a method where the MimeMessageHelper is used to add attachments to the MimeMessage.\r\n\r\nTo do that, the following code is used : \r\n```\r\nhelper.addAttachment(fileName, new ConstantByteArrayInputStreamSource(doc), contentType);\r\n```\r\n\r\nThe weird part is that some of the file names are not correctly inserted. For example, the following name &quot;**Action-41080-Cmd_Rapp&#233;rt-20220301_094222.xml**&quot; results in the following file name : \r\n**=UTF-8QAction=5F41080=5FCmd=5FRapp=C3=A9rt=5F20220301=5F=** which is obviously not what I want.\r\n\r\nSo i thought the accent was the issue but when I run with &quot;**Action_41080_Cmd_Rapp&#233;rt**&quot; it works. \r\n\r\nAnd if I remove the accent (**Action-41080-Cmd_Rapport-20220301_094222.xml**) it works.\r\n\r\nThe problem comes from the encodeText part in the MimeUtility which appears to have troubles with this particular string.\r\n\r\nThanks for your time,\r\n\r\nIf anyone has an idea.","title":"MimeMessageHelper encode text does not encode correctly some strings","body":"<p>I'm having a method where the MimeMessageHelper is used to add attachments to the MimeMessage.</p>\n<p>To do that, the following code is used :</p>\n<pre><code>helper.addAttachment(fileName, new ConstantByteArrayInputStreamSource(doc), contentType);\n</code></pre>\n<p>The weird part is that some of the file names are not correctly inserted. For example, the following name &quot;<strong>Action-41080-Cmd_Rappért-20220301_094222.xml</strong>&quot; results in the following file name :\n<strong>=UTF-8QAction=5F41080=5FCmd=5FRapp=C3=A9rt=5F20220301=5F=</strong> which is obviously not what I want.</p>\n<p>So i thought the accent was the issue but when I run with &quot;<strong>Action_41080_Cmd_Rappért</strong>&quot; it works.</p>\n<p>And if I remove the accent (<strong>Action-41080-Cmd_Rapport-20220301_094222.xml</strong>) it works.</p>\n<p>The problem comes from the encodeText part in the MimeUtility which appears to have troubles with this particular string.</p>\n<p>Thanks for your time,</p>\n<p>If anyone has an idea.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":295621,"reputation":28149,"user_id":600135,"accept_rate":80,"display_name":"kol"},"score":0,"creation_date":1354527801,"post_id":13679895,"comment_id":18780444,"body_markdown":"http://stackoverflow.com/questions/9838884/is-javafx-a-choice-for-dynamic-gui-for-desktop-or-standalone-applications","body":"<a href=\"http://stackoverflow.com/questions/9838884/is-javafx-a-choice-for-dynamic-gui-for-desktop-or-standalone-applications\" title=\"is javafx a choice for dynamic gui for desktop or standalone applications\">stackoverflow.com/questions/9838884/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1354530170,"post_id":13679895,"comment_id":18781447,"body_markdown":"[JavaFX for Presentation Layer in Standalone Desktop App](http://stackoverflow.com/questions/13360274/javafx-for-presentation-layer-in-standalone-desktop-app)","body":"<a href=\"http://stackoverflow.com/questions/13360274/javafx-for-presentation-layer-in-standalone-desktop-app\">JavaFX for Presentation Layer in Standalone Desktop App</a>"}],"answers":[{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1646689356,"creation_date":1354529309,"answer_id":13680998,"question_id":13679895,"body_markdown":"JavaFX has support for creating standalone native packages. \r\n\r\nSee https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html#BCGIBBCI","title":"Standalone JavaFX application","body":"<p>JavaFX has support for creating standalone native packages.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html#BCGIBBCI\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/self-contained-packaging.html#BCGIBBCI</a></p>\n"}],"owner":{"account_id":981262,"reputation":2834,"user_id":1000918,"accept_rate":82,"display_name":"Queequeg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6254,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":13680998,"answer_count":1,"score":5,"last_activity_date":1646689356,"creation_date":1354524956,"question_id":13679895,"body_markdown":"Is it possible to create a standalone, executable JAR that uses `JavaFX` for it&#39;s `GUI`?\r\n\r\nI want to create an application and send it to a friend that has only the `JRE 6` installed.\r\n\r\nPlease note, that the solution has to be compatible with either Maven or Gradle.\r\n\r\n","title":"Standalone JavaFX application","body":"<p>Is it possible to create a standalone, executable JAR that uses <code>JavaFX</code> for it's <code>GUI</code>?</p>\n\n<p>I want to create an application and send it to a friend that has only the <code>JRE 6</code> installed.</p>\n\n<p>Please note, that the solution has to be compatible with either Maven or Gradle.</p>\n"},{"tags":["java","swing","awt","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":17143372,"reputation":1,"user_id":12406852,"display_name":"Berry Madison"},"score":0,"creation_date":1646233270,"post_id":71323318,"comment_id":126072847,"body_markdown":"I found the issue.. &quot;panel.setSize(500,300);&quot;.. .setPreferedSize(new Dimension(500,300)) solved the issue... and now i packed it too.. u can close the question admin..","body":"I found the issue.. &quot;panel.setSize(500,300);&quot;.. .setPreferedSize(new Dimension(500,300)) solved the issue... and now i packed it too.. u can close the question admin.."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1646233663,"post_id":71323318,"comment_id":126073023,"body_markdown":"Why are you using GridBagLayout when you’re only adding one component?  You probably want to use BorderLayout for `backPanel`.","body":"Why are you using GridBagLayout when you’re only adding one component?  You probably want to use BorderLayout for <code>backPanel</code>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1646241579,"post_id":71323318,"comment_id":126076407,"body_markdown":"*&quot;`panel.setSize(500,300);&quot;.. .setPreferedSize(new Dimension(500,300))` solved the issue&quot;* Actually it didn&#39;t, it just helped hid the problem for a while. The problem starts here: `panel.setLayout(null);` If you wish to pursue this to a robust solution, [edit] to add a [mre]. (I.E. copy/paste the `main` method to allow people to (compile &amp;) run the code without change.) It would also help to provide ASCII art or simple drawing of the GUI at minimum size and when made larger.","body":"<i>&quot;<code>panel.setSize(500,300);&quot;.. .setPreferedSize(new Dimension(500,300))</code> solved the issue&quot;</i> Actually it didn&#39;t, it just helped hid the problem for a while. The problem starts here: <code>panel.setLayout(null);</code> If you wish to pursue this to a robust solution, <a href=\"https://stackoverflow.com/posts/71323318/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. (I.E. copy/paste the <code>main</code> method to allow people to (compile &amp;) run the code without change.) It would also help to provide ASCII art or simple drawing of the GUI at minimum size and when made larger."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1646242519,"post_id":71323318,"comment_id":126076780,"body_markdown":"For something like seen in a [screenshot of your code](https://i.stack.imgur.com/aIMub.png) I would suggest: 1) Use a modal dialog, or more specifically in this case, a `JOptionPane`, to present the login fields and labels. 2) Expand &#39;CTC Bank&#39; to &#39;CTC Bank Login&#39; and use that as the title for the option pane. 3) Define the &#39;Login&#39; and &#39;Register&#39; buttons as the two options for the option pane. 4) Layout the label - field pairs using a `GridBagLayout` in a `JPanel` 5) Use that panel as the component the option pane displays.","body":"For something like seen in a <a href=\"https://i.stack.imgur.com/aIMub.png\" rel=\"nofollow noreferrer\">screenshot of your code</a> I would suggest: 1) Use a modal dialog, or more specifically in this case, a <code>JOptionPane</code>, to present the login fields and labels. 2) Expand &#39;CTC Bank&#39; to &#39;CTC Bank Login&#39; and use that as the title for the option pane. 3) Define the &#39;Login&#39; and &#39;Register&#39; buttons as the two options for the option pane. 4) Layout the label - field pairs using a <code>GridBagLayout</code> in a <code>JPanel</code> 5) Use that panel as the component the option pane displays."}],"answers":[{"tags":[],"owner":{"account_id":6880814,"reputation":107,"user_id":5287589,"display_name":"hobgoblin"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1646689256,"creation_date":1646245515,"answer_id":71327487,"question_id":71323318,"body_markdown":"The layout of backPanel will mis-calculate the dimensions of &quot;panel&quot; because &quot;panel&quot; does not participate in layout management properly, without a layout manager of its own.\r\n\r\nOne solution to this is to use setLayout(null) also on the &quot;backPanel&quot;, or add &quot;panel&quot; directly to the JFrame.\r\n\r\nWith the first suggestion (&quot;backPanel.setLayout(null);&quot; just after it is created), plus the following main method:\r\n\r\n        public static void main(String[] args) {\r\n    \t    new LoginFrame();\r\n        }\r\n\r\nI get this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tqtrK.png","title":"Why doesn&#39;t a panel with GridBagLayout show the content?","body":"<p>The layout of backPanel will mis-calculate the dimensions of &quot;panel&quot; because &quot;panel&quot; does not participate in layout management properly, without a layout manager of its own.</p>\n<p>One solution to this is to use setLayout(null) also on the &quot;backPanel&quot;, or add &quot;panel&quot; directly to the JFrame.</p>\n<p>With the first suggestion (&quot;backPanel.setLayout(null);&quot; just after it is created), plus the following main method:</p>\n<pre><code>    public static void main(String[] args) {\n        new LoginFrame();\n    }\n</code></pre>\n<p>I get this:</p>\n<p><a href=\"https://i.stack.imgur.com/tqtrK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tqtrK.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17143372,"reputation":1,"user_id":12406852,"display_name":"Berry Madison"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646689256,"creation_date":1646226852,"question_id":71323318,"body_markdown":"I wrote a little something here. It&#39;s working if I don&#39;t `backPanel.setLayout(new GridBagLayout);`\r\n\r\nBut without the grid bag, the content stays in the top left I maximise the screen.\r\n\r\nWith the grid bag I only get the red `backPanel` in the frame. Well, there is a gray pixel in the middle of the screen. I&#39;m assuming that&#39;s my panel, but I can&#39;t make it bigger. I tried setSize but it doesn&#39;t change. Also, I had the `panel.setBounds(0, 0, getWidth(),getHeight());`. I&#39;m not sure why I removed it. \r\n\r\nMy main is in the other file. The only thing it does at the moment is to call the `LoginFrame`.\r\n\r\n### Here is the code:\r\n\r\n```\r\npackage first;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\n\r\nimport javax.swing.InputMap;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JPasswordField;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.KeyStroke;\r\n\r\npublic class LoginFrame extends JFrame implements ActionListener {\r\n\r\n\tprivate JTextField textField;\r\n\tprivate JPasswordField passwordField;\r\n\r\n\tpublic LoginFrame() {\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tsetSize(500, 300);\r\n\r\n\t\tJPanel backPanel = new JPanel(new GridBagLayout());\r\n\t\tbackPanel.setBackground(Color.RED);\r\n\t\t\r\n\t\tJPanel panel = new JPanel();\r\n\t\tpanel.setSize(500, 300);\r\n\t\tpanel.setBackground(Color.LIGHT_GRAY);\r\n\t\tpanel.setLayout(null);\r\n\r\n\t\tJLabel label;\r\n\t\tpanel.add(label = new JLabel(&quot;Username:&quot;));\r\n\t\tlabel.setBounds(20, 100, 100, 25);\r\n\r\n\t\tpanel.add(textField = new JTextField());\r\n\t\ttextField.setBounds(140, 100, 200, 25);\r\n\r\n\t\tpanel.add(label = new JLabel(&quot;Password:&quot;));\r\n\t\tlabel.setBounds(20, 145, 100, 25);\r\n\r\n\t\tpanel.add(passwordField = new JPasswordField());\r\n\t\tpasswordField.setBounds(140, 145, 200, 25);\r\n\r\n\t\tpanel.add(label = new JLabel(&quot;CTC Bank&quot;));\r\n\t\tlabel.setFont(new Font(&quot;New Times Roman&quot;, Font.BOLD, 50));\r\n\t\tlabel.setBounds(0, 0, getWidth(), 100);\r\n\t\tlabel.setHorizontalAlignment(JLabel.CENTER);\r\n\r\n\t\tJButton button;\r\n\t\tpanel.add(button = new JButton(&quot;Login&quot;));\r\n\t\tbutton.setBounds(140, 200, 100, 25);\r\n\t\tbutton.addActionListener(this);\r\n\t\tbutton = defaultActionKeyEnter(button, KeyEvent.VK_ENTER);\r\n\r\n\t\tpanel.add(button = new JButton(&quot;Register&quot;));\r\n\t\tbutton.setBounds(240, 200, 100, 25);\r\n\t\tbutton.addActionListener(this);\r\n\t\tbutton = defaultActionKeyEnter(button, KeyEvent.VK_ENTER);\r\n\t\t\r\n\t\t\r\n\t\t//add(panel);\r\n\t\tbackPanel.add(panel);\r\n\t\tadd(backPanel, BorderLayout.CENTER);\r\n\t\trevalidate();\r\n\t\trepaint();\r\n\t\tsetLocationRelativeTo(null);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tpublic static JButton defaultActionKeyEnter(JButton button, int desiredKeyCode) {\r\n\r\n\t\tInputMap inputMap = button.getInputMap(JComponent.WHEN_FOCUSED);\r\n\r\n\t\tKeyStroke spaceKeyPressed = KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false);\r\n\t\tKeyStroke spaceKeyReleased = KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true);\r\n\r\n\t\tKeyStroke desiredKeyPressed = KeyStroke.getKeyStroke(desiredKeyCode, 0, false);\r\n\t\tKeyStroke desiredKeyReleased = KeyStroke.getKeyStroke(desiredKeyCode, 0, true);\r\n\r\n\t\tinputMap.put(desiredKeyPressed, inputMap.get(spaceKeyPressed));\r\n\t\tinputMap.put(desiredKeyReleased, inputMap.get(spaceKeyReleased));\r\n\r\n\t\tinputMap.put(spaceKeyPressed, &quot;none&quot;);\r\n\t\tinputMap.put(spaceKeyReleased, &quot;none&quot;);\r\n\r\n\t\treturn button;\r\n\t}\r\n\t\r\n\t// Unfinished code dont worry bout it...\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (e.getActionCommand().equals(&quot;Login&quot;)) {\r\n\t\t\tif (textField.getText().equals(&quot;Heinz&quot;)\r\n\t\t\t\t\t&amp;&amp; (new String(passwordField.getPassword()).equals(&quot;password123&quot;))) {\r\n\t\t\t\t// color = Color.GREEN;\r\n\t\t\t} else {\r\n\t\t\t\tJOptionPane.showMessageDialog(this, &quot;Wrong Username or Password&quot;, &quot;Error&quot;, JOptionPane.WARNING_MESSAGE);\r\n\t\t\t\t// color = Color.RED;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tJOptionPane.showMessageDialog(this, &quot;Cya&quot;);\r\n\t\t\tdispose();\r\n\t\t\tsetVisible(false);\r\n\t\t}\r\n\t\t// panel.setBackground(color);\r\n\t}\r\n}\r\n```\r\n\r\nI have seen questions about this but none of the answers were helpful in my case. \r\n\r\nCalling the following didn&#39;t help. \r\n\r\n    revalidate();\r\n    repaint();\r\n\r\nDid I maybe add it in the wrong order?\r\n\r\nAnd how does the code look like to you? Would you consider this clean?","title":"Why doesn&#39;t a panel with GridBagLayout show the content?","body":"<p>I wrote a little something here. It's working if I don't <code>backPanel.setLayout(new GridBagLayout);</code></p>\n<p>But without the grid bag, the content stays in the top left I maximise the screen.</p>\n<p>With the grid bag I only get the red <code>backPanel</code> in the frame. Well, there is a gray pixel in the middle of the screen. I'm assuming that's my panel, but I can't make it bigger. I tried setSize but it doesn't change. Also, I had the <code>panel.setBounds(0, 0, getWidth(),getHeight());</code>. I'm not sure why I removed it.</p>\n<p>My main is in the other file. The only thing it does at the moment is to call the <code>LoginFrame</code>.</p>\n<h3>Here is the code:</h3>\n<pre><code>package first;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.InputMap;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\nimport javax.swing.KeyStroke;\n\npublic class LoginFrame extends JFrame implements ActionListener {\n\n    private JTextField textField;\n    private JPasswordField passwordField;\n\n    public LoginFrame() {\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setSize(500, 300);\n\n        JPanel backPanel = new JPanel(new GridBagLayout());\n        backPanel.setBackground(Color.RED);\n        \n        JPanel panel = new JPanel();\n        panel.setSize(500, 300);\n        panel.setBackground(Color.LIGHT_GRAY);\n        panel.setLayout(null);\n\n        JLabel label;\n        panel.add(label = new JLabel(&quot;Username:&quot;));\n        label.setBounds(20, 100, 100, 25);\n\n        panel.add(textField = new JTextField());\n        textField.setBounds(140, 100, 200, 25);\n\n        panel.add(label = new JLabel(&quot;Password:&quot;));\n        label.setBounds(20, 145, 100, 25);\n\n        panel.add(passwordField = new JPasswordField());\n        passwordField.setBounds(140, 145, 200, 25);\n\n        panel.add(label = new JLabel(&quot;CTC Bank&quot;));\n        label.setFont(new Font(&quot;New Times Roman&quot;, Font.BOLD, 50));\n        label.setBounds(0, 0, getWidth(), 100);\n        label.setHorizontalAlignment(JLabel.CENTER);\n\n        JButton button;\n        panel.add(button = new JButton(&quot;Login&quot;));\n        button.setBounds(140, 200, 100, 25);\n        button.addActionListener(this);\n        button = defaultActionKeyEnter(button, KeyEvent.VK_ENTER);\n\n        panel.add(button = new JButton(&quot;Register&quot;));\n        button.setBounds(240, 200, 100, 25);\n        button.addActionListener(this);\n        button = defaultActionKeyEnter(button, KeyEvent.VK_ENTER);\n        \n        \n        //add(panel);\n        backPanel.add(panel);\n        add(backPanel, BorderLayout.CENTER);\n        revalidate();\n        repaint();\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    public static JButton defaultActionKeyEnter(JButton button, int desiredKeyCode) {\n\n        InputMap inputMap = button.getInputMap(JComponent.WHEN_FOCUSED);\n\n        KeyStroke spaceKeyPressed = KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false);\n        KeyStroke spaceKeyReleased = KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true);\n\n        KeyStroke desiredKeyPressed = KeyStroke.getKeyStroke(desiredKeyCode, 0, false);\n        KeyStroke desiredKeyReleased = KeyStroke.getKeyStroke(desiredKeyCode, 0, true);\n\n        inputMap.put(desiredKeyPressed, inputMap.get(spaceKeyPressed));\n        inputMap.put(desiredKeyReleased, inputMap.get(spaceKeyReleased));\n\n        inputMap.put(spaceKeyPressed, &quot;none&quot;);\n        inputMap.put(spaceKeyReleased, &quot;none&quot;);\n\n        return button;\n    }\n    \n    // Unfinished code dont worry bout it...\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getActionCommand().equals(&quot;Login&quot;)) {\n            if (textField.getText().equals(&quot;Heinz&quot;)\n                    &amp;&amp; (new String(passwordField.getPassword()).equals(&quot;password123&quot;))) {\n                // color = Color.GREEN;\n            } else {\n                JOptionPane.showMessageDialog(this, &quot;Wrong Username or Password&quot;, &quot;Error&quot;, JOptionPane.WARNING_MESSAGE);\n                // color = Color.RED;\n            }\n        } else {\n            JOptionPane.showMessageDialog(this, &quot;Cya&quot;);\n            dispose();\n            setVisible(false);\n        }\n        // panel.setBackground(color);\n    }\n}\n</code></pre>\n<p>I have seen questions about this but none of the answers were helpful in my case.</p>\n<p>Calling the following didn't help.</p>\n<pre><code>revalidate();\nrepaint();\n</code></pre>\n<p>Did I maybe add it in the wrong order?</p>\n<p>And how does the code look like to you? Would you consider this clean?</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646684471,"post_id":71386297,"comment_id":126180387,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646685078,"creation_date":1646685078,"answer_id":71386934,"question_id":71386297,"body_markdown":"You can do it like this, and if you want a bigger or smaller triangle, adjust the value of the variable *numberOfRows*.\r\n\r\n        Integer numberOfRows = 8;\r\n\r\n        for (int i = numberOfRows; i &gt; 0; i--) {\r\n            for (int k = 0; k &lt; numberOfRows - i; k++) {\r\n                System.out.print(&quot;  &quot;);\r\n            }\r\n            for (int j = 1; j &lt;= i; j++) {\r\n                System.out.print(j + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\nThere are cleaner and better ways of doing this, but that should do the job.\r\n\r\n 1. The **first loop** takes care of displaying the right amount of rows, iterating through *numberOfRows*.\r\n\r\n 2. The **second loop** takes care of displaying spaces before each row, according \r\n to the image. Each row have an increasing amount of spaces before the row starts, \r\n so for the first one we have zero spaces before, for the second, we have one and so \r\n on. So the value that increases according to this logic as the i value change, is \r\n the difference between *numberOfRows and the value i*.\r\n\r\n 3. The **third loop** takes care of displaying the right amount of numbers in each \r\n row. The first row should have the same amount of numbers as the number of \r\n rows. So increasing the row number by one, we&#39;ll need to decrease the amount\r\n of numbers in the current row.\r\n\r\n\r\n","title":"How do I create the triangle as in the given picture?","body":"<p>You can do it like this, and if you want a bigger or smaller triangle, adjust the value of the variable <em>numberOfRows</em>.</p>\n<pre><code>    Integer numberOfRows = 8;\n\n    for (int i = numberOfRows; i &gt; 0; i--) {\n        for (int k = 0; k &lt; numberOfRows - i; k++) {\n            System.out.print(&quot;  &quot;);\n        }\n        for (int j = 1; j &lt;= i; j++) {\n            System.out.print(j + &quot; &quot;);\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>There are cleaner and better ways of doing this, but that should do the job.</p>\n<ol>\n<li><p>The <strong>first loop</strong> takes care of displaying the right amount of rows, iterating through <em>numberOfRows</em>.</p>\n</li>\n<li><p>The <strong>second loop</strong> takes care of displaying spaces before each row, according\nto the image. Each row have an increasing amount of spaces before the row starts,\nso for the first one we have zero spaces before, for the second, we have one and so\non. So the value that increases according to this logic as the i value change, is\nthe difference between <em>numberOfRows and the value i</em>.</p>\n</li>\n<li><p>The <strong>third loop</strong> takes care of displaying the right amount of numbers in each\nrow. The first row should have the same amount of numbers as the number of\nrows. So increasing the row number by one, we'll need to decrease the amount\nof numbers in the current row.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11520020,"reputation":37,"user_id":8442130,"display_name":"harbk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646686090,"creation_date":1646686090,"answer_id":71387082,"question_id":71386297,"body_markdown":"\r\n        int x = 8;\r\n        int y = -1;\r\n        for (int i = 1; i&lt;=8; i++){\r\n            for (int j = 0; j &lt;=y; j++) {\r\n                System.out.print(&quot;  &quot;);\r\n\r\n            }\r\n            for (int j = 1; j &lt;= x; j++) {\r\n                System.out.print(j  + &quot; &quot;);\r\n            }\r\n            x--;\r\n            y++;\r\n            System.out.println();\r\n        }","title":"How do I create the triangle as in the given picture?","body":"<pre><code>    int x = 8;\n    int y = -1;\n    for (int i = 1; i&lt;=8; i++){\n        for (int j = 0; j &lt;=y; j++) {\n            System.out.print(&quot;  &quot;);\n\n        }\n        for (int j = 1; j &lt;= x; j++) {\n            System.out.print(j  + &quot; &quot;);\n        }\n        x--;\n        y++;\n        System.out.println();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13555211,"reputation":59,"user_id":13900113,"display_name":"Sandmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646688034,"creation_date":1646688034,"answer_id":71387399,"question_id":71386297,"body_markdown":"You can do it like this: \r\n\r\n    for(int i = 1; i &lt;= 8; i++){\r\n        for(int j = 2; j &lt;= 9; j++){\r\n            int k = j - i;\r\n            if(k &gt; 0) System.out.print(k + &quot; &quot;);\r\n            else System.out.print(&quot;  &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nA bit shorter is that (with use of the Ternary Operator)\r\n\r\n    for(int i = 1; i &lt;= 8; i++){\r\n        for(int j = 2; j &lt;= 9; j++){\r\n            int k = j - i;\r\n            System.out.print(k &gt; 0 ? k + &quot; &quot; : &quot;  &quot;);\r\n        }\r\n        System.out.println();\r\n    }  \r\n\r\n","title":"How do I create the triangle as in the given picture?","body":"<p>You can do it like this:</p>\n<pre><code>for(int i = 1; i &lt;= 8; i++){\n    for(int j = 2; j &lt;= 9; j++){\n        int k = j - i;\n        if(k &gt; 0) System.out.print(k + &quot; &quot;);\n        else System.out.print(&quot;  &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>A bit shorter is that (with use of the Ternary Operator)</p>\n<pre><code>for(int i = 1; i &lt;= 8; i++){\n    for(int j = 2; j &lt;= 9; j++){\n        int k = j - i;\n        System.out.print(k &gt; 0 ? k + &quot; &quot; : &quot;  &quot;);\n    }\n    System.out.println();\n}  \n</code></pre>\n"}],"owner":{"account_id":24206712,"reputation":15,"user_id":18233945,"display_name":"mama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71386934,"answer_count":3,"score":-1,"last_activity_date":1646688034,"creation_date":1646681317,"question_id":71386297,"body_markdown":"Triangle\r\n  [1]: https://i.stack.imgur.com/dTJkc.png\r\n\r\nI am not able to get the image with my code.\r\nHelp.\r\n\r\n```for (int row=1; row &lt;= size; row++) {\r\n\tfor (int col=1; col&lt;=size; col++) {\r\n\t\t    if(col &gt;=row || col==row)    {\r\n\t\t\tSystem.out.print(col );\r\n\t\t}else {\r\n\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\tSystem.out.println();\r\n}```","title":"How do I create the triangle as in the given picture?","body":"<p>Triangle\n[1]: <a href=\"https://i.stack.imgur.com/dTJkc.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/dTJkc.png</a></p>\n<p>I am not able to get the image with my code.\nHelp.</p>\n<pre><code>    for (int col=1; col&lt;=size; col++) {\n            if(col &gt;=row || col==row)    {\n            System.out.print(col );\n        }else {\n            System.out.print(&quot; &quot;);\n        }\n    }\n    System.out.println();\n}```\n</code></pre>\n"},{"tags":["java","postgresql","jpa","ejb"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1646050749,"post_id":71294834,"comment_id":126021147,"body_markdown":"Use either `?0` for positional parameters or `:startID` for named parameters.","body":"Use either <code>?0</code> for positional parameters or <code>:startID</code> for named parameters."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646062354,"creation_date":1646062354,"answer_id":71297355,"question_id":71294834,"body_markdown":"You must use : not ?\r\n\r\n    DELETE FROM ContainerTypeRule WHERE rule_id &gt; :startID","title":"How to delete records in JPA with greater than condition?","body":"<p>You must use : not ?</p>\n<pre><code>DELETE FROM ContainerTypeRule WHERE rule_id &gt; :startID\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17895657,"reputation":54,"user_id":13001346,"display_name":"zahraa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646687951,"creation_date":1646687951,"answer_id":71387384,"question_id":71294834,"body_markdown":"- The problem is in writing the query parameters.\r\n\r\n 1. You can either use *positional parameters* and use **&#39;?&#39;**. **ex:** `DELETE FROM ContainerTypeRule WHERE rule_id &gt; :startID`\r\n\r\n 2. Or you can use *named parameters* and use **&#39;:&#39;**.\r\n**ex:** `DELETE FROM ContainerTypeRule WHERE rule_id &gt; ?1`\r\n\r\n\r\n\r\n- for more info: https://www.baeldung.com/jpa-query-parameters","title":"How to delete records in JPA with greater than condition?","body":"<ul>\n<li>The problem is in writing the query parameters.</li>\n</ul>\n<ol>\n<li><p>You can either use <em>positional parameters</em> and use <strong>'?'</strong>. <strong>ex:</strong> <code>DELETE FROM ContainerTypeRule WHERE rule_id &gt; :startID</code></p>\n</li>\n<li><p>Or you can use <em>named parameters</em> and use <strong>':'</strong>.\n<strong>ex:</strong> <code>DELETE FROM ContainerTypeRule WHERE rule_id &gt; ?1</code></p>\n</li>\n</ol>\n<ul>\n<li>for more info: <a href=\"https://www.baeldung.com/jpa-query-parameters\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-query-parameters</a></li>\n</ul>\n"}],"owner":{"account_id":14113074,"reputation":21,"user_id":10195419,"display_name":"Vishal codeshark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1646687951,"creation_date":1646050294,"question_id":71294834,"body_markdown":"I want to delete the records from a PGSQL database table(ContainerTypeRule) whose id(rule_id) is greater than 10000.\r\nI am creating a query in JPA like as follows \r\n \r\n```\r\npublic void deleteAllTestRules(long startID){\r\n    em.createQuery(&quot;DELETE FROM ContainerTypeRule WHERE rule_id &gt; ?startID&quot;, ContainerTypeRule.class)\r\n            .setParameter(&quot;startID&quot;, startID)\r\n            .executeUpdate();\r\n}\r\n```\r\nBut I am getting the error like this.\r\n```\r\njavax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager: \r\nException Description: Syntax error parsing [DELETE FROM ContainerTypeRule WHERE rule_id &gt; ?startID]. \r\n[46, 54] The positional input parameter &#39;&#39;{0}&#39;&#39; cannot use non-Integer characters.\r\n```\r\n \r\nHow can I formulate correct query for &#39;id greater than 10000&#39; condition in my JPA query.\r\n","title":"How to delete records in JPA with greater than condition?","body":"<p>I want to delete the records from a PGSQL database table(ContainerTypeRule) whose id(rule_id) is greater than 10000.\nI am creating a query in JPA like as follows</p>\n<pre><code>public void deleteAllTestRules(long startID){\n    em.createQuery(&quot;DELETE FROM ContainerTypeRule WHERE rule_id &gt; ?startID&quot;, ContainerTypeRule.class)\n            .setParameter(&quot;startID&quot;, startID)\n            .executeUpdate();\n}\n</code></pre>\n<p>But I am getting the error like this.</p>\n<pre><code>javax.ejb.TransactionRolledbackLocalException: Exception thrown from bean: java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager: \nException Description: Syntax error parsing [DELETE FROM ContainerTypeRule WHERE rule_id &gt; ?startID]. \n[46, 54] The positional input parameter ''{0}'' cannot use non-Integer characters.\n</code></pre>\n<p>How can I formulate correct query for 'id greater than 10000' condition in my JPA query.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646687054,"creation_date":1646687054,"answer_id":71387246,"question_id":71387222,"body_markdown":"From [the page you linked](https://openjdk.java.net/jeps/330)\r\n\r\n&gt; Source-file mode requires the presence of the jdk.compiler module. \r\n\r\nYou&#39;re going to need the JDK compiler module to use this new feature.","title":"Export/reuse Java 11 &quot;Single-File Source-Code&quot; in-memory class","body":"<p>From <a href=\"https://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\">the page you linked</a></p>\n<blockquote>\n<p>Source-file mode requires the presence of the jdk.compiler module.</p>\n</blockquote>\n<p>You're going to need the JDK compiler module to use this new feature.</p>\n"}],"owner":{"account_id":1110325,"reputation":863,"user_id":1100913,"accept_rate":33,"display_name":"Andrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71387246,"answer_count":1,"score":0,"last_activity_date":1646687054,"creation_date":1646686916,"question_id":71387222,"body_markdown":"Java 11 introduced a new feature [JEP 330][1], called &quot;Single-File Source-Code Execution&quot;.  \r\nI was wondering: Do I need a JDK 11 for it or JRE 11 will be sufficient?\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/330","title":"Export/reuse Java 11 &quot;Single-File Source-Code&quot; in-memory class","body":"<p>Java 11 introduced a new feature <a href=\"https://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\">JEP 330</a>, called &quot;Single-File Source-Code Execution&quot;.<br />\nI was wondering: Do I need a JDK 11 for it or JRE 11 will be sufficient?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646684768,"post_id":71386777,"comment_id":126180474,"body_markdown":"Are you expecting to loop X number of times to collect numbers and characters from user?","body":"Are you expecting to loop X number of times to collect numbers and characters from user?"},{"owner":{"account_id":23360371,"reputation":3,"user_id":17432712,"display_name":"Aishat Taylor"},"score":0,"creation_date":1646685010,"post_id":71386777,"comment_id":126180538,"body_markdown":"Since i&#39;m trying to collect keyboard inputs from the user I guess there would be an amount expected so the numbers on the keyboard plus symbols such as the alphabet or , ! @ . etc.","body":"Since i&#39;m trying to collect keyboard inputs from the user I guess there would be an amount expected so the numbers on the keyboard plus symbols such as the alphabet or , ! @ . etc."},{"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"score":0,"creation_date":1646686758,"post_id":71386777,"comment_id":126181064,"body_markdown":"You should remove `this.` from your constructor. In fact, you should remove the constructor altogether since it doesn&#39;t make sense with static-only fields. Also, the `compareTo` method will always return 0 since `this.numeric` and `o.numeric` will always be the same and `this.getSymbol()` and `o.getSymbol()` will always be the same.","body":"You should remove <code>this.</code> from your constructor. In fact, you should remove the constructor altogether since it doesn&#39;t make sense with static-only fields. Also, the <code>compareTo</code> method will always return 0 since <code>this.numeric</code> and <code>o.numeric</code> will always be the same and <code>this.getSymbol()</code> and <code>o.getSymbol()</code> will always be the same."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646687755,"post_id":71386777,"comment_id":126181346,"body_markdown":"I could argue the `MyInputInfo` class is not really needed. At least not for this problem. @AishatTaylor is my answer satisfactory or do you need to group all the numbers and characters together regardless of input order?","body":"I could argue the <code>MyInputInfo</code> class is not really needed. At least not for this problem. @AishatTaylor is my answer satisfactory or do you need to group all the numbers and characters together regardless of input order?"},{"owner":{"account_id":23360371,"reputation":3,"user_id":17432712,"display_name":"Aishat Taylor"},"score":0,"creation_date":1646688641,"post_id":71386777,"comment_id":126181606,"body_markdown":"How should I go about fixing my compareTo method as I tried to do it so it would sort numerical values before character inputs? sorry if code seems all over the place this is just some java exercises I&#39;m doing. Also the MyInputInfo class is there because I need to store whether the keyboad inputs are numerical or char values. and my toString method is there for later usage in another class.","body":"How should I go about fixing my compareTo method as I tried to do it so it would sort numerical values before character inputs? sorry if code seems all over the place this is just some java exercises I&#39;m doing. Also the MyInputInfo class is there because I need to store whether the keyboad inputs are numerical or char values. and my toString method is there for later usage in another class."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646689438,"post_id":71386777,"comment_id":126181835,"body_markdown":"@AishatTaylor to sort, create two tables, one for numbers and one for characters, and reuse the logic of the second solution. You can then work on adding the elements of each list into a `StringBuilder`","body":"@AishatTaylor to sort, create two tables, one for numbers and one for characters, and reuse the logic of the second solution. You can then work on adding the elements of each list into a <code>StringBuilder</code>"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646686863,"creation_date":1646686863,"answer_id":71387212,"question_id":71386777,"body_markdown":"There are two options:\r\n\r\n 1. Obtain numbers and chars in predictable order\r\n 2. Obtain numbers and chars in random order\r\n\r\n## Obtain numbers and chars in predictable order ##\r\n```\r\npublic static void main(String[] args) {\r\n\tScanner scanner = new Scanner(System.in);\r\n\tSystem.out.print(&quot;Enter number of iterations: &quot;);\r\n\tint count = scanner.nextInt();\r\n\t\r\n\tStringBuilder buffer = new StringBuilder();\r\n\tfor (int i = 0; i &lt; count; i++) {\r\n\t\tSystem.out.print(&quot;\\nEnter a floating point number: &quot;);\r\n\t\tbuffer.append(scanner.nextDouble() + &quot; &quot;);\r\n\t\tSystem.out.print(&quot;\\nEnter a character: &quot;);\r\n\t\tbuffer.append(scanner.next().charAt(0) + &quot; &quot;);\r\n\t}\r\n\tscanner.close();\r\n\tString output = buffer.toString().trim().replaceAll(&quot; &quot;, &quot;, &quot;);\r\n\tSystem.out.println(output);\r\n}\r\n```\r\nIf you enter `1 a 2 b 3 c 4 d 5 e`, the output will look like this \r\n```\r\n1.0, a, 2.0, b, 3.0, c, 4.0, d, 5.0, e\r\n```\r\nIt&#39;s really that simple. The key is to use `StringBuilder` to &quot;stage&quot; the input and then convert all of the individual inputs into a single `String` output. To make it easier to remove the last comma, I just separated the entries by spaces, trimmed the string to remove the last space, and then prepended the remaining spaces with a comma.\r\n## Obtain numbers and chars in random order ##\r\nThis solution is similar, but in this case, just capture the input as a `String` and then figure out if the input is numeric or not. If it is not numeric, then it is a character.\r\n```\r\npublic static void main(String[] args) {\r\n\tScanner scanner = new Scanner(System.in);\r\n\tSystem.out.print(&quot;Enter number of iterations: &quot;);\r\n\tint count = scanner.nextInt();\r\n\t\r\n\tStringBuilder buffer = new StringBuilder();\r\n\tfor (int i = 0; i &lt; count; i++) {\r\n\t\tSystem.out.print(&quot;\\nEnter a number or character: &quot;);\r\n\t\tString s = scanner.next();\r\n\t\ttry {\r\n\t\t\tDouble num = Double.parseDouble(s);\r\n\t\t\tbuffer.append(num + &quot; &quot;);\r\n\t\t} catch (NumberFormatException nfe) {\r\n\t\t\tbuffer.append(s.charAt(0) + &quot; &quot;);\r\n\t\t}\r\n\t}\r\n\tscanner.close();\r\n\tString output = buffer.toString().trim().replaceAll(&quot; &quot;, &quot;, &quot;);\r\n\tSystem.out.println(output);\r\n}\r\n```\r\n## Caveats ##\r\nYou need to figure out what to do when something like &quot;character&quot; is provided as input. As you can see in the code, the code captures only `charAt(0)`. This might or might not be correct for your use. But, this is *typically* how it is portrayed on the web *how to get character from Scanner in Java*.\r\n\r\nAlso, there is no error handling on the first solution if the input is not a number. You could try to prompt again if the character entered is not a number. Likewise, when prompted to enter a character, what happens if the input is a number? You will need to tweak the code to do what you want. With the second approach, you don&#39;t have to worry about this.","title":"How can I get my output to be separated by commas based on user input from scanner?","body":"<p>There are two options:</p>\n<ol>\n<li>Obtain numbers and chars in predictable order</li>\n<li>Obtain numbers and chars in random order</li>\n</ol>\n<h2>Obtain numbers and chars in predictable order</h2>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Enter number of iterations: &quot;);\n    int count = scanner.nextInt();\n    \n    StringBuilder buffer = new StringBuilder();\n    for (int i = 0; i &lt; count; i++) {\n        System.out.print(&quot;\\nEnter a floating point number: &quot;);\n        buffer.append(scanner.nextDouble() + &quot; &quot;);\n        System.out.print(&quot;\\nEnter a character: &quot;);\n        buffer.append(scanner.next().charAt(0) + &quot; &quot;);\n    }\n    scanner.close();\n    String output = buffer.toString().trim().replaceAll(&quot; &quot;, &quot;, &quot;);\n    System.out.println(output);\n}\n</code></pre>\n<p>If you enter <code>1 a 2 b 3 c 4 d 5 e</code>, the output will look like this</p>\n<pre><code>1.0, a, 2.0, b, 3.0, c, 4.0, d, 5.0, e\n</code></pre>\n<p>It's really that simple. The key is to use <code>StringBuilder</code> to &quot;stage&quot; the input and then convert all of the individual inputs into a single <code>String</code> output. To make it easier to remove the last comma, I just separated the entries by spaces, trimmed the string to remove the last space, and then prepended the remaining spaces with a comma.</p>\n<h2>Obtain numbers and chars in random order</h2>\n<p>This solution is similar, but in this case, just capture the input as a <code>String</code> and then figure out if the input is numeric or not. If it is not numeric, then it is a character.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Enter number of iterations: &quot;);\n    int count = scanner.nextInt();\n    \n    StringBuilder buffer = new StringBuilder();\n    for (int i = 0; i &lt; count; i++) {\n        System.out.print(&quot;\\nEnter a number or character: &quot;);\n        String s = scanner.next();\n        try {\n            Double num = Double.parseDouble(s);\n            buffer.append(num + &quot; &quot;);\n        } catch (NumberFormatException nfe) {\n            buffer.append(s.charAt(0) + &quot; &quot;);\n        }\n    }\n    scanner.close();\n    String output = buffer.toString().trim().replaceAll(&quot; &quot;, &quot;, &quot;);\n    System.out.println(output);\n}\n</code></pre>\n<h2>Caveats</h2>\n<p>You need to figure out what to do when something like &quot;character&quot; is provided as input. As you can see in the code, the code captures only <code>charAt(0)</code>. This might or might not be correct for your use. But, this is <em>typically</em> how it is portrayed on the web <em>how to get character from Scanner in Java</em>.</p>\n<p>Also, there is no error handling on the first solution if the input is not a number. You could try to prompt again if the character entered is not a number. Likewise, when prompted to enter a character, what happens if the input is a number? You will need to tweak the code to do what you want. With the second approach, you don't have to worry about this.</p>\n"}],"owner":{"account_id":23360371,"reputation":3,"user_id":17432712,"display_name":"Aishat Taylor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71387212,"answer_count":1,"score":0,"last_activity_date":1646686863,"creation_date":1646684148,"question_id":71386777,"body_markdown":"I have a class which takes keyboard input, how could I go about making it so that it can take multiple double and char inputs on one line e.g. 1   2  a a a to then get the output:\r\n\r\n&quot;1&quot;,&quot;2&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot; by splitting it into separate strings? this is  what I&#39;ve done so far:\r\n\r\n    public class MyInputInfo implements Comparable &lt;MyInputInfo&gt; {\r\n\r\n    public static double numeric;\r\n    public static char symbol;\r\n\r\n    public MyInputInfo(double numeric, char symbol) {\r\n        this.numeric = numeric;\r\n        this.symbol = symbol;\r\n\r\n    }\r\n    public static char getSymbol() {\r\n        int asciiValue = 97;\r\n\r\n        for (int i = asciiValue; i &lt;= 122; i++) {\r\n            String convertedChar = Character.toString ((char) i);\r\n            System.out.println (convertedChar);\r\n        }\r\n        return symbol;\r\n    }\r\n    @Override\r\n    public int compareTo(MyInputInfo o) {\r\n        if (this.numeric &lt; o.numeric) {\r\n            return 1;\r\n        } else if (this.getSymbol( ) &lt; o.getSymbol ( )) {\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Numeric &quot; + numeric + &quot; Symbol &quot; + symbol;\r\n       }\r\n\r\n    }\r\n\r\n\r\n\r\nthe class im working on right now\r\n\r\n    import java.util.*;\r\n\r\n\r\n    public class MyKeyboardInput {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner s = new Scanner (System.in);\r\n\r\n        MyInputInfo.numeric = s.nextDouble();\r\n\r\n        MyInputInfo.symbol = s.next ( ).charAt (0);\r\n\r\n        System.out.println (MyInputInfo.numeric+ &quot;,&quot; + MyInputInfo.symbol);\r\n\r\n\r\n\r\n\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n I&#39;m new to java so apologies for coming off as slow. All help is appreciated!","title":"How can I get my output to be separated by commas based on user input from scanner?","body":"<p>I have a class which takes keyboard input, how could I go about making it so that it can take multiple double and char inputs on one line e.g. 1   2  a a a to then get the output:</p>\n<p>&quot;1&quot;,&quot;2&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot; by splitting it into separate strings? this is  what I've done so far:</p>\n<pre><code>public class MyInputInfo implements Comparable &lt;MyInputInfo&gt; {\n\npublic static double numeric;\npublic static char symbol;\n\npublic MyInputInfo(double numeric, char symbol) {\n    this.numeric = numeric;\n    this.symbol = symbol;\n\n}\npublic static char getSymbol() {\n    int asciiValue = 97;\n\n    for (int i = asciiValue; i &lt;= 122; i++) {\n        String convertedChar = Character.toString ((char) i);\n        System.out.println (convertedChar);\n    }\n    return symbol;\n}\n@Override\npublic int compareTo(MyInputInfo o) {\n    if (this.numeric &lt; o.numeric) {\n        return 1;\n    } else if (this.getSymbol( ) &lt; o.getSymbol ( )) {\n        return -1;\n    } else {\n        return 0;\n    }\n}\n@Override\npublic String toString() {\n    return &quot;Numeric &quot; + numeric + &quot; Symbol &quot; + symbol;\n   }\n\n}\n</code></pre>\n<p>the class im working on right now</p>\n<pre><code>import java.util.*;\n\n\npublic class MyKeyboardInput {\n\npublic static void main(String[] args) {\n\n    Scanner s = new Scanner (System.in);\n\n    MyInputInfo.numeric = s.nextDouble();\n\n    MyInputInfo.symbol = s.next ( ).charAt (0);\n\n    System.out.println (MyInputInfo.numeric+ &quot;,&quot; + MyInputInfo.symbol);\n\n\n\n\n        }\n    }\n</code></pre>\n<p>I'm new to java so apologies for coming off as slow. All help is appreciated!</p>\n"},{"tags":["java","spring-boot","performance","jvm"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646206459,"post_id":71318208,"comment_id":126063177,"body_markdown":"I don&#39;t have any thymeleaf experience, but what is the thread which has the cache lock doing?","body":"I don&#39;t have any thymeleaf experience, but what is the thread which has the cache lock doing?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646208540,"post_id":71318208,"comment_id":126063788,"body_markdown":"Have you disabled caching in Thymeleaf? I would also suggest to upgrade Spring Boot to at least the latest 1.4.x or even better an even higher version that still is supported (but that might be a bridge to far for now). So upgrade to the latest 1.4.x and suggest to upgrade to the latest 1.8.x JDK as well.","body":"Have you disabled caching in Thymeleaf? I would also suggest to upgrade Spring Boot to at least the latest 1.4.x or even better an even higher version that still is supported (but that might be a bridge to far for now). So upgrade to the latest 1.4.x and suggest to upgrade to the latest 1.8.x JDK as well."},{"owner":{"account_id":1248666,"reputation":304,"user_id":1209565,"display_name":"eschie"},"score":0,"creation_date":1646332008,"post_id":71318208,"comment_id":126102946,"body_markdown":"@tgdavies it appears all the blocked threads are waiting on the same locked thymeleaf thread to finish processing.  &#39;Waiting to lock `4e409b1c`&#39; where 4e409b1c is ```&quot;http-nio-8080-exec-170&quot; - Thread t@490\n   java.lang.Thread.State: RUNNABLE\n        at org.thymeleaf.cache.StandardCache$CacheDataContainer.putWithoutTracing(StandardCache.java:384)\n        - locked &lt;4e409b1c&gt; (a [Ljava.lang.Object;)\n        at org.thymeleaf.cache.StandardCache$CacheDataContainer.put(StandardCache.java:368)```","body":"@tgdavies it appears all the blocked threads are waiting on the same locked thymeleaf thread to finish processing.  &#39;Waiting to lock <code>4e409b1c</code>&#39; where 4e409b1c is <code>&quot;http-nio-8080-exec-170&quot; - Thread t@490    java.lang.Thread.State: RUNNABLE         at org.thymeleaf.cache.StandardCache$CacheDataContainer.putWith&zwnj;&#8203;outTracing(StandardC&zwnj;&#8203;ache.java:384)         - locked &lt;4e409b1c&gt; (a [Ljava.lang.Object;)         at org.thymeleaf.cache.StandardCache$CacheDataContainer.put(Sta&zwnj;&#8203;ndardCache.java:368)</code>"},{"owner":{"account_id":1248666,"reputation":304,"user_id":1209565,"display_name":"eschie"},"score":0,"creation_date":1646687682,"post_id":71318208,"comment_id":126181328,"body_markdown":"@M.Deinum Disabling the cache, takes over 60 seconds to process a template.  We are using a lot of thymeleaf templates and fragments, and I&#39;m sure they can be refactored to be more performant.  Upgrading is not off the table but I would like to gain better understanding into what is the primary cause.","body":"@M.Deinum Disabling the cache, takes over 60 seconds to process a template.  We are using a lot of thymeleaf templates and fragments, and I&#39;m sure they can be refactored to be more performant.  Upgrading is not off the table but I would like to gain better understanding into what is the primary cause."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1646688015,"post_id":71318208,"comment_id":126181418,"body_markdown":"Well 1 thing you get with upgrades is better performance, a lot has been done to improve that. A lot of work has gone into polishing the classloading in the special Spring Boot jar. Another thing is a lot of performance improvements in Thymeleaf 3 which really speedup the thymeleaf processing. So it might not be your code but the framework (and the fact you are using older versions).","body":"Well 1 thing you get with upgrades is better performance, a lot has been done to improve that. A lot of work has gone into polishing the classloading in the special Spring Boot jar. Another thing is a lot of performance improvements in Thymeleaf 3 which really speedup the thymeleaf processing. So it might not be your code but the framework (and the fact you are using older versions)."},{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1647550324,"post_id":71318208,"comment_id":126406229,"body_markdown":"The later thread dump you shared looks like it&#39;s stuck at `SecureRandom.nextBytes`. I wonder if this could be related to a very old issue with the secure random seed source (/dev/random vs /dev/urandom). Can you check your JVM args and if you are able to restart can you try with `-Djava.security.egd=file:/dev/./urandom`? Or just write a small code that generates a secure random and run it on the same host to see if it is slow/blocking. This is a long shot so take it with a grain of salt :) Upgrading JVM minor version may help as well. For more info https://www.baeldung.com/java-security-egd.","body":"The later thread dump you shared looks like it&#39;s stuck at <code>SecureRandom.nextBytes</code>. I wonder if this could be related to a very old issue with the secure random seed source (/dev/random vs /dev/urandom). Can you check your JVM args and if you are able to restart can you try with <code>-Djava.security.egd=file:&#47;dev&#47;.&#47;urandom</code>? Or just write a small code that generates a secure random and run it on the same host to see if it is slow/blocking. This is a long shot so take it with a grain of salt :) Upgrading JVM minor version may help as well. For more info <a href=\"https://www.baeldung.com/java-security-egd\" rel=\"nofollow noreferrer\">baeldung.com/java-security-egd</a>."}],"answers":[{"tags":[],"owner":{"account_id":44499,"reputation":23474,"user_id":130659,"accept_rate":100,"display_name":"AlBlue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646206778,"creation_date":1646206778,"answer_id":71319006,"question_id":71318208,"body_markdown":"You’ll find that you’ll get better performance with newer versions of Java for free, which will help with some of the GC delays you are reporting. If latency is an issue then you should consider upgrading to either Java 11, or Java 17.\n\nHowever the set of locks you have highlighted is the real problem. The Thymeleaf cache looks like it’s holding a global (or at least highly contended) lock per request, And everything is serialising behind that. It’s not clear if there is an upgrade to the library you depend on which might have fixed the issue (2.1.6 is latest, but there’s a 3.x series as well); alternatively they may have different cache implementations that you can choose/configure. It looks like the StandardCache is the culprit; maybe there an alternative you can use?\n\nYou could try and disable caching to e see if that removes the locks, though having a cache does make sense.\n\nhttps://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#template-cache","title":"Spring Boot app experiencing latency across the board under load","body":"<p>You’ll find that you’ll get better performance with newer versions of Java for free, which will help with some of the GC delays you are reporting. If latency is an issue then you should consider upgrading to either Java 11, or Java 17.</p>\n<p>However the set of locks you have highlighted is the real problem. The Thymeleaf cache looks like it’s holding a global (or at least highly contended) lock per request, And everything is serialising behind that. It’s not clear if there is an upgrade to the library you depend on which might have fixed the issue (2.1.6 is latest, but there’s a 3.x series as well); alternatively they may have different cache implementations that you can choose/configure. It looks like the StandardCache is the culprit; maybe there an alternative you can use?</p>\n<p>You could try and disable caching to e see if that removes the locks, though having a cache does make sense.</p>\n<p><a href=\"https://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#template-cache\" rel=\"nofollow noreferrer\">https://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#template-cache</a></p>\n"}],"owner":{"account_id":1248666,"reputation":304,"user_id":1209565,"display_name":"eschie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1918,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646686713,"creation_date":1646201879,"question_id":71318208,"body_markdown":"I&#39;m running a legacy Spring Boot (1.4.4) application with Thymeleaf (2.1.4) in production on Java 8 (1.8.0_161-b12 / HotSpot 64 25.161-b12).  When the application experiences moderate load (1K reqs/min), all app requests experience latency (&gt; 1min), and CPU on the app instances max out.  \r\n\r\nHow can I pinpoint exactly where this performance bottleneck is occurring?  If it is a code / design issue how can I be certain, or if I just need to allocate more resources?\r\n\r\nThings I&#39;ve tried:\r\n- Scaling up the DB and increase connection pool size ( CPU is negligible )\r\n- Disabled the template/expression (Thymeleaf) and query cache (Hibernate/couchbase) and experienced same latency.\r\n- Scale up cluster (3x t2.large)\r\n\r\nOther things to note:\r\n- JVM heap is not configured, but doesn&#39;t appear to approach max heap size.[![JVM during load][1]][1]\r\n- JVM monitoring shows regular (Allocation Failed) garbage collection during load w/ ParallelGCFailedAllocation occurring frequently[![ParallelGCFailedAllocation][2]][2]\r\n- There&#39;s a few `Full GC` events occurring that take b/w 1-3 seconds.\r\n- A heap dump during peak latency reveals over 172 blocked threads that appear to be waiting on Thymeleaf cache PUT requests?!\r\n```\r\n&quot;http-nio-8080-exec-168&quot; - Thread t@488\r\n   java.lang.Thread.State: BLOCKED\r\n        at org.thymeleaf.cache.StandardCache$CacheDataContainer.putWithoutTracing(StandardCache.java:384)\r\n        - waiting to lock &lt;4e409b1c&gt; (a [Ljava.lang.Object;) owned by &quot;http-nio-8080-exec-170&quot; t@490\r\n        at org.thymeleaf.cache.StandardCache$CacheDataContainer.put(StandardCache.java:368)\r\n        at org.thymeleaf.cache.StandardCache.put(StandardCache.java:141)\r\n        at org.thymeleaf.spring4.expression.SpelVariableExpressionEvaluator.getExpression(SpelVariableExpressionEvaluator.java:184)\r\n        at org.thymeleaf.spring4.expression.SpelVariableExpressionEvaluator.evaluate(SpelVariableExpressionEvaluator.java:129)\r\n        at org.thymeleaf.standard.expression.VariableExpression.executeVariable(VariableExpression.java:154)\r\n        at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:59)\r\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:103)\r\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:133)\r\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:120)\r\n        at org.thymeleaf.standard.processor.attr.AbstractStandardLocalVariableDefinitionAttrProcessor.getNewLocalVariables(AbstractStandardLocalVariableDefinitionAttrProcessor.java:89)\r\n        at org.thymeleaf.processor.attr.AbstractLocalVariableDefinitionAttrProcessor.processAttribute(AbstractLocalVariableDefinitionAttrProcessor.java:62)\r\n        at org.thymeleaf.processor.attr.AbstractAttrProcessor.doProcess(AbstractAttrProcessor.java:87)\r\n        at org.thymeleaf.processor.AbstractProcessor.process(AbstractProcessor.java:212)\r\n        at org.thymeleaf.dom.Node.applyNextProcessor(Node.java:1017)\r\n        at org.thymeleaf.dom.Node.processNode(Node.java:972)\r\n        at org.thymeleaf.dom.NestableNode.computeNextChild(NestableNode.java:695)\r\n        at org.thymeleaf.dom.NestableNode.doAdditionalProcess(NestableNode.java:668)\r\n        at org.thymeleaf.dom.Node.processNode(Node.java:990)\r\n        at org.thymeleaf.dom.NestableNode.computeNextChild(NestableNode.java:695)\r\n        at org.thymeleaf.dom.NestableNode.doAdditionalProcess(NestableNode.java:668)\r\n        at org.thymeleaf.dom.Node.processNode(Node.java:990)\r\n        at org.thymeleaf.dom.NestableNode.computeNextChild(NestableNode.java:695)\r\n        at org.thymeleaf.dom.NestableNode.doAdditionalProcess(NestableNode.java:668)\r\n        at org.thymeleaf.dom.Node.processNode(Node.java:990)\r\n        at org.thymeleaf.dom.NestableNode.computeNextChild(NestableNode.java:695)\r\n        at org.thymeleaf.dom.NestableNode.doAdditionalProcess(NestableNode.java:668)\r\n        at org.thymeleaf.dom.Node.processNode(Node.java:990)\r\n        at org.thymeleaf.dom.NestableNode.computeNextChild(NestableNode.java:695)\r\n        at org.thymeleaf.dom.NestableNode.doAdditionalProcess(NestableNode.java:668)\r\n        at org.thymeleaf.dom.Node.processNode(Node.java:990)\r\n        at org.thymeleaf.dom.Document.process(Document.java:93)\r\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1155)\r\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1060)\r\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1011)\r\n        at org.thymeleaf.spring4.view.ThymeleafView.renderFragment(ThymeleafView.java:335)\r\n        at org.thymeleaf.spring4.view.ThymeleafView.render(ThymeleafView.java:190)\r\n        at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1271)\r\n```\r\n\r\nSince the application has many layers, is there a way to nail down the culprit?\r\n\r\n**UPDATE:**\r\n\r\nOK so after digging some more, a few more things:\r\n\r\n1) Another thread dump during another point in the load testing shows a bunch of blocked threads on hibernate calls to the database.\r\n\r\n```\r\n java.lang.Thread.State: BLOCKED\r\n        at sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:543)\r\n        - waiting to lock &lt;3d1c45eb&gt; (a java.lang.Object) owned by &quot;http-nio-8080-exec-270&quot; t@823\r\n        at sun.security.provider.NativePRNG$RandomIO.access$400(NativePRNG.java:331)\r\n        at sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:220)\r\n        at java.security.SecureRandom.nextBytes(SecureRandom.java:468)\r\n        at sun.security.ssl.CipherBox.createExplicitNonce(CipherBox.java:1015)\r\n        at sun.security.ssl.OutputRecord.encrypt(OutputRecord.java:248)\r\n        at sun.security.ssl.SSLSocketImpl.writeRecordInternal(SSLSocketImpl.java:869)\r\n        at sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:857)\r\n        at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:123)\r\n        - locked &lt;7721ca63&gt; (a sun.security.ssl.AppOutputStream)\r\n        at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)\r\n        at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)\r\n        - locked &lt;2135117a&gt; (a java.io.BufferedOutputStream)\r\n        at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3725)\r\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2506)\r\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2677)\r\n        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2549)\r\n        - locked &lt;5c36dc6f&gt; (a com.mysql.jdbc.JDBC4Connection)\r\n        at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)\r\n        - locked &lt;5c36dc6f&gt; (a com.mysql.jdbc.JDBC4Connection)\r\n        at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1962)\r\n        - locked &lt;5c36dc6f&gt; (a com.mysql.jdbc.JDBC4Connection)\r\n        at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at com.github.gquintana.metrics.proxy.MethodInvocation.proceed(MethodInvocation.java:75)\r\n        at com.github.gquintana.metrics.sql.PreparedStatementProxyHandler.execute(PreparedStatementProxyHandler.java:53)\r\n        at com.github.gquintana.metrics.sql.AbstractStatementProxyHandler.invoke(AbstractStatementProxyHandler.java:50)\r\n        at com.github.gquintana.metrics.proxy.ProxyHandler.invoke(ProxyHandler.java:56)\r\n        at com.sun.proxy.$Proxy143.executeQuery(Unknown Source)\r\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:79)\r\n        at org.hibernate.loader.Loader.getResultSet(Loader.java:2062)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1859)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\r\n        at org.hibernate.loader.Loader.doQuery(Loader.java:906)\r\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:348)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2550)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2536)\r\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2366)\r\n        at org.hibernate.loader.Loader.list(Loader.java:2361)\r\n        at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:495)\r\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:357)\r\n        at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:198)\r\n        at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1230)\r\n        at org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)\r\n        at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:268)\r\n        at org.hibernate.ejb.criteria.CriteriaQueryCompiler$3.getResultList(CriteriaQueryCompiler.java:254)\r\n        at org.broadleafcommerce.common.i18n.dao.TranslationDaoImpl.readTranslation(TranslationDaoImpl.java:262)\r\n        at org.broadleafcommerce.common.i18n.service.TranslationServiceImpl.getTranslatedValue(TranslationServiceImpl.java:194)\r\n        at org.broadleafcommerce.common.i18n.service.DynamicTranslationProvider.getValue(DynamicTranslationProvider.java:47)\r\n        at org.broadleafcommerce.core.catalog.domain.CategoryImpl.getName(CategoryImpl.java:489)\r\n        at org.&lt;myorg&gt;.CatalogService.lambda$getSeries1ActiveTechniques$11(CatalogService.java:95)\r\n```\r\n\r\nNormally this call `getSeries1ActiveTechniques` is behind a hibernate query cache, but with it disabled, there&#39;s a lot more traffic to the SQL database.\r\n\r\nWhile I&#39;m aware this design needs refactored, I&#39;m still unclear as to whether this slowdown is due specifically from load via overall CPU, overall GC impacting CPU, or are these two separate contentions causing GC and high CPU?\r\n\r\n2) CPU sampling during the test shows:\r\n\r\n[![Hotspots][3]][3]\r\n\r\nHotspots show high CPU for certain calls; jumping out is `org.apache.catalina.webresources.JarWarResourceSet.getArchiveEntries` which might be a [known issue](https://stackoverflow.com/questions/52648831/performance-spring-boot-server-response-time) with embedded tomcat?\r\n\r\nBut how do I know if these CPU times are actually representative or if these methods are just suffering from greater general slowdown from GC or threadpool limiting at apache/jdbc level? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VQnyL.png\r\n  [2]: https://i.stack.imgur.com/gQPIH.png\r\n  [3]: https://i.stack.imgur.com/ohdyd.png","title":"Spring Boot app experiencing latency across the board under load","body":"<p>I'm running a legacy Spring Boot (1.4.4) application with Thymeleaf (2.1.4) in production on Java 8 (1.8.0_161-b12 / HotSpot 64 25.161-b12).  When the application experiences moderate load (1K reqs/min), all app requests experience latency (&gt; 1min), and CPU on the app instances max out.</p>\n<p>How can I pinpoint exactly where this performance bottleneck is occurring?  If it is a code / design issue how can I be certain, or if I just need to allocate more resources?</p>\n<p>Things I've tried:</p>\n<ul>\n<li>Scaling up the DB and increase connection pool size ( CPU is negligible )</li>\n<li>Disabled the template/expression (Thymeleaf) and query cache (Hibernate/couchbase) and experienced same latency.</li>\n<li>Scale up cluster (3x t2.large)</li>\n</ul>\n<p>Other things to note:</p>\n<ul>\n<li>JVM heap is not configured, but doesn't appear to approach max heap size.<a href=\"https://i.stack.imgur.com/VQnyL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQnyL.png\" alt=\"JVM during load\" /></a></li>\n<li>JVM monitoring shows regular (Allocation Failed) garbage collection during load w/ ParallelGCFailedAllocation occurring frequently<a href=\"https://i.stack.imgur.com/gQPIH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQPIH.png\" alt=\"ParallelGCFailedAllocation\" /></a></li>\n<li>There's a few <code>Full GC</code> events occurring that take b/w 1-3 seconds.</li>\n<li>A heap dump during peak latency reveals over 172 blocked threads that appear to be waiting on Thymeleaf cache PUT requests?!</li>\n</ul>\n<pre><code>&quot;http-nio-8080-exec-168&quot; - Thread t@488\n   java.lang.Thread.State: BLOCKED\n        at org.thymeleaf.cache.StandardCache$CacheDataContainer.putWithoutTracing(StandardCache.java:384)\n        - waiting to lock &lt;4e409b1c&gt; (a [Ljava.lang.Object;) owned by &quot;http-nio-8080-exec-170&quot; t@490\n        at org.thymeleaf.cache.StandardCache$CacheDataContainer.put(StandardCache.java:368)\n        at org.thymeleaf.cache.StandardCache.put(StandardCache.java:141)\n        at org.thymeleaf.spring4.expression.SpelVariableExpressionEvaluator.getExpression(SpelVariableExpressionEvaluator.java:184)\n        at org.thymeleaf.spring4.expression.SpelVariableExpressionEvaluator.evaluate(SpelVariableExpressionEvaluator.java:129)\n        at org.thymeleaf.standard.expression.VariableExpression.executeVariable(VariableExpression.java:154)\n        at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:59)\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:103)\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:133)\n        at org.thymeleaf.standard.expression.Expression.execute(Expression.java:120)\n        at org.thymeleaf.standard.processor.attr.AbstractStandardLocalVariableDefinitionAttrProcessor.getNewLocalVariables(AbstractStandardLocalVariableDefinitionAttrProcessor.java:89)\n        at org.thymeleaf.processor.attr.AbstractLocalVariableDefinitionAttrProcessor.processAttribute(AbstractLocalVariableDefinitionAttrProcessor.java:62)\n        at org.thymeleaf.processor.attr.AbstractAttrProcessor.doProcess(AbstractAttrProcessor.java:87)\n        at org.thymeleaf.processor.AbstractProcessor.process(AbstractProcessor.java:212)\n        at org.thymeleaf.dom.Node.applyNextProcessor(Node.java:1017)\n        at org.thymeleaf.dom.Node.processNode(Node.java:972)\n        at org.thymeleaf.dom.NestableNode.computeNextChild(NestableNode.java:695)\n        at org.thymeleaf.dom.NestableNode.doAdditionalProcess(NestableNode.java:668)\n        at org.thymeleaf.dom.Node.processNode(Node.java:990)\n        at org.thymeleaf.dom.NestableNode.computeNextChild(NestableNode.java:695)\n        at org.thymeleaf.dom.NestableNode.doAdditionalProcess(NestableNode.java:668)\n        at org.thymeleaf.dom.Node.processNode(Node.java:990)\n        at org.thymeleaf.dom.NestableNode.computeNextChild(NestableNode.java:695)\n        at org.thymeleaf.dom.NestableNode.doAdditionalProcess(NestableNode.java:668)\n        at org.thymeleaf.dom.Node.processNode(Node.java:990)\n        at org.thymeleaf.dom.NestableNode.computeNextChild(NestableNode.java:695)\n        at org.thymeleaf.dom.NestableNode.doAdditionalProcess(NestableNode.java:668)\n        at org.thymeleaf.dom.Node.processNode(Node.java:990)\n        at org.thymeleaf.dom.NestableNode.computeNextChild(NestableNode.java:695)\n        at org.thymeleaf.dom.NestableNode.doAdditionalProcess(NestableNode.java:668)\n        at org.thymeleaf.dom.Node.processNode(Node.java:990)\n        at org.thymeleaf.dom.Document.process(Document.java:93)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1155)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1060)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1011)\n        at org.thymeleaf.spring4.view.ThymeleafView.renderFragment(ThymeleafView.java:335)\n        at org.thymeleaf.spring4.view.ThymeleafView.render(ThymeleafView.java:190)\n        at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1271)\n</code></pre>\n<p>Since the application has many layers, is there a way to nail down the culprit?</p>\n<p><strong>UPDATE:</strong></p>\n<p>OK so after digging some more, a few more things:</p>\n<ol>\n<li>Another thread dump during another point in the load testing shows a bunch of blocked threads on hibernate calls to the database.</li>\n</ol>\n<pre><code> java.lang.Thread.State: BLOCKED\n        at sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:543)\n        - waiting to lock &lt;3d1c45eb&gt; (a java.lang.Object) owned by &quot;http-nio-8080-exec-270&quot; t@823\n        at sun.security.provider.NativePRNG$RandomIO.access$400(NativePRNG.java:331)\n        at sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:220)\n        at java.security.SecureRandom.nextBytes(SecureRandom.java:468)\n        at sun.security.ssl.CipherBox.createExplicitNonce(CipherBox.java:1015)\n        at sun.security.ssl.OutputRecord.encrypt(OutputRecord.java:248)\n        at sun.security.ssl.SSLSocketImpl.writeRecordInternal(SSLSocketImpl.java:869)\n        at sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:857)\n        at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:123)\n        - locked &lt;7721ca63&gt; (a sun.security.ssl.AppOutputStream)\n        at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)\n        at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)\n        - locked &lt;2135117a&gt; (a java.io.BufferedOutputStream)\n        at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3725)\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2506)\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2677)\n        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2549)\n        - locked &lt;5c36dc6f&gt; (a com.mysql.jdbc.JDBC4Connection)\n        at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)\n        - locked &lt;5c36dc6f&gt; (a com.mysql.jdbc.JDBC4Connection)\n        at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1962)\n        - locked &lt;5c36dc6f&gt; (a com.mysql.jdbc.JDBC4Connection)\n        at sun.reflect.GeneratedMethodAccessor254.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.github.gquintana.metrics.proxy.MethodInvocation.proceed(MethodInvocation.java:75)\n        at com.github.gquintana.metrics.sql.PreparedStatementProxyHandler.execute(PreparedStatementProxyHandler.java:53)\n        at com.github.gquintana.metrics.sql.AbstractStatementProxyHandler.invoke(AbstractStatementProxyHandler.java:50)\n        at com.github.gquintana.metrics.proxy.ProxyHandler.invoke(ProxyHandler.java:56)\n        at com.sun.proxy.$Proxy143.executeQuery(Unknown Source)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:79)\n        at org.hibernate.loader.Loader.getResultSet(Loader.java:2062)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1859)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\n        at org.hibernate.loader.Loader.doQuery(Loader.java:906)\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:348)\n        at org.hibernate.loader.Loader.doList(Loader.java:2550)\n        at org.hibernate.loader.Loader.doList(Loader.java:2536)\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2366)\n        at org.hibernate.loader.Loader.list(Loader.java:2361)\n        at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:495)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:357)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:198)\n        at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1230)\n        at org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)\n        at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:268)\n        at org.hibernate.ejb.criteria.CriteriaQueryCompiler$3.getResultList(CriteriaQueryCompiler.java:254)\n        at org.broadleafcommerce.common.i18n.dao.TranslationDaoImpl.readTranslation(TranslationDaoImpl.java:262)\n        at org.broadleafcommerce.common.i18n.service.TranslationServiceImpl.getTranslatedValue(TranslationServiceImpl.java:194)\n        at org.broadleafcommerce.common.i18n.service.DynamicTranslationProvider.getValue(DynamicTranslationProvider.java:47)\n        at org.broadleafcommerce.core.catalog.domain.CategoryImpl.getName(CategoryImpl.java:489)\n        at org.&lt;myorg&gt;.CatalogService.lambda$getSeries1ActiveTechniques$11(CatalogService.java:95)\n</code></pre>\n<p>Normally this call <code>getSeries1ActiveTechniques</code> is behind a hibernate query cache, but with it disabled, there's a lot more traffic to the SQL database.</p>\n<p>While I'm aware this design needs refactored, I'm still unclear as to whether this slowdown is due specifically from load via overall CPU, overall GC impacting CPU, or are these two separate contentions causing GC and high CPU?</p>\n<ol start=\"2\">\n<li>CPU sampling during the test shows:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ohdyd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ohdyd.png\" alt=\"Hotspots\" /></a></p>\n<p>Hotspots show high CPU for certain calls; jumping out is <code>org.apache.catalina.webresources.JarWarResourceSet.getArchiveEntries</code> which might be a <a href=\"https://stackoverflow.com/questions/52648831/performance-spring-boot-server-response-time\">known issue</a> with embedded tomcat?</p>\n<p>But how do I know if these CPU times are actually representative or if these methods are just suffering from greater general slowdown from GC or threadpool limiting at apache/jdbc level?</p>\n"},{"tags":["java","pdf","pdf-generation","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1646585333,"post_id":71371571,"comment_id":126154863,"body_markdown":"*&quot;I&#39;ve tried summing all the leadings which is wrong.&quot;* - Why is that wrong? You at least need to calculate with the leadings alone to determine the _baseline_ coordinates for your text lines. For the top line you then have to add something like the font ascent, for the last line the font descent. Unfortunately for some fonts the ascent or descent number are incorrect...","body":"<i>&quot;I&#39;ve tried summing all the leadings which is wrong.&quot;</i> - Why is that wrong? You at least need to calculate with the leadings alone to determine the <i>baseline</i> coordinates for your text lines. For the top line you then have to add something like the font ascent, for the last line the font descent. Unfortunately for some fonts the ascent or descent number are incorrect..."},{"owner":{"account_id":17441263,"reputation":578,"user_id":12643240,"display_name":"Nand"},"score":0,"creation_date":1646588321,"post_id":71371571,"comment_id":126155568,"body_markdown":"@mkl Hello, I have no knowledge in typography. When I sum all the leadings, it is too short. I am using Arial.","body":"@mkl Hello, I have no knowledge in typography. When I sum all the leadings, it is too short. I am using Arial."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1646591684,"post_id":71371571,"comment_id":126156347,"body_markdown":"You should have a look at the DrawPrintTextLocations.java example, the calculation of the cyan rectangles may be what you&#39;re looking for.","body":"You should have a look at the DrawPrintTextLocations.java example, the calculation of the cyan rectangles may be what you&#39;re looking for."},{"owner":{"account_id":17441263,"reputation":578,"user_id":12643240,"display_name":"Nand"},"score":0,"creation_date":1646593176,"post_id":71371571,"comment_id":126156684,"body_markdown":"@TilmanHausherr Thank you, but it doesn&#39;t use PDPageContentStream which my entire code is based on. Also it looks like it draws for each letter/glyph but I just want a box around a paragraph of text","body":"@TilmanHausherr Thank you, but it doesn&#39;t use PDPageContentStream which my entire code is based on. Also it looks like it draws for each letter/glyph but I just want a box around a paragraph of text"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1646636831,"post_id":71371571,"comment_id":126163755,"body_markdown":"You would have to get the rendering of each glyph, then take the highest / lowest ascent / descent.","body":"You would have to get the rendering of each glyph, then take the highest / lowest ascent / descent."},{"owner":{"account_id":17441263,"reputation":578,"user_id":12643240,"display_name":"Nand"},"score":0,"creation_date":1646656714,"post_id":71371571,"comment_id":126169865,"body_markdown":"@TilmanHausherr It doesn&#39;t have to be that exact. I just need the height of each row and the spacing between rows. It does not matter if say the row only contains &#39;x&#39; but the height is calculated as &#39;H&#39;. I just need the height of the row, not the individual letters","body":"@TilmanHausherr It doesn&#39;t have to be that exact. I just need the height of each row and the spacing between rows. It does not matter if say the row only contains &#39;x&#39; but the height is calculated as &#39;H&#39;. I just need the height of the row, not the individual letters"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1646660115,"post_id":71371571,"comment_id":126171224,"body_markdown":"Then calculate the height of &quot;H&quot; by rendering the glyph. And the descent of &quot;g&quot;.","body":"Then calculate the height of &quot;H&quot; by rendering the glyph. And the descent of &quot;g&quot;."},{"owner":{"account_id":17441263,"reputation":578,"user_id":12643240,"display_name":"Nand"},"score":0,"creation_date":1646661321,"post_id":71371571,"comment_id":126171695,"body_markdown":"@TilmanHausherr I&#39;m trying to calculate the height of the text that PDFBox will draw. It also uses leading. I&#39;m sorry I just know nothing about typography and simply want to draw a border around some text (with fixed width).. There&#39;s just so many measurements, bounding box, cap height, leading, etc etc. I don&#39;t get why it&#39;s this hard honestly","body":"@TilmanHausherr I&#39;m trying to calculate the height of the text that PDFBox will draw. It also uses leading. I&#39;m sorry I just know nothing about typography and simply want to draw a border around some text (with fixed width).. There&#39;s just so many measurements, bounding box, cap height, leading, etc etc. I don&#39;t get why it&#39;s this hard honestly"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1646663058,"post_id":71371571,"comment_id":126172379,"body_markdown":"*&quot;I&#39;m trying to calculate the height of the text that PDFBox will draw.&quot;* - Here you&#39;re subject to a misunderstanding. PDFBox does _not_ draw the text. It merely stores your instructions (move there - set font and font size - set leading - show text ...) in PDF syntax  into the content stream. Thus, PDFBox does _not_ automatically know top or bottom position of the letters shown by some viewer eventually executing those instructions.","body":"<i>&quot;I&#39;m trying to calculate the height of the text that PDFBox will draw.&quot;</i> - Here you&#39;re subject to a misunderstanding. PDFBox does <i>not</i> draw the text. It merely stores your instructions (move there - set font and font size - set leading - show text ...) in PDF syntax  into the content stream. Thus, PDFBox does <i>not</i> automatically know top or bottom position of the letters shown by some viewer eventually executing those instructions."},{"owner":{"account_id":17441263,"reputation":578,"user_id":12643240,"display_name":"Nand"},"score":0,"creation_date":1646663184,"post_id":71371571,"comment_id":126172429,"body_markdown":"I understand. By the way I solved my problem. My algorithm is basically `((capHeightOfFirstLine/1000f)*fontSize) + leading of each line`. It seems to be correct. Edit: never mind, it does not work in all cases....","body":"I understand. By the way I solved my problem. My algorithm is basically <code>((capHeightOfFirstLine&#47;1000f)*fontSize) + leading of each line</code>. It seems to be correct. Edit: never mind, it does not work in all cases...."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1646663444,"post_id":71371571,"comment_id":126172547,"body_markdown":"*&quot;It seems to be correct.&quot;* - Hhmmm, that seems to ignore the descent of the final line. As your example last line `&quot;Final line. (bold)&quot;` has no descenders, this probably shouldn&#39;t surprise. ;)","body":"<i>&quot;It seems to be correct.&quot;</i> - Hhmmm, that seems to ignore the descent of the final line. As your example last line <code>&quot;Final line. (bold)&quot;</code> has no descenders, this probably shouldn&#39;t surprise. ;)"},{"owner":{"account_id":17441263,"reputation":578,"user_id":12643240,"display_name":"Nand"},"score":0,"creation_date":1646663499,"post_id":71371571,"comment_id":126172570,"body_markdown":"Oh it could be, I will check that thank you very much","body":"Oh it could be, I will check that thank you very much"},{"owner":{"account_id":17441263,"reputation":578,"user_id":12643240,"display_name":"Nand"},"score":0,"creation_date":1646664725,"post_id":71371571,"comment_id":126173091,"body_markdown":"@mkl I got it to work thank you for your help","body":"@mkl I got it to work thank you for your help"}],"answers":[{"tags":[],"owner":{"account_id":17441263,"reputation":578,"user_id":12643240,"display_name":"Nand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646686400,"creation_date":1646664655,"answer_id":71382881,"question_id":71371571,"body_markdown":"The algorithm for calculating the height of a paragraph is the following:\r\n\r\n```\r\nfloat firstLineCapHeight = (firstLineFont.getFontDescriptor().getCapHeight() / 1000f) * firstLineFontSize;\r\n\r\n// this value is negative\r\nfloat lastLineDescent = (lastLineFont.getFontDescriptor().getDescent() / 1000f) * lastLineFontSize;\r\n\r\nfloat height = firstLineCapHeight + leadingOfAllLinesExceptFirst - lastLineDescent;\r\n```\r\n\r\nIf the first or last line has multiple fonts or font sizes you will have to find the largest one.\r\n\r\n*Depending on the alphabet you can also add the first line ascent but that is not needed in my case.*","title":"Calculate height of multiline text when writing","body":"<p>The algorithm for calculating the height of a paragraph is the following:</p>\n<pre><code>float firstLineCapHeight = (firstLineFont.getFontDescriptor().getCapHeight() / 1000f) * firstLineFontSize;\n\n// this value is negative\nfloat lastLineDescent = (lastLineFont.getFontDescriptor().getDescent() / 1000f) * lastLineFontSize;\n\nfloat height = firstLineCapHeight + leadingOfAllLinesExceptFirst - lastLineDescent;\n</code></pre>\n<p>If the first or last line has multiple fonts or font sizes you will have to find the largest one.</p>\n<p><em>Depending on the alphabet you can also add the first line ascent but that is not needed in my case.</em></p>\n"}],"owner":{"account_id":17441263,"reputation":578,"user_id":12643240,"display_name":"Nand"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646686400,"creation_date":1646580090,"question_id":71371571,"body_markdown":"Using PDPageContentStream I am writing a text like this:\r\n\r\n```java\r\nstream.beginText();\r\nstream.newLineAtOffset(400, 400);\r\nstream.setFont(myFont, 10);\r\nstream.setLeading(11.5f);\r\nstream.showText(&quot;First line.&quot;);\r\nstream.newLine();\r\nstream.showText(&quot;Second line.&quot;);\r\nstream.setFont(myFontBold, 10);\r\nstream.setLeading(15f);\r\nstream.newLine();\r\nstream.showText(&quot;Final line. (bold)&quot;);\r\nstream.endText();\r\n```\r\n\r\nSo it is like\r\n- line 1: leading 11.5, myFont, size 10\r\n- line 2: leading 11.5, myFont, size 10\r\n- line 3: leading 15, myFontBold, size 10\r\n\r\nI have these lines in a list. But when I try to calculate the total height so I can draw a box around them, I can&#39;t get it to be correct.\r\n\r\nI&#39;ve tried summing all the leadings which is wrong. I have tried summing all the leadings and then the font bounding box height, but it is a little too high. I have also tried character cap height but it is wrong.\r\n\r\nI did the bounding box thing like\r\n\r\n```java\r\ntotal += (font.getBoundingBox().getHeight() / 1000.0f) * fontSize;\r\ntotal += leading;\r\n```\r\n\r\nfor each line.","title":"Calculate height of multiline text when writing","body":"<p>Using PDPageContentStream I am writing a text like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stream.beginText();\nstream.newLineAtOffset(400, 400);\nstream.setFont(myFont, 10);\nstream.setLeading(11.5f);\nstream.showText(&quot;First line.&quot;);\nstream.newLine();\nstream.showText(&quot;Second line.&quot;);\nstream.setFont(myFontBold, 10);\nstream.setLeading(15f);\nstream.newLine();\nstream.showText(&quot;Final line. (bold)&quot;);\nstream.endText();\n</code></pre>\n<p>So it is like</p>\n<ul>\n<li>line 1: leading 11.5, myFont, size 10</li>\n<li>line 2: leading 11.5, myFont, size 10</li>\n<li>line 3: leading 15, myFontBold, size 10</li>\n</ul>\n<p>I have these lines in a list. But when I try to calculate the total height so I can draw a box around them, I can't get it to be correct.</p>\n<p>I've tried summing all the leadings which is wrong. I have tried summing all the leadings and then the font bounding box height, but it is a little too high. I have also tried character cap height but it is wrong.</p>\n<p>I did the bounding box thing like</p>\n<pre class=\"lang-java prettyprint-override\"><code>total += (font.getBoundingBox().getHeight() / 1000.0f) * fontSize;\ntotal += leading;\n</code></pre>\n<p>for each line.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23564598,"reputation":35,"user_id":17605512,"display_name":"userwithquestions"},"score":1,"creation_date":1646685837,"post_id":71387004,"comment_id":126180775,"body_markdown":"The two are not identical at all. I thought BigDecimal should recognize precision and scale when using valueOf. When doing an assert statement, the two are not identical so how can you say they are identical?","body":"The two are not identical at all. I thought BigDecimal should recognize precision and scale when using valueOf. When doing an assert statement, the two are not identical so how can you say they are identical?"},{"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"score":0,"creation_date":1646686127,"post_id":71387004,"comment_id":126180860,"body_markdown":"They aren&#39;t identical. BigDecimal values express a value with an associated precision. The number of trailing digits in the string representation indicates that precision, even if those digits are all zero.","body":"They aren&#39;t identical. BigDecimal values express a value with an associated precision. The number of trailing digits in the string representation indicates that precision, even if those digits are all zero."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1646686493,"post_id":71387004,"comment_id":126180994,"body_markdown":"why it shows `15350.0`: documentation of [`valueOf()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#valueOf(double)) *&quot;Translates a double into a BigDecimal, using the double&#39;s canonical string representation provided by the Double.toString(double) method.&quot;* and `toString(15350.00)` will return `&quot;15350.0&quot;` and not `&quot;15350.00&quot;` ||| internally (or compiled) the doubles `15350d`, `15350.0`, `15350.00`, `15350.000`, ... are all the same, `valueOf` cannot know which was used in source code","body":"why it shows <code>15350.0</code>: documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#valueOf(double)\" rel=\"nofollow noreferrer\"><code>valueOf()</code></a> <i>&quot;Translates a double into a BigDecimal, using the double&#39;s canonical string representation provided by the Double.toString(double) method.&quot;</i> and <code>toString(15350.00)</code> will return <code>&quot;15350.0&quot;</code> and not <code>&quot;15350.00&quot;</code> ||| internally (or compiled) the doubles <code>15350d</code>, <code>15350.0</code>, <code>15350.00</code>, <code>15350.000</code>, ... are all the same, <code>valueOf</code> cannot know which was used in source code"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1646685882,"creation_date":1646685882,"answer_id":71387041,"question_id":71387004,"body_markdown":"When working with `BigDecimal`, prefer using the `BigDecimal(String)` constructor over `valueOf(double)`. `new BigDecimal(&quot;15350.00&quot;)` will preserve your trailing zeroes.","title":"Java BigDecimal valueOf not precise?","body":"<p>When working with <code>BigDecimal</code>, prefer using the <code>BigDecimal(String)</code> constructor over <code>valueOf(double)</code>. <code>new BigDecimal(&quot;15350.00&quot;)</code> will preserve your trailing zeroes.</p>\n"},{"tags":[],"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1646685950,"creation_date":1646685950,"answer_id":71387050,"question_id":71387004,"body_markdown":"Although `15350.00` and `15350.0` are two different BigDecimal values, `BigDecimal.valueOf(15350.00)` is constructing the BigDecimal using a Double. The double literals `15350.00` and `15350.0` both correspond to the same exact integer value, without the precision semantics of BigDecimal.","title":"Java BigDecimal valueOf not precise?","body":"<p>Although <code>15350.00</code> and <code>15350.0</code> are two different BigDecimal values, <code>BigDecimal.valueOf(15350.00)</code> is constructing the BigDecimal using a Double. The double literals <code>15350.00</code> and <code>15350.0</code> both correspond to the same exact integer value, without the precision semantics of BigDecimal.</p>\n"}],"owner":{"account_id":23564598,"reputation":35,"user_id":17605512,"display_name":"userwithquestions"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"closed_date":1646688707,"accepted_answer_id":71387050,"answer_count":2,"score":-2,"last_activity_date":1646685950,"creation_date":1646685647,"question_id":71387004,"body_markdown":"I am not sure if I am using this wrong but, if I do ```BigDecimal.valueOf(15350.00)```, why does it show as ```15350.0``` instead of ```15350.00```? ","title":"Java BigDecimal valueOf not precise?","body":"<p>I am not sure if I am using this wrong but, if I do <code>BigDecimal.valueOf(15350.00)</code>, why does it show as <code>15350.0</code> instead of <code>15350.00</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":7,"creation_date":1341243600,"post_id":11296789,"comment_id":14862207,"body_markdown":"You&#39;re overriding both.  What&#39;s the problem?","body":"You&#39;re overriding both.  What&#39;s the problem?"}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1341244046,"creation_date":1341243461,"answer_id":11296833,"question_id":11296789,"body_markdown":"You are satisfying both conditions at once; ie. the one implementation is at the same time fulfilling the abstract class requirements and the interface requirements.\r\n\r\nAs a note, unless you are using `Intr` in another inheritance chain, you don&#39;t need it.  Also, it might make sense to move the `implements Intr` up to the abstract class definition.","title":"Same method in Interface and Abstract class","body":"<p>You are satisfying both conditions at once; ie. the one implementation is at the same time fulfilling the abstract class requirements and the interface requirements.</p>\n\n<p>As a note, unless you are using <code>Intr</code> in another inheritance chain, you don't need it.  Also, it might make sense to move the <code>implements Intr</code> up to the abstract class definition.</p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1341243945,"creation_date":1341243534,"answer_id":11296849,"question_id":11296789,"body_markdown":"You can only override methods defined in another class.\r\n\r\nMethods declared in an interface are merely implemented. This distinction exists in Java to tackle the problem of multiple inheritance. A class can only extend one parent class, therefore any calls to `super` will be resolved without ambiguity. Classes however can implement several interfaces, which can all declare the same method. It&#39;s best to think of interfaces as a list of &quot;must have&quot;s: to qualify as a `Comparable` your cluss must have a `compareTo()` method but it doesn&#39;t matter where it came from or what other interfaces require that same method.\r\n\r\nSo technically you override `Abs.m1()` and implement `Intr.m1()` in one fell swoop.\r\n\r\nNote that this would be fine too:\r\n\r\n    public class B extends Abs implements Intr {\r\n\r\n        //m1() is inherited from Abs, so there&#39;s no need to override it to satisfy the interface\r\n    }\r\n","title":"Same method in Interface and Abstract class","body":"<p>You can only override methods defined in another class.</p>\n\n<p>Methods declared in an interface are merely implemented. This distinction exists in Java to tackle the problem of multiple inheritance. A class can only extend one parent class, therefore any calls to <code>super</code> will be resolved without ambiguity. Classes however can implement several interfaces, which can all declare the same method. It's best to think of interfaces as a list of \"must have\"s: to qualify as a <code>Comparable</code> your cluss must have a <code>compareTo()</code> method but it doesn't matter where it came from or what other interfaces require that same method.</p>\n\n<p>So technically you override <code>Abs.m1()</code> and implement <code>Intr.m1()</code> in one fell swoop.</p>\n\n<p>Note that this would be fine too:</p>\n\n<pre><code>public class B extends Abs implements Intr {\n\n    //m1() is inherited from Abs, so there's no need to override it to satisfy the interface\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1115019,"reputation":1399,"user_id":1104582,"display_name":"Alexey A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574935985,"creation_date":1341243582,"answer_id":11296867,"question_id":11296789,"body_markdown":"`@Override` ensures you override the method with no difference Interface or abstract superclass. So no error with override.\r\n\r\nOn the other hand Interface method is also implemented in the superclass which is enough for Interface contracts.","title":"Same method in Interface and Abstract class","body":"<p><code>@Override</code> ensures you override the method with no difference Interface or abstract superclass. So no error with override.</p>\n\n<p>On the other hand Interface method is also implemented in the superclass which is enough for Interface contracts.</p>\n"},{"tags":[],"owner":{"account_id":4380988,"reputation":1306,"user_id":3572643,"display_name":"Vijay Gajera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646685647,"creation_date":1434023175,"answer_id":30779889,"question_id":11296789,"body_markdown":"Here, both the interface and abstract class have the same method.\r\n\r\nYou have one class with named `Derived` which **extends** an `abstract` **class** and `implement` an **interface**. It&#39;s true and you override print method on `Derived` class it&#39;s fine and it compiles correctly and does not give any error but here you can&#39;t identify which class method is overridden like abstract class or interface.\r\n\r\nThis is runtime **polymorphism** you can&#39;t create an instance of an *abstract class* or *interface* but you can create a reference **variable of that type**. Here the solution is you can&#39;t identify that on compile-time it&#39;s actually overridden at run time.\r\n\r\n    interface AnInterface\r\n    {\r\n        public void print();\r\n    }\r\n    abstract class Base\r\n    {\r\n        public abstract void print();\r\n    }\r\n    public class Derived extends Base implements AnInterface\r\n    {\r\n        public void print(){\r\n    \t\tSystem.out.println(&quot;hello&quot;);\r\n    \t}\r\n    \t\tAnInterface iRef = new Derived();\r\n    \t\tiRef.print(); // It means interface method is overridden and it&#39;s decided when we call the method.\r\n    \t\tBase base = new Derived();\r\n    \t\tbase.print(); // It means abstract class method is overridden.\r\n    }","title":"Same method in Interface and Abstract class","body":"<p>Here, both the interface and abstract class have the same method.</p>\n<p>You have one class with named <code>Derived</code> which <strong>extends</strong> an <code>abstract</code> <strong>class</strong> and <code>implement</code> an <strong>interface</strong>. It's true and you override print method on <code>Derived</code> class it's fine and it compiles correctly and does not give any error but here you can't identify which class method is overridden like abstract class or interface.</p>\n<p>This is runtime <strong>polymorphism</strong> you can't create an instance of an <em>abstract class</em> or <em>interface</em> but you can create a reference <strong>variable of that type</strong>. Here the solution is you can't identify that on compile-time it's actually overridden at run time.</p>\n<pre><code>interface AnInterface\n{\n    public void print();\n}\nabstract class Base\n{\n    public abstract void print();\n}\npublic class Derived extends Base implements AnInterface\n{\n    public void print(){\n        System.out.println(&quot;hello&quot;);\n    }\n        AnInterface iRef = new Derived();\n        iRef.print(); // It means interface method is overridden and it's decided when we call the method.\n        Base base = new Derived();\n        base.print(); // It means abstract class method is overridden.\n}\n</code></pre>\n"}],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17805,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":11296833,"answer_count":4,"score":24,"last_activity_date":1646685647,"creation_date":1341243295,"question_id":11296789,"body_markdown":"I came to situation :\r\n\r\n    public interface Intr {\r\n    \tpublic void m1();\r\n    }\r\n    \r\n    public abstract class Abs {\r\n    \tpublic void m1() {\r\n    \t\tSystem.out.println(&quot;Abs.m1()&quot;);\r\n    \t}\r\n        // public abstract void m1();\r\n    }\r\n    \r\n    public class A extends Abs implements Intr {\r\n    \r\n    \t@Override\r\n    \tpublic void m1() {\r\n    \t\t// which method am I overriding, well it is Abs.m1() but why?\r\n    \t\t// if method implemented is Abs.m1(), then why I am not getting error for Intr.m1() not implemented.\r\n    \t}\r\n    \r\n    }","title":"Same method in Interface and Abstract class","body":"<p>I came to situation :</p>\n\n<pre><code>public interface Intr {\n    public void m1();\n}\n\npublic abstract class Abs {\n    public void m1() {\n        System.out.println(\"Abs.m1()\");\n    }\n    // public abstract void m1();\n}\n\npublic class A extends Abs implements Intr {\n\n    @Override\n    public void m1() {\n        // which method am I overriding, well it is Abs.m1() but why?\n        // if method implemented is Abs.m1(), then why I am not getting error for Intr.m1() not implemented.\n    }\n\n}\n</code></pre>\n"},{"tags":["java","date","kotlin","jackson","java-time"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1532859999,"creation_date":1532691285,"answer_id":51557100,"question_id":51557009,"body_markdown":"`dateFormat` only applies to `Date` objects - the 3 other objects are handled by the `JavaTimeModule`, which uses ISO formatting by default.\r\n\r\nIf you want a different format, you can use:\r\n\r\n    val format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n\r\n    val javaTimeModule = JavaTimeModule();\r\n    javaTimeModule.addSerializer(LocalDateTime.class, LocalDateTimeSerializer(format));\r\n    javaTimeModule.addSerializer(ZonedDateTime.class, ZonedDateTimeSerializer(format));\r\n    mapper.registerModule(javaTimeModule);\r\n\r\nYou may also need to add `mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);` but I&#39;m not 100% sure that it&#39;s necessary.\r\n\r\nAlso note that with that format, you will lose time zone and offset information. So you may want a different format for Offset/Zoned-DateTimes.","title":"Why aren&#39;t milliseconds excluded from JSON when using dateFormat in Jackson&#39;s ObjectMapper with Java 8 dates?","body":"<p><code>dateFormat</code> only applies to <code>Date</code> objects - the 3 other objects are handled by the <code>JavaTimeModule</code>, which uses ISO formatting by default.</p>\n\n<p>If you want a different format, you can use:</p>\n\n<pre><code>val format = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss\");\n\nval javaTimeModule = JavaTimeModule();\njavaTimeModule.addSerializer(LocalDateTime.class, LocalDateTimeSerializer(format));\njavaTimeModule.addSerializer(ZonedDateTime.class, ZonedDateTimeSerializer(format));\nmapper.registerModule(javaTimeModule);\n</code></pre>\n\n<p>You may also need to add <code>mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);</code> but I'm not 100% sure that it's necessary.</p>\n\n<p>Also note that with that format, you will lose time zone and offset information. So you may want a different format for Offset/Zoned-DateTimes.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532723303,"creation_date":1532722903,"answer_id":51565040,"question_id":51557009,"body_markdown":"The [Answer by assylias](https://stackoverflow.com/a/51557100/642706) is correct. Here are some further thoughts.\r\n\r\n# Truncate\r\n\r\nIf you really do not want the fractional second at all, truncate to whole seconds.\r\n\r\n    Instant instant = Instant.now().truncatedTo( ChronoUnit.SECONDS ) ;\r\n    OffsetDateTime odt = OffsetDateTime.now().truncatedTo( ChronoUnit.SECONDS ) ;\r\n    ZonedDateTime zdt = ZonedDateTime.now().truncatedTo( ChronoUnit.SECONDS ) ;\r\n\r\nThe formatters used by the various `toString` methods by default omit any text representing the fractional second if the value is zero. \r\n\r\nSo the value of:\r\n\r\n&gt;2018-07-27T13:18:26.452+02:00\r\n\r\n…becomes:\r\n\r\n&gt;2018-07-27T13:18:26.000+02:00\r\n\r\n…and its `String` representation will be generated as seconds without a fraction:\r\n\r\n&gt;2018-07-27T13:18:26+02:00\r\n\r\nTry it.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.parse( &quot;2018-07-27T13:18:26.452+02:00&quot; ) ;\r\n    OffsetDateTime odtTrunc = odt.truncatedTo( ChronoUnit.SECONDS ) ;\r\n        \r\n    System.out.println( &quot;odt.toString(): &quot; + odt ) ;\r\n    System.out.println( &quot;odtTrunc.toString(): &quot; + odtTrunc ) ;\r\n\r\nTry that [code live at IdeOne.com][1].\r\n\r\n&gt;odt.toString(): 2018-07-27T13:18:26.452+02:00\r\n\r\n&gt;odtTrunc.toString(): 2018-07-27T13:18:26+02:00\r\n\r\n\r\n\r\n# Avoid legacy classes\r\n\r\nThe code in your Question confuses me. Do not mix the troublesome old legacy date-time classes such as `Date` &amp; `SimpleDateFormat` with the modern *java.time* classes. The legacy classes are entirely supplanted by the modern ones.\r\n\r\n# Timeline\r\n\r\nBe clear that `LocalDateTime` serves a very different purpose than `Instant`, `OffsetDateTime`, and `ZonedDateTime`. A `LocalDateTime` object purposely lacks any concept of time zone or offset-from-UTC. So it *cannot* represent a moment, is *not* a point on the timeline.\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://ideone.com/yRfBPw","title":"Why aren&#39;t milliseconds excluded from JSON when using dateFormat in Jackson&#39;s ObjectMapper with Java 8 dates?","body":"<p>The <a href=\"https://stackoverflow.com/a/51557100/642706\">Answer by assylias</a> is correct. Here are some further thoughts.</p>\n\n<h1>Truncate</h1>\n\n<p>If you really do not want the fractional second at all, truncate to whole seconds.</p>\n\n<pre><code>Instant instant = Instant.now().truncatedTo( ChronoUnit.SECONDS ) ;\nOffsetDateTime odt = OffsetDateTime.now().truncatedTo( ChronoUnit.SECONDS ) ;\nZonedDateTime zdt = ZonedDateTime.now().truncatedTo( ChronoUnit.SECONDS ) ;\n</code></pre>\n\n<p>The formatters used by the various <code>toString</code> methods by default omit any text representing the fractional second if the value is zero. </p>\n\n<p>So the value of:</p>\n\n<blockquote>\n  <p>2018-07-27T13:18:26.452+02:00</p>\n</blockquote>\n\n<p>…becomes:</p>\n\n<blockquote>\n  <p>2018-07-27T13:18:26.000+02:00</p>\n</blockquote>\n\n<p>…and its <code>String</code> representation will be generated as seconds without a fraction:</p>\n\n<blockquote>\n  <p>2018-07-27T13:18:26+02:00</p>\n</blockquote>\n\n<p>Try it.</p>\n\n<pre><code>OffsetDateTime odt = OffsetDateTime.parse( \"2018-07-27T13:18:26.452+02:00\" ) ;\nOffsetDateTime odtTrunc = odt.truncatedTo( ChronoUnit.SECONDS ) ;\n\nSystem.out.println( \"odt.toString(): \" + odt ) ;\nSystem.out.println( \"odtTrunc.toString(): \" + odtTrunc ) ;\n</code></pre>\n\n<p>Try that <a href=\"https://ideone.com/yRfBPw\" rel=\"nofollow noreferrer\">code live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>odt.toString(): 2018-07-27T13:18:26.452+02:00</p>\n  \n  <p>odtTrunc.toString(): 2018-07-27T13:18:26+02:00</p>\n</blockquote>\n\n<h1>Avoid legacy classes</h1>\n\n<p>The code in your Question confuses me. Do not mix the troublesome old legacy date-time classes such as <code>Date</code> &amp; <code>SimpleDateFormat</code> with the modern <em>java.time</em> classes. The legacy classes are entirely supplanted by the modern ones.</p>\n\n<h1>Timeline</h1>\n\n<p>Be clear that <code>LocalDateTime</code> serves a very different purpose than <code>Instant</code>, <code>OffsetDateTime</code>, and <code>ZonedDateTime</code>. A <code>LocalDateTime</code> object purposely lacks any concept of time zone or offset-from-UTC. So it <em>cannot</em> represent a moment, is <em>not</em> a point on the timeline.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":7801255,"reputation":383,"user_id":5900620,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4826,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51557100,"answer_count":2,"score":5,"last_activity_date":1646685305,"creation_date":1532690859,"question_id":51557009,"body_markdown":"I am trying to figure out why Jackson (2.9.5) formats dates from Java 8 incorrectly. \r\n\r\n```lang-kotlin\r\ndata class Test(\r\n        val zonedDateTim: ZonedDateTime = ZonedDateTime.now(),\r\n        val offsetDateTim: OffsetDateTime = OffsetDateTime.now(),\r\n        val date: Date = Date(),\r\n        val localDateTime: LocalDateTime = LocalDateTime.now()\r\n)\r\n\r\nval mapper = ObjectMapper().apply {\r\n    registerModule(KotlinModule())\r\n    registerModule(JavaTimeModule())\r\n    dateFormat = SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n    enable(SerializationFeature.INDENT_OUTPUT)\r\n}\r\n\r\nprintln(mapper.writeValueAsString(Test()))\r\n```\r\n\r\nFrom the date format I provided I would expect to get dates formatted without milliseconds but instead the result looks like this:\r\n\r\n```lang-json\r\n{\r\n  &quot;zonedDateTim&quot; : &quot;2018-07-27T13:18:26.452+02:00&quot;,\r\n  &quot;offsetDateTim&quot; : &quot;2018-07-27T13:18:26.452+02:00&quot;,\r\n  &quot;date&quot; : &quot;2018-07-27T13:18:26&quot;,\r\n  &quot;localDateTime&quot; : &quot;2018-07-27T13:18:26.452&quot;\r\n}\r\n```\r\n\r\nWhy are milliseconds being included in the formatted dates?","title":"Why aren&#39;t milliseconds excluded from JSON when using dateFormat in Jackson&#39;s ObjectMapper with Java 8 dates?","body":"<p>I am trying to figure out why Jackson (2.9.5) formats dates from Java 8 incorrectly.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Test(\n        val zonedDateTim: ZonedDateTime = ZonedDateTime.now(),\n        val offsetDateTim: OffsetDateTime = OffsetDateTime.now(),\n        val date: Date = Date(),\n        val localDateTime: LocalDateTime = LocalDateTime.now()\n)\n\nval mapper = ObjectMapper().apply {\n    registerModule(KotlinModule())\n    registerModule(JavaTimeModule())\n    dateFormat = SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n    enable(SerializationFeature.INDENT_OUTPUT)\n}\n\nprintln(mapper.writeValueAsString(Test()))\n</code></pre>\n<p>From the date format I provided I would expect to get dates formatted without milliseconds but instead the result looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;zonedDateTim&quot; : &quot;2018-07-27T13:18:26.452+02:00&quot;,\n  &quot;offsetDateTim&quot; : &quot;2018-07-27T13:18:26.452+02:00&quot;,\n  &quot;date&quot; : &quot;2018-07-27T13:18:26&quot;,\n  &quot;localDateTime&quot; : &quot;2018-07-27T13:18:26.452&quot;\n}\n</code></pre>\n<p>Why are milliseconds being included in the formatted dates?</p>\n"},{"tags":["java","graalvm","graalvm-native-image","substratevm"],"answers":[{"tags":[],"owner":{"account_id":125486,"reputation":2868,"user_id":321302,"accept_rate":100,"display_name":"Steves"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646685087,"creation_date":1598507292,"answer_id":63609912,"question_id":63609134,"body_markdown":"You need to tell native image what resources to include via `-H:IncludeResources=path`. The value can be a regular expression.\r\n\r\nSee the documentation for more details: https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Resources.md","title":"GraalVM native-image how to read resource file from Jar","body":"<p>You need to tell native image what resources to include via <code>-H:IncludeResources=path</code>. The value can be a regular expression.</p>\n<p>See the documentation for more details: <a href=\"https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Resources.md\" rel=\"nofollow noreferrer\">https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Resources.md</a></p>\n"}],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2987,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63609912,"answer_count":1,"score":2,"last_activity_date":1646685087,"creation_date":1598502047,"question_id":63609134,"body_markdown":"I have a jar file which contain some text file inside, I am trying to load the file as:\r\n\r\n`InputStream in = Thread.currentThread().getContextClassLoader().getResourceAsStream(path);`\r\n\r\nIt doesn&#39;t work as error showing :\r\n\r\n    [SUB] java.lang.NullPointerException\r\n    [Thu Aug 27 12:07:48 SGT 2020][INFO] [SUB] \tat java.io.Reader.&lt;init&gt;(Reader.java:167)\r\n    [Thu Aug 27 12:07:48 SGT 2020][INFO] [SUB] \tat hellofx.HelloFX.readFileAsStringFromJar(HelloFX.java:116)\r\n    [Thu Aug 27 12:07:48 SGT 2020][INFO] [SUB] \tat hellofx.HelloFX.test(HelloFX.java:107)\r\n\r\nIf I try to extract the resource file into classpath `src/main/resources`, then it is working fine.\r\n\r\nMy question is, could we read resource file from Jar (when running in [GraalVM][1] native-image)? There are plenty of third party Java libraries which are reading the resource files that are bundled together in the same Jar, how could we overcome this?\r\n\r\nPS update:\r\n\r\nit is indeed my mistake, confused with `class.getResource()` and `class.getClassLoader().getResource()`. One require slash in the beginning and another doesn&#39;t allow. Once I removed the slash in `path` variable, it is working fine.\r\n\r\n\r\n  [1]: https://www.graalvm.org/reference-manual/native-image/Resources/","title":"GraalVM native-image how to read resource file from Jar","body":"<p>I have a jar file which contain some text file inside, I am trying to load the file as:</p>\n<p><code>InputStream in = Thread.currentThread().getContextClassLoader().getResourceAsStream(path);</code></p>\n<p>It doesn't work as error showing :</p>\n<pre><code>[SUB] java.lang.NullPointerException\n[Thu Aug 27 12:07:48 SGT 2020][INFO] [SUB]  at java.io.Reader.&lt;init&gt;(Reader.java:167)\n[Thu Aug 27 12:07:48 SGT 2020][INFO] [SUB]  at hellofx.HelloFX.readFileAsStringFromJar(HelloFX.java:116)\n[Thu Aug 27 12:07:48 SGT 2020][INFO] [SUB]  at hellofx.HelloFX.test(HelloFX.java:107)\n</code></pre>\n<p>If I try to extract the resource file into classpath <code>src/main/resources</code>, then it is working fine.</p>\n<p>My question is, could we read resource file from Jar (when running in <a href=\"https://www.graalvm.org/reference-manual/native-image/Resources/\" rel=\"nofollow noreferrer\">GraalVM</a> native-image)? There are plenty of third party Java libraries which are reading the resource files that are bundled together in the same Jar, how could we overcome this?</p>\n<p>PS update:</p>\n<p>it is indeed my mistake, confused with <code>class.getResource()</code> and <code>class.getClassLoader().getResource()</code>. One require slash in the beginning and another doesn't allow. Once I removed the slash in <code>path</code> variable, it is working fine.</p>\n"},{"tags":["java","serialization","graph"],"comments":[{"owner":{"account_id":7975266,"reputation":1848,"user_id":6018655,"accept_rate":100,"display_name":"Cristian Ramon-Cortes"},"score":0,"creation_date":1573223237,"post_id":58768024,"comment_id":103822577,"body_markdown":"Maybe [the answer to this question](https://stackoverflow.com/questions/717090/efficient-java-object-graph-serialization) can be useful to you.","body":"Maybe <a href=\"https://stackoverflow.com/questions/717090/efficient-java-object-graph-serialization\">the answer to this question</a> can be useful to you."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1573224346,"post_id":58768024,"comment_id":103823225,"body_markdown":"*&quot;I have tried java serialization, but I get a stackoverflowerror since the list is too long.&quot;* A large list will **not** cause `StackOverflowError`, though it might cause `OutOfMemoryError`. The stack will only run over if you have circular references.","body":"<i>&quot;I have tried java serialization, but I get a stackoverflowerror since the list is too long.&quot;</i> A large list will <b>not</b> cause <code>StackOverflowError</code>, though it might cause <code>OutOfMemoryError</code>. The stack will only run over if you have circular references."},{"owner":{"account_id":1558580,"reputation":798,"user_id":1449005,"accept_rate":92,"display_name":"Ef Ge"},"score":0,"creation_date":1573225300,"post_id":58768024,"comment_id":103823777,"body_markdown":"&quot;Maybe the answer to this question can be useful to you.&quot; I have searched the whole internet :)","body":"&quot;Maybe the answer to this question can be useful to you.&quot; I have searched the whole internet :)"},{"owner":{"account_id":1558580,"reputation":798,"user_id":1449005,"accept_rate":92,"display_name":"Ef Ge"},"score":0,"creation_date":1573225321,"post_id":58768024,"comment_id":103823790,"body_markdown":"&quot;A large list will not cause StackOverflowError, though it might cause OutOfMemoryError&quot; You are right. I will correct it","body":"&quot;A large list will not cause StackOverflowError, though it might cause OutOfMemoryError&quot; You are right. I will correct it"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646695269,"post_id":58768024,"comment_id":126183301,"body_markdown":"@Andreas You don&#39;t get a stack overflow because of too many circular references. You get it because the object inclusion nesting level is too deep.","body":"@Andreas You don&#39;t get a stack overflow because of too many circular references. You get it because the object inclusion nesting level is too deep."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646695576,"post_id":58768024,"comment_id":126183345,"body_markdown":"@JasonAller Some of us spell &#39;neighbour&#39; with a &#39;u&#39;. Don&#39;t &#39;correct&#39; regional variations please.","body":"@JasonAller Some of us spell &#39;neighbour&#39; with a &#39;u&#39;. Don&#39;t &#39;correct&#39; regional variations please."}],"owner":{"account_id":1558580,"reputation":798,"user_id":1449005,"accept_rate":92,"display_name":"Ef Ge"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646684784,"creation_date":1573221691,"question_id":58768024,"body_markdown":"I have a List with 100.000 elements in it.\r\nEvery of these elements contains a Hashmap, which stores many of those elements.\r\n\r\nThe calculation of the dependencies between the objects takes a very long time, so I want to serialize the result to read it fast. The elements are nodes of a graph and the elements in the hashmap are their neighbors and the edge-weights-\r\n\r\nIt is important to keep the references between the objects after deserialization, that means the elements in the hashmap must be exactly the same objects like those in my 100.000 elements list.\r\nI have tried java serialization, but I get a stackoverflowerror since the list has too many circular references.\r\nI have tried to serialize each of the elements in an extra step:\r\n\r\n    out.writeObject(o);\r\nis called for every element in the list. \r\nBut after deserialization, the hashmaps in the elements are null.\r\n\r\nI have tried to store it into database using hibernate, but if I use\r\n\r\n    @org.hibernate.annotations.Type(\r\n\t        type = &quot;org.hibernate.type.SerializableToBlobType&quot;\r\n\t )\r\nThe elements in my map looks the same, but are new objects.\r\n\r\nI have created a new class which contains the key and object from my map and stored it in an extra database-table but hibernate takes forever fetching these.\r\n\r\nReplacing the objects after deserialization with their originals takes forever, too.\r\n\r\nDoes anybody has an idea how to store this list to use it fast at anytime?\r\nI am willing to try another dataformat to store the graph. Are there some ideas?\r\nThank you!","title":"java: Serialize large List with references","body":"<p>I have a List with 100.000 elements in it.\nEvery of these elements contains a Hashmap, which stores many of those elements.</p>\n<p>The calculation of the dependencies between the objects takes a very long time, so I want to serialize the result to read it fast. The elements are nodes of a graph and the elements in the hashmap are their neighbors and the edge-weights-</p>\n<p>It is important to keep the references between the objects after deserialization, that means the elements in the hashmap must be exactly the same objects like those in my 100.000 elements list.\nI have tried java serialization, but I get a stackoverflowerror since the list has too many circular references.\nI have tried to serialize each of the elements in an extra step:</p>\n<pre><code>out.writeObject(o);\n</code></pre>\n<p>is called for every element in the list.\nBut after deserialization, the hashmaps in the elements are null.</p>\n<p>I have tried to store it into database using hibernate, but if I use</p>\n<pre><code>@org.hibernate.annotations.Type(\n        type = &quot;org.hibernate.type.SerializableToBlobType&quot;\n )\n</code></pre>\n<p>The elements in my map looks the same, but are new objects.</p>\n<p>I have created a new class which contains the key and object from my map and stored it in an extra database-table but hibernate takes forever fetching these.</p>\n<p>Replacing the objects after deserialization with their originals takes forever, too.</p>\n<p>Does anybody has an idea how to store this list to use it fast at anytime?\nI am willing to try another dataformat to store the graph. Are there some ideas?\nThank you!</p>\n"},{"tags":["java","spring","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1646684305,"creation_date":1518452356,"answer_id":48750910,"question_id":48749034,"body_markdown":"Your regex is not valid; it should be `betsyncDataTopic.*`.\r\n\r\n\t@KafkaListener(id = &quot;xxx&quot;, topicPattern = &quot;kbgh.*&quot;)\r\n\tpublic void listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n...\r\n\r\n    partitions assigned: [kbgh290-0]\r\n\r\n__EDIT__\r\n\r\nIf you later add new topics that match the pattern, there will be a delay before the rebalance. According to the `KafkaConsumer` javadocs...\r\n\r\n     * Subscribe to all topics matching specified pattern to get dynamically assigned partitions.\r\n     * The pattern matching will be done periodically against topic existing at the time of check.\r\n     * &lt;p&gt;\r\n     * As part of group management, the consumer will keep track of the list of consumers that\r\n     * belong to a particular group and will trigger a rebalance operation if one of the\r\n     * following events trigger -\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;Number of partitions change for any of the subscribed list of topics\r\n     * &lt;li&gt;Topic is created or deleted\r\n     * &lt;li&gt;An existing member of the consumer group dies\r\n     * &lt;li&gt;A new member is added to an existing consumer group via the join API\r\n     * &lt;/ul&gt;\r\n\r\n\r\nI just ran a test; added a new matching topic at `12:13:32`; result:\r\n\r\n    2018-02-12 12:17:30.394  INFO 88028 --- [      xxx-0-C-1] o.s.k.l.KafkaMessageListenerContainer    \r\n    : partitions revoked: [kbgh290-0]\r\n    2018-02-12 12:17:30.450  INFO 88028 --- [      xxx-0-C-1] o.s.k.l.KafkaMessageListenerContainer    \r\n    : partitions assigned: [kbgh290-0, kbghNew-0]\r\n\r\n\r\nSo it takes 5 minutes, by default.\r\n\r\nhttps://kafka.apache.org/documentation/#consumerconfigs_metadata.max.age.ms\r\n\r\n&gt;The period of time in milliseconds after which we force a refresh of metadata even if we haven&#39;t seen any partition leadership changes to proactively discover any new brokers or partitions.","title":"spring Kafka listening to regex","body":"<p>Your regex is not valid; it should be <code>betsyncDataTopic.*</code>.</p>\n<pre><code>@KafkaListener(id = &quot;xxx&quot;, topicPattern = &quot;kbgh.*&quot;)\npublic void listen(String in) {\n    System.out.println(in);\n}\n</code></pre>\n<p>...</p>\n<pre><code>partitions assigned: [kbgh290-0]\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>If you later add new topics that match the pattern, there will be a delay before the rebalance. According to the <code>KafkaConsumer</code> javadocs...</p>\n<pre><code> * Subscribe to all topics matching specified pattern to get dynamically assigned partitions.\n * The pattern matching will be done periodically against topic existing at the time of check.\n * &lt;p&gt;\n * As part of group management, the consumer will keep track of the list of consumers that\n * belong to a particular group and will trigger a rebalance operation if one of the\n * following events trigger -\n * &lt;ul&gt;\n * &lt;li&gt;Number of partitions change for any of the subscribed list of topics\n * &lt;li&gt;Topic is created or deleted\n * &lt;li&gt;An existing member of the consumer group dies\n * &lt;li&gt;A new member is added to an existing consumer group via the join API\n * &lt;/ul&gt;\n</code></pre>\n<p>I just ran a test; added a new matching topic at <code>12:13:32</code>; result:</p>\n<pre><code>2018-02-12 12:17:30.394  INFO 88028 --- [      xxx-0-C-1] o.s.k.l.KafkaMessageListenerContainer    \n: partitions revoked: [kbgh290-0]\n2018-02-12 12:17:30.450  INFO 88028 --- [      xxx-0-C-1] o.s.k.l.KafkaMessageListenerContainer    \n: partitions assigned: [kbgh290-0, kbghNew-0]\n</code></pre>\n<p>So it takes 5 minutes, by default.</p>\n<p><a href=\"https://kafka.apache.org/documentation/#consumerconfigs_metadata.max.age.ms\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/#consumerconfigs_metadata.max.age.ms</a></p>\n<blockquote>\n<p>The period of time in milliseconds after which we force a refresh of metadata even if we haven't seen any partition leadership changes to proactively discover any new brokers or partitions.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1618547,"reputation":1,"user_id":1495601,"display_name":"ilkay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641544812,"creation_date":1641540343,"answer_id":70617858,"question_id":48749034,"body_markdown":"topicPattern should be **betsyncDataTopic.***\r\n\r\nwhen topic is created, consumer have to wait to refresh with new metadata. it takes 5 minutes because of metadata.max.age.ms default value:  &lt;https://kafka.apache.org/documentation/#producerconfigs_metadata.max.age.ms&gt;","title":"spring Kafka listening to regex","body":"<p>topicPattern should be <strong>betsyncDataTopic.</strong>*</p>\n<p>when topic is created, consumer have to wait to refresh with new metadata. it takes 5 minutes because of metadata.max.age.ms default value:  <a href=\"https://kafka.apache.org/documentation/#producerconfigs_metadata.max.age.ms\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/#producerconfigs_metadata.max.age.ms</a></p>\n"}],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7778,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48750910,"answer_count":2,"score":7,"last_activity_date":1646684305,"creation_date":1518446753,"question_id":48749034,"body_markdown":"I am trying to listen newly created topic with the below code, but is not working. Can you please tell me if the below code is correct?\r\n\r\n\r\n    public class KafkaMessageListener {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(KafkaMessageListener.class);\r\n    \r\n        private final ProcessEventModel eventModel;\r\n    \r\n        @KafkaListener(topicPattern = &quot;betsyncDataTopic*&quot;)\r\n        public void receive(ConsumerRecord&lt;String, String&gt; consumerRecord) {\r\n            LOGGER.info(&quot;received payload at &#39;{}&#39;&quot;, consumerRecord.timestamp());\r\n            eventModel.process(consumerRecord.value());\r\n        }\r\n\r\n","title":"spring Kafka listening to regex","body":"<p>I am trying to listen newly created topic with the below code, but is not working. Can you please tell me if the below code is correct?</p>\n\n<pre><code>public class KafkaMessageListener {\n    private static final Logger LOGGER = LoggerFactory.getLogger(KafkaMessageListener.class);\n\n    private final ProcessEventModel eventModel;\n\n    @KafkaListener(topicPattern = \"betsyncDataTopic*\")\n    public void receive(ConsumerRecord&lt;String, String&gt; consumerRecord) {\n        LOGGER.info(\"received payload at '{}'\", consumerRecord.timestamp());\n        eventModel.process(consumerRecord.value());\n    }\n</code></pre>\n"},{"tags":["java","sql-server","spring","transactions","jta"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1389948345,"post_id":21180576,"comment_id":31889570,"body_markdown":"Yuor configuration is lacking XA datasources, and you don&#39;t have a JtaTransactionManager to manage your transactions you still have the HibernateTransactionManager. Next to that you seem to have missed the proper hibernate setup for JTA. I suggest a read of th Atomikos documentation for this.","body":"Yuor configuration is lacking XA datasources, and you don&#39;t have a JtaTransactionManager to manage your transactions you still have the HibernateTransactionManager. Next to that you seem to have missed the proper hibernate setup for JTA. I suggest a read of th Atomikos documentation for this."},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1389948465,"post_id":21180576,"comment_id":31889627,"body_markdown":"@M.Deinum Thanks for your note. Can you point me to something more specific especially about the XA Datasources? I had the JtaTransactionManager in at some point. I will try it again. The two HibernateTransactionManagers are defined but not used currently. Do I need to call begin and commit on the JtaTransactionManager or on the Atomikos impl TM?","body":"@M.Deinum Thanks for your note. Can you point me to something more specific especially about the XA Datasources? I had the JtaTransactionManager in at some point. I will try it again. The two HibernateTransactionManagers are defined but not used currently. Do I need to call begin and commit on the JtaTransactionManager or on the Atomikos impl TM?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1389948739,"post_id":21180576,"comment_id":31889784,"body_markdown":"JTA will only work with datasources that support it, currently you only have non xa datasources. And as mentioned you don&#39;t seem to have configured hibernate correctly for JTA with Atomikos either. If I recall correctly atomikos has xa wrappers for datasources.","body":"JTA will only work with datasources that support it, currently you only have non xa datasources. And as mentioned you don&#39;t seem to have configured hibernate correctly for JTA with Atomikos either. If I recall correctly atomikos has xa wrappers for datasources."},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1389950830,"post_id":21180576,"comment_id":31891027,"body_markdown":"@M.Deinum Thanks again. Even by using JtaTransactionManager it does not work (I mean I see the same behavior). I call getUserTransaction on that manager, then I call begin/commit/rollback on the UserTransaction. Still no luck. I read that even non-XA datasources can participate in a global transaction but seems the setup is more complex than that or I am still missing something basic here. See &quot;Edit 1&quot;.","body":"@M.Deinum Thanks again. Even by using JtaTransactionManager it does not work (I mean I see the same behavior). I call getUserTransaction on that manager, then I call begin/commit/rollback on the UserTransaction. Still no luck. I read that even non-XA datasources can participate in a global transaction but seems the setup is more complex than that or I am still missing something basic here. See &quot;Edit 1&quot;."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1389950861,"post_id":21180576,"comment_id":31891050,"body_markdown":"You can have a single non xa resource participating in a global transaction not multiple. As mentioned if you don&#39;t setup things correctly (datasources, hibernate) it isn&#39;t going to work. You cannot just slap a `UserTransactionManager` etc. in there and expect it to work.","body":"You can have a single non xa resource participating in a global transaction not multiple. As mentioned if you don&#39;t setup things correctly (datasources, hibernate) it isn&#39;t going to work. You cannot just slap a <code>UserTransactionManager</code> etc. in there and expect it to work."},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1389951441,"post_id":21180576,"comment_id":31891437,"body_markdown":"@M.Deinum But even on the 1st datasource, I don&#39;t get why it&#39;s committing all the data before I call the ut.commit. Seems this UserTransactionManager is currently totally disconnected from my two non XA datasources. They are both not under its control, that&#39;s what it seems to me.","body":"@M.Deinum But even on the 1st datasource, I don&#39;t get why it&#39;s committing all the data before I call the ut.commit. Seems this UserTransactionManager is currently totally disconnected from my two non XA datasources. They are both not under its control, that&#39;s what it seems to me."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1389951775,"post_id":21180576,"comment_id":31891644,"body_markdown":"It commits because there is no transaction, at least hibernate thinks so. As mentioned it isn&#39;t only the datasources you also need to configure hibernate correctly.","body":"It commits because there is no transaction, at least hibernate thinks so. As mentioned it isn&#39;t only the datasources you also need to configure hibernate correctly."}],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646683527,"creation_date":1389945172,"question_id":21180576,"body_markdown":"I am using Spring and trying to setup a global transaction spanning over two MS SQL Server DBs. The app is running inside Tomcat 6.\r\n\r\nI have these definitions:\r\n\r\n    &lt;bean id=&quot;dataSource1&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n    ....\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;sessionFactory1&quot;\r\n          class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource1&quot;/&gt;\r\n    ....\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;hibernateTransactionManager1&quot;\r\n          class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot;&gt;\r\n            &lt;ref local=&quot;sessionFactory1&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n    ....\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;sessionFactory2&quot;\r\n          class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource2&quot;/&gt;\r\n    ....\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;hibernateTransactionManager2&quot;\r\n          class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot;&gt;\r\n            &lt;ref local=&quot;sessionFactory2&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nThen also, each DAO is linked either to `sessionFactory1` or to `sessionFactory2`.\r\n\r\n    &lt;bean name=&quot;stateHibernateDao&quot; class=&quot;com.project.dao.StateHibernateDao&quot;&gt;\r\n          &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory1&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nAlso, I recently added these two.\r\n\r\n\t&lt;bean id=&quot;atomikosTransactionManager&quot; class=&quot;com.atomikos.icatch.jta.UserTransactionManager&quot; init-method=&quot;init&quot; destroy-method=&quot;close&quot;&gt; \r\n\t\t\t&lt;property name=&quot;forceShutdown&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;transactionTimeout&quot; value=&quot;300&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id=&quot;atomikosUserTransaction&quot; class=&quot;com.atomikos.icatch.jta.UserTransactionImp&quot;&gt; \r\n       &lt;property name=&quot;transactionTimeout&quot; value=&quot;300&quot; /&gt; \r\n    &lt;/bean&gt; \r\n\r\nI am trying to programmatically manage the global transaction\r\n(this is some old legacy code and I don&#39;t want to change it too \r\nmuch so I prefer keeping this managed programmatically).\r\n\r\nSo now I have this `UserTransaction ut` (injected from Spring), so I call `ut.begin()`, do some DB/DAO operations to the two DBs through the DAOs, then I call `ut.commit()`. \r\n\r\nThe thing is that even before the `ut.commit()` call, I can see the data is already committed to the DBs?! \r\n\r\n1) I don&#39;t think Atomikos is aware of my two DBs, their data sources, session factories, etc. I don&#39;t think it starts any transactions on them. Looks like they are not enlisted at all in the global transaction.\r\n\r\n2) To me it seems that each DB/DAO operation goes to the SQL Server on its own, so SQL Server creates an implicit transaction for just that DAO/DB operation, applies the operation and commits the implicit the transaction.\r\n\r\nBut 1) and 2) are just guesses of mine.\r\n\r\nMy questions:\r\n\r\n1. Do I need to start the two DB transactions myself (but OK, this is what I am currently doing and I am trying to get rid of; that&#39;s why I am trying to use Atomikos to start with)?\r\n\r\n2. How I can configure all this correctly so that when I call `ut.begin()` it begins a global transaction to the two DBs and when I call `ut.commit()` it commits it?\r\n\r\n3. I haven&#39;t played with JTA recently so seems to me I am missing something quite basic here. What is it?\r\n\r\nEdit 1\r\n---\r\n\r\n\t&lt;bean id=&quot;globalTransactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;userTransaction&quot; ref=&quot;atomikosUserTransaction&quot;/&gt;\r\n\t\t&lt;property name=&quot;transactionManager&quot; ref=&quot;atomikosTransactionManager&quot; /&gt;\r\n\t\t&lt;property name=&quot;allowCustomIsolationLevels&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;property name=&quot;transactionSynchronization&quot; value=&quot;2&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n","title":"Atomikos / Spring - Global Transaction over two DBs","body":"<p>I am using Spring and trying to setup a global transaction spanning over two MS SQL Server DBs. The app is running inside Tomcat 6.</p>\n<p>I have these definitions:</p>\n<pre><code>&lt;bean id=&quot;dataSource1&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\n....\n&lt;/bean&gt;\n\n&lt;bean id=&quot;sessionFactory1&quot;\n      class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource1&quot;/&gt;\n....\n&lt;/bean&gt;\n\n&lt;bean id=&quot;hibernateTransactionManager1&quot;\n      class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot;&gt;\n        &lt;ref local=&quot;sessionFactory1&quot;/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=&quot;dataSource2&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\n....\n&lt;/bean&gt;\n\n&lt;bean id=&quot;sessionFactory2&quot;\n      class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource2&quot;/&gt;\n....\n&lt;/bean&gt;\n\n&lt;bean id=&quot;hibernateTransactionManager2&quot;\n      class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot;&gt;\n        &lt;ref local=&quot;sessionFactory2&quot;/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Then also, each DAO is linked either to <code>sessionFactory1</code> or to <code>sessionFactory2</code>.</p>\n<pre><code>&lt;bean name=&quot;stateHibernateDao&quot; class=&quot;com.project.dao.StateHibernateDao&quot;&gt;\n      &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory1&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Also, I recently added these two.</p>\n<pre><code>&lt;bean id=&quot;atomikosTransactionManager&quot; class=&quot;com.atomikos.icatch.jta.UserTransactionManager&quot; init-method=&quot;init&quot; destroy-method=&quot;close&quot;&gt; \n        &lt;property name=&quot;forceShutdown&quot; value=&quot;false&quot; /&gt;\n        &lt;property name=&quot;transactionTimeout&quot; value=&quot;300&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;atomikosUserTransaction&quot; class=&quot;com.atomikos.icatch.jta.UserTransactionImp&quot;&gt; \n   &lt;property name=&quot;transactionTimeout&quot; value=&quot;300&quot; /&gt; \n&lt;/bean&gt; \n</code></pre>\n<p>I am trying to programmatically manage the global transaction\n(this is some old legacy code and I don't want to change it too\nmuch so I prefer keeping this managed programmatically).</p>\n<p>So now I have this <code>UserTransaction ut</code> (injected from Spring), so I call <code>ut.begin()</code>, do some DB/DAO operations to the two DBs through the DAOs, then I call <code>ut.commit()</code>.</p>\n<p>The thing is that even before the <code>ut.commit()</code> call, I can see the data is already committed to the DBs?!</p>\n<ol>\n<li><p>I don't think Atomikos is aware of my two DBs, their data sources, session factories, etc. I don't think it starts any transactions on them. Looks like they are not enlisted at all in the global transaction.</p>\n</li>\n<li><p>To me it seems that each DB/DAO operation goes to the SQL Server on its own, so SQL Server creates an implicit transaction for just that DAO/DB operation, applies the operation and commits the implicit the transaction.</p>\n</li>\n</ol>\n<p>But 1) and 2) are just guesses of mine.</p>\n<p>My questions:</p>\n<ol>\n<li><p>Do I need to start the two DB transactions myself (but OK, this is what I am currently doing and I am trying to get rid of; that's why I am trying to use Atomikos to start with)?</p>\n</li>\n<li><p>How I can configure all this correctly so that when I call <code>ut.begin()</code> it begins a global transaction to the two DBs and when I call <code>ut.commit()</code> it commits it?</p>\n</li>\n<li><p>I haven't played with JTA recently so seems to me I am missing something quite basic here. What is it?</p>\n</li>\n</ol>\n<h2>Edit 1</h2>\n<pre><code>&lt;bean id=&quot;globalTransactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;&gt;\n    &lt;property name=&quot;userTransaction&quot; ref=&quot;atomikosUserTransaction&quot;/&gt;\n    &lt;property name=&quot;transactionManager&quot; ref=&quot;atomikosTransactionManager&quot; /&gt;\n    &lt;property name=&quot;allowCustomIsolationLevels&quot; value=&quot;true&quot; /&gt;\n    &lt;property name=&quot;transactionSynchronization&quot; value=&quot;2&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1646681556,"post_id":71386063,"comment_id":126179509,"body_markdown":"No. The exception handler is already part of the exception path inthe dispatcher servlet, so you are already passed that. Also what makes you think that removing the special characters would fix it? What if a string was given for a number, or the value is plain invalid, then what? How would you fix that?","body":"No. The exception handler is already part of the exception path inthe dispatcher servlet, so you are already passed that. Also what makes you think that removing the special characters would fix it? What if a string was given for a number, or the value is plain invalid, then what? How would you fix that?"},{"owner":{"account_id":24483008,"reputation":3,"user_id":18401120,"display_name":"SpringDev"},"score":0,"creation_date":1646685108,"post_id":71386063,"comment_id":126180569,"body_markdown":"@M.Deinum The given example is arbitrary and not meant to provide a bullet-proof use case. I didn&#39;t want to spend time accounting for edge cases in a non-existent application.","body":"@M.Deinum The given example is arbitrary and not meant to provide a bullet-proof use case. I didn&#39;t want to spend time accounting for edge cases in a non-existent application."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646682686,"creation_date":1646682335,"answer_id":71386455,"question_id":71386063,"body_markdown":"It is not acceptable. `ExceptionHandler` is a common place where we can manage and handle exceptions and send the respective error code for the API response.\r\n&lt;br&gt;See [documentation][1].\r\n&lt;br&gt;It is designed for:\r\n&gt; - Handle exceptions without the @ResponseStatus annotation (typically predefined exceptions that you didn’t write)\r\n&gt; - Redirect the user to a dedicated error view\r\n&gt; - Build a totally custom error response\r\n\r\n&lt;br&gt; In your case special characters should be handled at json serialisation\\deserialisation stage. https://stackoverflow.com/questions/21576475/escape-json-string-in-java\r\n\r\n\r\n  [1]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","title":"Can the Spring ExceptionHandler be used to re-run endpoints?","body":"<p>It is not acceptable. <code>ExceptionHandler</code> is a common place where we can manage and handle exceptions and send the respective error code for the API response.\n<br>See <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">documentation</a>.\n<br>It is designed for:</p>\n<blockquote>\n<ul>\n<li>Handle exceptions without the @ResponseStatus annotation (typically predefined exceptions that you didn’t write)</li>\n<li>Redirect the user to a dedicated error view</li>\n<li>Build a totally custom error response</li>\n</ul>\n</blockquote>\n<p><br> In your case special characters should be handled at json serialisation\\deserialisation stage. <a href=\"https://stackoverflow.com/questions/21576475/escape-json-string-in-java\">Escape JSON string in Java</a></p>\n"}],"owner":{"account_id":24483008,"reputation":3,"user_id":18401120,"display_name":"SpringDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71386455,"answer_count":1,"score":0,"last_activity_date":1646682686,"creation_date":1646679967,"question_id":71386063,"body_markdown":"In my experience, limited though it may be, I have only ever seen the ExceptionHandler class used to immediately return exceptions. I know this is the purpose of an *Exception*Handler class but this brings me to my question: If a request fails validation, is it possible for the ExceptionHandler class to &quot;fix&quot; the request body and re-run the request?\r\n\r\nAs an example, given the following object:\r\n\r\n```\r\npublic class Person {\r\n    @Pattern(regexp = &quot;[A-Za-z]&quot;)\r\n    private String firstName;\r\n}\r\n```\r\n\r\nCould the following Handler class:\r\n\r\n```\r\n@ExceptionHandler(ParameterNotValidException.class)\r\npublic Map&lt;String, String&gt; handleValidationExceptions(\r\n  ParameterNotValidException ex) {\r\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n    ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n        String fieldName = ((FieldError) error).getField();\r\n        String errorMessage = error.getDefaultMessage();\r\n        errors.put(fieldName, errorMessage);\r\n    });\r\n    return errors;\r\n}\r\n```\r\n\r\nBe modified like this:\r\n\r\n```\r\n@ExceptionHandler(ParameterNotValidException.class)\r\npublic void handleValidationExceptions(String requestBody) {\r\n    requestBody = removeSpecialCharacters(requestBody);\r\n\r\n    try {\r\n        personController.putPerson(requestBody);\r\n    } catch (Exception e) {\r\n        //fail gracefully\r\n    }\r\n}\r\n```\r\n\r\nMy apologies in advance, this is my first question on StackOverflow.","title":"Can the Spring ExceptionHandler be used to re-run endpoints?","body":"<p>In my experience, limited though it may be, I have only ever seen the ExceptionHandler class used to immediately return exceptions. I know this is the purpose of an <em>Exception</em>Handler class but this brings me to my question: If a request fails validation, is it possible for the ExceptionHandler class to &quot;fix&quot; the request body and re-run the request?</p>\n<p>As an example, given the following object:</p>\n<pre><code>public class Person {\n    @Pattern(regexp = &quot;[A-Za-z]&quot;)\n    private String firstName;\n}\n</code></pre>\n<p>Could the following Handler class:</p>\n<pre><code>@ExceptionHandler(ParameterNotValidException.class)\npublic Map&lt;String, String&gt; handleValidationExceptions(\n  ParameterNotValidException ex) {\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n    ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n        String fieldName = ((FieldError) error).getField();\n        String errorMessage = error.getDefaultMessage();\n        errors.put(fieldName, errorMessage);\n    });\n    return errors;\n}\n</code></pre>\n<p>Be modified like this:</p>\n<pre><code>@ExceptionHandler(ParameterNotValidException.class)\npublic void handleValidationExceptions(String requestBody) {\n    requestBody = removeSpecialCharacters(requestBody);\n\n    try {\n        personController.putPerson(requestBody);\n    } catch (Exception e) {\n        //fail gracefully\n    }\n}\n</code></pre>\n<p>My apologies in advance, this is my first question on StackOverflow.</p>\n"},{"tags":["java","eclipse","web","servlets"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1646701339,"post_id":71386519,"comment_id":126184329,"body_markdown":"What&#39;s at the bottom of the Console output, or where ever the server output is for around the time of the 404 in the client?","body":"What&#39;s at the bottom of the Console output, or where ever the server output is for around the time of the 404 in the client?"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1646708231,"post_id":71386519,"comment_id":126185447,"body_markdown":"I can see that your Servlet is in the MyFirstServlet package.  Did you put your Servlet in a folder named MyFirstServlet  inside of the classes folder? Is  MyFirstServlet the name of your web app as well?","body":"I can see that your Servlet is in the MyFirstServlet package.  Did you put your Servlet in a folder named MyFirstServlet  inside of the classes folder? Is  MyFirstServlet the name of your web app as well?"}],"owner":{"account_id":11927886,"reputation":37,"user_id":9358035,"display_name":"ITGirl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646682633,"creation_date":1646682633,"question_id":71386519,"body_markdown":"I just finish making my first servlet and it won&#39;t load in the web browser. I didn&#39;t choose to use the web.xml file.  Here&#39;s the code:\r\n\r\n&#39;&#39;&#39;\r\n\r\n    package myFirstServlet;\r\n    \r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    /**\r\n     * Servlet implementation class HelloWorld\r\n     */\r\n    @WebServlet(&quot;/HelloWorld&quot;)\r\n    public class HelloWorld extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n           \r\n        /**\r\n         * @see HttpServlet#HttpServlet()\r\n         */\r\n        public HelloWorld() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tresponse.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tdoGet(request, response);\r\n    \t}\r\n    \r\n    }\r\n\r\n&#39;&#39;&#39;\r\n\r\nHere&#39;s a screenshot of my project not loading.  I&#39;m tearing my hair out.  What am I doing wrong?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o7ib6.png","title":"Eclipse Can&#39;t Open Servlet in Browser","body":"<p>I just finish making my first servlet and it won't load in the web browser. I didn't choose to use the web.xml file.  Here's the code:</p>\n<p>'''</p>\n<pre><code>package myFirstServlet;\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class HelloWorld\n */\n@WebServlet(&quot;/HelloWorld&quot;)\npublic class HelloWorld extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public HelloWorld() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n    }\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        doGet(request, response);\n    }\n\n}\n</code></pre>\n<p>'''</p>\n<p>Here's a screenshot of my project not loading.  I'm tearing my hair out.  What am I doing wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/o7ib6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o7ib6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","data-structures","computer-science","dijkstra"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1592454431,"post_id":62419126,"comment_id":110432501,"body_markdown":"Are you trying to check if a path is monotonic, or force search to select monotonic next edge ?","body":"Are you trying to check if a path is monotonic, or force search to select monotonic next edge ?"},{"owner":{"account_id":3674405,"reputation":3558,"user_id":3060803,"accept_rate":96,"display_name":"m.aibin"},"score":0,"creation_date":1592493751,"post_id":62419126,"comment_id":110451680,"body_markdown":"@c0der the final result should be a strictly monotonic shortest path","body":"@c0der the final result should be a strictly monotonic shortest path"},{"owner":{"account_id":1039648,"reputation":12287,"user_id":1046007,"display_name":"Walter Tross"},"score":0,"creation_date":1592601826,"post_id":62419126,"comment_id":110494488,"body_markdown":"could you post the rest of the relevant code?","body":"could you post the rest of the relevant code?"},{"owner":{"account_id":3674405,"reputation":3558,"user_id":3060803,"accept_rate":96,"display_name":"m.aibin"},"score":0,"creation_date":1592856604,"post_id":62419126,"comment_id":110570053,"body_markdown":"Each Edge has source, destination and weight, each node has a List of connected Edges, Graph contains info about the Nodes.","body":"Each Edge has source, destination and weight, each node has a List of connected Edges, Graph contains info about the Nodes."}],"answers":[{"tags":[],"owner":{"account_id":18886595,"reputation":436,"user_id":13777882,"display_name":"TheManWithNoPlan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1592838247,"creation_date":1592838247,"answer_id":62517471,"question_id":62419126,"body_markdown":"Finding a strictly monotonic shortest path can be done by relaxing edges in order based on their weight. \r\n\r\nSay we want to find the shortest ascending path. We would order the edges in ascending order, then relax them in that order. &quot;Relax&quot; just means update the weight of the node at the endpoint of an edge to be the weight of the edge plus the weight of its start point node if that sum is less than the current value. This is the same as relaxing an edge in Dijkstra&#39;s. This will always yield the shortest ascending path (and it can be made *strictly* ascending if we update the node weights at the same time for all equally valued edges). \r\n\r\nWe can also find the shortest descending path by ordering edges in descending order. One of those two paths will be the shortest monotonic path. \r\n\r\nI think you will have more luck using this approach of looping over the sorted edges (in n logn time) than trying to loop over the nodes as in the above method -- if you need to solve the problem by only updating the method you have shown us, it becomes a much harder problem.","title":"Dijkstra Monotonic Path","body":"<p>Finding a strictly monotonic shortest path can be done by relaxing edges in order based on their weight.</p>\n<p>Say we want to find the shortest ascending path. We would order the edges in ascending order, then relax them in that order. &quot;Relax&quot; just means update the weight of the node at the endpoint of an edge to be the weight of the edge plus the weight of its start point node if that sum is less than the current value. This is the same as relaxing an edge in Dijkstra's. This will always yield the shortest ascending path (and it can be made <em>strictly</em> ascending if we update the node weights at the same time for all equally valued edges).</p>\n<p>We can also find the shortest descending path by ordering edges in descending order. One of those two paths will be the shortest monotonic path.</p>\n<p>I think you will have more luck using this approach of looping over the sorted edges (in n logn time) than trying to loop over the nodes as in the above method -- if you need to solve the problem by only updating the method you have shown us, it becomes a much harder problem.</p>\n"}],"owner":{"account_id":3674405,"reputation":3558,"user_id":3060803,"accept_rate":96,"display_name":"m.aibin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62517471,"answer_count":1,"score":0,"last_activity_date":1646682586,"creation_date":1592350131,"question_id":62419126,"body_markdown":"I do have a question related to checking if the shortest path is strictly monotonic using Dijkstra.\r\n\r\n\r\nEdges connected to each node are sorted and stored inside a `LinkedList&lt;Edge&gt; edges;`\r\nThe `shortestPathMap` is a utility to store the entire path from starting node to the end node. \r\n\r\nThanks!","title":"Dijkstra Monotonic Path","body":"<p>I do have a question related to checking if the shortest path is strictly monotonic using Dijkstra.</p>\n<p>Edges connected to each node are sorted and stored inside a <code>LinkedList&lt;Edge&gt; edges;</code>\nThe <code>shortestPathMap</code> is a utility to store the entire path from starting node to the end node.</p>\n<p>Thanks!</p>\n"},{"tags":["java","algorithm","enums"],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506508250,"creation_date":1506508250,"answer_id":46445596,"question_id":46445456,"body_markdown":"You probably want an iterator of your own.\r\n\r\n    class LimitedIterator&lt;T&gt; implements Iterator&lt;List&lt;T&gt;&gt; {\r\n         private int chunkSize;\r\n         private Iterator&lt;T&gt; baseIterator;\r\n         public LimitedIterator(Iterator&lt;T&gt; base, int size) {\r\n             baseIterator = base;\r\n             chunkSize = size;\r\n         }\r\n         public boolean hasNext() {\r\n             return baseIterator.hasNext();\r\n         }\r\n         public List&lt;T&gt; next() {\r\n             List&lt;T&gt; result = new ArrayList&lt;&gt;(chunkSize);\r\n             for (int i = 0; i &lt; chunkSize &amp;&amp; baseIterator.hasNext(); i++) {\r\n                 result.add(baseIterator.next();\r\n             }\r\n             return result;\r\n         }\r\n    }","title":"Repeatedly reading and returning chunks of data from enumeration","body":"<p>You probably want an iterator of your own.</p>\n\n<pre><code>class LimitedIterator&lt;T&gt; implements Iterator&lt;List&lt;T&gt;&gt; {\n     private int chunkSize;\n     private Iterator&lt;T&gt; baseIterator;\n     public LimitedIterator(Iterator&lt;T&gt; base, int size) {\n         baseIterator = base;\n         chunkSize = size;\n     }\n     public boolean hasNext() {\n         return baseIterator.hasNext();\n     }\n     public List&lt;T&gt; next() {\n         List&lt;T&gt; result = new ArrayList&lt;&gt;(chunkSize);\n         for (int i = 0; i &lt; chunkSize &amp;&amp; baseIterator.hasNext(); i++) {\n             result.add(baseIterator.next();\n         }\n         return result;\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":959020,"reputation":3213,"user_id":983783,"accept_rate":63,"display_name":"Eddy Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646682507,"creation_date":1506507818,"question_id":46445456,"body_markdown":"I have a Java function that looks like:\r\n\r\n    public List&lt;File&gt; myFunction(){\r\n         Enumeration&lt;File&gt; myFiles = enumFiles();\r\n         int i = 0;\r\n          while(myFiles.hasMoreElements() &amp;&amp; i &lt; 50){\r\n              // i will add the element to an arraylist here\r\n               i++;\r\n          }\r\n    \r\n         return &quot;100 files from myFiles&quot;\r\n    }\r\n\r\nwhere `enumFiles()` returns Enumeration of files. The list of files can be thousands or millions. I am using the `hasMoreElements()` and `nextElement()` to read the first 50 files. \r\n\r\nWhat I want is to be able to let say return the next 100 files whenever `myFunction()` is called. Each 100 files will start where it ended previously until there are no more elements in **myFiles**.\r\n\r\nI have searched but did not find an answer. I need a little direction on how to do it. \r\n","title":"Repeatedly reading and returning chunks of data from enumeration","body":"<p>I have a Java function that looks like:</p>\n<pre><code>public List&lt;File&gt; myFunction(){\n     Enumeration&lt;File&gt; myFiles = enumFiles();\n     int i = 0;\n      while(myFiles.hasMoreElements() &amp;&amp; i &lt; 50){\n          // i will add the element to an arraylist here\n           i++;\n      }\n\n     return &quot;100 files from myFiles&quot;\n}\n</code></pre>\n<p>where <code>enumFiles()</code> returns Enumeration of files. The list of files can be thousands or millions. I am using the <code>hasMoreElements()</code> and <code>nextElement()</code> to read the first 50 files.</p>\n<p>What I want is to be able to let say return the next 100 files whenever <code>myFunction()</code> is called. Each 100 files will start where it ended previously until there are no more elements in <strong>myFiles</strong>.</p>\n<p>I have searched but did not find an answer. I need a little direction on how to do it.</p>\n"},{"tags":["java","algorithm","data-structures","depth-first-search","breadth-first-search"],"comments":[{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1642961413,"post_id":70824964,"comment_id":125207483,"body_markdown":"Which method is called first? If you don&#39;t mind, can you share the exact problem statement with sample I/Os?","body":"Which method is called first? If you don&#39;t mind, can you share the exact problem statement with sample I/Os?"},{"owner":{"account_id":20889858,"reputation":33,"user_id":15345510,"display_name":"SEJU"},"score":0,"creation_date":1642962209,"post_id":70824964,"comment_id":125207703,"body_markdown":"I am comparing findLevel with siblings in the method printCousins. I also attached the exact question if what you mean by &quot;can you share the exact problem statement...&quot; above. @nice_dev","body":"I am comparing findLevel with siblings in the method printCousins. I also attached the exact question if what you mean by &quot;can you share the exact problem statement...&quot; above. @nice_dev"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1642962780,"post_id":70824964,"comment_id":125207834,"body_markdown":"Yes, this makes sense now. Question seems complete.","body":"Yes, this makes sense now. Question seems complete."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1643053424,"post_id":70824964,"comment_id":125233319,"body_markdown":"Could you please spend a couple of minutes of your time evaluating the answers and also accept the best one. It wasn&#39;t the easiest question, give us a favor","body":"Could you please spend a couple of minutes of your time evaluating the answers and also accept the best one. It wasn&#39;t the easiest question, give us a favor"},{"owner":{"account_id":20889858,"reputation":33,"user_id":15345510,"display_name":"SEJU"},"score":0,"creation_date":1643058714,"post_id":70824964,"comment_id":125235225,"body_markdown":"I sure will @AlexanderIvanchenko","body":"I sure will @AlexanderIvanchenko"}],"answers":[{"tags":[],"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643185497,"creation_date":1642963825,"answer_id":70825481,"question_id":70824964,"body_markdown":"In your approach, you seem to assume that cousins can have only 1 different parent. The more we go deeper, the more the _different_ parents for a particular `find` node or you can say the more the cousins. Also, `if(root.left == find &amp;&amp; root.right == find){` doesn&#39;t make sense since there can&#39;t be 2 same nodes in the tree, especially with `find`.\r\n\r\n-----\r\n\r\nIn your `printCousins`, you will need to find the level of the `find` node and then collect all it&#39;s cousins by passing it to `siblings` method. \r\n\r\n    public static ArrayList&lt;Integer&gt; printCousins(Node root, Node find){\r\n        //code here\r\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n        int level = findLevel(root, find, 0);\r\n        if(level == -1){\r\n            arr.add(-1);\r\n            return arr;\r\n        }\r\n\r\n        siblings(root, find, arr, 0, level);\r\n        if(arr.isEmpty()){\r\n            arr.add(-1);\r\n        }\r\n        return arr;\r\n    }\r\n\r\n\r\nSince you use depth first search technique, you can find the level of the `find` node first like below:\r\n\r\n     static int findLevel(Node root, Node find, int level){\r\n        if(root == null) return -1;\r\n        if(root == find) return level;\r\n        \r\n        int l = findLevel(root.left, find, level + 1);\r\n        if(l == -1) l = findLevel(root.right, find, level + 1);// only go to the right side of the node if not found on the left part\r\n        \r\n        return l;\r\n    }\r\n\r\n\r\nIn `siblings`,  you will add all those nodes to `arr` that are located at `level` with a careful check of the parent not having `find` as one of their kids thereby ensuring different parents same level requirement.\r\n\r\n    static void siblings(Node root, Node find, ArrayList&lt;Integer&gt; arr, int curr_level, int level){\r\n        if(root == null || curr_level &gt; level || root == find) return;\r\n        if(curr_level + 1 == level){\r\n            if(root.left == find || root.right == find) return; // making sure either of the kids isn&#39;t &#39;find&#39;\r\n        }\r\n    \r\n        if(curr_level == level){\r\n            arr.add(root.val);\r\n            return;\r\n        }\r\n        \r\n        siblings(root.left, find, arr, curr_level + 1, level);\r\n        siblings(root.right, find, arr, curr_level + 1, level);\r\n    }","title":"Checking to see if cousins of a given node and adding to an arrayList","body":"<p>In your approach, you seem to assume that cousins can have only 1 different parent. The more we go deeper, the more the <em>different</em> parents for a particular <code>find</code> node or you can say the more the cousins. Also, <code>if(root.left == find &amp;&amp; root.right == find){</code> doesn't make sense since there can't be 2 same nodes in the tree, especially with <code>find</code>.</p>\n<hr />\n<p>In your <code>printCousins</code>, you will need to find the level of the <code>find</code> node and then collect all it's cousins by passing it to <code>siblings</code> method.</p>\n<pre><code>public static ArrayList&lt;Integer&gt; printCousins(Node root, Node find){\n    //code here\n    ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n    int level = findLevel(root, find, 0);\n    if(level == -1){\n        arr.add(-1);\n        return arr;\n    }\n\n    siblings(root, find, arr, 0, level);\n    if(arr.isEmpty()){\n        arr.add(-1);\n    }\n    return arr;\n}\n</code></pre>\n<p>Since you use depth first search technique, you can find the level of the <code>find</code> node first like below:</p>\n<pre><code> static int findLevel(Node root, Node find, int level){\n    if(root == null) return -1;\n    if(root == find) return level;\n    \n    int l = findLevel(root.left, find, level + 1);\n    if(l == -1) l = findLevel(root.right, find, level + 1);// only go to the right side of the node if not found on the left part\n    \n    return l;\n}\n</code></pre>\n<p>In <code>siblings</code>,  you will add all those nodes to <code>arr</code> that are located at <code>level</code> with a careful check of the parent not having <code>find</code> as one of their kids thereby ensuring different parents same level requirement.</p>\n<pre><code>static void siblings(Node root, Node find, ArrayList&lt;Integer&gt; arr, int curr_level, int level){\n    if(root == null || curr_level &gt; level || root == find) return;\n    if(curr_level + 1 == level){\n        if(root.left == find || root.right == find) return; // making sure either of the kids isn't 'find'\n    }\n\n    if(curr_level == level){\n        arr.add(root.val);\n        return;\n    }\n    \n    siblings(root.left, find, arr, curr_level + 1, level);\n    siblings(root.right, find, arr, curr_level + 1, level);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642967971,"creation_date":1642966811,"answer_id":70825895,"question_id":70824964,"body_markdown":"I can see in this task is simple [BFS - Breadth-first search][1]. All you need is to find a level where your target node and print all other nodes at the same level with different parents, which could be quite easy if you keep the parent of each node (I offer to do this with the additional class `NodeWithParent`).\r\n\r\n```java\r\n// This is a class you have to provide a Tree\r\npublic static class Node {\r\n\r\n    private final int value;\r\n    private Node left;\r\n    private Node right;\r\n\r\n    public Node(int value) {\r\n        this.value = value;\r\n    }\r\n\r\n}\r\n\r\n// This is an internal class to keep the node&#39;s parent\r\nprivate static class NodeWithParent {\r\n\r\n    private final Node delegate;\r\n    private final Integer parent;\r\n\r\n    public NodeWithParent(Node delegate, Integer parent) {\r\n        this.delegate = delegate;\r\n        this.parent = parent;\r\n    }\r\n\r\n}\r\n\r\npublic static Set&lt;Integer&gt; printCousins(Node root, int find) {\r\n    NodeWithParent tmp = new NodeWithParent(root, null);\r\n    Deque&lt;NodeWithParent&gt; levelNodes = new LinkedList&lt;&gt;();\r\n    levelNodes.add(tmp);\r\n\r\n    // not null means target node was found at current level\r\n    NodeWithParent findNode = root.value == find ? tmp : null;\r\n\r\n    while (!levelNodes.isEmpty()) {\r\n        if (findNode != null)\r\n            return getNodesNotForParent(levelNodes, findNode);\r\n\r\n        int total = levelNodes.size();\r\n\r\n        for (int i = 0; i &lt; total; i++) {\r\n            NodeWithParent node = levelNodes.remove();\r\n            NodeWithParent findNode1 = addNotNullChild(node.delegate.left, node.delegate.value, find, levelNodes);\r\n            NodeWithParent findNode2 = addNotNullChild(node.delegate.right, node.delegate.value, find, levelNodes);\r\n\r\n            if (findNode == null)\r\n                findNode = findNode1 == null ? findNode2 : findNode1;\r\n        }\r\n    }\r\n\r\n    return Set.of();\r\n}\r\n\r\nprivate static NodeWithParent addNotNullChild(Node childNode, int parentValue, int find, Deque&lt;NodeWithParent&gt; levelNodes) {\r\n    if (childNode == null)\r\n        return null;\r\n    \r\n    NodeWithParent node = new NodeWithParent(childNode, parentValue);\r\n    levelNodes.add(node);\r\n    return childNode.value == find ? node : null;\r\n}\r\n\r\nprivate static Set&lt;Integer&gt; getNodesNotForParent(Collection&lt;NodeWithParent&gt; nodes, NodeWithParent findNode) {\r\n    return nodes.stream()\r\n                .filter(node -&gt; !Objects.equals(node.parent, findNode.parent))\r\n                .map(node -&gt; node.delegate.value)\r\n                .collect(Collectors.toSet());\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Breadth-first_search","title":"Checking to see if cousins of a given node and adding to an arrayList","body":"<p>I can see in this task is simple <a href=\"https://en.wikipedia.org/wiki/Breadth-first_search\" rel=\"nofollow noreferrer\">BFS - Breadth-first search</a>. All you need is to find a level where your target node and print all other nodes at the same level with different parents, which could be quite easy if you keep the parent of each node (I offer to do this with the additional class <code>NodeWithParent</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This is a class you have to provide a Tree\npublic static class Node {\n\n    private final int value;\n    private Node left;\n    private Node right;\n\n    public Node(int value) {\n        this.value = value;\n    }\n\n}\n\n// This is an internal class to keep the node's parent\nprivate static class NodeWithParent {\n\n    private final Node delegate;\n    private final Integer parent;\n\n    public NodeWithParent(Node delegate, Integer parent) {\n        this.delegate = delegate;\n        this.parent = parent;\n    }\n\n}\n\npublic static Set&lt;Integer&gt; printCousins(Node root, int find) {\n    NodeWithParent tmp = new NodeWithParent(root, null);\n    Deque&lt;NodeWithParent&gt; levelNodes = new LinkedList&lt;&gt;();\n    levelNodes.add(tmp);\n\n    // not null means target node was found at current level\n    NodeWithParent findNode = root.value == find ? tmp : null;\n\n    while (!levelNodes.isEmpty()) {\n        if (findNode != null)\n            return getNodesNotForParent(levelNodes, findNode);\n\n        int total = levelNodes.size();\n\n        for (int i = 0; i &lt; total; i++) {\n            NodeWithParent node = levelNodes.remove();\n            NodeWithParent findNode1 = addNotNullChild(node.delegate.left, node.delegate.value, find, levelNodes);\n            NodeWithParent findNode2 = addNotNullChild(node.delegate.right, node.delegate.value, find, levelNodes);\n\n            if (findNode == null)\n                findNode = findNode1 == null ? findNode2 : findNode1;\n        }\n    }\n\n    return Set.of();\n}\n\nprivate static NodeWithParent addNotNullChild(Node childNode, int parentValue, int find, Deque&lt;NodeWithParent&gt; levelNodes) {\n    if (childNode == null)\n        return null;\n    \n    NodeWithParent node = new NodeWithParent(childNode, parentValue);\n    levelNodes.add(node);\n    return childNode.value == find ? node : null;\n}\n\nprivate static Set&lt;Integer&gt; getNodesNotForParent(Collection&lt;NodeWithParent&gt; nodes, NodeWithParent findNode) {\n    return nodes.stream()\n                .filter(node -&gt; !Objects.equals(node.parent, findNode.parent))\n                .map(node -&gt; node.delegate.value)\n                .collect(Collectors.toSet());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642984349,"creation_date":1642983734,"answer_id":70827760,"question_id":70824964,"body_markdown":"Implementation of the binary tree provided below allows to create a tree with **exactly the same structure** as in your example (take a look at the output).\r\n\r\nThis tree is balanced, and according to the provided tree schema it&#39;s not a BST. Hence the code below only accommodates balancing while adding nodes, so that that overall structure matches your example.\r\n\r\nCode makes use of classic BFS and DFS algorithms.\r\n```\r\n    public class BinaryTree {\r\n    private Node root;\r\n    private Map&lt;Integer, Node&gt; idToNode;\r\n\r\n    private BinaryTree(Node root) {\r\n        this.root = root;\r\n        this.idToNode = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public static BinaryTree getInstance(int rootId, int... elements) {\r\n        BinaryTree tree = new BinaryTree(new Node(rootId));\r\n        tree.addElements(elements);\r\n        tree.discoverAllNodes();\r\n        return tree;\r\n    }\r\n\r\n    public void addElements(int... elements) {\r\n        IntStream.of(elements)\r\n                .forEach(root::addElement);\r\n    }\r\n\r\n    public void discoverAllNodes() {\r\n        Deque&lt;Node&gt; stack = new ArrayDeque&lt;&gt;();\r\n        stack.push(root);\r\n        while (!stack.isEmpty()) {\r\n            Node cur = stack.pop();\r\n            idToNode.put(cur.getId(), cur);\r\n            if (cur.getLeft() != null)\r\n                stack.push(cur.getLeft());\r\n            if (cur.getRight() != null)\r\n                stack.push(cur.getRight());\r\n        }\r\n    }\r\n\r\n    public List&lt;Node&gt; getCousins(int find) {\r\n        Node target = new Node(find);\r\n        if (target.equals(root)) return Collections.emptyList();\r\n        \r\n        int targetLevel = getNodeLevel(find);\r\n        Queue&lt;Node&gt; curLevelNodes = new ArrayDeque&lt;&gt;();\r\n        Queue&lt;Node&gt; nextLevelNodes = new ArrayDeque&lt;&gt;();\r\n        curLevelNodes.add(root);\r\n        for (int level = 0; level &lt; targetLevel; level++) {\r\n            while (!curLevelNodes.isEmpty()) {\r\n                Node cur = curLevelNodes.remove();\r\n                if (cur.getLeft() != null &amp;&amp; !cur.getLeft().equals(target))\r\n                    nextLevelNodes.add(cur.getLeft());\r\n                if (cur.getRight() != null &amp;&amp; !cur.getRight().equals(target))\r\n                    nextLevelNodes.add(cur.getRight());\r\n            }\r\n            Queue&lt;Node&gt; emptyQueue = curLevelNodes; // reusing empty queue to avoid creating new collection\r\n            curLevelNodes = nextLevelNodes;\r\n            nextLevelNodes = emptyQueue;\r\n        }\r\n\r\n        return Collections.unmodifiableList(new ArrayList&lt;&gt;(curLevelNodes));\r\n    }\r\n\r\n    public int getNodeLevel(int find) {\r\n        Node target = idToNode.get(find);\r\n        if (target.equals(root)) return 0;\r\n\r\n        boolean targetIsFound = false;\r\n        int level = 0;\r\n        Queue&lt;Node&gt; curLevelNodes = new ArrayDeque&lt;&gt;();\r\n        Queue&lt;Node&gt; nextLevelNodes = new ArrayDeque&lt;&gt;();\r\n        curLevelNodes.add(root);\r\n        for (; !targetIsFound; level++) {\r\n            while (!curLevelNodes.isEmpty()) {\r\n                Node cur = curLevelNodes.remove();\r\n                if (curNodePointToTargetNode(target, cur)) {\r\n                    targetIsFound = true;\r\n                    break;\r\n                }\r\n                if (cur.getLeft() != null &amp;&amp; !cur.getLeft().equals(target))\r\n                    nextLevelNodes.add(cur.getLeft());\r\n                if (cur.getRight() != null &amp;&amp; !cur.getRight().equals(target))\r\n                    nextLevelNodes.add(cur.getRight());\r\n            }\r\n            if (targetIsFound) continue;\r\n\r\n            Queue&lt;Node&gt; emptyQueue = curLevelNodes; // reusing empty queue to avoid creating new collection\r\n            curLevelNodes = nextLevelNodes;\r\n            nextLevelNodes = emptyQueue;\r\n        }\r\n        return level;\r\n    }\r\n\r\n    private boolean curNodePointToTargetNode(Node target, Node cur) {\r\n        return cur.getLeft() != null &amp;&amp; cur.getLeft().equals(target) ||\r\n                cur.getRight() != null &amp;&amp; cur.getRight().equals(target);\r\n    }\r\n\r\n    public Node getRoot() {\r\n        return root;\r\n    }\r\n\r\n    public Map&lt;Integer, Node&gt; getIdToNode() {\r\n        return Collections.unmodifiableMap(idToNode);\r\n    }\r\n\r\n    public static class Node {\r\n        private final int id;\r\n        private Node left;\r\n        private Node right;\r\n\r\n        public Node(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public void addElement(int nextId) {\r\n            if (left == null) {\r\n                left = new Node(nextId);\r\n                return;\r\n            }\r\n            if (right == null) {\r\n                right = new Node(nextId);\r\n                return;\r\n            }\r\n\r\n            if (left.getMinHeight() &lt;= right.getMinHeight()) {\r\n                left.addElement(nextId);\r\n            }\r\n            else {\r\n                right.addElement(nextId);\r\n            }\r\n        }\r\n\r\n        private int getMinHeight() {\r\n            if (left == null || right == null) return 0;\r\n\r\n            int height = 0;\r\n            boolean leafNodeFound = false;\r\n            Queue&lt;Node&gt; curLevelNodes = new LinkedList&lt;&gt;();\r\n            Queue&lt;Node&gt; nextLevelNodes = new LinkedList&lt;&gt;();\r\n            curLevelNodes.add(this);\r\n            for (; !leafNodeFound; height++) {\r\n                while (!curLevelNodes.isEmpty()) {\r\n                    Node cur = curLevelNodes.remove();\r\n                    if (cur.getLeft() == null || cur.getRight() == null) {\r\n                        leafNodeFound = true;\r\n                        break;\r\n                    }\r\n                    nextLevelNodes.add(cur.getLeft());\r\n                    nextLevelNodes.add(cur.getRight());\r\n                }\r\n                Queue&lt;Node&gt; emptyQueue = curLevelNodes; // reusing empty queue to avoid creating new collection\r\n                curLevelNodes = nextLevelNodes;\r\n                nextLevelNodes = emptyQueue;\r\n            }\r\n            return height;\r\n        }\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        public Node getLeft() {\r\n            return left;\r\n        }\r\n\r\n        public Node getRight() {\r\n            return right;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Node node = (Node) o;\r\n            return id == node.id;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Node{&quot; + id +&#39;}&#39;;\r\n        }\r\n    }\r\n}\r\n```\r\n**main**\r\n```\r\n   public static void main(String[] args) {\r\n        BinaryTree tree = BinaryTree.getInstance(1, 2, 3, 4, 5, 6, 7);\r\n\r\n        System.out.println(&quot;Root: &quot; + tree.getRoot());\r\n        System.out.println(&quot;All nodes: &quot; + tree.getIdToNode());\r\n        System.out.println(&quot;Node 2 - level: &quot; + tree.getNodeLevel(2));\r\n        System.out.println(&quot;Node 2 - cousins: &quot; + tree.getCousins(2));\r\n        System.out.println(&quot;Node 3 - level: &quot; + tree.getNodeLevel(3));\r\n        System.out.println(&quot;Node 3 - cousins: &quot; + tree.getCousins(3));\r\n        System.out.println(&quot;Node 4 - level: &quot; + tree.getNodeLevel(4));\r\n        System.out.println(&quot;Node 4 - cousins: &quot; + tree.getCousins(4));\r\n        System.out.println(&quot;Node 5 - level: &quot; + tree.getNodeLevel(5));\r\n        System.out.println(&quot;Node 5 - cousins: &quot; + tree.getCousins(5));\r\n        System.out.println(&quot;Node 6 - level: &quot; + tree.getNodeLevel(6));\r\n        System.out.println(&quot;Node 6 - cousins: &quot; + tree.getCousins(6));\r\n        System.out.println(&quot;Node 7 - level: &quot; + tree.getNodeLevel(7));\r\n        System.out.println(&quot;Node 7 - cousins: &quot; + tree.getCousins(7));\r\n    }\r\n```\r\n**OUTPUT**\r\n```\r\nRoot: Node{1}\r\nAll nodes: {1=Node{1}, 2=Node{2}, 3=Node{3}, 4=Node{4}, 5=Node{5}, 6=Node{6}, 7=Node{7}}\r\nNode 2 - level: 1\r\nNode 2 - cousins: [Node{3}]\r\nNode 3 - level: 1\r\nNode 3 - cousins: [Node{2}]\r\nNode 4 - level: 2\r\nNode 4 - cousins: [Node{5}, Node{6}, Node{7}]\r\nNode 5 - level: 2\r\nNode 5 - cousins: [Node{4}, Node{6}, Node{7}]\r\nNode 6 - level: 2\r\nNode 6 - cousins: [Node{4}, Node{5}, Node{7}]\r\nNode 7 - level: 2\r\nNode 7 - cousins: [Node{4}, Node{5}, Node{6}]\r\n```","title":"Checking to see if cousins of a given node and adding to an arrayList","body":"<p>Implementation of the binary tree provided below allows to create a tree with <strong>exactly the same structure</strong> as in your example (take a look at the output).</p>\n<p>This tree is balanced, and according to the provided tree schema it's not a BST. Hence the code below only accommodates balancing while adding nodes, so that that overall structure matches your example.</p>\n<p>Code makes use of classic BFS and DFS algorithms.</p>\n<pre><code>    public class BinaryTree {\n    private Node root;\n    private Map&lt;Integer, Node&gt; idToNode;\n\n    private BinaryTree(Node root) {\n        this.root = root;\n        this.idToNode = new HashMap&lt;&gt;();\n    }\n\n    public static BinaryTree getInstance(int rootId, int... elements) {\n        BinaryTree tree = new BinaryTree(new Node(rootId));\n        tree.addElements(elements);\n        tree.discoverAllNodes();\n        return tree;\n    }\n\n    public void addElements(int... elements) {\n        IntStream.of(elements)\n                .forEach(root::addElement);\n    }\n\n    public void discoverAllNodes() {\n        Deque&lt;Node&gt; stack = new ArrayDeque&lt;&gt;();\n        stack.push(root);\n        while (!stack.isEmpty()) {\n            Node cur = stack.pop();\n            idToNode.put(cur.getId(), cur);\n            if (cur.getLeft() != null)\n                stack.push(cur.getLeft());\n            if (cur.getRight() != null)\n                stack.push(cur.getRight());\n        }\n    }\n\n    public List&lt;Node&gt; getCousins(int find) {\n        Node target = new Node(find);\n        if (target.equals(root)) return Collections.emptyList();\n        \n        int targetLevel = getNodeLevel(find);\n        Queue&lt;Node&gt; curLevelNodes = new ArrayDeque&lt;&gt;();\n        Queue&lt;Node&gt; nextLevelNodes = new ArrayDeque&lt;&gt;();\n        curLevelNodes.add(root);\n        for (int level = 0; level &lt; targetLevel; level++) {\n            while (!curLevelNodes.isEmpty()) {\n                Node cur = curLevelNodes.remove();\n                if (cur.getLeft() != null &amp;&amp; !cur.getLeft().equals(target))\n                    nextLevelNodes.add(cur.getLeft());\n                if (cur.getRight() != null &amp;&amp; !cur.getRight().equals(target))\n                    nextLevelNodes.add(cur.getRight());\n            }\n            Queue&lt;Node&gt; emptyQueue = curLevelNodes; // reusing empty queue to avoid creating new collection\n            curLevelNodes = nextLevelNodes;\n            nextLevelNodes = emptyQueue;\n        }\n\n        return Collections.unmodifiableList(new ArrayList&lt;&gt;(curLevelNodes));\n    }\n\n    public int getNodeLevel(int find) {\n        Node target = idToNode.get(find);\n        if (target.equals(root)) return 0;\n\n        boolean targetIsFound = false;\n        int level = 0;\n        Queue&lt;Node&gt; curLevelNodes = new ArrayDeque&lt;&gt;();\n        Queue&lt;Node&gt; nextLevelNodes = new ArrayDeque&lt;&gt;();\n        curLevelNodes.add(root);\n        for (; !targetIsFound; level++) {\n            while (!curLevelNodes.isEmpty()) {\n                Node cur = curLevelNodes.remove();\n                if (curNodePointToTargetNode(target, cur)) {\n                    targetIsFound = true;\n                    break;\n                }\n                if (cur.getLeft() != null &amp;&amp; !cur.getLeft().equals(target))\n                    nextLevelNodes.add(cur.getLeft());\n                if (cur.getRight() != null &amp;&amp; !cur.getRight().equals(target))\n                    nextLevelNodes.add(cur.getRight());\n            }\n            if (targetIsFound) continue;\n\n            Queue&lt;Node&gt; emptyQueue = curLevelNodes; // reusing empty queue to avoid creating new collection\n            curLevelNodes = nextLevelNodes;\n            nextLevelNodes = emptyQueue;\n        }\n        return level;\n    }\n\n    private boolean curNodePointToTargetNode(Node target, Node cur) {\n        return cur.getLeft() != null &amp;&amp; cur.getLeft().equals(target) ||\n                cur.getRight() != null &amp;&amp; cur.getRight().equals(target);\n    }\n\n    public Node getRoot() {\n        return root;\n    }\n\n    public Map&lt;Integer, Node&gt; getIdToNode() {\n        return Collections.unmodifiableMap(idToNode);\n    }\n\n    public static class Node {\n        private final int id;\n        private Node left;\n        private Node right;\n\n        public Node(int id) {\n            this.id = id;\n        }\n\n        public void addElement(int nextId) {\n            if (left == null) {\n                left = new Node(nextId);\n                return;\n            }\n            if (right == null) {\n                right = new Node(nextId);\n                return;\n            }\n\n            if (left.getMinHeight() &lt;= right.getMinHeight()) {\n                left.addElement(nextId);\n            }\n            else {\n                right.addElement(nextId);\n            }\n        }\n\n        private int getMinHeight() {\n            if (left == null || right == null) return 0;\n\n            int height = 0;\n            boolean leafNodeFound = false;\n            Queue&lt;Node&gt; curLevelNodes = new LinkedList&lt;&gt;();\n            Queue&lt;Node&gt; nextLevelNodes = new LinkedList&lt;&gt;();\n            curLevelNodes.add(this);\n            for (; !leafNodeFound; height++) {\n                while (!curLevelNodes.isEmpty()) {\n                    Node cur = curLevelNodes.remove();\n                    if (cur.getLeft() == null || cur.getRight() == null) {\n                        leafNodeFound = true;\n                        break;\n                    }\n                    nextLevelNodes.add(cur.getLeft());\n                    nextLevelNodes.add(cur.getRight());\n                }\n                Queue&lt;Node&gt; emptyQueue = curLevelNodes; // reusing empty queue to avoid creating new collection\n                curLevelNodes = nextLevelNodes;\n                nextLevelNodes = emptyQueue;\n            }\n            return height;\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        public Node getLeft() {\n            return left;\n        }\n\n        public Node getRight() {\n            return right;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            Node node = (Node) o;\n            return id == node.id;\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(id);\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Node{&quot; + id +'}';\n        }\n    }\n}\n</code></pre>\n<p><strong>main</strong></p>\n<pre><code>   public static void main(String[] args) {\n        BinaryTree tree = BinaryTree.getInstance(1, 2, 3, 4, 5, 6, 7);\n\n        System.out.println(&quot;Root: &quot; + tree.getRoot());\n        System.out.println(&quot;All nodes: &quot; + tree.getIdToNode());\n        System.out.println(&quot;Node 2 - level: &quot; + tree.getNodeLevel(2));\n        System.out.println(&quot;Node 2 - cousins: &quot; + tree.getCousins(2));\n        System.out.println(&quot;Node 3 - level: &quot; + tree.getNodeLevel(3));\n        System.out.println(&quot;Node 3 - cousins: &quot; + tree.getCousins(3));\n        System.out.println(&quot;Node 4 - level: &quot; + tree.getNodeLevel(4));\n        System.out.println(&quot;Node 4 - cousins: &quot; + tree.getCousins(4));\n        System.out.println(&quot;Node 5 - level: &quot; + tree.getNodeLevel(5));\n        System.out.println(&quot;Node 5 - cousins: &quot; + tree.getCousins(5));\n        System.out.println(&quot;Node 6 - level: &quot; + tree.getNodeLevel(6));\n        System.out.println(&quot;Node 6 - cousins: &quot; + tree.getCousins(6));\n        System.out.println(&quot;Node 7 - level: &quot; + tree.getNodeLevel(7));\n        System.out.println(&quot;Node 7 - cousins: &quot; + tree.getCousins(7));\n    }\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<pre><code>Root: Node{1}\nAll nodes: {1=Node{1}, 2=Node{2}, 3=Node{3}, 4=Node{4}, 5=Node{5}, 6=Node{6}, 7=Node{7}}\nNode 2 - level: 1\nNode 2 - cousins: [Node{3}]\nNode 3 - level: 1\nNode 3 - cousins: [Node{2}]\nNode 4 - level: 2\nNode 4 - cousins: [Node{5}, Node{6}, Node{7}]\nNode 5 - level: 2\nNode 5 - cousins: [Node{4}, Node{6}, Node{7}]\nNode 6 - level: 2\nNode 6 - cousins: [Node{4}, Node{5}, Node{7}]\nNode 7 - level: 2\nNode 7 - cousins: [Node{4}, Node{5}, Node{6}]\n</code></pre>\n"}],"owner":{"account_id":20889858,"reputation":33,"user_id":15345510,"display_name":"SEJU"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1646682461,"creation_date":1642960429,"question_id":70824964,"body_markdown":"How to use BFS or DFS to get all cousins of a given node and add into an ArrayList. If anyone can help point out where my logic is wrong\r\n\r\n```java\r\nstatic boolean findLevel(Node root, Node find, int level) {\r\n    boolean status = false;\r\n\r\n    if (root == null || find == null)\r\n        return false;\r\n\r\n    if (root == find)\r\n        status = true;\r\n\r\n    findLevel(root.left, find, level + 1);\r\n    findLevel(root.right, find, level + 1);\r\n\r\n    return status;\r\n}\r\n\r\nstatic boolean sibling(Node root, Node find) {\r\n    boolean status = false;\r\n\r\n    if (root == null || find == null)\r\n        return false;\r\n\r\n    if (root.left == find &amp;&amp; root.right == find)\r\n        status = true;\r\n\r\n    sibling(root.left, find);\r\n    sibling(root.right, find);\r\n\r\n    return status;\r\n\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k6akc.png","title":"Checking to see if cousins of a given node and adding to an arrayList","body":"<p>How to use BFS or DFS to get all cousins of a given node and add into an ArrayList. If anyone can help point out where my logic is wrong</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean findLevel(Node root, Node find, int level) {\n    boolean status = false;\n\n    if (root == null || find == null)\n        return false;\n\n    if (root == find)\n        status = true;\n\n    findLevel(root.left, find, level + 1);\n    findLevel(root.right, find, level + 1);\n\n    return status;\n}\n\nstatic boolean sibling(Node root, Node find) {\n    boolean status = false;\n\n    if (root == null || find == null)\n        return false;\n\n    if (root.left == find &amp;&amp; root.right == find)\n        status = true;\n\n    sibling(root.left, find);\n    sibling(root.right, find);\n\n    return status;\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/k6akc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6akc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","aspect"],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646677568,"creation_date":1646677568,"answer_id":71385655,"question_id":71385317,"body_markdown":"For loading the value from properties file you have many ways, which mostly are different in initialization order in IOC container,  two of them are as follow \r\n\r\n - Implement EnvironmentAware interface\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class YourAspectClass implements EnvironmentAware {\r\n\r\n        private Environment environment;\r\n\r\n        @Override\r\n        public void setEnvironment(Environment environment) {\r\n            this.environment = environment;\r\n        }\r\n\r\n    }\r\n\r\n - Using of @Value annotation to access property .\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package org.springframework.beans.factory.annotation;\r\n\r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n\r\n    @Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.ANNOTATION_TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface Value {\r\n        String value();\r\n    }\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Value(&quot;#{pointer_of_property}&quot;) String value\r\n\r\n\r\n","title":"How to create an aspect class that will implement the logging functionality","body":"<p>For loading the value from properties file you have many ways, which mostly are different in initialization order in IOC container,  two of them are as follow</p>\n<ul>\n<li>Implement EnvironmentAware interface</li>\n</ul>\n\n<pre class=\"lang-html prettyprint-override\"><code>public class YourAspectClass implements EnvironmentAware {\n\n    private Environment environment;\n\n    @Override\n    public void setEnvironment(Environment environment) {\n        this.environment = environment;\n    }\n\n}\n</code></pre>\n<ul>\n<li>Using of @Value annotation to access property .</li>\n</ul>\n\n<pre class=\"lang-html prettyprint-override\"><code>package org.springframework.beans.factory.annotation;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Value {\n    String value();\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>@Value(&quot;#{pointer_of_property}&quot;) String value\n</code></pre>\n"}],"owner":{"account_id":24460829,"reputation":23,"user_id":18381868,"display_name":"ukrotitell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646682126,"creation_date":1646675617,"question_id":71385317,"body_markdown":"How to create an aspect class that will implement the logging functionality. Logged classes/packages/methods need to be defined in the configuration file.\r\n\r\n```\r\n@Aspect\r\npublic class LoggingAspect {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LoggingAspect.class);\r\n\r\n    @Autowired\r\n    private List&lt;PackageProperties&gt; packageProperties;\r\n\r\n    @Pointcut(&quot;execution(* org.epam.operations.Operations.removeStudentFromList())&quot;)\r\n    public void removeStudentLog() {\r\n\r\n    }\r\n\r\n    @After(&quot;removeStudentLog()&quot;)\r\n    public void applicationLogger() {\r\n        log.info(&quot;Student deleted&quot;);\r\n    }\r\n}\r\n\r\n```\r\n*application.properties*\r\n```\r\nremove.packageName = org.epam.operations\r\nremove.className = Operations\r\nremove.methodName = removeStudentFromList\r\nadd.packageName = org.epam.operations\r\nadd.className = Operations\r\nadd.methodName = addStudent\r\n```","title":"How to create an aspect class that will implement the logging functionality","body":"<p>How to create an aspect class that will implement the logging functionality. Logged classes/packages/methods need to be defined in the configuration file.</p>\n<pre><code>@Aspect\npublic class LoggingAspect {\n\n    private static final Logger log = LoggerFactory.getLogger(LoggingAspect.class);\n\n    @Autowired\n    private List&lt;PackageProperties&gt; packageProperties;\n\n    @Pointcut(&quot;execution(* org.epam.operations.Operations.removeStudentFromList())&quot;)\n    public void removeStudentLog() {\n\n    }\n\n    @After(&quot;removeStudentLog()&quot;)\n    public void applicationLogger() {\n        log.info(&quot;Student deleted&quot;);\n    }\n}\n\n</code></pre>\n<p><em>application.properties</em></p>\n<pre><code>remove.packageName = org.epam.operations\nremove.className = Operations\nremove.methodName = removeStudentFromList\nadd.packageName = org.epam.operations\nadd.className = Operations\nadd.methodName = addStudent\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8457,"page":1535,"page_size":100}
