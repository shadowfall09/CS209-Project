{"items":[{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":1825227,"reputation":479,"user_id":1658226,"accept_rate":78,"display_name":"mordekhai"},"score":0,"creation_date":1694618257,"post_id":77097998,"comment_id":135915674,"body_markdown":"After few hours of investigation I just found that the NgWebDriver class included in jprotractor 1.0 refers to the org.openqa.selenium.internal.WrapsDriver class whereas in selenium-api this class is located in org.openqa.selenium.WrapsDriver. Not sure if this can be changed as jprotractor is not maintainable","body":"After few hours of investigation I just found that the NgWebDriver class included in jprotractor 1.0 refers to the org.openqa.selenium.internal.WrapsDriver class whereas in selenium-api this class is located in org.openqa.selenium.WrapsDriver. Not sure if this can be changed as jprotractor is not maintainable"}],"answers":[{"tags":[],"owner":{"account_id":1825227,"reputation":479,"user_id":1658226,"accept_rate":78,"display_name":"mordekhai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694676054,"creation_date":1694676054,"answer_id":77102614,"question_id":77097998,"body_markdown":"The NgWebDriver class included in jprotractor 1.0 refers to the org.openqa.selenium.internal.WrapsDriver class whereas in selenium-api this class is located in org.openqa.selenium.WrapsDriver","title":"How to solve the issue &quot;cannot access org.openqa.selenium.internal.WrapsElement&quot;?","body":"<p>The NgWebDriver class included in jprotractor 1.0 refers to the org.openqa.selenium.internal.WrapsDriver class whereas in selenium-api this class is located in org.openqa.selenium.WrapsDriver</p>\n"}],"owner":{"account_id":1825227,"reputation":479,"user_id":1658226,"accept_rate":78,"display_name":"mordekhai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1694676054,"creation_date":1694614997,"question_id":77097998,"body_markdown":"I am using:\r\n\r\n - Java 11\r\n\r\n - Selenium 4.9.0\r\n\r\n\r\n       &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n       &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n       &lt;version&gt;4.9.0&lt;/version&gt;\r\n    \r\n\r\n       &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n       &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n       &lt;version&gt;4.9.0&lt;/version&gt;\r\n\r\nWhen compiling I get the following error:\r\n````\r\ncannot access org.openqa.selenium.internal.WrapsElement\r\n````\r\n\r\nOutput from Maven compilation:\r\n````\r\n[ERROR]   class file for org.openqa.selenium.internal.WrapsDriver not found\r\n````\r\nThe part of the problematic code is the `getNgElement` method below:\r\n````\r\nif (eventsReportPage.newEventButton.getNgElement().isDisplayed())\r\n````\r\nSome suggested to add the `selenium-api` dependency which I did but unfortunately it didn&#39;t help.\r\nWhen I look for the class `WrapsDriver`, the IDE correctly finds it.\r\n","title":"How to solve the issue &quot;cannot access org.openqa.selenium.internal.WrapsElement&quot;?","body":"<p>I am using:</p>\n<ul>\n<li><p>Java 11</p>\n</li>\n<li><p>Selenium 4.9.0</p>\n<pre><code>&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n&lt;version&gt;4.9.0&lt;/version&gt;\n\n\n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n&lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n&lt;version&gt;4.9.0&lt;/version&gt;\n</code></pre>\n</li>\n</ul>\n<p>When compiling I get the following error:</p>\n<pre><code>cannot access org.openqa.selenium.internal.WrapsElement\n</code></pre>\n<p>Output from Maven compilation:</p>\n<pre><code>[ERROR]   class file for org.openqa.selenium.internal.WrapsDriver not found\n</code></pre>\n<p>The part of the problematic code is the <code>getNgElement</code> method below:</p>\n<pre><code>if (eventsReportPage.newEventButton.getNgElement().isDisplayed())\n</code></pre>\n<p>Some suggested to add the <code>selenium-api</code> dependency which I did but unfortunately it didn't help.\nWhen I look for the class <code>WrapsDriver</code>, the IDE correctly finds it.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1694671336,"post_id":77102112,"comment_id":135922328,"body_markdown":"app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout&quot;\n where You Declare Your constraintLayout above ID","body":"app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout&quot;  where You Declare Your constraintLayout above ID"}],"answers":[{"tags":[],"owner":{"account_id":5783150,"reputation":158,"user_id":5340734,"display_name":"Umang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694676032,"creation_date":1694676032,"answer_id":77102613,"question_id":77102112,"body_markdown":"I&#39;ve tried your code, Please remove ```app:layout_constraintBottom_toBottomOf=&quot;parent&quot;``` from ```constraintLayout2``` and add ```app:layout_constraintTop_toTopOf=&quot;parent&quot;``` into ```constraintLayout2``` and remove ```android:layout_marginBottom=&quot;500dp&quot;``` from ```ConstraintLayout``` that contains ```TextView```","title":"the element inside the ScroolView is not visible","body":"<p>I've tried your code, Please remove <code>app:layout_constraintBottom_toBottomOf=&quot;parent&quot;</code> from <code>constraintLayout2</code> and add <code>app:layout_constraintTop_toTopOf=&quot;parent&quot;</code> into <code>constraintLayout2</code> and remove <code>android:layout_marginBottom=&quot;500dp&quot;</code> from <code>ConstraintLayout</code> that contains <code>TextView</code></p>\n"}],"owner":{"account_id":27410989,"reputation":9,"user_id":20910914,"display_name":"Stalin1897"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77102613,"answer_count":1,"score":-2,"last_activity_date":1694676032,"creation_date":1694670856,"question_id":77102112,"body_markdown":"To display my elements, I added several Constraint Layout. And if you add an element inside the second one, it will not be visible. What could be the problem?\r\n\r\nXML\r\n\r\n```\r\n\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/constraintLayout2&quot;\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@drawable/custom_border_layout&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:src=&quot;@drawable/vector_right_yellow_main&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toEndOf=&quot;@+id/textView&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    android:layout_marginTop=&quot;40dp&quot;/&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:layout_constraintEnd_toStartOf=&quot;@+id/textView&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    android:src=&quot;@drawable/vector_left_yellow_main&quot;\r\n                    android:layout_marginTop=&quot;40dp&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:fontFamily=&quot;@font/montserrat_bold&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;Купить\\nмикронаушник&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;22sp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:fontFamily=&quot;@font/montserrat_medium&quot;\r\n                    android:text=&quot;В 33 городах&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;15sp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView3&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;6dp&quot;\r\n                    android:fontFamily=&quot;@font/montserrat_bold&quot;\r\n                    android:text=&quot;Выбрать свой ❯&quot;\r\n                    android:textColor=&quot;@color/text_color_blue&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView4&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;33dp&quot;\r\n                    android:fontFamily=&quot;@font/montserrat_medium&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;Microgatgets - бренд микронаушников&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;12sp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView5&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/montserrat_bold&quot;\r\n                    android:text=&quot;№1 в мире&quot;\r\n                    android:textColor=&quot;@color/text_color_blue&quot;\r\n                    android:textSize=&quot;12sp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView6&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/montserrat_medium&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;Незаметно, безопасно, легально.\\nСобственное производство и гарантия низких цен.&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;12sp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView5&quot; /&gt;\r\n\r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/constraintLayout3&quot;\r\n                    android:layout_width=&quot;270dp&quot;\r\n                    android:layout_height=&quot;47dp&quot;\r\n                    android:layout_marginTop=&quot;23dp&quot;\r\n                    android:background=&quot;@drawable/custom_border_layout&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView6&quot;&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/imageView&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginLeft=&quot;14dp&quot;\r\n                        android:src=&quot;@drawable/earphone_capsule&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/textView7&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginLeft=&quot;20dp&quot;\r\n                        android:fontFamily=&quot;@font/montserrat_bold&quot;\r\n                        android:text=&quot;От 999 руб&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toEndOf=&quot;@+id/imageView&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                    &lt;ImageButton\r\n                        android:layout_width=&quot;112dp&quot;\r\n                        android:layout_height=&quot;47dp&quot;\r\n                        android:background=&quot;@drawable/button_main&quot;\r\n                        android:src=&quot;@drawable/change_earphones_text&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:src=&quot;@drawable/background_student&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout3&quot; /&gt;\r\n\r\n\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;500dp&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout2&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                    app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    android:text=&quot;Хиты продаж&quot;/&gt;\r\n\r\n\r\n\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/ScrollView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nImage\r\n[![enter image description here](https://i.stack.imgur.com/40IaQ.png)](https://i.stack.imgur.com/40IaQ.png)\r\n\r\n\r\n\r\nThe TextView is located at the bottom. It is added, highlighted, but it is not visible, even if you run the application. I tried adding padding or margin, changing the size of Scrollview and ConstraintLayout - it didn&#39;t help","title":"the element inside the ScroolView is not visible","body":"<p>To display my elements, I added several Constraint Layout. And if you add an element inside the second one, it will not be visible. What could be the problem?</p>\n<p>XML</p>\n<pre><code>\n\n    &lt;ScrollView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/constraintLayout2&quot;\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@drawable/custom_border_layout&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n                &lt;ImageView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:src=&quot;@drawable/vector_right_yellow_main&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toEndOf=&quot;@+id/textView&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    android:layout_marginTop=&quot;40dp&quot;/&gt;\n\n                &lt;ImageView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    app:layout_constraintEnd_toStartOf=&quot;@+id/textView&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    android:src=&quot;@drawable/vector_left_yellow_main&quot;\n                    android:layout_marginTop=&quot;40dp&quot;/&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textView&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;25dp&quot;\n                    android:fontFamily=&quot;@font/montserrat_bold&quot;\n                    android:gravity=&quot;center&quot;\n                    android:text=&quot;Купить\\nмикронаушник&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;22sp&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textView2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;15dp&quot;\n                    android:fontFamily=&quot;@font/montserrat_medium&quot;\n                    android:text=&quot;В 33 городах&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;15sp&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textView3&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;6dp&quot;\n                    android:fontFamily=&quot;@font/montserrat_bold&quot;\n                    android:text=&quot;Выбрать свой ❯&quot;\n                    android:textColor=&quot;@color/text_color_blue&quot;\n                    android:textSize=&quot;16sp&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textView4&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;33dp&quot;\n                    android:fontFamily=&quot;@font/montserrat_medium&quot;\n                    android:gravity=&quot;center&quot;\n                    android:text=&quot;Microgatgets - бренд микронаушников&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;12sp&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textView5&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/montserrat_bold&quot;\n                    android:text=&quot;№1 в мире&quot;\n                    android:textColor=&quot;@color/text_color_blue&quot;\n                    android:textSize=&quot;12sp&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textView6&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/montserrat_medium&quot;\n                    android:gravity=&quot;center&quot;\n                    android:text=&quot;Незаметно, безопасно, легально.\\nСобственное производство и гарантия низких цен.&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;12sp&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView5&quot; /&gt;\n\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:id=&quot;@+id/constraintLayout3&quot;\n                    android:layout_width=&quot;270dp&quot;\n                    android:layout_height=&quot;47dp&quot;\n                    android:layout_marginTop=&quot;23dp&quot;\n                    android:background=&quot;@drawable/custom_border_layout&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView6&quot;&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/imageView&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginLeft=&quot;14dp&quot;\n                        android:src=&quot;@drawable/earphone_capsule&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/textView7&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginLeft=&quot;20dp&quot;\n                        android:fontFamily=&quot;@font/montserrat_bold&quot;\n                        android:text=&quot;От 999 руб&quot;\n                        android:textColor=&quot;@color/black&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintStart_toEndOf=&quot;@+id/imageView&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                    &lt;ImageButton\n                        android:layout_width=&quot;112dp&quot;\n                        android:layout_height=&quot;47dp&quot;\n                        android:background=&quot;@drawable/button_main&quot;\n                        android:src=&quot;@drawable/change_earphones_text&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n                &lt;ImageView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;20dp&quot;\n                    android:src=&quot;@drawable/background_student&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout3&quot; /&gt;\n\n\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginBottom=&quot;500dp&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout2&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    android:text=&quot;Хиты продаж&quot;/&gt;\n\n\n\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Image\n<a href=\"https://i.stack.imgur.com/40IaQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/40IaQ.png\" alt=\"enter image description here\" /></a></p>\n<p>The TextView is located at the bottom. It is added, highlighted, but it is not visible, even if you run the application. I tried adding padding or margin, changing the size of Scrollview and ConstraintLayout - it didn't help</p>\n"},{"tags":["java","indexing","lucene","full-text-search"],"answers":[{"tags":[],"owner":{"account_id":1592447,"reputation":677,"user_id":1475478,"accept_rate":63,"display_name":"Jasir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694675534,"creation_date":1694675534,"answer_id":77102572,"question_id":76844954,"body_markdown":"One way I can think of is to add an additional pass to your search results. By default, when you search for &quot;The movie Fight Club is my favorite movie ever!&quot;, You&#39;ll get results for documents &quot;Fight Club&quot;, &quot;Club Fight&quot;, &quot;I had a fight at club today&quot;. Now you can do an additional naive search on the top documents to filter out just &quot;Fight Club&quot;. For case-insensitive, you just need to add a lowercase tokenfilter to your index and search analyzer. Also make sure the stopwords are removed, so that your second pass doesn&#39;t have to go through too many documents.","title":"Lucene IndexSearcher - Search if an indexed value is contained in user input","body":"<p>One way I can think of is to add an additional pass to your search results. By default, when you search for &quot;The movie Fight Club is my favorite movie ever!&quot;, You'll get results for documents &quot;Fight Club&quot;, &quot;Club Fight&quot;, &quot;I had a fight at club today&quot;. Now you can do an additional naive search on the top documents to filter out just &quot;Fight Club&quot;. For case-insensitive, you just need to add a lowercase tokenfilter to your index and search analyzer. Also make sure the stopwords are removed, so that your second pass doesn't have to go through too many documents.</p>\n"}],"owner":{"account_id":16446310,"reputation":31,"user_id":11881039,"display_name":"galyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694675534,"creation_date":1691309209,"question_id":76844954,"body_markdown":"I have an indexed table which contains titles of movies.\r\n\r\n    {&quot;Titanic&quot;, &quot;Fight Club&quot;, &quot;Pulp Fiction&quot;}\r\n\r\n\r\nMy users input query will in most cases be a longer string, which might contain a movie name from my DB.\r\n\r\nE.g. &quot;*The movie **Fight Club** is my favorite movie ever!*&quot;\r\n\r\nI am trying to find a &quot;lucene&quot; way, to search the index, if any of the movies in my DB is a substring (case insensitive) of the user input.\r\n\r\nReading the [lucene Query docs](https://lucene.apache.org/core/8_2_0/core/org/apache/lucene/search/Query.html), seems to me that all queries could achieve the exact opposite of my needs, i.e. user input contained in indexed value, but not indexed value contained in user input.\r\n\r\nAm I missing here something? Or is there a different approach to this issue?","title":"Lucene IndexSearcher - Search if an indexed value is contained in user input","body":"<p>I have an indexed table which contains titles of movies.</p>\n<pre><code>{&quot;Titanic&quot;, &quot;Fight Club&quot;, &quot;Pulp Fiction&quot;}\n</code></pre>\n<p>My users input query will in most cases be a longer string, which might contain a movie name from my DB.</p>\n<p>E.g. &quot;<em>The movie <strong>Fight Club</strong> is my favorite movie ever!</em>&quot;</p>\n<p>I am trying to find a &quot;lucene&quot; way, to search the index, if any of the movies in my DB is a substring (case insensitive) of the user input.</p>\n<p>Reading the <a href=\"https://lucene.apache.org/core/8_2_0/core/org/apache/lucene/search/Query.html\" rel=\"nofollow noreferrer\">lucene Query docs</a>, seems to me that all queries could achieve the exact opposite of my needs, i.e. user input contained in indexed value, but not indexed value contained in user input.</p>\n<p>Am I missing here something? Or is there a different approach to this issue?</p>\n"},{"tags":["java","amazon-web-services","kubernetes","amazon-eks"],"comments":[{"owner":{"account_id":79319,"reputation":31734,"user_id":225016,"display_name":"mdaniel"},"score":0,"creation_date":1654617119,"post_id":72532535,"comment_id":128131000,"body_markdown":"Two things: what happens if you run `aws sts get-caller-identity` from within that Pod? also, if you dial up the logging verbosity for `software.amazon` does it say why it ignores the AssumeRoleWithWebIdentity?","body":"Two things: what happens if you run <code>aws sts get-caller-identity</code> from within that Pod? also, if you dial up the logging verbosity for <code>software.amazon</code> does it say why it ignores the AssumeRoleWithWebIdentity?"},{"owner":{"account_id":8901082,"reputation":265,"user_id":6644526,"display_name":"Pierre Leonard"},"score":0,"creation_date":1654625599,"post_id":72532535,"comment_id":128133805,"body_markdown":"aws sts get-caller-identity returns the role defined in the service account. I can&#39;t change the logs right now, I&#39;ll give it a try tomorrow","body":"aws sts get-caller-identity returns the role defined in the service account. I can&#39;t change the logs right now, I&#39;ll give it a try tomorrow"}],"answers":[{"tags":[],"owner":{"account_id":8901082,"reputation":265,"user_id":6644526,"display_name":"Pierre Leonard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660135441,"creation_date":1660135441,"answer_id":73306570,"question_id":72532535,"body_markdown":"In the logs I found\r\n\r\n    c.a.auth.AWSCredentialsProviderChain.log - Unable to load credentials\r\n    from WebIdentityTokenCredentialsProvider: To use assume role profiles\r\n    the aws-java-sdk-sts module must be on the class path.\r\n\r\nWhile looking for that message I found https://github.com/gkatzioura/CloudStorageMaven/issues/23 The solution in my case was to add aws-java-sdk-sts in the dependencies.","title":"Pod is using node group role instead of service account in aws eks with an up to date AWS SDK","body":"<p>In the logs I found</p>\n<pre><code>c.a.auth.AWSCredentialsProviderChain.log - Unable to load credentials\nfrom WebIdentityTokenCredentialsProvider: To use assume role profiles\nthe aws-java-sdk-sts module must be on the class path.\n</code></pre>\n<p>While looking for that message I found <a href=\"https://github.com/gkatzioura/CloudStorageMaven/issues/23\" rel=\"nofollow noreferrer\">https://github.com/gkatzioura/CloudStorageMaven/issues/23</a> The solution in my case was to add aws-java-sdk-sts in the dependencies.</p>\n"},{"tags":[],"owner":{"account_id":21254475,"reputation":1,"user_id":15636207,"display_name":"simonpfeiffer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694675363,"creation_date":1694675363,"answer_id":77102558,"question_id":72532535,"body_markdown":"I got the same behaviour when I configured the trust policy not correctly. I used the Java AWS SDK 2 and when I checked identity it was falling back to node identity. I did not see this behaviour with docker image `amazon/aws-cli` that is a good way to test the Service Account according to [AWS Documentation](https://docs.aws.amazon.com/eks/latest/userguide/associate-service-account-role.html).\r\n\r\nMy issue was caused by specifying the wrong oidc provider in the trust policy which should like this:\r\n\r\n```json\r\n{\r\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n      {\r\n        &quot;Effect&quot;: &quot;Allow&quot;,\r\n        &quot;Principal&quot;: {\r\n          &quot;Federated&quot;: &quot;arn:aws:iam::&lt;account-id&gt;:oidc-provider/oidc.eks.eu-central-1.amazonaws.com/id/&lt;oidc-id&gt;&quot;\r\n        },\r\n        &quot;Action&quot;: &quot;sts:AssumeRoleWithWebIdentity&quot;,\r\n        &quot;Condition&quot;: {\r\n          &quot;StringLike&quot;: {\r\n            &quot;oidc.eks.eu-central-1.amazonaws.com/id/&lt;oidc-id&gt;:aud&quot;: &quot;sts.amazonaws.com&quot;,\r\n            &quot;oidc.eks.eu-central-1.amazonaws.com/id/&lt;oidc-id&gt;:sub&quot;: &quot;system:serviceaccount:*:*&quot;\r\n          }\r\n        }\r\n      }\r\n    ]\r\n}\r\n\r\n```","title":"Pod is using node group role instead of service account in aws eks with an up to date AWS SDK","body":"<p>I got the same behaviour when I configured the trust policy not correctly. I used the Java AWS SDK 2 and when I checked identity it was falling back to node identity. I did not see this behaviour with docker image <code>amazon/aws-cli</code> that is a good way to test the Service Account according to <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/associate-service-account-role.html\" rel=\"nofollow noreferrer\">AWS Documentation</a>.</p>\n<p>My issue was caused by specifying the wrong oidc provider in the trust policy which should like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n      {\n        &quot;Effect&quot;: &quot;Allow&quot;,\n        &quot;Principal&quot;: {\n          &quot;Federated&quot;: &quot;arn:aws:iam::&lt;account-id&gt;:oidc-provider/oidc.eks.eu-central-1.amazonaws.com/id/&lt;oidc-id&gt;&quot;\n        },\n        &quot;Action&quot;: &quot;sts:AssumeRoleWithWebIdentity&quot;,\n        &quot;Condition&quot;: {\n          &quot;StringLike&quot;: {\n            &quot;oidc.eks.eu-central-1.amazonaws.com/id/&lt;oidc-id&gt;:aud&quot;: &quot;sts.amazonaws.com&quot;,\n            &quot;oidc.eks.eu-central-1.amazonaws.com/id/&lt;oidc-id&gt;:sub&quot;: &quot;system:serviceaccount:*:*&quot;\n          }\n        }\n      }\n    ]\n}\n\n</code></pre>\n"}],"owner":{"account_id":8901082,"reputation":265,"user_id":6644526,"display_name":"Pierre Leonard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73306570,"answer_count":2,"score":0,"last_activity_date":1694675363,"creation_date":1654610274,"question_id":72532535,"body_markdown":"my pods are using the node group role instead of the role defined by the service account. The service account configuration seems to be right because when I run `kubectl exec pod_name -- env | grep AWS` AWS_ROLE_ARN and AWS_WEB_IDENTITY_TOKEN_FILE env variables are correct.\r\n\r\nI&#39;m using AWS Java sdk version 1.12.233 which should support service accounts. Still according to the logs of my app, the node group role is used. The cluster runs Kubernetes 1.22\r\n\r\nAny idea what could be the matter?","title":"Pod is using node group role instead of service account in aws eks with an up to date AWS SDK","body":"<p>my pods are using the node group role instead of the role defined by the service account. The service account configuration seems to be right because when I run <code>kubectl exec pod_name -- env | grep AWS</code> AWS_ROLE_ARN and AWS_WEB_IDENTITY_TOKEN_FILE env variables are correct.</p>\n<p>I'm using AWS Java sdk version 1.12.233 which should support service accounts. Still according to the logs of my app, the node group role is used. The cluster runs Kubernetes 1.22</p>\n<p>Any idea what could be the matter?</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":12554187,"reputation":3338,"user_id":9134576,"display_name":"letsintegreat"},"score":2,"creation_date":1548741217,"post_id":54414627,"comment_id":95639403,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":3928930,"reputation":963,"user_id":3248312,"display_name":"iamrajshah"},"score":0,"creation_date":1548741268,"post_id":54414627,"comment_id":95639421,"body_markdown":"Very unclear from what you have asked. Do you want suggestion on for loop written by you?","body":"Very unclear from what you have asked. Do you want suggestion on for loop written by you?"},{"owner":{"account_id":1021804,"reputation":12875,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"score":0,"creation_date":1548741336,"post_id":54414627,"comment_id":95639455,"body_markdown":"I read this 2 times to find out &quot;what is the question&quot;. Please read https://stackoverflow.com/help/how-to-ask","body":"I read this 2 times to find out &quot;what is the question&quot;. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":15140910,"reputation":21,"user_id":10925935,"display_name":"iggylombardi"},"score":0,"creation_date":1548741358,"post_id":54414627,"comment_id":95639462,"body_markdown":"Just want to see what I was doing wrong. The instructions ask me to count down from 3 to 1 using the for loop construct.","body":"Just want to see what I was doing wrong. The instructions ask me to count down from 3 to 1 using the for loop construct."},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":2,"creation_date":1548741722,"post_id":54414627,"comment_id":95639572,"body_markdown":"change this `for (i = 3; i &lt;= 1; --i)` to `for (i = 3; i &gt;= 1; --i)`","body":"change this <code>for (i = 3; i &lt;= 1; --i)</code> to <code>for (i = 3; i &gt;= 1; --i)</code>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":2,"creation_date":1548742314,"post_id":54414627,"comment_id":95639773,"body_markdown":"@Deadpool or even `for (i = firstNumber; i &gt;= 1; --i)`","body":"@Deadpool or even <code>for (i = firstNumber; i &gt;= 1; --i)</code>"}],"answers":[{"tags":[],"owner":{"account_id":12554187,"reputation":3338,"user_id":9134576,"display_name":"letsintegreat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548742208,"creation_date":1548741491,"answer_id":54414695,"question_id":54414627,"body_markdown":"The problem is in the loop condition, that will never be `True`, Change the condition to this:\r\n\r\n    i &gt;= 1\r\n\r\nBecause in this condition:\r\n\r\n    i &lt;= 1\r\n\r\nThe current value of `i` is 3, and `3` is not smaller than (`&lt;`) or equal to (`=`) `1`, so the condition will be `False` at the first place, and code inside `for` loop will never gets executed.\r\n\r\nAlso, you&#39;ve created a variable `firstNumber`, which I believe is the starting  point of counter variable so you can change this line:\r\n\r\n    for (i = 3; i &lt;= 1; --i)\r\n\r\nto this:\r\n\r\n    for (i = firstNumber; i &gt;= 1; --i)","title":"For Loops - Java","body":"<p>The problem is in the loop condition, that will never be <code>True</code>, Change the condition to this:</p>\n\n<pre><code>i &gt;= 1\n</code></pre>\n\n<p>Because in this condition:</p>\n\n<pre><code>i &lt;= 1\n</code></pre>\n\n<p>The current value of <code>i</code> is 3, and <code>3</code> is not smaller than (<code>&lt;</code>) or equal to (<code>=</code>) <code>1</code>, so the condition will be <code>False</code> at the first place, and code inside <code>for</code> loop will never gets executed.</p>\n\n<p>Also, you've created a variable <code>firstNumber</code>, which I believe is the starting  point of counter variable so you can change this line:</p>\n\n<pre><code>for (i = 3; i &lt;= 1; --i)\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>for (i = firstNumber; i &gt;= 1; --i)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548741687,"creation_date":1548741687,"answer_id":54414723,"question_id":54414627,"body_markdown":"You logic here\r\n\r\n    for (i = 3; i &lt;= 1; --i) {\r\n         System.out.println(i);\r\n    }\r\n\r\nis \r\n\r\n    a) start with i being three\r\n    \r\n    b) if i &lt;= 1\r\n       then print\r\n       decrement i\r\n    \r\n    c) loop again\r\n\r\nObviously the loop will never be entered into\r\n\r\ntry\r\n\r\n    for (i = 3; i &gt;= 1; --i) {\r\n         System.out.println(i);\r\n    }","title":"For Loops - Java","body":"<p>You logic here</p>\n\n<pre><code>for (i = 3; i &lt;= 1; --i) {\n     System.out.println(i);\n}\n</code></pre>\n\n<p>is </p>\n\n<pre><code>a) start with i being three\n\nb) if i &lt;= 1\n   then print\n   decrement i\n\nc) loop again\n</code></pre>\n\n<p>Obviously the loop will never be entered into</p>\n\n<p>try</p>\n\n<pre><code>for (i = 3; i &gt;= 1; --i) {\n     System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5073575,"reputation":1,"user_id":4071672,"display_name":"Ali Asad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548741823,"creation_date":1548741823,"answer_id":54414753,"question_id":54414627,"body_markdown":"You should write you code like:\r\n\r\n    public class ForLoops {\r\n        public static void main (String [] args) {\r\n      \r\n           int firstNumber;\r\n           int i;\r\n\r\n           firstNumber = 3;\r\n\r\n           for (i = firstNumber; i &gt;= 1; --i) {\r\n              System.out.println(i);\r\n           }\r\n       }\r\n    }","title":"For Loops - Java","body":"<p>You should write you code like:</p>\n\n<pre><code>public class ForLoops {\n    public static void main (String [] args) {\n\n       int firstNumber;\n       int i;\n\n       firstNumber = 3;\n\n       for (i = firstNumber; i &gt;= 1; --i) {\n          System.out.println(i);\n       }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11626510,"reputation":373,"user_id":8516136,"display_name":"amar19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548742171,"creation_date":1548742171,"answer_id":54414836,"question_id":54414627,"body_markdown":"You have simple mistake in for loop condition.\r\n\r\nShouldn&#39;t it be greater than or equal to (&gt;=) as you are going in reverse direction.\r\n\r\nchange it to:\r\n\r\n    for (i = 3; i &gt;= 1; --i)\r\n\r\n","title":"For Loops - Java","body":"<p>You have simple mistake in for loop condition.</p>\n\n<p>Shouldn't it be greater than or equal to (>=) as you are going in reverse direction.</p>\n\n<p>change it to:</p>\n\n<pre><code>for (i = 3; i &gt;= 1; --i)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15217012,"reputation":1,"user_id":10982807,"display_name":"user10982807"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1574211234,"creation_date":1548742277,"answer_id":54414858,"question_id":54414627,"body_markdown":"Your mistake seems to be, that you used a &lt;= (smaller or equal) which is never true (3 can never be smaller or equal to 1). So you have to use a &gt;=\r\n\r\n\r\nAnd you can&#39;t have space in the name of your variable ( int first Numer; has to be int firstNumer;)\r\n\r\n    public class Test{\r\n        public static void main(){\r\n             int firstNumber;\r\n             firstNumber = 3;\r\n\r\n             for(int i = 3; i &gt;= 1; i--){\r\n                  System.out.println(i);\r\n             }\r\n        }\r\n    }\r\nSorry for my bad spelling, but I am on my phone right now. I hope I could help you.","title":"For Loops - Java","body":"<p>Your mistake seems to be, that you used a &lt;= (smaller or equal) which is never true (3 can never be smaller or equal to 1). So you have to use a >=</p>\n\n<p>And you can't have space in the name of your variable ( int first Numer; has to be int firstNumer;)</p>\n\n<pre><code>public class Test{\n    public static void main(){\n         int firstNumber;\n         firstNumber = 3;\n\n         for(int i = 3; i &gt;= 1; i--){\n              System.out.println(i);\n         }\n    }\n}\n</code></pre>\n\n<p>Sorry for my bad spelling, but I am on my phone right now. I hope I could help you.</p>\n"},{"tags":[],"owner":{"account_id":9324892,"reputation":1,"user_id":6922524,"display_name":"user6922524"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1548743893,"creation_date":1548743557,"answer_id":54415120,"question_id":54414627,"body_markdown":"this is correc code:\r\n\r\n       public class ForLoops {\r\n        public static void main (String [] args) {\r\n          int firstNumber;\r\n          int i;\r\n    \r\n          firstNumber = 3;\r\n\r\n          i = firstNumber;   \r\n\r\n          for (i = 3; i &lt;= 1; --i) {\r\n             System.out.println(i);\r\n         }\r\n       }\r\n    }","title":"For Loops - Java","body":"<p>this is correc code:</p>\n\n<pre><code>   public class ForLoops {\n    public static void main (String [] args) {\n      int firstNumber;\n      int i;\n\n      firstNumber = 3;\n\n      i = firstNumber;   \n\n      for (i = 3; i &lt;= 1; --i) {\n         System.out.println(i);\n     }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":15140910,"reputation":21,"user_id":10925935,"display_name":"iggylombardi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8593,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":6,"score":-1,"last_activity_date":1694675139,"creation_date":1548741070,"question_id":54414627,"body_markdown":"I&#39;m sure this is super simple, but I keep getting nothing. The instructions say:\r\n\r\n&quot;Write code that prints: firstNumber...2 1\r\nPrint a newline after each number. Ex: firstNumber = 3 outputs\r\n\r\n    3\r\n    2\r\n    1\r\n\r\nHere&#39;s: the code:\r\n\r\n    public class ForLoops {\r\n       public static void main (String [] args) {\r\n          int firstNumber;\r\n          int i;\r\n\r\n          firstNumber = 3;\r\n\r\n          for (i = 3; i &lt;= 1; --i) {\r\n             System.out.println(i);\r\n         }\r\n       }\r\n    }\r\n\r\nMy thought process is since it wants me to count down from 3 to 1, I make i equal to 3, then it will count down for everything until i equals or is less than 1 with the --i. \r\n\r\nIf that makes sense. \r\n\r\n","title":"For Loops - Java","body":"<p>I'm sure this is super simple, but I keep getting nothing. The instructions say:</p>\n\n<p>\"Write code that prints: firstNumber...2 1\nPrint a newline after each number. Ex: firstNumber = 3 outputs</p>\n\n<pre><code>3\n2\n1\n</code></pre>\n\n<p>Here's: the code:</p>\n\n<pre><code>public class ForLoops {\n   public static void main (String [] args) {\n      int firstNumber;\n      int i;\n\n      firstNumber = 3;\n\n      for (i = 3; i &lt;= 1; --i) {\n         System.out.println(i);\n     }\n   }\n}\n</code></pre>\n\n<p>My thought process is since it wants me to count down from 3 to 1, I make i equal to 3, then it will count down for everything until i equals or is less than 1 with the --i. </p>\n\n<p>If that makes sense. </p>\n"},{"tags":["java","mysql","spring-boot","jdbc","driver"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539531134,"creation_date":1539531134,"answer_id":52804267,"question_id":52804228,"body_markdown":"You don&#39;t specify version of MYSQL JDBC driver, so you&#39;re likely getting version **8.x**, where the driver is named differently than in previous versions:\r\n\r\n`com.mysql.cj.jdbc.Driver`","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>You don't specify version of MYSQL JDBC driver, so you're likely getting version <strong>8.x</strong>, where the driver is named differently than in previous versions:</p>\n\n<p><code>com.mysql.cj.jdbc.Driver</code></p>\n"},{"tags":[],"owner":{"account_id":11016286,"reputation":1993,"user_id":8092044,"accept_rate":80,"display_name":"Tomas Lukac"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1539634386,"creation_date":1539634386,"answer_id":52824097,"question_id":52804228,"body_markdown":"The answer is so embarrassing. I appended the driver line of application.properties with a semicolon ...\r\nObviously, it did&#39;t recognize that driver.","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>The answer is so embarrassing. I appended the driver line of application.properties with a semicolon ...\nObviously, it did't recognize that driver.</p>\n"},{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1629228097,"creation_date":1552551535,"answer_id":55157793,"question_id":52804228,"body_markdown":"In my case the next dependency was missing: \r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn case of using IntelliJ and if you inherit from a `&lt;parent&gt;`, you can view your effective `pom.xml` by right clicking anywhere inside your `pom.xml`, then:\r\n[![enter image description here][1]][1] \r\n\r\nand search for the `mysql-connector-java` artifact as mentioned.\r\n\r\n  [1]: https://i.stack.imgur.com/TYWdU.png","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>In my case the next dependency was missing:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;mysql&lt;/groupId&gt;\n     &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In case of using IntelliJ and if you inherit from a <code>&lt;parent&gt;</code>, you can view your effective <code>pom.xml</code> by right clicking anywhere inside your <code>pom.xml</code>, then:\n<a href=\"https://i.stack.imgur.com/TYWdU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TYWdU.png\" alt=\"enter image description here\" /></a></p>\n<p>and search for the <code>mysql-connector-java</code> artifact as mentioned.</p>\n"},{"tags":[],"owner":{"account_id":8476172,"reputation":524,"user_id":6357366,"display_name":"Omid Rostami"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1557135359,"creation_date":1557135359,"answer_id":56002512,"question_id":52804228,"body_markdown":"just add mysql and jdbc dependencies like below\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>just add mysql and jdbc dependencies like below</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16196173,"reputation":31,"user_id":11693766,"display_name":"Nitish Patil"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1588714785,"creation_date":1561398977,"answer_id":56741688,"question_id":52804228,"body_markdown":"Change the database driver dependency scope to &#39;runtime&#39;\r\n\r\nFor example:\r\n \r\n\r\n       &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.{yourDatabaseGroupid}&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;{yourDatabaseArtifactId}&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>Change the database driver dependency scope to 'runtime'</p>\n\n<p>For example:</p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.{yourDatabaseGroupid}&lt;/groupId&gt;\n        &lt;artifactId&gt;{yourDatabaseArtifactId}&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8213997,"reputation":78,"user_id":6181070,"display_name":"Od Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571491171,"creation_date":1571491171,"answer_id":58464102,"question_id":52804228,"body_markdown":"I had the same problem as you. For me, it was because of having h2 database dependency!\r\nI don&#39;t know how these two can affect each other, but all I did was removing this dependency and now it works just fine!","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>I had the same problem as you. For me, it was because of having h2 database dependency!\nI don't know how these two can affect each other, but all I did was removing this dependency and now it works just fine!</p>\n"},{"tags":[],"owner":{"account_id":5016630,"reputation":351,"user_id":4031340,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1575554044,"creation_date":1575554044,"answer_id":59196718,"question_id":52804228,"body_markdown":"I had a problem where I was using Spring Boot 2.2.0.RELEASE and needed to connect to an old Mysql DB (5.1.73), which required me to downgrade to mysql-connector-java version 5.1.38\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.38&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nSince Spring boot was expecting a newer mysql-java-connector, which has been renamed to com.mysql.cj.jdbc.Driver, I also had to add the spring datasource driver-class-name setting in my spring boot db config.\r\n\r\nSo my spring boot config ended up like this:\r\n\r\n    spring:\r\n      datasource:\r\n       url: &#39;localhost&#39;\r\n       password: password\r\n       username: user\r\n       driver-class-name: com.mysql.jdbc.Driver","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>I had a problem where I was using Spring Boot 2.2.0.RELEASE and needed to connect to an old Mysql DB (5.1.73), which required me to downgrade to mysql-connector-java version 5.1.38</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.38&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Since Spring boot was expecting a newer mysql-java-connector, which has been renamed to com.mysql.cj.jdbc.Driver, I also had to add the spring datasource driver-class-name setting in my spring boot db config.</p>\n\n<p>So my spring boot config ended up like this:</p>\n\n<pre><code>spring:\n  datasource:\n   url: 'localhost'\n   password: password\n   username: user\n   driver-class-name: com.mysql.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5746045,"reputation":1135,"user_id":4537268,"display_name":"Ganesh Giri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583291799,"creation_date":1583291215,"answer_id":60518502,"question_id":52804228,"body_markdown":"In my case error throws:\r\n\r\n    Property: driverclassname\r\n    Value: com.mysql.cj.jdbc.Driver\r\n    Origin: &quot;driverClassName&quot; from property source &quot;source&quot;\r\nReason: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n\r\nSo I have just added mysql dependency:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTry upgrading your driver. Coz Mysql community has updated class name from **com.mysql.jdbc.Driver to com.mysql.cj.jdbc.** [Check More Details][1]\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-api-changes.html","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>In my case error throws:</p>\n\n<pre><code>Property: driverclassname\nValue: com.mysql.cj.jdbc.Driver\nOrigin: \"driverClassName\" from property source \"source\"\n</code></pre>\n\n<p>Reason: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader</p>\n\n<p>So I have just added mysql dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;mysql&lt;/groupId&gt;\n&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Try upgrading your driver. Coz Mysql community has updated class name from <strong>com.mysql.jdbc.Driver to com.mysql.cj.jdbc.</strong> <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-api-changes.html\" rel=\"nofollow noreferrer\">Check More Details</a></p>\n"},{"tags":[],"owner":{"account_id":18853483,"reputation":21,"user_id":13752048,"display_name":"Harsha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623142999,"creation_date":1600904816,"answer_id":64037701,"question_id":52804228,"body_markdown":"Had to specify the jar path inside project-&gt;Properties-&gt;JPA-&gt; connection Profile -&gt; JAR List\r\n\r\n   ![configuration screen shot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JM858.png","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>Had to specify the jar path inside project-&gt;Properties-&gt;JPA-&gt; connection Profile -&gt; JAR List</p>\n<p><img src=\"https://i.stack.imgur.com/JM858.png\" alt=\"configuration screen shot\" /></p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613507763,"creation_date":1613507763,"answer_id":66231791,"question_id":52804228,"body_markdown":"You should add: `spring.datasource.driver-class-name=com.mysql.jdbc.Driver` to your **application.properties** file .\r\n\r\n\r\nMy **application.properties : **\r\n\r\n\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db_name?useSSL=false&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&amp;zeroDateTimeBehavior=convertToNull\r\n    spring.datasource.username=root\r\n\r\n","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>You should add: <code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver</code> to your <strong>application.properties</strong> file .</p>\n<p>My **application.properties : **</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.datasource.url=jdbc:mysql://localhost:3306/db_name?useSSL=false&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&amp;zeroDateTimeBehavior=convertToNull\nspring.datasource.username=root\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15914001,"reputation":346,"user_id":11762148,"display_name":"MakiX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618260349,"creation_date":1618260349,"answer_id":67065460,"question_id":52804228,"body_markdown":"I my case all configurations were correct but I still get this error.\r\n\r\nIn Intellij, go in the project structure (**ctrl + alt + maj + S**) in windows.\r\nLook if u get some problems.\r\n\r\nIf yes, go on **maven** in the sidebar: clic on **&quot;Generate sources and Update Folders for All projetct&quot;**\r\n\r\nThat resolve my error !","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>I my case all configurations were correct but I still get this error.</p>\n<p>In Intellij, go in the project structure (<strong>ctrl + alt + maj + S</strong>) in windows.\nLook if u get some problems.</p>\n<p>If yes, go on <strong>maven</strong> in the sidebar: clic on <strong>&quot;Generate sources and Update Folders for All projetct&quot;</strong></p>\n<p>That resolve my error !</p>\n"},{"tags":[],"owner":{"account_id":2191637,"reputation":1557,"user_id":1938507,"display_name":"Junaed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621344029,"creation_date":1621344029,"answer_id":67587107,"question_id":52804228,"body_markdown":"I cant believe it!\r\nIn intellij: **Build-&gt;rebuild project** solved the issue for me!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nFor more information: \r\n\r\n**pom.xml**:\r\n[![enter image description here][2]][2]\r\n\r\n**application.properties:**\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ma0rH.png\r\n  [2]: https://i.stack.imgur.com/c5IJU.png\r\n  [3]: https://i.stack.imgur.com/pmRZB.png","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>I cant believe it!\nIn intellij: <strong>Build-&gt;rebuild project</strong> solved the issue for me!</p>\n<p><a href=\"https://i.stack.imgur.com/Ma0rH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ma0rH.png\" alt=\"enter image description here\" /></a></p>\n<p>For more information:</p>\n<p><strong>pom.xml</strong>:\n<a href=\"https://i.stack.imgur.com/c5IJU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c5IJU.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>application.properties:</strong>\n<a href=\"https://i.stack.imgur.com/pmRZB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pmRZB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21558810,"reputation":119,"user_id":15893640,"display_name":"edine-noella"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623748882,"creation_date":1623748882,"answer_id":67983525,"question_id":52804228,"body_markdown":"this issue for me was also caused by the version of mysql.\r\nall i had to do is add the version of mysql in pom.xml dependencies\r\n(in my case the verion is 8.0.25)\r\n\r\n \r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt; \r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.25&lt;/version&gt; \r\n      &lt;/dependency&gt;\r\n\r\nmake sure to reload the maven dependecies before your run","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>this issue for me was also caused by the version of mysql.\nall i had to do is add the version of mysql in pom.xml dependencies\n(in my case the verion is 8.0.25)</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt; \n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.25&lt;/version&gt; \n  &lt;/dependency&gt;\n</code></pre>\n<p>make sure to reload the maven dependecies before your run</p>\n"},{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661736281,"creation_date":1661736281,"answer_id":73523366,"question_id":52804228,"body_markdown":"I had the same issue and the root cause was [ spring.**profile**.active ]\r\nand the fix is [ spring.**profiles**.active ] where it is **profiles** plural \r\nand it was my mistake.","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>I had the same issue and the root cause was [ spring.<strong>profile</strong>.active ]\nand the fix is [ spring.<strong>profiles</strong>.active ] where it is <strong>profiles</strong> plural\nand it was my mistake.</p>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666802015,"creation_date":1666802015,"answer_id":74211267,"question_id":52804228,"body_markdown":"go to https://start.spring.io\r\nIn that site:\r\n   Dependencies &gt; Search for Mysql drver &gt; select it &gt; Click explore button &gt; copy the latest version of mysql connector &gt; add it into your application.properties file","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>go to <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a>\nIn that site:\nDependencies &gt; Search for Mysql drver &gt; select it &gt; Click explore button &gt; copy the latest version of mysql connector &gt; add it into your application.properties file</p>\n"},{"tags":[],"owner":{"account_id":20024941,"reputation":111,"user_id":14678978,"display_name":"Shane Park"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680404078,"creation_date":1680404078,"answer_id":75909882,"question_id":52804228,"body_markdown":"Spring boot 3.xx has updated its dependency\r\n\r\ntry this\r\n```kotlin\r\nruntimeOnly(&quot;com.mysql:mysql-connector-j&quot;)\r\n```\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>Spring boot 3.xx has updated its dependency</p>\n<p>try this</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>runtimeOnly(&quot;com.mysql:mysql-connector-j&quot;)\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29089810,"reputation":1,"user_id":22283961,"display_name":"Carlos Andr&#233;s Hinestroza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690785436,"creation_date":1690307466,"answer_id":76765344,"question_id":52804228,"body_markdown":"/*I solved it just by placing these two lines.*/\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>/<em>I solved it just by placing these two lines.</em>/</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\nimplementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24017134,"reputation":31,"user_id":17999946,"display_name":"pokki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694675031,"creation_date":1694675031,"answer_id":77102524,"question_id":52804228,"body_markdown":"Can&#39;t comment, here&#39;s another updated alternative (to `@Janac Meena`&#39;s comment) for Gradle\r\n\r\n    implementation &#39;com.mysql:mysql-connector-j:8.1.0&#39;\r\n\r\nCheck for more versions [here][1]. My mistake was spelling the above as `mysql-connector-java:8.1.0` instead of `mysql-connector-j:8.1.0`.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.mysql/mysql-connector-j","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>Can't comment, here's another updated alternative (to <code>@Janac Meena</code>'s comment) for Gradle</p>\n<pre><code>implementation 'com.mysql:mysql-connector-j:8.1.0'\n</code></pre>\n<p>Check for more versions <a href=\"https://mvnrepository.com/artifact/com.mysql/mysql-connector-j\" rel=\"nofollow noreferrer\">here</a>. My mistake was spelling the above as <code>mysql-connector-java:8.1.0</code> instead of <code>mysql-connector-j:8.1.0</code>.</p>\n"}],"owner":{"account_id":11016286,"reputation":1993,"user_id":8092044,"accept_rate":80,"display_name":"Tomas Lukac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149506,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":52824097,"answer_count":18,"score":45,"last_activity_date":1694675031,"creation_date":1539530804,"question_id":52804228,"body_markdown":"I am trying to run my Spring Boot backend with two profiles, one using H2 in memory database and the second one using MySQL. H2 database works just fine, but when I switch to MySQL I get\r\n\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to bind properties under &#39;&#39; to com.zaxxer.hikari.HikariDataSource:\r\n    \r\n        Property: driverclassname\r\n        Value: com.mysql.jdbc.Driver;\r\n        Origin: &quot;driverClassName&quot; from property source &quot;source&quot;\r\n        Reason: Failed to load driver class com.mysql.jdbc.Driver; in either of HikariConfig class loader or Thread context classloader\r\n    \r\n    Action:\r\n    \r\n    Update your application&#39;s configuration\r\n\r\n I have tried deleting .m2, reimporting, maven clean, compile, install and most of the things I could find on the internet, no success. The funny thing is that I have other project with MySQL database only, I had similar issue, but adding **mysql-connector-java** dependency solved it. I have no clue right now.\r\n\r\n**application.properties**\r\n\r\n    spring.profiles.active=@profilename@\r\n    \r\n    #H2 in memory database\r\n    domain.datasource.type=H2\r\n    domain.datasource.url=jdbc:h2:mem:store;MODE=MYSQL;\r\n    domain.datasource.driver-class=org.h2.Driver\r\n    domain.datasource.username=sa\r\n    domain.datasource.password=\r\n    domain.datasource.generate-dll=true\r\n\r\n**application-local_mysql.properties**\r\n\r\n    spring.profiles.active=@profilename@\r\n    \r\n    #MySQL local database\r\n    domain.datasource.type=MYSQL\r\n    domain.datasource.url=jdbc:mysql://localhost:3600/store;\r\n    domain.datasource.driver-class=com.mysql.jdbc.Driver;\r\n    domain.datasource.username=store\r\n    domain.datasource.password=store\r\n    domain.datasource.generate-dll=false\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;sk.personal&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;my-project&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;my-project&lt;/name&gt;\r\n    \t&lt;description&gt;My personal project.&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;local_h2&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;profilename&gt;local_h2&lt;/profilename&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;local_mysql&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;profilename&gt;local_mysql&lt;/profilename&gt;\r\n    \t\t\t\t&lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**DatasourceConfig.java**\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;\r\n    import org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    public class DatasourceConfig {\r\n    \r\n        @Value(&quot;${domain.datasource.url}&quot;)\r\n        private String url;\r\n    \r\n        @Value(&quot;${domain.datasource.username}&quot;)\r\n        private String username;\r\n    \r\n        @Value(&quot;${domain.datasource.password}&quot;)\r\n        private String password;\r\n    \r\n        @Value(&quot;${domain.datasource.type}&quot;)\r\n        private String type;\r\n    \r\n        @Value(&quot;${domain.datasource.driver-class}&quot;)\r\n        private String driverClass;\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            if (type.equals(&quot;MYSQL&quot;)) {\r\n                return DataSourceBuilder\r\n                        .create()\r\n                        .username(username)\r\n                        .password(password)\r\n                        .url(url)\r\n                        .driverClassName(driverClass)\r\n                        .build();\r\n            } else {\r\n                EmbeddedDatabaseBuilder builder = new EmbeddedDatabaseBuilder();\r\n                return builder\r\n                        .setType(EmbeddedDatabaseType.H2)\r\n                        .build();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Failed to load driver class com.mysql.jdbc.Driver","body":"<p>I am trying to run my Spring Boot backend with two profiles, one using H2 in memory database and the second one using MySQL. H2 database works just fine, but when I switch to MySQL I get</p>\n<pre><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to bind properties under '' to com.zaxxer.hikari.HikariDataSource:\n\n    Property: driverclassname\n    Value: com.mysql.jdbc.Driver;\n    Origin: &quot;driverClassName&quot; from property source &quot;source&quot;\n    Reason: Failed to load driver class com.mysql.jdbc.Driver; in either of HikariConfig class loader or Thread context classloader\n\nAction:\n\nUpdate your application's configuration\n</code></pre>\n<p>I have tried deleting .m2, reimporting, maven clean, compile, install and most of the things I could find on the internet, no success. The funny thing is that I have other project with MySQL database only, I had similar issue, but adding <strong>mysql-connector-java</strong> dependency solved it. I have no clue right now.</p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.profiles.active=@profilename@\n\n#H2 in memory database\ndomain.datasource.type=H2\ndomain.datasource.url=jdbc:h2:mem:store;MODE=MYSQL;\ndomain.datasource.driver-class=org.h2.Driver\ndomain.datasource.username=sa\ndomain.datasource.password=\ndomain.datasource.generate-dll=true\n</code></pre>\n<p><strong>application-local_mysql.properties</strong></p>\n<pre><code>spring.profiles.active=@profilename@\n\n#MySQL local database\ndomain.datasource.type=MYSQL\ndomain.datasource.url=jdbc:mysql://localhost:3600/store;\ndomain.datasource.driver-class=com.mysql.jdbc.Driver;\ndomain.datasource.username=store\ndomain.datasource.password=store\ndomain.datasource.generate-dll=false\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;sk.personal&lt;/groupId&gt;\n    &lt;artifactId&gt;my-project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;my-project&lt;/name&gt;\n    &lt;description&gt;My personal project.&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local_h2&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;profilename&gt;local_h2&lt;/profilename&gt;\n            &lt;/properties&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local_mysql&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;profilename&gt;local_mysql&lt;/profilename&gt;\n                &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>DatasourceConfig.java</strong></p>\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;\n\nimport javax.sql.DataSource;\n\n@Configuration\npublic class DatasourceConfig {\n\n    @Value(&quot;${domain.datasource.url}&quot;)\n    private String url;\n\n    @Value(&quot;${domain.datasource.username}&quot;)\n    private String username;\n\n    @Value(&quot;${domain.datasource.password}&quot;)\n    private String password;\n\n    @Value(&quot;${domain.datasource.type}&quot;)\n    private String type;\n\n    @Value(&quot;${domain.datasource.driver-class}&quot;)\n    private String driverClass;\n\n    @Bean\n    public DataSource dataSource() {\n        if (type.equals(&quot;MYSQL&quot;)) {\n            return DataSourceBuilder\n                    .create()\n                    .username(username)\n                    .password(password)\n                    .url(url)\n                    .driverClassName(driverClass)\n                    .build();\n        } else {\n            EmbeddedDatabaseBuilder builder = new EmbeddedDatabaseBuilder();\n            return builder\n                    .setType(EmbeddedDatabaseType.H2)\n                    .build();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","intellij-idea","jpanel","contentpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518383068,"post_id":48736420,"comment_id":84472239,"body_markdown":"The simple answer is, `panel` is never initialised. The longer is more complicated (thanks to the intellij&#39;s form editor - I never did actually work out how that thing actually worked).  Unless you&#39;re willing to spend some more time working through intellij&#39;s form editor tutorials, I&#39;d personally ditch it and learn to code your UI&#39;s by hand","body":"The simple answer is, <code>panel</code> is never initialised. The longer is more complicated (thanks to the intellij&#39;s form editor - I never did actually work out how that thing actually worked).  Unless you&#39;re willing to spend some more time working through intellij&#39;s form editor tutorials, I&#39;d personally ditch it and learn to code your UI&#39;s by hand"},{"owner":{"account_id":10379786,"reputation":121,"user_id":7654956,"display_name":"Quinn"},"score":0,"creation_date":1518383324,"post_id":48736420,"comment_id":84472323,"body_markdown":"I understand that panel is never initialized. I even tried initializing it manually, to no effect.","body":"I understand that panel is never initialized. I even tried initializing it manually, to no effect."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518383434,"post_id":48736420,"comment_id":84472353,"body_markdown":"&quot;When&quot; did you try to initialise it? Before or after `frame.setContentPane(new View().panel);`?  In your example, it would need to be initialised in the `View`&#39;s constructor","body":"&quot;When&quot; did you try to initialise it? Before or after <code>frame.setContentPane(new View().panel);</code>?  In your example, it would need to be initialised in the <code>View</code>&#39;s constructor"},{"owner":{"account_id":414143,"reputation":1710,"user_id":788190,"accept_rate":52,"display_name":"ricardogobbo"},"score":1,"creation_date":1543342675,"post_id":48736420,"comment_id":93881225,"body_markdown":"Did you move your .java to another package?","body":"Did you move your .java to another package?"}],"answers":[{"tags":[],"owner":{"account_id":10627265,"reputation":111,"user_id":7981174,"display_name":"konmal88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518385227,"creation_date":1518385227,"answer_id":48736757,"question_id":48736420,"body_markdown":"You are setting as JFrame&#39; s content pane the panel &#39;panel&#39; but the JPanel you are creating is called &#39;panel1&#39;. To fix this problem change JPanel&#39; s name to &#39;panel&#39; instead of &#39;panel1&#39;.","title":"Intellij, &quot;contentPane cannot be set to null&quot; using swing designer","body":"<p>You are setting as JFrame' s content pane the panel 'panel' but the JPanel you are creating is called 'panel1'. To fix this problem change JPanel' s name to 'panel' instead of 'panel1'.</p>\n"},{"tags":[],"owner":{"account_id":5351434,"reputation":56,"user_id":4265477,"display_name":"chehonte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571567167,"creation_date":1571567167,"answer_id":58472062,"question_id":48736420,"body_markdown":"Try enabling &quot;UI Designer&quot; plugin in Intellij IDEA, it helped in my case.\r\nFile -&gt; Settings -&gt; Plugins -&gt; UI Designer -&gt; Restart IDE","title":"Intellij, &quot;contentPane cannot be set to null&quot; using swing designer","body":"<p>Try enabling \"UI Designer\" plugin in Intellij IDEA, it helped in my case.\nFile -> Settings -> Plugins -> UI Designer -> Restart IDE</p>\n"},{"tags":[],"owner":{"account_id":3753963,"reputation":339,"user_id":3204692,"accept_rate":75,"display_name":"SmugDoodleBug"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624840412,"creation_date":1624840412,"answer_id":68156325,"question_id":48736420,"body_markdown":"You need to make sure to to set the field name of the panel. You are possibly misunderstanding the following line:\r\n\r\nframe.setContentPane(new View().panel);\r\n\r\nIn this code, new View().panel is really trying to initialize the object with the field name. So if the panel doesn&#39;t have that name...obviously you are trying to instantiate something that doesn&#39;t exist.\r\n\r\nI named my JPanel MainPanel under the field name property in the jform editor and wrote:\r\n\r\nframe.setContentPane(new View().MainPanel);\r\n\r\n","title":"Intellij, &quot;contentPane cannot be set to null&quot; using swing designer","body":"<p>You need to make sure to to set the field name of the panel. You are possibly misunderstanding the following line:</p>\n<p>frame.setContentPane(new View().panel);</p>\n<p>In this code, new View().panel is really trying to initialize the object with the field name. So if the panel doesn't have that name...obviously you are trying to instantiate something that doesn't exist.</p>\n<p>I named my JPanel MainPanel under the field name property in the jform editor and wrote:</p>\n<p>frame.setContentPane(new View().MainPanel);</p>\n"},{"tags":[],"owner":{"account_id":8139998,"reputation":1398,"user_id":6130501,"display_name":"Adir Dayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694675009,"creation_date":1694675009,"answer_id":77102521,"question_id":48736420,"body_markdown":"In order to use IntelliJ UI Designer you must compile the code using IntelliJ, in my problem I used gradle for build.\r\n\r\nSteps:\r\n\r\n 1. Go to Settings: Editor --&gt; GUI Designer --&gt; Generate GUI into (replace from Binary to Java)\r\n 2. Add gradle dependency - `implementation group: &#39;com.intellij&#39;, name:\r\n    &#39;forms_rt&#39;, version: &#39;7.0.3&#39;`\r\n\r\n","title":"Intellij, &quot;contentPane cannot be set to null&quot; using swing designer","body":"<p>In order to use IntelliJ UI Designer you must compile the code using IntelliJ, in my problem I used gradle for build.</p>\n<p>Steps:</p>\n<ol>\n<li>Go to Settings: Editor --&gt; GUI Designer --&gt; Generate GUI into (replace from Binary to Java)</li>\n<li>Add gradle dependency - <code>implementation group: 'com.intellij', name: 'forms_rt', version: '7.0.3'</code></li>\n</ol>\n"}],"owner":{"account_id":10379786,"reputation":121,"user_id":7654956,"display_name":"Quinn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14013,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":4,"score":9,"last_activity_date":1694675009,"creation_date":1518382824,"question_id":48736420,"body_markdown":"I&#39;m trying out `Intellij Idea`, and am trying to do some `Swing` development. I am running into an issue I have never experienced on `Eclipse`, and I am wondering if I have something set up wrong.\r\n\r\nHere is my GUI class that is run by my driver:\r\n\r\n    package view;\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class View {\r\n\r\n        private JPanel panel;\r\n\r\n        public void run() {\r\n            JFrame frame = new JFrame(&quot;Vending Machine&quot;);\r\n            frame.setContentPane(new View().panel);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        {\r\n        // GUI initializer generated by IntelliJ IDEA GUI Designer\r\n        // &gt;&gt;&gt; IMPORTANT!! &lt;&lt;&lt;\r\n        // DO NOT EDIT OR ADD ANY CODE HERE!\r\n            $$$setupUI$$$();\r\n        }\r\n\r\n    /**\r\n     * Method generated by IntelliJ IDEA GUI Designer\r\n     * &gt;&gt;&gt; IMPORTANT!! &lt;&lt;&lt;\r\n     * DO NOT edit this method OR call it in your code!\r\n     *\r\n     * @noinspection ALL\r\n     */\r\n        \r\n    private void $$$setupUI$$$() {\r\n            final JPanel panel1 = new JPanel();\r\n            panel1.setLayout(new GridBagLayout());\r\n        }\r\n    }\r\n\r\nAs far as I can tell, my `run()` method is as straightforward as it gets. However, upon compiling, this is the error I receive:\r\n\r\n    Exception in thread &quot;main&quot; java.awt.IllegalComponentStateException: contentPane cannot be set to null.\r\n\tat javax.swing.JRootPane.setContentPane(JRootPane.java:621)\r\n\tat javax.swing.JFrame.setContentPane(JFrame.java:698)\r\n\tat view.View.run(View.java:13)\r\n\tat model.VendingMachine.&lt;init&gt;(VendingMachine.java:14)\r\n\tat controller.Driver.main(Driver.java:14)\r\n\r\nFor whatever reason, the `Intellij` auto created code that does not properly initialize the `JPanel`, which is why it&#39;s null.\r\n\r\nI&#39;ve tried instantiating it myself inside run (`panel = new JPanel();`) but that has not helped.\r\n\r\nIs this something obvious? I&#39;ve never run into this issue when getting started with `Swing` in `Eclipse`.","title":"Intellij, &quot;contentPane cannot be set to null&quot; using swing designer","body":"<p>I'm trying out <code>Intellij Idea</code>, and am trying to do some <code>Swing</code> development. I am running into an issue I have never experienced on <code>Eclipse</code>, and I am wondering if I have something set up wrong.</p>\n<p>Here is my GUI class that is run by my driver:</p>\n<pre><code>package view;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class View {\n\n    private JPanel panel;\n\n    public void run() {\n        JFrame frame = new JFrame(&quot;Vending Machine&quot;);\n        frame.setContentPane(new View().panel);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    {\n    // GUI initializer generated by IntelliJ IDEA GUI Designer\n    // &gt;&gt;&gt; IMPORTANT!! &lt;&lt;&lt;\n    // DO NOT EDIT OR ADD ANY CODE HERE!\n        $$$setupUI$$$();\n    }\n\n/**\n * Method generated by IntelliJ IDEA GUI Designer\n * &gt;&gt;&gt; IMPORTANT!! &lt;&lt;&lt;\n * DO NOT edit this method OR call it in your code!\n *\n * @noinspection ALL\n */\n    \nprivate void $$$setupUI$$$() {\n        final JPanel panel1 = new JPanel();\n        panel1.setLayout(new GridBagLayout());\n    }\n}\n</code></pre>\n<p>As far as I can tell, my <code>run()</code> method is as straightforward as it gets. However, upon compiling, this is the error I receive:</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.IllegalComponentStateException: contentPane cannot be set to null.\nat javax.swing.JRootPane.setContentPane(JRootPane.java:621)\nat javax.swing.JFrame.setContentPane(JFrame.java:698)\nat view.View.run(View.java:13)\nat model.VendingMachine.&lt;init&gt;(VendingMachine.java:14)\nat controller.Driver.main(Driver.java:14)\n</code></pre>\n<p>For whatever reason, the <code>Intellij</code> auto created code that does not properly initialize the <code>JPanel</code>, which is why it's null.</p>\n<p>I've tried instantiating it myself inside run (<code>panel = new JPanel();</code>) but that has not helped.</p>\n<p>Is this something obvious? I've never run into this issue when getting started with <code>Swing</code> in <code>Eclipse</code>.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":312260,"reputation":692,"user_id":626224,"display_name":"Dandy"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1337926622,"creation_date":1337838949,"answer_id":10731903,"question_id":10731723,"body_markdown":"Use Projections.distinct.\r\n\r\n    Criteria crit = session.createCriteria(Test.class).setProjection(\r\n        Projections.distinct(Projections.projectionList()\r\n        .add(Projections.property(&quot;type&quot;), &quot;type&quot;) )\r\n    .setResultTransformer(Transformers.aliasToBean(YourBean.class)); \r\n    \r\n    List lst = crit.list();\r\n\r\nwhere YourBean.class has a property &quot;type&quot;. The returned list will be `List&lt;YourBean&gt;`.","title":"How to add Distinct in Hibernate Criteria","body":"<p>Use Projections.distinct.</p>\n\n<pre><code>Criteria crit = session.createCriteria(Test.class).setProjection(\n    Projections.distinct(Projections.projectionList()\n    .add(Projections.property(\"type\"), \"type\") )\n.setResultTransformer(Transformers.aliasToBean(YourBean.class)); \n\nList lst = crit.list();\n</code></pre>\n\n<p>where YourBean.class has a property \"type\". The returned list will be <code>List&lt;YourBean&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":2064568,"reputation":1382,"user_id":1840368,"accept_rate":75,"display_name":"Nathan24"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1362609417,"creation_date":1362609417,"answer_id":15259497,"question_id":10731723,"body_markdown":"Had the same problem and ended up solving using the Group By projection and then adding in all the columns I needed.  For example\r\n\r\n    Criteria query = session.createCriteria(Class.class)\r\n        .setProjection(Projections.projectionList()\r\n            .add(Projections.groupProperty(&quot;Col1&quot;), &quot;Col1&quot;)\r\n\t        .add(Projections.groupProperty(&quot;Col2&quot;), &quot;Col2&quot;))\r\n\t    .setResultTransformer(Transformers.aliasToBean(Class.class));\r\n    List list =  query.list();","title":"How to add Distinct in Hibernate Criteria","body":"<p>Had the same problem and ended up solving using the Group By projection and then adding in all the columns I needed.  For example</p>\n\n<pre><code>Criteria query = session.createCriteria(Class.class)\n    .setProjection(Projections.projectionList()\n        .add(Projections.groupProperty(\"Col1\"), \"Col1\")\n        .add(Projections.groupProperty(\"Col2\"), \"Col2\"))\n    .setResultTransformer(Transformers.aliasToBean(Class.class));\nList list =  query.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":152396,"reputation":8110,"user_id":366898,"accept_rate":59,"display_name":"RAS"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1362985707,"creation_date":1362985707,"answer_id":15333002,"question_id":10731723,"body_markdown":"I finally have found out to get values of other columns:\r\n\r\n    Criteria criteria = session.createCriteria(Test.class);\r\n    ProjectionList projectionList = Projections.projectionList();\r\n    ProjectionList projectionList2 = Projections.projectionList();\r\n   \tprojectionList2.add(Projections.distinct(projectionList.add(Projections.property(&quot;distinctColumn&quot;), &quot;distinctColumn&quot;)));\r\n    projectionList2.add(Projections.property(&quot;col1&quot;), &quot;col1&quot;);\r\n    projectionList2.add(Projections.property(&quot;col2&quot;), &quot;col2&quot;);\r\n    criteria.setProjection(projectionList2);\r\n    criteria.setResultTransformer(Transformers.aliasToBean(Test.class)); \r\n    List list = criteria.list();","title":"How to add Distinct in Hibernate Criteria","body":"<p>I finally have found out to get values of other columns:</p>\n\n<pre><code>Criteria criteria = session.createCriteria(Test.class);\nProjectionList projectionList = Projections.projectionList();\nProjectionList projectionList2 = Projections.projectionList();\nprojectionList2.add(Projections.distinct(projectionList.add(Projections.property(\"distinctColumn\"), \"distinctColumn\")));\nprojectionList2.add(Projections.property(\"col1\"), \"col1\");\nprojectionList2.add(Projections.property(\"col2\"), \"col2\");\ncriteria.setProjection(projectionList2);\ncriteria.setResultTransformer(Transformers.aliasToBean(Test.class)); \nList list = criteria.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319352,"reputation":31,"user_id":3211979,"display_name":"connect2vishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390431069,"creation_date":1390431069,"answer_id":21295731,"question_id":10731723,"body_markdown":"Projections provide the result of the marked properties only. but, it creates problem for the child entities. See my post for the real problem I faced it.\r\n\r\nhttps://stackoverflow.com/questions/21295325/hibernate-parent-and-child-relationship-data-structure","title":"How to add Distinct in Hibernate Criteria","body":"<p>Projections provide the result of the marked properties only. but, it creates problem for the child entities. See my post for the real problem I faced it.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/21295325/hibernate-parent-and-child-relationship-data-structure\">Hibernate: Parent and Child relationship data structure</a></p>\n"},{"tags":[],"owner":{"account_id":6344254,"reputation":269,"user_id":4925290,"display_name":"SEIYA"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1455963121,"creation_date":1432220166,"answer_id":30377381,"question_id":10731723,"body_markdown":"Try to use : \r\n\r\n    cr.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n\r\nIt work perfectly for me","title":"How to add Distinct in Hibernate Criteria","body":"<p>Try to use : </p>\n\n<pre><code>cr.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n</code></pre>\n\n<p>It work perfectly for me</p>\n"},{"tags":[],"owner":{"account_id":7866511,"reputation":41,"user_id":5945181,"display_name":"Sandy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493988735,"creation_date":1493976563,"answer_id":43801357,"question_id":10731723,"body_markdown":"Try to use : \r\n\r\n    Criteria criteria = \r\n        session.createCriteria(Test.class).setProjection(\r\n            Projections.distinct(Projections.property(&quot;testType&quot;)));\r\n    List&lt;Test&gt; rsList = criteria.list();","title":"How to add Distinct in Hibernate Criteria","body":"<p>Try to use : </p>\n\n<pre><code>Criteria criteria = \n    session.createCriteria(Test.class).setProjection(\n        Projections.distinct(Projections.property(\"testType\")));\nList&lt;Test&gt; rsList = criteria.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11585002,"reputation":41,"user_id":8487480,"display_name":"Amuthan S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694674129,"creation_date":1519729715,"answer_id":49007249,"question_id":10731723,"body_markdown":"Try `setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY)`, like this:\r\n\r\n\r\n```java\r\nCriteria crit = session.createCriteria(Test.class);\r\nList list = crit.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY).list();\r\n```","title":"How to add Distinct in Hibernate Criteria","body":"<p>Try <code>setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY)</code>, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Criteria crit = session.createCriteria(Test.class);\nList list = crit.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY).list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11656398,"reputation":9,"user_id":8535983,"display_name":"aks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566212326,"creation_date":1566212326,"answer_id":57555393,"question_id":10731723,"body_markdown":"Try using:\r\n\r\n    criteria.setResultTransformer(DistinctRootEntityResultTransformer.INSTANCE);\r\n\r\nIt uses default hashcodes to find matches in results.\r\n\r\nThanks.","title":"How to add Distinct in Hibernate Criteria","body":"<p>Try using:</p>\n\n<pre><code>criteria.setResultTransformer(DistinctRootEntityResultTransformer.INSTANCE);\n</code></pre>\n\n<p>It uses default hashcodes to find matches in results.</p>\n\n<p>Thanks.</p>\n"}],"owner":{"account_id":1269523,"reputation":1992,"user_id":1226162,"accept_rate":78,"display_name":"user1226162"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96593,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":8,"score":28,"last_activity_date":1694674129,"creation_date":1337837950,"question_id":10731723,"body_markdown":"In my database I have a Test table, with columns: testName, testType \r\nthere are 2 different tests with the same type I.e &quot;SUN&quot;, so I want only one of them for which I use Distinct in my hibernate / criteria as below, but it still giving me both the types with the same name as &quot;sun&quot;. \r\n\r\n            Criteria crit = session.createCriteria(Test.class);\r\n\r\n\t\tfinal ResultTransformer trans = new DistinctRootEntityResultTransformer();\r\n\t\tcrit.setResultTransformer(trans);\r\n\t\tList rsList = trans.transformList(crit.list());\r\n\r\nAny idea what could be the reason, or any other way of filtering duplicates.\r\n\r\n","title":"How to add Distinct in Hibernate Criteria","body":"<p>In my database I have a Test table, with columns: testName, testType \nthere are 2 different tests with the same type I.e \"SUN\", so I want only one of them for which I use Distinct in my hibernate / criteria as below, but it still giving me both the types with the same name as \"sun\". </p>\n\n<pre><code>        Criteria crit = session.createCriteria(Test.class);\n\n    final ResultTransformer trans = new DistinctRootEntityResultTransformer();\n    crit.setResultTransformer(trans);\n    List rsList = trans.transformList(crit.list());\n</code></pre>\n\n<p>Any idea what could be the reason, or any other way of filtering duplicates.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694548620,"post_id":77092068,"comment_id":135905082,"body_markdown":"have you tried to write an interceptor or use spring aop yet ?","body":"have you tried to write an interceptor or use spring aop yet ?"}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694549680,"creation_date":1694549680,"answer_id":77092429,"question_id":77092068,"body_markdown":"You can do this by using a OncePerRequestFilter:\r\n\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    @Component\r\n    public class CorrelationIdFilter extends OncePerRequestFilter {\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\r\n          FilterChain filterChain) throws ServletException, IOException {\r\n            try {\r\n                var id = UUID.randomUUID().toString();\r\n                response.addHeader(&quot;correlation-id&quot;, id);\r\n                MDC.put(&quot;correlation-id&quot;, id);\r\n                filterChain.doFilter(request, response);\r\n            } finally {\r\n                MDC.remove(&quot;correlation-id&quot;);\r\n            }  \r\n        }\r\n    }\r\n\r\n\r\nImportant is the order that it is actually happening as the first filter.\r\n\r\nAlso you can add the correlation id to the mdc so its added to all the logs aswell.\r\n\r\nPlease let me know if this works, as adding a header is apparently depending on the version of spring you are using.","title":"How to add Correlation-Id as header with value format as UUID in java api calls?","body":"<p>You can do this by using a OncePerRequestFilter:</p>\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@Component\npublic class CorrelationIdFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\n      FilterChain filterChain) throws ServletException, IOException {\n        try {\n            var id = UUID.randomUUID().toString();\n            response.addHeader(&quot;correlation-id&quot;, id);\n            MDC.put(&quot;correlation-id&quot;, id);\n            filterChain.doFilter(request, response);\n        } finally {\n            MDC.remove(&quot;correlation-id&quot;);\n        }  \n    }\n}\n</code></pre>\n<p>Important is the order that it is actually happening as the first filter.</p>\n<p>Also you can add the correlation id to the mdc so its added to all the logs aswell.</p>\n<p>Please let me know if this works, as adding a header is apparently depending on the version of spring you are using.</p>\n"},{"tags":[],"owner":{"account_id":20012753,"reputation":61,"user_id":14669455,"display_name":"Its-Saab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694673809,"creation_date":1694598707,"answer_id":77095971,"question_id":77092068,"body_markdown":"Here&#39;s how I do it:\r\n\r\n1- As mentioned by @Loading, you can do this by using a OncePerRequestFilter:\r\n\r\n````\r\npublic class MDCFilter extends OncePerRequestFilter {\r\n    private final String X_REQUEST_ID = &quot;X-Request-ID&quot;;\r\n    private final String MDC_KEY = &quot;UUID&quot;;\r\n\r\n    @Override\r\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\r\n            final FilterChain chain)\r\n            throws java.io.IOException, ServletException {\r\n        try {\r\n            final String uuid;\r\n            if (!StringUtils.isEmpty(request.getHeader(X_REQUEST_ID))) {\r\n                uuid = request.getHeader(X_REQUEST_ID);\r\n            } else {\r\n                uuid = UUID.randomUUID().toString().toUpperCase().replace(&quot;-&quot;, &quot;&quot;);\r\n            }\r\n\r\n            MDC.put(MDC_KEY, uuid);\r\n            response.addHeader(X_REQUEST_ID, uuid);\r\n\r\n            chain.doFilter(request, response);\r\n        } finally {\r\n            MDC.remove(MDC_KEY);\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nIt allows the client to have their own &quot;X-Request-ID&quot;. if client doesn&#39;t provide it, it will be assigned.\r\n\r\n2- In a @Configuration class, add this bean:\r\n````\r\n @Bean\r\n    public FilterRegistrationBean&lt;MDCFilter&gt; servletRegistrationBean() {\r\n        FilterRegistrationBean&lt;MDCFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n        MDCFilter mdcFilter = new MDCFilter();\r\n        registrationBean.setFilter(mdcFilter);\r\n        registrationBean.setOrder(2);\r\n        return registrationBean;\r\n    }\r\n````\r\n- Additional things you can do:\r\n\r\n- Utilize it for logging:\r\n````\r\n&lt;pattern&gt;%-5level| %t | [%X{UUID:-application}] | %logger{36} | %m %n&lt;/pattern&gt;\r\n```` \r\n\r\n- Utilize it for internal API calls:\r\n````\r\n.header(&quot;X-Request-ID&quot;, MDC.get(&quot;UUID&quot;))\r\n````","title":"How to add Correlation-Id as header with value format as UUID in java api calls?","body":"<p>Here's how I do it:</p>\n<p>1- As mentioned by @Loading, you can do this by using a OncePerRequestFilter:</p>\n<pre><code>public class MDCFilter extends OncePerRequestFilter {\n    private final String X_REQUEST_ID = &quot;X-Request-ID&quot;;\n    private final String MDC_KEY = &quot;UUID&quot;;\n\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\n            final FilterChain chain)\n            throws java.io.IOException, ServletException {\n        try {\n            final String uuid;\n            if (!StringUtils.isEmpty(request.getHeader(X_REQUEST_ID))) {\n                uuid = request.getHeader(X_REQUEST_ID);\n            } else {\n                uuid = UUID.randomUUID().toString().toUpperCase().replace(&quot;-&quot;, &quot;&quot;);\n            }\n\n            MDC.put(MDC_KEY, uuid);\n            response.addHeader(X_REQUEST_ID, uuid);\n\n            chain.doFilter(request, response);\n        } finally {\n            MDC.remove(MDC_KEY);\n        }\n    }\n}\n</code></pre>\n<p>It allows the client to have their own &quot;X-Request-ID&quot;. if client doesn't provide it, it will be assigned.</p>\n<p>2- In a @Configuration class, add this bean:</p>\n<pre><code> @Bean\n    public FilterRegistrationBean&lt;MDCFilter&gt; servletRegistrationBean() {\n        FilterRegistrationBean&lt;MDCFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        MDCFilter mdcFilter = new MDCFilter();\n        registrationBean.setFilter(mdcFilter);\n        registrationBean.setOrder(2);\n        return registrationBean;\n    }\n</code></pre>\n<ul>\n<li><p>Additional things you can do:</p>\n</li>\n<li><p>Utilize it for logging:</p>\n</li>\n</ul>\n<pre><code>&lt;pattern&gt;%-5level| %t | [%X{UUID:-application}] | %logger{36} | %m %n&lt;/pattern&gt;\n</code></pre>\n<ul>\n<li>Utilize it for internal API calls:</li>\n</ul>\n<pre><code>.header(&quot;X-Request-ID&quot;, MDC.get(&quot;UUID&quot;))\n</code></pre>\n"}],"owner":{"account_id":15204851,"reputation":21,"user_id":16687260,"display_name":"Ravi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694673809,"creation_date":1694546042,"question_id":77092068,"body_markdown":"I am trying to add `Correlation-Id` in logs in my Java Spring boot application. Which is having swagger yaml to generate controllers and models.\r\n\r\nI know how to generate random UUID using below\r\n\r\n```\r\nprivate String generateUniqueCorrelationId() {\r\n        return UUID.randomUUID().toString();\r\n    }\r\n```\r\nI know how to add this in logs as well.\r\n\r\nBut how can i add this as **Header** in all Api calls, so that when API is hit this `Correlation-Id` is added to header with `UUID` value. Which i can use in my logs.","title":"How to add Correlation-Id as header with value format as UUID in java api calls?","body":"<p>I am trying to add <code>Correlation-Id</code> in logs in my Java Spring boot application. Which is having swagger yaml to generate controllers and models.</p>\n<p>I know how to generate random UUID using below</p>\n<pre><code>private String generateUniqueCorrelationId() {\n        return UUID.randomUUID().toString();\n    }\n</code></pre>\n<p>I know how to add this in logs as well.</p>\n<p>But how can i add this as <strong>Header</strong> in all Api calls, so that when API is hit this <code>Correlation-Id</code> is added to header with <code>UUID</code> value. Which i can use in my logs.</p>\n"},{"tags":["java","eclipse","maven","selenium","ant"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1390895909,"post_id":21398965,"comment_id":32278990,"body_markdown":"Take a look [here](http://khmarbaise.github.io/maui/) and in particular this [example for a container example with selenium](http://khmarbaise.github.io/maui/it-example-container.html) furthermore you can look at the [code examples](http://khmarbaise.github.io/maui/examples.html) and a [full working example with Selenium etc.](https://github.com/khmarbaise/maui/tree/master/src/main/resources/it-example-container-selenium)","body":"Take a look <a href=\"http://khmarbaise.github.io/maui/\" rel=\"nofollow noreferrer\">here</a> and in particular this <a href=\"http://khmarbaise.github.io/maui/it-example-container.html\" rel=\"nofollow noreferrer\">example for a container example with selenium</a> furthermore you can look at the <a href=\"http://khmarbaise.github.io/maui/examples.html\" rel=\"nofollow noreferrer\">code examples</a> and a <a href=\"https://github.com/khmarbaise/maui/tree/master/src/main/resources/it-example-container-selenium\" rel=\"nofollow noreferrer\">full working example with Selenium etc.</a>"}],"answers":[{"tags":[],"owner":{"account_id":174031,"reputation":7580,"user_id":403132,"display_name":"Kurt Du Bois"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390893161,"creation_date":1390893161,"answer_id":21399117,"question_id":21398965,"body_markdown":"It seems to me you&#39;re using a mighty old version of maven, since it has a default dependency on junit 3.8.1. (the newest one is 4.11)\r\n\r\nYour selenium tests should go into the src/test/java in a package you name yourself. (for example com.company.project) That way maven knows it should treat those files as tests and you don&#39;t have to do any more configuration.\r\n\r\nIf you want to run your tests, you just enter the following command in your prompt/shell:\r\n\r\n&gt; mvn clean install\r\n\r\nMaven will then fetch all your dependencies, compile all your code and then run your tests. If the tests succeed, your build is succesful. If they fail, your build will also fail.\r\n\r\nThe problem with the default maven eclipse archetypes in my opinion is that they are a bit too vague. In my opinion they are useful if you have a company wide structure of how you should start a project, but by default the standard one should suffice.","title":"File structure for Maven base selenium project?","body":"<p>It seems to me you're using a mighty old version of maven, since it has a default dependency on junit 3.8.1. (the newest one is 4.11)</p>\n\n<p>Your selenium tests should go into the src/test/java in a package you name yourself. (for example com.company.project) That way maven knows it should treat those files as tests and you don't have to do any more configuration.</p>\n\n<p>If you want to run your tests, you just enter the following command in your prompt/shell:</p>\n\n<blockquote>\n  <p>mvn clean install</p>\n</blockquote>\n\n<p>Maven will then fetch all your dependencies, compile all your code and then run your tests. If the tests succeed, your build is succesful. If they fail, your build will also fail.</p>\n\n<p>The problem with the default maven eclipse archetypes in my opinion is that they are a bit too vague. In my opinion they are useful if you have a company wide structure of how you should start a project, but by default the standard one should suffice.</p>\n"},{"tags":[],"owner":{"account_id":3612523,"reputation":7494,"user_id":3013206,"accept_rate":20,"display_name":"Spindizzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1390912465,"creation_date":1390899017,"answer_id":21400786,"question_id":21398965,"body_markdown":"1.: Folders and packages, is not the only benefit. It also gives you a proper project structure. This is convention over configuration, since when you understood the structure of one Maven project, you won&#39;t get lost in any other project. I suggest to read a book about Maven, for instance &quot;Better Builds with Maven&quot;. \r\n\r\n2.: src/main/java: all your source classes, src/main/resource: addtional resources, src/test/java: test classes, src/test/resources: additional resources for the test\r\n\r\n3.: The quickstart is good for a starter. It is true that it has a quite old JUnit dependency and creates some default folders and classes. But if you want a different type of project there a lot of other archetypes out there. If you use the command \r\n\r\n`mvn archetype:generate -DgroupId=test -DartifactId=test` \r\n\r\nyou will get a long list of available archetypes to choose from.\r\n\r\nIf you use eclipse you can also select the archetype in a dialog.\r\n\r\nThere is a [archetype][1] for Selenium projects, but it requires understanding of Maven and Git.\r\n\r\n\r\n  [1]: https://github.com/sebarmeli/Selenium2-Java-QuickStart-Archetype","title":"File structure for Maven base selenium project?","body":"<p>1.: Folders and packages, is not the only benefit. It also gives you a proper project structure. This is convention over configuration, since when you understood the structure of one Maven project, you won't get lost in any other project. I suggest to read a book about Maven, for instance \"Better Builds with Maven\". </p>\n\n<p>2.: src/main/java: all your source classes, src/main/resource: addtional resources, src/test/java: test classes, src/test/resources: additional resources for the test</p>\n\n<p>3.: The quickstart is good for a starter. It is true that it has a quite old JUnit dependency and creates some default folders and classes. But if you want a different type of project there a lot of other archetypes out there. If you use the command </p>\n\n<p><code>mvn archetype:generate -DgroupId=test -DartifactId=test</code> </p>\n\n<p>you will get a long list of available archetypes to choose from.</p>\n\n<p>If you use eclipse you can also select the archetype in a dialog.</p>\n\n<p>There is a <a href=\"https://github.com/sebarmeli/Selenium2-Java-QuickStart-Archetype\" rel=\"nofollow\">archetype</a> for Selenium projects, but it requires understanding of Maven and Git.</p>\n"}],"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9903,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21400786,"answer_count":2,"score":1,"last_activity_date":1694673306,"creation_date":1390892656,"question_id":21398965,"body_markdown":"I have been using Ant (Normal Java Project) to run my Selenium (java) test cases using Eclipse IDE. But now I am using Maven project; I was told that it has better structure, however I don&#39;t understand what benefit I&#39;ll get with structure. &lt;br&gt;\r\nWhen I was using Ant, I had to create packages, folders manually but now when I moved to Maven I&#39;ve got all folders, packages created by Maven itself.&lt;br&gt;&lt;br&gt;\r\n&lt;b&gt;How it looks:it is a `maven-archetype-quickstart` project&lt;/b&gt;\r\n&lt;br&gt;\r\n![enter image description here][2]\r\n\r\n  [2]: http://i.stack.imgur.com/RzbRZ.png\r\n&lt;b&gt;Queries:&lt;/b&gt;&lt;br&gt;\r\n1. Is this the only reason I should be using Maven, that it creates folders and packages for me (I know that I dont have to create library folder to put essential jars; I can use Maven repo)?\r\n&lt;br&gt;2. What is the meaning of these created folders, How I should be using them ideally?\r\n&lt;br&gt;3. Does Maven provides the most optimum structure `maven-archetype-quickstart`?&lt;br&gt;\r\n&lt;br&gt;*Note: I am a tester and I am pursuing Selenium Automation testing. Dont mind if this is not a nice question, I am a beginner.*","title":"File structure for Maven base selenium project?","body":"<p>I have been using Ant (Normal Java Project) to run my Selenium (java) test cases using Eclipse IDE. But now I am using Maven project; I was told that it has better structure, however I don't understand what benefit I'll get with structure. <br>\nWhen I was using Ant, I had to create packages, folders manually but now when I moved to Maven I've got all folders, packages created by Maven itself.<br><br>\n<b>How it looks:it is a <code>maven-archetype-quickstart</code> project</b>\n<br>\n<img src=\"https://i.stack.imgur.com/RzbRZ.png\" alt=\"enter image description here\"></p>\n\n<p><b>Queries:</b><br>\n1. Is this the only reason I should be using Maven, that it creates folders and packages for me (I know that I dont have to create library folder to put essential jars; I can use Maven repo)?\n<br>2. What is the meaning of these created folders, How I should be using them ideally?\n<br>3. Does Maven provides the most optimum structure <code>maven-archetype-quickstart</code>?<br>\n<br><em>Note: I am a tester and I am pursuing Selenium Automation testing. Dont mind if this is not a nice question, I am a beginner.</em></p>\n"},{"tags":["java","sql","flyway"],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694673279,"creation_date":1694673279,"question_id":77102344,"body_markdown":"I have FlyWay config class, which starts on application startup and executes sql migrations. Parameters for database connection are taken from environment and there I plan to put a flag which will help Flyway to determine of its production, or test env. So for test server with test env I need Flyway to setup 2 databases - one like on prod and one for integration tests. \r\n\r\nHere is my Flyway config:\r\n\r\n    @Slf4j\r\n    @Singleton\r\n    @Startup\r\n    @TransactionManagement(value = TransactionManagementType.BEAN)\r\n    public class FlyWayConfig {\r\n        private static final Map&lt;String, String&gt; ENV_VARIABLES = System.getenv();\r\n        private static final String ENV_TEST = &quot;env_test&quot;;\r\n        private static final String MIGRATIONS_PATH = &quot;db/migration&quot;;\r\n        private static final String MIGRATIONS_TEST_PATH = &quot;filesystem:db/migration-test&quot;;\r\n    \r\n        @Resource\r\n        private static MariaDbDataSource dataSource;\r\n    \r\n        @Resource\r\n        private static MariaDbDataSource dataSourceForTests;\r\n    \r\n        static {\r\n            dataSource = new MariaDbDataSource();\r\n            dataSourceForTests = new MariaDbDataSource();\r\n            setupDataSource();\r\n        }\r\n    \r\n        private static void setupDataSource() {\r\n            try {\r\n                dataSource.setUrl(ENV_VARIABLES.get(FlyWayParameters.DB_URL.getParameter()));\r\n                dataSource.setDatabaseName(ENV_VARIABLES.get(FlyWayParameters.DB_SCHEMA.getParameter()));\r\n                dataSource.setUser(ENV_VARIABLES.get(FlyWayParameters.DB_USER.getParameter()));\r\n                dataSource.setPassword(ENV_VARIABLES.get(FlyWayParameters.DB_USER_PASSWORD.getParameter()));\r\n    \r\n                if (Objects.nonNull(ENV_VARIABLES.get(FlyWayParameters.ENV_TEST.getParameter()))\r\n                        &amp;&amp; ENV_VARIABLES.get(FlyWayParameters.ENV_TEST.getParameter()).equals(ENV_TEST)) {\r\n                    dataSourceForTests.setUrl(ENV_VARIABLES.get(FlyWayParameters.DB_TEST_URL.getParameter()));\r\n                    dataSourceForTests.setDatabaseName(ENV_VARIABLES.get(FlyWayParameters.DB_TEST_SCHEMA.getParameter()));\r\n                    dataSourceForTests.setUser(ENV_VARIABLES.get(FlyWayParameters.DB_USER.getParameter()));\r\n                    dataSourceForTests.setPassword(ENV_VARIABLES.get(FlyWayParameters.DB_USER_PASSWORD.getParameter()));\r\n                }\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(&quot;FlyWay: Database connection failed. Possible problem with configuration&quot;);\r\n            }\r\n        }\r\n    \r\n        @PostConstruct\r\n        private void onStartup() {\r\n            Flyway flyway = configureFlyWay();\r\n            flyway.migrate();\r\n    \r\n            if (Objects.nonNull(ENV_VARIABLES.get(FlyWayParameters.ENV_TEST.getParameter()))\r\n                    &amp;&amp; ENV_VARIABLES.get(FlyWayParameters.ENV_TEST.getParameter()).equals(ENV_TEST)) {\r\n                Flyway flywayTest = configureFlyWayForTestingDatabase();\r\n                flywayTest.migrate();\r\n    \r\n                log.info(&quot;FlyWay: Successfully migrated to test database version: {}&quot;, flyway.info().current().getVersion());\r\n            }\r\n    \r\n            log.info(&quot;FlyWay: Successfully migrated to database version: {}&quot;, flyway.info().current().getVersion());\r\n        }\r\n    \r\n        private Flyway configureFlyWay() {\r\n            return Flyway.configure()\r\n                    .dataSource(dataSource)\r\n                    .schemas(ENV_VARIABLES.get(FlyWayParameters.DB_SCHEMA.getParameter()))\r\n                    .locations(MIGRATIONS_PATH)\r\n                    .load();\r\n        }\r\n    \r\n        private Flyway configureFlyWayForTestingDatabase() {\r\n    \r\n            return Flyway.configure()\r\n                    .dataSource(dataSourceForTests)\r\n                    .schemas(ENV_VARIABLES.get(FlyWayParameters.DB_TEST_SCHEMA.getParameter()))\r\n                    .locations(MIGRATIONS_TEST_PATH)\r\n                    .load();\r\n        }\r\n    }\r\n\r\nAlmost everything is working except test database path - I put migration scripts for tests in test resources folder and tried to set different paths for `MIGRATIONS_TEST_PATH`(tried also `&#39;claspath::db/migration-test&#39;`), but unfortunately on start FLyway does not find my scripts and simply creates empty version table. In logs I have:\r\n\r\n    09:32:13,367 INFO  [org.flywaydb.core.internal.command.DbValidate] (ServerService Thread Pool -- 13) Successfully validated 0 migrations (execution time 00:00.001s)\r\n    09:32:13,367 WARN  [org.flywaydb.core.internal.command.DbValidate] (ServerService Thread Pool -- 13) No migrations found. Are your locations set up correctly?\r\n\r\nHow can I point Flyway necessary directory to find those migrations?","title":"How to make FlyWay to work with several databases?","body":"<p>I have FlyWay config class, which starts on application startup and executes sql migrations. Parameters for database connection are taken from environment and there I plan to put a flag which will help Flyway to determine of its production, or test env. So for test server with test env I need Flyway to setup 2 databases - one like on prod and one for integration tests.</p>\n<p>Here is my Flyway config:</p>\n<pre><code>@Slf4j\n@Singleton\n@Startup\n@TransactionManagement(value = TransactionManagementType.BEAN)\npublic class FlyWayConfig {\n    private static final Map&lt;String, String&gt; ENV_VARIABLES = System.getenv();\n    private static final String ENV_TEST = &quot;env_test&quot;;\n    private static final String MIGRATIONS_PATH = &quot;db/migration&quot;;\n    private static final String MIGRATIONS_TEST_PATH = &quot;filesystem:db/migration-test&quot;;\n\n    @Resource\n    private static MariaDbDataSource dataSource;\n\n    @Resource\n    private static MariaDbDataSource dataSourceForTests;\n\n    static {\n        dataSource = new MariaDbDataSource();\n        dataSourceForTests = new MariaDbDataSource();\n        setupDataSource();\n    }\n\n    private static void setupDataSource() {\n        try {\n            dataSource.setUrl(ENV_VARIABLES.get(FlyWayParameters.DB_URL.getParameter()));\n            dataSource.setDatabaseName(ENV_VARIABLES.get(FlyWayParameters.DB_SCHEMA.getParameter()));\n            dataSource.setUser(ENV_VARIABLES.get(FlyWayParameters.DB_USER.getParameter()));\n            dataSource.setPassword(ENV_VARIABLES.get(FlyWayParameters.DB_USER_PASSWORD.getParameter()));\n\n            if (Objects.nonNull(ENV_VARIABLES.get(FlyWayParameters.ENV_TEST.getParameter()))\n                    &amp;&amp; ENV_VARIABLES.get(FlyWayParameters.ENV_TEST.getParameter()).equals(ENV_TEST)) {\n                dataSourceForTests.setUrl(ENV_VARIABLES.get(FlyWayParameters.DB_TEST_URL.getParameter()));\n                dataSourceForTests.setDatabaseName(ENV_VARIABLES.get(FlyWayParameters.DB_TEST_SCHEMA.getParameter()));\n                dataSourceForTests.setUser(ENV_VARIABLES.get(FlyWayParameters.DB_USER.getParameter()));\n                dataSourceForTests.setPassword(ENV_VARIABLES.get(FlyWayParameters.DB_USER_PASSWORD.getParameter()));\n            }\n        } catch (SQLException e) {\n            throw new RuntimeException(&quot;FlyWay: Database connection failed. Possible problem with configuration&quot;);\n        }\n    }\n\n    @PostConstruct\n    private void onStartup() {\n        Flyway flyway = configureFlyWay();\n        flyway.migrate();\n\n        if (Objects.nonNull(ENV_VARIABLES.get(FlyWayParameters.ENV_TEST.getParameter()))\n                &amp;&amp; ENV_VARIABLES.get(FlyWayParameters.ENV_TEST.getParameter()).equals(ENV_TEST)) {\n            Flyway flywayTest = configureFlyWayForTestingDatabase();\n            flywayTest.migrate();\n\n            log.info(&quot;FlyWay: Successfully migrated to test database version: {}&quot;, flyway.info().current().getVersion());\n        }\n\n        log.info(&quot;FlyWay: Successfully migrated to database version: {}&quot;, flyway.info().current().getVersion());\n    }\n\n    private Flyway configureFlyWay() {\n        return Flyway.configure()\n                .dataSource(dataSource)\n                .schemas(ENV_VARIABLES.get(FlyWayParameters.DB_SCHEMA.getParameter()))\n                .locations(MIGRATIONS_PATH)\n                .load();\n    }\n\n    private Flyway configureFlyWayForTestingDatabase() {\n\n        return Flyway.configure()\n                .dataSource(dataSourceForTests)\n                .schemas(ENV_VARIABLES.get(FlyWayParameters.DB_TEST_SCHEMA.getParameter()))\n                .locations(MIGRATIONS_TEST_PATH)\n                .load();\n    }\n}\n</code></pre>\n<p>Almost everything is working except test database path - I put migration scripts for tests in test resources folder and tried to set different paths for <code>MIGRATIONS_TEST_PATH</code>(tried also <code>'claspath::db/migration-test'</code>), but unfortunately on start FLyway does not find my scripts and simply creates empty version table. In logs I have:</p>\n<pre><code>09:32:13,367 INFO  [org.flywaydb.core.internal.command.DbValidate] (ServerService Thread Pool -- 13) Successfully validated 0 migrations (execution time 00:00.001s)\n09:32:13,367 WARN  [org.flywaydb.core.internal.command.DbValidate] (ServerService Thread Pool -- 13) No migrations found. Are your locations set up correctly?\n</code></pre>\n<p>How can I point Flyway necessary directory to find those migrations?</p>\n"},{"tags":["java","maven","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":3581078,"reputation":374,"user_id":2989287,"display_name":"Wheelchair Geek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658764178,"creation_date":1658518507,"answer_id":73085306,"question_id":71186575,"body_markdown":"good evening,  This works for me \r\n\r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/static/openapi.yaml&lt;/inputSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n    \t\t\t\t\t\t\t&lt;library&gt;spring-boot&lt;/library&gt;\r\n    \t\t\t\t\t\t\t&lt;modelNameSuffix&gt;Dto&lt;/modelNameSuffix&gt;\r\n    \t\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n    \t\t\t\t\t\t\t&lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n    \t\t\t\t\t\t\t&lt;configOptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;basePackage&gt;se.disabledsecurity.locations&lt;/basePackage&gt;\r\n    \t\t\t\t\t\t\t\t&lt;modelPackage&gt;se.disabledsecurity.locations.model&lt;/modelPackage&gt;\r\n    \t\t\t\t\t\t\t\t&lt;apiPackage&gt;se.disabledsecurity.locations.api&lt;/apiPackage&gt;\r\n    \t\t\t\t\t\t\t\t&lt;configPackage&gt;se.disabledsecurity.locations.config&lt;/configPackage&gt;\r\n    \t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n    \t\t\t\t\t\t\t\t&lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n    \t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n    \t\t\t\t\t\t\t\t&lt;additionalModelTypeAnnotations&gt;\r\n    \t\t\t\t\t\t\t\t\t@lombok.Builder\r\n    \t\t\t\t\t\t\t\t\t@lombok.Getter\r\n    \t\t\t\t\t\t\t\t\t@lombok.extern.jackson.Jacksonized\r\n    \t\t\t\t\t\t\t\t&lt;/additionalModelTypeAnnotations&gt;\r\n    \t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\nFound a good tutorial at https://blog.mimacom.com/using-the-openapi-generator-for-spring-boot/ this cfg puts all generated code at target/generated-sources/openapi/src/main/java/se/disabledsecurity/locations Hope it helps, have a good evening","title":"OpenAPI Generator does not generate api interfaces openapi-generator-maven-plugin","body":"<p>good evening,  This works for me</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;6.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/static/openapi.yaml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;library&gt;spring-boot&lt;/library&gt;\n                            &lt;modelNameSuffix&gt;Dto&lt;/modelNameSuffix&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;configOptions&gt;\n                                &lt;basePackage&gt;se.disabledsecurity.locations&lt;/basePackage&gt;\n                                &lt;modelPackage&gt;se.disabledsecurity.locations.model&lt;/modelPackage&gt;\n                                &lt;apiPackage&gt;se.disabledsecurity.locations.api&lt;/apiPackage&gt;\n                                &lt;configPackage&gt;se.disabledsecurity.locations.config&lt;/configPackage&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                                &lt;additionalModelTypeAnnotations&gt;\n                                    @lombok.Builder\n                                    @lombok.Getter\n                                    @lombok.extern.jackson.Jacksonized\n                                &lt;/additionalModelTypeAnnotations&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Found a good tutorial at <a href=\"https://blog.mimacom.com/using-the-openapi-generator-for-spring-boot/\" rel=\"nofollow noreferrer\">https://blog.mimacom.com/using-the-openapi-generator-for-spring-boot/</a> this cfg puts all generated code at target/generated-sources/openapi/src/main/java/se/disabledsecurity/locations Hope it helps, have a good evening</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694672959,"creation_date":1694672959,"answer_id":77102306,"question_id":71186575,"body_markdown":"It&#39;s under `org`. Not under `src`. You didn&#39;t specify the api package so it&#39;s generated under the default package. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jfTFQ.png","title":"OpenAPI Generator does not generate api interfaces openapi-generator-maven-plugin","body":"<p>It's under <code>org</code>. Not under <code>src</code>. You didn't specify the api package so it's generated under the default package.</p>\n<p><a href=\"https://i.stack.imgur.com/jfTFQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jfTFQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19095601,"reputation":1,"user_id":18253587,"display_name":"user18253587"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694672959,"creation_date":1645285867,"question_id":71186575,"body_markdown":"I&#39;m trying to test out the openapi-generator by using a sample api. I was able to download the plugin but had to install a few additional dependencies that weren&#39;t included in the core dependency file. I&#39;m able to generate the classes with the http client but the interfaces are not being generated. Therefore looking for help in understanding why I&#39;m unable to generate the interfaces.\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;demo&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-client&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/openapi/api.json&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t\t&lt;generatorName&gt;java&lt;/generatorName&gt;\r\n\t\t\t\t\t\t\t&lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n\t\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n\t\t\t\t\t\t\t&lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n\t\t\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceFolder&gt;/&lt;/sourceFolder&gt;\r\n\t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n\t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t\t\t\t&lt;library&gt;resttemplate&lt;/library&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napi.json\r\n```\r\n{\r\n  &quot;swagger&quot;: &quot;2.0&quot;,\r\n  &quot;info&quot;: {\r\n    &quot;title&quot;: &quot;Test&quot;\r\n  },\r\n  &quot;host&quot;: &quot;localhost:8080&quot;,\r\n  &quot;basePath&quot;: &quot;/&quot;,\r\n  &quot;tags&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;test-controller&quot;\r\n    }\r\n  ],\r\n  &quot;paths&quot;: {\r\n    &quot;/test&quot;: {\r\n      &quot;get&quot;: {\r\n        &quot;tags&quot;: [\r\n          &quot;test-controller&quot;\r\n        ],\r\n        &quot;operationId&quot;: &quot;test&quot;,\r\n        &quot;responses&quot;: {\r\n          &quot;200&quot;: {\r\n            &quot;description&quot;: &quot;OK&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nmain folder is empty\r\n[main folder (no generated interfaces)][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Uupvf.png","title":"OpenAPI Generator does not generate api interfaces openapi-generator-maven-plugin","body":"<p>I'm trying to test out the openapi-generator by using a sample api. I was able to download the plugin but had to install a few additional dependencies that weren't included in the core dependency file. I'm able to generate the classes with the http client but the interfaces are not being generated. Therefore looking for help in understanding why I'm unable to generate the interfaces.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n            &lt;version&gt;0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;5.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-client&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/openapi/api.json&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n                            &lt;configOptions&gt;\n                                &lt;sourceFolder&gt;/&lt;/sourceFolder&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                            &lt;/configOptions&gt;\n                            &lt;library&gt;resttemplate&lt;/library&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>api.json</p>\n<pre><code>{\n  &quot;swagger&quot;: &quot;2.0&quot;,\n  &quot;info&quot;: {\n    &quot;title&quot;: &quot;Test&quot;\n  },\n  &quot;host&quot;: &quot;localhost:8080&quot;,\n  &quot;basePath&quot;: &quot;/&quot;,\n  &quot;tags&quot;: [\n    {\n      &quot;name&quot;: &quot;test-controller&quot;\n    }\n  ],\n  &quot;paths&quot;: {\n    &quot;/test&quot;: {\n      &quot;get&quot;: {\n        &quot;tags&quot;: [\n          &quot;test-controller&quot;\n        ],\n        &quot;operationId&quot;: &quot;test&quot;,\n        &quot;responses&quot;: {\n          &quot;200&quot;: {\n            &quot;description&quot;: &quot;OK&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>main folder is empty\n<a href=\"https://i.stack.imgur.com/Uupvf.png\" rel=\"nofollow noreferrer\">main folder (no generated interfaces)</a></p>\n"},{"tags":["java","sql","hibernate","intellij-idea","jetbrains-ide"],"answers":[{"tags":[],"owner":{"account_id":12735124,"reputation":1673,"user_id":9250303,"display_name":"meaningqo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1555497743,"creation_date":1555497743,"answer_id":55725700,"question_id":55722201,"body_markdown":"Yes, it&#39;s possible to generate simple POJOs from Database Tables in IntelliJ. \r\n\r\nJust follow this instruction: \r\n\r\n1. Connect your database to IntelliJ. \r\n2. Right click the tables you want to generate your POJOs for\r\n3. Right Click on your selection --&gt; Scripted Extensions --&gt; Generate POJOs.groovy\r\n4. Select where to save your POJO classes\r\n5. Press OK and your POJO files will be created. \r\n\r\nHope this helps. \r\n- Tested on IntelliJ 2019.1\r\n\r\n","title":"Auto create POJO class from database in IntelliJ","body":"<p>Yes, it's possible to generate simple POJOs from Database Tables in IntelliJ. </p>\n\n<p>Just follow this instruction: </p>\n\n<ol>\n<li>Connect your database to IntelliJ. </li>\n<li>Right click the tables you want to generate your POJOs for</li>\n<li>Right Click on your selection --> Scripted Extensions --> Generate POJOs.groovy</li>\n<li>Select where to save your POJO classes</li>\n<li>Press OK and your POJO files will be created. </li>\n</ol>\n\n<p>Hope this helps. \n- Tested on IntelliJ 2019.1</p>\n"},{"tags":[],"owner":{"account_id":26095373,"reputation":3,"user_id":19791566,"display_name":"sekerbekova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694672799,"creation_date":1694672799,"answer_id":77102284,"question_id":55722201,"body_markdown":"It is still possible, but in newer versions you need to have &quot;POJO Generator&quot; plugin installed, then:\r\n\r\n 1. Open database View | Tool Windows | Database\r\n 2. In the Database tool window ( View | Tool Windows | Database) , click the Data Source Properties button\r\n 3. In the Database tool window ( View | Tool Windows | Database) , click the Add button, choose you db type\r\n 4. Here you fill host, username/pass and etc. \r\n 5. Right click the tables you want to generate your POJOs for and you will see &#39;POJO generator&#39; at the bottom of the list \r\n 6. Choose Entity and place in project where to save it\r\n \r\n\r\n","title":"Auto create POJO class from database in IntelliJ","body":"<p>It is still possible, but in newer versions you need to have &quot;POJO Generator&quot; plugin installed, then:</p>\n<ol>\n<li>Open database View | Tool Windows | Database</li>\n<li>In the Database tool window ( View | Tool Windows | Database) , click the Data Source Properties button</li>\n<li>In the Database tool window ( View | Tool Windows | Database) , click the Add button, choose you db type</li>\n<li>Here you fill host, username/pass and etc.</li>\n<li>Right click the tables you want to generate your POJOs for and you will see 'POJO generator' at the bottom of the list</li>\n<li>Choose Entity and place in project where to save it</li>\n</ol>\n"}],"owner":{"account_id":13623030,"reputation":186,"user_id":9826929,"display_name":"Karol Katanowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9988,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55725700,"answer_count":2,"score":5,"last_activity_date":1694672799,"creation_date":1555486319,"question_id":55722201,"body_markdown":"Is there any function in IntelliJ that allows me to generate simple POJO class from database tables (currently using PSQL)? I saw some similar example in Eclipse using &quot;hbm2java&quot;.","title":"Auto create POJO class from database in IntelliJ","body":"<p>Is there any function in IntelliJ that allows me to generate simple POJO class from database tables (currently using PSQL)? I saw some similar example in Eclipse using \"hbm2java\".</p>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1694623485,"post_id":77098947,"comment_id":135916679,"body_markdown":"`@Embedded` and `@Embeddable` are annotations used by JPA. See https://www.baeldung.com/jpa-embedded-embeddable. In your case you would probably need Jackson annotations. See https://www.baeldung.com/jackson-annotations#jackson-deserialization-annotations.","body":"<code>@Embedded</code> and <code>@Embeddable</code> are annotations used by JPA. See <a href=\"https://www.baeldung.com/jpa-embedded-embeddable\" rel=\"nofollow noreferrer\">baeldung.com/jpa-embedded-embeddable</a>. In your case you would probably need Jackson annotations. See <a href=\"https://www.baeldung.com/jackson-annotations#jackson-deserialization-annotations\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":2,"creation_date":1694626560,"post_id":77098947,"comment_id":135917290,"body_markdown":"Please, [do not upload images of code/data/error](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557).","body":"Please, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">do not upload images of code/data/error</a>."},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1694627333,"post_id":77098947,"comment_id":135917403,"body_markdown":"You must make composition with Jackson Json Serializer/Deserializer annotations, as suggested by @WLefever.","body":"You must make composition with Jackson Json Serializer/Deserializer annotations, as suggested by @WLefever."}],"answers":[{"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694672378,"creation_date":1694672378,"answer_id":77102245,"question_id":77098947,"body_markdown":"There are different ways to tell Jackson how to map the fields of your class to the Json elements. The easiest way is to simply annotate the fields with `@JsonProperty`. If the element name does not match the field name, you can also add a mapped name. e.g.\r\n\r\n    @JsonProperty(&quot;my_id&quot;)\r\n    private Long id;\r\n\r\nFurthermore, inner classes need to be static.\r\n\r\nYour Person class could look like this:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n    import java.util.List;\r\n\r\n    public class Person {\r\n\r\n        @Id\r\n        @GeneratedValue( strategy = GenerationType.AUTO )\r\n        @JsonProperty()\r\n        private Long id;\r\n    \r\n        @JsonProperty\r\n        private String name;\r\n        \r\n        @Embedded\r\n        @JsonProperty\r\n        private List&lt;Information1&gt; Information1;\r\n    \r\n        @Embedded\r\n        @JsonProperty\r\n        private List&lt;Information2&gt; Information2;\r\n\r\n        //getters and setters\r\n\r\n        @Embeddable\r\n        @Data\r\n        public static class Information1 {\r\n\r\n            @Id\r\n            @JsonProperty\r\n            private Long id;\r\n    \r\n            @JsonProperty\r\n            private String name;\r\n    \r\n            @JsonProperty\r\n            private String rating;\r\n    \r\n        }\r\n    \r\n        @Data\r\n        @Embeddable\r\n        public static class Information2 {\r\n    \r\n            @Id\r\n            @JsonProperty\r\n            private long id;\r\n    \r\n            @JsonProperty\r\n            private List&lt;Information&gt; information;\r\n    \r\n            //getter and setters\r\n\r\n        }\r\n\r\n        @Data\r\n        @Embeddable\r\n        public static class Information {\r\n    \r\n            @Id\r\n            @JsonProperty\r\n            private Long id;\r\n    \r\n            @JsonProperty\r\n            private String key1;\r\n    \r\n            @JsonProperty\r\n            private String key2;\r\n    \r\n            //getters and setters\r\n        }\r\n    \r\n    }\r\n\r\nTo unmarshall a Json to your Person Object you need a ObjectMapper...\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    ...\r\n        final String json = &quot;&quot;; // &lt;- Your Json, e.g. as a String\r\n        final ObjectMapper mapper = new ObjectMapper();\r\n        final Person person = mapper.readValue(json, Person.class);\r\n    ...\r\n\r\nRegards,\r\nThomas","title":"How to write a class with attributes of this json file?","body":"<p>There are different ways to tell Jackson how to map the fields of your class to the Json elements. The easiest way is to simply annotate the fields with <code>@JsonProperty</code>. If the element name does not match the field name, you can also add a mapped name. e.g.</p>\n<pre><code>@JsonProperty(&quot;my_id&quot;)\nprivate Long id;\n</code></pre>\n<p>Furthermore, inner classes need to be static.</p>\n<p>Your Person class could look like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\n\nimport java.util.List;\n\npublic class Person {\n\n    @Id\n    @GeneratedValue( strategy = GenerationType.AUTO )\n    @JsonProperty()\n    private Long id;\n\n    @JsonProperty\n    private String name;\n    \n    @Embedded\n    @JsonProperty\n    private List&lt;Information1&gt; Information1;\n\n    @Embedded\n    @JsonProperty\n    private List&lt;Information2&gt; Information2;\n\n    //getters and setters\n\n    @Embeddable\n    @Data\n    public static class Information1 {\n\n        @Id\n        @JsonProperty\n        private Long id;\n\n        @JsonProperty\n        private String name;\n\n        @JsonProperty\n        private String rating;\n\n    }\n\n    @Data\n    @Embeddable\n    public static class Information2 {\n\n        @Id\n        @JsonProperty\n        private long id;\n\n        @JsonProperty\n        private List&lt;Information&gt; information;\n\n        //getter and setters\n\n    }\n\n    @Data\n    @Embeddable\n    public static class Information {\n\n        @Id\n        @JsonProperty\n        private Long id;\n\n        @JsonProperty\n        private String key1;\n\n        @JsonProperty\n        private String key2;\n\n        //getters and setters\n    }\n\n}\n</code></pre>\n<p>To unmarshall a Json to your Person Object you need a ObjectMapper...</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\n...\n    final String json = &quot;&quot;; // &lt;- Your Json, e.g. as a String\n    final ObjectMapper mapper = new ObjectMapper();\n    final Person person = mapper.readValue(json, Person.class);\n...\n</code></pre>\n<p>Regards,\nThomas</p>\n"}],"owner":{"account_id":25515669,"reputation":65,"user_id":19306565,"display_name":"stdinstoud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694672378,"creation_date":1694622879,"question_id":77098947,"body_markdown":"I have this following json file and I want to instantiate it as an object class to further use this class as a Data Access Object but I&#39;m stuck at the part of defining the class following the json structure. Can anybody please help? Thank you!\r\n\r\nPublic class Person{\r\n\r\n    @Id\r\n    @GeneratedValue( strategy = GenerationType.AUTO )\r\n    private Long id;\r\n    private String name;\r\n    @Embedded\r\n    private List&lt;Information1&gt; Information1;\r\n    @Embedded \r\n    private List&lt;Information2&gt; Information2;\r\n   \r\n    public Person(){}\r\n    //getters and setters\r\n    \r\n    @Embeddable\r\n    @Data\r\n    public class Information1 {\r\n\r\n        @Id\r\n        private Long id;\r\n        private String name;\r\n        private String rating;\r\n       \r\n\r\n        public Information1(){}\r\n\r\n       //getter and setters\r\n\r\n        }\r\n     @Data\r\n     @Embeddable\r\n     public class Information2 {\r\n\r\n        @Id\r\n        private Long id;\r\n        private List&lt;information&gt; information;\r\n        \r\n        public Information2(){}\r\n\r\n       //getter and setters\r\n\r\n        }\r\n    @Data\r\n    @Embeddable\r\n    public class information{\r\n   \r\n    @Id \r\n    private Long id;\r\n    private String key1;\r\n    private String key2;\r\n    public information(){}\r\n\r\n    //getters and setters\r\n    }\r\n   }\r\n}\r\n\r\n\r\nThis is the json file structure with some data in.\r\n  \r\n[![Json File][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yyO7B.png","title":"How to write a class with attributes of this json file?","body":"<p>I have this following json file and I want to instantiate it as an object class to further use this class as a Data Access Object but I'm stuck at the part of defining the class following the json structure. Can anybody please help? Thank you!</p>\n<p>Public class Person{</p>\n<pre><code>@Id\n@GeneratedValue( strategy = GenerationType.AUTO )\nprivate Long id;\nprivate String name;\n@Embedded\nprivate List&lt;Information1&gt; Information1;\n@Embedded \nprivate List&lt;Information2&gt; Information2;\n\npublic Person(){}\n//getters and setters\n\n@Embeddable\n@Data\npublic class Information1 {\n\n    @Id\n    private Long id;\n    private String name;\n    private String rating;\n   \n\n    public Information1(){}\n\n   //getter and setters\n\n    }\n @Data\n @Embeddable\n public class Information2 {\n\n    @Id\n    private Long id;\n    private List&lt;information&gt; information;\n    \n    public Information2(){}\n\n   //getter and setters\n\n    }\n@Data\n@Embeddable\npublic class information{\n\n@Id \nprivate Long id;\nprivate String key1;\nprivate String key2;\npublic information(){}\n\n//getters and setters\n}\n</code></pre>\n<p>}\n}</p>\n<p>This is the json file structure with some data in.</p>\n<p><a href=\"https://i.stack.imgur.com/yyO7B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyO7B.png\" alt=\"Json File\" /></a></p>\n"},{"tags":["java","rmi"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694737496,"post_id":77102149,"comment_id":135934244,"body_markdown":"&quot;The method is correct, however its not working:&quot; this is is a contradiction in terms.","body":"&quot;The method is correct, however its not working:&quot; this is is a contradiction in terms."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694672177,"creation_date":1694672177,"answer_id":77102221,"question_id":77102149,"body_markdown":"Your code is missing some interesting pieces, especially the declarations of `currentPlayer.getPiece()` and `board`.\r\n\r\nBut from the fact that you can compare `this.board[row][col] == null` I deduct that `board` is an array of some form of objects. Therefore it is very very likely that the comparison `this.board[i][col] == currentPlayer.getPiece()` is wrong because it compares object identities rather than contents. Even more suspicious if either `board` or the result of `currentPlayer.getPiece()` are transferred via RMI. \r\n\r\nPlease implement proper `equals` and `hashcode` methods (they always have to go together!), probably best that you use an IDE tool or some pattern to create their code. And use `this.board[i][col].equals(currentPlayer.getPiece())` instead so you get a correct comparison.","title":"Connect4 Multiplayer With Java RMI","body":"<p>Your code is missing some interesting pieces, especially the declarations of <code>currentPlayer.getPiece()</code> and <code>board</code>.</p>\n<p>But from the fact that you can compare <code>this.board[row][col] == null</code> I deduct that <code>board</code> is an array of some form of objects. Therefore it is very very likely that the comparison <code>this.board[i][col] == currentPlayer.getPiece()</code> is wrong because it compares object identities rather than contents. Even more suspicious if either <code>board</code> or the result of <code>currentPlayer.getPiece()</code> are transferred via RMI.</p>\n<p>Please implement proper <code>equals</code> and <code>hashcode</code> methods (they always have to go together!), probably best that you use an IDE tool or some pattern to create their code. And use <code>this.board[i][col].equals(currentPlayer.getPiece())</code> instead so you get a correct comparison.</p>\n"}],"owner":{"account_id":26670648,"reputation":1,"user_id":20282129,"display_name":"diego alamu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1694687785,"accepted_answer_id":77102221,"answer_count":1,"score":-3,"last_activity_date":1694672177,"creation_date":1694671332,"question_id":77102149,"body_markdown":"Im making a 2 Player connect4 game with RMI.My method checkWin() to check if a player has won is not working. If a player has won it will return `true`, else `false`. The method is correct, however its not working. The following are my classes being used in this method:\r\n`Server` class,\r\n`Client` class,\r\n`Piece` class (A client has a piece to themself).\r\nA `Piece` has a `Color` and it has a get and set color methods.\r\nCode:\r\n``` lang-java\r\n// ...Rest of code...\r\npublic void actionPerformed(ActionEvent e) {\r\n    int column = Integer.parseInt(e.getActionCommand());\r\n    try {\r\n        if(myTurn){\r\n            if(server.updateBoard(column)){ \r\n                if(win(column)){\r\n                    server.showWinner();\r\n                }\r\n                server.updateCurrentPlayer();\r\n                server.updateTitle();\r\n            }\r\n// ....Rest of code...}\r\n```\r\n``` lang-java\r\n@Override\r\npublic synchronized boolean updateBoard(int col) throws RemoteException {\r\n    if(col &gt;= 0 &amp;&amp; col &lt; columns){\r\n        for(int row = rows - 1;row &gt;=0;row--){\r\n           if(this.board[row][col]==null){\r\n               this.board[row][col] = currentPlayer.getPiece();\r\n               player1.updateGui(currentPlayer.getPiece(), col, this.board);\r\n               player2.updateGui(currentPlayer.getPiece(), col, this.board);\r\n               currentPlayer.setBoard(this.board);\r\n               return true;\r\n           }\r\n       }\r\n   }\r\n   return false;\r\n}\r\n\r\n@Override\r\npublic synchronized boolean checkWin(int col) throws RemoteException {\r\n\r\n    //Vertical Check\r\n    int row = 0;\r\n    while (row &lt; rows &amp;&amp; this.board[row][col] == null) {\r\n        row++;\r\n    }\r\n    int streak = 1;\r\n    for (int i = row + 1; i &lt; rows; i++) {\r\n        if (this.board[i][col] == currentPlayer.getPiece()) {\r\n            streak++;\r\n            if (streak == 4) {\r\n                return true; // Win condition met\r\n            }\r\n        } else {\r\n            streak = 1;\r\n            break; // Streak is broken\r\n        }\r\n    }\r\n//...Rest of code...}\r\n```\r\n\r\nI have done some testing by cross checking a piece thats just being placed on the board to both the players&#39; piece and they both dont match. Why is that when it is a player&#39;s piece that is being placed on the board in the `updateBoard()` method. Also if I call `board[][].getColor()` and `board[][]` is `null` it will get into a never ending process or a loop. The `updateBoard()` method works because both clients GUI updates and my `Piece` class does implement `Serializable`. Also `currentPlayer` is just either `player1` or `player2` depending on whos turn it is.\r\n\r\n\r\nI tried to use `board[][].getColor() == currentPlayer.getColor()` instead but it throws me into a never ending process or a loop.","title":"Connect4 Multiplayer With Java RMI","body":"<p>Im making a 2 Player connect4 game with RMI.My method checkWin() to check if a player has won is not working. If a player has won it will return <code>true</code>, else <code>false</code>. The method is correct, however its not working. The following are my classes being used in this method:\n<code>Server</code> class,\n<code>Client</code> class,\n<code>Piece</code> class (A client has a piece to themself).\nA <code>Piece</code> has a <code>Color</code> and it has a get and set color methods.\nCode:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ...Rest of code...\npublic void actionPerformed(ActionEvent e) {\n    int column = Integer.parseInt(e.getActionCommand());\n    try {\n        if(myTurn){\n            if(server.updateBoard(column)){ \n                if(win(column)){\n                    server.showWinner();\n                }\n                server.updateCurrentPlayer();\n                server.updateTitle();\n            }\n// ....Rest of code...}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic synchronized boolean updateBoard(int col) throws RemoteException {\n    if(col &gt;= 0 &amp;&amp; col &lt; columns){\n        for(int row = rows - 1;row &gt;=0;row--){\n           if(this.board[row][col]==null){\n               this.board[row][col] = currentPlayer.getPiece();\n               player1.updateGui(currentPlayer.getPiece(), col, this.board);\n               player2.updateGui(currentPlayer.getPiece(), col, this.board);\n               currentPlayer.setBoard(this.board);\n               return true;\n           }\n       }\n   }\n   return false;\n}\n\n@Override\npublic synchronized boolean checkWin(int col) throws RemoteException {\n\n    //Vertical Check\n    int row = 0;\n    while (row &lt; rows &amp;&amp; this.board[row][col] == null) {\n        row++;\n    }\n    int streak = 1;\n    for (int i = row + 1; i &lt; rows; i++) {\n        if (this.board[i][col] == currentPlayer.getPiece()) {\n            streak++;\n            if (streak == 4) {\n                return true; // Win condition met\n            }\n        } else {\n            streak = 1;\n            break; // Streak is broken\n        }\n    }\n//...Rest of code...}\n</code></pre>\n<p>I have done some testing by cross checking a piece thats just being placed on the board to both the players' piece and they both dont match. Why is that when it is a player's piece that is being placed on the board in the <code>updateBoard()</code> method. Also if I call <code>board[][].getColor()</code> and <code>board[][]</code> is <code>null</code> it will get into a never ending process or a loop. The <code>updateBoard()</code> method works because both clients GUI updates and my <code>Piece</code> class does implement <code>Serializable</code>. Also <code>currentPlayer</code> is just either <code>player1</code> or <code>player2</code> depending on whos turn it is.</p>\n<p>I tried to use <code>board[][].getColor() == currentPlayer.getColor()</code> instead but it throws me into a never ending process or a loop.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694670826,"post_id":77102046,"comment_id":135922262,"body_markdown":"why do you do a &quot;getClass()&quot; before doing an instanceof check? also: what &#39;Class&#39; class are you using, and what instanceOf method are you calling? Honestly, I&#39;m surprised this compiles to begin with.","body":"why do you do a &quot;getClass()&quot; before doing an instanceof check? also: what &#39;Class&#39; class are you using, and what instanceOf method are you calling? Honestly, I&#39;m surprised this compiles to begin with."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694670828,"post_id":77102046,"comment_id":135922263,"body_markdown":"is that really Java? The standard  `Class` class does not have a `instanceOf()` method, but `isInstance()`,  and the *usual way* to do that would be `c instanceof A` (or, in that specific case, `c.i instanceof A`)","body":"is that really Java? The standard  <code>Class</code> class does not have a <code>instanceOf()</code> method, but <code>isInstance()</code>,  and the <i>usual way</i> to do that would be <code>c instanceof A</code> (or, in that specific case, <code>c.i instanceof A</code>)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694670940,"post_id":77102046,"comment_id":135922276,"body_markdown":"@user85421 my guess is he created his own Class class some way.","body":"@user85421 my guess is he created his own Class class some way."},{"owner":{"account_id":5260590,"reputation":210,"user_id":4202236,"display_name":"user4202236"},"score":0,"creation_date":1694671026,"post_id":77102046,"comment_id":135922288,"body_markdown":"I just corrected my if condition.","body":"I just corrected my if condition."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694671179,"post_id":77102046,"comment_id":135922302,"body_markdown":"@Stultuske I have some trouble believing that... how did they make `getClass()` return this *own*  `Class` ? Is that even possible without messing up with bytecode or the JVM?","body":"@Stultuske I have some trouble believing that... how did they make <code>getClass()</code> return this <i>own</i>  <code>Class</code> ? Is that even possible without messing up with bytecode or the JVM?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694671329,"post_id":77102046,"comment_id":135922327,"body_markdown":"@user85421 I doubt all the code is shown, if the code originally posted compiled","body":"@user85421 I doubt all the code is shown, if the code originally posted compiled"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1694671411,"post_id":77102046,"comment_id":135922336,"body_markdown":"@Stultuske does not matter, `getClass()` is `final`, how you get it to return a different `Class` . . . at least not trivial to just override `getClass` (hard to believe if we consider the *level* of the question ... `Interface` ? `Class` ?)","body":"@Stultuske does not matter, <code>getClass()</code> is <code>final</code>, how you get it to return a different <code>Class</code> . . . at least not trivial to just override <code>getClass</code> (hard to believe if we consider the <i>level</i> of the question ... <code>Interface</code> ? <code>Class</code> ?)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694672060,"post_id":77102046,"comment_id":135922424,"body_markdown":"(ignoring the other problems like `return true` for `void`; (or no return value at all, if the method was declared to return `boolean`); `if (...)  return true`; `new C (A a)`; ...)","body":"(ignoring the other problems like <code>return true</code> for <code>void</code>; (or no return value at all, if the method was declared to return <code>boolean</code>); <code>if (...)  return true</code>; <code>new C (A a)</code>; ...)"}],"answers":[{"tags":[],"owner":{"account_id":10598022,"reputation":66,"user_id":14634910,"display_name":"alexxarisis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694671915,"creation_date":1694670409,"answer_id":77102077,"question_id":77102046,"body_markdown":"You are trying to see if the `C` class is an instance of `A` and not the field `i` inside of it.\r\n\r\nTry with a public `i`: `c.i instanceof A`\r\n\r\nOr better with a getter: `c.getI() instanceof A`\r\n","title":"Java: can I know which class was passed?","body":"<p>You are trying to see if the <code>C</code> class is an instance of <code>A</code> and not the field <code>i</code> inside of it.</p>\n<p>Try with a public <code>i</code>: <code>c.i instanceof A</code></p>\n<p>Or better with a getter: <code>c.getI() instanceof A</code></p>\n"}],"owner":{"account_id":5260590,"reputation":210,"user_id":4202236,"display_name":"user4202236"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77102077,"answer_count":1,"score":0,"last_activity_date":1694671915,"creation_date":1694669926,"question_id":77102046,"body_markdown":"I have an interface \r\n```\r\nInterface I {}\r\n```\r\n\r\nI have 2 classes implementing I.\r\n```\r\nClass A implements I {}\r\n\r\nClass B implements I {}\r\n```\r\n\r\nNow, I have a new class which takes the interface as member. \r\n```\r\nClass C {\r\nI i; \r\n}\r\n```\r\n\r\nWhile building this class&#39;s object I am passing class A.\r\n``` \r\nC c = new C (A a); \r\n```\r\n\r\nIn a method I want to ensure if I have class A here and not class B. \r\n```\r\npublic void test(C c) {\r\n  if (c.getI().getClass().isInstance(A.Class)) {\r\n    return true;\r\n}\r\n\r\n}\r\n```\r\n\r\nHowever I am not getting the correct output here. \r\nWhat I want to know is whether I implemented class A or B in the object of C. \r\nHow can I achieve that?  \r\n\r\n\r\n","title":"Java: can I know which class was passed?","body":"<p>I have an interface</p>\n<pre><code>Interface I {}\n</code></pre>\n<p>I have 2 classes implementing I.</p>\n<pre><code>Class A implements I {}\n\nClass B implements I {}\n</code></pre>\n<p>Now, I have a new class which takes the interface as member.</p>\n<pre><code>Class C {\nI i; \n}\n</code></pre>\n<p>While building this class's object I am passing class A.</p>\n<pre><code>C c = new C (A a); \n</code></pre>\n<p>In a method I want to ensure if I have class A here and not class B.</p>\n<pre><code>public void test(C c) {\n  if (c.getI().getClass().isInstance(A.Class)) {\n    return true;\n}\n\n}\n</code></pre>\n<p>However I am not getting the correct output here.\nWhat I want to know is whether I implemented class A or B in the object of C.\nHow can I achieve that?</p>\n"},{"tags":["java","android","spring-boot","codenameone","mobile-development"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":1,"creation_date":1694654499,"post_id":77101071,"comment_id":135920955,"body_markdown":"Have you tried to use Google? There are thousands of thousands of tutorials of how to build Spring Boot Rest APIs. Maybe begin with one of Spring&#39;s own tutorials? https://spring.io/guides/tutorials/rest/","body":"Have you tried to use Google? There are thousands of thousands of tutorials of how to build Spring Boot Rest APIs. Maybe begin with one of Spring&#39;s own tutorials? <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">spring.io/guides/tutorials/rest</a>"}],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694659234,"creation_date":1694659234,"answer_id":77101464,"question_id":77101071,"body_markdown":"There&#39;s a free course here that&#39;s slightly out of date but it includes examples of working with Spring Boot and Codename One to build full stack apps: https://debugagent.com/series/cn1","title":"Can I built a mobile application in which I can connect spring boot as backend REST API and codename as a frontend?","body":"<p>There's a free course here that's slightly out of date but it includes examples of working with Spring Boot and Codename One to build full stack apps: <a href=\"https://debugagent.com/series/cn1\" rel=\"nofollow noreferrer\">https://debugagent.com/series/cn1</a></p>\n"},{"tags":[],"owner":{"account_id":24669356,"reputation":3,"user_id":18564544,"display_name":"M waseem haider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694671828,"creation_date":1694671828,"answer_id":77102196,"question_id":77101071,"body_markdown":"Yes, you can build a mobile application where the backend is a Spring Boot REST API and the frontend is developed using Codename One.","title":"Can I built a mobile application in which I can connect spring boot as backend REST API and codename as a frontend?","body":"<p>Yes, you can build a mobile application where the backend is a Spring Boot REST API and the frontend is developed using Codename One.</p>\n"}],"owner":{"account_id":18447619,"reputation":21,"user_id":13438500,"display_name":"aayush bhavsar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694671828,"creation_date":1694649469,"question_id":77101071,"body_markdown":"I am working on a master&#39;s project to design a mobile application using codename one. I am planning to use spring boot in the backend but don&#39;t know where to look for the examples. Can you help me how to establish a connection between codename one and spring boot project?\r\n\r\nI tried searching several sites but there is not enough material available to guide how to implement this   ","title":"Can I built a mobile application in which I can connect spring boot as backend REST API and codename as a frontend?","body":"<p>I am working on a master's project to design a mobile application using codename one. I am planning to use spring boot in the backend but don't know where to look for the examples. Can you help me how to establish a connection between codename one and spring boot project?</p>\n<p>I tried searching several sites but there is not enough material available to guide how to implement this</p>\n"},{"tags":["java","chinese-locale","transliteration","bopomofo","zhuyin"],"comments":[{"owner":{"account_id":6517933,"reputation":3311,"user_id":5250973,"display_name":"Jay Dangar"},"score":0,"creation_date":1575613642,"post_id":59207943,"comment_id":104633112,"body_markdown":"I have written a detailed answer on this and how you can convert the transliteration from one language to another via hashmap. Have a look, it might help you:). https://stackoverflow.com/questions/19511512/transliteration-from-hindi-to-english-on-android-without-using-google-api/51557924#51557924","body":"I have written a detailed answer on this and how you can convert the transliteration from one language to another via hashmap. Have a look, it might help you:). <a href=\"https://stackoverflow.com/questions/19511512/transliteration-from-hindi-to-english-on-android-without-using-google-api/51557924#51557924\" title=\"transliteration from hindi to english on android without using google api\">stackoverflow.com/questions/19511512/&hellip;</a>"},{"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"score":0,"creation_date":1575613806,"post_id":59207943,"comment_id":104633161,"body_markdown":"@Jay: so there is no actual &#39;algorithm&#39; for this, right? Just need to find an established and verified translation table and that&#39;s it, no?","body":"@Jay: so there is no actual &#39;algorithm&#39; for this, right? Just need to find an established and verified translation table and that&#39;s it, no?"},{"owner":{"account_id":6517933,"reputation":3311,"user_id":5250973,"display_name":"Jay Dangar"},"score":0,"creation_date":1575613883,"post_id":59207943,"comment_id":104633181,"body_markdown":"It&#39;s an algorithm, just use hashmap and you are good to go. Takes O(1) time, which technically translates into 1 Microsecond. So yes, it&#39;s just writing a proper hash table and use it. You can also use faster technic if you like, and also tell me if you find it. :)","body":"It&#39;s an algorithm, just use hashmap and you are good to go. Takes O(1) time, which technically translates into 1 Microsecond. So yes, it&#39;s just writing a proper hash table and use it. You can also use faster technic if you like, and also tell me if you find it. :)"},{"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"score":0,"creation_date":1590083628,"post_id":59207943,"comment_id":109553226,"body_markdown":"@NathanHughes: I suppose we should mark them as synonyms. But will need to get enough votes for it: https://stackoverflow.com/tags/synonyms. Somebody with enough reputation for the tag can submit the synonym proposal: https://stackoverflow.com/tags/bopomofo/synonyms","body":"@NathanHughes: I suppose we should mark them as synonyms. But will need to get enough votes for it: <a href=\"https://stackoverflow.com/tags/synonyms\">stackoverflow.com/tags/synonyms</a>. Somebody with enough reputation for the tag can submit the synonym proposal: <a href=\"https://stackoverflow.com/tags/bopomofo/synonyms\">stackoverflow.com/tags/bopomofo/synonyms</a>"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1595233756,"post_id":59207943,"comment_id":111392524,"body_markdown":"@ccpizza: as this is the only question tagged `bopomofo` and you&#39;re [the only person](https://stackoverflow.com/tags/bopomofo/topusers) who answered a question on this, it will be hard to find someone with more rep on this tag to suggest a synonym ;-)","body":"@ccpizza: as this is the only question tagged <code>bopomofo</code> and you&#39;re <a href=\"https://stackoverflow.com/tags/bopomofo/topusers\">the only person</a> who answered a question on this, it will be hard to find someone with more rep on this tag to suggest a synonym ;-)"},{"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"score":0,"creation_date":1595238667,"post_id":59207943,"comment_id":111394975,"body_markdown":"for the moment  — yes; but it might change in the future","body":"for the moment  — yes; but it might change in the future"}],"answers":[{"tags":[],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694671206,"creation_date":1578848986,"answer_id":59706204,"question_id":59207943,"body_markdown":"### With Python\r\n\r\nThe [dragonmapper][1] module does hanzi to zhuyin conversion (internally it converts first to pinyin and then to zhuyin):\r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    # install dependencies: pip install dragonmapper\r\n\r\n    from dragonmapper import hanzi\r\n    \r\n    hanzi.to_zhuyin(&#39;太阳&#39;)\r\n    &gt;&gt;&gt; &#39;ㄊㄞˋ ㄧㄤ˙&#39;\r\n\r\n\r\n### With Java\r\n\r\nA possible sequence:\r\n\r\n 1. convert Chinese text (Simplified or Traditional) to pinyin using [pinyin4j][2] (java), [pypinyin][3] (python), etc.\r\n 2. Tokenize the numbered pinyin using a regex created according to this [logic][4] (*generated [final regex][5]*).\r\n 3. Substitute pinyin tokens with zhuyin using documented mappings such as http://www.pinyin.info/romanization/bopomofo/basic.html or https://terpconnect.umd.edu/~nsw/chinese/pinyin.htm.\r\n\r\n\r\n\r\n### Possible scenario for step #1:\r\n\r\n\r\n####  *Java code*\r\n&lt;!-- language: lang-java --&gt; \r\n\r\n    HanyuPinyinOutputFormat outputFormat = new HanyuPinyinOutputFormat();\r\n    outputFormat.setToneType(HanyuPinyinToneType.WITH_TONE_NUMBER);\r\n    outputFormat.setVCharType(HanyuPinyinVCharType.WITH_U_AND_COLON);\r\n    outputFormat.setCaseType(HanyuPinyinCaseType.LOWERCASE);\r\n    \r\n    String[] pinyin = PinyinHelper.toHanyuPinyinStringArray(chineseText, outputFormat);\r\n\r\n&lt;!-- language: lang-python --&gt;     \r\n\r\n#### *Python code*\r\n    from pypinyin import pinyin\r\n\r\n    hanzi_text = &#39;當然可以&#39;\r\n    pinyin_text = &#39; &#39;.join([seg[0] for seg in pinyin(hanzi_text)])\r\n    print(pinyin_text)\r\n\r\n\r\n### Scenario for step #2:\r\n\r\nProvided that you generated a list of pinyin segments on step #1 you can now break the pinyin into segments and replace them using a map such as [this one][6] or [this one][7] (in js format).\r\n\r\n### Alternative approach\r\n\r\nAnother solution would be mapping Chinese characters directly to zhuyin using any of the available mappings such as this one: https://github.com/osfans/rime-tool/blob/master/data/y/taiwan.dict.yaml. The downside is that (with this particular source) this will only process Simplified Chinese but won&#39;t process Traditional characters.\r\n\r\n&gt; ***UPDATE***:\r\nThe mapping from the libchewing project covers both simplified and traditional characters (plus frequency data and special cases for multiple characters): see [word.src](https://github.com/chewing/libchewing/blob/master/data/word.src) (400K) and [tsi.src](https://github.com/chewing/libchewing/blob/master/data/tsi.src) (5.2MB). In order to be able to handle segments you&#39;ll probably also want to look for a decent Chinese segmentation library such as [jieba][8] (python), [jieba-analysis][9] (java) etc.\r\n\r\n\r\n  [1]: https://github.com/tsroten/dragonmapper\r\n  [2]: http://pinyin4j.sourceforge.net/\r\n  [3]: https://github.com/mozillazg/python-pinyin\r\n  [4]: https://github.com/tsroten/zhon/blob/main/src/zhon/pinyin.py#L82\r\n  [5]: https://gist.github.com/glowinthedark/6792ed97ac4e813e7870398aad2c70cf\r\n  [6]: http://www.pinyin.info/romanization/bopomofo/basic.html\r\n  [7]: https://gist.github.com/glowinthedark/5ea0f92417042ea0a1c43cf05011f9ae\r\n  [8]: https://github.com/fxsjy/jieba\r\n  [9]: https://github.com/huaban/jieba-analysis","title":"How to transliterate Chinese characters to Zhuyin (in Java)","body":"<h3>With Python</h3>\n<p>The <a href=\"https://github.com/tsroten/dragonmapper\" rel=\"nofollow noreferrer\">dragonmapper</a> module does hanzi to zhuyin conversion (internally it converts first to pinyin and then to zhuyin):</p>\n<pre class=\"lang-python prettyprint-override\"><code># install dependencies: pip install dragonmapper\n\nfrom dragonmapper import hanzi\n\nhanzi.to_zhuyin('太阳')\n&gt;&gt;&gt; 'ㄊㄞˋ ㄧㄤ˙'\n</code></pre>\n<h3>With Java</h3>\n<p>A possible sequence:</p>\n<ol>\n<li>convert Chinese text (Simplified or Traditional) to pinyin using <a href=\"http://pinyin4j.sourceforge.net/\" rel=\"nofollow noreferrer\">pinyin4j</a> (java), <a href=\"https://github.com/mozillazg/python-pinyin\" rel=\"nofollow noreferrer\">pypinyin</a> (python), etc.</li>\n<li>Tokenize the numbered pinyin using a regex created according to this <a href=\"https://github.com/tsroten/zhon/blob/main/src/zhon/pinyin.py#L82\" rel=\"nofollow noreferrer\">logic</a> (<em>generated <a href=\"https://gist.github.com/glowinthedark/6792ed97ac4e813e7870398aad2c70cf\" rel=\"nofollow noreferrer\">final regex</a></em>).</li>\n<li>Substitute pinyin tokens with zhuyin using documented mappings such as <a href=\"http://www.pinyin.info/romanization/bopomofo/basic.html\" rel=\"nofollow noreferrer\">http://www.pinyin.info/romanization/bopomofo/basic.html</a> or <a href=\"https://terpconnect.umd.edu/%7Ensw/chinese/pinyin.htm\" rel=\"nofollow noreferrer\">https://terpconnect.umd.edu/~nsw/chinese/pinyin.htm</a>.</li>\n</ol>\n<h3>Possible scenario for step #1:</h3>\n<h4><em>Java code</em></h4>\n<pre class=\"lang-java prettyprint-override\"><code>HanyuPinyinOutputFormat outputFormat = new HanyuPinyinOutputFormat();\noutputFormat.setToneType(HanyuPinyinToneType.WITH_TONE_NUMBER);\noutputFormat.setVCharType(HanyuPinyinVCharType.WITH_U_AND_COLON);\noutputFormat.setCaseType(HanyuPinyinCaseType.LOWERCASE);\n\nString[] pinyin = PinyinHelper.toHanyuPinyinStringArray(chineseText, outputFormat);\n</code></pre>\n<h4><em>Python code</em></h4>\n<pre><code>from pypinyin import pinyin\n\nhanzi_text = '當然可以'\npinyin_text = ' '.join([seg[0] for seg in pinyin(hanzi_text)])\nprint(pinyin_text)\n</code></pre>\n<h3>Scenario for step #2:</h3>\n<p>Provided that you generated a list of pinyin segments on step #1 you can now break the pinyin into segments and replace them using a map such as <a href=\"http://www.pinyin.info/romanization/bopomofo/basic.html\" rel=\"nofollow noreferrer\">this one</a> or <a href=\"https://gist.github.com/glowinthedark/5ea0f92417042ea0a1c43cf05011f9ae\" rel=\"nofollow noreferrer\">this one</a> (in js format).</p>\n<h3>Alternative approach</h3>\n<p>Another solution would be mapping Chinese characters directly to zhuyin using any of the available mappings such as this one: <a href=\"https://github.com/osfans/rime-tool/blob/master/data/y/taiwan.dict.yaml\" rel=\"nofollow noreferrer\">https://github.com/osfans/rime-tool/blob/master/data/y/taiwan.dict.yaml</a>. The downside is that (with this particular source) this will only process Simplified Chinese but won't process Traditional characters.</p>\n<blockquote>\n<p><em><strong>UPDATE</strong></em>:\nThe mapping from the libchewing project covers both simplified and traditional characters (plus frequency data and special cases for multiple characters): see <a href=\"https://github.com/chewing/libchewing/blob/master/data/word.src\" rel=\"nofollow noreferrer\">word.src</a> (400K) and <a href=\"https://github.com/chewing/libchewing/blob/master/data/tsi.src\" rel=\"nofollow noreferrer\">tsi.src</a> (5.2MB). In order to be able to handle segments you'll probably also want to look for a decent Chinese segmentation library such as <a href=\"https://github.com/fxsjy/jieba\" rel=\"nofollow noreferrer\">jieba</a> (python), <a href=\"https://github.com/huaban/jieba-analysis\" rel=\"nofollow noreferrer\">jieba-analysis</a> (java) etc.</p>\n</blockquote>\n"}],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694671206,"creation_date":1575613449,"question_id":59207943,"body_markdown":"How to convert Chinese traditional or simplified characters to Zhuyin phonetic notation?\r\n\r\nExample\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    # simplified\r\n    没关系 --&gt; ㄇㄟˊㄍㄨㄢㄒㄧ\r\n\r\n    # traditional\r\n    沒關係 --&gt; ㄇㄟˊㄍㄨㄢㄒㄧ","title":"How to transliterate Chinese characters to Zhuyin (in Java)","body":"<p>How to convert Chinese traditional or simplified characters to Zhuyin phonetic notation?</p>\n<p>Example</p>\n<pre class=\"lang-bash prettyprint-override\"><code># simplified\n没关系 --&gt; ㄇㄟˊㄍㄨㄢㄒㄧ\n\n# traditional\n沒關係 --&gt; ㄇㄟˊㄍㄨㄢㄒㄧ\n</code></pre>\n"},{"tags":["java","mongodb","jasper-reports","mongo-java"],"answers":[{"tags":[],"owner":{"account_id":5263,"reputation":9252,"user_id":8373,"accept_rate":62,"display_name":"mdahlman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1329499868,"creation_date":1329499868,"answer_id":9332780,"question_id":9332373,"body_markdown":"Using the JRBeanCollectionDataSource is not the right way to go about using the MongoDB connector. Take a look at this test that comes with the Jaspersoft MongoDB Connector source:\r\n\r\nMongoDbDatasource/src/test/java/com/jaspersoft/mongodb/ReportTest.java\r\n\r\nBoth the binary connector and the source are on the [project page][1].\r\n\r\nTo keep this answer self-contained, here&#39;s a code snippet showing how to fill a MongoDB report. It&#39;s a modified extract from the file I mention above.\r\n\r\n    String mongoURI = &quot;mongodb://bdsandbox6:27017/test&quot;;\r\n    MongoDbConnection connection = null;\r\n    Map&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\r\n    try {\r\n      connection = new MongoDbConnection(mongoURI, null, null);\r\n      parameters.put(MongoDbDataSource.CONNECTION, connection);\r\n      File jasperFile;\r\n      jasperFile = new File(&quot;MongoDbReport.jasper&quot;);\r\n      JasperCompileManager.compileReportToFile(&quot;MongoDbReport.jrxml&quot;, &quot;MongoDbReport.jasper&quot;);\r\n      JasperFillManager.fillReportToFile(&quot;MongoDbReport.jasper&quot;, parameters);\r\n      JasperExportManager.exportReportToPdfFile(&quot;MongoDbReport.jrprint&quot;);\r\n    }\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    } finally {\r\n      if (connection != null) {\r\n        connection.close();\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://jasperforge.org/projects/bigdatareportingfornosqlandhadoop","title":"GeneratePDF with JasperReports Library and MongoDB","body":"<p>Using the JRBeanCollectionDataSource is not the right way to go about using the MongoDB connector. Take a look at this test that comes with the Jaspersoft MongoDB Connector source:</p>\n\n<p>MongoDbDatasource/src/test/java/com/jaspersoft/mongodb/ReportTest.java</p>\n\n<p>Both the binary connector and the source are on the <a href=\"http://jasperforge.org/projects/bigdatareportingfornosqlandhadoop\" rel=\"nofollow\">project page</a>.</p>\n\n<p>To keep this answer self-contained, here's a code snippet showing how to fill a MongoDB report. It's a modified extract from the file I mention above.</p>\n\n<pre><code>String mongoURI = \"mongodb://bdsandbox6:27017/test\";\nMongoDbConnection connection = null;\nMap&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\ntry {\n  connection = new MongoDbConnection(mongoURI, null, null);\n  parameters.put(MongoDbDataSource.CONNECTION, connection);\n  File jasperFile;\n  jasperFile = new File(\"MongoDbReport.jasper\");\n  JasperCompileManager.compileReportToFile(\"MongoDbReport.jrxml\", \"MongoDbReport.jasper\");\n  JasperFillManager.fillReportToFile(\"MongoDbReport.jasper\", parameters);\n  JasperExportManager.exportReportToPdfFile(\"MongoDbReport.jrprint\");\n}\n} catch (Exception e) {\n  e.printStackTrace();\n} finally {\n  if (connection != null) {\n    connection.close();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2261620,"reputation":151,"user_id":1991558,"display_name":"Amit S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563816408,"creation_date":1411411296,"answer_id":25981015,"question_id":9332373,"body_markdown":"You need to add following line:  \r\n\r\n    JRProperties.setProperty(&quot;net.sf.jasperreports.query.executer.factory.MongoDbQuery&quot;, &quot;com.jaspersoft.mongodb.query.MongoDbQueryExecuterFactory&quot;);\r\n\r\nVerify path in datasource jar file, e.g. js-mongodb-datasource-0.5.0","title":"GeneratePDF with JasperReports Library and MongoDB","body":"<p>You need to add following line:  </p>\n\n<pre><code>JRProperties.setProperty(\"net.sf.jasperreports.query.executer.factory.MongoDbQuery\", \"com.jaspersoft.mongodb.query.MongoDbQueryExecuterFactory\");\n</code></pre>\n\n<p>Verify path in datasource jar file, e.g. js-mongodb-datasource-0.5.0</p>\n"},{"tags":[],"owner":{"account_id":11825691,"reputation":1,"user_id":8653635,"display_name":"Purvesh Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694671102,"creation_date":1694671102,"answer_id":77102133,"question_id":9332373,"body_markdown":"It resolved by adding proper dependencies.\r\n\r\nMongoDbQueryExecuter required for MongoDbQuery used in your jrxml. and for that use below dependencies. \r\nhttps://mvnrepository.com/artifact/com.jaspersoft.connectors.mongodb/js-mongodb-datasource\r\n\r\nmake sure you have proper drives installed mongodb-driver-sync, mongodb-driver-legacy and mongodb-driver-core.\r\n\r\nbelow is list of dependencies with versions I used in my project, and it was working fine.\r\n\r\n  // https://mvnrepository.com/artifact/org.springframework.data/spring-data-mongodb\r\n    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-mongodb&#39;, version: &#39;4.1.2&#39;\r\n    // https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-sync\r\n    implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver-sync&#39;, version: &#39;4.10.2&#39;\r\n    // https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-legacy\r\n    implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver-legacy&#39;, version: &#39;4.10.2&#39;\r\n    // https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-core\r\n    implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver-core&#39;, version: &#39;4.10.2&#39;\r\n  \r\n    // https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports\r\n    implementation group: &#39;net.sf.jasperreports&#39;, name: &#39;jasperreports&#39;, version: &#39;6.20.6&#39;\r\n    // https://mvnrepository.com/artifact/com.github.librepdf/openpdf\r\n    implementation group: &#39;com.github.librepdf&#39;, name: &#39;openpdf&#39;, version: &#39;1.3.30&#39;\r\n// https://mvnrepository.com/artifact/com.jaspersoft.connectors.mongodb/js-mongodb-datasource\r\n    implementation group: &#39;com.jaspersoft.connectors.mongodb&#39;, name: &#39;js-mongodb-datasource&#39;, version: &#39;3.10.2&#39;\r\n\r\n\r\n\r\n        byte[] bytes = null;\r\n        String mongoURI = &quot;mongodb://127.0.0.1:29002/yourdatabase&quot;;\r\n        MongoDbConnection connection = null;\r\n        try {\r\n            connection = new MongoDbConnection(mongoURI, null, null);\r\n            Map&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\r\n            final InputStream stream = this.getClass().getResourceAsStream(&quot;/test.jrxml&quot;);\r\n\r\n            final JasperReport report = JasperCompileManager.compileReport(stream);\r\n            final JasperPrint print = JasperFillManager.fillReport(report, parameters,connection);\r\n            bytes = JasperExportManager.exportReportToPdf(print);\r\n\r\n\r\n        }catch (Exception e){\r\n            System.out.println(e.getMessage());\r\n        }","title":"GeneratePDF with JasperReports Library and MongoDB","body":"<p>It resolved by adding proper dependencies.</p>\n<p>MongoDbQueryExecuter required for MongoDbQuery used in your jrxml. and for that use below dependencies.\n<a href=\"https://mvnrepository.com/artifact/com.jaspersoft.connectors.mongodb/js-mongodb-datasource\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.jaspersoft.connectors.mongodb/js-mongodb-datasource</a></p>\n<p>make sure you have proper drives installed mongodb-driver-sync, mongodb-driver-legacy and mongodb-driver-core.</p>\n<p>below is list of dependencies with versions I used in my project, and it was working fine.</p>\n<p>// <a href=\"https://mvnrepository.com/artifact/org.springframework.data/spring-data-mongodb\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.data/spring-data-mongodb</a>\nimplementation group: 'org.springframework.data', name: 'spring-data-mongodb', version: '4.1.2'\n// <a href=\"https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-sync\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-sync</a>\nimplementation group: 'org.mongodb', name: 'mongodb-driver-sync', version: '4.10.2'\n// <a href=\"https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-legacy\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-legacy</a>\nimplementation group: 'org.mongodb', name: 'mongodb-driver-legacy', version: '4.10.2'\n// <a href=\"https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-core</a>\nimplementation group: 'org.mongodb', name: 'mongodb-driver-core', version: '4.10.2'</p>\n<pre><code>// https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports\nimplementation group: 'net.sf.jasperreports', name: 'jasperreports', version: '6.20.6'\n// https://mvnrepository.com/artifact/com.github.librepdf/openpdf\nimplementation group: 'com.github.librepdf', name: 'openpdf', version: '1.3.30'\n</code></pre>\n<p>// <a href=\"https://mvnrepository.com/artifact/com.jaspersoft.connectors.mongodb/js-mongodb-datasource\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.jaspersoft.connectors.mongodb/js-mongodb-datasource</a>\nimplementation group: 'com.jaspersoft.connectors.mongodb', name: 'js-mongodb-datasource', version: '3.10.2'</p>\n<pre><code>    byte[] bytes = null;\n    String mongoURI = &quot;mongodb://127.0.0.1:29002/yourdatabase&quot;;\n    MongoDbConnection connection = null;\n    try {\n        connection = new MongoDbConnection(mongoURI, null, null);\n        Map&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\n        final InputStream stream = this.getClass().getResourceAsStream(&quot;/test.jrxml&quot;);\n\n        final JasperReport report = JasperCompileManager.compileReport(stream);\n        final JasperPrint print = JasperFillManager.fillReport(report, parameters,connection);\n        bytes = JasperExportManager.exportReportToPdf(print);\n\n\n    }catch (Exception e){\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n"}],"owner":{"account_id":1212876,"reputation":622,"user_id":1181090,"accept_rate":72,"display_name":"Louis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4897,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":9332780,"answer_count":3,"score":1,"last_activity_date":1694671102,"creation_date":1329497924,"question_id":9332373,"body_markdown":"Here is my GeneratePdf.java \r\n    Import ...\r\n\r\n      public class GeneratePdf {\r\n            public static void main(String[] args) {\r\n            try {\r\n                JRDataSource ds = getDatasource();\r\n                // - Chargement et compilation du rapport\r\n    line32      JasperDesign jasperDesign = JRXmlLoader.load(&quot;/home/gocoffee.jrxml&quot;);\r\n                JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\r\n    \r\n                // - Param&#232;tres &#224; envoyer au rapport\r\n                Map parameters = new HashMap();\r\n                parameters.put(&quot;Titre&quot;, &quot;Titre&quot;);\r\n    \r\n                // - Execution du rapport\r\n                JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport,\r\n    parameters, ds);\r\n    \r\n                // - Cr&#233;ation du rapport au format PDF\r\n                JasperExportManager.exportReportToPdfFile(jasperPrint, &quot;home/test2.pdf&quot;);\r\n            } catch (JRException e) {\r\n            }\r\n        }\r\n    \r\nMongo connection and get data ():\r\n\r\n    private static JRDataSource getDatasource() {\r\n            // Retrieve session\r\n            try{\r\n                Mongo m = new Mongo(&quot;localhost&quot;, 27017);\r\n                DB db = m.getDB(&quot;test&quot;);\r\n                DBCollection t = db.getCollection(&quot;test&quot;);\r\n                List&lt;DBObject&gt; list = t.getIndexInfo();\r\n                JRDataSource ds = new JRBeanCollectionDataSource(list);\r\n                return ds;\r\n            } catch (UnknownHostException e) {\r\n                System.out.println(&quot;Error mongo connection&quot;);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Other Exception&quot;);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nI get this error  but I dont understand it:\r\n\r\n    run:\r\n    17-Feb-2012 17:07:26 org.apache.commons.digester.Digester endElement\r\n    SEVERE: End event threw exception\r\n    java.lang.reflect.InvocationTargetException\r\n    ....\r\n    ....\r\n    \tat net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:156)\r\n    \tat GeneratePdf.main(GeneratePdf.java:32)\r\n\r\n    Caused by: net.sf.jasperreports.engine.JRRuntimeException: No query executer factory registered for the &#39;MongoDbQuery&#39; language.\r\n    \tat net.sf.jasperreports.engine.util.JRQueryExecuterUtils.getQueryExecuterFactory(JRQueryExecuterUtils.java:64)\r\n    \tat net.sf.jasperreports.engine.design.JRDesignDataset.queryLanguageChanged(JRDesignDataset.java:1122)\r\n    \tat net.sf.jasperreports.engine.design.JRDesignDataset.setQuery(JRDesignDataset.java:600)\r\n    \tat net.sf.jasperreports.engine.design.JasperDesign.setQuery(JasperDesign.java:789)\r\n    \t... 28 more\r\n\r\n     \r\n\r\n","title":"GeneratePDF with JasperReports Library and MongoDB","body":"<p>Here is my GeneratePdf.java \n    Import ...</p>\n\n<pre><code>  public class GeneratePdf {\n        public static void main(String[] args) {\n        try {\n            JRDataSource ds = getDatasource();\n            // - Chargement et compilation du rapport\nline32      JasperDesign jasperDesign = JRXmlLoader.load(\"/home/gocoffee.jrxml\");\n            JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\n\n            // - Paramètres à envoyer au rapport\n            Map parameters = new HashMap();\n            parameters.put(\"Titre\", \"Titre\");\n\n            // - Execution du rapport\n            JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport,\nparameters, ds);\n\n            // - Création du rapport au format PDF\n            JasperExportManager.exportReportToPdfFile(jasperPrint, \"home/test2.pdf\");\n        } catch (JRException e) {\n        }\n    }\n</code></pre>\n\n<p>Mongo connection and get data ():</p>\n\n<pre><code>private static JRDataSource getDatasource() {\n        // Retrieve session\n        try{\n            Mongo m = new Mongo(\"localhost\", 27017);\n            DB db = m.getDB(\"test\");\n            DBCollection t = db.getCollection(\"test\");\n            List&lt;DBObject&gt; list = t.getIndexInfo();\n            JRDataSource ds = new JRBeanCollectionDataSource(list);\n            return ds;\n        } catch (UnknownHostException e) {\n            System.out.println(\"Error mongo connection\");\n        } catch (Exception e) {\n            System.out.println(\"Other Exception\");\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>I get this error  but I dont understand it:</p>\n\n<pre><code>run:\n17-Feb-2012 17:07:26 org.apache.commons.digester.Digester endElement\nSEVERE: End event threw exception\njava.lang.reflect.InvocationTargetException\n....\n....\n    at net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:156)\n    at GeneratePdf.main(GeneratePdf.java:32)\n\nCaused by: net.sf.jasperreports.engine.JRRuntimeException: No query executer factory registered for the 'MongoDbQuery' language.\n    at net.sf.jasperreports.engine.util.JRQueryExecuterUtils.getQueryExecuterFactory(JRQueryExecuterUtils.java:64)\n    at net.sf.jasperreports.engine.design.JRDesignDataset.queryLanguageChanged(JRDesignDataset.java:1122)\n    at net.sf.jasperreports.engine.design.JRDesignDataset.setQuery(JRDesignDataset.java:600)\n    at net.sf.jasperreports.engine.design.JasperDesign.setQuery(JasperDesign.java:789)\n    ... 28 more\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":29438102,"reputation":1,"user_id":22556600,"display_name":"kli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694670920,"creation_date":1694670920,"question_id":77102117,"body_markdown":"When passing the entity class from the main program to Mybatis-Plus&#39;s QueryWrapper results in a ClassNotFoundException\r\nCreating a new SqlSession\r\n\r\nSqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43745a5e] was not registered for synchronization because synchronization is not active\r\n\r\nClosing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43745a5e]\r\n\r\n13:33:47.640 [http-nio-9083-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.builder.BuilderException: Error evaluating expression &#39;ew.sqlSegment != null and ew.sqlSegment != &#39;&#39; and ew.nonEmptyOfWhere&#39;. Cause: org.apache.ibatis.ognl.OgnlException: sqlSegment [com.baomidou.mybatisplus.core.exceptions.MybatisPlusException: This is impossible to happen]] with root cause\r\n\r\njava.lang.ClassNotFoundException: com.haitaiinc.service.impl.SwitchConfigServiceImpl\r\n\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\r\n\tat java.lang.Class.forName0(Native Method)\r\n\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\r\n\tat java.io.ObjectInputStream.resolveClass(ObjectInputStream.java:686)\r\n\r\n\tat com.baomidou.mybatisplus.core.toolkit.support.SerializedLambda$1.resolveClass(SerializedLambda.java:63)\r\n\r\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1868)\r\n\r\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)\r\n\r\n\tat java.io.ObjectInputStream.readClass(ObjectInputStream.java:1716)\r\n\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1556)\r\n\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2287)\r\n\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2211)\r\n\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2069)\r\n\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\r\n\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)\r\n\r\n\tat com.baomidou.mybatisplus.core.toolkit.support.SerializedLambda.resolve(SerializedLambda.java:67)\r\n\r\n\tat com.baomidou.mybatisplus.core.toolkit.LambdaUtils.lambda$resolve$0(LambdaUtils.java:64)\r\n\r\n\tat java.util.Optional.orElseGet(Optional.java:267)\r\n\r\n\tat com.baomidou.mybatisplus.core.toolkit.LambdaUtils.resolve(LambdaUtils.java:63)\r\n\r\n\tat com.baomidou.mybatisplus.core.conditions.AbstractLambdaWrapper.columnToString(AbstractLambdaWrapper.java:72)\r\n\r\n\tat com.baomidou.mybatisplus.core.conditions.AbstractLambdaWrapper.columnToString(AbstractLambdaWrapper.java:68)\r\n\r\n\tat com.baomidou.mybatisplus.core.conditions.AbstractLambdaWrapper.columnToString(AbstractLambdaWrapper.java:39)\r\n\r\n\tat com.baomidou.mybatisplus.core.conditions.AbstractWrapper.lambda$addCondition$ac69df92$1(AbstractWrapper.java:332)\r\n\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\n\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\r\n\tat com.baomidou.mybatisplus.core.conditions.segments.NormalSegmentList.childrenSqlSegment(NormalSegmentList.java:89)\r\n\r\n\tat com.baomidou.mybatisplus.core.conditions.segments.AbstractISegmentList.getSqlSegment(AbstractISegmentList.java:102)\r\n\r\n\tat com.baomidou.mybatisplus.core.conditions.segments.MergeSegments.getSqlSegment(MergeSegments.java:72)\r\n\r\n\tat com.baomidou.mybatisplus.core.conditions.AbstractWrapper.getSqlSegment(AbstractWrapper.java:432)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\r\n\tat org.apache.ibatis.ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:881)\r\n\r\n\tat org.apache.ibatis.ognl.OgnlRuntime.getMethodValue(OgnlRuntime.java:1691)\r\n\r\n\tat org.apache.ibatis.ognl.ObjectPropertyAccessor.getPossibleProperty(ObjectPropertyAccessor.java:60)\r\n\r\n\tat org.apache.ibatis.ognl.ObjectPropertyAccessor.getProperty(ObjectPropertyAccessor.java:147)\r\n\r\n\tat org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2719)\r\n\r\n\tat org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:114)\r\n\r\n\tat org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\r\n\tat org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n\r\n\tat org.apache.ibatis.ognl.ASTChain.getValueBody(ASTChain.java:141)\r\n\r\n\tat org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\r\n\tat org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n\r\n\tat org.apache.ibatis.ognl.ASTNotEq.getValueBody(ASTNotEq.java:50)\r\n\r\n\tat org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\r\n\tat org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n\r\n\tat org.apache.ibatis.ognl.ASTAnd.getValueBody(ASTAnd.java:61)\r\n\r\n\tat org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\r\n\r\n\tat org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)\r\n\r\n\tat org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:493)\r\n\r\n\tat org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:457)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:46)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateBoolean(ExpressionEvaluator.java:32)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.IfSqlNode.apply(IfSqlNode.java:34)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)\r\n\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.TrimSqlNode.apply(TrimSqlNode.java:55)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)\r\n\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.IfSqlNode.apply(IfSqlNode.java:35)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)\r\n\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)\r\n\r\n\tat org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)\r\n\r\n\tat org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:297)\r\n\r\n\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:81)\r\n\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)\r\n\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\r\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)\r\n\r\n\tat com.sun.proxy.$Proxy121.selectList(Unknown Source)\r\n\r\n\tat org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)\r\n\r\n\tat com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:158)\r\n\r\n\tat com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:76)\r\n\r\n\tat com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:61)\r\n\r\n\tat com.sun.proxy.$Proxy123.selectList(Unknown Source)\r\n\r\n\tat com.haitaiinc.service.impl.SwitchConfigServiceImpl.getAllSwitchConfig(SwitchConfigServiceImpl.java:30)\r\n\r\n\tat com.haitaiinc.controller.SwitchConfigController.getAllSwitchConfig(SwitchConfigController.java:26)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\r\n\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108)\r\n\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\r\n\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\r\n\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\r\n\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591)\r\n\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nmodifying manifestEntries and discovering they are loaded by different classloaders\r\n","title":"lib packages of a Spring Boot application are separated, the main program class cannot be correctly called by other modules","body":"<p>When passing the entity class from the main program to Mybatis-Plus's QueryWrapper results in a ClassNotFoundException\nCreating a new SqlSession</p>\n<p>SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43745a5e] was not registered for synchronization because synchronization is not active</p>\n<p>Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43745a5e]</p>\n<p>13:33:47.640 [http-nio-9083-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.builder.BuilderException: Error evaluating expression 'ew.sqlSegment != null and ew.sqlSegment != '' and ew.nonEmptyOfWhere'. Cause: org.apache.ibatis.ognl.OgnlException: sqlSegment [com.baomidou.mybatisplus.core.exceptions.MybatisPlusException: This is impossible to happen]] with root cause</p>\n<p>java.lang.ClassNotFoundException: com.haitaiinc.service.impl.SwitchConfigServiceImpl</p>\n<pre><code>at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n\nat java.lang.Class.forName0(Native Method)\n\nat java.lang.Class.forName(Class.java:348)\n\nat java.io.ObjectInputStream.resolveClass(ObjectInputStream.java:686)\n\nat com.baomidou.mybatisplus.core.toolkit.support.SerializedLambda$1.resolveClass(SerializedLambda.java:63)\n\nat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1868)\n\nat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)\n\nat java.io.ObjectInputStream.readClass(ObjectInputStream.java:1716)\n\nat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1556)\n\nat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2287)\n\nat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2211)\n\nat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2069)\n\nat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)\n\nat java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)\n\nat com.baomidou.mybatisplus.core.toolkit.support.SerializedLambda.resolve(SerializedLambda.java:67)\n\nat com.baomidou.mybatisplus.core.toolkit.LambdaUtils.lambda$resolve$0(LambdaUtils.java:64)\n\nat java.util.Optional.orElseGet(Optional.java:267)\n\nat com.baomidou.mybatisplus.core.toolkit.LambdaUtils.resolve(LambdaUtils.java:63)\n\nat com.baomidou.mybatisplus.core.conditions.AbstractLambdaWrapper.columnToString(AbstractLambdaWrapper.java:72)\n\nat com.baomidou.mybatisplus.core.conditions.AbstractLambdaWrapper.columnToString(AbstractLambdaWrapper.java:68)\n\nat com.baomidou.mybatisplus.core.conditions.AbstractLambdaWrapper.columnToString(AbstractLambdaWrapper.java:39)\n\nat com.baomidou.mybatisplus.core.conditions.AbstractWrapper.lambda$addCondition$ac69df92$1(AbstractWrapper.java:332)\n\nat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n\nat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n\nat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\nat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n\nat com.baomidou.mybatisplus.core.conditions.segments.NormalSegmentList.childrenSqlSegment(NormalSegmentList.java:89)\n\nat com.baomidou.mybatisplus.core.conditions.segments.AbstractISegmentList.getSqlSegment(AbstractISegmentList.java:102)\n\nat com.baomidou.mybatisplus.core.conditions.segments.MergeSegments.getSqlSegment(MergeSegments.java:72)\n\nat com.baomidou.mybatisplus.core.conditions.AbstractWrapper.getSqlSegment(AbstractWrapper.java:432)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.lang.reflect.Method.invoke(Method.java:498)\n\nat org.apache.ibatis.ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:881)\n\nat org.apache.ibatis.ognl.OgnlRuntime.getMethodValue(OgnlRuntime.java:1691)\n\nat org.apache.ibatis.ognl.ObjectPropertyAccessor.getPossibleProperty(ObjectPropertyAccessor.java:60)\n\nat org.apache.ibatis.ognl.ObjectPropertyAccessor.getProperty(ObjectPropertyAccessor.java:147)\n\nat org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2719)\n\nat org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:114)\n\nat org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\n\nat org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)\n\nat org.apache.ibatis.ognl.ASTChain.getValueBody(ASTChain.java:141)\n\nat org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\n\nat org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)\n\nat org.apache.ibatis.ognl.ASTNotEq.getValueBody(ASTNotEq.java:50)\n\nat org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\n\nat org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)\n\nat org.apache.ibatis.ognl.ASTAnd.getValueBody(ASTAnd.java:61)\n\nat org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\n\nat org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)\n\nat org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:493)\n\nat org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:457)\n\nat org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:46)\n\nat org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateBoolean(ExpressionEvaluator.java:32)\n\nat org.apache.ibatis.scripting.xmltags.IfSqlNode.apply(IfSqlNode.java:34)\n\nat org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)\n\nat java.util.ArrayList.forEach(ArrayList.java:1257)\n\nat org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)\n\nat org.apache.ibatis.scripting.xmltags.TrimSqlNode.apply(TrimSqlNode.java:55)\n\nat org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)\n\nat java.util.ArrayList.forEach(ArrayList.java:1257)\n\nat org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)\n\nat org.apache.ibatis.scripting.xmltags.IfSqlNode.apply(IfSqlNode.java:35)\n\nat org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)\n\nat java.util.ArrayList.forEach(ArrayList.java:1257)\n\nat org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)\n\nat org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)\n\nat org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:297)\n\nat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:81)\n\nat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)\n\nat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.lang.reflect.Method.invoke(Method.java:498)\n\nat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)\n\nat com.sun.proxy.$Proxy121.selectList(Unknown Source)\n\nat org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)\n\nat com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:158)\n\nat com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:76)\n\nat com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:61)\n\nat com.sun.proxy.$Proxy123.selectList(Unknown Source)\n\nat com.haitaiinc.service.impl.SwitchConfigServiceImpl.getAllSwitchConfig(SwitchConfigServiceImpl.java:30)\n\nat com.haitaiinc.controller.SwitchConfigController.getAllSwitchConfig(SwitchConfigController.java:26)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.lang.reflect.Method.invoke(Method.java:498)\n\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\n\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108)\n\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\n\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\n\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\n\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591)\n\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>modifying manifestEntries and discovering they are loaded by different classloaders</p>\n"},{"tags":["java","rest","jenkins"],"answers":[{"tags":[],"owner":{"account_id":1469277,"reputation":2289,"user_id":1381241,"accept_rate":80,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1547514037,"creation_date":1547514037,"answer_id":54191349,"question_id":54119863,"body_markdown":"In case, anyone else is stuck with the same, I was able to get this done using the tree:\r\n\r\n    https://&lt;JENKINS_HOST&gt;/api/json?tree=jobs[name,url,builds[number,result,duration,url]]\r\n\r\nHere, column names can be filtered to fetch only the data you need as the amount of data returned from this is huge.\r\n\r\nYou can also limit the number of records to be fetched like this:\r\n\r\n    https://&lt;JENKINS_HOST&gt;/api/json?tree=jobs[name,url,builds[number,result,duration,url]{0,50}]\r\n\r\nThis will fetch only the last 50 builds for all the jobs, which is exactly what I needed.","title":"Get build details for all builds of all jobs from Jenkins REST API","body":"<p>In case, anyone else is stuck with the same, I was able to get this done using the tree:</p>\n\n<pre><code>https://&lt;JENKINS_HOST&gt;/api/json?tree=jobs[name,url,builds[number,result,duration,url]]\n</code></pre>\n\n<p>Here, column names can be filtered to fetch only the data you need as the amount of data returned from this is huge.</p>\n\n<p>You can also limit the number of records to be fetched like this:</p>\n\n<pre><code>https://&lt;JENKINS_HOST&gt;/api/json?tree=jobs[name,url,builds[number,result,duration,url]{0,50}]\n</code></pre>\n\n<p>This will fetch only the last 50 builds for all the jobs, which is exactly what I needed.</p>\n"},{"tags":[],"owner":{"account_id":23316157,"reputation":81,"user_id":17394765,"display_name":"Yin Lei"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694670911,"creation_date":1694670911,"answer_id":77102116,"question_id":54119863,"body_markdown":"Gets build information for a specified job\r\n```\r\nhttps://{JENKINS_SERVER}/job/{JOB_NAME}/api/json?tree=builds[number,result,timestamp]\r\n```\r\n\r\nGets build information about all jobs in a specified view\r\n```\r\nhttps://{JENKINS_SERVER}/view/{VIEW_NAME}/api/json?tree=jobs[name,builds[number,result,timestamp]]\r\n```","title":"Get build details for all builds of all jobs from Jenkins REST API","body":"<p>Gets build information for a specified job</p>\n<pre><code>https://{JENKINS_SERVER}/job/{JOB_NAME}/api/json?tree=builds[number,result,timestamp]\n</code></pre>\n<p>Gets build information about all jobs in a specified view</p>\n<pre><code>https://{JENKINS_SERVER}/view/{VIEW_NAME}/api/json?tree=jobs[name,builds[number,result,timestamp]]\n</code></pre>\n"}],"owner":{"account_id":1469277,"reputation":2289,"user_id":1381241,"accept_rate":80,"display_name":"Sumit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21119,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":54191349,"answer_count":2,"score":16,"last_activity_date":1694670911,"creation_date":1547075987,"question_id":54119863,"body_markdown":"I have a hosted Jenkins server and from there, I am trying to fetch the build details (like result, timestamp, duration etc.) for all the jobs using the Jenkins REST API and then save it in my database.\r\n\r\nRight now, I am calling the following API from my Java code, to fetch all the jobs (about 200 jobs):\r\n\r\n`https://&lt;JENKINS_HOST&gt;/api/json`\r\n\r\nThen I fetch the job details and all the builds for each job by using:\r\n\r\n`https://&lt;JENKINS_HOST&gt;/job/MY_JOB/api/json`\r\n\r\nThen finally, for each of the builds (I have to fetch only last 50), I have to call this to fetch the build details: \r\n\r\n`https://&lt;JENKINS_HOST&gt;/job/MY_JOB/&lt;BUILD_NUMBER&gt;/api/json`\r\n\r\nSo that makes it about a total of 50*200 + 201 = over 10000 API calls.\r\n\r\nI am guessing, These many API calls would make the Jenkins server perform slow?\r\n\r\nSo, my question is is there a faster/more optimal way to do this, So that I do not have to make so many API calls?\r\n\r\nSomething like where I can fetch all the build details using one url like this:\r\n(hypothetically)\r\n\r\n`https://&lt;JENKINS_HOST&gt;/job/MY_JOB/api/json?fetchAllbuildDetails=True`\r\n","title":"Get build details for all builds of all jobs from Jenkins REST API","body":"<p>I have a hosted Jenkins server and from there, I am trying to fetch the build details (like result, timestamp, duration etc.) for all the jobs using the Jenkins REST API and then save it in my database.</p>\n\n<p>Right now, I am calling the following API from my Java code, to fetch all the jobs (about 200 jobs):</p>\n\n<p><code>https://&lt;JENKINS_HOST&gt;/api/json</code></p>\n\n<p>Then I fetch the job details and all the builds for each job by using:</p>\n\n<p><code>https://&lt;JENKINS_HOST&gt;/job/MY_JOB/api/json</code></p>\n\n<p>Then finally, for each of the builds (I have to fetch only last 50), I have to call this to fetch the build details: </p>\n\n<p><code>https://&lt;JENKINS_HOST&gt;/job/MY_JOB/&lt;BUILD_NUMBER&gt;/api/json</code></p>\n\n<p>So that makes it about a total of 50*200 + 201 = over 10000 API calls.</p>\n\n<p>I am guessing, These many API calls would make the Jenkins server perform slow?</p>\n\n<p>So, my question is is there a faster/more optimal way to do this, So that I do not have to make so many API calls?</p>\n\n<p>Something like where I can fetch all the build details using one url like this:\n(hypothetically)</p>\n\n<p><code>https://&lt;JENKINS_HOST&gt;/job/MY_JOB/api/json?fetchAllbuildDetails=True</code></p>\n"},{"tags":["java","spring-boot","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"score":0,"creation_date":1694658171,"post_id":77101379,"comment_id":135921239,"body_markdown":"Where is the data being saved, and why must it be done in Spring Boot?","body":"Where is the data being saved, and why must it be done in Spring Boot?"},{"owner":{"account_id":167234,"reputation":4268,"user_id":391918,"accept_rate":50,"display_name":"Ajit Goel"},"score":0,"creation_date":1694661871,"post_id":77101379,"comment_id":135921518,"body_markdown":"@cela, The data is being saved in sql server so it can be queried by the user interface. It needs to be done in spring boot because for each user we need to call multiple API&#39;s and make sql server database calls to get user profile information and then query the User Purchase History, Recommendations then group aggregate the information to generate the user recommendations. Would you have a recommendation or input on what could be done better?","body":"@cela, The data is being saved in sql server so it can be queried by the user interface. It needs to be done in spring boot because for each user we need to call multiple API&#39;s and make sql server database calls to get user profile information and then query the User Purchase History, Recommendations then group aggregate the information to generate the user recommendations. Would you have a recommendation or input on what could be done better?"},{"owner":{"account_id":12194403,"reputation":603,"user_id":8900614,"display_name":"ADITYA PAWAR"},"score":0,"creation_date":1694663086,"post_id":77101379,"comment_id":135921610,"body_markdown":"Use search optimization service, define it on User Purchase History and Recommendations tables.  \nhttps://docs.snowflake.com/en/user-guide/search-optimization-service","body":"Use search optimization service, define it on User Purchase History and Recommendations tables.   <a href=\"https://docs.snowflake.com/en/user-guide/search-optimization-service\" rel=\"nofollow noreferrer\">docs.snowflake.com/en/user-guide/search-optimization-service</a>"},{"owner":{"account_id":8583678,"reputation":7033,"user_id":6430523,"display_name":"Koushik Roy"},"score":0,"creation_date":1694668507,"post_id":77101379,"comment_id":135922021,"body_markdown":"why snowflake is tagged ?","body":"why snowflake is tagged ?"}],"owner":{"account_id":167234,"reputation":4268,"user_id":391918,"accept_rate":50,"display_name":"Ajit Goel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694670234,"creation_date":1694656947,"question_id":77101379,"body_markdown":"If I have the following tables in snowflake, \r\n- Users with 225,000 rows. Users has userid column\r\n- User Purchase History with 225,000,000 rows. User Purchase History has userid, list of upc for each userid.\r\n- Recommendations with 40 million rows. Recommendations has upc and recommendations for each upc.\r\n\r\nI need to join the three tables and process (and save) the selected recommendations for each user in the java spring boot service layer. \r\nWhat would be the most efficient way to process (and save)  this information, in the java spring boot service layer?","title":"Processing large dataset in Snowflake and Java Cron job","body":"<p>If I have the following tables in snowflake,</p>\n<ul>\n<li>Users with 225,000 rows. Users has userid column</li>\n<li>User Purchase History with 225,000,000 rows. User Purchase History has userid, list of upc for each userid.</li>\n<li>Recommendations with 40 million rows. Recommendations has upc and recommendations for each upc.</li>\n</ul>\n<p>I need to join the three tables and process (and save) the selected recommendations for each user in the java spring boot service layer.\nWhat would be the most efficient way to process (and save)  this information, in the java spring boot service layer?</p>\n"},{"tags":["java","memory-management","garbage-collection"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":2,"creation_date":1432642438,"post_id":30458195,"comment_id":48997038,"body_markdown":"Even using the standard heap allocation methods in C or C++ doesn&#39;t have to release back to the OS, and the OS can itself keep the freshly unallocated pages mapped to the process (so it doesn&#39;t seem to be free&#39;d).","body":"Even using the standard heap allocation methods in C or C++ doesn&#39;t have to release back to the OS, and the OS can itself keep the freshly unallocated pages mapped to the process (so it doesn&#39;t seem to be free&#39;d)."},{"owner":{"account_id":3772953,"reputation":11318,"user_id":3134621,"display_name":"deviantfan"},"score":0,"creation_date":1432642620,"post_id":30458195,"comment_id":48997206,"body_markdown":"`Java’s Runtime is written in C/C++ so I guess the same thing applies?` And Java&#180;s GC is written in C++ too... it&#180;s not &quot;below&quot; C++","body":"<code>Java’s Runtime is written in C&#47;C++ so I guess the same thing applies?</code> And Java&#180;s GC is written in C++ too... it&#180;s not &quot;below&quot; C++"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1432643285,"post_id":30458195,"comment_id":48997729,"body_markdown":"Till now no heap memory is released to the OS. Merely memory is taken extra if the max heap size still is not reached. This is the same as in C, whereas C has the additional problem that memory reuse is a bit hampered with memory fragmentation (though C can do its own memory management of allocs).","body":"Till now no heap memory is released to the OS. Merely memory is taken extra if the max heap size still is not reached. This is the same as in C, whereas C has the additional problem that memory reuse is a bit hampered with memory fragmentation (though C can do its own memory management of allocs)."},{"owner":{"account_id":2138917,"reputation":5047,"user_id":1898070,"accept_rate":29,"display_name":"Nipun Talukdar"},"score":1,"creation_date":1432643288,"post_id":30458195,"comment_id":48997731,"body_markdown":"JVM starts with a minimum heap size and we may set max and minimum heap-size to the same value. If max and min heap size is same, it will upfront allocate the JAVA heap and there actually may only few Java objects using this heap, in this case GC doesn&#39;t release memory back to OS. GC actually claims back memory used be un-referenced objects, so that they may used for other objects. It doesn&#39;t translate directly to freeing the memory back to OS. It may free the memory, by calling free from C-library. But malloc also internally still may not be immediately release the memory to the OS.","body":"JVM starts with a minimum heap size and we may set max and minimum heap-size to the same value. If max and min heap size is same, it will upfront allocate the JAVA heap and there actually may only few Java objects using this heap, in this case GC doesn&#39;t release memory back to OS. GC actually claims back memory used be un-referenced objects, so that they may used for other objects. It doesn&#39;t translate directly to freeing the memory back to OS. It may free the memory, by calling free from C-library. But malloc also internally still may not be immediately release the memory to the OS."},{"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1432643630,"post_id":30458195,"comment_id":48998009,"body_markdown":"@JoopEggen:So a process never shrinks to help OS?","body":"@JoopEggen:So a process never shrinks to help OS?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1432644021,"post_id":30458195,"comment_id":48998300,"body_markdown":"Yes, there also is no negation between active processes/OS AFAIK. The only measure taken is memory swapping (Unix, Windows); storing a part of the RAM on disk.","body":"Yes, there also is no negation between active processes/OS AFAIK. The only measure taken is memory swapping (Unix, Windows); storing a part of the RAM on disk."},{"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1432645108,"post_id":30458195,"comment_id":48999142,"body_markdown":"@JoopEggen:So if I alocate large collections and make sure I clean them up after use, I still can kill the whole system out of memory?","body":"@JoopEggen:So if I alocate large collections and make sure I clean them up after use, I still can kill the whole system out of memory?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1432645917,"post_id":30458195,"comment_id":48999754,"body_markdown":"No the java.exe (in the longer run) will neither decrease or increase its heap usage; it has its own internal memory management. In the beginning it likely will increase its heap usage to the specified max usage. Hence a web server in java can run 24/7 nonstop.","body":"No the java.exe (in the longer run) will neither decrease or increase its heap usage; it has its own internal memory management. In the beginning it likely will increase its heap usage to the specified max usage. Hence a web server in java can run 24/7 nonstop."},{"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1432648503,"post_id":30458195,"comment_id":49001653,"body_markdown":"@JoopEggen:But if the heap size is never decreasing that means that the system can not use memory that is not actually used/needed by the java app. Right? Isn’t that a problem?","body":"@JoopEggen:But if the heap size is never decreasing that means that the system can not use memory that is not actually used/needed by the java app. Right? Isn’t that a problem?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1432648959,"post_id":30458195,"comment_id":49002042,"body_markdown":"It means that applications must not be too greedy; and a java app can start with a small heap. If the OS detects that RAM memory becomes rare, it **swaps** parts to disk, and on **page faults** reloads them piece wise. Note that every processes memory is owned and more or less protected. Hence it would be hard to manage smaller memory areas.","body":"It means that applications must not be too greedy; and a java app can start with a small heap. If the OS detects that RAM memory becomes rare, it <b>swaps</b> parts to disk, and on <b>page faults</b> reloads them piece wise. Note that every processes memory is owned and more or less protected. Hence it would be hard to manage smaller memory areas."},{"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1432662752,"post_id":30458195,"comment_id":49011567,"body_markdown":"@JoopEggen:But there are cases that we can have &quot;bursts&quot; of memory need and then an extended &quot;idle&quot; period (example a server). In that case the application needed the memory and was not greedy. But does not anymore. So the system now will be degrading as a whole?","body":"@JoopEggen:But there are cases that we can have &quot;bursts&quot; of memory need and then an extended &quot;idle&quot; period (example a server). In that case the application needed the memory and was not greedy. But does not anymore. So the system now will be degrading as a whole?"},{"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1432663512,"post_id":30458195,"comment_id":49012040,"body_markdown":"@JoachimPileborg:So a C++ process can also consume most of the memory in a system on the expense of other processes even if that memory is not needed anymore?","body":"@JoachimPileborg:So a C++ process can also consume most of the memory in a system on the expense of other processes even if that memory is not needed anymore?"},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1432705948,"post_id":30458195,"comment_id":49028017,"body_markdown":"@Jim It depends on the OS, unallocated memory may be *mapped* to a process, but if it&#39;s needed elsewhere then the OS unmapps it.","body":"@Jim It depends on the OS, unallocated memory may be <i>mapped</i> to a process, but if it&#39;s needed elsewhere then the OS unmapps it."},{"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1432710434,"post_id":30458195,"comment_id":49030366,"body_markdown":"@JoachimPileborg:How come you don&#39;t post an answer?","body":"@JoachimPileborg:How come you don&#39;t post an answer?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1584555617,"post_id":30458195,"comment_id":107475363,"body_markdown":"@JoopEggen a VM [_does_ release memory to the OS under some conditions](https://stackoverflow.com/a/59377080/1059372)","body":"@JoopEggen a VM <a href=\"https://stackoverflow.com/a/59377080/1059372\"><i>does</i> release memory to the OS under some conditions</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1584568692,"post_id":30458195,"comment_id":107480196,"body_markdown":"@Eugene appreciated. Did a half jvm myself. GC/JIT/... maybe is not a suited topic for a simple Q+A format.","body":"@Eugene appreciated. Did a half jvm myself. GC/JIT/... maybe is not a suited topic for a simple Q+A format."}],"answers":[{"tags":[],"owner":{"account_id":6189920,"reputation":2014,"user_id":4822884,"accept_rate":60,"display_name":"francesco foresti"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1694669437,"creation_date":1432643128,"answer_id":30458543,"question_id":30458195,"body_markdown":"[This article here][1] explains how the GC work in Java 7. In a nutshell, there are many different garbage collectors available. Usually the memory is kept for the Java process and only some GCs release it to the system (upon request I think). But, the memory used by the Java process will not grow indefinitely, as there is an upper limit defined by the Xmx option (which is 256m usually, but I think it is OS/machine dependant).\r\n\r\n\r\n [1]: https://www.stefankrause.net/wp/?p=14","title":"Does GC release back memory to OS?","body":"<p><a href=\"https://www.stefankrause.net/wp/?p=14\" rel=\"nofollow noreferrer\">This article here</a> explains how the GC work in Java 7. In a nutshell, there are many different garbage collectors available. Usually the memory is kept for the Java process and only some GCs release it to the system (upon request I think). But, the memory used by the Java process will not grow indefinitely, as there is an upper limit defined by the Xmx option (which is 256m usually, but I think it is OS/machine dependant).</p>\n"},{"tags":[],"owner":{"account_id":1281940,"reputation":17524,"user_id":1235867,"accept_rate":80,"display_name":"lbalazscs"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1432645140,"creation_date":1432645140,"answer_id":30459287,"question_id":30458195,"body_markdown":"The JVM does release back memory under some circumstances, but (for performance reasons) this does not happen whenever some memory is garbage collected. It also depends on the JVM, OS, garbage collector etc. You can watch the memory consumption of your app with JConsole, VisualVM or another profiler.\r\n\r\nAlso see this [related bug report][1]\r\n\r\n\r\n  [1]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6498735","title":"Does GC release back memory to OS?","body":"<p>The JVM does release back memory under some circumstances, but (for performance reasons) this does not happen whenever some memory is garbage collected. It also depends on the JVM, OS, garbage collector etc. You can watch the memory consumption of your app with JConsole, VisualVM or another profiler.</p>\n\n<p>Also see this <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6498735\" rel=\"noreferrer\">related bug report</a></p>\n"},{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1659783207,"creation_date":1432658003,"answer_id":30464183,"question_id":30458195,"body_markdown":"The [HotSpot JVM](https://en.wikipedia.org/wiki/HotSpot) does release memory back to the OS, but does so reluctantly since resizing the heap is expensive and it is assumed that if you needed that heap once you&#39;ll need it again.\r\n\r\nIn general shrinking ability and behavior depends on the chosen garbage collector, the JVM version since shrinking capability was often introduced in later versions long after the GC itself was added. Some collectors may also require additional options to be passed to opt into shrinking. And some most likely never will support it, e.g. EpsilonGC.\r\nSo if heap shrinking is desired it should be tested for a particular JVM version and GC configuration.\r\n\r\n## JDK 8 and earlier\r\n\r\nThere are no explicit options for prompt memory reclamation in these versions but you can make the GC more aggressive in general by setting `-XX:GCTimeRatio=19 -XX:MinHeapFreeRatio=20 -XX:MaxHeapFreeRatio=30` which will allow it to spend more CPU time on collecting and constrain the amount of allocated-but-unused heap memory after a GC cycle.\r\n\r\nIf you&#39;re using a concurrent collector you can also set `-XX:InitiatingHeapOccupancyPercent=N` with N to some low value to let the GC run concurrent collections almost continuously, which will consume even more CPU cycles but shrink the heap sooner. This *generally* is not a good idea, but on some types of machines with lots of spare CPU cores but short on memory it can make sense.\r\n\r\nIf you&#39;re using G1GC note that it only gained the ability to [yield back unused chunks in the middle of the heap][2] with jdk8u20, earlier versions were only able to return chunks at the end of the heap which put significant limits on how much could be reclaimed.\r\n\r\nIf you&#39;re using a collector with a default pause time goal (e.g. CMS or G1) you can also relax that goal to place fewer constraints on the collector, or you can switch go the parallel collector to prioritize footprint over pause times.\r\n\r\nTo verify that shrinking occurs or to diagnose why a GC decides not to shrink you can use GC Logging with `-XX:+PrintAdaptiveSizePolicy` may also provide insight, e.g. when the JVM tries to use more memory for the young generation to meet some goals.\r\n\r\n\r\n## JDK 9\r\n\r\nAdded the `-XX:-ShrinkHeapInSteps` option which can be be used to apply the shrinking caused by the options mentioned in the previous section more aggressively. [Relevant OpenJDK bug][1].\r\n\r\nFor logging `-XX:+PrintAdaptiveSizePolicy` has been replaced with `-Xlog:gc+ergo` \r\n\r\n## JDK 12\r\n\r\nIntroduced the option to enable prompt memory release for G1GC via the `G1PeriodicGCInterval` ([JEP 346][4]), again at the expense of some additional CPU. The JEP also mentions similar features in [Shenandoah][5] and the [OpenJ9 VM][6].\r\n\r\n## JDK 13\r\n\r\nAdds similar behavior [for ZGC][7], in this case it is enabled by default. Additionally `XXSoftMaxHeapSize` can be helpful for some workloads to keep the average heap size below some threshold while still allowing transient spikes.\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8146436\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8038423\r\n  [3]: https://openjdk.java.net/jeps/351\r\n  [4]: https://openjdk.java.net/jeps/346\r\n  [5]: https://wiki.openjdk.java.net/display/shenandoah/Main#Main-Heuristics\r\n  [6]: https://www.eclipse.org/openj9/docs/xxidletuninggconidle/\r\n  [7]: https://www.oracle.com/java/technologies/javase/13-relnote-issues.html#JDK-8220347","title":"Does GC release back memory to OS?","body":"<p>The <a href=\"https://en.wikipedia.org/wiki/HotSpot\" rel=\"nofollow noreferrer\">HotSpot JVM</a> does release memory back to the OS, but does so reluctantly since resizing the heap is expensive and it is assumed that if you needed that heap once you'll need it again.</p>\n<p>In general shrinking ability and behavior depends on the chosen garbage collector, the JVM version since shrinking capability was often introduced in later versions long after the GC itself was added. Some collectors may also require additional options to be passed to opt into shrinking. And some most likely never will support it, e.g. EpsilonGC.\nSo if heap shrinking is desired it should be tested for a particular JVM version and GC configuration.</p>\n<h2>JDK 8 and earlier</h2>\n<p>There are no explicit options for prompt memory reclamation in these versions but you can make the GC more aggressive in general by setting <code>-XX:GCTimeRatio=19 -XX:MinHeapFreeRatio=20 -XX:MaxHeapFreeRatio=30</code> which will allow it to spend more CPU time on collecting and constrain the amount of allocated-but-unused heap memory after a GC cycle.</p>\n<p>If you're using a concurrent collector you can also set <code>-XX:InitiatingHeapOccupancyPercent=N</code> with N to some low value to let the GC run concurrent collections almost continuously, which will consume even more CPU cycles but shrink the heap sooner. This <em>generally</em> is not a good idea, but on some types of machines with lots of spare CPU cores but short on memory it can make sense.</p>\n<p>If you're using G1GC note that it only gained the ability to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8038423\" rel=\"nofollow noreferrer\">yield back unused chunks in the middle of the heap</a> with jdk8u20, earlier versions were only able to return chunks at the end of the heap which put significant limits on how much could be reclaimed.</p>\n<p>If you're using a collector with a default pause time goal (e.g. CMS or G1) you can also relax that goal to place fewer constraints on the collector, or you can switch go the parallel collector to prioritize footprint over pause times.</p>\n<p>To verify that shrinking occurs or to diagnose why a GC decides not to shrink you can use GC Logging with <code>-XX:+PrintAdaptiveSizePolicy</code> may also provide insight, e.g. when the JVM tries to use more memory for the young generation to meet some goals.</p>\n<h2>JDK 9</h2>\n<p>Added the <code>-XX:-ShrinkHeapInSteps</code> option which can be be used to apply the shrinking caused by the options mentioned in the previous section more aggressively. <a href=\"https://bugs.openjdk.java.net/browse/JDK-8146436\" rel=\"nofollow noreferrer\">Relevant OpenJDK bug</a>.</p>\n<p>For logging <code>-XX:+PrintAdaptiveSizePolicy</code> has been replaced with <code>-Xlog:gc+ergo</code></p>\n<h2>JDK 12</h2>\n<p>Introduced the option to enable prompt memory release for G1GC via the <code>G1PeriodicGCInterval</code> (<a href=\"https://openjdk.java.net/jeps/346\" rel=\"nofollow noreferrer\">JEP 346</a>), again at the expense of some additional CPU. The JEP also mentions similar features in <a href=\"https://wiki.openjdk.java.net/display/shenandoah/Main#Main-Heuristics\" rel=\"nofollow noreferrer\">Shenandoah</a> and the <a href=\"https://www.eclipse.org/openj9/docs/xxidletuninggconidle/\" rel=\"nofollow noreferrer\">OpenJ9 VM</a>.</p>\n<h2>JDK 13</h2>\n<p>Adds similar behavior <a href=\"https://www.oracle.com/java/technologies/javase/13-relnote-issues.html#JDK-8220347\" rel=\"nofollow noreferrer\">for ZGC</a>, in this case it is enabled by default. Additionally <code>XXSoftMaxHeapSize</code> can be helpful for some workloads to keep the average heap size below some threshold while still allowing transient spikes.</p>\n"},{"tags":[],"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1579005768,"creation_date":1542124356,"answer_id":53284728,"question_id":30458195,"body_markdown":"If you use the G1 collector and call System.gc() occasionally (I do it once a minute), Java will reliably shrink the heap and give memory back to the OS.\r\n\r\nSince Java 12, G1 does this automatically if the application is idle.\r\n\r\nI recommend using these options combined with the above suggestion for a very compact resident process size:\r\n\r\n    -XX:+UseG1GC -XX:MaxHeapFreeRatio=30 -XX:MinHeapFreeRatio=10\r\n\r\nBeen using these options daily for months with a big application (a whole Java-based guest OS) with dynamically loading and unloading classes - and the Java process almost always stays between 400 and 800 MB.","title":"Does GC release back memory to OS?","body":"<p>If you use the G1 collector and call System.gc() occasionally (I do it once a minute), Java will reliably shrink the heap and give memory back to the OS.</p>\n\n<p>Since Java 12, G1 does this automatically if the application is idle.</p>\n\n<p>I recommend using these options combined with the above suggestion for a very compact resident process size:</p>\n\n<pre><code>-XX:+UseG1GC -XX:MaxHeapFreeRatio=30 -XX:MinHeapFreeRatio=10\n</code></pre>\n\n<p>Been using these options daily for months with a big application (a whole Java-based guest OS) with dynamically loading and unloading classes - and the Java process almost always stays between 400 and 800 MB.</p>\n"},{"tags":[],"owner":{"account_id":362391,"reputation":60,"user_id":2200271,"display_name":"Maks Danylenko"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1564140262,"creation_date":1564140262,"answer_id":57219067,"question_id":30458195,"body_markdown":"[ZGC][1] released in 13 java and it can return unused heap memory to the operating system\r\nPlease see [the link][1]\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/351","title":"Does GC release back memory to OS?","body":"<p><a href=\"https://openjdk.java.net/jeps/351\" rel=\"nofollow noreferrer\">ZGC</a> released in 13 java and it can return unused heap memory to the operating system\nPlease see <a href=\"https://openjdk.java.net/jeps/351\" rel=\"nofollow noreferrer\">the link</a></p>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690007410,"creation_date":1690004705,"answer_id":76742468,"question_id":30458195,"body_markdown":"# Does GC release back memory to OS?\r\n\r\n&lt;p&gt;&lt;b&gt;Short Answer&lt;/b&gt;: The memory is returned back to the operating system &lt;b&gt;immediately or at a later time depends upon the configuration (algorithm) of the garbage collector&lt;/b&gt;.&lt;/p&gt;\r\n\r\n## JDK 1.8\r\n\r\nIf you are using **JDK 8 or earlier** and run below code snippet:\r\n\r\n```java\r\npublic static void main(String[] args) throws InterruptedException {\r\n    Runtime runtime = Runtime.getRuntime();\r\n    long availableMemory = runtime.freeMemory();\r\n    System.out.println(&quot;Initially Available Memory : &quot; + availableMemory);\r\n\r\n    List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();\r\n    for (int loop = 0; loop &lt; 1_00_000; loop++) {\r\n        customers.add(new Customer(&quot;USERNAME&quot;));\r\n    }\r\n    availableMemory = runtime.freeMemory();\r\n    System.out.println(&quot;Post Processing Available Memory : &quot; + availableMemory);\r\n\r\n    customers= new ArrayList&lt;&gt;();\r\n    Thread.sleep(1000);\r\n    System.gc();\r\n\r\n    availableMemory = runtime.freeMemory();\r\n    System.out.println(&quot;Post Garbage Collecting Available Memory : &quot; + availableMemory);\r\n}\r\n```\r\n\r\nUsing **JDK 1.8** it results in the below statistics on my machine:\r\n\r\n```\r\nInitially Available Memory :                   243620776 \r\nPost Processing Memory :                       240444976 \r\nPost Garbage Collecting Memory :               250960720 \r\n```\r\nResults: In the case of JDK 1.8, when we call the `System.gc()` we get the free memory back and JVM receives it and doesn&#39;t return it to the OS.\r\n\r\n## JDK 11+\r\n\r\nWhen running the same above code snippet, we yield a surprising result:\r\n\r\n```\r\nInitially Available Memory:                   242021048 \r\nPost Processing Memory:                       239171744 \r\nPost Garbage Collecting Memory:                61171920 \r\n```\r\n\r\nResults: In the case of JDK 11+, when we call the `System.gc()` JVM frees the memory and returns it to the OS.\r\n\r\n# Consequences: \r\nWhenever we return the free memory to the Operating System, if we require more memory we have to request to the OS for a free chunk of additional memory. The overhead results in slow performance.\r\n\r\n## Request JDK 11+ not to release free memory back to the OS.\r\n\r\nWe can set the initial heap size to high, that way we can simply ensure that we never face such a situation. We can set the initial heap size high by `-Xms`. \r\n\r\n```\r\n$ java -Xms2g MyProgram.java\r\nInitially Available Memory :                  2124414976\r\nPost Processing Memory :                      2120842392\r\nPost Garbage Collecting Memory :              2144444600\r\n```\r\n\r\n&lt;sub&gt;I have used ThinkPad \r\n16,082 MB RAM \r\nAvailable Physical Memory 4,340 MB \r\nVirtual Memory: Max Size:  21,202 MB \r\nVirtual Memory: Available: 6,123 MB \r\nVirtual Memory: In Use: 15,079 MB \r\n&lt;/sub&gt;","title":"Does GC release back memory to OS?","body":"<h1>Does GC release back memory to OS?</h1>\n<p><b>Short Answer</b>: The memory is returned back to the operating system <b>immediately or at a later time depends upon the configuration (algorithm) of the garbage collector</b>.</p>\n<h2>JDK 1.8</h2>\n<p>If you are using <strong>JDK 8 or earlier</strong> and run below code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws InterruptedException {\n    Runtime runtime = Runtime.getRuntime();\n    long availableMemory = runtime.freeMemory();\n    System.out.println(&quot;Initially Available Memory : &quot; + availableMemory);\n\n    List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();\n    for (int loop = 0; loop &lt; 1_00_000; loop++) {\n        customers.add(new Customer(&quot;USERNAME&quot;));\n    }\n    availableMemory = runtime.freeMemory();\n    System.out.println(&quot;Post Processing Available Memory : &quot; + availableMemory);\n\n    customers= new ArrayList&lt;&gt;();\n    Thread.sleep(1000);\n    System.gc();\n\n    availableMemory = runtime.freeMemory();\n    System.out.println(&quot;Post Garbage Collecting Available Memory : &quot; + availableMemory);\n}\n</code></pre>\n<p>Using <strong>JDK 1.8</strong> it results in the below statistics on my machine:</p>\n<pre><code>Initially Available Memory :                   243620776 \nPost Processing Memory :                       240444976 \nPost Garbage Collecting Memory :               250960720 \n</code></pre>\n<p>Results: In the case of JDK 1.8, when we call the <code>System.gc()</code> we get the free memory back and JVM receives it and doesn't return it to the OS.</p>\n<h2>JDK 11+</h2>\n<p>When running the same above code snippet, we yield a surprising result:</p>\n<pre><code>Initially Available Memory:                   242021048 \nPost Processing Memory:                       239171744 \nPost Garbage Collecting Memory:                61171920 \n</code></pre>\n<p>Results: In the case of JDK 11+, when we call the <code>System.gc()</code> JVM frees the memory and returns it to the OS.</p>\n<h1>Consequences:</h1>\n<p>Whenever we return the free memory to the Operating System, if we require more memory we have to request to the OS for a free chunk of additional memory. The overhead results in slow performance.</p>\n<h2>Request JDK 11+ not to release free memory back to the OS.</h2>\n<p>We can set the initial heap size to high, that way we can simply ensure that we never face such a situation. We can set the initial heap size high by <code>-Xms</code>.</p>\n<pre><code>$ java -Xms2g MyProgram.java\nInitially Available Memory :                  2124414976\nPost Processing Memory :                      2120842392\nPost Garbage Collecting Memory :              2144444600\n</code></pre>\n<p><sub>I have used ThinkPad\n16,082 MB RAM\nAvailable Physical Memory 4,340 MB\nVirtual Memory: Max Size:  21,202 MB\nVirtual Memory: Available: 6,123 MB\nVirtual Memory: In Use: 15,079 MB\n</sub></p>\n"}],"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38634,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"answer_count":6,"score":69,"last_activity_date":1694669437,"creation_date":1432642222,"question_id":30458195,"body_markdown":"When the garbage collector runs and releases memory does this memory go back to the OS or is it being kept as part of the process. I was under the strong impression that the memory is never actually released back to OS but kept as part of the memory area/pool to be reused by the same process.\r\n\r\nAs a result the actual memory of a process would never decrease. [An article][1] that reminded me was this and Java’s Runtime is written in C/C++ so I guess the same thing applies?\r\n\r\n**Update**  \r\nMy question is about Java. I am mentioning C/C++ since I assume the Java’s allocation/deallocation is done by JRE using some form of malloc/delete\r\n\r\n  [1]: http://www.cplusplus-soup.com/2010/01/freedelete-not-returning-memory-to-os.html","title":"Does GC release back memory to OS?","body":"<p>When the garbage collector runs and releases memory does this memory go back to the OS or is it being kept as part of the process. I was under the strong impression that the memory is never actually released back to OS but kept as part of the memory area/pool to be reused by the same process.</p>\n\n<p>As a result the actual memory of a process would never decrease. <a href=\"http://www.cplusplus-soup.com/2010/01/freedelete-not-returning-memory-to-os.html\" rel=\"noreferrer\">An article</a> that reminded me was this and Java’s Runtime is written in C/C++ so I guess the same thing applies?</p>\n\n<p><strong>Update</strong><br>\nMy question is about Java. I am mentioning C/C++ since I assume the Java’s allocation/deallocation is done by JRE using some form of malloc/delete</p>\n"},{"tags":["java","linux","maven","ubuntu"],"comments":[{"owner":{"account_id":2665015,"reputation":2661,"user_id":2303693,"accept_rate":67,"display_name":"Shabar"},"score":2,"creation_date":1632713977,"post_id":27481953,"comment_id":122558102,"body_markdown":"I faced similar kind of issue with error: `ava.lang.IllegalStateException: Unable to load cache item: Could not initialize class com.google.inject.internal.cglib.core.$MethodWrapper `. The issue at my end was, I was trying to build with `&gt;mvn clean install ` in command-line. My project was in IntelliJ workspace with adding multiple repos as modules. But I opened up the command-line with  with right click the module. After did the build with normal command-line it worked without errors","body":"I faced similar kind of issue with error: <code>ava.lang.IllegalStateException: Unable to load cache item: Could not initialize class com.google.inject.internal.cglib.core.$MethodWrapper </code>. The issue at my end was, I was trying to build with <code>&gt;mvn clean install </code> in command-line. My project was in IntelliJ workspace with adding multiple repos as modules. But I opened up the command-line with  with right click the module. After did the build with normal command-line it worked without errors"},{"owner":{"account_id":2665015,"reputation":2661,"user_id":2303693,"accept_rate":67,"display_name":"Shabar"},"score":0,"creation_date":1632715539,"post_id":27481953,"comment_id":122558357,"body_markdown":"Just identified the RC for the above which was, incorrect JDK version in the environmental  variable set for that particular command-line session.","body":"Just identified the RC for the above which was, incorrect JDK version in the environmental  variable set for that particular command-line session."}],"answers":[{"tags":[],"owner":{"account_id":1399470,"reputation":6117,"user_id":1328513,"accept_rate":53,"display_name":"Zhenya"},"down_vote_count":10,"up_vote_count":1,"is_accepted":true,"score":-9,"last_activity_date":1418639567,"creation_date":1418639567,"answer_id":27482059,"question_id":27481953,"body_markdown":"Restarting PC solved the problem :)","title":"Maven: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException","body":"<p>Restarting PC solved the problem :)</p>\n"},{"tags":[],"owner":{"account_id":11202161,"reputation":1,"user_id":8218813,"display_name":"Manoj Patil"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1498550266,"creation_date":1498544176,"answer_id":44773393,"question_id":27481953,"body_markdown":"Try \r\n\r\n    sudo apt-get upgrade\r\n\r\nset all required version on all environments like java etc\r\n\r\nthen restart machine will solve the problem.","title":"Maven: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException","body":"<p>Try </p>\n\n<pre><code>sudo apt-get upgrade\n</code></pre>\n\n<p>set all required version on all environments like java etc</p>\n\n<p>then restart machine will solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":22768687,"reputation":11,"user_id":16926397,"display_name":"sdkman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631781670,"creation_date":1631781670,"answer_id":69205104,"question_id":27481953,"body_markdown":"Try a different java version.\r\n\r\nTo me after some upgrade it had switch to use Java 16 over 11. \r\n","title":"Maven: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException","body":"<p>Try a different java version.</p>\n<p>To me after some upgrade it had switch to use Java 16 over 11.</p>\n"},{"tags":[],"owner":{"account_id":12328392,"reputation":879,"user_id":8995178,"display_name":"Sami Haroon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633265751,"creation_date":1633265751,"answer_id":69425040,"question_id":27481953,"body_markdown":"For me the issue was due to the fact that in my pom.xml Java 13 was mentioned, on the server machine java 17 was installed. \r\n\r\nSo updated server java version to be what it is in pom.xml\r\nIf you have multiple versions of JDK on Linux please use this command to choose the correct one\r\n```\r\nsudo update-alternatives --config java\r\n```\r\nChoose correct JDK version, if your version is not listed install it and uset it to be active JDK using above command, after that do a clean build and run\r\n```\r\n mvn clean install\r\n mvn spring-boot:run\r\n```\r\n","title":"Maven: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException","body":"<p>For me the issue was due to the fact that in my pom.xml Java 13 was mentioned, on the server machine java 17 was installed.</p>\n<p>So updated server java version to be what it is in pom.xml\nIf you have multiple versions of JDK on Linux please use this command to choose the correct one</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n<p>Choose correct JDK version, if your version is not listed install it and uset it to be active JDK using above command, after that do a clean build and run</p>\n<pre><code> mvn clean install\n mvn spring-boot:run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1676908792,"creation_date":1635143564,"answer_id":69703688,"question_id":27481953,"body_markdown":"As of 2021/10/25, the maven 3.6.x package in Ubuntu is not working properly with Java 17.\r\n\r\nCreate `vi ~/.mavenrc` file and give any version lower than 17.\r\n\r\n`export JAVA_HOME=/usr/lib/jvm/java-16-openjdk-amd64/`\r\n\r\nIf you wish to upgrade to 3.8.x for java 17. https://m-thirumal.github.io/installation_guide/maven/upgrade_maven/\r\n\r\n(or as already suggested earlier install your java related tools using [sdkman.io](https://sdkman.io))","title":"Maven: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException","body":"<p>As of 2021/10/25, the maven 3.6.x package in Ubuntu is not working properly with Java 17.</p>\n<p>Create <code>vi ~/.mavenrc</code> file and give any version lower than 17.</p>\n<p><code>export JAVA_HOME=/usr/lib/jvm/java-16-openjdk-amd64/</code></p>\n<p>If you wish to upgrade to 3.8.x for java 17. <a href=\"https://m-thirumal.github.io/installation_guide/maven/upgrade_maven/\" rel=\"nofollow noreferrer\">https://m-thirumal.github.io/installation_guide/maven/upgrade_maven/</a></p>\n<p>(or as already suggested earlier install your java related tools using <a href=\"https://sdkman.io\" rel=\"nofollow noreferrer\">sdkman.io</a>)</p>\n"},{"tags":[],"owner":{"account_id":2195409,"reputation":2824,"user_id":2420718,"display_name":"Julian Espinel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652632180,"creation_date":1652632180,"answer_id":72250176,"question_id":27481953,"body_markdown":"Probably the Maven version you are using does not support the Java version you installed.\r\n\r\nI fixed the issue by installing the latest version of Maven using SDK man:\r\n\r\n```bash\r\nsdk install maven\r\n```\r\n\r\nSource: https://sdkman.io/sdks#maven","title":"Maven: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException","body":"<p>Probably the Maven version you are using does not support the Java version you installed.</p>\n<p>I fixed the issue by installing the latest version of Maven using SDK man:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>sdk install maven\n</code></pre>\n<p>Source: <a href=\"https://sdkman.io/sdks#maven\" rel=\"nofollow noreferrer\">https://sdkman.io/sdks#maven</a></p>\n"},{"tags":[],"owner":{"account_id":28040,"reputation":16551,"user_id":74491,"accept_rate":38,"display_name":"siddhadev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657096888,"creation_date":1657093672,"answer_id":72879695,"question_id":27481953,"body_markdown":"This seems to be caused by Ubuntu using the non no_aop version of guice.jar in maven 3.6.3 (which needs the no_aop guice.jar).\r\n\r\nAs a workaround in Ubuntu you could (if you don&#39;t care breaking some other ubuntu package actually needing the non no_aop jar):\r\n\r\n```bash\r\nsudo wget https://repo.maven.apache.org/maven2/com/google/inject/guice/4.2.1/guice-4.2.1-no_aop.jar -O /usr/share/java/guice.jar\r\n```\r\n\r\nBut it should be better and safer to use an official maven release directly\r\n\r\nhttps://archive.apache.org/dist/maven/maven-3/3.6.3/binaries/ \r\n\r\ninstead of the Ubuntu packaged one. (as an alternative install maven using [sdkman.io](https://sdkman.io))\r\n\r\nP.S. Ubuntu seems to be trying to share jars between different java packages by putting and linking different jars under /usr/shara/java/ - a noble effort, but an insane approach)","title":"Maven: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException","body":"<p>This seems to be caused by Ubuntu using the non no_aop version of guice.jar in maven 3.6.3 (which needs the no_aop guice.jar).</p>\n<p>As a workaround in Ubuntu you could (if you don't care breaking some other ubuntu package actually needing the non no_aop jar):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo wget https://repo.maven.apache.org/maven2/com/google/inject/guice/4.2.1/guice-4.2.1-no_aop.jar -O /usr/share/java/guice.jar\n</code></pre>\n<p>But it should be better and safer to use an official maven release directly</p>\n<p><a href=\"https://archive.apache.org/dist/maven/maven-3/3.6.3/binaries/\" rel=\"nofollow noreferrer\">https://archive.apache.org/dist/maven/maven-3/3.6.3/binaries/</a></p>\n<p>instead of the Ubuntu packaged one. (as an alternative install maven using <a href=\"https://sdkman.io\" rel=\"nofollow noreferrer\">sdkman.io</a>)</p>\n<p>P.S. Ubuntu seems to be trying to share jars between different java packages by putting and linking different jars under /usr/shara/java/ - a noble effort, but an insane approach)</p>\n"},{"tags":[],"owner":{"account_id":18904500,"reputation":1,"user_id":13791902,"display_name":"Leonardo Torres Montero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669916613,"creation_date":1669916599,"answer_id":74646073,"question_id":27481953,"body_markdown":"In my case, the order of the path variable is causing the problem.\r\n\r\n    PATH=$PATH:$M2 - Causing the error\r\n    PATH=$M2:$PATH - Solve the problem","title":"Maven: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException","body":"<p>In my case, the order of the path variable is causing the problem.</p>\n<pre><code>PATH=$PATH:$M2 - Causing the error\nPATH=$M2:$PATH - Solve the problem\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7709400,"reputation":748,"user_id":5839280,"display_name":"Jalal Kiswani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694668911,"creation_date":1673029448,"answer_id":75034781,"question_id":27481953,"body_markdown":"As _Andr&#233; Willik Valenti_ mentioned, replacing the maven package with the latest version solves the problem, the steps I did:\r\n\r\n1- Download the latest Maven version: \r\n\r\n    wget https://dlcdn.apache.org/maven/maven-3/3.9.4/binaries/apache-maven-3.9.4-bin.tar.gz\r\n\r\n2- Extract the downloaded package:\r\n\r\n    tar -xvf apache-maven-3.9.4-bin.tar.gz\r\n\r\n3- Enter into the extracted folder:\r\n\r\n    cd apache-maven-3.9.4\r\n\r\n4- Delete the previous Maven files:\r\n\r\n    sudo rm -R -f  /usr/share/maven/*\r\n\r\n5- Move the extracted package to previous Maven installation:\r\n\r\n    sudo mv * /usr/share/maven\r\n\r\n6- Verify installation:\r\n\r\n    mvn -version\r\n\r\nUPDATE:\r\nThe above maven version has been updated to 3.9.4 due to the removal of previous version\r\n\r\nGood Luck\r\n \r\n\r\n\r\n\r\n","title":"Maven: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException","body":"<p>As <em>André Willik Valenti</em> mentioned, replacing the maven package with the latest version solves the problem, the steps I did:</p>\n<p>1- Download the latest Maven version:</p>\n<pre><code>wget https://dlcdn.apache.org/maven/maven-3/3.9.4/binaries/apache-maven-3.9.4-bin.tar.gz\n</code></pre>\n<p>2- Extract the downloaded package:</p>\n<pre><code>tar -xvf apache-maven-3.9.4-bin.tar.gz\n</code></pre>\n<p>3- Enter into the extracted folder:</p>\n<pre><code>cd apache-maven-3.9.4\n</code></pre>\n<p>4- Delete the previous Maven files:</p>\n<pre><code>sudo rm -R -f  /usr/share/maven/*\n</code></pre>\n<p>5- Move the extracted package to previous Maven installation:</p>\n<pre><code>sudo mv * /usr/share/maven\n</code></pre>\n<p>6- Verify installation:</p>\n<pre><code>mvn -version\n</code></pre>\n<p>UPDATE:\nThe above maven version has been updated to 3.9.4 due to the removal of previous version</p>\n<p>Good Luck</p>\n"}],"owner":{"account_id":1399470,"reputation":6117,"user_id":1328513,"accept_rate":53,"display_name":"Zhenya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34063,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":27482059,"answer_count":9,"score":24,"last_activity_date":1694668911,"creation_date":1418639233,"question_id":27481953,"body_markdown":"Whenever I try to build any maven project or generate some archetype, I get this error: \r\n\r\n    [ERROR] Error executing Maven.\r\n    [ERROR] java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException\r\n    [ERROR] Caused by: com/google/inject/internal/cglib/core/$CodeGenerationException\r\n    [ERROR] Caused by: com.google.inject.internal.cglib.core.$CodeGenerationException\r\n\r\nMaven used to work ok just yesterday, and don&#39;t remember changing anything in its&#39; configurations lately. I use jdk8 oracle and jdk7 openjdk on Ubuntu 14.04 (I switch between 2 javas from time to time using Ubuntu&#39;s update-alternative --config javac).\r\n\r\nIf I run \r\n\r\n    mvn -B archetype:generate   -DarchetypeGroupId=org.apache.maven.archetypes   -DgroupId=com.mycompany.app   -DartifactId=my-app -X\r\n\r\n\r\nI get this output:\r\n\r\n    username@pcname:~/Desktop/projects/mvn_simple$ mvn -B archetype:generate   -DarchetypeGroupId=org.apache.maven.archetypes   -DgroupId=com.mycompany.app   -DartifactId=my-app -X\r\n    Apache Maven 3.0.5\r\n    Maven home: /usr/share/maven\r\n    Java version: 1.8.0_25, vendor: Oracle Corporation\r\n    Java home: /usr/lib/jvm/java-8-oracle/jre\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;linux&quot;, version: &quot;3.13.0-40-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n    [ERROR] Error executing Maven.\r\n    com.google.common.collect.ComputationException: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException\r\n    \tat com.google.common.collect.MapMaker$ComputingMapAdapter.get(MapMaker.java:890)\r\n    \tat com.google.inject.internal.FailableCache.get(FailableCache.java:49)\r\n    \tat com.google.inject.internal.ConstructorInjectorStore.get(ConstructorInjectorStore.java:50)\r\n    \tat com.google.inject.internal.ConstructorBindingImpl.initialize(ConstructorBindingImpl.java:127)\r\n    \tat com.google.inject.internal.InjectorImpl.initializeBinding(InjectorImpl.java:530)\r\n    \tat com.google.inject.internal.AbstractBindingProcessor$Processor$1.run(AbstractBindingProcessor.java:179)\r\n    \tat com.google.inject.internal.ProcessedBindingData.initializeBindings(ProcessedBindingData.java:44)\r\n    \tat com.google.inject.internal.InternalInjectorCreator.initializeStatically(InternalInjectorCreator.java:123)\r\n    \tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:107)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:96)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:73)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:62)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:470)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:196)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:160)\r\n    \tat org.apache.maven.cli.MavenCli.container(MavenCli.java:375)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:191)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException\r\n    \tat com.google.inject.internal.ProxyFactory.create(ProxyFactory.java:156)\r\n    \tat com.google.inject.internal.ConstructorInjectorStore.createConstructor(ConstructorInjectorStore.java:90)\r\n    \tat com.google.inject.internal.ConstructorInjectorStore.access$000(ConstructorInjectorStore.java:29)\r\n    \tat com.google.inject.internal.ConstructorInjectorStore$1.create(ConstructorInjectorStore.java:37)\r\n    \tat com.google.inject.internal.ConstructorInjectorStore$1.create(ConstructorInjectorStore.java:33)\r\n    \tat com.google.inject.internal.FailableCache$1.apply(FailableCache.java:38)\r\n    \tat com.google.common.collect.ComputingConcurrentHashMap$ComputingValueReference.compute(ComputingConcurrentHashMap.java:356)\r\n    \tat com.google.common.collect.ComputingConcurrentHashMap$ComputingSegment.compute(ComputingConcurrentHashMap.java:182)\r\n    \tat com.google.common.collect.ComputingConcurrentHashMap$ComputingSegment.getOrCompute(ComputingConcurrentHashMap.java:151)\r\n    \tat com.google.common.collect.ComputingConcurrentHashMap.getOrCompute(ComputingConcurrentHashMap.java:67)\r\n    \tat com.google.common.collect.MapMaker$ComputingMapAdapter.get(MapMaker.java:886)\r\n    \t... 25 more\r\n    Caused by: java.lang.ClassNotFoundException: com.google.inject.internal.cglib.core.$CodeGenerationException\r\n    \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:259)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:235)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:227)\r\n    \t... 36 more\r\n\r\n\r\n","title":"Maven: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException","body":"<p>Whenever I try to build any maven project or generate some archetype, I get this error: </p>\n\n<pre><code>[ERROR] Error executing Maven.\n[ERROR] java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException\n[ERROR] Caused by: com/google/inject/internal/cglib/core/$CodeGenerationException\n[ERROR] Caused by: com.google.inject.internal.cglib.core.$CodeGenerationException\n</code></pre>\n\n<p>Maven used to work ok just yesterday, and don't remember changing anything in its' configurations lately. I use jdk8 oracle and jdk7 openjdk on Ubuntu 14.04 (I switch between 2 javas from time to time using Ubuntu's update-alternative --config javac).</p>\n\n<p>If I run </p>\n\n<pre><code>mvn -B archetype:generate   -DarchetypeGroupId=org.apache.maven.archetypes   -DgroupId=com.mycompany.app   -DartifactId=my-app -X\n</code></pre>\n\n<p>I get this output:</p>\n\n<pre><code>username@pcname:~/Desktop/projects/mvn_simple$ mvn -B archetype:generate   -DarchetypeGroupId=org.apache.maven.archetypes   -DgroupId=com.mycompany.app   -DartifactId=my-app -X\nApache Maven 3.0.5\nMaven home: /usr/share/maven\nJava version: 1.8.0_25, vendor: Oracle Corporation\nJava home: /usr/lib/jvm/java-8-oracle/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"3.13.0-40-generic\", arch: \"amd64\", family: \"unix\"\n[ERROR] Error executing Maven.\ncom.google.common.collect.ComputationException: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException\n    at com.google.common.collect.MapMaker$ComputingMapAdapter.get(MapMaker.java:890)\n    at com.google.inject.internal.FailableCache.get(FailableCache.java:49)\n    at com.google.inject.internal.ConstructorInjectorStore.get(ConstructorInjectorStore.java:50)\n    at com.google.inject.internal.ConstructorBindingImpl.initialize(ConstructorBindingImpl.java:127)\n    at com.google.inject.internal.InjectorImpl.initializeBinding(InjectorImpl.java:530)\n    at com.google.inject.internal.AbstractBindingProcessor$Processor$1.run(AbstractBindingProcessor.java:179)\n    at com.google.inject.internal.ProcessedBindingData.initializeBindings(ProcessedBindingData.java:44)\n    at com.google.inject.internal.InternalInjectorCreator.initializeStatically(InternalInjectorCreator.java:123)\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:107)\n    at com.google.inject.Guice.createInjector(Guice.java:96)\n    at com.google.inject.Guice.createInjector(Guice.java:73)\n    at com.google.inject.Guice.createInjector(Guice.java:62)\n    at org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:470)\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:196)\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:160)\n    at org.apache.maven.cli.MavenCli.container(MavenCli.java:375)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:191)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: java.lang.NoClassDefFoundError: com/google/inject/internal/cglib/core/$CodeGenerationException\n    at com.google.inject.internal.ProxyFactory.create(ProxyFactory.java:156)\n    at com.google.inject.internal.ConstructorInjectorStore.createConstructor(ConstructorInjectorStore.java:90)\n    at com.google.inject.internal.ConstructorInjectorStore.access$000(ConstructorInjectorStore.java:29)\n    at com.google.inject.internal.ConstructorInjectorStore$1.create(ConstructorInjectorStore.java:37)\n    at com.google.inject.internal.ConstructorInjectorStore$1.create(ConstructorInjectorStore.java:33)\n    at com.google.inject.internal.FailableCache$1.apply(FailableCache.java:38)\n    at com.google.common.collect.ComputingConcurrentHashMap$ComputingValueReference.compute(ComputingConcurrentHashMap.java:356)\n    at com.google.common.collect.ComputingConcurrentHashMap$ComputingSegment.compute(ComputingConcurrentHashMap.java:182)\n    at com.google.common.collect.ComputingConcurrentHashMap$ComputingSegment.getOrCompute(ComputingConcurrentHashMap.java:151)\n    at com.google.common.collect.ComputingConcurrentHashMap.getOrCompute(ComputingConcurrentHashMap.java:67)\n    at com.google.common.collect.MapMaker$ComputingMapAdapter.get(MapMaker.java:886)\n    ... 25 more\nCaused by: java.lang.ClassNotFoundException: com.google.inject.internal.cglib.core.$CodeGenerationException\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:259)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:235)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:227)\n    ... 36 more\n</code></pre>\n"},{"tags":["java","if-statement","language-lawyer","instanceof","java-17"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694662407,"post_id":77101531,"comment_id":135921559,"body_markdown":"It must have something to do with the requirements for _bit-wise_ operations.  If you append the _instanceof_ check with an _&amp;&amp; true_, and then the _&amp; true_, it works.","body":"It must have something to do with the requirements for <i>bit-wise</i> operations.  If you append the <i>instanceof</i> check with an <i>&amp;&amp; true</i>, and then the <i>&amp; true</i>, it works."},{"owner":{"account_id":11793975,"reputation":129,"user_id":13828462,"display_name":"Lilypad"},"score":0,"creation_date":1694663235,"post_id":77101531,"comment_id":135921616,"body_markdown":"In this case &amp; is the boolean operator though, not the bit-wise one (you can change Number and Integer to Object and String if you want). We already know using `&amp;&amp; true` works, so the fact that using `&amp;&amp; true &amp; true` also works doesn&#39;t really reveal anything.","body":"In this case &amp; is the boolean operator though, not the bit-wise one (you can change Number and Integer to Object and String if you want). We already know using <code>&amp;&amp; true</code> works, so the fact that using <code>&amp;&amp; true &amp; true</code> also works doesn&#39;t really reveal anything."}],"answers":[{"tags":[],"owner":{"account_id":11793975,"reputation":129,"user_id":13828462,"display_name":"Lilypad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694668782,"creation_date":1694668782,"answer_id":77101977,"question_id":77101531,"body_markdown":"I think this may be because of [section 6.3.1][1] of the JLS, which says that\r\n\r\n&gt; Only certain kinds of boolean expressions are involved in introducing pattern variables and determining where those variables are definitely matched. If an expression is not a conditional-and expression, conditional-or expression, logical complement expression, conditional expression, instanceof expression, switch expression, or parenthesized expression, then no scope rules apply. \r\n\r\nSince the boolean logical operator `&amp;` is not listed, the expression `n instanceof Integer i &amp; true` does not introduce a pattern variable that can subsequently be seen in the body of the `if` statement, hence the compiler&#39;s error message &quot;cannot find symbol&quot;.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.3.1","title":"Why does pattern matching with instanceof fail to compile when using the boolean logical operator &amp;?","body":"<p>I think this may be because of <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.3.1\" rel=\"nofollow noreferrer\">section 6.3.1</a> of the JLS, which says that</p>\n<blockquote>\n<p>Only certain kinds of boolean expressions are involved in introducing pattern variables and determining where those variables are definitely matched. If an expression is not a conditional-and expression, conditional-or expression, logical complement expression, conditional expression, instanceof expression, switch expression, or parenthesized expression, then no scope rules apply.</p>\n</blockquote>\n<p>Since the boolean logical operator <code>&amp;</code> is not listed, the expression <code>n instanceof Integer i &amp; true</code> does not introduce a pattern variable that can subsequently be seen in the body of the <code>if</code> statement, hence the compiler's error message &quot;cannot find symbol&quot;.</p>\n"}],"owner":{"account_id":11793975,"reputation":129,"user_id":13828462,"display_name":"Lilypad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77101977,"answer_count":1,"score":0,"last_activity_date":1694668782,"creation_date":1694660520,"question_id":77101531,"body_markdown":"When using instanceof as a pattern match operator in an if-statement, the code fails to compile if we use the boolean logical operator &amp;, but succeeds if using &amp;&amp;.\r\n\r\n\r\nThis DOES compile:\r\n\r\n```\r\nNumber n = Integer.valueOf(9);\r\nif (n instanceof Integer i) {\r\n    i = 3;\r\n}\r\n```\r\nThis DOES NOT compile:\r\n```\r\nNumber n = Integer.valueOf(9);\r\nif (n instanceof Integer i &amp; true) {\r\n    i = 3;\r\n}\r\n// Hello.java:6: error: cannot find symbol\r\n//             i = 3;\r\n//             ^\r\n//   symbol:   variable i\r\n//   location: class Hello\r\n// 1 error\r\n```\r\nThis DOES compile:\r\n```\r\nNumber n = Integer.valueOf(9);\r\nif (n instanceof Integer i &amp;&amp; true) {\r\n    i = 3;\r\n}\r\n```\r\nCan anyone explain why the second code snippet does not compile?","title":"Why does pattern matching with instanceof fail to compile when using the boolean logical operator &amp;?","body":"<p>When using instanceof as a pattern match operator in an if-statement, the code fails to compile if we use the boolean logical operator &amp;, but succeeds if using &amp;&amp;.</p>\n<p>This DOES compile:</p>\n<pre><code>Number n = Integer.valueOf(9);\nif (n instanceof Integer i) {\n    i = 3;\n}\n</code></pre>\n<p>This DOES NOT compile:</p>\n<pre><code>Number n = Integer.valueOf(9);\nif (n instanceof Integer i &amp; true) {\n    i = 3;\n}\n// Hello.java:6: error: cannot find symbol\n//             i = 3;\n//             ^\n//   symbol:   variable i\n//   location: class Hello\n// 1 error\n</code></pre>\n<p>This DOES compile:</p>\n<pre><code>Number n = Integer.valueOf(9);\nif (n instanceof Integer i &amp;&amp; true) {\n    i = 3;\n}\n</code></pre>\n<p>Can anyone explain why the second code snippet does not compile?</p>\n"},{"tags":["python","java","angular","nginx","openshift"],"owner":{"account_id":3115647,"reputation":705,"user_id":2636464,"accept_rate":67,"display_name":"user2636464"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694668222,"creation_date":1694668222,"question_id":77101939,"body_markdown":"I have my froent end in angular which calls different apis (python and java) for getting data. It renders content via ngnix.  All are running in seprate pods in openshift.Frontend route is protected via sso which is fine. But, backend api routes  are also protected which is creating problems accessing via ui resulting in 302 errors. What is the best way to fix this? I want my ui to seemlessly access the backend apis and display it on browser?","title":"UI and api access authentication issue in openshift","body":"<p>I have my froent end in angular which calls different apis (python and java) for getting data. It renders content via ngnix.  All are running in seprate pods in openshift.Frontend route is protected via sso which is fine. But, backend api routes  are also protected which is creating problems accessing via ui resulting in 302 errors. What is the best way to fix this? I want my ui to seemlessly access the backend apis and display it on browser?</p>\n"},{"tags":["java","ssl","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694667689,"creation_date":1694667689,"answer_id":77101896,"question_id":77099747,"body_markdown":"The names of the properties you are using are incorrect. Check [this][1] for the correct ones.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/all-config#quarkus-vertx-http_quarkus-vertx-http-eclipse-vert.x-http","title":"Quarkus SSL Unrecognized configuration key","body":"<p>The names of the properties you are using are incorrect. Check <a href=\"https://quarkus.io/guides/all-config#quarkus-vertx-http_quarkus-vertx-http-eclipse-vert.x-http\" rel=\"nofollow noreferrer\">this</a> for the correct ones.</p>\n"}],"owner":{"account_id":16037434,"reputation":59,"user_id":11574742,"display_name":"Gergő Szab&#243;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77101896,"answer_count":1,"score":0,"last_activity_date":1694667689,"creation_date":1694630713,"question_id":77099747,"body_markdown":"i have a Quarkus project, with SSL enabled, and it can&#39;t even start the application.\r\n\r\n```\r\nUnrecognized configuration key &quot;quarkus.http.ssl.certificate.key-store-type&quot; was provided; it will be ignored; verify that the dependency extension for this configuration is set or that you did not make a t...\r\nUnrecognized configuration key &quot;quarkus.http.ssl.port&quot; was provided; it will be ignored; verify that the dependency extension for this configuration is set or that you did not make a typo\r\nUnrecognized configuration key &quot;quarkus.http.ssl.certificate.key-password&quot; was provided; it will be ignored; verify that the dependency extension for this configuration is set or that you did not make a typo\r\nUnrecognized configuration key &quot;quarkus.http.ssl&quot; was provided; it will be ignored; verify that the dependency extension for this configuration is set or that you did not make a typo\r\n```\r\nI&#39;m using JDK17\r\n\r\nI have configured application.properties like this:\r\n```\r\nquarkus.http.ssl=true\r\nquarkus.http.ssl.port=3000\r\nquarkus.http.ssl.certificate.key-store-file=/etc/letsencrypt/live/verseny.iranyazur.hu/keystore.p12\r\nquarkus.http.ssl.certificate.key-password=password\r\nquarkus.http.ssl.certificate.key-store-type=PKCS12\r\n```\r\nI also have ssl in pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-ssl&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-undertow&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n```\r\nThe keystore file is valid:\r\n```\r\nKeystore type: PKCS12\r\nKeystore provider: SUN\r\nYour keystore contains 1 entry\r\n1, 13 Sept 2023, PrivateKeyEntry,\r\nCertificate fingerprint (SHA-256): 73:21:26:CE:DA:D2:C9:06:B3:8B:09:8E:37:0F:A9:0B:BF:C2:6A:42:A3:2A:78:94:0C:8C:13:EA:28:95:A1:81\r\n```\r\nThe keystore is also chmod 777-ed\r\n\r\nI&#39;d greatly appreciate any ideas and help on what could be wrong.","title":"Quarkus SSL Unrecognized configuration key","body":"<p>i have a Quarkus project, with SSL enabled, and it can't even start the application.</p>\n<pre><code>Unrecognized configuration key &quot;quarkus.http.ssl.certificate.key-store-type&quot; was provided; it will be ignored; verify that the dependency extension for this configuration is set or that you did not make a t...\nUnrecognized configuration key &quot;quarkus.http.ssl.port&quot; was provided; it will be ignored; verify that the dependency extension for this configuration is set or that you did not make a typo\nUnrecognized configuration key &quot;quarkus.http.ssl.certificate.key-password&quot; was provided; it will be ignored; verify that the dependency extension for this configuration is set or that you did not make a typo\nUnrecognized configuration key &quot;quarkus.http.ssl&quot; was provided; it will be ignored; verify that the dependency extension for this configuration is set or that you did not make a typo\n</code></pre>\n<p>I'm using JDK17</p>\n<p>I have configured application.properties like this:</p>\n<pre><code>quarkus.http.ssl=true\nquarkus.http.ssl.port=3000\nquarkus.http.ssl.certificate.key-store-file=/etc/letsencrypt/live/verseny.iranyazur.hu/keystore.p12\nquarkus.http.ssl.certificate.key-password=password\nquarkus.http.ssl.certificate.key-store-type=PKCS12\n</code></pre>\n<p>I also have ssl in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-ssl&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-undertow&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>The keystore file is valid:</p>\n<pre><code>Keystore type: PKCS12\nKeystore provider: SUN\nYour keystore contains 1 entry\n1, 13 Sept 2023, PrivateKeyEntry,\nCertificate fingerprint (SHA-256): 73:21:26:CE:DA:D2:C9:06:B3:8B:09:8E:37:0F:A9:0B:BF:C2:6A:42:A3:2A:78:94:0C:8C:13:EA:28:95:A1:81\n</code></pre>\n<p>The keystore is also chmod 777-ed</p>\n<p>I'd greatly appreciate any ideas and help on what could be wrong.</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":28896617,"reputation":1,"user_id":22132475,"display_name":"Sasiri Jambugaswaththa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694666906,"creation_date":1694666906,"question_id":77101848,"body_markdown":"```\r\nwhile (true) {\r\n                try {\r\n                    pressed = pressed.equals(next) ? previous : next;\r\n                    new WebDriverWait(driver,Duration.ofMillis(300)).until(ExpectedConditions.elementToBeClickable(pressed)).click();\r\n                    Thread.sleep(400);\r\n                    driver.findElement(By.xpath(&quot;//td[@id=&#39;www5&#39;]&quot;)).click();\r\n                    break;\r\n\r\n                } catch (StaleElementReferenceException | ElementClickInterceptedException | TimeoutException |\r\n                         NoSuchElementException | UnhandledAlertException | InterruptedException e) {\r\n                    new Actions(driver).sendKeys(Keys.ENTER);\r\n                    //System.out.println(&quot;Exception occurred!&quot;);\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n```\r\nAfter enabling this www5 button at specific time it won&#39;t click and break the loop.\r\nWhen executing the code I can clearly see this button clicks(It changes the color).\r\nHelp me to find a solution. Thanks \r\n\r\nI added thead.sleep to slow down the process and give time to click.","title":"This dynamic button is opens at specific time. But it won&#39;t click and break the loop","body":"<pre><code>while (true) {\n                try {\n                    pressed = pressed.equals(next) ? previous : next;\n                    new WebDriverWait(driver,Duration.ofMillis(300)).until(ExpectedConditions.elementToBeClickable(pressed)).click();\n                    Thread.sleep(400);\n                    driver.findElement(By.xpath(&quot;//td[@id='www5']&quot;)).click();\n                    break;\n\n                } catch (StaleElementReferenceException | ElementClickInterceptedException | TimeoutException |\n                         NoSuchElementException | UnhandledAlertException | InterruptedException e) {\n                    new Actions(driver).sendKeys(Keys.ENTER);\n                    //System.out.println(&quot;Exception occurred!&quot;);\n                    e.printStackTrace();\n                }\n            }\n</code></pre>\n<p>After enabling this www5 button at specific time it won't click and break the loop.\nWhen executing the code I can clearly see this button clicks(It changes the color).\nHelp me to find a solution. Thanks</p>\n<p>I added thead.sleep to slow down the process and give time to click.</p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"score":0,"creation_date":1694666330,"post_id":77101812,"comment_id":135921849,"body_markdown":"Have you tried`String pathToFile = PositiveTest.class.getClassLoader().getResource(&quot;download.jpeg&quot;).getPath();`","body":"Have you tried<code>String pathToFile = PositiveTest.class.getClassLoader().getResource(&quot;download.jp&zwnj;&#8203;eg&quot;).getPath();</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694677995,"post_id":77101812,"comment_id":135923361,"body_markdown":"Try `String pathToFile = PositiveTest.class.getResource(&quot;/resources/download.jpeg&quot;).getPath();`","body":"Try <code>String pathToFile = PositiveTest.class.getResource(&quot;&#47;resources&#47;download.jpeg&quot;).g&zwnj;&#8203;etPath();</code>"},{"owner":{"account_id":29433931,"reputation":1,"user_id":22553113,"display_name":"Анастасия Попкова"},"score":0,"creation_date":1694683623,"post_id":77101812,"comment_id":135924457,"body_markdown":"@sweintritt With this code I have error: org.openqa.selenium.ElementNotInteractableException: element not interactable","body":"@sweintritt With this code I have error: org.openqa.selenium.ElementNotInteractableException: element not interactable"},{"owner":{"account_id":29433931,"reputation":1,"user_id":22553113,"display_name":"Анастасия Попкова"},"score":0,"creation_date":1694683744,"post_id":77101812,"comment_id":135924487,"body_markdown":"@g00se With this code I have error:   java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getPath()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null","body":"@g00se With this code I have error:   java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getPath()&quot; because the return value of &quot;java.lang.Class.getResource(String)&quot; is null"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694684574,"post_id":77101812,"comment_id":135924693,"body_markdown":"OK. In that case, @sweintritt has the right path","body":"OK. In that case, @sweintritt has the right path"},{"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"score":0,"creation_date":1694688339,"post_id":77101812,"comment_id":135925512,"body_markdown":"The `ElementNotInteractableException` is not related to the resource. This must be coming from `fileUploadElement.sendKeys(...)`. See if this fixes your problem: https://stackoverflow.com/questions/49864965/org-openqa-selenium-elementnotinteractableexception-element-is-not-reachable-by","body":"The <code>ElementNotInteractableException</code> is not related to the resource. This must be coming from <code>fileUploadElement.sendKeys(...)</code>. See if this fixes your problem: <a href=\"https://stackoverflow.com/questions/49864965/org-openqa-selenium-elementnotinteractableexception-element-is-not-reachable-by\" title=\"org openqa selenium elementnotinteractableexception element is not reachable by\">stackoverflow.com/questions/49864965/&hellip;</a>"},{"owner":{"account_id":29433931,"reputation":1,"user_id":22553113,"display_name":"Анастасия Попкова"},"score":0,"creation_date":1694705179,"post_id":77101812,"comment_id":135929428,"body_markdown":"@sweintritt When I add code: new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.id(&quot;libraryAddAttachment&quot;))).click(); instead of WebElement fileUploadElement = waitService.waitForExists(By.id(&quot;libraryAttachmentsAddItem&quot;));  I have red color  on the 20","body":"@sweintritt When I add code: new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.id(&quot;lib&zwnj;&#8203;raryAddAttachment&quot;))&zwnj;&#8203;).click(); instead of WebElement fileUploadElement = waitService.waitForExists(By.id(&quot;libraryAttachmentsAddItem&quot;)&zwnj;&#8203;);  I have red color  on the 20"},{"owner":{"account_id":29433931,"reputation":1,"user_id":22553113,"display_name":"Анастасия Попкова"},"score":0,"creation_date":1694707316,"post_id":77101812,"comment_id":135929912,"body_markdown":"And I have error on the &#39;sendKeys&#39;","body":"And I have error on the &#39;sendKeys&#39;"},{"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"score":0,"creation_date":1694753434,"post_id":77101812,"comment_id":135935316,"body_markdown":"But your original problem ist solved. I suggest you open a new question for this problem, with more detailed information about your project. Preferably a minimal example which creates the error.","body":"But your original problem ist solved. I suggest you open a new question for this problem, with more detailed information about your project. Preferably a minimal example which creates the error."}],"owner":{"account_id":29433931,"reputation":1,"user_id":22553113,"display_name":"Анастасия Попкова"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694666089,"creation_date":1694666089,"question_id":77101812,"body_markdown":"I have task writing auto test, when i should upload file from resources. And when I run code:\r\n\r\n```\r\n WaitService waitService = new WaitService(driver);\r\n        AddTestRunPage addTestRunPage = new AddTestRunPage(driver);\r\n        WebElement fileUploadElement = waitService.waitForExists(By.id(&quot;libraryAttachmentsAddItem&quot;));\r\n        String pathToFile = PositiveTest.class.getClassLoader().getResource(&quot;resources/download.jpeg&quot;).getPath();\r\n        fileUploadElement.sendKeys(pathToFile.substring(1,pathToFile.length()));\r\n        addTestRunPage.getButtonSubmit().click();\r\n        Assert.assertEquals(&quot;download.jpeg&quot;,addTestRunPage.getLabelUploaded().getText());\r\n```\r\nI have error: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getPath()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\r\nHelp, please. How I can resolve it?\r\n\r\n\r\nI also tried absolute path, but i have the same error","title":"Java: Cannot invoke &quot;java.net.URL.getPath() when loading image-url from resources","body":"<p>I have task writing auto test, when i should upload file from resources. And when I run code:</p>\n<pre><code> WaitService waitService = new WaitService(driver);\n        AddTestRunPage addTestRunPage = new AddTestRunPage(driver);\n        WebElement fileUploadElement = waitService.waitForExists(By.id(&quot;libraryAttachmentsAddItem&quot;));\n        String pathToFile = PositiveTest.class.getClassLoader().getResource(&quot;resources/download.jpeg&quot;).getPath();\n        fileUploadElement.sendKeys(pathToFile.substring(1,pathToFile.length()));\n        addTestRunPage.getButtonSubmit().click();\n        Assert.assertEquals(&quot;download.jpeg&quot;,addTestRunPage.getLabelUploaded().getText());\n</code></pre>\n<p>I have error: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getPath()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null</p>\n<p>Help, please. How I can resolve it?</p>\n<p>I also tried absolute path, but i have the same error</p>\n"},{"tags":["java","user-interface","netbeans"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1694668119,"post_id":77101806,"comment_id":135921981,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."},{"owner":{"account_id":5780167,"reputation":724,"user_id":4561071,"display_name":"Kieran Foot"},"score":0,"creation_date":1694698805,"post_id":77101806,"comment_id":135927871,"body_markdown":"As stated, please do not post images of text. It is far more useful to add a code block into your question containing your code so viewers might copy/paste your code for testing and/or amendments when providing you an answer.","body":"As stated, please do not post images of text. It is far more useful to add a code block into your question containing your code so viewers might copy/paste your code for testing and/or amendments when providing you an answer."}],"owner":{"account_id":29334364,"reputation":1,"user_id":22475069,"display_name":"Thomas Humphreys"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694665967,"creation_date":1694665967,"question_id":77101806,"body_markdown":"Im coding in java, and am a beginer, i have a code where there will be a message system, however I have the GUI in a different class, I have files: mainFrame which has all the GUI elements and is the main part of the code which initialises the different files. Server2 and Client2 which are the communication system that i got online, from this tutuorial: https://www.geeksforgeeks.org/establishing-the-two-way-communication-between-server-and-client-in-java/\r\nI want to be able to display the messages sent into a GUI box, however I am unsure of how to even call the classes and get them to connect to the mainframe, and after that I would like to know how to display the messages.\r\n\r\n[[[enter image description here](https://i.stack.imgur.com/7k7wt.png)](https://i.stack.imgur.com/YShnP.png)](https://i.stack.imgur.com/XRS8M.png)\r\nthose are the images of the code i have to initialise the entered programming,  in the image of the change page I want to have it so it will initialise communication when it is updated, and then i want to have it displayed in the text box present in the other image. However i currently only have it texting from the command window and also that it is not linked to the mainframe at all.\r\n\r\nI am new to Stack Overflow and Java so sorry if my request makes no sence or is basic.","title":"How to get a message system to connect with my GUI","body":"<p>Im coding in java, and am a beginer, i have a code where there will be a message system, however I have the GUI in a different class, I have files: mainFrame which has all the GUI elements and is the main part of the code which initialises the different files. Server2 and Client2 which are the communication system that i got online, from this tutuorial: <a href=\"https://www.geeksforgeeks.org/establishing-the-two-way-communication-between-server-and-client-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/establishing-the-two-way-communication-between-server-and-client-in-java/</a>\nI want to be able to display the messages sent into a GUI box, however I am unsure of how to even call the classes and get them to connect to the mainframe, and after that I would like to know how to display the messages.</p>\n<p>[[<a href=\"https://i.stack.imgur.com/7k7wt.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/YShnP.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/YShnP.png</a>)](<a href=\"https://i.stack.imgur.com/XRS8M.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/XRS8M.png</a>)\nthose are the images of the code i have to initialise the entered programming,  in the image of the change page I want to have it so it will initialise communication when it is updated, and then i want to have it displayed in the text box present in the other image. However i currently only have it texting from the command window and also that it is not linked to the mainframe at all.</p>\n<p>I am new to Stack Overflow and Java so sorry if my request makes no sence or is basic.</p>\n"},{"tags":["java","visual-studio-code"],"owner":{"account_id":29436061,"reputation":11,"user_id":22554894,"display_name":"Soham Deshpande"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694648988,"answer_count":0,"score":0,"last_activity_date":1694665599,"creation_date":1694648377,"question_id":77101040,"body_markdown":"I opened my computer in class today to work on some code and all of a sudden I got errors on every Java file I have. Just making new Java files it builds then gives me an error for some reason. This is strange cause just the other night I was working on it just fine. \r\n\r\n![The screenshot](https://i.stack.imgur.com/uqwgo.jpg)\r\n\r\nI&#39;ve tried to restart my laptop, restart VS code, clean the workspace and language server, make a new folder but nothing is working.","title":"&#39;Implicit super constructor Object()&#39; error and &#39;java.lang.Object can&#39;t be resolved&#39; error when opening Java files","body":"<p>I opened my computer in class today to work on some code and all of a sudden I got errors on every Java file I have. Just making new Java files it builds then gives me an error for some reason. This is strange cause just the other night I was working on it just fine.</p>\n<p><img src=\"https://i.stack.imgur.com/uqwgo.jpg\" alt=\"The screenshot\" /></p>\n<p>I've tried to restart my laptop, restart VS code, clean the workspace and language server, make a new folder but nothing is working.</p>\n"},{"tags":["java","java-8","classloader","java-17","dynamic-class-loaders"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1694627712,"post_id":77099341,"comment_id":135917468,"body_markdown":"That&#39;s not a stacktrace, it is just the exception and message. Please add the stacktrace. You should provide [complete error message](https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough). In which line/s of the code you are sharing is the error happening?","body":"That&#39;s not a stacktrace, it is just the exception and message. Please add the stacktrace. You should provide <a href=\"https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough\">complete error message</a>. In which line/s of the code you are sharing is the error happening?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1694627910,"post_id":77099341,"comment_id":135917508,"body_markdown":"What&#39;s wrong with the solutions on https://stackoverflow.com/questions/46694600/java-9-compatability-issue-with-classloader-getsystemclassloader? What didn&#39;t work for your use case in each case?","body":"What&#39;s wrong with the solutions on <a href=\"https://stackoverflow.com/questions/46694600/java-9-compatability-issue-with-classloader-getsystemclassloader\" title=\"java 9 compatability issue with classloader getsystemclassloader\">stackoverflow.com/questions/46694600/&hellip;</a>? What didn&#39;t work for your use case in each case?"},{"owner":{"account_id":1763375,"reputation":581,"user_id":1609846,"accept_rate":36,"display_name":"SudeepShakya"},"score":0,"creation_date":1694665267,"post_id":77099341,"comment_id":135921764,"body_markdown":"@aled, thanks for feedback `URLClassLoader sysLoader = (URLClassLoader) ClassLoader.getSystemClassLoader();` exception occurs. And the stacktrace is generic.","body":"@aled, thanks for feedback <code>URLClassLoader sysLoader = (URLClassLoader) ClassLoader.getSystemClassLoader();</code> exception occurs. And the stacktrace is generic."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694683817,"post_id":77099341,"comment_id":135924509,"body_markdown":"You should read the *solutions* provided in aled’s link, not just the question.","body":"You should read the <i>solutions</i> provided in aled’s link, not just the question."},{"owner":{"account_id":1763375,"reputation":581,"user_id":1609846,"accept_rate":36,"display_name":"SudeepShakya"},"score":0,"creation_date":1694686183,"post_id":77099341,"comment_id":135925052,"body_markdown":"@Holger, I read the solutions and tried to implement using @aled&#39;s link. It gave this exception message : `Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @17f052a3;`","body":"@Holger, I read the solutions and tried to implement using @aled&#39;s link. It gave this exception message : <code>Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @17f052a3;</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694779382,"post_id":77099341,"comment_id":135939500,"body_markdown":"Again, you have tried to use the code contained in the linked *question*, which has been said to be incompatible with Java&#160;9 and beyond. That’s what the linked question was about. You should read the *answers* and by “read” I truly mean *read*, instead of mindlessly copying whatever code you find.","body":"Again, you have tried to use the code contained in the linked <i>question</i>, which has been said to be incompatible with Java 9 and beyond. That’s what the linked question was about. You should read the <i>answers</i> and by “read” I truly mean <i>read</i>, instead of mindlessly copying whatever code you find."}],"owner":{"account_id":1763375,"reputation":581,"user_id":1609846,"accept_rate":36,"display_name":"SudeepShakya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694665328,"creation_date":1694626540,"question_id":77099341,"body_markdown":"I have classsloading code which is working fine in Java 8(it&#39;s a bit old code). Now we are trying to migrate from Java 8 to Java 17. While migrating to Java 17, we got an error which loads JARs at runtime. The message of the exception is :\r\n\r\n    java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nSo I found from documentation that :\r\n\r\n&gt; New Class Loader Implementations JDK 9 and later releases maintain the\r\n&gt; hierarchy of class loaders that existed since the 1.2 release.\r\n&gt; However, the following changes have been made to implement the module\r\n&gt; system:\r\n&gt; \r\n&gt; The application class loader is no longer an instance of\r\n&gt; URLClassLoader but, rather, of an internal class. It is the default\r\n&gt; loader for classes in modules that are neither Java SE nor JDK\r\n&gt; modules.\r\n&gt; \r\n&gt; The extension class loader has been renamed; it is now the platform\r\n&gt; class loader. All classes in the Java SE Platform are guaranteed to be\r\n&gt; visible through the platform class loader.\r\n&gt; \r\n&gt; Just because a class is visible through the platform class loader does\r\n&gt; not mean the class is actually defined by the platform class loader.\r\n&gt; Some classes in the Java SE Platform are defined by the platform class\r\n&gt; loader while others are defined by the bootstrap class loader.\r\n&gt; Applications should not depend on which class loader defines which\r\n&gt; platform class.\r\n&gt; \r\n&gt; The changes that were implemented in JDK 9 may impact code that\r\n&gt; creates class loaders with null (that is, the bootstrap class loader)\r\n&gt; as the parent class loader and assumes that all platform classes are\r\n&gt; visible to the parent. Such code may need to be changed to use the\r\n&gt; platform class loader as the parent (see\r\n&gt; ClassLoader.getPlatformClassLoader).\r\n&gt; \r\n&gt; The platform class loader is not an instance of URLClassLoader, but,\r\n&gt; rather, of an internal class.\r\n&gt; \r\n&gt; The bootstrap class loader is still built-in to the Java Virtual\r\n&gt; Machine and represented by null in the ClassLoader API. It defines the\r\n&gt; classes in a handful of critical modules, such as java.base. As a\r\n&gt; result, it defines far fewer classes than in JDK 8, so applications\r\n&gt; that are deployed with -Xbootclasspath/a or that create class loaders\r\n&gt; with null as the parent may need to change as described previously.\r\n\r\nWent through different articles like https://cgjennings.ca/articles/java-9-dynamic-jar-loading/, https://stackoverflow.com/questions/46694600/java-9-compatability-issue-with-classloader-getsystemclassloader and other examples but couldn&#39;t find exact solution.\r\n\r\nMy existing code in Java 8 for loading JARs at runtime is :\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.lang.invoke.MethodHandles;\r\n    import java.lang.reflect.Method;\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    import com.immunesecurity.shared.lib.Log;\r\n    import com.immunesecurity.shared.lib.LogDetail;\r\n    import org.apache.commons.lang3.exception.ExceptionUtils;\r\n    \r\n    public class ClasspathUtils {\r\n    \r\n    \t// Parameters\r\n    \tprivate static final Class[] parameters = new Class[] { URL.class };\r\n    \r\n    \t/**\r\n    \t * Adds the jars in the given directory to classpath\r\n    \t * \r\n    \t * @param directory\r\n    \t * @throws IOException\r\n    \t */\r\n    \tpublic static void addDirToClasspath(File directory) throws IOException {\r\n    \t\tif (directory.exists()) {\r\n    \t\t\tFile[] files = directory.listFiles();\r\n    \t\t\tfor (int i = 0; i &lt; files.length; i++) {\r\n    \t\t\t\tFile file = files[i];\r\n    \t\t\t\taddURL(file.toURI().toURL());\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tLog.warn.log(new LogDetail().toBuilder().fileName(MethodHandles.lookup().lookupClass().getName())\r\n    \t\t\t\t\t.methodName(Thread.currentThread().getStackTrace()[1].getMethodName())\r\n    \t\t\t\t\t.lineNumber(Thread.currentThread().getStackTrace()[1].getLineNumber())\r\n    \t\t\t\t\t.threadName(Thread.currentThread().getName())\r\n    \t\t\t\t\t.message(&quot;The directory \\&quot;&quot; + directory + &quot;\\&quot; does not exist!&quot;).build().buildLog());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Add URL to CLASSPATH\r\n    \t * \r\n    \t * @param u\r\n    \t *            URL\r\n    \t * @throws IOException\r\n    \t *             IOException\r\n    \t */\r\n    \tpublic static void addURL(URL u) throws IOException {\r\n    \r\n    \t\tURLClassLoader sysLoader = (URLClassLoader) ClassLoader\r\n    \t\t\t\t.getSystemClassLoader();\r\n    \t\tURL urls[] = sysLoader.getURLs();\r\n    \t\tfor (int i = 0; i &lt; urls.length; i++) {\r\n    \t\t\tif (urls[i].toString().equalsIgnoreCase(u.toString())) {\r\n    \t\t\t\tLog.info.log(new LogDetail().toBuilder().fileName(MethodHandles.lookup().lookupClass().getName())\r\n    \t\t\t\t\t\t.message(&quot;URL &quot; + u + &quot; is already in the CLASSPATH&quot;).build().buildLog());\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tClass sysclass = URLClassLoader.class;\r\n    \t\ttry {\r\n    \t\t\tMethod method = sysclass.getDeclaredMethod(&quot;addURL&quot;, parameters);\r\n    \t\t\tmethod.setAccessible(true);\r\n    \t\t\tmethod.invoke(sysLoader, new Object[] { u });\r\n    \t\t} catch (Throwable t) {\r\n    \t\t\tthrow new IOException(\r\n    \t\t\t\t\t&quot;Error, could not add URL to system classloader&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWe use `addDirToClasspath` method which calls method `addURL` from the given directory to load all the JARs.\r\n\r\nI need suggestions on how to make it work on Java 17 or re-write the classloading logic to be compatible with Java 17.","title":"Dynamically load jars using classloader in Java 17(migrating from Java 8 to Java 17)","body":"<p>I have classsloading code which is working fine in Java 8(it's a bit old code). Now we are trying to migrate from Java 8 to Java 17. While migrating to Java 17, we got an error which loads JARs at runtime. The message of the exception is :</p>\n<pre><code>java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>So I found from documentation that :</p>\n<blockquote>\n<p>New Class Loader Implementations JDK 9 and later releases maintain the\nhierarchy of class loaders that existed since the 1.2 release.\nHowever, the following changes have been made to implement the module\nsystem:</p>\n<p>The application class loader is no longer an instance of\nURLClassLoader but, rather, of an internal class. It is the default\nloader for classes in modules that are neither Java SE nor JDK\nmodules.</p>\n<p>The extension class loader has been renamed; it is now the platform\nclass loader. All classes in the Java SE Platform are guaranteed to be\nvisible through the platform class loader.</p>\n<p>Just because a class is visible through the platform class loader does\nnot mean the class is actually defined by the platform class loader.\nSome classes in the Java SE Platform are defined by the platform class\nloader while others are defined by the bootstrap class loader.\nApplications should not depend on which class loader defines which\nplatform class.</p>\n<p>The changes that were implemented in JDK 9 may impact code that\ncreates class loaders with null (that is, the bootstrap class loader)\nas the parent class loader and assumes that all platform classes are\nvisible to the parent. Such code may need to be changed to use the\nplatform class loader as the parent (see\nClassLoader.getPlatformClassLoader).</p>\n<p>The platform class loader is not an instance of URLClassLoader, but,\nrather, of an internal class.</p>\n<p>The bootstrap class loader is still built-in to the Java Virtual\nMachine and represented by null in the ClassLoader API. It defines the\nclasses in a handful of critical modules, such as java.base. As a\nresult, it defines far fewer classes than in JDK 8, so applications\nthat are deployed with -Xbootclasspath/a or that create class loaders\nwith null as the parent may need to change as described previously.</p>\n</blockquote>\n<p>Went through different articles like <a href=\"https://cgjennings.ca/articles/java-9-dynamic-jar-loading/\" rel=\"nofollow noreferrer\">https://cgjennings.ca/articles/java-9-dynamic-jar-loading/</a>, <a href=\"https://stackoverflow.com/questions/46694600/java-9-compatability-issue-with-classloader-getsystemclassloader\">Java 9, compatability issue with ClassLoader.getSystemClassLoader</a> and other examples but couldn't find exact solution.</p>\n<p>My existing code in Java 8 for loading JARs at runtime is :</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.reflect.Method;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport com.immunesecurity.shared.lib.Log;\nimport com.immunesecurity.shared.lib.LogDetail;\nimport org.apache.commons.lang3.exception.ExceptionUtils;\n\npublic class ClasspathUtils {\n\n    // Parameters\n    private static final Class[] parameters = new Class[] { URL.class };\n\n    /**\n     * Adds the jars in the given directory to classpath\n     * \n     * @param directory\n     * @throws IOException\n     */\n    public static void addDirToClasspath(File directory) throws IOException {\n        if (directory.exists()) {\n            File[] files = directory.listFiles();\n            for (int i = 0; i &lt; files.length; i++) {\n                File file = files[i];\n                addURL(file.toURI().toURL());\n            }\n        } else {\n            Log.warn.log(new LogDetail().toBuilder().fileName(MethodHandles.lookup().lookupClass().getName())\n                    .methodName(Thread.currentThread().getStackTrace()[1].getMethodName())\n                    .lineNumber(Thread.currentThread().getStackTrace()[1].getLineNumber())\n                    .threadName(Thread.currentThread().getName())\n                    .message(&quot;The directory \\&quot;&quot; + directory + &quot;\\&quot; does not exist!&quot;).build().buildLog());\n        }\n    }\n\n    /**\n     * Add URL to CLASSPATH\n     * \n     * @param u\n     *            URL\n     * @throws IOException\n     *             IOException\n     */\n    public static void addURL(URL u) throws IOException {\n\n        URLClassLoader sysLoader = (URLClassLoader) ClassLoader\n                .getSystemClassLoader();\n        URL urls[] = sysLoader.getURLs();\n        for (int i = 0; i &lt; urls.length; i++) {\n            if (urls[i].toString().equalsIgnoreCase(u.toString())) {\n                Log.info.log(new LogDetail().toBuilder().fileName(MethodHandles.lookup().lookupClass().getName())\n                        .message(&quot;URL &quot; + u + &quot; is already in the CLASSPATH&quot;).build().buildLog());\n                return;\n            }\n        }\n        Class sysclass = URLClassLoader.class;\n        try {\n            Method method = sysclass.getDeclaredMethod(&quot;addURL&quot;, parameters);\n            method.setAccessible(true);\n            method.invoke(sysLoader, new Object[] { u });\n        } catch (Throwable t) {\n            throw new IOException(\n                    &quot;Error, could not add URL to system classloader&quot;);\n        }\n    }\n}\n</code></pre>\n<p>We use <code>addDirToClasspath</code> method which calls method <code>addURL</code> from the given directory to load all the JARs.</p>\n<p>I need suggestions on how to make it work on Java 17 or re-write the classloading logic to be compatible with Java 17.</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":18895932,"reputation":3508,"user_id":13785121,"display_name":"Abhinaba Chakraborty"},"score":1,"creation_date":1594641132,"post_id":62875244,"comment_id":111186460,"body_markdown":"What is your error stack trace? Please add that in your qstn","body":"What is your error stack trace? Please add that in your qstn"}],"answers":[{"tags":[],"owner":{"account_id":3883469,"reputation":718,"user_id":3215437,"display_name":"Demobilizer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1594641605,"creation_date":1594641605,"answer_id":62875398,"question_id":62875244,"body_markdown":"Try following change in applications.properties file:\r\n\r\nReplace\r\n\r\n     spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nwith\r\n\r\n    spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver","title":"Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl","body":"<p>Try following change in applications.properties file:</p>\n<p>Replace</p>\n<pre><code> spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>with</p>\n<pre><code>spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19067568,"reputation":61,"user_id":13922399,"display_name":"mujx"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1687627306,"creation_date":1594641819,"answer_id":62875453,"question_id":62875244,"body_markdown":"Your config `spring.datasource.url` should not use double quotes (`&quot;`)\r\n\r\ninstead of:\r\n\r\n    spring.datasource.url = &quot;jdbc:mysql://localhost:3306/Medical_Tracking?useSSL=false&quot;\r\n\r\nuse:\r\n \r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/Medical_Tracking?useSSL=false","title":"Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl","body":"<p>Your config <code>spring.datasource.url</code> should not use double quotes (<code>&quot;</code>)</p>\n<p>instead of:</p>\n<pre><code>spring.datasource.url = &quot;jdbc:mysql://localhost:3306/Medical_Tracking?useSSL=false&quot;\n</code></pre>\n<p>use:</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/Medical_Tracking?useSSL=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1646830,"reputation":5363,"user_id":1518273,"accept_rate":50,"display_name":"Napolean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694664751,"creation_date":1694664751,"answer_id":77101750,"question_id":62875244,"body_markdown":"You may also get this error in case you are using wrong value for any of the datasource setting. \r\n\r\nI was using driver class name in place of url \r\n\r\n\t@Bean\r\n\t@BatchDataSource\r\n\tpublic DataSource batchDataSource() {\r\n\t\treturn DataSourceBuilder.create().url(batchDbDriver)\r\n\t\t\t\t.driverClassName(batchDbDriver).username(batchDbUsername)\r\n\t\t\t\t.password(batchDbPassword)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\r\n\r\n    @Bean\r\n\t@BatchDataSource\r\n\tpublic DataSource batchDataSource() {\r\n\t\treturn DataSourceBuilder.create().url(batchDbUrl)\r\n\t\t\t\t.driverClassName(batchDbDriver).username(batchDbUsername)\r\n\t\t\t\t.password(batchDbPassword)\r\n\t\t\t\t.build();\r\n\t}","title":"Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl","body":"<p>You may also get this error in case you are using wrong value for any of the datasource setting.</p>\n<p>I was using driver class name in place of url</p>\n<pre><code>@Bean\n@BatchDataSource\npublic DataSource batchDataSource() {\n    return DataSourceBuilder.create().url(batchDbDriver)\n            .driverClassName(batchDbDriver).username(batchDbUsername)\n            .password(batchDbPassword)\n            .build();\n}\n\n\n\n@Bean\n@BatchDataSource\npublic DataSource batchDataSource() {\n    return DataSourceBuilder.create().url(batchDbUrl)\n            .driverClassName(batchDbDriver).username(batchDbUsername)\n            .password(batchDbPassword)\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":18365574,"reputation":11,"user_id":13376681,"display_name":"Srikar balmuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6891,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694664751,"creation_date":1594641056,"question_id":62875244,"body_markdown":"Unable to figure out what is causing the issue.\r\n\r\n**My application.properties file**\r\n      \r\n\r\n        spring.datasource.url = &quot;jdbc:mysql://localhost:3306/Medical_Tracking?useSSL=false&quot;\r\n        spring.datasource.username=root\r\n        spring.datasource.password=root\r\n        spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n        spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n        spring.jpa.show-sql=true\r\n        spring.jpa.hibernate.ddl-auto=update\r\n        spring.jpa.generate-ddl=true\r\n\r\nQuick help is appreciated\r\n","title":"Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl","body":"<p>Unable to figure out what is causing the issue.</p>\n<p><strong>My application.properties file</strong></p>\n<pre><code>    spring.datasource.url = &quot;jdbc:mysql://localhost:3306/Medical_Tracking?useSSL=false&quot;\n    spring.datasource.username=root\n    spring.datasource.password=root\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n    spring.jpa.show-sql=true\n    spring.jpa.hibernate.ddl-auto=update\n    spring.jpa.generate-ddl=true\n</code></pre>\n<p>Quick help is appreciated</p>\n"},{"tags":["java","android","android-camera2"],"owner":{"account_id":15006523,"reputation":1,"user_id":22555525,"display_name":"Cordilleran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694664367,"creation_date":1694664367,"question_id":77101730,"body_markdown":"I&#39;ve been modifying the Camera2Raw sample code (https://github.com/googlearchive/android-Camera2Raw). I&#39;m attempting to get &quot;raw video&quot; by just taking a series of raw DNG images successively. Preferably, at some defined framerate. (So far, I&#39;ve modified the app to not take JPEGs, and I&#39;ve added a user interface to input manual exposure - no more auto exposure settings.)\r\n\r\nThe way the code handles the &quot;take picture&quot; button is like this:\r\n\r\n```\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n            case R.id.picture: {\r\n\r\n                int i = 0;\r\n                while(i&lt;48){\r\n                    takePicture();\r\n                    i++;\r\n                }\r\n\r\n               //default behavior is to just  take one picture:\r\n               //takePicture();\r\n                break;\r\n            }\r\n```\r\n\r\nAs you can see, I&#39;ve modified it to take 48 &quot;frames&quot; by putting takePicture() in a while loop. And... this does actually kind of work! When I put the frames into my video editor, the result is a roughly 30 fps video. However, there are frequent stutters, and the app doesn&#39;t actually take exactly 48 frames.\r\n\r\nOk, so just calling takePicture() in succession is probably not the best way of doing this. I&#39;m thinking I&#39;m going to want something like a setRepeatingRequest. In takePicture() itself, the final line is\r\n\r\n```\r\nmCaptureSession.capture(mPreviewRequestBuilder.build(), mPreCaptureCallback, mBackgroundHandler);\r\n```\r\n\r\nI&#39;ve replaced the `.capture` with `.setRepeatingRequest`, but the app still behaves the same, and takes only one picture.\r\n\r\nFor what it&#39;s worth, my Pixel 6 Pro reports `[w:4080, h:3072, format:RAW_SENSOR(32), min_duration:33333333, stall:0]` in it&#39;s StreamConfiguration outputs. If I&#39;m interpreting that correctly, it tells us that at least in theory, the device can take raw, 4080 x 3072 images at roughly 30 fps. I&#39;d be happy with even 24 fps - but it needs to be a steady framerate for it to be a usable video.\r\n\r\nTo be clear, my desired output is simply a folder of DNG images, i.e. a cinemaDNG.\r\n\r\nAnd yes, at some point I&#39;m going to want an actual start/stop recording button, not just a &quot;take X frames&quot;  button, this is just a proof of concept for now.\r\n\r\nI guess my question really just boils down to &quot;how do I properly use a setRepeatingRequest,&quot; but I welcome any further commentary and advice regarding raw still/video capture in general.","title":"Most efficient way to rapidly capture raw images with Camera2API","body":"<p>I've been modifying the Camera2Raw sample code (<a href=\"https://github.com/googlearchive/android-Camera2Raw\" rel=\"nofollow noreferrer\">https://github.com/googlearchive/android-Camera2Raw</a>). I'm attempting to get &quot;raw video&quot; by just taking a series of raw DNG images successively. Preferably, at some defined framerate. (So far, I've modified the app to not take JPEGs, and I've added a user interface to input manual exposure - no more auto exposure settings.)</p>\n<p>The way the code handles the &quot;take picture&quot; button is like this:</p>\n<pre><code>    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.picture: {\n\n                int i = 0;\n                while(i&lt;48){\n                    takePicture();\n                    i++;\n                }\n\n               //default behavior is to just  take one picture:\n               //takePicture();\n                break;\n            }\n</code></pre>\n<p>As you can see, I've modified it to take 48 &quot;frames&quot; by putting takePicture() in a while loop. And... this does actually kind of work! When I put the frames into my video editor, the result is a roughly 30 fps video. However, there are frequent stutters, and the app doesn't actually take exactly 48 frames.</p>\n<p>Ok, so just calling takePicture() in succession is probably not the best way of doing this. I'm thinking I'm going to want something like a setRepeatingRequest. In takePicture() itself, the final line is</p>\n<pre><code>mCaptureSession.capture(mPreviewRequestBuilder.build(), mPreCaptureCallback, mBackgroundHandler);\n</code></pre>\n<p>I've replaced the <code>.capture</code> with <code>.setRepeatingRequest</code>, but the app still behaves the same, and takes only one picture.</p>\n<p>For what it's worth, my Pixel 6 Pro reports <code>[w:4080, h:3072, format:RAW_SENSOR(32), min_duration:33333333, stall:0]</code> in it's StreamConfiguration outputs. If I'm interpreting that correctly, it tells us that at least in theory, the device can take raw, 4080 x 3072 images at roughly 30 fps. I'd be happy with even 24 fps - but it needs to be a steady framerate for it to be a usable video.</p>\n<p>To be clear, my desired output is simply a folder of DNG images, i.e. a cinemaDNG.</p>\n<p>And yes, at some point I'm going to want an actual start/stop recording button, not just a &quot;take X frames&quot;  button, this is just a proof of concept for now.</p>\n<p>I guess my question really just boils down to &quot;how do I properly use a setRepeatingRequest,&quot; but I welcome any further commentary and advice regarding raw still/video capture in general.</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1694664197,"post_id":77101706,"comment_id":135921691,"body_markdown":"What exact command are you using to compile and run this? Those classes should be in `java.lang`, which is imported by default and available on every JVM instance.","body":"What exact command are you using to compile and run this? Those classes should be in <code>java.lang</code>, which is imported by default and available on every JVM instance."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1694664577,"post_id":77101706,"comment_id":135921714,"body_markdown":"If you are using at least Java 11 (eleven), you can run your code without first compiling it. Refer to documentation for [java command](https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html).","body":"If you are using at least Java 11 (eleven), you can run your code without first compiling it. Refer to documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">java command</a>."},{"owner":{"account_id":29437336,"reputation":1,"user_id":22555936,"display_name":"ThiccSamosa"},"score":0,"creation_date":1694697339,"post_id":77101706,"comment_id":135927518,"body_markdown":"I am using the built in code runner on vscode. @SilvioMayolo","body":"I am using the built in code runner on vscode. @SilvioMayolo"},{"owner":{"account_id":29437336,"reputation":1,"user_id":22555936,"display_name":"ThiccSamosa"},"score":0,"creation_date":1694699530,"post_id":77101706,"comment_id":135928064,"body_markdown":"UPDATE: The issue seems to have resolved itself after one of my extensions updated.","body":"UPDATE: The issue seems to have resolved itself after one of my extensions updated."}],"owner":{"account_id":29437336,"reputation":1,"user_id":22555936,"display_name":"ThiccSamosa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694664052,"creation_date":1694664052,"question_id":77101706,"body_markdown":"I am trying to run the following code:\r\n\r\n```\r\npublic class CountDown {\r\n    public static void main(String[] args)\r\n    {\r\n        System.out.print(&quot;T-minus &quot;);\r\n        for (int i = 10; i &gt;= 1; i--)\r\n        {\r\n            System.out.print(i + &quot;, &quot;);\r\n        }\r\n        System.out.println(&quot;Blastoff!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHowever, whenever I try to run it, I get this message:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n        String cannot be resolved to a type\r\n        System cannot be resolved\r\n        System cannot be resolved\r\n        System cannot be resolved\r\n\r\n        at CountDown.main(CountDown.java:2)\r\n```\r\nI have tried uninstalling and reinstalling my jdk but I&#39;m still having the same problem. Does anyone know how to fix this issue? Thanks.","title":"Unable to initialize main class","body":"<p>I am trying to run the following code:</p>\n<pre><code>public class CountDown {\n    public static void main(String[] args)\n    {\n        System.out.print(&quot;T-minus &quot;);\n        for (int i = 10; i &gt;= 1; i--)\n        {\n            System.out.print(i + &quot;, &quot;);\n        }\n        System.out.println(&quot;Blastoff!&quot;);\n    }\n}\n</code></pre>\n<p>However, whenever I try to run it, I get this message:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n        String cannot be resolved to a type\n        System cannot be resolved\n        System cannot be resolved\n        System cannot be resolved\n\n        at CountDown.main(CountDown.java:2)\n</code></pre>\n<p>I have tried uninstalling and reinstalling my jdk but I'm still having the same problem. Does anyone know how to fix this issue? Thanks.</p>\n"},{"tags":["java","spring-boot","sendgrid","sendmail"],"comments":[{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1661956950,"post_id":73555591,"comment_id":129895662,"body_markdown":"Do you get an other response than 202? Is there anything in your SendGrid dashboard to say the email bounced or otherwise failed?","body":"Do you get an other response than 202? Is there anything in your SendGrid dashboard to say the email bounced or otherwise failed?"}],"answers":[{"tags":[],"owner":{"account_id":26207369,"reputation":41,"user_id":19886788,"display_name":"Ivan Plotnikov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694663098,"creation_date":1661959743,"answer_id":73558320,"question_id":73555591,"body_markdown":"I found the answer to my question: \r\n\r\n    {&quot;errors&quot;:[{&quot;message&quot;:&quot;If present, text/plain must be first, followed by text/html, followed by any other content.&quot;,&quot;field&quot;:&quot;content&quot; ,&quot;help&quot;:null}]}\r\n\r\nIt is necessary to simply swap ``setContent``. \r\n\r\nFirst ``mail.addContent(plainContent);`` \r\n\r\nand then ``mail.addContent(htmlContent);``","title":"SendGrid send type text/plain and text/html","body":"<p>I found the answer to my question:</p>\n<pre><code>{&quot;errors&quot;:[{&quot;message&quot;:&quot;If present, text/plain must be first, followed by text/html, followed by any other content.&quot;,&quot;field&quot;:&quot;content&quot; ,&quot;help&quot;:null}]}\n</code></pre>\n<p>It is necessary to simply swap <code>setContent</code>.</p>\n<p>First <code>mail.addContent(plainContent);</code></p>\n<p>and then <code>mail.addContent(htmlContent);</code></p>\n"}],"owner":{"account_id":26207369,"reputation":41,"user_id":19886788,"display_name":"Ivan Plotnikov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694663098,"creation_date":1661947202,"question_id":73555591,"body_markdown":"I have a service that sends email and everything works fine there, but I need to send 2 types of emails ``text/html`` and ``text/plain``. I add this to my code:\r\n\r\n``Content plainContent = new Content(&quot;text/plain&quot;, &quot;This is plain content&quot;);``\r\n\r\n``mail.addContent(htmlContent);``\r\n\r\n``mail.addContent(plainContent);``\r\n\r\nand the letters stopped coming\r\n\r\n    @Override\r\n    public void send(Message message) throws IOException {\r\n        Personalization personalization = new Personalization();\r\n        message.getSendTo().forEach(address -&gt; personalization.addTo(new Email(address.getEmail(), address.getName())));\r\n\r\n        Content htmlContent = new Content(message.getContentType(), message.getContent());\r\n\r\n        Mail mail = new Mail();\r\n        mail.setFrom(new Email(message.getSendFrom().getEmail(), message.getSendFrom().getName()));\r\n        mail.addPersonalization(personalization);\r\n        mail.setSubject(message.getSubject());\r\n        mail.addContent(htmlContent);\r\n\r\n\r\n        Request request = new Request();\r\n        request.setMethod(Method.POST);\r\n        request.setEndpoint(&quot;mail/send&quot;);\r\n        request.setBody(mail.build());\r\n        Response response = sendgrid.api(request);\r\n\r\n        if (response.getStatusCode() != 202) {\r\n            throw new RuntimeException(response.getBody());\r\n        }\r\n    }","title":"SendGrid send type text/plain and text/html","body":"<p>I have a service that sends email and everything works fine there, but I need to send 2 types of emails <code>text/html</code> and <code>text/plain</code>. I add this to my code:</p>\n<p><code>Content plainContent = new Content(&quot;text/plain&quot;, &quot;This is plain content&quot;);</code></p>\n<p><code>mail.addContent(htmlContent);</code></p>\n<p><code>mail.addContent(plainContent);</code></p>\n<p>and the letters stopped coming</p>\n<pre><code>@Override\npublic void send(Message message) throws IOException {\n    Personalization personalization = new Personalization();\n    message.getSendTo().forEach(address -&gt; personalization.addTo(new Email(address.getEmail(), address.getName())));\n\n    Content htmlContent = new Content(message.getContentType(), message.getContent());\n\n    Mail mail = new Mail();\n    mail.setFrom(new Email(message.getSendFrom().getEmail(), message.getSendFrom().getName()));\n    mail.addPersonalization(personalization);\n    mail.setSubject(message.getSubject());\n    mail.addContent(htmlContent);\n\n\n    Request request = new Request();\n    request.setMethod(Method.POST);\n    request.setEndpoint(&quot;mail/send&quot;);\n    request.setBody(mail.build());\n    Response response = sendgrid.api(request);\n\n    if (response.getStatusCode() != 202) {\n        throw new RuntimeException(response.getBody());\n    }\n}\n</code></pre>\n"},{"tags":["java","junit5","pact"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1694634194,"post_id":77099996,"comment_id":135918610,"body_markdown":"The provider is supposed to offer an endpoint that the server will then call and supply with the test values defined in the PACT. The provider must implement an actual REST API with endpoints. Whether you do that with Spring, any other backend-library or with plain sockets is totally up to you. Its just a standard REST API, nothing special. The pact server calls it with the pact request, receives its response and will check that against the expectation.","body":"The provider is supposed to offer an endpoint that the server will then call and supply with the test values defined in the PACT. The provider must implement an actual REST API with endpoints. Whether you do that with Spring, any other backend-library or with plain sockets is totally up to you. Its just a standard REST API, nothing special. The pact server calls it with the pact request, receives its response and will check that against the expectation."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694670587,"post_id":77099996,"comment_id":135922233,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694661942,"creation_date":1694661942,"answer_id":77101594,"question_id":77099996,"body_markdown":"&gt; I have already developed a pact file by running some tests on the consumer side. The question now is - how do I go forward with the development of the provide side? Am I supposed to mock the client, the way I mocked the provider in the consumer class? \r\n\r\nNo, Pact will act as the mock consumer and send requests as if it were your actual consumer.\r\n\r\n&gt; Do I have to use any of the real classes of the API or not at all?\r\n\r\nYes, ideally. See the [scope of a provider test](https://docs.pact.io/getting_started/testing-scope#scope-of-a-provider-pact-test) for more on reasoning about this.\r\n\r\nThe key is knowing where to stub on the provider side - the starting point for most people should be to let the request flow through as much of the provider&#39;s code as possible, but stub if the request needs to go to another system (e.g. another API). If you have a DB, you can choose to stub that repository layer, use Docker etc. \r\n\r\n&gt; Most of the tutorials/examples online use Spring, which for various reasons is unavailable to me, so they were not exactly helpful. I am afraid I&#39;m missing something fundamental when it comes to the provider side.\r\n\r\nYou need not use Spring, you can verify directly from Gradle, Maven, JUnit or your own class. See the various provider implementations here: https://docs.pact.io/implementation_guides/jvm/provider\r\n\r\nWhat Zabuzard has said is also correct, Pact just happens to provide several convenience APIs for popular frameworks.","title":"How to develop a Pact Provider class without Spring?","body":"<blockquote>\n<p>I have already developed a pact file by running some tests on the consumer side. The question now is - how do I go forward with the development of the provide side? Am I supposed to mock the client, the way I mocked the provider in the consumer class?</p>\n</blockquote>\n<p>No, Pact will act as the mock consumer and send requests as if it were your actual consumer.</p>\n<blockquote>\n<p>Do I have to use any of the real classes of the API or not at all?</p>\n</blockquote>\n<p>Yes, ideally. See the <a href=\"https://docs.pact.io/getting_started/testing-scope#scope-of-a-provider-pact-test\" rel=\"nofollow noreferrer\">scope of a provider test</a> for more on reasoning about this.</p>\n<p>The key is knowing where to stub on the provider side - the starting point for most people should be to let the request flow through as much of the provider's code as possible, but stub if the request needs to go to another system (e.g. another API). If you have a DB, you can choose to stub that repository layer, use Docker etc.</p>\n<blockquote>\n<p>Most of the tutorials/examples online use Spring, which for various reasons is unavailable to me, so they were not exactly helpful. I am afraid I'm missing something fundamental when it comes to the provider side.</p>\n</blockquote>\n<p>You need not use Spring, you can verify directly from Gradle, Maven, JUnit or your own class. See the various provider implementations here: <a href=\"https://docs.pact.io/implementation_guides/jvm/provider\" rel=\"nofollow noreferrer\">https://docs.pact.io/implementation_guides/jvm/provider</a></p>\n<p>What Zabuzard has said is also correct, Pact just happens to provide several convenience APIs for popular frameworks.</p>\n"}],"owner":{"account_id":29434671,"reputation":3,"user_id":22553747,"display_name":"Svetopolk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77101594,"answer_count":1,"score":0,"last_activity_date":1694661942,"creation_date":1694633258,"question_id":77099996,"body_markdown":"I have already developed a pact file by running some tests on the consumer side. The question now is - how do I go forward with the development of the provide side? Am I supposed to mock the client, the way I mocked the provider in the consumer class? Do I have to use any of the real classes of the API or not at all?  \r\n\r\nMost of the tutorials/examples online use Spring, which for various reasons is unavailable to me, so they were not exactly helpful. I am afraid I&#39;m missing something fundamental when it comes to the provider side.","title":"How to develop a Pact Provider class without Spring?","body":"<p>I have already developed a pact file by running some tests on the consumer side. The question now is - how do I go forward with the development of the provide side? Am I supposed to mock the client, the way I mocked the provider in the consumer class? Do I have to use any of the real classes of the API or not at all?</p>\n<p>Most of the tutorials/examples online use Spring, which for various reasons is unavailable to me, so they were not exactly helpful. I am afraid I'm missing something fundamental when it comes to the provider side.</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1694652748,"post_id":77101120,"comment_id":135920812,"body_markdown":"But you don&#39;t always control the declaration of `firstStep`. It could come from a third-party library. Maybe you get a `CompletableFuture` that returns the contents of a web page, and you want to do something with those contents.","body":"But you don&#39;t always control the declaration of <code>firstStep</code>. It could come from a third-party library. Maybe you get a <code>CompletableFuture</code> that returns the contents of a web page, and you want to do something with those contents."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":3,"creation_date":1694653399,"post_id":77101120,"comment_id":135920857,"body_markdown":"It’s not always about efficiency, often times it is about code maintenance and composability. Technically, you can put all of your code in one single file and not worry about packages, modules or repositories. But have you ever tried working with or debugging a 50,000 line Java class?","body":"It’s not always about efficiency, often times it is about code maintenance and composability. Technically, you can put all of your code in one single file and not worry about packages, modules or repositories. But have you ever tried working with or debugging a 50,000 line Java class?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694780484,"post_id":77101120,"comment_id":135939704,"body_markdown":"The second statement will **not** cause “firstBlah to be put as a runnable in the thread pool”. The execution of the “firstBlah” runnable is already arranged by the first statement. The second statement does not change anything regarding `firstStep`.","body":"The second statement will <b>not</b> cause “firstBlah to be put as a runnable in the thread pool”. The execution of the “firstBlah” runnable is already arranged by the first statement. The second statement does not change anything regarding <code>firstStep</code>."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694661782,"creation_date":1694661782,"answer_id":77101590,"question_id":77101120,"body_markdown":"@SilvioMayolo and @AbhijitSarkar put some excellent points. Let me briefly summarize, and add some more.\r\n\r\nNow, you are correct - there is no point in using `CompletableFuture::thenCompose` if you are already constructing the original `CompletableFuture`. But like @SilvioMayolo said, this method allows you to add &quot;the last-minute touches&quot; to a `CompletableFuture` before sending it out the door. If you don&#39;t have the ability to modify the original `CompletableFuture`, then this is a great way to ***compose*** certain functionalities on top of each other.\r\n\r\nHere is the latest documentation for that method -- [`CompletableFuture::thenCompose`][1]. I bring this up because your `secondBlah` is actually a `Function&lt;? super T, ? extends CompletionState&lt;U&gt;&gt;`. That is to say, it is a `Function` that takes in the output of your first `CompletableFuture&lt;T&gt;` (`T output = myCompletableFuture.get();`), then uses that returned `output` to construct a new `CompletableFuture&lt;U&gt;`.\r\n\r\nSo in short, it&#39;s nothing more than a convenience function for when you want subsequent steps to be bundled in the same `CompletableFuture`, but without modifying the original. Good examples of similar contexts would be `Stream::flatMap` and `Optional::flatMap`. This function is essential `flatMap`, but for `CompletableFuture`. This really helps for keeping things modular, but connected where needed, which feeds into what @AbhijitSarkar was saying.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#thenCompose(java.util.function.Function)","title":"When does thenCompose make sense for CompletableFuture in Java","body":"<p>@SilvioMayolo and @AbhijitSarkar put some excellent points. Let me briefly summarize, and add some more.</p>\n<p>Now, you are correct - there is no point in using <code>CompletableFuture::thenCompose</code> if you are already constructing the original <code>CompletableFuture</code>. But like @SilvioMayolo said, this method allows you to add &quot;the last-minute touches&quot; to a <code>CompletableFuture</code> before sending it out the door. If you don't have the ability to modify the original <code>CompletableFuture</code>, then this is a great way to <em><strong>compose</strong></em> certain functionalities on top of each other.</p>\n<p>Here is the latest documentation for that method -- <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#thenCompose(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>CompletableFuture::thenCompose</code></a>. I bring this up because your <code>secondBlah</code> is actually a <code>Function&lt;? super T, ? extends CompletionState&lt;U&gt;&gt;</code>. That is to say, it is a <code>Function</code> that takes in the output of your first <code>CompletableFuture&lt;T&gt;</code> (<code>T output = myCompletableFuture.get();</code>), then uses that returned <code>output</code> to construct a new <code>CompletableFuture&lt;U&gt;</code>.</p>\n<p>So in short, it's nothing more than a convenience function for when you want subsequent steps to be bundled in the same <code>CompletableFuture</code>, but without modifying the original. Good examples of similar contexts would be <code>Stream::flatMap</code> and <code>Optional::flatMap</code>. This function is essential <code>flatMap</code>, but for <code>CompletableFuture</code>. This really helps for keeping things modular, but connected where needed, which feeds into what @AbhijitSarkar was saying.</p>\n"}],"owner":{"account_id":377829,"reputation":11388,"user_id":730194,"accept_rate":61,"display_name":"Peter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694661782,"creation_date":1694650712,"question_id":77101120,"body_markdown":"I am new to Java async programming and trying to understand when it makes sense to use thenCompose() method.\r\n\r\nConsider the following pseudo code:\r\n\r\n    CompletableFuture&lt;T&gt; firstStep = CompletableFuture.runAsync(firstBlah)\r\n    CompletableFuture&lt;T&gt; secondStep = firstStep.thenCompose( secondBlah )\r\n\r\nAs I understand, the second statement will cause firstBlah to be put as a runnable in the thread pool. Once the task completes, another runnable will be created and put into the thread pool.\r\n\r\nI don&#39;t understand how thenCompose adds more efficiency. If the execution is going to be sequential anyway, why don&#39;t I incorporate secondBlah into firstBlah function itself? This way, only one runnable will be needed. The overhead of creating another runnable and passing the parameter from the first runnable into the second one can be eliminated.\r\n\r\nObviously, I am missing something. Thanks.\r\n\r\n \r\n\r\n","title":"When does thenCompose make sense for CompletableFuture in Java","body":"<p>I am new to Java async programming and trying to understand when it makes sense to use thenCompose() method.</p>\n<p>Consider the following pseudo code:</p>\n<pre><code>CompletableFuture&lt;T&gt; firstStep = CompletableFuture.runAsync(firstBlah)\nCompletableFuture&lt;T&gt; secondStep = firstStep.thenCompose( secondBlah )\n</code></pre>\n<p>As I understand, the second statement will cause firstBlah to be put as a runnable in the thread pool. Once the task completes, another runnable will be created and put into the thread pool.</p>\n<p>I don't understand how thenCompose adds more efficiency. If the execution is going to be sequential anyway, why don't I incorporate secondBlah into firstBlah function itself? This way, only one runnable will be needed. The overhead of creating another runnable and passing the parameter from the first runnable into the second one can be eliminated.</p>\n<p>Obviously, I am missing something. Thanks.</p>\n"},{"tags":["java","pentaho"],"answers":[{"tags":[],"owner":{"account_id":29437011,"reputation":1,"user_id":22555662,"display_name":"Pablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694661179,"creation_date":1694660813,"answer_id":77101550,"question_id":76031144,"body_markdown":"I had the same issue till I upgraded JDK to version 20 and set it up as an environment variable.\r\n\r\n    PENTAHO_JAVA_HOME: C:\\Program Files\\Java\\jdk-20","title":"Pentaho doesn&#39;t open","body":"<p>I had the same issue till I upgraded JDK to version 20 and set it up as an environment variable.</p>\n<pre><code>PENTAHO_JAVA_HOME: C:\\Program Files\\Java\\jdk-20\n</code></pre>\n"}],"owner":{"account_id":17085971,"reputation":13,"user_id":16039420,"display_name":"Vanessa Lemos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694661179,"creation_date":1681694724,"question_id":76031144,"body_markdown":"I&#39;m trying to open my pentaho but it doesn&#39;t open, on the debug mode it show some errors, but I don&#39;t know what they meant and how to fix it\r\n\r\nThe errors:\r\n```\r\n&quot;C:\\Program Files (x86)\\Java\\jre1.8.0_361\\bin\\java.exe&quot;   &quot;-Xms1024m&quot; &quot;-Xmx2048m&quot; &quot;-Djava.library.path=libswt\\win32;/bin&quot; &quot;-Djava.endorsed.dirs=C:\\Program Files (x86)\\Java\\jre1.8.0_361\\jre\\lib\\endorsed;C:\\Program Files (x86)\\Java\\jre1.8.0_361\\lib\\endorsed;C:\\Users\\valem\\Downloads\\pdi-ce-9.3.0.0-428 (2)\\data-integration\\system\\karaf\\lib\\endorsed&quot;  &quot;-DKETTLE_HOME=&quot; &quot;-DKETTLE_REPOSITORY=&quot; &quot;-DKETTLE_USER=&quot; &quot;-DKETTLE_PASSWORD=&quot; &quot;-DKETTLE_PLUGIN_PACKAGES=&quot; &quot;-DKETTLE_LOG_SIZE_LIMIT=&quot; &quot;-DKETTLE_JNDI_ROOT=&quot; -jar launcher\\launcher.jar -lib ..\\libswt\\win32  /level:Debug \r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Control\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n\tat java.lang.Class.privateGetMethodRecursive(Unknown Source)\r\n\tat java.lang.Class.getMethod0(Unknown Source)\r\n\tat java.lang.Class.getMethod(Unknown Source)\r\n\tat org.pentaho.commons.launcher.Launcher.main(Launcher.java:91)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.swt.widgets.Control\r\n\tat java.net.URLClassLoader.findClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\t... 6 more\r\n```","title":"Pentaho doesn&#39;t open","body":"<p>I'm trying to open my pentaho but it doesn't open, on the debug mode it show some errors, but I don't know what they meant and how to fix it</p>\n<p>The errors:</p>\n<pre><code>&quot;C:\\Program Files (x86)\\Java\\jre1.8.0_361\\bin\\java.exe&quot;   &quot;-Xms1024m&quot; &quot;-Xmx2048m&quot; &quot;-Djava.library.path=libswt\\win32;/bin&quot; &quot;-Djava.endorsed.dirs=C:\\Program Files (x86)\\Java\\jre1.8.0_361\\jre\\lib\\endorsed;C:\\Program Files (x86)\\Java\\jre1.8.0_361\\lib\\endorsed;C:\\Users\\valem\\Downloads\\pdi-ce-9.3.0.0-428 (2)\\data-integration\\system\\karaf\\lib\\endorsed&quot;  &quot;-DKETTLE_HOME=&quot; &quot;-DKETTLE_REPOSITORY=&quot; &quot;-DKETTLE_USER=&quot; &quot;-DKETTLE_PASSWORD=&quot; &quot;-DKETTLE_PLUGIN_PACKAGES=&quot; &quot;-DKETTLE_LOG_SIZE_LIMIT=&quot; &quot;-DKETTLE_JNDI_ROOT=&quot; -jar launcher\\launcher.jar -lib ..\\libswt\\win32  /level:Debug \nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Control\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n    at java.lang.Class.privateGetMethodRecursive(Unknown Source)\n    at java.lang.Class.getMethod0(Unknown Source)\n    at java.lang.Class.getMethod(Unknown Source)\n    at org.pentaho.commons.launcher.Launcher.main(Launcher.java:91)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.swt.widgets.Control\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 6 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694671996,"post_id":77101541,"comment_id":135922414,"body_markdown":"If you get these errors this means you are doing too much dependency management. Post your `pom.xml`.","body":"If you get these errors this means you are doing too much dependency management. Post your <code>pom.xml</code>."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1694685417,"post_id":77101541,"comment_id":135924900,"body_markdown":"Where has your `commons-io-2.11.0.jar` file come from? It appears to contain Spring Framework classes but [the artifact on Maven Central](https://repo.maven.apache.org/maven2/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar) does not.","body":"Where has your <code>commons-io-2.11.0.jar</code> file come from? It appears to contain Spring Framework classes but <a href=\"https://repo.maven.apache.org/maven2/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar\" rel=\"nofollow noreferrer\">the artifact on Maven Central</a> does not."},{"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"score":0,"creation_date":1694709647,"post_id":77101541,"comment_id":135930349,"body_markdown":"@M.Deinum Did not get you that what is too much dependency Management?","body":"@M.Deinum Did not get you that what is too much dependency Management?"},{"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"score":0,"creation_date":1694710135,"post_id":77101541,"comment_id":135930433,"body_markdown":"@AndyWilkinson commons-io downloading part of POI dependency which we need for Excel use cases. I can&#39;t add the screenshot here but I can see with the help of Intellij that some spring packages inside it.","body":"@AndyWilkinson commons-io downloading part of POI dependency which we need for Excel use cases. I can&#39;t add the screenshot here but I can see with the help of Intellij that some spring packages inside it."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1694710808,"post_id":77101541,"comment_id":135930549,"body_markdown":"@KarkalaSrikanth I wouldn&#39;t trust that jar as it&#39;s not the one published by the project itself to Maven Central. If you look in `.m2/repository/commons-io/commons-io/2.11.0/_remote.repositories` it should tell you from where the jar, pom, and source was downloaded.","body":"@KarkalaSrikanth I wouldn&#39;t trust that jar as it&#39;s not the one published by the project itself to Maven Central. If you look in <code>.m2&#47;repository&#47;commons-io&#47;commons-io&#47;2.11.0&#47;_remote.reposito&zwnj;&#8203;ries</code> it should tell you from where the jar, pom, and source was downloaded."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694714744,"post_id":77101541,"comment_id":135931286,"body_markdown":"You get these kinds of errors if you are mixing versions from different modules of spring of versions of the same module.. Which is generally due to bad dependency management or trying to outsmart the already smart Spring Boot Starter and parent dependency management. Hence we want to see your pom.","body":"You get these kinds of errors if you are mixing versions from different modules of spring of versions of the same module.. Which is generally due to bad dependency management or trying to outsmart the already smart Spring Boot Starter and parent dependency management. Hence we want to see your pom."}],"owner":{"account_id":19952568,"reputation":59,"user_id":14621897,"display_name":"Karkala Srikanth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694661155,"creation_date":1694660664,"question_id":77101541,"body_markdown":"\r\nSpring-boot-2.7.4, java17 application failed to start with below error, Help me to fix the issue.\r\ncommons-io downloading from POI jar(poi-ooxml version 5.3.2), also we need spring-aop jar too.\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:448)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;boolean org.springframework.util.ClassUtils.isLambdaClass(java.lang.Class)&#39;\r\n\r\nThe calling method&#39;s class, org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator, is available from the following locations:\r\n\r\n    jar:file:/.m2/repository/org/springframework/spring-aop/5.3.29/spring-aop-5.3.29.jar!/org/springframework/aop/framework/autoproxy/AbstractAutoProxyCreator.class\r\n    jar:file:/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar!/org/springframework/aop/framework/autoproxy/AbstractAutoProxyCreator.class\r\n\r\nThe calling method&#39;s class was loaded from the following location:\r\n\r\n    file:/.m2/repository/org/springframework/spring-aop/5.3.29/spring-aop-5.3.29.jar\r\n\r\nThe called method&#39;s class, org.springframework.util.ClassUtils, is available from the following locations:\r\n\r\n    jar:file:/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar!/org/springframework/util/ClassUtils.class\r\n    jar:file:/.m2/repository/org/springframework/spring-core/5.3.29/spring-core-5.3.29.jar!/org/springframework/util/ClassUtils.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.springframework.util.ClassUtils: file:/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator and org.springframework.util.ClassUtils\r\n\r\n\r\nProcess finished with exit code 0\r\n","title":"spring boot failed to start with error ClassUtils.isLambdaClass not found","body":"<p>Spring-boot-2.7.4, java17 application failed to start with below error, Help me to fix the issue.\ncommons-io downloading from POI jar(poi-ooxml version 5.3.2), also we need spring-aop jar too.</p>\n<p>Description:</p>\n<p>An attempt was made to call a method that does not exist. The attempt was made from the following location:</p>\n<pre><code>org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:448)\n</code></pre>\n<p>The following method did not exist:</p>\n<pre><code>'boolean org.springframework.util.ClassUtils.isLambdaClass(java.lang.Class)'\n</code></pre>\n<p>The calling method's class, org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator, is available from the following locations:</p>\n<pre><code>jar:file:/.m2/repository/org/springframework/spring-aop/5.3.29/spring-aop-5.3.29.jar!/org/springframework/aop/framework/autoproxy/AbstractAutoProxyCreator.class\njar:file:/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar!/org/springframework/aop/framework/autoproxy/AbstractAutoProxyCreator.class\n</code></pre>\n<p>The calling method's class was loaded from the following location:</p>\n<pre><code>file:/.m2/repository/org/springframework/spring-aop/5.3.29/spring-aop-5.3.29.jar\n</code></pre>\n<p>The called method's class, org.springframework.util.ClassUtils, is available from the following locations:</p>\n<pre><code>jar:file:/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar!/org/springframework/util/ClassUtils.class\njar:file:/.m2/repository/org/springframework/spring-core/5.3.29/spring-core-5.3.29.jar!/org/springframework/util/ClassUtils.class\n</code></pre>\n<p>The called method's class hierarchy was loaded from the following locations:</p>\n<pre><code>org.springframework.util.ClassUtils: file:/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar\n</code></pre>\n<p>Action:</p>\n<p>Correct the classpath of your application so that it contains compatible versions of the classes org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator and org.springframework.util.ClassUtils</p>\n<p>Process finished with exit code 0</p>\n"},{"tags":["java","jetty","netty","jetty-9"],"owner":{"account_id":2481501,"reputation":1002,"user_id":2160887,"accept_rate":19,"display_name":"seriousgeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694660058,"creation_date":1694660058,"question_id":77101510,"body_markdown":"A jetty server is configured using a [queuedthreadpool][1] with 10 threads.\r\n\r\n    QueuedThreadPool threadPool = new QueuedThreadPool(\r\n              10,\r\n              10,\r\n              60000, \r\n              new LinkedBlockingQueue&lt;&gt;(1000)\r\n          );\r\n        }\r\n    threadPool.setDaemon(true);\r\n    final Server server = new Server(threadPool);\r\n\r\nTo this jetty server, I&#39;m attaching a RequestLog based handler so that every request is logged:\r\n\r\n    RequestLogHandler requestLogHandler = new RequestLogHandler();\r\n        requestLogHandler.setRequestLog(new JettyRequestLog());\r\n\r\n----\r\nJettyRequestLog class:\r\n\r\n    public class JettyRequestLog implements RequestLog\r\n    {\r\n      private static final Logger logger = new Logger(&quot;org.test.jetty.RequestLog&quot;);\r\n    \r\n      @Override\r\n      public void log(Request request, Response response)\r\n      {\r\n        if (logger.isDebugEnabled()) {\r\n          logger.debug(\r\n              &quot;%s %s %s %s %d&quot;,\r\n              request.getRemoteAddr(),\r\n              request.getMethod(),\r\n              request.getHttpURI().toString(),\r\n              request.getProtocol(),\r\n              response.getStatus()\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\nWhen does the request log handler log the request? Is it when the request is added to the queuedthreadpool or when it is dequeued from the pool? When the server gets hit with say 500 requests, the time waiting could be significant and I&#39;m trying to identify if that is the case here.\r\n\r\n\r\n  [1]: https://eclipse.dev/jetty/javadoc/jetty-9/org/eclipse/jetty/util/thread/QueuedThreadPool.html","title":"At what stage does jetty server log a request using RequestLog?","body":"<p>A jetty server is configured using a <a href=\"https://eclipse.dev/jetty/javadoc/jetty-9/org/eclipse/jetty/util/thread/QueuedThreadPool.html\" rel=\"nofollow noreferrer\">queuedthreadpool</a> with 10 threads.</p>\n<pre><code>QueuedThreadPool threadPool = new QueuedThreadPool(\n          10,\n          10,\n          60000, \n          new LinkedBlockingQueue&lt;&gt;(1000)\n      );\n    }\nthreadPool.setDaemon(true);\nfinal Server server = new Server(threadPool);\n</code></pre>\n<p>To this jetty server, I'm attaching a RequestLog based handler so that every request is logged:</p>\n<pre><code>RequestLogHandler requestLogHandler = new RequestLogHandler();\n    requestLogHandler.setRequestLog(new JettyRequestLog());\n</code></pre>\n<hr />\n<p>JettyRequestLog class:</p>\n<pre><code>public class JettyRequestLog implements RequestLog\n{\n  private static final Logger logger = new Logger(&quot;org.test.jetty.RequestLog&quot;);\n\n  @Override\n  public void log(Request request, Response response)\n  {\n    if (logger.isDebugEnabled()) {\n      logger.debug(\n          &quot;%s %s %s %s %d&quot;,\n          request.getRemoteAddr(),\n          request.getMethod(),\n          request.getHttpURI().toString(),\n          request.getProtocol(),\n          response.getStatus()\n      );\n    }\n  }\n}\n</code></pre>\n<p>When does the request log handler log the request? Is it when the request is added to the queuedthreadpool or when it is dequeued from the pool? When the server gets hit with say 500 requests, the time waiting could be significant and I'm trying to identify if that is the case here.</p>\n"},{"tags":["java","web-services","sap-commerce-cloud","hybris-data-hub"],"answers":[{"tags":[],"owner":{"account_id":4424306,"reputation":186,"user_id":3603194,"display_name":"Adiputera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694660036,"creation_date":1694660036,"answer_id":77101509,"question_id":77061847,"body_markdown":"Since SOAP-related has been removed from Java 11, try adding Javax XML SOAP API lib in your project.\r\n\r\nYou can download it from maven central: https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api","title":"While migrating from 1811 to 2211 - SAP Hybris commerce getting [SAAJ 1.3] version error","body":"<p>Since SOAP-related has been removed from Java 11, try adding Javax XML SOAP API lib in your project.</p>\n<p>You can download it from maven central: <a href=\"https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.xml.soap/javax.xml.soap-api</a></p>\n"}],"owner":{"account_id":19414423,"reputation":13,"user_id":14198226,"display_name":"user14198226"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77101509,"answer_count":1,"score":0,"last_activity_date":1694660036,"creation_date":1694109253,"question_id":77061847,"body_markdown":"While migrating from 1811 to 2211 - SAP Hybris commerce getting below error.\r\n\r\n&gt;org.springframework.beans.FatalBeanException: Context hybris Global Context Factory  couldn&#39;t  be created correctly due to, Error creating bean with name &#39;defaultTestTaxJurisdictionService&#39; defined in class path resource [core-spring.xml]: Cannot resolve reference to bean &#39;webServiceTemplate&#39; while setting bean property &#39;webServiceTemplate&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;webServiceTemplate&#39; defined in class path resource [core-spring.xml]: Cannot resolve reference to bean &#39;messageFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: **Error creating bean with name &#39;messageFactory&#39; defined in class path resource [core-spring.xml]: Invocation of init method failed; nested exception is org.springframework.ws.soap.SoapMessageCreationException: Could not create SAAJ MessageFactory. Is the version of the SAAJ specification interfaces [SAAJ 1.3] the same as the version supported by the application server?; nested exception is java.lang.NoSuchMethodError: &#39;javax.xml.soap.MessageFactory javax.xml.soap.MessageFactory.newInstance(java.lang.String)&#39;**\r\n\r\nI have added the jar files for above issue but still it&#39;s not resolved. Anyone knows about this issue could help here.","title":"While migrating from 1811 to 2211 - SAP Hybris commerce getting [SAAJ 1.3] version error","body":"<p>While migrating from 1811 to 2211 - SAP Hybris commerce getting below error.</p>\n<blockquote>\n<p>org.springframework.beans.FatalBeanException: Context hybris Global Context Factory  couldn't  be created correctly due to, Error creating bean with name 'defaultTestTaxJurisdictionService' defined in class path resource [core-spring.xml]: Cannot resolve reference to bean 'webServiceTemplate' while setting bean property 'webServiceTemplate'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webServiceTemplate' defined in class path resource [core-spring.xml]: Cannot resolve reference to bean 'messageFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: <strong>Error creating bean with name 'messageFactory' defined in class path resource [core-spring.xml]: Invocation of init method failed; nested exception is org.springframework.ws.soap.SoapMessageCreationException: Could not create SAAJ MessageFactory. Is the version of the SAAJ specification interfaces [SAAJ 1.3] the same as the version supported by the application server?; nested exception is java.lang.NoSuchMethodError: 'javax.xml.soap.MessageFactory javax.xml.soap.MessageFactory.newInstance(java.lang.String)'</strong></p>\n</blockquote>\n<p>I have added the jar files for above issue but still it's not resolved. Anyone knows about this issue could help here.</p>\n"},{"tags":["java","http","jsp","http-headers","content-type"],"answers":[{"tags":[],"owner":{"account_id":1344409,"reputation":9495,"user_id":1285418,"display_name":"Pau Kiat Wee"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1337066274,"creation_date":1337065959,"answer_id":10595831,"question_id":10595775,"body_markdown":"You can do via [Page directive][1].\r\n\r\nFor example:\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;application/json; charset=UTF-8&quot;\r\n        pageEncoding=&quot;UTF-8&quot;%&gt;\r\n\r\n - contentType=&quot;mimeType [ ;charset=characterSet ]&quot; |\r\n   &quot;text/html;charset=ISO-8859-1&quot;\r\n\r\n&gt; The MIME type and character encoding the JSP file uses for the\r\n&gt; response it sends to the client. You can use any MIME type or\r\n&gt; character set that are valid for the JSP container. The default MIME\r\n&gt; type is text/html, and the default character set is ISO-8859-1.\r\n\r\n  [1]: http://java.sun.com/products/jsp/tags/11/syntaxref11.fm7.html","title":"Set Content-Type to application/json in jsp file","body":"<p>You can do via <a href=\"http://java.sun.com/products/jsp/tags/11/syntaxref11.fm7.html\">Page directive</a>.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"application/json; charset=UTF-8\"\n    pageEncoding=\"UTF-8\"%&gt;\n</code></pre>\n\n<ul>\n<li>contentType=\"mimeType [ ;charset=characterSet ]\" |\n\"text/html;charset=ISO-8859-1\"</li>\n</ul>\n\n<blockquote>\n  <p>The MIME type and character encoding the JSP file uses for the\n  response it sends to the client. You can use any MIME type or\n  character set that are valid for the JSP container. The default MIME\n  type is text/html, and the default character set is ISO-8859-1.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1356717188,"creation_date":1337066038,"answer_id":10595847,"question_id":10595775,"body_markdown":"Try this piece of code, it should work too\r\n\r\n    &lt;%\r\n        //response.setContentType(&quot;Content-Type&quot;, &quot;application/json&quot;); // this will fail compilation\r\n        response.setContentType(&quot;application/json&quot;); //fixed\r\n    %&gt;","title":"Set Content-Type to application/json in jsp file","body":"<p>Try this piece of code, it should work too</p>\n\n<pre><code>&lt;%\n    //response.setContentType(\"Content-Type\", \"application/json\"); // this will fail compilation\n    response.setContentType(\"application/json\"); //fixed\n%&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1452464,"reputation":494,"user_id":1368972,"display_name":"Gael"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1694659683,"creation_date":1382498151,"answer_id":19532136,"question_id":10595775,"body_markdown":"@Petr Mensik &amp; kensen john\r\n\r\nThanks, I could not used the page directive because I have to set a different content type according to some URL parameter. I will paste my code here since it&#39;s something quite common with JSON:\r\n\r\n        &lt;%\r\n        \tString callback = request.getParameter(&quot;callback&quot;);\r\n        \tresponse.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        \tif (callback != null) {\r\n        \t\t// Equivalent to: &lt;@page contentType=&quot;text/javascript&quot; pageEncoding=&quot;UTF-8&quot;&gt;\r\n        \t\tresponse.setContentType(&quot;text/javascript&quot;);\r\n        \t} else {\r\n        \t\t// Equivalent to: &lt;@page contentType=&quot;application/json&quot; pageEncoding=&quot;UTF-8&quot;&gt;\r\n        \t\tresponse.setContentType(&quot;application/json&quot;);\r\n        \t}\r\n        \r\n        \t[...]\r\n        \r\n        \tString output = &quot;&quot;;\r\n        \r\n        \tif (callback != null) {\r\n        \t\t// IMPORTANT! Sanitise the &quot;callback&quot;,\r\n        \t\t// do not use user input directly in the response!\r\n        \t\t// This is vulnerable to XSS attacks.\r\n        \t\toutput += callback + &quot;(&quot;;\r\n        \t}\r\n        \r\n        \toutput += jsonObj.toString();\r\n        \r\n        \tif (callback != null) {\r\n        \t\toutput += &quot;);&quot;;\r\n        \t}\r\n        %&gt;\r\n        &lt;%=output %&gt;\r\n\r\nWhen callback is supplied, returns:\r\n\r\n        callback({...JSON stuff...});\r\n\r\nwith content-type &quot;text/javascript&quot;\r\n\r\nWhen callback is NOT supplied, returns:\r\n\r\n        {...JSON stuff...}\r\n\r\nwith content-type &quot;application/json&quot;\r\n\r\n[EDIT] I&#39;m reviewing my old post. If you use this solution, please sanitise your input! It&#39;s dangerous to put user input string directly in the response.","title":"Set Content-Type to application/json in jsp file","body":"<p>@Petr Mensik &amp; kensen john</p>\n<p>Thanks, I could not used the page directive because I have to set a different content type according to some URL parameter. I will paste my code here since it's something quite common with JSON:</p>\n<pre><code>    &lt;%\n        String callback = request.getParameter(&quot;callback&quot;);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n        if (callback != null) {\n            // Equivalent to: &lt;@page contentType=&quot;text/javascript&quot; pageEncoding=&quot;UTF-8&quot;&gt;\n            response.setContentType(&quot;text/javascript&quot;);\n        } else {\n            // Equivalent to: &lt;@page contentType=&quot;application/json&quot; pageEncoding=&quot;UTF-8&quot;&gt;\n            response.setContentType(&quot;application/json&quot;);\n        }\n    \n        [...]\n    \n        String output = &quot;&quot;;\n    \n        if (callback != null) {\n            // IMPORTANT! Sanitise the &quot;callback&quot;,\n            // do not use user input directly in the response!\n            // This is vulnerable to XSS attacks.\n            output += callback + &quot;(&quot;;\n        }\n    \n        output += jsonObj.toString();\n    \n        if (callback != null) {\n            output += &quot;);&quot;;\n        }\n    %&gt;\n    &lt;%=output %&gt;\n</code></pre>\n<p>When callback is supplied, returns:</p>\n<pre><code>    callback({...JSON stuff...});\n</code></pre>\n<p>with content-type &quot;text/javascript&quot;</p>\n<p>When callback is NOT supplied, returns:</p>\n<pre><code>    {...JSON stuff...}\n</code></pre>\n<p>with content-type &quot;application/json&quot;</p>\n<p>[EDIT] I'm reviewing my old post. If you use this solution, please sanitise your input! It's dangerous to put user input string directly in the response.</p>\n"}],"owner":{"account_id":453634,"reputation":5782,"user_id":850737,"accept_rate":86,"display_name":"Julias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124420,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":10595831,"answer_count":3,"score":39,"last_activity_date":1694659683,"creation_date":1337065677,"question_id":10595775,"body_markdown":"I am created some jsp file that returns as a response some json string. But I see that the Content-Type is set to txt automatically\r\n\r\nMy jsp code looks like \r\n\r\n    &lt;%@ page import=&quot;java.util.Random&quot; %&gt;\r\n    &lt;%@ page language=&quot;java&quot; %&gt;\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n\r\n    &lt;%\r\n      String retVal = &quot;// some json string&quot;;\r\n\r\n         int millis = new Random().nextInt(1000);\r\n         //    System.out.println(&quot;sleeping for &quot; + millis + &quot; millis&quot;);\r\n         Thread.sleep(millis);\r\n    %&gt;\r\n    &lt;%=retVal%&gt;\r\n\r\nHow can I perform something like \r\n\r\n    setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\nin this example?","title":"Set Content-Type to application/json in jsp file","body":"<p>I am created some jsp file that returns as a response some json string. But I see that the Content-Type is set to txt automatically</p>\n\n<p>My jsp code looks like </p>\n\n<pre><code>&lt;%@ page import=\"java.util.Random\" %&gt;\n&lt;%@ page language=\"java\" %&gt;\n&lt;%@ page session=\"false\" %&gt;\n\n&lt;%\n  String retVal = \"// some json string\";\n\n     int millis = new Random().nextInt(1000);\n     //    System.out.println(\"sleeping for \" + millis + \" millis\");\n     Thread.sleep(millis);\n%&gt;\n&lt;%=retVal%&gt;\n</code></pre>\n\n<p>How can I perform something like </p>\n\n<pre><code>setHeader(\"Content-Type\", \"application/json\");\n</code></pre>\n\n<p>in this example?</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694658899,"creation_date":1694628013,"answer_id":77099467,"question_id":77099210,"body_markdown":"There is no way to get the ActiveMQ Artemis &quot;persistentSize&quot; value from a JMS `Message` using the JMS API. This property is not part of JMS. It is specific to ActiveMQ Artemis.\r\n\r\nThat said, you can simply look at the message itself to determine how large it is. For example, if the message was a `TextMessage` then you could use the [`getText()`][1] method to get the `String` body and then use the `length()` method to see how long it is. If the message was a `BytesMessage` you could just use the [`getBodyLength()`][2] method.\r\n\r\nIf you *really* wanted to get the &quot;persistentSize&quot; and you were using the core JMS client shipped with ActiveMQ Artemis then you&#39;d have to cast the JMS `Message` to the ActiveMQ Artemis implementation object `org.apache.activemq.artemis.jms.client.ActiveMQMessage` and use the `getCoreMessage` method to get the `org.apache.activemq.artemis.api.core.client.ClientMessage` and then invoke `getPersistentSize()`. \r\n\r\nThis, of course, is **not recommended** as it would destroy the portability of your application which is one of the main benefits of using an API like JMS in the first place. In short, you could never use this code with any other JMS client implementation or any JMS other broker implementation and since it&#39;s considered internal then it is subject to break without notice during an upgrade.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/TextMessage.html#getText--\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/BytesMessage.html#getBodyLength--","title":"How do I get persistentSize in ActiveMQ Artemis queue via JMS?","body":"<p>There is no way to get the ActiveMQ Artemis &quot;persistentSize&quot; value from a JMS <code>Message</code> using the JMS API. This property is not part of JMS. It is specific to ActiveMQ Artemis.</p>\n<p>That said, you can simply look at the message itself to determine how large it is. For example, if the message was a <code>TextMessage</code> then you could use the <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/TextMessage.html#getText--\" rel=\"nofollow noreferrer\"><code>getText()</code></a> method to get the <code>String</code> body and then use the <code>length()</code> method to see how long it is. If the message was a <code>BytesMessage</code> you could just use the <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/BytesMessage.html#getBodyLength--\" rel=\"nofollow noreferrer\"><code>getBodyLength()</code></a> method.</p>\n<p>If you <em>really</em> wanted to get the &quot;persistentSize&quot; and you were using the core JMS client shipped with ActiveMQ Artemis then you'd have to cast the JMS <code>Message</code> to the ActiveMQ Artemis implementation object <code>org.apache.activemq.artemis.jms.client.ActiveMQMessage</code> and use the <code>getCoreMessage</code> method to get the <code>org.apache.activemq.artemis.api.core.client.ClientMessage</code> and then invoke <code>getPersistentSize()</code>.</p>\n<p>This, of course, is <strong>not recommended</strong> as it would destroy the portability of your application which is one of the main benefits of using an API like JMS in the first place. In short, you could never use this code with any other JMS client implementation or any JMS other broker implementation and since it's considered internal then it is subject to break without notice during an upgrade.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77099467,"answer_count":1,"score":0,"last_activity_date":1694658899,"creation_date":1694625311,"question_id":77099210,"body_markdown":"I can&#39;t figure out how to get persistentSize in an Artemis ActiveMQ queue using JMS. I didn&#39;t find any get method in the Message class. There are different methods for getting message ID, lifetime and others, but I didn’t find any for getting persistentSize\r\n[![enter image description here](https://i.stack.imgur.com/kiO0g.png)](https://i.stack.imgur.com/kiO0g.png)","title":"How do I get persistentSize in ActiveMQ Artemis queue via JMS?","body":"<p>I can't figure out how to get persistentSize in an Artemis ActiveMQ queue using JMS. I didn't find any get method in the Message class. There are different methods for getting message ID, lifetime and others, but I didn’t find any for getting persistentSize\n<a href=\"https://i.stack.imgur.com/kiO0g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kiO0g.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","javafx","fxml","scenebuilder","fxmlloader"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1694658654,"post_id":77101415,"comment_id":135921271,"body_markdown":"Instead of src/main/java/com/example/javapoker/Graphics/GUI.fxml, try placing it in src/main/resources/com/example/javapoker/Graphics/GUI.fxml (that is, change `java` to `resources` in the file path).  I’m assuming your project is a Maven project based on the use of src/main/java.","body":"Instead of src/main/java/com/example/javapoker/Graphics/GUI.fxml, try placing it in src/main/resources/com/example/javapoker/Graphics/GUI.fxml (that is, change <code>java</code> to <code>resources</code> in the file path).  I’m assuming your project is a Maven project based on the use of src/main/java."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1694660306,"post_id":77101415,"comment_id":135921388,"body_markdown":"The troubleshooting steps for you to follow are in the [duplicate: How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other).","body":"The troubleshooting steps for you to follow are in the <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">duplicate: How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a>."},{"owner":{"account_id":23388215,"reputation":1,"user_id":17453200,"display_name":"Bogger"},"score":0,"creation_date":1694719032,"post_id":77101415,"comment_id":135931972,"body_markdown":"Hello, one more thing... I do not have a resource folder. Is there a way to successfully access the fxml file with using a resource folder?","body":"Hello, one more thing... I do not have a resource folder. Is there a way to successfully access the fxml file with using a resource folder?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694754795,"post_id":77101415,"comment_id":135935421,"body_markdown":"A resource folder is only for build structure and common project layouts, e.g. the recommended [maven standard layout](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html).  Build tools (like maven, gradle or an ide), copy the resources from there by default and place them in the target build directory, usually packaging up the app, into a jar or jlink image.  Once the resources are copied out of the resource directory and placed in the target directory they are no longer in a separate resource directory but in the same directory as the class files.","body":"A resource folder is only for build structure and common project layouts, e.g. the recommended <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">maven standard layout</a>.  Build tools (like maven, gradle or an ide), copy the resources from there by default and place them in the target build directory, usually packaging up the app, into a jar or jlink image.  Once the resources are copied out of the resource directory and placed in the target directory they are no longer in a separate resource directory but in the same directory as the class files."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694754973,"post_id":77101415,"comment_id":135935435,"body_markdown":"So, it is recommended you have a resource folder and put the resources in it, and use a build tool (maven or gradle to assemble your app), and then use getResource to get the resources from your code.  The build tool will take care of making sure in the resources end up in the right place so that the code can access them.  This is explained in the linked duplicate, as well as steps to take to troubleshoot when things go wrong.","body":"So, it is recommended you have a resource folder and put the resources in it, and use a build tool (maven or gradle to assemble your app), and then use getResource to get the resources from your code.  The build tool will take care of making sure in the resources end up in the right place so that the code can access them.  This is explained in the linked duplicate, as well as steps to take to troubleshoot when things go wrong."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694755170,"post_id":77101415,"comment_id":135935463,"body_markdown":"An IDE like [idea](https://www.jetbrains.com/help/idea/new-project-wizard.html) will create a template project with everything setup in the right place.  Or [openjfx getting started](https://openjfx.io/openjfx-docs/) has instructions on setting things up in another environment (e.g. using maven archetypes or the openjfx sample projects).  In your case for instance, openjfx references a `javafx-archetype-fxml` for maven.","body":"An IDE like <a href=\"https://www.jetbrains.com/help/idea/new-project-wizard.html\" rel=\"nofollow noreferrer\">idea</a> will create a template project with everything setup in the right place.  Or <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx getting started</a> has instructions on setting things up in another environment (e.g. using maven archetypes or the openjfx sample projects).  In your case for instance, openjfx references a <code>javafx-archetype-fxml</code> for maven."}],"owner":{"account_id":23388215,"reputation":1,"user_id":17453200,"display_name":"Bogger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694657914,"creation_date":1694657914,"question_id":77101415,"body_markdown":"I want to load a GUI using a fxml file. However after multiple attempts into fixing it, it keeps returning that the file is not found and/or that it is null. I have tried to place the file within my Graphics package but that does not work. Here is my path from my project: src/main/java/com/example/javapoker/Graphics/GUI.fxml.\r\n\r\nMy code: \r\n```\r\npackage com.example.javapoker.Graphics;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\n\r\npublic class Main extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws IOException {\r\n        // Load the FXML file using getResource() from the class loader\r\n        URL url = getClass().getResource(&quot;/com/example/javapoker/Graphics/GUI.fxml&quot;);\r\n        String classpath = System.getProperty(&quot;java.class.path&quot;);\r\n        System.out.println(&quot;Classpath: &quot; + classpath);\r\n\r\n        if (url != null) {\r\n            FXMLLoader loader = new FXMLLoader(url);\r\n            primaryStage.setScene(new Scene(loader.load(), 400, 400));\r\n            primaryStage.setTitle(&quot;Hello JavaFX&quot;);\r\n            primaryStage.show();\r\n        } else {\r\n            System.err.println(&quot;Resource &#39;GUI.fxml&#39; not found&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nHere is my stack trace error: \r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1623)\r\nCaused by: java.lang.IllegalStateException: Location is not set.\r\n\tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2556)\r\n\tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\r\n\tat com.example.javapoker/com.example.javapoker.Graphics.Main.start(Main.java:25)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\t... 1 more\r\nException running application com.example.javapoker.Graphics.Main\r\n```\r\nNote: ignore the null conditions, I deleted the condition so it could give me the stack trace erors.","title":"FXML file is not being reached","body":"<p>I want to load a GUI using a fxml file. However after multiple attempts into fixing it, it keeps returning that the file is not found and/or that it is null. I have tried to place the file within my Graphics package but that does not work. Here is my path from my project: src/main/java/com/example/javapoker/Graphics/GUI.fxml.</p>\n<p>My code:</p>\n<pre><code>package com.example.javapoker.Graphics;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.net.URL;\n\npublic class Main extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws IOException {\n        // Load the FXML file using getResource() from the class loader\n        URL url = getClass().getResource(&quot;/com/example/javapoker/Graphics/GUI.fxml&quot;);\n        String classpath = System.getProperty(&quot;java.class.path&quot;);\n        System.out.println(&quot;Classpath: &quot; + classpath);\n\n        if (url != null) {\n            FXMLLoader loader = new FXMLLoader(url);\n            primaryStage.setScene(new Scene(loader.load(), 400, 400));\n            primaryStage.setTitle(&quot;Hello JavaFX&quot;);\n            primaryStage.show();\n        } else {\n            System.err.println(&quot;Resource 'GUI.fxml' not found&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>Here is my stack trace error:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: java.lang.IllegalStateException: Location is not set.\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2556)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\n    at com.example.javapoker/com.example.javapoker.Graphics.Main.start(Main.java:25)\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    ... 1 more\nException running application com.example.javapoker.Graphics.Main\n</code></pre>\n<p>Note: ignore the null conditions, I deleted the condition so it could give me the stack trace erors.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1221675,"reputation":4074,"user_id":1188208,"accept_rate":90,"display_name":"Luis Lavieri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417819538,"creation_date":1417819177,"answer_id":27325827,"question_id":27325803,"body_markdown":"You haven&#39;t declared those `doubles` in your constructor.\r\n\r\nit should be like this:\r\n\r\n    double l = 50.55;\r\n    double w = 40.99;\r\n    double h = 12.33;\r\n    Box boxOne = new Box(l, w, h);\r\n    ...\r\n\r\n**EDIT**:\r\n\r\nI just saw that you are trying to get the values from the `Scanner`.\r\n\r\nYou should first read them, store them in the variables, and then create a `new` instance of `Box`. Not the other way around.\r\n\r\nSo,\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print (&quot;Enter the dimension of your box:&quot;);\r\n    l= input.nextDouble();\r\n    w= input.nextDouble();\r\n    h= input.nextDouble();\r\n\r\n    Box boxOne = new Box(l, w, h);\r\n    ...","title":"how to call length, width, height, area, volume of a box from box class using boxTest","body":"<p>You haven't declared those <code>doubles</code> in your constructor.</p>\n\n<p>it should be like this:</p>\n\n<pre><code>double l = 50.55;\ndouble w = 40.99;\ndouble h = 12.33;\nBox boxOne = new Box(l, w, h);\n...\n</code></pre>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>I just saw that you are trying to get the values from the <code>Scanner</code>.</p>\n\n<p>You should first read them, store them in the variables, and then create a <code>new</code> instance of <code>Box</code>. Not the other way around.</p>\n\n<p>So,</p>\n\n<pre><code>Scanner input = new Scanner(System.in);\nSystem.out.print (\"Enter the dimension of your box:\");\nl= input.nextDouble();\nw= input.nextDouble();\nh= input.nextDouble();\n\nBox boxOne = new Box(l, w, h);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5385424,"reputation":73,"user_id":4289542,"display_name":"Konato_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417819319,"creation_date":1417819319,"answer_id":27325852,"question_id":27325803,"body_markdown":"Because you do not use semicolons to separate parameters, use commands instead.\r\n\r\nAlso if you&#39;re passing a parameter you don&#39;t need to specific the type.\r\n\r\nTry using `Box boxOne = new Box(length, width, height);`","title":"how to call length, width, height, area, volume of a box from box class using boxTest","body":"<p>Because you do not use semicolons to separate parameters, use commands instead.</p>\n\n<p>Also if you're passing a parameter you don't need to specific the type.</p>\n\n<p>Try using <code>Box boxOne = new Box(length, width, height);</code></p>\n"},{"tags":[],"owner":{"account_id":2007859,"reputation":894,"user_id":1797200,"accept_rate":75,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417857058,"creation_date":1417819485,"answer_id":27325879,"question_id":27325803,"body_markdown":"See changes and comments in the code:\r\n\r\n    public class Box\r\n    {\r\n        private double length;  // No need to set default values here\r\n        private double width;   // No need to set default values here\r\n        private double height;  // No need to set default values here\r\n\r\n        //alternative constructor\r\n        public Box()\r\n        {\r\n            //Just instantiate the box, but do not set anything.\r\n        }\r\n        \r\n        //constructor\r\n        public Box (double l, double w, double h)\r\n        {\r\n            this.length = l;  // Don&#39;t use method calls that can be overridden in\r\n            this.width = w;   // your constructor.\r\n            this.height = h;\r\n        }\r\n\r\n        //set length method\r\n        public void setLength(double l)\r\n        {\r\n            if(l &gt; 0)\r\n            {\r\n                this.length = l; // You have to use this.length to set\r\n                                 // the value stored in the object\r\n            }\r\n            else\r\n            {\r\n                this.length = 1.0;\r\n            }\r\n        }\r\n\r\n        //set width method\r\n        public void setWidth(double w)\r\n        {\r\n            if(w &gt; 0)\r\n            {\r\n                width = w; // same as above\r\n            }\r\n            else\r\n            {\r\n                width = 1.0; // same as above\r\n            }\r\n        }\r\n\r\n        //set height method\r\n        public void setHeight(double h)\r\n        {\r\n            if(h &gt; 0)\r\n            {\r\n                height = h; // same as above\r\n            }\r\n            else\r\n            {\r\n                height = 1.0; // same as above\r\n            }\r\n        }\r\n\r\n        //calculate area method\r\n        public double calculateArea() // don&#39;t use new parameters. Instead use the values\r\n                                      // stored in the object (this.length and this.width)\r\n        {\r\n            return (this.length * this.width);\r\n            // the formula is not correct, because this only calculates the area\r\n            // of one side of the box, but I will let you figure that out yourself ;-)\r\n        }\r\n\r\n        //calculate volume method\r\n        public double calculateVolume() // same as above\r\n        {\r\n            return (this.length * this.width * this.height);\r\n        }\r\n\r\n        //get length method\r\n        public String getLength()\r\n        {\r\n            // It&#39;s not advisable to convert the type of the variable\r\n            // in a standard getter, you should rather use something like\r\n            // getLengthAsString and use getLength to return the length as\r\n            // it is.\r\n\r\n            return String.format(&quot;%f&quot;, this.length); // You have to use this.length to return\r\n                                                     // the value stored in the object\r\n        }\r\n\r\n        //get width method\r\n        public String getWidth()\r\n        {\r\n            return String.format(&quot;%f&quot;,width); //same as above\r\n        }\r\n\r\n        //get height\r\n        public String getHeight()\r\n        {\r\n            return String.format(&quot;%f&quot;,height); //same as above\r\n        }   \r\n\r\n        public String toString()\r\n        {\r\n            return String.format(&quot;Length is %s.\\nWidth is %s.\\nHeight is %s.\\n&quot;, getLength(), getWidth(), getHeight());\r\n        }\r\n\r\n\r\nFor the main function:\r\n\r\nTo declare an array of 4 boxes you would do:\r\n\r\n    Box[] boxes = new Box[4];\r\n\r\nAnd to put a box at the first position in the array:\r\n\r\n    boxes[0] = new Box();\r\n\r\nthen read the user input and set the box-properties accordingly:\r\n\r\n        newBox.setHeight(scanner.nextDouble());\r\n        newBox.setLength(scanner.nextDouble());\r\n        newBox.setWidth(scanner.nextDouble());\r\n\r\nThis should give you all you need to fix the problem.\r\n\r\n","title":"how to call length, width, height, area, volume of a box from box class using boxTest","body":"<p>See changes and comments in the code:</p>\n\n<pre><code>public class Box\n{\n    private double length;  // No need to set default values here\n    private double width;   // No need to set default values here\n    private double height;  // No need to set default values here\n\n    //alternative constructor\n    public Box()\n    {\n        //Just instantiate the box, but do not set anything.\n    }\n\n    //constructor\n    public Box (double l, double w, double h)\n    {\n        this.length = l;  // Don't use method calls that can be overridden in\n        this.width = w;   // your constructor.\n        this.height = h;\n    }\n\n    //set length method\n    public void setLength(double l)\n    {\n        if(l &gt; 0)\n        {\n            this.length = l; // You have to use this.length to set\n                             // the value stored in the object\n        }\n        else\n        {\n            this.length = 1.0;\n        }\n    }\n\n    //set width method\n    public void setWidth(double w)\n    {\n        if(w &gt; 0)\n        {\n            width = w; // same as above\n        }\n        else\n        {\n            width = 1.0; // same as above\n        }\n    }\n\n    //set height method\n    public void setHeight(double h)\n    {\n        if(h &gt; 0)\n        {\n            height = h; // same as above\n        }\n        else\n        {\n            height = 1.0; // same as above\n        }\n    }\n\n    //calculate area method\n    public double calculateArea() // don't use new parameters. Instead use the values\n                                  // stored in the object (this.length and this.width)\n    {\n        return (this.length * this.width);\n        // the formula is not correct, because this only calculates the area\n        // of one side of the box, but I will let you figure that out yourself ;-)\n    }\n\n    //calculate volume method\n    public double calculateVolume() // same as above\n    {\n        return (this.length * this.width * this.height);\n    }\n\n    //get length method\n    public String getLength()\n    {\n        // It's not advisable to convert the type of the variable\n        // in a standard getter, you should rather use something like\n        // getLengthAsString and use getLength to return the length as\n        // it is.\n\n        return String.format(\"%f\", this.length); // You have to use this.length to return\n                                                 // the value stored in the object\n    }\n\n    //get width method\n    public String getWidth()\n    {\n        return String.format(\"%f\",width); //same as above\n    }\n\n    //get height\n    public String getHeight()\n    {\n        return String.format(\"%f\",height); //same as above\n    }   \n\n    public String toString()\n    {\n        return String.format(\"Length is %s.\\nWidth is %s.\\nHeight is %s.\\n\", getLength(), getWidth(), getHeight());\n    }\n</code></pre>\n\n<p>For the main function:</p>\n\n<p>To declare an array of 4 boxes you would do:</p>\n\n<pre><code>Box[] boxes = new Box[4];\n</code></pre>\n\n<p>And to put a box at the first position in the array:</p>\n\n<pre><code>boxes[0] = new Box();\n</code></pre>\n\n<p>then read the user input and set the box-properties accordingly:</p>\n\n<pre><code>    newBox.setHeight(scanner.nextDouble());\n    newBox.setLength(scanner.nextDouble());\n    newBox.setWidth(scanner.nextDouble());\n</code></pre>\n\n<p>This should give you all you need to fix the problem.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608335813,"creation_date":1608334102,"answer_id":65365191,"question_id":27325803,"body_markdown":"My recommendation is to break the problem into sub-problems and create a solution for each. This is called ***Problem Decomposition***. Once all of the solutions are created, integrate them. In theory, integrating all of the solutions together should solve the entire problem. In your case, I think this a good, logical way to decompose your problem:\r\n\r\n 1. Box creation (Setting dimension on each Box)\r\n 2. Storing the boxes\r\n 3. Calculating Volume\r\n 4. Calculating Surface Area\r\n 5. Capturing user input\r\n 6. Iterating through Box collection\r\n\r\nBox Creation\r\n------------\r\nMy recommendation is that, since all these subproblems are all related to your `Box` object, create helper classes and/or methods to handle each one. In this case, you can create a method that given height, width, and length, returns a new instance of `Box`.\r\n\r\n    public static Box createBox (int height, int width, int length) {\r\n        return new Box(height, width, length);\r\n    }\r\n\r\nIn turn, your `Box` class should be storing these parameters as global members:\r\n\r\n    public class Box {\r\n        private final int height, width, length;\r\n        public Box (int height, int width, int length) {\r\n            this.height = height;\r\n            ...\r\n        }\r\n        ... (other methods omitted)\r\n    }\r\n\r\nI know this looks like overkill, and I agree. BUT, what this does is teach you a very valuable lesson in Single Responsibility Principle as well as code modularization which helps testing these smaller jobs independently. I am a strong believer that, helper classes should contain nothing but static methods. Why? Because it doesn&#39;t make much sense to create instances of objects that never hold data. In Java, `Math` class is an example of what I am talking about.\r\n\r\nAlternatively, you could create boxes without dimension and set the height, width, and length separately, but I don&#39;t believe this is a good way to go about it. For example, if one or more parameters are not set, you could end up with erroneous behavior. Lastly, your `Box` class should create immutable objects so that dimensions cannot be changed once an instance of the class is created. I will address this point last.\r\n\r\nStoring the boxes\r\n-----------------\r\nIf this is a single-class project, maybe you want to make this collection (most likely a `java.util.List` type) a global attribute of your class. If this project contains more than one class, the class that calls your `createBox` method will have some code to add the return value of this method into some list. Something like this should do:\r\n\r\n    Box box1 = BoxUtils.createBox(1, 2, 3);\r\n    myList.add(box1);\r\n    Box box2 = BoxUtils.createBox(4, 5, 6);\r\n    myList.add(box2);\r\n    ...\r\nYou get the idea. That said, this should be better done in a loop. We will get back to this later. For now, just remember this is NOT done by the box utilities or helper class. This is done by the class that calls it; in your case, `BoxTest`\r\n\r\n    public class BoxTest {\r\n        public static void main(String[] args) {\r\n            // TODO get user input\r\n            // create box\r\n            // add box to list\r\n            ...\r\n    }\r\n\r\nCalculate Volume\r\n----------------\r\nThis method should be in `Box` class...\r\n\r\n    box.getVolume();\r\nSince the parameters are passed via the constructor, you don&#39;t need to pass them to this method again. However, you could argue that since you have a utilities class for all box related helper methods, you could move this responsibility there and have the `Box` class to be a simple POJO (that does not how to calculate its own volume or area). I prefer this approach. If you decide to do this, you need to pass a `Box` instance to the helper method and return the result.\r\n\r\n    Box box = new Box(1, 2, 3);\r\n    int volume = BoxUtils.calculateVolume(box); // preferred\r\n\r\nCalculate Surface Area\r\n----------------\r\nThis method should also be in `Box` class or box utilities...\r\n\r\n    int area = box.getSurfaceArea(); // In Box, or\r\n    int area = BoxUtils.getSurfaceArea(box); // in BoxUtils (preferred)\r\n\r\nCapturing User Input\r\n--------------------\r\nIterating through the collection of boxes was left for last for a reason. I think you should firs try to get your problem working with a single box first. Make sure you open and close your `Scanner` object properly, get the user input correctly, etc. Then, once you test your solution to your satisfaction, expand your solution to capture inputs and create boxes in a loop operation. That way if it fails, you know your problem is isolated to this one part of the problem and not something else. For situations like this is why Problem Decomposition is crucial.\r\n\r\nYour original problem uses `double` for your height, width, and length. I am using `int` for simplicity. \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter height, width, and length for the box (space-separated i.e. 10 20 30)&quot;);\r\n\t\tint height = input.nextInt();\r\n\t\tint width = input.nextInt();\r\n\t\tint length = input.nextInt();\r\n\t\tinput.close();\r\n\r\n\t\tBox box = new Box(height, width, length);\r\n\t\tSystem.out.println(box); // I overrode Object#toString() in Box class to do this.\r\n\t}\r\n\r\nMy output\r\n\r\n    Enter height, width, and length for the box (space-separated i.e. 10 20 30)\r\n    10 20 30\r\n    height: 10; width: 20; length: 30\r\n\r\nIterating Through Box Collection\r\n--------------------------------\r\nYou mentioned that you wanted to use enhanced for loop for this. You probably won&#39;t be able to do this for what I am recommending. See [this article][1] for details. Instead, a traditional for loop will do just fine. Since I know everything has worked so far, I can now modify my existing solution to introduce looping to capture the user inputs\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBox[] boxArray = new Box[4];\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tfor (int i = 0; i &lt; boxArray.length; i++) {\r\n\t\t\tSystem.out.println(&quot;\\nEnter height, width, and length for the box (space-separated i.e. 10 20 30)&quot;);\r\n\t\t\tint height = input.nextInt();\r\n\t\t\tint width = input.nextInt();\r\n\t\t\tint length = input.nextInt();\r\n\t\t\tBox box = new Box(height, width, length);\r\n\t\t\tSystem.out.println(box);\r\n        // TODO print volume and area\t\r\n\t\t}\r\n\t\tinput.close();\r\n\t}\r\n\r\nNotice that the code is basically the same. I just created an array to store the boxes and a loop to repeat capturing the user&#39;s input until the array is full (4 boxes). You could modify this loop to go on forever and only break after a special character is pressed (which is out of scope for what you need to do).\r\n\r\nOnce I get this part done, it is time to add printing out (calculate) the volume and area for each box. You can do this inside the same loop (recommended) or create another loop and iterate through the array to display these results.\r\n\r\nNow, to finish, I just replaced the TODO with the following code:\r\n\r\n\tSystem.out.println(&quot;Box &quot; + (i+1) + &quot; surface area: &quot; + BoxUtils.calculateSurfaceArea(box));\r\n\tSystem.out.println(&quot;Box &quot; + (i+1) + &quot; volume: &quot; + BoxUtils.calculateVolume(box));\r\n\r\nNow when I execute the code, I will get an output that resembles the following:\r\n\r\n    Enter height, width, and length for the box (space-separated i.e. 10 20 30)\r\n    1 2 3\r\n    Box 1 surface area: 22.0\r\n    Box 1 volume: 6.0\r\n\r\nCoding for Immutability\r\n-----------------------\r\nCoding for immutability is out of scope for your requirement, but I think it is important to mention. Immutability has many benefits, one of which is thread safety. It is obviously not without drawbacks, but in my opinion the benefits outweighs them. For this example, I just made the fields of the `Box` class `private` and `final`, and I did not provide setter methods. So, your `Box` class should look like this:\r\n\r\n    public class Box {\r\n    \r\n    \tprivate final int height, width, length;\r\n    \r\n    \tpublic Box(int height, int width, int length) {\r\n    \t\tthis.height = height;\r\n    \t\tthis.width = width;\r\n    \t\tthis.length = length;\r\n    \t}\r\n    \r\n    \tpublic int getHeight() {\r\n    \t\treturn height;\r\n    \t}\r\n    \r\n    \tpublic int getWidth() {\r\n    \t\treturn width;\r\n    \t}\r\n    \r\n    \tpublic int getLength() {\r\n    \t\treturn length;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;height: &quot; + height + &quot;; &quot; + &quot;width: &quot; + width + &quot;; &quot; + &quot;length: &quot; + length;\r\n    \t}\r\n    }\r\n\r\nYour `BoxUtils` like this:\r\n\r\n    public class BoxUtils {\r\n    \r\n    \tprivate BoxUtils() {\r\n    \t\tthrow new AssertionError(&quot;BoxUtils cannot be instantiated&quot;);\r\n    \t}\r\n    \r\n    \tpublic static Box createBox (int height, int width, int length) {\r\n    \t    return new Box(height, width, length);\r\n    \t}\r\n    \t\r\n    \tpublic static double calculateVolume(Box box) {\r\n    \t\treturn box.getWidth() * box.getHeight() * box.getLength();\r\n    \t}\r\n    \t\r\n    \tpublic static double calculateSurfaceArea(Box box) {\r\n    \t\tint width = box.getWidth();\r\n    \t\tint height = box.getHeight();\r\n    \t\tint length = box.getLength();\r\n    \t\treturn 2 * ((width * length) + (height * length) + (height * width));\r\n    \t}\r\n    }\r\n\r\nand finally your `BoxTest` like this:\r\n\r\n    public class BoxTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tBox[] boxArray = new Box[4];\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tfor (int i = 0; i &lt; boxArray.length; i++) {\r\n    \t\t\tSystem.out.println(&quot;\\nEnter height, width, and depth for the box (space-separated i.e. 10 20 30)&quot;);\r\n    \t\t\tint height = input.nextInt();\r\n    \t\t\tint width = input.nextInt();\r\n    \t\t\tint depth = input.nextInt();\r\n    \t\t\tBox box = new Box(height, width, depth);\r\n    \t\t\tSystem.out.println(&quot;Box &quot; + (i+1) + &quot; surface area: &quot; + BoxUtils.calculateSurfaceArea(box));\r\n    \t\t\tSystem.out.println(&quot;Box &quot; + (i+1) + &quot; volume: &quot; + BoxUtils.calculateVolume(box));\r\n    \t\t}\r\n    \t\tinput.close();\r\n    \t}\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/13252318/enhanced-for-loop-does-not-work-with-scanner-inside-loop-body?lq=1","title":"how to call length, width, height, area, volume of a box from box class using boxTest","body":"<p>My recommendation is to break the problem into sub-problems and create a solution for each. This is called <em><strong>Problem Decomposition</strong></em>. Once all of the solutions are created, integrate them. In theory, integrating all of the solutions together should solve the entire problem. In your case, I think this a good, logical way to decompose your problem:</p>\n<ol>\n<li>Box creation (Setting dimension on each Box)</li>\n<li>Storing the boxes</li>\n<li>Calculating Volume</li>\n<li>Calculating Surface Area</li>\n<li>Capturing user input</li>\n<li>Iterating through Box collection</li>\n</ol>\n<h2>Box Creation</h2>\n<p>My recommendation is that, since all these subproblems are all related to your <code>Box</code> object, create helper classes and/or methods to handle each one. In this case, you can create a method that given height, width, and length, returns a new instance of <code>Box</code>.</p>\n<pre><code>public static Box createBox (int height, int width, int length) {\n    return new Box(height, width, length);\n}\n</code></pre>\n<p>In turn, your <code>Box</code> class should be storing these parameters as global members:</p>\n<pre><code>public class Box {\n    private final int height, width, length;\n    public Box (int height, int width, int length) {\n        this.height = height;\n        ...\n    }\n    ... (other methods omitted)\n}\n</code></pre>\n<p>I know this looks like overkill, and I agree. BUT, what this does is teach you a very valuable lesson in Single Responsibility Principle as well as code modularization which helps testing these smaller jobs independently. I am a strong believer that, helper classes should contain nothing but static methods. Why? Because it doesn't make much sense to create instances of objects that never hold data. In Java, <code>Math</code> class is an example of what I am talking about.</p>\n<p>Alternatively, you could create boxes without dimension and set the height, width, and length separately, but I don't believe this is a good way to go about it. For example, if one or more parameters are not set, you could end up with erroneous behavior. Lastly, your <code>Box</code> class should create immutable objects so that dimensions cannot be changed once an instance of the class is created. I will address this point last.</p>\n<h2>Storing the boxes</h2>\n<p>If this is a single-class project, maybe you want to make this collection (most likely a <code>java.util.List</code> type) a global attribute of your class. If this project contains more than one class, the class that calls your <code>createBox</code> method will have some code to add the return value of this method into some list. Something like this should do:</p>\n<pre><code>Box box1 = BoxUtils.createBox(1, 2, 3);\nmyList.add(box1);\nBox box2 = BoxUtils.createBox(4, 5, 6);\nmyList.add(box2);\n...\n</code></pre>\n<p>You get the idea. That said, this should be better done in a loop. We will get back to this later. For now, just remember this is NOT done by the box utilities or helper class. This is done by the class that calls it; in your case, <code>BoxTest</code></p>\n<pre><code>public class BoxTest {\n    public static void main(String[] args) {\n        // TODO get user input\n        // create box\n        // add box to list\n        ...\n}\n</code></pre>\n<h2>Calculate Volume</h2>\n<p>This method should be in <code>Box</code> class...</p>\n<pre><code>box.getVolume();\n</code></pre>\n<p>Since the parameters are passed via the constructor, you don't need to pass them to this method again. However, you could argue that since you have a utilities class for all box related helper methods, you could move this responsibility there and have the <code>Box</code> class to be a simple POJO (that does not how to calculate its own volume or area). I prefer this approach. If you decide to do this, you need to pass a <code>Box</code> instance to the helper method and return the result.</p>\n<pre><code>Box box = new Box(1, 2, 3);\nint volume = BoxUtils.calculateVolume(box); // preferred\n</code></pre>\n<h2>Calculate Surface Area</h2>\n<p>This method should also be in <code>Box</code> class or box utilities...</p>\n<pre><code>int area = box.getSurfaceArea(); // In Box, or\nint area = BoxUtils.getSurfaceArea(box); // in BoxUtils (preferred)\n</code></pre>\n<h2>Capturing User Input</h2>\n<p>Iterating through the collection of boxes was left for last for a reason. I think you should firs try to get your problem working with a single box first. Make sure you open and close your <code>Scanner</code> object properly, get the user input correctly, etc. Then, once you test your solution to your satisfaction, expand your solution to capture inputs and create boxes in a loop operation. That way if it fails, you know your problem is isolated to this one part of the problem and not something else. For situations like this is why Problem Decomposition is crucial.</p>\n<p>Your original problem uses <code>double</code> for your height, width, and length. I am using <code>int</code> for simplicity.</p>\n<pre><code>public static void main(String[] args) {\n    \n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Enter height, width, and length for the box (space-separated i.e. 10 20 30)&quot;);\n    int height = input.nextInt();\n    int width = input.nextInt();\n    int length = input.nextInt();\n    input.close();\n\n    Box box = new Box(height, width, length);\n    System.out.println(box); // I overrode Object#toString() in Box class to do this.\n}\n</code></pre>\n<p>My output</p>\n<pre><code>Enter height, width, and length for the box (space-separated i.e. 10 20 30)\n10 20 30\nheight: 10; width: 20; length: 30\n</code></pre>\n<h2>Iterating Through Box Collection</h2>\n<p>You mentioned that you wanted to use enhanced for loop for this. You probably won't be able to do this for what I am recommending. See <a href=\"https://stackoverflow.com/questions/13252318/enhanced-for-loop-does-not-work-with-scanner-inside-loop-body?lq=1\">this article</a> for details. Instead, a traditional for loop will do just fine. Since I know everything has worked so far, I can now modify my existing solution to introduce looping to capture the user inputs</p>\n<pre><code>public static void main(String[] args) {\n    Box[] boxArray = new Box[4];\n    Scanner input = new Scanner(System.in);\n    for (int i = 0; i &lt; boxArray.length; i++) {\n        System.out.println(&quot;\\nEnter height, width, and length for the box (space-separated i.e. 10 20 30)&quot;);\n        int height = input.nextInt();\n        int width = input.nextInt();\n        int length = input.nextInt();\n        Box box = new Box(height, width, length);\n        System.out.println(box);\n    // TODO print volume and area   \n    }\n    input.close();\n}\n</code></pre>\n<p>Notice that the code is basically the same. I just created an array to store the boxes and a loop to repeat capturing the user's input until the array is full (4 boxes). You could modify this loop to go on forever and only break after a special character is pressed (which is out of scope for what you need to do).</p>\n<p>Once I get this part done, it is time to add printing out (calculate) the volume and area for each box. You can do this inside the same loop (recommended) or create another loop and iterate through the array to display these results.</p>\n<p>Now, to finish, I just replaced the TODO with the following code:</p>\n<pre><code>System.out.println(&quot;Box &quot; + (i+1) + &quot; surface area: &quot; + BoxUtils.calculateSurfaceArea(box));\nSystem.out.println(&quot;Box &quot; + (i+1) + &quot; volume: &quot; + BoxUtils.calculateVolume(box));\n</code></pre>\n<p>Now when I execute the code, I will get an output that resembles the following:</p>\n<pre><code>Enter height, width, and length for the box (space-separated i.e. 10 20 30)\n1 2 3\nBox 1 surface area: 22.0\nBox 1 volume: 6.0\n</code></pre>\n<h2>Coding for Immutability</h2>\n<p>Coding for immutability is out of scope for your requirement, but I think it is important to mention. Immutability has many benefits, one of which is thread safety. It is obviously not without drawbacks, but in my opinion the benefits outweighs them. For this example, I just made the fields of the <code>Box</code> class <code>private</code> and <code>final</code>, and I did not provide setter methods. So, your <code>Box</code> class should look like this:</p>\n<pre><code>public class Box {\n\n    private final int height, width, length;\n\n    public Box(int height, int width, int length) {\n        this.height = height;\n        this.width = width;\n        this.length = length;\n    }\n\n    public int getHeight() {\n        return height;\n    }\n\n    public int getWidth() {\n        return width;\n    }\n\n    public int getLength() {\n        return length;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;height: &quot; + height + &quot;; &quot; + &quot;width: &quot; + width + &quot;; &quot; + &quot;length: &quot; + length;\n    }\n}\n</code></pre>\n<p>Your <code>BoxUtils</code> like this:</p>\n<pre><code>public class BoxUtils {\n\n    private BoxUtils() {\n        throw new AssertionError(&quot;BoxUtils cannot be instantiated&quot;);\n    }\n\n    public static Box createBox (int height, int width, int length) {\n        return new Box(height, width, length);\n    }\n    \n    public static double calculateVolume(Box box) {\n        return box.getWidth() * box.getHeight() * box.getLength();\n    }\n    \n    public static double calculateSurfaceArea(Box box) {\n        int width = box.getWidth();\n        int height = box.getHeight();\n        int length = box.getLength();\n        return 2 * ((width * length) + (height * length) + (height * width));\n    }\n}\n</code></pre>\n<p>and finally your <code>BoxTest</code> like this:</p>\n<pre><code>public class BoxTest {\n\n    public static void main(String[] args) {\n        Box[] boxArray = new Box[4];\n        Scanner input = new Scanner(System.in);\n        for (int i = 0; i &lt; boxArray.length; i++) {\n            System.out.println(&quot;\\nEnter height, width, and depth for the box (space-separated i.e. 10 20 30)&quot;);\n            int height = input.nextInt();\n            int width = input.nextInt();\n            int depth = input.nextInt();\n            Box box = new Box(height, width, depth);\n            System.out.println(&quot;Box &quot; + (i+1) + &quot; surface area: &quot; + BoxUtils.calculateSurfaceArea(box));\n            System.out.println(&quot;Box &quot; + (i+1) + &quot; volume: &quot; + BoxUtils.calculateVolume(box));\n        }\n        input.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5368723,"reputation":79,"user_id":4277827,"accept_rate":50,"display_name":"NumbNuts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37977,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1694657356,"creation_date":1417819006,"question_id":27325803,"body_markdown":"I am writing a code to measure the surface area of a box and volume of the box. Finally, I got it to works. Now the challenges are I have to make 4 object and and store it into array and then use enhanced for loop to go through each box in the array. I mean when you loop through the array, it will get to first box, and ask you to enter the length, width, and height. Then it will show you the first box&#39;s length, width, height, surface area, and volume. I try to find an example for it but I cant find anything. I am still trying to make it work. Thank you for your help. here is my Box code. \r\n\r\n    public class Box\r\n    {\r\n        private double length = 1.0;\r\n        private double width = 1.0;\r\n        private double height = 1.0;\r\n    \r\n        //constructor\r\n        public Box (double l, double w, double h)\r\n        {\r\n            setLength(l);\r\n            setWidth(w);\r\n            setHeight(h);\r\n        }\r\n    \r\n        //set length method\r\n        public void setLength(double l)\r\n        {\r\n            if(l &gt; 0)\r\n            {\r\n                length = l;\r\n            }\r\n            else\r\n            {\r\n                length = 1.0;\r\n            }\r\n        }\r\n    \r\n        //set width method\r\n        public void setWidth(double w)\r\n        {\r\n            if(w &gt; 0)\r\n            {\r\n                width = w;\r\n            }\r\n            else\r\n            {\r\n                width = 1.0;\r\n            }\r\n        }\r\n    \r\n        //set height method\r\n        public void setHeight(double h)\r\n        {\r\n            if(h &gt; 0)\r\n            {\r\n                height = h;\r\n            }\r\n            else\r\n            {\r\n                height = 1.0;\r\n            }\r\n        }\r\n    \r\n        //calculate area method\r\n        public double calculateArea(double length, double width)\r\n        {\r\n            return (length*width);\r\n        }\r\n    \r\n        //calculate volume method\r\n        public double calculateVolume(double length, double width, double height)\r\n        {\r\n            return (length*width*height);\r\n        }\r\n    \r\n        //get length method\r\n        public String getLength()\r\n        {\r\n            return String.format(&quot;%f&quot;, length);\r\n        }\r\n    \r\n        //get width method\r\n        public String getWidth()\r\n        {\r\n            return String.format(&quot;%f&quot;,width);\r\n        }\r\n    \r\n        //get height\r\n        public String getHeight()\r\n        {\r\n            return String.format(&quot;%f&quot;,height);\r\n        }   \r\n    \r\n        public String toString()\r\n        {\r\n            return String.format(&quot;Length is %s.\\nWidth is %s.\\nHeight is %s.\\n&quot;, getLength(), getWidth(), getHeight());\r\n        }\r\n\r\n}\r\n\r\nand here is my main code\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class BoxTest\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            //Box boxOne, boxTwo, boxThree, boxFour;          \r\n            double l;\r\n            double w;\r\n            double h;\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            int[] boxes = new int[4];\r\n            System.out.print (&quot;Enter the length of your box:&quot;);\r\n            l= input.nextDouble();\r\n            System.out.print (&quot;Enter the width of your box:&quot;);\r\n            w= input.nextDouble();\r\n            System.out.print (&quot;Enter the height of your box:&quot;);\r\n            h= input.nextDouble();\r\n    \r\n            Box boxOne = new Box(l, w, h);\r\n            System.out.println(boxOne.toString());\r\n            System.out.printf(&quot;The surface area of the box is %f.\\nThe volume of the box is %f.\\n&quot;, \r\n                              boxOne.calculateArea(l, w), boxOne.calculateVolume(l, w, h));\r\n    \r\n    \r\n        }\r\n    }","title":"how to call length, width, height, area, volume of a box from box class using boxTest","body":"<p>I am writing a code to measure the surface area of a box and volume of the box. Finally, I got it to works. Now the challenges are I have to make 4 object and and store it into array and then use enhanced for loop to go through each box in the array. I mean when you loop through the array, it will get to first box, and ask you to enter the length, width, and height. Then it will show you the first box's length, width, height, surface area, and volume. I try to find an example for it but I cant find anything. I am still trying to make it work. Thank you for your help. here is my Box code. </p>\n\n<pre><code>public class Box\n{\n    private double length = 1.0;\n    private double width = 1.0;\n    private double height = 1.0;\n\n    //constructor\n    public Box (double l, double w, double h)\n    {\n        setLength(l);\n        setWidth(w);\n        setHeight(h);\n    }\n\n    //set length method\n    public void setLength(double l)\n    {\n        if(l &gt; 0)\n        {\n            length = l;\n        }\n        else\n        {\n            length = 1.0;\n        }\n    }\n\n    //set width method\n    public void setWidth(double w)\n    {\n        if(w &gt; 0)\n        {\n            width = w;\n        }\n        else\n        {\n            width = 1.0;\n        }\n    }\n\n    //set height method\n    public void setHeight(double h)\n    {\n        if(h &gt; 0)\n        {\n            height = h;\n        }\n        else\n        {\n            height = 1.0;\n        }\n    }\n\n    //calculate area method\n    public double calculateArea(double length, double width)\n    {\n        return (length*width);\n    }\n\n    //calculate volume method\n    public double calculateVolume(double length, double width, double height)\n    {\n        return (length*width*height);\n    }\n\n    //get length method\n    public String getLength()\n    {\n        return String.format(\"%f\", length);\n    }\n\n    //get width method\n    public String getWidth()\n    {\n        return String.format(\"%f\",width);\n    }\n\n    //get height\n    public String getHeight()\n    {\n        return String.format(\"%f\",height);\n    }   \n\n    public String toString()\n    {\n        return String.format(\"Length is %s.\\nWidth is %s.\\nHeight is %s.\\n\", getLength(), getWidth(), getHeight());\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>and here is my main code</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class BoxTest\n{\n    public static void main(String[] args)\n    {\n        //Box boxOne, boxTwo, boxThree, boxFour;          \n        double l;\n        double w;\n        double h;\n\n        Scanner input = new Scanner(System.in);\n        int[] boxes = new int[4];\n        System.out.print (\"Enter the length of your box:\");\n        l= input.nextDouble();\n        System.out.print (\"Enter the width of your box:\");\n        w= input.nextDouble();\n        System.out.print (\"Enter the height of your box:\");\n        h= input.nextDouble();\n\n        Box boxOne = new Box(l, w, h);\n        System.out.println(boxOne.toString());\n        System.out.printf(\"The surface area of the box is %f.\\nThe volume of the box is %f.\\n\", \n                          boxOne.calculateArea(l, w), boxOne.calculateVolume(l, w, h));\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","lanterna"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651769452,"post_id":72130808,"comment_id":127447617,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":29436720,"reputation":1,"user_id":22555409,"display_name":"PAGMA Online"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694656846,"creation_date":1694656846,"answer_id":77101376,"question_id":72130808,"body_markdown":"    Font myFont = new Font(&quot;Monospaced&quot;, Font.PLAIN, 20); // Change the number 20 to your desired font size\r\n                AWTTerminalFontConfiguration myFontConfiguration = AWTTerminalFontConfiguration.newInstance(myFont);\r\n                // Use myFontConfiguration when creating your terminal\r\n                // Create a default terminal (will use Swing on desktop)\r\n                // Use myFontConfiguration when creating your terminal\r\n                DefaultTerminalFactory dtf = new DefaultTerminalFactory();\r\n                dtf.setForceAWTOverSwing(true);\r\n                dtf.setTerminalEmulatorFontConfiguration(myFontConfiguration);\r\n                Terminal terminal = dtf.createTerminal();\r\n\r\n","title":"Lanterna how do I change the font size?","body":"<pre><code>Font myFont = new Font(&quot;Monospaced&quot;, Font.PLAIN, 20); // Change the number 20 to your desired font size\n            AWTTerminalFontConfiguration myFontConfiguration = AWTTerminalFontConfiguration.newInstance(myFont);\n            // Use myFontConfiguration when creating your terminal\n            // Create a default terminal (will use Swing on desktop)\n            // Use myFontConfiguration when creating your terminal\n            DefaultTerminalFactory dtf = new DefaultTerminalFactory();\n            dtf.setForceAWTOverSwing(true);\n            dtf.setTerminalEmulatorFontConfiguration(myFontConfiguration);\n            Terminal terminal = dtf.createTerminal();\n</code></pre>\n"}],"owner":{"account_id":25207062,"reputation":11,"user_id":19045244,"display_name":"FundyJo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694657203,"creation_date":1651769049,"question_id":72130808,"body_markdown":"I&#39;ve been trying for 3 days now to change the font size in Laterna because it&#39;s so small in the console that it&#39;s unreadable. In the API I can only get:\r\n\r\n`SwingTerminalFontConfiguration.newinstance(....);`\r\n\r\nSo I tried to use (new Font) but it didn&#39;t change. I need help, if you can help me please send me an example script to explain it.","title":"Lanterna how do I change the font size?","body":"<p>I've been trying for 3 days now to change the font size in Laterna because it's so small in the console that it's unreadable. In the API I can only get:</p>\n<p><code>SwingTerminalFontConfiguration.newinstance(....);</code></p>\n<p>So I tried to use (new Font) but it didn't change. I need help, if you can help me please send me an example script to explain it.</p>\n"},{"tags":["java","type-conversion","currency"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694656457,"creation_date":1694656457,"answer_id":77101357,"question_id":77100544,"body_markdown":"&gt; _&quot;... Can anyone let me know what&#39;s the issue with my code ??_\r\n&gt;\r\n&gt; _Expected 110.5 but getting 1.0. ...&quot;_\r\n\r\nThe _calculateMaxAmount_ has a recursive call.\r\n\r\n```java\r\nif (fromCurrency.equals(originalCurrency)) {\r\n    double newAmount = amount * rate;\r\n    double tempMaxAmount = calculateMaxAmount(fxRates, toCurrency, targetCurrency, newAmount);\r\n    if (tempMaxAmount &gt; maxAmount) {\r\n        maxAmount = tempMaxAmount;\r\n    }\r\n}\r\n```\r\n\r\nSimilar to the _main_ method, just assign a value if it&#39;s greater-than the current.  \r\n\r\n```java\r\ndouble newAmount = amount * rate;\r\nif (newAmount &gt; maxAmount) maxAmount = newAmount;\r\n```\r\n\r\nHere is an example input and output.\r\n\r\n```none\r\nUSD,GBP\r\n155.0\r\n```","title":"getting wrong output for USD, CAD, 1.3; USD, GBP, 0.71; USD, JPY, 109; GBP, JPY, 155 expected Expected 110.5 but getting-1.0","body":"<blockquote>\n<p><em>&quot;... Can anyone let me know what's the issue with my code ??</em></p>\n<p><em>Expected 110.5 but getting 1.0. ...&quot;</em></p>\n</blockquote>\n<p>The <em>calculateMaxAmount</em> has a recursive call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (fromCurrency.equals(originalCurrency)) {\n    double newAmount = amount * rate;\n    double tempMaxAmount = calculateMaxAmount(fxRates, toCurrency, targetCurrency, newAmount);\n    if (tempMaxAmount &gt; maxAmount) {\n        maxAmount = tempMaxAmount;\n    }\n}\n</code></pre>\n<p>Similar to the <em>main</em> method, just assign a value if it's greater-than the current.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double newAmount = amount * rate;\nif (newAmount &gt; maxAmount) maxAmount = newAmount;\n</code></pre>\n<p>Here is an example input and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>USD,GBP\n155.0\n</code></pre>\n"}],"owner":{"account_id":29435424,"reputation":1,"user_id":22554389,"display_name":"Neha M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1694656457,"creation_date":1694639694,"question_id":77100544,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.math.*;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        InputStreamReader reader = new InputStreamReader(System.in, StandardCharsets.UTF_8);\r\n        BufferedReader in = new BufferedReader(reader);\r\n    \r\n        // Create a map of exchange rates\r\n        Map&lt;String, Double&gt; fxRates = new HashMap&lt;&gt;();\r\n        fxRates.put(&quot;USD, JPY&quot;, 109.0);\r\n        fxRates.put(&quot;USD, GBP&quot;, 0.71);\r\n        fxRates.put(&quot;GBP, JPY&quot;, 155.0);\r\n        fxRates.put(&quot;CAD, CNY&quot;, 5.27);\r\n        fxRates.put(&quot;CAD, KR&quot;, 921.0);\r\n        fxRates.put(&quot;USD, CAD&quot;, 1.3);\r\n        fxRates.put(&quot;CAD, JPY&quot;, 88.0);\r\n    \r\n        // Read the input and calculate the maximum amount of the target currency\r\n        // that can be obtained from 1 unit of the selected currency\r\n        String line;\r\n        double maxAmount = -1.0;\r\n        while ((line = in.readLine()) != null) {\r\n            String[] currencies = line.split(&quot;;&quot;);\r\n            for (String currencyPair : currencies) {\r\n                String[] currencies = currencyPair.trim().split(&quot;,&quot;);\r\n                if (currencies.length == 2) {\r\n                    String originalCurrency = currencies[0].trim();\r\n                    String targetCurrency = currencies[1].trim();\r\n                    double amount = calculateMaxAmount(fxRates, targetCurrency, originalCurrency, 1);\r\n                    if (amount &gt; maxAmount) {\r\n                        maxAmount = amount;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        // Print the maximum amount\r\n        System.out.println(maxAmount);\r\n    }\r\n    \r\n    public static double calculateMaxAmount(Map&lt;String, Double&gt; fxRates, String originalCurrency, String targetCurrency, double amount) {\r\n        if (originalCurrency.equals(targetCurrency)) {\r\n            return amount;\r\n        }\r\n    \r\n        double maxAmount = -1.0;\r\n        for (Map.Entry&lt;String, Double&gt; entry : fxRates.entrySet()) {\r\n            String[] currencies = entry.getKey().split(&quot;,&quot;);\r\n            String fromCurrency = currencies[0].trim();\r\n            String toCurrency = currencies[1].trim();\r\n            double rate = entry.getValue();\r\n    \r\n            if (fromCurrency.equals(originalCurrency)) {\r\n                double newAmount = amount * rate;\r\n                double tempMaxAmount = calculateMaxAmount(fxRates, toCurrency, targetCurrency, newAmount);\r\n                if (tempMaxAmount &gt; maxAmount) {\r\n                    maxAmount = tempMaxAmount;\r\n                }\r\n            }\r\n        }\r\n    \r\n        return maxAmount;\r\n\r\n}\r\n}\r\n```\r\n\r\nCan anyone let me know what&#39;s the issue with my code ??\r\n\r\nExpected 110.5 but getting 1.0. It is supposed to be he input you provided is:","title":"getting wrong output for USD, CAD, 1.3; USD, GBP, 0.71; USD, JPY, 109; GBP, JPY, 155 expected Expected 110.5 but getting-1.0","body":"<pre><code>import java.io.*;\nimport java.math.*;\nimport java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        InputStreamReader reader = new InputStreamReader(System.in, StandardCharsets.UTF_8);\n        BufferedReader in = new BufferedReader(reader);\n    \n        // Create a map of exchange rates\n        Map&lt;String, Double&gt; fxRates = new HashMap&lt;&gt;();\n        fxRates.put(&quot;USD, JPY&quot;, 109.0);\n        fxRates.put(&quot;USD, GBP&quot;, 0.71);\n        fxRates.put(&quot;GBP, JPY&quot;, 155.0);\n        fxRates.put(&quot;CAD, CNY&quot;, 5.27);\n        fxRates.put(&quot;CAD, KR&quot;, 921.0);\n        fxRates.put(&quot;USD, CAD&quot;, 1.3);\n        fxRates.put(&quot;CAD, JPY&quot;, 88.0);\n    \n        // Read the input and calculate the maximum amount of the target currency\n        // that can be obtained from 1 unit of the selected currency\n        String line;\n        double maxAmount = -1.0;\n        while ((line = in.readLine()) != null) {\n            String[] currencies = line.split(&quot;;&quot;);\n            for (String currencyPair : currencies) {\n                String[] currencies = currencyPair.trim().split(&quot;,&quot;);\n                if (currencies.length == 2) {\n                    String originalCurrency = currencies[0].trim();\n                    String targetCurrency = currencies[1].trim();\n                    double amount = calculateMaxAmount(fxRates, targetCurrency, originalCurrency, 1);\n                    if (amount &gt; maxAmount) {\n                        maxAmount = amount;\n                    }\n                }\n            }\n        }\n    \n        // Print the maximum amount\n        System.out.println(maxAmount);\n    }\n    \n    public static double calculateMaxAmount(Map&lt;String, Double&gt; fxRates, String originalCurrency, String targetCurrency, double amount) {\n        if (originalCurrency.equals(targetCurrency)) {\n            return amount;\n        }\n    \n        double maxAmount = -1.0;\n        for (Map.Entry&lt;String, Double&gt; entry : fxRates.entrySet()) {\n            String[] currencies = entry.getKey().split(&quot;,&quot;);\n            String fromCurrency = currencies[0].trim();\n            String toCurrency = currencies[1].trim();\n            double rate = entry.getValue();\n    \n            if (fromCurrency.equals(originalCurrency)) {\n                double newAmount = amount * rate;\n                double tempMaxAmount = calculateMaxAmount(fxRates, toCurrency, targetCurrency, newAmount);\n                if (tempMaxAmount &gt; maxAmount) {\n                    maxAmount = tempMaxAmount;\n                }\n            }\n        }\n    \n        return maxAmount;\n\n}\n}\n</code></pre>\n<p>Can anyone let me know what's the issue with my code ??</p>\n<p>Expected 110.5 but getting 1.0. It is supposed to be he input you provided is:</p>\n"},{"tags":["java","caching","keycloak","classcastexception","infinispan"],"answers":[{"tags":[],"owner":{"account_id":1679945,"reputation":551,"user_id":1544452,"accept_rate":83,"display_name":"Eduardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694655778,"creation_date":1694655778,"answer_id":77101327,"question_id":75652382,"body_markdown":"It looks like the main issue is that the `remote-store`s are configured with `cache=actionTokens` instead of the name of the cache that it&#39;s being configured:\r\n\r\n```\r\necho ** Set offlineClientSessions cache as remote store **\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineClientSessions/store=remote:add( \\\r\n    passivation=false, \\\r\n    fetch-state=false, \\\r\n    purge=false, \\\r\n    preload=false, \\\r\n    shared=true, \\\r\n    cache=actionTokens, \\\r\n    remote-servers=[&quot;remote-cache&quot;], \\\r\n    properties={ \\\r\n        rawValues=true, \\\r\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\r\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\r\n    } \\\r\n)\r\n```\r\n\r\nNotice the line &quot;cache=actionTokens&quot; but the distributed-cache is &quot;offlineClientSessions&quot;","title":"ClassCastExceptions running Keycloak with remote Infinispan cache","body":"<p>It looks like the main issue is that the <code>remote-store</code>s are configured with <code>cache=actionTokens</code> instead of the name of the cache that it's being configured:</p>\n<pre><code>echo ** Set offlineClientSessions cache as remote store **\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineClientSessions/store=remote:add( \\\n    passivation=false, \\\n    fetch-state=false, \\\n    purge=false, \\\n    preload=false, \\\n    shared=true, \\\n    cache=actionTokens, \\\n    remote-servers=[&quot;remote-cache&quot;], \\\n    properties={ \\\n        rawValues=true, \\\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\n    } \\\n)\n</code></pre>\n<p>Notice the line &quot;cache=actionTokens&quot; but the distributed-cache is &quot;offlineClientSessions&quot;</p>\n"}],"owner":{"account_id":1184797,"reputation":225,"user_id":1158978,"display_name":"revdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694655778,"creation_date":1678114778,"question_id":75652382,"body_markdown":"***Setup***\r\n\r\nKeycloak 16.1.1 wired up to an Infinispan 14 cluster for remote caching of session data (user sessions, authentication sessions, client sessions, etc.). Both Keycloak and Infinispan are using OpenJDK 11.\r\n\r\nKeycloak remote caching is initialized as follows:\r\n```\r\necho *** Setup Infinispan cache module ***\r\n/subsystem=infinispan/cache-container=keycloak:write-attribute(name=module, value=org.keycloak.keycloak-model-infinispan)\r\n\r\necho *** Add remote socket binding to Infinispan cluster ***\r\n/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=remote-cache:add(host=${remote.cache.host:localhost}, port=${remote.cache.port:11222})\r\n\r\necho ** Set work cache as remote store **\r\n/subsystem=infinispan/cache-container=keycloak/replicated-cache=work/store=remote:add( \\\r\n    passivation=false, \\\r\n    fetch-state=false, \\\r\n    purge=false, \\\r\n    preload=false, \\\r\n    shared=true, \\\r\n    cache=actionTokens, \\\r\n    remote-servers=[&quot;remote-cache&quot;], \\\r\n    properties={ \\\r\n        rawValues=true, \\\r\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\r\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\r\n    } \\\r\n)\r\n/subsystem=infinispan/cache-container=keycloak/replicated-cache=work:write-attribute(name=statistics-enabled,value=true)\r\n\r\necho ** Set sessions cache as remote store **\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=sessions/store=remote:add( \\\r\n    passivation=false, \\\r\n    fetch-state=false, \\\r\n    purge=false, \\\r\n    preload=false, \\\r\n    shared=true, \\\r\n    cache=actionTokens, \\\r\n    remote-servers=[&quot;remote-cache&quot;], \\\r\n    properties={ \\\r\n        rawValues=true, \\\r\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\r\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\r\n    } \\\r\n)\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=sessions:write-attribute(name=statistics-enabled,value=true)\r\n\r\necho ** Set authenticationSessions cache as remote store **\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=authenticationSessions/store=remote:add( \\\r\n    passivation=false, \\\r\n    fetch-state=false, \\\r\n    purge=false, \\\r\n    preload=false, \\\r\n    shared=true, \\\r\n    cache=actionTokens, \\\r\n    remote-servers=[&quot;remote-cache&quot;], \\\r\n    properties={ \\\r\n        rawValues=true, \\\r\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\r\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\r\n    } \\\r\n)\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=authenticationSessions:write-attribute(name=statistics-enabled,value=true)\r\n\r\necho ** Set offlineSessions cache as remote store **\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineSessions/store=remote:add( \\\r\n    passivation=false, \\\r\n    fetch-state=false, \\\r\n    purge=false, \\\r\n    preload=false, \\\r\n    shared=true, \\\r\n    cache=actionTokens, \\\r\n    remote-servers=[&quot;remote-cache&quot;], \\\r\n    properties={ \\\r\n        rawValues=true, \\\r\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\r\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\r\n    } \\\r\n)\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineSessions:write-attribute(name=statistics-enabled,value=true)\r\n\r\necho ** Set clientSessions cache as remote store **\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=clientSessions/store=remote:add( \\\r\n    passivation=false, \\\r\n    fetch-state=false, \\\r\n    purge=false, \\\r\n    preload=false, \\\r\n    shared=true, \\\r\n    cache=actionTokens, \\\r\n    remote-servers=[&quot;remote-cache&quot;], \\\r\n    properties={ \\\r\n        rawValues=true, \\\r\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\r\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\r\n    } \\\r\n)\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=clientSessions:write-attribute(name=statistics-enabled,value=true)\r\n\r\necho ** Set offlineClientSessions cache as remote store **\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineClientSessions/store=remote:add( \\\r\n    passivation=false, \\\r\n    fetch-state=false, \\\r\n    purge=false, \\\r\n    preload=false, \\\r\n    shared=true, \\\r\n    cache=actionTokens, \\\r\n    remote-servers=[&quot;remote-cache&quot;], \\\r\n    properties={ \\\r\n        rawValues=true, \\\r\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\r\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\r\n    } \\\r\n)\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineClientSessions:write-attribute(name=statistics-enabled,value=true)\r\n\r\necho ** Set loginFailure cache as remote store **\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=loginFailures/store=remote:add( \\\r\n    passivation=false, \\\r\n    fetch-state=false, \\\r\n    purge=false, \\\r\n    preload=false, \\\r\n    shared=true, \\\r\n    cache=actionTokens, \\\r\n    remote-servers=[&quot;remote-cache&quot;], \\\r\n    properties={ \\\r\n        rawValues=true, \\\r\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\r\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\r\n    } \\\r\n)\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=loginFailures:write-attribute(name=statistics-enabled,value=true)\r\n\r\necho ** Set actionTokens cache as remote store **\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=actionTokens/store=remote:add( \\\r\n    passivation=false, \\\r\n    fetch-state=false, \\\r\n    purge=false, \\\r\n    preload=false, \\\r\n    shared=true, \\\r\n    cache=actionTokens, \\\r\n    remote-servers=[&quot;remote-cache&quot;], \\\r\n    properties={ \\\r\n        rawValues=true, \\\r\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\r\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\r\n    } \\\r\n)\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=actionTokens:write-attribute(name=statistics-enabled,value=true)\r\n\r\necho *** Setting CACHE_OWNERS to &quot;${env.CACHE_OWNERS}&quot; in all cache-containers ***\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=sessions:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=authenticationSessions:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineSessions:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=clientSessions:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineClientSessions:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=loginFailures:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\r\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=actionTokens:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\r\n\r\n```\r\n\r\nInfinispan cluster config is:\r\n```\r\n   &lt;cache-container name=&quot;default&quot; statistics=&quot;true&quot;&gt;\r\n      &lt;transport cluster=&quot;${infinispan.cluster.name:default-ispan-cluster}&quot; node-name=&quot;${infinispan.node.name:env.HOST}&quot; stack=&quot;nxt-stack&quot;/&gt;\r\n      &lt;serialization marshaller=&quot;org.infinispan.jboss.marshalling.commons.GenericJBossMarshaller&quot;&gt;\r\n         &lt;allow-list&gt;\r\n            &lt;regex&gt;org.keycloak.*&lt;/regex&gt;\r\n            &lt;regex&gt;java.util.*&lt;/regex&gt;\r\n         &lt;/allow-list&gt;\r\n      &lt;/serialization&gt;\r\n      &lt;replicated-cache-configuration name=&quot;sessions-cfg&quot; start=&quot;EAGER&quot;&gt;\r\n         &lt;transaction mode=&quot;NON_XA&quot; locking=&quot;PESSIMISTIC&quot;/&gt;\r\n      &lt;/replicated-cache-configuration&gt;\r\n      &lt;replicated-cache name=&quot;work&quot; configuration=&quot;sessions-cfg&quot;&gt;\r\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\r\n      &lt;/replicated-cache&gt;\r\n      &lt;replicated-cache name=&quot;sessions&quot; configuration=&quot;sessions-cfg&quot;&gt;\r\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\r\n      &lt;/replicated-cache&gt;\r\n      &lt;replicated-cache name=&quot;authenticationSessions&quot; configuration=&quot;sessions-cfg&quot;&gt;\r\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\r\n      &lt;/replicated-cache&gt;\r\n      &lt;replicated-cache name=&quot;offlineSessions&quot; configuration=&quot;sessions-cfg&quot;&gt;\r\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\r\n      &lt;/replicated-cache&gt;\r\n      &lt;replicated-cache name=&quot;clientSessions&quot; configuration=&quot;sessions-cfg&quot;&gt;\r\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\r\n      &lt;/replicated-cache&gt;\r\n      &lt;replicated-cache name=&quot;offlineClientSessions&quot; configuration=&quot;sessions-cfg&quot;&gt;\r\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\r\n      &lt;/replicated-cache&gt;\r\n      &lt;replicated-cache name=&quot;actionTokens&quot; configuration=&quot;sessions-cfg&quot;&gt;\r\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\r\n      &lt;/replicated-cache&gt;\r\n      &lt;replicated-cache name=&quot;loginFailures&quot; configuration=&quot;sessions-cfg&quot;&gt;\r\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\r\n      &lt;/replicated-cache&gt;\r\n   &lt;/cache-container&gt;\r\n```\r\n\r\n***Problem***\r\n\r\nI can confirm *some* of the cache data is stored in Infinispan (namely actionTokens).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, I&#39;m getting ClassCastExceptions on Keycloak side for most cache retrievals, including user sessions, all citing the inability to cast to **SessionEntityWrapper**. \r\n\r\nYou can easily reproduce the error below by simply viewing user sessions on Keycloak admin console or attempting a login. (This happens when attempting a cast to `RootAuthenticationSessionEntity` as well)\r\n\r\n```\r\n07:29:36,571 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-2) Uncaught server error: com.fasterxml.jackson.databind.JsonMappingException: java.lang.ClassCastException: class java.lang.Boolean cannot be cast to class org.keycloak.models.sessions.infinispan.changes.SessionEntityWrapper (java.lang.Boolean is in module java.base of loader &#39;bootstrap&#39;; org.keycloak.models.sessions.infinispan.changes.SessionEntityWrapper is in unnamed module of loader &#39;org.keycloak.keycloak-model-infinispan@16.1.1&#39; @70e80e4f)\r\n\tat com.fasterxml.jackson.core.jackson-databind@2.12.3//com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._wrapAsIOE(DefaultSerializerProvider.java:509)\r\n\tat com.fasterxml.jackson.core.jackson-databind@2.12.3//com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:482)\r\n\tat com.fasterxml.jackson.core.jackson-databind@2.12.3//com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:400)\r\n\tat com.fasterxml.jackson.core.jackson-databind@2.12.3//com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1510)\r\n\tat com.fasterxml.jackson.core.jackson-databind@2.12.3//com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1006)\r\n\tat org.jboss.resteasy.resteasy-jackson2-provider@4.7.4.Final//org.jboss.resteasy.plugins.providers.jackson.ResteasyJackson2Provider.writeTo(ResteasyJackson2Provider.java:345)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.messagebody.AsyncBufferedMessageBodyWriter.asyncWriteTo(AsyncBufferedMessageBodyWriter.java:24)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.ServerWriterInterceptorContext.writeTo(ServerWriterInterceptorContext.java:87)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.AbstractWriterInterceptorContext.asyncProceed(AbstractWriterInterceptorContext.java:203)\r\n\tat org.jboss.resteasy.resteasy-crypto@4.7.4.Final//org.jboss.resteasy.security.doseta.DigitalSigningInterceptor.asyncAroundWriteTo(DigitalSigningInterceptor.java:169)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.AbstractWriterInterceptorContext.asyncProceed(AbstractWriterInterceptorContext.java:211)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.AbstractWriterInterceptorContext.getStarted(AbstractWriterInterceptorContext.java:166)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.ServerWriterInterceptorContext.lambda$getStarted$0(ServerWriterInterceptorContext.java:73)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.ServerWriterInterceptorContext.aroundWriteTo(ServerWriterInterceptorContext.java:93)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.ServerWriterInterceptorContext.getStarted(ServerWriterInterceptorContext.java:73)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ServerResponseWriter.lambda$writeNomapResponse$3(ServerResponseWriter.java:163)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.ContainerResponseContextImpl.filter(ContainerResponseContextImpl.java:404)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ServerResponseWriter.executeFilters(ServerResponseWriter.java:252)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:101)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:74)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.writeResponse(SynchronousDispatcher.java:594)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:524)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:249)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:60)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55)\r\n\tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat org.keycloak.keycloak-wildfly-extensions@16.1.1//org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)\r\n\tat org.keycloak.keycloak-services@16.1.1//org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)\r\n\tat org.keycloak.keycloak-wildfly-extensions@16.1.1//org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat org.wildfly.security.elytron-web.undertow-server@1.10.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\r\n\tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\r\n\tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n\tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\r\n\tat org.wildfly.security.elytron-web.undertow-server@1.10.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.core@2.2.14.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.core@2.2.14.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat org.wildfly.security.elytron-web.undertow-server-servlet@1.10.1.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\r\n\tat io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n\tat io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n\tat io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n\tat org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n\tat org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n\tat org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\r\n\tat io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n\tat io.undertow.core@2.2.14.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n\tat io.undertow.core@2.2.14.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat org.jboss.xnio@3.8.5.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.infinispan.commons.CacheException: java.lang.ClassCastException: class java.lang.Boolean cannot be cast to class org.keycloak.models.sessions.infinispan.changes.SessionEntityWrapper (java.lang.Boolean is in module java.base of loader &#39;bootstrap&#39;; org.keycloak.models.sessions.infinispan.changes.SessionEntityWrapper is in unnamed module of loader &#39;org.keycloak.keycloak-model-infinispan@16.1.1&#39; @70e80e4f)\r\n\tat org.infinispan.commons@12.1.7.Final//org.infinispan.commons.util.Util.rewrapAsCacheException(Util.java:686)\r\n\tat org.infinispan.commons@12.1.7.Final//org.infinispan.commons.reactive.RxJavaInterop.lambda$static$2(RxJavaInterop.java:47)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableOnErrorNext$OnErrorNextSubscriber.onError(FlowableOnErrorNext.java:94)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableRepeatUntil$RepeatSubscriber.onError(FlowableRepeatUntil.java:72)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableDoOnLifecycle$SubscriptionLambdaSubscriber.onError(FlowableDoOnLifecycle.java:86)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.processors.UnicastProcessor.checkTerminated(UnicastProcessor.java:415)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.processors.UnicastProcessor.drainRegular(UnicastProcessor.java:301)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.processors.UnicastProcessor.drain(UnicastProcessor.java:384)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.processors.UnicastProcessor.subscribeActual(UnicastProcessor.java:486)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableDoOnLifecycle.subscribeActual(FlowableDoOnLifecycle.java:39)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15814)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableScalarXMap$ScalarXMapFlowable.subscribeActual(FlowableScalarXMap.java:160)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15814)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableScalarXMap$ScalarXMapFlowable.subscribeActual(FlowableScalarXMap.java:160)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15814)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableRepeatUntil$RepeatSubscriber.subscribeNext(FlowableRepeatUntil.java:109)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableRepeatUntil.subscribeActual(FlowableRepeatUntil.java:38)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15814)\r\n\tat org.infinispan@12.1.7.Final//org.infinispan.reactive.publisher.impl.ClusterPublisherManagerImpl$SubscriberHandler.start(ClusterPublisherManagerImpl.java:983)\r\n\tat org.infinispan@12.1.7.Final//org.infinispan.reactive.publisher.impl.ClusterPublisherManagerImpl$AbstractSegmentAwarePublisher.subscribe(ClusterPublisherManagerImpl.java:1180)\r\n\tat org.infinispan@12.1.7.Final//org.infinispan.reactive.publisher.impl.SegmentCompletionPublisher.subscribe(SegmentCompletionPublisher.java:34)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableFromPublisher.subscribeActual(FlowableFromPublisher.java:29)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableOnErrorNext.subscribeActual(FlowableOnErrorNext.java:39)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\r\n\tat io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.BlockingFlowableIterable.iterator(BlockingFlowableIterable.java:42)\r\n\tat org.infinispan.commons@12.1.7.Final//org.infinispan.commons.util.Closeables.iterator(Closeables.java:238)\r\n\tat org.infinispan@12.1.7.Final//org.infinispan.util.Closeables.iterator(Closeables.java:26)\r\n\tat org.infinispan@12.1.7.Final//org.infinispan.stream.impl.DistributedCacheStream.iterator(DistributedCacheStream.java:376)\r\n\tat org.infinispan@12.1.7.Final//org.infinispan.stream.impl.DistributedCacheStream.spliterator(DistributedCacheStream.java:449)\r\n\tat org.infinispan@12.1.7.Final//org.infinispan.util.AbstractDelegatingCacheStream.spliterator(AbstractDelegatingCacheStream.java:187)\r\n\tat org.keycloak.keycloak-model-infinispan@16.1.1//org.keycloak.models.sessions.infinispan.InfinispanUserSessionProvider.getUserSessionsStream(InfinispanUserSessionProvider.java:373)\r\n\tat org.keycloak.keycloak-model-infinispan@16.1.1//org.keycloak.models.sessions.infinispan.InfinispanUserSessionProvider.getUserSessionsStream(InfinispanUserSessionProvider.java:398)\r\n\tat org.keycloak.keycloak-services@16.1.1//org.keycloak.services.resources.admin.UserResource.getSessions(UserResource.java:358)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n\tat org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n\tat org.jboss.resteasy.resteasy-\r\n    ...\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/1lhrA.png","title":"ClassCastExceptions running Keycloak with remote Infinispan cache","body":"<p><em><strong>Setup</strong></em></p>\n<p>Keycloak 16.1.1 wired up to an Infinispan 14 cluster for remote caching of session data (user sessions, authentication sessions, client sessions, etc.). Both Keycloak and Infinispan are using OpenJDK 11.</p>\n<p>Keycloak remote caching is initialized as follows:</p>\n<pre><code>echo *** Setup Infinispan cache module ***\n/subsystem=infinispan/cache-container=keycloak:write-attribute(name=module, value=org.keycloak.keycloak-model-infinispan)\n\necho *** Add remote socket binding to Infinispan cluster ***\n/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=remote-cache:add(host=${remote.cache.host:localhost}, port=${remote.cache.port:11222})\n\necho ** Set work cache as remote store **\n/subsystem=infinispan/cache-container=keycloak/replicated-cache=work/store=remote:add( \\\n    passivation=false, \\\n    fetch-state=false, \\\n    purge=false, \\\n    preload=false, \\\n    shared=true, \\\n    cache=actionTokens, \\\n    remote-servers=[&quot;remote-cache&quot;], \\\n    properties={ \\\n        rawValues=true, \\\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\n    } \\\n)\n/subsystem=infinispan/cache-container=keycloak/replicated-cache=work:write-attribute(name=statistics-enabled,value=true)\n\necho ** Set sessions cache as remote store **\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=sessions/store=remote:add( \\\n    passivation=false, \\\n    fetch-state=false, \\\n    purge=false, \\\n    preload=false, \\\n    shared=true, \\\n    cache=actionTokens, \\\n    remote-servers=[&quot;remote-cache&quot;], \\\n    properties={ \\\n        rawValues=true, \\\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\n    } \\\n)\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=sessions:write-attribute(name=statistics-enabled,value=true)\n\necho ** Set authenticationSessions cache as remote store **\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=authenticationSessions/store=remote:add( \\\n    passivation=false, \\\n    fetch-state=false, \\\n    purge=false, \\\n    preload=false, \\\n    shared=true, \\\n    cache=actionTokens, \\\n    remote-servers=[&quot;remote-cache&quot;], \\\n    properties={ \\\n        rawValues=true, \\\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\n    } \\\n)\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=authenticationSessions:write-attribute(name=statistics-enabled,value=true)\n\necho ** Set offlineSessions cache as remote store **\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineSessions/store=remote:add( \\\n    passivation=false, \\\n    fetch-state=false, \\\n    purge=false, \\\n    preload=false, \\\n    shared=true, \\\n    cache=actionTokens, \\\n    remote-servers=[&quot;remote-cache&quot;], \\\n    properties={ \\\n        rawValues=true, \\\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\n    } \\\n)\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineSessions:write-attribute(name=statistics-enabled,value=true)\n\necho ** Set clientSessions cache as remote store **\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=clientSessions/store=remote:add( \\\n    passivation=false, \\\n    fetch-state=false, \\\n    purge=false, \\\n    preload=false, \\\n    shared=true, \\\n    cache=actionTokens, \\\n    remote-servers=[&quot;remote-cache&quot;], \\\n    properties={ \\\n        rawValues=true, \\\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\n    } \\\n)\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=clientSessions:write-attribute(name=statistics-enabled,value=true)\n\necho ** Set offlineClientSessions cache as remote store **\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineClientSessions/store=remote:add( \\\n    passivation=false, \\\n    fetch-state=false, \\\n    purge=false, \\\n    preload=false, \\\n    shared=true, \\\n    cache=actionTokens, \\\n    remote-servers=[&quot;remote-cache&quot;], \\\n    properties={ \\\n        rawValues=true, \\\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\n    } \\\n)\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineClientSessions:write-attribute(name=statistics-enabled,value=true)\n\necho ** Set loginFailure cache as remote store **\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=loginFailures/store=remote:add( \\\n    passivation=false, \\\n    fetch-state=false, \\\n    purge=false, \\\n    preload=false, \\\n    shared=true, \\\n    cache=actionTokens, \\\n    remote-servers=[&quot;remote-cache&quot;], \\\n    properties={ \\\n        rawValues=true, \\\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\n    } \\\n)\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=loginFailures:write-attribute(name=statistics-enabled,value=true)\n\necho ** Set actionTokens cache as remote store **\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=actionTokens/store=remote:add( \\\n    passivation=false, \\\n    fetch-state=false, \\\n    purge=false, \\\n    preload=false, \\\n    shared=true, \\\n    cache=actionTokens, \\\n    remote-servers=[&quot;remote-cache&quot;], \\\n    properties={ \\\n        rawValues=true, \\\n        marshaller=org.keycloak.cluster.infinispan.KeycloakHotRodMarshallerFactory, \\\n        protocolVersion=${env.HOTROD_VERSION:2.8} \\\n    } \\\n)\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=actionTokens:write-attribute(name=statistics-enabled,value=true)\n\necho *** Setting CACHE_OWNERS to &quot;${env.CACHE_OWNERS}&quot; in all cache-containers ***\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=sessions:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=authenticationSessions:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineSessions:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=clientSessions:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=offlineClientSessions:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=loginFailures:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\n/subsystem=infinispan/cache-container=keycloak/distributed-cache=actionTokens:write-attribute(name=owners, value=${env.CACHE_OWNERS:1})\n\n</code></pre>\n<p>Infinispan cluster config is:</p>\n<pre><code>   &lt;cache-container name=&quot;default&quot; statistics=&quot;true&quot;&gt;\n      &lt;transport cluster=&quot;${infinispan.cluster.name:default-ispan-cluster}&quot; node-name=&quot;${infinispan.node.name:env.HOST}&quot; stack=&quot;nxt-stack&quot;/&gt;\n      &lt;serialization marshaller=&quot;org.infinispan.jboss.marshalling.commons.GenericJBossMarshaller&quot;&gt;\n         &lt;allow-list&gt;\n            &lt;regex&gt;org.keycloak.*&lt;/regex&gt;\n            &lt;regex&gt;java.util.*&lt;/regex&gt;\n         &lt;/allow-list&gt;\n      &lt;/serialization&gt;\n      &lt;replicated-cache-configuration name=&quot;sessions-cfg&quot; start=&quot;EAGER&quot;&gt;\n         &lt;transaction mode=&quot;NON_XA&quot; locking=&quot;PESSIMISTIC&quot;/&gt;\n      &lt;/replicated-cache-configuration&gt;\n      &lt;replicated-cache name=&quot;work&quot; configuration=&quot;sessions-cfg&quot;&gt;\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\n      &lt;/replicated-cache&gt;\n      &lt;replicated-cache name=&quot;sessions&quot; configuration=&quot;sessions-cfg&quot;&gt;\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\n      &lt;/replicated-cache&gt;\n      &lt;replicated-cache name=&quot;authenticationSessions&quot; configuration=&quot;sessions-cfg&quot;&gt;\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\n      &lt;/replicated-cache&gt;\n      &lt;replicated-cache name=&quot;offlineSessions&quot; configuration=&quot;sessions-cfg&quot;&gt;\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\n      &lt;/replicated-cache&gt;\n      &lt;replicated-cache name=&quot;clientSessions&quot; configuration=&quot;sessions-cfg&quot;&gt;\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\n      &lt;/replicated-cache&gt;\n      &lt;replicated-cache name=&quot;offlineClientSessions&quot; configuration=&quot;sessions-cfg&quot;&gt;\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\n      &lt;/replicated-cache&gt;\n      &lt;replicated-cache name=&quot;actionTokens&quot; configuration=&quot;sessions-cfg&quot;&gt;\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\n      &lt;/replicated-cache&gt;\n      &lt;replicated-cache name=&quot;loginFailures&quot; configuration=&quot;sessions-cfg&quot;&gt;\n         &lt;encoding media-type=&quot;application/x-jboss-marshalling&quot;/&gt;\n      &lt;/replicated-cache&gt;\n   &lt;/cache-container&gt;\n</code></pre>\n<p><em><strong>Problem</strong></em></p>\n<p>I can confirm <em>some</em> of the cache data is stored in Infinispan (namely actionTokens).</p>\n<p><a href=\"https://i.stack.imgur.com/1lhrA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1lhrA.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I'm getting ClassCastExceptions on Keycloak side for most cache retrievals, including user sessions, all citing the inability to cast to <strong>SessionEntityWrapper</strong>.</p>\n<p>You can easily reproduce the error below by simply viewing user sessions on Keycloak admin console or attempting a login. (This happens when attempting a cast to <code>RootAuthenticationSessionEntity</code> as well)</p>\n<pre><code>07:29:36,571 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-2) Uncaught server error: com.fasterxml.jackson.databind.JsonMappingException: java.lang.ClassCastException: class java.lang.Boolean cannot be cast to class org.keycloak.models.sessions.infinispan.changes.SessionEntityWrapper (java.lang.Boolean is in module java.base of loader 'bootstrap'; org.keycloak.models.sessions.infinispan.changes.SessionEntityWrapper is in unnamed module of loader 'org.keycloak.keycloak-model-infinispan@16.1.1' @70e80e4f)\n    at com.fasterxml.jackson.core.jackson-databind@2.12.3//com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._wrapAsIOE(DefaultSerializerProvider.java:509)\n    at com.fasterxml.jackson.core.jackson-databind@2.12.3//com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:482)\n    at com.fasterxml.jackson.core.jackson-databind@2.12.3//com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:400)\n    at com.fasterxml.jackson.core.jackson-databind@2.12.3//com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1510)\n    at com.fasterxml.jackson.core.jackson-databind@2.12.3//com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1006)\n    at org.jboss.resteasy.resteasy-jackson2-provider@4.7.4.Final//org.jboss.resteasy.plugins.providers.jackson.ResteasyJackson2Provider.writeTo(ResteasyJackson2Provider.java:345)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.messagebody.AsyncBufferedMessageBodyWriter.asyncWriteTo(AsyncBufferedMessageBodyWriter.java:24)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.ServerWriterInterceptorContext.writeTo(ServerWriterInterceptorContext.java:87)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.AbstractWriterInterceptorContext.asyncProceed(AbstractWriterInterceptorContext.java:203)\n    at org.jboss.resteasy.resteasy-crypto@4.7.4.Final//org.jboss.resteasy.security.doseta.DigitalSigningInterceptor.asyncAroundWriteTo(DigitalSigningInterceptor.java:169)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.AbstractWriterInterceptorContext.asyncProceed(AbstractWriterInterceptorContext.java:211)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.AbstractWriterInterceptorContext.getStarted(AbstractWriterInterceptorContext.java:166)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.ServerWriterInterceptorContext.lambda$getStarted$0(ServerWriterInterceptorContext.java:73)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.ServerWriterInterceptorContext.aroundWriteTo(ServerWriterInterceptorContext.java:93)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.ServerWriterInterceptorContext.getStarted(ServerWriterInterceptorContext.java:73)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ServerResponseWriter.lambda$writeNomapResponse$3(ServerResponseWriter.java:163)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.ContainerResponseContextImpl.filter(ContainerResponseContextImpl.java:404)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ServerResponseWriter.executeFilters(ServerResponseWriter.java:252)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:101)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:74)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.writeResponse(SynchronousDispatcher.java:594)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:524)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:249)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:60)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at org.keycloak.keycloak-wildfly-extensions@16.1.1//org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)\n    at org.keycloak.keycloak-services@16.1.1//org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)\n    at org.keycloak.keycloak-wildfly-extensions@16.1.1//org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.security.elytron-web.undertow-server@1.10.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\n    at org.wildfly.security.elytron-web.undertow-server@1.10.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.2.14.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.core@2.2.14.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at org.wildfly.security.elytron-web.undertow-server-servlet@1.10.1.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\n    at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n    at io.undertow.core@2.2.14.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@26.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\n    at io.undertow.servlet@2.2.14.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\n    at io.undertow.core@2.2.14.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.core@2.2.14.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.jboss.xnio@3.8.5.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.infinispan.commons.CacheException: java.lang.ClassCastException: class java.lang.Boolean cannot be cast to class org.keycloak.models.sessions.infinispan.changes.SessionEntityWrapper (java.lang.Boolean is in module java.base of loader 'bootstrap'; org.keycloak.models.sessions.infinispan.changes.SessionEntityWrapper is in unnamed module of loader 'org.keycloak.keycloak-model-infinispan@16.1.1' @70e80e4f)\n    at org.infinispan.commons@12.1.7.Final//org.infinispan.commons.util.Util.rewrapAsCacheException(Util.java:686)\n    at org.infinispan.commons@12.1.7.Final//org.infinispan.commons.reactive.RxJavaInterop.lambda$static$2(RxJavaInterop.java:47)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableOnErrorNext$OnErrorNextSubscriber.onError(FlowableOnErrorNext.java:94)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableRepeatUntil$RepeatSubscriber.onError(FlowableRepeatUntil.java:72)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableDoOnLifecycle$SubscriptionLambdaSubscriber.onError(FlowableDoOnLifecycle.java:86)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.processors.UnicastProcessor.checkTerminated(UnicastProcessor.java:415)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.processors.UnicastProcessor.drainRegular(UnicastProcessor.java:301)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.processors.UnicastProcessor.drain(UnicastProcessor.java:384)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.processors.UnicastProcessor.subscribeActual(UnicastProcessor.java:486)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableDoOnLifecycle.subscribeActual(FlowableDoOnLifecycle.java:39)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15814)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableScalarXMap$ScalarXMapFlowable.subscribeActual(FlowableScalarXMap.java:160)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15814)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableScalarXMap$ScalarXMapFlowable.subscribeActual(FlowableScalarXMap.java:160)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15814)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableRepeatUntil$RepeatSubscriber.subscribeNext(FlowableRepeatUntil.java:109)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableRepeatUntil.subscribeActual(FlowableRepeatUntil.java:38)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15814)\n    at org.infinispan@12.1.7.Final//org.infinispan.reactive.publisher.impl.ClusterPublisherManagerImpl$SubscriberHandler.start(ClusterPublisherManagerImpl.java:983)\n    at org.infinispan@12.1.7.Final//org.infinispan.reactive.publisher.impl.ClusterPublisherManagerImpl$AbstractSegmentAwarePublisher.subscribe(ClusterPublisherManagerImpl.java:1180)\n    at org.infinispan@12.1.7.Final//org.infinispan.reactive.publisher.impl.SegmentCompletionPublisher.subscribe(SegmentCompletionPublisher.java:34)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableFromPublisher.subscribeActual(FlowableFromPublisher.java:29)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.FlowableOnErrorNext.subscribeActual(FlowableOnErrorNext.java:39)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.core.Flowable.subscribe(Flowable.java:15868)\n    at io.reactivex.rxjava3.rxjava//io.reactivex.rxjava3.internal.operators.flowable.BlockingFlowableIterable.iterator(BlockingFlowableIterable.java:42)\n    at org.infinispan.commons@12.1.7.Final//org.infinispan.commons.util.Closeables.iterator(Closeables.java:238)\n    at org.infinispan@12.1.7.Final//org.infinispan.util.Closeables.iterator(Closeables.java:26)\n    at org.infinispan@12.1.7.Final//org.infinispan.stream.impl.DistributedCacheStream.iterator(DistributedCacheStream.java:376)\n    at org.infinispan@12.1.7.Final//org.infinispan.stream.impl.DistributedCacheStream.spliterator(DistributedCacheStream.java:449)\n    at org.infinispan@12.1.7.Final//org.infinispan.util.AbstractDelegatingCacheStream.spliterator(AbstractDelegatingCacheStream.java:187)\n    at org.keycloak.keycloak-model-infinispan@16.1.1//org.keycloak.models.sessions.infinispan.InfinispanUserSessionProvider.getUserSessionsStream(InfinispanUserSessionProvider.java:373)\n    at org.keycloak.keycloak-model-infinispan@16.1.1//org.keycloak.models.sessions.infinispan.InfinispanUserSessionProvider.getUserSessionsStream(InfinispanUserSessionProvider.java:398)\n    at org.keycloak.keycloak-services@16.1.1//org.keycloak.services.resources.admin.UserResource.getSessions(UserResource.java:358)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n    at org.jboss.resteasy.resteasy-core@4.7.4.Final//org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n    at org.jboss.resteasy.resteasy-\n    ...\n\n</code></pre>\n"},{"tags":["java","spring","database","spring-boot","jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694411012,"post_id":77077781,"comment_id":135882244,"body_markdown":"IDE not knowing all dependencies and configurations. Ignore it.","body":"IDE not knowing all dependencies and configurations. Ignore it."}],"owner":{"account_id":17717136,"reputation":11,"user_id":12863181,"display_name":"Дени Bravo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694655191,"creation_date":1694377952,"question_id":77077781,"body_markdown":"I followed the examples from SpringBoot Framework which starts here and got the next [error](https://i.stack.imgur.com/VOPX5.png) when I tried to add the Spring bean\r\n\r\n\r\nPom.xml\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.222&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nI try to make an insert into bd and bd doesn&#39;t change, The app itself works but doesn&#39;t connect the database, and JDBC is null.","title":"How to fix: &quot;Could not autowire. No beans of &#39;JdbcTemplate&#39; type found&quot; in spring-boot","body":"<p>I followed the examples from SpringBoot Framework which starts here and got the next <a href=\"https://i.stack.imgur.com/VOPX5.png\" rel=\"nofollow noreferrer\">error</a> when I tried to add the Spring bean</p>\n<p>Pom.xml</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.222&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>I try to make an insert into bd and bd doesn't change, The app itself works but doesn't connect the database, and JDBC is null.</p>\n"},{"tags":["java","spring-boot","kubernetes","redis","redis-sentinel"],"owner":{"account_id":29429139,"reputation":11,"user_id":22549161,"display_name":"Aykut M&#220;N&#220;K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694655078,"creation_date":1694590719,"question_id":77094991,"body_markdown":"Dears,\r\n\r\nI tried to access remote redis cache services from redis sentinel services for high availability. But sentinel server couldnt resolve redis host name.\r\n\r\n```\r\njava.net.UnknownHostException: No such host is known (redis-0.redis.xxxx-service-platform.svc.cluster.local)\r\n\tat java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java)\r\n\tat java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:929)\r\n\t... 38 frames excluded\r\nWrapped by: io.lettuce.core.RedisConnectionException: Unable to connect to redis-0.redis.xxxx-service-platform.svc.cluster.local:6379\r\n\tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\r\n\tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)\r\n\t... 6 frames excluded\r\n\t... 28 common frames omitted`\r\n```\r\n\r\nAlso I see above the log on sentinel services like as the follows\r\n\r\n```\r\n1:X 12 Sep 2023 21:56:50.711 # Failed to resolve hostname &#39;redis-0.redis.xxxx-service-platform.svc.cluster.local&#39;\r\n1:X 12 Sep 2023 21:56:51.773 # Failed to resolve hostname &#39;redis-0.redis.xxxx-service-platform.svc.cluster.local&#39;\r\n1:X 12 Sep 2023 21:56:52.806 # Failed to resolve hostname &#39;redis-0.redis.xxxx-service-platform.svc.cluster.local&#39;\r\n1:X 12 Sep 2023 21:56:53.838 # Failed to resolve hostname &#39;redis-0.redis.xxxx-service-platform.svc.cluster.local&#39;\r\n1:X 12 Sep 2023 21:56:54.908 # Failed to resolve hostname &#39;redis-0.redis.xxxx-service-platform.svc.cluster.local&#39;\r\n1:X 12 Sep 2023 21:56:55.914 # Failed to resolve hostname &#39;redis-0.redis.xxxx-service-platform.svc.cluster.local&#39;\r\n1:X 12 Sep 2023 21:56:56.925 # Failed to resolve hostname &#39;redis-0.redis.xxxx-service-platform.svc.cluster.local&#39;\r\n1:X 12 Sep 2023 21:56:57.967 # Failed to resolve hostname &#39;redis-0.redis.xxxx-service-platform.svc.cluster.local&#39;\r\n1:X 12 Sep 2023 21:56:59.037 # Failed to resolve hostname &#39;redis-0.redis.xxxx-service-platform.svc.cluster.local&#39;\r\n```\r\n\r\nCould you help me how to solve the problem?\r\n\r\nI tried too much configuration but they didnt work, Sentinel and redis works the same cluster but on remote server, but sentinel should solve redis hostname\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: redis-config-map\r\n    data:\r\n      # Variable needed for sentinel init container\r\n      REDIS_NODES: &quot;redis-0.redis,redis-1.redis,redis-2.redis&quot;\r\n    \r\n      # Config used in all redises\r\n      redis.conf: |\r\n        # Redis configuration file example.\r\n        # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n        bind 0.0.0.0\r\n        # Protected mode is a layer of security protection, in order to avoid that\r\n       \r\n        # Close the connection after a client is idle for N seconds (0 to disable)\r\n        timeout 300\r\n        \r\n        # A reasonable value for this option is 300 seconds, which is the new\r\n        # Redis default starting with Redis 3.2.1.\r\n        tcp-keepalive 30\r\n       \r\n        # Configure allowed ciphers.  See the ciphers(1ssl) manpage for more information\r\n        # about the syntax of this string.\r\n        #\r\n        # Note: this configuration applies only to &lt;= TLSv1.2.\r\n        #\r\n        # tls-ciphers DEFAULT:!MEDIUM\r\n        # Configure allowed TLSv1.3 ciphersuites.  See the ciphers(1ssl) manpage for more\r\n        # information about the syntax of this string, and specifically for TLSv1.3\r\n        # ciphersuites.\r\n        #\r\n        # tls-ciphersuites TLS_CHACHA20_POLY1305_SHA256\r\n        # When choosing a cipher, use the server&#39;s preference instead of the client\r\n        # preference. By default, the server follows the client&#39;s preference.\r\n\r\n\r\n\r\n        # verbose (many rarely useful info, but not a mess like the debug level)\r\n        # notice (moderately verbose, what you want in production probably)\r\n        # warning (only very important / critical messages are logged)\r\n        loglevel notice\r\n        # Specify the log file name. Also the empty string can be used to force\r\n        # Redis to log on the standard output. Note that if you use standard\r\n        # output for logging but daemonize, logs will be sent to /dev/null\r\n        logfile &quot;&quot;\r\n        # To enable logging to the system logger, just set &#39;syslog-enabled&#39; to yes,\r\n        # and optionally update the other syslog parameters to suit your needs.\r\n        # syslog-enabled no\r\n        # Specify the syslog identity.\r\n        # syslog-ident redis\r\n        # Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7.\r\n        # syslog-facility local0\r\n        # Set the number of databases. The default database is DB 0, you can select\r\n        \r\n        # ASCII art logo in startup logs by setting the following option to yes.\r\n        always-show-logo yes\r\n        ################################ SNAPSHOTTING  ################################\r\n       \r\n        #\r\n        # RDB files created with checksum disabled have a checksum of zero that will\r\n        # tell the loading code to skip the check.\r\n        rdbchecksum yes\r\n        # The filename where to dump the DB\r\n        # dbfilename &quot;dump.rdb&quot;\r\n        # Remove RDB files used by replication in instances without persistence\r\n        # enabled. By default this option is disabled, however there are environments\r\n        # where for regulations or other security concerns, RDB files persisted on\r\n        # disk by masters in order to feed replicas, or stored on disk by replicas\r\n\r\n        #\r\n        # Note that you must specify a directory here, not a file name.\r\n        dir &quot;/data&quot;\r\n       \r\n        # When a replica loses its connection with the master, or when the replication\r\n        \r\n        \r\n        # With slow disks and fast (large bandwidth) networks, diskless replication\r\n        # works better.\r\n        repl-diskless-sync no\r\n        # When diskless replication is enabled, it is possible to configure the delay\r\n        \r\n        repl-diskless-sync-delay 5\r\n        \r\n        \r\n   \r\n        repl-diskless-load disabled\r\n        # Replicas send PINGs to server in a predefined interval. It&#39;s possible to\r\n        # change this interval with the repl_ping_replica_period option. The default\r\n        # value is 10 seconds.\r\n        #\r\n        appendonly no\r\n        # repl-ping-replica-period 10\r\n        # The following option sets the replication timeout for:\r\n        #\r\n        \r\n        # It is important to make sure that this value is greater than the value\r\n        # specified for repl-ping-replica-period otherwise a timeout will be detected\r\n        # every time there is low traffic between the master and the replica.\r\n        #\r\n        # repl-timeout 60\r\n        \r\n        # Linux kernels using a default configuration.\r\n        #\r\n        # If you select &quot;no&quot; the delay for data to appear on the replica side will\r\n        # be reduced but more bandwidth will be used for replication.\r\n        #\r\n        # By default we optimize for low latency, but in very high traffic conditions\r\n        # or when the master and replicas are many hops away, turning this to &quot;yes&quot; may\r\n        # be a good idea.\r\n        repl-disable-tcp-nodelay no\r\n        # Set the replication backlog size. The backlog is a buffer that accumulates\r\n        # replica data when replicas are disconnected for some time, so that when a\r\n        # replica wants to reconnect again, often a full resync is not needed, but a\r\n        # partial resync is enough, just passing the portion of data the replica\r\n        # missed while disconnected.\r\n        #\r\n        # The bigger the replication backlog, the longer the time the replica can be\r\n        # disconnected and later be able to perform a partial resynchronization.\r\n        #\r\n        # The backlog is only allocated once there is at least a replica connected.\r\n        #\r\n        # repl-backlog-size 1mb\r\n        # After a master has no longer connected replicas for some time, the backlog\r\n        # will be freed. The following option configures the amount of seconds that\r\n        # need to elapse, starting from the time the last replica disconnected, for\r\n        # the backlog buffer to be freed.\r\n        #\r\n        # Note that replicas never free the backlog for timeout, since they may be\r\n        # promoted to masters later, and should be able to correctly &quot;partially\r\n        # resynchronize&quot; with the replicas: hence they should always accumulate backlog.\r\n        #\r\n        # A value of 0 means to never release the backlog.\r\n        #\r\n        # repl-backlog-ttl 3600\r\n        # The replica priority is an integer number published by Redis in the INFO\r\n        # output. It is used by Redis Sentinel in order to select a replica to promote\r\n        # into a master if the master is no longer working correctly.\r\n        #\r\n        # A replica with a low priority number is considered better for promotion, so\r\n        # for instance if there are three replicas with priority 10, 100, 25 Sentinel\r\n        # will pick the one with priority 10, that is the lowest.\r\n        #\r\n        # However a special priority of 0 marks the replica as not able to perform the\r\n        # role of master, so a replica with priority of 0 will never be selected by\r\n        # Redis Sentinel for promotion.\r\n        #\r\n        # By default the priority is 100.\r\n        replica-priority 100\r\n        # It is possible for a master to stop accepting writes if there are less than\r\n        # N replicas connected, having a lag less or equal than M seconds.\r\n        #\r\n        # The N replicas need to be in &quot;online&quot; state.\r\n        #\r\n        # The lag in seconds, that must be &lt;= the specified value, is calculated from\r\n        # the last ping received from the replica, that is usually sent every second.\r\n        #\r\n        # This option does not GUARANTEE that N replicas will accept the write, but\r\n        # will limit the window of exposure for lost writes in case not enough replicas\r\n        # are available, to the specified number of seconds.\r\n        #\r\n        # For example to require at least 3 replicas with a lag &lt;= 10 seconds use:\r\n        #\r\n        # min-replicas-to-write 3\r\n        # min-replicas-max-lag 10\r\n        #\r\n        # Setting one or the other to 0 disables the feature.\r\n        #\r\n        # By default min-replicas-to-write is set to 0 (feature disabled) and\r\n        # min-replicas-max-lag is set to 10.\r\n        # A Redis master is able to list the address and port of the attached\r\n        # replicas in different ways. For example the &quot;INFO replication&quot; section\r\n        # offers this information, which is used, among other tools, by\r\n        # Redis Sentinel in order to discover replica instances.\r\n        # Another place where this info is available is in the output of the\r\n        # &quot;ROLE&quot; command of a master.\r\n        #\r\n        # The listed IP and address normally reported by a replica is obtained\r\n        # in the following way:\r\n        #\r\n        #   IP: The address is auto detected by checking the peer address\r\n        #   of the socket used by the replica to connect with the master.\r\n        #\r\n        #   Port: The port is communicated by the replica during the replication\r\n        #   handshake, and is normally the port that the replica is using to\r\n        #   listen for connections.\r\n        #\r\n        # However when port forwarding or Network Address Translation (NAT) is\r\n        # used, the replica may be actually reachable via different IP and port\r\n        # pairs. The following two options can be used by a replica in order to\r\n        # report to its master a specific set of IP and port, so that both INFO\r\n        # and ROLE will report those values.\r\n        #\r\n        # There is no need to use both the options if you need to override just\r\n        # the port or the IP address.\r\n        #\r\n        # replica-announce-ip 5.5.5.5\r\n        # replica-announce-port 1234\r\n        ############################### KEYS TRACKING #################################\r\n        # Redis implements server assisted support for client side caching of values.\r\n        # This is implemented using an invalidation table that remembers, using\r\n        # 16 millions of slots, what clients may have certain subsets of keys. In turn\r\n        # this is used in order to send invalidation messages to clients. Please\r\n        # to understand more about the feature check this page:\r\n        #\r\n        #   https://redis.io/topics/client-side-caching\r\n        #\r\n        # When tracking is enabled for a client, all the read only queries are assumed\r\n        # to be cached: this will force Redis to store information in the invalidation\r\n        # table. When keys are modified, such information is flushed away, and\r\n        # invalidation messages are sent to the clients. However if the workload is\r\n        # heavily dominated by reads, Redis could use more and more memory in order\r\n        # to track the keys fetched by many clients.\r\n        #\r\n        # For this reason it is possible to configure a maximum fill value for the\r\n        # invalidation table. By default it is set to 1M of keys, and once this limit\r\n        # is reached, Redis will start to evict keys in the invalidation table\r\n        # even if they were not modified, just to reclaim memory: this will in turn\r\n        # force the clients to invalidate the cached values. Basically the table\r\n        # maximum size is a trade off between the memory you want to spend server\r\n        # side to track information about who cached what, and the ability of clients\r\n        # to retain cached objects in memory.\r\n        #\r\n        # If you set the value to 0, it means there are no limits, and Redis will\r\n        # retain as many keys as needed in the invalidation table.\r\n        # In the &quot;stats&quot; INFO section, you can find information about the number of\r\n        # keys in the invalidation table at every given moment.\r\n        #\r\n        # Note: when key tracking is used in broadcasting mode, no memory is used\r\n        # in the server side so this setting is useless.\r\n        #\r\n        # tracking-table-max-keys 1000000\r\n        ################################## SECURITY ###################################\r\n        # Warning: since Redis is pretty fast an outside user can try up to\r\n        # 1 million passwords per second against a modern box. This means that you\r\n        # should use very strong passwords, otherwise they will be very easy to break.\r\n        # Note that because the password is really a shared secret between the client\r\n        # and the server, and should not be memorized by any human, the password\r\n        # can be easily a long string from /dev/urandom or whatever, so by using a\r\n        # long and unguessable password no brute force attack will be possible.\r\n        # Redis ACL users are defined in the following format:\r\n        #\r\n        #   user &lt;username&gt; ... acl rules ...\r\n        #\r\n        # For example:\r\n        #\r\n        #   user worker +@list +@connection ~jobs:* on &gt;ffa9203c493aa99\r\n        #\r\n        # The special username &quot;default&quot; is used for new connections. If this user\r\n        # has the &quot;nopass&quot; rule, then new connections will be immediately authenticated\r\n        # as the &quot;default&quot; user without the need of any password provided via the\r\n        # AUTH command. Otherwise if the &quot;default&quot; user is not flagged with &quot;nopass&quot;\r\n        # the connections will start in not authenticated state, and will require\r\n        # AUTH (or the HELLO command AUTH option) in order to be authenticated and\r\n        # start to work.\r\n        #\r\n        # The ACL rules that describe what an user can do are the following:\r\n        #\r\n        #  on           Enable the user: it is possible to authenticate as this user.\r\n        #  off          Disable the user: it&#39;s no longer possible to authenticate\r\n        #               with this user, however the already authenticated connections\r\n        #               will still work.\r\n        #  +&lt;command&gt;   Allow the execution of that command\r\n        #  -&lt;command&gt;   Disallow the execution of that command\r\n        #  +@&lt;category&gt; Allow the execution of all the commands in such category\r\n        #               with valid categories are like @admin, @set, @sortedset, ...\r\n        #               and so forth, see the full list in the server.c file where\r\n        #               the Redis command table is described and defined.\r\n        #               The special category @all means all the commands, but currently\r\n        #               present in the server, and that will be loaded in the future\r\n        #               via modules.\r\n        #  +&lt;command&gt;|subcommand    Allow a specific subcommand of an otherwise\r\n        #                           disabled command. Note that this form is not\r\n        #                           allowed as negative like -DEBUG|SEGFAULT, but\r\n        #                           only additive starting with &quot;+&quot;.\r\n        #  allcommands  Alias for +@all. Note that it implies the ability to execute\r\n        #               all the future commands loaded via the modules system.\r\n        #  nocommands   Alias for -@all.\r\n        #  ~&lt;pattern&gt;   Add a pattern of keys that can be mentioned as part of\r\n        #               commands. For instance ~* allows all the keys. The pattern\r\n        #               is a glob-style pattern like the one of KEYS.\r\n        #               It is possible to specify multiple patterns.\r\n        #  allkeys      Alias for ~*\r\n        #  resetkeys    Flush the list of allowed keys patterns.\r\n        #  &gt;&lt;password&gt;  Add this passowrd to the list of valid password for the user.\r\n        #               For example &gt;mypass will add &quot;mypass&quot; to the list.\r\n        #               This directive clears the &quot;nopass&quot; flag (see later).\r\n        #  &lt;&lt;password&gt;  Remove this password from the list of valid passwords.\r\n        #  nopass       All the set passwords of the user are removed, and the user\r\n        #               is flagged as requiring no password: it means that every\r\n        #               password will work against this user. If this directive is\r\n        #               used for the default user, every new connection will be\r\n        #               immediately authenticated with the default user without\r\n        #               any explicit AUTH command required. Note that the &quot;resetpass&quot;\r\n        #               directive will clear this condition.\r\n        #  resetpass    Flush the list of allowed passwords. Moreover removes the\r\n        #               &quot;nopass&quot; status. After &quot;resetpass&quot; the user has no associated\r\n        #               passwords and there is no way to authenticate without adding\r\n        #               some password (or setting it as &quot;nopass&quot; later).\r\n        #  reset        Performs the following actions: resetpass, resetkeys, off,\r\n        #               -@all. The user returns to the same state it has immediately\r\n        #               after its creation.\r\n        #\r\n        # ACL rules can be specified in any order: for instance you can start with\r\n        # passwords, then flags, or key patterns. However note that the additive\r\n        # and subtractive rules will CHANGE MEANING depending on the ordering.\r\n        # For instance see the following example:\r\n        #\r\n        #   user alice on +@all -DEBUG ~* &gt;somepassword\r\n        #\r\n        # This will allow &quot;alice&quot; to use all the commands with the exception of the\r\n        # DEBUG command, since +@all added all the commands to the set of the commands\r\n        # alice can use, and later DEBUG was removed. However if we invert the order\r\n        # of two ACL rules the result will be different:\r\n        #\r\n        #   user alice on -DEBUG +@all ~* &gt;somepassword\r\n        #\r\n        # Now DEBUG was removed when alice had yet no commands in the set of allowed\r\n        # commands, later all the commands are added, so the user will be able to\r\n        # execute everything.\r\n        #\r\n        # Basically ACL rules are processed left-to-right.\r\n        #\r\n        # For more information about ACL configuration please refer to\r\n        # the Redis web site at https://redis.io/topics/acl\r\n        # ACL LOG\r\n        #\r\n        # The ACL Log tracks failed commands and authentication events associated\r\n        # with ACLs. The ACL Log is useful to troubleshoot failed commands blocked\r\n        # by ACLs. The ACL Log is stored in memory. You can reclaim memory with\r\n        # ACL LOG RESET. Define the maximum entry length of the ACL Log below.\r\n        acllog-max-len 128\r\n        # Using an external ACL file\r\n        #\r\n        # Instead of configuring users here in this file, it is possible to use\r\n        # a stand-alone file just listing users. The two methods cannot be mixed:\r\n        # if you configure users here and at the same time you activate the exteranl\r\n        # ACL file, the server will refuse to start.\r\n        #\r\n        # The format of the external ACL user file is exactly the same as the\r\n        # format that is used inside redis.conf to describe users.\r\n        #\r\n        # aclfile /etc/redis/users.acl\r\n        # IMPORTANT NOTE: starting with Redis 6 &quot;requirepass&quot; is just a compatiblity\r\n        # layer on top of the new ACL system. The option effect will be just setting\r\n        # the password for the default user. Clients will still authenticate using\r\n        # AUTH &lt;password&gt; as usually, or more explicitly with AUTH default &lt;password&gt;\r\n        # if they follow the new protocol: both will work.\r\n        #\r\n    ---\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: redis-scripts-config-map\r\n    data:\r\n    \r\n      sentinel_init.sh: |\r\n        #!/bin/bash\r\n        REDIS_NODES= &quot;redis-0.redis,redis-1.redis,redis-2.redis&quot;\r\n        for i in ${REDIS_NODES//,/ }\r\n        do\r\n            echo &quot;finding master at $i&quot;\r\n            MASTER=$(redis-cli --no-auth-warning --raw -h $i -a ${REDIS_PASSWORD} info replication | awk &#39;{print $1}&#39; | grep master_host: | cut -d &quot;:&quot; -f2)\r\n        \r\n            if [ &quot;${MASTER}&quot; == &quot;&quot; ]; then\r\n                echo &quot;no master found&quot;\r\n                MASTER=\r\n            else\r\n                echo &quot;found ${MASTER}&quot;\r\n                break\r\n            fi\r\n        \r\n        done\r\n    \r\n        POD_FQDN=$(hostname -f)\r\n        echo &quot;sentinel monitor mymaster ${MASTER} 6379 2&quot; &gt;&gt; /tmp/master\r\n        echo &quot;port 5000\r\n        $(cat /tmp/master)\r\n        protected-mode no\r\n        sentinel resolve-hostnames yes\r\n        sentinel announce-hostnames yes\r\n        sentinel announce-ip $POD_FQDN\r\n        sentinel announce-port 5000\r\n        sentinel down-after-milliseconds mymaster 1000\r\n        sentinel failover-timeout mymaster 60000\r\n        sentinel parallel-syncs mymaster 1\r\n        sentinel sentinel-pass ${REDIS_PASSWORD}\r\n        sentinel auth-pass mymaster ${REDIS_PASSWORD}\r\n        requirepass ${REDIS_PASSWORD}\r\n    \r\n        &quot; &gt; /etc/redis/sentinel.conf\r\n        cat /etc/redis/sentinel.conf\r\n    \r\n    \r\n      redis_init.sh: |\r\n        #!/bin/bash\r\n    \r\n        cp /tmp/redis/redis.conf /etc/redis/redis.conf\r\n        echo &quot;requirepass ${REDIS_PASSWORD}&quot; &gt;&gt; /etc/redis/redis.conf\r\n        echo &quot;masterauth ${REDIS_PASSWORD}&quot; &gt;&gt; /etc/redis/redis.conf\r\n        echo &quot;replica-announce-ip ${HOSTNAME}.redis&quot; &gt;&gt; /etc/redis/redis.conf\r\n        echo &quot;replica-announce-port 6379 &quot; &gt;&gt; /etc/redis/redis.conf\r\n        \r\n        echo &quot;finding master...&quot;\r\n    \r\n        if [ &quot;$(timeout 5 redis-cli -h sentinel -p 5000 -a ${REDIS_PASSWORD} ping)&quot; != &quot;PONG&quot; ]; then\r\n    \r\n          echo &quot;sentinel not found, defaulting to redis-0&quot;\r\n    \r\n          if [ ${HOSTNAME} == &quot;redis-0&quot; ]; then\r\n            echo &quot;this is redis-0, not updating config...&quot;\r\n          else\r\n            echo &quot;updating redis.conf...&quot;\r\n            echo &quot;repl-ping-replica-period 3&quot; &gt;&gt; /etc/redis/redis.conf\r\n            echo &quot;slave-read-only no&quot; &gt;&gt; /etc/redis/redis.conf\r\n            echo &quot;slaveof redis-0.redis 6379&quot; &gt;&gt; /etc/redis/redis.conf\r\n          fi\r\n    \r\n        else\r\n    \r\n          echo &quot;sentinel found, finding master&quot;\r\n          MASTER=&quot;$(redis-cli -h sentinel -p 5000 -a ${REDIS_PASSWORD} sentinel get-master-addr-by-name mymaster | grep -E &#39;(^redis-*)|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})&#39;)&quot;\r\n    \r\n          if [ &quot;${HOSTNAME}.redis&quot; == ${MASTER} ]; then\r\n            echo &quot;this is master, not updating config...&quot;\r\n          else\r\n            echo &quot;master found : ${MASTER}, updating redis.conf&quot;\r\n            echo &quot;slave-read-only no&quot; &gt;&gt; /etc/redis/redis.conf\r\n            echo &quot;slaveof ${MASTER} 6379&quot; &gt;&gt; /etc/redis/redis.conf\r\n            echo &quot;repl-ping-replica-period 3&quot; &gt;&gt; /etc/redis/redis.conf\r\n          fi\r\n    \r\n        fi\r\n    ---\r\n    apiVersion: v1\r\n    kind: Secret\r\n    metadata:\r\n      name: redis-secret\r\n    type: Opaque\r\n    data:\r\n      REDIS_PASSWORD: c3BlZWR5R29uemFsZXMyMDIz\r\n    ---\r\n    # Headless service so sentinel could access redisses using syntax &lt;pod-name&gt;.&lt;service-name&gt;\r\n    \r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: redis\r\n      labels:\r\n        app: redis\r\n        app.kubernetes.io/component: redis\r\n        app.kubernetes.io/instance: redis\r\n    spec:\r\n      clusterIP: None\r\n      ports:\r\n        - port: 6379\r\n          targetPort: 6379\r\n          name: redis\r\n      selector:\r\n        app: redis\r\n    \r\n    ---\r\n    \r\n    # Sentinel service used for project pod connection\r\n    \r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: sentinel-redis\r\n      labels:\r\n        app: sentinel\r\n        app.kubernetes.io/component: sentinel\r\n        app.kubernetes.io/instance: sentinel\r\n    spec:\r\n      type: ClusterIP\r\n      sessionAffinity: None\r\n      ports:\r\n        - port: 5000\r\n          targetPort: 5000\r\n          name: sentinel\r\n      selector:\r\n        app: sentinel\r\n    ---\r\n    apiVersion: apps/v1\r\n    kind: StatefulSet\r\n    metadata:\r\n      name: redis\r\n    spec:\r\n      serviceName: redis\r\n      replicas: 3\r\n      selector:\r\n        matchLabels:\r\n          app: redis\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: redis\r\n        spec:\r\n          initContainers:\r\n            - name: config\r\n              image: &#39;scorenexus.isbank:8443/bitnami/redis:7.0&#39;\r\n              env:\r\n                - name: REDIS_PASSWORD\r\n                  valueFrom:\r\n                    secretKeyRef:\r\n                      name: redis-secret\r\n                      key: REDIS_PASSWORD\r\n              command: [ &quot;sh&quot;, &quot;-c&quot;, &quot;/scripts/redis_init.sh&quot; ]\r\n              volumeMounts:\r\n                - name: redis-config\r\n                  mountPath: /etc/redis/\r\n                - name: config\r\n                  mountPath: /tmp/redis/\r\n                - name: init-script\r\n                  mountPath: /scripts/\r\n          containers:\r\n            - name: redis\r\n              image: &#39;scorenexus.isbank:8443/bitnami/redis:7.0&#39;\r\n              command: [&quot;redis-server&quot;]\r\n              args: [&quot;/etc/redis/redis.conf&quot;]\r\n              ports:\r\n                - containerPort: 6379\r\n                  name: redis\r\n              volumeMounts:\r\n                - name: data\r\n                  mountPath: /data\r\n                - name: redis-config\r\n                  mountPath: /etc/redis/\r\n          volumes:\r\n            - name: data\r\n              emptyDir: {}\r\n            - name: redis-config\r\n              emptyDir: {}\r\n            - name: init-script\r\n              configMap:\r\n                name: redis-scripts-config-map\r\n                defaultMode: 0777\r\n                items:\r\n                  - key: redis_init.sh\r\n                    path: redis_init.sh\r\n            - name: config\r\n              configMap:\r\n                name: redis-config-map\r\n                items:\r\n                  - key: redis.conf\r\n                    path: redis.conf\r\n    ---\r\n    apiVersion: apps/v1\r\n    kind: StatefulSet\r\n    metadata:\r\n      name: sentinel-redis\r\n    spec:\r\n      serviceName: sentinel-redis\r\n      replicas: 3\r\n      selector:\r\n        matchLabels:\r\n          app: sentinel\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: sentinel\r\n        spec:\r\n          initContainers:\r\n            - name: config\r\n              image: &#39;scorenexus.isbank:8443/bitnami/redis:7.0&#39;\r\n              env:\r\n                - name: REDIS_NODES\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: redis-config-map\r\n                      key: REDIS_NODES\r\n                - name: REDIS_PASSWORD\r\n                  valueFrom:\r\n                    secretKeyRef:\r\n                      name: redis-secret\r\n                      key: REDIS_PASSWORD\r\n              command: [ &quot;sh&quot;, &quot;-c&quot;, &quot;/scripts/sentinel_init.sh&quot; ]\r\n              volumeMounts:\r\n                - name: redis-config\r\n                  mountPath: /etc/redis/\r\n                - name: init-script\r\n                  mountPath: /scripts/\r\n          containers:\r\n            - name: sentinel\r\n              image: &#39;scorenexus.isbank:8443/bitnami/redis:7.0&#39;\r\n              command: [&quot;redis-sentinel&quot;]\r\n              args: [&quot;/etc/redis/sentinel.conf&quot;]\r\n              ports:\r\n                - containerPort: 5000\r\n                  name: sentinel\r\n              volumeMounts:\r\n                - name: redis-config\r\n                  mountPath: /etc/redis/\r\n                - name: data\r\n                  mountPath: /data\r\n          volumes:\r\n            - name: init-script\r\n              configMap:\r\n                name: redis-scripts-config-map\r\n                defaultMode: 0777\r\n                items:\r\n                  - key: sentinel_init.sh\r\n                    path: sentinel_init.sh\r\n            - name: redis-config\r\n              emptyDir: {}\r\n            - name: data\r\n              emptyDir: {}\r\n    ---\r\n\r\n\r\n\r\n","title":"Sentinel Failed to resolve hostname redis","body":"<p>Dears,</p>\n<p>I tried to access remote redis cache services from redis sentinel services for high availability. But sentinel server couldnt resolve redis host name.</p>\n<pre><code>java.net.UnknownHostException: No such host is known (redis-0.redis.xxxx-service-platform.svc.cluster.local)\n    at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java)\n    at java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:929)\n    ... 38 frames excluded\nWrapped by: io.lettuce.core.RedisConnectionException: Unable to connect to redis-0.redis.xxxx-service-platform.svc.cluster.local:6379\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)\n    ... 6 frames excluded\n    ... 28 common frames omitted`\n</code></pre>\n<p>Also I see above the log on sentinel services like as the follows</p>\n<pre><code>1:X 12 Sep 2023 21:56:50.711 # Failed to resolve hostname 'redis-0.redis.xxxx-service-platform.svc.cluster.local'\n1:X 12 Sep 2023 21:56:51.773 # Failed to resolve hostname 'redis-0.redis.xxxx-service-platform.svc.cluster.local'\n1:X 12 Sep 2023 21:56:52.806 # Failed to resolve hostname 'redis-0.redis.xxxx-service-platform.svc.cluster.local'\n1:X 12 Sep 2023 21:56:53.838 # Failed to resolve hostname 'redis-0.redis.xxxx-service-platform.svc.cluster.local'\n1:X 12 Sep 2023 21:56:54.908 # Failed to resolve hostname 'redis-0.redis.xxxx-service-platform.svc.cluster.local'\n1:X 12 Sep 2023 21:56:55.914 # Failed to resolve hostname 'redis-0.redis.xxxx-service-platform.svc.cluster.local'\n1:X 12 Sep 2023 21:56:56.925 # Failed to resolve hostname 'redis-0.redis.xxxx-service-platform.svc.cluster.local'\n1:X 12 Sep 2023 21:56:57.967 # Failed to resolve hostname 'redis-0.redis.xxxx-service-platform.svc.cluster.local'\n1:X 12 Sep 2023 21:56:59.037 # Failed to resolve hostname 'redis-0.redis.xxxx-service-platform.svc.cluster.local'\n</code></pre>\n<p>Could you help me how to solve the problem?</p>\n<p>I tried too much configuration but they didnt work, Sentinel and redis works the same cluster but on remote server, but sentinel should solve redis hostname</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: redis-config-map\ndata:\n  # Variable needed for sentinel init container\n  REDIS_NODES: &quot;redis-0.redis,redis-1.redis,redis-2.redis&quot;\n\n  # Config used in all redises\n  redis.conf: |\n    # Redis configuration file example.\n    # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    bind 0.0.0.0\n    # Protected mode is a layer of security protection, in order to avoid that\n   \n    # Close the connection after a client is idle for N seconds (0 to disable)\n    timeout 300\n    \n    # A reasonable value for this option is 300 seconds, which is the new\n    # Redis default starting with Redis 3.2.1.\n    tcp-keepalive 30\n   \n    # Configure allowed ciphers.  See the ciphers(1ssl) manpage for more information\n    # about the syntax of this string.\n    #\n    # Note: this configuration applies only to &lt;= TLSv1.2.\n    #\n    # tls-ciphers DEFAULT:!MEDIUM\n    # Configure allowed TLSv1.3 ciphersuites.  See the ciphers(1ssl) manpage for more\n    # information about the syntax of this string, and specifically for TLSv1.3\n    # ciphersuites.\n    #\n    # tls-ciphersuites TLS_CHACHA20_POLY1305_SHA256\n    # When choosing a cipher, use the server's preference instead of the client\n    # preference. By default, the server follows the client's preference.\n\n\n\n    # verbose (many rarely useful info, but not a mess like the debug level)\n    # notice (moderately verbose, what you want in production probably)\n    # warning (only very important / critical messages are logged)\n    loglevel notice\n    # Specify the log file name. Also the empty string can be used to force\n    # Redis to log on the standard output. Note that if you use standard\n    # output for logging but daemonize, logs will be sent to /dev/null\n    logfile &quot;&quot;\n    # To enable logging to the system logger, just set 'syslog-enabled' to yes,\n    # and optionally update the other syslog parameters to suit your needs.\n    # syslog-enabled no\n    # Specify the syslog identity.\n    # syslog-ident redis\n    # Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7.\n    # syslog-facility local0\n    # Set the number of databases. The default database is DB 0, you can select\n    \n    # ASCII art logo in startup logs by setting the following option to yes.\n    always-show-logo yes\n    ################################ SNAPSHOTTING  ################################\n   \n    #\n    # RDB files created with checksum disabled have a checksum of zero that will\n    # tell the loading code to skip the check.\n    rdbchecksum yes\n    # The filename where to dump the DB\n    # dbfilename &quot;dump.rdb&quot;\n    # Remove RDB files used by replication in instances without persistence\n    # enabled. By default this option is disabled, however there are environments\n    # where for regulations or other security concerns, RDB files persisted on\n    # disk by masters in order to feed replicas, or stored on disk by replicas\n\n    #\n    # Note that you must specify a directory here, not a file name.\n    dir &quot;/data&quot;\n   \n    # When a replica loses its connection with the master, or when the replication\n    \n    \n    # With slow disks and fast (large bandwidth) networks, diskless replication\n    # works better.\n    repl-diskless-sync no\n    # When diskless replication is enabled, it is possible to configure the delay\n    \n    repl-diskless-sync-delay 5\n    \n    \n\n    repl-diskless-load disabled\n    # Replicas send PINGs to server in a predefined interval. It's possible to\n    # change this interval with the repl_ping_replica_period option. The default\n    # value is 10 seconds.\n    #\n    appendonly no\n    # repl-ping-replica-period 10\n    # The following option sets the replication timeout for:\n    #\n    \n    # It is important to make sure that this value is greater than the value\n    # specified for repl-ping-replica-period otherwise a timeout will be detected\n    # every time there is low traffic between the master and the replica.\n    #\n    # repl-timeout 60\n    \n    # Linux kernels using a default configuration.\n    #\n    # If you select &quot;no&quot; the delay for data to appear on the replica side will\n    # be reduced but more bandwidth will be used for replication.\n    #\n    # By default we optimize for low latency, but in very high traffic conditions\n    # or when the master and replicas are many hops away, turning this to &quot;yes&quot; may\n    # be a good idea.\n    repl-disable-tcp-nodelay no\n    # Set the replication backlog size. The backlog is a buffer that accumulates\n    # replica data when replicas are disconnected for some time, so that when a\n    # replica wants to reconnect again, often a full resync is not needed, but a\n    # partial resync is enough, just passing the portion of data the replica\n    # missed while disconnected.\n    #\n    # The bigger the replication backlog, the longer the time the replica can be\n    # disconnected and later be able to perform a partial resynchronization.\n    #\n    # The backlog is only allocated once there is at least a replica connected.\n    #\n    # repl-backlog-size 1mb\n    # After a master has no longer connected replicas for some time, the backlog\n    # will be freed. The following option configures the amount of seconds that\n    # need to elapse, starting from the time the last replica disconnected, for\n    # the backlog buffer to be freed.\n    #\n    # Note that replicas never free the backlog for timeout, since they may be\n    # promoted to masters later, and should be able to correctly &quot;partially\n    # resynchronize&quot; with the replicas: hence they should always accumulate backlog.\n    #\n    # A value of 0 means to never release the backlog.\n    #\n    # repl-backlog-ttl 3600\n    # The replica priority is an integer number published by Redis in the INFO\n    # output. It is used by Redis Sentinel in order to select a replica to promote\n    # into a master if the master is no longer working correctly.\n    #\n    # A replica with a low priority number is considered better for promotion, so\n    # for instance if there are three replicas with priority 10, 100, 25 Sentinel\n    # will pick the one with priority 10, that is the lowest.\n    #\n    # However a special priority of 0 marks the replica as not able to perform the\n    # role of master, so a replica with priority of 0 will never be selected by\n    # Redis Sentinel for promotion.\n    #\n    # By default the priority is 100.\n    replica-priority 100\n    # It is possible for a master to stop accepting writes if there are less than\n    # N replicas connected, having a lag less or equal than M seconds.\n    #\n    # The N replicas need to be in &quot;online&quot; state.\n    #\n    # The lag in seconds, that must be &lt;= the specified value, is calculated from\n    # the last ping received from the replica, that is usually sent every second.\n    #\n    # This option does not GUARANTEE that N replicas will accept the write, but\n    # will limit the window of exposure for lost writes in case not enough replicas\n    # are available, to the specified number of seconds.\n    #\n    # For example to require at least 3 replicas with a lag &lt;= 10 seconds use:\n    #\n    # min-replicas-to-write 3\n    # min-replicas-max-lag 10\n    #\n    # Setting one or the other to 0 disables the feature.\n    #\n    # By default min-replicas-to-write is set to 0 (feature disabled) and\n    # min-replicas-max-lag is set to 10.\n    # A Redis master is able to list the address and port of the attached\n    # replicas in different ways. For example the &quot;INFO replication&quot; section\n    # offers this information, which is used, among other tools, by\n    # Redis Sentinel in order to discover replica instances.\n    # Another place where this info is available is in the output of the\n    # &quot;ROLE&quot; command of a master.\n    #\n    # The listed IP and address normally reported by a replica is obtained\n    # in the following way:\n    #\n    #   IP: The address is auto detected by checking the peer address\n    #   of the socket used by the replica to connect with the master.\n    #\n    #   Port: The port is communicated by the replica during the replication\n    #   handshake, and is normally the port that the replica is using to\n    #   listen for connections.\n    #\n    # However when port forwarding or Network Address Translation (NAT) is\n    # used, the replica may be actually reachable via different IP and port\n    # pairs. The following two options can be used by a replica in order to\n    # report to its master a specific set of IP and port, so that both INFO\n    # and ROLE will report those values.\n    #\n    # There is no need to use both the options if you need to override just\n    # the port or the IP address.\n    #\n    # replica-announce-ip 5.5.5.5\n    # replica-announce-port 1234\n    ############################### KEYS TRACKING #################################\n    # Redis implements server assisted support for client side caching of values.\n    # This is implemented using an invalidation table that remembers, using\n    # 16 millions of slots, what clients may have certain subsets of keys. In turn\n    # this is used in order to send invalidation messages to clients. Please\n    # to understand more about the feature check this page:\n    #\n    #   https://redis.io/topics/client-side-caching\n    #\n    # When tracking is enabled for a client, all the read only queries are assumed\n    # to be cached: this will force Redis to store information in the invalidation\n    # table. When keys are modified, such information is flushed away, and\n    # invalidation messages are sent to the clients. However if the workload is\n    # heavily dominated by reads, Redis could use more and more memory in order\n    # to track the keys fetched by many clients.\n    #\n    # For this reason it is possible to configure a maximum fill value for the\n    # invalidation table. By default it is set to 1M of keys, and once this limit\n    # is reached, Redis will start to evict keys in the invalidation table\n    # even if they were not modified, just to reclaim memory: this will in turn\n    # force the clients to invalidate the cached values. Basically the table\n    # maximum size is a trade off between the memory you want to spend server\n    # side to track information about who cached what, and the ability of clients\n    # to retain cached objects in memory.\n    #\n    # If you set the value to 0, it means there are no limits, and Redis will\n    # retain as many keys as needed in the invalidation table.\n    # In the &quot;stats&quot; INFO section, you can find information about the number of\n    # keys in the invalidation table at every given moment.\n    #\n    # Note: when key tracking is used in broadcasting mode, no memory is used\n    # in the server side so this setting is useless.\n    #\n    # tracking-table-max-keys 1000000\n    ################################## SECURITY ###################################\n    # Warning: since Redis is pretty fast an outside user can try up to\n    # 1 million passwords per second against a modern box. This means that you\n    # should use very strong passwords, otherwise they will be very easy to break.\n    # Note that because the password is really a shared secret between the client\n    # and the server, and should not be memorized by any human, the password\n    # can be easily a long string from /dev/urandom or whatever, so by using a\n    # long and unguessable password no brute force attack will be possible.\n    # Redis ACL users are defined in the following format:\n    #\n    #   user &lt;username&gt; ... acl rules ...\n    #\n    # For example:\n    #\n    #   user worker +@list +@connection ~jobs:* on &gt;ffa9203c493aa99\n    #\n    # The special username &quot;default&quot; is used for new connections. If this user\n    # has the &quot;nopass&quot; rule, then new connections will be immediately authenticated\n    # as the &quot;default&quot; user without the need of any password provided via the\n    # AUTH command. Otherwise if the &quot;default&quot; user is not flagged with &quot;nopass&quot;\n    # the connections will start in not authenticated state, and will require\n    # AUTH (or the HELLO command AUTH option) in order to be authenticated and\n    # start to work.\n    #\n    # The ACL rules that describe what an user can do are the following:\n    #\n    #  on           Enable the user: it is possible to authenticate as this user.\n    #  off          Disable the user: it's no longer possible to authenticate\n    #               with this user, however the already authenticated connections\n    #               will still work.\n    #  +&lt;command&gt;   Allow the execution of that command\n    #  -&lt;command&gt;   Disallow the execution of that command\n    #  +@&lt;category&gt; Allow the execution of all the commands in such category\n    #               with valid categories are like @admin, @set, @sortedset, ...\n    #               and so forth, see the full list in the server.c file where\n    #               the Redis command table is described and defined.\n    #               The special category @all means all the commands, but currently\n    #               present in the server, and that will be loaded in the future\n    #               via modules.\n    #  +&lt;command&gt;|subcommand    Allow a specific subcommand of an otherwise\n    #                           disabled command. Note that this form is not\n    #                           allowed as negative like -DEBUG|SEGFAULT, but\n    #                           only additive starting with &quot;+&quot;.\n    #  allcommands  Alias for +@all. Note that it implies the ability to execute\n    #               all the future commands loaded via the modules system.\n    #  nocommands   Alias for -@all.\n    #  ~&lt;pattern&gt;   Add a pattern of keys that can be mentioned as part of\n    #               commands. For instance ~* allows all the keys. The pattern\n    #               is a glob-style pattern like the one of KEYS.\n    #               It is possible to specify multiple patterns.\n    #  allkeys      Alias for ~*\n    #  resetkeys    Flush the list of allowed keys patterns.\n    #  &gt;&lt;password&gt;  Add this passowrd to the list of valid password for the user.\n    #               For example &gt;mypass will add &quot;mypass&quot; to the list.\n    #               This directive clears the &quot;nopass&quot; flag (see later).\n    #  &lt;&lt;password&gt;  Remove this password from the list of valid passwords.\n    #  nopass       All the set passwords of the user are removed, and the user\n    #               is flagged as requiring no password: it means that every\n    #               password will work against this user. If this directive is\n    #               used for the default user, every new connection will be\n    #               immediately authenticated with the default user without\n    #               any explicit AUTH command required. Note that the &quot;resetpass&quot;\n    #               directive will clear this condition.\n    #  resetpass    Flush the list of allowed passwords. Moreover removes the\n    #               &quot;nopass&quot; status. After &quot;resetpass&quot; the user has no associated\n    #               passwords and there is no way to authenticate without adding\n    #               some password (or setting it as &quot;nopass&quot; later).\n    #  reset        Performs the following actions: resetpass, resetkeys, off,\n    #               -@all. The user returns to the same state it has immediately\n    #               after its creation.\n    #\n    # ACL rules can be specified in any order: for instance you can start with\n    # passwords, then flags, or key patterns. However note that the additive\n    # and subtractive rules will CHANGE MEANING depending on the ordering.\n    # For instance see the following example:\n    #\n    #   user alice on +@all -DEBUG ~* &gt;somepassword\n    #\n    # This will allow &quot;alice&quot; to use all the commands with the exception of the\n    # DEBUG command, since +@all added all the commands to the set of the commands\n    # alice can use, and later DEBUG was removed. However if we invert the order\n    # of two ACL rules the result will be different:\n    #\n    #   user alice on -DEBUG +@all ~* &gt;somepassword\n    #\n    # Now DEBUG was removed when alice had yet no commands in the set of allowed\n    # commands, later all the commands are added, so the user will be able to\n    # execute everything.\n    #\n    # Basically ACL rules are processed left-to-right.\n    #\n    # For more information about ACL configuration please refer to\n    # the Redis web site at https://redis.io/topics/acl\n    # ACL LOG\n    #\n    # The ACL Log tracks failed commands and authentication events associated\n    # with ACLs. The ACL Log is useful to troubleshoot failed commands blocked\n    # by ACLs. The ACL Log is stored in memory. You can reclaim memory with\n    # ACL LOG RESET. Define the maximum entry length of the ACL Log below.\n    acllog-max-len 128\n    # Using an external ACL file\n    #\n    # Instead of configuring users here in this file, it is possible to use\n    # a stand-alone file just listing users. The two methods cannot be mixed:\n    # if you configure users here and at the same time you activate the exteranl\n    # ACL file, the server will refuse to start.\n    #\n    # The format of the external ACL user file is exactly the same as the\n    # format that is used inside redis.conf to describe users.\n    #\n    # aclfile /etc/redis/users.acl\n    # IMPORTANT NOTE: starting with Redis 6 &quot;requirepass&quot; is just a compatiblity\n    # layer on top of the new ACL system. The option effect will be just setting\n    # the password for the default user. Clients will still authenticate using\n    # AUTH &lt;password&gt; as usually, or more explicitly with AUTH default &lt;password&gt;\n    # if they follow the new protocol: both will work.\n    #\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: redis-scripts-config-map\ndata:\n\n  sentinel_init.sh: |\n    #!/bin/bash\n    REDIS_NODES= &quot;redis-0.redis,redis-1.redis,redis-2.redis&quot;\n    for i in ${REDIS_NODES//,/ }\n    do\n        echo &quot;finding master at $i&quot;\n        MASTER=$(redis-cli --no-auth-warning --raw -h $i -a ${REDIS_PASSWORD} info replication | awk '{print $1}' | grep master_host: | cut -d &quot;:&quot; -f2)\n    \n        if [ &quot;${MASTER}&quot; == &quot;&quot; ]; then\n            echo &quot;no master found&quot;\n            MASTER=\n        else\n            echo &quot;found ${MASTER}&quot;\n            break\n        fi\n    \n    done\n\n    POD_FQDN=$(hostname -f)\n    echo &quot;sentinel monitor mymaster ${MASTER} 6379 2&quot; &gt;&gt; /tmp/master\n    echo &quot;port 5000\n    $(cat /tmp/master)\n    protected-mode no\n    sentinel resolve-hostnames yes\n    sentinel announce-hostnames yes\n    sentinel announce-ip $POD_FQDN\n    sentinel announce-port 5000\n    sentinel down-after-milliseconds mymaster 1000\n    sentinel failover-timeout mymaster 60000\n    sentinel parallel-syncs mymaster 1\n    sentinel sentinel-pass ${REDIS_PASSWORD}\n    sentinel auth-pass mymaster ${REDIS_PASSWORD}\n    requirepass ${REDIS_PASSWORD}\n\n    &quot; &gt; /etc/redis/sentinel.conf\n    cat /etc/redis/sentinel.conf\n\n\n  redis_init.sh: |\n    #!/bin/bash\n\n    cp /tmp/redis/redis.conf /etc/redis/redis.conf\n    echo &quot;requirepass ${REDIS_PASSWORD}&quot; &gt;&gt; /etc/redis/redis.conf\n    echo &quot;masterauth ${REDIS_PASSWORD}&quot; &gt;&gt; /etc/redis/redis.conf\n    echo &quot;replica-announce-ip ${HOSTNAME}.redis&quot; &gt;&gt; /etc/redis/redis.conf\n    echo &quot;replica-announce-port 6379 &quot; &gt;&gt; /etc/redis/redis.conf\n    \n    echo &quot;finding master...&quot;\n\n    if [ &quot;$(timeout 5 redis-cli -h sentinel -p 5000 -a ${REDIS_PASSWORD} ping)&quot; != &quot;PONG&quot; ]; then\n\n      echo &quot;sentinel not found, defaulting to redis-0&quot;\n\n      if [ ${HOSTNAME} == &quot;redis-0&quot; ]; then\n        echo &quot;this is redis-0, not updating config...&quot;\n      else\n        echo &quot;updating redis.conf...&quot;\n        echo &quot;repl-ping-replica-period 3&quot; &gt;&gt; /etc/redis/redis.conf\n        echo &quot;slave-read-only no&quot; &gt;&gt; /etc/redis/redis.conf\n        echo &quot;slaveof redis-0.redis 6379&quot; &gt;&gt; /etc/redis/redis.conf\n      fi\n\n    else\n\n      echo &quot;sentinel found, finding master&quot;\n      MASTER=&quot;$(redis-cli -h sentinel -p 5000 -a ${REDIS_PASSWORD} sentinel get-master-addr-by-name mymaster | grep -E '(^redis-*)|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})')&quot;\n\n      if [ &quot;${HOSTNAME}.redis&quot; == ${MASTER} ]; then\n        echo &quot;this is master, not updating config...&quot;\n      else\n        echo &quot;master found : ${MASTER}, updating redis.conf&quot;\n        echo &quot;slave-read-only no&quot; &gt;&gt; /etc/redis/redis.conf\n        echo &quot;slaveof ${MASTER} 6379&quot; &gt;&gt; /etc/redis/redis.conf\n        echo &quot;repl-ping-replica-period 3&quot; &gt;&gt; /etc/redis/redis.conf\n      fi\n\n    fi\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: redis-secret\ntype: Opaque\ndata:\n  REDIS_PASSWORD: c3BlZWR5R29uemFsZXMyMDIz\n---\n# Headless service so sentinel could access redisses using syntax &lt;pod-name&gt;.&lt;service-name&gt;\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: redis\n  labels:\n    app: redis\n    app.kubernetes.io/component: redis\n    app.kubernetes.io/instance: redis\nspec:\n  clusterIP: None\n  ports:\n    - port: 6379\n      targetPort: 6379\n      name: redis\n  selector:\n    app: redis\n\n---\n\n# Sentinel service used for project pod connection\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: sentinel-redis\n  labels:\n    app: sentinel\n    app.kubernetes.io/component: sentinel\n    app.kubernetes.io/instance: sentinel\nspec:\n  type: ClusterIP\n  sessionAffinity: None\n  ports:\n    - port: 5000\n      targetPort: 5000\n      name: sentinel\n  selector:\n    app: sentinel\n---\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: redis\nspec:\n  serviceName: redis\n  replicas: 3\n  selector:\n    matchLabels:\n      app: redis\n  template:\n    metadata:\n      labels:\n        app: redis\n    spec:\n      initContainers:\n        - name: config\n          image: 'scorenexus.isbank:8443/bitnami/redis:7.0'\n          env:\n            - name: REDIS_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: redis-secret\n                  key: REDIS_PASSWORD\n          command: [ &quot;sh&quot;, &quot;-c&quot;, &quot;/scripts/redis_init.sh&quot; ]\n          volumeMounts:\n            - name: redis-config\n              mountPath: /etc/redis/\n            - name: config\n              mountPath: /tmp/redis/\n            - name: init-script\n              mountPath: /scripts/\n      containers:\n        - name: redis\n          image: 'scorenexus.isbank:8443/bitnami/redis:7.0'\n          command: [&quot;redis-server&quot;]\n          args: [&quot;/etc/redis/redis.conf&quot;]\n          ports:\n            - containerPort: 6379\n              name: redis\n          volumeMounts:\n            - name: data\n              mountPath: /data\n            - name: redis-config\n              mountPath: /etc/redis/\n      volumes:\n        - name: data\n          emptyDir: {}\n        - name: redis-config\n          emptyDir: {}\n        - name: init-script\n          configMap:\n            name: redis-scripts-config-map\n            defaultMode: 0777\n            items:\n              - key: redis_init.sh\n                path: redis_init.sh\n        - name: config\n          configMap:\n            name: redis-config-map\n            items:\n              - key: redis.conf\n                path: redis.conf\n---\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: sentinel-redis\nspec:\n  serviceName: sentinel-redis\n  replicas: 3\n  selector:\n    matchLabels:\n      app: sentinel\n  template:\n    metadata:\n      labels:\n        app: sentinel\n    spec:\n      initContainers:\n        - name: config\n          image: 'scorenexus.isbank:8443/bitnami/redis:7.0'\n          env:\n            - name: REDIS_NODES\n              valueFrom:\n                configMapKeyRef:\n                  name: redis-config-map\n                  key: REDIS_NODES\n            - name: REDIS_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: redis-secret\n                  key: REDIS_PASSWORD\n          command: [ &quot;sh&quot;, &quot;-c&quot;, &quot;/scripts/sentinel_init.sh&quot; ]\n          volumeMounts:\n            - name: redis-config\n              mountPath: /etc/redis/\n            - name: init-script\n              mountPath: /scripts/\n      containers:\n        - name: sentinel\n          image: 'scorenexus.isbank:8443/bitnami/redis:7.0'\n          command: [&quot;redis-sentinel&quot;]\n          args: [&quot;/etc/redis/sentinel.conf&quot;]\n          ports:\n            - containerPort: 5000\n              name: sentinel\n          volumeMounts:\n            - name: redis-config\n              mountPath: /etc/redis/\n            - name: data\n              mountPath: /data\n      volumes:\n        - name: init-script\n          configMap:\n            name: redis-scripts-config-map\n            defaultMode: 0777\n            items:\n              - key: sentinel_init.sh\n                path: sentinel_init.sh\n        - name: redis-config\n          emptyDir: {}\n        - name: data\n          emptyDir: {}\n---\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":1485238,"reputation":109,"user_id":1393650,"display_name":"user1393650"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1644479368,"creation_date":1644479368,"answer_id":71061438,"question_id":71022606,"body_markdown":"The solution is:\r\n\r\n        KafkaSource&lt;ObjectNode&gt; source = KafkaSource.&lt;ObjectNode&gt;builder()\r\n                .setProperties(kafkaProps)\r\n                .setProperty(&quot;ssl.truststore.type&quot;,trustStoreType)\r\n                .setProperty(&quot;ssl.truststore.password&quot;,trustStorePassword)\r\n                .setProperty(&quot;ssl.truststore.location&quot;,trustStoreLocation)\r\n                .setProperty(&quot;security.protocol&quot;,securityProtocol)\r\n                .setProperty(&quot;partition.discovery.interval.ms&quot;, partitionDiscoveryIntervalMs)\r\n                .setProperty(&quot;commit.offsets.on.checkpoint&quot;, commitOffsetsOnCheckpoint)\r\n                .setGroupId(groupId)\r\n                .setTopics(kafkaInputTopic)\r\n                .setDeserializer(KafkaRecordDeserializationSchema.of(new JSONKeyValueDeserializationSchema(fetchMetadata)))\r\n                .setStartingOffsets(OffsetsInitializer.committedOffsets(OffsetResetStrategy.EARLIEST))\r\n                .build();","title":"org.apache.flink.streaming.util.serialization.JSONKeyValueDeserializationSchema cannot be converted to ObjectNode","body":"<p>The solution is:</p>\n<pre><code>    KafkaSource&lt;ObjectNode&gt; source = KafkaSource.&lt;ObjectNode&gt;builder()\n            .setProperties(kafkaProps)\n            .setProperty(&quot;ssl.truststore.type&quot;,trustStoreType)\n            .setProperty(&quot;ssl.truststore.password&quot;,trustStorePassword)\n            .setProperty(&quot;ssl.truststore.location&quot;,trustStoreLocation)\n            .setProperty(&quot;security.protocol&quot;,securityProtocol)\n            .setProperty(&quot;partition.discovery.interval.ms&quot;, partitionDiscoveryIntervalMs)\n            .setProperty(&quot;commit.offsets.on.checkpoint&quot;, commitOffsetsOnCheckpoint)\n            .setGroupId(groupId)\n            .setTopics(kafkaInputTopic)\n            .setDeserializer(KafkaRecordDeserializationSchema.of(new JSONKeyValueDeserializationSchema(fetchMetadata)))\n            .setStartingOffsets(OffsetsInitializer.committedOffsets(OffsetResetStrategy.EARLIEST))\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29436489,"reputation":1,"user_id":22555227,"display_name":"user22555227"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694654107,"creation_date":1694654107,"answer_id":77101248,"question_id":71022606,"body_markdown":"I am passing truststore location as path and failing with below error and i noticed you are passing it as a variable, can you provide some insights on this?\r\n\r\nerror: Caused by: org.apache.kafka.common.KafkaException: Failed to load SSL keystore truststore.jks of type JKS","title":"org.apache.flink.streaming.util.serialization.JSONKeyValueDeserializationSchema cannot be converted to ObjectNode","body":"<p>I am passing truststore location as path and failing with below error and i noticed you are passing it as a variable, can you provide some insights on this?</p>\n<p>error: Caused by: org.apache.kafka.common.KafkaException: Failed to load SSL keystore truststore.jks of type JKS</p>\n"}],"owner":{"account_id":1485238,"reputation":109,"user_id":1393650,"display_name":"user1393650"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694654107,"creation_date":1644254194,"question_id":71022606,"body_markdown":"When I used the following code:\r\n\r\n        KafkaSource&lt;ObjectNode&gt; source = KafkaSource.&lt;ObjectNode&gt;builder()\r\n                .setProperties(kafkaProps)\r\n                .setProperty(&quot;ssl.truststore.type&quot;,trustStoreType)\r\n                .setProperty(&quot;ssl.truststore.password&quot;,trustStorePassword)\r\n                .setProperty(&quot;ssl.truststore.location&quot;,trustStoreLocation)\r\n                .setProperty(&quot;security.protocol&quot;,securityProtocol)\r\n                .setProperty(&quot;partition.discovery.interval.ms&quot;, partitionDiscoveryIntervalMs)\r\n                .setProperty(&quot;commit.offsets.on.checkpoint&quot;, commitOffsetsOnCheckpoint)\r\n                .setGroupId(groupId)\r\n                .setTopics(kafkaInputTopic)\r\n                .setDeserializer(new JSONKeyValueDeserializationSchema(false))\r\n                .setStartingOffsets\r\n                 (OffsetsInitializer.committedOffsets(OffsetResetStrategy.EARLIEST))\r\n                .build();\r\n\r\nI get the following error during build\r\n`incompatible types: org.apache.flink.streaming.util.serialization.JSONKeyValueDeserializationSchema cannot be converted to org.apache.flink.connector.kafka.source.reader.deserializer.KafkaRecordDeserializationSchema&lt;org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.ObjectNode&gt;`\r\n```\r\n                .setDeserializer(new JSONKeyValueDeserializationSchema(false))\r\n```\r\nSomeone a clue as to what is wrong?\r\n\r\n","title":"org.apache.flink.streaming.util.serialization.JSONKeyValueDeserializationSchema cannot be converted to ObjectNode","body":"<p>When I used the following code:</p>\n<pre><code>    KafkaSource&lt;ObjectNode&gt; source = KafkaSource.&lt;ObjectNode&gt;builder()\n            .setProperties(kafkaProps)\n            .setProperty(&quot;ssl.truststore.type&quot;,trustStoreType)\n            .setProperty(&quot;ssl.truststore.password&quot;,trustStorePassword)\n            .setProperty(&quot;ssl.truststore.location&quot;,trustStoreLocation)\n            .setProperty(&quot;security.protocol&quot;,securityProtocol)\n            .setProperty(&quot;partition.discovery.interval.ms&quot;, partitionDiscoveryIntervalMs)\n            .setProperty(&quot;commit.offsets.on.checkpoint&quot;, commitOffsetsOnCheckpoint)\n            .setGroupId(groupId)\n            .setTopics(kafkaInputTopic)\n            .setDeserializer(new JSONKeyValueDeserializationSchema(false))\n            .setStartingOffsets\n             (OffsetsInitializer.committedOffsets(OffsetResetStrategy.EARLIEST))\n            .build();\n</code></pre>\n<p>I get the following error during build\n<code>incompatible types: org.apache.flink.streaming.util.serialization.JSONKeyValueDeserializationSchema cannot be converted to org.apache.flink.connector.kafka.source.reader.deserializer.KafkaRecordDeserializationSchema&lt;org.apache.flink.shaded.jackson2.com.fasterxml.jackson.databind.node.ObjectNode&gt;</code></p>\n<pre><code>                .setDeserializer(new JSONKeyValueDeserializationSchema(false))\n</code></pre>\n<p>Someone a clue as to what is wrong?</p>\n"},{"tags":["java","drools","linkageerror"],"owner":{"account_id":29436283,"reputation":1,"user_id":22555061,"display_name":"randomprogrammerdude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694653501,"creation_date":1694653501,"question_id":77101227,"body_markdown":"So I am getting the error below when using Drools to evaluate a set of rules \\[example below\\] using Stateful kieSessions. This error isn&#39;t consistent with it&#39;s appearance but it appeared enough times for it to be concerning. We are creating multiple sessions and calling `fireAllRules()` concurrenlty if that&#39;s useful.\r\n\r\n```\r\nCaused by: java.lang.LinkageError: loader (instance of org/drools/core/rule/JavaDialectRuntimeData$PackageClassLoader): attempted duplicate class definition for name: &quot;path/MY_SIMPLE_RULE&quot;\r\n    at &quot;path/MY_SIMPLE_RULE&quot;Eval1InvokerGenerated.evaluate(Unknown Source) ~[?:?]\r\n    at &quot;path/MY_SIMPLE_RULE&quot;Eval1Invoker.evaluate(Unknown Source) ~[?:?]\r\n    at org.drools.core.rule.EvalCondition.isAllowed(EvalCondition.java:118) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n    at org.drools.core.phreak.PhreakEvalNode.doLeftInserts(PhreakEvalNode.java:70) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n    at org.drools.core.phreak.PhreakEvalNode.doNode(PhreakEvalNode.java:54) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n    at org.drools.core.phreak.RuleNetworkEvaluator.evalNode(RuleNetworkEvaluator.java:380) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n    at org.drools.core.phreak.RuleNetworkEvaluator.innerEval(RuleNetworkEvaluator.java:332) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n    at org.drools.core.phreak.RuleNetworkEvaluator.outerEval(RuleNetworkEvaluator.java:166) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n    at org.drools.core.phreak.RuleNetworkEvaluator.evaluateNetwork(RuleNetworkEvaluator.java:123) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n    at org.drools.core.phreak.RuleExecutor.evaluateNetwork(RuleExecutor.java:65) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n    at org.drools.core.common.DefaultAgenda.evaluateEagerList(DefaultAgenda.java:1004) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n    at org.drools.core.common.DefaultAgenda.fireNextItem(DefaultAgenda.java:961) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n    at org.drools.core.common.DefaultAgenda.fireAllRules(DefaultAgenda.java:1292) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\r\n```\r\n\r\nPseudo Rule\r\n\r\n```\r\nrule &quot;MY_SIMPLE_RULE&quot;\r\n    lock-on-active true\r\n    when\r\n        eval($myAge) == 44);\r\n        eval($myName == &quot;Luffy&quot;);\r\n    then\r\n        $title.add(&quot;Captain&quot;); \r\nend\r\n```\r\n\r\nDon&#39;t mind the correctness of the rule here because the rules that I am evaluating are reviewed and have been used for several years now. So somewhere down the line we use the kieSession to `fireAllRules()`.\r\n\r\nTried reproducing the error to no avail. So I am not sure what the exact issue is. The problem is the code works for majority of the rules and only broke for a few and those few don&#39;t even break all the times. It&#39;s sometimes they break, sometimes they do.","title":"java.lang.LinkageError: loader drools/./.JavaDialectRuntimeData$PackageClassLoader): attempted duplicate class definition for name:","body":"<p>So I am getting the error below when using Drools to evaluate a set of rules [example below] using Stateful kieSessions. This error isn't consistent with it's appearance but it appeared enough times for it to be concerning. We are creating multiple sessions and calling <code>fireAllRules()</code> concurrenlty if that's useful.</p>\n<pre><code>Caused by: java.lang.LinkageError: loader (instance of org/drools/core/rule/JavaDialectRuntimeData$PackageClassLoader): attempted duplicate class definition for name: &quot;path/MY_SIMPLE_RULE&quot;\n    at &quot;path/MY_SIMPLE_RULE&quot;Eval1InvokerGenerated.evaluate(Unknown Source) ~[?:?]\n    at &quot;path/MY_SIMPLE_RULE&quot;Eval1Invoker.evaluate(Unknown Source) ~[?:?]\n    at org.drools.core.rule.EvalCondition.isAllowed(EvalCondition.java:118) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n    at org.drools.core.phreak.PhreakEvalNode.doLeftInserts(PhreakEvalNode.java:70) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n    at org.drools.core.phreak.PhreakEvalNode.doNode(PhreakEvalNode.java:54) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n    at org.drools.core.phreak.RuleNetworkEvaluator.evalNode(RuleNetworkEvaluator.java:380) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n    at org.drools.core.phreak.RuleNetworkEvaluator.innerEval(RuleNetworkEvaluator.java:332) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n    at org.drools.core.phreak.RuleNetworkEvaluator.outerEval(RuleNetworkEvaluator.java:166) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n    at org.drools.core.phreak.RuleNetworkEvaluator.evaluateNetwork(RuleNetworkEvaluator.java:123) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n    at org.drools.core.phreak.RuleExecutor.evaluateNetwork(RuleExecutor.java:65) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n    at org.drools.core.common.DefaultAgenda.evaluateEagerList(DefaultAgenda.java:1004) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n    at org.drools.core.common.DefaultAgenda.fireNextItem(DefaultAgenda.java:961) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n    at org.drools.core.common.DefaultAgenda.fireAllRules(DefaultAgenda.java:1292) ~[drools-core-6.3.0.Final.jar:6.3.0.Final]\n</code></pre>\n<p>Pseudo Rule</p>\n<pre><code>rule &quot;MY_SIMPLE_RULE&quot;\n    lock-on-active true\n    when\n        eval($myAge) == 44);\n        eval($myName == &quot;Luffy&quot;);\n    then\n        $title.add(&quot;Captain&quot;); \nend\n</code></pre>\n<p>Don't mind the correctness of the rule here because the rules that I am evaluating are reviewed and have been used for several years now. So somewhere down the line we use the kieSession to <code>fireAllRules()</code>.</p>\n<p>Tried reproducing the error to no avail. So I am not sure what the exact issue is. The problem is the code works for majority of the rules and only broke for a few and those few don't even break all the times. It's sometimes they break, sometimes they do.</p>\n"},{"tags":["java","log4j","apache-flink","slf4j","flink-streaming"],"comments":[{"owner":{"account_id":13472617,"reputation":425,"user_id":10060134,"display_name":"Niko"},"score":0,"creation_date":1694675686,"post_id":77101193,"comment_id":135923000,"body_markdown":"The log files can be accessed via the Job-/TaskManager pages of the WebUI. The used Resource Provider (e.g., YARN) may provide additional means of accessing them. On Yarn by default (I&#39;m not sure) you can&#39;t see logs while container is running...","body":"The log files can be accessed via the Job-/TaskManager pages of the WebUI. The used Resource Provider (e.g., YARN) may provide additional means of accessing them. On Yarn by default (I&#39;m not sure) you can&#39;t see logs while container is running..."}],"owner":{"account_id":15966961,"reputation":123,"user_id":11522265,"display_name":"Scott"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694652689,"creation_date":1694652689,"question_id":77101193,"body_markdown":"I have a flink job that uses slf4j for logging but when I run the job, the logs do not show up in yarn. Do I need a log4j.properties or is there something else I have to configure?\r\n\r\n\r\nI am just doing logger.info(&quot;info msg&quot;)","title":"How do I make my logs show up in yarn from my flink job?","body":"<p>I have a flink job that uses slf4j for logging but when I run the job, the logs do not show up in yarn. Do I need a log4j.properties or is there something else I have to configure?</p>\n<p>I am just doing logger.info(&quot;info msg&quot;)</p>\n"},{"tags":["java","micronaut","micronaut-data"],"answers":[{"tags":[],"owner":{"account_id":8642608,"reputation":11,"user_id":6470849,"display_name":"Wanderson Pimenta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694652525,"creation_date":1694650058,"answer_id":77101090,"question_id":75202766,"body_markdown":"\r\nThis was the only way I found to register and configure datasource on demand.\r\n\r\n**In my case, I created a schedule to check if there are new configurations to update, checking if it is already in**\r\n\r\n    Collection&lt;DatasourceConfiguration&gt; beansOfType = applicationContext.getBeansOfType(DatasourceConfiguration.class);\r\n\r\n\r\n    // Class that contains database connection settings\r\n    @Getter\r\n    @Setter\r\n    public class DataBaseConfig {\r\n        private String tenantId;\r\n        private String host;\r\n        private String port;\r\n        private String user;\r\n        private String pass;\r\n        private String database;\r\n    }\r\n    \r\n    // This class loads the BeanContext to register the new datasource configuration\r\n    @Singleton\r\n    public class MyFactory {\r\n        private final BeanContext beanContext;\r\n        public MyFactory(BeanContext beanContext) {\r\n            this.beanContext = beanContext;\r\n        }\r\n    \r\n        public void create(DatasourceConfiguration datasourceConfigurationd) {\r\n            beanContext.registerSingleton(DatasourceConfiguration.class, datasourceConfiguration, Qualifiers.byName(datasourceConfigurationd.getName()));\r\n        }\r\n    }\r\n    \r\n    // connection to some service that returns the database connection settings\r\n    @Client(&quot;https://service.search.tenant/&quot;))\r\n    public interface IClientTenant{\r\n        @Get(&quot;/{tenantId}&quot;)\r\n        DataBaseConfig get(String tenantId)\r\n    }\r\n    \r\n    \r\n    \r\n    @Singleton\r\n    public class NewDataSources {\r\n    \r\n        private IClientTenant clientTenant;\r\n        private MyFactory myFactory;\r\n        public NewDataSources(IClientTenant clientTenant, MyFactory myFactory) {\r\n            this.clientTenant = clientTenant;\r\n            this.myFactory = myFactory;\r\n        }\r\n    \r\n    \r\n        public void addNewDatasourceConfiguration(String tenantId){\r\n            var dc = clientTenant.get(tenantId);\r\n    \r\n            var url = String.format(&quot;jdbc:sqlserver://%s:%s;database=%s;TrustServerCertificate=True&quot;, dc.getHost(), dc.getPort(),dc.getDatabase());\r\n            DatasourceConfiguration hikariConfig = new DatasourceConfiguration(dc.getTenantId());\r\n            hikariConfig.setJdbcUrl(url);\r\n            hikariConfig.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            hikariConfig.setUsername(dc.getUser());\r\n            hikariConfig.setPassword(dc.getPass());\r\n            hikariConfig.setMinimumIdle(2);\r\n            hikariConfig.setMaximumPoolSize(8);\r\n            hikariConfig.setConnectionTimeout(SECONDS.toMillis(15));\r\n            hikariConfig.setIdleTimeout(MINUTES.toMillis(2));\r\n            hikariConfig.setValidationTimeout(SECONDS.toMillis(2));\r\n            hikariConfig.setConnectionTestQuery(&quot;select 1&quot;);\r\n            hikariConfig.setMaxLifetime(MINUTES.toMillis(30));\r\n            hikariConfig.setPoolName(dc.getDatabase());\r\n    \r\n            myFactory.create(hikariConfig);\r\n        }\r\n    \r\n    }","title":"Register / Configure DataSource on demand in Micronaut - Data","body":"<p>This was the only way I found to register and configure datasource on demand.</p>\n<p><strong>In my case, I created a schedule to check if there are new configurations to update, checking if it is already in</strong></p>\n<pre><code>Collection&lt;DatasourceConfiguration&gt; beansOfType = applicationContext.getBeansOfType(DatasourceConfiguration.class);\n\n\n// Class that contains database connection settings\n@Getter\n@Setter\npublic class DataBaseConfig {\n    private String tenantId;\n    private String host;\n    private String port;\n    private String user;\n    private String pass;\n    private String database;\n}\n\n// This class loads the BeanContext to register the new datasource configuration\n@Singleton\npublic class MyFactory {\n    private final BeanContext beanContext;\n    public MyFactory(BeanContext beanContext) {\n        this.beanContext = beanContext;\n    }\n\n    public void create(DatasourceConfiguration datasourceConfigurationd) {\n        beanContext.registerSingleton(DatasourceConfiguration.class, datasourceConfiguration, Qualifiers.byName(datasourceConfigurationd.getName()));\n    }\n}\n\n// connection to some service that returns the database connection settings\n@Client(&quot;https://service.search.tenant/&quot;))\npublic interface IClientTenant{\n    @Get(&quot;/{tenantId}&quot;)\n    DataBaseConfig get(String tenantId)\n}\n\n\n\n@Singleton\npublic class NewDataSources {\n\n    private IClientTenant clientTenant;\n    private MyFactory myFactory;\n    public NewDataSources(IClientTenant clientTenant, MyFactory myFactory) {\n        this.clientTenant = clientTenant;\n        this.myFactory = myFactory;\n    }\n\n\n    public void addNewDatasourceConfiguration(String tenantId){\n        var dc = clientTenant.get(tenantId);\n\n        var url = String.format(&quot;jdbc:sqlserver://%s:%s;database=%s;TrustServerCertificate=True&quot;, dc.getHost(), dc.getPort(),dc.getDatabase());\n        DatasourceConfiguration hikariConfig = new DatasourceConfiguration(dc.getTenantId());\n        hikariConfig.setJdbcUrl(url);\n        hikariConfig.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        hikariConfig.setUsername(dc.getUser());\n        hikariConfig.setPassword(dc.getPass());\n        hikariConfig.setMinimumIdle(2);\n        hikariConfig.setMaximumPoolSize(8);\n        hikariConfig.setConnectionTimeout(SECONDS.toMillis(15));\n        hikariConfig.setIdleTimeout(MINUTES.toMillis(2));\n        hikariConfig.setValidationTimeout(SECONDS.toMillis(2));\n        hikariConfig.setConnectionTestQuery(&quot;select 1&quot;);\n        hikariConfig.setMaxLifetime(MINUTES.toMillis(30));\n        hikariConfig.setPoolName(dc.getDatabase());\n\n        myFactory.create(hikariConfig);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":734,"reputation":4042,"user_id":959,"accept_rate":52,"display_name":"jatanp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694652525,"creation_date":1674411027,"question_id":75202766,"body_markdown":"I am building a framework for some multi tenant application and it needs some dynamism with respect to data sources.\r\n\r\nI did check micronaut-data 3.9 and 4.0 rc builds and found that the team has introduced TenantDataSourceResolver and TenantSchemaResolver interfaces to dynamically select datasource / schema based on MultiTenant strategy.\r\n\r\nHowever, it still requires all the datasources to be pre-registered via application.yml. In my case the new datasources may get added dynamically and hence the need of dynamic registration of DataSource beans.\r\n\r\nI studied the code of micronaut-data and everything starts from DatasourceConfiguration and wired via  @EachProperty / @EachBean annotations till DefaultJdbcRepositoryOperations. Some of the beans (e.g. io.micronaut.configuration.jdbc.hikari.DataSourceFactory#dataSource) are bound to @Context scope hence they are eager initialized and bound to the context.\r\n\r\nAny help in this direction is appreciated. I really like micronaut-data but it feels lots of magic (especially for one who comes from Spring background) of compile time AOP and dynamic classes (generated via asm).\r\n\r\nThanks !\r\n\r\n\r\n","title":"Register / Configure DataSource on demand in Micronaut - Data","body":"<p>I am building a framework for some multi tenant application and it needs some dynamism with respect to data sources.</p>\n<p>I did check micronaut-data 3.9 and 4.0 rc builds and found that the team has introduced TenantDataSourceResolver and TenantSchemaResolver interfaces to dynamically select datasource / schema based on MultiTenant strategy.</p>\n<p>However, it still requires all the datasources to be pre-registered via application.yml. In my case the new datasources may get added dynamically and hence the need of dynamic registration of DataSource beans.</p>\n<p>I studied the code of micronaut-data and everything starts from DatasourceConfiguration and wired via  @EachProperty / @EachBean annotations till DefaultJdbcRepositoryOperations. Some of the beans (e.g. io.micronaut.configuration.jdbc.hikari.DataSourceFactory#dataSource) are bound to @Context scope hence they are eager initialized and bound to the context.</p>\n<p>Any help in this direction is appreciated. I really like micronaut-data but it feels lots of magic (especially for one who comes from Spring background) of compile time AOP and dynamic classes (generated via asm).</p>\n<p>Thanks !</p>\n"},{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":2,"creation_date":1439963700,"post_id":32087469,"comment_id":52070621,"body_markdown":"Can you tell us which package you have imported for `@Transactional`.","body":"Can you tell us which package you have imported for <code>@Transactional</code>."},{"owner":{"account_id":5188476,"reputation":1415,"user_id":4160538,"accept_rate":12,"display_name":"Vipul Jain"},"score":1,"creation_date":1439965557,"post_id":32087469,"comment_id":52071370,"body_markdown":"@NamanGala I was importing `javax.trasaction.Transactional`, now I got that I have to use one that was provided by spring only.","body":"@NamanGala I was importing <code>javax.trasaction.Transactional</code>, now I got that I have to use one that was provided by spring only."}],"answers":[{"tags":[],"owner":{"account_id":1967545,"reputation":5365,"user_id":1767366,"accept_rate":90,"display_name":"Bnrdo"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1439964015,"creation_date":1439963659,"answer_id":32087495,"question_id":32087469,"body_markdown":"Make sure you import `@Transactional` from `org.springframework.transaction.annotation.Transactional` and not from `javax.transaction.Transactional` as `readOnly` attribute is specific to Spring transaction.\r\n\r\n","title":"The attribute readOnly is undefined for the annotation type Transactional","body":"<p>Make sure you import <code>@Transactional</code> from <code>org.springframework.transaction.annotation.Transactional</code> and not from <code>javax.transaction.Transactional</code> as <code>readOnly</code> attribute is specific to Spring transaction.</p>\n"},{"tags":[],"owner":{"account_id":5945359,"reputation":430,"user_id":4675016,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535348267,"creation_date":1535348267,"answer_id":52033109,"question_id":32087469,"body_markdown":"Add \r\n\r\nimport org.springframework.transaction.annotation.Transactional;","title":"The attribute readOnly is undefined for the annotation type Transactional","body":"<p>Add </p>\n\n<p>import org.springframework.transaction.annotation.Transactional;</p>\n"}],"owner":{"account_id":5188476,"reputation":1415,"user_id":4160538,"accept_rate":12,"display_name":"Vipul Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9038,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1694651855,"creation_date":1439963514,"question_id":32087469,"body_markdown":"I am getting this error when I am putting this piece of code on a service method \r\n   \r\n\r\n     @Transactional(readOnly =true)\r\n\r\n\r\nI am writing this code to make a transaction read only. Can you please tell me What I did wrong in this case","title":"The attribute readOnly is undefined for the annotation type Transactional","body":"<p>I am getting this error when I am putting this piece of code on a service method </p>\n\n<pre><code> @Transactional(readOnly =true)\n</code></pre>\n\n<p>I am writing this code to make a transaction read only. Can you please tell me What I did wrong in this case</p>\n"},{"tags":["java","ssl","rsa","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":8497217,"reputation":37834,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1531993564,"creation_date":1485852130,"answer_id":41953072,"question_id":41934846,"body_markdown":"Java does not come with out-of-the-box support for PKCS1 keys. You can however use [Bouncycastle][1]\r\n\r\n\tPEMParser pemParser = new PEMParser(new FileReader(privateKeyFile));\r\n    JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\r\n\tObject object = pemParser.readObject();\r\n\tKeyPair kp = converter.getKeyPair((PEMKeyPair) object);\r\n\tPrivateKey privateKey = kp.getPrivate();\r\n\r\n\r\n  [1]: https://www.bouncycastle.org","title":"Read RSA private key of format PKCS1 in JAVA","body":"<p>Java does not come with out-of-the-box support for PKCS1 keys. You can however use <a href=\"https://www.bouncycastle.org\" rel=\"noreferrer\">Bouncycastle</a></p>\n\n<pre><code>PEMParser pemParser = new PEMParser(new FileReader(privateKeyFile));\nJcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(\"BC\");\nObject object = pemParser.readObject();\nKeyPair kp = converter.getKeyPair((PEMKeyPair) object);\nPrivateKey privateKey = kp.getPrivate();\n</code></pre>\n"}],"owner":{"account_id":4374011,"reputation":1381,"user_id":3567488,"accept_rate":71,"display_name":"Jenananthan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21010,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":41953072,"answer_count":1,"score":17,"last_activity_date":1694650416,"creation_date":1485775901,"question_id":41934846,"body_markdown":"Is it possible to read the RSA private key of format PKCS1 in JAVA without converting to PKCS8? if yes, sample code is appreciated.\r\n \r\n\r\n    -----BEGIN RSA PRIVATE KEY-----\r\n     BASE64 ENCODED DATA\r\n    -----END RSA PRIVATE KEY-----","title":"Read RSA private key of format PKCS1 in JAVA","body":"<p>Is it possible to read the RSA private key of format PKCS1 in JAVA without converting to PKCS8? if yes, sample code is appreciated.</p>\n\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\n BASE64 ENCODED DATA\n-----END RSA PRIVATE KEY-----\n</code></pre>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694646838,"creation_date":1694646838,"answer_id":77100982,"question_id":77100936,"body_markdown":"Your `cars` list is local to one call of the method called `menu()`. \r\n\r\nWhen you call that method again, it gets a different `cars` list.\r\n\r\nYou can solve this by using a loop inside a single call of the `menu()` method -- such as a `do-while` loop. Then each pass through the loop will use the same list.","title":"how to add values in arraylist with Switch case in JAVA","body":"<p>Your <code>cars</code> list is local to one call of the method called <code>menu()</code>.</p>\n<p>When you call that method again, it gets a different <code>cars</code> list.</p>\n<p>You can solve this by using a loop inside a single call of the <code>menu()</code> method -- such as a <code>do-while</code> loop. Then each pass through the loop will use the same list.</p>\n"}],"owner":{"account_id":9507435,"reputation":13,"user_id":7066458,"display_name":"user7066458"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77100982,"answer_count":1,"score":0,"last_activity_date":1694646838,"creation_date":1694645888,"question_id":77100936,"body_markdown":"I am a new with Java and I have a question. How to add values or index in arrayList in Switch case?\r\n\r\nI have tried without switch case, it will work well, but in Switch case, not working at all!!. my code run but i cant add values for example in case 1.\r\n\r\nhere&#39;s my code. \r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Eqla3tech {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        menu();\r\n\r\n}\r\n\r\nstatic void menu(){\r\n\r\n    ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\r\n    Scanner input = new Scanner(System.in);\r\n\r\n    System.out.println(&quot;Add Student &lt;1&gt;&quot;);\r\n    System.out.println(&quot;remove Student &lt;2&gt;&quot;);\r\n    System.out.println(&quot;show list of students &lt;3&gt;&quot;);\r\n    System.out.println(&quot;how many students? &lt;4&gt;&quot;);\r\n    int num = input.nextInt();\r\n    input.nextLine();\r\n    switch(num){\r\n        case 1:\r\n            System.out.println(&quot;write student name!!&quot;);\r\n\r\n\r\n            cars.add(input.next());\r\n            menu();\r\n            break;\r\n\r\n        case 2:\r\n            System.out.println(&quot;what number of index of student to remove&quot;);\r\n            int index = input.nextInt();\r\n            cars.remove(index);\r\n            menu();\r\n            break;\r\n\r\n        case 3:\r\n            System.out.println(&quot;Here&#39;s a list you have added.&quot;);\r\n           System.out.println(cars);\r\n            menu();\r\n            break;\r\n\r\n        case 4:\r\n            System.out.println(&quot;Here&#39;s haw many students&quot;);\r\n            System.out.println(cars.size());\r\n            menu();\r\n            break;\r\n\r\n\r\n    }\r\n}\r\n}\r\n```\r\nwhat i try to do is make arrays as dynamic and i can add or remove from Switch without losing values. \r\n\r\nplease apology for my bad English. \r\n\r\nI have tried to make user enter input but not worked. I mean, eveytime user enter input, value dont save in add arrayList. \r\n\r\nI think i am close but i lost too. ","title":"how to add values in arraylist with Switch case in JAVA","body":"<p>I am a new with Java and I have a question. How to add values or index in arrayList in Switch case?</p>\n<p>I have tried without switch case, it will work well, but in Switch case, not working at all!!. my code run but i cant add values for example in case 1.</p>\n<p>here's my code.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Eqla3tech {\n\n    public static void main(String[] args) {\n\n        menu();\n\n}\n\nstatic void menu(){\n\n    ArrayList&lt;String&gt; cars = new ArrayList&lt;String&gt;();\n    Scanner input = new Scanner(System.in);\n\n    System.out.println(&quot;Add Student &lt;1&gt;&quot;);\n    System.out.println(&quot;remove Student &lt;2&gt;&quot;);\n    System.out.println(&quot;show list of students &lt;3&gt;&quot;);\n    System.out.println(&quot;how many students? &lt;4&gt;&quot;);\n    int num = input.nextInt();\n    input.nextLine();\n    switch(num){\n        case 1:\n            System.out.println(&quot;write student name!!&quot;);\n\n\n            cars.add(input.next());\n            menu();\n            break;\n\n        case 2:\n            System.out.println(&quot;what number of index of student to remove&quot;);\n            int index = input.nextInt();\n            cars.remove(index);\n            menu();\n            break;\n\n        case 3:\n            System.out.println(&quot;Here's a list you have added.&quot;);\n           System.out.println(cars);\n            menu();\n            break;\n\n        case 4:\n            System.out.println(&quot;Here's haw many students&quot;);\n            System.out.println(cars.size());\n            menu();\n            break;\n\n\n    }\n}\n}\n</code></pre>\n<p>what i try to do is make arrays as dynamic and i can add or remove from Switch without losing values.</p>\n<p>please apology for my bad English.</p>\n<p>I have tried to make user enter input but not worked. I mean, eveytime user enter input, value dont save in add arrayList.</p>\n<p>I think i am close but i lost too.</p>\n"},{"tags":["java","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":304325,"reputation":779,"user_id":613763,"accept_rate":100,"display_name":"Alexander Sobolev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297517722,"creation_date":1297517722,"answer_id":4978326,"question_id":4978275,"body_markdown":"You should declare add as a webmethod.\r\ntry following:\r\n\r\n       @WebMethod public int add(int a, int b){\r\n        return (a+b);\r\n        }\r\n","title":"Simple Web Service adding two numbers","body":"<p>You should declare add as a webmethod.\ntry following:</p>\n\n<pre><code>   @WebMethod public int add(int a, int b){\n    return (a+b);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":708095,"reputation":11,"user_id":614229,"display_name":"Joe Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297519100,"creation_date":1297519100,"answer_id":4978421,"question_id":4978275,"body_markdown":"My Fault! I forgot to start the App Server","title":"Simple Web Service adding two numbers","body":"<p>My Fault! I forgot to start the App Server</p>\n"}],"owner":{"account_id":708095,"reputation":11,"user_id":614229,"display_name":"Joe Moore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694646085,"creation_date":1297517131,"question_id":4978275,"body_markdown":"I have created a simple Webservice function as shown below;\r\n\r\n    /*\r\n     * To change this template, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package ws;\r\n    import javax.jws.WebService;\r\n    /**\r\n     *\r\n     * @author Joe\r\n     */\r\n    @WebService()\r\n    public class Add2Int {\r\n    public int add(int a, int b) {\r\n        return (a+b);\r\n    }\r\n    }\r\n\r\nand I have created a very simple gui that allows the user to enter 2 numbers and which should output the result however this does not work?  I tried it without the gui and it works but when i build the gui it does not work?  here is my code for that side of things\r\n\r\n \r\n\r\n    /*\r\n     * To change this template, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    \r\n    package myjavawsclient;\r\n    //import java.io.*;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    /**\r\n     *\r\n     * @author Joe\r\n     */\r\n    public class Calculator extends JFrame implements FocusListener {\r\n        JTextField value1 = new JTextField(&quot;&quot;, 5);\r\n        JLabel plus = new JLabel(&quot;+&quot;);\r\n        JTextField value2 = new JTextField(&quot;&quot;,5);\r\n        JLabel equals = new JLabel(&quot;=&quot;);\r\n        JTextField sum = new JTextField(&quot;&quot;, 5);\r\n    \r\n        public Calculator() {\r\n            super(&quot;The Calculator&quot;);\r\n            setSize(350,90);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            FlowLayout flow = new FlowLayout(FlowLayout.CENTER);\r\n            setLayout(flow);\r\n            // add the listners\r\n            value1.addFocusListener(this);\r\n            value2.addFocusListener(this);\r\n            // set up sum field\r\n            sum.setEditable(true);\r\n            //add componets\r\n            add(value1);\r\n            add(plus);\r\n            add(value2);\r\n            add(equals);\r\n            add(sum);\r\n            setVisible(true);\r\n        }\r\n\r\n        public void focusGained(FocusEvent event){\r\n            try { // Call Web Service Operation\r\n                ws.Add2IntService service = new ws.Add2IntService();\r\n                ws.Add2Int port = service.getAdd2IntPort();\r\n                // TODO initialize WS operation arguments here\r\n                int result = 0;\r\n                int result2 = 0;\r\n                result = Integer.parseInt(value1.getText());\r\n                result2 = Integer.parseInt(value2.getText());\r\n    \r\n                int total = port.add(result, result2);\r\n                sum.setText(&quot;&quot; +total);\r\n    \r\n                //float plusTotal = Float.parseFloat(value1.getText()) +\r\n                    Float.parseFloat(value2.getText());\r\n    \r\n            } catch (Exception ex) {\r\n                // TODO handle custom exceptions here\r\n                //value1.setText(&quot;0&quot;);\r\n                //value2.setText(&quot;0&quot;);\r\n                //sum.setText(&quot;0&quot;);\r\n            }\r\n        }\r\n\r\n        public void focusLost(FocusEvent event){\r\n          focusGained(event);\r\n        }\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n    \r\n            // TODO code application logic here\r\n    \r\n            Calculator frame = new Calculator();\r\n        }\r\n    }\r\n\r\nI am not getting any errors I am just not getting any result from the 2 numbers, for example 1+1=2 but with my application it allows the user to enter 1 + 1 = ? but where the question mark is nothing gets shown.\r\n\r\nI was wondering if anyone could solve this problem for me. Oh and I am using NetBeans and GlassFish App server with WSDL\r\n\r\nJoe\r\n\r\n\r\n\r\n","title":"Simple Web Service adding two numbers","body":"<p>I have created a simple Webservice function as shown below;</p>\n\n<pre><code>/*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\npackage ws;\nimport javax.jws.WebService;\n/**\n *\n * @author Joe\n */\n@WebService()\npublic class Add2Int {\npublic int add(int a, int b) {\n    return (a+b);\n}\n}\n</code></pre>\n\n<p>and I have created a very simple gui that allows the user to enter 2 numbers and which should output the result however this does not work?  I tried it without the gui and it works but when i build the gui it does not work?  here is my code for that side of things</p>\n\n<pre><code>/*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\n\npackage myjavawsclient;\n//import java.io.*;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\n/**\n *\n * @author Joe\n */\npublic class Calculator extends JFrame implements FocusListener {\n    JTextField value1 = new JTextField(\"\", 5);\n    JLabel plus = new JLabel(\"+\");\n    JTextField value2 = new JTextField(\"\",5);\n    JLabel equals = new JLabel(\"=\");\n    JTextField sum = new JTextField(\"\", 5);\n\n    public Calculator() {\n        super(\"The Calculator\");\n        setSize(350,90);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        FlowLayout flow = new FlowLayout(FlowLayout.CENTER);\n        setLayout(flow);\n        // add the listners\n        value1.addFocusListener(this);\n        value2.addFocusListener(this);\n        // set up sum field\n        sum.setEditable(true);\n        //add componets\n        add(value1);\n        add(plus);\n        add(value2);\n        add(equals);\n        add(sum);\n        setVisible(true);\n    }\n\n    public void focusGained(FocusEvent event){\n        try { // Call Web Service Operation\n            ws.Add2IntService service = new ws.Add2IntService();\n            ws.Add2Int port = service.getAdd2IntPort();\n            // TODO initialize WS operation arguments here\n            int result = 0;\n            int result2 = 0;\n            result = Integer.parseInt(value1.getText());\n            result2 = Integer.parseInt(value2.getText());\n\n            int total = port.add(result, result2);\n            sum.setText(\"\" +total);\n\n            //float plusTotal = Float.parseFloat(value1.getText()) +\n                Float.parseFloat(value2.getText());\n\n        } catch (Exception ex) {\n            // TODO handle custom exceptions here\n            //value1.setText(\"0\");\n            //value2.setText(\"0\");\n            //sum.setText(\"0\");\n        }\n    }\n\n    public void focusLost(FocusEvent event){\n      focusGained(event);\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n\n        // TODO code application logic here\n\n        Calculator frame = new Calculator();\n    }\n}\n</code></pre>\n\n<p>I am not getting any errors I am just not getting any result from the 2 numbers, for example 1+1=2 but with my application it allows the user to enter 1 + 1 = ? but where the question mark is nothing gets shown.</p>\n\n<p>I was wondering if anyone could solve this problem for me. Oh and I am using NetBeans and GlassFish App server with WSDL</p>\n\n<p>Joe</p>\n"},{"tags":["java","spring-boot","netflix-zuul"],"comments":[{"owner":{"account_id":6169696,"reputation":155,"user_id":4808342,"display_name":"thurst0n"},"score":0,"creation_date":1596843844,"post_id":61748253,"comment_id":111950916,"body_markdown":"Researching something similar myself, not resolved yet. But here&#39;s some things I&quot;m looking at.\n\n\n***AbstractLoadBalancerAwareClient*** is catching ALL exceptions and re-throwing them as ClientException&#39;s. I believe this is the root of the bug.\n\n\n\nClientException includes things like number of retries exceeded, and read_timeout_exception.so it may already be a 400 when I wouldn&#39;t classify it as that myself.\n\n\n\n\n\nRibbonHttpRequest calls executeWithLoadBalancer() which will throw the above exception.\n\n\n\n\nDefaultResponseErrorHandler or RibbonRoutingFilter might also be in play.","body":"Researching something similar myself, not resolved yet. But here&#39;s some things I&quot;m looking at.   <b><i>AbstractLoadBalancerAwareClient</i></b> is catching ALL exceptions and re-throwing them as ClientException&#39;s. I believe this is the root of the bug.    ClientException includes things like number of retries exceeded, and read_timeout_exception.so it may already be a 400 when I wouldn&#39;t classify it as that myself.      RibbonHttpRequest calls executeWithLoadBalancer() which will throw the above exception.     DefaultResponseErrorHandler or RibbonRoutingFilter might also be in play."},{"owner":{"account_id":2931336,"reputation":425,"user_id":2511487,"accept_rate":33,"display_name":"vijaya lakshmi"},"score":0,"creation_date":1620740907,"post_id":61748253,"comment_id":119286174,"body_markdown":"By any chance did you resolve this issue ? I am also facing the same","body":"By any chance did you resolve this issue ? I am also facing the same"}],"owner":{"account_id":7581444,"reputation":63,"user_id":5752034,"display_name":"Abhishek Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694645545,"creation_date":1589275793,"question_id":61748253,"body_markdown":"I have Zuul gateway in my service which gets the request from UI and forward it to Downstream service. I am not using ribbon and using the simple routing filter of Zuul.\r\nmy application YAML file is:\r\n\r\n    zuul:\r\n    debug:\r\n        request: true\r\n      host:\r\n        connect-timeout-millis: 60000 # starting the connection\r\n        socket-timeout-millis: 600000  # monitor the continuous incoming data flow\r\n      add-proxy-headers: true\r\n      routes:\r\n        service:\r\n          path: /service/**\r\n          sensitive-headers:\r\n          url: &lt;service-url&gt;\r\n\r\nIt is working as expected but I am facing an intermittent issue where for some request I am getting 400 bad request error and the request is not even reaching to the downstream routed service.\r\n\r\nI enabled the debug logs and saw in the logs of apache wire that whenever I get the 400 response there is an additional string added in the headers(I guess):\r\nPlease see the logs:\r\n\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-forwarded-host:  &lt;HOST&gt;\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-forwarded-server: &lt;SERVER&gt;\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-forwarded-proto: https,http\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-envoy-external-address: &lt;EXTERNAL ADDRESS&gt;\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-request-id: &lt;REQUEST ID&gt;[\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-envoy-expected-rq-timeout-ms: 1200000\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-request-start: t=1589262419.335\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-forwarded-prefix: /api/service\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; Accept-Encoding: gzip\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; Host: &lt;HOST&gt;\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; Connection: Keep-Alive\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; &quot;pZCI6IkEwMkY0MjM4MUYxMjAzMTBFMDUzMTJFQjQyQTkxMjM2IiwiZW1haWwiOiJhYmhpc2hla21pc2hyYTIwMzdAZ21haWwuY29tIiwibGFzdG5hbWUiOiJNaXNocmEiLCJ1c2VybmFtZSI6IlhyOVIxUHdxeWciLCJleHAiOjE1ODkyOTA0OTl9.N1wC0ChcHwTncwcePPGq_xcwBrXbr9Igb3XaxkFKbFPv8JjhWoX68ZqT8LSUp7OU8SfPsiP4BVLIqF6hgAKkWZVWVCKc7oJ0I796qVXZUFNkUHq8GLFCdunQ1thLkqdLJ6YeIt0WoQmlfKTJe14krD8p0Ue9gheR0fvqdKIeSIY[\\r][\\n]&quot;\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; &quot;x-forwarded-prefix: /api/service[\\r][\\n]&quot;\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; &quot;Accept-Encoding: gzip[\\r][\\n]&quot;\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; &quot;Host: &lt;HOST&gt;[\\r][\\n]&quot;\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\r\n    05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n    05:46:59.367 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\\r][\\n]&quot;\r\n    05:46:59.367 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &lt;&lt; &quot;[\\r][\\n]&quot;\r\n    05:46:59.367 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &lt;&lt; HTTP/1.1 400 Bad Request\r\n\r\n\r\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; &quot;***pZCI6IkEwMkY0MjM4MUYxMjAzMTBFMDUzMTJFQjQyQTkxMjM2IiwiZW1haWwiOiJhYmhpc2hla21pc2hyYTIwMzdAZ21haWwuY29tIiwibGFzdG5hbWUiOiJNaXNocmEiLCJ1c2VybmFtZSI6IlhyOVIxUHdxeWciLCJleHAiOjE1ODkyOTA0OTl9.N1wC0ChcHwTncwcePPGq_xcwBrXbr9Igb3XaxkFKbFPv8JjhWoX68ZqT8LSUp7OU8SfPsiP4BVLIqF6hgAKkWZVWVCKc7oJ0I796qVXZUFNkUHq8GLFCdunQ1thLkqdLJ6YeIt0WoQmlfKTJe14krD8p0Ue9gheR0fvqdKIeSIY***[\\r][\\n]&quot;\r\n\r\nthis the additional string I am talking about and not sure why is getting added here and also I am not adding anything in the original request headers other than my own two additional headers\r\nwhich is required by the downstream service.\r\n\r\nAlso if you see the logs for the Success scenario logs, this additional string is not present there:\r\n\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;x-forwarded-host: &lt;HOST&gt;[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;x-forwarded-server: &lt;SERVER&gt;[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;x-forwarded-proto: https,http[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;x-envoy-external-address: &lt;EXTERNAL ADDRESS&gt;[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;x-request-id: &lt;REQUEST ID&gt;[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;x-envoy-expected-rq-timeout-ms: 1200000[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;x-request-start: t=1589273901.838[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;x-forwarded-prefix: /api/service[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;Accept-Encoding: gzip[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;Host: &lt;HOST&gt;[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\r\n    08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n    08:58:22.352 default [SimpleHostRoutingFilter.connectionManagerTimer] DEBUG o.a.h.i.c.PoolingHttpClientConnectionManager - Closing expired connections\r\n    08:58:23.989 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &lt;&lt; &quot;HTTP/1.1 200 OK[\\r][\\n]&quot;\r\n\r\n\r\nThis is very intermittent issue and I am unable to find what is the root cause for this error.\r\nAnd also in case of 400 error request is not even reaching to the downstream service.\r\n\r\nAlso in both the cases same API call was made (GET CALL).\r\n\r\nPlease help me with this, I am unable to figure it out why it is happening.","title":"Getting 400 bad request Error from apache Http client in Zuul gateway and request is not reaching to downstream service","body":"<p>I have Zuul gateway in my service which gets the request from UI and forward it to Downstream service. I am not using ribbon and using the simple routing filter of Zuul.\nmy application YAML file is:</p>\n\n<pre><code>zuul:\ndebug:\n    request: true\n  host:\n    connect-timeout-millis: 60000 # starting the connection\n    socket-timeout-millis: 600000  # monitor the continuous incoming data flow\n  add-proxy-headers: true\n  routes:\n    service:\n      path: /service/**\n      sensitive-headers:\n      url: &lt;service-url&gt;\n</code></pre>\n\n<p>It is working as expected but I am facing an intermittent issue where for some request I am getting 400 bad request error and the request is not even reaching to the downstream routed service.</p>\n\n<p>I enabled the debug logs and saw in the logs of apache wire that whenever I get the 400 response there is an additional string added in the headers(I guess):\nPlease see the logs:</p>\n\n<pre><code>05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-forwarded-host:  &lt;HOST&gt;\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-forwarded-server: &lt;SERVER&gt;\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-forwarded-proto: https,http\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-envoy-external-address: &lt;EXTERNAL ADDRESS&gt;\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-request-id: &lt;REQUEST ID&gt;[\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-envoy-expected-rq-timeout-ms: 1200000\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-request-start: t=1589262419.335\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; x-forwarded-prefix: /api/service\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; Accept-Encoding: gzip\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; Host: &lt;HOST&gt;\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &gt;&gt; Connection: Keep-Alive\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; \"pZCI6IkEwMkY0MjM4MUYxMjAzMTBFMDUzMTJFQjQyQTkxMjM2IiwiZW1haWwiOiJhYmhpc2hla21pc2hyYTIwMzdAZ21haWwuY29tIiwibGFzdG5hbWUiOiJNaXNocmEiLCJ1c2VybmFtZSI6IlhyOVIxUHdxeWciLCJleHAiOjE1ODkyOTA0OTl9.N1wC0ChcHwTncwcePPGq_xcwBrXbr9Igb3XaxkFKbFPv8JjhWoX68ZqT8LSUp7OU8SfPsiP4BVLIqF6hgAKkWZVWVCKc7oJ0I796qVXZUFNkUHq8GLFCdunQ1thLkqdLJ6YeIt0WoQmlfKTJe14krD8p0Ue9gheR0fvqdKIeSIY[\\r][\\n]\"\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; \"x-forwarded-prefix: /api/service[\\r][\\n]\"\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; \"Accept-Encoding: gzip[\\r][\\n]\"\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; \"Host: &lt;HOST&gt;[\\r][\\n]\"\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; \"Connection: Keep-Alive[\\r][\\n]\"\n05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &gt;&gt; \"[\\r][\\n]\"\n05:46:59.367 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &lt;&lt; \"HTTP/1.1 400 Bad Request[\\r][\\n]\"\n05:46:59.367 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 &lt;&lt; \"[\\r][\\n]\"\n05:46:59.367 default [http-nio-8080-exec-3] DEBUG org.apache.http.headers - http-outgoing-494 &lt;&lt; HTTP/1.1 400 Bad Request\n</code></pre>\n\n<p>05:46:59.366 default [http-nio-8080-exec-3] DEBUG org.apache.http.wire - http-outgoing-494 >> \"<strong><em>pZCI6IkEwMkY0MjM4MUYxMjAzMTBFMDUzMTJFQjQyQTkxMjM2IiwiZW1haWwiOiJhYmhpc2hla21pc2hyYTIwMzdAZ21haWwuY29tIiwibGFzdG5hbWUiOiJNaXNocmEiLCJ1c2VybmFtZSI6IlhyOVIxUHdxeWciLCJleHAiOjE1ODkyOTA0OTl9.N1wC0ChcHwTncwcePPGq_xcwBrXbr9Igb3XaxkFKbFPv8JjhWoX68ZqT8LSUp7OU8SfPsiP4BVLIqF6hgAKkWZVWVCKc7oJ0I796qVXZUFNkUHq8GLFCdunQ1thLkqdLJ6YeIt0WoQmlfKTJe14krD8p0Ue9gheR0fvqdKIeSIY</em></strong>[\\r][\\n]\"</p>\n\n<p>this the additional string I am talking about and not sure why is getting added here and also I am not adding anything in the original request headers other than my own two additional headers\nwhich is required by the downstream service.</p>\n\n<p>Also if you see the logs for the Success scenario logs, this additional string is not present there:</p>\n\n<pre><code>08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"x-forwarded-host: &lt;HOST&gt;[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"x-forwarded-server: &lt;SERVER&gt;[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"x-forwarded-proto: https,http[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"x-envoy-external-address: &lt;EXTERNAL ADDRESS&gt;[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"x-request-id: &lt;REQUEST ID&gt;[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"x-envoy-expected-rq-timeout-ms: 1200000[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"x-request-start: t=1589273901.838[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"x-forwarded-prefix: /api/service[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"Accept-Encoding: gzip[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"Host: &lt;HOST&gt;[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"Connection: Keep-Alive[\\r][\\n]\"\n08:58:21.865 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &gt;&gt; \"[\\r][\\n]\"\n08:58:22.352 default [SimpleHostRoutingFilter.connectionManagerTimer] DEBUG o.a.h.i.c.PoolingHttpClientConnectionManager - Closing expired connections\n08:58:23.989 default [http-nio-8080-exec-4] DEBUG org.apache.http.wire - http-outgoing-553 &lt;&lt; \"HTTP/1.1 200 OK[\\r][\\n]\"\n</code></pre>\n\n<p>This is very intermittent issue and I am unable to find what is the root cause for this error.\nAnd also in case of 400 error request is not even reaching to the downstream service.</p>\n\n<p>Also in both the cases same API call was made (GET CALL).</p>\n\n<p>Please help me with this, I am unable to figure it out why it is happening.</p>\n"},{"tags":["java","regex","regex-group"],"comments":[{"owner":{"account_id":4076597,"reputation":4537,"user_id":3348112,"accept_rate":75,"display_name":"CAustin"},"score":1,"creation_date":1687813593,"post_id":76560166,"comment_id":134986507,"body_markdown":"Does your input data only consist of these numbers, or does the regex pattern need to find them within a larger body of text? If the former, I&#39;d suggest doing a simple character replacement on `+` and then another replacement on `,`. No need to bundle it all into one big regex pattern.","body":"Does your input data only consist of these numbers, or does the regex pattern need to find them within a larger body of text? If the former, I&#39;d suggest doing a simple character replacement on <code>+</code> and then another replacement on <code>,</code>. No need to bundle it all into one big regex pattern."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1687813960,"post_id":76560166,"comment_id":134986564,"body_markdown":"Does it have to be a single operation?","body":"Does it have to be a single operation?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1687814105,"post_id":76560166,"comment_id":134986587,"body_markdown":"@CAustin Even if they&#39;re in a block of text, you can search for the general pattern and modify each on replace using the functional [`replaceAll`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)).","body":"@CAustin Even if they&#39;re in a block of text, you can search for the general pattern and modify each on replace using the functional <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>replaceAll</code></a>."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1687814194,"post_id":76560166,"comment_id":134986603,"body_markdown":"@shmosel not necessarily","body":"@shmosel not necessarily"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1687814290,"post_id":76560166,"comment_id":134986617,"body_markdown":"So do `line.replaceFirst(&quot;^\\\\+&quot;, &quot;&quot;).replace(&#39;,&#39;, &#39;.&#39;)`","body":"So do <code>line.replaceFirst(&quot;^\\\\+&quot;, &quot;&quot;).replace(&#39;,&#39;, &#39;.&#39;)</code>"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1687814380,"post_id":76560166,"comment_id":134986624,"body_markdown":"@CAustin yes, is part of a larger body text, a csv basically, but I&#39;m splitting each line by separator, and I will apply only on those fields that contain only numbers and symbols (+ - , . )","body":"@CAustin yes, is part of a larger body text, a csv basically, but I&#39;m splitting each line by separator, and I will apply only on those fields that contain only numbers and symbols (+ - , . )"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687816668,"post_id":76560166,"comment_id":134986970,"body_markdown":"Do you want to retain the leading zeros?","body":"Do you want to retain the leading zeros?"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1687817184,"post_id":76560166,"comment_id":134987018,"body_markdown":"@WJS not necessarily","body":"@WJS not necessarily"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687822483,"post_id":76560166,"comment_id":134987502,"body_markdown":"be advised to select Java if testing regular expressions for Java. You selected PCR3 (PHP): [screenshot](https://i.stack.imgur.com/aEIGZ.png) - when you select Java and hover of the substitution text, you&#39;ll see that `${3:+...` is not a conditional replacement since not available in Java, actually shown as [error](https://i.stack.imgur.com/Mqj7O.png)","body":"be advised to select Java if testing regular expressions for Java. You selected PCR3 (PHP): <a href=\"https://i.stack.imgur.com/aEIGZ.png\" rel=\"nofollow noreferrer\">screenshot</a> - when you select Java and hover of the substitution text, you&#39;ll see that <code>${3:+...</code> is not a conditional replacement since not available in Java, actually shown as <a href=\"https://i.stack.imgur.com/Mqj7O.png\" rel=\"nofollow noreferrer\">error</a>"}],"answers":[{"tags":[],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687814258,"creation_date":1687814258,"answer_id":76560297,"question_id":76560166,"body_markdown":"```\r\nprivate static String replaceUsingRegex(final String line) {\r\n    Pattern regex = Pattern.compile(&quot;(\\\\+?)(0*)([0-9]+)([,\\\\.])?([0-9]+)?&quot;);\r\n    Matcher regexMatcher = regex.matcher(line);\r\n\r\n    if (regexMatcher.find()) {\r\n        String result = regexMatcher.group(3).replaceFirst(&quot;^0+&quot;, &quot;&quot;);\r\n        if (regexMatcher.group(4) != null &amp;&amp; regexMatcher.group(5) != null) {\r\n            result += &quot;.&quot; + regexMatcher.group(5);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    return line;\r\n}\r\n```\r\n\r\n1st capturing group: `(\\\\+?)` - leading &#39;+&#39; sign &lt;br&gt;\r\n2nd capturing group: `(0*)` - zeroes more than 1 &lt;br&gt;\r\n3rd capturing group: `([0-9]+)` - All digits before dot/comma &lt;br&gt;\r\n4th capturing group: `([,\\\\.]?)` - Comma and dot, optional &lt;br&gt;\r\n5th capturing group: `([0-9]+)?` - Digits after separator &lt;br&gt;\r\n\r\n","title":"Regex Conditional replacement on Java","body":"<pre><code>private static String replaceUsingRegex(final String line) {\n    Pattern regex = Pattern.compile(&quot;(\\\\+?)(0*)([0-9]+)([,\\\\.])?([0-9]+)?&quot;);\n    Matcher regexMatcher = regex.matcher(line);\n\n    if (regexMatcher.find()) {\n        String result = regexMatcher.group(3).replaceFirst(&quot;^0+&quot;, &quot;&quot;);\n        if (regexMatcher.group(4) != null &amp;&amp; regexMatcher.group(5) != null) {\n            result += &quot;.&quot; + regexMatcher.group(5);\n        }\n        return result;\n    }\n\n    return line;\n}\n</code></pre>\n<p>1st capturing group: <code>(\\\\+?)</code> - leading '+' sign <br>\n2nd capturing group: <code>(0*)</code> - zeroes more than 1 <br>\n3rd capturing group: <code>([0-9]+)</code> - All digits before dot/comma <br>\n4th capturing group: <code>([,\\\\.]?)</code> - Comma and dot, optional <br>\n5th capturing group: <code>([0-9]+)?</code> - Digits after separator <br></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687817680,"creation_date":1687817271,"answer_id":76560499,"question_id":76560166,"body_markdown":"In my opinion, a regex is overkill for this. First, just replace the plus sign, then replace the comma. \r\n```\r\nString[] values = {\r\n        &quot;+000123,456&quot;,&quot;+123&quot;,&quot;000123,456&quot;,&quot;123&quot;,&quot;+123.45&quot;,&quot;-123,45&quot;\r\n};\r\n\r\nfor (String value : values) {\r\n    String s = value.replace(&quot;+&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;.&quot;);\r\n    System.out.println(s);\r\n}\r\n```\r\nprints\r\n```\r\n000123.456\r\n123\r\n000123.456\r\n123\r\n123.45\r\n-123.45\r\n```\r\nYou could also write a lambda to do it.\r\n```\r\nUnaryOperator&lt;String&gt; convert = str-&gt;str.replace(&quot;+&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;.&quot;);\r\nString result = convert.apply(&quot;+1202,233&quot;);\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\n1202.233\r\n","title":"Regex Conditional replacement on Java","body":"<p>In my opinion, a regex is overkill for this. First, just replace the plus sign, then replace the comma.</p>\n<pre><code>String[] values = {\n        &quot;+000123,456&quot;,&quot;+123&quot;,&quot;000123,456&quot;,&quot;123&quot;,&quot;+123.45&quot;,&quot;-123,45&quot;\n};\n\nfor (String value : values) {\n    String s = value.replace(&quot;+&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;.&quot;);\n    System.out.println(s);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>000123.456\n123\n000123.456\n123\n123.45\n-123.45\n</code></pre>\n<p>You could also write a lambda to do it.</p>\n<pre><code>UnaryOperator&lt;String&gt; convert = str-&gt;str.replace(&quot;+&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;.&quot;);\nString result = convert.apply(&quot;+1202,233&quot;);\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>1202.233\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694644736,"creation_date":1687817759,"answer_id":76560531,"question_id":76560166,"body_markdown":"&gt; _&quot;... IllegalArgumentException at the third line ...&quot;_\r\n\r\nThe reason you&#39;re receiving this error is because the Java regex implementation does not recognize the &quot;conditional&quot; replacement syntax of `$2${3:+.$5:}`.  \r\nThe `${ }` construct is expected to contain only a literal reference to a capturing group.\r\n\r\nFor example, `(?&lt;name&gt;abc)`, and `${name}`.\r\n\r\nI believe the syntax you&#39;re using is specific to the _perl_, _PCRE_, implementation.  \r\n_[Perldoc &amp;ndash; perlre &amp;ndash; Perl regular expressions](https://perldoc.perl.org/perlre)_.  \r\n_[Perldoc &amp;ndash; perlretut &amp;ndash; Perl regular expressions tutorial](https://perldoc.perl.org/perlretut#Search-and-replace)_.  \r\n\r\nHere are the JavaDocs for both the _Pattern_ and _Matcher_ classes.  \r\nYou can find the complete syntax specifications on the _Pattern_ JavaDoc page.  \r\n_[Pattern (Java SE 20 &amp;amp; JDK 20)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html)_.  \r\n_[Matcher (Java SE 20 &amp;amp; JDK 20)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html)_.\r\n\r\nAnd, a relevant excerpt,\r\n_[Matcher#appendReplacement (Java SE 20 &amp;amp; JDK 20)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuffer,java.lang.String))_.\r\n\r\n&gt; _&quot;... The replacement string may contain references to subsequences captured during the previous match: Each occurrence of ${name} or $g will be replaced by the result of evaluating the corresponding group(name) or group(g) respectively. For $g, the first number after the $ is always treated as part of the group reference. Subsequent numbers are incorporated into g if they would form a legal group reference. Only the numerals &#39;0&#39; through &#39;9&#39; are considered as potential components of the group reference. ...&quot;_\r\n\r\nThere are a few things you can do to parse the values.\r\n\r\n&gt; _&quot;... I want to remove the + sign if present and replace the comma with a dot. The difficult part is that not all the numbers are decimals. ...&quot;_\r\n\r\nIf the values will only ever have 1 comma, and a possible + character, you can just use a _[String#replace](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence))_ call.\r\n\r\n```java\r\nString[] strings = {\r\n    &quot;+000123,456&quot;,\r\n    &quot;+123&quot;,\r\n    &quot;000123,456&quot;,\r\n    &quot;123&quot;,\r\n    &quot;+123.45&quot;,\r\n    &quot;-123,45&quot;\r\n};\r\nfor (String string : strings) {\r\n    string = string.replace(&quot;+&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;.&quot;);\r\n    System.out.println(string);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n000123.456\r\n123\r\n000123.456\r\n123\r\n123.45\r\n-123.45\r\n```\r\n\r\nThis, of course, would not suffice when the numbers are within a text which also contains unrelated commas and plus signs.\r\n\r\nFor this you can use the _Pattern_ and _Matcher_ class, to capture the values, and then append them to a new _[StringBuilder](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html)_ instance.\r\n\r\nThe pattern will be,\r\n\r\n```none\r\n\\+?(-?\\d+)(?:[,.](\\d+))?\r\n```\r\n\r\n```java\r\nString string = &quot;abc, +000123,456 def +123, ghi 000123,456 jkl, 123 mno +123.45, pqr -123,45&quot;;\r\nPattern pattern = Pattern.compile(&quot;\\\\+?(-?\\\\d+)(?:[,.](\\\\d+))?&quot;);\r\nMatcher matcher = pattern.matcher(string);\r\nStringBuilder stringB = new StringBuilder();\r\nint offset = 0;\r\nwhile (matcher.find()) {\r\n    stringB.append(string, offset, matcher.start());\r\n    stringB.append(matcher.group(1));\r\n    if (matcher.group(2) != null) stringB.append(&quot;.&quot;).append(matcher.group(2));\r\n    offset = matcher.end();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nabc, 000123.456 def 123, ghi 000123.456 jkl, 123 mno 123.45, pqr -123.45\r\n```","title":"Regex Conditional replacement on Java","body":"<blockquote>\n<p><em>&quot;... IllegalArgumentException at the third line ...&quot;</em></p>\n</blockquote>\n<p>The reason you're receiving this error is because the Java regex implementation does not recognize the &quot;conditional&quot; replacement syntax of <code>$2${3:+.$5:}</code>.<br />\nThe <code>${ }</code> construct is expected to contain only a literal reference to a capturing group.</p>\n<p>For example, <code>(?&lt;name&gt;abc)</code>, and <code>${name}</code>.</p>\n<p>I believe the syntax you're using is specific to the <em>perl</em>, <em>PCRE</em>, implementation.<br />\n<em><a href=\"https://perldoc.perl.org/perlre\" rel=\"nofollow noreferrer\">Perldoc – perlre – Perl regular expressions</a></em>.<br />\n<em><a href=\"https://perldoc.perl.org/perlretut#Search-and-replace\" rel=\"nofollow noreferrer\">Perldoc – perlretut – Perl regular expressions tutorial</a></em>.</p>\n<p>Here are the JavaDocs for both the <em>Pattern</em> and <em>Matcher</em> classes.<br />\nYou can find the complete syntax specifications on the <em>Pattern</em> JavaDoc page.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern (Java SE 20 &amp; JDK 20)</a></em>.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher (Java SE 20 &amp; JDK 20)</a></em>.</p>\n<p>And, a relevant excerpt,\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuffer,java.lang.String)\" rel=\"nofollow noreferrer\">Matcher#appendReplacement (Java SE 20 &amp; JDK 20)</a></em>.</p>\n<blockquote>\n<p><em>&quot;... The replacement string may contain references to subsequences captured during the previous match: Each occurrence of ${name} or $g will be replaced by the result of evaluating the corresponding group(name) or group(g) respectively. For $g, the first number after the $ is always treated as part of the group reference. Subsequent numbers are incorporated into g if they would form a legal group reference. Only the numerals '0' through '9' are considered as potential components of the group reference. ...&quot;</em></p>\n</blockquote>\n<p>There are a few things you can do to parse the values.</p>\n<blockquote>\n<p><em>&quot;... I want to remove the + sign if present and replace the comma with a dot. The difficult part is that not all the numbers are decimals. ...&quot;</em></p>\n</blockquote>\n<p>If the values will only ever have 1 comma, and a possible + character, you can just use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String#replace</a></em> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = {\n    &quot;+000123,456&quot;,\n    &quot;+123&quot;,\n    &quot;000123,456&quot;,\n    &quot;123&quot;,\n    &quot;+123.45&quot;,\n    &quot;-123,45&quot;\n};\nfor (String string : strings) {\n    string = string.replace(&quot;+&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;.&quot;);\n    System.out.println(string);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>000123.456\n123\n000123.456\n123\n123.45\n-123.45\n</code></pre>\n<p>This, of course, would not suffice when the numbers are within a text which also contains unrelated commas and plus signs.</p>\n<p>For this you can use the <em>Pattern</em> and <em>Matcher</em> class, to capture the values, and then append them to a new <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> instance.</p>\n<p>The pattern will be,</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\+?(-?\\d+)(?:[,.](\\d+))?\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;abc, +000123,456 def +123, ghi 000123,456 jkl, 123 mno +123.45, pqr -123,45&quot;;\nPattern pattern = Pattern.compile(&quot;\\\\+?(-?\\\\d+)(?:[,.](\\\\d+))?&quot;);\nMatcher matcher = pattern.matcher(string);\nStringBuilder stringB = new StringBuilder();\nint offset = 0;\nwhile (matcher.find()) {\n    stringB.append(string, offset, matcher.start());\n    stringB.append(matcher.group(1));\n    if (matcher.group(2) != null) stringB.append(&quot;.&quot;).append(matcher.group(2));\n    offset = matcher.end();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>abc, 000123.456 def 123, ghi 000123.456 jkl, 123 mno 123.45, pqr -123.45\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76560531,"answer_count":3,"score":0,"last_activity_date":1694644736,"creation_date":1687812760,"question_id":76560166,"body_markdown":"I have some numbers on which I want to apply some regex replacement.\r\n\r\n+000123,456\r\n&lt;br&gt;+123\r\n&lt;br&gt;000123,456\r\n&lt;br&gt;123\r\n&lt;br&gt;+123.45\r\n&lt;br&gt;-123,45\r\n\r\nI want to remove the + sign if present and replace the comma with a dot.\r\nThe difficult part is that not all the numbers are decimals.\r\n\r\nI don&#39;t use regex really often, so I usually use [regex101][1] to do some tests.\r\n\r\nIn this case, I created the following regular expression:\r\n\r\n    ([+]*)([0-9]+)(([,])([0-9]+))*\r\n\r\n1st capturing group: `([+]*)`\r\n&lt;br&gt;2nd capturing group: `([0-9]+)`\r\n&lt;br&gt;3rd capturing group: `(([,])([0-9]+))*`\r\n&lt;br&gt;4th capturing group: `([,])`\r\n&lt;br&gt;5th capturing group: `([0-9]+)`\r\n\r\nand substitution :\r\n\r\n    $2${3:+.$5:}\r\n\r\nExplanation: use 2nd capturing group, then if 3rd capturing group is present use DOT and 5th capturing group, else nothing\r\n\r\nand seems to work fine, but trying to replicate the same on Java, it&#39;s not working:\r\n\r\n\tprivate String replaceUsingRegex(final String line) {\r\n\t\tPattern regex = Pattern.compile(&quot;([+]*)([0-9]+)(([,])([0-9]+))*&quot;);\r\n\t\tMatcher regexMatcher = regex.matcher(line);\r\n\t\treturn regexMatcher.replaceAll(&quot;$2${3:+.$5:}&quot;);\r\n\t}\r\n\r\ngived me an IllegalArgumentException at the third line:\r\n\r\n    java.lang.IllegalArgumentException: named capturing group is missing trailing &#39;}&#39;\r\n    \tat java.base/java.util.regex.Matcher.appendExpandedReplacement(Matcher.java:1051)\r\n    \tat java.base/java.util.regex.Matcher.appendReplacement(Matcher.java:997)\r\n    \tat java.base/java.util.regex.Matcher.replaceAll(Matcher.java:1181)\r\n    \tat com.mytest.TestRegex.replaceUsingRegex(TestRegex.java:20)\r\n\r\nI also tried to use the [java generated code by rege101][2] but is still not working.\r\n\r\n\r\n  [1]: https://regex101.com/r/oVhLeS/1\r\n  [2]: https://regex101.com/r/oVhLeS/1/codegen?language=java","title":"Regex Conditional replacement on Java","body":"<p>I have some numbers on which I want to apply some regex replacement.</p>\n<p>+000123,456\n<br>+123\n<br>000123,456\n<br>123\n<br>+123.45\n<br>-123,45</p>\n<p>I want to remove the + sign if present and replace the comma with a dot.\nThe difficult part is that not all the numbers are decimals.</p>\n<p>I don't use regex really often, so I usually use <a href=\"https://regex101.com/r/oVhLeS/1\" rel=\"nofollow noreferrer\">regex101</a> to do some tests.</p>\n<p>In this case, I created the following regular expression:</p>\n<pre><code>([+]*)([0-9]+)(([,])([0-9]+))*\n</code></pre>\n<p>1st capturing group: <code>([+]*)</code>\n<br>2nd capturing group: <code>([0-9]+)</code>\n<br>3rd capturing group: <code>(([,])([0-9]+))*</code>\n<br>4th capturing group: <code>([,])</code>\n<br>5th capturing group: <code>([0-9]+)</code></p>\n<p>and substitution :</p>\n<pre><code>$2${3:+.$5:}\n</code></pre>\n<p>Explanation: use 2nd capturing group, then if 3rd capturing group is present use DOT and 5th capturing group, else nothing</p>\n<p>and seems to work fine, but trying to replicate the same on Java, it's not working:</p>\n<pre><code>private String replaceUsingRegex(final String line) {\n    Pattern regex = Pattern.compile(&quot;([+]*)([0-9]+)(([,])([0-9]+))*&quot;);\n    Matcher regexMatcher = regex.matcher(line);\n    return regexMatcher.replaceAll(&quot;$2${3:+.$5:}&quot;);\n}\n</code></pre>\n<p>gived me an IllegalArgumentException at the third line:</p>\n<pre><code>java.lang.IllegalArgumentException: named capturing group is missing trailing '}'\n    at java.base/java.util.regex.Matcher.appendExpandedReplacement(Matcher.java:1051)\n    at java.base/java.util.regex.Matcher.appendReplacement(Matcher.java:997)\n    at java.base/java.util.regex.Matcher.replaceAll(Matcher.java:1181)\n    at com.mytest.TestRegex.replaceUsingRegex(TestRegex.java:20)\n</code></pre>\n<p>I also tried to use the <a href=\"https://regex101.com/r/oVhLeS/1/codegen?language=java\" rel=\"nofollow noreferrer\">java generated code by rege101</a> but is still not working.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694640725,"post_id":77100603,"comment_id":135919627,"body_markdown":"Edit your post to show what you mean by &quot;breaks&quot;. I assume that is an error message? If so, edit your post and paste the error message there.","body":"Edit your post to show what you mean by &quot;breaks&quot;. I assume that is an error message? If so, edit your post and paste the error message there."},{"owner":{"account_id":24138064,"reputation":41,"user_id":18104674,"display_name":"Thomas Hutton"},"score":0,"creation_date":1694640751,"post_id":77100603,"comment_id":135919629,"body_markdown":"will do thank you","body":"will do thank you"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694640847,"post_id":77100603,"comment_id":135919640,"body_markdown":"And in general, if you want to remove elements from an `ArrayList` while looping through it, it is better to use an instance of `java.util.Iterator` as opposed to just doing a for-each loop. A for-each loop is just for reading stuff. But if you plan to modify while reading, an `Iterator` is a better choice.","body":"And in general, if you want to remove elements from an <code>ArrayList</code> while looping through it, it is better to use an instance of <code>java.util.Iterator</code> as opposed to just doing a for-each loop. A for-each loop is just for reading stuff. But if you plan to modify while reading, an <code>Iterator</code> is a better choice."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694640915,"post_id":77100603,"comment_id":135919654,"body_markdown":"Ah, `ConcurrentModificationException`. In that case, the other answer covers the solution you need to implement. Let either of us know if the link does not make sense.","body":"Ah, <code>ConcurrentModificationException</code>. In that case, the other answer covers the solution you need to implement. Let either of us know if the link does not make sense."},{"owner":{"account_id":24138064,"reputation":41,"user_id":18104674,"display_name":"Thomas Hutton"},"score":0,"creation_date":1694640968,"post_id":77100603,"comment_id":135919658,"body_markdown":"thanks I think this is what I needed but I&#39;ll let you know if it goes awry","body":"thanks I think this is what I needed but I&#39;ll let you know if it goes awry"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694641114,"post_id":77100603,"comment_id":135919681,"body_markdown":"Actually, I really dislike the other answer now that I read the link. I am typing up my own.","body":"Actually, I really dislike the other answer now that I read the link. I am typing up my own."},{"owner":{"account_id":24138064,"reputation":41,"user_id":18104674,"display_name":"Thomas Hutton"},"score":0,"creation_date":1694641228,"post_id":77100603,"comment_id":135919704,"body_markdown":"Yeah I&#39;m still confused but at least I&#39;m in the ballpark now","body":"Yeah I&#39;m still confused but at least I&#39;m in the ballpark now"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694642252,"post_id":77100603,"comment_id":135919858,"body_markdown":"@ThomasHutton, this is because the _for-each_ loop utilizes an _Iterator_.  For example, if you did this with a regular _for-loop_ you would not receive a _ConcurrentModificationException_.  Just modify the conditional statement as the list size changes.","body":"@ThomasHutton, this is because the <i>for-each</i> loop utilizes an <i>Iterator</i>.  For example, if you did this with a regular <i>for-loop</i> you would not receive a <i>ConcurrentModificationException</i>.  Just modify the conditional statement as the list size changes."}],"answers":[{"tags":[],"owner":{"account_id":25593916,"reputation":53,"user_id":19370127,"display_name":"rithvik"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1694641291,"creation_date":1694640798,"answer_id":77100627,"question_id":77100603,"body_markdown":"In this case, you&#39;re iterating over the list using a for loop. The trouble comes when you try to remove an object *while* you&#39;re still iterating with the for loop. Since the length of the ArrayList changes, you get a concurrent modification error because it&#39;s not permissible to edit a collection while simultaneously iterating over it. Look into these resources for more info on how to accomplish what you&#39;re trying to do:\r\n\r\nhttps://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/util/ArrayList.html#removeAll(java.util.Collection)\r\n\r\nhttps://stackoverflow.com/a/10432084/19370127\r\n\r\nMore info about the exception: https://docs.oracle.com/javase/8/docs/api/java/util/ConcurrentModificationException.html","title":"Object not being removed from array after being found in array list","body":"<p>In this case, you're iterating over the list using a for loop. The trouble comes when you try to remove an object <em>while</em> you're still iterating with the for loop. Since the length of the ArrayList changes, you get a concurrent modification error because it's not permissible to edit a collection while simultaneously iterating over it. Look into these resources for more info on how to accomplish what you're trying to do:</p>\n<p><a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/util/ArrayList.html#removeAll(java.util.Collection)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/util/ArrayList.html#removeAll(java.util.Collection)</a></p>\n<p><a href=\"https://stackoverflow.com/a/10432084/19370127\">https://stackoverflow.com/a/10432084/19370127</a></p>\n<p>More info about the exception: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ConcurrentModificationException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/ConcurrentModificationException.html</a></p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694643007,"creation_date":1694641714,"answer_id":77100686,"question_id":77100603,"body_markdown":"Only use a for-each loop if you are doing READ-ONLY operations on a `Collection` (your `ArrayList` is a `Collection`).\r\n\r\nIf you want to DELETE while looping, you should use a [`java.util.Iterator`][1] instead.\r\n\r\nAn `Iterator` is easy to use, and your `ArrayList` even gives you a method to fetch an `Iterator`. All you have to do is add an import on the top (`import java.util.Iterator;`), then say `Iterator&lt;Student&gt; iterator = myList.iterator();`.\r\n\r\nHere is how it would be done with your code example. Don&#39;t forget to include the import at the top of your class.\r\n\r\n```java\r\npublic static void DeleteStudent(ArrayList&lt;Student&gt; Student_Class, String studentid)\r\n{\r\n\r\n    Iterator&lt;Student&gt; iterator = Student_Class.iterator();\r\n\r\n    while(iterator.hasNext())\r\n    {\r\n\r\n        Student student = iterator.next();\r\n\r\n        if(student.getId().equalsIgnoreCase(studentid))\r\n        {\r\n\r\n            iterator.remove(); //removes the most recently fetched student\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html","title":"Object not being removed from array after being found in array list","body":"<p>Only use a for-each loop if you are doing READ-ONLY operations on a <code>Collection</code> (your <code>ArrayList</code> is a <code>Collection</code>).</p>\n<p>If you want to DELETE while looping, you should use a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>java.util.Iterator</code></a> instead.</p>\n<p>An <code>Iterator</code> is easy to use, and your <code>ArrayList</code> even gives you a method to fetch an <code>Iterator</code>. All you have to do is add an import on the top (<code>import java.util.Iterator;</code>), then say <code>Iterator&lt;Student&gt; iterator = myList.iterator();</code>.</p>\n<p>Here is how it would be done with your code example. Don't forget to include the import at the top of your class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void DeleteStudent(ArrayList&lt;Student&gt; Student_Class, String studentid)\n{\n\n    Iterator&lt;Student&gt; iterator = Student_Class.iterator();\n\n    while(iterator.hasNext())\n    {\n\n        Student student = iterator.next();\n\n        if(student.getId().equalsIgnoreCase(studentid))\n        {\n\n            iterator.remove(); //removes the most recently fetched student\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694641715,"creation_date":1694641715,"answer_id":77100687,"question_id":77100603,"body_markdown":"ConcurrentModificationException occurs when you perform the following sequence of events:\r\n\r\n* You ask a collector for an `iterator()`. (and `for (String foo : collection)` does that).\r\n* You modify the collection directly, such as `collection.remove`.\r\n* You interact with that iterator. For example, by moving on to the next item (which is what looping that for loop would do).\r\n\r\nYou do that here: You ask for an iterator, remove from the collection, and then interact with the iterator.\r\n\r\niterators support what you want. Replace your code with:\r\n\r\n```\r\nvar it = studentClass.iterator();\r\nwhile (it.hasNext()) {\r\n  Student student = it.next();\r\n  if (student.getId().equalsIgnoreCase(studentId)) it.remove();\r\n}\r\n```\r\n\r\nHere we remove just the same, but... _via the iterator_, which, unlike removing directly on the collection, this means the iterator remains valid.\r\n","title":"Object not being removed from array after being found in array list","body":"<p>ConcurrentModificationException occurs when you perform the following sequence of events:</p>\n<ul>\n<li>You ask a collector for an <code>iterator()</code>. (and <code>for (String foo : collection)</code> does that).</li>\n<li>You modify the collection directly, such as <code>collection.remove</code>.</li>\n<li>You interact with that iterator. For example, by moving on to the next item (which is what looping that for loop would do).</li>\n</ul>\n<p>You do that here: You ask for an iterator, remove from the collection, and then interact with the iterator.</p>\n<p>iterators support what you want. Replace your code with:</p>\n<pre><code>var it = studentClass.iterator();\nwhile (it.hasNext()) {\n  Student student = it.next();\n  if (student.getId().equalsIgnoreCase(studentId)) it.remove();\n}\n</code></pre>\n<p>Here we remove just the same, but... <em>via the iterator</em>, which, unlike removing directly on the collection, this means the iterator remains valid.</p>\n"}],"owner":{"account_id":24138064,"reputation":41,"user_id":18104674,"display_name":"Thomas Hutton"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77100686,"answer_count":3,"score":1,"last_activity_date":1694643007,"creation_date":1694640526,"question_id":77100603,"body_markdown":"I have a method to delete an object from an array list based on an attribute of the class called id. When I call it, it finds the correct id then breaks. This is all very new to me\r\n```\r\n    public static void DeleteStudent(ArrayList&lt;Student&gt; Student_Class, String studentid) {\r\n        for(Student student : Student_Class)\r\n            if(student.getId().equalsIgnoreCase(studentid))\r\n                Student_Class.remove(student);\r\n    }\r\n```\r\nerror:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n\tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\r\n\tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\r\n\tat StudentProgram.DeleteStudent(StudentProgram.java:39)\r\n\tat StudentProgram.main(StudentProgram.java:28)","title":"Object not being removed from array after being found in array list","body":"<p>I have a method to delete an object from an array list based on an attribute of the class called id. When I call it, it finds the correct id then breaks. This is all very new to me</p>\n<pre><code>    public static void DeleteStudent(ArrayList&lt;Student&gt; Student_Class, String studentid) {\n        for(Student student : Student_Class)\n            if(student.getId().equalsIgnoreCase(studentid))\n                Student_Class.remove(student);\n    }\n</code></pre>\n<p>error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\nat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\nat java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\nat StudentProgram.DeleteStudent(StudentProgram.java:39)\nat StudentProgram.main(StudentProgram.java:28)</p>\n</blockquote>\n"},{"tags":["java","spring","jpa","crud"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1627677296,"post_id":68596596,"comment_id":121229556,"body_markdown":"Your error message does not match your code; you did not define a query method `findNameLike` in this code. Also, (1) `nativeQuery` is an _absolute last_ resort; your query can trivially be written in JPQL, and (2) `findAll` is already implicitly declared.","body":"Your error message does not match your code; you did not define a query method <code>findNameLike</code> in this code. Also, (1) <code>nativeQuery</code> is an <i>absolute last</i> resort; your query can trivially be written in JPQL, and (2) <code>findAll</code> is already implicitly declared."},{"owner":{"account_id":19904499,"reputation":35,"user_id":14583857,"display_name":"Mr.Roy"},"score":0,"creation_date":1627831756,"post_id":68596596,"comment_id":121255857,"body_markdown":"Thank u so much i am able to solve the pblm.","body":"Thank u so much i am able to solve the pblm."}],"answers":[{"tags":[],"owner":{"account_id":23087810,"reputation":1,"user_id":17199077,"display_name":"Chaitanya Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634714211,"creation_date":1634714211,"answer_id":69641803,"question_id":68596596,"body_markdown":"Use 2 annotations like enablejparepositories , entityscan","title":"Error creating bean with name &#39;userRepo&#39; defined in com.example.jpa.repository","body":"<p>Use 2 annotations like enablejparepositories , entityscan</p>\n"},{"tags":[],"owner":{"account_id":22661439,"reputation":66,"user_id":16834474,"display_name":"Ahmed Nafea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667986285,"creation_date":1667986285,"answer_id":74372598,"question_id":68596596,"body_markdown":"i was solving this problem by add these annotation in model class\r\n\r\n    @Table //is a corresponding table that matches that entity in the database\r\n    @Entity // for specifies class is an entity and is mapped to a database table. \r\n    @Data // for getter and seter\r\n    public class UserModel {\r\n    }","title":"Error creating bean with name &#39;userRepo&#39; defined in com.example.jpa.repository","body":"<p>i was solving this problem by add these annotation in model class</p>\n<pre><code>@Table //is a corresponding table that matches that entity in the database\n@Entity // for specifies class is an entity and is mapped to a database table. \n@Data // for getter and seter\npublic class UserModel {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29172605,"reputation":1,"user_id":22348604,"display_name":"user22348604"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691744788,"creation_date":1691348020,"answer_id":76847367,"question_id":68596596,"body_markdown":" \r\n\r\n    @Query (value=&quot;select * from User&quot;, nativeQuery=true)\r\n\r\nTable name should start with capital *U*, i.e. same as class name.\r\n\r\n","title":"Error creating bean with name &#39;userRepo&#39; defined in com.example.jpa.repository","body":"<pre><code>@Query (value=&quot;select * from User&quot;, nativeQuery=true)\n</code></pre>\n<p>Table name should start with capital <em>U</em>, i.e. same as class name.</p>\n"}],"owner":{"account_id":19904499,"reputation":35,"user_id":14583857,"display_name":"Mr.Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25790,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694642810,"creation_date":1627675753,"question_id":68596596,"body_markdown":" This is tge **error** i am getting atthe time of compilation. I am new at spring and not able to understand the error.Plz help me to find out.  \r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepo&#39; defined in com.example.jpa.repository.UserRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.example.jpa.repository.UserRepo.findNameLike(java.lang.String)! Reason: Failed to create query for method public abstract java.util.List com.example.jpa.repository.UserRepo.findNameLike(java.lang.String)! No property findName found for type User!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.example.jpa.repository.UserRepo.findNameLike(java.lang.String)! No property findName found for type User!\r\n\r\n\r\n**This is my Repository class** \r\n\r\nAccording to that  the error in the **@Query** But i am getting how to fix and wher is my mistake.\r\ni have created a tavle called user1 in mysql.\r\n\r\n    package com.example.jpa.repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.persistence.criteria.CriteriaBuilder.In;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Modifying;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.example.jpa.entity.User;\r\n    \r\n    @Repository\r\n    public interface UserRepo extends JpaRepository&lt;User, Integer&gt; {\r\n    \tpublic List&lt;User&gt; findByAgeGreaterThanEqual(int age) ;\r\n    \t\r\n    \tpublic List&lt;User&gt; findByAgeIn(int age);\r\n    \t\r\n    \tpublic List&lt;User&gt; findByNameOrderByName(String name);\r\n    \t@Modifying\r\n    \t@Query (value=&quot;select * from user1&quot;,nativeQuery=true)\r\n    \tpublic List&lt;User&gt; getAllUser();\r\n    }\r\n\r\n**This is my Entity class**\r\n\r\n    package com.example.jpa.entity;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    //@Table(name = &quot;user&quot;)\r\n    public class User {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate String city;\r\n    \tprivate String status;\r\n    \t\r\n    \tpublic User() {\r\n    \t\tsuper();\r\n    \t\t\r\n    \t}\r\n    \tpublic User(int id, String name, String city, String status) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.city = city;\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getCity() {\r\n    \t\treturn city;\r\n    \t}\r\n    \tpublic void setCity(String city) {\r\n    \t\tthis.city = city;\r\n    \t}\r\n    \tpublic String getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \tpublic void setStatus(String status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    }\r\n\r\n**This is my main application main class**\r\n\r\n    package com.example.jpa;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import org.apache.catalina.core.ApplicationContext;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    import com.example.jpa.entity.User;\r\n    import com.example.jpa.repository.UserRepo;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class SpringApplicaton1Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tConfigurableApplicationContext context = SpringApplication.run(SpringApplicaton1Application.class, args);\r\n    \t\tUserRepo repo = context.getBean(UserRepo.class);\r\n    \r\n    \t\tUser user = new User();\r\n    \t\tuser.setId(1);\r\n    \t\tuser.setCity(&quot;Delhi&quot;);\r\n    \t\tuser.setName(&quot;Ramesh&quot;);\r\n    \t\tuser.setStatus(&quot;Java Developer&quot;);\r\n    \r\n    \t\tList&lt;User&gt; users= repo.getAllUser();\r\n    \t\t\r\n    \t\tusers.forEach(n-&gt;{\r\n    \t\t\tSystem.out.println(n);\r\n    \t\t\t\r\n    \t\t});\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n**This is my Application.property file**\r\n\r\n    spring.datasource.name=test\r\n    spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/practice   \r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL55Dialect\r\n    \r\n    spring.jpa.hibernate.use-new-id-generator-mappings= false\r\n    \r\n    spring.jpa.hibernate.ddl-auto=update","title":"Error creating bean with name &#39;userRepo&#39; defined in com.example.jpa.repository","body":"<p>This is tge <strong>error</strong> i am getting atthe time of compilation. I am new at spring and not able to understand the error.Plz help me to find out.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepo' defined in com.example.jpa.repository.UserRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.example.jpa.repository.UserRepo.findNameLike(java.lang.String)! Reason: Failed to create query for method public abstract java.util.List com.example.jpa.repository.UserRepo.findNameLike(java.lang.String)! No property findName found for type User!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.example.jpa.repository.UserRepo.findNameLike(java.lang.String)! No property findName found for type User!\n</code></pre>\n<p><strong>This is my Repository class</strong></p>\n<p>According to that  the error in the <strong>@Query</strong> But i am getting how to fix and wher is my mistake.\ni have created a tavle called user1 in mysql.</p>\n<pre><code>package com.example.jpa.repository;\n\nimport java.util.List;\n\nimport javax.persistence.criteria.CriteriaBuilder.In;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.example.jpa.entity.User;\n\n@Repository\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt; {\n    public List&lt;User&gt; findByAgeGreaterThanEqual(int age) ;\n    \n    public List&lt;User&gt; findByAgeIn(int age);\n    \n    public List&lt;User&gt; findByNameOrderByName(String name);\n    @Modifying\n    @Query (value=&quot;select * from user1&quot;,nativeQuery=true)\n    public List&lt;User&gt; getAllUser();\n}\n</code></pre>\n<p><strong>This is my Entity class</strong></p>\n<pre><code>package com.example.jpa.entity;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n//@Table(name = &quot;user&quot;)\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String name;\n    private String city;\n    private String status;\n    \n    public User() {\n        super();\n        \n    }\n    public User(int id, String name, String city, String status) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.city = city;\n        this.status = status;\n    }\n    \n    \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n    public String getStatus() {\n        return status;\n    }\n    public void setStatus(String status) {\n        this.status = status;\n    }\n}\n</code></pre>\n<p><strong>This is my main application main class</strong></p>\n<pre><code>package com.example.jpa;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.apache.catalina.core.ApplicationContext;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\nimport com.example.jpa.entity.User;\nimport com.example.jpa.repository.UserRepo;\n\n\n@SpringBootApplication\npublic class SpringApplicaton1Application {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext context = SpringApplication.run(SpringApplicaton1Application.class, args);\n        UserRepo repo = context.getBean(UserRepo.class);\n\n        User user = new User();\n        user.setId(1);\n        user.setCity(&quot;Delhi&quot;);\n        user.setName(&quot;Ramesh&quot;);\n        user.setStatus(&quot;Java Developer&quot;);\n\n        List&lt;User&gt; users= repo.getAllUser();\n        \n        users.forEach(n-&gt;{\n            System.out.println(n);\n            \n        });\n        \n    }\n\n}\n</code></pre>\n<p><strong>This is my Application.property file</strong></p>\n<pre><code>spring.datasource.name=test\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/practice   \nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL55Dialect\n\nspring.jpa.hibernate.use-new-id-generator-mappings= false\n\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n"},{"tags":["java","inheritance","arraylist","equals","lombok"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694642130,"creation_date":1694642130,"answer_id":77100717,"question_id":77100270,"body_markdown":"&gt; I can write my own logic for it but is there a way to customize this equal logic in Lombok?\r\n\r\nThere is. But you cannot do what you want. Not because of lombok, but because __equals and hashCode do not allow you to do this__.\r\n\r\n## problem 1: hashcode\r\n\r\nThere&#39;s a rule. If 2 objects are equal, their hashcode MUST BE equal. (the reverse need not be true; 2 objects with equal hashcodes do not have to be equal).\r\n\r\nSo how in the blazes would you write a hashCode impl that adheres to this rule? The only feasible option is `return 0;` - all instances of `subClass` have the same hashCode. Which obliterates any point of trying to use such a class in many contexts where you want `equals` at all, such as in hashmap. It&#39;s highly dubious to do this, but what other option do you have?\r\n\r\n## problem 2: Equivalence rules\r\n\r\nWhenever you override a method (i.e. implement a method defined by a supertype), you have to _adhere to the contract_. This at the very minimum involves the signature line: Your override _must_ have the same name, parameter types, and return type (or strictly compatible expansions of this), or you&#39;ve failed to adhere to the contract, and the compiler will refuse to compile if you mess that up.\r\n\r\n_But that is not the only contract you have to adhere to_.\r\n\r\nNot everything can be checked by the compiler. However, just because the compiler doesn&#39;t check it doesn&#39;t mean the rule doesn&#39;t exist or that you can just ignore it.\r\n\r\n__You cannot do this without breaking the contract__.\r\n\r\nThe specific problem is the rule of equivalence. The equals contract states that implementation must adhere to a bunch of rules. The rule that is problematic here is this one:\r\n\r\n&gt; If `a.equals(b)` and `b.equals(c)`, then `a.equals(c)` __must__ be true\r\n\r\nAnd you can&#39;t do that.\r\n\r\nImagine A having ids `[1,2,3]`, B having ids `[2,3,4]` and C having ids `[4,5,6]`.\r\n\r\nA is equals to B in your setup (because they have 2 and 3 in common), and B is equal to C as well (because they have 4 in common). But A and C are not equal to each other as they have no ID in common and __that breaks the contract__.\r\n\r\n","title":"Customize Lombok equalsAndHashCode() on list attribute","body":"<blockquote>\n<p>I can write my own logic for it but is there a way to customize this equal logic in Lombok?</p>\n</blockquote>\n<p>There is. But you cannot do what you want. Not because of lombok, but because <strong>equals and hashCode do not allow you to do this</strong>.</p>\n<h2>problem 1: hashcode</h2>\n<p>There's a rule. If 2 objects are equal, their hashcode MUST BE equal. (the reverse need not be true; 2 objects with equal hashcodes do not have to be equal).</p>\n<p>So how in the blazes would you write a hashCode impl that adheres to this rule? The only feasible option is <code>return 0;</code> - all instances of <code>subClass</code> have the same hashCode. Which obliterates any point of trying to use such a class in many contexts where you want <code>equals</code> at all, such as in hashmap. It's highly dubious to do this, but what other option do you have?</p>\n<h2>problem 2: Equivalence rules</h2>\n<p>Whenever you override a method (i.e. implement a method defined by a supertype), you have to <em>adhere to the contract</em>. This at the very minimum involves the signature line: Your override <em>must</em> have the same name, parameter types, and return type (or strictly compatible expansions of this), or you've failed to adhere to the contract, and the compiler will refuse to compile if you mess that up.</p>\n<p><em>But that is not the only contract you have to adhere to</em>.</p>\n<p>Not everything can be checked by the compiler. However, just because the compiler doesn't check it doesn't mean the rule doesn't exist or that you can just ignore it.</p>\n<p><strong>You cannot do this without breaking the contract</strong>.</p>\n<p>The specific problem is the rule of equivalence. The equals contract states that implementation must adhere to a bunch of rules. The rule that is problematic here is this one:</p>\n<blockquote>\n<p>If <code>a.equals(b)</code> and <code>b.equals(c)</code>, then <code>a.equals(c)</code> <strong>must</strong> be true</p>\n</blockquote>\n<p>And you can't do that.</p>\n<p>Imagine A having ids <code>[1,2,3]</code>, B having ids <code>[2,3,4]</code> and C having ids <code>[4,5,6]</code>.</p>\n<p>A is equals to B in your setup (because they have 2 and 3 in common), and B is equal to C as well (because they have 4 in common). But A and C are not equal to each other as they have no ID in common and <strong>that breaks the contract</strong>.</p>\n"}],"owner":{"account_id":16935487,"reputation":313,"user_id":12248597,"display_name":"EzyHoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77100717,"answer_count":1,"score":0,"last_activity_date":1694642130,"creation_date":1694636553,"question_id":77100270,"body_markdown":"Is there a way to customize the Lombok equalsAndHashCode() on list attribute?\r\n\r\nI have a subclass that looks like so:\r\n\r\n````\r\npublic class subClass extends superClass {\r\n    private List&lt;Long&gt; ids;\r\n````\r\n\r\nFor 2 subClass objs, I consider them as equal if they have 1 or more ids in common.\r\n\r\nI can write my own logic for it but is there a way to customize this equal logic in Lombok?","title":"Customize Lombok equalsAndHashCode() on list attribute","body":"<p>Is there a way to customize the Lombok equalsAndHashCode() on list attribute?</p>\n<p>I have a subclass that looks like so:</p>\n<pre><code>public class subClass extends superClass {\n    private List&lt;Long&gt; ids;\n</code></pre>\n<p>For 2 subClass objs, I consider them as equal if they have 1 or more ids in common.</p>\n<p>I can write my own logic for it but is there a way to customize this equal logic in Lombok?</p>\n"},{"tags":["java","jboss","jax-rs","wildfly"],"comments":[{"owner":{"account_id":281082,"reputation":11615,"user_id":577181,"accept_rate":20,"display_name":"John Ament"},"score":0,"creation_date":1413638889,"post_id":26403934,"comment_id":41523984,"body_markdown":"Why don&#39;t we maybe start with a use case.  What is the use case for having the path configurable?","body":"Why don&#39;t we maybe start with a use case.  What is the use case for having the path configurable?"}],"answers":[{"tags":[],"owner":{"account_id":5138561,"reputation":111,"user_id":4116602,"display_name":"traianus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413463070,"creation_date":1413463070,"answer_id":26404675,"question_id":26403934,"body_markdown":"According to JAX-RS specification ([here][1]), there is no standard way to do this, I think.\r\n\r\n  [1]: http://download.oracle.com/otndocs/jcp/jaxrs-2_0_rev_A-mrel-eval-spec/index.html","title":"JAX-RS: Is it possible to have an externally configurable @PATH?","body":"<p>According to JAX-RS specification (<a href=\"http://download.oracle.com/otndocs/jcp/jaxrs-2_0_rev_A-mrel-eval-spec/index.html\" rel=\"nofollow\">here</a>), there is no standard way to do this, I think.</p>\n"},{"tags":[],"owner":{"account_id":1431364,"reputation":10713,"user_id":1353722,"accept_rate":81,"display_name":"lefloh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413824110,"creation_date":1413547374,"answer_id":26424624,"question_id":26403934,"body_markdown":"Independent of JAX-RS: Annotations in Java are compile time constants so they can&#39;t be changed at runtime. \r\n\r\nI don&#39;t know your use case but possible ways to change the values of the annotations are:\r\n\r\n* Replacing variables before compilation, e.g. through a maven plugin.\r\n* Adding the `@Path` annotations dynamically like [described here][1].\r\n* Using one generic ResourceClass mapped to `/*` which decides which [subresource][2] should be returned.\r\n\r\nNo comment if one of these approaches makes sense as I don&#39;t know why you want to change them. As the URI names a resource I don&#39;t see any reason to change it. See also: [Cool URIs don&#39;t change][3]\r\n\r\n**Update:** [JAX_RS_SPEC-60][4] requests &quot;A Dynamic way to register JAX-RS resources (not based on annotations)&quot;.\r\n\r\n [1]: http://ayoubelabbassi.blogspot.de/2011/01/how-to-add-annotations-at-runtime-to.html\r\n [2]: https://jersey.java.net/documentation/latest/jaxrs-resources.html#d0e2184\r\n [3]: http://www.w3.org/Provider/Style/URI.html.en\r\n [4]: https://java.net/jira/browse/JAX_RS_SPEC-60","title":"JAX-RS: Is it possible to have an externally configurable @PATH?","body":"<p>Independent of JAX-RS: Annotations in Java are compile time constants so they can't be changed at runtime. </p>\n\n<p>I don't know your use case but possible ways to change the values of the annotations are:</p>\n\n<ul>\n<li>Replacing variables before compilation, e.g. through a maven plugin.</li>\n<li>Adding the <code>@Path</code> annotations dynamically like <a href=\"http://ayoubelabbassi.blogspot.de/2011/01/how-to-add-annotations-at-runtime-to.html\" rel=\"nofollow\">described here</a>.</li>\n<li>Using one generic ResourceClass mapped to <code>/*</code> which decides which <a href=\"https://jersey.java.net/documentation/latest/jaxrs-resources.html#d0e2184\" rel=\"nofollow\">subresource</a> should be returned.</li>\n</ul>\n\n<p>No comment if one of these approaches makes sense as I don't know why you want to change them. As the URI names a resource I don't see any reason to change it. See also: <a href=\"http://www.w3.org/Provider/Style/URI.html.en\" rel=\"nofollow\">Cool URIs don't change</a></p>\n\n<p><strong>Update:</strong> <a href=\"https://java.net/jira/browse/JAX_RS_SPEC-60\" rel=\"nofollow\">JAX_RS_SPEC-60</a> requests \"A Dynamic way to register JAX-RS resources (not based on annotations)\".</p>\n"},{"tags":[],"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694641040,"creation_date":1694641040,"answer_id":77100641,"question_id":26403934,"body_markdown":"You can add path programmatically, as shown in https://stackoverflow.com/questions/26881986/jax-rs-jersey-how-to-dynamic-adding-resources-or-providers-to-application\r\n\r\nwhich means you can then wire it your configuration .","title":"JAX-RS: Is it possible to have an externally configurable @PATH?","body":"<p>You can add path programmatically, as shown in <a href=\"https://stackoverflow.com/questions/26881986/jax-rs-jersey-how-to-dynamic-adding-resources-or-providers-to-application\">JAX-RS Jersey, how to dynamic adding resources or providers to Application</a></p>\n<p>which means you can then wire it your configuration .</p>\n"}],"owner":{"account_id":81204,"reputation":634,"user_id":229109,"accept_rate":78,"display_name":"praspa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694641040,"creation_date":1413461080,"question_id":26403934,"body_markdown":"Is it possible to load the value for the @PATH annotation from configuration (web.xml, etc) for a given class?\r\n\r\n    @Path(&lt;value loaded from config&gt;)\r\n    public class myRestService {\r\n    ...","title":"JAX-RS: Is it possible to have an externally configurable @PATH?","body":"<p>Is it possible to load the value for the @PATH annotation from configuration (web.xml, etc) for a given class?</p>\n\n<pre><code>@Path(&lt;value loaded from config&gt;)\npublic class myRestService {\n...\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-sqs","spring-messaging","spring-cloud-aws"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1694637699,"post_id":77100081,"comment_id":135919198,"body_markdown":"How did you do it with RabbitMQ? `@RabbitListener` would work the same way.","body":"How did you do it with RabbitMQ? <code>@RabbitListener</code> would work the same way."},{"owner":{"account_id":3041402,"reputation":1466,"user_id":2578324,"display_name":"jndietz"},"score":0,"creation_date":1694638322,"post_id":77100081,"comment_id":135919304,"body_markdown":"It looks like it&#39;s `@RabbitHandler` on the method level.  I&#39;m seeing some Spring `@Configuration` classes where we are using Spring amqp `QueueBinding` to bind the object type to the queue.","body":"It looks like it&#39;s <code>@RabbitHandler</code> on the method level.  I&#39;m seeing some Spring <code>@Configuration</code> classes where we are using Spring amqp <code>QueueBinding</code> to bind the object type to the queue."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1694638800,"post_id":77100081,"comment_id":135919381,"body_markdown":"Yes; that is special logic in spring-rabbit (`@RabbitListener` at the class level and `@RabbitHandler` at the method level). I am not familiar with it, but `@SqsListener` cannot be applied at the class level.","body":"Yes; that is special logic in spring-rabbit (<code>@RabbitListener</code> at the class level and <code>@RabbitHandler</code> at the method level). I am not familiar with it, but <code>@SqsListener</code> cannot be applied at the class level."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1694639582,"post_id":77100081,"comment_id":135919487,"body_markdown":"You could consume `Object` and then do `instanceof` checks in the listener to do the final routing (that&#39;s effectively what spring-rabbit does internally).","body":"You could consume <code>Object</code> and then do <code>instanceof</code> checks in the listener to do the final routing (that&#39;s effectively what spring-rabbit does internally)."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694639529,"creation_date":1694638863,"answer_id":77100472,"question_id":77100081,"body_markdown":"I assume you are using a class-level `@RabbitListener` with `@RabbitHandler` at the method level.\r\n\r\nI am not familiar with it but, looking at the javadocs, `@SqsListener` cannot be applied at the class level (only methods), so it doesn&#39;t support method routing by type.\r\n\r\n__EDIT__\r\n\r\nUnless, or until, the feature is added, you would have to consume `Object` and then add code to your listener to route by type.","title":"How to use @SqsListener with multiple object types?","body":"<p>I assume you are using a class-level <code>@RabbitListener</code> with <code>@RabbitHandler</code> at the method level.</p>\n<p>I am not familiar with it but, looking at the javadocs, <code>@SqsListener</code> cannot be applied at the class level (only methods), so it doesn't support method routing by type.</p>\n<p><strong>EDIT</strong></p>\n<p>Unless, or until, the feature is added, you would have to consume <code>Object</code> and then add code to your listener to route by type.</p>\n"}],"owner":{"account_id":3041402,"reputation":1466,"user_id":2578324,"display_name":"jndietz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694639529,"creation_date":1694634248,"question_id":77100081,"body_markdown":"I am trying to migrate some application code from Spring Boot with rabbitmq to Spring Boot with SQS.  I&#39;d like my application to listen to a queue, but handle multiple object types, like this:\r\n\r\n```java\r\n\t@SqsListener(&quot;some-queue&quot;)\r\n\tpublic void handleTestModel(TestModel model) {\r\n\t\tLOGGER.info(&quot;Received a TestModel.&quot;);\r\n\t}\r\n\r\n\t@SqsListener(&quot;some-queue&quot;)\r\n\tpublic void handleAnotherTestModel(AnotherTestModel model) {\r\n\t\tLOGGER.info(&quot;Received AnotherTestModel.&quot;);\r\n\t}\r\n```\r\n\r\nThe above code will work, but the methods are picked at random regardless of the contents of the message/JSON shape.  How can I configure my application to use the correct method for the given object type?  Basically - I&#39;m looking for an equivalent of `@RabbitHandler` but is specific for SQS. ","title":"How to use @SqsListener with multiple object types?","body":"<p>I am trying to migrate some application code from Spring Boot with rabbitmq to Spring Boot with SQS.  I'd like my application to listen to a queue, but handle multiple object types, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SqsListener(&quot;some-queue&quot;)\n    public void handleTestModel(TestModel model) {\n        LOGGER.info(&quot;Received a TestModel.&quot;);\n    }\n\n    @SqsListener(&quot;some-queue&quot;)\n    public void handleAnotherTestModel(AnotherTestModel model) {\n        LOGGER.info(&quot;Received AnotherTestModel.&quot;);\n    }\n</code></pre>\n<p>The above code will work, but the methods are picked at random regardless of the contents of the message/JSON shape.  How can I configure my application to use the correct method for the given object type?  Basically - I'm looking for an equivalent of <code>@RabbitHandler</code> but is specific for SQS.</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1694629222,"post_id":77099527,"comment_id":135917743,"body_markdown":"Is it an option to read the bytes in a `byte[]` array and put it in a `ByteArrayInputStream`, which will be used for your BodyPublisher?","body":"Is it an option to read the bytes in a <code>byte[]</code> array and put it in a <code>ByteArrayInputStream</code>, which will be used for your BodyPublisher?"},{"owner":{"account_id":1700242,"reputation":656,"user_id":1560534,"accept_rate":82,"display_name":"broadbear"},"score":0,"creation_date":1694655574,"post_id":77099527,"comment_id":135921030,"body_markdown":"I was hoping to avoid the extra memory of reading the data into a byte array.","body":"I was hoping to avoid the extra memory of reading the data into a byte array."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694631128,"creation_date":1694629322,"answer_id":77099609,"question_id":77099527,"body_markdown":"You could read into a byte array and create a `ByteArrayInputStream` from that.\r\n\r\n```\r\nvar chunk = new byte[chunkSize];\r\nfor (int read; (read = is.read(chunk)) != -1;) {\r\n\tvar bais = new ByteArrayInputStream(chunk, 0, read);\r\n\t// use the ByteArrayInputStream\r\n}\r\n```","title":"Stop reading inputstream after specified number of bytes","body":"<p>You could read into a byte array and create a <code>ByteArrayInputStream</code> from that.</p>\n<pre><code>var chunk = new byte[chunkSize];\nfor (int read; (read = is.read(chunk)) != -1;) {\n    var bais = new ByteArrayInputStream(chunk, 0, read);\n    // use the ByteArrayInputStream\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694630121,"creation_date":1694630121,"answer_id":77099691,"question_id":77099527,"body_markdown":"There is [BoundedInputStream][1] in [Apache Commons IO][2] that does exactly what you need:\r\n\r\n```java\r\nInputStream is = // my inputstream\r\nwhile (bytesRead &lt; numBytes) {\r\n   BoundedInputStream subsetIs = new BoundedInputStream(is, chunkSize);\r\n   ...\r\n   .POST(HttpRequest.BodyPublishers.ofInputStream(() -&gt; subsetIs));\r\n   ...\r\n   bytesRead += chunkSize;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BoundedInputStream.html\r\n  [2]: https://commons.apache.org/proper/commons-io/","title":"Stop reading inputstream after specified number of bytes","body":"<p>There is <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BoundedInputStream.html\" rel=\"nofollow noreferrer\">BoundedInputStream</a> in <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache Commons IO</a> that does exactly what you need:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream is = // my inputstream\nwhile (bytesRead &lt; numBytes) {\n   BoundedInputStream subsetIs = new BoundedInputStream(is, chunkSize);\n   ...\n   .POST(HttpRequest.BodyPublishers.ofInputStream(() -&gt; subsetIs));\n   ...\n   bytesRead += chunkSize;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694630269,"creation_date":1694630269,"answer_id":77099701,"question_id":77099527,"body_markdown":"Seems trivial to make it yourself:\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class LimitedInputStream extends FilterInputStream {\r\n  private int limit;\r\n\r\n  public LimitedInputStream(InputStream in, int limit) {\r\n    super(in);\r\n    if (in == null) throw new NullPointerException(&quot;in&quot;);\r\n    if (limit &lt; 1) throw new IllegalArgumentException(&quot;limit must be positive&quot;);\r\n    this.limit = limit;\r\n  }\r\n\r\n  @Override public int read() throws IOException {\r\n    if (limit &lt; 1) return -1;\r\n    limit--;\r\n    return in.read();\r\n  }\r\n\r\n  @Override public int read(byte[] b, int off, int len) throws IOException {\r\n    if (limit &lt; 1) return -1;\r\n    int lim = Math.min(len, limit);\r\n    int r = in.read(b, off, lim);\r\n    if (r &gt; 0) limit -= r;\r\n    return r;\r\n  }\r\n\r\n  @Override public void close() throws IOException {\r\n    in.close();\r\n  }\r\n\r\n  @Override public long skip(long n) throws IOException {\r\n    long lim = Math.min(n, limit);\r\n    long r = in.skip(lim);\r\n    if (r &gt; 0) limit -= r;\r\n    return r;\r\n  }\r\n\r\n  @Override public int available() throws IOException {\r\n    return Math.min(in.available(), limit);\r\n  }\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    var raw = new ByteArrayInputStream(new byte[256]);\r\n    var lim = new LimitedInputStream(raw, 100);\r\n    byte[] b = new byte[55];\r\n    System.out.println(lim.read(b)); // prints 55\r\n    lim.read();\r\n    lim.read();\r\n    System.out.println(lim.read(b)); // prints 43\r\n    System.out.println(lim.read(b)); // prints -1\r\n  }\r\n}\r\n```\r\n","title":"Stop reading inputstream after specified number of bytes","body":"<p>Seems trivial to make it yourself:</p>\n<pre><code>import java.io.*;\n\npublic class LimitedInputStream extends FilterInputStream {\n  private int limit;\n\n  public LimitedInputStream(InputStream in, int limit) {\n    super(in);\n    if (in == null) throw new NullPointerException(&quot;in&quot;);\n    if (limit &lt; 1) throw new IllegalArgumentException(&quot;limit must be positive&quot;);\n    this.limit = limit;\n  }\n\n  @Override public int read() throws IOException {\n    if (limit &lt; 1) return -1;\n    limit--;\n    return in.read();\n  }\n\n  @Override public int read(byte[] b, int off, int len) throws IOException {\n    if (limit &lt; 1) return -1;\n    int lim = Math.min(len, limit);\n    int r = in.read(b, off, lim);\n    if (r &gt; 0) limit -= r;\n    return r;\n  }\n\n  @Override public void close() throws IOException {\n    in.close();\n  }\n\n  @Override public long skip(long n) throws IOException {\n    long lim = Math.min(n, limit);\n    long r = in.skip(lim);\n    if (r &gt; 0) limit -= r;\n    return r;\n  }\n\n  @Override public int available() throws IOException {\n    return Math.min(in.available(), limit);\n  }\n\n  public static void main(String[] args) throws Exception {\n    var raw = new ByteArrayInputStream(new byte[256]);\n    var lim = new LimitedInputStream(raw, 100);\n    byte[] b = new byte[55];\n    System.out.println(lim.read(b)); // prints 55\n    lim.read();\n    lim.read();\n    System.out.println(lim.read(b)); // prints 43\n    System.out.println(lim.read(b)); // prints -1\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694637892,"creation_date":1694637892,"answer_id":77100395,"question_id":77099527,"body_markdown":"&gt; _&quot;... Is there a way to divide an input stream into chunks? ...&quot;_\r\n\r\nYes, although it&#39;s not part of the syntax.  \r\nYou&#39;ll have to create a new _[ByteArrayInputStream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/ByteArrayInputStream.html)_ object for every segment.\r\n\r\nThe _Java_ framework typically functions around _mutable_ and _immutable_ states, so dividing an object is not a common feature.  \r\nAlthough, some classes do provide this functionality&amp;mdash;e.g., the _[ByteBuffer](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html)_ class.\r\n\r\nNevertheless, you can utilize the pseudo-code you provided.\r\n\r\nI believe the simplest approach here is to use the _[InputStream#read](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html#read(byte[],int,int))_ method.\r\n\r\nThe _bytesRead_ here is not accumulative, and is per iteration.\r\n\r\n```java\r\ntry (InputStream is = // my inputstream) {\r\n    int bytesRead, chunkSize = 100;\r\n    byte[] b = new byte[chunkSize];\r\n    InputStream subsetIs;\r\n    while ((bytesRead = is.read(b)) != -1) {\r\n        subsetIs = new ByteArrayInputStream(b, 0, bytesRead);\r\n        .POST(HttpRequest.BodyPublishers.ofInputStream(() -&gt; subsetIs));\r\n    }\r\n}\r\n```\r\n\r\n&gt; _&quot;... I guess another way to ask this is, is there an input stream that can wrap another input stream and return end of stream after a specified number of bytes? ...&quot;_\r\n\r\nYou could encapsulate an _[InputStream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html)_, and _override_ a _read_ method, delegating the data from there.  \r\nI recommend this if you plan on scaling the code.\r\n\r\nOtherwise, the _read_ method will return _&amp;minus;1_ once the end of the stream is reached.  \r\nHere is the _JavaDoc_ excerpt.\r\n\r\n&gt; _**Returns**:_  \r\n&gt; _the total number of bytes read into the buffer, or -1 if there is no more data because the end of the stream has been reached._","title":"Stop reading inputstream after specified number of bytes","body":"<blockquote>\n<p><em>&quot;... Is there a way to divide an input stream into chunks? ...&quot;</em></p>\n</blockquote>\n<p>Yes, although it's not part of the syntax.<br />\nYou'll have to create a new <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/ByteArrayInputStream.html\" rel=\"nofollow noreferrer\">ByteArrayInputStream</a></em> object for every segment.</p>\n<p>The <em>Java</em> framework typically functions around <em>mutable</em> and <em>immutable</em> states, so dividing an object is not a common feature.<br />\nAlthough, some classes do provide this functionality—e.g., the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ByteBuffer</a></em> class.</p>\n<p>Nevertheless, you can utilize the pseudo-code you provided.</p>\n<p>I believe the simplest approach here is to use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D,int,int)\" rel=\"nofollow noreferrer\">InputStream#read</a></em> method.</p>\n<p>The <em>bytesRead</em> here is not accumulative, and is per iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (InputStream is = // my inputstream) {\n    int bytesRead, chunkSize = 100;\n    byte[] b = new byte[chunkSize];\n    InputStream subsetIs;\n    while ((bytesRead = is.read(b)) != -1) {\n        subsetIs = new ByteArrayInputStream(b, 0, bytesRead);\n        .POST(HttpRequest.BodyPublishers.ofInputStream(() -&gt; subsetIs));\n    }\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... I guess another way to ask this is, is there an input stream that can wrap another input stream and return end of stream after a specified number of bytes? ...&quot;</em></p>\n</blockquote>\n<p>You could encapsulate an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html\" rel=\"nofollow noreferrer\">InputStream</a></em>, and <em>override</em> a <em>read</em> method, delegating the data from there.<br />\nI recommend this if you plan on scaling the code.</p>\n<p>Otherwise, the <em>read</em> method will return <em>−1</em> once the end of the stream is reached.<br />\nHere is the <em>JavaDoc</em> excerpt.</p>\n<blockquote>\n<p><em><strong>Returns</strong>:</em><br />\n<em>the total number of bytes read into the buffer, or -1 if there is no more data because the end of the stream has been reached.</em></p>\n</blockquote>\n"}],"owner":{"account_id":1700242,"reputation":656,"user_id":1560534,"accept_rate":82,"display_name":"broadbear"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77099701,"answer_count":4,"score":0,"last_activity_date":1694637892,"creation_date":1694628590,"question_id":77099527,"body_markdown":"Is there a way to divide an input stream into chunks? For instance, I am sending an input stream to a BodyPublisher, and I would like that BodyPublisher to read a subset of the input stream and stop, then, the next iteration would read the next set of bytes in the input stream.\r\n\r\nI guess another way to ask this is, is there an input stream that can wrap another input stream and return end of stream after a specified number of bytes?\r\n\r\nIt might look something like:\r\n\r\n```\r\nInputStream is = // my inputstream\r\nwhile (bytesRead &lt; numBytes) {\r\n   SubsetInputStream subsetIs = new SubsetInputStream(is, chunkSize);\r\n   ...\r\n   .POST(HttpRequest.BodyPublishers.ofInputStream(() -&gt; subsetIs));\r\n   ...\r\n   bytesRead += chunkSize;\r\n}\r\n```","title":"Stop reading inputstream after specified number of bytes","body":"<p>Is there a way to divide an input stream into chunks? For instance, I am sending an input stream to a BodyPublisher, and I would like that BodyPublisher to read a subset of the input stream and stop, then, the next iteration would read the next set of bytes in the input stream.</p>\n<p>I guess another way to ask this is, is there an input stream that can wrap another input stream and return end of stream after a specified number of bytes?</p>\n<p>It might look something like:</p>\n<pre><code>InputStream is = // my inputstream\nwhile (bytesRead &lt; numBytes) {\n   SubsetInputStream subsetIs = new SubsetInputStream(is, chunkSize);\n   ...\n   .POST(HttpRequest.BodyPublishers.ofInputStream(() -&gt; subsetIs));\n   ...\n   bytesRead += chunkSize;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","yaml","spring-boot-test"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1694631709,"post_id":77099780,"comment_id":135918151,"body_markdown":"What happens when removing the `@Configuration`?","body":"What happens when removing the <code>@Configuration</code>?"},{"owner":{"account_id":317509,"reputation":877,"user_id":634236,"accept_rate":77,"display_name":"Justin"},"score":0,"creation_date":1694632096,"post_id":77099780,"comment_id":135918222,"body_markdown":"@dan1st same failing assertion. I had `@Component` for a while as well as my hope is to inject it into other classes, but that didn&#39;t work either","body":"@dan1st same failing assertion. I had <code>@Component</code> for a while as well as my hope is to inject it into other classes, but that didn&#39;t work either"}],"answers":[{"tags":[],"owner":{"account_id":317509,"reputation":877,"user_id":634236,"accept_rate":77,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694637420,"creation_date":1694637420,"answer_id":77100346,"question_id":77099780,"body_markdown":"The problem was with my @Test annotation...\r\n\r\nI commented out almost the entire project and any dependencies. Finally took a look at my imports after it was still failing with nothing else remaining. I&#39;m using Junit 5 as is obvious from the @ExtendWith annotation but what IntelliJ did was auto import\r\n\r\n`import org.junit.Test` which is junit 4 \r\n\r\nand what I needed was `import org.junit.jupiter.api.Test` instead which is unit 5.\r\n\r\nUnbelievable... ","title":"SpringBoot 2 YAML Properties Test Not Working","body":"<p>The problem was with my @Test annotation...</p>\n<p>I commented out almost the entire project and any dependencies. Finally took a look at my imports after it was still failing with nothing else remaining. I'm using Junit 5 as is obvious from the @ExtendWith annotation but what IntelliJ did was auto import</p>\n<p><code>import org.junit.Test</code> which is junit 4</p>\n<p>and what I needed was <code>import org.junit.jupiter.api.Test</code> instead which is unit 5.</p>\n<p>Unbelievable...</p>\n"}],"owner":{"account_id":317509,"reputation":877,"user_id":634236,"accept_rate":77,"display_name":"Justin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77100346,"answer_count":1,"score":0,"last_activity_date":1694637420,"creation_date":1694631114,"question_id":77099780,"body_markdown":"Trying to test yaml properties mapping to a pojo in Springboot 2.7.11 but the pojo keeps coming up as null.\r\n\r\nsrc/test/resources/application-test.yml\r\n\r\n    configItems:\r\n      items:\r\n        - field1: name\r\n          field2: address\r\n        - field1: name\r\n          field2: address\r\n\r\nConfigItems.java\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;configItems&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class ConfigItems {\r\n\r\n      private List&lt;Item&gt; items;\r\n      \r\n      @Getter\r\n      @Setter\r\n      @NoArgsConstructor\r\n      @AllArgsConstructor\r\n      public static class Item {\r\n        private String field1;\r\n        private String field2;\r\n      }\r\n    }\r\n\r\nMapFromYamTest.java\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest\r\n    @EnableConfigurationProperties(value = ConfigItems.class)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class MapFromYamlTest {\r\n      \r\n      @Autowired\r\n      private ConfigItems configItems;\r\n\r\n      @Test\r\n      public void everythingMappedCorrectly() {\r\n        assertNotNull(configItems, &quot;Config is null&quot;);\r\n      }\r\n    }\r\n\r\nI&#39;ve tried a number of annotation variations on the test hence why it is now using both the ExtendWith and SpringBootTest annotations. I&#39;ve tried one or the other. I&#39;ve tried variations of ContextConfiguration in addition to the other annotations. I just don&#39;t get why the assertion keeps failing...","title":"SpringBoot 2 YAML Properties Test Not Working","body":"<p>Trying to test yaml properties mapping to a pojo in Springboot 2.7.11 but the pojo keeps coming up as null.</p>\n<p>src/test/resources/application-test.yml</p>\n<pre><code>configItems:\n  items:\n    - field1: name\n      field2: address\n    - field1: name\n      field2: address\n</code></pre>\n<p>ConfigItems.java</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;configItems&quot;)\n@Getter\n@Setter\npublic class ConfigItems {\n\n  private List&lt;Item&gt; items;\n  \n  @Getter\n  @Setter\n  @NoArgsConstructor\n  @AllArgsConstructor\n  public static class Item {\n    private String field1;\n    private String field2;\n  }\n}\n</code></pre>\n<p>MapFromYamTest.java</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@EnableConfigurationProperties(value = ConfigItems.class)\n@ActiveProfiles(&quot;test&quot;)\npublic class MapFromYamlTest {\n  \n  @Autowired\n  private ConfigItems configItems;\n\n  @Test\n  public void everythingMappedCorrectly() {\n    assertNotNull(configItems, &quot;Config is null&quot;);\n  }\n}\n</code></pre>\n<p>I've tried a number of annotation variations on the test hence why it is now using both the ExtendWith and SpringBootTest annotations. I've tried one or the other. I've tried variations of ContextConfiguration in addition to the other annotations. I just don't get why the assertion keeps failing...</p>\n"},{"tags":["java","javafx","network-programming","udp","client-server"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1694637089,"creation_date":1694635130,"answer_id":77100153,"question_id":77097427,"body_markdown":"Fields annotated `@FXML` are initialized *in the controller* when the `FXMLLoader` loads an FXML file. The controller is a specific object that is created by the `FXMLLoader`. It only makes sense to try to access those fields from within that specific object. Since `FXML`-annotated fields are only initialized in the specific instances of the controller class created by the `FXMLLoader`, it really doesn&#39;t make sense to annotate `static` fields with `@FXML`, and such fields will never be initialized. See also [this QA](https://stackoverflow.com/questions/23105433/javafx-8-compatibility-issues-fxml-static-fields-or-methods).\r\n\r\nIn your case, your server and client are not even represented by objects (since they just use static methods, which by definition are not part of any object). You first need to write this in an object-oriented fashion with the server and client represented by actual objects. Then you need to design the UI part of the application so the UI can be updated by changes in values from the client; a MVC-like approach is usually the best way to do this.\r\n\r\nHere is a quick example. I used Jackson for the JSON [de]serializing and plain sockets and server sockets as I know those technologies better. The same structure can be used with different underlying technologies.\r\n\r\nFirst, here is the `Quote` class, implemented simply as a `record`:\r\n\r\n`Quote.java`:\r\n\r\n```\r\npackage org.jamesd.examples.quoteserver;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\npublic record Quote(String text, String author) {\r\n\r\n    @JsonCreator\r\n    public Quote(@JsonProperty(&quot;text&quot;) String text, @JsonProperty(&quot;author&quot;) String author) {\r\n        this.text = text;\r\n        this.author = author;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is a `QuoteServer`. This has a `serveQuotes()` method which blocks indefinitely (at least, until the server is closed) and hands off handling requests to an executor. The requests simply send an `int` representing which quote they want (in a real application you would handle invalid quote ids, etc):\r\n\r\n`QuoteServer.java`\r\n\r\n```\r\npackage org.jamesd.examples.quoteserver;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class QuoteServer implements AutoCloseable{\r\n\r\n    public static final int PORT = 5555;\r\n\r\n    private final ServerSocket serverSocket;\r\n\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    private final ExecutorService exec = Executors.newCachedThreadPool();\r\n\r\n    private final List&lt;Quote&gt; quotes = List.of(\r\n            new Quote(\r\n                &quot;&quot;&quot;\r\n                    There are only two ways to live your life.\r\n                    One is as though nothing is a miracle.\r\n                    The other is as though everything is a miracle.\r\n                    &quot;&quot;&quot;,\r\n                    &quot;Albert Einstein&quot;),\r\n            new Quote(\r\n                &quot;&quot;&quot;\r\n                    Good judgment comes from experience, and experience comes from bad judgment.\r\n                    &quot;&quot;&quot;,\r\n                    &quot;Rita Mae Brown&quot;\r\n            ),\r\n            new Quote(\r\n                &quot;&quot;&quot;\r\n                    Imagination was given to man to compensate him for what he is not,\r\n                    and a sense of humor was provided to console him for what he is.\r\n                    &quot;&quot;&quot;,\r\n            &quot;Oscar Wilde&quot;\r\n            )\r\n    );\r\n\r\n    public QuoteServer() throws IOException {\r\n        serverSocket = new ServerSocket(PORT);\r\n    }\r\n\r\n    public void serveQuotes() {\r\n        try {\r\n            while (!serverSocket.isClosed()) {\r\n                Socket socket = serverSocket.accept();\r\n                exec.execute(() -&gt; handleRequest(socket));\r\n            }\r\n        } catch (SocketException sockExc) {\r\n            if (serverSocket.isClosed()) {\r\n                System.out.println(&quot;Socket closed&quot;);\r\n            } else {\r\n                sockExc.printStackTrace();\r\n            }\r\n        } catch (IOException exc) {\r\n            exc.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void handleRequest(Socket socket) {\r\n        try {\r\n            DataInputStream input = new DataInputStream(socket.getInputStream());\r\n            int index = input.readInt();\r\n            Quote quote = quotes.get(index);\r\n            objectMapper.writeValue(socket.getOutputStream(), quote);\r\n            socket.close();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void close() throws Exception {\r\n        exec.shutdown();\r\n        serverSocket.close();\r\n    }\r\n}\r\n```\r\n\r\nHere is a `QuoteClient` class. This just has a one-shot method, taking an `int` and returning a `Quote` that is sent from the server. Again, in real life you might add more functionality.\r\n\r\n`QuoteClient.java`\r\n\r\n```\r\npackage org.jamesd.examples.quoteserver;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\n\r\npublic class QuoteClient {\r\n\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    public Quote getQuote(int index) {\r\n        try {\r\n            Socket socket = new Socket(&quot;localhost&quot;, QuoteServer.PORT);\r\n            DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n            output.writeInt(index);\r\n            Quote quote = objectMapper.readValue(socket.getInputStream(), Quote.class);\r\n            socket.close();\r\n            return quote;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor the UI part, use some kind of Model-View-Controller (MVC) or similar approach. The most important aspect of this is to separate out the data that is displayed in the application into a model class, and let the view update by observing the model. (The different flavors of MVC differ by how this is divided up between the view and controller.)\r\n\r\nIn this case, the model gets its data from the server, so it needs a client. To update on a regular basis (every five seconds, for example), you can use a `ScheduledService` that creates `Task`s that request data via the client. The service&#39;s `lastValueProperty()` holds the last value returned from a task, i.e. the last value retrieved from the server. So the model can simply look like:\r\n\r\n`Model.java`\r\n\r\n```\r\npackage org.jamesd.examples.quoteserver;\r\n\r\nimport javafx.beans.property.ReadOnlyObjectProperty;\r\nimport javafx.concurrent.ScheduledService;\r\nimport javafx.concurrent.Task;\r\nimport javafx.util.Duration;\r\n\r\nimport java.util.Random;\r\n\r\npublic class Model {\r\n\r\n    private final QuoteClient quoteClient = new QuoteClient();\r\n    private final ScheduledService&lt;Quote&gt; service;\r\n\r\n    public Model() {\r\n        service = new ScheduledService&lt;&gt;() {\r\n            private final Random rng = new Random();\r\n            @Override\r\n            protected Task&lt;Quote&gt; createTask() {\r\n                final int quoteIndex = rng.nextInt(3);\r\n                return new Task&lt;&gt;() {\r\n                    @Override\r\n                    protected Quote call() {\r\n                        return quoteClient.getQuote(quoteIndex);\r\n                    }\r\n                };\r\n            }\r\n        };\r\n        service.setPeriod(Duration.seconds(5));\r\n        service.start();\r\n\r\n    }\r\n\r\n    public ReadOnlyObjectProperty&lt;Quote&gt; currentQuoteProperty() {\r\n        return service.lastValueProperty();\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is a simple FXML file. It just has some labels (including one for the quote&#39;s text and one for its author):\r\n\r\n`Quotes.fxml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n      fx:controller=&quot;org.jamesd.examples.quoteserver.QuoteController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n    &lt;Label fx:id=&quot;quoteLabel&quot;/&gt;\r\n    &lt;HBox spacing=&quot;5&quot;&gt;&lt;Label text=&quot; - &quot;/&gt;&lt;Label fx:id=&quot;authorLabel&quot; /&gt;&lt;/HBox&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\nHere is the corresponding controller. It needs access to the model, so it has a `setModel(Model model)` method. When it receives a new model, it just binds the label&#39;s text to values in the model:\r\n\r\n`QuoteController.java`\r\n\r\n```\r\npackage org.jamesd.examples.quoteserver;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\n\r\npublic class QuoteController {\r\n\r\n   @FXML\r\n   private Label quoteLabel ;\r\n   @FXML\r\n   private Label authorLabel;\r\n   public void setModel(Model model) {\r\n       quoteLabel.textProperty().bind(model.currentQuoteProperty().map(Quote::text));\r\n       authorLabel.textProperty().bind(model.currentQuoteProperty().map(Quote::author));\r\n   }\r\n}\r\n```\r\n\r\nAnd finally the application class. This starts a server in the `init()` method (which you probably wouldn&#39;t do in real life; the server would not be in the same JVM) and runs it in a background thread. It also creates a `Model`. The model is passed to the controller after loading the FXML.\r\n\r\n`QuoteApplication.java`\r\n\r\n```\r\npackage org.jamesd.examples.quoteserver;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class QuoteApplication extends Application {\r\n\r\n    private Model model;\r\n    private QuoteServer server ;\r\n\r\n    @Override\r\n    public void init() throws IOException {\r\n        server = new QuoteServer();\r\n        Thread serverThread = new Thread(server::serveQuotes);\r\n        serverThread.setDaemon(true);\r\n        serverThread.start();\r\n        model = new Model();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(QuoteApplication.class.getResource(&quot;Quotes.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 800, 500);\r\n        QuoteController controller = fxmlLoader.getController();\r\n        controller.setModel(model);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @Override\r\n    public void stop() throws Exception {\r\n        server.close();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nFinally, for completeness, my `module-info.java`:\r\n\r\n```\r\nmodule org.jamesd.examples.quoteserver {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires com.fasterxml.jackson.databind;\r\n\r\n    opens org.jamesd.examples.quoteserver to javafx.fxml;\r\n    exports org.jamesd.examples.quoteserver;\r\n}\r\n```\r\n\r\nand `pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.jamesd.examples&lt;/groupId&gt;\r\n    &lt;artifactId&gt;quoteserver&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;quoteserver&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;20.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;20.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;20&lt;/source&gt;\r\n                    &lt;target&gt;20&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;\r\n                                org.jamesd.examples.quoteserver/org.jamesd.examples.quoteserver.QuoteApplication\r\n                            &lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Changing JavaFX-Label Text in an small Client - Server Application","body":"<p>Fields annotated <code>@FXML</code> are initialized <em>in the controller</em> when the <code>FXMLLoader</code> loads an FXML file. The controller is a specific object that is created by the <code>FXMLLoader</code>. It only makes sense to try to access those fields from within that specific object. Since <code>FXML</code>-annotated fields are only initialized in the specific instances of the controller class created by the <code>FXMLLoader</code>, it really doesn't make sense to annotate <code>static</code> fields with <code>@FXML</code>, and such fields will never be initialized. See also <a href=\"https://stackoverflow.com/questions/23105433/javafx-8-compatibility-issues-fxml-static-fields-or-methods\">this QA</a>.</p>\n<p>In your case, your server and client are not even represented by objects (since they just use static methods, which by definition are not part of any object). You first need to write this in an object-oriented fashion with the server and client represented by actual objects. Then you need to design the UI part of the application so the UI can be updated by changes in values from the client; a MVC-like approach is usually the best way to do this.</p>\n<p>Here is a quick example. I used Jackson for the JSON [de]serializing and plain sockets and server sockets as I know those technologies better. The same structure can be used with different underlying technologies.</p>\n<p>First, here is the <code>Quote</code> class, implemented simply as a <code>record</code>:</p>\n<p><code>Quote.java</code>:</p>\n<pre><code>package org.jamesd.examples.quoteserver;\n\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic record Quote(String text, String author) {\n\n    @JsonCreator\n    public Quote(@JsonProperty(&quot;text&quot;) String text, @JsonProperty(&quot;author&quot;) String author) {\n        this.text = text;\n        this.author = author;\n    }\n\n}\n</code></pre>\n<p>Here is a <code>QuoteServer</code>. This has a <code>serveQuotes()</code> method which blocks indefinitely (at least, until the server is closed) and hands off handling requests to an executor. The requests simply send an <code>int</code> representing which quote they want (in a real application you would handle invalid quote ids, etc):</p>\n<p><code>QuoteServer.java</code></p>\n<pre><code>package org.jamesd.examples.quoteserver;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.DataInputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class QuoteServer implements AutoCloseable{\n\n    public static final int PORT = 5555;\n\n    private final ServerSocket serverSocket;\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n\n    private final ExecutorService exec = Executors.newCachedThreadPool();\n\n    private final List&lt;Quote&gt; quotes = List.of(\n            new Quote(\n                &quot;&quot;&quot;\n                    There are only two ways to live your life.\n                    One is as though nothing is a miracle.\n                    The other is as though everything is a miracle.\n                    &quot;&quot;&quot;,\n                    &quot;Albert Einstein&quot;),\n            new Quote(\n                &quot;&quot;&quot;\n                    Good judgment comes from experience, and experience comes from bad judgment.\n                    &quot;&quot;&quot;,\n                    &quot;Rita Mae Brown&quot;\n            ),\n            new Quote(\n                &quot;&quot;&quot;\n                    Imagination was given to man to compensate him for what he is not,\n                    and a sense of humor was provided to console him for what he is.\n                    &quot;&quot;&quot;,\n            &quot;Oscar Wilde&quot;\n            )\n    );\n\n    public QuoteServer() throws IOException {\n        serverSocket = new ServerSocket(PORT);\n    }\n\n    public void serveQuotes() {\n        try {\n            while (!serverSocket.isClosed()) {\n                Socket socket = serverSocket.accept();\n                exec.execute(() -&gt; handleRequest(socket));\n            }\n        } catch (SocketException sockExc) {\n            if (serverSocket.isClosed()) {\n                System.out.println(&quot;Socket closed&quot;);\n            } else {\n                sockExc.printStackTrace();\n            }\n        } catch (IOException exc) {\n            exc.printStackTrace();\n        }\n    }\n\n    private void handleRequest(Socket socket) {\n        try {\n            DataInputStream input = new DataInputStream(socket.getInputStream());\n            int index = input.readInt();\n            Quote quote = quotes.get(index);\n            objectMapper.writeValue(socket.getOutputStream(), quote);\n            socket.close();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public void close() throws Exception {\n        exec.shutdown();\n        serverSocket.close();\n    }\n}\n</code></pre>\n<p>Here is a <code>QuoteClient</code> class. This just has a one-shot method, taking an <code>int</code> and returning a <code>Quote</code> that is sent from the server. Again, in real life you might add more functionality.</p>\n<p><code>QuoteClient.java</code></p>\n<pre><code>package org.jamesd.examples.quoteserver;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\n\npublic class QuoteClient {\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n\n    public Quote getQuote(int index) {\n        try {\n            Socket socket = new Socket(&quot;localhost&quot;, QuoteServer.PORT);\n            DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n            output.writeInt(index);\n            Quote quote = objectMapper.readValue(socket.getInputStream(), Quote.class);\n            socket.close();\n            return quote;\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>For the UI part, use some kind of Model-View-Controller (MVC) or similar approach. The most important aspect of this is to separate out the data that is displayed in the application into a model class, and let the view update by observing the model. (The different flavors of MVC differ by how this is divided up between the view and controller.)</p>\n<p>In this case, the model gets its data from the server, so it needs a client. To update on a regular basis (every five seconds, for example), you can use a <code>ScheduledService</code> that creates <code>Task</code>s that request data via the client. The service's <code>lastValueProperty()</code> holds the last value returned from a task, i.e. the last value retrieved from the server. So the model can simply look like:</p>\n<p><code>Model.java</code></p>\n<pre><code>package org.jamesd.examples.quoteserver;\n\nimport javafx.beans.property.ReadOnlyObjectProperty;\nimport javafx.concurrent.ScheduledService;\nimport javafx.concurrent.Task;\nimport javafx.util.Duration;\n\nimport java.util.Random;\n\npublic class Model {\n\n    private final QuoteClient quoteClient = new QuoteClient();\n    private final ScheduledService&lt;Quote&gt; service;\n\n    public Model() {\n        service = new ScheduledService&lt;&gt;() {\n            private final Random rng = new Random();\n            @Override\n            protected Task&lt;Quote&gt; createTask() {\n                final int quoteIndex = rng.nextInt(3);\n                return new Task&lt;&gt;() {\n                    @Override\n                    protected Quote call() {\n                        return quoteClient.getQuote(quoteIndex);\n                    }\n                };\n            }\n        };\n        service.setPeriod(Duration.seconds(5));\n        service.start();\n\n    }\n\n    public ReadOnlyObjectProperty&lt;Quote&gt; currentQuoteProperty() {\n        return service.lastValueProperty();\n    }\n\n}\n</code></pre>\n<p>Here is a simple FXML file. It just has some labels (including one for the quote's text and one for its author):</p>\n<p><code>Quotes.fxml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;org.jamesd.examples.quoteserver.QuoteController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n    &lt;Label fx:id=&quot;quoteLabel&quot;/&gt;\n    &lt;HBox spacing=&quot;5&quot;&gt;&lt;Label text=&quot; - &quot;/&gt;&lt;Label fx:id=&quot;authorLabel&quot; /&gt;&lt;/HBox&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>Here is the corresponding controller. It needs access to the model, so it has a <code>setModel(Model model)</code> method. When it receives a new model, it just binds the label's text to values in the model:</p>\n<p><code>QuoteController.java</code></p>\n<pre><code>package org.jamesd.examples.quoteserver;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class QuoteController {\n\n   @FXML\n   private Label quoteLabel ;\n   @FXML\n   private Label authorLabel;\n   public void setModel(Model model) {\n       quoteLabel.textProperty().bind(model.currentQuoteProperty().map(Quote::text));\n       authorLabel.textProperty().bind(model.currentQuoteProperty().map(Quote::author));\n   }\n}\n</code></pre>\n<p>And finally the application class. This starts a server in the <code>init()</code> method (which you probably wouldn't do in real life; the server would not be in the same JVM) and runs it in a background thread. It also creates a <code>Model</code>. The model is passed to the controller after loading the FXML.</p>\n<p><code>QuoteApplication.java</code></p>\n<pre><code>package org.jamesd.examples.quoteserver;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class QuoteApplication extends Application {\n\n    private Model model;\n    private QuoteServer server ;\n\n    @Override\n    public void init() throws IOException {\n        server = new QuoteServer();\n        Thread serverThread = new Thread(server::serveQuotes);\n        serverThread.setDaemon(true);\n        serverThread.start();\n        model = new Model();\n    }\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(QuoteApplication.class.getResource(&quot;Quotes.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 800, 500);\n        QuoteController controller = fxmlLoader.getController();\n        controller.setModel(model);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @Override\n    public void stop() throws Exception {\n        server.close();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Finally, for completeness, my <code>module-info.java</code>:</p>\n<pre><code>module org.jamesd.examples.quoteserver {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires com.fasterxml.jackson.databind;\n\n    opens org.jamesd.examples.quoteserver to javafx.fxml;\n    exports org.jamesd.examples.quoteserver;\n}\n</code></pre>\n<p>and <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.jamesd.examples&lt;/groupId&gt;\n    &lt;artifactId&gt;quoteserver&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;quoteserver&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;20.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;20.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.15.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;20&lt;/source&gt;\n                    &lt;target&gt;20&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;\n                                org.jamesd.examples.quoteserver/org.jamesd.examples.quoteserver.QuoteApplication\n                            &lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":26218746,"reputation":46,"user_id":19896523,"display_name":"Thriest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77100153,"answer_count":1,"score":0,"last_activity_date":1694637089,"creation_date":1694610972,"question_id":77097427,"body_markdown":"Ive created a small client-server prorgramm which works as following: A Client sents all five seconds a random number to a server which sends then sends a (more or less famous) quote back to the client. The random number represents the index of the ArrayList in the ServerClass in which some quotes are located. The connection works well and the clients receives the quotes and i can easily print them out with sysout. \r\nMy Problem is now that i wanna display the received Quote as a Label in a small JavaFX / FXML File and the text should change every five seconds when a new quote comes in from the Server.\r\nThe Class QuotesClient (so the Client) is also the Controller of the corresponding FXML file but the Problem is since that the method in my Client class which is responsible for handling the incoming UDP Packets is static and of course i cant access the non-static Label in this method.\r\n\r\nIve tried to make the Label static as well but then i receive a NullPointerException:\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat Aufgabe1.QuotesClient.main(QuotesClient.java:48)\r\n\tat Aufgabe1.QuotesApp.lambda$1(QuotesApp.java:32)\r\n\tat java.base/java.lang.Thread.run(Thread.java:844)\r\n\r\n```\r\n\r\nHere is my ClientFile:\r\n```\r\npublic class QuotesClient {\r\n\tprivate static final int BUFSIZE = 508;\r\n\t\r\n\t@FXML\r\n\tprivate static Label zitatLabel; //Thats the quoteLabel i wanna change\r\n\r\n\tpublic static void main(String[] args) throws UnknownHostException {\r\n\t\tvar host = &quot;localhost&quot;;\r\n\t\tvar localPort = 40000;\r\n\t\tvar serverPort = 50000;\t\r\n\t\ttry (var socket = new DatagramSocket(localPort)) {\r\n\t\t\twhile(true) {\r\n\t\t\t\tRandom random = new Random();\r\n\t\t\t\tint randomNumber = random.nextInt(3);\r\n\t\t\t\tSystem.out.println(&quot;Die Zufallszahl ist: &quot; + randomNumber);\r\n\t\t\t\tvar data = serialize(randomNumber).getBytes();\r\n\t\t\t\t\r\n\t\t\t\t//Send packages (random number for the server)\r\n\t\t\t\tvar addr = InetAddress.getByName(host);\r\n\t\t\t\tvar packetOut = new DatagramPacket(data, data.length, addr, serverPort);\r\n\t\t\t\tsocket.send(packetOut);\r\n\t\t\t\t\r\n\t\t\t\t//Receive packeges (Quote-Objekts)\r\n\t\t\t\tvar packetIn = new DatagramPacket(new byte[BUFSIZE], BUFSIZE);\r\n\t\t\t\tsocket.receive(packetIn);\r\n\t\t\t\t\r\n\t\t\t\tvar json = new String(packetIn.getData());\r\n\t\t\t\tQuote quote = deserialize(json);\r\n\t\t\t\tSystem.out.println(&quot;Quote: &quot; + quote.getText());\r\n\t\t\t\tzitatLabel.setText(quote.getText()); //Throws the NullPointerException\r\n               \r\n\t\t\t\tThread.sleep(5000);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static String serialize(int number) {\r\n\t\tvar jsonb = JsonbBuilder.create();\r\n\t\treturn jsonb.toJson(number);\r\n\t}\r\n\t\r\n\tprivate static Quote deserialize(String data) {\r\n\t\tvar jsonb = JsonbBuilder.create();\r\n\t\treturn jsonb.fromJson(data, Quote.class);\r\n\t}\r\n\t\r\n}\r\n```\r\nI start my whole Programm via the QuotesApp.java Class. Ive also created two seperate Threads, one for the server and one for the client:\r\n\r\n```\r\npublic class QuotesApp extends Application {\r\n\t\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader(QuotesApp.class.getResource(&quot;/Aufgabe1/GUIQuotes.fxml&quot;));\r\n        Parent root = loader.load();\r\n        Scene scene = new Scene(root);\r\n        primaryStage.setTitle(&quot;UserLogin&quot;);\r\n        primaryStage.setResizable(false);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        \r\n        \r\n        // Starte den Server und den Client in separaten Threads\r\n        Thread serverThread = new Thread(() -&gt; {\r\n\t\t\tQuotesServer.main(new String[0]);\r\n        });\r\n\r\n        Thread clientThread = new Thread(() -&gt; {\r\n            try {\r\n            QuotesClient.main(new String[0]);\r\n            } catch (UnknownHostException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\n        serverThread.start();\r\n        clientThread.start();        \r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n        \r\n    }\r\n}\r\n```","title":"Changing JavaFX-Label Text in an small Client - Server Application","body":"<p>Ive created a small client-server prorgramm which works as following: A Client sents all five seconds a random number to a server which sends then sends a (more or less famous) quote back to the client. The random number represents the index of the ArrayList in the ServerClass in which some quotes are located. The connection works well and the clients receives the quotes and i can easily print them out with sysout.\nMy Problem is now that i wanna display the received Quote as a Label in a small JavaFX / FXML File and the text should change every five seconds when a new quote comes in from the Server.\nThe Class QuotesClient (so the Client) is also the Controller of the corresponding FXML file but the Problem is since that the method in my Client class which is responsible for handling the incoming UDP Packets is static and of course i cant access the non-static Label in this method.</p>\n<p>Ive tried to make the Label static as well but then i receive a NullPointerException:</p>\n<pre><code>java.lang.NullPointerException\n    at Aufgabe1.QuotesClient.main(QuotesClient.java:48)\n    at Aufgabe1.QuotesApp.lambda$1(QuotesApp.java:32)\n    at java.base/java.lang.Thread.run(Thread.java:844)\n\n</code></pre>\n<p>Here is my ClientFile:</p>\n<pre><code>public class QuotesClient {\n    private static final int BUFSIZE = 508;\n    \n    @FXML\n    private static Label zitatLabel; //Thats the quoteLabel i wanna change\n\n    public static void main(String[] args) throws UnknownHostException {\n        var host = &quot;localhost&quot;;\n        var localPort = 40000;\n        var serverPort = 50000; \n        try (var socket = new DatagramSocket(localPort)) {\n            while(true) {\n                Random random = new Random();\n                int randomNumber = random.nextInt(3);\n                System.out.println(&quot;Die Zufallszahl ist: &quot; + randomNumber);\n                var data = serialize(randomNumber).getBytes();\n                \n                //Send packages (random number for the server)\n                var addr = InetAddress.getByName(host);\n                var packetOut = new DatagramPacket(data, data.length, addr, serverPort);\n                socket.send(packetOut);\n                \n                //Receive packeges (Quote-Objekts)\n                var packetIn = new DatagramPacket(new byte[BUFSIZE], BUFSIZE);\n                socket.receive(packetIn);\n                \n                var json = new String(packetIn.getData());\n                Quote quote = deserialize(json);\n                System.out.println(&quot;Quote: &quot; + quote.getText());\n                zitatLabel.setText(quote.getText()); //Throws the NullPointerException\n               \n                Thread.sleep(5000);\n            }\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n    }\n    \n    private static String serialize(int number) {\n        var jsonb = JsonbBuilder.create();\n        return jsonb.toJson(number);\n    }\n    \n    private static Quote deserialize(String data) {\n        var jsonb = JsonbBuilder.create();\n        return jsonb.fromJson(data, Quote.class);\n    }\n    \n}\n</code></pre>\n<p>I start my whole Programm via the QuotesApp.java Class. Ive also created two seperate Threads, one for the server and one for the client:</p>\n<pre><code>public class QuotesApp extends Application {\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        FXMLLoader loader = new FXMLLoader(QuotesApp.class.getResource(&quot;/Aufgabe1/GUIQuotes.fxml&quot;));\n        Parent root = loader.load();\n        Scene scene = new Scene(root);\n        primaryStage.setTitle(&quot;UserLogin&quot;);\n        primaryStage.setResizable(false);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        \n        \n        // Starte den Server und den Client in separaten Threads\n        Thread serverThread = new Thread(() -&gt; {\n            QuotesServer.main(new String[0]);\n        });\n\n        Thread clientThread = new Thread(() -&gt; {\n            try {\n            QuotesClient.main(new String[0]);\n            } catch (UnknownHostException e) {\n                e.printStackTrace();\n            }\n        });\n\n        serverThread.start();\n        clientThread.start();        \n    }\n\n    public static void main(String[] args) {\n        launch(args);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":12214,"reputation":23816,"user_id":23921,"display_name":"Pesto"},"score":0,"creation_date":1236183717,"post_id":611296,"comment_id":423699,"body_markdown":"Are these algorithms general enough that somebody else has probably already written them?","body":"Are these algorithms general enough that somebody else has probably already written them?"},{"owner":{"account_id":7704,"reputation":3214,"user_id":1459442,"accept_rate":100,"display_name":"Ryan Thames"},"score":0,"creation_date":1236183859,"post_id":611296,"comment_id":423716,"body_markdown":"Nah, they&#39;re not very general at all, unfortunately.","body":"Nah, they&#39;re not very general at all, unfortunately."}],"answers":[{"tags":[],"owner":{"account_id":13903,"reputation":393603,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1236183723,"creation_date":1236183723,"answer_id":611312,"question_id":611296,"body_markdown":"If the &quot;algorithms&quot; are well-packaged, perhaps it&#39;s possible to create some automatic glue code, through JNI? That would cut down on the risk of errors (creating hundreds of individual components manually sounds risky), and make the cost independent of the number of algorithms to add, more or less.\r\n\r\nRewriting hundreds of components sounds very risky, I would definitely recommend at least investigating JNI more closely first.\r\n\r\nWhat I/O requirements do the algorithms have with respect to the rest of the project? If they are fairly loosely coupled, perhaps it&#39;d be possible to run them as free-standing separate programs, invoked as sub-processes from Java and using e.g. stdio to share data?","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>If the \"algorithms\" are well-packaged, perhaps it's possible to create some automatic glue code, through JNI? That would cut down on the risk of errors (creating hundreds of individual components manually sounds risky), and make the cost independent of the number of algorithms to add, more or less.</p>\n\n<p>Rewriting hundreds of components sounds very risky, I would definitely recommend at least investigating JNI more closely first.</p>\n\n<p>What I/O requirements do the algorithms have with respect to the rest of the project? If they are fairly loosely coupled, perhaps it'd be possible to run them as free-standing separate programs, invoked as sub-processes from Java and using e.g. stdio to share data?</p>\n"},{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1236183772,"creation_date":1236183772,"answer_id":611316,"question_id":611296,"body_markdown":"I think the answer lies in the amount of coupling there would be between the calling java code and the invoked C/C++ code and in the level of effort the rewrite would entail. If your C code takes a few integers, does some hairy calculation, and returns another int. Use JNI. If there&#39;s a lot of complex back and forth, but the algorithms are reasonably simple, rewrite &#39;em. The fault line is the JNI connection. If that&#39;s going to be complex, you may end up writing more JNI interface code than you would algorithm code for a rewrite.","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>I think the answer lies in the amount of coupling there would be between the calling java code and the invoked C/C++ code and in the level of effort the rewrite would entail. If your C code takes a few integers, does some hairy calculation, and returns another int. Use JNI. If there's a lot of complex back and forth, but the algorithms are reasonably simple, rewrite 'em. The fault line is the JNI connection. If that's going to be complex, you may end up writing more JNI interface code than you would algorithm code for a rewrite.</p>\n"},{"tags":[],"owner":{"account_id":4495,"reputation":335853,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1236183809,"creation_date":1236183809,"answer_id":611318,"question_id":611296,"body_markdown":"I&#39;d still seriously consider going for JNI, particularly if you&#39;re able to minimize the number of cross-language interfaces.\r\n\r\nIf, for example, there&#39;s a whole stack of C functions that all have the same inputs and outputs, but just do different work on the inputs, wrap that up in a single JNI wrapper with an additional parameter to specify which specific algorithm to use.","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>I'd still seriously consider going for JNI, particularly if you're able to minimize the number of cross-language interfaces.</p>\n\n<p>If, for example, there's a whole stack of C functions that all have the same inputs and outputs, but just do different work on the inputs, wrap that up in a single JNI wrapper with an additional parameter to specify which specific algorithm to use.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1236183813,"creation_date":1236183813,"answer_id":611320,"question_id":611296,"body_markdown":"Give JNI a try. Then if faced with any problems you may rewrite the problematic ones or wrap JNI calls with webservices and deploy them on different boxes or virtual boxes.","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>Give JNI a try. Then if faced with any problems you may rewrite the problematic ones or wrap JNI calls with webservices and deploy them on different boxes or virtual boxes.</p>\n"},{"tags":[],"owner":{"account_id":15970,"reputation":13280,"user_id":34329,"accept_rate":100,"display_name":"grieve"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1236183828,"creation_date":1236183828,"answer_id":611324,"question_id":611296,"body_markdown":"If you plan to write future projects in Java, as opposed to C/C++. I would bite the bullet now, and port the code over to java. The longer you wait the worse it will become. The JNI sounds attractive in this case, but then you will have the problem of somebody having to maintain the C++ code when everyone else is on the fun new Java projects.\r\n\r\nIf this is a one time Java project, then why are you writing it in Java?","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>If you plan to write future projects in Java, as opposed to C/C++. I would bite the bullet now, and port the code over to java. The longer you wait the worse it will become. The JNI sounds attractive in this case, but then you will have the problem of somebody having to maintain the C++ code when everyone else is on the fun new Java projects.</p>\n\n<p>If this is a one time Java project, then why are you writing it in Java?</p>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1236186827,"creation_date":1236186827,"answer_id":611568,"question_id":611296,"body_markdown":"If this is Windows-only, and they&#39;re already in a DLL, perhaps [JNA][1] would be of use. (if the performance hit for function calls through JNA isn&#39;t too bad)\r\n\r\n\r\n  [1]: https://github.com/twall/jna/#getting_started","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>If this is Windows-only, and they're already in a DLL, perhaps <a href=\"https://github.com/twall/jna/#getting_started\" rel=\"nofollow noreferrer\">JNA</a> would be of use. (if the performance hit for function calls through JNA isn't too bad)</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1236189107,"creation_date":1236189107,"answer_id":611701,"question_id":611296,"body_markdown":"Read Joel&#39;s receint post on &quot;[Paying down your technical debt][1]&quot; then go ahead and convert it now rather than pay interest over the next couple years and then paying it off.\r\n\r\nPerhaps the repackaged libraries could be useful in more places as well.  If they are useful and complex enough to make you consider keeping them in C, they must have even more use once packaged nicely in reusable, easily distributable and understandable classes.\r\n\r\n\r\n  [1]: http://www.codinghorror.com/blog/archives/001230.html","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>Read Joel's receint post on \"<a href=\"http://www.codinghorror.com/blog/archives/001230.html\" rel=\"nofollow noreferrer\">Paying down your technical debt</a>\" then go ahead and convert it now rather than pay interest over the next couple years and then paying it off.</p>\n\n<p>Perhaps the repackaged libraries could be useful in more places as well.  If they are useful and complex enough to make you consider keeping them in C, they must have even more use once packaged nicely in reusable, easily distributable and understandable classes.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1236194223,"creation_date":1236192675,"answer_id":611937,"question_id":611296,"body_markdown":"The simple answer is, if the code is going to be called a lot AND performance matters then convert it over to Java.\r\n\r\nThe more complex answers are:\r\n\r\n- if the library easily wrapped in JNI then go with JNI\r\n- if the tests you have for the C/C++ code easily converted over to Java then go for the port\r\n\r\nI would do the following:\r\n\r\n- take one of the algorithms and wrap it in JNI\r\n- take the same algorithm and convert it to Java\r\n- see which is more of a pain to do\r\n- if speed matters then profile both versions and see which of them is acceptable.\r\n\r\n\r\n","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>The simple answer is, if the code is going to be called a lot AND performance matters then convert it over to Java.</p>\n\n<p>The more complex answers are:</p>\n\n<ul>\n<li>if the library easily wrapped in JNI then go with JNI</li>\n<li>if the tests you have for the C/C++ code easily converted over to Java then go for the port</li>\n</ul>\n\n<p>I would do the following:</p>\n\n<ul>\n<li>take one of the algorithms and wrap it in JNI</li>\n<li>take the same algorithm and convert it to Java</li>\n<li>see which is more of a pain to do</li>\n<li>if speed matters then profile both versions and see which of them is acceptable.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1236193760,"creation_date":1236193760,"answer_id":611993,"question_id":611296,"body_markdown":"The bridge between C and Java is expensive, so if you have to pass a lot of data back and forth there is no win in calling C over JNI.\r\n\r\nI have seen JNA listed as a reasonable alternative to JNI with a lot less pain to call methods in a DLL/shared library from Java in a reflection like way.  I have not tried it yet.\r\n\r\nYou may want to consider compiling your C code as a Linux MIPS binary which can be interpreted in Java.  Reasonably fast, a bit hard to set up correctly.  See http://nestedvm.ibex.org/\r\n\r\nAlso you may use a llvm backend to gcc to compile to lowlevel bytecodes which can then be interpreted in Java.    THis is also the approach taken with the iPhone SDK afaik on Mac OS X.    http://llvm.org/","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>The bridge between C and Java is expensive, so if you have to pass a lot of data back and forth there is no win in calling C over JNI.</p>\n\n<p>I have seen JNA listed as a reasonable alternative to JNI with a lot less pain to call methods in a DLL/shared library from Java in a reflection like way.  I have not tried it yet.</p>\n\n<p>You may want to consider compiling your C code as a Linux MIPS binary which can be interpreted in Java.  Reasonably fast, a bit hard to set up correctly.  See <a href=\"http://nestedvm.ibex.org/\" rel=\"nofollow noreferrer\">http://nestedvm.ibex.org/</a></p>\n\n<p>Also you may use a llvm backend to gcc to compile to lowlevel bytecodes which can then be interpreted in Java.    THis is also the approach taken with the iPhone SDK afaik on Mac OS X.    <a href=\"http://llvm.org/\" rel=\"nofollow noreferrer\">http://llvm.org/</a></p>\n"},{"tags":[],"owner":{"account_id":24842,"reputation":239,"user_id":63433,"display_name":"Jeremy Rishel"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1236206185,"creation_date":1236206185,"answer_id":612780,"question_id":611296,"body_markdown":"I think you&#39;ll find that using JNI is not as daunting as it seems prior to diving in. There are some important trade-offs and limitations but in general JNI works well and is reasonably easy to leverage as you intend.\r\n\r\nAs other have said the best case for JNI is:\r\n\r\n- Complex native code (bonus points if that code has already proven very reliable)\r\n- Minimal back-and-forth between Java and native code (you want to minimize the trips across the JNI layer)\r\n- Reasonably simple calling interface to the native code (or also back to Java if you&#39;re native code needs to leverage Java objects/methods)\r\n\r\nIt is definitely possible to automate or pseudo-automate the creation of a JNI layer for a reasonably structured set of native components. That would be well worth it if the number of components to wrap is large.\r\n\r\nThe good news with JNI is that it should be straightforward for you to build and test this interface, for example you should be able to write test cases from Java that exploit existing algorithm behavior and if there are problems they would most likely be in the JNI layer itself and not the algorithms (given your confidence in the native implementation). \r\n\r\nRewriting a large number of C/C++ algorithms in Java seems much more risky to me than using JNI. Without knowing the details it is hard to gauge, of course, but there are subtle differences between the technologies that I could imagine impacting the actual implementation of an algorithm, not to mention just the sheer engineering effort and risk of error.\r\n\r\nA final consideration is future life of these algorithms or related components. Is the set of algorithms more or less complete, or are you continuing to add? Either way, is there a strong maintenance and/or future development reason to favor one technology over the other? For example, if everything else is in Java and all new algorithms will be in Java and almost everyone on the team is almost always coding in Java, reimplementing in Java starts to look more attractive long-term. \r\n\r\nHowever even with that said, working trumps consistent. For a large number of well-functioning native components I would still be inclined to start with JNI even if you were going to transition to Java long-term.","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>I think you'll find that using JNI is not as daunting as it seems prior to diving in. There are some important trade-offs and limitations but in general JNI works well and is reasonably easy to leverage as you intend.</p>\n\n<p>As other have said the best case for JNI is:</p>\n\n<ul>\n<li>Complex native code (bonus points if that code has already proven very reliable)</li>\n<li>Minimal back-and-forth between Java and native code (you want to minimize the trips across the JNI layer)</li>\n<li>Reasonably simple calling interface to the native code (or also back to Java if you're native code needs to leverage Java objects/methods)</li>\n</ul>\n\n<p>It is definitely possible to automate or pseudo-automate the creation of a JNI layer for a reasonably structured set of native components. That would be well worth it if the number of components to wrap is large.</p>\n\n<p>The good news with JNI is that it should be straightforward for you to build and test this interface, for example you should be able to write test cases from Java that exploit existing algorithm behavior and if there are problems they would most likely be in the JNI layer itself and not the algorithms (given your confidence in the native implementation). </p>\n\n<p>Rewriting a large number of C/C++ algorithms in Java seems much more risky to me than using JNI. Without knowing the details it is hard to gauge, of course, but there are subtle differences between the technologies that I could imagine impacting the actual implementation of an algorithm, not to mention just the sheer engineering effort and risk of error.</p>\n\n<p>A final consideration is future life of these algorithms or related components. Is the set of algorithms more or less complete, or are you continuing to add? Either way, is there a strong maintenance and/or future development reason to favor one technology over the other? For example, if everything else is in Java and all new algorithms will be in Java and almost everyone on the team is almost always coding in Java, reimplementing in Java starts to look more attractive long-term. </p>\n\n<p>However even with that said, working trumps consistent. For a large number of well-functioning native components I would still be inclined to start with JNI even if you were going to transition to Java long-term.</p>\n"},{"tags":[],"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694529574,"creation_date":1240278658,"answer_id":770753,"question_id":611296,"body_markdown":"I&#39;ve been in this situation.  I suggest that you get used to using the multi-threaded data structures that are available in Java.  At this point you won&#39;t want to go back to your C++ data structures any more.  \r\n\r\nYou&#39;ll also realize that you can re-write those algorithms much better using more thoughtful techniques, better polymorphism, adapter patterns and so forth.\r\n\r\nWhen you&#39;re sitting in the C/C++ code, you&#39;re thinking that you want to hang on to it.  You&#39;re thinking about all the love you put into it.   In a few years, you&#39;ll realize that by holding onto it and using JNI that you&#39;ve created a monster.  Every time you get a process crash you&#39;ll regret using JNI.  After fixing the process crash, someone will want to modify an algorithm in C++ and you&#39;ll want to throttle them.  They&#39;ll have a convenient excuse like &quot;I&#39;m not used to Java yet.&quot;\r\n\r\nTake a look at immutable data structures in Java.  Don&#39;t even think about the speed that these old C/C++ algorithms execute.  I&#39;ve found that my new code far out-paces any of my old C/C++ code.\r\n\r\nWrite unit tests.  Use NetBeans.\r\n\r\n","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>I've been in this situation.  I suggest that you get used to using the multi-threaded data structures that are available in Java.  At this point you won't want to go back to your C++ data structures any more.</p>\n<p>You'll also realize that you can re-write those algorithms much better using more thoughtful techniques, better polymorphism, adapter patterns and so forth.</p>\n<p>When you're sitting in the C/C++ code, you're thinking that you want to hang on to it.  You're thinking about all the love you put into it.   In a few years, you'll realize that by holding onto it and using JNI that you've created a monster.  Every time you get a process crash you'll regret using JNI.  After fixing the process crash, someone will want to modify an algorithm in C++ and you'll want to throttle them.  They'll have a convenient excuse like &quot;I'm not used to Java yet.&quot;</p>\n<p>Take a look at immutable data structures in Java.  Don't even think about the speed that these old C/C++ algorithms execute.  I've found that my new code far out-paces any of my old C/C++ code.</p>\n<p>Write unit tests.  Use NetBeans.</p>\n"}],"owner":{"account_id":7704,"reputation":3214,"user_id":1459442,"accept_rate":100,"display_name":"Ryan Thames"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4343,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":611937,"answer_count":11,"score":19,"last_activity_date":1694635579,"creation_date":1236183470,"question_id":611296,"body_markdown":"I&#39;m currently developing on a project written in Java.  We have a bunch of algorithms written in C/C++ (at least a couple hundred) that need to be incorporated in our project.  Our two options are to use JNI to call this code, or to rewrite all the algorithms in Java.\r\n\r\nI am aware of the consequences of using JNI, it can open up a whole new set of problems, which is why rewriting all the code in Java is even being considered.  But the thought of rewriting it seems...wrong.  The algorithms have been tested and work as far as I know, they&#39;re just in the wrong language.\r\n\r\nIn this situation, would JNI make this task easy?  Or would it cause more headache than rewriting the code in Java would?\r\n\r\nFYI - Our Java project is not meant to be portable in any way.  That might eliminate one of the downsides of JNI in that it supposedly reduces portability.\r\n\r\n  [1]: https://stackoverflow.com/questions/402408/usefulness-of-jni","title":"Should we rewrite our C code in Java or use JNI instead?","body":"<p>I'm currently developing on a project written in Java.  We have a bunch of algorithms written in C/C++ (at least a couple hundred) that need to be incorporated in our project.  Our two options are to use JNI to call this code, or to rewrite all the algorithms in Java.</p>\n<p>I am aware of the consequences of using JNI, it can open up a whole new set of problems, which is why rewriting all the code in Java is even being considered.  But the thought of rewriting it seems...wrong.  The algorithms have been tested and work as far as I know, they're just in the wrong language.</p>\n<p>In this situation, would JNI make this task easy?  Or would it cause more headache than rewriting the code in Java would?</p>\n<p>FYI - Our Java project is not meant to be portable in any way.  That might eliminate one of the downsides of JNI in that it supposedly reduces portability.</p>\n"},{"tags":["java","netbeans"],"answers":[{"tags":[],"owner":{"account_id":5442017,"reputation":837,"user_id":4329824,"accept_rate":80,"display_name":"DHerls"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423758135,"creation_date":1423758135,"answer_id":28482520,"question_id":28482421,"body_markdown":"You can use `inputField.setText(&quot;&quot;);` to set the text of any field to nothing.","title":"Adding a button that reset all the text fields Netbeans Java","body":"<p>You can use <code>inputField.setText(\"\");</code> to set the text of any field to nothing.</p>\n"},{"tags":[],"owner":{"account_id":5671505,"reputation":364,"user_id":4485997,"accept_rate":83,"display_name":"meister_reineke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423758576,"creation_date":1423758576,"answer_id":28482699,"question_id":28482421,"body_markdown":"Your Code sniplet is quite short and I can&#39;t figure out, what it is there for, except giving the names of the Textfields?\r\n\r\nAnyway, in genereal your program could look like this:\r\n\r\n\tpublic class calculator implements ActionListener{\r\n\t\tJTextField inputXTextField;\r\n\t\tJTextField inputYTextField;\r\n\t\tJButton bClear=new JButton(&quot;clear all&quot;);\r\n\t\tJPanel panel;\r\n\t\t\r\n\t\tprivate void init(){\r\n\t\t\tbClear.addActionListener(this);\r\n\t\t\tpanel.add(bClear);\r\n\t\t\tpanel.add....\r\n\t\t}\r\n\t\t\r\n\t\tvoid actionPerformed(ActionEvent e){\r\n\t\t\tObject obj=e.getSource();\r\n\t\t\tif (obj=bClear){\r\n\t\t\t\tinputXTextField=new JTextField(...);\r\n\t\t\t\tor\r\n\t\t\t\tinputXTextField.setText(&quot;&quot;); //just to empty the field\r\n\t\t\t\t.\r\n\t\t\t\t.\r\n\t\t\t}\r\n\t\t}","title":"Adding a button that reset all the text fields Netbeans Java","body":"<p>Your Code sniplet is quite short and I can't figure out, what it is there for, except giving the names of the Textfields?</p>\n\n<p>Anyway, in genereal your program could look like this:</p>\n\n<pre><code>public class calculator implements ActionListener{\n    JTextField inputXTextField;\n    JTextField inputYTextField;\n    JButton bClear=new JButton(\"clear all\");\n    JPanel panel;\n\n    private void init(){\n        bClear.addActionListener(this);\n        panel.add(bClear);\n        panel.add....\n    }\n\n    void actionPerformed(ActionEvent e){\n        Object obj=e.getSource();\n        if (obj=bClear){\n            inputXTextField=new JTextField(...);\n            or\n            inputXTextField.setText(\"\"); //just to empty the field\n            .\n            .\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1975417,"reputation":5020,"user_id":1773303,"accept_rate":65,"display_name":"Vallabh Patade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423759282,"creation_date":1423759282,"answer_id":28482947,"question_id":28482421,"body_markdown":"     \r\n    JTextField textField1, textField2; //Or as many as you want;\r\n    JButton clear;\r\n\r\n    private void init(){\r\n        textField1 = new JTextField(); //Do this for all text fields.\r\n        clear=new JButton(&quot;C&quot;);\r\n        clear.addActionListener(this);\r\n        //Add controls to the panel/frame\r\n    }\r\n\r\n    void actionPerformed(ActionEvent e){\r\n        Object obj=e.getSource();\r\n        if (e.getSource==clear){\r\n           textField1.setText(&quot;&quot;);\r\n           textField2.setText(&quot;&quot;);\r\n           //... For all the textFields you have\r\n        }\r\n    }","title":"Adding a button that reset all the text fields Netbeans Java","body":"<pre><code>JTextField textField1, textField2; //Or as many as you want;\nJButton clear;\n\nprivate void init(){\n    textField1 = new JTextField(); //Do this for all text fields.\n    clear=new JButton(\"C\");\n    clear.addActionListener(this);\n    //Add controls to the panel/frame\n}\n\nvoid actionPerformed(ActionEvent e){\n    Object obj=e.getSource();\n    if (e.getSource==clear){\n       textField1.setText(\"\");\n       textField2.setText(\"\");\n       //... For all the textFields you have\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4887124,"reputation":23,"user_id":3939253,"accept_rate":62,"display_name":"Harpreet Sunner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11043,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694635370,"creation_date":1423757867,"question_id":28482421,"body_markdown":"I&#39;m trying to make a simple calculator and i want a reset button when pressed it clears all the text fields. I&#39;ve already added an addActionListener and and ive already added the button panel just need to know the method on how do I do this. here is my code -\r\n\r\n    else if(choice.equals(&quot;c&quot;)) {\r\n                xValue = inputXTextField.getText();\r\n                yValue = inputYTextField.getText();\r\n                if(convertPreOperand(xValue) &amp;&amp; convertPostOperand(yValue)) {\r\n                    total = preOperand c postOperand;\r\n                    outputTextField.setText(Double.toString(total));\r\n                }\r\n           }\r\n\r\n","title":"Adding a button that reset all the text fields Netbeans Java","body":"<p>I'm trying to make a simple calculator and i want a reset button when pressed it clears all the text fields. I've already added an addActionListener and and ive already added the button panel just need to know the method on how do I do this. here is my code -</p>\n\n<pre><code>else if(choice.equals(\"c\")) {\n            xValue = inputXTextField.getText();\n            yValue = inputYTextField.getText();\n            if(convertPreOperand(xValue) &amp;&amp; convertPostOperand(yValue)) {\n                total = preOperand c postOperand;\n                outputTextField.setText(Double.toString(total));\n            }\n       }\n</code></pre>\n"},{"tags":["java","kotlin","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694635323,"creation_date":1694635323,"answer_id":77100165,"question_id":77085928,"body_markdown":"That was a bug in Spring Data Elasticsearch, thanks for reporting; I just fixed it in _main_ and backported it to the 5.1 and 5.0 branches.","title":"Spring Data elasticsearch UpdateQuery withRefreshPolicy not working","body":"<p>That was a bug in Spring Data Elasticsearch, thanks for reporting; I just fixed it in <em>main</em> and backported it to the 5.1 and 5.0 branches.</p>\n"}],"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77100165,"answer_count":1,"score":1,"last_activity_date":1694635323,"creation_date":1694489495,"question_id":77085928,"body_markdown":"I use `ElasticsearchOperations` to implement update operations.\r\n```kotlin\r\nesOperations.update(\r\n    UpdateQuery.builder(old.id.toString())\r\n        .withDocument(Document.from(mapOf(&quot;browsed&quot; to item.browsed)))\r\n        .withRefreshPolicy(\r\n            RefreshPolicy.IMMEDIATE\r\n        )\r\n        .build(),\r\n    IndexCoordinates.of(&quot;t_telegram_message&quot;)\r\n)\r\n```\r\nBut it&#39;s not working properly, the post request is\r\n```\r\nPOST /t_telegram_message/_update/6150?refresh=false\r\n```\r\nWhat I expect is that the request parameter is `refresh=true`.\r\n\r\nwhat should I do?\r\n\r\nDependencies:\r\n```\r\n&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n&lt;version&gt;5.0.3&lt;/version&gt;\r\n```","title":"Spring Data elasticsearch UpdateQuery withRefreshPolicy not working","body":"<p>I use <code>ElasticsearchOperations</code> to implement update operations.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>esOperations.update(\n    UpdateQuery.builder(old.id.toString())\n        .withDocument(Document.from(mapOf(&quot;browsed&quot; to item.browsed)))\n        .withRefreshPolicy(\n            RefreshPolicy.IMMEDIATE\n        )\n        .build(),\n    IndexCoordinates.of(&quot;t_telegram_message&quot;)\n)\n</code></pre>\n<p>But it's not working properly, the post request is</p>\n<pre><code>POST /t_telegram_message/_update/6150?refresh=false\n</code></pre>\n<p>What I expect is that the request parameter is <code>refresh=true</code>.</p>\n<p>what should I do?</p>\n<p>Dependencies:</p>\n<pre><code>&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n&lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n&lt;version&gt;5.0.3&lt;/version&gt;\n</code></pre>\n"},{"tags":["javascript","java","netty","protocol-buffers","protobufjs"],"answers":[{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1468456122,"creation_date":1468456122,"answer_id":38363742,"question_id":38363160,"body_markdown":"I only needed to remove the following -\r\n\r\n    pipeline.addLast(new ProtobufVarint32FrameDecoder());\r\n\r\nand it is working fine now.","title":"Netty, ProtoBuf, WebSocket; how to convert BinaryWebSocketFrame to protobuf type?","body":"<p>I only needed to remove the following -</p>\n\n<pre><code>pipeline.addLast(new ProtobufVarint32FrameDecoder());\n</code></pre>\n\n<p>and it is working fine now.</p>\n"},{"tags":[],"owner":{"account_id":4290713,"reputation":31,"user_id":3507175,"display_name":"emaayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643025477,"creation_date":1643025477,"answer_id":70833506,"question_id":38363160,"body_markdown":"i believe the ProtobufVarint32FrameDecoder is an optimization from netty itself, which means the client also needs to use ProtobufVarint32LengthFieldPrepender according to this https://issues.redhat.com/browse/NETTY-203?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel","title":"Netty, ProtoBuf, WebSocket; how to convert BinaryWebSocketFrame to protobuf type?","body":"<p>i believe the ProtobufVarint32FrameDecoder is an optimization from netty itself, which means the client also needs to use ProtobufVarint32LengthFieldPrepender according to this <a href=\"https://issues.redhat.com/browse/NETTY-203?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/NETTY-203?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel</a></p>\n"},{"tags":[],"owner":{"account_id":3900416,"reputation":23,"user_id":3228402,"display_name":"Gregg Saffell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694635269,"creation_date":1694635269,"answer_id":77100158,"question_id":38363160,"body_markdown":"You can send the varint that ProtobufVarint32FrameDecoder is looking for from javascript with this function:\r\n\r\n```\r\nfunction sendSeiralizedMsgWithVarInt(sock, data) {\r\n\t\r\n\tlet dataByteLen = data.byteLength;\r\n\t\r\n\tlet dynamicArray = [];\r\n\r\n\tlet done = false;\r\n    while (!done) {\r\n        if ((dataByteLen &amp; ~0x7F) === 0) {\r\n\t\t\tdynamicArray.push(dataByteLen);\r\n            done = true;\r\n        } else {\r\n            out.writeByte((dataByteLen &amp; 0x7F) | 0x80);\r\n            dataByteLen &gt;&gt;&gt;= 7;\r\n        }\r\n    }\r\n\t\r\n\tconst uint8Array = new Uint8Array(dynamicArray);\r\n\tsock.send(uint8Array);\r\n\tsock.send(data);\r\n}\r\n```\r\n","title":"Netty, ProtoBuf, WebSocket; how to convert BinaryWebSocketFrame to protobuf type?","body":"<p>You can send the varint that ProtobufVarint32FrameDecoder is looking for from javascript with this function:</p>\n<pre><code>function sendSeiralizedMsgWithVarInt(sock, data) {\n    \n    let dataByteLen = data.byteLength;\n    \n    let dynamicArray = [];\n\n    let done = false;\n    while (!done) {\n        if ((dataByteLen &amp; ~0x7F) === 0) {\n            dynamicArray.push(dataByteLen);\n            done = true;\n        } else {\n            out.writeByte((dataByteLen &amp; 0x7F) | 0x80);\n            dataByteLen &gt;&gt;&gt;= 7;\n        }\n    }\n    \n    const uint8Array = new Uint8Array(dynamicArray);\n    sock.send(uint8Array);\n    sock.send(data);\n}\n</code></pre>\n"}],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2874,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38363742,"answer_count":3,"score":2,"last_activity_date":1694635269,"creation_date":1468451462,"question_id":38363160,"body_markdown":"I have a server using protobuf. The handler is defined as -\r\n\r\n    public class ServerHandler extends SimpleChannelInboundHandler&lt;MyProtoBufType&gt; {\r\n\r\nThe pipeline is as follows -\r\n\r\n    pipeline.addLast(new ProtobufVarint32FrameDecoder());\r\n    pipeline.addLast(new ProtobufDecoder(MyProtoBufType.getDefaultInstance()));\r\n    pipeline.addLast(new ProtobufVarint32LengthFieldPrepender());\r\n    pipeline.addLast(new ProtobufEncoder());\r\n    pipeline.addLast(&quot;ServerHandler&quot;, new ServerHandler());\r\n\r\nWith that and a Java client everything works fine. \r\n\r\nNow, to be able to connect using Javascript websocket, I modified the server pipeline as follows -\r\n\r\n    pipeline.addLast(new HttpServerCodec());\r\n    pipeline.addLast(new HttpObjectAggregator(65536));\r\n    pipeline.addLast(new WebSocketServerCompressionHandler());\r\n    pipeline.addLast(new WebSocketServerProtocolHandler(WEBSOCKET_PATH, null, true));\r\n    pipeline.addLast(new MessageToMessageDecoder&lt;WebSocketFrame&gt;() {\r\n    \t@Override\r\n    \tprotected void decode(ChannelHandlerContext ctx, WebSocketFrame frame, List&lt;Object&gt; objs) throws Exception {\r\n    \t\tByteBuf buf = ((BinaryWebSocketFrame) frame).content();\r\n    \t\tobjs.add(buf);\r\n    \t\tbuf.retain();\r\n    \t}\r\n    });\r\n    pipeline.addLast(new ProtobufVarint32FrameDecoder());\r\n    pipeline.addLast(new ProtobufDecoder(MyProtoBufType.getDefaultInstance()));\r\n    pipeline.addLast(new ProtobufVarint32LengthFieldPrepender());\r\n    pipeline.addLast(new ProtobufEncoder());\r\n    pipeline.addLast(&quot;ServerHandler&quot;, new ServerHandler());\r\n\r\nFollowing is the Javascript client code based on [protobufjs](https://github.com/dcodeIO/protobuf.js) library -\r\n\r\n    var ProtoBuf = dcodeIO.ProtoBuf,\r\n    \tbuilder = ProtoBuf.loadProtoFile(&quot;./example.proto&quot;),\r\n        pkg = builder.build(&quot;com.example&quot;);\r\n    \tsocket = new WebSocket(&quot;ws://localhost:8484&quot;);\r\n    \t\r\n    socket.binaryType = &quot;arraybuffer&quot;; \r\n    \r\n    socket.onopen = function() {\r\n        var login = new pkg.Login({&quot;userName&quot;: &quot;hello&quot;, &quot;password&quot;: &quot;pass&quot;});\r\n        var wrapper = new pkg.MyProtoBufType();\r\n        wrapper.set(&quot;login&quot;, login);\r\n        socket.send(wrapper.toArrayBuffer());\r\n    };\r\n\r\nWhen the above code is run, the server fails at protobuf decoder. Following is the stacktrace -\r\n\r\n    WARN [nioEventLoopGroup-3-6] (DefaultChannelPipeline.java:1144) - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.\r\n    io.netty.handler.codec.DecoderException: com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either than the input has been truncated or that an embedded message misreported its own length.\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:98)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:288)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:275)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:391)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:243)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)\r\n    \tat io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\r\n    \tat io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:159)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:288)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:262)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\r\n    \tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:233)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1336)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:911)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:123)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:544)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:485)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:399)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:371)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:742)\r\n    \tat io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:145)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either than the input has been truncated or that an embedded message misreported its own length.\r\n    \tat com.google.protobuf.InvalidProtocolBufferException.truncatedMessage(InvalidProtocolBufferException.java:70)\r\n    \tat com.google.protobuf.CodedInputStream.readRawBytesSlowPath(CodedInputStream.java:1187)\r\n    \tat com.google.protobuf.CodedInputStream.readBytes(CodedInputStream.java:517)\r\n    \tat com.google.protobuf.UnknownFieldSet$Builder.mergeFieldFrom(UnknownFieldSet.java:501)\r\n    \tat com.google.protobuf.UnknownFieldSet$Builder.mergeFrom(UnknownFieldSet.java:478)\r\n    \tat com.google.protobuf.UnknownFieldSet$Builder.mergeFrom(UnknownFieldSet.java:596)\r\n    \tat com.google.protobuf.UnknownFieldSet$Builder.mergeFrom(UnknownFieldSet.java:281)\r\n    \tat com.google.protobuf.CodedInputStream.readGroup(CodedInputStream.java:424)\r\n    \tat com.google.protobuf.UnknownFieldSet$Builder.mergeFieldFrom(UnknownFieldSet.java:505)\r\n    \tat com.google.protobuf.GeneratedMessage.parseUnknownField(GeneratedMessage.java:205)\r\n    \tat com.exmaple.MyProtoBufType.&lt;init&gt;(CallBreakProtocol.java:15290)\r\n    \tat com.exmaple.MyProtoBufType.&lt;init&gt;(CallBreakProtocol.java:15273)\r\n    \tat com.exmaple.MyProtoBufType$1.parsePartialFrom(CallBreakProtocol.java:15638)\r\n    \tat com.exmaple.MyProtoBufType$1.parsePartialFrom(CallBreakProtocol.java:1)\r\n    \tat com.google.protobuf.AbstractParser.parsePartialFrom(AbstractParser.java:137)\r\n    \tat com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:168)\r\n    \tat com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:174)\r\n    \tat com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:49)\r\n    \tat io.netty.handler.codec.protobuf.ProtobufDecoder.decode(ProtobufDecoder.java:121)\r\n    \tat io.netty.handler.codec.protobuf.ProtobufDecoder.decode(ProtobufDecoder.java:64)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:88)\r\n    \t... 52 more\r\n\r\nHas anyone used Netty, ProtoBuf and WebSocket together? How can this be achieved?","title":"Netty, ProtoBuf, WebSocket; how to convert BinaryWebSocketFrame to protobuf type?","body":"<p>I have a server using protobuf. The handler is defined as -</p>\n\n<pre><code>public class ServerHandler extends SimpleChannelInboundHandler&lt;MyProtoBufType&gt; {\n</code></pre>\n\n<p>The pipeline is as follows -</p>\n\n<pre><code>pipeline.addLast(new ProtobufVarint32FrameDecoder());\npipeline.addLast(new ProtobufDecoder(MyProtoBufType.getDefaultInstance()));\npipeline.addLast(new ProtobufVarint32LengthFieldPrepender());\npipeline.addLast(new ProtobufEncoder());\npipeline.addLast(\"ServerHandler\", new ServerHandler());\n</code></pre>\n\n<p>With that and a Java client everything works fine. </p>\n\n<p>Now, to be able to connect using Javascript websocket, I modified the server pipeline as follows -</p>\n\n<pre><code>pipeline.addLast(new HttpServerCodec());\npipeline.addLast(new HttpObjectAggregator(65536));\npipeline.addLast(new WebSocketServerCompressionHandler());\npipeline.addLast(new WebSocketServerProtocolHandler(WEBSOCKET_PATH, null, true));\npipeline.addLast(new MessageToMessageDecoder&lt;WebSocketFrame&gt;() {\n    @Override\n    protected void decode(ChannelHandlerContext ctx, WebSocketFrame frame, List&lt;Object&gt; objs) throws Exception {\n        ByteBuf buf = ((BinaryWebSocketFrame) frame).content();\n        objs.add(buf);\n        buf.retain();\n    }\n});\npipeline.addLast(new ProtobufVarint32FrameDecoder());\npipeline.addLast(new ProtobufDecoder(MyProtoBufType.getDefaultInstance()));\npipeline.addLast(new ProtobufVarint32LengthFieldPrepender());\npipeline.addLast(new ProtobufEncoder());\npipeline.addLast(\"ServerHandler\", new ServerHandler());\n</code></pre>\n\n<p>Following is the Javascript client code based on <a href=\"https://github.com/dcodeIO/protobuf.js\" rel=\"nofollow\">protobufjs</a> library -</p>\n\n<pre><code>var ProtoBuf = dcodeIO.ProtoBuf,\n    builder = ProtoBuf.loadProtoFile(\"./example.proto\"),\n    pkg = builder.build(\"com.example\");\n    socket = new WebSocket(\"ws://localhost:8484\");\n\nsocket.binaryType = \"arraybuffer\"; \n\nsocket.onopen = function() {\n    var login = new pkg.Login({\"userName\": \"hello\", \"password\": \"pass\"});\n    var wrapper = new pkg.MyProtoBufType();\n    wrapper.set(\"login\", login);\n    socket.send(wrapper.toArrayBuffer());\n};\n</code></pre>\n\n<p>When the above code is run, the server fails at protobuf decoder. Following is the stacktrace -</p>\n\n<pre><code>WARN [nioEventLoopGroup-3-6] (DefaultChannelPipeline.java:1144) - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.\nio.netty.handler.codec.DecoderException: com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either than the input has been truncated or that an embedded message misreported its own length.\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:98)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:288)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:275)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:391)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:243)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)\n    at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\n    at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:159)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:288)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:262)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\n    at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:233)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:327)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1336)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:335)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:911)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:123)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:544)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:485)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:399)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:371)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:742)\n    at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:145)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: com.google.protobuf.InvalidProtocolBufferException: While parsing a protocol message, the input ended unexpectedly in the middle of a field.  This could mean either than the input has been truncated or that an embedded message misreported its own length.\n    at com.google.protobuf.InvalidProtocolBufferException.truncatedMessage(InvalidProtocolBufferException.java:70)\n    at com.google.protobuf.CodedInputStream.readRawBytesSlowPath(CodedInputStream.java:1187)\n    at com.google.protobuf.CodedInputStream.readBytes(CodedInputStream.java:517)\n    at com.google.protobuf.UnknownFieldSet$Builder.mergeFieldFrom(UnknownFieldSet.java:501)\n    at com.google.protobuf.UnknownFieldSet$Builder.mergeFrom(UnknownFieldSet.java:478)\n    at com.google.protobuf.UnknownFieldSet$Builder.mergeFrom(UnknownFieldSet.java:596)\n    at com.google.protobuf.UnknownFieldSet$Builder.mergeFrom(UnknownFieldSet.java:281)\n    at com.google.protobuf.CodedInputStream.readGroup(CodedInputStream.java:424)\n    at com.google.protobuf.UnknownFieldSet$Builder.mergeFieldFrom(UnknownFieldSet.java:505)\n    at com.google.protobuf.GeneratedMessage.parseUnknownField(GeneratedMessage.java:205)\n    at com.exmaple.MyProtoBufType.&lt;init&gt;(CallBreakProtocol.java:15290)\n    at com.exmaple.MyProtoBufType.&lt;init&gt;(CallBreakProtocol.java:15273)\n    at com.exmaple.MyProtoBufType$1.parsePartialFrom(CallBreakProtocol.java:15638)\n    at com.exmaple.MyProtoBufType$1.parsePartialFrom(CallBreakProtocol.java:1)\n    at com.google.protobuf.AbstractParser.parsePartialFrom(AbstractParser.java:137)\n    at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:168)\n    at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:174)\n    at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:49)\n    at io.netty.handler.codec.protobuf.ProtobufDecoder.decode(ProtobufDecoder.java:121)\n    at io.netty.handler.codec.protobuf.ProtobufDecoder.decode(ProtobufDecoder.java:64)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:88)\n    ... 52 more\n</code></pre>\n\n<p>Has anyone used Netty, ProtoBuf and WebSocket together? How can this be achieved?</p>\n"},{"tags":["java","selenium-webdriver","testng","log4j2"],"answers":[{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694624642,"creation_date":1694624642,"answer_id":77099132,"question_id":77098810,"body_markdown":"I haven&#39;t really used log4j2, but I guess you&#39;re better of with programmatic configuration. Described here: https://logging.apache.org/log4j/2.x/manual/customconfig.html","title":"Log4j2 Dynamically setting the log directory during tests","body":"<p>I haven't really used log4j2, but I guess you're better of with programmatic configuration. Described here: <a href=\"https://logging.apache.org/log4j/2.x/manual/customconfig.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/customconfig.html</a></p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694632954,"creation_date":1694632954,"answer_id":77099965,"question_id":77098810,"body_markdown":"If `${sys:logFileName}` is resolved to `${sys:logFileName}` it means that Log4j Core is initialized **before** you set the system property. You can set both `-Dlog4j2.debug=true` and `-Dlog4j2.loggerContextStacktraceOnStart=true` to pinpoint the moment the backend is initialized. This could be:\r\n * an explicit call to one of the `LogManager` methods,\r\n * one of your libraries initializes a logging API that is bridged to Log4j API.\r\n\r\n### Sequential tests\r\n\r\nIf you are **not** running your tests in parallel, you can easily ignore this problem by:\r\n * setting a nice default value for the log file if the system property is not present:\r\n   ```lang-xml\r\n   &lt;Properties&gt;\r\n       &lt;Property name=&quot;logFilename&quot;&gt;./target/logs/global.log&lt;/Property&gt;\r\n   &lt;/Properties&gt;\r\n\r\n   &lt;Appenders&gt;\r\n       &lt;File name=&quot;File&quot; fileName=&quot;${sys:logFilename}&quot;&gt;\r\n           &lt;PatternLayout pattern=&quot;%d %p %c{1.} [%t] %m%n&quot; /&gt;\r\n       &lt;/File&gt;\r\n   &lt;/Appenders&gt;\r\n   ```\r\n * after you set your system variable just reconfigure Log4j Core:\r\n   ```lang-java\r\n   Configurator.reconfigure();\r\n   ```\r\n   No log events will be lost during this time, although some of them might end up in the old and new log file.\r\n\r\n### Parallel tests\r\n\r\n**Parallel** tests are hard for most applications, since they usually use **static** loggers, so you can not just spawn a different `LoggerContext` per test (as it is done in Log4j Core own tests). The best results in this case could be obtained using a `RoutingAppender` (as in [this answer](https://stackoverflow.com/a/71455641/11748454)), which decides where to send a log event based on a thread-bound value. You can use `ThreadContext` and the `${ctx:...}` lookup for this.\r\n\r\n### Remark\r\n\r\nYou can of course combine the two approaches by using a `RoutingAppender` that checks `${sys:logFilename}` at each message. You will not need a reconfiguration in this case, but performance might suffer.","title":"Log4j2 Dynamically setting the log directory during tests","body":"<p>If <code>${sys:logFileName}</code> is resolved to <code>${sys:logFileName}</code> it means that Log4j Core is initialized <strong>before</strong> you set the system property. You can set both <code>-Dlog4j2.debug=true</code> and <code>-Dlog4j2.loggerContextStacktraceOnStart=true</code> to pinpoint the moment the backend is initialized. This could be:</p>\n<ul>\n<li>an explicit call to one of the <code>LogManager</code> methods,</li>\n<li>one of your libraries initializes a logging API that is bridged to Log4j API.</li>\n</ul>\n<h3>Sequential tests</h3>\n<p>If you are <strong>not</strong> running your tests in parallel, you can easily ignore this problem by:</p>\n<ul>\n<li>setting a nice default value for the log file if the system property is not present:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Properties&gt;\n    &lt;Property name=&quot;logFilename&quot;&gt;./target/logs/global.log&lt;/Property&gt;\n&lt;/Properties&gt;\n\n&lt;Appenders&gt;\n    &lt;File name=&quot;File&quot; fileName=&quot;${sys:logFilename}&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%d %p %c{1.} [%t] %m%n&quot; /&gt;\n    &lt;/File&gt;\n&lt;/Appenders&gt;\n</code></pre>\n</li>\n<li>after you set your system variable just reconfigure Log4j Core:\n<pre class=\"lang-java prettyprint-override\"><code>Configurator.reconfigure();\n</code></pre>\nNo log events will be lost during this time, although some of them might end up in the old and new log file.</li>\n</ul>\n<h3>Parallel tests</h3>\n<p><strong>Parallel</strong> tests are hard for most applications, since they usually use <strong>static</strong> loggers, so you can not just spawn a different <code>LoggerContext</code> per test (as it is done in Log4j Core own tests). The best results in this case could be obtained using a <code>RoutingAppender</code> (as in <a href=\"https://stackoverflow.com/a/71455641/11748454\">this answer</a>), which decides where to send a log event based on a thread-bound value. You can use <code>ThreadContext</code> and the <code>${ctx:...}</code> lookup for this.</p>\n<h3>Remark</h3>\n<p>You can of course combine the two approaches by using a <code>RoutingAppender</code> that checks <code>${sys:logFilename}</code> at each message. You will not need a reconfiguration in this case, but performance might suffer.</p>\n"}],"owner":{"account_id":6996252,"reputation":432,"user_id":5363840,"accept_rate":50,"display_name":"Dr.Tautology"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694632954,"creation_date":1694621612,"question_id":77098810,"body_markdown":"This problem seems to be so incredibly simple, but I&#39;ve been working for hours trying to solve it and come up with nothing.\r\n\r\nI have build a test framework using Selenium and Testng. I have a base class that gets extended to any test class that is created and this base class is responsible for a few different function one of which is creating a uniquely named directory where I am storing  my screenshots from tests. This functionality works fine. The problem is that I am now trying to integrate log4j2 into the test framework and what I want is for these logs to be written to a file inside of this unique directory that is created with each run. Here is what my log4j2.xml looks like:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot; monitorInterval=&quot;30&quot;&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;logFilename&quot;&gt;${sys:logFileName}&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;File name=&quot;File&quot; fileName=&quot;${logFilename}&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d %p %c{1.} [%t] %m%n&quot; /&gt;\r\n        &lt;/File&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;File&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nAs you can see I&#39;m attempting to use use the property ```${sys:logFileName}``` where ```logFileName``` is defined in my base class like this:\r\n\r\n```\r\n        // Seting the log file path programmatically\r\n        // resultsDirName is the path to the unique directory that is being created\r\n        // at the start of each test.\r\n        String logFilePath = resultsDirName + &quot;/test.log&quot;;\r\n        System.out.println(logFilePath);\r\n        System.setProperty(&quot;logFileName&quot;, logFilePath);\r\n```\r\n\r\nWhen I run my test here is the error that I get:\r\n```\r\nERROR StatusConsoleListener FileManager (../${sys:logFileName}) java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n```\r\n\r\nI know the path is correct, because the directory is being created and I am successfully saving my screenshots there. It&#39;s also important to note that I am not initializing the logger until after these sys variable have been created. I have tried a few other things that had some unexpected results. For example if I change my log4j2.xml to have this line:\r\n```&lt;Property name=&quot;logFilename&quot;&gt;${logFileName}&lt;/Property&gt;```\r\nI end up with a log file created in my project root that is actually called ${logFileName}.\r\n\r\nI have also tried the following in my xml:\r\n```    &lt;Properties&gt;\r\n        &lt;Property name=&quot;logDirectory&quot;&gt;${logDirectory}&lt;/Property&gt;\r\n        &lt;Property name=&quot;logFilename&quot;&gt;${logDirectory}/test.log&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n```\r\nOnce again this is actually creating a directory called ```${logDirectory}``` and storing the log file there. I also get this error:\r\n```WARN StatusConsoleListener Infinite loop in property interpolation of logDirectory```\r\n\r\nI feel like a complete fool. I&#39;m building a similar test framework in python and had zero issues implementing this feature. I don&#39;t understand why this is so hard and convoluted in java, or perhaps it&#39;s just because I&#39;m more of a novice in Java. Please, any help is appreciated.\r\n\r\n","title":"Log4j2 Dynamically setting the log directory during tests","body":"<p>This problem seems to be so incredibly simple, but I've been working for hours trying to solve it and come up with nothing.</p>\n<p>I have build a test framework using Selenium and Testng. I have a base class that gets extended to any test class that is created and this base class is responsible for a few different function one of which is creating a uniquely named directory where I am storing  my screenshots from tests. This functionality works fine. The problem is that I am now trying to integrate log4j2 into the test framework and what I want is for these logs to be written to a file inside of this unique directory that is created with each run. Here is what my log4j2.xml looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot; monitorInterval=&quot;30&quot;&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;logFilename&quot;&gt;${sys:logFileName}&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;Appenders&gt;\n        &lt;File name=&quot;File&quot; fileName=&quot;${logFilename}&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d %p %c{1.} [%t] %m%n&quot; /&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;File&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>As you can see I'm attempting to use use the property <code>${sys:logFileName}</code> where <code>logFileName</code> is defined in my base class like this:</p>\n<pre><code>        // Seting the log file path programmatically\n        // resultsDirName is the path to the unique directory that is being created\n        // at the start of each test.\n        String logFilePath = resultsDirName + &quot;/test.log&quot;;\n        System.out.println(logFilePath);\n        System.setProperty(&quot;logFileName&quot;, logFilePath);\n</code></pre>\n<p>When I run my test here is the error that I get:</p>\n<pre><code>ERROR StatusConsoleListener FileManager (../${sys:logFileName}) java.io.IOException: The filename, directory name, or volume label syntax is incorrect\n java.io.IOException: The filename, directory name, or volume label syntax is incorrect\n</code></pre>\n<p>I know the path is correct, because the directory is being created and I am successfully saving my screenshots there. It's also important to note that I am not initializing the logger until after these sys variable have been created. I have tried a few other things that had some unexpected results. For example if I change my log4j2.xml to have this line:\n<code>&lt;Property name=&quot;logFilename&quot;&gt;${logFileName}&lt;/Property&gt;</code>\nI end up with a log file created in my project root that is actually called ${logFileName}.</p>\n<p>I have also tried the following in my xml:</p>\n<pre><code>        &lt;Property name=&quot;logDirectory&quot;&gt;${logDirectory}&lt;/Property&gt;\n        &lt;Property name=&quot;logFilename&quot;&gt;${logDirectory}/test.log&lt;/Property&gt;\n    &lt;/Properties&gt;\n</code></pre>\n<p>Once again this is actually creating a directory called <code>${logDirectory}</code> and storing the log file there. I also get this error:\n<code>WARN StatusConsoleListener Infinite loop in property interpolation of logDirectory</code></p>\n<p>I feel like a complete fool. I'm building a similar test framework in python and had zero issues implementing this feature. I don't understand why this is so hard and convoluted in java, or perhaps it's just because I'm more of a novice in Java. Please, any help is appreciated.</p>\n"},{"tags":["java","ssl-certificate","httpsurlconnection","unknown-host","sslsocketfactory"],"answers":[{"tags":[],"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694632536,"creation_date":1694632536,"answer_id":77099923,"question_id":77099861,"body_markdown":"This is DNS resolution error \r\n\r\nDoes the API call requires proxy ? you may have to add http proxy in your call .\r\n\r\ndepending on the os \r\nyou can run \r\n**on windows** \r\n\r\n    ping  api-dir.com.es \r\n    or tracert api-dir.com.es   \r\n\r\nor linux \r\n\r\n    traceroute api-dir.com.es  \r\n\r\nto see if you have connectivity to this service/api\r\n\r\nor try to provide direct IP of api-dir.com.es  instead of the name in the URL\r\n\r\nor try to create entry of the IP In your host file\r\n\r\nlinux\r\n\r\n    /etc/host\r\n\r\nwindows \r\n\r\n    c:\\Windows\\System32\\Drivers\\etc\\hosts\r\n\r\nwith entry as \r\n\r\napi-dir.com.es  ip address","title":"UnknownHostException on HttpsURLConnection with SSLSocketFactory","body":"<p>This is DNS resolution error</p>\n<p>Does the API call requires proxy ? you may have to add http proxy in your call .</p>\n<p>depending on the os\nyou can run\n<strong>on windows</strong></p>\n<pre><code>ping  api-dir.com.es \nor tracert api-dir.com.es   \n</code></pre>\n<p>or linux</p>\n<pre><code>traceroute api-dir.com.es  \n</code></pre>\n<p>to see if you have connectivity to this service/api</p>\n<p>or try to provide direct IP of api-dir.com.es  instead of the name in the URL</p>\n<p>or try to create entry of the IP In your host file</p>\n<p>linux</p>\n<pre><code>/etc/host\n</code></pre>\n<p>windows</p>\n<pre><code>c:\\Windows\\System32\\Drivers\\etc\\hosts\n</code></pre>\n<p>with entry as</p>\n<p>api-dir.com.es  ip address</p>\n"}],"owner":{"account_id":8827261,"reputation":913,"user_id":6595116,"accept_rate":95,"display_name":"TimeToCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77099923,"answer_count":1,"score":0,"last_activity_date":1694632536,"creation_date":1694631797,"question_id":77099861,"body_markdown":"I&#39;m trying to consume an API, but I need to upload a certificate to consume it.\r\n\r\nThis is what I&#39;ve been trying to consume the API. In this method I open the connection for the consumption of the API:\r\n\r\n    public static String consumeAPI() {\r\n      String respAPI = &quot;&quot;;\r\n      String param = &quot;some_param&quot;;\r\n      String user = &quot;user&quot;;\r\n      String pswrd = &quot;pass&quot;;\r\n      try {\r\n        SSLSocketFactory ssl = createSSLSocketFactory(&quot;path_of_cert&quot;);\r\n        URL url = new URL(&quot;https://api-dir.com.es:8080/api&quot;);\r\n        HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n        conn.setSSLSocketFactory(ssl);\r\n        conn.setDoOutput(true);\r\n        conn.setRequestMethod(&quot;POST&quot;);\r\n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n        conn.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + Base64.getEncoder().encodeToString((user + &quot;:&quot; + pswrd).getBytes(StandardCharsets.UTF_8)));\r\n        conn.setConnectTimeout(APIUtils.TIMEOUT);\r\n        try (OutputStream os = conn.getOutputStream()) {\r\n          os.write(parametros.getBytes(StandardCharsets.UTF_8));\r\n          os.flush();\r\n          if (conn.getResponseCode() == HttpURLConnection.HTTP_OK) {\r\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream(), StandardCharsets.UTF_8))) {\r\n              StringBuilder result = new StringBuilder();\r\n              String auxStr;\r\n              while ((auxStr = br.readLine()) != null) {\r\n                result.append(auxStr);\r\n              }\r\n              respAPI = result.toString();\r\n            }\r\n          }\r\n        }\r\n        return respAPI;\r\n      }\r\n      catch(IOException | ClassCastException | IllegalStateException | IllegalArgumentException e) {\r\n        e.printStackTrace();\r\n        return null;\r\n      }\r\n    }\r\n\r\nAnd this is the method that generates the `SSLSocketFactory` with the certificate loaded:\r\n\r\n    private static SSLSocketFactory createSSLSocketFactory(String certPath) {\r\n      try {\r\n        try (InputStream in =APIUtils.class.getResourceAsStream(certPath)) {\r\n          Certificate certificate = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate( in );\r\n          KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n          keyStore.load(null);\r\n          keyStore.setCertificateEntry(&quot;certalias&quot;, certificate);\r\n          TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n          trustManagerFactory.init(keyStore);\r\n          SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n          sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n          return sslContext.getSocketFactory();\r\n        }\r\n      }\r\n      catch(CertificateException | KeyStoreException | NoSuchAlgorithmException | IOException | KeyManagementException e) {\r\n        e.printStackTrace();\r\n        return null;\r\n      }\r\n    }\r\n\r\nBut it is throwing `java.net.UnknownHostException`, here is the error trace:\r\n\r\n    java.net.UnknownHostException: api-dir.com.es\r\n            at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\r\n            at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n            at java.base/java.net.Socket.connect(Socket.java:633)\r\n            at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\r\n            at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)\r\n            at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:532)\r\n            at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:637)\r\n            at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\r\n            at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\r\n            at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:193)\r\n            at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\r\n            at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\r\n            at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)\r\n            at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)\r\n            at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)\r\n            at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:220)\r\n            at deployment.regional.war//com.ekt.regional.web.api.SomeAPI.consumeAPI(SomeAPI.java:49)\r\n\r\nI made sure that the API url is correct and that we have the permissions to access it.\r\n\r\nIt is worth mentioning that the certificate is a `.crt` file and is for the development environment.","title":"UnknownHostException on HttpsURLConnection with SSLSocketFactory","body":"<p>I'm trying to consume an API, but I need to upload a certificate to consume it.</p>\n<p>This is what I've been trying to consume the API. In this method I open the connection for the consumption of the API:</p>\n<pre><code>public static String consumeAPI() {\n  String respAPI = &quot;&quot;;\n  String param = &quot;some_param&quot;;\n  String user = &quot;user&quot;;\n  String pswrd = &quot;pass&quot;;\n  try {\n    SSLSocketFactory ssl = createSSLSocketFactory(&quot;path_of_cert&quot;);\n    URL url = new URL(&quot;https://api-dir.com.es:8080/api&quot;);\n    HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\n    conn.setSSLSocketFactory(ssl);\n    conn.setDoOutput(true);\n    conn.setRequestMethod(&quot;POST&quot;);\n    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n    conn.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + Base64.getEncoder().encodeToString((user + &quot;:&quot; + pswrd).getBytes(StandardCharsets.UTF_8)));\n    conn.setConnectTimeout(APIUtils.TIMEOUT);\n    try (OutputStream os = conn.getOutputStream()) {\n      os.write(parametros.getBytes(StandardCharsets.UTF_8));\n      os.flush();\n      if (conn.getResponseCode() == HttpURLConnection.HTTP_OK) {\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream(), StandardCharsets.UTF_8))) {\n          StringBuilder result = new StringBuilder();\n          String auxStr;\n          while ((auxStr = br.readLine()) != null) {\n            result.append(auxStr);\n          }\n          respAPI = result.toString();\n        }\n      }\n    }\n    return respAPI;\n  }\n  catch(IOException | ClassCastException | IllegalStateException | IllegalArgumentException e) {\n    e.printStackTrace();\n    return null;\n  }\n}\n</code></pre>\n<p>And this is the method that generates the <code>SSLSocketFactory</code> with the certificate loaded:</p>\n<pre><code>private static SSLSocketFactory createSSLSocketFactory(String certPath) {\n  try {\n    try (InputStream in =APIUtils.class.getResourceAsStream(certPath)) {\n      Certificate certificate = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate( in );\n      KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n      keyStore.load(null);\n      keyStore.setCertificateEntry(&quot;certalias&quot;, certificate);\n      TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n      trustManagerFactory.init(keyStore);\n      SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n      sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n      return sslContext.getSocketFactory();\n    }\n  }\n  catch(CertificateException | KeyStoreException | NoSuchAlgorithmException | IOException | KeyManagementException e) {\n    e.printStackTrace();\n    return null;\n  }\n}\n</code></pre>\n<p>But it is throwing <code>java.net.UnknownHostException</code>, here is the error trace:</p>\n<pre><code>java.net.UnknownHostException: api-dir.com.es\n        at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n        at java.base/java.net.Socket.connect(Socket.java:633)\n        at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:532)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:637)\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:193)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:220)\n        at deployment.regional.war//com.ekt.regional.web.api.SomeAPI.consumeAPI(SomeAPI.java:49)\n</code></pre>\n<p>I made sure that the API url is correct and that we have the permissions to access it.</p>\n<p>It is worth mentioning that the certificate is a <code>.crt</code> file and is for the development environment.</p>\n"},{"tags":["java","eclipse","lambda","expression","java-8"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1376345351,"post_id":18197437,"comment_id":26668866,"body_markdown":"Your program compiles and runs fine for me (b100). Have you tried to compile it with javac from the command line? It seems to be an eclipse configuration issue.","body":"Your program compiles and runs fine for me (b100). Have you tried to compile it with javac from the command line? It seems to be an eclipse configuration issue."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1376345431,"post_id":18197437,"comment_id":26668896,"body_markdown":"@assylias. Yeah it works without braces. Thanks. :)","body":"@assylias. Yeah it works without braces. Thanks. :)"},{"owner":{"account_id":3166607,"reputation":360,"user_id":2676480,"display_name":"DominikStyp"},"score":0,"creation_date":1376347801,"post_id":18197437,"comment_id":26669691,"body_markdown":"Eclipse doesn&#39;t show any errors, but if I run this code as Java Application it throws an exception.","body":"Eclipse doesn&#39;t show any errors, but if I run this code as Java Application it throws an exception."},{"owner":{"account_id":3166607,"reputation":360,"user_id":2676480,"display_name":"DominikStyp"},"score":0,"creation_date":1376348961,"post_id":18197437,"comment_id":26670038,"body_markdown":"@assylias: Thanks, javac solved the problem of compilation, but i still can&#39;t compile code properly in Eclipse. Any clues for Eclipse?","body":"@assylias: Thanks, javac solved the problem of compilation, but i still can&#39;t compile code properly in Eclipse. Any clues for Eclipse?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1376349074,"post_id":18197437,"comment_id":26670079,"body_markdown":"@user2676480 Nop - I&#39;ve never liked eclipse ;-) You don&#39;t seem to be alone having troubles with eclipse+java8: http://stackoverflow.com/questions/17366615/java-8-hashmap-initialization-with-lambda-expressions","body":"@user2676480 Nop - I&#39;ve never liked eclipse ;-) You don&#39;t seem to be alone having troubles with eclipse+java8: <a href=\"http://stackoverflow.com/questions/17366615/java-8-hashmap-initialization-with-lambda-expressions\" title=\"java 8 hashmap initialization with lambda expressions\">stackoverflow.com/questions/17366615/&hellip;</a>"},{"owner":{"account_id":1165974,"reputation":4349,"user_id":1144275,"display_name":"TechTrip"},"score":0,"creation_date":1384447041,"post_id":18197437,"comment_id":29749012,"body_markdown":"Considering that it is a Beta I would think it more than unfair to make any judgements about eclipse on that baisis","body":"Considering that it is a Beta I would think it more than unfair to make any judgements about eclipse on that baisis"}],"answers":[{"tags":[],"owner":{"account_id":1165974,"reputation":4349,"user_id":1144275,"display_name":"TechTrip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384452224,"creation_date":1384452224,"answer_id":19985020,"question_id":18197437,"body_markdown":"I found that your example compiles fine for the latest beta. Not sure what you are trying to evaluate but I did a similar test as follows:\r\n\r\n    public class LambdaTesting {\r\n    \tpublic static String[] strs = { &quot;a&quot;, &quot;aa&quot;, &quot;aaa&quot;};\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tExecutorService pool = Executors.newFixedThreadPool(3);\r\n    \t\tSet&lt;Future&lt;Integer&gt;&gt; set = new HashSet&lt;Future&lt;Integer&gt;&gt;();\r\n    \t\tfor (String word : strs) {\r\n    \r\n    \t\t\tCallable&lt;Integer&gt; c = (() -&gt; word.length());\r\n    \r\n    \t\t\tFuture&lt;Integer&gt; future = pool.submit(c);\r\n    \t\t\tset.add(future);\r\n    \t\t}\r\n    \t\tint sum = 0;\r\n    \t\tfor (Future&lt;Integer&gt; future : set) {\r\n    \t\t\tsum += future.get();\r\n    \t\t}\r\n    \t\tSystem.out.printf(&quot;The sum of lengths is %s%n&quot;, sum);\r\n    \t\tSystem.exit(sum);\r\n    \t}\r\n    }\r\n\r\nI used an example executor I found here: https://stackoverflow.com/questions/13684468/java-runnable-run-method-returning-a-value as my base program and substituted a lambda expression for the wordcount. This all worked fine with the latest Java 8 beta and a September 2013 build of eclipse Kepler as found here: http://downloads.efxclipse.org/eclipse-java8/ - Trip","title":"Lambda Expressions java 8 exception : java.lang.NoSuchMethodError: java.lang.invoke.LambdaMetafactory.metaFactory","body":"<p>I found that your example compiles fine for the latest beta. Not sure what you are trying to evaluate but I did a similar test as follows:</p>\n\n<pre><code>public class LambdaTesting {\n    public static String[] strs = { \"a\", \"aa\", \"aaa\"};\n\n    public static void main(String args[]) throws Exception {\n        ExecutorService pool = Executors.newFixedThreadPool(3);\n        Set&lt;Future&lt;Integer&gt;&gt; set = new HashSet&lt;Future&lt;Integer&gt;&gt;();\n        for (String word : strs) {\n\n            Callable&lt;Integer&gt; c = (() -&gt; word.length());\n\n            Future&lt;Integer&gt; future = pool.submit(c);\n            set.add(future);\n        }\n        int sum = 0;\n        for (Future&lt;Integer&gt; future : set) {\n            sum += future.get();\n        }\n        System.out.printf(\"The sum of lengths is %s%n\", sum);\n        System.exit(sum);\n    }\n}\n</code></pre>\n\n<p>I used an example executor I found here: <a href=\"https://stackoverflow.com/questions/13684468/java-runnable-run-method-returning-a-value\">java Runnable run() method returning a value</a> as my base program and substituted a lambda expression for the wordcount. This all worked fine with the latest Java 8 beta and a September 2013 build of eclipse Kepler as found here: <a href=\"http://downloads.efxclipse.org/eclipse-java8/\" rel=\"nofollow noreferrer\">http://downloads.efxclipse.org/eclipse-java8/</a> - Trip</p>\n"}],"owner":{"account_id":3166607,"reputation":360,"user_id":2676480,"display_name":"DominikStyp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8609,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694631940,"creation_date":1376345118,"question_id":18197437,"body_markdown":"I have problem with running following code:\r\n\r\n\t\tpublic class LambdaTesting {\r\n\t\t\tpublic static void main(String[] args){\r\n\t\t\t\t new LambdaTesting();\t \r\n\t\t\t}\r\n\t\t\tpublic LambdaTesting(){\r\n\t\t\t\ttest1();\r\n\t\t\t}\r\n\t\t\tprivate void test1(){\r\n\t\t\t\tRunnable x = () -&gt; System.out.println(&quot;ok&quot;); //error\r\n\t\t\t}\r\n\t\t}\r\n\r\nwhich is causing following exception:\r\n\r\n    *Exception in thread &quot;main&quot; java.lang.IncompatibleClassChangeError \r\n    at java.lang.invoke.MethodHandleNatives.linkMethodHandleConstant(MethodHandleNatives.java:383)\r\n    \tat LambdaTesting.test1(LambdaTesting.java:24)\r\n    \tat LambdaTesting.&lt;init&gt;(LambdaTesting.java:20)\r\n    \tat LambdaTesting.main(LambdaTesting.java:15)\r\n    Caused by: java.lang.NoSuchMethodException: no such method: java.lang.invoke.LambdaMetafactory.metaFactory(Lookup,String,MethodType,MethodHandle,MethodHandle,MethodType)CallSite/invokeStatic\r\n    \tat java.lang.invoke.MemberName.makeAccessException(MemberName.java:765)\r\n    \tat java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:882)\r\n    \tat java.lang.invoke.MethodHandles$Lookup.resolveOrFail(MethodHandles.java:1019)\r\n    \tat java.lang.invoke.MethodHandles$Lookup.linkMethodHandleConstant(MethodHandles.java:1284)\r\n    \tat java.lang.invoke.MethodHandleNatives.linkMethodHandleConstant(MethodHandleNatives.java:381)\r\n    \t... 3 more\r\n    Caused by: java.lang.NoSuchMethodError: java.lang.invoke.LambdaMetafactory.metaFactory(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n    \tat java.lang.invoke.MethodHandleNatives.resolve(Native Method)\r\n    \tat java.lang.invoke.MemberName$Factory.resolve(MemberName.java:854)\r\n    \tat java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:879)\r\n    \t... 6 more*\r\n\r\nI have installed jdk8 downloaded from: \r\n[http://jdk8.java.net/lambda/][1] (Windows x64 version)\r\n\r\nI run it in Eclipse Version: 4.4.0 downloaded from:\r\n[http://downloads.efxclipse.org/eclipse-java8/2013-06-30/][2]\r\n(file: org.eclipse.sdk.ide-win32.win32.x86_64.zip\t30-Jun-2013 17:35 \t180M)\r\n\r\neclipse.ini file: \r\n\r\n    -vm\r\n    C:\\Program Files\\Java\\jre8\\bin\\java.exe\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.200.v20130521-0416\r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.appendVmargs\r\n    -vmargs\r\n    -Xms40m\r\n    -Xmx512m\r\n\r\nProject properties -&gt; Java Compiler -&gt; Compiler compliance level: 1.8 (BETA)\r\n(Use default compliance settings is checked).\r\n\r\nProject properties -&gt; Java Build Path -&gt; Libraries: \r\nJRE System Library [jre8]\r\n\r\nProject Run Configurations: \r\n\r\n[JRE tab] Project JRE (jre8) checked\r\n\r\n[Classpath tab] Boostrap Entries: JRE System Library [jre8]\r\n\r\nI have also tried to run LambdaTesting.class from command line inside jre8/bin directory\r\nbut same exception appeared.\r\n\r\nJava version:\r\n\r\n    C:\\Program Files\\Java\\jre8\\bin&gt;java.exe -version\r\n    java version &quot;1.8.0-ea&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0-ea-b102)\r\n\r\nMy operating system is: Windows 7 x64\r\n\r\nAny clues ?\r\n\r\nThanks to **@assylias** i solved the problem of compilation from command line using **jdk1.8.0/bin/javac.exe**, but still no result in Eclipse. Seems that Eclipse has wrong compiler.\r\nI tried to change settings in: Preferences -&gt; Java -&gt; Compiler, but i can only choose version 1.7 in &quot;Generated .class files compatibility&quot; (no 1.8 available in this setting). \r\n&quot;Use default compliance settings&quot; causing above mentioned exception.\r\n\r\n\r\n  [1]: http://jdk8.java.net/lambda/\r\n  [2]: http://downloads.efxclipse.org/eclipse-java8/2013-06-30/","title":"Lambda Expressions java 8 exception : java.lang.NoSuchMethodError: java.lang.invoke.LambdaMetafactory.metaFactory","body":"<p>I have problem with running following code:</p>\n\n<pre><code>    public class LambdaTesting {\n        public static void main(String[] args){\n             new LambdaTesting();    \n        }\n        public LambdaTesting(){\n            test1();\n        }\n        private void test1(){\n            Runnable x = () -&gt; System.out.println(\"ok\"); //error\n        }\n    }\n</code></pre>\n\n<p>which is causing following exception:</p>\n\n<pre><code>*Exception in thread \"main\" java.lang.IncompatibleClassChangeError \nat java.lang.invoke.MethodHandleNatives.linkMethodHandleConstant(MethodHandleNatives.java:383)\n    at LambdaTesting.test1(LambdaTesting.java:24)\n    at LambdaTesting.&lt;init&gt;(LambdaTesting.java:20)\n    at LambdaTesting.main(LambdaTesting.java:15)\nCaused by: java.lang.NoSuchMethodException: no such method: java.lang.invoke.LambdaMetafactory.metaFactory(Lookup,String,MethodType,MethodHandle,MethodHandle,MethodType)CallSite/invokeStatic\n    at java.lang.invoke.MemberName.makeAccessException(MemberName.java:765)\n    at java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:882)\n    at java.lang.invoke.MethodHandles$Lookup.resolveOrFail(MethodHandles.java:1019)\n    at java.lang.invoke.MethodHandles$Lookup.linkMethodHandleConstant(MethodHandles.java:1284)\n    at java.lang.invoke.MethodHandleNatives.linkMethodHandleConstant(MethodHandleNatives.java:381)\n    ... 3 more\nCaused by: java.lang.NoSuchMethodError: java.lang.invoke.LambdaMetafactory.metaFactory(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\n    at java.lang.invoke.MethodHandleNatives.resolve(Native Method)\n    at java.lang.invoke.MemberName$Factory.resolve(MemberName.java:854)\n    at java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:879)\n    ... 6 more*\n</code></pre>\n\n<p>I have installed jdk8 downloaded from: \n<a href=\"http://jdk8.java.net/lambda/\" rel=\"nofollow\">http://jdk8.java.net/lambda/</a> (Windows x64 version)</p>\n\n<p>I run it in Eclipse Version: 4.4.0 downloaded from:\n<a href=\"http://downloads.efxclipse.org/eclipse-java8/2013-06-30/\" rel=\"nofollow\">http://downloads.efxclipse.org/eclipse-java8/2013-06-30/</a>\n(file: org.eclipse.sdk.ide-win32.win32.x86_64.zip   30-Jun-2013 17:35   180M)</p>\n\n<p>eclipse.ini file: </p>\n\n<pre><code>-vm\nC:\\Program Files\\Java\\jre8\\bin\\java.exe\n-startup\nplugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.200.v20130521-0416\n-showsplash\norg.eclipse.platform\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vmargs\n-Xms40m\n-Xmx512m\n</code></pre>\n\n<p>Project properties -> Java Compiler -> Compiler compliance level: 1.8 (BETA)\n(Use default compliance settings is checked).</p>\n\n<p>Project properties -> Java Build Path -> Libraries: \nJRE System Library [jre8]</p>\n\n<p>Project Run Configurations: </p>\n\n<p>[JRE tab] Project JRE (jre8) checked</p>\n\n<p>[Classpath tab] Boostrap Entries: JRE System Library [jre8]</p>\n\n<p>I have also tried to run LambdaTesting.class from command line inside jre8/bin directory\nbut same exception appeared.</p>\n\n<p>Java version:</p>\n\n<pre><code>C:\\Program Files\\Java\\jre8\\bin&gt;java.exe -version\njava version \"1.8.0-ea\"\nJava(TM) SE Runtime Environment (build 1.8.0-ea-b102)\n</code></pre>\n\n<p>My operating system is: Windows 7 x64</p>\n\n<p>Any clues ?</p>\n\n<p>Thanks to <strong>@assylias</strong> i solved the problem of compilation from command line using <strong>jdk1.8.0/bin/javac.exe</strong>, but still no result in Eclipse. Seems that Eclipse has wrong compiler.\nI tried to change settings in: Preferences -> Java -> Compiler, but i can only choose version 1.7 in \"Generated .class files compatibility\" (no 1.8 available in this setting). \n\"Use default compliance settings\" causing above mentioned exception.</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694622253,"post_id":77098764,"comment_id":135916434,"body_markdown":"If you will change `synchronized` to `ReentrantLock` class that implements the `Lock` interface all will work as expected. Can you try it ?","body":"If you will change <code>synchronized</code> to <code>ReentrantLock</code> class that implements the <code>Lock</code> interface all will work as expected. Can you try it ?"}],"answers":[{"tags":[],"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694631850,"creation_date":1694631850,"answer_id":77099873,"question_id":77098764,"body_markdown":"\r\n\r\nThe Actual Output is correct ,and the expectation is not correct.\r\n\r\nif you see the actual output&#39;s first two lines \r\n\r\n&gt;     http-nio-8080-exec-1 hello ....StartWed Sep 13 21:23:37 IST 2023  4\r\n&gt;     http-nio-8080-exec-1 hello ....EndWed Sep 13 21:23:47 IST 2023\r\n\r\nThe first Thread of your app http-nio-8080-exec-1 got the lock and 2nd thread http-nio-8080-exec-2 was waiting until the 1st thread finished , since it is waiting outside for the lock it will not print anything\r\n\r\n&gt;  http-nio-8080-exec-2 helloworld ....StartWed Sep 13 21:23:47 IST 2023\r\n&gt; 3\r\n\r\nimmediate and the 2nd method will wait until 1st releases the lock.\r\n\r\n**so the flow will be** \r\n\r\n    http://localhost:8080/hello/4 --&gt; at Sep 13 21:23:37 IST 2023\r\n    call reaches public synchronized void hello()\r\n    Lock aquired\r\n\r\nprinted \r\n\r\n    http-nio-8080-exec-1 hello ....StartWed Sep 13 21:23:37 IST 2023  4\r\n    Assuming some where here you made the 2nd call \r\n\r\nhttp://localhost:8080/helloworld/3\r\n\r\npublic synchronized void helloWorld() --&gt; will attempt to accquire lock but will wait for 1st method because it would be in Thread.sleep()\r\n\r\n**2nd thread will wait until thread sleep() finish for the hello method()/1st Thread**\r\n\r\n    then 1st method will print \r\n    http-nio-8080-exec-1 hello ....EndWed Sep 13 21:23:47 IST 2023\r\n\r\n&gt;     Then only Lock will be release as method will exit then. and 2nd thread will be executed\r\n\r\n \r\n","title":"@RestController With Synchronization","body":"<p>The Actual Output is correct ,and the expectation is not correct.</p>\n<p>if you see the actual output's first two lines</p>\n<blockquote>\n<pre><code>http-nio-8080-exec-1 hello ....StartWed Sep 13 21:23:37 IST 2023  4\nhttp-nio-8080-exec-1 hello ....EndWed Sep 13 21:23:47 IST 2023\n</code></pre>\n</blockquote>\n<p>The first Thread of your app http-nio-8080-exec-1 got the lock and 2nd thread http-nio-8080-exec-2 was waiting until the 1st thread finished , since it is waiting outside for the lock it will not print anything</p>\n<blockquote>\n<p>http-nio-8080-exec-2 helloworld ....StartWed Sep 13 21:23:47 IST 2023\n3</p>\n</blockquote>\n<p>immediate and the 2nd method will wait until 1st releases the lock.</p>\n<p><strong>so the flow will be</strong></p>\n<pre><code>http://localhost:8080/hello/4 --&gt; at Sep 13 21:23:37 IST 2023\ncall reaches public synchronized void hello()\nLock aquired\n</code></pre>\n<p>printed</p>\n<pre><code>http-nio-8080-exec-1 hello ....StartWed Sep 13 21:23:37 IST 2023  4\nAssuming some where here you made the 2nd call \n</code></pre>\n<p>http://localhost:8080/helloworld/3</p>\n<p>public synchronized void helloWorld() --&gt; will attempt to accquire lock but will wait for 1st method because it would be in Thread.sleep()</p>\n<p><strong>2nd thread will wait until thread sleep() finish for the hello method()/1st Thread</strong></p>\n<pre><code>then 1st method will print \nhttp-nio-8080-exec-1 hello ....EndWed Sep 13 21:23:47 IST 2023\n</code></pre>\n<blockquote>\n<pre><code>Then only Lock will be release as method will exit then. and 2nd thread will be executed\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":16100082,"reputation":37,"user_id":11621104,"display_name":"Gourav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77099873,"answer_count":1,"score":1,"last_activity_date":1694631850,"creation_date":1694621269,"question_id":77098764,"body_markdown":"This is just for understanding as the below code didn&#39;t give the expected result. So wanted to know if there is anything I am missing.\r\n```\r\n\r\n@RestController\r\npublic class TestRestController {\r\n\r\n    @GetMapping(&quot;/helloworld/{parm}&quot;)\r\n    public synchronized void helloWorld(@PathVariable(&quot;parm&quot;) String data) throws Exception{\r\n\r\n        System.out.println(Thread.currentThread().getName()+&quot; helloworld ....Start&quot;+new Date() +&quot;  &quot;+ data);\r\n        Thread.sleep(5000);\r\n        System.out.println(Thread.currentThread().getName()+&quot; helloworld ....End&quot;+ new Date());\r\n\r\n    }\r\n\r\n    @GetMapping(&quot;/hello/{parm}&quot;)\r\n    public synchronized void hello(@PathVariable(&quot;parm&quot;) String data) throws Exception{\r\n\r\n        System.out.println(Thread.currentThread().getName()+&quot; hello ....Start&quot;+new Date() +&quot;  &quot;+ data);\r\n        Thread.sleep(10000);\r\n        System.out.println(Thread.currentThread().getName()+&quot; hello ....End&quot;+ new Date());\r\n\r\n    }\r\n}\r\n```\r\n\r\nExecuting these end-points in the below sequence. \r\n```\r\nhttp://localhost:8080/hello/4\r\nhttp://localhost:8080/helloworld/3\r\n```\r\n\r\nActual output\r\n```\r\nhttp-nio-8080-exec-1 hello ....StartWed Sep 13 21:23:37 IST 2023  4\r\nhttp-nio-8080-exec-1 hello ....EndWed Sep 13 21:23:47 IST 2023\r\nhttp-nio-8080-exec-2 helloworld ....StartWed Sep 13 21:23:47 IST 2023  3\r\nhttp-nio-8080-exec-2 helloworld ....EndWed Sep 13 21:23:52 IST 2023\r\n```\r\n\r\nExpecting output(Don&#39;t consider the timestamp. copypaste from the above)\r\n```\r\nhttp-nio-8080-exec-1 hello ....StartWed Sep 13 21:23:37 IST 2023  4\r\nhttp-nio-8080-exec-2 helloworld ....StartWed Sep 13 21:23:47 IST 2023  3\r\nhttp-nio-8080-exec-2 helloworld ....EndWed Sep 13 21:23:52 IST 2023\r\nhttp-nio-8080-exec-1 hello ....EndWed Sep 13 21:23:47 IST 2023\r\n\r\n```\r\n\r\nMy understanding is that Restcontroller is singleton and methods are non-thread safe in general. Now after adding synchronization only that method gets locked after getting the request the other method shouldn&#39;t locked and executed immediately when another request hits that endpoint. ","title":"@RestController With Synchronization","body":"<p>This is just for understanding as the below code didn't give the expected result. So wanted to know if there is anything I am missing.</p>\n<pre><code>\n@RestController\npublic class TestRestController {\n\n    @GetMapping(&quot;/helloworld/{parm}&quot;)\n    public synchronized void helloWorld(@PathVariable(&quot;parm&quot;) String data) throws Exception{\n\n        System.out.println(Thread.currentThread().getName()+&quot; helloworld ....Start&quot;+new Date() +&quot;  &quot;+ data);\n        Thread.sleep(5000);\n        System.out.println(Thread.currentThread().getName()+&quot; helloworld ....End&quot;+ new Date());\n\n    }\n\n    @GetMapping(&quot;/hello/{parm}&quot;)\n    public synchronized void hello(@PathVariable(&quot;parm&quot;) String data) throws Exception{\n\n        System.out.println(Thread.currentThread().getName()+&quot; hello ....Start&quot;+new Date() +&quot;  &quot;+ data);\n        Thread.sleep(10000);\n        System.out.println(Thread.currentThread().getName()+&quot; hello ....End&quot;+ new Date());\n\n    }\n}\n</code></pre>\n<p>Executing these end-points in the below sequence.</p>\n<pre><code>http://localhost:8080/hello/4\nhttp://localhost:8080/helloworld/3\n</code></pre>\n<p>Actual output</p>\n<pre><code>http-nio-8080-exec-1 hello ....StartWed Sep 13 21:23:37 IST 2023  4\nhttp-nio-8080-exec-1 hello ....EndWed Sep 13 21:23:47 IST 2023\nhttp-nio-8080-exec-2 helloworld ....StartWed Sep 13 21:23:47 IST 2023  3\nhttp-nio-8080-exec-2 helloworld ....EndWed Sep 13 21:23:52 IST 2023\n</code></pre>\n<p>Expecting output(Don't consider the timestamp. copypaste from the above)</p>\n<pre><code>http-nio-8080-exec-1 hello ....StartWed Sep 13 21:23:37 IST 2023  4\nhttp-nio-8080-exec-2 helloworld ....StartWed Sep 13 21:23:47 IST 2023  3\nhttp-nio-8080-exec-2 helloworld ....EndWed Sep 13 21:23:52 IST 2023\nhttp-nio-8080-exec-1 hello ....EndWed Sep 13 21:23:47 IST 2023\n\n</code></pre>\n<p>My understanding is that Restcontroller is singleton and methods are non-thread safe in general. Now after adding synchronization only that method gets locked after getting the request the other method shouldn't locked and executed immediately when another request hits that endpoint.</p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":6,"creation_date":1637170190,"post_id":70008960,"comment_id":123756514,"body_markdown":"You are missing JAXB the API for XML binding.  This used to be included in the JDK but it was removed in Java 11 and beyond and is now an external library.  How are you including it in your application?","body":"You are missing JAXB the API for XML binding.  This used to be included in the JDK but it was removed in Java 11 and beyond and is now an external library.  How are you including it in your application?"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1637170239,"post_id":70008960,"comment_id":123756546,"body_markdown":"`javax.xml.bind.*` was removed in Java 9 (or 10). You either need to upgrade to a version of the JWT library that uses `java.util.Base64` (assuming such version exists), or you need to add a dependency on JAXB.","body":"<code>javax.xml.bind.*</code> was removed in Java 9 (or 10). You either need to upgrade to a version of the JWT library that uses <code>java.util.Base64</code> (assuming such version exists), or you need to add a dependency on JAXB."},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1637170283,"post_id":70008960,"comment_id":123756568,"body_markdown":"See https://stackoverflow.com/questions/9566620/include-jaxb-using-maven","body":"See <a href=\"https://stackoverflow.com/questions/9566620/include-jaxb-using-maven\" title=\"include jaxb using maven\">stackoverflow.com/questions/9566620/include-jaxb-using-maven</a>"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1637170979,"post_id":70008960,"comment_id":123756820,"body_markdown":"@swpalmer Where is it used? I can&#39;t see method call to instance belonging to this dependency and I have no compilation error. What am I missing?","body":"@swpalmer Where is it used? I can&#39;t see method call to instance belonging to this dependency and I have no compilation error. What am I missing?"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1637171150,"post_id":70008960,"comment_id":123756888,"body_markdown":"@MarkRotteveel where am I using this dependency? I can&#39;t find it. Do you mean that it is the Jwts class that it using? Have I to use a new version of this? or what am I missing?","body":"@MarkRotteveel where am I using this dependency? I can&#39;t find it. Do you mean that it is the Jwts class that it using? Have I to use a new version of this? or what am I missing?"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1637171435,"post_id":70008960,"comment_id":123756989,"body_markdown":"That io.jsonwebtoken library uses it as shown in the stacktrace of `java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter`. That `DatatypeConverter` is part of JAXB. In the past JAXB was included in the JRE. This changed with Java 9 or 10, so you need to add an explicit dependency on JAXB for this version of the library to work.","body":"That io.jsonwebtoken library uses it as shown in the stacktrace of <code>java.lang.NoClassDefFoundError: javax&#47;xml&#47;bind&#47;DatatypeConverter</code>. That <code>DatatypeConverter</code> is part of JAXB. In the past JAXB was included in the JRE. This changed with Java 9 or 10, so you need to add an explicit dependency on JAXB for this version of the library to work."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1637194700,"post_id":70008960,"comment_id":123764255,"body_markdown":"Spring security comes included with the JWT library Nimbus, so no need to pull in any additional jwtlibrary","body":"Spring security comes included with the JWT library Nimbus, so no need to pull in any additional jwtlibrary"}],"answers":[{"tags":[],"owner":{"account_id":25532809,"reputation":96,"user_id":19320496,"display_name":"Shadi Aldabbas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1655001371,"creation_date":1655001313,"answer_id":72589147,"question_id":70008960,"body_markdown":"I don&#39;t know why I am facing this problem, when I run the code in postgres it works fine but I get thiss error with cassandra.\r\n\r\nI have just added those into my pom.xml \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.5-b10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI got them from here: https://stackoverflow.com/questions/9566620/include-jaxb-using-maven ","title":"Why am I obtaining this exception trying to build a JWT token? java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter","body":"<p>I don't know why I am facing this problem, when I run the code in postgres it works fine but I get thiss error with cassandra.</p>\n<p>I have just added those into my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.2.5-b10&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I got them from here: <a href=\"https://stackoverflow.com/questions/9566620/include-jaxb-using-maven\">Include JAXB using Maven</a></p>\n"},{"tags":[],"owner":{"account_id":15599136,"reputation":484,"user_id":11253712,"display_name":"Rahul Dudhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694631838,"creation_date":1694631838,"answer_id":77099869,"question_id":70008960,"body_markdown":"Adding the following dependency fixed my issue:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Why am I obtaining this exception trying to build a JWT token? java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter","body":"<p>Adding the following dependency fixed my issue:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72589147,"answer_count":2,"score":1,"last_activity_date":1694631838,"creation_date":1637170036,"question_id":70008960,"body_markdown":"I am working on a Spring Boot project implementing JWT authentication but I am finding some difficulties. It is based on an example found into a Udemy course that I am trying to adapt to my specific use case. It is composed by the following two microservices:\r\n\r\n1) **GET-USER-WS:** this is the microservice that obtains user information from the database.\r\n\r\n2) **AuthServerJWT:** this microservice calls the **GET-USER-WS** in order to obtain user information and build the JWT token that will be used by other microservices.\r\n\r\nBasically this second **AuthServerJWT** contains the following **JwtAuthenticationRestController** controller class:\r\n\r\n\t@RestController\r\n\t//@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n\tpublic class JwtAuthenticationRestController  {\r\n\r\n\t\t@Value(&quot;${sicurezza.header}&quot;)\r\n\t\tprivate String tokenHeader;\r\n\r\n\t\t@Autowired\r\n\t\tprivate AuthenticationManager authenticationManager;\r\n\r\n\t\t@Autowired\r\n\t\tprivate JwtTokenUtil jwtTokenUtil;\r\n\r\n\t\t@Autowired\r\n\t\t@Qualifier(&quot;customUserDetailsService&quot;)\r\n\t\tprivate UserDetailsService userDetailsService;\r\n\t\t\r\n\t\tprivate static final Logger logger = LoggerFactory.getLogger(JwtAuthenticationRestController.class);\r\n\r\n\t\t@PostMapping(value = &quot;${sicurezza.uri}&quot;)\r\n\t\tpublic ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody JwtTokenRequest authenticationRequest)\r\n\t\t\t\tthrows AuthenticationException {\r\n\t\t\tlogger.info(&quot;Autenticazione e Generazione Token&quot;);\r\n\r\n\t\t\tauthenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\r\n\r\n\t\t\tfinal UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\r\n\r\n\t\t\tfinal String token = jwtTokenUtil.generateToken(userDetails);\r\n\t\t\t\r\n\t\t\tlogger.warn(String.format(&quot;Token %s&quot;, token));\r\n\r\n\t\t\treturn ResponseEntity.ok(new JwtTokenResponse(token));\r\n\t\t}\r\n\r\n\t\t@RequestMapping(value = &quot;${sicurezza.uri}&quot;, method = RequestMethod.GET)\r\n\t\tpublic ResponseEntity&lt;?&gt; refreshAndGetAuthenticationToken(HttpServletRequest request) \r\n\t\t\t\tthrows Exception \r\n\t\t{\r\n\t\t\tString authToken = request.getHeader(tokenHeader);\r\n\t\t\t\r\n\t\t\tif (authToken == null || authToken.length() &lt; 7)\r\n\t\t\t{\r\n\t\t\t\tthrow new Exception(&quot;Token assente o non valido!&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfinal String token = authToken.substring(7);\r\n\t\t\t\r\n\t\t\tif (jwtTokenUtil.canTokenBeRefreshed(token)) \r\n\t\t\t{\r\n\t\t\t\tString refreshedToken = jwtTokenUtil.refreshToken(token);\r\n\t\t\t\t\r\n\t\t\t\treturn ResponseEntity.ok(new JwtTokenResponse(refreshedToken));\r\n\t\t\t} \r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\treturn ResponseEntity.badRequest().body(null);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@ExceptionHandler({ AuthenticationException.class })\r\n\t\tpublic ResponseEntity&lt;String&gt; handleAuthenticationException(AuthenticationException e) \r\n\t\t{\r\n\t\t\treturn ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(e.getMessage());\r\n\t\t}\r\n\r\n\t\tprivate void authenticate(String username, String password) \r\n\t\t{\r\n\t\t\tObjects.requireNonNull(username);\r\n\t\t\tObjects.requireNonNull(password);\r\n\r\n\t\t\ttry {\t\r\n\t\t\t\t/// ???\r\n\t\t\t\tauthenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n\t\t\t} \r\n\t\t\tcatch (DisabledException e) \r\n\t\t\t{\r\n\t\t\t\tlogger.warn(&quot;UTENTE DISABILITATO&quot;);\r\n\t\t\t\tthrow new AuthenticationException(&quot;UTENTE DISABILITATO&quot;, e);\r\n\t\t\t} \r\n\t\t\tcatch (BadCredentialsException e) \r\n\t\t\t{\r\n\t\t\t\tlogger.warn(&quot;CREDENZIALI NON VALIDE&quot;);\r\n\t\t\t\tthrow new AuthenticationException(&quot;CREDENZIALI NON VALIDE&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAS you can see it contains two method: one to create a brand new JWT token and the other one to refresh an existing JWT token. Consider the **createAuthenticationToken()** used to create a new token.\r\n\r\nAt this line:\r\n\r\n    final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\r\n\r\nit call the **loadUserByUsername()** method defined in my **CustomUserDetailsService**. This method basically retrieve the user information calling a service of the ****GET-USER-WS** and build a **UserDetails** object (that is a Spring Security object, this one: **org.springframework.security.core.userdetails.UserDetails**).\r\n\r\nThis is the code of this method:\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String UserId) throws UsernameNotFoundException {\r\n\t\t\r\n\t\tString ErrMsg = &quot;&quot;;\r\n\t\t\r\n\t\tif (UserId == null || UserId.length() &lt; 2) {\r\n\t\t\tErrMsg = &quot;Nome utente assente o non valido&quot;;\r\n\t\t\t\r\n\t\t\tlogger.warn(ErrMsg);\r\n\t\t\t\r\n\t    \tthrow new UsernameNotFoundException(ErrMsg); \r\n\t\t} \r\n\t\t\r\n\t\tUser user = this.GetHttpValue(UserId);\r\n\t\t\r\n\t\tif (user == null) {\r\n\t\t\tErrMsg = String.format(&quot;User %s not found!!&quot;, UserId);\r\n\t\t\t\r\n\t\t\tlogger.warn(ErrMsg);\r\n\t\t\t\r\n\t\t\tthrow new UsernameNotFoundException(ErrMsg);\r\n\t\t}\r\n\t\t\r\n\t\tUserBuilder builder = null;\r\n\t\t\r\n\t\tbuilder = org.springframework.security.core.userdetails.User.withUsername(Integer.toString(user.getId()));\r\n\t\tbuilder.password(user.getPswd());\r\n\t\t\r\n\t\tString[] operations = user.getUserTypes().stream()\r\n\t\t\t    .map(UserType::getOperations)\r\n\t\t\t    .flatMap(Set::stream)\r\n\t\t\t    .map(Operation::getName)\r\n\t\t\t    .distinct()\r\n\t\t\t    .toArray(String[]::new);\r\n\t\t\r\n\t\tbuilder.authorities(operations);\r\n\t\t\r\n\t\t\r\n\t\treturn builder.build();\r\n\t\t\r\n\t}\r\n\r\nThis line simply execute the **GetHttpValue()** method used to perform the call with the RestTemplate in order to retrieve an **User** object containing the details of the user:\r\n\r\n    User user = this.GetHttpValue(UserId);\r\n\r\nSo, come back to the first **createAuthenticationToken()** of the previous **JwtAuthenticationRestController** controller class. My problem is that it retrieve this **UserDetails userDetails** object, at this line:\r\n\r\n    final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\r\n\r\nusing the deubugger this is the content of my **userDetails** instance:\r\n\r\n    org.springframework.security.core.userdetails.User [Username=50, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]]\r\n\r\nit seems to me correct (except the **Username** field that contains the ID of the user and not the username...I will change in a second time, it should not be the problem).\r\n\r\nThen it perform this line in order to generate the JWT token starting from this **userDetails** object:\r\n\r\n    final String token = jwtTokenUtil.generateToken(userDetails);\r\n\r\nThis is the code of the **generateToken()** method defined into a class named **JwtTokenUtil**:\r\n\r\n\tpublic String generateToken(UserDetails userDetails) {\r\n\t\tMap&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n\t\treturn doGenerateToken(claims, userDetails);\r\n\t}\r\n\r\nIt first create an empty HashMap and then call the **doGenerateToken()**, this is the code:\r\n\r\n\tprivate String doGenerateToken(Map&lt;String, Object&gt; claims, UserDetails userDetails) {\r\n\t\tfinal Date createdDate = clock.now();\r\n\t\tfinal Date expirationDate = calculateExpirationDate(createdDate);\r\n\r\n\t\treturn Jwts.builder()\r\n\t\t\t\t.setClaims(claims)\r\n\t\t\t\t.setSubject(userDetails.getUsername())\r\n\t\t\t\t.claim(&quot;authorities&quot;, userDetails.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\r\n\t\t\t\t.setIssuedAt(createdDate)\r\n\t\t\t\t.setExpiration(expirationDate)\r\n\t\t\t\t.signWith(SignatureAlgorithm.HS512, jwtConfig.getSecret().getBytes())\r\n\t\t\t\t.compact();\r\n\t}\r\n\r\nIt correctly create the **expirationDate** date. Then at the end it throws the following exception (using the deubbugger it seems to me that it is thrown on the **compact()** execution):\r\nThe problem is that when this line is executed I am obtaining the following exception:\r\n\r\n\tjava.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n\t\tat io.jsonwebtoken.impl.Base64Codec.encode(Base64Codec.java:21) ~[jjwt-0.9.1.jar:0.9.1]\r\n\t\tat io.jsonwebtoken.impl.Base64UrlCodec.encode(Base64UrlCodec.java:22) ~[jjwt-0.9.1.jar:0.9.1]\r\n\t\tat io.jsonwebtoken.impl.DefaultJwtBuilder.base64UrlEncode(DefaultJwtBuilder.java:349) ~[jjwt-0.9.1.jar:0.9.1]\r\n\t\tat io.jsonwebtoken.impl.DefaultJwtBuilder.compact(DefaultJwtBuilder.java:295) ~[jjwt-0.9.1.jar:0.9.1]\r\n\t\tat com.easydefi.authserverjwt.security.JwtTokenUtil.doGenerateToken(JwtTokenUtil.java:87) ~[classes/:na]\r\n\t\tat com.easydefi.authserverjwt.security.JwtTokenUtil.generateToken(JwtTokenUtil.java:72) ~[classes/:na]\r\n\t\tat com.easydefi.authserverjwt.controller.JwtAuthenticationRestController.createAuthenticationToken(JwtAuthenticationRestController.java:60) ~[classes/:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:204) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n\t\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n\t\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.12.jar:5.3.12]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n\r\nWhy? What am I missing? How can I try to solve this issue?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why am I obtaining this exception trying to build a JWT token? java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter","body":"<p>I am working on a Spring Boot project implementing JWT authentication but I am finding some difficulties. It is based on an example found into a Udemy course that I am trying to adapt to my specific use case. It is composed by the following two microservices:</p>\n<ol>\n<li><p><strong>GET-USER-WS:</strong> this is the microservice that obtains user information from the database.</p>\n</li>\n<li><p><strong>AuthServerJWT:</strong> this microservice calls the <strong>GET-USER-WS</strong> in order to obtain user information and build the JWT token that will be used by other microservices.</p>\n</li>\n</ol>\n<p>Basically this second <strong>AuthServerJWT</strong> contains the following <strong>JwtAuthenticationRestController</strong> controller class:</p>\n<pre><code>@RestController\n//@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\npublic class JwtAuthenticationRestController  {\n\n    @Value(&quot;${sicurezza.header}&quot;)\n    private String tokenHeader;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private JwtTokenUtil jwtTokenUtil;\n\n    @Autowired\n    @Qualifier(&quot;customUserDetailsService&quot;)\n    private UserDetailsService userDetailsService;\n    \n    private static final Logger logger = LoggerFactory.getLogger(JwtAuthenticationRestController.class);\n\n    @PostMapping(value = &quot;${sicurezza.uri}&quot;)\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody JwtTokenRequest authenticationRequest)\n            throws AuthenticationException {\n        logger.info(&quot;Autenticazione e Generazione Token&quot;);\n\n        authenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\n\n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\n\n        final String token = jwtTokenUtil.generateToken(userDetails);\n        \n        logger.warn(String.format(&quot;Token %s&quot;, token));\n\n        return ResponseEntity.ok(new JwtTokenResponse(token));\n    }\n\n    @RequestMapping(value = &quot;${sicurezza.uri}&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;?&gt; refreshAndGetAuthenticationToken(HttpServletRequest request) \n            throws Exception \n    {\n        String authToken = request.getHeader(tokenHeader);\n        \n        if (authToken == null || authToken.length() &lt; 7)\n        {\n            throw new Exception(&quot;Token assente o non valido!&quot;);\n        }\n        \n        final String token = authToken.substring(7);\n        \n        if (jwtTokenUtil.canTokenBeRefreshed(token)) \n        {\n            String refreshedToken = jwtTokenUtil.refreshToken(token);\n            \n            return ResponseEntity.ok(new JwtTokenResponse(refreshedToken));\n        } \n        else \n        {\n            return ResponseEntity.badRequest().body(null);\n        }\n    }\n\n    @ExceptionHandler({ AuthenticationException.class })\n    public ResponseEntity&lt;String&gt; handleAuthenticationException(AuthenticationException e) \n    {\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(e.getMessage());\n    }\n\n    private void authenticate(String username, String password) \n    {\n        Objects.requireNonNull(username);\n        Objects.requireNonNull(password);\n\n        try {   \n            /// ???\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n        } \n        catch (DisabledException e) \n        {\n            logger.warn(&quot;UTENTE DISABILITATO&quot;);\n            throw new AuthenticationException(&quot;UTENTE DISABILITATO&quot;, e);\n        } \n        catch (BadCredentialsException e) \n        {\n            logger.warn(&quot;CREDENZIALI NON VALIDE&quot;);\n            throw new AuthenticationException(&quot;CREDENZIALI NON VALIDE&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>AS you can see it contains two method: one to create a brand new JWT token and the other one to refresh an existing JWT token. Consider the <strong>createAuthenticationToken()</strong> used to create a new token.</p>\n<p>At this line:</p>\n<pre><code>final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\n</code></pre>\n<p>it call the <strong>loadUserByUsername()</strong> method defined in my <strong>CustomUserDetailsService</strong>. This method basically retrieve the user information calling a service of the **<strong>GET-USER-WS</strong> and build a <strong>UserDetails</strong> object (that is a Spring Security object, this one: <strong>org.springframework.security.core.userdetails.UserDetails</strong>).</p>\n<p>This is the code of this method:</p>\n<pre><code>@Override\npublic UserDetails loadUserByUsername(String UserId) throws UsernameNotFoundException {\n    \n    String ErrMsg = &quot;&quot;;\n    \n    if (UserId == null || UserId.length() &lt; 2) {\n        ErrMsg = &quot;Nome utente assente o non valido&quot;;\n        \n        logger.warn(ErrMsg);\n        \n        throw new UsernameNotFoundException(ErrMsg); \n    } \n    \n    User user = this.GetHttpValue(UserId);\n    \n    if (user == null) {\n        ErrMsg = String.format(&quot;User %s not found!!&quot;, UserId);\n        \n        logger.warn(ErrMsg);\n        \n        throw new UsernameNotFoundException(ErrMsg);\n    }\n    \n    UserBuilder builder = null;\n    \n    builder = org.springframework.security.core.userdetails.User.withUsername(Integer.toString(user.getId()));\n    builder.password(user.getPswd());\n    \n    String[] operations = user.getUserTypes().stream()\n            .map(UserType::getOperations)\n            .flatMap(Set::stream)\n            .map(Operation::getName)\n            .distinct()\n            .toArray(String[]::new);\n    \n    builder.authorities(operations);\n    \n    \n    return builder.build();\n    \n}\n</code></pre>\n<p>This line simply execute the <strong>GetHttpValue()</strong> method used to perform the call with the RestTemplate in order to retrieve an <strong>User</strong> object containing the details of the user:</p>\n<pre><code>User user = this.GetHttpValue(UserId);\n</code></pre>\n<p>So, come back to the first <strong>createAuthenticationToken()</strong> of the previous <strong>JwtAuthenticationRestController</strong> controller class. My problem is that it retrieve this <strong>UserDetails userDetails</strong> object, at this line:</p>\n<pre><code>final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\n</code></pre>\n<p>using the deubugger this is the content of my <strong>userDetails</strong> instance:</p>\n<pre><code>org.springframework.security.core.userdetails.User [Username=50, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]]\n</code></pre>\n<p>it seems to me correct (except the <strong>Username</strong> field that contains the ID of the user and not the username...I will change in a second time, it should not be the problem).</p>\n<p>Then it perform this line in order to generate the JWT token starting from this <strong>userDetails</strong> object:</p>\n<pre><code>final String token = jwtTokenUtil.generateToken(userDetails);\n</code></pre>\n<p>This is the code of the <strong>generateToken()</strong> method defined into a class named <strong>JwtTokenUtil</strong>:</p>\n<pre><code>public String generateToken(UserDetails userDetails) {\n    Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n    return doGenerateToken(claims, userDetails);\n}\n</code></pre>\n<p>It first create an empty HashMap and then call the <strong>doGenerateToken()</strong>, this is the code:</p>\n<pre><code>private String doGenerateToken(Map&lt;String, Object&gt; claims, UserDetails userDetails) {\n    final Date createdDate = clock.now();\n    final Date expirationDate = calculateExpirationDate(createdDate);\n\n    return Jwts.builder()\n            .setClaims(claims)\n            .setSubject(userDetails.getUsername())\n            .claim(&quot;authorities&quot;, userDetails.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\n            .setIssuedAt(createdDate)\n            .setExpiration(expirationDate)\n            .signWith(SignatureAlgorithm.HS512, jwtConfig.getSecret().getBytes())\n            .compact();\n}\n</code></pre>\n<p>It correctly create the <strong>expirationDate</strong> date. Then at the end it throws the following exception (using the deubbugger it seems to me that it is thrown on the <strong>compact()</strong> execution):\nThe problem is that when this line is executed I am obtaining the following exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\n    at io.jsonwebtoken.impl.Base64Codec.encode(Base64Codec.java:21) ~[jjwt-0.9.1.jar:0.9.1]\n    at io.jsonwebtoken.impl.Base64UrlCodec.encode(Base64UrlCodec.java:22) ~[jjwt-0.9.1.jar:0.9.1]\n    at io.jsonwebtoken.impl.DefaultJwtBuilder.base64UrlEncode(DefaultJwtBuilder.java:349) ~[jjwt-0.9.1.jar:0.9.1]\n    at io.jsonwebtoken.impl.DefaultJwtBuilder.compact(DefaultJwtBuilder.java:295) ~[jjwt-0.9.1.jar:0.9.1]\n    at com.easydefi.authserverjwt.security.JwtTokenUtil.doGenerateToken(JwtTokenUtil.java:87) ~[classes/:na]\n    at com.easydefi.authserverjwt.security.JwtTokenUtil.generateToken(JwtTokenUtil.java:72) ~[classes/:na]\n    at com.easydefi.authserverjwt.controller.JwtAuthenticationRestController.createAuthenticationToken(JwtAuthenticationRestController.java:60) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:204) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n</code></pre>\n<p>Why? What am I missing? How can I try to solve this issue?</p>\n"},{"tags":["java","android","youtube","android-tv"],"comments":[{"owner":{"account_id":13962640,"reputation":723,"user_id":10086742,"display_name":"mahdi"},"score":0,"creation_date":1697613005,"post_id":77095006,"comment_id":136300176,"body_markdown":"Youtube uses different codec for videos, and your device may not support decoding some of the codes with hardware decoder. You need to first check the video codecs and the your device capabilities to make sure that the decoding is not done in software.","body":"Youtube uses different codec for videos, and your device may not support decoding some of the codes with hardware decoder. You need to first check the video codecs and the your device capabilities to make sure that the decoding is not done in software."}],"owner":{"account_id":12284483,"reputation":1,"user_id":8964617,"display_name":"Khaled Msouti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694631572,"creation_date":1694590861,"question_id":77095006,"body_markdown":"When I try to run a YouTube video inside Android TV application the video is running so roughly. \r\n\r\nBefore 3 months I was using YouTube Android API to run the video on the same device but this library is fully deprecated now. \r\n\r\nMy code is the very base code from YouTube API (iframe) page: \r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n  &lt;body&gt;\r\n    &lt;!-- 1. The &lt;iframe&gt; (and video player) will replace this &lt;div&gt; tag. --&gt;\r\n    &lt;div id=&quot;player&quot;&gt;&lt;/div&gt;\r\n\r\n    &lt;script&gt;\r\n      // 2. This code loads the IFrame Player API code asynchronously.\r\n      var tag = document.createElement(&#39;script&#39;);\r\n\r\n      tag.src = &quot;https://www.youtube.com/iframe_api&quot;;\r\n      var firstScriptTag = document.getElementsByTagName(&#39;script&#39;)[0];\r\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n\r\n      // 3. This function creates an &lt;iframe&gt; (and YouTube player)\r\n      //    after the API code downloads.\r\n      var player;\r\n      function onYouTubeIframeAPIReady() {\r\n        player = new YT.Player(&#39;player&#39;, {\r\n          height: &#39;390&#39;,\r\n          width: &#39;640&#39;,\r\n          videoId: &#39;M7lc1UVf-VE&#39;,\r\n          playerVars: {\r\n            &#39;playsinline&#39;: 1\r\n          },\r\n          events: {\r\n            &#39;onReady&#39;: onPlayerReady,\r\n            &#39;onStateChange&#39;: onPlayerStateChange\r\n          }\r\n        });\r\n      }\r\n\r\n      // 4. The API will call this function when the video player is ready.\r\n      function onPlayerReady(event) {\r\n        event.target.playVideo();\r\n      }\r\n\r\n      // 5. The API calls this function when the player&#39;s state changes.\r\n      //    The function indicates that when playing a video (state=1),\r\n      //    the player should play for six seconds and then stop.\r\n      var done = false;\r\n      function onPlayerStateChange(event) {\r\n        if (event.data == YT.PlayerState.PLAYING &amp;&amp; !done) {\r\n          setTimeout(stopVideo, 6000);\r\n          done = true;\r\n        }\r\n      }\r\n      function stopVideo() {\r\n        player.stopVideo();\r\n      }\r\n    &lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nthen I load this code inside a webview like this: \r\n\r\n\r\n```\r\n WebView videoView = findViewById(R.id.video);\r\n        videoView.getSettings().setJavaScriptEnabled(true);\r\n        videoView.getSettings().setMediaPlaybackRequiresUserGesture(false);\r\n        videoView.setWebChromeClient(new WebChromeClient());\r\n        videoView.getSettings().setCacheMode(WebSettings.LOAD_DEFAULT);\r\n\r\n        String html = getPageHTML();\r\n        videoView.loadDataWithBaseURL(null, html, &quot;text/html&quot;, &quot;utf-8&quot;, null);\r\n\r\n```\r\n\r\nwhere html is the previous code \r\n\r\nNOTES: \r\n1- I have tried 3rd party libraries and the same result is happening every single time \r\n2- In manifest `android:hardwareAccelerated=&quot;true&quot;`\r\n\r\n\r\nhope you can help me to find a way to run the video smoothly","title":"Run YouTube video smoothly in Android TV","body":"<p>When I try to run a YouTube video inside Android TV application the video is running so roughly.</p>\n<p>Before 3 months I was using YouTube Android API to run the video on the same device but this library is fully deprecated now.</p>\n<p>My code is the very base code from YouTube API (iframe) page:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;body&gt;\n    &lt;!-- 1. The &lt;iframe&gt; (and video player) will replace this &lt;div&gt; tag. --&gt;\n    &lt;div id=&quot;player&quot;&gt;&lt;/div&gt;\n\n    &lt;script&gt;\n      // 2. This code loads the IFrame Player API code asynchronously.\n      var tag = document.createElement('script');\n\n      tag.src = &quot;https://www.youtube.com/iframe_api&quot;;\n      var firstScriptTag = document.getElementsByTagName('script')[0];\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n      // 3. This function creates an &lt;iframe&gt; (and YouTube player)\n      //    after the API code downloads.\n      var player;\n      function onYouTubeIframeAPIReady() {\n        player = new YT.Player('player', {\n          height: '390',\n          width: '640',\n          videoId: 'M7lc1UVf-VE',\n          playerVars: {\n            'playsinline': 1\n          },\n          events: {\n            'onReady': onPlayerReady,\n            'onStateChange': onPlayerStateChange\n          }\n        });\n      }\n\n      // 4. The API will call this function when the video player is ready.\n      function onPlayerReady(event) {\n        event.target.playVideo();\n      }\n\n      // 5. The API calls this function when the player's state changes.\n      //    The function indicates that when playing a video (state=1),\n      //    the player should play for six seconds and then stop.\n      var done = false;\n      function onPlayerStateChange(event) {\n        if (event.data == YT.PlayerState.PLAYING &amp;&amp; !done) {\n          setTimeout(stopVideo, 6000);\n          done = true;\n        }\n      }\n      function stopVideo() {\n        player.stopVideo();\n      }\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>then I load this code inside a webview like this:</p>\n<pre><code> WebView videoView = findViewById(R.id.video);\n        videoView.getSettings().setJavaScriptEnabled(true);\n        videoView.getSettings().setMediaPlaybackRequiresUserGesture(false);\n        videoView.setWebChromeClient(new WebChromeClient());\n        videoView.getSettings().setCacheMode(WebSettings.LOAD_DEFAULT);\n\n        String html = getPageHTML();\n        videoView.loadDataWithBaseURL(null, html, &quot;text/html&quot;, &quot;utf-8&quot;, null);\n\n</code></pre>\n<p>where html is the previous code</p>\n<p>NOTES:\n1- I have tried 3rd party libraries and the same result is happening every single time\n2- In manifest <code>android:hardwareAccelerated=&quot;true&quot;</code></p>\n<p>hope you can help me to find a way to run the video smoothly</p>\n"},{"tags":["java","keycloak","openid-connect","keycloak-services","keycloak-rest-api"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1694639384,"post_id":77099649,"comment_id":135919467,"body_markdown":"You&#39;ve &quot;not implemented spring security with keycloak&quot;. OK, but how is it implemented, then?","body":"You&#39;ve &quot;not implemented spring security with keycloak&quot;. OK, but how is it implemented, then?"},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1694895168,"post_id":77099649,"comment_id":135952465,"body_markdown":"@ch4mp - when the login fails, event listener is still able to print userId and username as part of the event, &quot;login_error&quot;, I am trying to get that userId &amp; userName.","body":"@ch4mp - when the login fails, event listener is still able to print userId and username as part of the event, &quot;login_error&quot;, I am trying to get that userId &amp; userName."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1694912089,"post_id":77099649,"comment_id":135953665,"body_markdown":"You don&#39;t answer to my question. We have absolutely no info about your security configuration. How exactly are we supposed to explain how your login machanism behaves?","body":"You don&#39;t answer to my question. We have absolutely no info about your security configuration. How exactly are we supposed to explain how your login machanism behaves?"},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1694937108,"post_id":77099649,"comment_id":135955100,"body_markdown":"@ch4mp - application acts as a oAuth2-client, with keycloak configured to act as auth-server.","body":"@ch4mp - application acts as a oAuth2-client, with keycloak configured to act as auth-server."}],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694631183,"creation_date":1694629714,"question_id":77099649,"body_markdown":"I have not implemented spring security with keycloak. So, SecurityContext is null. I can see that eventlisteners are able to pull the userID and userName. I am implementing a custom logging mechanism, where I am intercepting every httpServletRequest to pull the attributes of the httpRequest. However, I am not able to find a way to stamp the userID and userName to the attributes of every httpRequest. I can see that userModel holds all the uer Attributes. Is there a way to fetch the userID and UserName and add them to my logging mechanism ?","title":"Pull user details from UserModel in Keycloak","body":"<p>I have not implemented spring security with keycloak. So, SecurityContext is null. I can see that eventlisteners are able to pull the userID and userName. I am implementing a custom logging mechanism, where I am intercepting every httpServletRequest to pull the attributes of the httpRequest. However, I am not able to find a way to stamp the userID and userName to the attributes of every httpRequest. I can see that userModel holds all the uer Attributes. Is there a way to fetch the userID and UserName and add them to my logging mechanism ?</p>\n"},{"tags":["java","get","apache-camel","quarkus"],"comments":[{"owner":{"account_id":11777559,"reputation":1172,"user_id":8627215,"display_name":"James Netherton"},"score":0,"creation_date":1694673260,"post_id":77099693,"comment_id":135922579,"body_markdown":"From the stack trace it seems like you are trying to produce to an HTTP endpoint but have not specified either a host or scheme in the URL.","body":"From the stack trace it seems like you are trying to produce to an HTTP endpoint but have not specified either a host or scheme in the URL."}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694631050,"creation_date":1694630166,"question_id":77099693,"body_markdown":" I am new with Camel in Quarkus and I am working on an API that has two GET Methods with a difference in the parameters sent, one with a specific parameter that is passed and another through QueryParam\r\n\r\nExample:\r\n\r\n- https://localhost:8084/userProfile/v3.6/users/{userid} ---&gt; UniqueParame\r\n- https://localhost:8084/userProfile/v3.6/users?identity1&amp;identity2 --&gt; QueryParam\r\n\r\nI am configuring the routes in my ResRoute in the following way, however, it is giving me an error:\r\n\r\n        rest(&quot;userProfile/v3.6/&quot;)\r\n                .get(&quot;/users/{user_id}&quot;).to(&quot;direct:/{user_id}&quot;)\r\n                    .outType(UserProfile.class)\r\n                    .param().name(&quot;UserProfile&quot;).type(body).description(&quot;parametro de salida&quot;).required(true)\r\n                    .endParam()\r\n                    .to(&quot;direct:userIdParam&quot;);\r\n\r\n        rest(&quot;userProfile/v3.6/&quot;)\r\n                .get(&quot;/users?&quot;).to(&quot;direct:/users?&quot;)\r\n                .outType(UserProfile.class)\r\n                .param().name(&quot;UserProfile&quot;).type(body).description(&quot;parametro de salida&quot;).required(true)\r\n                .endParam()\r\n                .to(&quot;direct:usersQueryParam&quot;);\r\n\r\nThe error it gives me is the following:\r\n\r\n    ---------------------------------------------------------------------------------------------------------------------------------------: java.lang.IllegalArgumentException: Invalid u\r\n    rl: /userProfile/v3.6/users/userProfile/v3.6/users?identity=+584242222222. If you are forwarding/bridging http endpoints, then enable the bridgeEndpoint option on the endpoint: https://10.162.128.94:30000/api/findCustomerDocumentBySubscriberId?bridgeEndpoint=false\r\n            at org.apache.camel.component.http.HttpProducer.createMethod(HttpProducer.java:643)\r\n            at org.apache.camel.component.http.HttpProducer.process(HttpProducer.java:162)\r\n            at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66)\r\n            at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172)\r\n            at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392)\r\n            at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:104)\r\n            at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181)\r\n            at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)\r\n            at org.apache.camel.processor.Pipeline.process(Pipeline.java:165)\r\n            at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392)\r\n            at org.apache.camel.component.platform.http.vertx.VertxPlatformHttpConsumer.lambda$handleRequest$2(VertxPlatformHttpConsumer.java:201)\r\n            at io.vertx.core.impl.ContextBase.lambda$null$0(ContextBase.java:137)\r\n            at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\r\n            at io.vertx.core.impl.ContextBase.lambda$executeBlocking$1(ContextBase.java:135)\r\n            at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n            at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n            at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n            at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nWhat have I configured incorrectly that is why I get this error?\r\n\r\n","title":"Apache Camel with 2 GET operations (Parameter and QueryParams)","body":"<p>I am new with Camel in Quarkus and I am working on an API that has two GET Methods with a difference in the parameters sent, one with a specific parameter that is passed and another through QueryParam</p>\n<p>Example:</p>\n<ul>\n<li>https://localhost:8084/userProfile/v3.6/users/{userid} ---&gt; UniqueParame</li>\n<li>https://localhost:8084/userProfile/v3.6/users?identity1&amp;identity2 --&gt; QueryParam</li>\n</ul>\n<p>I am configuring the routes in my ResRoute in the following way, however, it is giving me an error:</p>\n<pre><code>    rest(&quot;userProfile/v3.6/&quot;)\n            .get(&quot;/users/{user_id}&quot;).to(&quot;direct:/{user_id}&quot;)\n                .outType(UserProfile.class)\n                .param().name(&quot;UserProfile&quot;).type(body).description(&quot;parametro de salida&quot;).required(true)\n                .endParam()\n                .to(&quot;direct:userIdParam&quot;);\n\n    rest(&quot;userProfile/v3.6/&quot;)\n            .get(&quot;/users?&quot;).to(&quot;direct:/users?&quot;)\n            .outType(UserProfile.class)\n            .param().name(&quot;UserProfile&quot;).type(body).description(&quot;parametro de salida&quot;).required(true)\n            .endParam()\n            .to(&quot;direct:usersQueryParam&quot;);\n</code></pre>\n<p>The error it gives me is the following:</p>\n<pre><code>---------------------------------------------------------------------------------------------------------------------------------------: java.lang.IllegalArgumentException: Invalid u\nrl: /userProfile/v3.6/users/userProfile/v3.6/users?identity=+584242222222. If you are forwarding/bridging http endpoints, then enable the bridgeEndpoint option on the endpoint: https://10.162.128.94:30000/api/findCustomerDocumentBySubscriberId?bridgeEndpoint=false\n        at org.apache.camel.component.http.HttpProducer.createMethod(HttpProducer.java:643)\n        at org.apache.camel.component.http.HttpProducer.process(HttpProducer.java:162)\n        at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66)\n        at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172)\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392)\n        at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:104)\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181)\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)\n        at org.apache.camel.processor.Pipeline.process(Pipeline.java:165)\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392)\n        at org.apache.camel.component.platform.http.vertx.VertxPlatformHttpConsumer.lambda$handleRequest$2(VertxPlatformHttpConsumer.java:201)\n        at io.vertx.core.impl.ContextBase.lambda$null$0(ContextBase.java:137)\n        at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\n        at io.vertx.core.impl.ContextBase.lambda$executeBlocking$1(ContextBase.java:135)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>What have I configured incorrectly that is why I get this error?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"score":0,"creation_date":1512637720,"post_id":47691310,"comment_id":82341557,"body_markdown":"Which warning ?","body":"Which warning ?"},{"owner":{"account_id":5758152,"reputation":508,"user_id":4545369,"accept_rate":67,"display_name":"StarterPack"},"score":3,"creation_date":1512638114,"post_id":47691310,"comment_id":82341822,"body_markdown":"It seems like the problem is not the fact that you used getString but that you should not be using hardware ids in your app at all. See: https://developer.android.com/training/articles/user-data-ids.html","body":"It seems like the problem is not the fact that you used getString but that you should not be using hardware ids in your app at all. See: <a href=\"https://developer.android.com/training/articles/user-data-ids.html\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/user-data-ids.html</a>"},{"owner":{"account_id":8371279,"reputation":696,"user_id":6286328,"accept_rate":50,"display_name":"FabioR"},"score":1,"creation_date":1603897224,"post_id":47691310,"comment_id":114182288,"body_markdown":"@StarterPack actually the deal is whether the id is resettable or not (ids like the IMEI are not resettable, ANDROID_ID is through factory reset). So I believe it is possible to use ANDROID_ID, but I find it weird that this warning is displayed in AS.","body":"@StarterPack actually the deal is whether the id is resettable or not (ids like the IMEI are not resettable, ANDROID_ID is through factory reset). So I believe it is possible to use ANDROID_ID, but I find it weird that this warning is displayed in AS."}],"answers":[{"tags":[],"owner":{"account_id":3175248,"reputation":7363,"user_id":5457878,"accept_rate":67,"display_name":"gi097"},"down_vote_count":1,"up_vote_count":66,"is_accepted":true,"score":65,"last_activity_date":1512638956,"creation_date":1512638468,"answer_id":47691574,"question_id":47691310,"body_markdown":"The full warning says:\n&gt; Using these device identifiers is not recommended other\n&gt; than for high value fraud prevention and advanced telephony use-cases.\n&gt; For advertising use-cases, use AdvertisingIdClient$Info#getId and for\n&gt; analytics, use InstanceId#getId.\n&gt;\n&gt; More info:\n&gt; https://developer.android.com/training/articles/user-data-ids.html\n\nI think Android does not recommend using this value, since it&#39;s a permanent unique id, which can be used to track your user, and he or she can&#39;t change this id or prevent you to read it. The other options given in the warning respects your user&#39;s wishes. That&#39;s why Android recommend you to use that.\n\nIt really depends on what you are going to do with that id. Privacy is a sensitive thing these days.\n\nAlso check this:\n\n&gt; ...you must abide by a user’s ‘Opt out of interest-based advertising’\n&gt; or &#39;Opt out of Ads Personalization&#39; setting. If a user has enabled\n&gt; this setting, you may not use the advertising identifier for creating\n&gt; user profiles for advertising purposes or for targeting users with\n&gt; personalized advertising. Allowed activities include contextual\n&gt; advertising, frequency capping, conversion tracking, reporting and\n&gt; security and fraud detection.\n\nSource: https://developer.android.com/training/articles/user-data-ids.html\n","title":"Why is &quot;using getString() to get device identifiers&quot; not recommended?","body":"<p>The full warning says:</p>\n<blockquote>\n<p>Using these device identifiers is not recommended other\nthan for high value fraud prevention and advanced telephony use-cases.\nFor advertising use-cases, use AdvertisingIdClient$Info#getId and for\nanalytics, use InstanceId#getId.</p>\n<p>More info:\n<a href=\"https://developer.android.com/training/articles/user-data-ids.html\" rel=\"noreferrer\">https://developer.android.com/training/articles/user-data-ids.html</a></p>\n</blockquote>\n<p>I think Android does not recommend using this value, since it's a permanent unique id, which can be used to track your user, and he or she can't change this id or prevent you to read it. The other options given in the warning respects your user's wishes. That's why Android recommend you to use that.</p>\n<p>It really depends on what you are going to do with that id. Privacy is a sensitive thing these days.</p>\n<p>Also check this:</p>\n<blockquote>\n<p>...you must abide by a user’s ‘Opt out of interest-based advertising’\nor 'Opt out of Ads Personalization' setting. If a user has enabled\nthis setting, you may not use the advertising identifier for creating\nuser profiles for advertising purposes or for targeting users with\npersonalized advertising. Allowed activities include contextual\nadvertising, frequency capping, conversion tracking, reporting and\nsecurity and fraud detection.</p>\n</blockquote>\n<p>Source: <a href=\"https://developer.android.com/training/articles/user-data-ids.html\" rel=\"noreferrer\">https://developer.android.com/training/articles/user-data-ids.html</a></p>\n"},{"tags":[],"owner":{"account_id":5442731,"reputation":656,"user_id":4330343,"display_name":"dicarlomagnus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694630683,"creation_date":1694630683,"answer_id":77099741,"question_id":47691310,"body_markdown":"The warning you&#39;re seeing is related to the use of `Settings.Secure.getString()` to retrieve device identifiers like the Android ID. This approach is generally not recommended for a few reasons:\r\n\r\n### Reasons:\r\n\r\n1. **Privacy Concerns**: Accessing device identifiers can pose privacy risks and may be against the policies of some app stores.\r\n  \r\n2. **Unreliable Identifiers**: The Android ID can change upon performing a factory reset, and it can be null for some devices. It&#39;s also possible for it to be easily altered on a rooted device.\r\n\r\n3. **Limited Use Cases**: Android IDs are not suitable for several use-cases like user authentication, analytics tracking, etc., due to their limitations.\r\n\r\n### Alternatives:\r\n\r\n1. **Instance ID**: This provides a unique identifier for each app instance and is suitable for most use-cases that need a unique identifier.\r\n\r\n    ```kotlin\r\n    FirebaseInstanceId.getInstance().instanceId\r\n        .addOnCompleteListener(OnCompleteListener { task -&gt;\r\n            if (!task.isSuccessful) {\r\n                return@OnCompleteListener\r\n            }\r\n            val token = task.result?.token\r\n        })\r\n    ```\r\n  \r\n2. **GUID (Globally Unique Identifier)**: If you just need a unique identifier for each installation or user session, consider generating a GUID upon app installation and storing it in `SharedPreferences`.\r\n\r\n    ```kotlin\r\n    val uniqueID = UUID.randomUUID().toString()\r\n    ```\r\n\r\n3. **Use Advertising ID for Advertising**: If you need the identifier for advertising purposes, consider using Google&#39;s Advertising ID, which is user-resettable and recommended for advertising use-cases.\r\n\r\n    ```kotlin\r\n    AdvertisingIdClient.getAdvertisingIdInfo(context).id\r\n    ```\r\n\r\n4. **Scoped Storage or App-Specific IDs**: For device identification that doesn&#39;t need to persist across app installations, you can use identifiers that are scoped to your app&#39;s storage or generate a random ID and store it in your app&#39;s local storage.\r\n\r\n### Code Refactoring:\r\n\r\nIf you decide to use Instance ID, your utility function could look like this:\r\n\r\n```kotlin\r\nclass DeviceUtils {\r\n    fun getDeviceId(context: Context, callback: (String) -&gt; Unit) {\r\n        FirebaseInstanceId.getInstance().instanceId\r\n            .addOnCompleteListener(OnCompleteListener { task -&gt;\r\n                if (task.isSuccessful) {\r\n                    callback(task.result?.token ?: &quot;&quot;)\r\n                }\r\n            })\r\n    }\r\n}\r\n```\r\n\r\nRemember to add the necessary Firebase dependencies to your `build.gradle` file.\r\n\r\nHappy coding!","title":"Why is &quot;using getString() to get device identifiers&quot; not recommended?","body":"<p>The warning you're seeing is related to the use of <code>Settings.Secure.getString()</code> to retrieve device identifiers like the Android ID. This approach is generally not recommended for a few reasons:</p>\n<h3>Reasons:</h3>\n<ol>\n<li><p><strong>Privacy Concerns</strong>: Accessing device identifiers can pose privacy risks and may be against the policies of some app stores.</p>\n</li>\n<li><p><strong>Unreliable Identifiers</strong>: The Android ID can change upon performing a factory reset, and it can be null for some devices. It's also possible for it to be easily altered on a rooted device.</p>\n</li>\n<li><p><strong>Limited Use Cases</strong>: Android IDs are not suitable for several use-cases like user authentication, analytics tracking, etc., due to their limitations.</p>\n</li>\n</ol>\n<h3>Alternatives:</h3>\n<ol>\n<li><p><strong>Instance ID</strong>: This provides a unique identifier for each app instance and is suitable for most use-cases that need a unique identifier.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>FirebaseInstanceId.getInstance().instanceId\n    .addOnCompleteListener(OnCompleteListener { task -&gt;\n        if (!task.isSuccessful) {\n            return@OnCompleteListener\n        }\n        val token = task.result?.token\n    })\n</code></pre>\n</li>\n<li><p><strong>GUID (Globally Unique Identifier)</strong>: If you just need a unique identifier for each installation or user session, consider generating a GUID upon app installation and storing it in <code>SharedPreferences</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val uniqueID = UUID.randomUUID().toString()\n</code></pre>\n</li>\n<li><p><strong>Use Advertising ID for Advertising</strong>: If you need the identifier for advertising purposes, consider using Google's Advertising ID, which is user-resettable and recommended for advertising use-cases.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>AdvertisingIdClient.getAdvertisingIdInfo(context).id\n</code></pre>\n</li>\n<li><p><strong>Scoped Storage or App-Specific IDs</strong>: For device identification that doesn't need to persist across app installations, you can use identifiers that are scoped to your app's storage or generate a random ID and store it in your app's local storage.</p>\n</li>\n</ol>\n<h3>Code Refactoring:</h3>\n<p>If you decide to use Instance ID, your utility function could look like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class DeviceUtils {\n    fun getDeviceId(context: Context, callback: (String) -&gt; Unit) {\n        FirebaseInstanceId.getInstance().instanceId\n            .addOnCompleteListener(OnCompleteListener { task -&gt;\n                if (task.isSuccessful) {\n                    callback(task.result?.token ?: &quot;&quot;)\n                }\n            })\n    }\n}\n</code></pre>\n<p>Remember to add the necessary Firebase dependencies to your <code>build.gradle</code> file.</p>\n<p>Happy coding!</p>\n"}],"owner":{"account_id":8960180,"reputation":6051,"user_id":6683139,"accept_rate":85,"display_name":"Ege Kuzubasioglu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30525,"favorite_count":0,"down_vote_count":2,"up_vote_count":98,"accepted_answer_id":47691574,"answer_count":2,"score":96,"last_activity_date":1694630683,"creation_date":1512637617,"question_id":47691310,"body_markdown":"I&#39;m trying to get my device ID to Logcat but Android Studio is giving me this warning. \r\n\r\n&gt; using getstring to get device identifiers is not recommended\r\n\r\n    String deviceID = Settings.Secure.getString(getApplicationContext().getContentResolver(),\r\n            Settings.Secure.ANDROID_ID);\r\n\r\nWhy is it not recommended?\r\n","title":"Why is &quot;using getString() to get device identifiers&quot; not recommended?","body":"<p>I'm trying to get my device ID to Logcat but Android Studio is giving me this warning. </p>\n\n<blockquote>\n  <p>using getstring to get device identifiers is not recommended</p>\n</blockquote>\n\n<pre><code>String deviceID = Settings.Secure.getString(getApplicationContext().getContentResolver(),\n        Settings.Secure.ANDROID_ID);\n</code></pre>\n\n<p>Why is it not recommended?</p>\n"},{"tags":["java","fonts"],"comments":[{"owner":{"account_id":2185299,"reputation":149,"user_id":1933832,"display_name":"Dhiren"},"score":0,"creation_date":1356689644,"post_id":14066525,"comment_id":19446197,"body_markdown":"Linux APAUTODNS1-1 2.6.32-202.el6.x86_64 #1 SMP Wed Sep 21 15:27:03 EDT 2011 x86_64 x86_64 x86_64 GNU/Linux\n2.6.32-202.el6.x86_64\njava version &quot;1.6.0_22&quot;\nOpenJDK Runtime Environment (IcedTea6 1.10.3) (rhel-1.40.1.10.3.el6-x86_64)\nOpenJDK 64-Bit Server VM (build 20.0-b11, mixed mode)\nServer version: Apache Tomcat/6.0.35\nServer built:   Nov 28 2011 11:20:06\nServer number:  6.0.35.0\nOS Name:        Linux\nOS Version:     2.6.32-202.el6.x86_64\nArchitecture:   amd64\nJVM Version:    1.6.0_22-b22\nJVM Vendor:     Sun Microsystems Inc.","body":"Linux APAUTODNS1-1 2.6.32-202.el6.x86_64 #1 SMP Wed Sep 21 15:27:03 EDT 2011 x86_64 x86_64 x86_64 GNU/Linux 2.6.32-202.el6.x86_64 java version &quot;1.6.0_22&quot; OpenJDK Runtime Environment (IcedTea6 1.10.3) (rhel-1.40.1.10.3.el6-x86_64) OpenJDK 64-Bit Server VM (build 20.0-b11, mixed mode) Server version: Apache Tomcat/6.0.35 Server built:   Nov 28 2011 11:20:06 Server number:  6.0.35.0 OS Name:        Linux OS Version:     2.6.32-202.el6.x86_64 Architecture:   amd64 JVM Version:    1.6.0_22-b22 JVM Vendor:     Sun Microsystems Inc."}],"answers":[{"tags":[],"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356682174,"creation_date":1356682174,"answer_id":14066548,"question_id":14066525,"body_markdown":"Try putting same `Windows` fonts that are required for the application in `Linux` fonts directory.","title":"java.lang.Error: Probable fatal error:No fonts found","body":"<p>Try putting same <code>Windows</code> fonts that are required for the application in <code>Linux</code> fonts directory.</p>\n"},{"tags":[],"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1385737235,"creation_date":1381735472,"answer_id":19355276,"question_id":14066525,"body_markdown":"under Ubuntu you can install fonts by \r\n\r\n        sudo apt-get install ttf-dejavu\r\n\r\nor if you use CentOS, you can install fonts by\r\n\r\n        yum install dejavu*\r\n","title":"java.lang.Error: Probable fatal error:No fonts found","body":"<p>under Ubuntu you can install fonts by </p>\n\n<pre><code>    sudo apt-get install ttf-dejavu\n</code></pre>\n\n<p>or if you use CentOS, you can install fonts by</p>\n\n<pre><code>    yum install dejavu*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5736186,"reputation":51,"user_id":4530289,"display_name":"EnricoF"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423081037,"creation_date":1423081037,"answer_id":28330645,"question_id":14066525,"body_markdown":"In my case (debian wheezy) installing the dejavu font does not solve the problem.\r\n\r\nI have solved after installing the fontconfig package \r\n\r\nsudo apt-get install fontconfig","title":"java.lang.Error: Probable fatal error:No fonts found","body":"<p>In my case (debian wheezy) installing the dejavu font does not solve the problem.</p>\n\n<p>I have solved after installing the fontconfig package </p>\n\n<p>sudo apt-get install fontconfig</p>\n"},{"tags":[],"owner":{"account_id":15889893,"reputation":11,"user_id":11465329,"display_name":"Fiskegubbe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557239407,"creation_date":1557239407,"answer_id":56024906,"question_id":14066525,"body_markdown":"Debian 9 Stretch\r\nInstall Fonts: sudo apt-get install ttf-dejavu\r\nInstall fontconfig: sudo apt-get install fontconfig\r\nRebuild the font cache: fc-cache -f -v\r\nRestart Tomcat\r\n\r\nWorks","title":"java.lang.Error: Probable fatal error:No fonts found","body":"<p>Debian 9 Stretch\nInstall Fonts: sudo apt-get install ttf-dejavu\nInstall fontconfig: sudo apt-get install fontconfig\nRebuild the font cache: fc-cache -f -v\nRestart Tomcat</p>\n\n<p>Works</p>\n"},{"tags":[],"owner":{"account_id":29434392,"reputation":1,"user_id":22553516,"display_name":"Natan Bonfim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694629938,"creation_date":1694629938,"answer_id":77099676,"question_id":14066525,"body_markdown":"I wrote a class, which ran on the server, to figure out which fonts the JVM could accept. And I used one of them, but it didn&#39;t work either. What really solved my problem was this command: sudo apt-get install fontconfig. I&#39;m using Ubuntu and consequently I had to restart the system.\r\n","title":"java.lang.Error: Probable fatal error:No fonts found","body":"<p>I wrote a class, which ran on the server, to figure out which fonts the JVM could accept. And I used one of them, but it didn't work either. What really solved my problem was this command: sudo apt-get install fontconfig. I'm using Ubuntu and consequently I had to restart the system.</p>\n"}],"owner":{"account_id":2185299,"reputation":149,"user_id":1933832,"display_name":"Dhiren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20670,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1694629938,"creation_date":1356681995,"question_id":14066525,"body_markdown":"I am using same code of jfreechart in linux and windows with zkoss.\r\n\r\nWhen i run same code in windows it runs fine, but in linux it gives font related error as under....\r\n\r\nCan anyone please suggest me how can i resolve this issue permanently ?\r\n\r\n\r\n\r\n**java.lang.Error: Probable fatal error:No fonts found.**\r\n\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1087)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\r\n    sun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\r\n    sun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\r\n    sun.font.FontManager.findDeferredFont(FontManager.java:915)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1903)\r\n    sun.font.FontManager.findFont2D(FontManager.java:1864)\r\n    java.awt.Font.getFont2D(Font.java:477)\r\n    sun.font.FontManager.getFont2D(Native Method)\r\n    sun.font.FontDesignMetrics.initMatrixAndMetrics(FontDesignMetrics.java:356)\r\n    sun.font.FontDesignMetrics.&lt;init&gt;(FontDesignMetrics.java:349)\r\n    sun.font.FontDesignMetrics.getMetrics(FontDesignMetrics.java:301)\r\n    sun.java2d.SunGraphics2D.getFontMetrics(SunGraphics2D.java:787)\r\n    org.jfree.text.TextFragment.calculateDimensions(TextFragment.java:229)\r\n    org.jfree.text.TextLine.calculateDimensions(TextLine.java:190)\r\n    org.jfree.text.TextBlock.calculateDimensions(TextBlock.java:171)\r\n    org.jfree.chart.block.LabelBlock.arrange(LabelBlock.java:316)\r\n    org.jfree.chart.block.BorderArrangement.arrangeNN(BorderArrangement.java:210)\r\n    org.jfree.chart.block.BorderArrangement.arrange(BorderArrangement.java:137)\r\n    org.jfree.chart.block.BlockContainer.arrange(BlockContainer.java:179)\r\n    org.jfree.chart.block.CenterArrangement.arrangeNN(CenterArrangement.java:284)\r\n    org.jfree.chart.block.CenterArrangement.arrange(CenterArrangement.java:98)\r\n    org.jfree.chart.block.BlockContainer.arrange(BlockContainer.java:179)\r\n    org.jfree.chart.block.FlowArrangement.arrangeNN(FlowArrangement.java:365)\r\n    org.jfree.chart.block.FlowArrangement.arrangeRR(FlowArrangement.java:283)\r\n    org.jfree.chart.block.FlowArrangement.arrange(FlowArrangement.java:158)\r\n    org.jfree.chart.block.BlockContainer.arrange(BlockContainer.java:179)\r\n    org.jfree.chart.title.LegendTitle.arrange(LegendTitle.java:501)\r\n    org.jfree.chart.JFreeChart.drawTitle(JFreeChart.java:1330)\r\n    org.jfree.chart.JFreeChart.draw(JFreeChart.java:1220)","title":"java.lang.Error: Probable fatal error:No fonts found","body":"<p>I am using same code of jfreechart in linux and windows with zkoss.</p>\n\n<p>When i run same code in windows it runs fine, but in linux it gives font related error as under....</p>\n\n<p>Can anyone please suggest me how can i resolve this issue permanently ?</p>\n\n<p><strong>java.lang.Error: Probable fatal error:No fonts found.</strong></p>\n\n<pre><code>sun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1087)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.getDefaultPhysicalFont(FontManager.java:1070)\nsun.font.FontManager.initialiseDeferredFont(FontManager.java:959)\nsun.font.FontManager.findOtherDeferredFont(FontManager.java:898)\nsun.font.FontManager.findDeferredFont(FontManager.java:915)\nsun.font.FontManager.findFont2D(FontManager.java:1903)\nsun.font.FontManager.findFont2D(FontManager.java:1864)\njava.awt.Font.getFont2D(Font.java:477)\nsun.font.FontManager.getFont2D(Native Method)\nsun.font.FontDesignMetrics.initMatrixAndMetrics(FontDesignMetrics.java:356)\nsun.font.FontDesignMetrics.&lt;init&gt;(FontDesignMetrics.java:349)\nsun.font.FontDesignMetrics.getMetrics(FontDesignMetrics.java:301)\nsun.java2d.SunGraphics2D.getFontMetrics(SunGraphics2D.java:787)\norg.jfree.text.TextFragment.calculateDimensions(TextFragment.java:229)\norg.jfree.text.TextLine.calculateDimensions(TextLine.java:190)\norg.jfree.text.TextBlock.calculateDimensions(TextBlock.java:171)\norg.jfree.chart.block.LabelBlock.arrange(LabelBlock.java:316)\norg.jfree.chart.block.BorderArrangement.arrangeNN(BorderArrangement.java:210)\norg.jfree.chart.block.BorderArrangement.arrange(BorderArrangement.java:137)\norg.jfree.chart.block.BlockContainer.arrange(BlockContainer.java:179)\norg.jfree.chart.block.CenterArrangement.arrangeNN(CenterArrangement.java:284)\norg.jfree.chart.block.CenterArrangement.arrange(CenterArrangement.java:98)\norg.jfree.chart.block.BlockContainer.arrange(BlockContainer.java:179)\norg.jfree.chart.block.FlowArrangement.arrangeNN(FlowArrangement.java:365)\norg.jfree.chart.block.FlowArrangement.arrangeRR(FlowArrangement.java:283)\norg.jfree.chart.block.FlowArrangement.arrange(FlowArrangement.java:158)\norg.jfree.chart.block.BlockContainer.arrange(BlockContainer.java:179)\norg.jfree.chart.title.LegendTitle.arrange(LegendTitle.java:501)\norg.jfree.chart.JFreeChart.drawTitle(JFreeChart.java:1330)\norg.jfree.chart.JFreeChart.draw(JFreeChart.java:1220)\n</code></pre>\n"},{"tags":["java","opengl-es","glsl"],"answers":[{"tags":[],"owner":{"account_id":19782926,"reputation":155,"user_id":14487542,"display_name":"AdrianHEY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694629706,"creation_date":1694629706,"answer_id":77099646,"question_id":77099568,"body_markdown":"It appears that a uniform sampler2D is supposed to take in a int, not an unsigned int, i solved it by using simply ```GLES30.glUniform1i(locc, 1);```. I&#39;ll leave it here for others with the same problem.","title":"GLES sampler2d will only draw what is in the first texture slot","body":"<p>It appears that a uniform sampler2D is supposed to take in a int, not an unsigned int, i solved it by using simply <code>GLES30.glUniform1i(locc, 1);</code>. I'll leave it here for others with the same problem.</p>\n"}],"owner":{"account_id":19782926,"reputation":155,"user_id":14487542,"display_name":"AdrianHEY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694629706,"creation_date":1694628952,"question_id":77099568,"body_markdown":"Currently using Android Studio, writing in Java and GLES3 a mobile app. I am trying to get multiple textures in my program and it seems that my shader will only draw what is in GL_TEXTURE0, regardless if I set it different or not.\r\nThis is the texture class I am using: \r\n```\r\n\r\npublic class Texture {\r\n    private int[] id;\r\n    byte tex[];\r\n    int slot;\r\n\r\n    private void loadImageBytes(Bitmap bm) {\r\n        // ...\r\n    }\r\n    public Texture(Context context, String filename, int textureslot) {\r\n        id = new int[1]; slot = textureslot;\r\n        GLES30.glGenTextures(1, id, 0);\r\n        GLES30.glActiveTexture(GLES30.GL_TEXTURE0 + textureslot);\r\n        GLES30.glBindTexture(GLES30.GL_TEXTURE_2D, id[0]);\r\n        GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES30.GL_TEXTURE_WRAP_S, GLES30.GL_CLAMP_TO_EDGE);\r\n        GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES30.GL_TEXTURE_WRAP_T, GLES30.GL_CLAMP_TO_EDGE);\r\n        //GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES30.GL_TEXTURE_MIN_FILTER, GLES30.GL_LINEAR_MIPMAP_LINEAR);\r\n        //GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES30.GL_TEXTURE_MAG_FILTER, GLES30.GL_LINEAR);\r\n\r\n        GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES30.GL_TEXTURE_MAG_FILTER, GLES30.GL_NEAREST);\r\n\r\n        int height = 0;\r\n        int width = 0;\r\n        try {\r\n            Bitmap bm = BitmapFactory.decodeStream(context.getAssets().open(filename));\r\n            height = bm.getHeight();\r\n            width = bm.getWidth();\r\n            tex = new byte[height * width * 4];\r\n            loadImageBytes(bm);\r\n        }\r\n        catch (IOException e) {\r\n            Log.e(&quot;MYAPP&quot;, &quot;exception&quot;, e);\r\n        }\r\n\r\n        GLES30.glTexImage2D(GLES30.GL_TEXTURE_2D, 0, GLES30.GL_RGBA, width, height, 0, GLES30.GL_RGBA,\r\n                GLES30.GL_UNSIGNED_BYTE, ByteBuffer.wrap(tex));\r\n        GLES30.glGenerateMipmap(GLES30.GL_TEXTURE_2D);\r\n\r\n    }\r\n    public void activeToShader(ShaderProgram sp, String nume){\r\n        GLES30.glActiveTexture(GLES30.GL_TEXTURE0 + slot);\r\n        sp.setUniform1ui(nume, slot);\r\n    }\r\n    /* This is the function that is called here\r\n         void setUniform1ui(String name, int data) {\r\n             int locc = GLES30.glGetUniformLocation(id, name);\r\n             if (locc == -1){\r\n                 Log.e(&quot;UniformError&quot;, &quot;Uniform not found: &quot; + name);\r\n             }\r\n             GLES30.glUniform1ui(locc, data);\r\n         }\r\n    */\r\n}\r\n```\r\nI only use 1 shader program and 1 texture that are initialized once. \r\n```\r\nts2 = new Texture(getBaseContext(), &quot;apple.png&quot;, 1); // I will call this line A\r\n//shader.setUniform1ui(&quot;m_texture&quot;, ts2.slot);\r\nint locc = GLES30.glGetUniformLocation(shader.getId(), &quot;m_texture&quot;);\r\nif (locc == -1) Log.e(&quot;PROGRAM&quot;, &quot;Location not found&quot;);\r\nGLES30.glUniform1ui(locc, 1);                        // I will call this line B\r\n\r\nint locc = GLES30.glGetUniformLocation(shader.getId(), &quot;thing&quot;);\r\n            //GLES30.glUniform1f(locc, 1.0f);\r\n\r\nshader.setUniform1ui(&quot;thing&quot;, 1.0f);\r\n```\r\nThere are 2 integer arguments in the lines A and B. In the line A, if I put 0, it will draw the apple regardless of what I put in line B. If I put anything other then 0, it will not draw the apple regardless of what is in line B. \r\nAlso, I know it finds the uniform and writes something to it, as I get no errors. Also, I tested the uniform &quot;thing&quot; and it works fine.\r\n\r\nHere&#39;s the fragment shader:\r\n```\r\n                    &quot;#version 300 es \\n&quot; +\r\n\r\n                    &quot;precision mediump float;\\n&quot; +\r\n\r\n                    &quot;out vec4 fragColor;\\n&quot; +\r\n                    &quot;uniform sampler2D m_texture;\\n&quot; +\r\n                    &quot;uniform float thing;\\n&quot; +\r\n\r\n                    &quot;in vec2 texUV;\\n&quot; +\r\n\r\n                    &quot;void main() {\\n&quot; +\r\n                    &quot;  fragColor = vec4(1.0,0.0,1.0,1.0);\\n&quot; +\r\n                    &quot;  fragColor = texture(m_texture, vec2(texUV.x, 1.0 - texUV.y) );\\n&quot; +\r\n                    &quot;  if (fragColor.a == 0.0) fragColor = vec4(0, 0, 255, 255);\\n&quot; + // modifying the background color into something, works as expected if the texture is in slot 0\r\n\r\n                    &quot;  //fragColor = vec4(0.0f, 1.0f, thing, 1.0f);\\n&quot; +\r\n                    &quot;}&quot;;\r\n```\r\n(when binding the texture to slot 1)The program doesn&#39;t show the background, but a black screen most likely from the empty texture 0 slot.\r\nI also tried updating the sampler2d every frame (didn&#39;t work), modifying &#39;thing&#39; every frame (worked fine), using another texture (same results). Also, the max number of textures on my device are 32. I am running a pixel 2 emulator with api 28. Any help would be appreciated.\r\n\r\n\r\n\r\nUpdate: I tried using glGetError and found out that the line that&#39;s causing the problem is GLES30.glUniform1ui(locc, 1). I still do not know why nor how to solve it.","title":"GLES sampler2d will only draw what is in the first texture slot","body":"<p>Currently using Android Studio, writing in Java and GLES3 a mobile app. I am trying to get multiple textures in my program and it seems that my shader will only draw what is in GL_TEXTURE0, regardless if I set it different or not.\nThis is the texture class I am using:</p>\n<pre><code>\npublic class Texture {\n    private int[] id;\n    byte tex[];\n    int slot;\n\n    private void loadImageBytes(Bitmap bm) {\n        // ...\n    }\n    public Texture(Context context, String filename, int textureslot) {\n        id = new int[1]; slot = textureslot;\n        GLES30.glGenTextures(1, id, 0);\n        GLES30.glActiveTexture(GLES30.GL_TEXTURE0 + textureslot);\n        GLES30.glBindTexture(GLES30.GL_TEXTURE_2D, id[0]);\n        GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES30.GL_TEXTURE_WRAP_S, GLES30.GL_CLAMP_TO_EDGE);\n        GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES30.GL_TEXTURE_WRAP_T, GLES30.GL_CLAMP_TO_EDGE);\n        //GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES30.GL_TEXTURE_MIN_FILTER, GLES30.GL_LINEAR_MIPMAP_LINEAR);\n        //GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES30.GL_TEXTURE_MAG_FILTER, GLES30.GL_LINEAR);\n\n        GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D, GLES30.GL_TEXTURE_MAG_FILTER, GLES30.GL_NEAREST);\n\n        int height = 0;\n        int width = 0;\n        try {\n            Bitmap bm = BitmapFactory.decodeStream(context.getAssets().open(filename));\n            height = bm.getHeight();\n            width = bm.getWidth();\n            tex = new byte[height * width * 4];\n            loadImageBytes(bm);\n        }\n        catch (IOException e) {\n            Log.e(&quot;MYAPP&quot;, &quot;exception&quot;, e);\n        }\n\n        GLES30.glTexImage2D(GLES30.GL_TEXTURE_2D, 0, GLES30.GL_RGBA, width, height, 0, GLES30.GL_RGBA,\n                GLES30.GL_UNSIGNED_BYTE, ByteBuffer.wrap(tex));\n        GLES30.glGenerateMipmap(GLES30.GL_TEXTURE_2D);\n\n    }\n    public void activeToShader(ShaderProgram sp, String nume){\n        GLES30.glActiveTexture(GLES30.GL_TEXTURE0 + slot);\n        sp.setUniform1ui(nume, slot);\n    }\n    /* This is the function that is called here\n         void setUniform1ui(String name, int data) {\n             int locc = GLES30.glGetUniformLocation(id, name);\n             if (locc == -1){\n                 Log.e(&quot;UniformError&quot;, &quot;Uniform not found: &quot; + name);\n             }\n             GLES30.glUniform1ui(locc, data);\n         }\n    */\n}\n</code></pre>\n<p>I only use 1 shader program and 1 texture that are initialized once.</p>\n<pre><code>ts2 = new Texture(getBaseContext(), &quot;apple.png&quot;, 1); // I will call this line A\n//shader.setUniform1ui(&quot;m_texture&quot;, ts2.slot);\nint locc = GLES30.glGetUniformLocation(shader.getId(), &quot;m_texture&quot;);\nif (locc == -1) Log.e(&quot;PROGRAM&quot;, &quot;Location not found&quot;);\nGLES30.glUniform1ui(locc, 1);                        // I will call this line B\n\nint locc = GLES30.glGetUniformLocation(shader.getId(), &quot;thing&quot;);\n            //GLES30.glUniform1f(locc, 1.0f);\n\nshader.setUniform1ui(&quot;thing&quot;, 1.0f);\n</code></pre>\n<p>There are 2 integer arguments in the lines A and B. In the line A, if I put 0, it will draw the apple regardless of what I put in line B. If I put anything other then 0, it will not draw the apple regardless of what is in line B.\nAlso, I know it finds the uniform and writes something to it, as I get no errors. Also, I tested the uniform &quot;thing&quot; and it works fine.</p>\n<p>Here's the fragment shader:</p>\n<pre><code>                    &quot;#version 300 es \\n&quot; +\n\n                    &quot;precision mediump float;\\n&quot; +\n\n                    &quot;out vec4 fragColor;\\n&quot; +\n                    &quot;uniform sampler2D m_texture;\\n&quot; +\n                    &quot;uniform float thing;\\n&quot; +\n\n                    &quot;in vec2 texUV;\\n&quot; +\n\n                    &quot;void main() {\\n&quot; +\n                    &quot;  fragColor = vec4(1.0,0.0,1.0,1.0);\\n&quot; +\n                    &quot;  fragColor = texture(m_texture, vec2(texUV.x, 1.0 - texUV.y) );\\n&quot; +\n                    &quot;  if (fragColor.a == 0.0) fragColor = vec4(0, 0, 255, 255);\\n&quot; + // modifying the background color into something, works as expected if the texture is in slot 0\n\n                    &quot;  //fragColor = vec4(0.0f, 1.0f, thing, 1.0f);\\n&quot; +\n                    &quot;}&quot;;\n</code></pre>\n<p>(when binding the texture to slot 1)The program doesn't show the background, but a black screen most likely from the empty texture 0 slot.\nI also tried updating the sampler2d every frame (didn't work), modifying 'thing' every frame (worked fine), using another texture (same results). Also, the max number of textures on my device are 32. I am running a pixel 2 emulator with api 28. Any help would be appreciated.</p>\n<p>Update: I tried using glGetError and found out that the line that's causing the problem is GLES30.glUniform1ui(locc, 1). I still do not know why nor how to solve it.</p>\n"},{"tags":["java","reflection","functional-interface"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1611237005,"post_id":65828183,"comment_id":116389946,"body_markdown":"Depends on how hard you want to try. Easiest: `clazz.getConstructor(Param.class)::newInstance` - but that requires that the functional interface can throw some exceptions.","body":"Depends on how hard you want to try. Easiest: <code>clazz.getConstructor(Param.class)::newInstance</code> - but that requires that the functional interface can throw some exceptions."},{"owner":{"account_id":20194161,"reputation":29,"user_id":14811547,"display_name":"alyssa moon"},"score":0,"creation_date":1611238749,"post_id":65828183,"comment_id":116390923,"body_markdown":"@JohannesKuhn the point is to automatically infer the constructor signature.","body":"@JohannesKuhn the point is to automatically infer the constructor signature."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1611240682,"post_id":65828183,"comment_id":116392013,"body_markdown":"Ehm, nope. Can&#39;t do.","body":"Ehm, nope. Can&#39;t do."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1611249960,"post_id":65828183,"comment_id":116396817,"body_markdown":"When you have a `Class` instance, it may represent an abstract class or interface which you can’t instantiate, it may represent an `enum` type that doesn’t allow creating more instance or a type having no matching constructor or the constructor is not accessible. None of these can be checked at compile time. On the other hand, the inferred generic signature needed to select the right constructor is not available at runtime.","body":"When you have a <code>Class</code> instance, it may represent an abstract class or interface which you can’t instantiate, it may represent an <code>enum</code> type that doesn’t allow creating more instance or a type having no matching constructor or the constructor is not accessible. None of these can be checked at compile time. On the other hand, the inferred generic signature needed to select the right constructor is not available at runtime."}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611287500,"creation_date":1611287500,"answer_id":65839050,"question_id":65828183,"body_markdown":"***Standard disclaimer:** Use of reflection is almost always a bad idea.*\r\n\r\nIt is much better to go for a standard *Abstract Factory* or similar.\r\n\r\nHowever, `MethodHandle` will construct the required `Function` objct with minimal overhead (I think). If you do the lookup of `fn` every time, there is overhead in that. \r\n\r\n        Function&lt;T, R&gt; fn = (Function&lt;T, R&gt;)\r\n            MethodHandleProxies.asInterfaceInstance(\r\n                Function.class,\r\n                MethodHandles.lookup().findConstructor(clazz,\r\n                   MethodType.methodType(Void.TYPE, tClass)\r\n               )\r\n            );\r\n\r\nException handling elided.","title":"Get class constructor by functional interface method signature","body":"<p><em><strong>Standard disclaimer:</strong> Use of reflection is almost always a bad idea.</em></p>\n<p>It is much better to go for a standard <em>Abstract Factory</em> or similar.</p>\n<p>However, <code>MethodHandle</code> will construct the required <code>Function</code> objct with minimal overhead (I think). If you do the lookup of <code>fn</code> every time, there is overhead in that.</p>\n<pre><code>    Function&lt;T, R&gt; fn = (Function&lt;T, R&gt;)\n        MethodHandleProxies.asInterfaceInstance(\n            Function.class,\n            MethodHandles.lookup().findConstructor(clazz,\n               MethodType.methodType(Void.TYPE, tClass)\n           )\n        );\n</code></pre>\n<p>Exception handling elided.</p>\n"}],"owner":{"account_id":20194161,"reputation":29,"user_id":14811547,"display_name":"alyssa moon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694629662,"creation_date":1611234759,"question_id":65828183,"body_markdown":"I know i can use constructor reference as hihger-order method&#39;s argument like this:\r\n```java\r\ncollection.stream().map(MyClass::new);\r\n```\r\nBut I have `MyClass` as a variable `Class&lt;MyClass&gt; clazz = MyClass.class`.\r\nCan I use it to pass constructor reference to `.map(Function)` method?\r\nI want to do something like this, is there a way to do it?\r\n```java\r\nClass&lt;MyClass&gt; clazz = MyClass.class;\r\ncollection.stream().map(clazz.getConstructor())\r\n```\r\n","title":"Get class constructor by functional interface method signature","body":"<p>I know i can use constructor reference as hihger-order method's argument like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>collection.stream().map(MyClass::new);\n</code></pre>\n<p>But I have <code>MyClass</code> as a variable <code>Class&lt;MyClass&gt; clazz = MyClass.class</code>.\nCan I use it to pass constructor reference to <code>.map(Function)</code> method?\nI want to do something like this, is there a way to do it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;MyClass&gt; clazz = MyClass.class;\ncollection.stream().map(clazz.getConstructor())\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1493878539,"creation_date":1493878539,"answer_id":43775196,"question_id":43769429,"body_markdown":"According to the [documentation][1] you also have to set `streaming=false` to guarantee in-order aggregation.\r\n\r\n\r\n  [1]: http://camel.apache.org/splitter.html","title":"Camel Splitter Order of Processing","body":"<p>According to the <a href=\"http://camel.apache.org/splitter.html\" rel=\"nofollow noreferrer\">documentation</a> you also have to set <code>streaming=false</code> to guarantee in-order aggregation.</p>\n"},{"tags":[],"owner":{"account_id":19160379,"reputation":11,"user_id":13996264,"display_name":"Darrell Burk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694629296,"creation_date":1694629296,"answer_id":77099606,"question_id":43769429,"body_markdown":"Ralf&#39;s answer addresses the order of *aggregation*, but the OP&#39;s question is about the order of *processing*. Those two orders don&#39;t have to be the same.\r\n\r\nThe Camel documentation doesn&#39;t seem to answer this question directly. \r\n\r\nBased on the docs, I think the following can be inferred\r\n\r\n - when `parallelProcessing` **is not** used:\r\n\r\n   - when `streaming` **is not** used (in this case the list is split completely before any items are processed) the order of execution depends on the element ordering in the structure that holds the split list. The type of this structure is not documented. We should not assume that the original message order of the list items will be preserved in this structure. Therefore, it is not safe to assume the items will be processed in the same order as they appear within the input message.\r\n   - when `streaming` **is** used, the input message will be split one item at a time and that item will be processed before the next item is split from the the input message. Here it is safer to assume that the items will be executed in the same order as those items are encountered in the input message. This is not a contract, though; just a safer assumption.\r\n - when `parallelProcessing` **is** used, the question itself is moot; all the items will be processed simultaneously. This is a contract.\r\n","title":"Camel Splitter Order of Processing","body":"<p>Ralf's answer addresses the order of <em>aggregation</em>, but the OP's question is about the order of <em>processing</em>. Those two orders don't have to be the same.</p>\n<p>The Camel documentation doesn't seem to answer this question directly.</p>\n<p>Based on the docs, I think the following can be inferred</p>\n<ul>\n<li><p>when <code>parallelProcessing</code> <strong>is not</strong> used:</p>\n<ul>\n<li>when <code>streaming</code> <strong>is not</strong> used (in this case the list is split completely before any items are processed) the order of execution depends on the element ordering in the structure that holds the split list. The type of this structure is not documented. We should not assume that the original message order of the list items will be preserved in this structure. Therefore, it is not safe to assume the items will be processed in the same order as they appear within the input message.</li>\n<li>when <code>streaming</code> <strong>is</strong> used, the input message will be split one item at a time and that item will be processed before the next item is split from the the input message. Here it is safer to assume that the items will be executed in the same order as those items are encountered in the input message. This is not a contract, though; just a safer assumption.</li>\n</ul>\n</li>\n<li><p>when <code>parallelProcessing</code> <strong>is</strong> used, the question itself is moot; all the items will be processed simultaneously. This is a contract.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":2858209,"reputation":644,"user_id":2453976,"accept_rate":57,"display_name":"Khaled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43775196,"answer_count":2,"score":1,"last_activity_date":1694629296,"creation_date":1493843334,"question_id":43769429,"body_markdown":"If I DON&#39;T specify `parallelProcessing()` when I&#39;m splitting a `List` in camel, will Camel process the items in order?","title":"Camel Splitter Order of Processing","body":"<p>If I DON'T specify <code>parallelProcessing()</code> when I'm splitting a <code>List</code> in camel, will Camel process the items in order?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1694632549,"post_id":77099582,"comment_id":135918315,"body_markdown":"Did you search here on Stackoverflow for similar questions, or solutions like [Visual Studio Code - Java - Import Errors and More](https://stackoverflow.com/questions/45743779/visual-studio-code-java-import-errors-and-more) ?","body":"Did you search here on Stackoverflow for similar questions, or solutions like <a href=\"https://stackoverflow.com/questions/45743779/visual-studio-code-java-import-errors-and-more\">Visual Studio Code - Java - Import Errors and More</a> ?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1694647353,"post_id":77099582,"comment_id":135920372,"body_markdown":"Does this answer your question? [Why is my build path suddenly incomplete for my java project in Visual Studio Code?](https://stackoverflow.com/questions/77092008/why-is-my-build-path-suddenly-incomplete-for-my-java-project-in-visual-studio-co)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/77092008/why-is-my-build-path-suddenly-incomplete-for-my-java-project-in-visual-studio-co\">Why is my build path suddenly incomplete for my java project in Visual Studio Code?</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1694670758,"post_id":77099582,"comment_id":135922251,"body_markdown":"https://stackoverflow.com/questions/77097506/the-project-was-not-built-since-its-build-path-is-incomplete-vscode-error","body":"<a href=\"https://stackoverflow.com/questions/77097506/the-project-was-not-built-since-its-build-path-is-incomplete-vscode-error\" title=\"the project was not built since its build path is incomplete vscode error\">stackoverflow.com/questions/77097506/&hellip;</a>"},{"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1694678354,"post_id":77099582,"comment_id":135923421,"body_markdown":"did you update anything recently? Your JDK? VS Code? Please give version numbers for all the things. Please also show us what you see in the Language Support for Java channel in the Output Panel","body":"did you update anything recently? Your JDK? VS Code? Please give version numbers for all the things. Please also show us what you see in the Language Support for Java channel in the Output Panel"}],"owner":{"account_id":17845964,"reputation":59,"user_id":12962784,"display_name":"Naman Nagelia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694629051,"creation_date":1694629051,"question_id":77099582,"body_markdown":"On VS Code, recently when I imported a java project, I got this error\r\n\r\nThe type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files\r\n\r\n\r\nI am on a mac operating system, a few days ago Java was working fine but now it is not, how do I fix this?","title":"The type java.lang.Object cannot be resolved error on VS Code","body":"<p>On VS Code, recently when I imported a java project, I got this error</p>\n<p>The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files</p>\n<p>I am on a mac operating system, a few days ago Java was working fine but now it is not, how do I fix this?</p>\n"},{"tags":["java","spring","ssl","spring-boot","bouncycastle"],"comments":[{"owner":{"account_id":1432365,"reputation":1061,"user_id":1354502,"display_name":"Ricardo Zanini"},"score":0,"creation_date":1512415481,"post_id":47633672,"comment_id":82239397,"body_markdown":"Your certificate is auto signed? If yes,the browser will always complain about it. That’s because your certificate was not generated by a certified institution.","body":"Your certificate is auto signed? If yes,the browser will always complain about it. That’s because your certificate was not generated by a certified institution."},{"owner":{"account_id":7213144,"reputation":13,"user_id":5506522,"display_name":"Yas"},"score":0,"creation_date":1512457786,"post_id":47633672,"comment_id":82254025,"body_markdown":"thank you  @RicardoZanini for your response. the certificate is auto signed by BC provider, it&#39;s self-signed certificate, how i can figure it to let the browser accept it as trust certificate ?","body":"thank you  @RicardoZanini for your response. the certificate is auto signed by BC provider, it&#39;s self-signed certificate, how i can figure it to let the browser accept it as trust certificate ?"}],"answers":[{"tags":[],"owner":{"account_id":1432365,"reputation":1061,"user_id":1354502,"display_name":"Ricardo Zanini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1512476357,"creation_date":1512476357,"answer_id":47653485,"question_id":47633672,"body_markdown":"&gt; how i can figure it to let the browser accept it as trust certificate?\r\n\r\nFortunately, you can&#39;t. There&#39;s a discussion about the topic [in this question][1]:\r\n\r\n&gt; If we simply said &quot;HTTPS is now possible with self-signed certificates&quot;, your browser could not distinguish whether a site you are trying to visit has a self-signed cert because it is supposed to, or because you are being attacked. Thus, it would decrease security.\r\n\r\nYou have to add an exception to your browser to accept your certificate. Normally during development. For production use, you have to buy a certificate from a trusted vendor like [Verisign][2].\r\n\r\nTo add an exception to your browser, please see [this other question][3].\r\n\r\nCheers!\r\n\r\n\r\n  [1]: https://security.stackexchange.com/questions/62058/why-self-signed-https-is-less-trustworthy-than-unencrypted-http\r\n  [2]: https://www.verisign.com/en_US/website-presence/website-optimization/ssl-certificates/index.xhtml\r\n  [3]: https://stackoverflow.com/questions/7580508/getting-chrome-to-accept-self-signed-localhost-certificate","title":"Bouncy castle with spring boot","body":"<blockquote>\n  <p>how i can figure it to let the browser accept it as trust certificate?</p>\n</blockquote>\n\n<p>Fortunately, you can't. There's a discussion about the topic <a href=\"https://security.stackexchange.com/questions/62058/why-self-signed-https-is-less-trustworthy-than-unencrypted-http\">in this question</a>:</p>\n\n<blockquote>\n  <p>If we simply said \"HTTPS is now possible with self-signed certificates\", your browser could not distinguish whether a site you are trying to visit has a self-signed cert because it is supposed to, or because you are being attacked. Thus, it would decrease security.</p>\n</blockquote>\n\n<p>You have to add an exception to your browser to accept your certificate. Normally during development. For production use, you have to buy a certificate from a trusted vendor like <a href=\"https://www.verisign.com/en_US/website-presence/website-optimization/ssl-certificates/index.xhtml\" rel=\"nofollow noreferrer\">Verisign</a>.</p>\n\n<p>To add an exception to your browser, please see <a href=\"https://stackoverflow.com/questions/7580508/getting-chrome-to-accept-self-signed-localhost-certificate\">this other question</a>.</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":22639381,"reputation":45,"user_id":16815778,"display_name":"BustedChain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694628996,"creation_date":1694628996,"answer_id":77099577,"question_id":47633672,"body_markdown":"I work on projects that are used on a local network with workstations that we control.  Since we maintain the systems, we can add the Root CA certificate to the trust on each computer within our environment.  \r\n\r\nThe other answers provided are excellent and they are written with the assumption that you are developing for the web where you can&#39;t make the client workstations trust your certificate.  I just wanted to call attention to this use case in case you or others are in a controlled environment where the workstations themselves need to have the CA trusted at the OS level.\r\n\r\nYou can use [Let&#39;s Encrypt][1] to generate a public cert, assuming their CA is already trusted on your system.\r\n\r\n  [1]: https://letsencrypt.org/getting-started/","title":"Bouncy castle with spring boot","body":"<p>I work on projects that are used on a local network with workstations that we control.  Since we maintain the systems, we can add the Root CA certificate to the trust on each computer within our environment.</p>\n<p>The other answers provided are excellent and they are written with the assumption that you are developing for the web where you can't make the client workstations trust your certificate.  I just wanted to call attention to this use case in case you or others are in a controlled environment where the workstations themselves need to have the CA trusted at the OS level.</p>\n<p>You can use <a href=\"https://letsencrypt.org/getting-started/\" rel=\"nofollow noreferrer\">Let's Encrypt</a> to generate a public cert, assuming their CA is already trusted on your system.</p>\n"}],"owner":{"account_id":7213144,"reputation":13,"user_id":5506522,"display_name":"Yas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4525,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47653485,"answer_count":2,"score":1,"last_activity_date":1694628996,"creation_date":1512391376,"question_id":47633672,"body_markdown":"I am trying to use Https over http, I generated the CA certificate with bouncy castle and generated from the `.cer` file the `jks` file, spring boot started successfully with the properties provided with an embedded tomcat.\r\n\r\nThe problem is that I&#39;m getting always **insecure ssl certificate** from the browser (for example from chrome : `This CA Root certificate is not trusted because it is not in the Trusted Root Certification Authorities store.`) while I add the trust store programatically with another config class.\r\n\r\nHere is my code: \r\n\r\n    import org.apache.commons.codec.binary.Base64; import org.bouncycastle.asn1.DERSequence; import org.bouncycastle.asn1.cmp.CertRepMessage; import org.bouncycastle.asn1.cmp.PKIBody; import org.bouncycastle.asn1.x500.X500Name; import org.bouncycastle.asn1.x509.GeneralName; import org.bouncycastle.cert.CertException; import org.bouncycastle.cert.X509CertificateHolder; import org.bouncycastle.cert.X509v3CertificateBuilder; import org.bouncycastle.cert.cmp.CMPException; import org.bouncycastle.cert.cmp.ProtectedPKIMessage; import org.bouncycastle.cert.cmp.ProtectedPKIMessageBuilder; import org.bouncycastle.cert.jcajce.JcaX509CertificateConverter; import org.bouncycastle.cert.jcajce.JcaX509v3CertificateBuilder; import org.bouncycastle.jce.provider.BouncyCastleProvider; import org.bouncycastle.operator.ContentSigner; import org.bouncycastle.operator.ContentVerifierProvider; import org.bouncycastle.operator.OperatorCreationException; import org.bouncycastle.operator.jcajce.JcaContentSignerBuilder; import org.bouncycastle.operator.jcajce.JcaContentVerifierProviderBuilder;\r\n    \r\n    import java.io.FileOutputStream; import java.io.IOException; import java.io.OutputStream; import java.math.BigInteger; import java.security.*; import java.security.cert.X509Certificate; import java.util.Date;\r\n    \r\n    public class generateService {\r\n    \r\n        private static final String BC = BouncyCastleProvider.PROVIDER_NAME;\r\n    \r\n    \r\n        private static X509CertificateHolder makeV3Certificate(KeyPair subKP, String _subDN, KeyPair issKP, String _issDN)\r\n                throws GeneralSecurityException, IOException, OperatorCreationException, CertException\r\n        {\r\n    \r\n            PublicKey subPub  = subKP.getPublic();\r\n            PrivateKey issPriv = issKP.getPrivate();\r\n            PublicKey  issPub  = issKP.getPublic();\r\n    \r\n            X509v3CertificateBuilder v1CertGen = new JcaX509v3CertificateBuilder(\r\n                    new X500Name(_issDN),\r\n                    BigInteger.valueOf(System.currentTimeMillis()),\r\n                    new Date(System.currentTimeMillis()),\r\n                    new Date(System.currentTimeMillis() + (1000L * 60 * 60 * 24 * 100)),\r\n                    new X500Name(_subDN),\r\n                    subPub);\r\n    \r\n            ContentSigner signer = new JcaContentSignerBuilder(&quot;SHA256WithRSA&quot;).setProvider(BC).build(issPriv);\r\n    \r\n            X509CertificateHolder certHolder = v1CertGen.build(signer);\r\n    \r\n            ContentVerifierProvider verifier = new JcaContentVerifierProviderBuilder().setProvider(BC).build(issPub);\r\n            return certHolder;\r\n        }\r\n    \r\n    \r\n        public X509Certificate test(KeyPair kp) throws OperatorCreationException, GeneralSecurityException, CertException, IOException, CMPException {\r\n    \r\n        Provider bcProvider = new BouncyCastleProvider();\r\n        Security.addProvider(bcProvider);\r\n        X509CertificateHolder cert = makeV3Certificate(kp, &quot;CN=CA&quot;, kp, &quot;CN=CA&quot;);\r\n        GeneralName sender = new GeneralName(new X500Name(&quot;CN=CA&quot;));\r\n        GeneralName recipient = new GeneralName(new X500Name(&quot;CN=CA&quot;));\r\n    \r\n        ContentSigner signer = new JcaContentSignerBuilder(&quot;SHA256WithRSAEncryption&quot;).setProvider(BC).build(kp.getPrivate());\r\n        ProtectedPKIMessage message = new ProtectedPKIMessageBuilder(sender, recipient)\r\n                .setBody(new PKIBody(PKIBody.TYPE_INIT_REP, CertRepMessage.getInstance(new DERSequence(new DERSequence()))))\r\n                .addCMPCertificate(cert)\r\n                .build(signer);\r\n    \r\n        X509Certificate jcaCert = new JcaX509CertificateConverter().setProvider(BC).getCertificate(message.getCertificates()[0]);\r\n        return jcaCert;\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        public void generateJKS() throws GeneralSecurityException, IOException, OperatorCreationException, CMPException, CertException {\r\n            Provider bcProvider = new BouncyCastleProvider();\r\n            Security.addProvider(bcProvider);\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(1024);\r\n            KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n            X509Certificate certificate = test(keyPair);\r\n    \r\n            final FileOutputStream os = new FileOutputStream(&quot;E:\\\\cert4.cer&quot;);\r\n            os.write(&quot;-----BEGIN CERTIFICATE-----\\n&quot;.getBytes(&quot;US-ASCII&quot;));\r\n            os.write(Base64.encodeBase64(certificate.getEncoded(), true));\r\n            os.write(&quot;-----END CERTIFICATE-----\\n&quot;.getBytes(&quot;US-ASCII&quot;));\r\n            os.close();\r\n    \r\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            keyStore.load(null,null);\r\n            X509Certificate[] certChain = new X509Certificate[1];\r\n            certChain[0] = certificate;\r\n            keyStore.setKeyEntry(&quot;myaliaskey&quot;, (Key)keyPair.getPrivate(), &quot;secret&quot;.toCharArray(), certChain);\r\n            OutputStream outputStream = new FileOutputStream(&quot;E:\\\\keystoreRSA4.jks&quot;);\r\n            keyStore.store(outputStream, &quot;secret&quot;.toCharArray());\r\n            outputStream.flush();\r\n            outputStream.close();\r\n            \r\n        }\r\n    \r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n           \r\n            new generateService().generateJKS();\r\n        } }\r\n\r\nApplication.properties:\r\n\r\n    server.port = 8443 server.http.port = 8080 server.ssl.key-store =  E:\\\\keystoreRSA4.jks server.ssl.key-password = secret server.ssl.keyAlias = myaliaskey\r\n\r\n/***************************************************************************/ \r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    \r\n    @Configuration public class SSLConfig {\r\n    \r\n    \r\n        @PostConstruct\r\n        private void configureSSL() {\r\n            System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;);\r\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;E:\\\\keystoreRSA4.jks&quot;);\r\n            System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;E:\\\\keystoreRSA4.jks&quot;);\r\n            System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;secret&quot;);\r\n          \r\n        } }\r\n    \r\n    \r\n    import org.apache.catalina.Context; import org.apache.catalina.connector.Connector; import org.apache.tomcat.util.descriptor.web.SecurityCollection; import org.apache.tomcat.util.descriptor.web.SecurityConstraint; import org.springframework.beans.factory.annotation.Value; import org.springframework.boot.context.embedded.EmbeddedServletContainerFactory; import org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration public class TomcatConfig {\r\n        @Value(&quot;${server.http.port}&quot;)\r\n        private int httpPort;\r\n    \r\n        @Value(&quot;${server.port}&quot;)\r\n        private int httpsPort;\r\n    \r\n        @Bean\r\n        public EmbeddedServletContainerFactory servletContainer() {\r\n            TomcatEmbeddedServletContainerFactory tomcat = new TomcatEmbeddedServletContainerFactory() {\r\n                @Override\r\n                protected void postProcessContext(Context context) {\r\n                    SecurityConstraint securityConstraint = new SecurityConstraint();\r\n                    securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n                    SecurityCollection collection = new SecurityCollection();\r\n                    collection.addPattern(&quot;/*&quot;);\r\n                    securityConstraint.addCollection(collection);\r\n                    context.addConstraint(securityConstraint);\r\n                }\r\n            };\r\n            tomcat.addAdditionalTomcatConnectors(initiateHttpConnector());\r\n            return tomcat;\r\n        }\r\n    \r\n        public Connector initiateHttpConnector() {\r\n            Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n            connector.setScheme(&quot;https&quot;);\r\n            connector.setPort(httpPort);\r\n            connector.setSecure(true);\r\n            connector.setRedirectPort(httpsPort); \r\n            return connector;\r\n        } }\r\n\r\nAny help will be appreciated and thank you in advance.\r\n\r\n\r\n","title":"Bouncy castle with spring boot","body":"<p>I am trying to use Https over http, I generated the CA certificate with bouncy castle and generated from the <code>.cer</code> file the <code>jks</code> file, spring boot started successfully with the properties provided with an embedded tomcat.</p>\n\n<p>The problem is that I'm getting always <strong>insecure ssl certificate</strong> from the browser (for example from chrome : <code>This CA Root certificate is not trusted because it is not in the Trusted Root Certification Authorities store.</code>) while I add the trust store programatically with another config class.</p>\n\n<p>Here is my code: </p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64; import org.bouncycastle.asn1.DERSequence; import org.bouncycastle.asn1.cmp.CertRepMessage; import org.bouncycastle.asn1.cmp.PKIBody; import org.bouncycastle.asn1.x500.X500Name; import org.bouncycastle.asn1.x509.GeneralName; import org.bouncycastle.cert.CertException; import org.bouncycastle.cert.X509CertificateHolder; import org.bouncycastle.cert.X509v3CertificateBuilder; import org.bouncycastle.cert.cmp.CMPException; import org.bouncycastle.cert.cmp.ProtectedPKIMessage; import org.bouncycastle.cert.cmp.ProtectedPKIMessageBuilder; import org.bouncycastle.cert.jcajce.JcaX509CertificateConverter; import org.bouncycastle.cert.jcajce.JcaX509v3CertificateBuilder; import org.bouncycastle.jce.provider.BouncyCastleProvider; import org.bouncycastle.operator.ContentSigner; import org.bouncycastle.operator.ContentVerifierProvider; import org.bouncycastle.operator.OperatorCreationException; import org.bouncycastle.operator.jcajce.JcaContentSignerBuilder; import org.bouncycastle.operator.jcajce.JcaContentVerifierProviderBuilder;\n\nimport java.io.FileOutputStream; import java.io.IOException; import java.io.OutputStream; import java.math.BigInteger; import java.security.*; import java.security.cert.X509Certificate; import java.util.Date;\n\npublic class generateService {\n\n    private static final String BC = BouncyCastleProvider.PROVIDER_NAME;\n\n\n    private static X509CertificateHolder makeV3Certificate(KeyPair subKP, String _subDN, KeyPair issKP, String _issDN)\n            throws GeneralSecurityException, IOException, OperatorCreationException, CertException\n    {\n\n        PublicKey subPub  = subKP.getPublic();\n        PrivateKey issPriv = issKP.getPrivate();\n        PublicKey  issPub  = issKP.getPublic();\n\n        X509v3CertificateBuilder v1CertGen = new JcaX509v3CertificateBuilder(\n                new X500Name(_issDN),\n                BigInteger.valueOf(System.currentTimeMillis()),\n                new Date(System.currentTimeMillis()),\n                new Date(System.currentTimeMillis() + (1000L * 60 * 60 * 24 * 100)),\n                new X500Name(_subDN),\n                subPub);\n\n        ContentSigner signer = new JcaContentSignerBuilder(\"SHA256WithRSA\").setProvider(BC).build(issPriv);\n\n        X509CertificateHolder certHolder = v1CertGen.build(signer);\n\n        ContentVerifierProvider verifier = new JcaContentVerifierProviderBuilder().setProvider(BC).build(issPub);\n        return certHolder;\n    }\n\n\n    public X509Certificate test(KeyPair kp) throws OperatorCreationException, GeneralSecurityException, CertException, IOException, CMPException {\n\n    Provider bcProvider = new BouncyCastleProvider();\n    Security.addProvider(bcProvider);\n    X509CertificateHolder cert = makeV3Certificate(kp, \"CN=CA\", kp, \"CN=CA\");\n    GeneralName sender = new GeneralName(new X500Name(\"CN=CA\"));\n    GeneralName recipient = new GeneralName(new X500Name(\"CN=CA\"));\n\n    ContentSigner signer = new JcaContentSignerBuilder(\"SHA256WithRSAEncryption\").setProvider(BC).build(kp.getPrivate());\n    ProtectedPKIMessage message = new ProtectedPKIMessageBuilder(sender, recipient)\n            .setBody(new PKIBody(PKIBody.TYPE_INIT_REP, CertRepMessage.getInstance(new DERSequence(new DERSequence()))))\n            .addCMPCertificate(cert)\n            .build(signer);\n\n    X509Certificate jcaCert = new JcaX509CertificateConverter().setProvider(BC).getCertificate(message.getCertificates()[0]);\n    return jcaCert;\n    }\n\n\n\n\n    public void generateJKS() throws GeneralSecurityException, IOException, OperatorCreationException, CMPException, CertException {\n        Provider bcProvider = new BouncyCastleProvider();\n        Security.addProvider(bcProvider);\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(\"RSA\");\n        keyPairGenerator.initialize(1024);\n        KeyPair keyPair = keyPairGenerator.generateKeyPair();\n        X509Certificate certificate = test(keyPair);\n\n        final FileOutputStream os = new FileOutputStream(\"E:\\\\cert4.cer\");\n        os.write(\"-----BEGIN CERTIFICATE-----\\n\".getBytes(\"US-ASCII\"));\n        os.write(Base64.encodeBase64(certificate.getEncoded(), true));\n        os.write(\"-----END CERTIFICATE-----\\n\".getBytes(\"US-ASCII\"));\n        os.close();\n\n        KeyStore keyStore = KeyStore.getInstance(\"JKS\");\n        keyStore.load(null,null);\n        X509Certificate[] certChain = new X509Certificate[1];\n        certChain[0] = certificate;\n        keyStore.setKeyEntry(\"myaliaskey\", (Key)keyPair.getPrivate(), \"secret\".toCharArray(), certChain);\n        OutputStream outputStream = new FileOutputStream(\"E:\\\\keystoreRSA4.jks\");\n        keyStore.store(outputStream, \"secret\".toCharArray());\n        outputStream.flush();\n        outputStream.close();\n\n    }\n\n\n\n    public static void main(String[] args) throws Exception {\n\n        new generateService().generateJKS();\n    } }\n</code></pre>\n\n<p>Application.properties:</p>\n\n<pre><code>server.port = 8443 server.http.port = 8080 server.ssl.key-store =  E:\\\\keystoreRSA4.jks server.ssl.key-password = secret server.ssl.keyAlias = myaliaskey\n</code></pre>\n\n<p>/***************************************************************************/ </p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\n\nimport javax.annotation.PostConstruct;\n\n@Configuration public class SSLConfig {\n\n\n    @PostConstruct\n    private void configureSSL() {\n        System.setProperty(\"https.protocols\", \"TLSv1.2\");\n        System.setProperty(\"javax.net.ssl.trustStore\", \"E:\\\\keystoreRSA4.jks\");\n        System.setProperty(\"javax.net.ssl.keyStore\", \"E:\\\\keystoreRSA4.jks\");\n        System.setProperty(\"javax.net.ssl.keyStorePassword\", \"secret\");\n\n    } }\n\n\nimport org.apache.catalina.Context; import org.apache.catalina.connector.Connector; import org.apache.tomcat.util.descriptor.web.SecurityCollection; import org.apache.tomcat.util.descriptor.web.SecurityConstraint; import org.springframework.beans.factory.annotation.Value; import org.springframework.boot.context.embedded.EmbeddedServletContainerFactory; import org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration;\n\n@Configuration public class TomcatConfig {\n    @Value(\"${server.http.port}\")\n    private int httpPort;\n\n    @Value(\"${server.port}\")\n    private int httpsPort;\n\n    @Bean\n    public EmbeddedServletContainerFactory servletContainer() {\n        TomcatEmbeddedServletContainerFactory tomcat = new TomcatEmbeddedServletContainerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(\"CONFIDENTIAL\");\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(\"/*\");\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n        tomcat.addAdditionalTomcatConnectors(initiateHttpConnector());\n        return tomcat;\n    }\n\n    public Connector initiateHttpConnector() {\n        Connector connector = new Connector(\"org.apache.coyote.http11.Http11NioProtocol\");\n        connector.setScheme(\"https\");\n        connector.setPort(httpPort);\n        connector.setSecure(true);\n        connector.setRedirectPort(httpsPort); \n        return connector;\n    } }\n</code></pre>\n\n<p>Any help will be appreciated and thank you in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1694634379,"post_id":77099525,"comment_id":135918638,"body_markdown":"It&#39;s still messy code . I have not run it, but noted a couple of things. Try to move your call to setVisible() last, so all you gui are done before. Also from the main method create the gui in the event thread, by using SwingUtilities.invokeLatet()","body":"It&#39;s still messy code . I have not run it, but noted a couple of things. Try to move your call to setVisible() last, so all you gui are done before. Also from the main method create the gui in the event thread, by using SwingUtilities.invokeLatet()"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1694637620,"post_id":77099525,"comment_id":135919180,"body_markdown":"Glad that you are trying to make changes but I still see many problems. There is no need for a GlobalVariables class. You should not be using all those static methods. I still see no need for the layered pane. I suggested you start by reading the Swing tutorial on [How to Use Lists](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html). The &quot;ListDemo&quot; will provide a simple structure to build on. It show how to create the GUI on the Event Dispatch Thread and how to create the frame and then just add your &quot;application panel&quot; to the frame.","body":"Glad that you are trying to make changes but I still see many problems. There is no need for a GlobalVariables class. You should not be using all those static methods. I still see no need for the layered pane. I suggested you start by reading the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">How to Use Lists</a>. The &quot;ListDemo&quot; will provide a simple structure to build on. It show how to create the GUI on the Event Dispatch Thread and how to create the frame and then just add your &quot;application panel&quot; to the frame."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1694637626,"post_id":77099525,"comment_id":135919183,"body_markdown":"You should NOT be passing the frame reference around to your application.  So start with a frame with a couple of components and get it working then add more components and retest. Don&#39;t attempt to write the entire application before testing. One point, you can&#39;t add multiple components to the same BorderLayout area. I note that you try to add two components to the SOUTH. Instead you need to create a panel. Add the components to the panel and then add the panel to the SOUTH.","body":"You should NOT be passing the frame reference around to your application.  So start with a frame with a couple of components and get it working then add more components and retest. Don&#39;t attempt to write the entire application before testing. One point, you can&#39;t add multiple components to the same BorderLayout area. I note that you try to add two components to the SOUTH. Instead you need to create a panel. Add the components to the panel and then add the panel to the SOUTH."}],"owner":{"account_id":29397182,"reputation":13,"user_id":22524270,"display_name":"PokeCedGo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694628585,"creation_date":1694628585,"question_id":77099525,"body_markdown":"I was trying to implement suggestions of using layouts, not using JLayeredPane and having a more organized and structure coding in terms of variables. It took a while to recode my whole simple chat system and went from using a JScrollPane focused system to JList. However, for some reason, nothing in the &quot;UIVisuals&quot; displays at all? \r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.border.LineBorder;\r\nimport java.awt.*;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class ChatUI {\r\n    private JTextField chat_input = new JTextField(8);\r\n    private JPanel inner_background = new JPanel();\r\n    private JList&lt;String&gt; chatList; // Use JList for chat display\r\n    private DefaultListModel&lt;String&gt; chatModel; // Model to store chat data\r\n\r\n    // Add a method to update the chat display\r\n    public void updateChatDisplay(String message) {\r\n        chatModel.addElement(message);\r\n    }\r\n\r\n    public void createScrollingList(JPanel i_bg) {\r\n        // Other settings for the inner background panel\r\n        i_bg.setBorder(new LineBorder(Color.decode(&quot;#111214&quot;), 2, true));\r\n        i_bg.setLayout(new BoxLayout(i_bg, BoxLayout.Y_AXIS));\r\n        \r\n        chatModel = new DefaultListModel&lt;&gt;();\r\n        chatList = new JList&lt;&gt;(chatModel);\r\n        \r\n        // Set properties for the chatList\r\n        chatList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION); // You can change this based on your requirements\r\n        chatList.setBackground(Color.decode(&quot;#111214&quot;)); // Background color\r\n        chatList.setForeground(Color.WHITE); // Text color\r\n        chatList.setFont(new Font(Font.DIALOG, Font.BOLD, 15)); // Font\r\n        \r\n        JScrollPane sp = new JScrollPane(chatList);\r\n        sp.setPreferredSize(new Dimension(330, 450));\r\n        \r\n        // Auto-scrolls down\r\n        sp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n        sp.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n        \r\n        // Set the background color of the scroll pane and its viewport\r\n        sp.setBackground(Color.decode(&quot;#111214&quot;));\r\n        sp.getViewport().setBackground(Color.decode(&quot;#111214&quot;));\r\n        \r\n        i_bg.add(sp); // Add the scroll pane to the inner background\r\n        \r\n        // Ensure the layout is updated\r\n        i_bg.revalidate();\r\n        i_bg.repaint();\r\n    }\r\n\r\n    static void UIVisuals(JFrame frame, JList&lt;String&gt; cl, JTextField cp) {\r\n        ChatUI chatUI = new ChatUI();\r\n\r\n        JPanel mainPanel = new JPanel();\r\n        mainPanel.setLayout(new BorderLayout());\r\n\r\n        // Left frame\r\n        JPanel topBackground = new JPanel();\r\n        topBackground.setBackground(Color.decode(&quot;#62D0F6&quot;));\r\n        topBackground.setPreferredSize(new Dimension(500, 80));\r\n\r\n        // Right frame\r\n        JPanel rightFrame = new JPanel();\r\n        rightFrame.setBackground(Color.decode(&quot;#9B90B2&quot;));\r\n        rightFrame.setPreferredSize(new Dimension(20, 20));\r\n\r\n        // User_Icon\r\n        ImageIcon userIcon = new ImageIcon(&quot;C:/Users/pokec/OneDrive/Pictures/user_java_icon.png&quot;);\r\n        JLabel userLabel = new JLabel(userIcon);\r\n\r\n        // Emoji Button\r\n        ImageIcon imageIcon = new ImageIcon(&quot;C:\\\\Users\\\\pokec\\\\OneDrive\\\\Pictures\\\\gift_icon.png&quot;);\r\n        JButton gift_button = new JButton(imageIcon);\r\n\r\n        // Make button transparent\r\n        gift_button.setOpaque(false);\r\n        gift_button.setContentAreaFilled(false);\r\n        gift_button.setBorderPainted(false);\r\n\r\n        // Texting Panel\r\n        cp.setBackground(Color.decode(&quot;#383A40&quot;));\r\n        cp.setForeground(Color.WHITE);\r\n        cp.setBorder(new LineBorder(Color.decode(&quot;#4B4D54&quot;), 1, true));\r\n        cp.setFont(new Font(Font.DIALOG, Font.BOLD, 15));\r\n\r\n        JPanel bottomPanel = new JPanel();\r\n        bottomPanel.setLayout(new BorderLayout());\r\n        bottomPanel.add(cp, BorderLayout.CENTER);\r\n\r\n        // Add components to mainPanel\r\n        mainPanel.add(topBackground, BorderLayout.NORTH);\r\n        mainPanel.add(rightFrame, BorderLayout.EAST);\r\n        mainPanel.add(userLabel, BorderLayout.WEST);\r\n        mainPanel.add(gift_button, BorderLayout.SOUTH);\r\n        mainPanel.add(bottomPanel, BorderLayout.SOUTH);\r\n\r\n        // Event Listeners\r\n        EventListeners eventListeners = new EventListeners(gift_button, cp, cl);\r\n        cp.addActionListener(eventListeners);\r\n        gift_button.addActionListener(eventListeners);\r\n\r\n        chatUI.createScrollingList(chatUI.inner_background); // Pass chatList as an argument\r\n\r\n        // Set the main panel as the content pane for the frame\r\n        frame.setContentPane(mainPanel);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.Font;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\n\r\npublic class ChatSystem {   \r\n    private GlobalVariables gV = new GlobalVariables();\r\n\r\n    private JTextArea textArea = gV.getTextArea();\r\n    private JFrame frame = gV.getFrame();\r\n    private JTextField chat_input = gV.getChatInput();\r\n    private JList&lt;String&gt; chatList = gV.getChatList();\r\n\r\n    public static void createScrollingFrame(JFrame frame, JTextField cp, JList&lt;String&gt; cl) {\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n\r\n        // UI Labels\r\n        JLabel client = new JLabel();\r\n        Font f3 = new Font(Font.DIALOG, Font.BOLD, 35);\r\n        client.setFont(f3);\r\n        client.setText(&quot;Mee6 | BOT&quot;);\r\n        client.setForeground(Color.WHITE);\r\n        \r\n        JPanel topPanel = new JPanel(); \r\n        topPanel.setOpaque(false);\r\n        topPanel.add(client);\r\n        \r\n        frame.add(topPanel, BorderLayout.NORTH); \r\n\r\n        // Create everything else\r\n        ChatUI.UIVisuals(frame, cl, cp);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n            ChatSystem chat = new ChatSystem();\r\n\r\n            chat.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            chat.frame.setVisible(true);\r\n            chat.frame.setBackground(Color.decode(&quot;#313338&quot;));\r\n            chat.frame.setPreferredSize(new Dimension(380, 900)); \r\n            chat.frame.setMaximumSize(new Dimension(395, 1000));\r\n\r\n            createScrollingFrame(chat.frame, chat.chat_input, chat.chatList);\r\n   \r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport javax.swing.DefaultListModel;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLayeredPane;\r\nimport javax.swing.JList;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTextField;\r\n\r\npublic class GlobalVariables {\r\n    private JTextField chat_input = new JTextField(8);\r\n    private JPanel inner_background = new JPanel();\r\n    private JTextArea textArea = new JTextArea(50, 2);\r\n    private JList&lt;String&gt; chatList; // Use JList for chat display\r\n    private DefaultListModel&lt;String&gt; chatModel; // Model to store chat data\r\n    \r\n    private JFrame frame = new JFrame(&quot;ChatBot&quot;);\r\n    private JFrame chatPanel = new JFrame();\r\n    private JLayeredPane layeredPane = new JLayeredPane();\r\n\r\n    //getters\r\n    public JTextField getChatInput() {\r\n        return chat_input;\r\n    }\r\n    public JPanel getInnerBackground() {\r\n        return inner_background;\r\n    }\r\n    public JTextArea getTextArea() {\r\n        return textArea;\r\n    }\r\n    public JList getChatList() {\r\n        return chatList;\r\n    }\r\n\r\n    public JFrame getFrame() {\r\n        return frame;\r\n    }\r\n\r\n    public JFrame getChatPanel() {\r\n        return chatPanel;\r\n    }\r\n\r\n    public JLayeredPane getLayeredPane() {\r\n        return layeredPane;\r\n    }\r\n}\r\n```","title":"UIs not Displaying?","body":"<p>I was trying to implement suggestions of using layouts, not using JLayeredPane and having a more organized and structure coding in terms of variables. It took a while to recode my whole simple chat system and went from using a JScrollPane focused system to JList. However, for some reason, nothing in the &quot;UIVisuals&quot; displays at all?</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.LineBorder;\nimport java.awt.*;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class ChatUI {\n    private JTextField chat_input = new JTextField(8);\n    private JPanel inner_background = new JPanel();\n    private JList&lt;String&gt; chatList; // Use JList for chat display\n    private DefaultListModel&lt;String&gt; chatModel; // Model to store chat data\n\n    // Add a method to update the chat display\n    public void updateChatDisplay(String message) {\n        chatModel.addElement(message);\n    }\n\n    public void createScrollingList(JPanel i_bg) {\n        // Other settings for the inner background panel\n        i_bg.setBorder(new LineBorder(Color.decode(&quot;#111214&quot;), 2, true));\n        i_bg.setLayout(new BoxLayout(i_bg, BoxLayout.Y_AXIS));\n        \n        chatModel = new DefaultListModel&lt;&gt;();\n        chatList = new JList&lt;&gt;(chatModel);\n        \n        // Set properties for the chatList\n        chatList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION); // You can change this based on your requirements\n        chatList.setBackground(Color.decode(&quot;#111214&quot;)); // Background color\n        chatList.setForeground(Color.WHITE); // Text color\n        chatList.setFont(new Font(Font.DIALOG, Font.BOLD, 15)); // Font\n        \n        JScrollPane sp = new JScrollPane(chatList);\n        sp.setPreferredSize(new Dimension(330, 450));\n        \n        // Auto-scrolls down\n        sp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        sp.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n        \n        // Set the background color of the scroll pane and its viewport\n        sp.setBackground(Color.decode(&quot;#111214&quot;));\n        sp.getViewport().setBackground(Color.decode(&quot;#111214&quot;));\n        \n        i_bg.add(sp); // Add the scroll pane to the inner background\n        \n        // Ensure the layout is updated\n        i_bg.revalidate();\n        i_bg.repaint();\n    }\n\n    static void UIVisuals(JFrame frame, JList&lt;String&gt; cl, JTextField cp) {\n        ChatUI chatUI = new ChatUI();\n\n        JPanel mainPanel = new JPanel();\n        mainPanel.setLayout(new BorderLayout());\n\n        // Left frame\n        JPanel topBackground = new JPanel();\n        topBackground.setBackground(Color.decode(&quot;#62D0F6&quot;));\n        topBackground.setPreferredSize(new Dimension(500, 80));\n\n        // Right frame\n        JPanel rightFrame = new JPanel();\n        rightFrame.setBackground(Color.decode(&quot;#9B90B2&quot;));\n        rightFrame.setPreferredSize(new Dimension(20, 20));\n\n        // User_Icon\n        ImageIcon userIcon = new ImageIcon(&quot;C:/Users/pokec/OneDrive/Pictures/user_java_icon.png&quot;);\n        JLabel userLabel = new JLabel(userIcon);\n\n        // Emoji Button\n        ImageIcon imageIcon = new ImageIcon(&quot;C:\\\\Users\\\\pokec\\\\OneDrive\\\\Pictures\\\\gift_icon.png&quot;);\n        JButton gift_button = new JButton(imageIcon);\n\n        // Make button transparent\n        gift_button.setOpaque(false);\n        gift_button.setContentAreaFilled(false);\n        gift_button.setBorderPainted(false);\n\n        // Texting Panel\n        cp.setBackground(Color.decode(&quot;#383A40&quot;));\n        cp.setForeground(Color.WHITE);\n        cp.setBorder(new LineBorder(Color.decode(&quot;#4B4D54&quot;), 1, true));\n        cp.setFont(new Font(Font.DIALOG, Font.BOLD, 15));\n\n        JPanel bottomPanel = new JPanel();\n        bottomPanel.setLayout(new BorderLayout());\n        bottomPanel.add(cp, BorderLayout.CENTER);\n\n        // Add components to mainPanel\n        mainPanel.add(topBackground, BorderLayout.NORTH);\n        mainPanel.add(rightFrame, BorderLayout.EAST);\n        mainPanel.add(userLabel, BorderLayout.WEST);\n        mainPanel.add(gift_button, BorderLayout.SOUTH);\n        mainPanel.add(bottomPanel, BorderLayout.SOUTH);\n\n        // Event Listeners\n        EventListeners eventListeners = new EventListeners(gift_button, cp, cl);\n        cp.addActionListener(eventListeners);\n        gift_button.addActionListener(eventListeners);\n\n        chatUI.createScrollingList(chatUI.inner_background); // Pass chatList as an argument\n\n        // Set the main panel as the content pane for the frame\n        frame.setContentPane(mainPanel);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<pre><code>import javax.swing.*;\nimport java.awt.Font;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\n\npublic class ChatSystem {   \n    private GlobalVariables gV = new GlobalVariables();\n\n    private JTextArea textArea = gV.getTextArea();\n    private JFrame frame = gV.getFrame();\n    private JTextField chat_input = gV.getChatInput();\n    private JList&lt;String&gt; chatList = gV.getChatList();\n\n    public static void createScrollingFrame(JFrame frame, JTextField cp, JList&lt;String&gt; cl) {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n\n        // UI Labels\n        JLabel client = new JLabel();\n        Font f3 = new Font(Font.DIALOG, Font.BOLD, 35);\n        client.setFont(f3);\n        client.setText(&quot;Mee6 | BOT&quot;);\n        client.setForeground(Color.WHITE);\n        \n        JPanel topPanel = new JPanel(); \n        topPanel.setOpaque(false);\n        topPanel.add(client);\n        \n        frame.add(topPanel, BorderLayout.NORTH); \n\n        // Create everything else\n        ChatUI.UIVisuals(frame, cl, cp);\n    }\n\n    public static void main(String[] args) {\n            ChatSystem chat = new ChatSystem();\n\n            chat.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            chat.frame.setVisible(true);\n            chat.frame.setBackground(Color.decode(&quot;#313338&quot;));\n            chat.frame.setPreferredSize(new Dimension(380, 900)); \n            chat.frame.setMaximumSize(new Dimension(395, 1000));\n\n            createScrollingFrame(chat.frame, chat.chat_input, chat.chatList);\n   \n    }\n}\n</code></pre>\n<pre><code>import javax.swing.DefaultListModel;\nimport javax.swing.JFrame;\nimport javax.swing.JLayeredPane;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\n\npublic class GlobalVariables {\n    private JTextField chat_input = new JTextField(8);\n    private JPanel inner_background = new JPanel();\n    private JTextArea textArea = new JTextArea(50, 2);\n    private JList&lt;String&gt; chatList; // Use JList for chat display\n    private DefaultListModel&lt;String&gt; chatModel; // Model to store chat data\n    \n    private JFrame frame = new JFrame(&quot;ChatBot&quot;);\n    private JFrame chatPanel = new JFrame();\n    private JLayeredPane layeredPane = new JLayeredPane();\n\n    //getters\n    public JTextField getChatInput() {\n        return chat_input;\n    }\n    public JPanel getInnerBackground() {\n        return inner_background;\n    }\n    public JTextArea getTextArea() {\n        return textArea;\n    }\n    public JList getChatList() {\n        return chatList;\n    }\n\n    public JFrame getFrame() {\n        return frame;\n    }\n\n    public JFrame getChatPanel() {\n        return chatPanel;\n    }\n\n    public JLayeredPane getLayeredPane() {\n        return layeredPane;\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","ajax","ajaxform"],"comments":[{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":1,"creation_date":1694535180,"post_id":77090853,"comment_id":135902618,"body_markdown":"It looks like the URL is for myChannels and the channel I want is number 12, with the number being dynamic. So depending upon the backend, the endpoint may look something like &quot;myChannels/{id}&quot;. Look for just myChannels and see what you find.","body":"It looks like the URL is for myChannels and the channel I want is number 12, with the number being dynamic. So depending upon the backend, the endpoint may look something like &quot;myChannels/{id}&quot;. Look for just myChannels and see what you find."}],"answers":[{"tags":[],"owner":{"account_id":22674125,"reputation":5,"user_id":16845468,"display_name":"DesarrolladorNoob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694628290,"creation_date":1694627489,"answer_id":77099428,"question_id":77090853,"body_markdown":"(Newbie opinion) If you have access to the backend, where the service is deployed i.e. `myChannels`, it should be in the controllers assuming it is an MVC application.","title":"Find the location of ajax URL call on the server","body":"<p>(Newbie opinion) If you have access to the backend, where the service is deployed i.e. <code>myChannels</code>, it should be in the controllers assuming it is an MVC application.</p>\n"}],"owner":{"account_id":16501529,"reputation":4282,"user_id":11922765,"display_name":"Mainland"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694628290,"creation_date":1694534517,"question_id":77090853,"body_markdown":"This is first time I heard about ajax. Right now I have a perfectly working script to plot data using `armcharts`. Source of this data seems to be `ajax` call and it goes like this. \r\n\r\n    $.ajax(&quot;myChannels/12&quot;).done( function(data) {\r\n    \t\tcreateDeviceChart(&quot;chart&quot;, &quot;Product Channels&quot;, [&quot;Sensor1&quot;, &quot;Senso2&quot;], &quot;Pulses&quot;, data);\r\n\r\nI did `grep -R &quot;myChannels/12&quot; / ` on the server where this script is located. My present output is &quot;No such device or address&quot;. \r\n\r\nI did this on the browser: &quot;IP address/myChannels/12&quot; and I see JSON data in the dictionary format. How and where to locate source of this data? and script? \r\n","title":"Find the location of ajax URL call on the server","body":"<p>This is first time I heard about ajax. Right now I have a perfectly working script to plot data using <code>armcharts</code>. Source of this data seems to be <code>ajax</code> call and it goes like this.</p>\n<pre><code>$.ajax(&quot;myChannels/12&quot;).done( function(data) {\n        createDeviceChart(&quot;chart&quot;, &quot;Product Channels&quot;, [&quot;Sensor1&quot;, &quot;Senso2&quot;], &quot;Pulses&quot;, data);\n</code></pre>\n<p>I did <code>grep -R &quot;myChannels/12&quot; / </code> on the server where this script is located. My present output is &quot;No such device or address&quot;.</p>\n<p>I did this on the browser: &quot;IP address/myChannels/12&quot; and I see JSON data in the dictionary format. How and where to locate source of this data? and script?</p>\n"},{"tags":["java","hashcode"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1334914536,"post_id":10243599,"comment_id":13164636,"body_markdown":"Related: http://stackoverflow.com/questions/2587442/hash-code-for-a-group-of-three-fields","body":"Related: <a href=\"http://stackoverflow.com/questions/2587442/hash-code-for-a-group-of-three-fields\" title=\"hash code for a group of three fields\">stackoverflow.com/questions/2587442/&hellip;</a>"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1334914689,"post_id":10243599,"comment_id":13164697,"body_markdown":"`(37*(17 + user.hashCode) + product.hashCode())`. Taken from Effective Java.","body":"<code>(37*(17 + user.hashCode) + product.hashCode())</code>. Taken from Effective Java."},{"owner":{"account_id":160574,"reputation":15892,"user_id":380734,"accept_rate":81,"display_name":"Noel M"},"score":3,"creation_date":1334914760,"post_id":10243599,"comment_id":13164724,"body_markdown":"Hashcodes are not unique. Equal objects return the same hashcode, but the same hashcode does not mean that objects are equal. Don&#39;t mistake hashcode for an ID.","body":"Hashcodes are not unique. Equal objects return the same hashcode, but the same hashcode does not mean that objects are equal. Don&#39;t mistake hashcode for an ID."}],"answers":[{"tags":[],"owner":{"account_id":1341284,"reputation":116,"user_id":1282893,"display_name":"bongi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334914757,"creation_date":1334914757,"answer_id":10243716,"question_id":10243599,"body_markdown":"A common solution is to multiply the first hash with a prime number and then add the second hash.","title":"Java hash of 2 hashes","body":"<p>A common solution is to multiply the first hash with a prime number and then add the second hash.</p>\n"},{"tags":[],"owner":{"account_id":39206,"reputation":8779,"user_id":112964,"accept_rate":100,"display_name":"nd."},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1334915813,"creation_date":1334914794,"answer_id":10243726,"question_id":10243599,"body_markdown":"Your `hashCode` is not that bad if both user and product create pseudo-random hash-codes. If you are afraid of hash collisions because of bad hashCode implementations in either `user` or `product`, then multiply one of the source hash codes by a prime number:\r\n\r\n    public int hashCode() {\r\n      final int prime = 31;\r\n      int result = 1;\r\n      result = prime * result + ((product == null) ? 0 : product.hashCode());\r\n      result = prime * result + ((user == null) ? 0 : user.hashCode());\r\n      return result;\r\n    }\r\n\r\nEclipse builds this very code when selecting *Source | Generate hashCode() and equals()*.\r\n\r\nAs mentioned by Thilo, you can also simply use `Arrays.hashCode(new Object[]{ user, product })`; This call takes care of `null` values for user or product and also multiplies the result by 31 - same as the hand written code.\r\nIf you are using Google Guava, there is an `Objects.hashCode(Object...)` that makes your intent a little bit clearer and uses varargs, but it also only delegates to `Arrays.hashCode`.","title":"Java hash of 2 hashes","body":"<p>Your <code>hashCode</code> is not that bad if both user and product create pseudo-random hash-codes. If you are afraid of hash collisions because of bad hashCode implementations in either <code>user</code> or <code>product</code>, then multiply one of the source hash codes by a prime number:</p>\n\n<pre><code>public int hashCode() {\n  final int prime = 31;\n  int result = 1;\n  result = prime * result + ((product == null) ? 0 : product.hashCode());\n  result = prime * result + ((user == null) ? 0 : user.hashCode());\n  return result;\n}\n</code></pre>\n\n<p>Eclipse builds this very code when selecting <em>Source | Generate hashCode() and equals()</em>.</p>\n\n<p>As mentioned by Thilo, you can also simply use <code>Arrays.hashCode(new Object[]{ user, product })</code>; This call takes care of <code>null</code> values for user or product and also multiplies the result by 31 - same as the hand written code.\nIf you are using Google Guava, there is an <code>Objects.hashCode(Object...)</code> that makes your intent a little bit clearer and uses varargs, but it also only delegates to <code>Arrays.hashCode</code>.</p>\n"},{"tags":[],"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392043502,"creation_date":1334914816,"answer_id":10243734,"question_id":10243599,"body_markdown":"You could let Apache Commons [HashCodeBuilder][1] do the work for you.\r\n\r\nIt lets you write something like\r\n\r\n    return new HashCodeBuilder(17, 37).\r\n       append(user).\r\n       append(product).\r\n       toHashCode();\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/builder/HashCodeBuilder.html","title":"Java hash of 2 hashes","body":"<p>You could let Apache Commons <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow\">HashCodeBuilder</a> do the work for you.</p>\n\n<p>It lets you write something like</p>\n\n<pre><code>return new HashCodeBuilder(17, 37).\n   append(user).\n   append(product).\n   toHashCode();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5514254,"reputation":101,"user_id":4379593,"display_name":"Филя Усков"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694628228,"creation_date":1694628228,"answer_id":77099486,"question_id":10243599,"body_markdown":"We need to do two points:\r\n\r\n 1. minimize collisions\r\n 2. hash(a,b)!=hash(b,a)\r\n\r\nI suggest such way:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nnumerically we have such algorithm:\r\n```\r\na = hash1\r\nb = hash2\r\np = a+b\r\nresult_hash = p*(p+1)/2+b\r\n```\r\nbut if we reduce algorithm, this will not affect collisions:\r\n```\r\na = hash1\r\nb = hash2\r\np = a+b\r\nresult_hash = p*p+b\r\n```\r\nwe can check this (in python):\r\n```\r\nN=256 # number of different values of hash\r\nd = {}\r\nfor a in range(N):\r\n  for b in range(N):\r\n    p = a+b\r\n    x = (p*p+b)%N\r\n    if x in d:\r\n      d[x]+=1\r\n    else:\r\n      d[x]=1\r\nprint(max(v for k,v in d.items()))\r\n```\r\n  [1]: https://i.stack.imgur.com/GrgGs.png","title":"Java hash of 2 hashes","body":"<p>We need to do two points:</p>\n<ol>\n<li>minimize collisions</li>\n<li>hash(a,b)!=hash(b,a)</li>\n</ol>\n<p>I suggest such way:</p>\n<p><a href=\"https://i.stack.imgur.com/GrgGs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GrgGs.png\" alt=\"enter image description here\" /></a></p>\n<p>numerically we have such algorithm:</p>\n<pre><code>a = hash1\nb = hash2\np = a+b\nresult_hash = p*(p+1)/2+b\n</code></pre>\n<p>but if we reduce algorithm, this will not affect collisions:</p>\n<pre><code>a = hash1\nb = hash2\np = a+b\nresult_hash = p*p+b\n</code></pre>\n<p>we can check this (in python):</p>\n<pre><code>N=256 # number of different values of hash\nd = {}\nfor a in range(N):\n  for b in range(N):\n    p = a+b\n    x = (p*p+b)%N\n    if x in d:\n      d[x]+=1\n    else:\n      d[x]=1\nprint(max(v for k,v in d.items()))\n</code></pre>\n"}],"owner":{"display_name":"user1125394"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":10243726,"answer_count":4,"score":7,"last_activity_date":1694628228,"creation_date":1334914293,"question_id":10243599,"body_markdown":"I&#39;m having two lists of objects, users and products\r\n\r\nusers own products, and each products is associated to 1 user\r\n\r\nbut a product type can be multiple and be owned by separate users\r\n\r\n- users: Ed, Rob\r\n- products: Coca, Sprites(1), Sprites(2), Beer\r\n- Ed has Coca and Sprites(1), Rob Sprites (2) and Beer\r\n\r\nI need to generate an id for each unique (user+product)\r\n\r\nIt&#39;s probably not a good idea to do \r\n\r\n    user.hashCode() + product.hashCode()\r\n\r\nWhat could be a good way to proceed?","title":"Java hash of 2 hashes","body":"<p>I'm having two lists of objects, users and products</p>\n\n<p>users own products, and each products is associated to 1 user</p>\n\n<p>but a product type can be multiple and be owned by separate users</p>\n\n<ul>\n<li>users: Ed, Rob</li>\n<li>products: Coca, Sprites(1), Sprites(2), Beer</li>\n<li>Ed has Coca and Sprites(1), Rob Sprites (2) and Beer</li>\n</ul>\n\n<p>I need to generate an id for each unique (user+product)</p>\n\n<p>It's probably not a good idea to do </p>\n\n<pre><code>user.hashCode() + product.hashCode()\n</code></pre>\n\n<p>What could be a good way to proceed?</p>\n"},{"tags":["java","http","http-headers","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1639192866,"post_id":70304301,"comment_id":124292643,"body_markdown":"Don&#39;t see anything that produces your request header. Please add correct code part .","body":"Don&#39;t see anything that produces your request header. Please add correct code part ."},{"owner":{"account_id":23608171,"reputation":1,"user_id":17643581,"display_name":"Валентин Алексеев"},"score":0,"creation_date":1639238423,"post_id":70304301,"comment_id":124299995,"body_markdown":"The problem is that I do not set any headers in the code, however, they are sent in the request. As I understand it, this is a certain set of default headers that rest assured initializes","body":"The problem is that I do not set any headers in the code, however, they are sent in the request. As I understand it, this is a certain set of default headers that rest assured initializes"},{"owner":{"account_id":23608171,"reputation":1,"user_id":17643581,"display_name":"Валентин Алексеев"},"score":0,"creation_date":1639238946,"post_id":70304301,"comment_id":124300109,"body_markdown":"@lucas-nguyen-17, i added en example in my &quot;post request&quot; code part","body":"@lucas-nguyen-17, i added en example in my &quot;post request&quot; code part"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1639269784,"post_id":70304301,"comment_id":124306098,"body_markdown":"I guess `body(hexStringToByteArray(test1))` produces these headers. Since you want to send as `Byte[]` --&gt; Content-Type must be `application/octet-stream` with default charset `charset=ISO-8859-1`. Others header do NO harms.","body":"I guess <code>body(hexStringToByteArray(test1))</code> produces these headers. Since you want to send as <code>Byte[]</code> --&gt; Content-Type must be <code>application&#47;octet-stream</code> with default charset <code>charset=ISO-8859-1</code>. Others header do NO harms."}],"owner":{"account_id":23608171,"reputation":1,"user_id":17643581,"display_name":"Валентин Алексеев"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694626216,"creation_date":1639138263,"question_id":70304301,"body_markdown":"When I submit my HTTP POST request, I see headers that I did not expect (highlighted): \r\n\r\n***Accept: */*\r\nAccept-Encoding: none,gzip,deflate\r\nContent-Type: application/octet-stream; charset=ISO-8859-1**\r\nSSL-Client-CN: POS-1234-1234\r\n**Host: 123.123.123.123:8081\r\nConnection: Keep-Alive\r\nUser-Agent: Apache-HttpClient/4.5.13 (Java/1.8.0_312)***\r\n\r\nHow can i remove them?\r\n\r\n        @Test\r\n        public HeaderConfig sampleTest() {\r\n            try (InputStream input = new FileInputStream(&quot;src/test/resources/local.properties&quot;)) {\r\n                Properties prop = new Properties();\r\n                prop.load(input);\r\n                \r\n                RestAssured.baseURI = prop.getProperty(&quot;RestAssured.baseURI&quot;);\r\n                RestAssured.port =  Integer.parseInt(prop.getProperty(&quot;RestAssured.port&quot;));\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n\r\n            String test1 = &quot;some string data&quot;;\r\n\r\n           Response response = given().header(&quot;SSL-Client-CN&quot;,&quot;POS-1234-1234&quot;).body(hexStringToByteArray(test1)).when().post().then().using().extract().response();\r\n            \r\n            String body = response.getBody().asString();\r\n            int status = response.getStatusCode();\r\n            System.out.println(response.getBody().asString());\r\n            Assert.assertEquals(status, 200);\r\n\r\n            return null;\r\n        }\r\n","title":"Remove unnecessary HTTP headers in POST request using rest assured","body":"<p>When I submit my HTTP POST request, I see headers that I did not expect (highlighted):</p>\n<p><em><strong>Accept: <em>/</em>\nAccept-Encoding: none,gzip,deflate\nContent-Type: application/octet-stream; charset=ISO-8859-1</strong>\nSSL-Client-CN: POS-1234-1234\n<strong>Host: 123.123.123.123:8081\nConnection: Keep-Alive\nUser-Agent: Apache-HttpClient/4.5.13 (Java/1.8.0_312)</strong></em></p>\n<p>How can i remove them?</p>\n<pre><code>    @Test\n    public HeaderConfig sampleTest() {\n        try (InputStream input = new FileInputStream(&quot;src/test/resources/local.properties&quot;)) {\n            Properties prop = new Properties();\n            prop.load(input);\n            \n            RestAssured.baseURI = prop.getProperty(&quot;RestAssured.baseURI&quot;);\n            RestAssured.port =  Integer.parseInt(prop.getProperty(&quot;RestAssured.port&quot;));\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n\n        String test1 = &quot;some string data&quot;;\n\n       Response response = given().header(&quot;SSL-Client-CN&quot;,&quot;POS-1234-1234&quot;).body(hexStringToByteArray(test1)).when().post().then().using().extract().response();\n        \n        String body = response.getBody().asString();\n        int status = response.getStatusCode();\n        System.out.println(response.getBody().asString());\n        Assert.assertEquals(status, 200);\n\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","swing","jfilechooser"],"answers":[{"tags":[],"owner":{"account_id":3969990,"reputation":7267,"user_id":3274830,"accept_rate":58,"display_name":"Mohsen Kamrani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397661599,"creation_date":1397660897,"answer_id":23113324,"question_id":23113239,"body_markdown":"Note: `SELECTED_FILE_CHANGED_PROPERTY` events are fired only if a single item is selected.\r\n\r\nIn particular, if multiple items are selected while multiple-selection mode is enabled, this event is not fired. But if a single item is selected while in multiple-selection mode, this event is fired.\r\n\r\nWhen in multiple-selection mode, `SELECTED_FILES_CHANGED_PROPERTY` events are always fired regardless of whether a single or multiple files have been selected.\r\n\r\n\r\n\tJFileChooser chooser = new JFileChooser();\r\n\t\r\n\t// Add listener on chooser to detect changes to selected file\r\n\tchooser.addPropertyChangeListener(new PropertyChangeListener() {\r\n\t    public void propertyChange(PropertyChangeEvent evt) {\r\n\t        if (JFileChooser.SELECTED_FILE_CHANGED_PROPERTY\r\n\t                .equals(evt.getPropertyName())) {\r\n\t            JFileChooser chooser = (JFileChooser)evt.getSource();\r\n\t            File oldFile = (File)evt.getOldValue();\r\n\t            File newFile = (File)evt.getNewValue();\r\n\t\r\n\t            // The selected file should always be the same as newFile\r\n\t            File curFile = chooser.getSelectedFile();\r\n\t        } else if (JFileChooser.SELECTED_FILES_CHANGED_PROPERTY.equals(\r\n\t                evt.getPropertyName())) {\r\n\t            JFileChooser chooser = (JFileChooser)evt.getSource();\r\n\t            File[] oldFiles = (File[])evt.getOldValue();\r\n\t            File[] newFiles = (File[])evt.getNewValue();\r\n\t\r\n\t            // Get list of selected files\r\n\t            // The selected files should always be the same as newFiles\r\n\t            File[] files = chooser.getSelectedFiles();\r\n\t        }\r\n\t    }\r\n\t}) ;","title":"How to listen to changes on &#39;File Name&#39; TextField in JFileChooser?","body":"<p>Note: <code>SELECTED_FILE_CHANGED_PROPERTY</code> events are fired only if a single item is selected.</p>\n\n<p>In particular, if multiple items are selected while multiple-selection mode is enabled, this event is not fired. But if a single item is selected while in multiple-selection mode, this event is fired.</p>\n\n<p>When in multiple-selection mode, <code>SELECTED_FILES_CHANGED_PROPERTY</code> events are always fired regardless of whether a single or multiple files have been selected.</p>\n\n<pre><code>JFileChooser chooser = new JFileChooser();\n\n// Add listener on chooser to detect changes to selected file\nchooser.addPropertyChangeListener(new PropertyChangeListener() {\n    public void propertyChange(PropertyChangeEvent evt) {\n        if (JFileChooser.SELECTED_FILE_CHANGED_PROPERTY\n                .equals(evt.getPropertyName())) {\n            JFileChooser chooser = (JFileChooser)evt.getSource();\n            File oldFile = (File)evt.getOldValue();\n            File newFile = (File)evt.getNewValue();\n\n            // The selected file should always be the same as newFile\n            File curFile = chooser.getSelectedFile();\n        } else if (JFileChooser.SELECTED_FILES_CHANGED_PROPERTY.equals(\n                evt.getPropertyName())) {\n            JFileChooser chooser = (JFileChooser)evt.getSource();\n            File[] oldFiles = (File[])evt.getOldValue();\n            File[] newFiles = (File[])evt.getNewValue();\n\n            // Get list of selected files\n            // The selected files should always be the same as newFiles\n            File[] files = chooser.getSelectedFiles();\n        }\n    }\n}) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1536701,"reputation":4494,"user_id":1432545,"accept_rate":97,"display_name":"das_j"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397661571,"creation_date":1397661571,"answer_id":23113602,"question_id":23113239,"body_markdown":"What you want is a `JFileChooser` with the `SAVE_DIALOG` Flag.\r\n\r\nSome demo code:\r\n\r\n    JFileChooser chooser = new JFileChooser(&quot;some path&quot;);\r\n    chooser.setDialogType(JFileChooser.SAVE_DIALOG);\r\n    // Stuff like setting the required file extension, the title, ...\r\n    int result = chooser.showSaveDialog(this);\r\n    if (result == JFileChooser.APPROVE_OPTION) {\r\n        String path = chooser.getSelectedFile().toString();\r\n        // Do something with the path\r\n    }\r\n    chooser.setVisible(false); // Don&#39;t forget to hide","title":"How to listen to changes on &#39;File Name&#39; TextField in JFileChooser?","body":"<p>What you want is a <code>JFileChooser</code> with the <code>SAVE_DIALOG</code> Flag.</p>\n\n<p>Some demo code:</p>\n\n<pre><code>JFileChooser chooser = new JFileChooser(\"some path\");\nchooser.setDialogType(JFileChooser.SAVE_DIALOG);\n// Stuff like setting the required file extension, the title, ...\nint result = chooser.showSaveDialog(this);\nif (result == JFileChooser.APPROVE_OPTION) {\n    String path = chooser.getSelectedFile().toString();\n    // Do something with the path\n}\nchooser.setVisible(false); // Don't forget to hide\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17883343,"reputation":1,"user_id":12991557,"display_name":"Richard Mangerie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694625483,"creation_date":1694625483,"answer_id":77099229,"question_id":23113239,"body_markdown":"I was able to get this working by using the main concept of [another answer to a similar question][1]:\r\n\r\n    private JTextField getFilenameTextField(Container cont)\r\n    {\r\n      for (Component c : cont.getComponents())\r\n      {\r\n        if (c instanceof JTextField)\r\n        {\r\n          return (JTextField)c;\r\n        }\r\n        else if (c instanceof Container)\r\n        {\r\n          JTextField textField = getFilenameTextField(((Container) c));\r\n          if (textField != null) return textField;\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n\r\nThis will take some container (in this case, a JFileChooser object) as the parameter and recursively search each of its components and sub-components until it finds the JTextField.  If it cannot be found for some reason, `null` is returned.  However, this should work just fine, as a standard vanilla JFileChooser should always have exactly one text field.\r\n\r\nThen you can get the text field object and add a document listener to it, which will track when the text changes:\r\n\r\n    JFileChooser chooser = new JFileChooser();\r\n    JTextField filenameTextField = getFilenameTextField(chooser);\r\n    filenameTextField.getDocument().addDocumentListener(new DocumentListener()\r\n    {\r\n      // implement the methods\r\n    });\r\n\r\n  [1]: https://stackoverflow.com/questions/71205132/how-can-you-name-the-component-jtextfield-that-shows-the-selected-file-inside","title":"How to listen to changes on &#39;File Name&#39; TextField in JFileChooser?","body":"<p>I was able to get this working by using the main concept of <a href=\"https://stackoverflow.com/questions/71205132/how-can-you-name-the-component-jtextfield-that-shows-the-selected-file-inside\">another answer to a similar question</a>:</p>\n<pre><code>private JTextField getFilenameTextField(Container cont)\n{\n  for (Component c : cont.getComponents())\n  {\n    if (c instanceof JTextField)\n    {\n      return (JTextField)c;\n    }\n    else if (c instanceof Container)\n    {\n      JTextField textField = getFilenameTextField(((Container) c));\n      if (textField != null) return textField;\n    }\n  }\n  return null;\n}\n</code></pre>\n<p>This will take some container (in this case, a JFileChooser object) as the parameter and recursively search each of its components and sub-components until it finds the JTextField.  If it cannot be found for some reason, <code>null</code> is returned.  However, this should work just fine, as a standard vanilla JFileChooser should always have exactly one text field.</p>\n<p>Then you can get the text field object and add a document listener to it, which will track when the text changes:</p>\n<pre><code>JFileChooser chooser = new JFileChooser();\nJTextField filenameTextField = getFilenameTextField(chooser);\nfilenameTextField.getDocument().addDocumentListener(new DocumentListener()\n{\n  // implement the methods\n});\n</code></pre>\n"}],"owner":{"account_id":1834196,"reputation":3360,"user_id":1664878,"accept_rate":67,"display_name":"Volodymyr Levytskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2291,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23113324,"answer_count":3,"score":4,"last_activity_date":1694625483,"creation_date":1397660648,"question_id":23113239,"body_markdown":"I need to get the newest typed text inside text field labelled &#39;File name&#39; in `javax.swing.JFileChooser`.\r\n\r\nI don&#39;t need latest selected file because text typed into &#39;File name&#39; should serve as a name for newly created file.\r\n\r\nI used SELECTED_FILE_CHANGED_PROPERTY but it&#39;s fired only on file selections.\r\nThere is also FILE_FILTER_CHANGED_PROPERTY but it is fired when I change type of file.\r\n\r\nHow to listen to changes of &#39;File Name&#39; text field?\r\n\r\nThank you!\r\n\r\n","title":"How to listen to changes on &#39;File Name&#39; TextField in JFileChooser?","body":"<p>I need to get the newest typed text inside text field labelled 'File name' in <code>javax.swing.JFileChooser</code>.</p>\n\n<p>I don't need latest selected file because text typed into 'File name' should serve as a name for newly created file.</p>\n\n<p>I used SELECTED_FILE_CHANGED_PROPERTY but it's fired only on file selections.\nThere is also FILE_FILTER_CHANGED_PROPERTY but it is fired when I change type of file.</p>\n\n<p>How to listen to changes of 'File Name' text field?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-bean"],"comments":[{"owner":{"account_id":29407677,"reputation":3,"user_id":22532367,"display_name":"Mat-Zaj"},"score":0,"creation_date":1694624657,"post_id":77099115,"comment_id":135916912,"body_markdown":"I forgot mention that I use MariaDB in xampp.","body":"I forgot mention that I use MariaDB in xampp."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1694625176,"post_id":77099115,"comment_id":135917015,"body_markdown":"First of all: Take care of java naming convetions. Class names should be start with uppercase character.","body":"First of all: Take care of java naming convetions. Class names should be start with uppercase character."},{"owner":{"account_id":29407677,"reputation":3,"user_id":22532367,"display_name":"Mat-Zaj"},"score":0,"creation_date":1694625535,"post_id":77099115,"comment_id":135917077,"body_markdown":"I do. The class name was &quot;Product&quot; but I changed it when I read the end of the exception. And in my db the names are like (&quot;product_quantity&quot;).","body":"I do. The class name was &quot;Product&quot; but I changed it when I read the end of the exception. And in my db the names are like (&quot;product_quantity&quot;)."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1694625617,"post_id":77099115,"comment_id":135917096,"body_markdown":"The name of the class and the name of the columns are unrelated here","body":"The name of the class and the name of the columns are unrelated here"},{"owner":{"account_id":29407677,"reputation":3,"user_id":22532367,"display_name":"Mat-Zaj"},"score":0,"creation_date":1694625926,"post_id":77099115,"comment_id":135917151,"body_markdown":"I noticed. I corrected repository and it works. Thanks","body":"I noticed. I corrected repository and it works. Thanks"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1694626057,"post_id":77099115,"comment_id":135917174,"body_markdown":"You are welcome. So if my answer helps you, feel free to accept and/or upvote them","body":"You are welcome. So if my answer helps you, feel free to accept and/or upvote them"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694625327,"creation_date":1694625327,"answer_id":77099214,"question_id":77099115,"body_markdown":"The solution is simple. The method name must be `product findByProductId(long id);` not `product findByProduct_id(long id);`\r\n","title":"JpaRepository keeps throwing exceptions","body":"<p>The solution is simple. The method name must be <code>product findByProductId(long id);</code> not <code>product findByProduct_id(long id);</code></p>\n"}],"owner":{"account_id":29407677,"reputation":3,"user_id":22532367,"display_name":"Mat-Zaj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77099214,"answer_count":1,"score":0,"last_activity_date":1694625327,"creation_date":1694624428,"question_id":77099115,"body_markdown":"I recently stared learning spring data jpa.\r\n\r\nI was directly following a bunch of tutorials but whan it comes to create repository I receive bean exceptions.\r\n\r\nI tried using annotations and bean creating in xml file but nothing helped.\r\n\r\nBeneath is my latest attepmt.\r\n\r\n```\r\npackage com.convential.mainclasspackage;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class SpringDataJpaConventialApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tSpringApplication.run(SpringDataJpaConventialApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tCommandLineRunner commandlineRunner(ProductRepository productRepository) {\r\n\t\t\r\n\t\treturn (args) -&gt; {\r\n\t\t\tproduct tv = new product(&quot;TV&quot;, 250);\r\n\t\t\tproductRepository.save(tv);\r\n\t\t};\r\n\t\t\r\n\t} \r\n}\r\n```\r\n\r\n```\r\npackage com.convential.mainclasspackage;\r\n\r\nimport jakarta.annotation.Nullable;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.persistence.UniqueConstraint;\r\n\r\n@Entity(name = &quot;product&quot;)\r\n@Table(\r\n\r\n\t\tname = &quot;product&quot;, uniqueConstraints = {\r\n\t\t\t\t@UniqueConstraint(name = &quot;product_name_unique_constraint&quot;, columnNames = &quot;product_name&quot;) }\r\n\r\n)\r\npublic class product {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int productId;\r\n\r\n\t@Column(name = &quot;product_name&quot;, nullable = true, unique = true, columnDefinition = &quot;TEXT&quot;\r\n\r\n\t)\r\n\tprivate String productName;\r\n\r\n\t@Column(name = &quot;product_quantity&quot;, nullable = true, updatable = true)\r\n\tprivate int productQuantity;\r\n\r\n\tpublic product() {\r\n\t}\r\n\r\n\tpublic product(String productName, int productQuantity) {\r\n\t\tthis.productName = productName;\r\n\t\tthis.productQuantity = productQuantity;\r\n\t}\r\n\r\n\tpublic product(int productId, String productName, int productQuantity) {\r\n\t\tthis.productId = productId;\r\n\t\tthis.productName = productName;\r\n\t\tthis.productQuantity = productQuantity;\r\n\t}\r\n\r\n\tpublic int getProductId() {\r\n\t\treturn productId;\r\n\t}\r\n\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\r\n\tpublic void setProductName(String productName) {\r\n\t\tthis.productName = productName;\r\n\t}\r\n\r\n\tpublic int getProductQuantity() {\r\n\t\treturn productQuantity;\r\n\t}\r\n\r\n\tpublic void setProductQuantity(int productQuantity) {\r\n\t\tthis.productQuantity = productQuantity;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Product [productId=&quot; + productId + &quot;, productName=&quot; + productName + &quot;, productQuantity=&quot;\r\n\t\t\t\t+ productQuantity + &quot;]&quot;;\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n\r\npackage com.convential.mainclasspackage;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\npublic interface ProductRepository extends JpaRepository&lt;product, Integer&gt; {\r\n\r\n\tList&lt;product&gt; findByName();\r\n\tproduct findByProduct_id(long id);\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nException\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;commandlineRunner&#39; defined in com.convential.mainclasspackage.SpringDataJpaConventialApplication: Unsatisfied dependency expressed through method &#39;commandlineRunner&#39; parameter 0: Error creating bean with name &#39;productRepository&#39; defined in com.convential.mainclasspackage.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract com.convential.mainclasspackage.product com.convential.mainclasspackage.ProductRepository.findByProduct_id(long); Reason: Failed to create query for method public abstract com.convential.mainclasspackage.product com.convential.mainclasspackage.ProductRepository.findByProduct_id(long); No property &#39;product&#39; found for type &#39;product&#39;; Did you mean &#39;productId&#39;","title":"JpaRepository keeps throwing exceptions","body":"<p>I recently stared learning spring data jpa.</p>\n<p>I was directly following a bunch of tutorials but whan it comes to create repository I receive bean exceptions.</p>\n<p>I tried using annotations and bean creating in xml file but nothing helped.</p>\n<p>Beneath is my latest attepmt.</p>\n<pre><code>package com.convential.mainclasspackage;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class SpringDataJpaConventialApplication {\n\n    public static void main(String[] args) {\n        \n        SpringApplication.run(SpringDataJpaConventialApplication.class, args);\n    }\n\n    @Bean\n    CommandLineRunner commandlineRunner(ProductRepository productRepository) {\n        \n        return (args) -&gt; {\n            product tv = new product(&quot;TV&quot;, 250);\n            productRepository.save(tv);\n        };\n        \n    } \n}\n</code></pre>\n<pre><code>package com.convential.mainclasspackage;\n\nimport jakarta.annotation.Nullable;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.UniqueConstraint;\n\n@Entity(name = &quot;product&quot;)\n@Table(\n\n        name = &quot;product&quot;, uniqueConstraints = {\n                @UniqueConstraint(name = &quot;product_name_unique_constraint&quot;, columnNames = &quot;product_name&quot;) }\n\n)\npublic class product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int productId;\n\n    @Column(name = &quot;product_name&quot;, nullable = true, unique = true, columnDefinition = &quot;TEXT&quot;\n\n    )\n    private String productName;\n\n    @Column(name = &quot;product_quantity&quot;, nullable = true, updatable = true)\n    private int productQuantity;\n\n    public product() {\n    }\n\n    public product(String productName, int productQuantity) {\n        this.productName = productName;\n        this.productQuantity = productQuantity;\n    }\n\n    public product(int productId, String productName, int productQuantity) {\n        this.productId = productId;\n        this.productName = productName;\n        this.productQuantity = productQuantity;\n    }\n\n    public int getProductId() {\n        return productId;\n    }\n\n    public String getProductName() {\n        return productName;\n    }\n\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n\n    public int getProductQuantity() {\n        return productQuantity;\n    }\n\n    public void setProductQuantity(int productQuantity) {\n        this.productQuantity = productQuantity;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Product [productId=&quot; + productId + &quot;, productName=&quot; + productName + &quot;, productQuantity=&quot;\n                + productQuantity + &quot;]&quot;;\n    }\n\n}\n\n\n\n\npackage com.convential.mainclasspackage;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\npublic interface ProductRepository extends JpaRepository&lt;product, Integer&gt; {\n\n    List&lt;product&gt; findByName();\n    product findByProduct_id(long id);\n    \n    \n}\n\n</code></pre>\n<p>Exception</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'commandlineRunner' defined in com.convential.mainclasspackage.SpringDataJpaConventialApplication: Unsatisfied dependency expressed through method 'commandlineRunner' parameter 0: Error creating bean with name 'productRepository' defined in com.convential.mainclasspackage.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract com.convential.mainclasspackage.product com.convential.mainclasspackage.ProductRepository.findByProduct_id(long); Reason: Failed to create query for method public abstract com.convential.mainclasspackage.product com.convential.mainclasspackage.ProductRepository.findByProduct_id(long); No property 'product' found for type 'product'; Did you mean 'productId'\n</code></pre>\n"},{"tags":["java","user-interface","awt"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1694649775,"post_id":77097854,"comment_id":135920611,"body_markdown":"Instead of printing `e.getButton()`, print the event’s *modifiers* using `InputEvent.getModifiersExText(e.getModifiersEx())`.","body":"Instead of printing <code>e.getButton()</code>, print the event’s <i>modifiers</i> using <code>InputEvent.getModifiersExText(e.getModifiersEx())</code>."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694614771,"creation_date":1694614771,"answer_id":77097955,"question_id":77097854,"body_markdown":"I assume you are actually using Swing (since there in no need to use AWT). \r\n\r\nYou can use the `SwingUtilities` class to check which button is pressed:\r\n\r\n    public void mouseDragged(MouseEvent e) {\r\n    \tSystem.out.println( SwingUtilities.isLeftMouseButton(e) );\r\n        System.out.println(&quot;MouseMotionListener:&quot;+e.getButton());\r\n        l.setText(&quot;X=&quot; + e.getX() + &quot; Y=&quot; + e.getY());\r\n    }\r\n","title":"Java AWT: MouseMotionListener cannot distinguish mouse buttons","body":"<p>I assume you are actually using Swing (since there in no need to use AWT).</p>\n<p>You can use the <code>SwingUtilities</code> class to check which button is pressed:</p>\n<pre><code>public void mouseDragged(MouseEvent e) {\n    System.out.println( SwingUtilities.isLeftMouseButton(e) );\n    System.out.println(&quot;MouseMotionListener:&quot;+e.getButton());\n    l.setText(&quot;X=&quot; + e.getX() + &quot; Y=&quot; + e.getY());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694625055,"creation_date":1694625055,"answer_id":77099180,"question_id":77097854,"body_markdown":"First, you can implement the _[MouseInputListener](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/MouseInputListener.html)_ interface, which conveniently implements both _MouseListener_ and _MouseMotionListener_.\r\n\r\nRegarding your inquiry, here is a similar question and answer.  \r\n_[StackOverflow &amp;ndash; mouseDragged not returning appropriate button down](https://stackoverflow.com/a/18172343/17758716)_.\r\n\r\nIt looks like the framework recommends utilizing the _[SwingUtilities](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingUtilities.html)_ class for this situation.\r\n\r\nSpecifically, the following 3 methods.\r\n- _[isLeftMouseButton](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingUtilities.html#isLeftMouseButton(java.awt.event.MouseEvent))_\r\n- _[isMiddleMouseButton](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingUtilities.html#isMiddleMouseButton(java.awt.event.MouseEvent))_\r\n- and _[isRightMouseButton](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingUtilities.html#isRightMouseButton(java.awt.event.MouseEvent))_\r\n\r\nHere is an example.\r\n\r\n```java\r\npublic void mouseDragged(MouseEvent e) {\r\n    System.out.println(&quot;l= &quot; + SwingUtilities.isLeftMouseButton(e));\r\n    System.out.println(&quot;m= &quot; + SwingUtilities.isMiddleMouseButton(e));\r\n    System.out.println(&quot;r= &quot; + SwingUtilities.isRightMouseButton(e));\r\n    l.setText(&quot;X=&quot; + e.getX() + &quot; Y=&quot; + e.getY());\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nMouseListener:1\r\nl= true\r\nm= false\r\nr= false\r\nMouseListener:3\r\nl= false\r\nm= false\r\nr= true\r\n```\r\n\r\nAdditionally, here are two _Java_ tutorials, on implementing _mouse listeners_, and _mouse-motion listeners_.  \r\n- _[How to Write a Mouse Listener (The Java&amp;trade; Tutorials &amp;gt; Creating a GUI With Swing &amp;gt; Writing Event Listeners)](https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html)_.  \r\n- _[How to Write a Mouse-Motion Listener (The Java&amp;trade; Tutorials &amp;gt; Creating a GUI With Swing &amp;gt; Writing Event Listeners)](https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html)_.","title":"Java AWT: MouseMotionListener cannot distinguish mouse buttons","body":"<p>First, you can implement the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/MouseInputListener.html\" rel=\"nofollow noreferrer\">MouseInputListener</a></em> interface, which conveniently implements both <em>MouseListener</em> and <em>MouseMotionListener</em>.</p>\n<p>Regarding your inquiry, here is a similar question and answer.<br />\n<em><a href=\"https://stackoverflow.com/a/18172343/17758716\">StackOverflow – mouseDragged not returning appropriate button down</a></em>.</p>\n<p>It looks like the framework recommends utilizing the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingUtilities.html\" rel=\"nofollow noreferrer\">SwingUtilities</a></em> class for this situation.</p>\n<p>Specifically, the following 3 methods.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingUtilities.html#isLeftMouseButton(java.awt.event.MouseEvent)\" rel=\"nofollow noreferrer\">isLeftMouseButton</a></em></li>\n<li><em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingUtilities.html#isMiddleMouseButton(java.awt.event.MouseEvent)\" rel=\"nofollow noreferrer\">isMiddleMouseButton</a></em></li>\n<li>and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingUtilities.html#isRightMouseButton(java.awt.event.MouseEvent)\" rel=\"nofollow noreferrer\">isRightMouseButton</a></em></li>\n</ul>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void mouseDragged(MouseEvent e) {\n    System.out.println(&quot;l= &quot; + SwingUtilities.isLeftMouseButton(e));\n    System.out.println(&quot;m= &quot; + SwingUtilities.isMiddleMouseButton(e));\n    System.out.println(&quot;r= &quot; + SwingUtilities.isRightMouseButton(e));\n    l.setText(&quot;X=&quot; + e.getX() + &quot; Y=&quot; + e.getY());\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>MouseListener:1\nl= true\nm= false\nr= false\nMouseListener:3\nl= false\nm= false\nr= true\n</code></pre>\n<p>Additionally, here are two <em>Java</em> tutorials, on implementing <em>mouse listeners</em>, and <em>mouse-motion listeners</em>.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html\" rel=\"nofollow noreferrer\">How to Write a Mouse Listener (The Java™ Tutorials &gt; Creating a GUI With Swing &gt; Writing Event Listeners)</a></em>.</li>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html\" rel=\"nofollow noreferrer\">How to Write a Mouse-Motion Listener (The Java™ Tutorials &gt; Creating a GUI With Swing &gt; Writing Event Listeners)</a></em>.</li>\n</ul>\n"}],"owner":{"account_id":19433998,"reputation":29,"user_id":14213818,"display_name":"Sri Kavipriyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694625055,"creation_date":1694613953,"question_id":77097854,"body_markdown":"So, in the code provided, I&#39;m printing out the type of button that is pressed by using two interfaces, viz., MouseListener and MouseMotionListener. How do I make MouseMotionListener&#39;s mouseDragged method to differentiate the button type just like the MouseListener&#39;s MousePressed method ?\r\n\r\nBelow is the code, followed by the console output.\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\n\r\nclass Mouse extends Frame implements MouseMotionListener, MouseListener {\r\n    Label l;\r\n    Color color = Color.red;\r\n\r\n    public Mouse() {\r\n        l = new Label();\r\n        l.setBounds(20, 40, 100, 20);\r\n        add(l);\r\n\r\n        addMouseListener(this);\r\n        addMouseMotionListener(this);\r\n        setSize(400, 400);\r\n        setLayout(null);\r\n        setVisible(true);\r\n\r\n    }\r\n\r\n    public void mouseDragged(MouseEvent e) {\r\n        System.out.println(&quot;MouseMotionListener:&quot;+e.getButton());\r\n        l.setText(&quot;X=&quot; + e.getX() + &quot; Y=&quot; + e.getY());\r\n    }\r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n        System.out.println(&quot;MouseListener:&quot;+e.getButton());\r\n    }\r\n\r\n    public void mouseMoved(MouseEvent e) {\r\n        l.setText(&quot;X=&quot; + e.getX() + &quot; Y=&quot; + e.getY());\r\n    }\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n    }\r\n\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n    }\r\n\r\n    @Override\r\n    public void mouseEntered(MouseEvent e) {\r\n    }\r\n\r\n    @Override\r\n    public void mouseExited(MouseEvent e) {\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nMouseListener:1\r\nMouseListener:1\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseListener:2\r\nMouseListener:2\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseListener:3\r\nMouseListener:3\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\nMouseMotionListener:0\r\n```","title":"Java AWT: MouseMotionListener cannot distinguish mouse buttons","body":"<p>So, in the code provided, I'm printing out the type of button that is pressed by using two interfaces, viz., MouseListener and MouseMotionListener. How do I make MouseMotionListener's mouseDragged method to differentiate the button type just like the MouseListener's MousePressed method ?</p>\n<p>Below is the code, followed by the console output.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\nclass Mouse extends Frame implements MouseMotionListener, MouseListener {\n    Label l;\n    Color color = Color.red;\n\n    public Mouse() {\n        l = new Label();\n        l.setBounds(20, 40, 100, 20);\n        add(l);\n\n        addMouseListener(this);\n        addMouseMotionListener(this);\n        setSize(400, 400);\n        setLayout(null);\n        setVisible(true);\n\n    }\n\n    public void mouseDragged(MouseEvent e) {\n        System.out.println(&quot;MouseMotionListener:&quot;+e.getButton());\n        l.setText(&quot;X=&quot; + e.getX() + &quot; Y=&quot; + e.getY());\n    }\n    @Override\n    public void mousePressed(MouseEvent e) {\n        System.out.println(&quot;MouseListener:&quot;+e.getButton());\n    }\n\n    public void mouseMoved(MouseEvent e) {\n        l.setText(&quot;X=&quot; + e.getX() + &quot; Y=&quot; + e.getY());\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n    }\n\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>MouseListener:1\nMouseListener:1\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseListener:2\nMouseListener:2\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseListener:3\nMouseListener:3\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\nMouseMotionListener:0\n</code></pre>\n"},{"tags":["java","soap","apache-axis","soap-client","webservice-client"],"owner":{"account_id":26599006,"reputation":1,"user_id":20220903,"display_name":"Muddu Madesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694624588,"creation_date":1694624588,"question_id":77099126,"body_markdown":"I have a web service client, and I&#39;m sending a request to a web service. However, during the request, I must include the Content-Length and Accept headers in the SOAP call.\r\n\r\nCould you please guide me on how to include these headers in the request? I&#39;m making the web service call using Axis2, and the client code is written in Java 7.\r\n\r\nPlease note that I prefer not to set a custom header. Instead, I would like to directly add the headers to the request.\r\n\r\n\\*\\*My code skeleton:\r\n\\*\\*\r\n\r\n```\r\norg.apache.axis2.client.Stub serviceClient=new org.apache.axis2.client.ServiceClient(configurationContext,_service);\r\norg.apache.axis2.client.OperationClient operationClient =serviceClient.createClient(getname());\r\norg.apache.axis2.context.MessageContext messageContext = new org.apache.axis2.context.MessageContext();\r\norg.apache.axiom.soap.SOAPEnvelope envelope = null;\r\nstub.dummy dummyWrappedType = null;\r\nenvelope = toEnvelope(getFactory(operationClient.getOptions().getSoapVersionURI()),message5,dummyWrappedType,optimizeContent(new javax.xml.namespace.QName(&quot;http://dummy&quot;,&quot;test&quot;)));\r\nserviceClient.addHeadersToEnvelope(envelope);\r\nmessageContext.setEnvelope(envelope);\r\noperationClient.addMessageContext(_messageContext);\r\noperationClient.execute(true);\r\n```\r\n\r\n**FYI**\r\nJAVA Version : 7\r\nAxis2 Version : 1.5.6\r\n\r\n1. I attempted to add the property both in the message context and client.\r\n2. I also tried setting the options in both the message context and client.\r\n\r\n```\r\nOptions options = new Options();\r\noptions.setProperty(org.apache.axis2.transport.http.HTTPConstants.HEADER_CONTENT_LENGTH, &quot;123&quot;); \r\noptions.setProperty(org.apache.axis2.transport.http.HTTPConstants.HEADER_ACCEPT, &quot;application/xml&quot;); \r\nserviceClient.setOptions(options);\r\n```\r\n\r\n3. I explored this particular case mentioned in the following [link](http://blog.facilelogin.com/search/label/Axis2%201.5).\r\n4. Additionally, I explored this case also [link](https://stackoverflow.com/questions/24151112/axis2-disable-chunked-transfer-encoding-in-axis2-xml#:~:text=we%20were%20able%20to%20disable,%2C%20%22false%22)%3B%20this.)\r\n","title":"How can I directly incorporate HTTP headers into the SOAP call request when using Axis2 to invoke a web service?","body":"<p>I have a web service client, and I'm sending a request to a web service. However, during the request, I must include the Content-Length and Accept headers in the SOAP call.</p>\n<p>Could you please guide me on how to include these headers in the request? I'm making the web service call using Axis2, and the client code is written in Java 7.</p>\n<p>Please note that I prefer not to set a custom header. Instead, I would like to directly add the headers to the request.</p>\n<p>**My code skeleton:\n**</p>\n<pre><code>org.apache.axis2.client.Stub serviceClient=new org.apache.axis2.client.ServiceClient(configurationContext,_service);\norg.apache.axis2.client.OperationClient operationClient =serviceClient.createClient(getname());\norg.apache.axis2.context.MessageContext messageContext = new org.apache.axis2.context.MessageContext();\norg.apache.axiom.soap.SOAPEnvelope envelope = null;\nstub.dummy dummyWrappedType = null;\nenvelope = toEnvelope(getFactory(operationClient.getOptions().getSoapVersionURI()),message5,dummyWrappedType,optimizeContent(new javax.xml.namespace.QName(&quot;http://dummy&quot;,&quot;test&quot;)));\nserviceClient.addHeadersToEnvelope(envelope);\nmessageContext.setEnvelope(envelope);\noperationClient.addMessageContext(_messageContext);\noperationClient.execute(true);\n</code></pre>\n<p><strong>FYI</strong>\nJAVA Version : 7\nAxis2 Version : 1.5.6</p>\n<ol>\n<li>I attempted to add the property both in the message context and client.</li>\n<li>I also tried setting the options in both the message context and client.</li>\n</ol>\n<pre><code>Options options = new Options();\noptions.setProperty(org.apache.axis2.transport.http.HTTPConstants.HEADER_CONTENT_LENGTH, &quot;123&quot;); \noptions.setProperty(org.apache.axis2.transport.http.HTTPConstants.HEADER_ACCEPT, &quot;application/xml&quot;); \nserviceClient.setOptions(options);\n</code></pre>\n<ol start=\"3\">\n<li>I explored this particular case mentioned in the following <a href=\"http://blog.facilelogin.com/search/label/Axis2%201.5\" rel=\"nofollow noreferrer\">link</a>.</li>\n<li>Additionally, I explored this case also <a href=\"https://stackoverflow.com/questions/24151112/axis2-disable-chunked-transfer-encoding-in-axis2-xml#:%7E:text=we%20were%20able%20to%20disable,%2C%20%22false%22\">link</a>%3B%20this.)</li>\n</ol>\n"},{"tags":["java","parsing"],"comments":[{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1694623704,"post_id":77097408,"comment_id":135916717,"body_markdown":"If you have an ANTLR related question, please add your ANTLR grammar (and re-tag your question with antlr tags)","body":"If you have an ANTLR related question, please add your ANTLR grammar (and re-tag your question with antlr tags)"},{"owner":{"account_id":13988272,"reputation":13,"user_id":10102838,"display_name":"User1512"},"score":0,"creation_date":1694625355,"post_id":77097408,"comment_id":135917045,"body_markdown":"I would like to know whether the above mentioned condition is possible to parse in ANTLR and I would like to have a sample grammar file which can satisfy it.","body":"I would like to know whether the above mentioned condition is possible to parse in ANTLR and I would like to have a sample grammar file which can satisfy it."},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1694626254,"post_id":77097408,"comment_id":135917220,"body_markdown":"Yes, that can easily be done with ANTLR. Here is an example: https://stackoverflow.com/questions/30976962/nested-boolean-expression-parser-using-antlr You only need some small changes to get it working. Try it yourself first, study how things work with ANTLR by reading some tutorials. And ask specific questions if you get stuck.","body":"Yes, that can easily be done with ANTLR. Here is an example: <a href=\"https://stackoverflow.com/questions/30976962/nested-boolean-expression-parser-using-antlr\" title=\"nested boolean expression parser using antlr\">stackoverflow.com/questions/30976962/&hellip;</a> You only need some small changes to get it working. Try it yourself first, study how things work with ANTLR by reading some tutorials. And ask specific questions if you get stuck."},{"owner":{"account_id":13988272,"reputation":13,"user_id":10102838,"display_name":"User1512"},"score":0,"creation_date":1694704722,"post_id":77097408,"comment_id":135929327,"body_markdown":"Thank you so much @Bart Kiers. I was able to do most of the conditions which I wanted. I would like to do with some string functions like CONTAINS and STARTS WITH can you give a sample for that?","body":"Thank you so much @Bart Kiers. I was able to do most of the conditions which I wanted. I would like to do with some string functions like CONTAINS and STARTS WITH can you give a sample for that?"},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1694705431,"post_id":77097408,"comment_id":135929494,"body_markdown":"Try it yourself first, study how things work with ANTLR by reading some tutorials. And ask specific questions if you get stuck by creating a new question. These comment boxes are ill suited for Q&amp;A&#39;s.","body":"Try it yourself first, study how things work with ANTLR by reading some tutorials. And ask specific questions if you get stuck by creating a new question. These comment boxes are ill suited for Q&amp;A&#39;s."},{"owner":{"account_id":13988272,"reputation":13,"user_id":10102838,"display_name":"User1512"},"score":0,"creation_date":1694707866,"post_id":77097408,"comment_id":135930034,"body_markdown":"https://stackoverflow.com/questions/77106698/antlr-accepting-special-characters-like-dot-and-comma-in-identifier-or-e","body":"<a href=\"https://stackoverflow.com/questions/77106698/antlr-accepting-special-characters-like-dot-and-comma-in-identifier-or-e\" title=\"antlr accepting special characters like dot and comma in identifier or e\">stackoverflow.com/questions/77106698/&hellip;</a>"}],"owner":{"account_id":13988272,"reputation":13,"user_id":10102838,"display_name":"User1512"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694623654,"creation_date":1694610823,"question_id":77097408,"body_markdown":"I have a requirement to execute dynamic expressions for the input data (Map) using Java Code. For Example,\r\n\r\n**Condition -**\r\n\r\n```\r\nEmployeeShift = &#39;General&#39; AND (EmployeeType = &#39;CONTRACT&#39; OR Designation IN &#39;ADMIN&#39;)\r\n```\r\nThis expression will be passed on as string variable and with this I have to evaluate my input data which comes at run time. So I&#39;m looking for a parser to parse the condition.\r\n\r\nUsing the answer of @TagirValeev from - [stackoverflow&#39;s post](https://stackoverflow.com/questions/32193036/resolving-logical-operations-and-or-looping-conditions-dynamically) I was able to parse AND, OR operations. But I&#39;m not sure how to extend it for NOT operation. I&#39;m expecting something to work like below where the expression checks for combined NOT operation for EmployeeType and Designation, rather than checking for each variable.\r\n\r\n```\r\nEmployeeShift = &#39;General&#39; AND NOT(EmployeeType = &#39;CONTRACT&#39; OR Designation IN &#39;ADMIN&#39;)\r\n```\r\n\r\n    if(EmployeeShift = &#39;General&#39; &amp;&amp; !(EmployeeType = &#39;CONTRACT&#39; || Designation IN &#39;ADMIN&#39;))\r\n\r\nI tried checking from native Java Code but none worked so decided to use ANTLR if any one can help me with some example for the above condition it will be of huge help. Thanks in Advance.\r\n","title":"ANTLR Evaluating Logical Operations AND, OR, NOT dynamically in Java","body":"<p>I have a requirement to execute dynamic expressions for the input data (Map) using Java Code. For Example,</p>\n<p><strong>Condition -</strong></p>\n<pre><code>EmployeeShift = 'General' AND (EmployeeType = 'CONTRACT' OR Designation IN 'ADMIN')\n</code></pre>\n<p>This expression will be passed on as string variable and with this I have to evaluate my input data which comes at run time. So I'm looking for a parser to parse the condition.</p>\n<p>Using the answer of @TagirValeev from - <a href=\"https://stackoverflow.com/questions/32193036/resolving-logical-operations-and-or-looping-conditions-dynamically\">stackoverflow's post</a> I was able to parse AND, OR operations. But I'm not sure how to extend it for NOT operation. I'm expecting something to work like below where the expression checks for combined NOT operation for EmployeeType and Designation, rather than checking for each variable.</p>\n<pre><code>EmployeeShift = 'General' AND NOT(EmployeeType = 'CONTRACT' OR Designation IN 'ADMIN')\n</code></pre>\n<pre><code>if(EmployeeShift = 'General' &amp;&amp; !(EmployeeType = 'CONTRACT' || Designation IN 'ADMIN'))\n</code></pre>\n<p>I tried checking from native Java Code but none worked so decided to use ANTLR if any one can help me with some example for the above condition it will be of huge help. Thanks in Advance.</p>\n"},{"tags":["java","hibernate","jboss","wildfly"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1694681268,"post_id":77098995,"comment_id":135923949,"body_markdown":"It seems that there is something around the &#39;tipo&#39; attribute that causes this.","body":"It seems that there is something around the &#39;tipo&#39; attribute that causes this."},{"owner":{"account_id":2892453,"reputation":126,"user_id":2909927,"display_name":"Martin Choma"},"score":1,"creation_date":1695064805,"post_id":77098995,"comment_id":135971636,"body_markdown":"You are saying you use 6.3.0, but stacktrace says 6.1.5 is used. Aren&#39;t you relying on feature from 6.3.0, which is not implemented in 6.1.5 yet?","body":"You are saying you use 6.3.0, but stacktrace says 6.1.5 is used. Aren&#39;t you relying on feature from 6.3.0, which is not implemented in 6.1.5 yet?"},{"owner":{"account_id":50594,"reputation":12311,"user_id":151004,"accept_rate":83,"display_name":"thoredge"},"score":0,"creation_date":1697703037,"post_id":77098995,"comment_id":136313840,"body_markdown":"Hibernate 6.1.5 is a &quot;feature pack&quot; with Wildfly 27","body":"Hibernate 6.1.5 is a &quot;feature pack&quot; with Wildfly 27"}],"owner":{"account_id":10118761,"reputation":11,"user_id":7476497,"display_name":"Emerson Diego"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694623316,"creation_date":1694623316,"question_id":77098995,"body_markdown":"I&#39;m in the process of migrating a system from Wildfly 21 to Wildfly 27. In the previous system, we were using hibernate-core 5, but for Wildfly 27, we&#39;ve upgraded to version 6.3.0.\r\n\r\nI managed to address all the issues related to migrating to jakarta.persistence, but now I&#39;m facing a specific problem that I can&#39;t resolve. Below are the error details:\r\n\r\n\r\n```\r\n10:50:21,061 DEBUG [org.hibernate.service.internal.AbstractServiceRegistryImpl] (ServerService Thread Pool -- 80) Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries\r\n10:50:21,062 INFO  [org.hibernate.orm.beans] (ServerService Thread Pool -- 80) HHH10005004: Stopping BeanContainer : org.hibernate.resource.beans.container.internal.CdiBeanContainerExtendedAccessImpl@6c72da89\r\n10:50:21,063 INFO  [org.hibernate.service.internal.AbstractServiceRegistryImpl] (ServerService Thread Pool -- 80) HHH000369: Error stopping service [class org.hibernate.resource.beans.internal.ManagedBeanRegistryImpl]: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.resource.beans.container.spi.ContainedBeanImplementor.release()&quot; because &quot;this.delegateContainedBean&quot; is null\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.resource.beans.container.internal.CdiBeanContainerExtendedAccessImpl$BeanImpl.release(CdiBeanContainerExtendedAccessImpl.java:132)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.resource.beans.container.spi.AbstractCdiBeanContainer.forEachBean(AbstractCdiBeanContainer.java:138)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.resource.beans.container.spi.AbstractCdiBeanContainer.stop(AbstractCdiBeanContainer.java:144)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.resource.beans.internal.ManagedBeanRegistryImpl.stop(ManagedBeanRegistryImpl.java:134)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:374)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:357)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.destroy(StandardServiceRegistryImpl.java:131)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.service.internal.AbstractServiceRegistryImpl.deRegisterChild(AbstractServiceRegistryImpl.java:407)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:364)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.service.spi.ServiceRegistryImplementor.close(ServiceRegistryImplementor.java:30)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:402)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\r\n\tat org.hibernate.jipijapa-hibernate6@27.0.1.Final//org.jboss.as.jpa.hibernate.TwoPhaseBootstrapImpl.build(TwoPhaseBootstrapImpl.java:45)\r\n\tat org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:171)\r\n\tat org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:129)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:664)\r\n\tat org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:214)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n\r\n10:50:21,063 DEBUG [org.infinispan.hibernate.cache.v60.InfinispanRegionFactory] (ServerService Thread Pool -- 80) Stop region factory\r\n10:50:21,063 DEBUG [org.infinispan.hibernate.cache.v60.InfinispanRegionFactory] (ServerService Thread Pool -- 80) Clear region references\r\n10:50:21,063 DEBUG [org.infinispan.hibernate.cache.v60.InfinispanRegionFactory] (ServerService Thread Pool -- 80) Stop cache manager\r\n10:50:21,066 DEBUG [org.hibernate.boot.registry.internal.BootstrapServiceRegistryImpl] (ServerService Thread Pool -- 80) Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries\r\n10:50:21,066 DEBUG [org.hibernate.internal.SessionFactoryImpl] (ServerService Thread Pool -- 80) HHH000031: Closing\r\n10:50:21,066 DEBUG [org.hibernate.internal.SessionFactoryImpl] (ServerService Thread Pool -- 80) Eating error closing SF on failed attempt to start it\r\n10:50:21,066 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 80) MSC000001: Failed to start service jboss.persistenceunit.&quot;sigeprs-3.0.21-SNAPSHOT.war#SIGEP_PU&quot;: org.jboss.msc.service.StartException in service jboss.persistenceunit.&quot;sigeprs-3.0.21-SNAPSHOT.war#SIGEP_PU&quot;: jakarta.persistence.PersistenceException: [PersistenceUnit: SIGEP_PU] Unable to build Hibernate SessionFactory\r\n\tat org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:199)\r\n\tat org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:129)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:664)\r\n\tat org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:214)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: SIGEP_PU] Unable to build Hibernate SessionFactory\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:1509)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1430)\r\n\tat org.hibernate.jipijapa-hibernate6@27.0.1.Final//org.jboss.as.jpa.hibernate.TwoPhaseBootstrapImpl.build(TwoPhaseBootstrapImpl.java:45)\r\n\tat org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:171)\r\n\t... 10 more\r\nCaused by: org.hibernate.NotYetImplementedFor6Exception: Only support for basic-valued, entity-valued and embedded model-parts have been implemented : tipo [null]\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor$AttributeFetchDescriptor.getFetchMemento(SqlResultSetMappingDescriptor.java:439)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor$AttributeFetchDescriptor.resolve(SqlResultSetMappingDescriptor.java:421)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor$EntityResultDescriptor.lambda$resolve$0(SqlResultSetMappingDescriptor.java:285)\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1421)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor$EntityResultDescriptor.resolve(SqlResultSetMappingDescriptor.java:282)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor.lambda$resolve$0(SqlResultSetMappingDescriptor.java:131)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor.resolve(SqlResultSetMappingDescriptor.java:130)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.query.internal.NamedObjectRepositoryImpl.lambda$prepare$3(NamedObjectRepositoryImpl.java:193)\r\n\tat java.base/java.util.HashMap$Values.forEach(HashMap.java:1065)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.boot.internal.MetadataImpl.visitNamedResultSetMappingDefinition(MetadataImpl.java:261)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.query.internal.NamedObjectRepositoryImpl.prepare(NamedObjectRepositoryImpl.java:191)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.query.spi.QueryEngine.prepare(QueryEngine.java:380)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:315)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\r\n\tat org.hibernate@6.1.5.Final//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\r\n\t... 12 more\r\n\r\n10:50:21,069 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;sigeprs-3.0.21-SNAPSHOT.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.persistenceunit.\\&quot;sigeprs-3.0.21-SNAPSHOT.war#SIGEP_PU\\&quot;&quot; =&gt; &quot;jakarta.persistence.PersistenceException: [PersistenceUnit: SIGEP_PU] Unable to build Hibernate SessionFactory\r\n    Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: SIGEP_PU] Unable to build Hibernate SessionFactory\r\n    Caused by: org.hibernate.NotYetImplementedFor6Exception: Only support for basic-valued, entity-valued and embedded model-parts have been implemented : tipo [null]&quot;}}\r\n```\r\n\r\nBefore posting here, I tried the following solutions:\r\n\r\n - Checked all dependencies to ensure there are no conflicts. \r\n - Researched the NotYetImplementedFor6Exception error to better understand the issue. \r\n - Reviewed the persistence.xml configuration to ensure\r\n   everything is correct.\r\n\r\nHowever, I&#39;m still stuck with this error. Has anyone encountered this or have any suggestions on how to resolve it?\r\n\r\nThank you in advance for the help!","title":"Error migrating from Wildfly 21 to Wildfly 27 with Hibernate 6.3.0","body":"<p>I'm in the process of migrating a system from Wildfly 21 to Wildfly 27. In the previous system, we were using hibernate-core 5, but for Wildfly 27, we've upgraded to version 6.3.0.</p>\n<p>I managed to address all the issues related to migrating to jakarta.persistence, but now I'm facing a specific problem that I can't resolve. Below are the error details:</p>\n<pre><code>10:50:21,061 DEBUG [org.hibernate.service.internal.AbstractServiceRegistryImpl] (ServerService Thread Pool -- 80) Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries\n10:50:21,062 INFO  [org.hibernate.orm.beans] (ServerService Thread Pool -- 80) HHH10005004: Stopping BeanContainer : org.hibernate.resource.beans.container.internal.CdiBeanContainerExtendedAccessImpl@6c72da89\n10:50:21,063 INFO  [org.hibernate.service.internal.AbstractServiceRegistryImpl] (ServerService Thread Pool -- 80) HHH000369: Error stopping service [class org.hibernate.resource.beans.internal.ManagedBeanRegistryImpl]: java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.resource.beans.container.spi.ContainedBeanImplementor.release()&quot; because &quot;this.delegateContainedBean&quot; is null\n    at org.hibernate@6.1.5.Final//org.hibernate.resource.beans.container.internal.CdiBeanContainerExtendedAccessImpl$BeanImpl.release(CdiBeanContainerExtendedAccessImpl.java:132)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.hibernate@6.1.5.Final//org.hibernate.resource.beans.container.spi.AbstractCdiBeanContainer.forEachBean(AbstractCdiBeanContainer.java:138)\n    at org.hibernate@6.1.5.Final//org.hibernate.resource.beans.container.spi.AbstractCdiBeanContainer.stop(AbstractCdiBeanContainer.java:144)\n    at org.hibernate@6.1.5.Final//org.hibernate.resource.beans.internal.ManagedBeanRegistryImpl.stop(ManagedBeanRegistryImpl.java:134)\n    at org.hibernate@6.1.5.Final//org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:374)\n    at org.hibernate@6.1.5.Final//org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:357)\n    at org.hibernate@6.1.5.Final//org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.destroy(StandardServiceRegistryImpl.java:131)\n    at org.hibernate@6.1.5.Final//org.hibernate.service.internal.AbstractServiceRegistryImpl.deRegisterChild(AbstractServiceRegistryImpl.java:407)\n    at org.hibernate@6.1.5.Final//org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:364)\n    at org.hibernate@6.1.5.Final//org.hibernate.service.spi.ServiceRegistryImplementor.close(ServiceRegistryImplementor.java:30)\n    at org.hibernate@6.1.5.Final//org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:402)\n    at org.hibernate@6.1.5.Final//org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\n    at org.hibernate@6.1.5.Final//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\n    at org.hibernate.jipijapa-hibernate6@27.0.1.Final//org.jboss.as.jpa.hibernate.TwoPhaseBootstrapImpl.build(TwoPhaseBootstrapImpl.java:45)\n    at org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:171)\n    at org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:129)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:664)\n    at org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:214)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\n\n10:50:21,063 DEBUG [org.infinispan.hibernate.cache.v60.InfinispanRegionFactory] (ServerService Thread Pool -- 80) Stop region factory\n10:50:21,063 DEBUG [org.infinispan.hibernate.cache.v60.InfinispanRegionFactory] (ServerService Thread Pool -- 80) Clear region references\n10:50:21,063 DEBUG [org.infinispan.hibernate.cache.v60.InfinispanRegionFactory] (ServerService Thread Pool -- 80) Stop cache manager\n10:50:21,066 DEBUG [org.hibernate.boot.registry.internal.BootstrapServiceRegistryImpl] (ServerService Thread Pool -- 80) Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries\n10:50:21,066 DEBUG [org.hibernate.internal.SessionFactoryImpl] (ServerService Thread Pool -- 80) HHH000031: Closing\n10:50:21,066 DEBUG [org.hibernate.internal.SessionFactoryImpl] (ServerService Thread Pool -- 80) Eating error closing SF on failed attempt to start it\n10:50:21,066 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 80) MSC000001: Failed to start service jboss.persistenceunit.&quot;sigeprs-3.0.21-SNAPSHOT.war#SIGEP_PU&quot;: org.jboss.msc.service.StartException in service jboss.persistenceunit.&quot;sigeprs-3.0.21-SNAPSHOT.war#SIGEP_PU&quot;: jakarta.persistence.PersistenceException: [PersistenceUnit: SIGEP_PU] Unable to build Hibernate SessionFactory\n    at org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:199)\n    at org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:129)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:664)\n    at org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:214)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: SIGEP_PU] Unable to build Hibernate SessionFactory\n    at org.hibernate@6.1.5.Final//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:1509)\n    at org.hibernate@6.1.5.Final//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1430)\n    at org.hibernate.jipijapa-hibernate6@27.0.1.Final//org.jboss.as.jpa.hibernate.TwoPhaseBootstrapImpl.build(TwoPhaseBootstrapImpl.java:45)\n    at org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:171)\n    ... 10 more\nCaused by: org.hibernate.NotYetImplementedFor6Exception: Only support for basic-valued, entity-valued and embedded model-parts have been implemented : tipo [null]\n    at org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor$AttributeFetchDescriptor.getFetchMemento(SqlResultSetMappingDescriptor.java:439)\n    at org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor$AttributeFetchDescriptor.resolve(SqlResultSetMappingDescriptor.java:421)\n    at org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor$EntityResultDescriptor.lambda$resolve$0(SqlResultSetMappingDescriptor.java:285)\n    at java.base/java.util.HashMap.forEach(HashMap.java:1421)\n    at org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor$EntityResultDescriptor.resolve(SqlResultSetMappingDescriptor.java:282)\n    at org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor.lambda$resolve$0(SqlResultSetMappingDescriptor.java:131)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.hibernate@6.1.5.Final//org.hibernate.boot.query.SqlResultSetMappingDescriptor.resolve(SqlResultSetMappingDescriptor.java:130)\n    at org.hibernate@6.1.5.Final//org.hibernate.query.internal.NamedObjectRepositoryImpl.lambda$prepare$3(NamedObjectRepositoryImpl.java:193)\n    at java.base/java.util.HashMap$Values.forEach(HashMap.java:1065)\n    at org.hibernate@6.1.5.Final//org.hibernate.boot.internal.MetadataImpl.visitNamedResultSetMappingDefinition(MetadataImpl.java:261)\n    at org.hibernate@6.1.5.Final//org.hibernate.query.internal.NamedObjectRepositoryImpl.prepare(NamedObjectRepositoryImpl.java:191)\n    at org.hibernate@6.1.5.Final//org.hibernate.query.spi.QueryEngine.prepare(QueryEngine.java:380)\n    at org.hibernate@6.1.5.Final//org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:315)\n    at org.hibernate@6.1.5.Final//org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\n    at org.hibernate@6.1.5.Final//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\n    ... 12 more\n\n10:50:21,069 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;sigeprs-3.0.21-SNAPSHOT.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.persistenceunit.\\&quot;sigeprs-3.0.21-SNAPSHOT.war#SIGEP_PU\\&quot;&quot; =&gt; &quot;jakarta.persistence.PersistenceException: [PersistenceUnit: SIGEP_PU] Unable to build Hibernate SessionFactory\n    Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: SIGEP_PU] Unable to build Hibernate SessionFactory\n    Caused by: org.hibernate.NotYetImplementedFor6Exception: Only support for basic-valued, entity-valued and embedded model-parts have been implemented : tipo [null]&quot;}}\n</code></pre>\n<p>Before posting here, I tried the following solutions:</p>\n<ul>\n<li>Checked all dependencies to ensure there are no conflicts.</li>\n<li>Researched the NotYetImplementedFor6Exception error to better understand the issue.</li>\n<li>Reviewed the persistence.xml configuration to ensure\neverything is correct.</li>\n</ul>\n<p>However, I'm still stuck with this error. Has anyone encountered this or have any suggestions on how to resolve it?</p>\n<p>Thank you in advance for the help!</p>\n"},{"tags":["java","swing","gettext","jfilechooser"],"comments":[{"owner":{"account_id":18378473,"reputation":203,"user_id":13387015,"display_name":"DedS3t"},"score":0,"creation_date":1597788528,"post_id":63477293,"comment_id":112247336,"body_markdown":"Are you trying to get the file name?","body":"Are you trying to get the file name?"},{"owner":{"account_id":16345841,"reputation":45,"user_id":12816949,"display_name":"Miguel Clich&#233;"},"score":0,"creation_date":1597788674,"post_id":63477293,"comment_id":112247379,"body_markdown":"No, I am trying to get the text you write there, the file name only works if I select a file in the File Chooser","body":"No, I am trying to get the text you write there, the file name only works if I select a file in the File Chooser"}],"answers":[{"tags":[],"owner":{"account_id":18378473,"reputation":203,"user_id":13387015,"display_name":"DedS3t"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1600227159,"creation_date":1597789123,"answer_id":63477391,"question_id":63477293,"body_markdown":"Here is an example I wrote: \r\n\r\n    JFileChooser x=new JFileChooser();\r\n    int returnVal=x.showOpenDialog(this);\r\n    File file=x.getSelectedFile();\r\n    System.out.println(file.getName());\r\n\r\nEven though the file isn&#39;t an actual file it would still print out what is in the box when you call `file.getName()`. When I typed a random string of characters it returned the string of characters even though it&#39;s not a file.","title":"How can I get this value from a JFileChooser?","body":"<p>Here is an example I wrote:</p>\n<pre><code>JFileChooser x=new JFileChooser();\nint returnVal=x.showOpenDialog(this);\nFile file=x.getSelectedFile();\nSystem.out.println(file.getName());\n</code></pre>\n<p>Even though the file isn't an actual file it would still print out what is in the box when you call <code>file.getName()</code>. When I typed a random string of characters it returned the string of characters even though it's not a file.</p>\n"}],"owner":{"account_id":16345841,"reputation":45,"user_id":12816949,"display_name":"Miguel Clich&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63477391,"answer_count":1,"score":3,"last_activity_date":1694623225,"creation_date":1597788479,"question_id":63477293,"body_markdown":"I want to know if there&#39;s a way to get the text the user writes in a `JFileChooser` after pressing &quot;accept&quot; (I removed the confirm and cancel buttons) like a text field (`.getText()`).\r\n\r\n[Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EcNaH.png","title":"How can I get this value from a JFileChooser?","body":"<p>I want to know if there's a way to get the text the user writes in a <code>JFileChooser</code> after pressing &quot;accept&quot; (I removed the confirm and cancel buttons) like a text field (<code>.getText()</code>).</p>\n<p><a href=\"https://i.stack.imgur.com/EcNaH.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n"},{"tags":["java","docker","jvm","headless","alpine-linux"],"answers":[{"tags":[],"owner":{"account_id":5338362,"reputation":7671,"user_id":4256475,"display_name":"Jason Hoetger"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1694622217,"creation_date":1475613610,"answer_id":39861372,"question_id":37251309,"body_markdown":"I ran into this exact same problem running Alpine Linux 3.4. I solved the problem by following the directions in [this github issue](https://github.com/docker-library/openjdk/issues/73):\r\n\r\n1. Install the JRE with GUI support, i.e. `openjdk8-jre`\r\n2. Install the `fontconfig` and `ttf-dejavu` packages\r\n\r\nThe RUN line in my Dockerfile looks like:\r\n\r\n    RUN apk add openjdk8-jre fontconfig ttf-dejavu\r\n\r\nAfter this, the JDK was able to load the default fonts automatically, and the exception went away.","title":"no fontmanager in java.library.path","body":"<p>I ran into this exact same problem running Alpine Linux 3.4. I solved the problem by following the directions in <a href=\"https://github.com/docker-library/openjdk/issues/73\" rel=\"nofollow noreferrer\">this github issue</a>:</p>\n<ol>\n<li>Install the JRE with GUI support, i.e. <code>openjdk8-jre</code></li>\n<li>Install the <code>fontconfig</code> and <code>ttf-dejavu</code> packages</li>\n</ol>\n<p>The RUN line in my Dockerfile looks like:</p>\n<pre><code>RUN apk add openjdk8-jre fontconfig ttf-dejavu\n</code></pre>\n<p>After this, the JDK was able to load the default fonts automatically, and the exception went away.</p>\n"},{"tags":[],"owner":{"account_id":3618585,"reputation":281,"user_id":3017908,"display_name":"Phani Chakradhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612961042,"creation_date":1612960620,"answer_id":66137020,"question_id":37251309,"body_markdown":"I ran into the same issue with my docker image for which I used Java 11 app base which does not have GUI libraries installed. I got the error like **no font manager** and the cause for that error is -&gt; it is failing to read/create font using awt library.\r\n\r\nWhen used the java stretch image with GUI support the error gone away.","title":"no fontmanager in java.library.path","body":"<p>I ran into the same issue with my docker image for which I used Java 11 app base which does not have GUI libraries installed. I got the error like <strong>no font manager</strong> and the cause for that error is -&gt; it is failing to read/create font using awt library.</p>\n<p>When used the java stretch image with GUI support the error gone away.</p>\n"}],"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4461,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39861372,"answer_count":2,"score":3,"last_activity_date":1694622217,"creation_date":1463393079,"question_id":37251309,"body_markdown":"The following code works just fine on my desktop:\r\n\r\n            BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n            Graphics g = image.getGraphics();\r\n            g.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 18));\r\n\r\n            Graphics2D graphics = (Graphics2D) g;\r\n            graphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n            graphics.drawString(s, 5, 20);\r\n\r\nHowever, when I run this code on my server (openjdk running on linux alpine within a Docker container), it fails with the following error: \r\n\r\n    java.lang.UnsatisfiedLinkError: no fontmanager in java.library.path\r\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n    at java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n    at java.lang.System.loadLibrary(System.java:1122)\r\n    at sun.font.FontManagerNativeLibrary$1.run(FontManagerNativeLibrary.java:61)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.font.FontManagerNativeLibrary.&lt;clinit&gt;(FontManagerNativeLibrary.java:32)\r\n    at sun.font.SunFontManager$1.run(SunFontManager.java:339)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.font.SunFontManager.&lt;clinit&gt;(SunFontManager.java:335)\r\n    at java.lang.Class.forName0(Native Method)\r\n    at java.lang.Class.forName(Class.java:348)\r\n    at sun.font.FontManagerFactory$1.run(FontManagerFactory.java:82)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\r\n    at java.awt.Font.getFont2D(Font.java:491)\r\n    at java.awt.Font.access$000(Font.java:224)\r\n    at java.awt.Font$FontAccessImpl.getFont2D(Font.java:228)\r\n    at sun.font.FontUtilities.getFont2D(FontUtilities.java:180)\r\n    at sun.java2d.SunGraphics2D.checkFontInfo(SunGraphics2D.java:669)\r\n    at sun.java2d.SunGraphics2D.getFontInfo(SunGraphics2D.java:830)\r\n    at sun.java2d.pipe.GlyphListPipe.drawString(GlyphListPipe.java:50)\r\n    at sun.java2d.pipe.ValidatePipe.drawString(ValidatePipe.java:165)\r\n    at sun.java2d.SunGraphics2D.drawString(SunGraphics2D.java:2928)\r\n\r\njava -version (on my server) gives: \r\n\r\n    openjdk version &quot;1.8.0_77-internal&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_77-internal-alpine-r0-b03)\r\n    OpenJDK 64-Bit Server VM (build 25.77-b03, mixed mode)\r\n\r\nI searched for awt libs and they could be found here:\r\n\r\n    /usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/libawt_headless.so\r\n    /usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/libawt.so\r\n\r\n","title":"no fontmanager in java.library.path","body":"<p>The following code works just fine on my desktop:</p>\n\n<pre><code>        BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n        Graphics g = image.getGraphics();\n        g.setFont(new Font(\"SansSerif\", Font.BOLD, 18));\n\n        Graphics2D graphics = (Graphics2D) g;\n        graphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n        graphics.drawString(s, 5, 20);\n</code></pre>\n\n<p>However, when I run this code on my server (openjdk running on linux alpine within a Docker container), it fails with the following error: </p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: no fontmanager in java.library.path\nat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\nat java.lang.Runtime.loadLibrary0(Runtime.java:870)\nat java.lang.System.loadLibrary(System.java:1122)\nat sun.font.FontManagerNativeLibrary$1.run(FontManagerNativeLibrary.java:61)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.font.FontManagerNativeLibrary.&lt;clinit&gt;(FontManagerNativeLibrary.java:32)\nat sun.font.SunFontManager$1.run(SunFontManager.java:339)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.font.SunFontManager.&lt;clinit&gt;(SunFontManager.java:335)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:348)\nat sun.font.FontManagerFactory$1.run(FontManagerFactory.java:82)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\nat java.awt.Font.getFont2D(Font.java:491)\nat java.awt.Font.access$000(Font.java:224)\nat java.awt.Font$FontAccessImpl.getFont2D(Font.java:228)\nat sun.font.FontUtilities.getFont2D(FontUtilities.java:180)\nat sun.java2d.SunGraphics2D.checkFontInfo(SunGraphics2D.java:669)\nat sun.java2d.SunGraphics2D.getFontInfo(SunGraphics2D.java:830)\nat sun.java2d.pipe.GlyphListPipe.drawString(GlyphListPipe.java:50)\nat sun.java2d.pipe.ValidatePipe.drawString(ValidatePipe.java:165)\nat sun.java2d.SunGraphics2D.drawString(SunGraphics2D.java:2928)\n</code></pre>\n\n<p>java -version (on my server) gives: </p>\n\n<pre><code>openjdk version \"1.8.0_77-internal\"\nOpenJDK Runtime Environment (build 1.8.0_77-internal-alpine-r0-b03)\nOpenJDK 64-Bit Server VM (build 25.77-b03, mixed mode)\n</code></pre>\n\n<p>I searched for awt libs and they could be found here:</p>\n\n<pre><code>/usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/libawt_headless.so\n/usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/libawt.so\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9807,"page":185,"page_size":100}
