{"items":[{"tags":["java","string"],"comments":[{"owner":{"account_id":1156700,"reputation":1433,"user_id":1137118,"accept_rate":100,"display_name":"Pphoenix"},"score":1,"creation_date":1397814628,"post_id":23151539,"comment_id":35401001,"body_markdown":"Wouldnt you want to do i+=4 if you check each 4th element?","body":"Wouldnt you want to do i+=4 if you check each 4th element?"}],"answers":[{"tags":[],"owner":{"account_id":1064189,"reputation":8562,"user_id":1065145,"accept_rate":28,"display_name":"Denis Kulagin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397815077,"creation_date":1397814711,"answer_id":23151629,"question_id":23151539,"body_markdown":"It could be solved in a much simpler way:\r\n\r\n    String result = &quot;&quot;;\r\n    \r\n    for (int i = 0; i &lt; str.length(); i += 4) {\r\n\tresult += str.substring(i, Math.min(str.length(), i + 2));\t\t\t\r\n    }\r\n    \r\n    return result;\r\n\r\nMore:\r\n\r\n - It&#39;s generally a bad idea to change counter variable inside a *for* loop - use *while* loop then.\r\n - substring(int beginIndex, int endIndex) - *endIndex* is exclusive.\r\n","title":"Create a String from chars at indexes 0, 1, 4, 5, 8, 9","body":"<p>It could be solved in a much simpler way:</p>\n\n<pre><code>String result = \"\";\n\nfor (int i = 0; i &lt; str.length(); i += 4) {\nresult += str.substring(i, Math.min(str.length(), i + 2));          \n}\n\nreturn result;\n</code></pre>\n\n<p>More:</p>\n\n<ul>\n<li>It's generally a bad idea to change counter variable inside a <em>for</em> loop - use <em>while</em> loop then.</li>\n<li>substring(int beginIndex, int endIndex) - <em>endIndex</em> is exclusive.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397815099,"creation_date":1397814725,"answer_id":23151633,"question_id":23151539,"body_markdown":"First the second index of `substring` is exclusive. If you want 2 characters directly, you should use `i+2` instead of `i+1`:\r\n\r\n    str.substring(i, i+2)\r\n\r\nThen, you just have to increment `i` by `4` at each loop turn. Use `i+=4` instead of `i++`, and you won&#39;t need the conditional increment.\r\n\r\n    for (int i = 0; i &lt; str.length() - 1; i+=4) {\r\n        result += str.substring(i, i+2);\r\n    }\r\n\r\nOr, if you allow to break a pair of characters at the end of the String:\r\n\r\n    for (int i = 0; i &lt; str.length(); i+=4) {\r\n        if (i &lt; str.length() - 1)\r\n            result += str.substring(i, i+2);\r\n        else\r\n            result += str.substring(i, i+1);\r\n    }","title":"Create a String from chars at indexes 0, 1, 4, 5, 8, 9","body":"<p>First the second index of <code>substring</code> is exclusive. If you want 2 characters directly, you should use <code>i+2</code> instead of <code>i+1</code>:</p>\n\n<pre><code>str.substring(i, i+2)\n</code></pre>\n\n<p>Then, you just have to increment <code>i</code> by <code>4</code> at each loop turn. Use <code>i+=4</code> instead of <code>i++</code>, and you won't need the conditional increment.</p>\n\n<pre><code>for (int i = 0; i &lt; str.length() - 1; i+=4) {\n    result += str.substring(i, i+2);\n}\n</code></pre>\n\n<p>Or, if you allow to break a pair of characters at the end of the String:</p>\n\n<pre><code>for (int i = 0; i &lt; str.length(); i+=4) {\n    if (i &lt; str.length() - 1)\n        result += str.substring(i, i+2);\n    else\n        result += str.substring(i, i+1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3388387,"reputation":3408,"user_id":2843856,"accept_rate":58,"display_name":"DCoder"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1397815120,"creation_date":1397815120,"answer_id":23151742,"question_id":23151539,"body_markdown":"check this out..\r\n\r\n    public String altPairs(String str) {\r\n    String result = &quot;&quot;;\r\n    for (int i = 0; i &lt; str.length(); ) {\r\n    result += str.substring(i, i+1);\r\n    i+=4;\r\n    }\r\n    return result;}","title":"Create a String from chars at indexes 0, 1, 4, 5, 8, 9","body":"<p>check this out..</p>\n\n<pre><code>public String altPairs(String str) {\nString result = \"\";\nfor (int i = 0; i &lt; str.length(); ) {\nresult += str.substring(i, i+1);\ni+=4;\n}\nreturn result;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25173019,"reputation":1,"user_id":19015609,"display_name":"Aditya Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651495176,"creation_date":1651495176,"answer_id":72086842,"question_id":23151539,"body_markdown":"    public String altPairs(String str) {\r\n      String newStr = &quot;&quot;;\r\n        for(int i=0;i&lt;str.length();i++)\r\n        {\r\n          newStr = newStr +str.charAt(i);\r\n          if(i%2!=0)\r\n            i=i+2;\r\n        }\r\n      return newStr;\r\n    }\r\n\r\nI did it this way \r\nInside loop add a condition\r\nif i is odd then i=i+2;\r\nwhich is increasing the value of i to +3 index","title":"Create a String from chars at indexes 0, 1, 4, 5, 8, 9","body":"<pre><code>public String altPairs(String str) {\n  String newStr = &quot;&quot;;\n    for(int i=0;i&lt;str.length();i++)\n    {\n      newStr = newStr +str.charAt(i);\n      if(i%2!=0)\n        i=i+2;\n    }\n  return newStr;\n}\n</code></pre>\n<p>I did it this way\nInside loop add a condition\nif i is odd then i=i+2;\nwhich is increasing the value of i to +3 index</p>\n"}],"owner":{"display_name":"user3370587"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2782,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":23151629,"answer_count":4,"score":-1,"last_activity_date":1651495176,"creation_date":1397814353,"question_id":23151539,"body_markdown":"I have came across this problem on codingbat.com:\r\n\r\n**Given a string, return a string made of the chars at indexes 0,1, 4,5, 8,9 ... so\r\n&quot;kittens&quot; yields &quot;kien&quot;.**\r\n\r\n\r\n\r\nHere is my code:\r\n\r\n \r\n\r\n    public String altPairs(String str) {\r\n      \r\n      String result = &quot;&quot;;\r\n      \r\n      for (int i = 0; i &lt; str.length(); i++) {\r\n        result += str.substring(i, i+1);\r\n        \r\n        if (i &gt; 0 &amp;&amp; str.indexOf(str.substring(i, i+1)) % 2 != 0) i += 2;\r\n      }\r\n      \r\n      return result;\r\n    }\r\n\r\nFor **&quot;CodingHorror&quot;**, it should return **&quot;Congrr&quot;**.\r\n\r\n\r\n----------\r\n\r\n - Why does my code return **&quot;Congrro&quot;** for the parameter **&quot;CodingHorror&quot;**?","title":"Create a String from chars at indexes 0, 1, 4, 5, 8, 9","body":"<p>I have came across this problem on codingbat.com:</p>\n\n<p><strong>Given a string, return a string made of the chars at indexes 0,1, 4,5, 8,9 ... so\n\"kittens\" yields \"kien\".</strong></p>\n\n<p>Here is my code:</p>\n\n<pre><code>public String altPairs(String str) {\n\n  String result = \"\";\n\n  for (int i = 0; i &lt; str.length(); i++) {\n    result += str.substring(i, i+1);\n\n    if (i &gt; 0 &amp;&amp; str.indexOf(str.substring(i, i+1)) % 2 != 0) i += 2;\n  }\n\n  return result;\n}\n</code></pre>\n\n<p>For <strong>\"CodingHorror\"</strong>, it should return <strong>\"Congrr\"</strong>.</p>\n\n<hr>\n\n<ul>\n<li>Why does my code return <strong>\"Congrro\"</strong> for the parameter <strong>\"CodingHorror\"</strong>?</li>\n</ul>\n"},{"tags":["java","oracle","spring-boot","triggers","listener"],"answers":[{"tags":[],"owner":{"account_id":1269867,"reputation":2029,"user_id":1226436,"accept_rate":95,"display_name":"Miguel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651494608,"creation_date":1651494608,"answer_id":72086740,"question_id":72086207,"body_markdown":"I suppose theoretically you could create a `check timer function` in your spring boot application that would effectively check if any rows have been added to a table. That would take care of new rows. However for items that are updated or deleted , you could implement a trigger on the table object  and have a secondary table which would keep track of those changes and again you could check those table on pre-determined time interval for any changes from springboot application. You could look into `spring-jdbc` for examples on how to do CRUD operations. If you have any specifics questions post them up and we will try to help you. GOOD LUCK!","title":"How to implement a oracle db listener in spring boot application","body":"<p>I suppose theoretically you could create a <code>check timer function</code> in your spring boot application that would effectively check if any rows have been added to a table. That would take care of new rows. However for items that are updated or deleted , you could implement a trigger on the table object  and have a secondary table which would keep track of those changes and again you could check those table on pre-determined time interval for any changes from springboot application. You could look into <code>spring-jdbc</code> for examples on how to do CRUD operations. If you have any specifics questions post them up and we will try to help you. GOOD LUCK!</p>\n"}],"owner":{"account_id":16362432,"reputation":155,"user_id":11817672,"display_name":"APK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651494608,"creation_date":1651492009,"question_id":72086207,"body_markdown":"I have a table in ***oracle database*** and a ***spring boot application***, I want my spring boot application to listen to any change(update/insert) that happens in the table and do some operations after that. \r\n\r\nI have seen some stack-overflow answers that suggests to use [DBMS_ALERT][1] or ***Oracle AQ / Oracle Streams***.\r\n\r\nPlease let me know if it is possible to do that, If yes How can I implement it in spring boot application. \r\nPlease suggest if there is any other way to achieve that.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_alert.htm#CHDDJCJG","title":"How to implement a oracle db listener in spring boot application","body":"<p>I have a table in <em><strong>oracle database</strong></em> and a <em><strong>spring boot application</strong></em>, I want my spring boot application to listen to any change(update/insert) that happens in the table and do some operations after that.</p>\n<p>I have seen some stack-overflow answers that suggests to use <a href=\"https://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_alert.htm#CHDDJCJG\" rel=\"nofollow noreferrer\">DBMS_ALERT</a> or <em><strong>Oracle AQ / Oracle Streams</strong></em>.</p>\n<p>Please let me know if it is possible to do that, If yes How can I implement it in spring boot application.\nPlease suggest if there is any other way to achieve that.</p>\n"},{"tags":["java","algorithm","parsing","recursion","binary-tree"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1651452191,"post_id":72081344,"comment_id":127361950,"body_markdown":"IOnstead of your crazy i/j loop you should use `System.arraycopy(array, 1, copy, 0, array.length - 1);`. Also, in your loop, indices are very closely related, thus you should never use 2 different variables for indexing, as this further obscures their meaning.","body":"IOnstead of your crazy i/j loop you should use <code>System.arraycopy(array, 1, copy, 0, array.length - 1);</code>. Also, in your loop, indices are very closely related, thus you should never use 2 different variables for indexing, as this further obscures their meaning."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1651452257,"post_id":72081344,"comment_id":127361963,"body_markdown":"You should also post the code for `TreeNode`, so that we can run this example and try it out. Because there&#39;s some things to your `TreeNode` class that are not abvious.","body":"You should also post the code for <code>TreeNode</code>, so that we can run this example and try it out. Because there&#39;s some things to your <code>TreeNode</code> class that are not abvious."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1651452664,"post_id":72081344,"comment_id":127362012,"body_markdown":"For runtimes sake, you should also not copy arrays, just to advance the first element by one. Use an index parameter to advance addressing. Plus, you should not assign a value to a parameter (`root = xyz`) variable, that&#39;s pretty unclean code. Also, your code will not even make it as far as 6. Because you have not posted your `TreeNode` class, with my minimally generated pseudo class the code will die after `next: 3` with a NullPointerException.","body":"For runtimes sake, you should also not copy arrays, just to advance the first element by one. Use an index parameter to advance addressing. Plus, you should not assign a value to a parameter (<code>root = xyz</code>) variable, that&#39;s pretty unclean code. Also, your code will not even make it as far as 6. Because you have not posted your <code>TreeNode</code> class, with my minimally generated pseudo class the code will die after <code>next: 3</code> with a NullPointerException."},{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1651462339,"post_id":72081344,"comment_id":127363035,"body_markdown":"I added my TreeNode code, and changed the code. Im now using a pointer to assign the values. I got rid of the i/j loop too, but my problem is logical, I&#39;m just not quite sure where it is.","body":"I added my TreeNode code, and changed the code. Im now using a pointer to assign the values. I got rid of the i/j loop too, but my problem is logical, I&#39;m just not quite sure where it is."},{"owner":{"account_id":6350313,"reputation":1134,"user_id":5594167,"display_name":"Mr. Brickowski"},"score":0,"creation_date":1651469584,"post_id":72081344,"comment_id":127364068,"body_markdown":"Show us your actual output and expected output","body":"Show us your actual output and expected output"},{"owner":{"account_id":6350313,"reputation":1134,"user_id":5594167,"display_name":"Mr. Brickowski"},"score":0,"creation_date":1651490498,"post_id":72081344,"comment_id":127369245,"body_markdown":"The whole prefix express is `- + 3 ^ 4 * 15 6 + % 14 3 * 65 5`? Can you share the the infix version.","body":"The whole prefix express is <code>- + 3 ^ 4 * 15 6 + % 14 3 * 65 5</code>? Can you share the the infix version."},{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1651494600,"post_id":72081344,"comment_id":127370543,"body_markdown":"@Mr.Brickowski The expected infix expression would be  **3 + 4 * 15 * 6 - 14 \\ 3 + 65 * 5**","body":"@Mr.Brickowski The expected infix expression would be  <b>3 + 4 * 15 * 6 - 14 \\ 3 + 65 * 5</b>"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651494602,"creation_date":1651494602,"answer_id":72086738,"question_id":72081344,"body_markdown":"Okay, I gave up on your solution and implemented my version for it.\r\n\r\nYou had some cycles in your graph, because sometimes one if your `TreeNode`s would reference itself or its parent as its `left`. My method `getMaxWidthOfChildren()` will showcase that and is compatible with your code. So you could use it in your code to see the problems.\r\n\r\nBut there&#39;s another problem involved: Once you have to iterate upwards more than one step, your &#39;array indexing&#39; (or in your case: removing the first array element from the array on EACH call) gets out of step. You remove too many elements, and thus lose the elements and track of the remaining cells.\r\n\r\nNow to my solution: \r\n - this is more straightforward, because it is naturally recursive, exactly matching the intent of your (depth-first) first-order logic, and each constructor decides and acquires the needed data for itself. \r\n - The big trick here is - analogous to advancing an index on an array - to use a `Stack`, here in the form of a `LinkedList`. (The java.util.Stack is thread-safe, which is not needed here, so I use its modern counterpart `LinkedList`)\r\n - Also, you can input the whole data string again, without any artificial additional notes and variables.\r\n\r\nSo construction was really easy, but getting the `toString()` method implemented properly was a bit of a struggle.\r\n\r\n\r\n\r\n\r\n    package stackoverflow;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    import java.util.LinkedList;\r\n    \r\n    public class PopulateTree {\r\n    \r\n    \r\n    \r\n    \tstatic public class TreeNode {\r\n    \t\tprotected String\tdata;\r\n    \t\tprotected boolean\tisOperator;\r\n    \t\tprotected TreeNode\tleft, right, parent;\r\n    \r\n    \t\tpublic TreeNode(final LinkedList&lt;String&gt; pQueue, final TreeNode pParent) {\r\n    \t\t\tdata = pQueue.poll();\r\n    \t\t\tisOperator = isOperator(this.data);\r\n    \t\t\tparent = pParent;\r\n    \t\t\tleft = isOperator ? new TreeNode(pQueue, this) : null;\r\n    \t\t\tright = isOperator ? new TreeNode(pQueue, this) : null;\r\n    \t\t}\r\n    \r\n    \t\t// it&#39;s likely we need this functionality method somewhere else, too, so we put it in its own method\r\n    \t\t// also, it makes the CTOR so much shorter and its use obvious\r\n    \t\tstatic public boolean isOperator(final String pString) {\r\n    \t\t\treturn pString.equals(&quot;+&quot;) || pString.equals(&quot;-&quot;) || pString.equals(&quot;*&quot;) || pString.equals(&quot;/&quot;) || pString.equals(&quot;%&quot;);\r\n    \t\t}\r\n    \r\n    \t\tpublic int getMaxWidthOfChildren() {\r\n    \t\t\treturn getMaxWidthOfChildren(new HashSet&lt;&gt;());\r\n    \t\t}\r\n    \t\tprivate int getMaxWidthOfChildren(final HashSet&lt;TreeNode&gt; pAlreadyVisitedNodes) {\r\n    \t\t\tif (pAlreadyVisitedNodes.contains(this)) {\r\n    \t\t\t\tSystem.out.println(&quot;Error: recursive loop for &quot; + this.data);\r\n    \t\t\t\treturn 0;\r\n    \t\t\t} else {\r\n    \t\t\t\tpAlreadyVisitedNodes.add(this);\r\n    \t\t\t}\r\n    \r\n    \t\t\tint ret = 1;\r\n    \t\t\tif (left != null) ret += left.getMaxWidthOfChildren(pAlreadyVisitedNodes);\r\n    \t\t\tif (right != null) ret += right.getMaxWidthOfChildren(pAlreadyVisitedNodes);\r\n    \t\t\treturn ret;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getMaxDepth() {\r\n    \t\t\tfinal int l = left == null ? 0 : left.getMaxDepth();\r\n    \t\t\tfinal int r = right == null ? 0 : right.getMaxDepth();\r\n    \t\t\treturn 1 + Math.max(l, r);\r\n    \t\t}\r\n    \r\n    \t\t@Override public String toString() {\r\n    \t\t\tfinal int maxDepth = getMaxDepth();\r\n    \t\t\tSystem.out.println(&quot;maxDepth: &quot; + maxDepth);\r\n    \t\t\tfinal int maxWidth = (int) (Math.pow(2, maxDepth - 2) * 2 - 1);\r\n    \t\t\tSystem.out.println(&quot;maxWidth: &quot; + maxWidth);\r\n    \t\t\tfinal String[][] out = new String[maxDepth][maxWidth];\r\n    \r\n    \t\t\t// fill array with data\r\n    \t\t\tfinal int center = maxWidth / 2;\r\n    \t\t\tfillArray(out, maxWidth, center, this, 0);\r\n    \r\n    \t\t\t// form array into String\r\n    \t\t\tfinal StringBuilder sb = new StringBuilder();\r\n    \t\t\tfor (int y = 0; y &lt; out.length; y++) {\r\n    \t\t\t\tfor (int x = 0; x &lt; out[y].length; x++) {\r\n    \t\t\t\t\tfinal String dat = out[y][x];\r\n    \t\t\t\t\tfinal String text = dat == null ? &quot;&quot; : dat;\r\n    \t\t\t\t\tsb.append(text + &quot;\\t&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tsb.append(&quot;\\n&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn sb.toString();\r\n    \t\t}\r\n    \t\tprivate void fillArray(final String[][] pOut, final int pWidth, final int pCenter, final TreeNode pTreeNode, final int pLineIndex) {\r\n    \t\t\tif (pTreeNode == null) return;\r\n    \t\t\tSystem.out.println(&quot;Filling: w=&quot; + pWidth + &quot;\\tc=&quot; + pCenter + &quot;\\tl=&quot; + pLineIndex);\r\n    \r\n    \t\t\tpOut[pLineIndex][pCenter] = pTreeNode.data;\r\n    \t\t\tfinal int newWidth = pWidth / 2;\r\n    \t\t\tfinal int leftCenter = pCenter - newWidth / 2 - 1;\r\n    \t\t\tfinal int rightCenter = pCenter + newWidth / 2 + 1;\r\n    \t\t\tfillArray(pOut, newWidth, leftCenter, pTreeNode.left, pLineIndex + 1);\r\n    \t\t\tfillArray(pOut, newWidth, rightCenter, pTreeNode.right, pLineIndex + 1);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal String[] in = { &quot;-&quot;, &quot;+&quot;, &quot;3&quot;, &quot;*&quot;, &quot;4&quot;, &quot;*&quot;, &quot;15&quot;, &quot;6&quot;, &quot;+&quot;, &quot;/&quot;, &quot;14&quot;, &quot;3&quot;, &quot;*&quot;, &quot;65&quot;, &quot;5&quot; };\r\n    \t\tfinal LinkedList&lt;String&gt; queue = new LinkedList&lt;&gt;(Arrays.asList(in));\r\n    \t\tfinal TreeNode root = new TreeNode(queue, null);\r\n    \r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;Printing Root Node:&quot;);\r\n    \t\tSystem.out.println(root);\r\n    \t}\r\n    \r\n    \r\n    \r\n    }","title":"Recursively creating a binary parse tree from an array of strings","body":"<p>Okay, I gave up on your solution and implemented my version for it.</p>\n<p>You had some cycles in your graph, because sometimes one if your <code>TreeNode</code>s would reference itself or its parent as its <code>left</code>. My method <code>getMaxWidthOfChildren()</code> will showcase that and is compatible with your code. So you could use it in your code to see the problems.</p>\n<p>But there's another problem involved: Once you have to iterate upwards more than one step, your 'array indexing' (or in your case: removing the first array element from the array on EACH call) gets out of step. You remove too many elements, and thus lose the elements and track of the remaining cells.</p>\n<p>Now to my solution:</p>\n<ul>\n<li>this is more straightforward, because it is naturally recursive, exactly matching the intent of your (depth-first) first-order logic, and each constructor decides and acquires the needed data for itself.</li>\n<li>The big trick here is - analogous to advancing an index on an array - to use a <code>Stack</code>, here in the form of a <code>LinkedList</code>. (The java.util.Stack is thread-safe, which is not needed here, so I use its modern counterpart <code>LinkedList</code>)</li>\n<li>Also, you can input the whole data string again, without any artificial additional notes and variables.</li>\n</ul>\n<p>So construction was really easy, but getting the <code>toString()</code> method implemented properly was a bit of a struggle.</p>\n<pre><code>package stackoverflow;\n\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.LinkedList;\n\npublic class PopulateTree {\n\n\n\n    static public class TreeNode {\n        protected String    data;\n        protected boolean   isOperator;\n        protected TreeNode  left, right, parent;\n\n        public TreeNode(final LinkedList&lt;String&gt; pQueue, final TreeNode pParent) {\n            data = pQueue.poll();\n            isOperator = isOperator(this.data);\n            parent = pParent;\n            left = isOperator ? new TreeNode(pQueue, this) : null;\n            right = isOperator ? new TreeNode(pQueue, this) : null;\n        }\n\n        // it's likely we need this functionality method somewhere else, too, so we put it in its own method\n        // also, it makes the CTOR so much shorter and its use obvious\n        static public boolean isOperator(final String pString) {\n            return pString.equals(&quot;+&quot;) || pString.equals(&quot;-&quot;) || pString.equals(&quot;*&quot;) || pString.equals(&quot;/&quot;) || pString.equals(&quot;%&quot;);\n        }\n\n        public int getMaxWidthOfChildren() {\n            return getMaxWidthOfChildren(new HashSet&lt;&gt;());\n        }\n        private int getMaxWidthOfChildren(final HashSet&lt;TreeNode&gt; pAlreadyVisitedNodes) {\n            if (pAlreadyVisitedNodes.contains(this)) {\n                System.out.println(&quot;Error: recursive loop for &quot; + this.data);\n                return 0;\n            } else {\n                pAlreadyVisitedNodes.add(this);\n            }\n\n            int ret = 1;\n            if (left != null) ret += left.getMaxWidthOfChildren(pAlreadyVisitedNodes);\n            if (right != null) ret += right.getMaxWidthOfChildren(pAlreadyVisitedNodes);\n            return ret;\n        }\n\n        public int getMaxDepth() {\n            final int l = left == null ? 0 : left.getMaxDepth();\n            final int r = right == null ? 0 : right.getMaxDepth();\n            return 1 + Math.max(l, r);\n        }\n\n        @Override public String toString() {\n            final int maxDepth = getMaxDepth();\n            System.out.println(&quot;maxDepth: &quot; + maxDepth);\n            final int maxWidth = (int) (Math.pow(2, maxDepth - 2) * 2 - 1);\n            System.out.println(&quot;maxWidth: &quot; + maxWidth);\n            final String[][] out = new String[maxDepth][maxWidth];\n\n            // fill array with data\n            final int center = maxWidth / 2;\n            fillArray(out, maxWidth, center, this, 0);\n\n            // form array into String\n            final StringBuilder sb = new StringBuilder();\n            for (int y = 0; y &lt; out.length; y++) {\n                for (int x = 0; x &lt; out[y].length; x++) {\n                    final String dat = out[y][x];\n                    final String text = dat == null ? &quot;&quot; : dat;\n                    sb.append(text + &quot;\\t&quot;);\n                }\n                sb.append(&quot;\\n&quot;);\n            }\n\n            return sb.toString();\n        }\n        private void fillArray(final String[][] pOut, final int pWidth, final int pCenter, final TreeNode pTreeNode, final int pLineIndex) {\n            if (pTreeNode == null) return;\n            System.out.println(&quot;Filling: w=&quot; + pWidth + &quot;\\tc=&quot; + pCenter + &quot;\\tl=&quot; + pLineIndex);\n\n            pOut[pLineIndex][pCenter] = pTreeNode.data;\n            final int newWidth = pWidth / 2;\n            final int leftCenter = pCenter - newWidth / 2 - 1;\n            final int rightCenter = pCenter + newWidth / 2 + 1;\n            fillArray(pOut, newWidth, leftCenter, pTreeNode.left, pLineIndex + 1);\n            fillArray(pOut, newWidth, rightCenter, pTreeNode.right, pLineIndex + 1);\n        }\n    }\n\n\n\n    public static void main(final String[] args) {\n        final String[] in = { &quot;-&quot;, &quot;+&quot;, &quot;3&quot;, &quot;*&quot;, &quot;4&quot;, &quot;*&quot;, &quot;15&quot;, &quot;6&quot;, &quot;+&quot;, &quot;/&quot;, &quot;14&quot;, &quot;3&quot;, &quot;*&quot;, &quot;65&quot;, &quot;5&quot; };\n        final LinkedList&lt;String&gt; queue = new LinkedList&lt;&gt;(Arrays.asList(in));\n        final TreeNode root = new TreeNode(queue, null);\n\n        System.out.println();\n        System.out.println(&quot;Printing Root Node:&quot;);\n        System.out.println(root);\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72086738,"answer_count":1,"score":0,"last_activity_date":1651494602,"creation_date":1651451201,"question_id":72081344,"body_markdown":"I am trying to create a parse tree for prefix expressions.\r\nThe Nodes created have a parent pointer, and a Boolean identifying operators.\r\n\r\n**My issue is, once i get to 6(The end of the left side of the tree)**\r\n**The root pointer remains as 15.** \r\nSo the array continues to get smaller, but the recursion never travels back up to the original root, in order to populate the right side of the tree.\r\n\r\n       public class demo {\r\n        public static void main(String[] args){\r\n            String[] in = {&quot;3&quot;,&quot;*&quot;,&quot;4&quot;,&quot;*&quot;,&quot;15&quot;, &quot;6&quot;,&quot;+&quot;,&quot;/&quot;,&quot;14&quot;,&quot;3&quot;,&quot;*&quot;,&quot;65&quot;,&quot;5&quot;};\r\n            TreeNode root = new TreeNode(&quot;+&quot;);\r\n            TreeNode nuw = new TreeNode(&quot;-&quot;);\r\n            System.out.println(root.data);\r\n    \r\n            populate(in,root,nuw);\r\n        }\r\n        public static TreeNode populate(String[] array, TreeNode root, TreeNode nuw){\r\n            TreeNode current = root;\r\n            String[] copy = new String[array.length-1];\r\n            System.arraycopy(array, 1, copy, 0, array.length-1);\r\n            TreeNode next = new TreeNode(copy[0]);\r\n            \r\n            if(current==null){\r\n                return null;\r\n            }\r\n            if(current.left==null &amp;&amp; !nuw.operator){\r\n                current.left=nuw;\r\n                nuw.parent = current;\r\n            \r\n            }else if(current.left!=null &amp;&amp; current.right==null &amp;&amp; !nuw.operator){\r\n                current.right = nuw;\r\n                nuw.parent = current;\r\n            }else if(nuw.operator &amp;&amp; current.left==null){\r\n                current.left=next;\r\n                next.parent=current;\r\n                current=next;\r\n            }else if(nuw.operator &amp;&amp; current.left!=null &amp;&amp; current.right==null){\r\n                current.right=next;\r\n                next.parent=current;\r\n                current=next;\r\n            }else if(current.right!=null &amp;&amp; current.left!=null){\r\n                current = current.parent;\r\n            }\r\n            for(int i=0;i&lt;array.length;i++)System.out.print(array[i]);\r\n            System.out.println(&quot;\\n current: &quot;+current.data);\r\n            System.out.println(&quot;next: &quot;+next.data);\r\n            return populate(copy,current,next);\r\n        }\r\n    }\r\n\r\n\r\n[![This is what I am trying to build][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OVM48.png\r\n**TreeNode class**\r\n\r\n    public class TreeNode {\r\n        protected String data;\r\n        protected boolean operator;\r\n        protected TreeNode left,right,parent;\r\n    \r\n        public TreeNode(String x){\r\n            this.left = null;\r\n            this.right = null;\r\n            this.parent = null;\r\n            if(x.equals(&quot;+&quot;)||x.equals(&quot;-&quot;)||x.equals(&quot;*&quot;)||x.equals(&quot;/&quot;)||x.equals(&quot;%&quot;)){\r\n                this.operator=true;\r\n                this.data=x;\r\n            }else{\r\n                try{\r\n                    Integer.parseInt(x);\r\n                    this.data=x;\r\n                    this.operator=false;\r\n                }catch(NumberFormatException e){\r\n                    System.out.println(&quot;Invalid Input&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Recursively creating a binary parse tree from an array of strings","body":"<p>I am trying to create a parse tree for prefix expressions.\nThe Nodes created have a parent pointer, and a Boolean identifying operators.</p>\n<p><strong>My issue is, once i get to 6(The end of the left side of the tree)</strong>\n<strong>The root pointer remains as 15.</strong>\nSo the array continues to get smaller, but the recursion never travels back up to the original root, in order to populate the right side of the tree.</p>\n<pre><code>   public class demo {\n    public static void main(String[] args){\n        String[] in = {&quot;3&quot;,&quot;*&quot;,&quot;4&quot;,&quot;*&quot;,&quot;15&quot;, &quot;6&quot;,&quot;+&quot;,&quot;/&quot;,&quot;14&quot;,&quot;3&quot;,&quot;*&quot;,&quot;65&quot;,&quot;5&quot;};\n        TreeNode root = new TreeNode(&quot;+&quot;);\n        TreeNode nuw = new TreeNode(&quot;-&quot;);\n        System.out.println(root.data);\n\n        populate(in,root,nuw);\n    }\n    public static TreeNode populate(String[] array, TreeNode root, TreeNode nuw){\n        TreeNode current = root;\n        String[] copy = new String[array.length-1];\n        System.arraycopy(array, 1, copy, 0, array.length-1);\n        TreeNode next = new TreeNode(copy[0]);\n        \n        if(current==null){\n            return null;\n        }\n        if(current.left==null &amp;&amp; !nuw.operator){\n            current.left=nuw;\n            nuw.parent = current;\n        \n        }else if(current.left!=null &amp;&amp; current.right==null &amp;&amp; !nuw.operator){\n            current.right = nuw;\n            nuw.parent = current;\n        }else if(nuw.operator &amp;&amp; current.left==null){\n            current.left=next;\n            next.parent=current;\n            current=next;\n        }else if(nuw.operator &amp;&amp; current.left!=null &amp;&amp; current.right==null){\n            current.right=next;\n            next.parent=current;\n            current=next;\n        }else if(current.right!=null &amp;&amp; current.left!=null){\n            current = current.parent;\n        }\n        for(int i=0;i&lt;array.length;i++)System.out.print(array[i]);\n        System.out.println(&quot;\\n current: &quot;+current.data);\n        System.out.println(&quot;next: &quot;+next.data);\n        return populate(copy,current,next);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OVM48.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OVM48.png\" alt=\"This is what I am trying to build\" /></a></p>\n<p><strong>TreeNode class</strong></p>\n<pre><code>public class TreeNode {\n    protected String data;\n    protected boolean operator;\n    protected TreeNode left,right,parent;\n\n    public TreeNode(String x){\n        this.left = null;\n        this.right = null;\n        this.parent = null;\n        if(x.equals(&quot;+&quot;)||x.equals(&quot;-&quot;)||x.equals(&quot;*&quot;)||x.equals(&quot;/&quot;)||x.equals(&quot;%&quot;)){\n            this.operator=true;\n            this.data=x;\n        }else{\n            try{\n                Integer.parseInt(x);\n                this.data=x;\n                this.operator=false;\n            }catch(NumberFormatException e){\n                System.out.println(&quot;Invalid Input&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1360317151,"post_id":14769792,"comment_id":20675439,"body_markdown":"I suppose N is the parameter of the method, not y?","body":"I suppose N is the parameter of the method, not y?"},{"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"score":0,"creation_date":1360317238,"post_id":14769792,"comment_id":20675492,"body_markdown":"Duplicate local variable y","body":"Duplicate local variable y"},{"owner":{"account_id":2342926,"reputation":21,"user_id":2053831,"display_name":"Wissam"},"score":0,"creation_date":1360321822,"post_id":14769792,"comment_id":20677709,"body_markdown":"Changed y to N ( yes N is the parameter sorry about that)","body":"Changed y to N ( yes N is the parameter sorry about that)"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1360323184,"post_id":14769792,"comment_id":20678272,"body_markdown":"You should also fix `a` and `b` variables declarations: it should be `long b...` and `long a...` I suppose.","body":"You should also fix <code>a</code> and <code>b</code> variables declarations: it should be <code>long b...</code> and <code>long a...</code> I suppose."},{"owner":{"account_id":2342926,"reputation":21,"user_id":2053831,"display_name":"Wissam"},"score":0,"creation_date":1360323462,"post_id":14769792,"comment_id":20678414,"body_markdown":"edit: declared a and b","body":"edit: declared a and b"},{"owner":{"account_id":1131741,"reputation":5562,"user_id":1117668,"accept_rate":80,"display_name":"ogzd"},"score":0,"creation_date":1360323842,"post_id":14769792,"comment_id":20678612,"body_markdown":"and multiplication :-)","body":"and multiplication :-)"},{"owner":{"account_id":98956,"reputation":2900,"user_id":267551,"accept_rate":40,"display_name":"Todd Lehman"},"score":0,"creation_date":1411889894,"post_id":14769792,"comment_id":40869321,"body_markdown":"Hmm. I don&#39;t see how to improve your algorithm, but there is definitely room for improvement. Factoring numbers of that size should really take no more than 1 to 2 milliseconds on a modern CPU. On my 2011 MacBook Air (1.7 GHz Intel Core i5 CPU), using the 11 numbers listed above, I&#39;m seeing average factoring times of 2.3 ms for Shanks&#39;s Square Forms Factorization method (SQUFOF), 3.5 ms for Hart&#39;s One-Line Factorization method, and 48.8 ms for Trial Division by Primes.","body":"Hmm. I don&#39;t see how to improve your algorithm, but there is definitely room for improvement. Factoring numbers of that size should really take no more than 1 to 2 milliseconds on a modern CPU. On my 2011 MacBook Air (1.7 GHz Intel Core i5 CPU), using the 11 numbers listed above, I&#39;m seeing average factoring times of 2.3 ms for Shanks&#39;s Square Forms Factorization method (SQUFOF), 3.5 ms for Hart&#39;s One-Line Factorization method, and 48.8 ms for Trial Division by Primes."}],"answers":[{"tags":[],"owner":{"account_id":1078605,"reputation":1755,"user_id":1076211,"accept_rate":60,"display_name":"dunadar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360323575,"creation_date":1360323575,"answer_id":14771739,"question_id":14769792,"body_markdown":"OK, I used Matlab to see what was going here. Here is the result for N=100000:\r\n![enter image description here][1]\r\nYou are increasing `x` on each iteration, and the funny pattern of `a` variable is strongly related with the remainder `N % x+b+1` (as you can see in the gray line of the plot, `a + (N % (x+b+1)) - x = floor(sqrt(N))`).\r\nThus, **I think** you are just finding the first factor larger than `sqrt(N)` by simple iteration, but with a rather obscure criterion to decide it is really a factor :D\r\n(Sorry for the half-answer... I have to leave, I will maybe continue later).\r\n\r\nHere is the matlab code, just in case you want it to test by yourself:\r\n\r\n    \r\n    clear all\r\n    close all\r\n    \r\n    N = int64(100000);\r\n    \r\n    histx = [];\r\n    histDiffA = [];\r\n    histy = [];\r\n    hista = [];\r\n    histMod = [];\r\n    histb = [];\r\n    \r\n    x=int64(0);\r\n    y=int64(0);\r\n    b = int64(floor(sqrt(double(N))));\r\n    a = int64(b*(b+1)-N);\r\n    if( a==b ) \r\n        factor = a;\r\n    else\r\n        while ( a ~= 0 )\r\n            a = a - ( 2+2*x - y);\r\n            histDiffA(end+1) = ( 2+2*x - y);\r\n            x = x+1;\r\n            if( a&lt;0 ) \r\n                a = a + (x+b+1); \r\n                y = y+1;\r\n            end\r\n            hista(end+1) = a;\r\n            histb(end+1) = b;\r\n            histx(end+1) = x;\r\n            histy(end+1) = y;\r\n            histMod(end+1) = mod(N,(x+b+1));\r\n        end\r\n        factor = x+b+1;\r\n    end\r\n    \r\n    figure(&#39;Name&#39;, &#39;Values&#39;);\r\n    hold on\r\n        plot(hista,&#39;-or&#39;)\r\n        plot(hista+histMod-histx,&#39;--*&#39;, &#39;Color&#39;, [0.7 0.7 0.7])\r\n        plot(histb,&#39;-ob&#39;)\r\n        plot(histx,&#39;-*g&#39;)\r\n        plot(histy,&#39;-*y&#39;)\r\n        legend({&#39;a&#39;, &#39;a+mod(N,x+b+1)-x&#39;, &#39;b&#39;, &#39;x&#39;, &#39;y&#39;}); % &#39;Input&#39;,\r\n    hold off\r\n    \r\n    fprintf( &#39;factor is %d \\n&#39;, factor );\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/kndGq.png","title":"Integer Factorization","body":"<p>OK, I used Matlab to see what was going here. Here is the result for N=100000:\n<img src=\"https://i.stack.imgur.com/kndGq.png\" alt=\"enter image description here\">\nYou are increasing <code>x</code> on each iteration, and the funny pattern of <code>a</code> variable is strongly related with the remainder <code>N % x+b+1</code> (as you can see in the gray line of the plot, <code>a + (N % (x+b+1)) - x = floor(sqrt(N))</code>).\nThus, <strong>I think</strong> you are just finding the first factor larger than <code>sqrt(N)</code> by simple iteration, but with a rather obscure criterion to decide it is really a factor :D\n(Sorry for the half-answer... I have to leave, I will maybe continue later).</p>\n\n<p>Here is the matlab code, just in case you want it to test by yourself:</p>\n\n<pre><code>clear all\nclose all\n\nN = int64(100000);\n\nhistx = [];\nhistDiffA = [];\nhisty = [];\nhista = [];\nhistMod = [];\nhistb = [];\n\nx=int64(0);\ny=int64(0);\nb = int64(floor(sqrt(double(N))));\na = int64(b*(b+1)-N);\nif( a==b ) \n    factor = a;\nelse\n    while ( a ~= 0 )\n        a = a - ( 2+2*x - y);\n        histDiffA(end+1) = ( 2+2*x - y);\n        x = x+1;\n        if( a&lt;0 ) \n            a = a + (x+b+1); \n            y = y+1;\n        end\n        hista(end+1) = a;\n        histb(end+1) = b;\n        histx(end+1) = x;\n        histy(end+1) = y;\n        histMod(end+1) = mod(N,(x+b+1));\n    end\n    factor = x+b+1;\nend\n\nfigure('Name', 'Values');\nhold on\n    plot(hista,'-or')\n    plot(hista+histMod-histx,'--*', 'Color', [0.7 0.7 0.7])\n    plot(histb,'-ob')\n    plot(histx,'-*g')\n    plot(histy,'-*y')\n    legend({'a', 'a+mod(N,x+b+1)-x', 'b', 'x', 'y'}); % 'Input',\nhold off\n\nfprintf( 'factor is %d \\n', factor );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1900362,"reputation":19274,"user_id":1716339,"display_name":"Aki Suihkonen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360668824,"creation_date":1360668824,"answer_id":14831573,"question_id":14769792,"body_markdown":"Your method is a variant of trial multiplication of (n-a)*(n+b), where n=floor(sqrt(N)) and b==1.\r\n\r\nThe algorithm then iterates a-- / b++ until the difference of the (n-a)*(n+b) - N == 0.\r\n\r\nThe partial differences (in respect of a and b) are in proportion to 2b and 2a respectively. Thus no true multiplication are necessary.\r\n\r\nThe complexity is a linear function of |a|  or |b| -- the more &quot;square&quot; N is, the faster the method converges. In summary, there are much faster methods, one of the easiest to understand being the quadratic residue sieve.\r\n","title":"Integer Factorization","body":"<p>Your method is a variant of trial multiplication of (n-a)*(n+b), where n=floor(sqrt(N)) and b==1.</p>\n\n<p>The algorithm then iterates a-- / b++ until the difference of the (n-a)*(n+b) - N == 0.</p>\n\n<p>The partial differences (in respect of a and b) are in proportion to 2b and 2a respectively. Thus no true multiplication are necessary.</p>\n\n<p>The complexity is a linear function of |a|  or |b| -- the more \"square\" N is, the faster the method converges. In summary, there are much faster methods, one of the easiest to understand being the quadratic residue sieve.</p>\n"},{"tags":[],"owner":{"account_id":1831227,"reputation":101,"user_id":5563130,"display_name":"Optionparty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453509894,"creation_date":1447546257,"answer_id":33714917,"question_id":14769792,"body_markdown":"Pardon my c#, I don&#39;t know Java.\r\nStepping x and y by 2 increases algorithm speed.\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    using System.Numerics;                      // needed for BigInteger\r\n        /* Methods ************************************************************/\r\n        private static BigInteger sfactor(BigInteger k) // factor odd integers\r\n        {\r\n            BigInteger x, y;\r\n            int flag;\r\n            x = y = iSqrt(k);                   // Integer Square Root\r\n            if (x % 2 == 0) { x -= 1; y += 1; } // if even make x &amp; y odd\r\n            do\r\n            { \r\n                flag = BigInteger.Compare((x*y), k);\r\n                if (flag &gt; 0) x -= 2;\r\n                y += 2;\r\n            } while(flag != 0);\r\n            return x;                           // return x\r\n        } // end of sfactor()\r\n\r\n        // Finds the integer square root of a positive number\r\n        private static BigInteger iSqrt(BigInteger num)\r\n        {\r\n            if (0 == num) { return 0; }           // Avoid zero divide\r\n            BigInteger n = (num / 2) + 1;         // Initial estimate, never low\r\n            BigInteger n1 = (n + (num / n)) &gt;&gt; 1; // right shift to divide by 2\r\n            while (n1 &lt; n)\r\n            {\r\n                n = n1;\r\n                n1 = (n + (num / n)) &gt;&gt; 1;        // right shift to divide by 2\r\n            }\r\n            return n;\r\n        } // end iSqrt()\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Integer Factorization","body":"<p>Pardon my c#, I don't know Java.\nStepping x and y by 2 increases algorithm speed.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>using System.Numerics;                      // needed for BigInteger\r\n    /* Methods ************************************************************/\r\n    private static BigInteger sfactor(BigInteger k) // factor odd integers\r\n    {\r\n        BigInteger x, y;\r\n        int flag;\r\n        x = y = iSqrt(k);                   // Integer Square Root\r\n        if (x % 2 == 0) { x -= 1; y += 1; } // if even make x &amp; y odd\r\n        do\r\n        { \r\n            flag = BigInteger.Compare((x*y), k);\r\n            if (flag &gt; 0) x -= 2;\r\n            y += 2;\r\n        } while(flag != 0);\r\n        return x;                           // return x\r\n    } // end of sfactor()\r\n\r\n    // Finds the integer square root of a positive number\r\n    private static BigInteger iSqrt(BigInteger num)\r\n    {\r\n        if (0 == num) { return 0; }           // Avoid zero divide\r\n        BigInteger n = (num / 2) + 1;         // Initial estimate, never low\r\n        BigInteger n1 = (n + (num / n)) &gt;&gt; 1; // right shift to divide by 2\r\n        while (n1 &lt; n)\r\n        {\r\n            n = n1;\r\n            n1 = (n + (num / n)) &gt;&gt; 1;        // right shift to divide by 2\r\n        }\r\n        return n;\r\n    } // end iSqrt()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2342926,"reputation":21,"user_id":2053831,"display_name":"Wissam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1651494567,"creation_date":1360317014,"question_id":14769792,"body_markdown":"Could anyone explain to me why the algorithm below is an error-free integer factorization method that always return a non-trivial factor of N.\r\nI know how weird this sounds, but I designed this method 2 years ago and still don&#39;t understand the mathematical logic behind it, which is making it difficult for me to improve it. It&#39;s so simple that it involves only addition and subtraction.\r\n\r\n    public static long factorX( long N )\r\n    {\r\n        long x=0, y=0;\r\n        long b = (long)(Math.sqrt(N));\r\n        long a = b*(b+1)-N;\r\n        if( a==b ) return a;\r\n\r\n        while ( a!= 0 )\r\n        {\r\n            a-= ( 2+2*x++ - y);\r\n            if( a&lt;0 ) { a+= (x+b+1); y++; }\r\n        }\r\n\r\n    return ( x+b+1 );\r\n    }\r\n\r\nIt seems that the above method actually finds a solution by iteration to the diophantine equation:\r\n\r\n    f(x,y) = a - x(x+1) + (x+b+1)y\r\n    where b = floor( sqrt(N) ) and a = b(b+1) - N\r\n    that is, when a = 0, f(x,y) = 0 and (x+b+1) is a factor of N.\r\n\r\n    Example: N = 8509  \r\n    b = 92, a = 47  \r\n    f(34,9) = 47 - 34(34+1) + 9(34+92+1) = 0  \r\n    and so x+b+1 = 127 is a factor of N.  \r\n\r\nRewriting the method:\r\n\r\n    public static long factorX(long N)\r\n    {\r\n    long x=1, y=0, f=1;\r\n    long b = (long)(Math.sqrt(N));\r\n    long a = b*(b+1)-N;\r\n    if( a==b ) return a;\r\n\r\n      while( f != 0 )\r\n      {\r\n        f = a - x*(x+1) + (x+b+1)*y;\r\n          if( f &lt; 0 ) y++;\r\n        x++;\r\n      }\r\n    \r\n    return x+b+1;\r\n    }  \r\n\r\nI&#39;d really appreciate any suggestions on how to improve this method.\r\n\r\nHere&#39;s a list of 10 18-digit random semiprimes:\r\n\r\n    349752871155505651 = 666524689 x 524741059   in 322 ms\r\n    259160452058194903 = 598230151 x 433211953   in 404 ms\r\n    339850094323758691 = 764567807 x 444499613   in 1037 ms\r\n    244246972999490723 = 606170657 x 402934339   in 560 ms\r\n    285622950750261931 = 576888113 x 495109787   in 174 ms\r\n    191975635567268981 = 463688299 x 414018719   in 101 ms\r\n    207216185150553571 = 628978741 x 329448631   in 1029 ms\r\n    224869951114090657 = 675730721 x 332780417   in 1165 ms\r\n    315886983148626037 = 590221057 x 535201141   in 110 ms\r\n    810807767237895131 = 957028363 x 847213937   in 226 ms\r\n    469066333624309021 = 863917189 x 542952889   in 914 ms","title":"Integer Factorization","body":"<p>Could anyone explain to me why the algorithm below is an error-free integer factorization method that always return a non-trivial factor of N.\nI know how weird this sounds, but I designed this method 2 years ago and still don't understand the mathematical logic behind it, which is making it difficult for me to improve it. It's so simple that it involves only addition and subtraction.</p>\n\n<pre><code>public static long factorX( long N )\n{\n    long x=0, y=0;\n    long b = (long)(Math.sqrt(N));\n    long a = b*(b+1)-N;\n    if( a==b ) return a;\n\n    while ( a!= 0 )\n    {\n        a-= ( 2+2*x++ - y);\n        if( a&lt;0 ) { a+= (x+b+1); y++; }\n    }\n\nreturn ( x+b+1 );\n}\n</code></pre>\n\n<p>It seems that the above method actually finds a solution by iteration to the diophantine equation:</p>\n\n<pre><code>f(x,y) = a - x(x+1) + (x+b+1)y\nwhere b = floor( sqrt(N) ) and a = b(b+1) - N\nthat is, when a = 0, f(x,y) = 0 and (x+b+1) is a factor of N.\n\nExample: N = 8509  \nb = 92, a = 47  \nf(34,9) = 47 - 34(34+1) + 9(34+92+1) = 0  \nand so x+b+1 = 127 is a factor of N.  \n</code></pre>\n\n<p>Rewriting the method:</p>\n\n<pre><code>public static long factorX(long N)\n{\nlong x=1, y=0, f=1;\nlong b = (long)(Math.sqrt(N));\nlong a = b*(b+1)-N;\nif( a==b ) return a;\n\n  while( f != 0 )\n  {\n    f = a - x*(x+1) + (x+b+1)*y;\n      if( f &lt; 0 ) y++;\n    x++;\n  }\n\nreturn x+b+1;\n}  \n</code></pre>\n\n<p>I'd really appreciate any suggestions on how to improve this method.</p>\n\n<p>Here's a list of 10 18-digit random semiprimes:</p>\n\n<pre><code>349752871155505651 = 666524689 x 524741059   in 322 ms\n259160452058194903 = 598230151 x 433211953   in 404 ms\n339850094323758691 = 764567807 x 444499613   in 1037 ms\n244246972999490723 = 606170657 x 402934339   in 560 ms\n285622950750261931 = 576888113 x 495109787   in 174 ms\n191975635567268981 = 463688299 x 414018719   in 101 ms\n207216185150553571 = 628978741 x 329448631   in 1029 ms\n224869951114090657 = 675730721 x 332780417   in 1165 ms\n315886983148626037 = 590221057 x 535201141   in 110 ms\n810807767237895131 = 957028363 x 847213937   in 226 ms\n469066333624309021 = 863917189 x 542952889   in 914 ms\n</code></pre>\n"},{"tags":["java","security","ssl","https"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465980732,"creation_date":1465696992,"answer_id":37770075,"question_id":37724901,"body_markdown":"The solution to this is always to either import the server certificate into the client truststore or else, and better, get the server certificate signed by a trusted CA, if it&#39;s under your control. You can&#39;t do it safely in code, and you shouldn&#39;t want to &#39;just for development&#39;. Otherwise you&#39;re not testing the production code in development.","title":"Disable SSLHandshakeException for a single connection","body":"<p>The solution to this is always to either import the server certificate into the client truststore or else, and better, get the server certificate signed by a trusted CA, if it's under your control. You can't do it safely in code, and you shouldn't want to 'just for development'. Otherwise you're not testing the production code in development.</p>\n"},{"tags":[],"owner":{"account_id":6501856,"reputation":6516,"user_id":5032339,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1465746641,"creation_date":1465746641,"answer_id":37776189,"question_id":37724901,"body_markdown":"Just use instance methods `setX()` instead of static `setDefaultX()`:\r\n\r\n    HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n    connection.setSSLSocketFactory(...);\r\n    connection.setHostnameVerifier(...);\r\n","title":"Disable SSLHandshakeException for a single connection","body":"<p>Just use instance methods <code>setX()</code> instead of static <code>setDefaultX()</code>:</p>\n\n<pre><code>HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\nconnection.setSSLSocketFactory(...);\nconnection.setHostnameVerifier(...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8497217,"reputation":37834,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1651494445,"creation_date":1466085105,"answer_id":37861267,"question_id":37724901,"body_markdown":"The solution \r\n------------\r\nThis utility class is based on provided example. Uses a &#39;relaxed&#39; SSLContext which preconfigures a TrustManager accepting all certificates. Also is needed a hostname verifier in case your localhost ssl certificate was issued to a different CN\r\n\r\nApply it to each connection that requires a &#39;relaxed&#39; ssl verification using `HttpsURLConnection.setSocketFactory` and `HttpsURLConnection.setHostnameVerifier`. The default behaviour wont be changed\r\n\r\n    import java.security.KeyManagementException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    \r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    public class RelaxedSSLContext {\r\n    \t// Create a trust manager that does not validate certificate chains like \r\n    \tpublic static TrustManager[] trustAllCerts = new TrustManager[] {\r\n    \t\tnew X509TrustManager() {\r\n    \t\t\tpublic java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\tpublic void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\r\n    \t\t\t\t//No need to implement. \r\n    \t\t\t}\r\n    \t\t\tpublic void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\r\n    \t\t\t\t//No need to implement. \r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    \t\r\n        //hostname verifier. All hosts valid\r\n    \tpublic static HostnameVerifier allHostsValid = new HostnameVerifier() {\r\n            public boolean verify(String hostname, SSLSession session) {\r\n                return true;\r\n            }\r\n        };  \r\n        \r\n        //hostname verifier. Only localhost and 127.0.0.1 valid\r\n    \tpublic static HostnameVerifier localhostValid = new HostnameVerifier() {\r\n            public boolean verify(String hostname, SSLSession session) {\r\n            \treturn &quot;localhost&quot;.equals(hostname) || &quot;127.0.0.1&quot;.equals(hostname);\r\n            }\r\n        };  \r\n    \r\n    \r\n    \tpublic static SSLContext getInstance() throws KeyManagementException, NoSuchAlgorithmException{\r\n    \t\treturn getInstance(&quot;SSL&quot;);\r\n    \t}\t\r\n    \t\r\n        //get a &#39;Relaxed&#39;  SSLContext with no trust store (all certificates are valids) \r\n    \tpublic static SSLContext getInstance(String protocol) throws KeyManagementException, NoSuchAlgorithmException{\r\n    \t\tSSLContext sc = SSLContext.getInstance(protocol);\r\n    \t\tsc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n    \t\treturn sc;\r\n    \t}\t\r\n    }\r\n\r\nUse it in this way\r\n\r\n\tHttpsURLConnection conn = (HttpsURLConnection)url.openConnection();\r\n\tconn.setSSLSocketFactory(RelaxedSSLContext.getInstance().getSocketFactory());\r\n\tconn.setHostnameVerifier(RelaxedSSLContext.localhostValid);\r\n\r\nExample1 (default)\r\n\r\n    url = &quot;https://www.google.cop/finance&quot;;\r\n    conn = url.openConnection();\r\n    conn.connect();\r\n    int statusCode = conn.getResponseCode();   // 200\r\n\r\nExample2 (bad hostname)\r\n\r\n    url = &quot;https://216.58.210.164/finance&quot;;\r\n    HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n    conn.setHostnameVerifier(RelaxedSSLContext.allHostsValid); \r\n    conn.connect();\r\n    int statusCode = conn.getResponseCode(); //200\r\n    // ERROR &#39;No subject alternative names matching IP address 216.58.210.164 found&#39; without hostnameVerifier\r\n\r\nExample3 (chain not in default truststore)\r\n\r\n    url = &quot;https://www.aragon.es&quot;;\r\n    HttpsURLConnection conn = (HttpsURLConnection)url.openConnection();\r\n    conn.setSSLSocketFactory(RelaxedSSLContext.getInstance().getSocketFactory());\r\n    conn.connect();\r\n    int statusCode = conn.getResponseCode(); //200\r\n    // ERROR &#39;unable to find valid certification path to requested target&#39; without relaxedSocketFactory\r\n    \r\n\r\nThe context \r\n---------------------------\r\n\r\nI think your question is on-topic, useful and well expressed. In some scenarios is suitable, or rather, is not essential to apply a context of high security. plain HTTP is still being used...\r\n\r\nLet&#39;s analyze your context. The required is access to localhost through HTTPS without trusting in server identity. It means that you want to accept any certificate presented by the server. The security issue with this scenario is a MITM attach (man in the middle). From (wikipedia)\r\n\r\n&gt; Attacker secretly relays and possibly alters the communication between\r\n&gt; two parties who believe they are directly communicating with each\r\n&gt; other.\r\n\r\nBut is it possible a **MITM attack with an untrusted https connection to localhost**?\r\n\r\nSee https://security.stackexchange.com/questions/8145/does-https-prevent-man-in-the-middle-attacks-by-proxy-server/8309#8309\r\n\r\nFirst, in https the server has to present the server certificate to the client. The client validates the public key of the certificate and check that matches with local truststore. \r\nWith the colaboration of the net administrator it would be possible to sniff the net and set a proxy to intercept the connection. But the malicious proxy is not in the possession of the matching private key so the proxy server may try to forge the certificate and provide his own public key instead. \r\nThe certificate will not be present on client trustore, so the connection will be rejected,. But if you remove the truststore verification, the attack is theoretically possible.\r\n\r\nBut, **is MITM possible restricting connections to localhost?**\r\n\r\nSee https://security.stackexchange.com/questions/61399/are-mitm-attacks-possible-on-http-loopbacks\r\n\r\nIn the general case it is not possible, but an attacker with root access to the machine could alter DNS and redirect requests to the malicious proxy. Even using 127.0.0.1 it could be possible if the application has a way to configure the connection port. \r\n\r\nThe paranoic solution could be hardcode the server connection url, port and even trustore. But you are talking about localhost on a development environment, so I think we can relax a little\r\n\r\n","title":"Disable SSLHandshakeException for a single connection","body":"<h2>The solution</h2>\n<p>This utility class is based on provided example. Uses a 'relaxed' SSLContext which preconfigures a TrustManager accepting all certificates. Also is needed a hostname verifier in case your localhost ssl certificate was issued to a different CN</p>\n<p>Apply it to each connection that requires a 'relaxed' ssl verification using <code>HttpsURLConnection.setSocketFactory</code> and <code>HttpsURLConnection.setHostnameVerifier</code>. The default behaviour wont be changed</p>\n<pre><code>import java.security.KeyManagementException;\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\npublic class RelaxedSSLContext {\n    // Create a trust manager that does not validate certificate chains like \n    public static TrustManager[] trustAllCerts = new TrustManager[] {\n        new X509TrustManager() {\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                return null;\n            }\n            public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n                //No need to implement. \n            }\n            public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n                //No need to implement. \n            }\n        }\n    };\n    \n    //hostname verifier. All hosts valid\n    public static HostnameVerifier allHostsValid = new HostnameVerifier() {\n        public boolean verify(String hostname, SSLSession session) {\n            return true;\n        }\n    };  \n    \n    //hostname verifier. Only localhost and 127.0.0.1 valid\n    public static HostnameVerifier localhostValid = new HostnameVerifier() {\n        public boolean verify(String hostname, SSLSession session) {\n            return &quot;localhost&quot;.equals(hostname) || &quot;127.0.0.1&quot;.equals(hostname);\n        }\n    };  \n\n\n    public static SSLContext getInstance() throws KeyManagementException, NoSuchAlgorithmException{\n        return getInstance(&quot;SSL&quot;);\n    }   \n    \n    //get a 'Relaxed'  SSLContext with no trust store (all certificates are valids) \n    public static SSLContext getInstance(String protocol) throws KeyManagementException, NoSuchAlgorithmException{\n        SSLContext sc = SSLContext.getInstance(protocol);\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        return sc;\n    }   \n}\n</code></pre>\n<p>Use it in this way</p>\n<pre><code>HttpsURLConnection conn = (HttpsURLConnection)url.openConnection();\nconn.setSSLSocketFactory(RelaxedSSLContext.getInstance().getSocketFactory());\nconn.setHostnameVerifier(RelaxedSSLContext.localhostValid);\n</code></pre>\n<p>Example1 (default)</p>\n<pre><code>url = &quot;https://www.google.cop/finance&quot;;\nconn = url.openConnection();\nconn.connect();\nint statusCode = conn.getResponseCode();   // 200\n</code></pre>\n<p>Example2 (bad hostname)</p>\n<pre><code>url = &quot;https://216.58.210.164/finance&quot;;\nHttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\nconn.setHostnameVerifier(RelaxedSSLContext.allHostsValid); \nconn.connect();\nint statusCode = conn.getResponseCode(); //200\n// ERROR 'No subject alternative names matching IP address 216.58.210.164 found' without hostnameVerifier\n</code></pre>\n<p>Example3 (chain not in default truststore)</p>\n<pre><code>url = &quot;https://www.aragon.es&quot;;\nHttpsURLConnection conn = (HttpsURLConnection)url.openConnection();\nconn.setSSLSocketFactory(RelaxedSSLContext.getInstance().getSocketFactory());\nconn.connect();\nint statusCode = conn.getResponseCode(); //200\n// ERROR 'unable to find valid certification path to requested target' without relaxedSocketFactory\n</code></pre>\n<h2>The context</h2>\n<p>I think your question is on-topic, useful and well expressed. In some scenarios is suitable, or rather, is not essential to apply a context of high security. plain HTTP is still being used...</p>\n<p>Let's analyze your context. The required is access to localhost through HTTPS without trusting in server identity. It means that you want to accept any certificate presented by the server. The security issue with this scenario is a MITM attach (man in the middle). From (wikipedia)</p>\n<blockquote>\n<p>Attacker secretly relays and possibly alters the communication between\ntwo parties who believe they are directly communicating with each\nother.</p>\n</blockquote>\n<p>But is it possible a <strong>MITM attack with an untrusted https connection to localhost</strong>?</p>\n<p>See <a href=\"https://security.stackexchange.com/questions/8145/does-https-prevent-man-in-the-middle-attacks-by-proxy-server/8309#8309\">https://security.stackexchange.com/questions/8145/does-https-prevent-man-in-the-middle-attacks-by-proxy-server/8309#8309</a></p>\n<p>First, in https the server has to present the server certificate to the client. The client validates the public key of the certificate and check that matches with local truststore.\nWith the colaboration of the net administrator it would be possible to sniff the net and set a proxy to intercept the connection. But the malicious proxy is not in the possession of the matching private key so the proxy server may try to forge the certificate and provide his own public key instead.\nThe certificate will not be present on client trustore, so the connection will be rejected,. But if you remove the truststore verification, the attack is theoretically possible.</p>\n<p>But, <strong>is MITM possible restricting connections to localhost?</strong></p>\n<p>See <a href=\"https://security.stackexchange.com/questions/61399/are-mitm-attacks-possible-on-http-loopbacks\">https://security.stackexchange.com/questions/61399/are-mitm-attacks-possible-on-http-loopbacks</a></p>\n<p>In the general case it is not possible, but an attacker with root access to the machine could alter DNS and redirect requests to the malicious proxy. Even using 127.0.0.1 it could be possible if the application has a way to configure the connection port.</p>\n<p>The paranoic solution could be hardcode the server connection url, port and even trustore. But you are talking about localhost on a development environment, so I think we can relax a little</p>\n"}],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12572,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":37776189,"answer_count":3,"score":8,"last_activity_date":1651494445,"creation_date":1465472261,"question_id":37724901,"body_markdown":"I&#39;m looking for a solution similar to [this answer][a], but much safer. I&#39;d like to disable the certificate validation, but for a single request only (which is all I need). So it should do one or more of the following\n\n- return to the secure state when the one request is done\n- disable validation for the given URL only\n- (maybe) use the insecure settings just for one thread\n\n### Addendum\n*I really wonder what&#39;s wrong with this question (score -2) when compared to the original one (score +46), when I&#39;m asking for a more secure solution. Could someone explain?*\n\nTo explain why I need this: There&#39;s a valid server certificate and normally, it gets used. But I need to send one request to `localhost` and it has to work on a developer machine, too. It must be `https` as there&#39;s no `http` support.\n\n[a]: https://stackoverflow.com/a/6742111/581205\n","title":"Disable SSLHandshakeException for a single connection","body":"<p>I'm looking for a solution similar to <a href=\"https://stackoverflow.com/a/6742111/581205\">this answer</a>, but much safer. I'd like to disable the certificate validation, but for a single request only (which is all I need). So it should do one or more of the following</p>\n<ul>\n<li>return to the secure state when the one request is done</li>\n<li>disable validation for the given URL only</li>\n<li>(maybe) use the insecure settings just for one thread</li>\n</ul>\n<h3>Addendum</h3>\n<p><em>I really wonder what's wrong with this question (score -2) when compared to the original one (score +46), when I'm asking for a more secure solution. Could someone explain?</em></p>\n<p>To explain why I need this: There's a valid server certificate and normally, it gets used. But I need to send one request to <code>localhost</code> and it has to work on a developer machine, too. It must be <code>https</code> as there's no <code>http</code> support.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"score":1,"creation_date":1651495861,"post_id":72086602,"comment_id":127370999,"body_markdown":"There are indeed many ways to achieve this, but you could create a method in another service class annotated with @Transactional(propagation=REQUIRES_NEW)","body":"There are indeed many ways to achieve this, but you could create a method in another service class annotated with @Transactional(propagation=REQUIRES_NEW)"},{"owner":{"account_id":2735704,"reputation":65,"user_id":2358438,"display_name":"MrLinjak"},"score":0,"creation_date":1651503476,"post_id":72086602,"comment_id":127373882,"body_markdown":"That seems much better than my original idea! Would creating a new method annotated with REQUIRES_NEW in the same service work, or does the method need to be in a new service class?","body":"That seems much better than my original idea! Would creating a new method annotated with REQUIRES_NEW in the same service work, or does the method need to be in a new service class?"},{"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"score":1,"creation_date":1651510154,"post_id":72086602,"comment_id":127376343,"body_markdown":"No because @Transactional are handled with Spring AOP by proxying your beans,  you need to call a method on the reference of the bean proxy to trigger AOP interceptor (and start your transaction), if you call it from the same class, you&#39;re going to call your method on &quot;this&quot;, which is not a reference to the bean proxy, and will not trigger any AOP aspect. It&#39;s a common problem with runtime AOP. The documentation explain it well (https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch07s06.html)","body":"No because @Transactional are handled with Spring AOP by proxying your beans,  you need to call a method on the reference of the bean proxy to trigger AOP interceptor (and start your transaction), if you call it from the same class, you&#39;re going to call your method on &quot;this&quot;, which is not a reference to the bean proxy, and will not trigger any AOP aspect. It&#39;s a common problem with runtime AOP. The documentation explain it well (<a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch07s06.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/3.0.0.M4/reference/htm&zwnj;&#8203;l/&hellip;</a>)"}],"owner":{"account_id":2735704,"reputation":65,"user_id":2358438,"display_name":"MrLinjak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651493934,"creation_date":1651493934,"question_id":72086602,"body_markdown":"I&#39;m developing a microservice architecture in which every microservice implements the usual Controller-&gt;Service-&gt;Repository flow.\r\n\r\nI&#39;m using exceptions to handle errors and control the flow, i.e. instead of using DTO fields to return status fields, all DTOs are used to return &quot;positive&quot; scenario results, while &quot;negative&quot; scenarios throw exceptions in the Service layer. This is working like a charm and allows me to offload a lot of checks from controllers into ControllerAdvice classes which have custom error handling, but there is a strange situation that I&#39;ve run into.\r\n\r\nSometimes a negative scenario requires a database change before an exception is thrown, for example an error while operating on a hypothetical User table requires the User entity to be deleted, after the User is deleted the exception is thrown to trigger an Error message to be sent via REST.\r\n\r\n```\r\npublic UserDto changeUserAndReturnTheObject(String userId) {\r\n       UserDto user = userRepository.findById(userId).orElseThrow(\r\n                      () -&gt; new MyCustomException(&quot;There is no user under that userId: &quot; + userId));\r\n       if(!user.isValid()) {\r\n           userRepository.remove(user);\r\n           throw new MyCustomException(&quot;The user data is invalid, it will be removed!&quot;);   \r\n       }\r\n       //change the User in some way\r\n       return user;\r\n}\r\n```\r\n\r\nMy question is this, since RuntimeExceptions trigger rollbacks, how can I differentiate between DB operations that need to be rolled back, and those that are &quot;corrective&quot; operations that need to be executed in the case of an error? I could have MyCustomException be an UncheckedException, but what if I had an operation before the if that throws the exception that writes something to DB and that now needs to be rolled back? I have some ideas of my own, but they seem to be a bit hacky and unclean. For example, I could create Exception type that accepts a callback that can execute the DB change after an exception is thrown and use it as such:\r\n\r\n```\r\nif(!user.isValid()) {\r\n   throw new RollbackException(&quot;The user data is invalid, it will be removed!&quot;, () -&gt; userRepository.remove(user));   \r\n}\r\n\r\n@ExceptionHandler(RollbackException.class)\r\n    protected ResponseEntity&lt;Object&gt; handleRollbackException(RollbackException ex) {    \r\n        log.error(&quot;An exception has occurred&quot;, ex);\r\n        ex.executeCallback();\r\n        return new ResponseEntity&lt;&gt;(&quot;I probably need a custom class for this&quot;, HttpStatus.BAD_REQUEST);\r\n    }\r\n```\r\n\r\nAgain, this seems like working around the framework instead of using its features. Is there a tried and true way for handling these situations?","title":"Changing the database before throwing an exception","body":"<p>I'm developing a microservice architecture in which every microservice implements the usual Controller-&gt;Service-&gt;Repository flow.</p>\n<p>I'm using exceptions to handle errors and control the flow, i.e. instead of using DTO fields to return status fields, all DTOs are used to return &quot;positive&quot; scenario results, while &quot;negative&quot; scenarios throw exceptions in the Service layer. This is working like a charm and allows me to offload a lot of checks from controllers into ControllerAdvice classes which have custom error handling, but there is a strange situation that I've run into.</p>\n<p>Sometimes a negative scenario requires a database change before an exception is thrown, for example an error while operating on a hypothetical User table requires the User entity to be deleted, after the User is deleted the exception is thrown to trigger an Error message to be sent via REST.</p>\n<pre><code>public UserDto changeUserAndReturnTheObject(String userId) {\n       UserDto user = userRepository.findById(userId).orElseThrow(\n                      () -&gt; new MyCustomException(&quot;There is no user under that userId: &quot; + userId));\n       if(!user.isValid()) {\n           userRepository.remove(user);\n           throw new MyCustomException(&quot;The user data is invalid, it will be removed!&quot;);   \n       }\n       //change the User in some way\n       return user;\n}\n</code></pre>\n<p>My question is this, since RuntimeExceptions trigger rollbacks, how can I differentiate between DB operations that need to be rolled back, and those that are &quot;corrective&quot; operations that need to be executed in the case of an error? I could have MyCustomException be an UncheckedException, but what if I had an operation before the if that throws the exception that writes something to DB and that now needs to be rolled back? I have some ideas of my own, but they seem to be a bit hacky and unclean. For example, I could create Exception type that accepts a callback that can execute the DB change after an exception is thrown and use it as such:</p>\n<pre><code>if(!user.isValid()) {\n   throw new RollbackException(&quot;The user data is invalid, it will be removed!&quot;, () -&gt; userRepository.remove(user));   \n}\n\n@ExceptionHandler(RollbackException.class)\n    protected ResponseEntity&lt;Object&gt; handleRollbackException(RollbackException ex) {    \n        log.error(&quot;An exception has occurred&quot;, ex);\n        ex.executeCallback();\n        return new ResponseEntity&lt;&gt;(&quot;I probably need a custom class for this&quot;, HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n<p>Again, this seems like working around the framework instead of using its features. Is there a tried and true way for handling these situations?</p>\n"},{"tags":["java","android","exoplayer"],"comments":[{"owner":{"account_id":80124,"reputation":528,"user_id":226758,"accept_rate":92,"display_name":"Harry"},"score":0,"creation_date":1651534432,"post_id":72086285,"comment_id":127382799,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"score":0,"creation_date":1652089776,"post_id":72086285,"comment_id":127513006,"body_markdown":"ExoPlayer has built in controls to select the track quality if you want to do it manually - see here: https://stackoverflow.com/a/66473982/334402","body":"ExoPlayer has built in controls to select the track quality if you want to do it manually - see here: <a href=\"https://stackoverflow.com/a/66473982/334402\">stackoverflow.com/a/66473982/334402</a>"}],"owner":{"account_id":21242837,"reputation":1,"user_id":15625997,"display_name":"Ahmed Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651492371,"creation_date":1651492371,"question_id":72086285,"body_markdown":"I have 4 quality link for video I need to add a list of this quality in track selector in exo player manually or any method to do that","title":"Manually add list of quality in exo player","body":"<p>I have 4 quality link for video I need to add a list of this quality in track selector in exo player manually or any method to do that</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651490022,"post_id":72085804,"comment_id":127369114,"body_markdown":"Please read [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question), and describe the actual problem you want to solve.","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>, and describe the actual problem you want to solve."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1651490849,"post_id":72085804,"comment_id":127369330,"body_markdown":"Your list employee is always empty. You create the empty list after iterating over the result set and nowhere do you insert an element. And why is the list called employee and one element employeeList? This is quite confusing.","body":"Your list employee is always empty. You create the empty list after iterating over the result set and nowhere do you insert an element. And why is the list called employee and one element employeeList? This is quite confusing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651493251,"post_id":72085804,"comment_id":127370085,"body_markdown":"You can use https://technojeeves.com/index.php/aliasjava1/103-resultset-to-csv","body":"You can use <a href=\"https://technojeeves.com/index.php/aliasjava1/103-resultset-to-csv\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/103-resultset-to-csv</a>"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651492058,"creation_date":1651490834,"answer_id":72086012,"question_id":72085804,"body_markdown":"Just print output to csv within while loop.\r\n\r\nNote that you must include `ResultSet` and `PrintWriter` into `try-with-resources` statement as well to ensure the resource is closed after the program is finished.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    File csvFile = new File(&quot;employee.csv&quot;);\r\n    String strSelect = &quot;select * from employee&quot;;\r\n    try (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/print_list&quot;, &quot;root&quot;, &quot;7012&quot;);\r\n        Statement stmt = conn.createStatement();\r\n        ResultSet rset = stmt.executeQuery(strSelect);\r\n        PrintWriter out = new PrintWriter(csvFile)) {\r\n        //int colCount = 0;\r\n        while (rset.next()) {\r\n            String userName = rset.getString(&quot;username&quot;);\r\n            String firstName = rset.getString(&quot;firstname&quot;);\r\n            String lastName = rset.getString(&quot;lastname&quot;);\r\n            String emailId = rset.getString(&quot;emailid&quot;);\r\n            String address = rset.getString(&quot;address&quot;);\r\n            out.println(userName + &quot;, &quot; + firstName + &quot;, &quot; + lastName + &quot;,&quot; + emailId + &quot;,&quot; + address);\r\n        }\r\n    } catch (FileNotFoundException | SQLException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"write the result set into .csv file using java","body":"<p>Just print output to csv within while loop.</p>\n<p>Note that you must include <code>ResultSet</code> and <code>PrintWriter</code> into <code>try-with-resources</code> statement as well to ensure the resource is closed after the program is finished.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    File csvFile = new File(&quot;employee.csv&quot;);\n    String strSelect = &quot;select * from employee&quot;;\n    try (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/print_list&quot;, &quot;root&quot;, &quot;7012&quot;);\n        Statement stmt = conn.createStatement();\n        ResultSet rset = stmt.executeQuery(strSelect);\n        PrintWriter out = new PrintWriter(csvFile)) {\n        //int colCount = 0;\n        while (rset.next()) {\n            String userName = rset.getString(&quot;username&quot;);\n            String firstName = rset.getString(&quot;firstname&quot;);\n            String lastName = rset.getString(&quot;lastname&quot;);\n            String emailId = rset.getString(&quot;emailid&quot;);\n            String address = rset.getString(&quot;address&quot;);\n            out.println(userName + &quot;, &quot; + firstName + &quot;, &quot; + lastName + &quot;,&quot; + emailId + &quot;,&quot; + address);\n        }\n    } catch (FileNotFoundException | SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651490954,"creation_date":1651490954,"answer_id":72086029,"question_id":72085804,"body_markdown":"You can check the Apache Commons CSV library.\r\n\r\nExamples can be found here:\r\nhttps://www.baeldung.com/apache-commons-csv","title":"write the result set into .csv file using java","body":"<p>You can check the Apache Commons CSV library.</p>\n<p>Examples can be found here:\n<a href=\"https://www.baeldung.com/apache-commons-csv\" rel=\"nofollow noreferrer\">https://www.baeldung.com/apache-commons-csv</a></p>\n"}],"owner":{"account_id":25127474,"reputation":1,"user_id":18975118,"display_name":"Chandu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651492058,"creation_date":1651489652,"question_id":72085804,"body_markdown":"I&#39;m trying to write the result set into .csv file using java, for that I wrote code, this created a .csv file but the result set data is not coming into .csv file, I want what ever the result set printed in console should be write in to .csv file. Could some one help me out of this.\r\n\r\n```java\r\npublic class JdbcEmployee {\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\ttry (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/print_list&quot;, &quot;root&quot;, &quot;7012&quot;);\r\n\r\n\t\t\t\tStatement stmt = conn.createStatement();) {\r\n\r\n\t\t\tString strSelect = &quot;select * from employee&quot;;\r\n\t\t\tResultSet rset = stmt.executeQuery(strSelect);\r\n\r\n\t\t\t//int colCount = 0;\r\n\t\t\twhile (rset.next()) {\r\n\t\t\t\tString userName = rset.getString(&quot;username&quot;);\r\n\t\t\t\tString firstName = rset.getString(&quot;firstname&quot;);\r\n\t\t\t\tString lastName = rset.getString(&quot;lastname&quot;);\r\n\t\t\t\tString emailId = rset.getString(&quot;emailid&quot;);\r\n\t\t\t\tString address = rset.getString(&quot;address&quot;);\r\n\t\t\t\tSystem.out.println(userName + &quot;, &quot; + firstName + &quot;, &quot; + lastName);\r\n\r\n\t\t\t}\r\n\r\n\t\t} catch (SQLException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\r\n\t\tArrayList&lt;Employee&gt; employee = new ArrayList&lt;&gt;();\r\n\t\tFile csvFile = new File(&quot;employee.csv&quot;);\r\n\t\tPrintWriter out = new PrintWriter(csvFile);\r\n\r\n\t\tfor (Employee employeeList : employee) {\r\n\t\t\tout.println(((Employee) employeeList).getLastName());\r\n\t\t}\r\n\t\tout.close();\r\n\t}\r\n\r\n\tprivate String getFirstName() {\r\n\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n","title":"write the result set into .csv file using java","body":"<p>I'm trying to write the result set into .csv file using java, for that I wrote code, this created a .csv file but the result set data is not coming into .csv file, I want what ever the result set printed in console should be write in to .csv file. Could some one help me out of this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JdbcEmployee {\n    public static void main(String[] args) throws FileNotFoundException {\n        try (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/print_list&quot;, &quot;root&quot;, &quot;7012&quot;);\n\n                Statement stmt = conn.createStatement();) {\n\n            String strSelect = &quot;select * from employee&quot;;\n            ResultSet rset = stmt.executeQuery(strSelect);\n\n            //int colCount = 0;\n            while (rset.next()) {\n                String userName = rset.getString(&quot;username&quot;);\n                String firstName = rset.getString(&quot;firstname&quot;);\n                String lastName = rset.getString(&quot;lastname&quot;);\n                String emailId = rset.getString(&quot;emailid&quot;);\n                String address = rset.getString(&quot;address&quot;);\n                System.out.println(userName + &quot;, &quot; + firstName + &quot;, &quot; + lastName);\n\n            }\n\n        } catch (SQLException ex) {\n            ex.printStackTrace();\n        }\n\n        ArrayList&lt;Employee&gt; employee = new ArrayList&lt;&gt;();\n        File csvFile = new File(&quot;employee.csv&quot;);\n        PrintWriter out = new PrintWriter(csvFile);\n\n        for (Employee employeeList : employee) {\n            out.println(((Employee) employeeList).getLastName());\n        }\n        out.close();\n    }\n\n    private String getFirstName() {\n\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","http","proxy"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389224348,"creation_date":1389224348,"answer_id":21008917,"question_id":21008459,"body_markdown":"When you define an HTTP proxy to an application or browser, either:\r\n\r\n1. There will be a preceding CONNECT request to form a tunnel, that tells you the target host:port, or\r\n\r\n2. The entire target URL is placed in the middle of the GET/POST/... request line. Normally, without a proxy, this is just a relative URL, relative to the host:port of the TCP connection.","title":"Java Proxy: How to extract Destination Host and Port from the HttpRequest?","body":"<p>When you define an HTTP proxy to an application or browser, either:</p>\n\n<ol>\n<li><p>There will be a preceding CONNECT request to form a tunnel, that tells you the target host:port, or</p></li>\n<li><p>The entire target URL is placed in the middle of the GET/POST/... request line. Normally, without a proxy, this is just a relative URL, relative to the host:port of the TCP connection.</p></li>\n</ol>\n"}],"owner":{"account_id":2835116,"reputation":788,"user_id":2435860,"accept_rate":22,"display_name":"user2435860"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651491963,"creation_date":1389222270,"question_id":21008459,"body_markdown":"I am working on a Http Proxy in java. Basically I have 3 applications:\r\n\r\n- a client application, where I just submit a request to a server VIA a proxy\r\n- a proxy that captures the request, modifies it and then forwards it to the web server\r\n- the web server\r\n    Here is my code for the Client (taken from the apache httpcore examples, but works well):\r\n\r\n    public class ClientExecuteProxy () {\r\n\r\n        public static void main(String[] args)throws Exception {\r\n            HttpHost proxy = new HttpHost(&quot;127.0.0.1&quot;, 8080, &quot;http&quot;);\r\n    \r\n            DefaultHttpClient httpclient = new DefaultHttpClient();\r\n            try {\r\n                httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\r\n    \r\n                HttpHost target = new HttpHost(&quot;issues.apache.org&quot;, 443, &quot;https&quot;);\r\n                HttpGet req = new HttpGet(&quot;/&quot;);\r\n    \r\n                System.out.println(&quot;executing request to &quot; + target + &quot; via &quot; + proxy);\r\n                HttpResponse rsp = httpclient.execute(target, req);\r\n                HttpEntity entity = rsp.getEntity();\r\n    \r\n                System.out.println(&quot;----------------------------------------&quot;);\r\n                System.out.println(rsp.getStatusLine());\r\n                Header[] headers = rsp.getAllHeaders();\r\n                for (int i = 0; i&lt;headers.length; i++) {\r\n                    System.out.println(headers[i]);\r\n                }\r\n                System.out.println(&quot;----------------------------------------&quot;);\r\n    \r\n                if (entity != null) {\r\n                    System.out.println(EntityUtils.toString(entity));\r\n                }\r\n    \r\n            } finally {\r\n                // When HttpClient instance is no longer needed,\r\n                // shut down the connection manager to ensure\r\n                // immediate deallocation of all system resources\r\n                httpclient.getConnectionManager().shutdown();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nIf I do a direct execution of the request to the server (if I comment the line &quot;httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);&quot;), it works without any problem. But if I leave it like that, it will pass by the proxy. Here is the part that I do not know how to handle for the proxy:\r\nThe proxy listens for the requests, reads its content and verifies if it respects certain policies. If OK it will forward it to the server, else it will drop the request and it will send a HttpResponse with an error. The problem is when the request is OK and it needs to be forwarded. How does the proxy know to what address to forward it? My question is: How do I get the information from the request entered at the line &quot;HttpHost target = new HttpHost(&quot;issues.apache.org&quot;, 443, &quot;https&quot;);&quot;?\r\n    I&#39;ve googled for a couple of hours but found nothing. Can anybody help me please?","title":"Java Proxy: How to extract Destination Host and Port from the HttpRequest?","body":"<p>I am working on a Http Proxy in java. Basically I have 3 applications:</p>\n\n<ul>\n<li>a client application, where I just submit a request to a server VIA a proxy</li>\n<li>a proxy that captures the request, modifies it and then forwards it to the web server</li>\n<li><p>the web server\nHere is my code for the Client (taken from the apache httpcore examples, but works well):</p>\n\n<p>public class ClientExecuteProxy () {</p>\n\n<pre><code>public static void main(String[] args)throws Exception {\n    HttpHost proxy = new HttpHost(\"127.0.0.1\", 8080, \"http\");\n\n    DefaultHttpClient httpclient = new DefaultHttpClient();\n    try {\n        httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\n\n        HttpHost target = new HttpHost(\"issues.apache.org\", 443, \"https\");\n        HttpGet req = new HttpGet(\"/\");\n\n        System.out.println(\"executing request to \" + target + \" via \" + proxy);\n        HttpResponse rsp = httpclient.execute(target, req);\n        HttpEntity entity = rsp.getEntity();\n\n        System.out.println(\"----------------------------------------\");\n        System.out.println(rsp.getStatusLine());\n        Header[] headers = rsp.getAllHeaders();\n        for (int i = 0; i&lt;headers.length; i++) {\n            System.out.println(headers[i]);\n        }\n        System.out.println(\"----------------------------------------\");\n\n        if (entity != null) {\n            System.out.println(EntityUtils.toString(entity));\n        }\n\n    } finally {\n        // When HttpClient instance is no longer needed,\n        // shut down the connection manager to ensure\n        // immediate deallocation of all system resources\n        httpclient.getConnectionManager().shutdown();\n    }\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>If I do a direct execution of the request to the server (if I comment the line \"httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\"), it works without any problem. But if I leave it like that, it will pass by the proxy. Here is the part that I do not know how to handle for the proxy:\nThe proxy listens for the requests, reads its content and verifies if it respects certain policies. If OK it will forward it to the server, else it will drop the request and it will send a HttpResponse with an error. The problem is when the request is OK and it needs to be forwarded. How does the proxy know to what address to forward it? My question is: How do I get the information from the request entered at the line \"HttpHost target = new HttpHost(\"issues.apache.org\", 443, \"https\");\"?\n    I've googled for a couple of hours but found nothing. Can anybody help me please?</p>\n"},{"tags":["java","hibernate","jpa","caching"],"owner":{"account_id":13666606,"reputation":740,"user_id":9939657,"display_name":"hdk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651491611,"creation_date":1651491611,"question_id":72086146,"body_markdown":"1. As an example, say we have instances of a spring boot micro-service that uses 2nd level caching. Since the API requests can update the database through one App instance without the other instances knowing it, won&#39;t it cause the other instances serve stale data from their 2nd level caches? Apart from that, something like a background batch job could cause the same data inconsistency in the cache isn&#39;t it?\r\n\r\n2. If we assume that the database is updated only through the App, can a distributed cache that lives independently from instances like Redis solve the problem?\r\n\r\n3. When there is no guarantee that the database will be updated through the App, is Optimistic and Pessimistic locking the way to solve it?\r\n ","title":"JPA/Hibernate 2nd Level Caching: How to avoid stale data?","body":"<ol>\n<li><p>As an example, say we have instances of a spring boot micro-service that uses 2nd level caching. Since the API requests can update the database through one App instance without the other instances knowing it, won't it cause the other instances serve stale data from their 2nd level caches? Apart from that, something like a background batch job could cause the same data inconsistency in the cache isn't it?</p>\n</li>\n<li><p>If we assume that the database is updated only through the App, can a distributed cache that lives independently from instances like Redis solve the problem?</p>\n</li>\n<li><p>When there is no guarantee that the database will be updated through the App, is Optimistic and Pessimistic locking the way to solve it?</p>\n</li>\n</ol>\n"},{"tags":["java","eclipse","swt","jface"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651491291,"creation_date":1651491291,"answer_id":72086087,"question_id":72085516,"body_markdown":"Just set the shell size based on the monitor size rather than the bounds.\r\n\r\nThis is what the Eclipse Launch Configuration Dialog uses to make sure it is not too big:\r\n```\r\nprotected void setShellSize(int width, int height) {\r\n\tRectangle bounds = getShell().getMonitor().getBounds();\r\n\tgetShell().setSize(Math.min(width, bounds.width), Math.min(height, bounds.height));\r\n}\r\n```","title":"SWT check if shell exceeds screen bounds","body":"<p>Just set the shell size based on the monitor size rather than the bounds.</p>\n<p>This is what the Eclipse Launch Configuration Dialog uses to make sure it is not too big:</p>\n<pre><code>protected void setShellSize(int width, int height) {\n    Rectangle bounds = getShell().getMonitor().getBounds();\n    getShell().setSize(Math.min(width, bounds.width), Math.min(height, bounds.height));\n}\n</code></pre>\n"}],"owner":{"account_id":8573306,"reputation":115,"user_id":6423378,"display_name":"georgebax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72086087,"answer_count":1,"score":0,"last_activity_date":1651491291,"creation_date":1651487883,"question_id":72085516,"body_markdown":"I have a button that opens a shell in my application, which displays a number of checkboxes, along with 2 buttons at the bottom. The problem is that it can get cut off due to its height being too big. \r\n\r\nThe solution I want is to add the contents of the shell to a ScrollableComposite, which doesn&#39;t work, because the shell just expands in height, so the composite&#39;s scrollbars don&#39;t do anything. \r\n\r\nI figured the best way would be to calculate if the shell exceeds the screen bounds, but I don&#39;t understand how its coordinates really work. The shell&#39;s parent is a shell, so `Shell::getBounds()` is supposed to return the coordinates *relative to the display*, but I think I need the shell&#39;s bounds *relative to the monitor* (which I can get through `Shell::getMonitor()`) in this case. \r\n\r\nHow can I do this ?","title":"SWT check if shell exceeds screen bounds","body":"<p>I have a button that opens a shell in my application, which displays a number of checkboxes, along with 2 buttons at the bottom. The problem is that it can get cut off due to its height being too big.</p>\n<p>The solution I want is to add the contents of the shell to a ScrollableComposite, which doesn't work, because the shell just expands in height, so the composite's scrollbars don't do anything.</p>\n<p>I figured the best way would be to calculate if the shell exceeds the screen bounds, but I don't understand how its coordinates really work. The shell's parent is a shell, so <code>Shell::getBounds()</code> is supposed to return the coordinates <em>relative to the display</em>, but I think I need the shell's bounds <em>relative to the monitor</em> (which I can get through <code>Shell::getMonitor()</code>) in this case.</p>\n<p>How can I do this ?</p>\n"},{"tags":["java","insert","binary-tree","binary-search","tostring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1651391004,"post_id":72074730,"comment_id":127350404,"body_markdown":"Step through your insert method with the debugger.","body":"Step through your insert method with the debugger."}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651491286,"creation_date":1651392273,"answer_id":72075004,"question_id":72074730,"body_markdown":"You have quite a few issues in your code. I&#39;ll list a few immediate items but you really will need to learn to use an interactive debugger and unit testing to resolve the sorts of issues you are seeing.\r\n\r\n 1. You refer to the `value` field in `BTNode` in your comparison but it is never set. You should really be referring to `info` (which is the actual data in the node).\r\n\r\n 2. But given `info` is a generic type you can&#39;t use standard comparison operators. Instead you&#39;ll need to define it as `&lt;T extends Comparable&lt;T&gt;&gt;` and then use `n.info.compareTo(k) &gt; 0`.\r\n\r\n 3. The key passed into insert should also be of type `T`\r\n\r\n 4. Which means the other classes also need to ensure `T` extends `Comparable`.\r\n\r\n 5. Height is only incremented when nodes are added to the right which makes no sense.\r\n\r\nHeight needs to be increased only when a node is inserted further from the root than the current maximum. Something like the following:\r\n\r\n    int depth = 0;\r\n    while (n != null) {\r\n        depth++;\r\n        p = n;\r\n    ...\r\n    }\r\n\r\n    depth++;\r\n    if (depth &gt; height)\r\n        height = depth;\r\n\r\nYou should get used to making your fields private and accessing them through `getters`. In your case a `compareValue` method would likely make sense. ","title":"Adding height of binary tree to insert method","body":"<p>You have quite a few issues in your code. I'll list a few immediate items but you really will need to learn to use an interactive debugger and unit testing to resolve the sorts of issues you are seeing.</p>\n<ol>\n<li><p>You refer to the <code>value</code> field in <code>BTNode</code> in your comparison but it is never set. You should really be referring to <code>info</code> (which is the actual data in the node).</p>\n</li>\n<li><p>But given <code>info</code> is a generic type you can't use standard comparison operators. Instead you'll need to define it as <code>&lt;T extends Comparable&lt;T&gt;&gt;</code> and then use <code>n.info.compareTo(k) &gt; 0</code>.</p>\n</li>\n<li><p>The key passed into insert should also be of type <code>T</code></p>\n</li>\n<li><p>Which means the other classes also need to ensure <code>T</code> extends <code>Comparable</code>.</p>\n</li>\n<li><p>Height is only incremented when nodes are added to the right which makes no sense.</p>\n</li>\n</ol>\n<p>Height needs to be increased only when a node is inserted further from the root than the current maximum. Something like the following:</p>\n<pre><code>int depth = 0;\nwhile (n != null) {\n    depth++;\n    p = n;\n...\n}\n\ndepth++;\nif (depth &gt; height)\n    height = depth;\n</code></pre>\n<p>You should get used to making your fields private and accessing them through <code>getters</code>. In your case a <code>compareValue</code> method would likely make sense.</p>\n"}],"owner":{"account_id":24817189,"reputation":21,"user_id":18697905,"display_name":"Dae"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72075004,"answer_count":1,"score":0,"last_activity_date":1651491286,"creation_date":1651389365,"question_id":72074730,"body_markdown":"I am creating a program that inserts a character (number/letter) into a binary tree. So far, I&#39;m able to produce an output but it&#39;s not what I expected. These are the problems I&#39;m encountering:\r\n\r\n 1. The ```insert``` method is not able to print the correct ```height``` of the tree. I am not sure where I should insert my ```height++;``` statement to get the correct output.\r\n\r\n 2. The ```insert``` method is only able to add nodes to the right.\r\n\r\n&gt; Expected Output: ```ht=3 [K=3 L=[K=1 R=[K=2]] R=[K=5 L=[K=4]]]```\r\n\r\n&gt; My Output: ```ht=4 [K=3 R=[K=1 R=[K=2 R=[K=5 R=[K=4]]]]``` \r\n\r\n*(all nodes are only added to the right &#39;R&#39;)*\r\n\r\n\r\n**Here are my classes for reference:**\r\n\r\n**Main Class**\r\n```\r\nBST&lt;Character&gt; bst = new BST&lt;&gt;();\r\n\r\nbst.insert(&#39;3&#39;);\r\nbst.insert(&#39;1&#39;);\r\nbst.insert(&#39;2&#39;);\r\nbst.insert(&#39;5&#39;);\r\nbst.insert(&#39;4&#39;);\r\n\r\nSystem.out.println(&quot;ht=&quot; + bst.height + &quot; &quot; + bst.toString());\r\n```\r\n\r\n**BST Class** - where the ```insert``` method is declared\r\n```\r\npublic class BST&lt;T&gt; extends BT&lt;T&gt; {\r\n\t// insert() method\r\n\tpublic void insert(char k) \r\n\t{\r\n\t\tif (root == null) {\r\n\t\t\troot = new BTNode(k);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tBTNode&lt;T&gt; n = root;\r\n\t\tBTNode&lt;T&gt; p = null; // parent\r\n\t\r\n\t\twhile (n != null) {\r\n\t\t\tp = n;\r\n\t\t\t\r\n\t\t\tif (k &lt; n.value) {\r\n\t\t\t\tn = n.left;\r\n\t\t\t} else {\r\n\t\t\t\tn = n.right;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (k &lt; p.value) {\r\n\t\t\tp.left = new BTNode(k);\r\n\t\t} else {\r\n\t\t\tp.right = new BTNode(k);\r\n\t\t\theight++; \t// adds 1 to height when a new level is made\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**BTNode Class**\r\n```\r\npublic class BTNode&lt;T&gt; {\r\n\tT info;\r\n\tint value, level;\r\n\tBTNode&lt;T&gt; left, right;\r\n\t\r\n\tpublic BTNode(T el) {\r\n\t\tthis(el, null, null);\r\n\t}\r\n\t\r\n\tpublic BTNode(T el, BTNode&lt;T&gt; l, BTNode&lt;T&gt; r) {\r\n\t\tinfo = el;\r\n\t\tleft = l;\r\n\t\tright = r;\r\n\t}\r\n}\r\n```\r\n\r\n**BT Class** - where the ```toString``` method is declared\r\n```\r\npublic class BT&lt;T&gt; {\r\n\tBTNode&lt;T&gt; root = null;\r\n\tint height = 0;\r\n\t\r\n\tpublic BT() {\r\n\t\tBTNode&lt;T&gt; node = new BTNode(&quot;&quot;);\r\n\t}\r\n\t\r\n\t// other methods\r\n\t\r\n\t// toString()\r\n\tpublic String toString() {\r\n\t\treturn toString(root);\r\n    }\r\n\t\r\n\tpublic String toString(BTNode&lt;T&gt; n) {\r\n\t\tString s = &quot;&quot;;\r\n\t\t\r\n\t\tif (n == null) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tif (n != null) {\r\n\t\t\ts = &quot;[K=&quot; + n.info;\r\n\t\t\t\r\n\t\t\tif (n.left != null) {\r\n\t\t\t\ts = s + &quot; L=&quot; + toString(n.left) + &quot;]&quot;;\r\n\t\t\t}\r\n\t\t\tif (n.right != null) {\r\n\t\t\t\ts = s + &quot; R=&quot; + toString(n.right) + &quot;]&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n}\r\n```\r\n\r\nHope you can help me out, thanks!","title":"Adding height of binary tree to insert method","body":"<p>I am creating a program that inserts a character (number/letter) into a binary tree. So far, I'm able to produce an output but it's not what I expected. These are the problems I'm encountering:</p>\n<ol>\n<li><p>The <code>insert</code> method is not able to print the correct <code>height</code> of the tree. I am not sure where I should insert my <code>height++;</code> statement to get the correct output.</p>\n</li>\n<li><p>The <code>insert</code> method is only able to add nodes to the right.</p>\n</li>\n</ol>\n<blockquote>\n<p>Expected Output: <code>ht=3 [K=3 L=[K=1 R=[K=2]] R=[K=5 L=[K=4]]]</code></p>\n</blockquote>\n<blockquote>\n<p>My Output: <code>ht=4 [K=3 R=[K=1 R=[K=2 R=[K=5 R=[K=4]]]]</code></p>\n</blockquote>\n<p><em>(all nodes are only added to the right 'R')</em></p>\n<p><strong>Here are my classes for reference:</strong></p>\n<p><strong>Main Class</strong></p>\n<pre><code>BST&lt;Character&gt; bst = new BST&lt;&gt;();\n\nbst.insert('3');\nbst.insert('1');\nbst.insert('2');\nbst.insert('5');\nbst.insert('4');\n\nSystem.out.println(&quot;ht=&quot; + bst.height + &quot; &quot; + bst.toString());\n</code></pre>\n<p><strong>BST Class</strong> - where the <code>insert</code> method is declared</p>\n<pre><code>public class BST&lt;T&gt; extends BT&lt;T&gt; {\n    // insert() method\n    public void insert(char k) \n    {\n        if (root == null) {\n            root = new BTNode(k);\n            return;\n        }\n        \n        BTNode&lt;T&gt; n = root;\n        BTNode&lt;T&gt; p = null; // parent\n    \n        while (n != null) {\n            p = n;\n            \n            if (k &lt; n.value) {\n                n = n.left;\n            } else {\n                n = n.right;\n            }\n        }\n        \n        if (k &lt; p.value) {\n            p.left = new BTNode(k);\n        } else {\n            p.right = new BTNode(k);\n            height++;   // adds 1 to height when a new level is made\n        }\n    }\n}\n</code></pre>\n<p><strong>BTNode Class</strong></p>\n<pre><code>public class BTNode&lt;T&gt; {\n    T info;\n    int value, level;\n    BTNode&lt;T&gt; left, right;\n    \n    public BTNode(T el) {\n        this(el, null, null);\n    }\n    \n    public BTNode(T el, BTNode&lt;T&gt; l, BTNode&lt;T&gt; r) {\n        info = el;\n        left = l;\n        right = r;\n    }\n}\n</code></pre>\n<p><strong>BT Class</strong> - where the <code>toString</code> method is declared</p>\n<pre><code>public class BT&lt;T&gt; {\n    BTNode&lt;T&gt; root = null;\n    int height = 0;\n    \n    public BT() {\n        BTNode&lt;T&gt; node = new BTNode(&quot;&quot;);\n    }\n    \n    // other methods\n    \n    // toString()\n    public String toString() {\n        return toString(root);\n    }\n    \n    public String toString(BTNode&lt;T&gt; n) {\n        String s = &quot;&quot;;\n        \n        if (n == null) {\n            return &quot;&quot;;\n        }\n        \n        if (n != null) {\n            s = &quot;[K=&quot; + n.info;\n            \n            if (n.left != null) {\n                s = s + &quot; L=&quot; + toString(n.left) + &quot;]&quot;;\n            }\n            if (n.right != null) {\n                s = s + &quot; R=&quot; + toString(n.right) + &quot;]&quot;;\n            }\n        }\n        return s;\n    }\n}\n</code></pre>\n<p>Hope you can help me out, thanks!</p>\n"},{"tags":["java","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1651149700,"post_id":72041358,"comment_id":127298086,"body_markdown":"I think you are hitting the same issue reported here: https://github.com/spring-projects/spring-batch/issues/793. Is that the case? If so, please add a comment with your minimal complete example and a link to this SO thread. Thank you upfront.","body":"I think you are hitting the same issue reported here: <a href=\"https://github.com/spring-projects/spring-batch/issues/793\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/issues/793</a>. Is that the case? If so, please add a comment with your minimal complete example and a link to this SO thread. Thank you upfront."}],"answers":[{"tags":[],"owner":{"account_id":11268259,"reputation":1,"user_id":8264456,"display_name":"0001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651491174,"creation_date":1651491174,"answer_id":72086071,"question_id":72041358,"body_markdown":"Workaround for this is to create \r\n```\r\npublic class PagingAndSortingRepositoryWrapper&lt;T, ID&gt; implements PagingAndSortingRepository&lt;T, ID&gt; {\r\n\r\n    private PagingAndSortingRepository&lt;T, ID&gt; pagingAndSortingRepository;\r\n\r\n    public PagingAndSortingRepositoryWrapper() {\r\n    }\r\n\r\n    public PagingAndSortingRepositoryWrapper(PagingAndSortingRepository&lt;T, ID&gt; pagingAndSortingRepository) {\r\n        this.pagingAndSortingRepository = pagingAndSortingRepository;\r\n    }\r\n\r\n    @Override\r\n    public Iterable&lt;T&gt; findAll(Sort sort) {\r\n        return pagingAndSortingRepository.findAll(sort);\r\n    }\r\n    @Override\r\n    public Page&lt;T&gt; findAll(Pageable pageable) {\r\n        return pagingAndSortingRepository.findAll(pageable);\r\n    }\r\n    ...\r\n```\r\n\r\nthen repositoryWrapper will not be final and we will be able to use RepositoryMethodReference\r\n\r\n```\r\nPagingAndSortingRepositoryWrapper&lt;Customer, Long&gt; repositoryWrapper = new PagingAndSortingRepositoryWrapper&lt;&gt;(customerRepository);\r\n\r\n        RepositoryItemReaderBuilder.RepositoryMethodReference&lt;PagingAndSortingRepositoryWrapper&gt; repositoryMethodReference =\r\n                new RepositoryItemReaderBuilder.RepositoryMethodReference&lt;&gt;(repositoryWrapper);\r\n        repositoryMethodReference.methodIs().findAll();\r\n\r\n        RepositoryItemReader&lt;Customer&gt; itemReader = new RepositoryItemReaderBuilder&lt;Customer&gt;()\r\n                .repository(repositoryMethodReference)\r\n                .name(&quot;bar&quot;)\r\n                .sorts(Collections.singletonMap(&quot;id&quot;, Sort.Direction.ASC))\r\n                .build();\r\n```","title":"Spring Batch - RepositoryItemReaderBuilder with RepositoryMethodReference throws Cannot subclass final class","body":"<p>Workaround for this is to create</p>\n<pre><code>public class PagingAndSortingRepositoryWrapper&lt;T, ID&gt; implements PagingAndSortingRepository&lt;T, ID&gt; {\n\n    private PagingAndSortingRepository&lt;T, ID&gt; pagingAndSortingRepository;\n\n    public PagingAndSortingRepositoryWrapper() {\n    }\n\n    public PagingAndSortingRepositoryWrapper(PagingAndSortingRepository&lt;T, ID&gt; pagingAndSortingRepository) {\n        this.pagingAndSortingRepository = pagingAndSortingRepository;\n    }\n\n    @Override\n    public Iterable&lt;T&gt; findAll(Sort sort) {\n        return pagingAndSortingRepository.findAll(sort);\n    }\n    @Override\n    public Page&lt;T&gt; findAll(Pageable pageable) {\n        return pagingAndSortingRepository.findAll(pageable);\n    }\n    ...\n</code></pre>\n<p>then repositoryWrapper will not be final and we will be able to use RepositoryMethodReference</p>\n<pre><code>PagingAndSortingRepositoryWrapper&lt;Customer, Long&gt; repositoryWrapper = new PagingAndSortingRepositoryWrapper&lt;&gt;(customerRepository);\n\n        RepositoryItemReaderBuilder.RepositoryMethodReference&lt;PagingAndSortingRepositoryWrapper&gt; repositoryMethodReference =\n                new RepositoryItemReaderBuilder.RepositoryMethodReference&lt;&gt;(repositoryWrapper);\n        repositoryMethodReference.methodIs().findAll();\n\n        RepositoryItemReader&lt;Customer&gt; itemReader = new RepositoryItemReaderBuilder&lt;Customer&gt;()\n                .repository(repositoryMethodReference)\n                .name(&quot;bar&quot;)\n                .sorts(Collections.singletonMap(&quot;id&quot;, Sort.Direction.ASC))\n                .build();\n</code></pre>\n"}],"owner":{"account_id":11268259,"reputation":1,"user_id":8264456,"display_name":"0001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72086071,"answer_count":1,"score":0,"last_activity_date":1651491174,"creation_date":1651138519,"question_id":72041358,"body_markdown":"I&#39;m trying to use Spring Batch RepositoryItemReaderBuilder with RepositoryMethodReference as parameter to provide type-safe way to call repository methods.\r\n\r\nunfortunately I can&#39;t make this work since this throws\r\n\r\n```\r\njava.lang.IllegalArgumentException: Cannot subclass final class com.sun.proxy.$Proxy100\r\n```\r\nas far as I understand, to make this work repository should not be final, but how can I do it?\r\n\r\n```\r\n\timplementation &#39;org.springframework.batch:spring-batch-core:4.3.5&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.6.7&#39;\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Customer {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long id;\r\n\tprivate String firstName;\r\n    \r\n    ...constructors, getters, setters\r\n}\r\n\r\n```\r\n\r\n```\r\npublic interface CustomerRepository extends PagingAndSortingRepository&lt;Customer, Long&gt; {\r\n\r\n}\r\n```\r\n```\r\n@SpringBootApplication\r\npublic class AccessingDataJpaApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(AccessingDataJpaApplication.class);\r\n    }\r\n\r\n    @Bean\r\n    public CommandLineRunner demo(CustomerRepository repository) {\r\n        return (args) -&gt; {\r\n            \r\n            Customer customer = new Customer();\r\n            customer.setFirstName(&quot;John&quot;);\r\n            repository.save(customer);\r\n\r\n            RepositoryItemReaderBuilder.RepositoryMethodReference&lt;CustomerRepository&gt; repositoryMethodReference =\r\n                    new RepositoryItemReaderBuilder.RepositoryMethodReference&lt;&gt;(repository);\r\n            repositoryMethodReference.methodIs().findAll();\r\n\r\n            RepositoryItemReader&lt;Customer&gt; reader = new RepositoryItemReaderBuilder&lt;Customer&gt;()\r\n                    .repository(repositoryMethodReference)\r\n                    .sorts(Collections.singletonMap(&quot;id&quot;, Sort.Direction.ASC))\r\n                    .maxItemCount(5)\r\n                    .name(&quot;bar&quot;).build();\r\n\r\n            Customer read = reader.read();\r\n        };\r\n    }\r\n\r\n}\r\n```","title":"Spring Batch - RepositoryItemReaderBuilder with RepositoryMethodReference throws Cannot subclass final class","body":"<p>I'm trying to use Spring Batch RepositoryItemReaderBuilder with RepositoryMethodReference as parameter to provide type-safe way to call repository methods.</p>\n<p>unfortunately I can't make this work since this throws</p>\n<pre><code>java.lang.IllegalArgumentException: Cannot subclass final class com.sun.proxy.$Proxy100\n</code></pre>\n<p>as far as I understand, to make this work repository should not be final, but how can I do it?</p>\n<pre><code>    implementation 'org.springframework.batch:spring-batch-core:4.3.5'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.6.7'\n</code></pre>\n<pre><code>@Entity\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    private String firstName;\n    \n    ...constructors, getters, setters\n}\n\n</code></pre>\n<pre><code>public interface CustomerRepository extends PagingAndSortingRepository&lt;Customer, Long&gt; {\n\n}\n</code></pre>\n<pre><code>@SpringBootApplication\npublic class AccessingDataJpaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AccessingDataJpaApplication.class);\n    }\n\n    @Bean\n    public CommandLineRunner demo(CustomerRepository repository) {\n        return (args) -&gt; {\n            \n            Customer customer = new Customer();\n            customer.setFirstName(&quot;John&quot;);\n            repository.save(customer);\n\n            RepositoryItemReaderBuilder.RepositoryMethodReference&lt;CustomerRepository&gt; repositoryMethodReference =\n                    new RepositoryItemReaderBuilder.RepositoryMethodReference&lt;&gt;(repository);\n            repositoryMethodReference.methodIs().findAll();\n\n            RepositoryItemReader&lt;Customer&gt; reader = new RepositoryItemReaderBuilder&lt;Customer&gt;()\n                    .repository(repositoryMethodReference)\n                    .sorts(Collections.singletonMap(&quot;id&quot;, Sort.Direction.ASC))\n                    .maxItemCount(5)\n                    .name(&quot;bar&quot;).build();\n\n            Customer read = reader.read();\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","jar","maven-assembly-plugin"],"answers":[{"tags":[],"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645880493,"creation_date":1645880493,"answer_id":71276884,"question_id":71272691,"body_markdown":"Remove the content\r\n \r\n    &lt;descriptorRefs&gt;\r\n      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    &lt;/descriptorRefs&gt;\r\n\r\nOf line 5,6&amp;7 and then try.","title":"rename maven jar-with-dependencies","body":"<p>Remove the content</p>\n<pre><code>&lt;descriptorRefs&gt;\n  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n&lt;/descriptorRefs&gt;\n</code></pre>\n<p>Of line 5,6&amp;7 and then try.</p>\n"},{"tags":[],"owner":{"account_id":13207582,"reputation":542,"user_id":9538809,"display_name":"RenceAbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651490779,"creation_date":1651490779,"answer_id":72086005,"question_id":71272691,"body_markdown":"You need to add two tags which are `&lt;finalName&gt;` and `&lt;appendAssemblyId&gt;` inside `&lt;configuration&gt;`\r\n\r\nSet `&lt;appendAssemblyId&gt;` to `false`\r\n\r\nYou need to change your `maven-assembly-plugin` as below\r\n```\r\n &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n\r\n          &lt;finalName&gt;all&lt;/finalName&gt;   // name of your jar\r\n          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;  // append will be false\r\n\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;com.gateway.gatewayService&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;make-assembly&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```","title":"rename maven jar-with-dependencies","body":"<p>You need to add two tags which are <code>&lt;finalName&gt;</code> and <code>&lt;appendAssemblyId&gt;</code> inside <code>&lt;configuration&gt;</code></p>\n<p>Set <code>&lt;appendAssemblyId&gt;</code> to <code>false</code></p>\n<p>You need to change your <code>maven-assembly-plugin</code> as below</p>\n<pre><code> &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n\n          &lt;finalName&gt;all&lt;/finalName&gt;   // name of your jar\n          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;  // append will be false\n\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.gateway.gatewayService&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":22580673,"reputation":159,"user_id":16765357,"display_name":"SimpleNiko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651490779,"creation_date":1645831044,"question_id":71272691,"body_markdown":"My plugin section in the pom file looks like this:\r\n\r\n      &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;mainClass&gt;com.gateway.gatewayService&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;make-assembly&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n\r\nAfter the build finishes, I&#39;m left with the following files:\r\n\r\n    gateway-1.1.0.pom\r\n    gateway-1.1.0.jar\r\n    gateway-1.1.0.jar-with-dependencies.jar\r\n\r\nI would like to get the following outcome instead: \r\n\r\n\r\n    gateway-1.1.0.pom\r\n    gateway-1.1.0.jar\r\n    gateway-1.1.0-all.jar\r\n\r\nWhich means changing `gateway-1.1.0.jar-with-dependencies.jar` to `gateway-1.1.0-all.jar`, is that possible?\r\n","title":"rename maven jar-with-dependencies","body":"<p>My plugin section in the pom file looks like this:</p>\n<pre><code>  &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.gateway.gatewayService&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>After the build finishes, I'm left with the following files:</p>\n<pre><code>gateway-1.1.0.pom\ngateway-1.1.0.jar\ngateway-1.1.0.jar-with-dependencies.jar\n</code></pre>\n<p>I would like to get the following outcome instead:</p>\n<pre><code>gateway-1.1.0.pom\ngateway-1.1.0.jar\ngateway-1.1.0-all.jar\n</code></pre>\n<p>Which means changing <code>gateway-1.1.0.jar-with-dependencies.jar</code> to <code>gateway-1.1.0-all.jar</code>, is that possible?</p>\n"},{"tags":["java","android-studio","libvlc"],"comments":[{"owner":{"account_id":5064211,"reputation":1914,"user_id":4064749,"display_name":"mfkl"},"score":0,"creation_date":1651541681,"post_id":72085977,"comment_id":127383823,"body_markdown":"why not resize `_myVideoView`?","body":"why not resize <code>_myVideoView</code>?"},{"owner":{"account_id":24844782,"reputation":11,"user_id":18722419,"display_name":"Kanoto"},"score":0,"creation_date":1651690658,"post_id":72085977,"comment_id":127425723,"body_markdown":"Don&#39;t worry, I found the solution, just needed to change it to VLCVideoLayout and it worked perfectly","body":"Don&#39;t worry, I found the solution, just needed to change it to VLCVideoLayout and it worked perfectly"},{"owner":{"account_id":14891443,"reputation":415,"user_id":10752962,"display_name":"Vivek Thummar"},"score":0,"creation_date":1671708640,"post_id":72085977,"comment_id":132158581,"body_markdown":"@Kanoto, can you please show your code as i also want to play video, but not able to play it..","body":"@Kanoto, can you please show your code as i also want to play video, but not able to play it.."}],"owner":{"account_id":24844782,"reputation":11,"user_id":18722419,"display_name":"Kanoto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651490615,"creation_date":1651490615,"question_id":72085977,"body_markdown":"I&#39;m trying to display an udp stream from a GoPro camera, but when I do it that way :\r\n\r\n```\r\nArrayList&lt;String&gt; _Options = new ArrayList&lt;String&gt;();\r\n_Options.add(&quot;--file-caching=2000&quot;);\r\n_Options.add(&quot;--network-caching=150&quot;);\r\n_Options.add(&quot;--clock-jitter=0&quot;);\r\n_Options.add(&quot;--live-caching=1000&quot;);\r\n_Options.add(&quot;--clock-synchro=0&quot;);\r\n_Options.add(&quot;--fullscreen&quot;);\r\n_Options.add(&quot;-vvv&quot;);\r\n_Options.add(&quot;--drop-late-frames&quot;);\r\n_Options.add(&quot;--skip-frames&quot;);\r\n_myLibVlc = new LibVLC(findViewById(android.R.id.content).getContext(), _Options);\r\n_myPlayer = new MediaPlayer(_myLibVlc);\r\n_myPlayer.setAspectRatio(&quot;16:9&quot;);\r\n_myPlayer.setScale(1);\r\n_myVout = _myPlayer.getVLCVout();\r\n_myVout.setVideoView(_myVideoView);\r\n_myVout.attachViews();\r\n```\r\n\r\nBut I only get an tiny video like that :\r\n\r\n[The image][1]\r\n\r\nI tried using DisplayMetrics but it crashes when I use vout.setWindowSize()\r\n\r\nps : I&#39;m sorry for my bad english ^^\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VOzpo.jpg","title":"How can I get a fullscreen with libvlc android studio","body":"<p>I'm trying to display an udp stream from a GoPro camera, but when I do it that way :</p>\n<pre><code>ArrayList&lt;String&gt; _Options = new ArrayList&lt;String&gt;();\n_Options.add(&quot;--file-caching=2000&quot;);\n_Options.add(&quot;--network-caching=150&quot;);\n_Options.add(&quot;--clock-jitter=0&quot;);\n_Options.add(&quot;--live-caching=1000&quot;);\n_Options.add(&quot;--clock-synchro=0&quot;);\n_Options.add(&quot;--fullscreen&quot;);\n_Options.add(&quot;-vvv&quot;);\n_Options.add(&quot;--drop-late-frames&quot;);\n_Options.add(&quot;--skip-frames&quot;);\n_myLibVlc = new LibVLC(findViewById(android.R.id.content).getContext(), _Options);\n_myPlayer = new MediaPlayer(_myLibVlc);\n_myPlayer.setAspectRatio(&quot;16:9&quot;);\n_myPlayer.setScale(1);\n_myVout = _myPlayer.getVLCVout();\n_myVout.setVideoView(_myVideoView);\n_myVout.attachViews();\n</code></pre>\n<p>But I only get an tiny video like that :</p>\n<p><a href=\"https://i.stack.imgur.com/VOzpo.jpg\" rel=\"nofollow noreferrer\">The image</a></p>\n<p>I tried using DisplayMetrics but it crashes when I use vout.setWindowSize()</p>\n<p>ps : I'm sorry for my bad english ^^</p>\n"},{"tags":["java","soapui","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":3132605,"reputation":374,"user_id":2649915,"accept_rate":100,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380892758,"creation_date":1380867811,"answer_id":19174664,"question_id":19169599,"body_markdown":"Looks like your web service is SOAP 1.1 and where as your SoapUI request is SOAP 1.2 and hence due to this conflict you are getting the error. This [thread][1] might help you regarding this matter. In SOAP 1.2 MIME type is &quot;application/soap+xml&quot;. That&#39;s why I thought it&#39;s [SOAP 1.2][2](purely a speculation)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10403806/wcf-soap-1-2-service-expecting-soap-1-1-content-type\r\n  [2]: http://www.w3.org/TR/2002/CR-soap12-part2-20021219/#ietf-draft","title":"Spring-ws Endpoint is not reached, error indicates invalid content type: application/xml","body":"<p>Looks like your web service is SOAP 1.1 and where as your SoapUI request is SOAP 1.2 and hence due to this conflict you are getting the error. This <a href=\"https://stackoverflow.com/questions/10403806/wcf-soap-1-2-service-expecting-soap-1-1-content-type\">thread</a> might help you regarding this matter. In SOAP 1.2 MIME type is \"application/soap+xml\". That's why I thought it's <a href=\"http://www.w3.org/TR/2002/CR-soap12-part2-20021219/#ietf-draft\" rel=\"nofollow noreferrer\">SOAP 1.2</a>(purely a speculation)</p>\n"},{"tags":[],"owner":{"account_id":3058719,"reputation":23,"user_id":2591856,"display_name":"Plex Lex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381156967,"creation_date":1381156967,"answer_id":19227760,"question_id":19169599,"body_markdown":"The issue was I was not sending a correct soap request.  I thought Soap UI added the SOAP Envelope and Body around my request but I was wrong. :-(  I correct it with the following XML:\r\n\r\n    &lt;SOAP-ENV:Envelope \r\n        xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; \r\n        xmlns:SOAP-ENC=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; SOAP-ENV:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;&gt;\r\n      &lt;SOAP-ENV:Body&gt;\r\n        &lt;war:ItemIdDescription xmlns:oagis=&quot;http://www.openapplications.org/oagis/9&quot;\r\n             xmlns:war=&quot;http://www.starstandard.org/STAR/5&quot;&gt;Test&lt;/war:ItemIdDescription&gt;\r\n      &lt;/SOAP-ENV:Body&gt;\r\n    &lt;/SOAP-ENV:Envelope&gt;\r\n","title":"Spring-ws Endpoint is not reached, error indicates invalid content type: application/xml","body":"<p>The issue was I was not sending a correct soap request.  I thought Soap UI added the SOAP Envelope and Body around my request but I was wrong. :-(  I correct it with the following XML:</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope \n    xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" \n    xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" SOAP-ENV:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt;\n  &lt;SOAP-ENV:Body&gt;\n    &lt;war:ItemIdDescription xmlns:oagis=\"http://www.openapplications.org/oagis/9\"\n         xmlns:war=\"http://www.starstandard.org/STAR/5\"&gt;Test&lt;/war:ItemIdDescription&gt;\n  &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3376274,"reputation":160,"user_id":2834361,"display_name":"gizit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651490541,"creation_date":1651490541,"answer_id":72085964,"question_id":19169599,"body_markdown":"I ran into this issue when running an integration test on my SOAP webservice. I solved it by setting the content-type header of my soap call to &quot;text/xml&quot; instead of &quot;application/xml&quot;.","title":"Spring-ws Endpoint is not reached, error indicates invalid content type: application/xml","body":"<p>I ran into this issue when running an integration test on my SOAP webservice. I solved it by setting the content-type header of my soap call to &quot;text/xml&quot; instead of &quot;application/xml&quot;.</p>\n"}],"owner":{"account_id":3058719,"reputation":23,"user_id":2591856,"display_name":"Plex Lex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19174664,"answer_count":3,"score":0,"last_activity_date":1651490541,"creation_date":1380835939,"question_id":19169599,"body_markdown":"I am trying to code a simple Spring-ws server.  I am not sure what I am doing wrong but the request I initial from SoapUI never reaches my server. Running under a debugger I never get control in my server.  The error indicates an invalid content type, but I&#39;m not sure this is from the response.  The response being returned is my jsp error page for the application.  \r\nI believe the servlet is configured correctly.  I setup a bogus test.wsdl and as you see configured below.  This worked correctly.  I just cannot get the request from SoapUI to my server code.\r\n\r\n\r\nThe code for my server is:  \r\n    package com.tester;\r\n\r\n\r\n    import org.springframework.ws.server.endpoint.annotation.Endpoint;\r\n    import org.springframework.ws.server.endpoint.annotation.PayloadRoot;\r\n    import org.springframework.ws.server.endpoint.annotation.RequestPayload;\r\n    import org.springframework.ws.server.endpoint.annotation.ResponsePayload;\r\n    import org.starstandard.star.x5.ItemIdDescriptionDocument;\r\n\r\n    @Endpoint   \r\n    public class EndpointTest {\r\n    \r\n\r\n    @PayloadRoot(localPart=&quot;ItemIdDescription&quot;, namespace = &quot;http://www.starstandard.org/STAR/5&quot;)\r\n    @ResponsePayload\r\n    public ItemIdDescriptionDocument handleItemIdDescription(@RequestPayload  ItemIdDescriptionDocument request){\r\n\r\n        String description = request.getItemIdDescription().getStringValue();\r\n      \r\n        return request;\r\n    }\r\n}  \r\n\r\nHere is the configuration for my servlet.  This file is WEB-INF/spring-ws-servlet.xml:  \r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    xmlns:sws=&quot;http://www.springframework.org/schema/web-services&quot;\r\n    xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\r\n    xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd \r\n    http://www.springframework.org/schema/web-services http://www.springframework.org/schema/web-services/web-services-2.0.xsd\r\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd \r\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\r\n    http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd\r\n    http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd&quot;&gt;\r\n\r\n    &lt;context:component-scan base-package=&quot;com.tester&quot; /&gt;\r\n    &lt;sws:annotation-driven /&gt;\r\n    &lt;bean\r\n      class=&quot;org.springframework.ws.server.endpoint.adapter.GenericMarshallingMethodEndpointAdapter&quot;&gt;\r\n      &lt;property name=&quot;marshaller&quot; ref=&quot;marshaller&quot; /&gt;\r\n      &lt;property name=&quot;unmarshaller&quot; ref=&quot;marshaller&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;marshaller&quot; class=&quot;org.springframework.oxm.xmlbeans.XmlBeansMarshaller&quot;&gt;&lt;/bean&gt;\r\n    &lt;sws:static-wsdl id=&quot;test&quot; location=&quot;/WEB-INF/test.wsdl&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\nHere is the raw request from SoapUI.  I used Fiddler to get this:  \r\n\r\n    POST http://localhost:8080/webroot/eservices HTTP/1.1\r\n    Accept-Encoding: gzip,deflate\r\n    Content-Type: application/xml\r\n    User-Agent: Jakarta Commons-HttpClient/3.1\r\n    Host: localhost:8080\r\n    Connection: Keep-Alive\r\n    Content-Length: 146\r\n\r\n    &lt;ItemIdDescription xmlns:oagis=&quot;http://www.openapplications.org/oagis/9&quot;\r\n     xmlns=&quot;http://www.starstandard.org/STAR/5&quot;&gt;Test&lt;/ItemIdDescription&gt;\r\n\r\n\r\n\r\nHere is the error stack from the logs:  \r\n\r\n    Oct 3, 2013 4:54:55 PM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Servlet.service() for servlet spring-ws threw exception\r\n    com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Invalid Content-    Type:application/xml. Is this an error message instead of a SOAP response?\r\n\tat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:602)\r\n\tat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.&lt;init&gt;(MessageImpl.java:275)\r\n\tat com.sun.xml.internal.messaging.saaj.soap.ver1_1.Message1_1Impl.&lt;init&gt;(Message1_1Impl.java:67)\r\n\tat com.sun.xml.internal.messaging.saaj.soap.ver1_1.SOAPMessageFactory1_1Impl.createMessage(SOAPMessageFactory1_1Impl.java:61)\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:184)\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:60)\r\n\tat org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:90)\r\n\tat org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:86)\r\n\tat org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:59)\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:239)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:291)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\r\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:602)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\r\n\tat java.lang.Thread.run(Thread.java:619)\r\n\r\n\r\n\r\nHere is the error stack after I switched the server to support SOAP 1.2 so I do not believe it is a SOAP version issue:  \r\n\r\n    SEVERE: Servlet.service() for servlet spring-ws threw exception\r\n    com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/xml. Is this an error message instead of a SOAP response\r\n    at com.sun.xml.internal.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:602)\r\n    at com.sun.xml.internal.messaging.saaj.soap.MessageImpl.&lt;init&gt;(MessageImpl.java:275)\r\n    at com.sun.xml.internal.messaging.saaj.soap.ver1_2.Message1_2Impl.&lt;init&gt;(Message1_2Impl.java:60)\r\n    at com.sun.xml.internal.messaging.saaj.soap.ver1_2.SOAPMessageFactory1_2Impl.createMessage(SOAPMessageFactory1_2Impl.java:61)\r\n    ... the rest of the stack is the same.\r\n\r\n\r\nDoes anyone have suggestions on how to debug this?  Much thanks!","title":"Spring-ws Endpoint is not reached, error indicates invalid content type: application/xml","body":"<p>I am trying to code a simple Spring-ws server.  I am not sure what I am doing wrong but the request I initial from SoapUI never reaches my server. Running under a debugger I never get control in my server.  The error indicates an invalid content type, but I'm not sure this is from the response.  The response being returned is my jsp error page for the application.<br>\nI believe the servlet is configured correctly.  I setup a bogus test.wsdl and as you see configured below.  This worked correctly.  I just cannot get the request from SoapUI to my server code.</p>\n\n<p>The code for my server is:<br>\n    package com.tester;</p>\n\n<pre><code>import org.springframework.ws.server.endpoint.annotation.Endpoint;\nimport org.springframework.ws.server.endpoint.annotation.PayloadRoot;\nimport org.springframework.ws.server.endpoint.annotation.RequestPayload;\nimport org.springframework.ws.server.endpoint.annotation.ResponsePayload;\nimport org.starstandard.star.x5.ItemIdDescriptionDocument;\n\n@Endpoint   \npublic class EndpointTest {\n\n\n@PayloadRoot(localPart=\"ItemIdDescription\", namespace = \"http://www.starstandard.org/STAR/5\")\n@ResponsePayload\npublic ItemIdDescriptionDocument handleItemIdDescription(@RequestPayload  ItemIdDescriptionDocument request){\n\n    String description = request.getItemIdDescription().getStringValue();\n\n    return request;\n}\n</code></pre>\n\n<p>}  </p>\n\n<p>Here is the configuration for my servlet.  This file is WEB-INF/spring-ws-servlet.xml:  </p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:context=\"http://www.springframework.org/schema/context\" xmlns:jee=\"http://www.springframework.org/schema/jee\"\nxmlns:p=\"http://www.springframework.org/schema/p\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\nxmlns:sws=\"http://www.springframework.org/schema/web-services\"\nxmlns:cache=\"http://www.springframework.org/schema/cache\"\nxmlns:task=\"http://www.springframework.org/schema/task\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd \nhttp://www.springframework.org/schema/web-services http://www.springframework.org/schema/web-services/web-services-2.0.xsd\nhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd \nhttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\nhttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd\nhttp://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd\"&gt;\n\n&lt;context:component-scan base-package=\"com.tester\" /&gt;\n&lt;sws:annotation-driven /&gt;\n&lt;bean\n  class=\"org.springframework.ws.server.endpoint.adapter.GenericMarshallingMethodEndpointAdapter\"&gt;\n  &lt;property name=\"marshaller\" ref=\"marshaller\" /&gt;\n  &lt;property name=\"unmarshaller\" ref=\"marshaller\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"marshaller\" class=\"org.springframework.oxm.xmlbeans.XmlBeansMarshaller\"&gt;&lt;/bean&gt;\n&lt;sws:static-wsdl id=\"test\" location=\"/WEB-INF/test.wsdl\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Here is the raw request from SoapUI.  I used Fiddler to get this:  </p>\n\n<pre><code>POST http://localhost:8080/webroot/eservices HTTP/1.1\nAccept-Encoding: gzip,deflate\nContent-Type: application/xml\nUser-Agent: Jakarta Commons-HttpClient/3.1\nHost: localhost:8080\nConnection: Keep-Alive\nContent-Length: 146\n\n&lt;ItemIdDescription xmlns:oagis=\"http://www.openapplications.org/oagis/9\"\n xmlns=\"http://www.starstandard.org/STAR/5\"&gt;Test&lt;/ItemIdDescription&gt;\n</code></pre>\n\n<p>Here is the error stack from the logs:  </p>\n\n<pre><code>Oct 3, 2013 4:54:55 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet spring-ws threw exception\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Invalid Content-    Type:application/xml. Is this an error message instead of a SOAP response?\nat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:602)\nat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.&lt;init&gt;(MessageImpl.java:275)\nat com.sun.xml.internal.messaging.saaj.soap.ver1_1.Message1_1Impl.&lt;init&gt;(Message1_1Impl.java:67)\nat com.sun.xml.internal.messaging.saaj.soap.ver1_1.SOAPMessageFactory1_1Impl.createMessage(SOAPMessageFactory1_1Impl.java:61)\nat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:184)\nat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:60)\nat org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:90)\nat org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:86)\nat org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:59)\nat org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:239)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:291)\nat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\nat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:602)\nat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\nat java.lang.Thread.run(Thread.java:619)\n</code></pre>\n\n<p>Here is the error stack after I switched the server to support SOAP 1.2 so I do not believe it is a SOAP version issue:  </p>\n\n<pre><code>SEVERE: Servlet.service() for servlet spring-ws threw exception\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/xml. Is this an error message instead of a SOAP response\nat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:602)\nat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.&lt;init&gt;(MessageImpl.java:275)\nat com.sun.xml.internal.messaging.saaj.soap.ver1_2.Message1_2Impl.&lt;init&gt;(Message1_2Impl.java:60)\nat com.sun.xml.internal.messaging.saaj.soap.ver1_2.SOAPMessageFactory1_2Impl.createMessage(SOAPMessageFactory1_2Impl.java:61)\n... the rest of the stack is the same.\n</code></pre>\n\n<p>Does anyone have suggestions on how to debug this?  Much thanks!</p>\n"},{"tags":["java","spring-boot","integration-testing","citrus-framework"],"answers":[{"tags":[],"owner":{"account_id":7966418,"reputation":2196,"user_id":6012516,"display_name":"Christoph Deppisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651490372,"creation_date":1651490372,"answer_id":72085936,"question_id":71517185,"body_markdown":"You try to send a request as a client and at the same time to receive another request as a server. As Http is a synchronous protocol by nature you need to use fork=true option on the 1st client send action.\r\n\r\nThis should solve the problem ","title":"Failed to get correlation key for `citrus_message_correlator_HttpClient`","body":"<p>You try to send a request as a client and at the same time to receive another request as a server. As Http is a synchronous protocol by nature you need to use fork=true option on the 1st client send action.</p>\n<p>This should solve the problem</p>\n"}],"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651490372,"creation_date":1647540788,"question_id":71517185,"body_markdown":"I have a CitrusEndpoints server configuration\r\n\r\n    @Bean\r\n     public HttpServer myService() {\r\n        return CitrusEndpoints.\r\n                 http().\r\n                 server().\r\n                 port(9999).\r\n                 timeout(10000).autoStart(true).build();\r\nMy client configuration\r\n \r\n    @Bean\r\n    public HttpClient httpClient() {\r\n      return CitrusEndpoints.\r\n               http().\r\n               client().\r\n               requestUrl(&quot;http://localhost:9999/myService/downloadSomething&quot;).\r\n               contentType(&quot;multipart/form-data&quot;).\r\n               build();\r\n    }\r\n\r\nMy unit test:\r\n\r\n  \r\n\r\n    actions.$(http()\r\n            .client(httpClient)\r\n            .send()\r\n            .get().path(id)\r\n            .queryParam(&quot;version&quot;,&quot;1&quot;)\r\n            .message().accept(ContentType.MULTIPART_FORM_DATA.getMimeType())\r\n            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token));\r\n    actions.$(http().server(&quot;http://localhost:9999/myService/downloadSomething/&quot;).receive().get( id).\r\n            queryParam(&quot;version&quot;, &quot;1&quot;));\r\n    actions.$(http().server(&quot;http://localhost:9999/myService/downloadSomething/&quot;).respond().message().\r\n            contentType(ContentType.MULTIPART_FORM_DATA.toString()));\r\n    actions.$(http().client(httpClient).receive().response(HttpStatus.OK)\r\n            .message(new DefaultMessage(FileCopyUtils.copyToByteArray(new ClassPathResource(&quot;documents/somedoc.pdf&quot;).getFile())))\r\n            .contentType(ContentType.MULTIPART_FORM_DATA.getMimeType()));\r\n\r\nWhat I see \r\n  \r\n\r\n&gt; com.consol.citrus.exceptions.TestCaseFailedException: Failed to get correlation key for `citrus_message_correlator_HttpClient`\r\n\r\nP.S: If you notice any typos in the code, kindly ignore. I have attempted not to reveal any damning identification ","title":"Failed to get correlation key for `citrus_message_correlator_HttpClient`","body":"<p>I have a CitrusEndpoints server configuration</p>\n<pre><code>@Bean\n public HttpServer myService() {\n    return CitrusEndpoints.\n             http().\n             server().\n             port(9999).\n             timeout(10000).autoStart(true).build();\n</code></pre>\n<p>My client configuration</p>\n<pre><code>@Bean\npublic HttpClient httpClient() {\n  return CitrusEndpoints.\n           http().\n           client().\n           requestUrl(&quot;http://localhost:9999/myService/downloadSomething&quot;).\n           contentType(&quot;multipart/form-data&quot;).\n           build();\n}\n</code></pre>\n<p>My unit test:</p>\n<pre><code>actions.$(http()\n        .client(httpClient)\n        .send()\n        .get().path(id)\n        .queryParam(&quot;version&quot;,&quot;1&quot;)\n        .message().accept(ContentType.MULTIPART_FORM_DATA.getMimeType())\n        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token));\nactions.$(http().server(&quot;http://localhost:9999/myService/downloadSomething/&quot;).receive().get( id).\n        queryParam(&quot;version&quot;, &quot;1&quot;));\nactions.$(http().server(&quot;http://localhost:9999/myService/downloadSomething/&quot;).respond().message().\n        contentType(ContentType.MULTIPART_FORM_DATA.toString()));\nactions.$(http().client(httpClient).receive().response(HttpStatus.OK)\n        .message(new DefaultMessage(FileCopyUtils.copyToByteArray(new ClassPathResource(&quot;documents/somedoc.pdf&quot;).getFile())))\n        .contentType(ContentType.MULTIPART_FORM_DATA.getMimeType()));\n</code></pre>\n<p>What I see</p>\n<blockquote>\n<p>com.consol.citrus.exceptions.TestCaseFailedException: Failed to get correlation key for <code>citrus_message_correlator_HttpClient</code></p>\n</blockquote>\n<p>P.S: If you notice any typos in the code, kindly ignore. I have attempted not to reveal any damning identification</p>\n"},{"tags":["java","android","android-studio","autocompletetextview"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651466048,"post_id":72080051,"comment_id":127363543,"body_markdown":"Does this answer your question? [AutoCompleteTextView in android](https://stackoverflow.com/questions/9648347/autocompletetextview-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9648347/autocompletetextview-in-android\">AutoCompleteTextView in android</a>"},{"owner":{"account_id":19243344,"reputation":1,"user_id":14062902,"display_name":"Mohammed Tayeb"},"score":0,"creation_date":1651493496,"post_id":72080051,"comment_id":127370165,"body_markdown":"I didn&#39;t .. it&#39;s just for show suggestions even if  write the second letter .. i edited my question to understand what i exactly want . Thank you","body":"I didn&#39;t .. it&#39;s just for show suggestions even if  write the second letter .. i edited my question to understand what i exactly want . Thank you"}],"answers":[{"tags":[],"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651462249,"creation_date":1651462249,"answer_id":72082078,"question_id":72080051,"body_markdown":"you can try something like this:\r\n```\r\n   protected void onCreate(Bundle icicle) {\r\n         super.onCreate(icicle);\r\n         setContentView(R.layout.yourLayout);\r\n\r\n         ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\r\n                 android.R.layout.simple_dropdown_item_1line, PHRASES);\r\n         AutoCompleteTextView textView = (AutoCompleteTextView)\r\n                 findViewById(R.id.yourTextView);\r\n         textView.setAdapter(adapter);\r\n     }\r\n\r\n     private static final String[] PHRASES = new String[] {\r\n         &quot;Belgium&quot;, &quot;France&quot;, &quot;Italy&quot;, &quot;Germany&quot;, &quot;Spain&quot;\r\n     };\r\n\r\n \r\n```\r\n\r\nAlso you should take a look of the android developer site: [AutoCompleteTextView][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/AutoCompleteTextView","title":"How to make autocomplete text view accept only already written phrases","body":"<p>you can try something like this:</p>\n<pre><code>   protected void onCreate(Bundle icicle) {\n         super.onCreate(icicle);\n         setContentView(R.layout.yourLayout);\n\n         ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\n                 android.R.layout.simple_dropdown_item_1line, PHRASES);\n         AutoCompleteTextView textView = (AutoCompleteTextView)\n                 findViewById(R.id.yourTextView);\n         textView.setAdapter(adapter);\n     }\n\n     private static final String[] PHRASES = new String[] {\n         &quot;Belgium&quot;, &quot;France&quot;, &quot;Italy&quot;, &quot;Germany&quot;, &quot;Spain&quot;\n     };\n\n \n</code></pre>\n<p>Also you should take a look of the android developer site: <a href=\"https://developer.android.com/reference/android/widget/AutoCompleteTextView\" rel=\"nofollow noreferrer\">AutoCompleteTextView</a></p>\n"}],"owner":{"account_id":19243344,"reputation":1,"user_id":14062902,"display_name":"Mohammed Tayeb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651490205,"creation_date":1651435614,"question_id":72080051,"body_markdown":"I already made a list of phrases for \r\n autocomplete text view in android studio and i want the autocomplete to accept only phrases in this list \r\n For e.g if my array contain sarah,mike,adam \r\nAnd i wrote in the autocomplete text view omar .. the autocomplete text view will not accept it ..it will delete it .","title":"How to make autocomplete text view accept only already written phrases","body":"<p>I already made a list of phrases for\nautocomplete text view in android studio and i want the autocomplete to accept only phrases in this list\nFor e.g if my array contain sarah,mike,adam\nAnd i wrote in the autocomplete text view omar .. the autocomplete text view will not accept it ..it will delete it .</p>\n"},{"tags":["java","equals"],"comments":[{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":1,"creation_date":1396379929,"post_id":22794924,"comment_id":34758422,"body_markdown":"Java stores strings as UTF-16 (originally UCS-2) internally.","body":"Java stores strings as UTF-16 (originally UCS-2) internally."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396380078,"post_id":22794924,"comment_id":34758504,"body_markdown":"You mean `u8` in C++?","body":"You mean <code>u8</code> in C++?"},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":1,"creation_date":1396380145,"post_id":22794924,"comment_id":34758544,"body_markdown":"@fge Apparently [String8](http://msdn.microsoft.com/en-us/library/dd240126.aspx) is a real thing, as is [String16](http://msdn.microsoft.com/en-us/library/dd240127.aspx).","body":"@fge Apparently <a href=\"http://msdn.microsoft.com/en-us/library/dd240126.aspx\" rel=\"nofollow noreferrer\">String8</a> is a real thing, as is <a href=\"http://msdn.microsoft.com/en-us/library/dd240127.aspx\" rel=\"nofollow noreferrer\">String16</a>."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1396380168,"post_id":22794924,"comment_id":34758554,"body_markdown":"Java&#39;s Strings cannot be made to handle binary data, it makes a clear distinction (this is unlike a `char *` in C/C++ in this regard). No idea how `u8` and others handle that. In fact, no idea how you specify an encoding to write text in C++","body":"Java&#39;s Strings cannot be made to handle binary data, it makes a clear distinction (this is unlike a <code>char *</code> in C/C++ in this regard). No idea how <code>u8</code> and others handle that. In fact, no idea how you specify an encoding to write text in C++"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396380283,"post_id":22794924,"comment_id":34758615,"body_markdown":"@Powerlord yeah, and `String16` is misleading -- you cannot store Unicode code points outside the BMP with it, at least not with a single... What... `char8_t`? Nor can you do that with Java, which is why you have all of these `codePoint*()` methods on `String` and `Character` (and `Character.toChars()`)","body":"@Powerlord yeah, and <code>String16</code> is misleading -- you cannot store Unicode code points outside the BMP with it, at least not with a single... What... <code>char8_t</code>? Nor can you do that with Java, which is why you have all of these <code>codePoint*()</code> methods on <code>String</code> and <code>Character</code> (and <code>Character.toChars()</code>)"},{"owner":{"account_id":2632294,"reputation":11,"user_id":2277936,"display_name":"sader1994"},"score":0,"creation_date":1396380306,"post_id":22794924,"comment_id":34758626,"body_markdown":"as example in aapt ( Android Asset Packaging Tool) uses internal String8 is a String8 a simple char array ?","body":"as example in aapt ( Android Asset Packaging Tool) uses internal String8 is a String8 a simple char array ?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396380421,"post_id":22794924,"comment_id":34758686,"body_markdown":"@sader1994 are you sure this is C++ &quot;proper&quot;? I see no mention of `String8` anywhere I look except at the site @Powerlord provides","body":"@sader1994 are you sure this is C++ &quot;proper&quot;? I see no mention of <code>String8</code> anywhere I look except at the site @Powerlord provides"},{"owner":{"account_id":2632294,"reputation":11,"user_id":2277936,"display_name":"sader1994"},"score":0,"creation_date":1396380528,"post_id":22794924,"comment_id":34758742,"body_markdown":"https://android.googlesource.com/platform/frameworks/native/+/jb-mr0-release/libs/utils/String8.cpp","body":"<a href=\"https://android.googlesource.com/platform/frameworks/native/+/jb-mr0-release/libs/utils/String8.cpp\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/native/+/&hellip;</a>"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396380643,"post_id":22794924,"comment_id":34758815,"body_markdown":"Uh, OK, doesn&#39;t tell much; in the meanwhile [this](http://fgaliegue.blogspot.fr/2014/03/strings-characters-bytes-and-character.html) may help you for understanding the Java side of things","body":"Uh, OK, doesn&#39;t tell much; in the meanwhile <a href=\"http://fgaliegue.blogspot.fr/2014/03/strings-characters-bytes-and-character.html\" rel=\"nofollow noreferrer\">this</a> may help you for understanding the Java side of things"}],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396384767,"creation_date":1396384767,"answer_id":22796407,"question_id":22794924,"body_markdown":"As far as I can tell:\r\n\r\n     Property                    java.lang.String    android::String8\r\n     ================================================================\r\n     language                    Java                C++\r\n     Unicode                     yes                 yes\r\n     char width                  16                  8\r\n     encoding                    UTF-16              UTF-8\r\n     mutability                  immutable           mutable\r\n     bunch of file path methods  no                  yes\r\n     attitude to Darwin          indifferent         annoyed (line 47)\r\n\r\nThey are both Unicode string types; the similarities seem to end there.","title":"Difference between a Java String UTF8 and String8?","body":"<p>As far as I can tell:</p>\n\n<pre><code> Property                    java.lang.String    android::String8\n ================================================================\n language                    Java                C++\n Unicode                     yes                 yes\n char width                  16                  8\n encoding                    UTF-16              UTF-8\n mutability                  immutable           mutable\n bunch of file path methods  no                  yes\n attitude to Darwin          indifferent         annoyed (line 47)\n</code></pre>\n\n<p>They are both Unicode string types; the similarities seem to end there.</p>\n"},{"tags":[],"owner":{"account_id":1031405,"reputation":1230,"user_id":1039663,"display_name":"user1039663"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651489751,"creation_date":1651489751,"answer_id":72085823,"question_id":22794924,"body_markdown":"The more important difference is Java String consumes aproximately twice the memory than String8 and other alternatives for the same text.\r\n\r\nAlso Java String is inmutable: so you cannot modify its contents and this have some good... and... some very bad implications (although you have StringBuilder and other alternatives).","title":"Difference between a Java String UTF8 and String8?","body":"<p>The more important difference is Java String consumes aproximately twice the memory than String8 and other alternatives for the same text.</p>\n<p>Also Java String is inmutable: so you cannot modify its contents and this have some good... and... some very bad implications (although you have StringBuilder and other alternatives).</p>\n"}],"owner":{"account_id":2632294,"reputation":11,"user_id":2277936,"display_name":"sader1994"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651489751,"creation_date":1396379797,"question_id":22794924,"body_markdown":"What is  difference between a String8(C++) and a String in Java ?","title":"Difference between a Java String UTF8 and String8?","body":"<p>What is  difference between a String8(C++) and a String in Java ?</p>\n"},{"tags":["java","apache","http"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1651489852,"post_id":45879012,"comment_id":127369054,"body_markdown":"A HTTP client is not a DNS server ...","body":"A HTTP client is not a DNS server ..."},{"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"score":1,"creation_date":1651596979,"post_id":45879012,"comment_id":127399203,"body_markdown":"Linked URL broken (404)","body":"Linked URL broken (404)"},{"owner":{"account_id":163337,"reputation":271,"user_id":385421,"display_name":"mow"},"score":0,"creation_date":1651836426,"post_id":45879012,"comment_id":127464314,"body_markdown":"If you are asking to build a reverse proxy with httpclient component, it seems this is conceptually normal, as an example you may check: https://github.com/mitre/HTTP-Proxy-Servlet and of course you can choose whichever load balancing strategy you wish to implement","body":"If you are asking to build a reverse proxy with httpclient component, it seems this is conceptually normal, as an example you may check: <a href=\"https://github.com/mitre/HTTP-Proxy-Servlet\" rel=\"nofollow noreferrer\">github.com/mitre/HTTP-Proxy-Servlet</a> and of course you can choose whichever load balancing strategy you wish to implement"}],"owner":{"account_id":3535938,"reputation":4697,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1651488645,"creation_date":1503655383,"question_id":45879012,"body_markdown":"Looking the Apache HTTP components [HttpClientBuilder][1] and seeing that it has\r\n\r\n- retry handler\r\n- route planner\r\n- backoff strategy\r\n\r\nI am wondering whether these are intended and feasible to be combined into a **round-robin client-side load balancer with failover**. The [tutorial][2] for the route planner looks like pointing to arbitrary failover addresses is maybe not the intended usage.\r\n\r\nCan someone shed some light on this? Would the load balancer be a supported use case or would I be bending the API too much and breaking it if I tried?\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/HttpClientBuilder.html\r\n  [2]: https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e351","title":"Round robin with failover with Apache http client","body":"<p>Looking the Apache HTTP components <a href=\"https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/HttpClientBuilder.html\" rel=\"nofollow noreferrer\">HttpClientBuilder</a> and seeing that it has</p>\n<ul>\n<li>retry handler</li>\n<li>route planner</li>\n<li>backoff strategy</li>\n</ul>\n<p>I am wondering whether these are intended and feasible to be combined into a <strong>round-robin client-side load balancer with failover</strong>. The <a href=\"https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e351\" rel=\"nofollow noreferrer\">tutorial</a> for the route planner looks like pointing to arbitrary failover addresses is maybe not the intended usage.</p>\n<p>Can someone shed some light on this? Would the load balancer be a supported use case or would I be bending the API too much and breaking it if I tried?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"score":1,"creation_date":1487101083,"post_id":42234666,"comment_id":71628940,"body_markdown":"What do you mean `it uses hex as input`? This method takes a String, `throw new TypeError(&#39;argument must be a string&#39;);` What is the problem you are having? Whay can you not just rewrite this in Java, if that is your usecase, it seems like all you need from here is the offset from 0 to the first unicode character.","body":"What do you mean <code>it uses hex as input</code>? This method takes a String, <code>throw new TypeError(&#39;argument must be a string&#39;);</code> What is the problem you are having? Whay can you not just rewrite this in Java, if that is your usecase, it seems like all you need from here is the offset from 0 to the first unicode character."}],"answers":[{"tags":[],"owner":{"account_id":4350455,"reputation":1980,"user_id":3550988,"accept_rate":75,"display_name":"Carl Poole"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1487103531,"creation_date":1487102815,"answer_id":42235254,"question_id":42234666,"body_markdown":"This code snippet worked for me. Just replace `&quot;US&quot;` with whichever valid country code (based on the Regional Indicator Symbol Let&#173;ters) you like and it will create a String `flag` containing the flag emoji for that country. ([Reference][1])\r\n\r\n    int flagOffset = 0x1F1E6;\r\n    int asciiOffset = 0x41;\r\n\r\n    String country = &quot;US&quot;;\r\n\r\n    int firstChar = Character.codePointAt(country, 0) - asciiOffset + flagOffset;\r\n    int secondChar = Character.codePointAt(country, 1) - asciiOffset + flagOffset;\r\n    \r\n    String flag = new String(Character.toChars(firstChar))\r\n                + new String(Character.toChars(secondChar));\r\n\r\n[This answer helped][2]\r\n\r\n\r\n  [1]: http://emojipedia.org/flags/\r\n  [2]: https://stackoverflow.com/a/35849652/3550988","title":"Get emoji flag by country code","body":"<p>This code snippet worked for me. Just replace <code>\"US\"</code> with whichever valid country code (based on the Regional Indicator Symbol Let­ters) you like and it will create a String <code>flag</code> containing the flag emoji for that country. (<a href=\"http://emojipedia.org/flags/\" rel=\"noreferrer\">Reference</a>)</p>\n\n<pre><code>int flagOffset = 0x1F1E6;\nint asciiOffset = 0x41;\n\nString country = \"US\";\n\nint firstChar = Character.codePointAt(country, 0) - asciiOffset + flagOffset;\nint secondChar = Character.codePointAt(country, 1) - asciiOffset + flagOffset;\n\nString flag = new String(Character.toChars(firstChar))\n            + new String(Character.toChars(secondChar));\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/35849652/3550988\">This answer helped</a></p>\n"},{"tags":[],"owner":{"account_id":2078702,"reputation":303,"user_id":1851317,"accept_rate":86,"display_name":"kaioker2"},"down_vote_count":7,"up_vote_count":14,"is_accepted":false,"score":7,"last_activity_date":1557700780,"creation_date":1557163978,"answer_id":56009882,"question_id":42234666,"body_markdown":"    function getFlags($code){\r\n\t    $code = strtoupper($code);\r\n\t    if($code == &#39;AD&#39;) return &#39;&#127462;&#127465;&#39;;\r\n\t    if($code == &#39;AE&#39;) return &#39;&#127462;&#127466;&#39;;\r\n\t    if($code == &#39;AF&#39;) return &#39;&#127462;&#127467;&#39;;\r\n\t    if($code == &#39;AG&#39;) return &#39;&#127462;&#127468;&#39;;\r\n\t    if($code == &#39;AI&#39;) return &#39;&#127462;&#127470;&#39;;\r\n\t    if($code == &#39;AL&#39;) return &#39;&#127462;&#127473;&#39;;\r\n\t    if($code == &#39;AM&#39;) return &#39;&#127462;&#127474;&#39;;\r\n\t    if($code == &#39;AO&#39;) return &#39;&#127462;&#127476;&#39;;\r\n\t    if($code == &#39;AQ&#39;) return &#39;&#127462;&#127478;&#39;;\r\n\t    if($code == &#39;AR&#39;) return &#39;&#127462;&#127479;&#39;;\r\n\t    if($code == &#39;AS&#39;) return &#39;&#127462;&#127480;&#39;;\r\n\t    if($code == &#39;AT&#39;) return &#39;&#127462;&#127481;&#39;;\r\n\t    if($code == &#39;AU&#39;) return &#39;&#127462;&#127482;&#39;;\r\n\t    if($code == &#39;AW&#39;) return &#39;&#127462;&#127484;&#39;;\r\n\t    if($code == &#39;AX&#39;) return &#39;&#127462;&#127485;&#39;;\r\n\t    if($code == &#39;AZ&#39;) return &#39;&#127462;&#127487;&#39;;\r\n\t    if($code == &#39;BA&#39;) return &#39;&#127463;&#127462;&#39;;\r\n\t    if($code == &#39;BB&#39;) return &#39;&#127463;&#127463;&#39;;\r\n\t    if($code == &#39;BD&#39;) return &#39;&#127463;&#127465;&#39;;\r\n\t    if($code == &#39;BE&#39;) return &#39;&#127463;&#127466;&#39;;\r\n\t    if($code == &#39;BF&#39;) return &#39;&#127463;&#127467;&#39;;\r\n\t    if($code == &#39;BG&#39;) return &#39;&#127463;&#127468;&#39;;\r\n\t    if($code == &#39;BH&#39;) return &#39;&#127463;&#127469;&#39;;\r\n\t    if($code == &#39;BI&#39;) return &#39;&#127463;&#127470;&#39;;\r\n\t    if($code == &#39;BJ&#39;) return &#39;&#127463;&#127471;&#39;;\r\n\t    if($code == &#39;BL&#39;) return &#39;&#127463;&#127473;&#39;;\r\n\t    if($code == &#39;BM&#39;) return &#39;&#127463;&#127474;&#39;;\r\n\t    if($code == &#39;BN&#39;) return &#39;&#127463;&#127475;&#39;;\r\n\t    if($code == &#39;BO&#39;) return &#39;&#127463;&#127476;&#39;;\r\n\t    if($code == &#39;BQ&#39;) return &#39;&#127463;&#127478;&#39;;\r\n\t    if($code == &#39;BR&#39;) return &#39;&#127463;&#127479;&#39;;\r\n\t    if($code == &#39;BS&#39;) return &#39;&#127463;&#127480;&#39;;\r\n\t    if($code == &#39;BT&#39;) return &#39;&#127463;&#127481;&#39;;\r\n\t    if($code == &#39;BV&#39;) return &#39;&#127463;&#127483;&#39;;\r\n\t    if($code == &#39;BW&#39;) return &#39;&#127463;&#127484;&#39;;\r\n\t    if($code == &#39;BY&#39;) return &#39;&#127463;&#127486;&#39;;\r\n\t    if($code == &#39;BZ&#39;) return &#39;&#127463;&#127487;&#39;;\r\n\t    if($code == &#39;CA&#39;) return &#39;&#127464;&#127462;&#39;;\r\n\t    if($code == &#39;CC&#39;) return &#39;&#127464;&#127464;&#39;;\r\n\t    if($code == &#39;CD&#39;) return &#39;&#127464;&#127465;&#39;;\r\n\t    if($code == &#39;CF&#39;) return &#39;&#127464;&#127467;&#39;;\r\n\t    if($code == &#39;CG&#39;) return &#39;&#127464;&#127468;&#39;;\r\n\t    if($code == &#39;CH&#39;) return &#39;&#127464;&#127469;&#39;;\r\n\t    if($code == &#39;CI&#39;) return &#39;&#127464;&#127470;&#39;;\r\n\t    if($code == &#39;CK&#39;) return &#39;&#127464;&#127472;&#39;;\r\n\t    if($code == &#39;CL&#39;) return &#39;&#127464;&#127473;&#39;;\r\n\t    if($code == &#39;CM&#39;) return &#39;&#127464;&#127474;&#39;;\r\n\t    if($code == &#39;CN&#39;) return &#39;&#127464;&#127475;&#39;;\r\n\t    if($code == &#39;CO&#39;) return &#39;&#127464;&#127476;&#39;;\r\n\t    if($code == &#39;CR&#39;) return &#39;&#127464;&#127479;&#39;;\r\n\t    if($code == &#39;CU&#39;) return &#39;&#127464;&#127482;&#39;;\r\n\t    if($code == &#39;CV&#39;) return &#39;&#127464;&#127483;&#39;;\r\n\t    if($code == &#39;CW&#39;) return &#39;&#127464;&#127484;&#39;;\r\n\t    if($code == &#39;CX&#39;) return &#39;&#127464;&#127485;&#39;;\r\n\t    if($code == &#39;CY&#39;) return &#39;&#127464;&#127486;&#39;;\r\n\t    if($code == &#39;CZ&#39;) return &#39;&#127464;&#127487;&#39;;\r\n\t    if($code == &#39;DE&#39;) return &#39;&#127465;&#127466;&#39;;\r\n\t    if($code == &#39;DJ&#39;) return &#39;&#127465;&#127471;&#39;;\r\n\t    if($code == &#39;DK&#39;) return &#39;&#127465;&#127472;&#39;;\r\n\t    if($code == &#39;DM&#39;) return &#39;&#127465;&#127474;&#39;;\r\n\t    if($code == &#39;DO&#39;) return &#39;&#127465;&#127476;&#39;;\r\n\t    if($code == &#39;DZ&#39;) return &#39;&#127465;&#127487;&#39;;\r\n\t    if($code == &#39;EC&#39;) return &#39;&#127466;&#127464;&#39;;\r\n\t    if($code == &#39;EE&#39;) return &#39;&#127466;&#127466;&#39;;\r\n\t    if($code == &#39;EG&#39;) return &#39;&#127466;&#127468;&#39;;\r\n\t    if($code == &#39;EH&#39;) return &#39;&#127466;&#127469;&#39;;\r\n\t    if($code == &#39;ER&#39;) return &#39;&#127466;&#127479;&#39;;\r\n\t    if($code == &#39;ES&#39;) return &#39;&#127466;&#127480;&#39;;\r\n\t    if($code == &#39;ET&#39;) return &#39;&#127466;&#127481;&#39;;\r\n\t    if($code == &#39;FI&#39;) return &#39;&#127467;&#127470;&#39;;\r\n\t    if($code == &#39;FJ&#39;) return &#39;&#127467;&#127471;&#39;;\r\n\t    if($code == &#39;FK&#39;) return &#39;&#127467;&#127472;&#39;;\r\n\t    if($code == &#39;FM&#39;) return &#39;&#127467;&#127474;&#39;;\r\n\t    if($code == &#39;FO&#39;) return &#39;&#127467;&#127476;&#39;;\r\n\t    if($code == &#39;FR&#39;) return &#39;&#127467;&#127479;&#39;;\r\n\t    if($code == &#39;GA&#39;) return &#39;&#127468;&#127462;&#39;;\r\n\t    if($code == &#39;GB&#39;) return &#39;&#127468;&#127463;&#39;;\r\n\t    if($code == &#39;GD&#39;) return &#39;&#127468;&#127465;&#39;;\r\n\t    if($code == &#39;GE&#39;) return &#39;&#127468;&#127466;&#39;;\r\n\t    if($code == &#39;GF&#39;) return &#39;&#127468;&#127467;&#39;;\r\n\t    if($code == &#39;GG&#39;) return &#39;&#127468;&#127468;&#39;;\r\n\t    if($code == &#39;GH&#39;) return &#39;&#127468;&#127469;&#39;;\r\n\t    if($code == &#39;GI&#39;) return &#39;&#127468;&#127470;&#39;;\r\n\t    if($code == &#39;GL&#39;) return &#39;&#127468;&#127473;&#39;;\r\n\t    if($code == &#39;GM&#39;) return &#39;&#127468;&#127474;&#39;;\r\n\t    if($code == &#39;GN&#39;) return &#39;&#127468;&#127475;&#39;;\r\n\t    if($code == &#39;GP&#39;) return &#39;&#127468;&#127477;&#39;;\r\n\t    if($code == &#39;GQ&#39;) return &#39;&#127468;&#127478;&#39;;\r\n\t    if($code == &#39;GR&#39;) return &#39;&#127468;&#127479;&#39;;\r\n\t    if($code == &#39;GS&#39;) return &#39;&#127468;&#127480;&#39;;\r\n\t    if($code == &#39;GT&#39;) return &#39;&#127468;&#127481;&#39;;\r\n\t    if($code == &#39;GU&#39;) return &#39;&#127468;&#127482;&#39;;\r\n\t    if($code == &#39;GW&#39;) return &#39;&#127468;&#127484;&#39;;\r\n\t    if($code == &#39;GY&#39;) return &#39;&#127468;&#127486;&#39;;\r\n\t    if($code == &#39;HK&#39;) return &#39;&#127469;&#127472;&#39;;\r\n\t    if($code == &#39;HM&#39;) return &#39;&#127469;&#127474;&#39;;\r\n\t    if($code == &#39;HN&#39;) return &#39;&#127469;&#127475;&#39;;\r\n\t    if($code == &#39;HR&#39;) return &#39;&#127469;&#127479;&#39;;\r\n\t    if($code == &#39;HT&#39;) return &#39;&#127469;&#127481;&#39;;\r\n\t    if($code == &#39;HU&#39;) return &#39;&#127469;&#127482;&#39;;\r\n\t    if($code == &#39;ID&#39;) return &#39;&#127470;&#127465;&#39;;\r\n\t    if($code == &#39;IE&#39;) return &#39;&#127470;&#127466;&#39;;\r\n\t    if($code == &#39;IL&#39;) return &#39;&#127470;&#127473;&#39;;\r\n\t    if($code == &#39;IM&#39;) return &#39;&#127470;&#127474;&#39;;\r\n\t    if($code == &#39;IN&#39;) return &#39;&#127470;&#127475;&#39;;\r\n\t    if($code == &#39;IO&#39;) return &#39;&#127470;&#127476;&#39;;\r\n\t    if($code == &#39;IQ&#39;) return &#39;&#127470;&#127478;&#39;;\r\n\t    if($code == &#39;IR&#39;) return &#39;&#127470;&#127479;&#39;;\r\n\t    if($code == &#39;IS&#39;) return &#39;&#127470;&#127480;&#39;;\r\n\t    if($code == &#39;IT&#39;) return &#39;&#127470;&#127481;&#39;;\r\n\t    if($code == &#39;JE&#39;) return &#39;&#127471;&#127466;&#39;;\r\n\t    if($code == &#39;JM&#39;) return &#39;&#127471;&#127474;&#39;;\r\n\t    if($code == &#39;JO&#39;) return &#39;&#127471;&#127476;&#39;;\r\n\t    if($code == &#39;JP&#39;) return &#39;&#127471;&#127477;&#39;;\r\n\t    if($code == &#39;KE&#39;) return &#39;&#127472;&#127466;&#39;;\r\n\t    if($code == &#39;KG&#39;) return &#39;&#127472;&#127468;&#39;;\r\n\t    if($code == &#39;KH&#39;) return &#39;&#127472;&#127469;&#39;;\r\n\t    if($code == &#39;KI&#39;) return &#39;&#127472;&#127470;&#39;;\r\n\t    if($code == &#39;KM&#39;) return &#39;&#127472;&#127474;&#39;;\r\n\t    if($code == &#39;KN&#39;) return &#39;&#127472;&#127475;&#39;;\r\n\t    if($code == &#39;KP&#39;) return &#39;&#127472;&#127477;&#39;;\r\n\t    if($code == &#39;KR&#39;) return &#39;&#127472;&#127479;&#39;;\r\n\t    if($code == &#39;KW&#39;) return &#39;&#127472;&#127484;&#39;;\r\n\t    if($code == &#39;KY&#39;) return &#39;&#127472;&#127486;&#39;;\r\n\t    if($code == &#39;KZ&#39;) return &#39;&#127472;&#127487;&#39;;\r\n\t    if($code == &#39;LA&#39;) return &#39;&#127473;&#127462;&#39;;\r\n\t    if($code == &#39;LB&#39;) return &#39;&#127473;&#127463;&#39;;\r\n\t    if($code == &#39;LC&#39;) return &#39;&#127473;&#127464;&#39;;\r\n\t    if($code == &#39;LI&#39;) return &#39;&#127473;&#127470;&#39;;\r\n\t    if($code == &#39;LK&#39;) return &#39;&#127473;&#127472;&#39;;\r\n\t    if($code == &#39;LR&#39;) return &#39;&#127473;&#127479;&#39;;\r\n\t    if($code == &#39;LS&#39;) return &#39;&#127473;&#127480;&#39;;\r\n\t    if($code == &#39;LT&#39;) return &#39;&#127473;&#127481;&#39;;\r\n\t    if($code == &#39;LU&#39;) return &#39;&#127473;&#127482;&#39;;\r\n\t    if($code == &#39;LV&#39;) return &#39;&#127473;&#127483;&#39;;\r\n\t    if($code == &#39;LY&#39;) return &#39;&#127473;&#127486;&#39;;\r\n\t    if($code == &#39;MA&#39;) return &#39;&#127474;&#127462;&#39;;\r\n\t    if($code == &#39;MC&#39;) return &#39;&#127474;&#127464;&#39;;\r\n\t    if($code == &#39;MD&#39;) return &#39;&#127474;&#127465;&#39;;\r\n\t    if($code == &#39;ME&#39;) return &#39;&#127474;&#127466;&#39;;\r\n\t    if($code == &#39;MF&#39;) return &#39;&#127474;&#127467;&#39;;\r\n\t    if($code == &#39;MG&#39;) return &#39;&#127474;&#127468;&#39;;\r\n\t    if($code == &#39;MH&#39;) return &#39;&#127474;&#127469;&#39;;\r\n\t    if($code == &#39;MK&#39;) return &#39;&#127474;&#127472;&#39;;\r\n\t    if($code == &#39;ML&#39;) return &#39;&#127474;&#127473;&#39;;\r\n\t    if($code == &#39;MM&#39;) return &#39;&#127474;&#127474;&#39;;\r\n\t    if($code == &#39;MN&#39;) return &#39;&#127474;&#127475;&#39;;\r\n\t    if($code == &#39;MO&#39;) return &#39;&#127474;&#127476;&#39;;\r\n\t    if($code == &#39;MP&#39;) return &#39;&#127474;&#127477;&#39;;\r\n\t    if($code == &#39;MQ&#39;) return &#39;&#127474;&#127478;&#39;;\r\n\t    if($code == &#39;MR&#39;) return &#39;&#127474;&#127479;&#39;;\r\n\t    if($code == &#39;MS&#39;) return &#39;&#127474;&#127480;&#39;;\r\n\t    if($code == &#39;MT&#39;) return &#39;&#127474;&#127481;&#39;;\r\n\t    if($code == &#39;MU&#39;) return &#39;&#127474;&#127482;&#39;;\r\n\t    if($code == &#39;MV&#39;) return &#39;&#127474;&#127483;&#39;;\r\n\t    if($code == &#39;MW&#39;) return &#39;&#127474;&#127484;&#39;;\r\n\t    if($code == &#39;MX&#39;) return &#39;&#127474;&#127485;&#39;;\r\n\t    if($code == &#39;MY&#39;) return &#39;&#127474;&#127486;&#39;;\r\n\t    if($code == &#39;MZ&#39;) return &#39;&#127474;&#127487;&#39;;\r\n\t    if($code == &#39;NA&#39;) return &#39;&#127475;&#127462;&#39;;\r\n\t    if($code == &#39;NC&#39;) return &#39;&#127475;&#127464;&#39;;\r\n\t    if($code == &#39;NE&#39;) return &#39;&#127475;&#127466;&#39;;\r\n\t    if($code == &#39;NF&#39;) return &#39;&#127475;&#127467;&#39;;\r\n\t    if($code == &#39;NG&#39;) return &#39;&#127475;&#127468;&#39;;\r\n\t    if($code == &#39;NI&#39;) return &#39;&#127475;&#127470;&#39;;\r\n\t    if($code == &#39;NL&#39;) return &#39;&#127475;&#127473;&#39;;\r\n\t    if($code == &#39;NO&#39;) return &#39;&#127475;&#127476;&#39;;\r\n\t    if($code == &#39;NP&#39;) return &#39;&#127475;&#127477;&#39;;\r\n\t    if($code == &#39;NR&#39;) return &#39;&#127475;&#127479;&#39;;\r\n\t    if($code == &#39;NU&#39;) return &#39;&#127475;&#127482;&#39;;\r\n\t    if($code == &#39;NZ&#39;) return &#39;&#127475;&#127487;&#39;;\r\n\t    if($code == &#39;OM&#39;) return &#39;&#127476;&#127474;&#39;;\r\n\t    if($code == &#39;PA&#39;) return &#39;&#127477;&#127462;&#39;;\r\n\t    if($code == &#39;PE&#39;) return &#39;&#127477;&#127466;&#39;;\r\n\t    if($code == &#39;PF&#39;) return &#39;&#127477;&#127467;&#39;;\r\n\t    if($code == &#39;PG&#39;) return &#39;&#127477;&#127468;&#39;;\r\n\t    if($code == &#39;PH&#39;) return &#39;&#127477;&#127469;&#39;;\r\n\t    if($code == &#39;PK&#39;) return &#39;&#127477;&#127472;&#39;;\r\n\t    if($code == &#39;PL&#39;) return &#39;&#127477;&#127473;&#39;;\r\n\t    if($code == &#39;PM&#39;) return &#39;&#127477;&#127474;&#39;;\r\n\t    if($code == &#39;PN&#39;) return &#39;&#127477;&#127475;&#39;;\r\n\t    if($code == &#39;PR&#39;) return &#39;&#127477;&#127479;&#39;;\r\n\t    if($code == &#39;PS&#39;) return &#39;&#127477;&#127480;&#39;;\r\n\t    if($code == &#39;PT&#39;) return &#39;&#127477;&#127481;&#39;;\r\n\t    if($code == &#39;PW&#39;) return &#39;&#127477;&#127484;&#39;;\r\n\t    if($code == &#39;PY&#39;) return &#39;&#127477;&#127486;&#39;;\r\n\t    if($code == &#39;QA&#39;) return &#39;&#127478;&#127462;&#39;;\r\n\t    if($code == &#39;RE&#39;) return &#39;&#127479;&#127466;&#39;;\r\n\t    if($code == &#39;RO&#39;) return &#39;&#127479;&#127476;&#39;;\r\n\t    if($code == &#39;RS&#39;) return &#39;&#127479;&#127480;&#39;;\r\n\t    if($code == &#39;RU&#39;) return &#39;&#127479;&#127482;&#39;;\r\n\t    if($code == &#39;RW&#39;) return &#39;&#127479;&#127484;&#39;;\r\n\t    if($code == &#39;SA&#39;) return &#39;&#127480;&#127462;&#39;;\r\n\t    if($code == &#39;SB&#39;) return &#39;&#127480;&#127463;&#39;;\r\n\t    if($code == &#39;SC&#39;) return &#39;&#127480;&#127464;&#39;;\r\n\t    if($code == &#39;SD&#39;) return &#39;&#127480;&#127465;&#39;;\r\n\t    if($code == &#39;SE&#39;) return &#39;&#127480;&#127466;&#39;;\r\n\t    if($code == &#39;SG&#39;) return &#39;&#127480;&#127468;&#39;;\r\n\t    if($code == &#39;SH&#39;) return &#39;&#127480;&#127469;&#39;;\r\n\t    if($code == &#39;SI&#39;) return &#39;&#127480;&#127470;&#39;;\r\n\t    if($code == &#39;SJ&#39;) return &#39;&#127480;&#127471;&#39;;\r\n\t    if($code == &#39;SK&#39;) return &#39;&#127480;&#127472;&#39;;\r\n\t    if($code == &#39;SL&#39;) return &#39;&#127480;&#127473;&#39;;\r\n\t    if($code == &#39;SM&#39;) return &#39;&#127480;&#127474;&#39;;\r\n\t    if($code == &#39;SN&#39;) return &#39;&#127480;&#127475;&#39;;\r\n\t    if($code == &#39;SO&#39;) return &#39;&#127480;&#127476;&#39;;\r\n\t    if($code == &#39;SR&#39;) return &#39;&#127480;&#127479;&#39;;\r\n\t    if($code == &#39;SS&#39;) return &#39;&#127480;&#127480;&#39;;\r\n\t    if($code == &#39;ST&#39;) return &#39;&#127480;&#127481;&#39;;\r\n\t    if($code == &#39;SV&#39;) return &#39;&#127480;&#127483;&#39;;\r\n\t    if($code == &#39;SX&#39;) return &#39;&#127480;&#127485;&#39;;\r\n\t    if($code == &#39;SY&#39;) return &#39;&#127480;&#127486;&#39;;\r\n\t    if($code == &#39;SZ&#39;) return &#39;&#127480;&#127487;&#39;;\r\n\t    if($code == &#39;TC&#39;) return &#39;&#127481;&#127464;&#39;;\r\n\t    if($code == &#39;TD&#39;) return &#39;&#127481;&#127465;&#39;;\r\n\t    if($code == &#39;TF&#39;) return &#39;&#127481;&#127467;&#39;;\r\n\t    if($code == &#39;TG&#39;) return &#39;&#127481;&#127468;&#39;;\r\n\t    if($code == &#39;TH&#39;) return &#39;&#127481;&#127469;&#39;;\r\n\t    if($code == &#39;TJ&#39;) return &#39;&#127481;&#127471;&#39;;\r\n\t    if($code == &#39;TK&#39;) return &#39;&#127481;&#127472;&#39;;\r\n\t    if($code == &#39;TL&#39;) return &#39;&#127481;&#127473;&#39;;\r\n\t    if($code == &#39;TM&#39;) return &#39;&#127481;&#127474;&#39;;\r\n\t    if($code == &#39;TN&#39;) return &#39;&#127481;&#127475;&#39;;\r\n\t    if($code == &#39;TO&#39;) return &#39;&#127481;&#127476;&#39;;\r\n\t    if($code == &#39;TR&#39;) return &#39;&#127481;&#127479;&#39;;\r\n\t    if($code == &#39;TT&#39;) return &#39;&#127481;&#127481;&#39;;\r\n\t    if($code == &#39;TV&#39;) return &#39;&#127481;&#127483;&#39;;\r\n\t    if($code == &#39;TW&#39;) return &#39;&#127481;&#127484;&#39;;\r\n\t    if($code == &#39;TZ&#39;) return &#39;&#127481;&#127487;&#39;;\r\n\t    if($code == &#39;UA&#39;) return &#39;&#127482;&#127462;&#39;;\r\n\t    if($code == &#39;UG&#39;) return &#39;&#127482;&#127468;&#39;;\r\n\t    if($code == &#39;UM&#39;) return &#39;&#127482;&#127474;&#39;;\r\n\t    if($code == &#39;US&#39;) return &#39;&#127482;&#127480;&#39;;\r\n\t    if($code == &#39;UY&#39;) return &#39;&#127482;&#127486;&#39;;\r\n\t    if($code == &#39;UZ&#39;) return &#39;&#127482;&#127487;&#39;;\r\n\t    if($code == &#39;VA&#39;) return &#39;&#127483;&#127462;&#39;;\r\n\t    if($code == &#39;VC&#39;) return &#39;&#127483;&#127464;&#39;;\r\n\t    if($code == &#39;VE&#39;) return &#39;&#127483;&#127466;&#39;;\r\n\t    if($code == &#39;VG&#39;) return &#39;&#127483;&#127468;&#39;;\r\n\t    if($code == &#39;VI&#39;) return &#39;&#127483;&#127470;&#39;;\r\n\t    if($code == &#39;VN&#39;) return &#39;&#127483;&#127475;&#39;;\r\n\t    if($code == &#39;VU&#39;) return &#39;&#127483;&#127482;&#39;;\r\n\t    if($code == &#39;WF&#39;) return &#39;&#127484;&#127467;&#39;;\r\n\t    if($code == &#39;WS&#39;) return &#39;&#127484;&#127480;&#39;;\r\n        if($code == &#39;XK&#39;) return &#39;&#127485;&#127472;&#39;;\r\n\t    if($code == &#39;YE&#39;) return &#39;&#127486;&#127466;&#39;;\r\n\t    if($code == &#39;YT&#39;) return &#39;&#127486;&#127481;&#39;;\r\n\t    if($code == &#39;ZA&#39;) return &#39;&#127487;&#127462;&#39;;\r\n\t    if($code == &#39;ZM&#39;) return &#39;&#127487;&#127474;&#39;;\r\n\t    return &#39;&#127987;&#39;;\r\n    }","title":"Get emoji flag by country code","body":"<pre><code>function getFlags($code){\n    $code = strtoupper($code);\n    if($code == 'AD') return '🇦🇩';\n    if($code == 'AE') return '🇦🇪';\n    if($code == 'AF') return '🇦🇫';\n    if($code == 'AG') return '🇦🇬';\n    if($code == 'AI') return '🇦🇮';\n    if($code == 'AL') return '🇦🇱';\n    if($code == 'AM') return '🇦🇲';\n    if($code == 'AO') return '🇦🇴';\n    if($code == 'AQ') return '🇦🇶';\n    if($code == 'AR') return '🇦🇷';\n    if($code == 'AS') return '🇦🇸';\n    if($code == 'AT') return '🇦🇹';\n    if($code == 'AU') return '🇦🇺';\n    if($code == 'AW') return '🇦🇼';\n    if($code == 'AX') return '🇦🇽';\n    if($code == 'AZ') return '🇦🇿';\n    if($code == 'BA') return '🇧🇦';\n    if($code == 'BB') return '🇧🇧';\n    if($code == 'BD') return '🇧🇩';\n    if($code == 'BE') return '🇧🇪';\n    if($code == 'BF') return '🇧🇫';\n    if($code == 'BG') return '🇧🇬';\n    if($code == 'BH') return '🇧🇭';\n    if($code == 'BI') return '🇧🇮';\n    if($code == 'BJ') return '🇧🇯';\n    if($code == 'BL') return '🇧🇱';\n    if($code == 'BM') return '🇧🇲';\n    if($code == 'BN') return '🇧🇳';\n    if($code == 'BO') return '🇧🇴';\n    if($code == 'BQ') return '🇧🇶';\n    if($code == 'BR') return '🇧🇷';\n    if($code == 'BS') return '🇧🇸';\n    if($code == 'BT') return '🇧🇹';\n    if($code == 'BV') return '🇧🇻';\n    if($code == 'BW') return '🇧🇼';\n    if($code == 'BY') return '🇧🇾';\n    if($code == 'BZ') return '🇧🇿';\n    if($code == 'CA') return '🇨🇦';\n    if($code == 'CC') return '🇨🇨';\n    if($code == 'CD') return '🇨🇩';\n    if($code == 'CF') return '🇨🇫';\n    if($code == 'CG') return '🇨🇬';\n    if($code == 'CH') return '🇨🇭';\n    if($code == 'CI') return '🇨🇮';\n    if($code == 'CK') return '🇨🇰';\n    if($code == 'CL') return '🇨🇱';\n    if($code == 'CM') return '🇨🇲';\n    if($code == 'CN') return '🇨🇳';\n    if($code == 'CO') return '🇨🇴';\n    if($code == 'CR') return '🇨🇷';\n    if($code == 'CU') return '🇨🇺';\n    if($code == 'CV') return '🇨🇻';\n    if($code == 'CW') return '🇨🇼';\n    if($code == 'CX') return '🇨🇽';\n    if($code == 'CY') return '🇨🇾';\n    if($code == 'CZ') return '🇨🇿';\n    if($code == 'DE') return '🇩🇪';\n    if($code == 'DJ') return '🇩🇯';\n    if($code == 'DK') return '🇩🇰';\n    if($code == 'DM') return '🇩🇲';\n    if($code == 'DO') return '🇩🇴';\n    if($code == 'DZ') return '🇩🇿';\n    if($code == 'EC') return '🇪🇨';\n    if($code == 'EE') return '🇪🇪';\n    if($code == 'EG') return '🇪🇬';\n    if($code == 'EH') return '🇪🇭';\n    if($code == 'ER') return '🇪🇷';\n    if($code == 'ES') return '🇪🇸';\n    if($code == 'ET') return '🇪🇹';\n    if($code == 'FI') return '🇫🇮';\n    if($code == 'FJ') return '🇫🇯';\n    if($code == 'FK') return '🇫🇰';\n    if($code == 'FM') return '🇫🇲';\n    if($code == 'FO') return '🇫🇴';\n    if($code == 'FR') return '🇫🇷';\n    if($code == 'GA') return '🇬🇦';\n    if($code == 'GB') return '🇬🇧';\n    if($code == 'GD') return '🇬🇩';\n    if($code == 'GE') return '🇬🇪';\n    if($code == 'GF') return '🇬🇫';\n    if($code == 'GG') return '🇬🇬';\n    if($code == 'GH') return '🇬🇭';\n    if($code == 'GI') return '🇬🇮';\n    if($code == 'GL') return '🇬🇱';\n    if($code == 'GM') return '🇬🇲';\n    if($code == 'GN') return '🇬🇳';\n    if($code == 'GP') return '🇬🇵';\n    if($code == 'GQ') return '🇬🇶';\n    if($code == 'GR') return '🇬🇷';\n    if($code == 'GS') return '🇬🇸';\n    if($code == 'GT') return '🇬🇹';\n    if($code == 'GU') return '🇬🇺';\n    if($code == 'GW') return '🇬🇼';\n    if($code == 'GY') return '🇬🇾';\n    if($code == 'HK') return '🇭🇰';\n    if($code == 'HM') return '🇭🇲';\n    if($code == 'HN') return '🇭🇳';\n    if($code == 'HR') return '🇭🇷';\n    if($code == 'HT') return '🇭🇹';\n    if($code == 'HU') return '🇭🇺';\n    if($code == 'ID') return '🇮🇩';\n    if($code == 'IE') return '🇮🇪';\n    if($code == 'IL') return '🇮🇱';\n    if($code == 'IM') return '🇮🇲';\n    if($code == 'IN') return '🇮🇳';\n    if($code == 'IO') return '🇮🇴';\n    if($code == 'IQ') return '🇮🇶';\n    if($code == 'IR') return '🇮🇷';\n    if($code == 'IS') return '🇮🇸';\n    if($code == 'IT') return '🇮🇹';\n    if($code == 'JE') return '🇯🇪';\n    if($code == 'JM') return '🇯🇲';\n    if($code == 'JO') return '🇯🇴';\n    if($code == 'JP') return '🇯🇵';\n    if($code == 'KE') return '🇰🇪';\n    if($code == 'KG') return '🇰🇬';\n    if($code == 'KH') return '🇰🇭';\n    if($code == 'KI') return '🇰🇮';\n    if($code == 'KM') return '🇰🇲';\n    if($code == 'KN') return '🇰🇳';\n    if($code == 'KP') return '🇰🇵';\n    if($code == 'KR') return '🇰🇷';\n    if($code == 'KW') return '🇰🇼';\n    if($code == 'KY') return '🇰🇾';\n    if($code == 'KZ') return '🇰🇿';\n    if($code == 'LA') return '🇱🇦';\n    if($code == 'LB') return '🇱🇧';\n    if($code == 'LC') return '🇱🇨';\n    if($code == 'LI') return '🇱🇮';\n    if($code == 'LK') return '🇱🇰';\n    if($code == 'LR') return '🇱🇷';\n    if($code == 'LS') return '🇱🇸';\n    if($code == 'LT') return '🇱🇹';\n    if($code == 'LU') return '🇱🇺';\n    if($code == 'LV') return '🇱🇻';\n    if($code == 'LY') return '🇱🇾';\n    if($code == 'MA') return '🇲🇦';\n    if($code == 'MC') return '🇲🇨';\n    if($code == 'MD') return '🇲🇩';\n    if($code == 'ME') return '🇲🇪';\n    if($code == 'MF') return '🇲🇫';\n    if($code == 'MG') return '🇲🇬';\n    if($code == 'MH') return '🇲🇭';\n    if($code == 'MK') return '🇲🇰';\n    if($code == 'ML') return '🇲🇱';\n    if($code == 'MM') return '🇲🇲';\n    if($code == 'MN') return '🇲🇳';\n    if($code == 'MO') return '🇲🇴';\n    if($code == 'MP') return '🇲🇵';\n    if($code == 'MQ') return '🇲🇶';\n    if($code == 'MR') return '🇲🇷';\n    if($code == 'MS') return '🇲🇸';\n    if($code == 'MT') return '🇲🇹';\n    if($code == 'MU') return '🇲🇺';\n    if($code == 'MV') return '🇲🇻';\n    if($code == 'MW') return '🇲🇼';\n    if($code == 'MX') return '🇲🇽';\n    if($code == 'MY') return '🇲🇾';\n    if($code == 'MZ') return '🇲🇿';\n    if($code == 'NA') return '🇳🇦';\n    if($code == 'NC') return '🇳🇨';\n    if($code == 'NE') return '🇳🇪';\n    if($code == 'NF') return '🇳🇫';\n    if($code == 'NG') return '🇳🇬';\n    if($code == 'NI') return '🇳🇮';\n    if($code == 'NL') return '🇳🇱';\n    if($code == 'NO') return '🇳🇴';\n    if($code == 'NP') return '🇳🇵';\n    if($code == 'NR') return '🇳🇷';\n    if($code == 'NU') return '🇳🇺';\n    if($code == 'NZ') return '🇳🇿';\n    if($code == 'OM') return '🇴🇲';\n    if($code == 'PA') return '🇵🇦';\n    if($code == 'PE') return '🇵🇪';\n    if($code == 'PF') return '🇵🇫';\n    if($code == 'PG') return '🇵🇬';\n    if($code == 'PH') return '🇵🇭';\n    if($code == 'PK') return '🇵🇰';\n    if($code == 'PL') return '🇵🇱';\n    if($code == 'PM') return '🇵🇲';\n    if($code == 'PN') return '🇵🇳';\n    if($code == 'PR') return '🇵🇷';\n    if($code == 'PS') return '🇵🇸';\n    if($code == 'PT') return '🇵🇹';\n    if($code == 'PW') return '🇵🇼';\n    if($code == 'PY') return '🇵🇾';\n    if($code == 'QA') return '🇶🇦';\n    if($code == 'RE') return '🇷🇪';\n    if($code == 'RO') return '🇷🇴';\n    if($code == 'RS') return '🇷🇸';\n    if($code == 'RU') return '🇷🇺';\n    if($code == 'RW') return '🇷🇼';\n    if($code == 'SA') return '🇸🇦';\n    if($code == 'SB') return '🇸🇧';\n    if($code == 'SC') return '🇸🇨';\n    if($code == 'SD') return '🇸🇩';\n    if($code == 'SE') return '🇸🇪';\n    if($code == 'SG') return '🇸🇬';\n    if($code == 'SH') return '🇸🇭';\n    if($code == 'SI') return '🇸🇮';\n    if($code == 'SJ') return '🇸🇯';\n    if($code == 'SK') return '🇸🇰';\n    if($code == 'SL') return '🇸🇱';\n    if($code == 'SM') return '🇸🇲';\n    if($code == 'SN') return '🇸🇳';\n    if($code == 'SO') return '🇸🇴';\n    if($code == 'SR') return '🇸🇷';\n    if($code == 'SS') return '🇸🇸';\n    if($code == 'ST') return '🇸🇹';\n    if($code == 'SV') return '🇸🇻';\n    if($code == 'SX') return '🇸🇽';\n    if($code == 'SY') return '🇸🇾';\n    if($code == 'SZ') return '🇸🇿';\n    if($code == 'TC') return '🇹🇨';\n    if($code == 'TD') return '🇹🇩';\n    if($code == 'TF') return '🇹🇫';\n    if($code == 'TG') return '🇹🇬';\n    if($code == 'TH') return '🇹🇭';\n    if($code == 'TJ') return '🇹🇯';\n    if($code == 'TK') return '🇹🇰';\n    if($code == 'TL') return '🇹🇱';\n    if($code == 'TM') return '🇹🇲';\n    if($code == 'TN') return '🇹🇳';\n    if($code == 'TO') return '🇹🇴';\n    if($code == 'TR') return '🇹🇷';\n    if($code == 'TT') return '🇹🇹';\n    if($code == 'TV') return '🇹🇻';\n    if($code == 'TW') return '🇹🇼';\n    if($code == 'TZ') return '🇹🇿';\n    if($code == 'UA') return '🇺🇦';\n    if($code == 'UG') return '🇺🇬';\n    if($code == 'UM') return '🇺🇲';\n    if($code == 'US') return '🇺🇸';\n    if($code == 'UY') return '🇺🇾';\n    if($code == 'UZ') return '🇺🇿';\n    if($code == 'VA') return '🇻🇦';\n    if($code == 'VC') return '🇻🇨';\n    if($code == 'VE') return '🇻🇪';\n    if($code == 'VG') return '🇻🇬';\n    if($code == 'VI') return '🇻🇮';\n    if($code == 'VN') return '🇻🇳';\n    if($code == 'VU') return '🇻🇺';\n    if($code == 'WF') return '🇼🇫';\n    if($code == 'WS') return '🇼🇸';\n    if($code == 'XK') return '🇽🇰';\n    if($code == 'YE') return '🇾🇪';\n    if($code == 'YT') return '🇾🇹';\n    if($code == 'ZA') return '🇿🇦';\n    if($code == 'ZM') return '🇿🇲';\n    return '🏳';\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1441081,"reputation":2934,"user_id":1361223,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597411595,"creation_date":1597411595,"answer_id":63413689,"question_id":42234666,"body_markdown":"For PHP I always use this one, calculates the character index with hex2bin:\r\n\r\n\r\n````php\r\n\r\nfunction parseCountryCodeToFlag(string $code): string\r\n{\r\n\t$exceptions = [\r\n\t\t&#39;en&#39; =&gt; &#39;gb&#39;,\r\n\t\t&#39;uk&#39; =&gt; &#39;gb&#39;,\r\n\t];\r\n\r\n\t$code = str_replace(array_keys($exceptions), array_values($exceptions), $code);\r\n\r\n\t$emoji = [];\r\n\tforeach(str_split($code) as $c) {\r\n\t\tif(($o = ord($c)) &gt; 64 &amp;&amp; $o % 32 &lt; 27) {\r\n\t\t\t$emoji[] = hex2bin(&quot;f09f87&quot; . dechex($o % 32 + 165));\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t\r\n\t\t$emoji[] = $c;\r\n\t}\r\n\r\n\treturn join($emoji);\r\n}\r\n\r\n````","title":"Get emoji flag by country code","body":"<p>For PHP I always use this one, calculates the character index with hex2bin:</p>\n<pre class=\"lang-php prettyprint-override\"><code>\nfunction parseCountryCodeToFlag(string $code): string\n{\n    $exceptions = [\n        'en' =&gt; 'gb',\n        'uk' =&gt; 'gb',\n    ];\n\n    $code = str_replace(array_keys($exceptions), array_values($exceptions), $code);\n\n    $emoji = [];\n    foreach(str_split($code) as $c) {\n        if(($o = ord($c)) &gt; 64 &amp;&amp; $o % 32 &lt; 27) {\n            $emoji[] = hex2bin(&quot;f09f87&quot; . dechex($o % 32 + 165));\n            continue;\n        }\n        \n        $emoji[] = $c;\n    }\n\n    return join($emoji);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412430,"reputation":1319,"user_id":785496,"accept_rate":40,"display_name":"Jim Jose"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612418463,"creation_date":1612418463,"answer_id":66040116,"question_id":42234666,"body_markdown":"If anyone looking for a Unity/C# version...\r\n\r\n``` \r\npublic string GetCountryFlagEmojiFromCode(string countryCode) {\r\n\r\n    int flagOffset = 0x1F1E6;\r\n    int asciiOffset = 0x41;\r\n\r\n    int firstChar = char.ConvertToUtf32(countryCode, 0) - asciiOffset + flagOffset;\r\n    int secondChar = char.ConvertToUtf32(countryCode, 1) - asciiOffset + flagOffset;\r\n        \r\n    String flag = char.ConvertFromUtf32(firstChar) + char.ConvertFromUtf32(secondChar);\r\n    return flag;\r\n\r\n}\r\n```","title":"Get emoji flag by country code","body":"<p>If anyone looking for a Unity/C# version...</p>\n<pre><code>public string GetCountryFlagEmojiFromCode(string countryCode) {\n\n    int flagOffset = 0x1F1E6;\n    int asciiOffset = 0x41;\n\n    int firstChar = char.ConvertToUtf32(countryCode, 0) - asciiOffset + flagOffset;\n    int secondChar = char.ConvertToUtf32(countryCode, 1) - asciiOffset + flagOffset;\n        \n    String flag = char.ConvertFromUtf32(firstChar) + char.ConvertFromUtf32(secondChar);\n    return flag;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7791723,"reputation":61,"user_id":5894398,"display_name":"Arshad Ali"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651488416,"creation_date":1642408496,"answer_id":70738479,"question_id":42234666,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const input = document.getElementById(&quot;input&quot;);\r\n    const btn = document.getElementById(&quot;btn&quot;);\r\n\r\n    function getFlagEmoji(countryCode) {\r\n      const codePoints = countryCode.toUpperCase().split(&quot;&quot;).map((char) =&gt; 127397 + char.charCodeAt(0));\r\n      return String.fromCodePoint(...codePoints);\r\n    }\r\n\r\n    btn.addEventListener(&quot;click&quot;, e =&gt; {\r\n      e.preventDefault();\r\n      console.log(getFlagEmoji(input.value));\r\n    });\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;input type=&quot;text&quot; id=&quot;input&quot; placeholder=&quot;Country Code&quot; maxlength=&quot;2&quot; /&gt;\r\n    &lt;button id=&quot;btn&quot;&gt;Get Emoji&lt;/button&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Get emoji flag by country code","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = document.getElementById(\"input\");\nconst btn = document.getElementById(\"btn\");\n\nfunction getFlagEmoji(countryCode) {\n  const codePoints = countryCode.toUpperCase().split(\"\").map((char) =&gt; 127397 + char.charCodeAt(0));\n  return String.fromCodePoint(...codePoints);\n}\n\nbtn.addEventListener(\"click\", e =&gt; {\n  e.preventDefault();\n  console.log(getFlagEmoji(input.value));\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"input\" placeholder=\"Country Code\" maxlength=\"2\" /&gt;\n&lt;button id=\"btn\"&gt;Get Emoji&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":5416823,"reputation":1811,"user_id":4311759,"accept_rate":56,"display_name":"Ardi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22455,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":42235254,"answer_count":5,"score":19,"last_activity_date":1651488416,"creation_date":1487100777,"question_id":42234666,"body_markdown":"There is a list of countries codes, I need to attach emoji flag to each one. \r\nIs there a way to extract unicode from it or find emoji for country code?\r\n\r\nThis npm example looks similar for my goal (but uses hexadecimal as input) https://github.com/thekelvinliu/country-code-emoji/blob/master/src/index.js","title":"Get emoji flag by country code","body":"<p>There is a list of countries codes, I need to attach emoji flag to each one. \nIs there a way to extract unicode from it or find emoji for country code?</p>\n\n<p>This npm example looks similar for my goal (but uses hexadecimal as input) <a href=\"https://github.com/thekelvinliu/country-code-emoji/blob/master/src/index.js\" rel=\"noreferrer\">https://github.com/thekelvinliu/country-code-emoji/blob/master/src/index.js</a></p>\n"},{"tags":["java","javax.imageio"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1651045812,"post_id":72024965,"comment_id":127265890,"body_markdown":"Stack trace and code please. The connection between image I/O and [tag:spring-boot] escapes me.","body":"Stack trace and code please. The connection between image I/O and <a href=\"https://stackoverflow.com/questions/tagged/spring-boot\">spring-boot</a> escapes me."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651054671,"post_id":72024965,"comment_id":127269349,"body_markdown":"Also escaping me is the connection between `ImageIO` and compression. Do you really mean compression or do you mean resizing? Attempting to compress an image without really specialized software won&#39;t give you a good ratio","body":"Also escaping me is the connection between <code>ImageIO</code> and compression. Do you really mean compression or do you mean resizing? Attempting to compress an image without really specialized software won&#39;t give you a good ratio"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651055219,"post_id":72024965,"comment_id":127269538,"body_markdown":"@g00se Saving an image as JPEG already applies compression, according to the `q` value chosen. PNG also supports lossless data compression.","body":"@g00se Saving an image as JPEG already applies compression, according to the <code>q</code> value chosen. PNG also supports lossless data compression."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651055713,"post_id":72024965,"comment_id":127269719,"body_markdown":"Yes I know that. My point is that methods available in Java will not produce a significant compression ratio","body":"Yes I know that. My point is that methods available in Java will not produce a significant compression ratio"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1651066403,"post_id":72024965,"comment_id":127273854,"body_markdown":"@g00se Why do you think Java can&#39;t produce significant compression ratio? JDK ImageIO JPEG implementation is based on libjpeg and should produce the same compression ratio.","body":"@g00se Why do you think Java can&#39;t produce significant compression ratio? JDK ImageIO JPEG implementation is based on libjpeg and should produce the same compression ratio."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651072810,"post_id":72024965,"comment_id":127276546,"body_markdown":"I think we&#39;re talking at cross purposes. ANY binary file that can produce a non-lossy high compression ratio is by definition badly designed. That doesn&#39;t tend to happen. I&#39;m just trying to avoid the OP wasting his/her time. You&#39;ve even saiid yourself: *PNG format will be written compressed regardless, as PNG always use zlib/deflate compression.*","body":"I think we&#39;re talking at cross purposes. ANY binary file that can produce a non-lossy high compression ratio is by definition badly designed. That doesn&#39;t tend to happen. I&#39;m just trying to avoid the OP wasting his/her time. You&#39;ve even saiid yourself: <i>PNG format will be written compressed regardless, as PNG always use zlib/deflate compression.</i>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651102396,"post_id":72024965,"comment_id":127285581,"body_markdown":"@g00se JPEG can produce extremely significant compression ratios. I don&#39;t know why you think otherwise, or why you think the OP is wasting his time. You don&#39;t know anything about his images and how well they may compress, and it is futile beyond description for you to claim they, or JPEG, are &#39;badly designed&#39;.","body":"@g00se JPEG can produce extremely significant compression ratios. I don&#39;t know why you think otherwise, or why you think the OP is wasting his time. You don&#39;t know anything about his images and how well they may compress, and it is futile beyond description for you to claim they, or JPEG, are &#39;badly designed&#39;."}],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651066178,"creation_date":1651065245,"answer_id":72029430,"question_id":72024965,"body_markdown":"As seen from the stack trace, the problem is `param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT)`. This is perhaps counter-intuitive based on the fact that PNG does indeed support compression, so I fully understand the confusion. However, the API is what it is...\r\n\r\nChange:\r\n\r\n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n    param.setCompressionQuality(0.5f);\r\n\r\nTo:\r\n\r\n    if (param.canWriteCompressed()) {\r\n        param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n        param.setCompressionQuality(0.5f);\r\n    }\r\n\r\nPNG format will be written compressed regardless, as PNG always use zlib/deflate compression. \r\n\r\nPS: In more recent versions of the JDK, the `PNGImageWriteParam` supports specifying the compression level ([from JDK 9](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6488522), [backport exists for JDK 7 and 8](https://github.com/gredler/jdk9-png-writer-backport)). The above code will work anyway, but it will affect the compression ratio (lower numbers means less quality/more compression). You might want to handle compressions for different formats more explicitly.","title":"How to compress jpg and png images in java?","body":"<p>As seen from the stack trace, the problem is <code>param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT)</code>. This is perhaps counter-intuitive based on the fact that PNG does indeed support compression, so I fully understand the confusion. However, the API is what it is...</p>\n<p>Change:</p>\n<pre><code>param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\nparam.setCompressionQuality(0.5f);\n</code></pre>\n<p>To:</p>\n<pre><code>if (param.canWriteCompressed()) {\n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n    param.setCompressionQuality(0.5f);\n}\n</code></pre>\n<p>PNG format will be written compressed regardless, as PNG always use zlib/deflate compression.</p>\n<p>PS: In more recent versions of the JDK, the <code>PNGImageWriteParam</code> supports specifying the compression level (<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6488522\" rel=\"nofollow noreferrer\">from JDK 9</a>, <a href=\"https://github.com/gredler/jdk9-png-writer-backport\" rel=\"nofollow noreferrer\">backport exists for JDK 7 and 8</a>). The above code will work anyway, but it will affect the compression ratio (lower numbers means less quality/more compression). You might want to handle compressions for different formats more explicitly.</p>\n"}],"owner":{"account_id":20277167,"reputation":1,"user_id":14871919,"display_name":"Manisha Kumari"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651488264,"creation_date":1651045092,"question_id":72024965,"body_markdown":"I used ImageIO library and tried to compress Multipart File but if the extension is jpg then it works fine, but when I used png file then it&#39;s not working.\r\n\r\nI got this error while executing this code \r\n\r\n    byte[] byteArr = multipartFile.getBytes();\r\n    InputStream inputStream = new ByteArrayInputStream(byteArr);\r\n    BufferedImage image = ImageIO.read(inputStream);\r\n\r\n    public String compressImage(MultipartFile multipartFile, BufferedImage image) throws IOException {\r\n        String filePath = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n        File compressedImageFile = new File(filePath);\r\n        OutputStream os = new FileOutputStream(compressedImageFile.getName());\r\n        Iterator&lt;ImageWriter&gt; writers = ImageIO.getImageWritersByFormatName(FilenameUtils.getExtension(multipartFile.getOriginalFilename()));\r\n        ImageWriter writer = writers.next();\r\n\r\n        ImageOutputStream ios = ImageIO.createImageOutputStream(os);\r\n        writer.setOutput(ios);\r\n\r\n        ImageWriteParam param = writer.getDefaultWriteParam();\r\n       \r\n        param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n        param.setCompressionQuality(0.5f);\r\n        \r\n        writer.write(null, new IIOImage(image, null, null), param);\r\n        os.close();\r\n        ios.close();\r\n        writer.dispose();\r\n        return String.valueOf(compressedImageFile);\r\n    }\r\n\r\nMethod threw &#39;java.lang.UnsupportedOperationException&#39; exception.&quot;\r\nstack trace\r\n\r\n        ERROR TextMessaging:309 - An exception occured while executing sendMessage.json: \r\n    java.lang.UnsupportedOperationException: Compression not supported.\r\n    \tat javax.imageio.ImageWriteParam.setCompressionMode(ImageWriteParam.java:914) ~[?:1.8.0_301]\r\n    \tat com.starbucks.amazon.services.impl.ImageCompression.compressImage(ImageCompression.java:36) ~[classes/:?]\r\n    \tat com.starbucks.amazon.services.impl.ImageCompression$$FastClassBySpringCGLIB$$9a83d3e.invoke(&lt;generated&gt;) ~[classes/:?]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat com.starbucks.amazon.services.impl.ImageCompression$$EnhancerBySpringCGLIB$$87686d38.compressImage(&lt;generated&gt;) ~[classes/:?]\r\n    \tat com.starbucks.amazon.restcalls.TextMessaging.sendMessage(TextMessaging.java:222) ~[classes/:?]\r\n    \t","title":"How to compress jpg and png images in java?","body":"<p>I used ImageIO library and tried to compress Multipart File but if the extension is jpg then it works fine, but when I used png file then it's not working.</p>\n<p>I got this error while executing this code</p>\n<pre><code>byte[] byteArr = multipartFile.getBytes();\nInputStream inputStream = new ByteArrayInputStream(byteArr);\nBufferedImage image = ImageIO.read(inputStream);\n\npublic String compressImage(MultipartFile multipartFile, BufferedImage image) throws IOException {\n    String filePath = System.getProperty(&quot;java.io.tmpdir&quot;);\n    File compressedImageFile = new File(filePath);\n    OutputStream os = new FileOutputStream(compressedImageFile.getName());\n    Iterator&lt;ImageWriter&gt; writers = ImageIO.getImageWritersByFormatName(FilenameUtils.getExtension(multipartFile.getOriginalFilename()));\n    ImageWriter writer = writers.next();\n\n    ImageOutputStream ios = ImageIO.createImageOutputStream(os);\n    writer.setOutput(ios);\n\n    ImageWriteParam param = writer.getDefaultWriteParam();\n   \n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n    param.setCompressionQuality(0.5f);\n    \n    writer.write(null, new IIOImage(image, null, null), param);\n    os.close();\n    ios.close();\n    writer.dispose();\n    return String.valueOf(compressedImageFile);\n}\n</code></pre>\n<p>Method threw 'java.lang.UnsupportedOperationException' exception.&quot;\nstack trace</p>\n<pre><code>    ERROR TextMessaging:309 - An exception occured while executing sendMessage.json: \njava.lang.UnsupportedOperationException: Compression not supported.\n    at javax.imageio.ImageWriteParam.setCompressionMode(ImageWriteParam.java:914) ~[?:1.8.0_301]\n    at com.starbucks.amazon.services.impl.ImageCompression.compressImage(ImageCompression.java:36) ~[classes/:?]\n    at com.starbucks.amazon.services.impl.ImageCompression$$FastClassBySpringCGLIB$$9a83d3e.invoke(&lt;generated&gt;) ~[classes/:?]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.6.jar:5.3.6]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.6.jar:5.3.6]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.6.jar:5.3.6]\n    at com.starbucks.amazon.services.impl.ImageCompression$$EnhancerBySpringCGLIB$$87686d38.compressImage(&lt;generated&gt;) ~[classes/:?]\n    at com.starbucks.amazon.restcalls.TextMessaging.sendMessage(TextMessaging.java:222) ~[classes/:?]\n    \n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651487953,"creation_date":1651487953,"answer_id":72085522,"question_id":72082207,"body_markdown":"When you are using the [Query#addValueEventListener()][1] method, it means that you are attaching a listener that listens for real-time updates. This means that every change that takes place in the Realtime Database that corresponds to your `productsRef.child(ID)` reference, will always trigger the `onDataChange()` method. Since you are adding data inside the callback using:\r\n\r\n    prod.child(ID).setValue(model)\r\n\r\nTo the exact same reference you are listening to, your data gets written again. So this mechanism is happening over and over again, hence the behavior of an &quot;infinite loop&quot;.\r\n\r\nTo solve this, simply change the above method call to [Query#addListenerForSingleValueEvent()][2]. This means that it will listen for changes **only** once.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addValueEventListener(com.google.firebase.database.ValueEventListener)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)","title":"Infinite for each loop","body":"<p>When you are using the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addValueEventListener(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query#addValueEventListener()</a> method, it means that you are attaching a listener that listens for real-time updates. This means that every change that takes place in the Realtime Database that corresponds to your <code>productsRef.child(ID)</code> reference, will always trigger the <code>onDataChange()</code> method. Since you are adding data inside the callback using:</p>\n<pre><code>prod.child(ID).setValue(model)\n</code></pre>\n<p>To the exact same reference you are listening to, your data gets written again. So this mechanism is happening over and over again, hence the behavior of an &quot;infinite loop&quot;.</p>\n<p>To solve this, simply change the above method call to <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query#addListenerForSingleValueEvent()</a>. This means that it will listen for changes <strong>only</strong> once.</p>\n"}],"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72085522,"answer_count":1,"score":0,"last_activity_date":1651488000,"creation_date":1651464262,"question_id":72082207,"body_markdown":"So I have this loop which means to loop through a list of products and check if they are sold out or the stock needs updating. But somehow it&#39;s infinite, I used the debugger went through with a few breakpoints it just kept looping back that&#39;s how I know its infinite after I had a look through and I couldn&#39;t find the issue\r\n\r\n    public void removeProductsFromDB(ArrayList&lt;String&gt; products) {\r\n\r\n        for (String ID : products) {\r\n            productsRef.child(ID)\r\n                    .addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            if (snapshot.exists()) {\r\n                                ProductModel model = snapshot.getValue(ProductModel.class);\r\n\r\n                                int ordered = 1;\r\n\r\n                                int newQuantity = Integer.parseInt(model.getpQuantity()) - ordered;\r\n\r\n                                model.setpQuantity(String.valueOf(newQuantity));\r\n\r\n                                if (newQuantity &lt; 1) {\r\n                                    model.setStatus(&quot;Sold&quot;);\r\n\r\n                                } else {\r\n\r\n                                }\r\n\r\n                                DatabaseReference prod = FirebaseDatabase\r\n                                        .getInstance().getReference().child(&quot;Products&quot;);\r\n\r\n                                prod.child(ID).setValue(model)\r\n                                        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                            @Override\r\n                                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                                                loadingBar.dismiss();\r\n                                                showToast(&quot;Order Placed&quot;);\r\n\r\n\r\n                                                Intent intent = new Intent(ConfirmOrderActivity.this, HomeActivity.class);\r\n                                                startActivity(intent);\r\n                                            }\r\n                                        });\r\n\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n        }\r\n\r\n    }\r\n\r\nIt&#39;s possible am just tired but I didn&#39;t think a for-each loop would turn out to be infinite.","title":"Infinite for each loop","body":"<p>So I have this loop which means to loop through a list of products and check if they are sold out or the stock needs updating. But somehow it's infinite, I used the debugger went through with a few breakpoints it just kept looping back that's how I know its infinite after I had a look through and I couldn't find the issue</p>\n<pre><code>public void removeProductsFromDB(ArrayList&lt;String&gt; products) {\n\n    for (String ID : products) {\n        productsRef.child(ID)\n                .addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if (snapshot.exists()) {\n                            ProductModel model = snapshot.getValue(ProductModel.class);\n\n                            int ordered = 1;\n\n                            int newQuantity = Integer.parseInt(model.getpQuantity()) - ordered;\n\n                            model.setpQuantity(String.valueOf(newQuantity));\n\n                            if (newQuantity &lt; 1) {\n                                model.setStatus(&quot;Sold&quot;);\n\n                            } else {\n\n                            }\n\n                            DatabaseReference prod = FirebaseDatabase\n                                    .getInstance().getReference().child(&quot;Products&quot;);\n\n                            prod.child(ID).setValue(model)\n                                    .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                        @Override\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                                            loadingBar.dismiss();\n                                            showToast(&quot;Order Placed&quot;);\n\n\n                                            Intent intent = new Intent(ConfirmOrderActivity.this, HomeActivity.class);\n                                            startActivity(intent);\n                                        }\n                                    });\n\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n    }\n\n}\n</code></pre>\n<p>It's possible am just tired but I didn't think a for-each loop would turn out to be infinite.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":1,"creation_date":1651487943,"post_id":72085512,"comment_id":127368558,"body_markdown":"you&#39;re probably missing the return statement at the end. Also, it would be great to see the full method implementation to help you with that.","body":"you&#39;re probably missing the return statement at the end. Also, it would be great to see the full method implementation to help you with that."},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":2,"creation_date":1651487985,"post_id":72085512,"comment_id":127368570,"body_markdown":"your `return count_seven;` is inside the for loop. it should be below the loop","body":"your <code>return count_seven;</code> is inside the for loop. it should be below the loop"},{"owner":{"account_id":8625868,"reputation":1067,"user_id":6459127,"display_name":"Dimpre Jean-S&#233;bastien"},"score":0,"creation_date":1651488012,"post_id":72085512,"comment_id":127368579,"body_markdown":"Also, your return count_seven should probably be after your for, and not in it","body":"Also, your return count_seven should probably be after your for, and not in it"}],"owner":{"display_name":"user18960849"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651488163,"answer_count":0,"score":0,"last_activity_date":1651487850,"creation_date":1651487850,"question_id":72085512,"body_markdown":"I&#39;m trying to create a program that counts the number of sevens in an array, whenever I run it, I get the error: incompatible types, missing return value. I&#39;m not too sure where I have gone wrong.\r\n```\r\nint count_seven = 0;\r\n        for(int n = 0; n &lt; nums.length; n++){\r\n            if(nums[n] == 7){\r\n                count_seven++;\r\n            }\r\n                return count_seven;\r\n        }\r\n```\r\nAny help is greatly appreciated!!","title":"How to solve Missing Return Value Error Java","body":"<p>I'm trying to create a program that counts the number of sevens in an array, whenever I run it, I get the error: incompatible types, missing return value. I'm not too sure where I have gone wrong.</p>\n<pre><code>int count_seven = 0;\n        for(int n = 0; n &lt; nums.length; n++){\n            if(nums[n] == 7){\n                count_seven++;\n            }\n                return count_seven;\n        }\n</code></pre>\n<p>Any help is greatly appreciated!!</p>\n"},{"tags":["java","parsing","lexer","javacc"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1583682233,"post_id":60589049,"comment_id":107191309,"body_markdown":"What specific steps have you tried from the ones in your link? Where are you getting stuck?","body":"What specific steps have you tried from the ones in your link? Where are you getting stuck?"},{"owner":{"account_id":15591339,"reputation":131,"user_id":11248288,"display_name":"cha"},"score":0,"creation_date":1583682803,"post_id":60589049,"comment_id":107191479,"body_markdown":"I already added path of the folder javacc, and I don&#39;t know what should I do next.","body":"I already added path of the folder javacc, and I don&#39;t know what should I do next."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1583683153,"post_id":60589049,"comment_id":107191596,"body_markdown":"Did you download the source from github? Or are you using the pre-built binary they provide? I&#39;m not clear where you are getting stuck.","body":"Did you download the source from github? Or are you using the pre-built binary they provide? I&#39;m not clear where you are getting stuck."},{"owner":{"account_id":15591339,"reputation":131,"user_id":11248288,"display_name":"cha"},"score":0,"creation_date":1583683494,"post_id":60589049,"comment_id":107191709,"body_markdown":"I downloaded it from https://javacc.github.io/javacc/#getting-started, javacc-7.0.5.zip. I already added the path of the folder, and I don&#39;t know what I should do next..","body":"I downloaded it from <a href=\"https://javacc.github.io/javacc/#getting-started\" rel=\"nofollow noreferrer\">javacc.github.io/javacc/#getting-started</a>, javacc-7.0.5.zip. I already added the path of the folder, and I don&#39;t know what I should do next.."},{"owner":{"account_id":15591339,"reputation":131,"user_id":11248288,"display_name":"cha"},"score":0,"creation_date":1583683656,"post_id":60589049,"comment_id":107191757,"body_markdown":"I don&#39;t understand this part, &quot;Then place the binary javacc-7.0.5.jar in a new target/ folder, and rename to javacc.jar.\n\nOnce you have completed installation add the scripts/ directory in the JavaCC installation to your PATH. The JavaCC, JJTree, and JJDoc invocation scripts/executables reside in this directory.\n\nOn UNIX based systems, the scripts may not be executable immediately. This can be solved by using the command from the javacc-7.0.5/ directory:\n\nchmod +x scripts/javacc &quot;","body":"I don&#39;t understand this part, &quot;Then place the binary javacc-7.0.5.jar in a new target/ folder, and rename to javacc.jar.  Once you have completed installation add the scripts/ directory in the JavaCC installation to your PATH. The JavaCC, JJTree, and JJDoc invocation scripts/executables reside in this directory.  On UNIX based systems, the scripts may not be executable immediately. This can be solved by using the command from the javacc-7.0.5/ directory:  chmod +x scripts/javacc &quot;"},{"owner":{"account_id":15591339,"reputation":131,"user_id":11248288,"display_name":"cha"},"score":0,"creation_date":1583685593,"post_id":60589049,"comment_id":107192321,"body_markdown":"I tried another version of javacc and it worked. I tried entering javacc in cmd and it shows its version","body":"I tried another version of javacc and it worked. I tried entering javacc in cmd and it shows its version"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1583687256,"post_id":60589049,"comment_id":107192824,"body_markdown":"Excellent! Feel free to answer your own question with the detailed steps you figured out. That will help others who may hit the same issue in the future. You can even accept your own answer, if it&#39;s the most helpful one.","body":"Excellent! Feel free to answer your own question with the detailed steps you figured out. That will help others who may hit the same issue in the future. You can even accept your own answer, if it&#39;s the most helpful one."}],"answers":[{"tags":[],"owner":{"account_id":17918855,"reputation":91,"user_id":13019222,"display_name":"Bruno Gava Guerra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583681955,"creation_date":1583681955,"answer_id":60589106,"question_id":60589049,"body_markdown":"You can follow the same steps in the Installation part of the guide.\r\n\r\nhttps://javacc.github.io/javacc/#getting-started\r\n\r\nAfter you have unzipped the downloaded file into a new directory, you need to add the path of the folder to your PATH variable in Windows. To do that, follow this guide:\r\n\r\nhttps://www.java.com/en/download/help/path.xml","title":"How to setup Javacc in windows 10","body":"<p>You can follow the same steps in the Installation part of the guide.</p>\n\n<p><a href=\"https://javacc.github.io/javacc/#getting-started\" rel=\"nofollow noreferrer\">https://javacc.github.io/javacc/#getting-started</a></p>\n\n<p>After you have unzipped the downloaded file into a new directory, you need to add the path of the folder to your PATH variable in Windows. To do that, follow this guide:</p>\n\n<p><a href=\"https://www.java.com/en/download/help/path.xml\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/help/path.xml</a></p>\n"},{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1630519515,"creation_date":1583775795,"answer_id":60605821,"question_id":60589049,"body_markdown":"_**Update**: I have made some changes to the steps, and provided some notes about those changes at the end._\r\n\r\n---\r\n\r\nI know the OP switched to using version 6, but here are the instructions for version 7:\r\n\r\n(Version 7.0.5, to be precise.)\r\n\r\nSet-Up:\r\n------\r\n\r\n1) Go to the &quot;Getting Started&quot; page [here][1].\r\n\r\n2) Download the zip file from the &quot;Source(zip)&quot; link.\r\n\r\n3) Unzip that into a directory of your choosing. I chose a new empty directory  `E:\\javacc`. That ended up giving me everything in `E:\\javacc\\javacc-7.0.5`.\r\n\r\n4) Create a new `target` directory. For me, that was `E:\\javacc\\javacc-7.0.5\\target`.\r\n\r\n5) _NO NEED TO DO THIS_: Download the jar file from the &quot;Getting Started&quot; page, using the &quot;Binaries&quot; link. That gives you a file `javacc-7.0.5.jar`.\r\n\r\n6) Locate the `javacc.jar` file in the `bootstrap` directory. Copy that file to the new `target` directory.\r\n\r\n7) Add the `scripts` directory (for me: `E:\\javacc\\javacc-7.0.5\\scripts`) to your `PATH` environment variable. I assume that does not need specific instructions.\r\n\r\nVerify:\r\n------\r\nTo test the installation:\r\n\r\n1) Open a **new** command prompt (to pick up the PATH changes), and navigate to the javacc installation directory (for me: `E:\\javacc\\javacc-7.0.5`).\r\n\r\n2) Execute the following command:\r\n```\r\njavacc\r\n```\r\nThis should give you a screenful of output, starting with:\r\n```\r\nE:\\javacc\\javacc-7.0.5&gt;java -cp target/javacc.jar javacc\r\nJava Compiler Compiler Version 7.0.5 (Parser Generator)\r\n\r\nUsage:\r\n    javacc option-settings inputfile\r\n```\r\n\r\nSimilarly, you should be able to run the `jjdoc` and `jjtree` commands.\r\n\r\n---\r\n\r\n**Update**\r\n\r\nThe above steps were, indeed, unnecessarily complicated - as noted in comments. I have made some simplifications (used with v7.0.10). Those are shown above.\r\n\r\nThe objective when using the JavaCC zip file is to be able to execute each JavaCC command (e.g. `javacc`) on the command line directly.\r\n\r\nYou can run JavaCC commands using only the JAR file, as follows:\r\n\r\n    java -cp javacc.jar javacc\r\n\r\nUsing this approach, you will not have access to `javacc` (or the other commands) directly on the command line: they will not be on your `PATH`.\r\n\r\n\r\n  [1]: https://javacc.github.io/javacc/#getting-started","title":"How to setup Javacc in windows 10","body":"<p><em><strong>Update</strong>: I have made some changes to the steps, and provided some notes about those changes at the end.</em></p>\n<hr />\n<p>I know the OP switched to using version 6, but here are the instructions for version 7:</p>\n<p>(Version 7.0.5, to be precise.)</p>\n<h2>Set-Up:</h2>\n<ol>\n<li><p>Go to the &quot;Getting Started&quot; page <a href=\"https://javacc.github.io/javacc/#getting-started\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n<li><p>Download the zip file from the &quot;Source(zip)&quot; link.</p>\n</li>\n<li><p>Unzip that into a directory of your choosing. I chose a new empty directory  <code>E:\\javacc</code>. That ended up giving me everything in <code>E:\\javacc\\javacc-7.0.5</code>.</p>\n</li>\n<li><p>Create a new <code>target</code> directory. For me, that was <code>E:\\javacc\\javacc-7.0.5\\target</code>.</p>\n</li>\n<li><p><em>NO NEED TO DO THIS</em>: Download the jar file from the &quot;Getting Started&quot; page, using the &quot;Binaries&quot; link. That gives you a file <code>javacc-7.0.5.jar</code>.</p>\n</li>\n<li><p>Locate the <code>javacc.jar</code> file in the <code>bootstrap</code> directory. Copy that file to the new <code>target</code> directory.</p>\n</li>\n<li><p>Add the <code>scripts</code> directory (for me: <code>E:\\javacc\\javacc-7.0.5\\scripts</code>) to your <code>PATH</code> environment variable. I assume that does not need specific instructions.</p>\n</li>\n</ol>\n<h2>Verify:</h2>\n<p>To test the installation:</p>\n<ol>\n<li><p>Open a <strong>new</strong> command prompt (to pick up the PATH changes), and navigate to the javacc installation directory (for me: <code>E:\\javacc\\javacc-7.0.5</code>).</p>\n</li>\n<li><p>Execute the following command:</p>\n</li>\n</ol>\n<pre><code>javacc\n</code></pre>\n<p>This should give you a screenful of output, starting with:</p>\n<pre><code>E:\\javacc\\javacc-7.0.5&gt;java -cp target/javacc.jar javacc\nJava Compiler Compiler Version 7.0.5 (Parser Generator)\n\nUsage:\n    javacc option-settings inputfile\n</code></pre>\n<p>Similarly, you should be able to run the <code>jjdoc</code> and <code>jjtree</code> commands.</p>\n<hr />\n<p><strong>Update</strong></p>\n<p>The above steps were, indeed, unnecessarily complicated - as noted in comments. I have made some simplifications (used with v7.0.10). Those are shown above.</p>\n<p>The objective when using the JavaCC zip file is to be able to execute each JavaCC command (e.g. <code>javacc</code>) on the command line directly.</p>\n<p>You can run JavaCC commands using only the JAR file, as follows:</p>\n<pre><code>java -cp javacc.jar javacc\n</code></pre>\n<p>Using this approach, you will not have access to <code>javacc</code> (or the other commands) directly on the command line: they will not be on your <code>PATH</code>.</p>\n"},{"tags":[],"owner":{"account_id":20809353,"reputation":1,"user_id":15283654,"display_name":"Juan Ram&#237;rez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614263023,"creation_date":1614263023,"answer_id":66370375,"question_id":60589049,"body_markdown":"If you are using Eclipse as your IDE, you can install JavaCC from the marketplace. Just go to `help`, then click on `Eclipse Marketplace` and when it loads just type &quot;JavaCC&quot; on the search bar and install the plugin. I&#39;m not sure if it&#39;s the latest version, but it works well and it&#39;s simpler to install.\r\n\r\n","title":"How to setup Javacc in windows 10","body":"<p>If you are using Eclipse as your IDE, you can install JavaCC from the marketplace. Just go to <code>help</code>, then click on <code>Eclipse Marketplace</code> and when it loads just type &quot;JavaCC&quot; on the search bar and install the plugin. I'm not sure if it's the latest version, but it works well and it's simpler to install.</p>\n"}],"owner":{"account_id":15591339,"reputation":131,"user_id":11248288,"display_name":"cha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5248,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1651500847,"answer_count":3,"score":4,"last_activity_date":1651487663,"creation_date":1583681519,"question_id":60589049,"body_markdown":"How do I install javacc in Windows 10?\r\n\r\nI visited https://javacc.github.io/javacc/, but there&#39;s no clear instruction to set it up on Windows. \r\n","title":"How to setup Javacc in windows 10","body":"<p>How do I install javacc in Windows 10?</p>\n<p>I visited <a href=\"https://javacc.github.io/javacc/\" rel=\"nofollow noreferrer\">https://javacc.github.io/javacc/</a>, but there's no clear instruction to set it up on Windows.</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651486500,"creation_date":1651485167,"answer_id":72085040,"question_id":72084888,"body_markdown":"Here is an example using a java stream ,\r\n\r\n  \r\n\r\n     public static void main(String[] args) throws Exception {\r\n    \r\n    \t\tList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11));\r\n    \t\tint batchSize = 5;\r\n    \t\tAtomicInteger ai = new AtomicInteger();\r\n    \r\n    \t\tCollection&lt;List&lt;Integer&gt;&gt; chunkedOrders = list.stream()\r\n    \t\t\t\t.collect(Collectors.groupingBy(item -&gt; ai.getAndIncrement() / batchSize)).values();\r\n    \r\n    \t\tSystem.out.println(&quot;Your innerlist = &quot; + chunkedOrders);\r\n    \r\n    \t\tchunkedOrders.forEach(chunk -&gt; {\r\n    \t\t\tSystem.out.println(&quot;Processing&quot; + &quot; &quot; + chunk.size() + &quot; &quot; + &quot; data, sublist = &quot; + chunk);\r\n    \r\n    \t\t});\r\n    \r\n    \t}\r\n\r\n**Output:**\r\n\r\n  \r\n\r\n    Your innerlist = [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10], [11]]\r\n    Processing 5  data, sublist = [1, 2, 3, 4, 5]\r\n    Processing 5  data, sublist = [6, 7, 8, 9, 10]\r\n    Processing 1  data, sublist = [11]","title":"How to convert List&lt;Integer&gt; to List&lt;List&lt;Integer&gt;&gt; using Java? Fixing the size of inner list","body":"<p>Here is an example using a java stream ,</p>\n<pre><code> public static void main(String[] args) throws Exception {\n\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11));\n        int batchSize = 5;\n        AtomicInteger ai = new AtomicInteger();\n\n        Collection&lt;List&lt;Integer&gt;&gt; chunkedOrders = list.stream()\n                .collect(Collectors.groupingBy(item -&gt; ai.getAndIncrement() / batchSize)).values();\n\n        System.out.println(&quot;Your innerlist = &quot; + chunkedOrders);\n\n        chunkedOrders.forEach(chunk -&gt; {\n            System.out.println(&quot;Processing&quot; + &quot; &quot; + chunk.size() + &quot; &quot; + &quot; data, sublist = &quot; + chunk);\n\n        });\n\n    }\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Your innerlist = [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10], [11]]\nProcessing 5  data, sublist = [1, 2, 3, 4, 5]\nProcessing 5  data, sublist = [6, 7, 8, 9, 10]\nProcessing 1  data, sublist = [11]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20653901,"reputation":195,"user_id":15163517,"display_name":"Federico Galimberti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651487549,"creation_date":1651487549,"answer_id":72085464,"question_id":72084888,"body_markdown":"    public class Solution {\r\n    \r\n        public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; breaks(List&lt;T&gt; tList, int length) {\r\n            if (length &lt;= 0)\r\n                throw new IllegalArgumentException(\r\n                        &quot;The chosen length is less than or equal to zero: &quot; + length\r\n                );\r\n            int size = tList.size();\r\n            if (size &lt;= 0)\r\n                return new ArrayList&lt;&gt;();\r\n            int fullChunks = (size - 1) / length;\r\n            return IntStream.range(0, fullChunks + 1).mapToObj(\r\n                    n -&gt; tList.subList(n * length, n == fullChunks ? size : (n + 1) * length)\r\n            ).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            // Original list\r\n            List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14);\r\n            // Printing of the original list\r\n            System.out.println(list1);\r\n            // Broken list\r\n            List&lt;List&lt;Integer&gt;&gt; list2 = breaks(list1,5);\r\n            // Print of the broken list\r\n            System.out.println(list2);\r\n    \r\n        }\r\n    \r\n    }","title":"How to convert List&lt;Integer&gt; to List&lt;List&lt;Integer&gt;&gt; using Java? Fixing the size of inner list","body":"<pre><code>public class Solution {\n\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; breaks(List&lt;T&gt; tList, int length) {\n        if (length &lt;= 0)\n            throw new IllegalArgumentException(\n                    &quot;The chosen length is less than or equal to zero: &quot; + length\n            );\n        int size = tList.size();\n        if (size &lt;= 0)\n            return new ArrayList&lt;&gt;();\n        int fullChunks = (size - 1) / length;\n        return IntStream.range(0, fullChunks + 1).mapToObj(\n                n -&gt; tList.subList(n * length, n == fullChunks ? size : (n + 1) * length)\n        ).collect(Collectors.toList());\n    }\n\n    public static void main(String args[]) {\n\n        // Original list\n        List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14);\n        // Printing of the original list\n        System.out.println(list1);\n        // Broken list\n        List&lt;List&lt;Integer&gt;&gt; list2 = breaks(list1,5);\n        // Print of the broken list\n        System.out.println(list2);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17954107,"reputation":565,"user_id":13046620,"display_name":"krishnkant jaiswal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651491746,"accepted_answer_id":72085040,"answer_count":2,"score":0,"last_activity_date":1651487549,"creation_date":1651484405,"question_id":72084888,"body_markdown":"I have list of number which I want to process in batches.\r\n```\r\nexample 1:\r\n\r\ninput1 = [1, 2, 3, 4, 5, 6, 7, 8, 9] //(List of number)\r\ninput2 = 5 //(Batch size)\r\noutput = [[1, 2, 3, 4, 5], [6, 7, 8, 9]]\r\n\r\nexample 2:\r\n\r\ninput1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]//(List of number) \r\ninput2 = 5//(Batch size)\r\noutput = [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10]]\r\n```","title":"How to convert List&lt;Integer&gt; to List&lt;List&lt;Integer&gt;&gt; using Java? Fixing the size of inner list","body":"<p>I have list of number which I want to process in batches.</p>\n<pre><code>example 1:\n\ninput1 = [1, 2, 3, 4, 5, 6, 7, 8, 9] //(List of number)\ninput2 = 5 //(Batch size)\noutput = [[1, 2, 3, 4, 5], [6, 7, 8, 9]]\n\nexample 2:\n\ninput1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]//(List of number) \ninput2 = 5//(Batch size)\noutput = [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10]]\n</code></pre>\n"},{"tags":["java","arrays","loops","for-loop"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1651423709,"post_id":72078627,"comment_id":127357042,"body_markdown":"Variant of &quot;change making problem.&quot; Google that for ideas. Stack Overflow isn&#39;t really the place to have someone hand-hold you through an assignment. Post here when you have specific technical problems.","body":"Variant of &quot;change making problem.&quot; Google that for ideas. Stack Overflow isn&#39;t really the place to have someone hand-hold you through an assignment. Post here when you have specific technical problems."}],"answers":[{"tags":[],"owner":{"account_id":13113269,"reputation":86,"user_id":9473464,"display_name":"Elie Azoury"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651426271,"creation_date":1651426271,"answer_id":72078990,"question_id":72078627,"body_markdown":"This would work : \r\n\r\n    \r\n\t\r\n\t\r\n     int x = 101;\r\n    StringBuilder builder= new StringBuilder();\r\n    \twhile (x&gt;1000) {\r\n    \t\tbuilder.append(&quot;X&quot;);\r\n    \t\tx-=1000;\r\n    \t}\r\n    \twhile (x&lt;1000&amp;&amp;x&gt;100) {\r\n    \t\tbuilder.append(&quot;Y&quot;);\r\n    \t\tx-=100;\r\n    \t}\r\n    \twhile (x&lt;100&amp;&amp;x&gt;10) {\r\n    \t\tbuilder.append(&quot;Z&quot;);\r\n    \t\tx-=10;\r\n    \t}\r\n    \twhile (x&lt;10 &amp;&amp; x!=0) {\r\n    \t\tbuilder.append(&quot;*&quot;);\r\n    \t\tx-=1;\r\n    \t}\r\n    \t    System.out.println(builder.toString());\r\n\r\n\r\nthe point is as long the number of stars is in an interval append a character to the string and then reduce the number.\r\n","title":"How to replace an integer with a character, arrays, loops, Java","body":"<p>This would work :</p>\n<pre><code> int x = 101;\nStringBuilder builder= new StringBuilder();\n    while (x&gt;1000) {\n        builder.append(&quot;X&quot;);\n        x-=1000;\n    }\n    while (x&lt;1000&amp;&amp;x&gt;100) {\n        builder.append(&quot;Y&quot;);\n        x-=100;\n    }\n    while (x&lt;100&amp;&amp;x&gt;10) {\n        builder.append(&quot;Z&quot;);\n        x-=10;\n    }\n    while (x&lt;10 &amp;&amp; x!=0) {\n        builder.append(&quot;*&quot;);\n        x-=1;\n    }\n        System.out.println(builder.toString());\n</code></pre>\n<p>the point is as long the number of stars is in an interval append a character to the string and then reduce the number.</p>\n"}],"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72078990,"answer_count":1,"score":-2,"last_activity_date":1651487196,"creation_date":1651423159,"question_id":72078627,"body_markdown":"I&#39;m new to Java, currently, I&#39;m learning arrays and loops. I have a task, and I don&#39;t know what to do, I would use some help.\r\n\r\n&gt; Write a Stars class.  \r\n&gt; In this class, declare a count field of type int - the number of\r\n&gt; stars.\r\n&gt; \r\n&gt; Redefine the toString method in the Stars class. It should return the\r\n&gt; number of stars in the format accepted by the Intergalactic Guild of\r\n&gt; Spacewalkers.\r\n&gt;\r\n&gt; 1000 stars - X character,  \r\n&gt; 100 stars - Y character,  \r\n&gt; 10 stars - Z character,  \r\n&gt; 1 star - *. \r\n&gt;\r\n&gt; A few examples:\r\n&gt;\r\n&gt; 1001 stars - X*,  \r\n&gt; 576 stars - YYYYYZZZZZZZ******,  \r\n&gt; The minimum number of characters must be used. \r\n&gt; That is, for example, 101 stars must be represented as Y*, but not as\r\n&gt; ZZZZZZZZZZ*.\r\n\r\nI made a template, but unfortunately, I don&#39;t know how to make all the calculations.\r\n\r\n    public class Stars {\r\n    \r\n    \tint count;\r\n    \r\n    \tpublic int getCount() {\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tpublic void setCount(int count) {\r\n    \t\tthis.count = count;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n        public String toString() {\t\r\n    \t\treturn Integer.toString(count);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tStars stars = new Stars();\r\n    \t\tstars.setCount(2253); // ZZZ***\r\n    \t\tSystem.out.println(stars);\r\n    \t\tSystem.out.println(stars.getCount());\r\n    \t}\r\n    }\r\n\r\nI had an idea to create an array of numbers 1000, 100, 10, 1, then count how many of them are used. \r\n\r\nUnfortunately, I have no idea how to turn 1000 into X I have no idea, whether 2 in **.\r\n\r\nPlease check my draft, maybe you can give me some advice or hint. \r\n\r\n    public class Test {\r\n    \r\n        public static void stars(int amount)\r\n        {\r\n            int[] number = new int[]{ 1000, 100, 10, 1 };\r\n            int[] numberCounter = new int[4];\r\n          \r\n            for (int i = 0; i &lt; 4; i++) {\r\n                if (amount &gt;= number[i]) {\r\n                \tnumberCounter[i] = amount / number[i];\r\n                    amount = amount - numberCounter[i] * number[i];\r\n                }\r\n            }\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                if (numberCounter[i] != 0) {\r\n                    System.out.print(numberCounter[i]);\r\n                }\r\n            }\r\n        }\r\n         \r\n        public static void main(String argc[]){\r\n            int amount = 2253; // should be : XXYYZZZZZ***\r\n            stars(amount);\r\n        }\r\n    }\r\n    // Or maybe I can use this formula, thank you\r\n    //int units = count % 10;\r\n    //int tens = (count / 10) % 10;\r\n    //int hundreds = (count / 100) % 10;\r\n    //int thousands = (count / 100) % 10;","title":"How to replace an integer with a character, arrays, loops, Java","body":"<p>I'm new to Java, currently, I'm learning arrays and loops. I have a task, and I don't know what to do, I would use some help.</p>\n<blockquote>\n<p>Write a Stars class.<br />\nIn this class, declare a count field of type int - the number of\nstars.</p>\n<p>Redefine the toString method in the Stars class. It should return the\nnumber of stars in the format accepted by the Intergalactic Guild of\nSpacewalkers.</p>\n<p>1000 stars - X character,<br />\n100 stars - Y character,<br />\n10 stars - Z character,<br />\n1 star - *.</p>\n<p>A few examples:</p>\n<p>1001 stars - X*,<br />\n576 stars - YYYYYZZZZZZZ******,<br />\nThe minimum number of characters must be used.\nThat is, for example, 101 stars must be represented as Y*, but not as\nZZZZZZZZZZ*.</p>\n</blockquote>\n<p>I made a template, but unfortunately, I don't know how to make all the calculations.</p>\n<pre><code>public class Stars {\n\n    int count;\n\n    public int getCount() {\n        return count;\n    }\n\n    public void setCount(int count) {\n        this.count = count;\n    }\n    \n    @Override\n    public String toString() {  \n        return Integer.toString(count);\n    }\n    \n    public static void main(String[] args) {\n        Stars stars = new Stars();\n        stars.setCount(2253); // ZZZ***\n        System.out.println(stars);\n        System.out.println(stars.getCount());\n    }\n}\n</code></pre>\n<p>I had an idea to create an array of numbers 1000, 100, 10, 1, then count how many of them are used.</p>\n<p>Unfortunately, I have no idea how to turn 1000 into X I have no idea, whether 2 in **.</p>\n<p>Please check my draft, maybe you can give me some advice or hint.</p>\n<pre><code>public class Test {\n\n    public static void stars(int amount)\n    {\n        int[] number = new int[]{ 1000, 100, 10, 1 };\n        int[] numberCounter = new int[4];\n      \n        for (int i = 0; i &lt; 4; i++) {\n            if (amount &gt;= number[i]) {\n                numberCounter[i] = amount / number[i];\n                amount = amount - numberCounter[i] * number[i];\n            }\n        }\n        for (int i = 0; i &lt; 4; i++) {\n            if (numberCounter[i] != 0) {\n                System.out.print(numberCounter[i]);\n            }\n        }\n    }\n     \n    public static void main(String argc[]){\n        int amount = 2253; // should be : XXYYZZZZZ***\n        stars(amount);\n    }\n}\n// Or maybe I can use this formula, thank you\n//int units = count % 10;\n//int tens = (count / 10) % 10;\n//int hundreds = (count / 100) % 10;\n//int thousands = (count / 100) % 10;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1649525426,"post_id":71810226,"comment_id":126899980,"body_markdown":"and when you enable spring security debug logs they show you what reason? also, spring security has a full JWT implementation, so please consult the spring security documentation on how to actually implement the handling of JWTs as there is already a built in JWT filter and much more. I dont really see the point of using a security framework if you do not intend to use it at all with all the custom self written code. Custom security is in general bad practice.","body":"and when you enable spring security debug logs they show you what reason? also, spring security has a full JWT implementation, so please consult the spring security documentation on how to actually implement the handling of JWTs as there is already a built in JWT filter and much more. I dont really see the point of using a security framework if you do not intend to use it at all with all the custom self written code. Custom security is in general bad practice."},{"owner":{"account_id":15216309,"reputation":575,"user_id":10979593,"display_name":"Padi kodwo Amu"},"score":0,"creation_date":1649530293,"post_id":71810226,"comment_id":126900980,"body_markdown":"add this logging.level.root=DEBUG to your config and run the code again  ... this will let us know what&#39;s not configured properly and then I can help.","body":"add this logging.level.root=DEBUG to your config and run the code again  ... this will let us know what&#39;s not configured properly and then I can help."},{"owner":{"account_id":21476949,"reputation":31,"user_id":15825039,"display_name":"Elwafi Elmehdi"},"score":0,"creation_date":1649550896,"post_id":71810226,"comment_id":126904175,"body_markdown":"@Padikodwo the log is so huge i noticed a an eception keeps repeating","body":"@Padikodwo the log is so huge i noticed a an eception keeps repeating"},{"owner":{"account_id":21476949,"reputation":31,"user_id":15825039,"display_name":"Elwafi Elmehdi"},"score":0,"creation_date":1649550921,"post_id":71810226,"comment_id":126904180,"body_markdown":"javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getMBean(DefaultMBeanServerInterceptor.java:1083) ~[na:na]\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:637) ~[na:na]\n\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.get","body":"javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerIn&zwnj;&#8203;terceptor.getMBean(D&zwnj;&#8203;efaultMBeanServerInt&zwnj;&#8203;erceptor.java:1083) ~[na:na] \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerIn&zwnj;&#8203;terceptor.getAttribu&zwnj;&#8203;te(DefaultMBeanServe&zwnj;&#8203;rInterceptor.java:63&zwnj;&#8203;7) ~[na:na] \tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.get"}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651487100,"creation_date":1649616098,"answer_id":71819541,"question_id":71810226,"body_markdown":"Can you debug the application? The error you mentioned  in the comments `javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication` is IDE-related, there is stackoverflow post about it, so this is not the issue.\r\n\r\nTry to debug code and check:\r\n1. If you, actually, get to `JWTAuthorizationFilter`\r\n2. If your user is identified as admin user here: `List&lt;GrantedAuthority&gt; authorities = jwtTokenProvider.getAuthorities(token);`\r\n3. Check if you pass a correct and the newest token to Postman in `Authorization` header; check url (in the screenshot you have provided url is incorrect, it is `useErnames`)\r\n4. What is the value of `SecurityConsts.TOKEN_PREFIX`? It should include space, i.e. &#39;Bearer &#39;\r\n\r\n**UPDATE**\r\nBased on the comment below regarding my 2nd question (although I meant to check the values during runtime in debug mode, but anyway..)\r\n\r\n    String[] ADMIN_AUTHORITIES = {&quot;ADMIN_ROLE&quot;};\r\n\r\nIn the security config you are looking for `hasAnyAuthority(&quot;ROLE_ADMIN&quot;)`, but assigned your admin with `&quot;ADMIN_ROLE&quot;`. Wording is different: ROLE_ADMIN vs ADMIN_ROLE.\r\nWhen you update one of them, be aware that Spring adds word &quot;ROLE&quot; to the authority name by itself in some cases. So try with and without this prefix.","title":"Getting 401 Unauthorized Even when the user is authenticated (Spring Security)","body":"<p>Can you debug the application? The error you mentioned  in the comments <code>javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication</code> is IDE-related, there is stackoverflow post about it, so this is not the issue.</p>\n<p>Try to debug code and check:</p>\n<ol>\n<li>If you, actually, get to <code>JWTAuthorizationFilter</code></li>\n<li>If your user is identified as admin user here: <code>List&lt;GrantedAuthority&gt; authorities = jwtTokenProvider.getAuthorities(token);</code></li>\n<li>Check if you pass a correct and the newest token to Postman in <code>Authorization</code> header; check url (in the screenshot you have provided url is incorrect, it is <code>useErnames</code>)</li>\n<li>What is the value of <code>SecurityConsts.TOKEN_PREFIX</code>? It should include space, i.e. 'Bearer '</li>\n</ol>\n<p><strong>UPDATE</strong>\nBased on the comment below regarding my 2nd question (although I meant to check the values during runtime in debug mode, but anyway..)</p>\n<pre><code>String[] ADMIN_AUTHORITIES = {&quot;ADMIN_ROLE&quot;};\n</code></pre>\n<p>In the security config you are looking for <code>hasAnyAuthority(&quot;ROLE_ADMIN&quot;)</code>, but assigned your admin with <code>&quot;ADMIN_ROLE&quot;</code>. Wording is different: ROLE_ADMIN vs ADMIN_ROLE.\nWhen you update one of them, be aware that Spring adds word &quot;ROLE&quot; to the authority name by itself in some cases. So try with and without this prefix.</p>\n"}],"owner":{"account_id":21476949,"reputation":31,"user_id":15825039,"display_name":"Elwafi Elmehdi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5674,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71819541,"answer_count":1,"score":1,"last_activity_date":1651487100,"creation_date":1649524287,"question_id":71810226,"body_markdown":"I am working on a simple project with 2 defined roles Admin and User,The admin role has authority to view users by thier usernames but when I login as an admin and i hit the ```/admin/users/usernames/{username}```\r\nI get 401 Unauthenticated you can see the request here [postman request][1]\r\n\r\n**WHATS THE PROBLEM WITH THE FOLLOWING IMPLEMENTATION?**\r\n  \r\n**The login Method **\r\n```java\r\n    @Override\r\n    public ResponseEntity&lt;User&gt; login(String username, String password) {\r\n        authenticate(username,password);\r\n        User loginUser = findUserByUsername(username);\r\n        UserPrinciple userPrinciple = new UserPrinciple(loginUser);\r\n        HttpHeaders tokenHeader = getJwtToken(userPrinciple);\r\n        return new ResponseEntity&lt;&gt;(loginUser,tokenHeader, HttpStatus.OK);\r\n    }\r\n    private void authenticate(String username, String password) {\r\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username,password));\r\n    }\r\n\r\n    private HttpHeaders getJwtToken(UserPrinciple userPrinciple) {\r\n        String token= jwtTokenProvider.generateJWTToken(userPrinciple);\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        httpHeaders.add(SecurityConsts.JWT_TOKEN_HEADER,token);\r\n        return httpHeaders;\r\n    }\r\n```   \r\n**The User ReST Controlle**\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/admin/users&quot;)\r\npublic class UserController {\r\n    private UserService userService;\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public List&lt;User&gt; getUsers() {\r\n        return userService.getUsers();\r\n    }\r\n\r\n    @GetMapping(&quot;/emails/{email}&quot;)\r\n    public User findUserByEmail(@PathVariable String email) {\r\n        return userService.findUserByEmail(email);\r\n    }\r\n\r\n    @GetMapping(&quot;/usernames/{username}&quot;)\r\n    public User findUserByUsername(@PathVariable String username) {\r\n        return userService.findUserByUsername(username);\r\n    }\r\n\r\n    @JsonView(BodyView.BasicUser.class)\r\n    @PostMapping(&quot;/register&quot;)\r\n    public User addUser(@RequestBody User user) throws UsernameExistsException {\r\n        return userService.addUser(user);\r\n    }\r\n    @JsonView(BodyView.BasicUser.class)\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;User&gt; login(@RequestBody User user) {\r\n        return userService.login(user.getUsername(), user.getPassword());\r\n    }\r\n}\r\n```\r\n\r\n**POM.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;FM6-App&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;FM6-App&lt;/name&gt;\r\n\t&lt;description&gt;FM6-App&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.19.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n**The Web Security Configurer Adapter**  \r\nThe public URLS:  \r\n```java\r\npublic static final String[] PUBLIC_URLS ={&quot;/users/admin/login/**&quot;,&quot;/admin/users/register/**&quot;,&quot;/demandes/**&quot;,&quot;/criteres/**&quot;};\r\n```  \r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@ComponentScan\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true,\r\n        securedEnabled = true,\r\n        jsr250Enabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    private JWTAuthorizationFilter jwtAuthorizationFilter;\r\n    @Autowired\r\n    private JWTAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    @Autowired\r\n    private JWTAccessDenielHandler jwtAccessDenielHandler;\r\n    @Autowired\r\n    private UserService userService;\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .cors()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/admin/users/login/**&quot;).permitAll()\r\n                .antMatchers(SecurityConsts.PUBLIC_URLS).permitAll()\r\n                .antMatchers(&quot;/admin/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;)\r\n                .antMatchers(&quot;/utilisateur/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;)\r\n\r\n//                .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling().accessDeniedHandler(jwtAccessDenielHandler)\r\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and()\r\n                .addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder);\r\n    }\r\n\r\n    @Bean(name = &quot;authenticationManager&quot;)\r\n    @Override\r\n    public  AuthenticationManager authenticationManagerBean() throws Exception{\r\n        return super.authenticationManagerBean();\r\n    }\r\n```\r\n**JWT Authorization Filter**\r\n```java\r\n@Component\r\npublic class JWTAuthorizationFilter extends OncePerRequestFilter {\r\n    @Autowired\r\n    private JWTTokenProvider jwtTokenProvider;\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        if(request.getMethod().equalsIgnoreCase(SecurityConsts.OPTION_HTTP_METHOD)){\r\n            response.setStatus(SecurityConsts.OK.value());\r\n        }else if(request.getRequestURI().equals(&quot;/users/login&quot;)){\r\n            filterChain.doFilter(request,response);\r\n        }\r\n        else {\r\n            String autorizationHeader =  request.getHeader(HttpHeaders.AUTHORIZATION);\r\n            if(autorizationHeader == null || !autorizationHeader.startsWith(SecurityConsts.TOKEN_PREFIX)){\r\n                filterChain.doFilter(request,response);\r\n                return;\r\n            }\r\n            String token = autorizationHeader.substring(SecurityConsts.TOKEN_PREFIX.length());\r\n            String username = jwtTokenProvider.getSubject(token);\r\n            if(jwtTokenProvider.isTokenValid(username,token) &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n\r\n                List&lt;GrantedAuthority&gt; authorities = jwtTokenProvider.getAuthorities(token);\r\n                Authentication authentication = jwtTokenProvider.getAuthentication(username,authorities,request);\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }else {\r\n                SecurityContextHolder.clearContext();\r\n            }\r\n\r\n        }\r\n        filterChain.doFilter(request,response);\r\n    }\r\n}\r\n```\r\n\r\n**The Cross-Origin Configuration class**\r\n```java\r\n@Configuration\r\npublic class CorsConfig {\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;)\r\n                        .allowedHeaders(&quot;*&quot;)\r\n                        .allowedOrigins(&quot;*&quot;);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GKjkw.png","title":"Getting 401 Unauthorized Even when the user is authenticated (Spring Security)","body":"<p>I am working on a simple project with 2 defined roles Admin and User,The admin role has authority to view users by thier usernames but when I login as an admin and i hit the <code>/admin/users/usernames/{username}</code>\nI get 401 Unauthenticated you can see the request here <a href=\"https://i.stack.imgur.com/GKjkw.png\" rel=\"nofollow noreferrer\">postman request</a></p>\n<p><strong>WHATS THE PROBLEM WITH THE FOLLOWING IMPLEMENTATION?</strong></p>\n<p>**The login Method **</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public ResponseEntity&lt;User&gt; login(String username, String password) {\n        authenticate(username,password);\n        User loginUser = findUserByUsername(username);\n        UserPrinciple userPrinciple = new UserPrinciple(loginUser);\n        HttpHeaders tokenHeader = getJwtToken(userPrinciple);\n        return new ResponseEntity&lt;&gt;(loginUser,tokenHeader, HttpStatus.OK);\n    }\n    private void authenticate(String username, String password) {\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username,password));\n    }\n\n    private HttpHeaders getJwtToken(UserPrinciple userPrinciple) {\n        String token= jwtTokenProvider.generateJWTToken(userPrinciple);\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.add(SecurityConsts.JWT_TOKEN_HEADER,token);\n        return httpHeaders;\n    }\n</code></pre>\n<p><strong>The User ReST Controlle</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/admin/users&quot;)\npublic class UserController {\n    private UserService userService;\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public List&lt;User&gt; getUsers() {\n        return userService.getUsers();\n    }\n\n    @GetMapping(&quot;/emails/{email}&quot;)\n    public User findUserByEmail(@PathVariable String email) {\n        return userService.findUserByEmail(email);\n    }\n\n    @GetMapping(&quot;/usernames/{username}&quot;)\n    public User findUserByUsername(@PathVariable String username) {\n        return userService.findUserByUsername(username);\n    }\n\n    @JsonView(BodyView.BasicUser.class)\n    @PostMapping(&quot;/register&quot;)\n    public User addUser(@RequestBody User user) throws UsernameExistsException {\n        return userService.addUser(user);\n    }\n    @JsonView(BodyView.BasicUser.class)\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;User&gt; login(@RequestBody User user) {\n        return userService.login(user.getUsername(), user.getPassword());\n    }\n}\n</code></pre>\n<p><strong>POM.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;FM6-App&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;FM6-App&lt;/name&gt;\n    &lt;description&gt;FM6-App&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.17&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>The Web Security Configurer Adapter</strong><br />\nThe public URLS:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String[] PUBLIC_URLS ={&quot;/users/admin/login/**&quot;,&quot;/admin/users/register/**&quot;,&quot;/demandes/**&quot;,&quot;/criteres/**&quot;};\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@ComponentScan\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true,\n        securedEnabled = true,\n        jsr250Enabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private JWTAuthorizationFilter jwtAuthorizationFilter;\n    @Autowired\n    private JWTAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    @Autowired\n    private JWTAccessDenielHandler jwtAccessDenielHandler;\n    @Autowired\n    private UserService userService;\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .cors()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/admin/users/login/**&quot;).permitAll()\n                .antMatchers(SecurityConsts.PUBLIC_URLS).permitAll()\n                .antMatchers(&quot;/admin/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;)\n                .antMatchers(&quot;/utilisateur/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;)\n\n//                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling().accessDeniedHandler(jwtAccessDenielHandler)\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder);\n    }\n\n    @Bean(name = &quot;authenticationManager&quot;)\n    @Override\n    public  AuthenticationManager authenticationManagerBean() throws Exception{\n        return super.authenticationManagerBean();\n    }\n</code></pre>\n<p><strong>JWT Authorization Filter</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JWTAuthorizationFilter extends OncePerRequestFilter {\n    @Autowired\n    private JWTTokenProvider jwtTokenProvider;\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        if(request.getMethod().equalsIgnoreCase(SecurityConsts.OPTION_HTTP_METHOD)){\n            response.setStatus(SecurityConsts.OK.value());\n        }else if(request.getRequestURI().equals(&quot;/users/login&quot;)){\n            filterChain.doFilter(request,response);\n        }\n        else {\n            String autorizationHeader =  request.getHeader(HttpHeaders.AUTHORIZATION);\n            if(autorizationHeader == null || !autorizationHeader.startsWith(SecurityConsts.TOKEN_PREFIX)){\n                filterChain.doFilter(request,response);\n                return;\n            }\n            String token = autorizationHeader.substring(SecurityConsts.TOKEN_PREFIX.length());\n            String username = jwtTokenProvider.getSubject(token);\n            if(jwtTokenProvider.isTokenValid(username,token) &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n\n                List&lt;GrantedAuthority&gt; authorities = jwtTokenProvider.getAuthorities(token);\n                Authentication authentication = jwtTokenProvider.getAuthentication(username,authorities,request);\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }else {\n                SecurityContextHolder.clearContext();\n            }\n\n        }\n        filterChain.doFilter(request,response);\n    }\n}\n</code></pre>\n<p><strong>The Cross-Origin Configuration class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CorsConfig {\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;)\n                        .allowedHeaders(&quot;*&quot;)\n                        .allowedOrigins(&quot;*&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1447377115,"post_id":33684338,"comment_id":55141456,"body_markdown":"**_please_** format your code. This is illegible.","body":"<b><i>please</i></b> format your code. This is illegible."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1447383654,"post_id":33684338,"comment_id":55143091,"body_markdown":"why did you do : `if sum &gt; 10 then right--, if sum &lt; 10 then left++` ? your right and left is the ***value*** not the ***index*** to array.  Even they are index, your array is not sorted anyway, it make no sense doing such logic","body":"why did you do : <code>if sum &gt; 10 then right--, if sum &lt; 10 then left++</code> ? your right and left is the <b><i>value</i></b> not the <b><i>index</i></b> to array.  Even they are index, your array is not sorted anyway, it make no sense doing such logic"},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1447383834,"post_id":33684338,"comment_id":55143147,"body_markdown":"what are you trying to &quot;improve&quot; actually?...","body":"what are you trying to &quot;improve&quot; actually?..."}],"answers":[{"tags":[],"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447384746,"creation_date":1447377379,"answer_id":33684382,"question_id":33684338,"body_markdown":"You need to capture the values as well as the indexes:\r\n\r\n\t    int[] arrayOfIntegers = {0, 5, 4, 6, 3, 7, 2, 10};\r\n\r\n\t    Arrays.sort(arrayOfIntegers);\r\n\t    System.out.println(Arrays.toString(arrayOfIntegers));\r\n\r\n\t    int left = 0;\r\n\t    int right = arrayOfIntegers.length - 1;\r\n\r\n\t    while (left &lt; right) \r\n\t    { \r\n\t\t    int leftVal = arrayOfIntegers[left]; \r\n\t\t    int rightVal = (arrayOfIntegers[right]);\r\n\t        int sum = leftVal + rightVal;\r\n\r\n\t        if (sum == 10) //check to see if equal to 10\r\n\t        {\r\n\t            System.out.println(arrayOfIntegers[left] + &quot;,&quot; + arrayOfIntegers[right]);\r\n\t            right --;\r\n\t            left++;\r\n\t        }\r\n\t        if (sum &gt; 10) // if sum is more than 10, move to lesser number\r\n\t        {\r\n\t            right --;\r\n\t        }\r\n\t        if (sum &lt; 10) // if sum is less than 10, move to greater number\r\n\t        {\r\n\t            left++;\r\n\t        }\r\n\t    } // end of while\r\n\r\noutput:\r\n\r\n    [0, 2, 3, 4, 5, 6, 7, 10]\r\n    0,10\r\n    3,7\r\n    4,6\r\n","title":"Find elements in array whose sum is equal to 10 - Java","body":"<p>You need to capture the values as well as the indexes:</p>\n\n<pre><code>    int[] arrayOfIntegers = {0, 5, 4, 6, 3, 7, 2, 10};\n\n    Arrays.sort(arrayOfIntegers);\n    System.out.println(Arrays.toString(arrayOfIntegers));\n\n    int left = 0;\n    int right = arrayOfIntegers.length - 1;\n\n    while (left &lt; right) \n    { \n        int leftVal = arrayOfIntegers[left]; \n        int rightVal = (arrayOfIntegers[right]);\n        int sum = leftVal + rightVal;\n\n        if (sum == 10) //check to see if equal to 10\n        {\n            System.out.println(arrayOfIntegers[left] + \",\" + arrayOfIntegers[right]);\n            right --;\n            left++;\n        }\n        if (sum &gt; 10) // if sum is more than 10, move to lesser number\n        {\n            right --;\n        }\n        if (sum &lt; 10) // if sum is less than 10, move to greater number\n        {\n            left++;\n        }\n    } // end of while\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[0, 2, 3, 4, 5, 6, 7, 10]\n0,10\n3,7\n4,6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16597057,"reputation":139,"user_id":11993683,"display_name":"lakru-one"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1613988325,"creation_date":1613988325,"answer_id":66313564,"question_id":33684338,"body_markdown":"This is sample code with javascrypt. Someone can use it\r\n\r\n     var arr = [0, 5, 4, 6, 3, 7, 2, 10]\r\n     var arr1 = arr;\r\n\r\n     for(var a=0; a&lt;arr.length;a++){\r\n      for(var b=0; b&lt;arr.length; b++){\r\n\r\n        if(arr[a]+arr[b]===10 &amp;&amp; a!==b){\r\n       \r\n          console.log(arr[a]+&quot; + &quot;+arr[b])\r\n          arr.splice(a,1);\r\n\r\n        }\r\n      }\r\n     }","title":"Find elements in array whose sum is equal to 10 - Java","body":"<p>This is sample code with javascrypt. Someone can use it</p>\n<pre><code> var arr = [0, 5, 4, 6, 3, 7, 2, 10]\n var arr1 = arr;\n\n for(var a=0; a&lt;arr.length;a++){\n  for(var b=0; b&lt;arr.length; b++){\n\n    if(arr[a]+arr[b]===10 &amp;&amp; a!==b){\n   \n      console.log(arr[a]+&quot; + &quot;+arr[b])\n      arr.splice(a,1);\n\n    }\n  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11679843,"reputation":757,"user_id":8551984,"display_name":"viveksuggu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1624441826,"creation_date":1624441826,"answer_id":68097491,"question_id":33684338,"body_markdown":"**Try this code by passing the value of the sum and array in which you want to find the pair of elements equals to a given sum using one for loop**\r\n\r\n    private void pairofArrayElementsEqualstoGivenSum(int sum,Integer[] arr){\r\n        List numList = Arrays.asList(arr);\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            int num = sum - arr[i];\r\n            if (numList.contains(num)) {\r\n                System.out.println(&quot;&quot; + arr[i] + &quot; &quot; + num + &quot; = &quot;+sum);\r\n            }\r\n        }\r\n    }","title":"Find elements in array whose sum is equal to 10 - Java","body":"<p><strong>Try this code by passing the value of the sum and array in which you want to find the pair of elements equals to a given sum using one for loop</strong></p>\n<pre><code>private void pairofArrayElementsEqualstoGivenSum(int sum,Integer[] arr){\n    List numList = Arrays.asList(arr);\n    for (int i = 0; i &lt; arr.length; i++) {\n        int num = sum - arr[i];\n        if (numList.contains(num)) {\n            System.out.println(&quot;&quot; + arr[i] + &quot; &quot; + num + &quot; = &quot;+sum);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25171954,"reputation":1,"user_id":19014669,"display_name":"Gajanan choundhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651487075,"creation_date":1651487075,"answer_id":72085379,"question_id":33684338,"body_markdown":"**`Java - Using single loop`**\r\n\r\n  \r\n\r\n    public static void findElements() {\r\n\r\n\t\tList&lt;Integer&gt; list = List.of(0, 5, 4, 6, 3, 7, 2, 10);\r\n\r\n\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\r\n\t\t\tint sum = 0;\r\n\t\t\tif (i &lt; list.size() - 1) {\r\n\r\n\t\t\t\tsum = list.get(i) + list.get(i + 1);\r\n\t\t\t\tif (sum == 10) {\r\n\t\t\t\t\tSystem.out.println(&quot;Element: &quot; + list.get(i) + &quot;,&quot; + list.get(i + 1));\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (list.get(i) == 10) {\r\n\t\t\t\t\tSystem.out.println(&quot;Element: &quot; + list.get(i));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}","title":"Find elements in array whose sum is equal to 10 - Java","body":"<p><strong><code>Java - Using single loop</code></strong></p>\n<pre><code>public static void findElements() {\n\n    List&lt;Integer&gt; list = List.of(0, 5, 4, 6, 3, 7, 2, 10);\n\n    for (int i = 0; i &lt; list.size(); i++) {\n\n        int sum = 0;\n        if (i &lt; list.size() - 1) {\n\n            sum = list.get(i) + list.get(i + 1);\n            if (sum == 10) {\n                System.out.println(&quot;Element: &quot; + list.get(i) + &quot;,&quot; + list.get(i + 1));\n            }\n\n        } else {\n            if (list.get(i) == 10) {\n                System.out.println(&quot;Element: &quot; + list.get(i));\n            }\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6066481,"reputation":47,"user_id":4736574,"accept_rate":60,"display_name":"Lou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1651487075,"creation_date":1447377058,"question_id":33684338,"body_markdown":"I want to find all the pairs of numbers from an array whose sum is equal to 10, and am trying to improve upon this bit of code here: \r\n\r\n    for (int j = 0; j &lt; arrayOfIntegers.length - 1; j++)\r\n    {\r\n        for (int k = j + 1; k &lt; arrayOfIntegers.length; k++)\r\n        {\r\n            int sum = arrayOfIntegers[j] + arrayOfIntegers[k];\r\n            if (sum == 10)\r\n                return j + &quot;,&quot; + k;\r\n        }\r\n    }\r\n\r\nHowever, I&#39;m having trouble moving through the array. Here&#39;s what I have so far: \r\n\r\n    int[] arrayOfIntegers = {0, 5, 4, 6, 3, 7, 2, 10};\r\n\r\n    Arrays.sort(arrayOfIntegers);\r\n    System.out.println(Arrays.toString(arrayOfIntegers));\r\n    int left = arrayOfIntegers[0]; \r\n    int right = (arrayOfIntegers[arrayOfIntegers.length - 1]);\r\n\r\n    while (left &lt; right) \r\n    { \r\n        int sum = left + right;\r\n\r\n        if (sum == 10) //check to see if equal to 10\r\n        {\r\n            System.out.println(left + &quot;,&quot; + right);\r\n        }\r\n        if (sum &gt; 10) // if sum is more than 10, move to lesser number\r\n        {\r\n            right --;\r\n        }\r\n        if (sum &lt; 10) // if sum is less than 10, move to greater number\r\n        {\r\n            left++;\r\n        }\r\n    } // end of while\r\n","title":"Find elements in array whose sum is equal to 10 - Java","body":"<p>I want to find all the pairs of numbers from an array whose sum is equal to 10, and am trying to improve upon this bit of code here: </p>\n\n<pre><code>for (int j = 0; j &lt; arrayOfIntegers.length - 1; j++)\n{\n    for (int k = j + 1; k &lt; arrayOfIntegers.length; k++)\n    {\n        int sum = arrayOfIntegers[j] + arrayOfIntegers[k];\n        if (sum == 10)\n            return j + \",\" + k;\n    }\n}\n</code></pre>\n\n<p>However, I'm having trouble moving through the array. Here's what I have so far: </p>\n\n<pre><code>int[] arrayOfIntegers = {0, 5, 4, 6, 3, 7, 2, 10};\n\nArrays.sort(arrayOfIntegers);\nSystem.out.println(Arrays.toString(arrayOfIntegers));\nint left = arrayOfIntegers[0]; \nint right = (arrayOfIntegers[arrayOfIntegers.length - 1]);\n\nwhile (left &lt; right) \n{ \n    int sum = left + right;\n\n    if (sum == 10) //check to see if equal to 10\n    {\n        System.out.println(left + \",\" + right);\n    }\n    if (sum &gt; 10) // if sum is more than 10, move to lesser number\n    {\n        right --;\n    }\n    if (sum &lt; 10) // if sum is less than 10, move to greater number\n    {\n        left++;\n    }\n} // end of while\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1651482927,"post_id":72084506,"comment_id":127367099,"body_markdown":"Try using the `@Component` annotation instead of `@Configuration`. Also, how does your package structure look like?","body":"Try using the <code>@Component</code> annotation instead of <code>@Configuration</code>. Also, how does your package structure look like?"},{"owner":{"account_id":13739164,"reputation":362,"user_id":9914736,"display_name":"Ramon jansen gomez"},"score":0,"creation_date":1651482955,"post_id":72084506,"comment_id":127367114,"body_markdown":"Hello, try changing the `@Configuration` to `@Component` the commanLineRunner needs to be a bean in order to be executed","body":"Hello, try changing the <code>@Configuration</code> to <code>@Component</code> the commanLineRunner needs to be a bean in order to be executed"},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1651485497,"post_id":72084506,"comment_id":127367931,"body_markdown":"@dunni All of the classes I mentioned are in different packages. Would that cause a problem? Let me add the package declarations to the classes. So that it might make it easier.","body":"@dunni All of the classes I mentioned are in different packages. Would that cause a problem? Let me add the package declarations to the classes. So that it might make it easier."}],"answers":[{"tags":[],"owner":{"account_id":21102967,"reputation":46,"user_id":15512520,"display_name":"Domiii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651483961,"creation_date":1651483961,"answer_id":72084820,"question_id":72084506,"body_markdown":"Try using `@Component` instead of `@Configuration` when annotating your LoadDatabase class.\r\nAlso, if I recall correctly, for Spring Boot to run properly it is necessary to annotate your EmployeeRepository with `@Repository`.\r\n\r\nAnother last tip, try to avoid field injections like:\r\n\r\n    @Autowired\r\n    EmployeeRepository employeeRepository;\r\n\r\nIt has several drawbacks compared to constructor injection, which are described in detail in this answer: [What exactly is Field Injection and how to avoid it?][1]\r\n\r\nInstead use constructor injection, like this:\r\n\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    @Autowired\r\n    public LoadDatabase(EmployeeRepository employeeRepository){\r\n     this.employeeRepository = employeeRepository;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39892204/15512520","title":"CommandLineRunner Never Executes (Spring Boot 2.6.7)","body":"<p>Try using <code>@Component</code> instead of <code>@Configuration</code> when annotating your LoadDatabase class.\nAlso, if I recall correctly, for Spring Boot to run properly it is necessary to annotate your EmployeeRepository with <code>@Repository</code>.</p>\n<p>Another last tip, try to avoid field injections like:</p>\n<pre><code>@Autowired\nEmployeeRepository employeeRepository;\n</code></pre>\n<p>It has several drawbacks compared to constructor injection, which are described in detail in this answer: <a href=\"https://stackoverflow.com/a/39892204/15512520\">What exactly is Field Injection and how to avoid it?</a></p>\n<p>Instead use constructor injection, like this:</p>\n<pre><code>private EmployeeRepository employeeRepository;\n\n@Autowired\npublic LoadDatabase(EmployeeRepository employeeRepository){\n this.employeeRepository = employeeRepository;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651486850,"creation_date":1651486850,"answer_id":72085352,"question_id":72084506,"body_markdown":"By default Spring Boot will only scan packages below the package of the main application class (in your example it would be the package `com.trial.cas.logging.example` and all subpackages.\r\n\r\nYou can either move the application class to a common super package for your application, or specify all other packages, that should be scanned for beans etc. on the annotation:\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.trial.cas.logging.example&quot;, &quot;com.trial.cas.preload&quot;})","title":"CommandLineRunner Never Executes (Spring Boot 2.6.7)","body":"<p>By default Spring Boot will only scan packages below the package of the main application class (in your example it would be the package <code>com.trial.cas.logging.example</code> and all subpackages.</p>\n<p>You can either move the application class to a common super package for your application, or specify all other packages, that should be scanned for beans etc. on the annotation:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;com.trial.cas.logging.example&quot;, &quot;com.trial.cas.preload&quot;})\n</code></pre>\n"}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72085352,"answer_count":2,"score":1,"last_activity_date":1651486850,"creation_date":1651482304,"question_id":72084506,"body_markdown":"I am trying to learn Spring Boot and restful application from an online tutorial. But the code I wrote for it somehow gives me an error. I have written a `CommandLineRunner` class like so:\r\n\r\n    package com.trial.cas.preload;\r\n    \r\n    import java.util.logging.Logger;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.trial.cas.employee.repository.EmployeeRepository;\r\n    import com.trial.cas.employee.pojo.Employee;\r\n    \r\n    \r\n    @Configuration\r\n    class LoadDatabase implements CommandLineRunner {\r\n    \r\n    \tprivate static final Logger log = java.util.logging.LogManager.getLogManager().getLogger(&quot;LoadDatabase&quot;);\r\n    \t\r\n    \t@Autowired\r\n    \tEmployeeRepository employeeRepository;\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \r\n    \t\tlog.info(&quot;Preloading &quot; + employeeRepository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\r\n    \t\tlog.info(&quot;Preloading &quot; + employeeRepository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\t\t\r\n    \t}\r\n    }\r\n\r\nMy `EmployeeRepository` class is like this:\r\n\r\n    package com.trial.cas.preload;\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import com.trial.employee.pojo.Employee;\r\n    \r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n    \r\n    }\r\n\r\n\r\nMy main class is written like:\r\n\r\n    package com.trial.cas.logging.example;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class CASLoggingToolApplication {\r\n    \t\r\n    \tpublic static void main(String[] args) {\t\t\r\n    \t\tSpringApplication.run(CASLoggingToolApplication.class, args);\t\t\r\n    \t}\r\n    }\r\n\r\n\r\nBut when I run the Spring Boot application, the lines in the `run` method never execute. I have a debug point point in the first line of the run method. But that never gets triggered.\r\n\r\nPlease help! Thanks in advance.\r\n\r\n","title":"CommandLineRunner Never Executes (Spring Boot 2.6.7)","body":"<p>I am trying to learn Spring Boot and restful application from an online tutorial. But the code I wrote for it somehow gives me an error. I have written a <code>CommandLineRunner</code> class like so:</p>\n<pre><code>package com.trial.cas.preload;\n\nimport java.util.logging.Logger;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Component;\n\nimport com.trial.cas.employee.repository.EmployeeRepository;\nimport com.trial.cas.employee.pojo.Employee;\n\n\n@Configuration\nclass LoadDatabase implements CommandLineRunner {\n\n    private static final Logger log = java.util.logging.LogManager.getLogManager().getLogger(&quot;LoadDatabase&quot;);\n    \n    @Autowired\n    EmployeeRepository employeeRepository;\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        log.info(&quot;Preloading &quot; + employeeRepository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\n        log.info(&quot;Preloading &quot; + employeeRepository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));      \n    }\n}\n</code></pre>\n<p>My <code>EmployeeRepository</code> class is like this:</p>\n<pre><code>package com.trial.cas.preload;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.trial.employee.pojo.Employee;\n\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n</code></pre>\n<p>My main class is written like:</p>\n<pre><code>package com.trial.cas.logging.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CASLoggingToolApplication {\n    \n    public static void main(String[] args) {        \n        SpringApplication.run(CASLoggingToolApplication.class, args);       \n    }\n}\n</code></pre>\n<p>But when I run the Spring Boot application, the lines in the <code>run</code> method never execute. I have a debug point point in the first line of the run method. But that never gets triggered.</p>\n<p>Please help! Thanks in advance.</p>\n"},{"tags":["java","spring-boot","thymeleaf","backend"],"answers":[{"tags":[],"owner":{"account_id":4009553,"reputation":564,"user_id":3303365,"display_name":"Md. Maidul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640767424,"creation_date":1640767095,"answer_id":70516990,"question_id":70514897,"body_markdown":"**I think, it will be following way \r\n( correct $(shoes.name) to ${shoes.name} )**\r\n\r\n    &lt;div class=&quot;info&quot;  th:each=&quot;shoes : ${shoesList}&quot;&gt;\r\n          &lt;p th:text=&quot;${shoes.name}&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;${shoes.description}&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;${shoes.price}&quot;&gt;&lt;/p&gt;          \r\n      &lt;/div&gt;\r\n\r\nPlease visit this link\r\n[Iteration thymeleaf][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/thymeleaf-iteration","title":"Why does my th:each not work in my div? Thymleaf","body":"<p><strong>I think, it will be following way\n( correct $(shoes.name) to ${shoes.name} )</strong></p>\n<pre><code>&lt;div class=&quot;info&quot;  th:each=&quot;shoes : ${shoesList}&quot;&gt;\n      &lt;p th:text=&quot;${shoes.name}&quot;&gt;&lt;/p&gt;\n      &lt;p th:text=&quot;${shoes.description}&quot;&gt;&lt;/p&gt;\n      &lt;p th:text=&quot;${shoes.price}&quot;&gt;&lt;/p&gt;          \n  &lt;/div&gt;\n</code></pre>\n<p>Please visit this link\n<a href=\"https://www.baeldung.com/thymeleaf-iteration\" rel=\"nofollow noreferrer\">Iteration thymeleaf</a></p>\n"}],"owner":{"account_id":17765013,"reputation":15,"user_id":12900140,"display_name":"Cirrus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70516990,"answer_count":1,"score":0,"last_activity_date":1651486783,"creation_date":1640749236,"question_id":70514897,"body_markdown":"I&#39;m trying to th:text in my div but it doesnt seem to work\r\n\r\nI tried doing it with a table and i get the data i need but when i put it in a div it doesnt work\r\n```\r\n     &lt;div class=&quot;info&quot;  data-th-each=&quot;shoes: ${shoesList}&quot;&gt;\r\n          &lt;p th:text=&quot;$(shoes.name)&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;$(shoes.description)&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;$(shoes.price)&quot;&gt;&lt;/p&gt;          \r\n      &lt;/div&gt;\r\n```\r\n\r\nThis works tho\r\n\r\n```\r\n&lt;table&gt;\r\n\r\n      &lt;tr data-th-each=&quot;shoes : ${shoesList}&quot;&gt;    \r\n        &lt;td th:text=&quot;${shoes.name}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${shoes.description}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${shoes.price}&quot;&gt;&lt;/td&gt;\r\n      &lt;/tr&gt;        \r\n  \r\n&lt;/table&gt;\r\n```","title":"Why does my th:each not work in my div? Thymleaf","body":"<p>I'm trying to th:text in my div but it doesnt seem to work</p>\n<p>I tried doing it with a table and i get the data i need but when i put it in a div it doesnt work</p>\n<pre><code>     &lt;div class=&quot;info&quot;  data-th-each=&quot;shoes: ${shoesList}&quot;&gt;\n          &lt;p th:text=&quot;$(shoes.name)&quot;&gt;&lt;/p&gt;\n          &lt;p th:text=&quot;$(shoes.description)&quot;&gt;&lt;/p&gt;\n          &lt;p th:text=&quot;$(shoes.price)&quot;&gt;&lt;/p&gt;          \n      &lt;/div&gt;\n</code></pre>\n<p>This works tho</p>\n<pre><code>&lt;table&gt;\n\n      &lt;tr data-th-each=&quot;shoes : ${shoesList}&quot;&gt;    \n        &lt;td th:text=&quot;${shoes.name}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${shoes.description}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${shoes.price}&quot;&gt;&lt;/td&gt;\n      &lt;/tr&gt;        \n  \n&lt;/table&gt;\n</code></pre>\n"},{"tags":["java","spring","postgresql","oop","intellij-idea"],"answers":[{"tags":[],"owner":{"display_name":"user17944361"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651344602,"creation_date":1651344602,"answer_id":72071290,"question_id":72071201,"body_markdown":"Can you try this.\r\nMy reference https://www.baeldung.com/spring-junit-failed-to-load-applicationcontext\r\n\r\n```\r\n@ContextConfiguration(locations={&quot;classpath:WEB-INF/spring-config.xml&quot;})\r\n```","title":"Spring Data - Failed to load ApplicationContext","body":"<p>Can you try this.\nMy reference <a href=\"https://www.baeldung.com/spring-junit-failed-to-load-applicationcontext\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-junit-failed-to-load-applicationcontext</a></p>\n<pre><code>@ContextConfiguration(locations={&quot;classpath:WEB-INF/spring-config.xml&quot;})\n</code></pre>\n"}],"owner":{"account_id":25158120,"reputation":1,"user_id":19002675,"display_name":"Renato Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651486758,"creation_date":1651343925,"question_id":72071201,"body_markdown":"I&#39;m currently learning about Spring Data and get this error when I try run my test. There&#39;s apparently nothing wrong from this, but I could not solve the problem even by looking at some answers here in Stack Overflow. I also tried to use @ImportResource annotation. \r\n\r\nHere is my code.\r\n\r\nTest case:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nXML file configuration:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;m not sure if this makes sense, but here is the project tree.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nFor this project I&#39;ve been using Maven dependencies like, Postgresql, Spring Framework JPA and test, Junit and Hibernate.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F3aqR.png\r\n  [2]: https://i.stack.imgur.com/yxdLP.png\r\n  [3]: https://i.stack.imgur.com/xvkpc.png","title":"Spring Data - Failed to load ApplicationContext","body":"<p>I'm currently learning about Spring Data and get this error when I try run my test. There's apparently nothing wrong from this, but I could not solve the problem even by looking at some answers here in Stack Overflow. I also tried to use @ImportResource annotation.</p>\n<p>Here is my code.</p>\n<p>Test case:</p>\n<p><a href=\"https://i.stack.imgur.com/F3aqR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3aqR.png\" alt=\"enter image description here\" /></a></p>\n<p>XML file configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/yxdLP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yxdLP.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm not sure if this makes sense, but here is the project tree.</p>\n<p><a href=\"https://i.stack.imgur.com/xvkpc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xvkpc.png\" alt=\"enter image description here\" /></a></p>\n<p>For this project I've been using Maven dependencies like, Postgresql, Spring Framework JPA and test, Junit and Hibernate.</p>\n"},{"tags":["java","spring","resources","classpath","production"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1651478093,"post_id":72083727,"comment_id":127365861,"body_markdown":"Kindly dont use  `src/main/resources` in your paths..even for DEV/Test purposes.  Please look into `getClass().getClassLoader().getResourceAsStream(&quot;folderDirectlyInsideResources/otherPackages/file.txt&quot;);` if you want an InputStream, or `getResource()` if you wanted a URL","body":"Kindly dont use  <code>src&#47;main&#47;resources</code> in your paths..even for DEV/Test purposes.  Please look into <code>getClass().getClassLoader().getResourceAsStream(&quot;folderDirec&zwnj;&#8203;tlyInsideResources&#47;o&zwnj;&#8203;therPackages&#47;file.tx&zwnj;&#8203;t&quot;);</code> if you want an InputStream, or <code>getResource()</code> if you wanted a URL"},{"owner":{"account_id":24121050,"reputation":1,"user_id":18090219,"display_name":"Nikusha Ozashvili"},"score":0,"creation_date":1651481574,"post_id":72083727,"comment_id":127366730,"body_markdown":"Thank you. \nChanged with getClass().getClassLoader().getResource(&quot;myZip.zip&quot;).\nIf you know, I also use Files.readAllLines(Path.of(&quot;myZip.zip&quot;), StandardCharsets.UTF_8)\nthis Path.of needs String and not URL, how can I handle this?","body":"Thank you.  Changed with getClass().getClassLoader().getResource(&quot;myZip.zip&quot;). If you know, I also use Files.readAllLines(Path.of(&quot;myZip.zip&quot;), StandardCharsets.UTF_8) this Path.of needs String and not URL, how can I handle this?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1651481724,"post_id":72083727,"comment_id":127366767,"body_markdown":"You cant use Paths.of, do `Paths.get(getClass().getClassLoader().getResource(&quot;directoryUnderResources/file.txt&quot;).toURI());` instead and that gives you a PATH","body":"You cant use Paths.of, do <code>Paths.get(getClass().getClassLoader().getResource(&quot;directory&zwnj;&#8203;UnderResources&#47;file.&zwnj;&#8203;txt&quot;).toURI());</code> instead and that gives you a PATH"},{"owner":{"account_id":24121050,"reputation":1,"user_id":18090219,"display_name":"Nikusha Ozashvili"},"score":0,"creation_date":1651484888,"post_id":72083727,"comment_id":127367726,"body_markdown":"Thank you so much. Could you also please tell me last thing?, how can I create new file in resources? I was using Files.write(Path.of(&quot;src/main/resources/newFile.zip), fileContent, StandardCharsets.UTF_8); but now its not working","body":"Thank you so much. Could you also please tell me last thing?, how can I create new file in resources? I was using Files.write(Path.of(&quot;src/main/resources/newFile.zip), fileContent, StandardCharsets.UTF_8); but now its not working"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1651487340,"post_id":72083727,"comment_id":127368399,"body_markdown":"https://stackoverflow.com/questions/36130111/java-write-txt-file-in-resource-folder     You shouldnt.  The idea is to create a file in your PC where the jar runs.  You cant modify the contents of src/main/resources of the jar file itself..","body":"<a href=\"https://stackoverflow.com/questions/36130111/java-write-txt-file-in-resource-folder\" title=\"java write txt file in resource folder\">stackoverflow.com/questions/36130111/&hellip;</a>     You shouldnt.  The idea is to create a file in your PC where the jar runs.  You cant modify the contents of src/main/resources of the jar file itself.."}],"owner":{"account_id":24121050,"reputation":1,"user_id":18090219,"display_name":"Nikusha Ozashvili"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651486721,"creation_date":1651477670,"question_id":72083727,"body_markdown":"I&#39;m working on my localhost on spring boot app, where I use references of some files. \r\nFor example : \r\n\r\n&gt; &quot;src/main/resources/myZip.zip&quot;\r\n\r\nAs I know, in production distribution package of this app will not contain /src folder.\r\n\r\nCan someone please tell me another way how can I get different references of this files for producton?\r\n\r\nAlso can someone suggest how can I create new file in resources? \r\n\r\nI am using \r\n\r\n&gt; Files.write(Path.of(&quot;src/main/resources/newFile.zip), fileContent,\r\n&gt; StandardCharsets.UTF_8);\r\n\r\n to add new file, but I&#39;m interested in how to create new file without \r\n\r\n&gt; &quot;src/main/resources&quot;","title":"disribution package of my app will not contain /src folder","body":"<p>I'm working on my localhost on spring boot app, where I use references of some files.\nFor example :</p>\n<blockquote>\n<p>&quot;src/main/resources/myZip.zip&quot;</p>\n</blockquote>\n<p>As I know, in production distribution package of this app will not contain /src folder.</p>\n<p>Can someone please tell me another way how can I get different references of this files for producton?</p>\n<p>Also can someone suggest how can I create new file in resources?</p>\n<p>I am using</p>\n<blockquote>\n<p>Files.write(Path.of(&quot;src/main/resources/newFile.zip), fileContent,\nStandardCharsets.UTF_8);</p>\n</blockquote>\n<p>to add new file, but I'm interested in how to create new file without</p>\n<blockquote>\n<p>&quot;src/main/resources&quot;</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":24129251,"reputation":124,"user_id":18097074,"display_name":"Santil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651486610,"creation_date":1651486610,"answer_id":72085295,"question_id":72083271,"body_markdown":"This is an common problem facing now a days. This error causes because your editor haven&#39;t installed the spring boot properly. This you have to install all the maven files properly. Just follow the below steps to solve the problem. \r\n\r\n    \r\n\r\n&gt; 1. Right click your spring boot project (demo) and select the option maven. \r\n&gt;     2. From the maven option you will get list of options. There you select update project or select download source.\r\n\r\nThen your editor will install all the maven files for your spring boot project. And your error will be resolved. \r\n                          Or\r\n    If it does not work just uninstall your spring tool suite and reinstall properly.\r\n\r\n Any clarification please don&#39;t hesitate to comment your issue.. I am waiting for your comment..    Thank you\r\n\r\n\r\n\r\n ","title":"Project build error.Non resolvalbe parent POM in pom.xml in java","body":"<p>This is an common problem facing now a days. This error causes because your editor haven't installed the spring boot properly. This you have to install all the maven files properly. Just follow the below steps to solve the problem.</p>\n<blockquote>\n<ol>\n<li>Right click your spring boot project (demo) and select the option maven.\n2. From the maven option you will get list of options. There you select update project or select download source.</li>\n</ol>\n</blockquote>\n<p>Then your editor will install all the maven files for your spring boot project. And your error will be resolved.\nOr\nIf it does not work just uninstall your spring tool suite and reinstall properly.</p>\n<p>Any clarification please don't hesitate to comment your issue.. I am waiting for your comment..    Thank you</p>\n"}],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651486610,"creation_date":1651474539,"question_id":72083271,"body_markdown":"I am getting below error in `pom.xml` in springboot java application. I changed `java version` ,`springboot version` but error remains same. what should I do?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LJIAV.png\r\n\r\n\r\nbelow is my `pom.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.13&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI saw some of the answers and played with `relativePath` but did not work what should I do?\r\n\r\n","title":"Project build error.Non resolvalbe parent POM in pom.xml in java","body":"<p>I am getting below error in <code>pom.xml</code> in springboot java application. I changed <code>java version</code> ,<code>springboot version</code> but error remains same. what should I do?</p>\n<p><a href=\"https://i.stack.imgur.com/LJIAV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJIAV.png\" alt=\"enter image description here\" /></a></p>\n<p>below is my <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.13&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I saw some of the answers and played with <code>relativePath</code> but did not work what should I do?</p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":1,"creation_date":1649749906,"post_id":71838290,"comment_id":126948696,"body_markdown":"You can use Structural replace for that. See https://www.youtube.com/watch?v=fIPr_ANBpFk and https://www.jetbrains.com/help/idea/structural-search-and-replace.html","body":"You can use Structural replace for that. See <a href=\"https://www.youtube.com/watch?v=fIPr_ANBpFk\" rel=\"nofollow noreferrer\">youtube.com/watch?v=fIPr_ANBpFk</a> and <a href=\"https://www.jetbrains.com/help/idea/structural-search-and-replace.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/structural-search-and-replace.html</a>"},{"owner":{"account_id":22648249,"reputation":145,"user_id":16823308,"display_name":"Itamarled"},"score":0,"creation_date":1649751517,"post_id":71838290,"comment_id":126949233,"body_markdown":"@KonstantinAnnikov thanks it seems great, I didn&#39;t know this feature","body":"@KonstantinAnnikov thanks it seems great, I didn&#39;t know this feature"}],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651486191,"creation_date":1650054977,"answer_id":71888725,"question_id":71838290,"body_markdown":"As said in the comments, you can use [Structural search and replace](https://www.jetbrains.com/help/idea/structural-search-and-replace.html). It allows you to search and replace fragment of codes using a template defined with variables constraint by count numbers, regular expressions, and even Groovy scripts.\r\n\r\nThe easiest way to create a template is to browse the list of existing ones, find one similar to what you want to achieve and modify it.","title":"intellij mass refactoring using macros","body":"<p>As said in the comments, you can use <a href=\"https://www.jetbrains.com/help/idea/structural-search-and-replace.html\" rel=\"nofollow noreferrer\">Structural search and replace</a>. It allows you to search and replace fragment of codes using a template defined with variables constraint by count numbers, regular expressions, and even Groovy scripts.</p>\n<p>The easiest way to create a template is to browse the list of existing ones, find one similar to what you want to achieve and modify it.</p>\n"}],"owner":{"account_id":22648249,"reputation":145,"user_id":16823308,"display_name":"Itamarled"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71888725,"answer_count":1,"score":3,"last_activity_date":1651486191,"creation_date":1649746349,"question_id":71838290,"body_markdown":"I am working on a project in intellij using java and spring.\r\nI want to change in multiple files my api&#39;s in a similar way like this:\r\n\r\ninstead of:\r\n```java\r\npublic void someApi(HttpServletRequest request, HttpServletResponse response) throws Exception {\r\n\tsomeThrift thriftRequest = getThrift(...);\r\n\tsomeOtherThrift thriftResponse = …\r\n\tsetThriftResponse(...);\r\n}\r\n```\r\n\r\nuse this:\r\n```java\r\n@ThriftResponse\r\npublic someThrift getReports(@ThriftRequestBody someThrift thriftRequest) throws Exception {\r\n    someOtherThrift thriftResponse = …\r\n    return thriftResponse;\r\n}\r\n```\r\n\r\nis there a way to achieve this using some sort of a macro?\r\nthis kind of code spans on multiple files that all have the same suffix in their name as well\r\n\r\nthank you","title":"intellij mass refactoring using macros","body":"<p>I am working on a project in intellij using java and spring.\nI want to change in multiple files my api's in a similar way like this:</p>\n<p>instead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void someApi(HttpServletRequest request, HttpServletResponse response) throws Exception {\n    someThrift thriftRequest = getThrift(...);\n    someOtherThrift thriftResponse = …\n    setThriftResponse(...);\n}\n</code></pre>\n<p>use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ThriftResponse\npublic someThrift getReports(@ThriftRequestBody someThrift thriftRequest) throws Exception {\n    someOtherThrift thriftResponse = …\n    return thriftResponse;\n}\n</code></pre>\n<p>is there a way to achieve this using some sort of a macro?\nthis kind of code spans on multiple files that all have the same suffix in their name as well</p>\n<p>thank you</p>\n"},{"tags":["java","android","ionic-framework","capacitor","capacitor-plugin"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":2,"creation_date":1651427251,"post_id":72079043,"comment_id":127357821,"body_markdown":"You should **never** create an activity yourself with `new SomeActivity();`, it will not work properly. If Heading is not supposed to be an activity, it should not extend AppCompatActivity.","body":"You should <b>never</b> create an activity yourself with <code>new SomeActivity();</code>, it will not work properly. If Heading is not supposed to be an activity, it should not extend AppCompatActivity."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651434410,"creation_date":1651434410,"answer_id":72079930,"question_id":72079043,"body_markdown":"How come you&#39;re extending an ``Activity`` instead of just using a plain class? If it&#39;s because you want access to a ``Context``, just pass one in through the constructor (you have one when you create the ``Heading``).\r\n\r\nIf it&#39;s because you want the ``onPause`` and `onResume` lifecycle callbacks, so you know when to register/unregister with the ``SensorManager``, there&#39;s a couple of things you could do.\r\n\r\nFirst you can just create some methods the activity can call during ``onPause``/``onResume``:\r\n\r\n````\r\nclass Heading(Context context) {\r\n    \r\n    ...\r\n\r\n    public void sleep() {\r\n        sensorManager.unregisterListener(this);\r\n    }\r\n\r\n    public void wake() {\r\n        sensorManager.registerListener(this, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);\r\n    }\r\n\r\n}\r\n\r\nclass MainActivity extends BridgeActivity {\r\n\r\n    ...\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        heading.wake();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        heading.sleep();\r\n    }\r\n} \r\n````\r\n\r\nThe other approach is to make ``Heading`` implement `DefaultLifecycleObserver`, which basically lets you implement ``onResume`` and ``onPause`` etc like you&#39;re doing, and you make it *observe* the Activity&#39;s lifecycle, instead of the Activity having to manually call stuff to be like &quot;hey ``onPause`` just happened&quot;. [I&#39;ll just link the example page][1], but it basically covers what you&#39;re doing here (and the earlier, manual example too) as well as some more advanced stuff\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/lifecycle#lc","title":"Android onCreate of Activity class is not triggered","body":"<p>How come you're extending an <code>Activity</code> instead of just using a plain class? If it's because you want access to a <code>Context</code>, just pass one in through the constructor (you have one when you create the <code>Heading</code>).</p>\n<p>If it's because you want the <code>onPause</code> and <code>onResume</code> lifecycle callbacks, so you know when to register/unregister with the <code>SensorManager</code>, there's a couple of things you could do.</p>\n<p>First you can just create some methods the activity can call during <code>onPause</code>/<code>onResume</code>:</p>\n<pre><code>class Heading(Context context) {\n    \n    ...\n\n    public void sleep() {\n        sensorManager.unregisterListener(this);\n    }\n\n    public void wake() {\n        sensorManager.registerListener(this, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);\n    }\n\n}\n\nclass MainActivity extends BridgeActivity {\n\n    ...\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        heading.wake();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        heading.sleep();\n    }\n} \n</code></pre>\n<p>The other approach is to make <code>Heading</code> implement <code>DefaultLifecycleObserver</code>, which basically lets you implement <code>onResume</code> and <code>onPause</code> etc like you're doing, and you make it <em>observe</em> the Activity's lifecycle, instead of the Activity having to manually call stuff to be like &quot;hey <code>onPause</code> just happened&quot;. <a href=\"https://developer.android.com/topic/libraries/architecture/lifecycle#lc\" rel=\"nofollow noreferrer\">I'll just link the example page</a>, but it basically covers what you're doing here (and the earlier, manual example too) as well as some more advanced stuff</p>\n"}],"owner":{"account_id":18711324,"reputation":65,"user_id":13641344,"display_name":"gromo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651486112,"creation_date":1651426752,"question_id":72079043,"body_markdown":"I am trying to write a plugin for Capacitor. It should pass the accelerometer data to the JavaScript. The bridge works fine.\r\nHowever, the heading class does not seem to be initialized. The onCreate function does not seem to be executed, so do all the other functions. Nothing is logged to the console. \r\nIn AndroidManifest.xml I have requested the following feature:\r\n\r\n     &lt;uses-feature android:name=&quot;android.hardware.sensor.accelerometer&quot; android:required=&quot;true&quot; /&gt;\r\n\r\nThe file looks like this:\r\n```\r\npackage de.example.capmap;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorEvent;\r\nimport android.hardware.SensorEventListener;\r\nimport android.hardware.SensorManager;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\nimport com.getcapacitor.BridgeActivity;\r\n\r\nimport de.example.Compass;\r\n\r\npublic class MainActivity extends BridgeActivity {\r\n    private Heading heading;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        registerPlugin(Compass.class);\r\n        heading = new Heading();\r\n    }\r\n\r\n}\r\n\r\nclass Heading extends Activity implements SensorEventListener {\r\n    private SensorManager sensorManager;\r\n    private Sensor mAccelerometer;\r\n\r\n    private static final String TAG = &quot;Heading&quot;;\r\n\r\n    @Override\r\n    public final void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Log.i(TAG, &quot;onCreate: Initializing&quot;);\r\n\r\n        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n        mAccelerometer = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n        sensorManager.registerListener(Heading.this, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);\r\n    }\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent event){\r\n        Log.i(TAG, &quot;onSensorChanged: &quot; +  event.values[0]);\r\n    }\r\n\r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n        Log.i(TAG, &quot;onAccuracyChanged:&quot; +  accuracy);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        sensorManager.registerListener(this, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        sensorManager.unregisterListener(this);\r\n    }\r\n}\r\n```\r\nand the Compass Plugin, which gets executed:\r\n\r\n``` package de.example;\r\n\r\nimport com.getcapacitor.JSObject;\r\nimport com.getcapacitor.Plugin;\r\nimport com.getcapacitor.PluginCall;\r\nimport com.getcapacitor.PluginHandle;\r\nimport com.getcapacitor.PluginMethod;\r\nimport com.getcapacitor.annotation.CapacitorPlugin;\r\nimport com.getcapacitor.Bridge;\r\n\r\n\r\n@CapacitorPlugin(name = &quot;Compass&quot;)\r\npublic class Compass extends Plugin  {\r\n\r\n    public static Bridge staticBridge = null;\r\n\r\n    @Override\r\n    public void load() {\r\n        staticBridge = this.bridge;\r\n        java.lang.System.out.println(&quot;Compass successfully started&quot;);\r\n    }\r\n\r\n    public static void onMagneticHeading(float magneticHeading){\r\n        Compass pushPlugin = Compass.getCompassInstance();\r\n        if (pushPlugin != null) {\r\n            pushPlugin.sendMagneticHeading(magneticHeading);\r\n        }\r\n    }\r\n\r\n    @PluginMethod()\r\n    public void getMagneticHeading(PluginCall call) {\r\n        String value = call.getString(&quot;value&quot;);\r\n        JSObject ret = new JSObject();\r\n        ret.put(&quot;magneticHeading&quot;, value);\r\n        call.resolve(ret);\r\n    }\r\n\r\n    public void sendMagneticHeading(float magneticHeading) {\r\n        JSObject data = new JSObject();\r\n        data.put(&quot;magneticHeading&quot;, magneticHeading);\r\n        notifyListeners(&quot;heading&quot;, data, true);\r\n    }\r\n\r\n\r\n    public static Compass getCompassInstance() {\r\n        if (staticBridge != null &amp;&amp; staticBridge.getWebView() != null) {\r\n            PluginHandle handle = staticBridge.getPlugin(&quot;Compass&quot;);\r\n            if (handle == null) {\r\n                return null;\r\n            }\r\n            return (Compass) handle.getInstance();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n","title":"Android onCreate of Activity class is not triggered","body":"<p>I am trying to write a plugin for Capacitor. It should pass the accelerometer data to the JavaScript. The bridge works fine.\nHowever, the heading class does not seem to be initialized. The onCreate function does not seem to be executed, so do all the other functions. Nothing is logged to the console.\nIn AndroidManifest.xml I have requested the following feature:</p>\n<pre><code> &lt;uses-feature android:name=&quot;android.hardware.sensor.accelerometer&quot; android:required=&quot;true&quot; /&gt;\n</code></pre>\n<p>The file looks like this:</p>\n<pre><code>package de.example.capmap;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport com.getcapacitor.BridgeActivity;\n\nimport de.example.Compass;\n\npublic class MainActivity extends BridgeActivity {\n    private Heading heading;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        registerPlugin(Compass.class);\n        heading = new Heading();\n    }\n\n}\n\nclass Heading extends Activity implements SensorEventListener {\n    private SensorManager sensorManager;\n    private Sensor mAccelerometer;\n\n    private static final String TAG = &quot;Heading&quot;;\n\n    @Override\n    public final void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Log.i(TAG, &quot;onCreate: Initializing&quot;);\n\n        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n        mAccelerometer = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n        sensorManager.registerListener(Heading.this, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);\n    }\n\n    @Override\n    public void onSensorChanged(SensorEvent event){\n        Log.i(TAG, &quot;onSensorChanged: &quot; +  event.values[0]);\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n        Log.i(TAG, &quot;onAccuracyChanged:&quot; +  accuracy);\n    }\n\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        sensorManager.registerListener(this, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        sensorManager.unregisterListener(this);\n    }\n}\n</code></pre>\n<p>and the Compass Plugin, which gets executed:</p>\n<pre><code>\nimport com.getcapacitor.JSObject;\nimport com.getcapacitor.Plugin;\nimport com.getcapacitor.PluginCall;\nimport com.getcapacitor.PluginHandle;\nimport com.getcapacitor.PluginMethod;\nimport com.getcapacitor.annotation.CapacitorPlugin;\nimport com.getcapacitor.Bridge;\n\n\n@CapacitorPlugin(name = &quot;Compass&quot;)\npublic class Compass extends Plugin  {\n\n    public static Bridge staticBridge = null;\n\n    @Override\n    public void load() {\n        staticBridge = this.bridge;\n        java.lang.System.out.println(&quot;Compass successfully started&quot;);\n    }\n\n    public static void onMagneticHeading(float magneticHeading){\n        Compass pushPlugin = Compass.getCompassInstance();\n        if (pushPlugin != null) {\n            pushPlugin.sendMagneticHeading(magneticHeading);\n        }\n    }\n\n    @PluginMethod()\n    public void getMagneticHeading(PluginCall call) {\n        String value = call.getString(&quot;value&quot;);\n        JSObject ret = new JSObject();\n        ret.put(&quot;magneticHeading&quot;, value);\n        call.resolve(ret);\n    }\n\n    public void sendMagneticHeading(float magneticHeading) {\n        JSObject data = new JSObject();\n        data.put(&quot;magneticHeading&quot;, magneticHeading);\n        notifyListeners(&quot;heading&quot;, data, true);\n    }\n\n\n    public static Compass getCompassInstance() {\n        if (staticBridge != null &amp;&amp; staticBridge.getWebView() != null) {\n            PluginHandle handle = staticBridge.getPlugin(&quot;Compass&quot;);\n            if (handle == null) {\n                return null;\n            }\n            return (Compass) handle.getInstance();\n        }\n        return null;\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","http","google-api","port","google-api-client"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1651487023,"post_id":72085194,"comment_id":127368311,"body_markdown":"Configure your app / ID to use a static port.  is the way to go.","body":"Configure your app / ID to use a static port.  is the way to go."},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1651487065,"post_id":72085194,"comment_id":127368322,"body_markdown":"@DaImTo : Please suggest if there is any subclass of NetHttpTransport that provides static port. Thanks.","body":"@DaImTo : Please suggest if there is any subclass of NetHttpTransport that provides static port. Thanks."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1651497427,"post_id":72085194,"comment_id":127371573,"body_markdown":"What IDE are you using?","body":"What IDE are you using?"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651486002,"creation_date":1651486002,"question_id":72085194,"body_markdown":"I am trying to upload a video on youtube using `NetHttpTransport.java` class (as defined in the [example created by google][1]). The problem is that everytime I get a new port from `GoogleNetHttpTransport.newTrustedTransport()`. So the *URL* that is making a hit changes on every call.\r\n\r\n*For example*-&lt;br&gt;\r\nURL1 = http://localhost:57005/Callback&lt;br&gt;\r\nURL2 = http://localhost:57296/Callback\r\n\r\nGoogle won&#39;t allow an unknown URL. I have registered several URL&#39;s but I am getting a new port everytime, so the URL changes on every call.\r\n[![Authorised URL&#39;s][2]][2]\r\n\r\nOn each call I get this error:\r\n[![Authorization error][3]][3]\r\n\r\nMy problem would be solved if I can get a static port.\r\n\r\nInstead of,\r\n\r\n    \r\n\r\n    final NetHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n\r\n\r\nI need something like this:\r\n\r\n    final NetHttpTransport httpTransport = 8080;\r\n\r\nCode that failed:\r\n    \r\n\r\n    final NetHttpTransport httpTransport = new NetHttpTransport();\r\n\r\nis still giving a new port everytime.\r\n\r\n\r\n  [1]: https://developers.google.com/youtube/v3/docs/videos/insert?apix=true\r\n  [2]: https://i.stack.imgur.com/XVdE5.png\r\n  [3]: https://i.stack.imgur.com/WiRoQ.png","title":"Youtube video upload library (google-api-services) provides a new port every-time (which cannot be authorised)","body":"<p>I am trying to upload a video on youtube using <code>NetHttpTransport.java</code> class (as defined in the <a href=\"https://developers.google.com/youtube/v3/docs/videos/insert?apix=true\" rel=\"nofollow noreferrer\">example created by google</a>). The problem is that everytime I get a new port from <code>GoogleNetHttpTransport.newTrustedTransport()</code>. So the <em>URL</em> that is making a hit changes on every call.</p>\n<p><em>For example</em>-<br>\nURL1 = http://localhost:57005/Callback<br>\nURL2 = http://localhost:57296/Callback</p>\n<p>Google won't allow an unknown URL. I have registered several URL's but I am getting a new port everytime, so the URL changes on every call.\n<a href=\"https://i.stack.imgur.com/XVdE5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XVdE5.png\" alt=\"Authorised URL's\" /></a></p>\n<p>On each call I get this error:\n<a href=\"https://i.stack.imgur.com/WiRoQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WiRoQ.png\" alt=\"Authorization error\" /></a></p>\n<p>My problem would be solved if I can get a static port.</p>\n<p>Instead of,</p>\n<pre><code>final NetHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n</code></pre>\n<p>I need something like this:</p>\n<pre><code>final NetHttpTransport httpTransport = 8080;\n</code></pre>\n<p>Code that failed:</p>\n<pre><code>final NetHttpTransport httpTransport = new NetHttpTransport();\n</code></pre>\n<p>is still giving a new port everytime.</p>\n"},{"tags":["java","spring","maven","maven-2"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1651349757,"post_id":72056769,"comment_id":127345560,"body_markdown":"Is there a reason why you don&#39;t use the spring-boot-maven-plugin for packaging?","body":"Is there a reason why you don&#39;t use the spring-boot-maven-plugin for packaging?"},{"owner":{"account_id":13207582,"reputation":542,"user_id":9538809,"display_name":"RenceAbi"},"score":0,"creation_date":1651484995,"post_id":72056769,"comment_id":127367770,"body_markdown":"I think, I&#39;ve solved by using &lt;resources&gt; by mentioning corresponding directory","body":"I think, I&#39;ve solved by using &lt;resources&gt; by mentioning corresponding directory"}],"answers":[{"tags":[],"owner":{"account_id":13207582,"reputation":542,"user_id":9538809,"display_name":"RenceAbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651485727,"creation_date":1651485364,"answer_id":72085087,"question_id":72056769,"body_markdown":"I&#39;ve solved by using `&lt;resources&gt;`\r\n\r\n```\r\n&lt;properties&gt;\r\n        &lt;org.springframework.version&gt;2.5.5&lt;/org.springframework.version&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n\r\n &lt;build&gt;\r\n        &lt;finalName&gt;myApp&lt;/finalName&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;config/${folderName}&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        //... pluggins\r\n&lt;/build&gt;\r\n```\r\n\r\nwhile execute `mvn` command I can pass folderName (`t1`,`t2`,`t3`..etc)\r\n\r\n`mvn clean package -DfolderName=t1`\r\n`mvn clean package -DfolderName=t2`.. etc\r\n\r\nNow it is locating correct `file` based on my inputs.","title":"how to add external file to maven package output jar during runtime?","body":"<p>I've solved by using <code>&lt;resources&gt;</code></p>\n<pre><code>&lt;properties&gt;\n        &lt;org.springframework.version&gt;2.5.5&lt;/org.springframework.version&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n &lt;build&gt;\n        &lt;finalName&gt;myApp&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;config/${folderName}&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        //... pluggins\n&lt;/build&gt;\n</code></pre>\n<p>while execute <code>mvn</code> command I can pass folderName (<code>t1</code>,<code>t2</code>,<code>t3</code>..etc)</p>\n<p><code>mvn clean package -DfolderName=t1</code>\n<code>mvn clean package -DfolderName=t2</code>.. etc</p>\n<p>Now it is locating correct <code>file</code> based on my inputs.</p>\n"}],"owner":{"account_id":13207582,"reputation":542,"user_id":9538809,"display_name":"RenceAbi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651485727,"creation_date":1651229317,"question_id":72056769,"body_markdown":"I have a spring `maven` project. In that Project (root folder), I have folder called `config` which contains multiple folder like `t1`, `t2`, `t3` etc, Inside of each folder, I have `spring-config.xml` (config differs to each test environments)\r\n\r\nwhile I package my project using `maven package`, I need `spring-config.xml` to be available in `classpath` of my output jar.\r\n\r\n(I can do this by copying corresponding `config` file to `src/main/resources`), But I want all of my `config` files to be available in `root` directory, and maven should pick correct config file while packaging.\r\n\r\nIs this possible to do while runtime(during maven command or by using any maven pluggins)\r\n\r\nNote: To create `fat-jar` I&#39;m using `maven-assembly-plugin`\r\n```\r\n&lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;first&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!-- ... --&gt;\r\n                            &lt;finalName&gt;${project.build.finalName}-${jarName}&lt;/finalName&gt;\r\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;com.main.MainClass&lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n","title":"how to add external file to maven package output jar during runtime?","body":"<p>I have a spring <code>maven</code> project. In that Project (root folder), I have folder called <code>config</code> which contains multiple folder like <code>t1</code>, <code>t2</code>, <code>t3</code> etc, Inside of each folder, I have <code>spring-config.xml</code> (config differs to each test environments)</p>\n<p>while I package my project using <code>maven package</code>, I need <code>spring-config.xml</code> to be available in <code>classpath</code> of my output jar.</p>\n<p>(I can do this by copying corresponding <code>config</code> file to <code>src/main/resources</code>), But I want all of my <code>config</code> files to be available in <code>root</code> directory, and maven should pick correct config file while packaging.</p>\n<p>Is this possible to do while runtime(during maven command or by using any maven pluggins)</p>\n<p>Note: To create <code>fat-jar</code> I'm using <code>maven-assembly-plugin</code></p>\n<pre><code>&lt;plugin&gt;\n              &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;first&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;!-- ... --&gt;\n                            &lt;finalName&gt;${project.build.finalName}-${jarName}&lt;/finalName&gt;\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;com.main.MainClass&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android","ocr"],"answers":[{"tags":[],"owner":{"account_id":3145317,"reputation":16386,"user_id":4271923,"display_name":"Ped7g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1478087879,"creation_date":1478087879,"answer_id":40379387,"question_id":40375324,"body_markdown":"For data, which have checksum incorporated (usually bank account numbers), you can validate the checksum, and if you really want very low false-positive failures, you need video stream input, and keep doing OCR for some time to accumulate several results. When most of the &quot;checksum-valid&quot; ones are same, that&#39;s very likely (99,5+%) the correct string then.\r\n\r\nWithout video stream and cumulative results you can get probably into 97-99,5% with checksummed data.\r\n\r\nWithout checksum: well, you can&#39;t really tell.\r\n\r\nFor fields like &quot;No&quot; you can at least reject alphabetical results, and for &quot;Name&quot; you can penalize numbers (although I think there are some obscure countries where a digit in name is valid?), in Address you may give bonus confidence to &quot;alphabet_digit&quot; results, plus having dictionary of all street/cities strings, but in the end there&#39;s no way to say which result is more correct than other.\r\n\r\nAgain having video stream input and accumulating several results over longer period of time (1-5s) may give you enough results to run some statistics on them, then if you have some large enough threshold of same part of result appearing in the OCR, to consider it &quot;correct&quot;.\r\n\r\nEven then the reliability of such strings will be probably under 98%, more toward 90-95%, for generic texts without any hint (digit/letter/size/position) you can get even into 50-80% reliability range (as whole string, as the OCR itself has about 95-98% per single char).","title":"Filtering OCR Result","body":"<p>For data, which have checksum incorporated (usually bank account numbers), you can validate the checksum, and if you really want very low false-positive failures, you need video stream input, and keep doing OCR for some time to accumulate several results. When most of the \"checksum-valid\" ones are same, that's very likely (99,5+%) the correct string then.</p>\n\n<p>Without video stream and cumulative results you can get probably into 97-99,5% with checksummed data.</p>\n\n<p>Without checksum: well, you can't really tell.</p>\n\n<p>For fields like \"No\" you can at least reject alphabetical results, and for \"Name\" you can penalize numbers (although I think there are some obscure countries where a digit in name is valid?), in Address you may give bonus confidence to \"alphabet_digit\" results, plus having dictionary of all street/cities strings, but in the end there's no way to say which result is more correct than other.</p>\n\n<p>Again having video stream input and accumulating several results over longer period of time (1-5s) may give you enough results to run some statistics on them, then if you have some large enough threshold of same part of result appearing in the OCR, to consider it \"correct\".</p>\n\n<p>Even then the reliability of such strings will be probably under 98%, more toward 90-95%, for generic texts without any hint (digit/letter/size/position) you can get even into 50-80% reliability range (as whole string, as the OCR itself has about 95-98% per single char).</p>\n"}],"owner":{"account_id":8197701,"reputation":151,"user_id":6169950,"accept_rate":62,"display_name":"Frendi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1651494004,"accepted_answer_id":40379387,"answer_count":1,"score":2,"last_activity_date":1651485563,"creation_date":1478075077,"question_id":40375324,"body_markdown":"I&#39;am working on OCR, which I have working, but now I&#39;m stuck on how to filter the OCR Result to move each string into a set of text fields.\r\n\r\nFor Example,\r\nOCR Result :\r\n\r\n&gt;Name : Jhon\r\n&gt;\r\nNo   : 12345\r\n&gt;\r\nAddress : Canada\r\n\r\n...but sometimes it assigns &quot;Jhon&quot; to the text field &quot;Address&quot;, or &quot;Jhon&quot; to text field &quot;No&quot;.\r\n","title":"Filtering OCR Result","body":"<p>I'am working on OCR, which I have working, but now I'm stuck on how to filter the OCR Result to move each string into a set of text fields.</p>\n\n<p>For Example,\nOCR Result :</p>\n\n<blockquote>\n  <p>Name : Jhon</p>\n  \n  <p>No   : 12345</p>\n  \n  <p>Address : Canada</p>\n</blockquote>\n\n<p>...but sometimes it assigns \"Jhon\" to the text field \"Address\", or \"Jhon\" to text field \"No\".</p>\n"},{"tags":["java","android","file","permissions","android-10.0"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647194622,"creation_date":1647194622,"answer_id":71459451,"question_id":71459422,"body_markdown":"&gt; Because of this, it is guaranteed to ignore the flag\r\n\r\nAndroid 10 will honor the flag. *Newer* versions of Android will not (Android 11 and up), because of the `targetSdkVersion`.","title":"Alternative to requestLegacyExternalStorage and MANAGE_EXTERNAL_STORAGE for Public Folders in Android 10/API 29?","body":"<blockquote>\n<p>Because of this, it is guaranteed to ignore the flag</p>\n</blockquote>\n<p>Android 10 will honor the flag. <em>Newer</em> versions of Android will not (Android 11 and up), because of the <code>targetSdkVersion</code>.</p>\n"},{"tags":[],"owner":{"account_id":14338249,"reputation":3000,"user_id":10357086,"display_name":"Dev4Life"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651485093,"creation_date":1651485093,"answer_id":72085026,"question_id":71459422,"body_markdown":"If you want to write &amp; delete the media files in android 10 or above, You can do it easily.\r\n\r\nJust need to use some new APIs &amp; you also have to declare the write external storage permission like this\r\n\r\n    &lt;uses-permission\r\n            android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n            android:maxSdkVersion=&quot;29&quot; /&gt;\r\n\r\nUse &#39;android:requestLegacyExternalStorage=&quot;true&quot;&#39; for android 10.\r\n\r\nFor android 11 and above, check out this - [Scoped Storage in Android — Writing &amp; Deleting Media Files][1]\r\n\r\n\r\n  [1]: https://medium.com/@vishrut.goyani9/scoped-storage-in-android-writing-deleting-media-files-ee6235d30117","title":"Alternative to requestLegacyExternalStorage and MANAGE_EXTERNAL_STORAGE for Public Folders in Android 10/API 29?","body":"<p>If you want to write &amp; delete the media files in android 10 or above, You can do it easily.</p>\n<p>Just need to use some new APIs &amp; you also have to declare the write external storage permission like this</p>\n<pre><code>&lt;uses-permission\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;29&quot; /&gt;\n</code></pre>\n<p>Use 'android:requestLegacyExternalStorage=&quot;true&quot;' for android 10.</p>\n<p>For android 11 and above, check out this - <a href=\"https://medium.com/@vishrut.goyani9/scoped-storage-in-android-writing-deleting-media-files-ee6235d30117\" rel=\"nofollow noreferrer\">Scoped Storage in Android — Writing &amp; Deleting Media Files</a></p>\n"}],"owner":{"account_id":6434613,"reputation":33,"user_id":4986579,"display_name":"Matt Belson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1904,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651485093,"creation_date":1647194404,"question_id":71459422,"body_markdown":"I have an Android app on the play store that publishes data to a simple .txt file and lets you share using any other app of your choice. It used to write directly into the external storage, but now is uses the &quot;Documents&quot; public folder to stay compliant with the scoped storage requirements. I have successfully gotten it to work for every API except for 29; and I can tell what the problem is but have yet to find a workaround, and unfortunately I&#39;m getting hit with angry reviews from Android 10 users because of this.\r\n\r\nThese are the 3 &quot;solutions&quot; I&#39;m finding and what&#39;s wrong with them:\r\n\r\nA) The usual way to write to public directories for Android 10 is to use requestLegacyExternalStorage, but this doesn&#39;t work if you target an SDK higher than 29. Google now requires all updates to target 30 or higher as of now. Because of this, it is guaranteed to ignore the flag.\r\n\r\nB) I&#39;ve already appealed to Google to allow use of permission MANAGE_EXTERNAL_STORAGE, to no avail.\r\n\r\nC) I suppose I could change the directory to an app-specific folder that is accessible to other apps via the old files API. Such as method 2.1 in [this guide](https://petrakeas.medium.com/android-10-11-storage-cheat-sheet-76866a989df4). But I would prefer not to do this as I would like for the files to stay in place should the user uninstall and reinstall the app. Is this my only option?\r\n\r\nIn My Manifest:\r\n``` \r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;29&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;29&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;29&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;29&quot;/&gt;\r\n    &lt;application\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:preserveLegacyExternalStorage=&quot;true&quot;\r\n        &gt;\r\n ```\r\n\r\nAnd in my main activity where the file path is declared (skipping over other irrelevant bits):\r\n ```\r\npublic class Counting extends Activity {\r\nString filename, path_string;\r\nprivate static final int REQUEST_WRITE_STORAGE = 112;\r\n\r\n @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Intent getTimes = getIntent();\r\n        filename = getTimes.getStringExtra(&quot;fileName&quot;);\r\n\r\n        int permission = ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        if (permission != PackageManager.PERMISSION_GRANTED) {\r\n            Log.i(TAG, &quot;Permission to record denied&quot;);\r\n\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                   Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setMessage(&quot;Permission to access the SD-CARD is required for this app to                                         \r\n                write text files.&quot;)\r\n                        .setTitle(&quot;Permission required&quot;);\r\n\r\n                builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        Log.i(TAG, &quot;Clicked&quot;);\r\n                        makeRequest();\r\n                    }\r\n                });\r\n\r\n                AlertDialog dialog = builder.create();\r\n                dialog.show();\r\n\r\n            } else {\r\n                makeRequest();\r\n            }\r\n        }\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q){\r\n    path_string = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + &quot;/appname&quot;;\r\n        } \r\nelse {\r\n    path_string = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/appname&quot;;\r\n}\r\n        File path = new File(path_string);\r\n        path.mkdirs();\r\n        Log.d(&quot;TAG&quot;, &quot;mkdirs called=&quot; + String.valueOf(path.mkdirs()));\r\n        String adjustedName = filename.replaceAll(&quot;[\\\\\\\\/:*?\\&quot;&lt;&gt;|]&quot;, &quot;&quot;);\r\n        File file = new File(path, adjustedName + &quot;.txt&quot;);\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(file);\r\n            fos.write(initialTemplate.getBytes());\r\n            fos.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n}\r\n   protected void makeRequest() {\r\n        ActivityCompat.requestPermissions(this,\r\n                new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                REQUEST_WRITE_STORAGE);\r\n  }\r\n}\r\n ```","title":"Alternative to requestLegacyExternalStorage and MANAGE_EXTERNAL_STORAGE for Public Folders in Android 10/API 29?","body":"<p>I have an Android app on the play store that publishes data to a simple .txt file and lets you share using any other app of your choice. It used to write directly into the external storage, but now is uses the &quot;Documents&quot; public folder to stay compliant with the scoped storage requirements. I have successfully gotten it to work for every API except for 29; and I can tell what the problem is but have yet to find a workaround, and unfortunately I'm getting hit with angry reviews from Android 10 users because of this.</p>\n<p>These are the 3 &quot;solutions&quot; I'm finding and what's wrong with them:</p>\n<p>A) The usual way to write to public directories for Android 10 is to use requestLegacyExternalStorage, but this doesn't work if you target an SDK higher than 29. Google now requires all updates to target 30 or higher as of now. Because of this, it is guaranteed to ignore the flag.</p>\n<p>B) I've already appealed to Google to allow use of permission MANAGE_EXTERNAL_STORAGE, to no avail.</p>\n<p>C) I suppose I could change the directory to an app-specific folder that is accessible to other apps via the old files API. Such as method 2.1 in <a href=\"https://petrakeas.medium.com/android-10-11-storage-cheat-sheet-76866a989df4\" rel=\"nofollow noreferrer\">this guide</a>. But I would prefer not to do this as I would like for the files to stay in place should the user uninstall and reinstall the app. Is this my only option?</p>\n<p>In My Manifest:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;29&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;29&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;29&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;29&quot;/&gt;\n    &lt;application\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:preserveLegacyExternalStorage=&quot;true&quot;\n        &gt;\n</code></pre>\n<p>And in my main activity where the file path is declared (skipping over other irrelevant bits):</p>\n<pre><code>public class Counting extends Activity {\nString filename, path_string;\nprivate static final int REQUEST_WRITE_STORAGE = 112;\n\n@Override\n   public void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       Intent getTimes = getIntent();\n       filename = getTimes.getStringExtra(&quot;fileName&quot;);\n\n       int permission = ContextCompat.checkSelfPermission(this,\n               Manifest.permission.WRITE_EXTERNAL_STORAGE);\n       if (permission != PackageManager.PERMISSION_GRANTED) {\n           Log.i(TAG, &quot;Permission to record denied&quot;);\n\n           if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                  Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n               AlertDialog.Builder builder = new AlertDialog.Builder(this);\n               builder.setMessage(&quot;Permission to access the SD-CARD is required for this app to                                         \n               write text files.&quot;)\n                       .setTitle(&quot;Permission required&quot;);\n\n               builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n\n                   public void onClick(DialogInterface dialog, int id) {\n                       Log.i(TAG, &quot;Clicked&quot;);\n                       makeRequest();\n                   }\n               });\n\n               AlertDialog dialog = builder.create();\n               dialog.show();\n\n           } else {\n               makeRequest();\n           }\n       }\n       if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q){\n   path_string = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + &quot;/appname&quot;;\n       } \nelse {\n   path_string = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/appname&quot;;\n}\n       File path = new File(path_string);\n       path.mkdirs();\n       Log.d(&quot;TAG&quot;, &quot;mkdirs called=&quot; + String.valueOf(path.mkdirs()));\n       String adjustedName = filename.replaceAll(&quot;[\\\\\\\\/:*?\\&quot;&lt;&gt;|]&quot;, &quot;&quot;);\n       File file = new File(path, adjustedName + &quot;.txt&quot;);\n       try {\n           FileOutputStream fos = new FileOutputStream(file);\n           fos.write(initialTemplate.getBytes());\n           fos.close();\n       } catch (FileNotFoundException e) {\n           e.printStackTrace();\n       } catch (IOException e) {\n           e.printStackTrace();\n       }\n}\n  protected void makeRequest() {\n       ActivityCompat.requestPermissions(this,\n               new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n               REQUEST_WRITE_STORAGE);\n }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":16610840,"reputation":101,"user_id":12003911,"display_name":"Руслан Мамедов"},"score":0,"creation_date":1651483687,"post_id":72084625,"comment_id":127367331,"body_markdown":"You probably have a gap in the implementation of the dependency &#39;org.springframework.boot:spring- boot-starter-web&#39;","body":"You probably have a gap in the implementation of the dependency &#39;org.springframework.boot:spring- boot-starter-web&#39;"},{"owner":{"account_id":9037911,"reputation":746,"user_id":6733110,"display_name":"GreenLake4964"},"score":0,"creation_date":1680079818,"post_id":72084625,"comment_id":133834652,"body_markdown":"can you please describe more? I also run into the same issue for a legacy project, thanks!","body":"can you please describe more? I also run into the same issue for a legacy project, thanks!"},{"owner":{"account_id":1680944,"reputation":959,"user_id":1545188,"display_name":"Patter"},"score":0,"creation_date":1688463230,"post_id":72084625,"comment_id":135074306,"body_markdown":"Remove this plugin `id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;` (not needed anymore and creates more problems than it solves).\nInstead add this to dependencies:\n`implementation platform(&#39;org.springframework.boot:spring-boot-dependencies:&lt;VERSION&gt;&#39;)`\nIf you are also using annotationProcessors also add this:\n`annotationProcessor platform(&#39;org.springframework.boot:spring-boot-dependencies:&lt;SAME-VERSION&gt;&#39;)`","body":"Remove this plugin <code>id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;</code> (not needed anymore and creates more problems than it solves). Instead add this to dependencies: <code>implementation platform(&#39;org.springframework.boot:spring-boot-dependencies:&zwnj;&#8203;&lt;VERSION&gt;&#39;)</code> If you are also using annotationProcessors also add this: <code>annotationProcessor platform(&#39;org.springframework.boot:spring-boot-dependencies:&zwnj;&#8203;&lt;SAME-VERSION&gt;&#39;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":24129251,"reputation":124,"user_id":18097074,"display_name":"Santil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651483704,"creation_date":1651483704,"answer_id":72084775,"question_id":72084625,"body_markdown":"First for Spring boot use Eclipse or Spring Tool Suite which will be best for spring boot. And then if your Getting like this type of error.. then your spring boot haven&#39;t installed properly in out Editor. Better Try uninstall and reinstall or change your editor and STS or Eclipse...\r\n                  Thank You... Further any clarification just comment below...","title":"Could not find org.springframework.boot:spring-boot-starter-web:. Required by: project :","body":"<p>First for Spring boot use Eclipse or Spring Tool Suite which will be best for spring boot. And then if your Getting like this type of error.. then your spring boot haven't installed properly in out Editor. Better Try uninstall and reinstall or change your editor and STS or Eclipse...\nThank You... Further any clarification just comment below...</p>\n"},{"tags":[],"owner":{"account_id":9701434,"reputation":34,"user_id":10834855,"display_name":"Aakash Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651484969,"creation_date":1651484969,"answer_id":72084998,"question_id":72084625,"body_markdown":"seems like there is extra whitespace in spring-boot-starter-web \r\n`implementation &#39;org.springframework.boot:spring- boot-starter-web&#39;` . Can you remove he whitespace and do gradle build  ","title":"Could not find org.springframework.boot:spring-boot-starter-web:. Required by: project :","body":"<p>seems like there is extra whitespace in spring-boot-starter-web\n<code>implementation 'org.springframework.boot:spring- boot-starter-web'</code> . Can you remove he whitespace and do gradle build</p>\n"}],"owner":{"account_id":25171232,"reputation":21,"user_id":19014033,"display_name":"BerylTian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3153,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1651484969,"creation_date":1651482899,"question_id":72084625,"body_markdown":"I&#39;m new to spring and trying to use Spring Web dependency with spring boot.\r\n\r\nHere is my build.gradle\r\n\r\n        plugins {\r\n           id &#39;org.springframework.boot&#39; version &#39;2.6.7&#39;\r\n           id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n           id &#39;java&#39;\r\n    }\r\n    \r\n        group = &#39;com.example&#39;\r\n        version = &#39;0.0.1-SNAPSHOT&#39;\r\n        sourceCompatibility = &#39;11&#39;\r\n    \r\n        repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n        dependencies {\r\n        implementation &#39;org.springframework.boot:spring- boot-starter-web&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n        tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nbut when gradle sync, it returned errors\r\n\r\n        spring-overview:test: Could not find org.springframework.boot:spring-boot-starter-web:.\r\n    Required by:\r\n        project :\r\n\r\nAnd another error page here:\r\n\r\n    org.gradle.api.GradleException: Failed to resolve imported Maven boms: Connection refused: no further information\r\n    \tat io.spring.gradle.dependencymanagement.internal.DependencyManagement.resolveIfNecessary(DependencyManagement.java:157)\r\n    \tat io.spring.gradle.dependencymanagement.internal.DependencyManagement.getManagedVersions(DependencyManagement.java:121)\r\n    \tat io.spring.gradle.dependencymanagement.internal.DependencyManagementContainer.getManagedVersionsForConfiguration(DependencyManagementContainer.java:202)\r\n    \tat io.spring.gradle.dependencymanagement.internal.DependencyManagementContainer.getManagedVersionsForConfiguration(DependencyManagementContainer.java:187)\r\n    \tat io.spring.gradle.dependencymanagement.internal.DependencyManagementApplier$1.execute(DependencyManagementApplier.java:76)\r\n    \tat io.spring.gradle.dependencymanagement.internal.DependencyManagementApplier$1.execute(DependencyManagementApplier.java:72)\r\n    \tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\r\n    \tat org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:95)\r\n    \t\r\n    \t... more\r\n\r\n\r\n","title":"Could not find org.springframework.boot:spring-boot-starter-web:. Required by: project :","body":"<p>I'm new to spring and trying to use Spring Web dependency with spring boot.</p>\n<p>Here is my build.gradle</p>\n<pre><code>    plugins {\n       id 'org.springframework.boot' version '2.6.7'\n       id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n       id 'java'\n}\n\n    group = 'com.example'\n    version = '0.0.1-SNAPSHOT'\n    sourceCompatibility = '11'\n\n    repositories {\n    mavenCentral()\n}\n\n    dependencies {\n    implementation 'org.springframework.boot:spring- boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\n    tasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>but when gradle sync, it returned errors</p>\n<pre><code>    spring-overview:test: Could not find org.springframework.boot:spring-boot-starter-web:.\nRequired by:\n    project :\n</code></pre>\n<p>And another error page here:</p>\n<pre><code>org.gradle.api.GradleException: Failed to resolve imported Maven boms: Connection refused: no further information\n    at io.spring.gradle.dependencymanagement.internal.DependencyManagement.resolveIfNecessary(DependencyManagement.java:157)\n    at io.spring.gradle.dependencymanagement.internal.DependencyManagement.getManagedVersions(DependencyManagement.java:121)\n    at io.spring.gradle.dependencymanagement.internal.DependencyManagementContainer.getManagedVersionsForConfiguration(DependencyManagementContainer.java:202)\n    at io.spring.gradle.dependencymanagement.internal.DependencyManagementContainer.getManagedVersionsForConfiguration(DependencyManagementContainer.java:187)\n    at io.spring.gradle.dependencymanagement.internal.DependencyManagementApplier$1.execute(DependencyManagementApplier.java:76)\n    at io.spring.gradle.dependencymanagement.internal.DependencyManagementApplier$1.execute(DependencyManagementApplier.java:72)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\n    at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:95)\n    \n    ... more\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1651138714,"post_id":72041343,"comment_id":127294124,"body_markdown":"Your `EntityManager` / `EntityManagerFactory` has no idea about which classes are entities and which are not. You need to read your `persistence.xml`","body":"Your <code>EntityManager</code> / <code>EntityManagerFactory</code> has no idea about which classes are entities and which are not. You need to read your <code>persistence.xml</code>"},{"owner":{"account_id":9101408,"reputation":11,"user_id":14756852,"display_name":"jpvandekerkhove"},"score":0,"creation_date":1651224767,"post_id":72041343,"comment_id":127318396,"body_markdown":"I added the persistence.xml at my request.\nAccording to your comment, I would add this pseudo-entity to it and I would redo my test. I will come back to you afterwards. We never know.","body":"I added the persistence.xml at my request. According to your comment, I would add this pseudo-entity to it and I would redo my test. I will come back to you afterwards. We never know."},{"owner":{"account_id":9101408,"reputation":11,"user_id":14756852,"display_name":"jpvandekerkhove"},"score":0,"creation_date":1651236858,"post_id":72041343,"comment_id":127322494,"body_markdown":"I put the pseudo-entity in the persistence.xml, and reset the exclude-unlisted-classes to true. It worked on this issue but &quot;one train can hide another&quot; another error popped up:  `java.lang.IllegalArgumentException: org.hibernate.QueryException: Invalid filter-parameter name format [:text]; expecting {filter-name}.{param-name} [SELECT la FROM fr.gouv.finances.douane.cotes.dao.agent.ListAgent la]...`\n\nI didn&#39;t think you could put these pseudo-entities in a persitence.xml. I learned something.","body":"I put the pseudo-entity in the persistence.xml, and reset the exclude-unlisted-classes to true. It worked on this issue but &quot;one train can hide another&quot; another error popped up:  <code>java.lang.IllegalArgumentException: org.hibernate.QueryException: Invalid filter-parameter name format [:text]; expecting {filter-name}.{param-name} [SELECT la FROM fr.gouv.finances.douane.cotes.dao.agent.ListAgent la]...</code>  I didn&#39;t think you could put these pseudo-entities in a persitence.xml. I learned something."},{"owner":{"account_id":9101408,"reputation":11,"user_id":14756852,"display_name":"jpvandekerkhove"},"score":0,"creation_date":1651484796,"post_id":72041343,"comment_id":127367701,"body_markdown":"After removing the &quot;::text)&quot;, the &quot;;&quot; final, and readjusted the parentheses, the test changed to green. The question is a priori closed.","body":"After removing the &quot;::text)&quot;, the &quot;;&quot; final, and readjusted the parentheses, the test changed to green. The question is a priori closed."}],"answers":[{"tags":[],"owner":{"account_id":9101408,"reputation":11,"user_id":14756852,"display_name":"jpvandekerkhove"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651484954,"creation_date":1651484954,"answer_id":72084995,"question_id":72041343,"body_markdown":"I put the pseudo-entity in the persistence.xml, and reset the exclude-unlisted-classes to true.\r\nFinaly, After removing the &quot;::text)&quot;, the &quot;;&quot; final, and readjusted the parentheses, the test changed to green. The question is a priori closed.","title":"Hibernate - Map View to Entity - view is not mapped [SELECT la FROM ListAgent la]","body":"<p>I put the pseudo-entity in the persistence.xml, and reset the exclude-unlisted-classes to true.\nFinaly, After removing the &quot;::text)&quot;, the &quot;;&quot; final, and readjusted the parentheses, the test changed to green. The question is a priori closed.</p>\n"}],"owner":{"account_id":9101408,"reputation":11,"user_id":14756852,"display_name":"jpvandekerkhove"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651484954,"creation_date":1651138442,"question_id":72041343,"body_markdown":"In an effort to power an autocomplete, I resolved to map a PostgreSQL view. I followed a tutorial for this.\r\n\r\nIt seems that it does not work at all : I&#39;ve always a  java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: ListAgent is not mapped [SELECT la FROM ListAgent la].\r\n\r\nHowever, I have tried many things to solve my problem:\r\n- Map of a view in an entity (as in the tutorial);\r\n- Using a @Subselect;\r\n- Creation of a materialized view and its unique index;\r\n- Setting exclude-unlisted-classes to false (persistence.xml);\r\n- deactivation of JPA validator in build in Eclipse (due to problems with @Entity);\r\n- Added constructors and setters (may be unnecessarily)\r\n\r\nNo success: always the same answer.\r\n\r\n**The Test-case**\r\n\r\n    package fr.gouv.finances.douane.cotes.dao.agent;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    import java.util.List;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    \r\n    import org.junit.After;\r\n    import org.junit.AfterClass;\r\n    import org.junit.Before;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n    \r\n    \t/**\r\n    \t * Tests unitaires de la classe PasswordDAOImpl\r\n    \t * \r\n    \t * @author VANDEKERKHOVE\r\n    \t * @version 0.0.1.SNAPSHOT\r\n    \t */\r\n    \tpublic class AgentDAOImplTest {\r\n    \t\t\r\n    \t\t// Stateless\r\n    \t\tprivate AgentDAOImpl dao;\r\n    \t\t\r\n    \t\t// Emulation du serveur Wildfly\r\n    \t\tprivate EntityManager em;\r\n    \t\tprivate static EntityManagerFactory emf;\r\n    \r\n    \t\t@SuppressWarnings(&quot;unused&quot;)\r\n    \t\tprivate List&lt;?&gt; las;\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Initialisation de l&#39;environnement de test\r\n    \t\t * @throws java.lang.Exception\r\n    \t\t */\r\n    \t\t@BeforeClass\r\n    \t\tpublic static void setUpBeforeClass() throws Exception {\r\n    \t\t\t// Factory construite une fois\r\n    \t\t\temf = Persistence.createEntityManagerFactory(&quot;cote-s-ejbTest&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Remise en etat de l&#39;environnement de test\r\n    \t\t * @throws java.lang.Exception\r\n    \t\t */\r\n    \t\t@AfterClass\r\n    \t\tpublic static void tearDownAfterClass() throws Exception {\r\n    \t\t\t// Suppression de la factory\r\n    \t\t\temf.close();\r\n    \t\t\temf = null;\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Initialisation avant chaque test\r\n    \t\t * @throws java.lang.Exception\r\n    \t\t */\r\n    \t\t@Before\r\n    \t\tpublic void setUp() throws Exception {\r\n    \t\t\t// Au debut de chaque testcase\r\n    \t\t\tem = emf.createEntityManager();\r\n    \t\t\tem.getTransaction().begin();\r\n    \t\t\t\r\n    \t\t\t// Stateless\r\n    \t\t\tdao = new AgentDAOImpl();\r\n    \t\t\tdao.setEm(em);\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Reset apr&#232;s chaque test\r\n    \t\t * @throws java.lang.Exception\r\n    \t\t */\t\r\n    \t\t@After\r\n    \t\tpublic void tearDown() throws Exception {\r\n    \t\t\t// A la fin de chaque test\r\n    \t\t\tem.getTransaction().commit();\r\n    \t\t\tem.close();\r\n    \t\t\t\r\n    \t\t\t// Fin du Stateless\r\n    \t\t\tdao.setEm(null);\r\n    \t\t\tdao = null;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//=========================\r\n    \t\t// Tests proprements dits\r\n    \t\t//=========================\r\n    \t\t@Test\r\n    \t\tpublic void test() {\r\n    \t\t\tList&lt;ListAgent&gt; las = em.createQuery(&quot;SELECT la FROM ListAgent la&quot;, ListAgent.class).getResultList();\r\n    \t\t\t\r\n    \t\t\tListAgent la_enr = las.get(0);\r\n    \t\t\t\r\n    \t\t\tassertEquals(&quot;FROC Christian&quot;, la_enr.getName());\r\n    \t\t}\r\n    }\r\n\r\n**The class ListAgent**\r\n\r\n    package fr.gouv.finances.douane.cotes.dao.agent;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import org.hibernate.annotations.Immutable;\r\n    import org.hibernate.annotations.Subselect;\r\n    \r\n    /**\r\n     * Classe de requete pour la vue &quot;l_agents&quot;\r\n     * \r\n     * @author Jean Paul Vandekerkhove\r\n     * @version 0.0.2.SNAPSHOT\r\n     */\r\n    @Entity\r\n    @Immutable\r\n    @Subselect(&quot;SELECT a.a_id AS id,\\r\\n&quot; + \r\n    \t\t&quot;    ((btrim((a.a_nom)::text) || &#39; &#39;::text) || btrim((a.a_prenom)::text)) AS name\\r\\n&quot; + \r\n    \t\t&quot;   FROM agent a\\r\\n&quot; + \r\n    \t\t&quot;  WHERE ((a.a_actif = true) OR ((a.a_actif = false) AND (a.a_datesuppression &gt;= CURRENT_DATE)));&quot;)\r\n    //@Table(name=&quot;l_agents&quot;, schema=&quot;cotes_admin&quot;)\r\n    public class ListAgent {\r\n    \t\r\n    \t//=========================\r\n    \t// Attributs\r\n    \t//=========================\t\r\n    \t@Id\r\n    \t@Column(name=&quot;id&quot;, updatable = false, nullable = false)\r\n    \tprivate Long id;\r\n    \t\r\n    \t@Column(name=&quot;name&quot;)\r\n    \tprivate String name;\r\n    \r\n    \t//=========================\r\n    \t//     Constructeurs\r\n    \t//=========================  \t\r\n    \t/**\r\n    \t * Constructeur vide\r\n    \t */\r\n    \tpublic ListAgent() {\r\n    \t\tsuper();\r\n    \t}\t\r\n    \t\r\n    \t/**\r\n    \t * Constructeur complet\r\n    \t * \r\n    \t * @param id - Identifiant de l&#39;agent\r\n    \t * @param name - nom-pr&#233;nom de l&#39;agent\r\n    \t */\r\n    \tpublic ListAgent(Long id, String name) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t}\t\r\n    \r\n    \t//=========================\r\n    \t//    Getters et Setters\r\n    \t//=========================\r\n    \t/**\r\n    \t * Retourne l&#39;identifiant de l&#39;Agent\r\n    \t * @return id - identifiant de l&#39;Agent\r\n    \t */\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * MaJ de l&#39;Identifiant de l&#39;Agent\r\n    \t * @param id - Identifiant de l&#39;agent\r\n    \t */\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n        \r\n    \t/**\r\n    \t * Retourne l&#39;identit&#233; complete de l&#39;Agent\r\n    \t * @return name - nom-pr&#233;nom de l&#39;Agent\r\n    \t */\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * MaJ de l&#39;identit&#233; complete de l&#39;Agent\r\n    \t * @param name - nom-pr&#233;nom de l&#39;Agent\r\n    \t */\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\n**The POM**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      \r\n      &lt;parent&gt;\r\n      \t&lt;groupId&gt;fr.gouv.finances.douane.cote-s&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cote-s&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      \r\n      &lt;artifactId&gt;cote-s-ejb&lt;/artifactId&gt;\r\n      &lt;packaging&gt;ejb&lt;/packaging&gt;\r\n       \r\n      &lt;dependencies&gt;\r\n      \t\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\r\n      \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n      \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t\r\n      \t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        \t&lt;version&gt;5.3.15.Final&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n       \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n      \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t\r\n      \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n      \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n      \t&lt;/dependency&gt;\r\n    \t\r\n     \t&lt;!-- Tests --&gt;\r\n      \t\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t\r\n      \t&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;42.2.12&lt;/version&gt;\r\n    \t    &lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n      \t\r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;build&gt;\r\n      \t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n      \t&lt;plugins&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;!-- package EJB 3 --&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;ejbVersion&gt;3.2&lt;/ejbVersion&gt;\r\n    \t\t\t\t\t&lt;generateClient&gt;true&lt;/generateClient&gt;\r\n    \t\t\t\t\t&lt;clientIncludes&gt;\r\n    \t\t\t\t\t\t&lt;clientInclude&gt;**/*.class&lt;/clientInclude&gt;\r\n    \t\t\t\t\t&lt;/clientIncludes&gt;\r\n    \t\t\t\t\t&lt;clientExcludes&gt;\r\n    \t\t\t\t\t\t&lt;clientExclude&gt;**/*Bean.class&lt;/clientExclude&gt;\r\n    \t\t\t\t\t&lt;/clientExcludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\r\n    &lt;/project&gt;\r\n\r\n**The main software used (all at the technical level)**\r\n- Eclipse 2020-06;\r\n- OpenJDK Red Hat 11;\r\n- Wildfly 19.1;\r\n- PostgreSQL 11;\r\n\r\n**The persistence.xml (normal)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot; version=&quot;2.2&quot;&gt;\r\n        &lt;persistence-unit name=&quot;cote-s-ejb&quot; transaction-type=&quot;JTA&quot;&gt;\r\n    \t\t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;    \r\n        \t&lt;jta-data-source&gt;java:/CotesDS-ds&lt;/jta-data-source&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.agent.Agent&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.grade.Grade&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.service.Service&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.droit.Droit&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.droitAgent.DroitAgent&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.cycleCourt.CycleCourt&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.desiderata.Desiderata&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.disponibilite.Disponibilite&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtCyclecourt.Mvtcyclecourt&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtDesiderata.Mvtdesiderata&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.password.Password&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.activite.Activite&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.coteService.CoteService&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.quantieme.Quantieme&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.sdf.Sdf&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.vacation.Vacation&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtArtt.Mvtartt&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.typeConge.Typeconge&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.absences.Absence&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.prevision.Prevision&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.recuperation.Recuperation&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.conges.Conges&lt;/class&gt;\r\n    \t    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQL95Dialect&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.default_schema&quot; value=&quot;cotes_admin&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot;/&gt;\t\t\t\r\n    \t\t\t&lt;!-- JBoss --&gt;\r\n    \t\t\t&lt;property name=&quot;jboss.entity.manager.jndi.name&quot; value=&quot;java:/emCotes&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;jboss.entity.manager.factory.jndi.name&quot; value=&quot;java:/emCotesFactory&quot;/&gt;\r\n    \t\t&lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\t\t  \r\n    &lt;/persistence&gt;\r\n\r\n**The persistence.xml (tests)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot; version=&quot;2.2&quot;&gt;\r\n        &lt;persistence-unit name=&quot;cote-s-ejbTest&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t\t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;    \r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.agent.Agent&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.grade.Grade&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.service.Service&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.droit.Droit&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.droitAgent.DroitAgent&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.cycleCourt.CycleCourt&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.desiderata.Desiderata&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.disponibilite.Disponibilite&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtCyclecourt.Mvtcyclecourt&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtDesiderata.Mvtdesiderata&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.password.Password&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.activite.Activite&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.coteService.CoteService&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.quantieme.Quantieme&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.sdf.Sdf&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.vacation.Vacation&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtArtt.Mvtartt&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.typeConge.Typeconge&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.absences.Absence&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.prevision.Prevision&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.recuperation.Recuperation&lt;/class&gt;\r\n    \t    &lt;class&gt;fr.gouv.finances.douane.cotes.dao.conges.Conges&lt;/class&gt;\r\n    \t    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQL95Dialect&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.default_schema&quot; value=&quot;cotes_admin&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:postgresql://localhost:5432/cotes&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.username&quot; value=&quot;cotes_admin&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.password&quot; value=&quot;cotes_admin&quot;/&gt;\t\t\t\r\n    \t\t&lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\t\t  \r\n    &lt;/persistence&gt;\r\n\r\nThank you in advance for your Help.\r\n\r\nBest Regards","title":"Hibernate - Map View to Entity - view is not mapped [SELECT la FROM ListAgent la]","body":"<p>In an effort to power an autocomplete, I resolved to map a PostgreSQL view. I followed a tutorial for this.</p>\n<p>It seems that it does not work at all : I've always a  java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: ListAgent is not mapped [SELECT la FROM ListAgent la].</p>\n<p>However, I have tried many things to solve my problem:</p>\n<ul>\n<li>Map of a view in an entity (as in the tutorial);</li>\n<li>Using a @Subselect;</li>\n<li>Creation of a materialized view and its unique index;</li>\n<li>Setting exclude-unlisted-classes to false (persistence.xml);</li>\n<li>deactivation of JPA validator in build in Eclipse (due to problems with @Entity);</li>\n<li>Added constructors and setters (may be unnecessarily)</li>\n</ul>\n<p>No success: always the same answer.</p>\n<p><strong>The Test-case</strong></p>\n<pre><code>package fr.gouv.finances.douane.cotes.dao.agent;\n\nimport static org.junit.Assert.assertEquals;\nimport java.util.List;\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\nimport org.junit.After;\nimport org.junit.AfterClass;\nimport org.junit.Before;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\n\n    /**\n     * Tests unitaires de la classe PasswordDAOImpl\n     * \n     * @author VANDEKERKHOVE\n     * @version 0.0.1.SNAPSHOT\n     */\n    public class AgentDAOImplTest {\n        \n        // Stateless\n        private AgentDAOImpl dao;\n        \n        // Emulation du serveur Wildfly\n        private EntityManager em;\n        private static EntityManagerFactory emf;\n\n        @SuppressWarnings(&quot;unused&quot;)\n        private List&lt;?&gt; las;\n        \n        /**\n         * Initialisation de l'environnement de test\n         * @throws java.lang.Exception\n         */\n        @BeforeClass\n        public static void setUpBeforeClass() throws Exception {\n            // Factory construite une fois\n            emf = Persistence.createEntityManagerFactory(&quot;cote-s-ejbTest&quot;);\n        }\n        \n        /**\n         * Remise en etat de l'environnement de test\n         * @throws java.lang.Exception\n         */\n        @AfterClass\n        public static void tearDownAfterClass() throws Exception {\n            // Suppression de la factory\n            emf.close();\n            emf = null; \n        }\n        \n        /**\n         * Initialisation avant chaque test\n         * @throws java.lang.Exception\n         */\n        @Before\n        public void setUp() throws Exception {\n            // Au debut de chaque testcase\n            em = emf.createEntityManager();\n            em.getTransaction().begin();\n            \n            // Stateless\n            dao = new AgentDAOImpl();\n            dao.setEm(em);\n        }\n        \n        /**\n         * Reset après chaque test\n         * @throws java.lang.Exception\n         */ \n        @After\n        public void tearDown() throws Exception {\n            // A la fin de chaque test\n            em.getTransaction().commit();\n            em.close();\n            \n            // Fin du Stateless\n            dao.setEm(null);\n            dao = null;\n        }\n        \n        //=========================\n        // Tests proprements dits\n        //=========================\n        @Test\n        public void test() {\n            List&lt;ListAgent&gt; las = em.createQuery(&quot;SELECT la FROM ListAgent la&quot;, ListAgent.class).getResultList();\n            \n            ListAgent la_enr = las.get(0);\n            \n            assertEquals(&quot;FROC Christian&quot;, la_enr.getName());\n        }\n}\n</code></pre>\n<p><strong>The class ListAgent</strong></p>\n<pre><code>package fr.gouv.finances.douane.cotes.dao.agent;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport org.hibernate.annotations.Immutable;\nimport org.hibernate.annotations.Subselect;\n\n/**\n * Classe de requete pour la vue &quot;l_agents&quot;\n * \n * @author Jean Paul Vandekerkhove\n * @version 0.0.2.SNAPSHOT\n */\n@Entity\n@Immutable\n@Subselect(&quot;SELECT a.a_id AS id,\\r\\n&quot; + \n        &quot;    ((btrim((a.a_nom)::text) || ' '::text) || btrim((a.a_prenom)::text)) AS name\\r\\n&quot; + \n        &quot;   FROM agent a\\r\\n&quot; + \n        &quot;  WHERE ((a.a_actif = true) OR ((a.a_actif = false) AND (a.a_datesuppression &gt;= CURRENT_DATE)));&quot;)\n//@Table(name=&quot;l_agents&quot;, schema=&quot;cotes_admin&quot;)\npublic class ListAgent {\n    \n    //=========================\n    // Attributs\n    //========================= \n    @Id\n    @Column(name=&quot;id&quot;, updatable = false, nullable = false)\n    private Long id;\n    \n    @Column(name=&quot;name&quot;)\n    private String name;\n\n    //=========================\n    //     Constructeurs\n    //=========================     \n    /**\n     * Constructeur vide\n     */\n    public ListAgent() {\n        super();\n    }   \n    \n    /**\n     * Constructeur complet\n     * \n     * @param id - Identifiant de l'agent\n     * @param name - nom-prénom de l'agent\n     */\n    public ListAgent(Long id, String name) {\n        super();\n        this.id = id;\n        this.name = name;\n    }   \n\n    //=========================\n    //    Getters et Setters\n    //=========================\n    /**\n     * Retourne l'identifiant de l'Agent\n     * @return id - identifiant de l'Agent\n     */\n    public Long getId() {\n        return id;\n    }\n\n    /**\n     * MaJ de l'Identifiant de l'Agent\n     * @param id - Identifiant de l'agent\n     */\n    public void setId(Long id) {\n        this.id = id;\n    }\n    \n    /**\n     * Retourne l'identité complete de l'Agent\n     * @return name - nom-prénom de l'Agent\n     */\n    public String getName() {\n        return name;\n    }\n\n    /**\n     * MaJ de l'identité complete de l'Agent\n     * @param name - nom-prénom de l'Agent\n     */\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p><strong>The POM</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;groupId&gt;fr.gouv.finances.douane.cote-s&lt;/groupId&gt;\n    &lt;artifactId&gt;cote-s&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  \n  &lt;artifactId&gt;cote-s-ejb&lt;/artifactId&gt;\n  &lt;packaging&gt;ejb&lt;/packaging&gt;\n   \n  &lt;dependencies&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n        &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15.Final&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- Tests --&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.2.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;plugins&gt;\n            \n            &lt;!-- package EJB 3 --&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;ejbVersion&gt;3.2&lt;/ejbVersion&gt;\n                    &lt;generateClient&gt;true&lt;/generateClient&gt;\n                    &lt;clientIncludes&gt;\n                        &lt;clientInclude&gt;**/*.class&lt;/clientInclude&gt;\n                    &lt;/clientIncludes&gt;\n                    &lt;clientExcludes&gt;\n                        &lt;clientExclude&gt;**/*Bean.class&lt;/clientExclude&gt;\n                    &lt;/clientExcludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n&lt;/project&gt;\n</code></pre>\n<p><strong>The main software used (all at the technical level)</strong></p>\n<ul>\n<li>Eclipse 2020-06;</li>\n<li>OpenJDK Red Hat 11;</li>\n<li>Wildfly 19.1;</li>\n<li>PostgreSQL 11;</li>\n</ul>\n<p><strong>The persistence.xml (normal)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot; version=&quot;2.2&quot;&gt;\n    &lt;persistence-unit name=&quot;cote-s-ejb&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;    \n        &lt;jta-data-source&gt;java:/CotesDS-ds&lt;/jta-data-source&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.agent.Agent&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.grade.Grade&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.service.Service&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.droit.Droit&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.droitAgent.DroitAgent&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.cycleCourt.CycleCourt&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.desiderata.Desiderata&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.disponibilite.Disponibilite&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtCyclecourt.Mvtcyclecourt&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtDesiderata.Mvtdesiderata&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.password.Password&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.activite.Activite&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.coteService.CoteService&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.quantieme.Quantieme&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.sdf.Sdf&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.vacation.Vacation&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtArtt.Mvtartt&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.typeConge.Typeconge&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.absences.Absence&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.prevision.Prevision&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.recuperation.Recuperation&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.conges.Conges&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQL95Dialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;cotes_admin&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot;/&gt;          \n            &lt;!-- JBoss --&gt;\n            &lt;property name=&quot;jboss.entity.manager.jndi.name&quot; value=&quot;java:/emCotes&quot;/&gt;\n            &lt;property name=&quot;jboss.entity.manager.factory.jndi.name&quot; value=&quot;java:/emCotesFactory&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;       \n&lt;/persistence&gt;\n</code></pre>\n<p><strong>The persistence.xml (tests)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot; version=&quot;2.2&quot;&gt;\n    &lt;persistence-unit name=&quot;cote-s-ejbTest&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;    \n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.agent.Agent&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.grade.Grade&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.service.Service&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.droit.Droit&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.droitAgent.DroitAgent&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.cycleCourt.CycleCourt&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.desiderata.Desiderata&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.disponibilite.Disponibilite&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtCyclecourt.Mvtcyclecourt&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtDesiderata.Mvtdesiderata&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.password.Password&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.activite.Activite&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.coteService.CoteService&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.quantieme.Quantieme&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.sdf.Sdf&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.vacation.Vacation&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.mvtArtt.Mvtartt&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.typeConge.Typeconge&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.absences.Absence&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.prevision.Prevision&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.recuperation.Recuperation&lt;/class&gt;\n        &lt;class&gt;fr.gouv.finances.douane.cotes.dao.conges.Conges&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQL95Dialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;cotes_admin&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:postgresql://localhost:5432/cotes&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;cotes_admin&quot;/&gt;\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;cotes_admin&quot;/&gt;            \n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;       \n&lt;/persistence&gt;\n</code></pre>\n<p>Thank you in advance for your Help.</p>\n<p>Best Regards</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4880001,"reputation":5794,"user_id":3946766,"display_name":"matsjoyce"},"score":6,"creation_date":1411734591,"post_id":26059533,"comment_id":40826390,"body_markdown":"`17 * 100 / 100 = 17`, which in percent is `1700%`?","body":"<code>17 * 100 &#47; 100 = 17</code>, which in percent is <code>1700%</code>?"},{"owner":{"account_id":2442876,"reputation":7456,"user_id":2137269,"accept_rate":79,"display_name":"Evan Knowles"},"score":2,"creation_date":1411734620,"post_id":26059533,"comment_id":40826409,"body_markdown":"We&#39;re going to need to see a bit more code here. Your two lines appear to have nothing to do with one another.","body":"We&#39;re going to need to see a bit more code here. Your two lines appear to have nothing to do with one another."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1411734800,"post_id":26059533,"comment_id":40826534,"body_markdown":"More specifically, `percentOne` becomes `17`.  Which makes sense, given basic arithmetic.  `17`, as a whole number, expressed as a percent of a whole (`1`), is `1700`.  This isn&#39;t a problem with Java, this is a problem with your understanding of arithmetic.","body":"More specifically, <code>percentOne</code> becomes <code>17</code>.  Which makes sense, given basic arithmetic.  <code>17</code>, as a whole number, expressed as a percent of a whole (<code>1</code>), is <code>1700</code>.  This isn&#39;t a problem with Java, this is a problem with your understanding of arithmetic."},{"owner":{"account_id":541338,"reputation":1848,"user_id":282266,"display_name":"Claudio"},"score":0,"creation_date":1411734932,"post_id":26059533,"comment_id":40826615,"body_markdown":"Please, set the title to something more meaningful and related to your problem next time.","body":"Please, set the title to something more meaningful and related to your problem next time."},{"owner":{"account_id":323371,"reputation":1095,"user_id":643350,"accept_rate":50,"display_name":"Dipin Narayanan"},"score":0,"creation_date":1411734936,"post_id":26059533,"comment_id":40826619,"body_markdown":"Guys, please don&#39;t down vote a person who has no reputation","body":"Guys, please don&#39;t down vote a person who has no reputation"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":5,"creation_date":1411735137,"post_id":26059533,"comment_id":40826745,"body_markdown":"@Dipin: Downvotes are made on a question, not on a user.  The user&#39;s rep score is irrelevant.  It&#39;s a bad question, so the community downvotes it.","body":"@Dipin: Downvotes are made on a question, not on a user.  The user&#39;s rep score is irrelevant.  It&#39;s a bad question, so the community downvotes it."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1651485023,"post_id":26059533,"comment_id":127367776,"body_markdown":"I edited the question to reflect what I think was the OP&#39;s intent. I think it makes more sense now.","body":"I edited the question to reflect what I think was the OP&#39;s intent. I think it makes more sense now."}],"answers":[{"tags":[],"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411734597,"creation_date":1411734597,"answer_id":26059617,"question_id":26059533,"body_markdown":"Percentages as doubles are *less than or equal to* one -- they&#39;re a fraction between 0 and 1. So 17% is 0.17, not 17.","title":"Formatted percentage value is not what&#39;s expected","body":"<p>Percentages as doubles are <em>less than or equal to</em> one -- they're a fraction between 0 and 1. So 17% is 0.17, not 17.</p>\n"},{"tags":[],"owner":{"display_name":"user4079229"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1411734711,"creation_date":1411734711,"answer_id":26059645,"question_id":26059533,"body_markdown":"    17 % = 0.17 \r\n\r\n    17 * 100 / 100 = 17  // This is the reason behind.","title":"Formatted percentage value is not what&#39;s expected","body":"<pre><code>17 % = 0.17 \n\n17 * 100 / 100 = 17  // This is the reason behind.\n</code></pre>\n"}],"owner":{"account_id":4987762,"reputation":129,"user_id":4010858,"accept_rate":91,"display_name":"Jimmy Lillegaard"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"accepted_answer_id":26059645,"answer_count":2,"score":-4,"last_activity_date":1651484705,"creation_date":1411734329,"question_id":26059533,"body_markdown":"     percentOne = (double)faceOne * 100.0 / (double)amount;\r\n     NumberFormat fmt = NumberFormat.getPercentInstance();\r\n     fmt.format(percentOne);\r\n\r\nIf `faceOne` is 17 and `amount` is 100, then the `percentOne` becomes 1,700 % \r\n\r\nI don&#39;t understand why.","title":"Formatted percentage value is not what&#39;s expected","body":"<pre><code> percentOne = (double)faceOne * 100.0 / (double)amount;\n NumberFormat fmt = NumberFormat.getPercentInstance();\n fmt.format(percentOne);\n</code></pre>\n<p>If <code>faceOne</code> is 17 and <code>amount</code> is 100, then the <code>percentOne</code> becomes 1,700 %</p>\n<p>I don't understand why.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1651479628,"post_id":72084032,"comment_id":127366238,"body_markdown":"The code you posted uses `@RequestMap`, not `@RequestMapping`, and it won&#39;t even compile.","body":"The code you posted uses <code>@RequestMap</code>, not <code>@RequestMapping</code>, and it won&#39;t even compile."},{"owner":{"account_id":22599261,"reputation":29,"user_id":16781087,"display_name":"Mursalin"},"score":0,"creation_date":1651479733,"post_id":72084032,"comment_id":127366266,"body_markdown":"if I write @RequestM the intellij should give me the whole right? But it seems it doesn&#39;t even support this annotation","body":"if I write @RequestM the intellij should give me the whole right? But it seems it doesn&#39;t even support this annotation"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1651479821,"post_id":72084032,"comment_id":127366292,"body_markdown":"The annotation is in the wrong place.  It should be at the class or method level.","body":"The annotation is in the wrong place.  It should be at the class or method level."},{"owner":{"account_id":22599261,"reputation":29,"user_id":16781087,"display_name":"Mursalin"},"score":0,"creation_date":1651480057,"post_id":72084032,"comment_id":127366347,"body_markdown":"It doesn&#39;t need to be .. even if I create a method and use this annotation above it, still @RequestMapping isnt recognized by Intellij , I dont know whats wrong.","body":"It doesn&#39;t need to be .. even if I create a method and use this annotation above it, still @RequestMapping isnt recognized by Intellij , I dont know whats wrong."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1651480133,"post_id":72084032,"comment_id":127366362,"body_markdown":"Compile without the incomplete annotation and paste the logs here. Also provide the list of dependencies included by maven. We cannot say anything useful without all this.","body":"Compile without the incomplete annotation and paste the logs here. Also provide the list of dependencies included by maven. We cannot say anything useful without all this."},{"owner":{"account_id":22599261,"reputation":29,"user_id":16781087,"display_name":"Mursalin"},"score":0,"creation_date":1651480174,"post_id":72084032,"comment_id":127366368,"body_markdown":"Ok , Ill edit this then","body":"Ok , Ill edit this then"}],"answers":[{"tags":[],"owner":{"account_id":8353148,"reputation":128,"user_id":6463720,"display_name":"Ziaa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651480956,"creation_date":1651480956,"answer_id":72084273,"question_id":72084032,"body_markdown":"`@RequestMapping` is in `org.springframework.web.bind.annotation` package. So you need to import it\r\n\r\n```\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/Main&quot;)\r\npublic class MainController {\r\n```","title":"Why isn&#39;t my @RequestMapping working on Springboot?","body":"<p><code>@RequestMapping</code> is in <code>org.springframework.web.bind.annotation</code> package. So you need to import it</p>\n<pre><code>import org.springframework.web.bind.annotation.*;\n\n\n@RestController\n@RequestMapping(&quot;/Main&quot;)\npublic class MainController {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22599261,"reputation":29,"user_id":16781087,"display_name":"Mursalin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651484565,"creation_date":1651484565,"answer_id":72084914,"question_id":72084032,"body_markdown":"Updating to latest version of Intellij solved this problem ","title":"Why isn&#39;t my @RequestMapping working on Springboot?","body":"<p>Updating to latest version of Intellij solved this problem</p>\n"}],"owner":{"account_id":22599261,"reputation":29,"user_id":16781087,"display_name":"Mursalin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1651484565,"creation_date":1651479457,"question_id":72084032,"body_markdown":"I have tried to create a springboot project using spring initilizr in intellij ultimate edition and selected Spring web and Thymeleaf dependencies while making that project. But when I try to add @RequestMapping under the class MainController.java , the @Requestmapping doesn&#39;t show up.\r\n\r\npom.xml : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.7&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo4&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo4&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nMainController.java\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    \r\n    @Controller\r\n    public class MainController {\r\n        @RequestMap\r\n    }\r\n\r\nMain class :\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Demo4Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Demo4Application.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nHere is the logs if I try to run without @RequestMapping \r\n\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.6.7)\r\n    \r\n    2022-05-02 14:31:06.610  INFO 10180 --- [           main] com.example.demo.Demo4Application        : Starting Demo4Application using Java 17.0.1 on Mursalin with PID 10180 (D:\\JavaFolder\\demo4\\target\\classes started by USER in D:\\JavaFolder\\demo4)\r\n    2022-05-02 14:31:06.610  INFO 10180 --- [           main] com.example.demo.Demo4Application        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-05-02 14:31:07.296  INFO 10180 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-05-02 14:31:07.312  INFO 10180 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-05-02 14:31:07.312  INFO 10180 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.62]\r\n    2022-05-02 14:31:07.405  INFO 10180 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-05-02 14:31:07.421  INFO 10180 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 765 ms\r\n    2022-05-02 14:31:07.640  WARN 10180 --- [           main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)\r\n    2022-05-02 14:31:07.702  INFO 10180 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-05-02 14:31:07.718  INFO 10180 --- [           main] com.example.demo.Demo4Application        : Started Demo4Application in 1.708 seconds (JVM running for 2.55)\r\n\r\nHere are the file structures : \r\n\r\n[![RequestMapping doesn&#39;t show!][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/UeGrI.png\r\n\r\n","title":"Why isn&#39;t my @RequestMapping working on Springboot?","body":"<p>I have tried to create a springboot project using spring initilizr in intellij ultimate edition and selected Spring web and Thymeleaf dependencies while making that project. But when I try to add @RequestMapping under the class MainController.java , the @Requestmapping doesn't show up.</p>\n<p>pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo4&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo4&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>MainController.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.stereotype.Controller;\n\n@Controller\npublic class MainController {\n    @RequestMap\n}\n</code></pre>\n<p>Main class :</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Demo4Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Demo4Application.class, args);\n    }\n\n}\n</code></pre>\n<p>Here is the logs if I try to run without @RequestMapping</p>\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.7)\n\n2022-05-02 14:31:06.610  INFO 10180 --- [           main] com.example.demo.Demo4Application        : Starting Demo4Application using Java 17.0.1 on Mursalin with PID 10180 (D:\\JavaFolder\\demo4\\target\\classes started by USER in D:\\JavaFolder\\demo4)\n2022-05-02 14:31:06.610  INFO 10180 --- [           main] com.example.demo.Demo4Application        : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-05-02 14:31:07.296  INFO 10180 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-05-02 14:31:07.312  INFO 10180 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-05-02 14:31:07.312  INFO 10180 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.62]\n2022-05-02 14:31:07.405  INFO 10180 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-05-02 14:31:07.421  INFO 10180 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 765 ms\n2022-05-02 14:31:07.640  WARN 10180 --- [           main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)\n2022-05-02 14:31:07.702  INFO 10180 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-05-02 14:31:07.718  INFO 10180 --- [           main] com.example.demo.Demo4Application        : Started Demo4Application in 1.708 seconds (JVM running for 2.55)\n</code></pre>\n<p>Here are the file structures :</p>\n<p><a href=\"https://i.stack.imgur.com/UeGrI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UeGrI.png\" alt=\"RequestMapping doesn't show!\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"score":1,"creation_date":1651330853,"post_id":72069567,"comment_id":127341853,"body_markdown":"Why is there a `+` symbol in every `setText()` method? You should also post your crash log.","body":"Why is there a <code>+</code> symbol in every <code>setText()</code> method? You should also post your crash log."},{"owner":{"account_id":24164755,"reputation":11,"user_id":18127789,"display_name":"Tejpreet Singh"},"score":0,"creation_date":1651330918,"post_id":72069567,"comment_id":127341865,"body_markdown":"concatenation operator sir","body":"concatenation operator sir"},{"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"score":1,"creation_date":1651331169,"post_id":72069567,"comment_id":127341917,"body_markdown":"What are you concatenating it with, you&#39;ve simply put `+` in front of an `int`.","body":"What are you concatenating it with, you&#39;ve simply put <code>+</code> in front of an <code>int</code>."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1651332758,"post_id":72069567,"comment_id":127342230,"body_markdown":"Most likely crash is a NumberFormatException if the text values are blank or not integers when you call `parseInt`, but you need to post the actual crash log. See [this for details too](https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this)","body":"Most likely crash is a NumberFormatException if the text values are blank or not integers when you call <code>parseInt</code>, but you need to post the actual crash log. See <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\">this for details too</a>"}],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651334508,"creation_date":1651334508,"answer_id":72070031,"question_id":72069567,"body_markdown":"If you send an `int/Integer` to `TextView`, it will try to search resources for a string with that id(in res/values/strings.xml). See [setText][1].\r\n\r\nYou need to cast it back to a string again, e:g: `String.valueOf(t4)` or by `t4+&quot;&quot;`\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/TextView#setText(int)","title":"My Android app crashes when a button is clicked","body":"<p>If you send an <code>int/Integer</code> to <code>TextView</code>, it will try to search resources for a string with that id(in res/values/strings.xml). See <a href=\"https://developer.android.com/reference/android/widget/TextView#setText(int)\" rel=\"nofollow noreferrer\">setText</a>.</p>\n<p>You need to cast it back to a string again, e:g: <code>String.valueOf(t4)</code> or by <code>t4+&quot;&quot;</code></p>\n"}],"owner":{"account_id":24164755,"reputation":11,"user_id":18127789,"display_name":"Tejpreet Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1651501232,"accepted_answer_id":72070031,"answer_count":1,"score":0,"last_activity_date":1651484288,"creation_date":1651330666,"question_id":72069567,"body_markdown":"My app crashes after button click. The app I was making was for tables. But unfortunately the app crashes after the button click\r\n\r\n    package com.example.ch1practisemulti;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button button;\r\n        EditText editText;\r\n        TextView text1;\r\n        TextView text2;\r\n        TextView text3;\r\n        TextView text4;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            button = findViewById(R.id.button);\r\n            editText = findViewById(R.id.editTextNumber);\r\n            text1 = findViewById(R.id.text1);\r\n            text2 = findViewById(R.id.text2);\r\n            text3 = findViewById(R.id.text3);\r\n            text4 = findViewById(R.id.text4);\r\n    \r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    int t1 = Integer.parseInt(editText.getText().toString());\r\n                    int t2 = Integer.parseInt(editText.getText().toString()) * 2;\r\n                    int t3 = Integer.parseInt(editText.getText().toString()) * 3;\r\n                    int t4 = Integer.parseInt(editText.getText().toString()) * 4;\r\n                    text1.setText(+t1);\r\n                    text2.setText(+t2);\r\n                    text3.setText(+t3);\r\n                    text4.setText(+t4);\r\n                }\r\n            });\r\n        }\r\n    }","title":"My Android app crashes when a button is clicked","body":"<p>My app crashes after button click. The app I was making was for tables. But unfortunately the app crashes after the button click</p>\n<pre><code>package com.example.ch1practisemulti;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button button;\n    EditText editText;\n    TextView text1;\n    TextView text2;\n    TextView text3;\n    TextView text4;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button = findViewById(R.id.button);\n        editText = findViewById(R.id.editTextNumber);\n        text1 = findViewById(R.id.text1);\n        text2 = findViewById(R.id.text2);\n        text3 = findViewById(R.id.text3);\n        text4 = findViewById(R.id.text4);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                int t1 = Integer.parseInt(editText.getText().toString());\n                int t2 = Integer.parseInt(editText.getText().toString()) * 2;\n                int t3 = Integer.parseInt(editText.getText().toString()) * 3;\n                int t4 = Integer.parseInt(editText.getText().toString()) * 4;\n                text1.setText(+t1);\n                text2.setText(+t2);\n                text3.setText(+t3);\n                text4.setText(+t4);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","android","split","object-class"],"answers":[{"tags":[],"owner":{"account_id":16777988,"reputation":134,"user_id":12128814,"display_name":"Alek KT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651484182,"creation_date":1651484182,"answer_id":72084861,"question_id":72061831,"body_markdown":"It&#39;s a NullPointerException.\r\nBefore calling a split, you have to check if your String != nulll. \r\nAfter, be sure that your String[] is not null before calling the length method. \r\nAfter that, If i were you, when I have a String[], I will build my object in a For Loop by using your setters. \r\n\r\n","title":"Unable to split string to array and store to array object in Android Java","body":"<p>It's a NullPointerException.\nBefore calling a split, you have to check if your String != nulll.\nAfter, be sure that your String[] is not null before calling the length method.\nAfter that, If i were you, when I have a String[], I will build my object in a For Loop by using your setters.</p>\n"}],"owner":{"account_id":24412972,"reputation":49,"user_id":18340187,"display_name":"XDfox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72084861,"answer_count":1,"score":1,"last_activity_date":1651484182,"creation_date":1651254068,"question_id":72061831,"body_markdown":"Is there any way to splits a string into an array and loop it into an array class in android java?\r\nBelow is my code but it cannot loop \r\n\r\nSample ScanResultProduct record =&quot;P001,7,1,7,P002,8,2,16&quot;;\r\n\r\n\r\n```\r\n        String ScanResultProduct[];\r\n        ScannedProductList[] ScannedProductList;\r\n\r\n        ScanResultProduct = UserScanResulted.split(&quot;,&quot;);\r\n        int Length = ScanResultProduct.length;\r\n        int LengthResult = Length / 4;\r\n        ScannedProductList[] ScanResultProductList = new ScannedProductList[LengthResult];\r\n\r\n\r\n        for (int i = 0, index = 0; index &lt; ScannedProductList.length; index++) {\r\n            ScanResultProductList[index] = new ScannedProductList(ScanResultProduct[i], ScanResultProduct[i + 1], ScanResultProduct[i + 2], ScanResultProduct[i + 3]);\r\n            i += 4;\r\n        }\r\n```\r\n\r\nThis is the ScanResultProductList class\r\n\r\n\r\n    public class ScannedProductList {\r\n        public String ProductID;\r\n        public String ProductPrice;\r\n        public String ProductQuantity;\r\n        public String ProductTotalPrice;\r\n    \r\n        public ScannedProductList(String productID, String productPrice, String productQuantity, String productTotalPrice) {\r\n            ProductID = productID;\r\n            ProductPrice = productPrice;\r\n            ProductQuantity = productQuantity;\r\n            ProductTotalPrice = productTotalPrice;\r\n        }\r\n    \r\n        public String getProductID() {\r\n            return ProductID;\r\n        }\r\n    \r\n        public String getProductPrice() {\r\n            return ProductPrice;\r\n        }\r\n    \r\n        public String getProductQuantity() {\r\n            return ProductQuantity;\r\n        }\r\n    \r\n        public String getProductTotalPrice() {\r\n            return ProductTotalPrice;\r\n        }\r\n    \r\n        public String Display(){\r\n            return ProductID + &quot;,&quot; + ProductPrice + &quot;,&quot; + ProductQuantity +&quot;,&quot;+ ProductTotalPrice;\r\n        }\r\n    \r\n        public void setProductID(String productID) {\r\n            ProductID = productID;\r\n        }\r\n    \r\n        public void setProductPrice(String productPrice) {\r\n            ProductPrice = productPrice;\r\n        }\r\n    \r\n        public void setProductQuantity(String productQuantity) {\r\n            ProductQuantity = productQuantity;\r\n        }\r\n    \r\n        public void setProductTotalPrice(String productTotalPrice) {\r\n            ProductTotalPrice = productTotalPrice;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nIt unable to loop and the error message are \r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.finalfypprojectapplication, PID: 14722\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.finalfypprojectapplication/com.example.finalfypprojectapplication.ConfirmPaymentActivity}: java.lang.NullPointerException: Attempt to get length of null array\r\n","title":"Unable to split string to array and store to array object in Android Java","body":"<p>Is there any way to splits a string into an array and loop it into an array class in android java?\nBelow is my code but it cannot loop</p>\n<p>Sample ScanResultProduct record =&quot;P001,7,1,7,P002,8,2,16&quot;;</p>\n<pre><code>        String ScanResultProduct[];\n        ScannedProductList[] ScannedProductList;\n\n        ScanResultProduct = UserScanResulted.split(&quot;,&quot;);\n        int Length = ScanResultProduct.length;\n        int LengthResult = Length / 4;\n        ScannedProductList[] ScanResultProductList = new ScannedProductList[LengthResult];\n\n\n        for (int i = 0, index = 0; index &lt; ScannedProductList.length; index++) {\n            ScanResultProductList[index] = new ScannedProductList(ScanResultProduct[i], ScanResultProduct[i + 1], ScanResultProduct[i + 2], ScanResultProduct[i + 3]);\n            i += 4;\n        }\n</code></pre>\n<p>This is the ScanResultProductList class</p>\n<pre><code>public class ScannedProductList {\n    public String ProductID;\n    public String ProductPrice;\n    public String ProductQuantity;\n    public String ProductTotalPrice;\n\n    public ScannedProductList(String productID, String productPrice, String productQuantity, String productTotalPrice) {\n        ProductID = productID;\n        ProductPrice = productPrice;\n        ProductQuantity = productQuantity;\n        ProductTotalPrice = productTotalPrice;\n    }\n\n    public String getProductID() {\n        return ProductID;\n    }\n\n    public String getProductPrice() {\n        return ProductPrice;\n    }\n\n    public String getProductQuantity() {\n        return ProductQuantity;\n    }\n\n    public String getProductTotalPrice() {\n        return ProductTotalPrice;\n    }\n\n    public String Display(){\n        return ProductID + &quot;,&quot; + ProductPrice + &quot;,&quot; + ProductQuantity +&quot;,&quot;+ ProductTotalPrice;\n    }\n\n    public void setProductID(String productID) {\n        ProductID = productID;\n    }\n\n    public void setProductPrice(String productPrice) {\n        ProductPrice = productPrice;\n    }\n\n    public void setProductQuantity(String productQuantity) {\n        ProductQuantity = productQuantity;\n    }\n\n    public void setProductTotalPrice(String productTotalPrice) {\n        ProductTotalPrice = productTotalPrice;\n    }\n}\n</code></pre>\n<p>It unable to loop and the error message are</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.finalfypprojectapplication, PID: 14722\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.finalfypprojectapplication/com.example.finalfypprojectapplication.ConfirmPaymentActivity}: java.lang.NullPointerException: Attempt to get length of null array</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651483310,"creation_date":1651435280,"answer_id":72080024,"question_id":72073647,"body_markdown":"**Solution 1, `@JsonGetter` `@JsonSetter` point out to the custom getter\\setter**\r\n&lt;br&gt;We can use [@JsonGetter(&quot;name&quot;][1]) and [@JsonSetter(&quot;name&quot;)][2] annotations to map one JSON property value to the setter which has handling two properties\r\n\r\n```java\r\npublic class Person {\r\n    @JsonIgnore\r\n    private String name1;\r\n\r\n    @JsonIgnore\r\n    private String name2;\r\n\r\n    @JsonSetter(&quot;name&quot;)\r\n    public void setName(String name) {\r\n        this.name1 = name;\r\n        this.name2 = name;\r\n    }\r\n\r\n    @JsonGetter(&quot;name&quot;)\r\n    public String getName1() {\r\n        return name1;\r\n    }\r\n\r\n    public void setName1(String name1) {\r\n        this.name1 = name1;\r\n    }\r\n\r\n    public String getName2() {\r\n        return name2;\r\n    }\r\n\r\n    public void setName2(String name2) {\r\n      this.name2 = name2;\r\n    }\r\n}\r\n```\r\n\r\n**Solution 2, `@JsonAlias` with the specific setter**\r\n&lt;br&gt;We can ignore one field, the second mark with an alias, and add a custom `setName` setter that maps one JSON value to several fields.\r\n\r\n```java\r\npublic class Person {\r\n    @JsonAlias(&quot;name&quot;)\r\n    private String name1;\r\n\r\n    @JsonIgnore\r\n    private String name2;\r\n\r\n    public String getName1() {\r\n        return name1;\r\n    }\r\n\r\n    public void setName1(String name1) {\r\n        this.name1 = name1;\r\n    }\r\n\r\n    public String getName2() {\r\n        return name2;\r\n    }\r\n\r\n    public void setName2(String name1) {\r\n        this.name1 = name1;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name1 = name;\r\n        this.name2 = name;\r\n    }\r\n}\r\n```\r\nOr just add a custom `setName` setter to your original code\r\n```java\r\npublic class Person {\r\n    @JsonAlias(&quot;name&quot;)\r\n    String name1;\r\n\r\n    @JsonAlias(&quot;name&quot;)\r\n    String name2;\r\n\r\n    public String getName1() {\r\n        return name1;\r\n    }\r\n\r\n    public void setName1(String name1) {\r\n        this.name1 = name1;\r\n    }\r\n\r\n    public String getName2() {\r\n        return name2;\r\n    }\r\n\r\n    public void setName2(String name1) {\r\n        this.name1 = name1;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name1 = name;\r\n        this.name2 = name;\r\n    }\r\n}\r\n```\r\n**Solution 3, `@JsonProperty` with the specific setter**\r\n&lt;br&gt;The same like Solution 2, but instead use [@JsonProperty(&quot;name&quot;)][3]\r\n\r\n```java\r\npublic class Person {\r\n    @JsonProperty(&quot;name&quot;)\r\n    private String name1;\r\n\r\n    @JsonIgnore\r\n    private String name2;\r\n\r\n    public String getName1() {\r\n        return name1;\r\n    }\r\n\r\n    @JsonIgnore\r\n    public void setName1(String name1) {\r\n        this.name1 = name1;\r\n    }\r\n\r\n    public String getName2() {\r\n        return name2;\r\n    }\r\n\r\n    public void setName2(String name1) {\r\n        this.name1 = name1;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name1 = name;\r\n        this.name2 = name;\r\n    }\r\n}\r\n```\r\n**UPDATE:**\r\n&lt;br&gt;In case you do not have the ability to modify DTO object, custom deserializer resolve the problem.\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class PersonDeserializer extends StdDeserializer&lt;Person&gt; {\r\n\r\n    public PersonDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public PersonDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public Person deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException {\r\n        Person person = new Person();\r\n\r\n        JsonNode node = jp.getCodec().readTree(jp);\r\n        String name =  node.get(&quot;name&quot;).asText();\r\n        person.setName1(name);\r\n        person.setName2(name);\r\n\r\n        return person;\r\n    }\r\n}\r\n```\r\nApply deserializer to the DTO object:\r\n```java\r\n@JsonDeserialize(using = PersonDeserializer.class)\r\npublic class Person {\r\n    private String name1;\r\n    private String name2;\r\n\r\n    //getters and setters\r\n}\r\n```\r\nOR register custom deserializer on `ObjectMapper`\r\n```java\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(Person.class, new PersonDeserializer());\r\n        mapper.registerModule(module);\r\n```\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonGetter.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonSetter.html\r\n  [3]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.html","title":"How to map same @JsonAlias to different object fields using Jackson ObjectMapper","body":"<p><strong>Solution 1, <code>@JsonGetter</code> <code>@JsonSetter</code> point out to the custom getter\\setter</strong>\n<br>We can use <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonGetter.html\" rel=\"nofollow noreferrer\">@JsonGetter(&quot;name&quot;</a>) and <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonSetter.html\" rel=\"nofollow noreferrer\">@JsonSetter(&quot;name&quot;)</a> annotations to map one JSON property value to the setter which has handling two properties</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    @JsonIgnore\n    private String name1;\n\n    @JsonIgnore\n    private String name2;\n\n    @JsonSetter(&quot;name&quot;)\n    public void setName(String name) {\n        this.name1 = name;\n        this.name2 = name;\n    }\n\n    @JsonGetter(&quot;name&quot;)\n    public String getName1() {\n        return name1;\n    }\n\n    public void setName1(String name1) {\n        this.name1 = name1;\n    }\n\n    public String getName2() {\n        return name2;\n    }\n\n    public void setName2(String name2) {\n      this.name2 = name2;\n    }\n}\n</code></pre>\n<p><strong>Solution 2, <code>@JsonAlias</code> with the specific setter</strong>\n<br>We can ignore one field, the second mark with an alias, and add a custom <code>setName</code> setter that maps one JSON value to several fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    @JsonAlias(&quot;name&quot;)\n    private String name1;\n\n    @JsonIgnore\n    private String name2;\n\n    public String getName1() {\n        return name1;\n    }\n\n    public void setName1(String name1) {\n        this.name1 = name1;\n    }\n\n    public String getName2() {\n        return name2;\n    }\n\n    public void setName2(String name1) {\n        this.name1 = name1;\n    }\n\n    public void setName(String name) {\n        this.name1 = name;\n        this.name2 = name;\n    }\n}\n</code></pre>\n<p>Or just add a custom <code>setName</code> setter to your original code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    @JsonAlias(&quot;name&quot;)\n    String name1;\n\n    @JsonAlias(&quot;name&quot;)\n    String name2;\n\n    public String getName1() {\n        return name1;\n    }\n\n    public void setName1(String name1) {\n        this.name1 = name1;\n    }\n\n    public String getName2() {\n        return name2;\n    }\n\n    public void setName2(String name1) {\n        this.name1 = name1;\n    }\n\n    public void setName(String name) {\n        this.name1 = name;\n        this.name2 = name;\n    }\n}\n</code></pre>\n<p><strong>Solution 3, <code>@JsonProperty</code> with the specific setter</strong>\n<br>The same like Solution 2, but instead use <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"nofollow noreferrer\">@JsonProperty(&quot;name&quot;)</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    @JsonProperty(&quot;name&quot;)\n    private String name1;\n\n    @JsonIgnore\n    private String name2;\n\n    public String getName1() {\n        return name1;\n    }\n\n    @JsonIgnore\n    public void setName1(String name1) {\n        this.name1 = name1;\n    }\n\n    public String getName2() {\n        return name2;\n    }\n\n    public void setName2(String name1) {\n        this.name1 = name1;\n    }\n\n    public void setName(String name) {\n        this.name1 = name;\n        this.name2 = name;\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong>\n<br>In case you do not have the ability to modify DTO object, custom deserializer resolve the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\n\nimport java.io.IOException;\n\npublic class PersonDeserializer extends StdDeserializer&lt;Person&gt; {\n\n    public PersonDeserializer() {\n        this(null);\n    }\n\n    public PersonDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public Person deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException {\n        Person person = new Person();\n\n        JsonNode node = jp.getCodec().readTree(jp);\n        String name =  node.get(&quot;name&quot;).asText();\n        person.setName1(name);\n        person.setName2(name);\n\n        return person;\n    }\n}\n</code></pre>\n<p>Apply deserializer to the DTO object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize(using = PersonDeserializer.class)\npublic class Person {\n    private String name1;\n    private String name2;\n\n    //getters and setters\n}\n</code></pre>\n<p>OR register custom deserializer on <code>ObjectMapper</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        module.addDeserializer(Person.class, new PersonDeserializer());\n        mapper.registerModule(module);\n</code></pre>\n"}],"owner":{"account_id":1074732,"reputation":3309,"user_id":1073129,"accept_rate":74,"display_name":"Bhavesh Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651483310,"creation_date":1651372930,"question_id":72073647,"body_markdown":"In my DTO class, there could be fields which might have same @JsonAlias values, but this seems not working with Jackson ObjectMapper. \r\n\r\nIt seems that ObjectMapper only works for the first occurrence of @JsonAlias and it don&#39;t work for the rest @JsonAlias which has same value. I have tried to create an example below for the reference and in that example, Person class has the two fields with name @JsonAlias value.\r\n\r\n**Code snippet**:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonAlias;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class Test {\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n        values.put(&quot;name&quot;, &quot;TEST NAME&quot;);\r\n    \r\n        Person person = new ObjectMapper().convertValue(values, Person.class);\r\n        System.out.println(&quot;name1: &quot; + person.getName1());\r\n        System.out.println(&quot;name2: &quot; + person.getName2());\r\n      }\r\n    \r\n      static class Person {\r\n        @JsonAlias(&quot;name&quot;)\r\n        String name1;\r\n    \r\n        @JsonAlias(&quot;name&quot;)\r\n        String name2;\r\n    \r\n        public String getName1() {\r\n          return name1;\r\n        }\r\n    \r\n        public void setName1(String name1) {\r\n          this.name1 = name1;\r\n        }\r\n    \r\n        public String getName2() {\r\n          return name2;\r\n        }\r\n    \r\n        public void setName2(String name2) {\r\n          this.name2 = name2;\r\n        }\r\n      }\r\n    }\r\n\r\n**Output**:\r\n\r\n    name1: TEST NAME\r\n    name2: null\r\n\r\nIn the above output. I was expecting the &quot;TEST NAME&quot; for the name2 variable in Person class.\r\n\r\n\r\nIs there any configuration in Jackson ObjectMapper which will help me to achieve this?\r\n\r\nJackson version - jackson-databind-2.11.4.jar","title":"How to map same @JsonAlias to different object fields using Jackson ObjectMapper","body":"<p>In my DTO class, there could be fields which might have same @JsonAlias values, but this seems not working with Jackson ObjectMapper.</p>\n<p>It seems that ObjectMapper only works for the first occurrence of @JsonAlias and it don't work for the rest @JsonAlias which has same value. I have tried to create an example below for the reference and in that example, Person class has the two fields with name @JsonAlias value.</p>\n<p><strong>Code snippet</strong>:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonAlias;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Test {\n\n  public static void main(String[] args) {\n\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\n    values.put(&quot;name&quot;, &quot;TEST NAME&quot;);\n\n    Person person = new ObjectMapper().convertValue(values, Person.class);\n    System.out.println(&quot;name1: &quot; + person.getName1());\n    System.out.println(&quot;name2: &quot; + person.getName2());\n  }\n\n  static class Person {\n    @JsonAlias(&quot;name&quot;)\n    String name1;\n\n    @JsonAlias(&quot;name&quot;)\n    String name2;\n\n    public String getName1() {\n      return name1;\n    }\n\n    public void setName1(String name1) {\n      this.name1 = name1;\n    }\n\n    public String getName2() {\n      return name2;\n    }\n\n    public void setName2(String name2) {\n      this.name2 = name2;\n    }\n  }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>name1: TEST NAME\nname2: null\n</code></pre>\n<p>In the above output. I was expecting the &quot;TEST NAME&quot; for the name2 variable in Person class.</p>\n<p>Is there any configuration in Jackson ObjectMapper which will help me to achieve this?</p>\n<p>Jackson version - jackson-databind-2.11.4.jar</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2085245,"reputation":2131,"user_id":1856391,"accept_rate":84,"display_name":"Maritim"},"score":0,"creation_date":1651431726,"post_id":72079606,"comment_id":127358786,"body_markdown":"What&#39;s the content of the file after this test? There&#39;s a call to save() in your test.","body":"What&#39;s the content of the file after this test? There&#39;s a call to save() in your test."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1651432079,"post_id":72079606,"comment_id":127358872,"body_markdown":"Unrelated: research &quot;java try with resources&quot;. Your code is wrong on some subtle details. And note: throwing an IOException without any message when the &quot;type&quot; of customer is unknown is a bad idea. When your code throws an exception, then make it meaningful by picking a good class (it is not an IO error when your file contains unexpected content), and then: give a meaningful, human comprehensible error message.","body":"Unrelated: research &quot;java try with resources&quot;. Your code is wrong on some subtle details. And note: throwing an IOException without any message when the &quot;type&quot; of customer is unknown is a bad idea. When your code throws an exception, then make it meaningful by picking a good class (it is not an IO error when your file contains unexpected content), and then: give a meaningful, human comprehensible error message."},{"owner":{"account_id":10297770,"reputation":178,"user_id":7597370,"display_name":"mariq vlahova"},"score":0,"creation_date":1651432351,"post_id":72079606,"comment_id":127358932,"body_markdown":"Can you give the implementation of collectBonusPointsFrom(Order order)?","body":"Can you give the implementation of collectBonusPointsFrom(Order order)?"},{"owner":{"account_id":24256547,"reputation":51,"user_id":18206822,"display_name":"lopaxxxkzz"},"score":0,"creation_date":1651432616,"post_id":72079606,"comment_id":127358995,"body_markdown":"@Maritim REGULAR;e8e8e85d-44a7-4410-bc7c-6c19e14bc86c;David;0;2022-05-01. This is correct, but the customer object still has 200 points, but should have 0 because the change was not saved","body":"@Maritim REGULAR;e8e8e85d-44a7-4410-bc7c-6c19e14bc86c;David;0;2022-05&zwnj;&#8203;-01. This is correct, but the customer object still has 200 points, but should have 0 because the change was not saved"},{"owner":{"account_id":24256547,"reputation":51,"user_id":18206822,"display_name":"lopaxxxkzz"},"score":0,"creation_date":1651432756,"post_id":72079606,"comment_id":127359020,"body_markdown":"@mariqvlahova I added it.","body":"@mariqvlahova I added it."}],"answers":[{"tags":[],"owner":{"account_id":10297770,"reputation":178,"user_id":7597370,"display_name":"mariq vlahova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651483306,"creation_date":1651483306,"answer_id":72084711,"question_id":72079606,"body_markdown":"The problem is with persisting state.In abstractcustomer class you need to have get method and from this method to return the clone of the object to be able to pass the test.\r\n\r\n    public class Customer {\r\n    protected String id;\r\n    protected String name;\r\n    protected int bonusPoints;\r\n    public Customer(String id, String name, int bonusPoints) {\r\n\tthis.id = id;\r\n    this.name = name;\r\n    this.bonusPoints = bonusPoints;\r\n    }\r\n    public void collectBonusPointsFrom(Order order) {\r\n     ....\r\n    }\r\n    public String getId() {\r\n    return id;\r\n    }\r\n    public String getName() {\r\n    return name;\r\n    }\r\n    public Integer getBonusPoints() {\r\n    return bonusPoints;\r\n    }\r\n    public Customer get(){\r\n\t//if you don`t return new object  you will work directly with the one from repo\r\n    return new Customer(id,name,bonusPoints);\r\n    }\r\n    }\r\nThe full code you can find -&gt; https://drive.google.com/file/d/1FOeF68RO-qI4CO9mJ92rKlQ8MNigWbof/view?usp=sharing","title":"Changing object values only when save() method is called","body":"<p>The problem is with persisting state.In abstractcustomer class you need to have get method and from this method to return the clone of the object to be able to pass the test.</p>\n<pre><code>public class Customer {\nprotected String id;\nprotected String name;\nprotected int bonusPoints;\npublic Customer(String id, String name, int bonusPoints) {\nthis.id = id;\nthis.name = name;\nthis.bonusPoints = bonusPoints;\n}\npublic void collectBonusPointsFrom(Order order) {\n ....\n}\npublic String getId() {\nreturn id;\n}\npublic String getName() {\nreturn name;\n}\npublic Integer getBonusPoints() {\nreturn bonusPoints;\n}\npublic Customer get(){\n//if you don`t return new object  you will work directly with the one from repo\nreturn new Customer(id,name,bonusPoints);\n}\n}\n</code></pre>\n<p>The full code you can find -&gt; <a href=\"https://drive.google.com/file/d/1FOeF68RO-qI4CO9mJ92rKlQ8MNigWbof/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1FOeF68RO-qI4CO9mJ92rKlQ8MNigWbof/view?usp=sharing</a></p>\n"}],"owner":{"account_id":24256547,"reputation":51,"user_id":18206822,"display_name":"lopaxxxkzz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651483306,"creation_date":1651431553,"question_id":72079606,"body_markdown":"I need help passing a test, but can&#39;t seem to find the solution anywhere. I have a code for determining the bonus points for customers. I get my info from a text file and I need to give customers bonus points based on vairables. The catch is that the bonus points should only be added when used the save() method, which overwrites the text file. I have a CustomerRepository class: \r\n\r\n    public class CustomerRepository {\r\n    \r\n        private static final String FILE_PATH = &quot;src/poly/customer/data.txt&quot;;\r\n        public List&lt;AbstractCustomer&gt; customers;\r\n    \r\n        public CustomerRepository() {\r\n            try {\r\n                this.customers = readFiles();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    \r\n        public List&lt;AbstractCustomer&gt; readFiles() throws IOException{\r\n            List&lt;AbstractCustomer&gt; result = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; lines = Files.readAllLines(Path.of(FILE_PATH));\r\n            for (String line : lines) {\r\n                String[] parts = line.split(&quot;;&quot;);\r\n                int points = Integer.parseInt(parts[3]);\r\n                if (parts[0].equals(&quot;REGULAR&quot;)) {\r\n                    LocalDate date = LocalDate.parse(parts[4], formatter);\r\n                    RegularCustomer customer = new RegularCustomer(parts[1], parts[2], points, date);\r\n                    result.add(customer);\r\n                } else if (parts[0].equals(&quot;GOLD&quot;)) {\r\n                    GoldCustomer customer = new GoldCustomer(parts[1], parts[2], points);\r\n                    result.add(customer);\r\n                } else {\r\n                    throw new IOException();\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n    public void save(AbstractCustomer customer) {\r\n            if (!(customers.contains(customer))) {\r\n                customers.add(customer);\r\n            }\r\n            StringBuilder result = new StringBuilder();\r\n            for (AbstractCustomer client : customers) {\r\n                result.append(client.toString());\r\n                result.append(&quot;\\n&quot;);\r\n            }\r\n            try{\r\n                File file = new File(FILE_PATH);\r\n                FileWriter fw = new FileWriter(file.getAbsoluteFile());\r\n                BufferedWriter bw = new BufferedWriter(fw);\r\n                bw.write(result.toString());\r\n                bw.close();\r\n            }catch(IOException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nThis class is working, but I don&#39;t know how to give customer objects points only when they are saved. I also have RegularCustomer and GoldCustomer classes which extend the AbstractCustomer class:\r\n\r\n    public abstract sealed class AbstractCustomer permits GoldCustomer, RegularCustomer {\r\n    \r\n        protected String id;\r\n        protected String name;\r\n        protected int bonusPoints;\r\n    \r\n        public AbstractCustomer(String id, String name, int bonusPoints) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.bonusPoints = bonusPoints;\r\n        }\r\n    \r\n        public abstract void collectBonusPointsFrom(Order order);\r\n    \r\n    public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public Integer getBonusPoints() {\r\n            return bonusPoints;\r\n        }\r\n\r\nThe code itself is working fine and does the intended things, but my only problem is passing this test:\r\n\r\n    @Test\r\n        public void customerIsChangedOnlyWhenSaved() {\r\n            String randomId = UUID.randomUUID().toString();\r\n    \r\n            repository.save(new RegularCustomer(\r\n                    randomId, &quot;David&quot;, 0, LocalDate.now()));\r\n    \r\n            AbstractCustomer customer = repository.getCustomerById(randomId).get();\r\n    \r\n            assertThat(customer.getBonusPoints(), is(0));\r\n    \r\n            customer.collectBonusPointsFrom(new Order(200, LocalDate.now()));\r\n    \r\n            assertThat(customer.getBonusPoints(), is(not(0)));\r\n    \r\n            AbstractCustomer loaded = repository.getCustomerById(randomId).get();\r\n    \r\n            assertThat(loaded.getBonusPoints(), is(0));\r\n        }\r\n\r\nThis test creates a new customer and adds a order, but the customer bonuspoints should not change, because it is not saved. My code still adds the points and overwrites the file.\r\n\r\nThere is also a BonusCollector class, which collects bonus points from order, but this class shouldn&#39;t be modified.\r\n\r\nThis is the implementation for collectBonusPoints(Order order):\r\n\r\n    @Override\r\n        public void collectBonusPointsFrom(Order order) {\r\n            if (order.getTotal() &gt;= 100) {\r\n                double points = order.getTotal();\r\n                if (isWithinAMonth(order.getDate())) {\r\n                    this.bonusPoints += Math.toIntExact(Math.round(points * 1.5));\r\n                    this.lastOrderDate = order.getDate();\r\n                } else {\r\n                    this.bonusPoints += Math.toIntExact(Math.round(points));\r\n                    this.lastOrderDate = order.getDate();\r\n                }\r\n            }\r\n        }\r\n\r\nThe gold customer implementation is a bit different.","title":"Changing object values only when save() method is called","body":"<p>I need help passing a test, but can't seem to find the solution anywhere. I have a code for determining the bonus points for customers. I get my info from a text file and I need to give customers bonus points based on vairables. The catch is that the bonus points should only be added when used the save() method, which overwrites the text file. I have a CustomerRepository class:</p>\n<pre><code>public class CustomerRepository {\n\n    private static final String FILE_PATH = &quot;src/poly/customer/data.txt&quot;;\n    public List&lt;AbstractCustomer&gt; customers;\n\n    public CustomerRepository() {\n        try {\n            this.customers = readFiles();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n\n    public List&lt;AbstractCustomer&gt; readFiles() throws IOException{\n        List&lt;AbstractCustomer&gt; result = new ArrayList&lt;&gt;();\n        List&lt;String&gt; lines = Files.readAllLines(Path.of(FILE_PATH));\n        for (String line : lines) {\n            String[] parts = line.split(&quot;;&quot;);\n            int points = Integer.parseInt(parts[3]);\n            if (parts[0].equals(&quot;REGULAR&quot;)) {\n                LocalDate date = LocalDate.parse(parts[4], formatter);\n                RegularCustomer customer = new RegularCustomer(parts[1], parts[2], points, date);\n                result.add(customer);\n            } else if (parts[0].equals(&quot;GOLD&quot;)) {\n                GoldCustomer customer = new GoldCustomer(parts[1], parts[2], points);\n                result.add(customer);\n            } else {\n                throw new IOException();\n            }\n        }\n        return result;\n    }\n\npublic void save(AbstractCustomer customer) {\n        if (!(customers.contains(customer))) {\n            customers.add(customer);\n        }\n        StringBuilder result = new StringBuilder();\n        for (AbstractCustomer client : customers) {\n            result.append(client.toString());\n            result.append(&quot;\\n&quot;);\n        }\n        try{\n            File file = new File(FILE_PATH);\n            FileWriter fw = new FileWriter(file.getAbsoluteFile());\n            BufferedWriter bw = new BufferedWriter(fw);\n            bw.write(result.toString());\n            bw.close();\n        }catch(IOException e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>This class is working, but I don't know how to give customer objects points only when they are saved. I also have RegularCustomer and GoldCustomer classes which extend the AbstractCustomer class:</p>\n<pre><code>public abstract sealed class AbstractCustomer permits GoldCustomer, RegularCustomer {\n\n    protected String id;\n    protected String name;\n    protected int bonusPoints;\n\n    public AbstractCustomer(String id, String name, int bonusPoints) {\n        this.id = id;\n        this.name = name;\n        this.bonusPoints = bonusPoints;\n    }\n\n    public abstract void collectBonusPointsFrom(Order order);\n\npublic String getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public Integer getBonusPoints() {\n        return bonusPoints;\n    }\n</code></pre>\n<p>The code itself is working fine and does the intended things, but my only problem is passing this test:</p>\n<pre><code>@Test\n    public void customerIsChangedOnlyWhenSaved() {\n        String randomId = UUID.randomUUID().toString();\n\n        repository.save(new RegularCustomer(\n                randomId, &quot;David&quot;, 0, LocalDate.now()));\n\n        AbstractCustomer customer = repository.getCustomerById(randomId).get();\n\n        assertThat(customer.getBonusPoints(), is(0));\n\n        customer.collectBonusPointsFrom(new Order(200, LocalDate.now()));\n\n        assertThat(customer.getBonusPoints(), is(not(0)));\n\n        AbstractCustomer loaded = repository.getCustomerById(randomId).get();\n\n        assertThat(loaded.getBonusPoints(), is(0));\n    }\n</code></pre>\n<p>This test creates a new customer and adds a order, but the customer bonuspoints should not change, because it is not saved. My code still adds the points and overwrites the file.</p>\n<p>There is also a BonusCollector class, which collects bonus points from order, but this class shouldn't be modified.</p>\n<p>This is the implementation for collectBonusPoints(Order order):</p>\n<pre><code>@Override\n    public void collectBonusPointsFrom(Order order) {\n        if (order.getTotal() &gt;= 100) {\n            double points = order.getTotal();\n            if (isWithinAMonth(order.getDate())) {\n                this.bonusPoints += Math.toIntExact(Math.round(points * 1.5));\n                this.lastOrderDate = order.getDate();\n            } else {\n                this.bonusPoints += Math.toIntExact(Math.round(points));\n                this.lastOrderDate = order.getDate();\n            }\n        }\n    }\n</code></pre>\n<p>The gold customer implementation is a bit different.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1651474127,"post_id":72083180,"comment_id":127364901,"body_markdown":"If you want 2% then the value that you are formatting has to be 0.02, not 2.","body":"If you want 2% then the value that you are formatting has to be 0.02, not 2."},{"owner":{"account_id":23844183,"reputation":125,"user_id":17848878,"display_name":"John Peter"},"score":0,"creation_date":1651474416,"post_id":72083180,"comment_id":127364965,"body_markdown":"if i enter the percentage  2 on the textfield how to calculate as 0.02 automatally","body":"if i enter the percentage  2 on the textfield how to calculate as 0.02 automatally"},{"owner":{"account_id":23844183,"reputation":125,"user_id":17848878,"display_name":"John Peter"},"score":0,"creation_date":1651474565,"post_id":72083180,"comment_id":127365004,"body_markdown":"interset = Double.parseDouble(percent.format(txtInterest.getText())); i wrote like this way but not working","body":"interset = Double.parseDouble(percent.format(txtInterest.getText())); i wrote like this way but not working"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1651474778,"post_id":72083180,"comment_id":127365043,"body_markdown":"Multiply the double you parse from the `JTextArea` by 0.01;","body":"Multiply the double you parse from the <code>JTextArea</code> by 0.01;"},{"owner":{"account_id":23844183,"reputation":125,"user_id":17848878,"display_name":"John Peter"},"score":0,"creation_date":1651474864,"post_id":72083180,"comment_id":127365063,"body_markdown":"can you write code so easy to understandable","body":"can you write code so easy to understandable"}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651483094,"creation_date":1651483094,"answer_id":72084663,"question_id":72083180,"body_markdown":"When you see a percentage with the % sign, the value is generally a number to be divided by 100 (that&#39;s the case for Java, C, Excel...): \r\n\r\n- In your problem, 200% means you entered 2 (200 / 100 = 2).\r\n- 2% is in fact 2 / 100 = 0.02 (\r\n\r\nEither you use the value as 0.02 directly, either you divide it when formatting; the former being easier.\r\n\r\nOn a side note, you could use [JFormattedTextField](https://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html) instead:\r\n\r\n    JFormattedTextField.AbstractFormatter editFormatter = new NumberFormatter(NumberFormat.getPercentInstance());\r\n     JFormattedTextField.AbstractFormatter displayFormatter = new NumberFormatter(NumberFormat.getPercentInstance());\r\n    DefaultFormatterFactory factory = new DefaultFormatterFactory(\r\n                     displayFormatter, displayFormatter, editFormatter);\r\n    JFormattedTextField ftf = new JFormattedTextField(factory );\r\n    ftf.setValue(0.50); // 50%\r\n\r\nThe example is adapted from the Java and javadoc tutorial found here: https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html#factory\r\n\r\nThis will handle the formatting issue for you and you will only have to provide a valid percentage.","title":"NumberFormat percentage displayed in Java","body":"<p>When you see a percentage with the % sign, the value is generally a number to be divided by 100 (that's the case for Java, C, Excel...):</p>\n<ul>\n<li>In your problem, 200% means you entered 2 (200 / 100 = 2).</li>\n<li>2% is in fact 2 / 100 = 0.02 (</li>\n</ul>\n<p>Either you use the value as 0.02 directly, either you divide it when formatting; the former being easier.</p>\n<p>On a side note, you could use <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html\" rel=\"nofollow noreferrer\">JFormattedTextField</a> instead:</p>\n<pre><code>JFormattedTextField.AbstractFormatter editFormatter = new NumberFormatter(NumberFormat.getPercentInstance());\n JFormattedTextField.AbstractFormatter displayFormatter = new NumberFormatter(NumberFormat.getPercentInstance());\nDefaultFormatterFactory factory = new DefaultFormatterFactory(\n                 displayFormatter, displayFormatter, editFormatter);\nJFormattedTextField ftf = new JFormattedTextField(factory );\nftf.setValue(0.50); // 50%\n</code></pre>\n<p>The example is adapted from the Java and javadoc tutorial found here: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html#factory\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html#factory</a></p>\n<p>This will handle the formatting issue for you and you will only have to provide a valid percentage.</p>\n"}],"owner":{"account_id":23844183,"reputation":125,"user_id":17848878,"display_name":"John Peter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651484729,"answer_count":1,"score":0,"last_activity_date":1651483094,"creation_date":1651473893,"question_id":72083180,"body_markdown":"I am creating a simple loan calculating system in Java. I ran into the problem with calculation currency format I entered on the interest percentage 2 on the textfield, but it is displayed as 200.00% this format, why I don&#39;t know. What I tried so far I  attached below.\r\n\r\n     NumberFormat percent = NumberFormat.getPercentInstance();\r\n     double   interset = Double.parseDouble(txtInterest.getText());\r\n     txtMonth2.setText(percent.format(interset));\r\n\r\nI don&#39;t know what is the problem.","title":"NumberFormat percentage displayed in Java","body":"<p>I am creating a simple loan calculating system in Java. I ran into the problem with calculation currency format I entered on the interest percentage 2 on the textfield, but it is displayed as 200.00% this format, why I don't know. What I tried so far I  attached below.</p>\n<pre><code> NumberFormat percent = NumberFormat.getPercentInstance();\n double   interset = Double.parseDouble(txtInterest.getText());\n txtMonth2.setText(percent.format(interset));\n</code></pre>\n<p>I don't know what is the problem.</p>\n"},{"tags":["java","quarkus","vert.x"],"comments":[{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1651240786,"post_id":72048764,"comment_id":127324035,"body_markdown":"I opened this issue https://github.com/quarkusio/quarkus/issues/25259","body":"I opened this issue <a href=\"https://github.com/quarkusio/quarkus/issues/25259\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/25259</a>"}],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651482867,"creation_date":1651219856,"answer_id":72054769,"question_id":72048764,"body_markdown":"You should be able to use the `@io.smallrye.common.annotation.Blocking` annotation:\r\n\r\n    @ConsumeEvent(&quot;my-consume-event&quot;)\r\n    @Blocking(&quot;my-custom-pool&quot;)\r\n    public void start(String value) {\r\n      // do the work\r\n    }\r\n\r\nAnd configure your pool size in `application.properties`:\r\n\r\n    smallrye.messaging.worker.my-custom-pool.max-concurrency=3\r\n\r\n**EDIT**\r\n\r\nActually, the `@io.smallrye.reactive.messaging.annotations.Blocking` is not supported on methods annotated with `@ConsumeEvent`.\r\n\r\nAlso, according to [ConsumeEvent with Blocking Threading on wrong ExecutorService #19911][1], it seems events are executed on the default Quarkus executor.\r\n\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/issues/19911","title":"Can I configure the pool size of a specific Quarkus Vertx ConsumeEvent?","body":"<p>You should be able to use the <code>@io.smallrye.common.annotation.Blocking</code> annotation:</p>\n<pre><code>@ConsumeEvent(&quot;my-consume-event&quot;)\n@Blocking(&quot;my-custom-pool&quot;)\npublic void start(String value) {\n  // do the work\n}\n</code></pre>\n<p>And configure your pool size in <code>application.properties</code>:</p>\n<pre><code>smallrye.messaging.worker.my-custom-pool.max-concurrency=3\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>Actually, the <code>@io.smallrye.reactive.messaging.annotations.Blocking</code> is not supported on methods annotated with <code>@ConsumeEvent</code>.</p>\n<p>Also, according to <a href=\"https://github.com/quarkusio/quarkus/issues/19911\" rel=\"nofollow noreferrer\">ConsumeEvent with Blocking Threading on wrong ExecutorService #19911</a>, it seems events are executed on the default Quarkus executor.</p>\n"}],"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1654,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651482867,"creation_date":1651171266,"question_id":72048764,"body_markdown":"The parameter `quarkus.vertx.worker-pool-size` allows me to configure the &quot;Thread size of the worker thread pool&quot;, according to the [quarkus guide - All configuration options](https://quarkus.io/guides/all-config).\r\n\r\nIs it possible to configure the pool size of a specific Quarkus ConsumeEvent like this:\r\n```java\r\n    @io.quarkus.vertx.ConsumeEvent(value = &quot;my-consume-event&quot;, blocking = true)\r\n    public void start(String value) {\r\n      // do the work\r\n    }\r\n```\r\n\r\nI would like to set the number of threads that can process this `my-consume-event` without changing the global `quarkus.vertx.worker-pool-size`.\r\n\r\n# SmallRye Reactive Messaging example of configurable thread pool\r\n\r\nOn the [SmallRye Reactive Messaging guide](https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.1/advanced/blocking.html) there&#39;s one example of what I want to do.\r\n\r\nHere, I can use one Blocking annotation, define one name for it and configure the thread pool:\r\n\r\n```java\r\n@Outgoing(&quot;Y&quot;)\r\n@Incoming(&quot;X&quot;)\r\n@Blocking(&quot;my-custom-pool&quot;)\r\npublic String process(String s) {\r\n  return s.toUpperCase();\r\n}\r\n```\r\n\r\n&gt; Specifying the concurrency for the above worker pool requires the following configuration property to be defined:\r\n\r\n```properties\r\nsmallrye.messaging.worker.my-custom-pool.max-concurrency=3\r\n```\r\n\r\nIn this example, I can configure the size of the thread pool that will process the messages from the `my-custom-pool`.\r\n\r\nThanks\r\n\r\n# Edit to include try with `@io.smallrye.common.annotation.Blocking(&quot;my-custom-pool&quot;)`\r\n\r\nI tried to set a value to the `@io.smallrye.common.annotation.Blocking(&quot;my-custom-pool&quot;)` annotation, but I receive the following error:\r\n```\r\nThe attribute value is undefined for the annotation type Blocking\r\n```\r\n\r\nI&#39;m using this dependency:\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-vertx&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nI also created [this project on my GitHub account](https://github.com/felipewind/event-bus-test) to do this test.\r\n\r\n### Class that does the test\r\n\r\n```java\r\npackage org.acme;\r\n\r\nimport javax.inject.Inject;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.core.Response;\r\n\r\nimport org.jboss.logging.Logger;\r\n\r\nimport io.vertx.core.eventbus.EventBus;\r\n\r\n@Path(&quot;/hello&quot;)\r\npublic class GreetingResource {\r\n    private static final Logger LOG = Logger.getLogger(GreetingResource.class);\r\n\r\n    @Inject\r\n    EventBus eventBus;\r\n\r\n    @GET\r\n    public Response hello() {\r\n        LOG.info(&quot;hello()&quot;);\r\n        eventBus.send(&quot;my-consume-event&quot;, null);\r\n        return Response\r\n                .status(Response.Status.ACCEPTED)\r\n                .build();\r\n    }\r\n\r\n    @io.quarkus.vertx.ConsumeEvent(&quot;my-consume-event&quot;)\r\n    // @io.smallrye.common.annotation.Blocking(&quot;my-custom-pool&quot;)\r\n    @io.smallrye.common.annotation.Blocking\r\n    public void start(String value) {\r\n        try {\r\n            LOG.info(&quot;before the sleep&quot;);\r\n            Thread.sleep(5000);\r\n            LOG.info(&quot;after the sleep&quot;);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Can I configure the pool size of a specific Quarkus Vertx ConsumeEvent?","body":"<p>The parameter <code>quarkus.vertx.worker-pool-size</code> allows me to configure the &quot;Thread size of the worker thread pool&quot;, according to the <a href=\"https://quarkus.io/guides/all-config\" rel=\"nofollow noreferrer\">quarkus guide - All configuration options</a>.</p>\n<p>Is it possible to configure the pool size of a specific Quarkus ConsumeEvent like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @io.quarkus.vertx.ConsumeEvent(value = &quot;my-consume-event&quot;, blocking = true)\n    public void start(String value) {\n      // do the work\n    }\n</code></pre>\n<p>I would like to set the number of threads that can process this <code>my-consume-event</code> without changing the global <code>quarkus.vertx.worker-pool-size</code>.</p>\n<h1>SmallRye Reactive Messaging example of configurable thread pool</h1>\n<p>On the <a href=\"https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.1/advanced/blocking.html\" rel=\"nofollow noreferrer\">SmallRye Reactive Messaging guide</a> there's one example of what I want to do.</p>\n<p>Here, I can use one Blocking annotation, define one name for it and configure the thread pool:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Outgoing(&quot;Y&quot;)\n@Incoming(&quot;X&quot;)\n@Blocking(&quot;my-custom-pool&quot;)\npublic String process(String s) {\n  return s.toUpperCase();\n}\n</code></pre>\n<blockquote>\n<p>Specifying the concurrency for the above worker pool requires the following configuration property to be defined:</p>\n</blockquote>\n<pre><code>smallrye.messaging.worker.my-custom-pool.max-concurrency=3\n</code></pre>\n<p>In this example, I can configure the size of the thread pool that will process the messages from the <code>my-custom-pool</code>.</p>\n<p>Thanks</p>\n<h1>Edit to include try with <code>@io.smallrye.common.annotation.Blocking(&quot;my-custom-pool&quot;)</code></h1>\n<p>I tried to set a value to the <code>@io.smallrye.common.annotation.Blocking(&quot;my-custom-pool&quot;)</code> annotation, but I receive the following error:</p>\n<pre><code>The attribute value is undefined for the annotation type Blocking\n</code></pre>\n<p>I'm using this dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-vertx&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I also created <a href=\"https://github.com/felipewind/event-bus-test\" rel=\"nofollow noreferrer\">this project on my GitHub account</a> to do this test.</p>\n<h3>Class that does the test</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme;\n\nimport javax.inject.Inject;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.Response;\n\nimport org.jboss.logging.Logger;\n\nimport io.vertx.core.eventbus.EventBus;\n\n@Path(&quot;/hello&quot;)\npublic class GreetingResource {\n    private static final Logger LOG = Logger.getLogger(GreetingResource.class);\n\n    @Inject\n    EventBus eventBus;\n\n    @GET\n    public Response hello() {\n        LOG.info(&quot;hello()&quot;);\n        eventBus.send(&quot;my-consume-event&quot;, null);\n        return Response\n                .status(Response.Status.ACCEPTED)\n                .build();\n    }\n\n    @io.quarkus.vertx.ConsumeEvent(&quot;my-consume-event&quot;)\n    // @io.smallrye.common.annotation.Blocking(&quot;my-custom-pool&quot;)\n    @io.smallrye.common.annotation.Blocking\n    public void start(String value) {\n        try {\n            LOG.info(&quot;before the sleep&quot;);\n            Thread.sleep(5000);\n            LOG.info(&quot;after the sleep&quot;);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","syntax-checking"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1341252526,"post_id":11298856,"comment_id":14865495,"body_markdown":"Eclipse is your best place to start: http://www.eclipse.org","body":"Eclipse is your best place to start: <a href=\"http://www.eclipse.org\" rel=\"nofollow noreferrer\">eclipse.org</a>"},{"owner":{"display_name":"user330315"},"score":2,"creation_date":1341252696,"post_id":11298856,"comment_id":14865560,"body_markdown":"NetBeans is your best place to start: http://platform.netbeans.org/tutorials/nbm-javacc-lexer.html","body":"NetBeans is your best place to start: <a href=\"http://platform.netbeans.org/tutorials/nbm-javacc-lexer.html\" rel=\"nofollow noreferrer\">platform.netbeans.org/tutorials/nbm-javacc-lexer.html</a>"},{"owner":{"account_id":215917,"reputation":9891,"user_id":470838,"accept_rate":89,"display_name":"orangepips"},"score":0,"creation_date":1342285692,"post_id":11298856,"comment_id":15168686,"body_markdown":"@Steven Morad: please choose an answer or comment what you still are looking for.","body":"@Steven Morad: please choose an answer or comment what you still are looking for."}],"answers":[{"tags":[],"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1341252858,"creation_date":1341252858,"answer_id":11298966,"question_id":11298856,"body_markdown":"This is pretty standard in [Eclipse](http://www.eclipse.org/) and [Netbeans](http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=3&amp;sqi=2&amp;ved=0CHAQjBAwAg&amp;url=http%3A%2F%2Fnetbeans.org%2Fcommunity%2Freleases%2F71%2F&amp;ei=5OTxT5a4CsnY2QWJoOCgCg&amp;usg=AFQjCNFoKnmL8q9JeI0GTxyAVZCD4K1zQA).\r\n\r\nIf you want a nice, simple editor with parentheses-checks I&#39;d vote for [Sublime text](http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;sqi=2&amp;ved=0CFgQFjAA&amp;url=http%3A%2F%2Fwww.sublimetext.com%2F&amp;ei=zOTxT9q-OYWM2gWlp42-Bw&amp;usg=AFQjCNHeDtH9qLiUebuy99ldU-zJxasqGg).","title":"Syntax Checking in Java","body":"<p>This is pretty standard in <a href=\"http://www.eclipse.org/\" rel=\"nofollow\">Eclipse</a> and <a href=\"http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=3&amp;sqi=2&amp;ved=0CHAQjBAwAg&amp;url=http%3A%2F%2Fnetbeans.org%2Fcommunity%2Freleases%2F71%2F&amp;ei=5OTxT5a4CsnY2QWJoOCgCg&amp;usg=AFQjCNFoKnmL8q9JeI0GTxyAVZCD4K1zQA\" rel=\"nofollow\">Netbeans</a>.</p>\n\n<p>If you want a nice, simple editor with parentheses-checks I'd vote for <a href=\"http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;sqi=2&amp;ved=0CFgQFjAA&amp;url=http%3A%2F%2Fwww.sublimetext.com%2F&amp;ei=zOTxT9q-OYWM2gWlp42-Bw&amp;usg=AFQjCNHeDtH9qLiUebuy99ldU-zJxasqGg\" rel=\"nofollow\">Sublime text</a>.</p>\n"},{"tags":[],"owner":{"account_id":1565533,"reputation":1499,"user_id":1454436,"display_name":"sperumal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341254321,"creation_date":1341254321,"answer_id":11299298,"question_id":11298856,"body_markdown":"You can look at [Beanshell][1] interpreter. It can interpret Java code (both full source file and code fragments) and report errors on syntax.\r\n\r\n\r\n  [1]: http://www.beanshell.org/","title":"Syntax Checking in Java","body":"<p>You can look at <a href=\"http://www.beanshell.org/\" rel=\"nofollow\">Beanshell</a> interpreter. It can interpret Java code (both full source file and code fragments) and report errors on syntax.</p>\n"},{"tags":[],"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341255557,"creation_date":1341255557,"answer_id":11299579,"question_id":11298856,"body_markdown":"Assuming that you want to validate that user has input java code with correct syntax then you could invoke javac compiler directly from within your program.\r\n\r\n    public int com.sun.tools.javac.Main.compile(String[] args);\r\n\r\nYou need tools.jar in your class path.","title":"Syntax Checking in Java","body":"<p>Assuming that you want to validate that user has input java code with correct syntax then you could invoke javac compiler directly from within your program.</p>\n\n<pre><code>public int com.sun.tools.javac.Main.compile(String[] args);\n</code></pre>\n\n<p>You need tools.jar in your class path.</p>\n"},{"tags":[],"owner":{"account_id":215917,"reputation":9891,"user_id":470838,"accept_rate":89,"display_name":"orangepips"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1651482478,"creation_date":1341255663,"answer_id":11299614,"question_id":11298856,"body_markdown":"As of Java 6 you can use [JavaCompiler][1] to compile the text and get back [Diagnostic][2] objects that tell you what problems the file has (if any). So for your example you&#39;d need to take the content of the editor and pass it to the JavaCompiler, run it, and report back any problems. Example that follows assumes editor text written out to a file. \r\n\r\nExample code:\r\n\r\n**File to Check**\r\n\r\n    public class HelloBuggyWorld {\r\n        String test // missing a semicolon\r\n    \r\n        public static void main (String [] args) {\r\n            System.out.println(&#39;Hello World!&#39;);  // should be double quoted\r\n        }\r\n    }\r\n\r\n**Checker**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Formatter;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    import javax.tools.Diagnostic;\r\n    import javax.tools.DiagnosticCollector;\r\n    import javax.tools.JavaCompiler;\r\n    import javax.tools.JavaFileObject;\r\n    import javax.tools.StandardJavaFileManager;\r\n    import javax.tools.ToolProvider;\r\n    \r\n    public class JavaSyntaxChecker {\r\n        public static void main(String[] args) {\r\n            System.out.println(check(&quot;/path/to/HelloBuggyWorld.java&quot;));\r\n        }\r\n    \r\n        public static List&lt;String&gt; check(String file) {\r\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n    \r\n            StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\r\n            Iterable&lt;? extends JavaFileObject&gt; compilationUnits =\r\n                    fileManager.getJavaFileObjectsFromStrings(Arrays.asList(file));\r\n    \r\n            DiagnosticCollector&lt;JavaFileObject&gt; diagnostics = new DiagnosticCollector&lt;JavaFileObject&gt;();\r\n            compiler.getTask(null, fileManager, diagnostics, null, null, compilationUnits).call();\r\n    \r\n            List&lt;String&gt; messages = new ArrayList&lt;String&gt;();\r\n            Formatter formatter = new Formatter();\r\n            for (Diagnostic diagnostic : diagnostics.getDiagnostics()) {\r\n                messages.add(diagnostic.getKind() + &quot;:\\t Line [&quot; + diagnostic.getLineNumber() + &quot;] \\t Position [&quot; + diagnostic.getPosition() + &quot;]\\t&quot; + diagnostic.getMessage(Locale.ROOT) + &quot;\\n&quot;);\r\n            }\r\n    \r\n            return messages;\r\n        }\r\n    }\r\n\r\n**Output**\r\n\r\nFrom running the `main` method.\r\n\r\n    [ERROR:\t Line [5] \t Position [124]\tHelloBuggyWorld.java:5: unclosed character literal\r\n    , ERROR:\t Line [5] \t Position [126]\tHelloBuggyWorld.java:5: &#39;;&#39; expected\r\n    , ERROR:\t Line [5] \t Position [131]\tHelloBuggyWorld.java:5: not a statement\r\n    , ERROR:\t Line [5] \t Position [136]\tHelloBuggyWorld.java:5: &#39;;&#39; expected\r\n    , ERROR:\t Line [5] \t Position [137]\tHelloBuggyWorld.java:5: unclosed character literal\r\n    ]\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/tools/JavaCompiler.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/index.html?javax/tools/Diagnostic.html","title":"Syntax Checking in Java","body":"<p>As of Java 6 you can use <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/tools/JavaCompiler.html\" rel=\"nofollow noreferrer\">JavaCompiler</a> to compile the text and get back <a href=\"http://docs.oracle.com/javase/6/docs/api/index.html?javax/tools/Diagnostic.html\" rel=\"nofollow noreferrer\">Diagnostic</a> objects that tell you what problems the file has (if any). So for your example you'd need to take the content of the editor and pass it to the JavaCompiler, run it, and report back any problems. Example that follows assumes editor text written out to a file.</p>\n<p>Example code:</p>\n<p><strong>File to Check</strong></p>\n<pre><code>public class HelloBuggyWorld {\n    String test // missing a semicolon\n\n    public static void main (String [] args) {\n        System.out.println('Hello World!');  // should be double quoted\n    }\n}\n</code></pre>\n<p><strong>Checker</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Formatter;\nimport java.util.List;\nimport java.util.Locale;\n\nimport javax.tools.Diagnostic;\nimport javax.tools.DiagnosticCollector;\nimport javax.tools.JavaCompiler;\nimport javax.tools.JavaFileObject;\nimport javax.tools.StandardJavaFileManager;\nimport javax.tools.ToolProvider;\n\npublic class JavaSyntaxChecker {\n    public static void main(String[] args) {\n        System.out.println(check(&quot;/path/to/HelloBuggyWorld.java&quot;));\n    }\n\n    public static List&lt;String&gt; check(String file) {\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n\n        StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\n        Iterable&lt;? extends JavaFileObject&gt; compilationUnits =\n                fileManager.getJavaFileObjectsFromStrings(Arrays.asList(file));\n\n        DiagnosticCollector&lt;JavaFileObject&gt; diagnostics = new DiagnosticCollector&lt;JavaFileObject&gt;();\n        compiler.getTask(null, fileManager, diagnostics, null, null, compilationUnits).call();\n\n        List&lt;String&gt; messages = new ArrayList&lt;String&gt;();\n        Formatter formatter = new Formatter();\n        for (Diagnostic diagnostic : diagnostics.getDiagnostics()) {\n            messages.add(diagnostic.getKind() + &quot;:\\t Line [&quot; + diagnostic.getLineNumber() + &quot;] \\t Position [&quot; + diagnostic.getPosition() + &quot;]\\t&quot; + diagnostic.getMessage(Locale.ROOT) + &quot;\\n&quot;);\n        }\n\n        return messages;\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p>From running the <code>main</code> method.</p>\n<pre><code>[ERROR:  Line [5]    Position [124] HelloBuggyWorld.java:5: unclosed character literal\n, ERROR:     Line [5]    Position [126] HelloBuggyWorld.java:5: ';' expected\n, ERROR:     Line [5]    Position [131] HelloBuggyWorld.java:5: not a statement\n, ERROR:     Line [5]    Position [136] HelloBuggyWorld.java:5: ';' expected\n, ERROR:     Line [5]    Position [137] HelloBuggyWorld.java:5: unclosed character literal\n]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1032985"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343394029,"creation_date":1343394029,"answer_id":11688275,"question_id":11298856,"body_markdown":"You can use [JDT][1] to parse and analyze source.\r\n\r\nThat&#39;s scala example. It&#39;s easy to do the same with java:\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n\tval str = &quot;...&quot; // Checking source code\r\n\tval parser : ASTParser = ASTParser.newParser(org.eclipse.jdt.core.dom.AST.JLS3)    \r\n\tval options = JavaCore.getOptions.asInstanceOf[java.util.Map[Object, Object]]\r\n\toptions.put(JavaCore.COMPILER_COMPLIANCE, JavaCore.VERSION_1_7)\r\n\toptions.put(JavaCore.COMPILER_CODEGEN_TARGET_PLATFORM, JavaCore.VERSION_1_7)\r\n\toptions.put(JavaCore.COMPILER_SOURCE, JavaCore.VERSION_1_7)\r\n\tparser.setCompilerOptions(options)\r\n\tparser.setSource(str.toCharArray)\r\n\tval cu: CompilationUnit = parser.createAST(null).asInstanceOf[CompilationUnit]\r\nCompilationUnit has method getProblems(). It returns list of detailed problem reports.\r\n\r\n  [1]: http://www.eclipse.org/jdt/","title":"Syntax Checking in Java","body":"<p>You can use <a href=\"http://www.eclipse.org/jdt/\" rel=\"nofollow\">JDT</a> to parse and analyze source.</p>\n\n<p>That's scala example. It's easy to do the same with java:\n</p>\n\n<pre><code>val str = \"...\" // Checking source code\nval parser : ASTParser = ASTParser.newParser(org.eclipse.jdt.core.dom.AST.JLS3)    \nval options = JavaCore.getOptions.asInstanceOf[java.util.Map[Object, Object]]\noptions.put(JavaCore.COMPILER_COMPLIANCE, JavaCore.VERSION_1_7)\noptions.put(JavaCore.COMPILER_CODEGEN_TARGET_PLATFORM, JavaCore.VERSION_1_7)\noptions.put(JavaCore.COMPILER_SOURCE, JavaCore.VERSION_1_7)\nparser.setCompilerOptions(options)\nparser.setSource(str.toCharArray)\nval cu: CompilationUnit = parser.createAST(null).asInstanceOf[CompilationUnit]\n</code></pre>\n\n<p>CompilationUnit has method getProblems(). It returns list of detailed problem reports.</p>\n"}],"owner":{"account_id":1599365,"reputation":2519,"user_id":1480740,"accept_rate":58,"display_name":"Steven Morad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19345,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"closed_date":1459596521,"accepted_answer_id":11299614,"answer_count":5,"score":15,"last_activity_date":1651482478,"creation_date":1341252383,"question_id":11298856,"body_markdown":"I am currently working on a program that has an embedded text editor. The users are supposed to type java code in the editor. The code typed into the editor is then made into a string. I just want something that would check for missing parenthesis or a try without a catch, etc. It doesn&#39;t need to be compiled. I&#39;ve looked around quite a bit, but I&#39;m still new to programming and can&#39;t implement some of the harder stuff.\r\n\r\nSo to make it shorter: I&#39;m looking for some java package that will analyze code for syntax errors.","title":"Syntax Checking in Java","body":"<p>I am currently working on a program that has an embedded text editor. The users are supposed to type java code in the editor. The code typed into the editor is then made into a string. I just want something that would check for missing parenthesis or a try without a catch, etc. It doesn't need to be compiled. I've looked around quite a bit, but I'm still new to programming and can't implement some of the harder stuff.</p>\n\n<p>So to make it shorter: I'm looking for some java package that will analyze code for syntax errors.</p>\n"},{"tags":["java","spring-boot","properties-file"],"comments":[{"owner":{"account_id":369175,"reputation":6949,"user_id":3612327,"accept_rate":41,"display_name":"clevertension"},"score":0,"creation_date":1569405512,"post_id":58095669,"comment_id":102583805,"body_markdown":"what&#39;s your spring boot version?","body":"what&#39;s your spring boot version?"},{"owner":{"account_id":2749838,"reputation":2310,"user_id":2369476,"accept_rate":44,"display_name":"Javadroider"},"score":0,"creation_date":1569479959,"post_id":58095669,"comment_id":102611694,"body_markdown":"@clevertension 2.1.4.RELEASE","body":"@clevertension 2.1.4.RELEASE"}],"answers":[{"tags":[],"owner":{"account_id":239570,"reputation":1778,"user_id":509269,"display_name":"Florent Dupont"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651480194,"creation_date":1651480194,"answer_id":72084141,"question_id":58095669,"body_markdown":"One easy way to do it would be to &quot;hack&quot; the spEl Expression to force the use of the String.trim() function.\r\n\r\nLet&#39;s say you have a property `test.myvalue` equal to `azerty  ` (with trailing spaces) in the `application.properties` file, then you could inject this property in your class like this : \r\n\r\n\r\n```\r\n@Value(&quot;#{&#39;${test.myvalue}&#39;.trim()}&quot;)\r\nString myvalue;\r\n```\r\n\r\nThe resulting `myvalue` will be equal to `azerty` (no trailing spaces) once injected in your class.\r\n\r\nObviously this trimming won&#39;t be set globally to all injected values in your app, and you&#39;ll have to do it to all injected value, but I think this approach gives more flexibility.\r\n\r\n","title":"Automatically trim trailing white space for properties in properties file","body":"<p>One easy way to do it would be to &quot;hack&quot; the spEl Expression to force the use of the String.trim() function.</p>\n<p>Let's say you have a property <code>test.myvalue</code> equal to <code>azerty  </code> (with trailing spaces) in the <code>application.properties</code> file, then you could inject this property in your class like this :</p>\n<pre><code>@Value(&quot;#{'${test.myvalue}'.trim()}&quot;)\nString myvalue;\n</code></pre>\n<p>The resulting <code>myvalue</code> will be equal to <code>azerty</code> (no trailing spaces) once injected in your class.</p>\n<p>Obviously this trimming won't be set globally to all injected values in your app, and you'll have to do it to all injected value, but I think this approach gives more flexibility.</p>\n"}],"owner":{"account_id":2749838,"reputation":2310,"user_id":2369476,"accept_rate":44,"display_name":"Javadroider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2013,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651481870,"creation_date":1569404987,"question_id":58095669,"body_markdown":"Spring doesn&#39;t trim the values given in properties file. As per the discussion here, it looks like they have kept in intentionally.\r\nHowever, in our project, we want to trim the values automatically before it is getting used in the application.\r\n\r\nI am using 2.1.4.RELEASE.\r\n\r\nI tried by adding following Bean configuration\r\n\r\n    @Bean\r\n    public static PropertyPlaceholderConfigurer properties() {\r\n        PropertyPlaceholderConfigurer ppc = new PropertyPlaceholderConfigurer();\r\n        Resource[] resources = new ClassPathResource[]{new ClassPathResource(&quot;application.properties&quot;)};\r\n        ppc.setLocations(resources);\r\n        ppc.setIgnoreUnresolvablePlaceholders(true);\r\n        ppc.setTrimValues(true);\r\n        return ppc;\r\n    }\r\n\r\nBecause of this setting, it is not able to load properties file and throwing following exception\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;kafka.groupId&#39; in value &quot;${kafka.groupId}&quot;\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:172)\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:124)\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:237)\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:211)\r\n    \tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175)\r\n\r\nAnyone has tried to solve this problem?\r\n\r\nI referred the following links but didn&#39;t get much help.\r\n\r\nhttps://stackoverflow.com/questions/7031905/automatically-trim-trailing-white-space-for-properties-in-props-file-loaded-into, \r\n\r\nhttps://htr3n.github.io/2018/11/spring-boot-trailing-whitespaces/\r\n\r\n\r\n","title":"Automatically trim trailing white space for properties in properties file","body":"<p>Spring doesn't trim the values given in properties file. As per the discussion here, it looks like they have kept in intentionally.\nHowever, in our project, we want to trim the values automatically before it is getting used in the application.</p>\n<p>I am using 2.1.4.RELEASE.</p>\n<p>I tried by adding following Bean configuration</p>\n<pre><code>@Bean\npublic static PropertyPlaceholderConfigurer properties() {\n    PropertyPlaceholderConfigurer ppc = new PropertyPlaceholderConfigurer();\n    Resource[] resources = new ClassPathResource[]{new ClassPathResource(&quot;application.properties&quot;)};\n    ppc.setLocations(resources);\n    ppc.setIgnoreUnresolvablePlaceholders(true);\n    ppc.setTrimValues(true);\n    return ppc;\n}\n</code></pre>\n<p>Because of this setting, it is not able to load properties file and throwing following exception</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'kafka.groupId' in value &quot;${kafka.groupId}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:172)\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:124)\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:237)\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:211)\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175)\n</code></pre>\n<p>Anyone has tried to solve this problem?</p>\n<p>I referred the following links but didn't get much help.</p>\n<p><a href=\"https://stackoverflow.com/questions/7031905/automatically-trim-trailing-white-space-for-properties-in-props-file-loaded-into\">Automatically Trim Trailing White Space for properties in Props file loaded into Spring</a>,</p>\n<p><a href=\"https://htr3n.github.io/2018/11/spring-boot-trailing-whitespaces/\" rel=\"nofollow noreferrer\">https://htr3n.github.io/2018/11/spring-boot-trailing-whitespaces/</a></p>\n"},{"tags":["java","http-caching","bitbucket-api","java-http-client"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":3,"creation_date":1651481867,"post_id":72084103,"comment_id":127366802,"body_markdown":"Is the authentication that you use with Http client exactly the same than the one you use in Postman? Have you tried [cleaning Postman&#39;s cache](https://stackoverflow.com/questions/28305273/how-to-delete-session-cookie-in-postman) and running the request again to check if you&#39;re not retrieving something that is cached?","body":"Is the authentication that you use with Http client exactly the same than the one you use in Postman? Have you tried <a href=\"https://stackoverflow.com/questions/28305273/how-to-delete-session-cookie-in-postman\">cleaning Postman&#39;s cache</a> and running the request again to check if you&#39;re not retrieving something that is cached?"},{"owner":{"account_id":1356631,"reputation":726,"user_id":1294908,"accept_rate":60,"display_name":"Sree"},"score":1,"creation_date":1651483060,"post_id":72084103,"comment_id":127367152,"body_markdown":"I found out the issue - the authenticator in HttpClient is not having any effect on the call. So it was a call without authorization in header. After adding http header for Authorization it&#39;s working. But funny thing is Bitbucket API is not complaining about this and returning some invalidate data instead :) hence the confusion.","body":"I found out the issue - the authenticator in HttpClient is not having any effect on the call. So it was a call without authorization in header. After adding http header for Authorization it&#39;s working. But funny thing is Bitbucket API is not complaining about this and returning some invalidate data instead :) hence the confusion."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1651487036,"post_id":72084103,"comment_id":127368315,"body_markdown":"Great. I suggest you write this as an answer and accept it yourself. it may help someone else who in the future will look for the same keywords","body":"Great. I suggest you write this as an answer and accept it yourself. it may help someone else who in the future will look for the same keywords"}],"owner":{"account_id":1356631,"reputation":726,"user_id":1294908,"accept_rate":60,"display_name":"Sree"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651481685,"creation_date":1651479966,"question_id":72084103,"body_markdown":"I&#39;m running this code in Idea 2020.1 with Java 11 (of course!)\r\n\r\n     String gitApiPrUrl = &quot;https://bitbucket.myserver.com/rest/api/1.0/projects/PRJ/repos/my-repo/pull-requests&quot;;\r\n\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .uri(new URI(gitApiPrUrl))\r\n                    .headers(&quot;Cache-Control&quot;, &quot;no-store&quot;)\r\n                    .GET()\r\n                    .build();\r\n    \r\n            HttpResponse&lt;String&gt; response = HttpClient.newBuilder()\r\n                    .authenticator(authenticator())\r\n                    .build()\r\n                    .send(request, HttpResponse.BodyHandlers.ofString());\r\n    \r\n            System.out.println(response.body());\r\n\r\nResponse:\r\n\r\n    {&quot;size&quot;:0,&quot;limit&quot;:25,&quot;isLastPage&quot;:true,&quot;values&quot;:[],&quot;start&quot;:0}\r\n\r\njava.net.http.HttpHeaders@f406e94c { {cache-control=[no-cache, no-transform], content-type=[application/json;charset=UTF-8], date=[Mon, 02 May 2022 08:47:34 GMT], set-cookie=[BIGipServerBITBUCKET-POOL-7990=606120128.13855.0000; path=/; Httponly; Secure], transfer-encoding=[chunked], vary=[accept-encoding,x-auserid,cookie,x-ausername,accept-encoding], x-arequestid=[*2J2Q3Kx527x646575x15], x-asen=[SEN-8378849], x-content-type-options=[nosniff]} }\r\n\r\nResponse in Postman\r\n\r\n    {\r\n        &quot;size&quot;: 1,\r\n        &quot;limit&quot;: 25,\r\n        &quot;isLastPage&quot;: true,\r\n        &quot;values&quot;: [\r\n            {\r\n                &quot;id&quot;: 12,\r\n                &quot;version&quot;: 0, ...","title":"Java HttpClient is not returning latest data from API","body":"<p>I'm running this code in Idea 2020.1 with Java 11 (of course!)</p>\n<pre><code> String gitApiPrUrl = &quot;https://bitbucket.myserver.com/rest/api/1.0/projects/PRJ/repos/my-repo/pull-requests&quot;;\n\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(new URI(gitApiPrUrl))\n                .headers(&quot;Cache-Control&quot;, &quot;no-store&quot;)\n                .GET()\n                .build();\n\n        HttpResponse&lt;String&gt; response = HttpClient.newBuilder()\n                .authenticator(authenticator())\n                .build()\n                .send(request, HttpResponse.BodyHandlers.ofString());\n\n        System.out.println(response.body());\n</code></pre>\n<p>Response:</p>\n<pre><code>{&quot;size&quot;:0,&quot;limit&quot;:25,&quot;isLastPage&quot;:true,&quot;values&quot;:[],&quot;start&quot;:0}\n</code></pre>\n<p>java.net.http.HttpHeaders@f406e94c { {cache-control=[no-cache, no-transform], content-type=[application/json;charset=UTF-8], date=[Mon, 02 May 2022 08:47:34 GMT], set-cookie=[BIGipServerBITBUCKET-POOL-7990=606120128.13855.0000; path=/; Httponly; Secure], transfer-encoding=[chunked], vary=[accept-encoding,x-auserid,cookie,x-ausername,accept-encoding], x-arequestid=[*2J2Q3Kx527x646575x15], x-asen=[SEN-8378849], x-content-type-options=[nosniff]} }</p>\n<p>Response in Postman</p>\n<pre><code>{\n    &quot;size&quot;: 1,\n    &quot;limit&quot;: 25,\n    &quot;isLastPage&quot;: true,\n    &quot;values&quot;: [\n        {\n            &quot;id&quot;: 12,\n            &quot;version&quot;: 0, ...\n</code></pre>\n"},{"tags":["java","http","jersey"],"comments":[{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":1,"creation_date":1651485415,"post_id":72084302,"comment_id":127367904,"body_markdown":"Is your `pluginEndpoint` null?","body":"Is your <code>pluginEndpoint</code> null?"},{"owner":{"account_id":19306526,"reputation":203,"user_id":14113217,"display_name":"Palak Kharbanda"},"score":0,"creation_date":1678332789,"post_id":72084302,"comment_id":133513322,"body_markdown":"Did you find any solution? If yes, please tell","body":"Did you find any solution? If yes, please tell"}],"owner":{"account_id":1467167,"reputation":1919,"user_id":1379706,"accept_rate":62,"display_name":"stallion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1348,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651481089,"creation_date":1651481089,"question_id":72084302,"body_markdown":"I am facing the following exception when the below piece of code is executed.. I am using Jersey client to make the call.\r\n\r\n```\r\npublic class EventListenerClient {\r\n\r\n    private static final String path = &quot;/event/publish&quot;;\r\n\r\n    private final String pluginEndpoint;\r\n\r\n    private final Client client;\r\n\r\n    public EventListenerClient(final Client client) {\r\n        pluginEndpoint = AppConfig.findString(EVENT_LISTENER_ENDPOINT);\r\n        this.client = client;\r\n    }\r\n\r\n//Other public methods\r\n\r\nprivate Response callEventListener(final IonStruct requestStruct, final String path) {\r\n        final Response response;\r\n        try {\r\n            response = client.target(pluginEndpoint).path(path).request(IonMediaType.TEXT_X_ABC_ION_TYPE)\r\n                    .post(Entity.entity(requestStruct.toString(IonTextWriterBuilder.standard()),\r\n                            IonMediaType.TEXT_X_ABC_ION_TYPE));\r\n        } catch (final Exception e) {\r\n            throw new EventListenerException(&quot;Could not call EventListener.&quot;, e);\r\n        }\r\n        return response;\r\n    }\r\n}\r\n```\r\n\r\nIts failing at this line.\r\n\r\n```\r\nresponse = client.target(pluginEndpoint).path(path).request(IonMediaType.TEXT_X_ABC_ION_TYPE)\r\n                    .post(Entity.entity(requestStruct.toString(IonTextWriterBuilder.standard()),\r\n                            IonMediaType.TEXT_X_ABC_ION_TYPE));\r\n```\r\n\r\nHas anyone faced this issue?  what is the solution here?\r\n\r\n \r\n\r\n```\r\n     [java] Caused by: java.lang.NullPointerException: URI template of the newly created target must not be null.\r\n     [java] \tat jersey.repackaged.com.google.common.base.Preconditions.checkNotNull(Preconditions.java:226)\r\n     [java] \tat org.glassfish.jersey.client.JerseyClient.target(JerseyClient.java:210)\r\n     [java] \tat org.glassfish.jersey.client.JerseyClient.target(JerseyClient.java:72)\r\n     [java] \tat com.amazon.eventlistenerjavaclient.client.EventListenerClient.callEventListener(EventListenerClient.java:57)\r\n     [java] \t... 5 more\r\n```","title":"URI template of the newly created target must not be null","body":"<p>I am facing the following exception when the below piece of code is executed.. I am using Jersey client to make the call.</p>\n<pre><code>public class EventListenerClient {\n\n    private static final String path = &quot;/event/publish&quot;;\n\n    private final String pluginEndpoint;\n\n    private final Client client;\n\n    public EventListenerClient(final Client client) {\n        pluginEndpoint = AppConfig.findString(EVENT_LISTENER_ENDPOINT);\n        this.client = client;\n    }\n\n//Other public methods\n\nprivate Response callEventListener(final IonStruct requestStruct, final String path) {\n        final Response response;\n        try {\n            response = client.target(pluginEndpoint).path(path).request(IonMediaType.TEXT_X_ABC_ION_TYPE)\n                    .post(Entity.entity(requestStruct.toString(IonTextWriterBuilder.standard()),\n                            IonMediaType.TEXT_X_ABC_ION_TYPE));\n        } catch (final Exception e) {\n            throw new EventListenerException(&quot;Could not call EventListener.&quot;, e);\n        }\n        return response;\n    }\n}\n</code></pre>\n<p>Its failing at this line.</p>\n<pre><code>response = client.target(pluginEndpoint).path(path).request(IonMediaType.TEXT_X_ABC_ION_TYPE)\n                    .post(Entity.entity(requestStruct.toString(IonTextWriterBuilder.standard()),\n                            IonMediaType.TEXT_X_ABC_ION_TYPE));\n</code></pre>\n<p>Has anyone faced this issue?  what is the solution here?</p>\n<pre><code>     [java] Caused by: java.lang.NullPointerException: URI template of the newly created target must not be null.\n     [java]     at jersey.repackaged.com.google.common.base.Preconditions.checkNotNull(Preconditions.java:226)\n     [java]     at org.glassfish.jersey.client.JerseyClient.target(JerseyClient.java:210)\n     [java]     at org.glassfish.jersey.client.JerseyClient.target(JerseyClient.java:72)\n     [java]     at com.amazon.eventlistenerjavaclient.client.EventListenerClient.callEventListener(EventListenerClient.java:57)\n     [java]     ... 5 more\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1651129729,"post_id":72029439,"comment_id":127290649,"body_markdown":"&quot;What am I doing wrong?&quot;: You are not thinking about what you suppose your helpers to do. We would need to: 1. create a `*.xls` file having at least one picture shape on a sheet drawing. 2. write the complete code which opens that `*.xls` file using `HSSF`, gets the `HSSFSheet` having the sheet drawing, gets the `Picture`, creates (or opens?) a `XSSFWorkbook`, creates (or gets?) the `XSSFSheet` and calls the `copyImage(Picture shape, HSSFSheet oldSheet, XSSFSheet newSheet)` then. 3. try to determine what the `transferImge (Sheet sheet, Sheet newSheet)` shall do and how it is involved here.","body":"&quot;What am I doing wrong?&quot;: You are not thinking about what you suppose your helpers to do. We would need to: 1. create a <code>*.xls</code> file having at least one picture shape on a sheet drawing. 2. write the complete code which opens that <code>*.xls</code> file using <code>HSSF</code>, gets the <code>HSSFSheet</code> having the sheet drawing, gets the <code>Picture</code>, creates (or opens?) a <code>XSSFWorkbook</code>, creates (or gets?) the <code>XSSFSheet</code> and calls the <code>copyImage(Picture shape, HSSFSheet oldSheet, XSSFSheet newSheet)</code> then. 3. try to determine what the <code>transferImge (Sheet sheet, Sheet newSheet)</code> shall do and how it is involved here."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1651129888,"post_id":72029439,"comment_id":127290703,"body_markdown":"Only then we would be able to reproduce your issue. I doubt, someone will do this. You have linked some of my answers. There you can see what &quot;minimal complete example&quot; means -&gt; code to: copy - paste - compile - run. In your case you also should provide the source `*.xls` file somewhere to download.","body":"Only then we would be able to reproduce your issue. I doubt, someone will do this. You have linked some of my answers. There you can see what &quot;minimal complete example&quot; means -&gt; code to: copy - paste - compile - run. In your case you also should provide the source <code>*.xls</code> file somewhere to download."},{"owner":{"account_id":20837972,"reputation":11,"user_id":15305393,"display_name":"sanchi82"},"score":0,"creation_date":1651481290,"post_id":72029439,"comment_id":127366665,"body_markdown":"Hi! Thanks for you replay. I updated my code and now it is possibile to run it. It  only needs a png image. It creates a xls file and a xlsx file.","body":"Hi! Thanks for you replay. I updated my code and now it is possibile to run it. It  only needs a png image. It creates a xls file and a xlsx file."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1651505711,"post_id":72029439,"comment_id":127374780,"body_markdown":"Sorry, I can&#39;t help. I guess I got what you are trying to achieve. But as told im my answers, you have linked, the drawing layers of `BIFF` (`*.xls`) and `Office Open XML` (`*.xlsx`) are too different and documented too less exact. So I am not able to provide a code which is able to copy the one into the other using `apache poi`. Maybe someone else will be able to. But I doubt that.","body":"Sorry, I can&#39;t help. I guess I got what you are trying to achieve. But as told im my answers, you have linked, the drawing layers of <code>BIFF</code> (<code>*.xls</code>) and <code>Office Open XML</code> (<code>*.xlsx</code>) are too different and documented too less exact. So I am not able to provide a code which is able to copy the one into the other using <code>apache poi</code>. Maybe someone else will be able to. But I doubt that."}],"owner":{"account_id":20837972,"reputation":11,"user_id":15305393,"display_name":"sanchi82"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651481063,"creation_date":1651065281,"question_id":72029439,"body_markdown":"I&#39;m trying to copy an image from a XLS to a XLSX, using Apache Poi 4.1.2.\r\nI&#39;m not able to calculate the right value for dy2.\r\n\r\nMy code:\r\n```\r\npackage poisamples;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.Iterator;\r\n\r\nimport org.apache.poi.ss.usermodel.ClientAnchor.AnchorType;\r\nimport org.apache.poi.hssf.usermodel.HSSFClientAnchor;\r\nimport org.apache.poi.hssf.usermodel.HSSFPatriarch;\r\nimport org.apache.poi.hssf.usermodel.HSSFPicture;\r\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\r\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n\r\nimport org.apache.poi.util.Units;\r\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\r\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\nimport org.apache.poi.ss.usermodel.ClientAnchor;\r\nimport org.apache.poi.ss.usermodel.CreationHelper;\r\nimport org.apache.poi.ss.usermodel.Drawing;\r\nimport org.apache.poi.ss.usermodel.Picture;\r\nimport org.apache.poi.ss.usermodel.PictureData;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.ss.usermodel.Sheet;\r\nimport org.apache.poi.ss.usermodel.Workbook;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\npublic class HSSFtoXSSF {\r\n\r\n  private static HSSFWorkbook createXLS() {\r\n    String imageFile = &quot;test.png&quot;;\r\n    String outputFile = &quot;oldFile.xls&quot;;\r\n    HSSFWorkbook workbook = new HSSFWorkbook();\r\n    HSSFSheet sheet = workbook.createSheet(&quot;Image&quot;);\r\n    HSSFClientAnchor anchor = new HSSFClientAnchor(27,75,11,174,(short)0, (short)0, (short)7, (short)3);\r\n\r\n    sheet.setColumnWidth(0, 6000);\r\n\r\n    anchor.setAnchorType(AnchorType.DONT_MOVE_AND_RESIZE);\r\n    try {\r\n      int index = sheet.getWorkbook().addPicture(imageToBytes(imageFile), HSSFWorkbook.PICTURE_TYPE_PNG);\r\n      HSSFPatriarch patriarch = sheet.createDrawingPatriarch();\r\n      HSSFPicture picture = patriarch.createPicture(anchor, index);\r\n      FileOutputStream fos = new FileOutputStream(outputFile);\r\n      workbook.write(fos);\r\n      fos.close();\r\n    }\r\n    catch (IOException ioe) {\r\n      System.out.println(&quot;Error reading image&quot;);\r\n    }\r\n    return workbook;\r\n  }\r\n\r\n  private static byte[] imageToBytes(String imageFilename) throws IOException {\r\n    File imageFile;\r\n    FileInputStream fis = null;\r\n    ByteArrayOutputStream bos;\r\n    int read;\r\n    try {\r\n      imageFile = new File(imageFilename);\r\n      fis = new FileInputStream(imageFile);\r\n      bos = new ByteArrayOutputStream();\r\n      while ((read = fis.read()) != -1) {\r\n        bos.write(read);\r\n      }\r\n      return (bos.toByteArray());\r\n    }\r\n    finally {\r\n      if (fis != null) {\r\n        try {\r\n          fis.close();\r\n          fis = null;\r\n        }\r\n        catch (IOException ioEx) {\r\n          // Nothing to do here\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private static void transferImages (HSSFSheet sheet, XSSFSheet newSheet) {\r\n    if ( sheet.getDrawingPatriarch() == null) {\r\n      sheet.createDrawingPatriarch();\r\n    }\r\n    Drawing&lt;?&gt; drawing = sheet.getDrawingPatriarch();\r\n    Iterator&lt;?&gt; it = drawing.iterator();\r\n    while (it.hasNext()) {\r\n      Object shape = it.next();\r\n      if (shape instanceof Picture) {\r\n        copyImage((Picture)shape, sheet, newSheet);\r\n      }\r\n    }\r\n  }\r\n\r\n  private static void copyImage(Picture shape, HSSFSheet oldSheet, XSSFSheet newSheet) {\r\n    PictureData pictureData = shape.getPictureData();\r\n    ClientAnchor oldAnchor = (ClientAnchor) shape.getAnchor();\r\n\r\n    int col1 = oldAnchor.getCol1();\r\n    int col2 = oldAnchor.getCol2();\r\n    int row1 = oldAnchor.getRow1();\r\n    int row2 = oldAnchor.getRow2();\r\n\r\n    int x1 = oldAnchor.getDx1();\r\n    int x2 = oldAnchor.getDx2();\r\n    int y1 = oldAnchor.getDy1();\r\n    int y2 = oldAnchor.getDy2();\r\n    int DEFAULT_COL_WIDTH = 10 * 256;\r\n    float DEFAULT_ROW_HEIGHT = 12.75f;\r\n\r\n    // Calculate row height\r\n    Row row = oldSheet.getRow(row1);\r\n    float rowHeightInPoints1 = (row!=null)?row.getHeightInPoints():DEFAULT_ROW_HEIGHT;\r\n    float rowHeightInPixels1 = rowHeightInPoints1 * Units.PIXEL_DPI / Units.POINT_DPI;\r\n    row = oldSheet.getRow(row2);\r\n    float rowHeightInPoints2 = (row!=null)?row.getHeightInPoints():DEFAULT_ROW_HEIGHT;\r\n    float rowHeightInPixels2 = rowHeightInPoints2 * Units.PIXEL_DPI / Units.POINT_DPI;\r\n\r\n    // Calculate column width\r\n    int colwidth1 = oldSheet.getColumnWidth(col1);\r\n    int colwidth2 = oldSheet.getColumnWidth(col2);\r\n\r\n    y1 = (int)Math.round(y1 / Units.PIXEL_DPI * Units.POINT_DPI / 14.75 / DEFAULT_ROW_HEIGHT * rowHeightInPixels1);\r\n    x1 = (int)Math.round((x1 / (Units.DEFAULT_CHARACTER_WIDTH * 256f) / 14.75) / DEFAULT_COL_WIDTH * colwidth1);\r\n    y2 = (int)Math.round(y2 / Units.PIXEL_DPI * Units.POINT_DPI / 14.75 / DEFAULT_ROW_HEIGHT * rowHeightInPixels2);\r\n    x2 = (int)Math.round((x2 / (Units.DEFAULT_CHARACTER_WIDTH * 256f) / 14.75) / DEFAULT_COL_WIDTH * colwidth2);\r\n\r\n    Workbook newWb = newSheet.getWorkbook();\r\n    CreationHelper newHelper = newWb.getCreationHelper();\r\n    Drawing newDrawing = newSheet.getDrawingPatriarch();\r\n    if ( newDrawing == null) {\r\n      newDrawing = newSheet.createDrawingPatriarch();\r\n    }\r\n    ClientAnchor newAnchor = newHelper.createClientAnchor();\r\n    newAnchor.setAnchorType(ClientAnchor.AnchorType.MOVE_AND_RESIZE);\r\n\r\n    newAnchor.setRow1(row1);\r\n    newAnchor.setCol1(col1);\r\n    newAnchor.setDy1(y1 * Units.EMU_PER_POINT);\r\n    newAnchor.setDx1((int)Math.round(x1 * Units.EMU_PER_PIXEL * Units.DEFAULT_CHARACTER_WIDTH / 256f));\r\n\r\n    newAnchor.setCol2(col2);\r\n    newAnchor.setRow2(row2); //second anchor determines bottom right position\r\n    newAnchor.setDy2(y2 * Units.EMU_PER_POINT);\r\n    newAnchor.setDx2((int)Math.round(x2 * Units.EMU_PER_PIXEL * Units.DEFAULT_CHARACTER_WIDTH / 256f));\r\n\r\n    int newPictureIndex = newWb.addPicture(pictureData.getData(), pictureData.getPictureType());\r\n    Picture picture = newDrawing.createPicture(newAnchor, newPictureIndex);\r\n  }\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    String outputFile = &quot;newFile.xlsx&quot;;\r\n    HSSFWorkbook oldWorkbook = createXLS();\r\n    XSSFWorkbook newWorkbook = new XSSFWorkbook();\r\n\r\n    HSSFSheet oldSheet = oldWorkbook.getSheetAt(0);\r\n    String sheetName = oldSheet.getSheetName();\r\n    XSSFSheet newSheet = newWorkbook.createSheet(sheetName);\r\n    newSheet.setDefaultRowHeight(oldSheet.getDefaultRowHeight());\r\n    newSheet.setDefaultColumnWidth(oldSheet.getDefaultColumnWidth());\r\n    transferImages(oldSheet, newSheet);\r\n\r\n    oldWorkbook.close();\r\n    FileOutputStream fos = new FileOutputStream(outputFile);\r\n    newWorkbook.write(fos);\r\n    fos.close();\r\n    newWorkbook.close();\r\n  }\r\n}\r\n```\r\nI read these answer:\r\n\r\n[apache poi XSSFClientAnchor not positioning picture with respect to dx1, dy1, dx2, dy2](https://stackoverflow.com/questions/48567203/apache-poi-xssfclientanchor-not-positioning-picture-with-respect-to-dx1-dy1-dx)\r\n\r\n[How to set image size via HSSFWorkbook](https://stackoverflow.com/questions/61428809/how-to-set-image-size-via-hssfworkbook)\r\n\r\n[https://stackoverflow.com/questions/37182688/apache-poi-excel-sheet-resize-a-picture-while-keeping-its-ratio](https://stackoverflow.com/questions/37182688/apache-poi-excel-sheet-resize-a-picture-while-keeping-its-ratio)\r\n\r\nWhat am I doing wrong?","title":"Copy image from xls to xslx using Apache Poi","body":"<p>I'm trying to copy an image from a XLS to a XLSX, using Apache Poi 4.1.2.\nI'm not able to calculate the right value for dy2.</p>\n<p>My code:</p>\n<pre><code>package poisamples;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Iterator;\n\nimport org.apache.poi.ss.usermodel.ClientAnchor.AnchorType;\nimport org.apache.poi.hssf.usermodel.HSSFClientAnchor;\nimport org.apache.poi.hssf.usermodel.HSSFPatriarch;\nimport org.apache.poi.hssf.usermodel.HSSFPicture;\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\n\nimport org.apache.poi.util.Units;\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.usermodel.ClientAnchor;\nimport org.apache.poi.ss.usermodel.CreationHelper;\nimport org.apache.poi.ss.usermodel.Drawing;\nimport org.apache.poi.ss.usermodel.Picture;\nimport org.apache.poi.ss.usermodel.PictureData;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class HSSFtoXSSF {\n\n  private static HSSFWorkbook createXLS() {\n    String imageFile = &quot;test.png&quot;;\n    String outputFile = &quot;oldFile.xls&quot;;\n    HSSFWorkbook workbook = new HSSFWorkbook();\n    HSSFSheet sheet = workbook.createSheet(&quot;Image&quot;);\n    HSSFClientAnchor anchor = new HSSFClientAnchor(27,75,11,174,(short)0, (short)0, (short)7, (short)3);\n\n    sheet.setColumnWidth(0, 6000);\n\n    anchor.setAnchorType(AnchorType.DONT_MOVE_AND_RESIZE);\n    try {\n      int index = sheet.getWorkbook().addPicture(imageToBytes(imageFile), HSSFWorkbook.PICTURE_TYPE_PNG);\n      HSSFPatriarch patriarch = sheet.createDrawingPatriarch();\n      HSSFPicture picture = patriarch.createPicture(anchor, index);\n      FileOutputStream fos = new FileOutputStream(outputFile);\n      workbook.write(fos);\n      fos.close();\n    }\n    catch (IOException ioe) {\n      System.out.println(&quot;Error reading image&quot;);\n    }\n    return workbook;\n  }\n\n  private static byte[] imageToBytes(String imageFilename) throws IOException {\n    File imageFile;\n    FileInputStream fis = null;\n    ByteArrayOutputStream bos;\n    int read;\n    try {\n      imageFile = new File(imageFilename);\n      fis = new FileInputStream(imageFile);\n      bos = new ByteArrayOutputStream();\n      while ((read = fis.read()) != -1) {\n        bos.write(read);\n      }\n      return (bos.toByteArray());\n    }\n    finally {\n      if (fis != null) {\n        try {\n          fis.close();\n          fis = null;\n        }\n        catch (IOException ioEx) {\n          // Nothing to do here\n        }\n      }\n    }\n  }\n\n  private static void transferImages (HSSFSheet sheet, XSSFSheet newSheet) {\n    if ( sheet.getDrawingPatriarch() == null) {\n      sheet.createDrawingPatriarch();\n    }\n    Drawing&lt;?&gt; drawing = sheet.getDrawingPatriarch();\n    Iterator&lt;?&gt; it = drawing.iterator();\n    while (it.hasNext()) {\n      Object shape = it.next();\n      if (shape instanceof Picture) {\n        copyImage((Picture)shape, sheet, newSheet);\n      }\n    }\n  }\n\n  private static void copyImage(Picture shape, HSSFSheet oldSheet, XSSFSheet newSheet) {\n    PictureData pictureData = shape.getPictureData();\n    ClientAnchor oldAnchor = (ClientAnchor) shape.getAnchor();\n\n    int col1 = oldAnchor.getCol1();\n    int col2 = oldAnchor.getCol2();\n    int row1 = oldAnchor.getRow1();\n    int row2 = oldAnchor.getRow2();\n\n    int x1 = oldAnchor.getDx1();\n    int x2 = oldAnchor.getDx2();\n    int y1 = oldAnchor.getDy1();\n    int y2 = oldAnchor.getDy2();\n    int DEFAULT_COL_WIDTH = 10 * 256;\n    float DEFAULT_ROW_HEIGHT = 12.75f;\n\n    // Calculate row height\n    Row row = oldSheet.getRow(row1);\n    float rowHeightInPoints1 = (row!=null)?row.getHeightInPoints():DEFAULT_ROW_HEIGHT;\n    float rowHeightInPixels1 = rowHeightInPoints1 * Units.PIXEL_DPI / Units.POINT_DPI;\n    row = oldSheet.getRow(row2);\n    float rowHeightInPoints2 = (row!=null)?row.getHeightInPoints():DEFAULT_ROW_HEIGHT;\n    float rowHeightInPixels2 = rowHeightInPoints2 * Units.PIXEL_DPI / Units.POINT_DPI;\n\n    // Calculate column width\n    int colwidth1 = oldSheet.getColumnWidth(col1);\n    int colwidth2 = oldSheet.getColumnWidth(col2);\n\n    y1 = (int)Math.round(y1 / Units.PIXEL_DPI * Units.POINT_DPI / 14.75 / DEFAULT_ROW_HEIGHT * rowHeightInPixels1);\n    x1 = (int)Math.round((x1 / (Units.DEFAULT_CHARACTER_WIDTH * 256f) / 14.75) / DEFAULT_COL_WIDTH * colwidth1);\n    y2 = (int)Math.round(y2 / Units.PIXEL_DPI * Units.POINT_DPI / 14.75 / DEFAULT_ROW_HEIGHT * rowHeightInPixels2);\n    x2 = (int)Math.round((x2 / (Units.DEFAULT_CHARACTER_WIDTH * 256f) / 14.75) / DEFAULT_COL_WIDTH * colwidth2);\n\n    Workbook newWb = newSheet.getWorkbook();\n    CreationHelper newHelper = newWb.getCreationHelper();\n    Drawing newDrawing = newSheet.getDrawingPatriarch();\n    if ( newDrawing == null) {\n      newDrawing = newSheet.createDrawingPatriarch();\n    }\n    ClientAnchor newAnchor = newHelper.createClientAnchor();\n    newAnchor.setAnchorType(ClientAnchor.AnchorType.MOVE_AND_RESIZE);\n\n    newAnchor.setRow1(row1);\n    newAnchor.setCol1(col1);\n    newAnchor.setDy1(y1 * Units.EMU_PER_POINT);\n    newAnchor.setDx1((int)Math.round(x1 * Units.EMU_PER_PIXEL * Units.DEFAULT_CHARACTER_WIDTH / 256f));\n\n    newAnchor.setCol2(col2);\n    newAnchor.setRow2(row2); //second anchor determines bottom right position\n    newAnchor.setDy2(y2 * Units.EMU_PER_POINT);\n    newAnchor.setDx2((int)Math.round(x2 * Units.EMU_PER_PIXEL * Units.DEFAULT_CHARACTER_WIDTH / 256f));\n\n    int newPictureIndex = newWb.addPicture(pictureData.getData(), pictureData.getPictureType());\n    Picture picture = newDrawing.createPicture(newAnchor, newPictureIndex);\n  }\n\n  public static void main(String[] args) throws IOException {\n    String outputFile = &quot;newFile.xlsx&quot;;\n    HSSFWorkbook oldWorkbook = createXLS();\n    XSSFWorkbook newWorkbook = new XSSFWorkbook();\n\n    HSSFSheet oldSheet = oldWorkbook.getSheetAt(0);\n    String sheetName = oldSheet.getSheetName();\n    XSSFSheet newSheet = newWorkbook.createSheet(sheetName);\n    newSheet.setDefaultRowHeight(oldSheet.getDefaultRowHeight());\n    newSheet.setDefaultColumnWidth(oldSheet.getDefaultColumnWidth());\n    transferImages(oldSheet, newSheet);\n\n    oldWorkbook.close();\n    FileOutputStream fos = new FileOutputStream(outputFile);\n    newWorkbook.write(fos);\n    fos.close();\n    newWorkbook.close();\n  }\n}\n</code></pre>\n<p>I read these answer:</p>\n<p><a href=\"https://stackoverflow.com/questions/48567203/apache-poi-xssfclientanchor-not-positioning-picture-with-respect-to-dx1-dy1-dx\">apache poi XSSFClientAnchor not positioning picture with respect to dx1, dy1, dx2, dy2</a></p>\n<p><a href=\"https://stackoverflow.com/questions/61428809/how-to-set-image-size-via-hssfworkbook\">How to set image size via HSSFWorkbook</a></p>\n<p><a href=\"https://stackoverflow.com/questions/37182688/apache-poi-excel-sheet-resize-a-picture-while-keeping-its-ratio\">Apache POI Excel sheet: resize a picture while keeping its ratio</a></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","c++","stl"],"answers":[{"tags":[],"owner":{"account_id":90556,"reputation":8012,"user_id":249237,"display_name":"Kninnug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366242767,"creation_date":1366241917,"answer_id":16072118,"question_id":16072055,"body_markdown":"`std::make_heap` makes a binary heap, which is used as a priority-queue and is called [PriorityQueue](http://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html) in Java.\r\n\r\n**Correction**: there isn&#39;t a standard binary-heap class in Java, but I suggested two in the comment below.","title":"std::make_heap equivalent in Java?","body":"<p><code>std::make_heap</code> makes a binary heap, which is used as a priority-queue and is called <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow\">PriorityQueue</a> in Java.</p>\n\n<p><strong>Correction</strong>: there isn't a standard binary-heap class in Java, but I suggested two in the comment below.</p>\n"},{"tags":[],"owner":{"account_id":4597518,"reputation":1,"user_id":3729122,"display_name":"theroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651480718,"creation_date":1651480121,"answer_id":72084125,"question_id":16072055,"body_markdown":"[PriorityQueue](https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html) has a [special constructor](https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#PriorityQueue-java.util.Collection-) that can &quot;heapify&quot; an exisisting ArrayList (or any Collection).\r\n\r\nExample:\r\n\r\n``` \r\nArrayList&lt;Integer&gt; x = new ArrayList&lt;&gt;();\r\n\r\nPriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;Integer&gt;(x);  // O(N)\r\n```\r\n\r\nThis operation copies input whereas `make_heap` just reorders the array in-place.","title":"std::make_heap equivalent in Java?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">PriorityQueue</a> has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#PriorityQueue-java.util.Collection-\" rel=\"nofollow noreferrer\">special constructor</a> that can &quot;heapify&quot; an exisisting ArrayList (or any Collection).</p>\n<p>Example:</p>\n<pre><code>ArrayList&lt;Integer&gt; x = new ArrayList&lt;&gt;();\n\nPriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;Integer&gt;(x);  // O(N)\n</code></pre>\n<p>This operation copies input whereas <code>make_heap</code> just reorders the array in-place.</p>\n"}],"owner":{"account_id":97870,"reputation":13246,"user_id":265260,"accept_rate":55,"display_name":"shreyasva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651480718,"creation_date":1366241545,"question_id":16072055,"body_markdown":"STL has this really useful function. Is there any equivalent to this in Java? I could write my custom implementation but it would be useful not to reinvent the wheel.","title":"std::make_heap equivalent in Java?","body":"<p>STL has this really useful function. Is there any equivalent to this in Java? I could write my custom implementation but it would be useful not to reinvent the wheel.</p>\n"},{"tags":["java","spring","rest","spring-data-rest","nested-resources"],"answers":[{"tags":[],"owner":{"account_id":5077780,"reputation":24088,"user_id":4074715,"display_name":"Predrag Maric"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1429182601,"creation_date":1429177871,"answer_id":29671146,"question_id":29670835,"body_markdown":"Try adding this `Accept` header when you make the request:\r\n\r\n    Accept: application/x-spring-data-verbose+json\r\n\r\nAlso, take a look at [this post](https://stackoverflow.com/a/23287265/4074715) where this is explained in details.","title":"Spring Data Rest - Include nested resource in _embedded","body":"<p>Try adding this <code>Accept</code> header when you make the request:</p>\n\n<pre><code>Accept: application/x-spring-data-verbose+json\n</code></pre>\n\n<p>Also, take a look at <a href=\"https://stackoverflow.com/a/23287265/4074715\">this post</a> where this is explained in details.</p>\n"},{"tags":[],"owner":{"account_id":1241031,"reputation":1797,"user_id":1203628,"accept_rate":75,"display_name":"pdorgambide"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487323244,"creation_date":1487323244,"answer_id":42293983,"question_id":29670835,"body_markdown":"Define an excerpt projection for Article and configure into its repository with \r\n`excerptProjection`\r\n\r\nAny resource that has defined an excerpt projection will be added to `_embedded` part fo the response. This applies to collecion resources of associations.\r\n\r\nRead more at https://stackoverflow.com/a/30297320/1203628 or Spring Data REST [reference documentation][1] \r\n\r\n*An excerpt projection is used whenever an instance of the target type (Article in your case) is used within in an _embedded clause. Thus **the excerpt is some kind of preview used everywhere the resource itself is not rendered but pointed to**. This is usually the case from collection resources or for associations.\r\nRead more on this topic in the Spring Data REST reference documentation.*\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts.excerpts","title":"Spring Data Rest - Include nested resource in _embedded","body":"<p>Define an excerpt projection for Article and configure into its repository with \n<code>excerptProjection</code></p>\n\n<p>Any resource that has defined an excerpt projection will be added to <code>_embedded</code> part fo the response. This applies to collecion resources of associations.</p>\n\n<p>Read more at <a href=\"https://stackoverflow.com/a/30297320/1203628\">https://stackoverflow.com/a/30297320/1203628</a> or Spring Data REST <a href=\"http://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts.excerpts\" rel=\"nofollow noreferrer\">reference documentation</a> </p>\n\n<p><em>An excerpt projection is used whenever an instance of the target type (Article in your case) is used within in an _embedded clause. Thus <strong>the excerpt is some kind of preview used everywhere the resource itself is not rendered but pointed to</strong>. This is usually the case from collection resources or for associations.\nRead more on this topic in the Spring Data REST reference documentation.</em></p>\n"},{"tags":[],"owner":{"account_id":7610018,"reputation":381,"user_id":5771199,"display_name":"Leroy Dunn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651480471,"creation_date":1651480471,"answer_id":72084185,"question_id":29670835,"body_markdown":"The `ShoppingItem` response includes a uri to your `Article` resource by default since you defined a rest repository for your `Article` resource ([docs][1])\r\n\r\n    {\r\n      id: 94,\r\n      number: 1,\r\n      bought: false,\r\n      _links: {\r\n        self: {\r\n          href: &quot;https://myDomain.tld/api/shoppingItems/94&quot;\r\n        },\r\n        article: {\r\n          href: &quot;https://myDomain.tld/api/shoppingItems/94/article&quot;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nTo override this behaviour, define a projection to expose the article data ([docs][2]): \r\n\r\n    @Projection(name = &quot;shoppingItemDetail&quot;, types = { ShoppingItem.class }) \r\n    interface ShoppingItemDetail { \r\n\r\n      // ... all other fields you want included in the response\r\n    \r\n      Article getArticle(); \r\n    \r\n    }\r\n\r\nThen include the projection as a query parameter: \r\n\r\n**`https://myDomain.tld/api/shoppingItems/94?projection=shoppingItemDetail`**\r\n\r\nThe response should now include the article data:\r\n\r\n    {\r\n      id: 94,\r\n      number: 1,\r\n      bought: false,\r\n      article: {\r\n          id: &#39;999&#39;,\r\n          name: &#39;someThing&#39;,\r\n          price: &#39;1.99&#39;\r\n      }\r\n      _links: {\r\n        self: {\r\n          href: &quot;https://myDomain.tld/api/shoppingItems/94&quot;\r\n        },\r\n        article: {\r\n          href: &quot;https://myDomain.tld/api/shoppingItems/94/article&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nTo automatically include the projection on a collection of resources, use an excerpt ([docs][3]):\r\n\r\n    @RepositoryRestResource(excerptProjection = ShippingItemDetail.class)\r\n    interface ShippingItemRepository extends CrudRepository&lt;ShippingItem, Long&gt; {}\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts\r\n  [2]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts.projections.hidden-data\r\n  [3]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts.excerpts","title":"Spring Data Rest - Include nested resource in _embedded","body":"<p>The <code>ShoppingItem</code> response includes a uri to your <code>Article</code> resource by default since you defined a rest repository for your <code>Article</code> resource (<a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts\" rel=\"nofollow noreferrer\">docs</a>)</p>\n<pre><code>{\n  id: 94,\n  number: 1,\n  bought: false,\n  _links: {\n    self: {\n      href: &quot;https://myDomain.tld/api/shoppingItems/94&quot;\n    },\n    article: {\n      href: &quot;https://myDomain.tld/api/shoppingItems/94/article&quot;\n    }\n  }\n}\n</code></pre>\n<p>To override this behaviour, define a projection to expose the article data (<a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts.projections.hidden-data\" rel=\"nofollow noreferrer\">docs</a>):</p>\n<pre><code>@Projection(name = &quot;shoppingItemDetail&quot;, types = { ShoppingItem.class }) \ninterface ShoppingItemDetail { \n\n  // ... all other fields you want included in the response\n\n  Article getArticle(); \n\n}\n</code></pre>\n<p>Then include the projection as a query parameter:</p>\n<p><strong><code>https://myDomain.tld/api/shoppingItems/94?projection=shoppingItemDetail</code></strong></p>\n<p>The response should now include the article data:</p>\n<pre><code>{\n  id: 94,\n  number: 1,\n  bought: false,\n  article: {\n      id: '999',\n      name: 'someThing',\n      price: '1.99'\n  }\n  _links: {\n    self: {\n      href: &quot;https://myDomain.tld/api/shoppingItems/94&quot;\n    },\n    article: {\n      href: &quot;https://myDomain.tld/api/shoppingItems/94/article&quot;\n    }\n  }\n}\n</code></pre>\n<p>To automatically include the projection on a collection of resources, use an excerpt (<a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts.excerpts\" rel=\"nofollow noreferrer\">docs</a>):</p>\n<pre><code>@RepositoryRestResource(excerptProjection = ShippingItemDetail.class)\ninterface ShippingItemRepository extends CrudRepository&lt;ShippingItem, Long&gt; {}\n</code></pre>\n"}],"owner":{"account_id":3039084,"reputation":6351,"user_id":2576531,"accept_rate":88,"display_name":"Yannic B&#252;rgmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8728,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":29671146,"answer_count":3,"score":3,"last_activity_date":1651480471,"creation_date":1429177118,"question_id":29670835,"body_markdown":"I&#39;m developing a Spring Boot Application for a shopping list.\r\nFor this I use Spring Data Rest to export my entities through a REST API.\r\n\r\nMy Architecture looks like this\r\n\r\nI have a **ShoppingItem**:\r\n\r\n    public class ShoppingItem {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;articleId&quot;, nullable = false)\r\n    private Article article;\r\n\r\n    private Integer number;\r\n\r\n    private boolean bought;\r\n\r\n    public ShoppingItem(){\r\n        this.article = null;\r\n        this.number = 0;\r\n        this.bought = false;\r\n    }\r\n\r\n    }\r\n\r\nThis shopping item contains an Article which is an exported Resource.\r\n\r\nThe **Article** looks like this:\r\n\r\n    public class Article {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Column(unique = true)\r\n    private String name;\r\n\r\n    private Integer price;\r\n    }\r\n\r\nWhen i request a ShoppingItem the answer looks like this:\r\n\r\n    {\r\n      id: 94,\r\n      number: 1,\r\n      bought: false,\r\n      _links: {\r\n        self: {\r\n          href: &quot;https://myDomain.tld/api/shoppingItems/94&quot;\r\n        },\r\n        article: {\r\n          href: &quot;https://myDomain.tld/api/shoppingItems/94/article&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nIs it possible to include the `Article` in _embedded when requesting the `ShoppingItem` so the response looks like this?\r\n\r\n    {\r\n      id: 94,\r\n      number: 1,\r\n      bought: false,\r\n      _links: {\r\n        self: {\r\n          href: &quot;https://myDomain.tld/api/shoppingItems/94&quot;\r\n        },\r\n        article: {\r\n          href: &quot;https://myDomain.tld/api/shoppingItems/94/article&quot;\r\n        }\r\n      },\r\n      _embedded: {\r\n        article: {\r\n          id: &#39;999&#39;,\r\n          name: &#39;someThing&#39;,\r\n          price: &#39;1.99&#39;\r\n        }\r\n      }\r\n    }\r\n\r\n**update 1**\r\nWhen using `Accept: application/x-spring-data-verbose+json`\r\n\r\nThe response looks like this:\r\n\r\n    {\r\n      id: 94\r\n      number: 1\r\n      bought: false\r\n      links: [2]\r\n        0:  {\r\n          rel: &quot;self&quot;\r\n          href: &quot;https://wg.yannic-klem.de/api/shoppingItems/94&quot;\r\n        }-\r\n        1:  {\r\n          rel: &quot;article&quot;\r\n          href: &quot;https://wg.yannic-klem.de/api/shoppingItems/94/article&quot;\r\n        }-\r\n      -\r\n      content: [0]\r\n}\r\n\r\nThe content-List is always empty :(\r\n\r\n**update 2:**\r\n\r\nFor more information about my architecture feel free to have a look at my Github repo : https://github.com/Yannic92/ShoppingList/tree/master/src/main/java/de/klem/shopping","title":"Spring Data Rest - Include nested resource in _embedded","body":"<p>I'm developing a Spring Boot Application for a shopping list.\nFor this I use Spring Data Rest to export my entities through a REST API.</p>\n\n<p>My Architecture looks like this</p>\n\n<p>I have a <strong>ShoppingItem</strong>:</p>\n\n<pre><code>public class ShoppingItem {\n@Id\n@GeneratedValue\nprivate Long id;\n\n@ManyToOne\n@JoinColumn(name = \"articleId\", nullable = false)\nprivate Article article;\n\nprivate Integer number;\n\nprivate boolean bought;\n\npublic ShoppingItem(){\n    this.article = null;\n    this.number = 0;\n    this.bought = false;\n}\n\n}\n</code></pre>\n\n<p>This shopping item contains an Article which is an exported Resource.</p>\n\n<p>The <strong>Article</strong> looks like this:</p>\n\n<pre><code>public class Article {\n\n@Id\n@GeneratedValue\nprivate Long id;\n\n@Column(unique = true)\nprivate String name;\n\nprivate Integer price;\n}\n</code></pre>\n\n<p>When i request a ShoppingItem the answer looks like this:</p>\n\n<pre><code>{\n  id: 94,\n  number: 1,\n  bought: false,\n  _links: {\n    self: {\n      href: \"https://myDomain.tld/api/shoppingItems/94\"\n    },\n    article: {\n      href: \"https://myDomain.tld/api/shoppingItems/94/article\"\n    }\n  }\n}\n</code></pre>\n\n<p>Is it possible to include the <code>Article</code> in _embedded when requesting the <code>ShoppingItem</code> so the response looks like this?</p>\n\n<pre><code>{\n  id: 94,\n  number: 1,\n  bought: false,\n  _links: {\n    self: {\n      href: \"https://myDomain.tld/api/shoppingItems/94\"\n    },\n    article: {\n      href: \"https://myDomain.tld/api/shoppingItems/94/article\"\n    }\n  },\n  _embedded: {\n    article: {\n      id: '999',\n      name: 'someThing',\n      price: '1.99'\n    }\n  }\n}\n</code></pre>\n\n<p><strong>update 1</strong>\nWhen using <code>Accept: application/x-spring-data-verbose+json</code></p>\n\n<p>The response looks like this:</p>\n\n<pre><code>{\n  id: 94\n  number: 1\n  bought: false\n  links: [2]\n    0:  {\n      rel: \"self\"\n      href: \"https://wg.yannic-klem.de/api/shoppingItems/94\"\n    }-\n    1:  {\n      rel: \"article\"\n      href: \"https://wg.yannic-klem.de/api/shoppingItems/94/article\"\n    }-\n  -\n  content: [0]\n</code></pre>\n\n<p>}</p>\n\n<p>The content-List is always empty :(</p>\n\n<p><strong>update 2:</strong></p>\n\n<p>For more information about my architecture feel free to have a look at my Github repo : <a href=\"https://github.com/Yannic92/ShoppingList/tree/master/src/main/java/de/klem/shopping\" rel=\"nofollow\">https://github.com/Yannic92/ShoppingList/tree/master/src/main/java/de/klem/shopping</a></p>\n"},{"tags":["java","spring","configuration","properties"],"answers":[{"tags":[],"owner":{"account_id":294574,"reputation":6264,"user_id":598547,"display_name":"Kris Babic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1313096136,"creation_date":1313096136,"answer_id":7032722,"question_id":7031905,"body_markdown":"You can customize the `Properties` loading functionality by passing in a custom `PropertiesPersister` into your `PropertiesFactoryBean` configuration. The  `PropertiesPersister` instance is used by the `PropertiesFactoryBean` to parse the Properties file data.  The default implementation follows the native parsing of `java.util.Properties`.  You can customize the parsing logic by providing your own implementation of the `PropertiesPersister` interface.  ","title":"Automatically Trim Trailing White Space for properties in Props file loaded into Spring","body":"<p>You can customize the <code>Properties</code> loading functionality by passing in a custom <code>PropertiesPersister</code> into your <code>PropertiesFactoryBean</code> configuration. The  <code>PropertiesPersister</code> instance is used by the <code>PropertiesFactoryBean</code> to parse the Properties file data.  The default implementation follows the native parsing of <code>java.util.Properties</code>.  You can customize the parsing logic by providing your own implementation of the <code>PropertiesPersister</code> interface.  </p>\n"},{"tags":[],"owner":{"account_id":8392984,"reputation":415,"user_id":6301139,"display_name":"Carlos D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467632659,"creation_date":1467632659,"answer_id":38183931,"question_id":7031905,"body_markdown":"You can define your own property configurer:\r\n\r\n    package your.company.package;\r\n\r\n    public class TrimPropertyPlaceholderConfigurer extends PropertyPlaceholderConfigurer {\r\n\r\n\t@Override\r\n\tprotected String resolvePlaceholder( String placeholder, Properties props ) {\r\n\t\t    String value = super.resolvePlaceholder( placeholder, props );\r\n\t\t\r\n\t\t    return (value != null ? value.trim() : null );\r\n\t    }\r\n    }\r\n\r\nThen you must define it in your bean_config.xml\r\n\r\n\t&lt;bean id=&quot;applicationProperties&quot; class=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;location&quot; value=&quot;classpath:main.properties&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;trimPropertyPlaceholderConfigurer&quot; class=&quot;your.company.package.TrimPropertyPlaceholderConfigurer&quot;&gt;\r\n\t\t&lt;property name=&quot;properties&quot; ref=&quot;applicationProperties&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nAnother way if you&#39;re using @Value annotations to set the properties into the fields:\r\n\r\n    @Value( value = &quot;#{applicationProperties[&#39;my.app.property&#39;].trim()}&quot; )\r\n\r\nNullPointerException is thrown if the property doesn&#39;t exists in the file","title":"Automatically Trim Trailing White Space for properties in Props file loaded into Spring","body":"<p>You can define your own property configurer:</p>\n\n<pre><code>package your.company.package;\n\npublic class TrimPropertyPlaceholderConfigurer extends PropertyPlaceholderConfigurer {\n\n@Override\nprotected String resolvePlaceholder( String placeholder, Properties props ) {\n        String value = super.resolvePlaceholder( placeholder, props );\n\n        return (value != null ? value.trim() : null );\n    }\n}\n</code></pre>\n\n<p>Then you must define it in your bean_config.xml</p>\n\n<pre><code>&lt;bean id=\"applicationProperties\" class=\"org.springframework.beans.factory.config.PropertiesFactoryBean\"&gt;\n    &lt;property name=\"location\" value=\"classpath:main.properties\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"trimPropertyPlaceholderConfigurer\" class=\"your.company.package.TrimPropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"properties\" ref=\"applicationProperties\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Another way if you're using @Value annotations to set the properties into the fields:</p>\n\n<pre><code>@Value( value = \"#{applicationProperties['my.app.property'].trim()}\" )\n</code></pre>\n\n<p>NullPointerException is thrown if the property doesn't exists in the file</p>\n"},{"tags":[],"owner":{"account_id":3680492,"reputation":55,"user_id":3065561,"display_name":"fante76"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1478077386,"creation_date":1478077386,"answer_id":40375953,"question_id":7031905,"body_markdown":"As Chad said, Spring solved this problem with version 4.3RC1. But you need to manually set on trim function with parameter &quot;trimValues&quot; like so (default if &quot;false&quot;):\r\n\r\n     &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n       &lt;property name=&quot;trimValues&quot; value=&quot;true&quot;/&gt;\r\n       &lt;property name=&quot;locations&quot;&gt;\r\n           &lt;list&gt;\r\n\t\t\t...\r\n           &lt;/list&gt;\r\n       &lt;/property&gt;\r\n   &lt;/bean&gt;\r\n\r\nI do not found any documentation about this but I deduce it from Spring API.","title":"Automatically Trim Trailing White Space for properties in Props file loaded into Spring","body":"<p>As Chad said, Spring solved this problem with version 4.3RC1. But you need to manually set on trim function with parameter \"trimValues\" like so (default if \"false\"):</p>\n\n<pre><code> &lt;bean id=\"propertyConfigurer\" class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n   &lt;property name=\"trimValues\" value=\"true\"/&gt;\n   &lt;property name=\"locations\"&gt;\n       &lt;list&gt;\n        ...\n       &lt;/list&gt;\n   &lt;/property&gt;\n</code></pre>\n\n<p></p>\n\n<p>I do not found any documentation about this but I deduce it from Spring API.</p>\n"},{"tags":[],"owner":{"account_id":2368861,"reputation":1591,"user_id":2073963,"display_name":"wonhee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542219369,"creation_date":1542219369,"answer_id":53306469,"question_id":7031905,"body_markdown":"With latest Spring version(4.3+), you can simply call setTrimValues() with true when you create PropertySourcesPlaceholderConfigurer bean in your configuration. That will remove any extra leading or trailing spaces from the value you got from the properties file.","title":"Automatically Trim Trailing White Space for properties in Props file loaded into Spring","body":"<p>With latest Spring version(4.3+), you can simply call setTrimValues() with true when you create PropertySourcesPlaceholderConfigurer bean in your configuration. That will remove any extra leading or trailing spaces from the value you got from the properties file.</p>\n"},{"tags":[],"owner":{"account_id":2818285,"reputation":2612,"user_id":2422744,"display_name":"Thomas Kainrad"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1602834392,"creation_date":1602834392,"answer_id":64384974,"question_id":7031905,"body_markdown":"As this can often be a source of confusion when using Spring Boot, I want to add that you *do not* need XML configuration to provide your own `PropertyPlaceholderConfigurer`.\r\n\r\nSimply put this in your main class:\r\n\r\n```java\r\n  @Bean\r\n  public static PropertySourcesPlaceholderConfigurer createPropertyConfigurer()\r\n  {\r\n    PropertySourcesPlaceholderConfigurer propertyConfigurer = new PropertySourcesPlaceholderConfigurer();\r\n    propertyConfigurer.setTrimValues(true);\r\n    return propertyConfigurer;\r\n  }\r\n```\r\n\r\nThis is sufficient for trimming the values from `application.properties`.","title":"Automatically Trim Trailing White Space for properties in Props file loaded into Spring","body":"<p>As this can often be a source of confusion when using Spring Boot, I want to add that you <em>do not</em> need XML configuration to provide your own <code>PropertyPlaceholderConfigurer</code>.</p>\n<p>Simply put this in your main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public static PropertySourcesPlaceholderConfigurer createPropertyConfigurer()\n  {\n    PropertySourcesPlaceholderConfigurer propertyConfigurer = new PropertySourcesPlaceholderConfigurer();\n    propertyConfigurer.setTrimValues(true);\n    return propertyConfigurer;\n  }\n</code></pre>\n<p>This is sufficient for trimming the values from <code>application.properties</code>.</p>\n"},{"tags":[],"owner":{"account_id":239570,"reputation":1778,"user_id":509269,"display_name":"Florent Dupont"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651480418,"creation_date":1651480418,"answer_id":72084178,"question_id":7031905,"body_markdown":"One easy way to do it would be to &quot;hack&quot; the spEl Expression to force the use of the `String.trim()` function.\r\n\r\nLet&#39;s say you have a property `test.myvalue` equal to `azerty  ` (with trailing spaces) in the `application.properties` file, then you could inject this property in your class like this :\r\n\r\n```\r\n@Value(&quot;#{&#39;${test.myvalue}&#39;.trim()}&quot;)\r\nString myvalue;\r\n```\r\n\r\nThe resulting myvalue will be equal to `azerty` (no trailing spaces) once injected in your class.\r\n\r\nObviously this trimming won&#39;t be set globally to all injected values in your app, and you&#39;ll have to do it to all injected value, but I think this approach gives more flexibility.","title":"Automatically Trim Trailing White Space for properties in Props file loaded into Spring","body":"<p>One easy way to do it would be to &quot;hack&quot; the spEl Expression to force the use of the <code>String.trim()</code> function.</p>\n<p>Let's say you have a property <code>test.myvalue</code> equal to <code>azerty  </code> (with trailing spaces) in the <code>application.properties</code> file, then you could inject this property in your class like this :</p>\n<pre><code>@Value(&quot;#{'${test.myvalue}'.trim()}&quot;)\nString myvalue;\n</code></pre>\n<p>The resulting myvalue will be equal to <code>azerty</code> (no trailing spaces) once injected in your class.</p>\n<p>Obviously this trimming won't be set globally to all injected values in your app, and you'll have to do it to all injected value, but I think this approach gives more flexibility.</p>\n"}],"owner":{"account_id":323565,"reputation":678,"user_id":643656,"accept_rate":75,"display_name":"Johnny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12712,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7032722,"answer_count":6,"score":8,"last_activity_date":1651480418,"creation_date":1313091971,"question_id":7031905,"body_markdown":"I&#39;m using PropertiesFactoryBean to load properties from a typical Properties file.  Is there anyway to get Spring to automatically trim trailing white space from the prop value?","title":"Automatically Trim Trailing White Space for properties in Props file loaded into Spring","body":"<p>I'm using PropertiesFactoryBean to load properties from a typical Properties file.  Is there anyway to get Spring to automatically trim trailing white space from the prop value?</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1651256131,"post_id":72058498,"comment_id":127329382,"body_markdown":"Can you please show example code that helps reproduce the problem? See: https://stackoverflow.com/help/minimal-reproducible-example","body":"Can you please show example code that helps reproduce the problem? See: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":3658110,"reputation":197,"user_id":3048582,"display_name":"Disheart"},"score":0,"creation_date":1651474799,"post_id":72058498,"comment_id":127365048,"body_markdown":"I&#39;ve added example code.","body":"I&#39;ve added example code."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651479009,"creation_date":1651479009,"answer_id":72083956,"question_id":72058498,"body_markdown":"### What&#39;s the problem\r\n\r\nYou&#39;re fetching your jOOQ `RelationRecord` values outside of a JPA transactional context, so that fetching runs in its own transaction (this is independent of jOOQ). jOOQ will always try to [`acquire()`][1] and [`release()`][2] a connection for every query, and when that happens outside of a transactional context, then the connection will be effectively closed (e.g. returned to the connection pool). You should switch the order of starting a transaction and running the jOOQ query:\r\n\r\n```java\r\n// start transaction\r\n// run jOOQ query\r\n// iterate jOOQ results\r\n//   run updates\r\n// commit transaction\r\n```\r\n\r\nIf you&#39;re using declarative transactions (e.g. Spring&#39;s `@Transactional` annotation), then you&#39;re less likely to run into this problem as your initial jOOQ query will more likely also be in the same transaction already.\r\n\r\n### Why did attaching work\r\n\r\nWhen you explicitly attach the `RelationRecord` to the configuration, then you will attach a record that has been attached to the previously closed connection to the new configuration with the transactional connection. I&#39;m assuming that your `jooq()` method produces a new `DSLContext` instance, which wraps the currently active `DataSource` or `Connection`.\r\n\r\n### Switch to bulk updates\r\n\r\nHowever, if your example is all there is to your actual logic (i.e. you haven&#39;t simplified it for this Stack Overflow question), then why not just run a bulk update? It will be simpler and much faster.\r\n\r\n```java\r\njooq()\r\n    .update(RELATION)\r\n    .set(RELATION.ORGANIZATION_NAME, &quot;OrganizationName&quot;)\r\n    .where(RELATION.ID.in(\r\n        select(BULK_CONTACT_EDIT_CONTACTS.CONTACT_ID)\r\n        .from(BULK_CONTACT_EDIT_CONTACTS)\r\n        .where(BULK_CONTACT_EDIT_CONTACTS.BULK_CONTACT_EDIT_ID.eq(bulkContactEditId))\r\n        .and(BULK_CONTACT_EDIT_CONTACTS.PROCESSED.isFalse())\r\n    ))\r\n\r\n    // Since you&#39;re using MySQL, you have native UPDATE .. LIMIT support\r\n    .limit(batchSize)\r\n    .execute();\r\n```\r\n\r\nI&#39;m assuming your actual example is a bit more complex, because you need to set the `PROCESSED` flag to true somewhere, too, but it&#39;s always good to keep this option in mind.\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ConnectionProvider.html#acquire()\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ConnectionProvider.html#release(java.sql.Connection)","title":"Auto attached records get detached after commit","body":"<h3>What's the problem</h3>\n<p>You're fetching your jOOQ <code>RelationRecord</code> values outside of a JPA transactional context, so that fetching runs in its own transaction (this is independent of jOOQ). jOOQ will always try to <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ConnectionProvider.html#acquire()\" rel=\"nofollow noreferrer\"><code>acquire()</code></a> and <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ConnectionProvider.html#release(java.sql.Connection)\" rel=\"nofollow noreferrer\"><code>release()</code></a> a connection for every query, and when that happens outside of a transactional context, then the connection will be effectively closed (e.g. returned to the connection pool). You should switch the order of starting a transaction and running the jOOQ query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// start transaction\n// run jOOQ query\n// iterate jOOQ results\n//   run updates\n// commit transaction\n</code></pre>\n<p>If you're using declarative transactions (e.g. Spring's <code>@Transactional</code> annotation), then you're less likely to run into this problem as your initial jOOQ query will more likely also be in the same transaction already.</p>\n<h3>Why did attaching work</h3>\n<p>When you explicitly attach the <code>RelationRecord</code> to the configuration, then you will attach a record that has been attached to the previously closed connection to the new configuration with the transactional connection. I'm assuming that your <code>jooq()</code> method produces a new <code>DSLContext</code> instance, which wraps the currently active <code>DataSource</code> or <code>Connection</code>.</p>\n<h3>Switch to bulk updates</h3>\n<p>However, if your example is all there is to your actual logic (i.e. you haven't simplified it for this Stack Overflow question), then why not just run a bulk update? It will be simpler and much faster.</p>\n<pre class=\"lang-java prettyprint-override\"><code>jooq()\n    .update(RELATION)\n    .set(RELATION.ORGANIZATION_NAME, &quot;OrganizationName&quot;)\n    .where(RELATION.ID.in(\n        select(BULK_CONTACT_EDIT_CONTACTS.CONTACT_ID)\n        .from(BULK_CONTACT_EDIT_CONTACTS)\n        .where(BULK_CONTACT_EDIT_CONTACTS.BULK_CONTACT_EDIT_ID.eq(bulkContactEditId))\n        .and(BULK_CONTACT_EDIT_CONTACTS.PROCESSED.isFalse())\n    ))\n\n    // Since you're using MySQL, you have native UPDATE .. LIMIT support\n    .limit(batchSize)\n    .execute();\n</code></pre>\n<p>I'm assuming your actual example is a bit more complex, because you need to set the <code>PROCESSED</code> flag to true somewhere, too, but it's always good to keep this option in mind.</p>\n"}],"owner":{"account_id":3658110,"reputation":197,"user_id":3048582,"display_name":"Disheart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651479009,"creation_date":1651237774,"question_id":72058498,"body_markdown":"I have want to fetch a list of Relation records, and I&#39;ll use `.fetchInto(RELATION);` and I want to iterate over the list and commit each iteration to the database. This doesn&#39;t seem to be working for me because I get `Caused by: java.sql.SQLException: Connection is closed` while updating the record. I don&#39;t have this problem with regular jOOQ queries. And it doesn&#39;t seem any connections are closed.\r\n\r\nWhen I use `contact.attach(jooq().configuration())` it seems to be working again. How can I prevent it from detaching?\r\n\r\nI start and commit a transaction through `JPA.em().getTransaction().*`.\r\n\r\n```\r\norg.jooq.exception.DataAccessException: SQL [update `Relation` set `Relation`.`organizationName` = ? where `Relation`.`id` = ?]; Connection is closed\r\n\tat org.jooq_3.15.1.MYSQL.debug(Unknown Source)\r\n\tat org.jooq.impl.Tools.translate(Tools.java:2979)\r\n\tat org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:643)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:349)\r\n\tat org.jooq.impl.UpdatableRecordImpl.storeMergeOrUpdate0(UpdatableRecordImpl.java:331)\r\n\tat org.jooq.impl.UpdatableRecordImpl.storeUpdate0(UpdatableRecordImpl.java:228)\r\n\tat org.jooq.impl.UpdatableRecordImpl.lambda$storeUpdate$1(UpdatableRecordImpl.java:220)\r\n\tat org.jooq.impl.RecordDelegate.operate(RecordDelegate.java:143)\r\n\tat org.jooq.impl.UpdatableRecordImpl.storeUpdate(UpdatableRecordImpl.java:219)\r\n\tat org.jooq.impl.UpdatableRecordImpl.update(UpdatableRecordImpl.java:156)\r\n\tat org.jooq.impl.UpdatableRecordImpl.update(UpdatableRecordImpl.java:151)\r\n\tat worker.taskprocessors.BulkContactEditWorker.execute(BulkContactEditWorker.java:144)\r\n```\r\n\r\nExample:\r\n\r\n```java\r\nvar contacts = jooq()\r\n        .selectFrom(\r\n            RELATION\r\n                .join(BULK_CONTACT_EDIT_CONTACTS)\r\n                .on(\r\n                    BULK_CONTACT_EDIT_CONTACTS\r\n                        .CONTACT_ID\r\n                        .eq(RELATION.ID)\r\n                        .and(BULK_CONTACT_EDIT_CONTACTS.BULK_CONTACT_EDIT_ID.eq(bulkContactEditId))\r\n                    .and(BULK_CONTACT_EDIT_CONTACTS.PROCESSED.isFalse())))\r\n        .limit(batchSize)\r\n        .fetchInto(RELATION);\r\n\r\nif (!JPA.em().getTransaction().isActive()) {\r\n  JPA.em().getTransaction().begin();\r\n}\r\n\r\nfor (RelationRecord contact : contacts) {\r\n  contact.attach(jooq().configuration()); // I have to add this line to make it work.\r\n  contact.setOrganizationName(&quot;OrganizationName&quot;);\r\n  contact.update();\r\n  JPA.em().getTransaction().commit();\r\n  if (!JPA.em().getTransaction().isActive()) {\r\n    JPA.em().getTransaction().begin();\r\n  }\r\n}\r\n```","title":"Auto attached records get detached after commit","body":"<p>I have want to fetch a list of Relation records, and I'll use <code>.fetchInto(RELATION);</code> and I want to iterate over the list and commit each iteration to the database. This doesn't seem to be working for me because I get <code>Caused by: java.sql.SQLException: Connection is closed</code> while updating the record. I don't have this problem with regular jOOQ queries. And it doesn't seem any connections are closed.</p>\n<p>When I use <code>contact.attach(jooq().configuration())</code> it seems to be working again. How can I prevent it from detaching?</p>\n<p>I start and commit a transaction through <code>JPA.em().getTransaction().*</code>.</p>\n<pre><code>org.jooq.exception.DataAccessException: SQL [update `Relation` set `Relation`.`organizationName` = ? where `Relation`.`id` = ?]; Connection is closed\n    at org.jooq_3.15.1.MYSQL.debug(Unknown Source)\n    at org.jooq.impl.Tools.translate(Tools.java:2979)\n    at org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:643)\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:349)\n    at org.jooq.impl.UpdatableRecordImpl.storeMergeOrUpdate0(UpdatableRecordImpl.java:331)\n    at org.jooq.impl.UpdatableRecordImpl.storeUpdate0(UpdatableRecordImpl.java:228)\n    at org.jooq.impl.UpdatableRecordImpl.lambda$storeUpdate$1(UpdatableRecordImpl.java:220)\n    at org.jooq.impl.RecordDelegate.operate(RecordDelegate.java:143)\n    at org.jooq.impl.UpdatableRecordImpl.storeUpdate(UpdatableRecordImpl.java:219)\n    at org.jooq.impl.UpdatableRecordImpl.update(UpdatableRecordImpl.java:156)\n    at org.jooq.impl.UpdatableRecordImpl.update(UpdatableRecordImpl.java:151)\n    at worker.taskprocessors.BulkContactEditWorker.execute(BulkContactEditWorker.java:144)\n</code></pre>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var contacts = jooq()\n        .selectFrom(\n            RELATION\n                .join(BULK_CONTACT_EDIT_CONTACTS)\n                .on(\n                    BULK_CONTACT_EDIT_CONTACTS\n                        .CONTACT_ID\n                        .eq(RELATION.ID)\n                        .and(BULK_CONTACT_EDIT_CONTACTS.BULK_CONTACT_EDIT_ID.eq(bulkContactEditId))\n                    .and(BULK_CONTACT_EDIT_CONTACTS.PROCESSED.isFalse())))\n        .limit(batchSize)\n        .fetchInto(RELATION);\n\nif (!JPA.em().getTransaction().isActive()) {\n  JPA.em().getTransaction().begin();\n}\n\nfor (RelationRecord contact : contacts) {\n  contact.attach(jooq().configuration()); // I have to add this line to make it work.\n  contact.setOrganizationName(&quot;OrganizationName&quot;);\n  contact.update();\n  JPA.em().getTransaction().commit();\n  if (!JPA.em().getTransaction().isActive()) {\n    JPA.em().getTransaction().begin();\n  }\n}\n</code></pre>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":1,"creation_date":1651478178,"post_id":72083556,"comment_id":127365880,"body_markdown":"Does the annulus have to be centered on the origin? If so, you can completely disregard the phase angle of the points and treat it as a one-dimensional problem, easily solved by sorting the points and looping through the list.","body":"Does the annulus have to be centered on the origin? If so, you can completely disregard the phase angle of the points and treat it as a one-dimensional problem, easily solved by sorting the points and looping through the list."}],"answers":[{"tags":[],"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651478768,"creation_date":1651478768,"answer_id":72083909,"question_id":72083556,"body_markdown":"From your current implementation, it seems that the annulus must be centered on the origin. Due to radial symmetry, this means you don&#39;t need to care about the angle (phase) of the points at all, only about their distance to the origin (radius).\r\n\r\nThis means you can reduce almost the entire problem to be one-dimensional. There is no need for complicated data structures, just a list of sorted points. Only the area calculation remains 2D.\r\n\r\nIn pseudocode:\r\n\r\n```\r\n# Keep track of best candidate annulus found so far.\r\nmax_area = 0\r\nbest_inner_radius, best_outer_radius = 0, 0\r\n\r\n# Loop through points in order of increasing radius.\r\nsorted_points = sort points by increasing radius\r\nfor i in 0 through |sorted_points| - 1:\r\n    # Find the inner and outer radius of an annulus that fits between these two points.\r\n    inner_radius, outer_radius = points[i], points[i + 1]\r\n\r\n    # Compute area of this annulus.\r\n    area = pi * (outer_radius^2 - inner_radius^2)\r\n    \r\n    # Store this one if it&#39;s better than the current candidate.\r\n    if area &gt; max_area:\r\n        max_area = area\r\n        best_inner_radius, best_outer_radius = inner_radius, outer_radius\r\n```","title":"better algorithm to find the biggest annulus without points in it","body":"<p>From your current implementation, it seems that the annulus must be centered on the origin. Due to radial symmetry, this means you don't need to care about the angle (phase) of the points at all, only about their distance to the origin (radius).</p>\n<p>This means you can reduce almost the entire problem to be one-dimensional. There is no need for complicated data structures, just a list of sorted points. Only the area calculation remains 2D.</p>\n<p>In pseudocode:</p>\n<pre><code># Keep track of best candidate annulus found so far.\nmax_area = 0\nbest_inner_radius, best_outer_radius = 0, 0\n\n# Loop through points in order of increasing radius.\nsorted_points = sort points by increasing radius\nfor i in 0 through |sorted_points| - 1:\n    # Find the inner and outer radius of an annulus that fits between these two points.\n    inner_radius, outer_radius = points[i], points[i + 1]\n\n    # Compute area of this annulus.\n    area = pi * (outer_radius^2 - inner_radius^2)\n    \n    # Store this one if it's better than the current candidate.\n    if area &gt; max_area:\n        max_area = area\n        best_inner_radius, best_outer_radius = inner_radius, outer_radius\n</code></pre>\n"}],"owner":{"account_id":25170078,"reputation":15,"user_id":19013016,"display_name":"Simone Palumbo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72083909,"answer_count":1,"score":1,"last_activity_date":1651478768,"creation_date":1651476589,"question_id":72083556,"body_markdown":"I have a BST whose sorting is based on radius and phase of the Cartesian points. Here&#39;s the implementation:\r\n\r\n   \r\n\r\n     public class BST {\r\n    \r\n        private BinNode root;\r\n        private int size;\r\n    \r\n    \r\n        public BST() {\r\n            this.root = null;\r\n            size = 0;\r\n        }\r\n    \r\n        \r\n        private double getRadius(double x, double y) {\r\n            return Math.sqrt(x*x+y*y);\r\n        }\r\n    \r\n         public double getRadius(BinNode t) {\r\n         \r\n         \tif (t == null) return -1;\r\n         \t\r\n            return getRadius(t.getCoordinates()[0],t.getCoordinates()[1]);\r\n        }\r\n    \r\n        private double getPhase(double x, double y) { \r\n            return Math.atan2(y,x);\r\n        }\r\n    \r\n        private double getPhase(BinNode t){\r\n            return getPhase(t.getCoordinates()[0],t.getCoordinates()[1]);\r\n        }\r\n    \r\n    \r\n     \r\n    \t\r\n        private BinNode BST_insert_aux(double x, double y, double r, double p, BinNode t) {\r\n        \t\r\n        \tdouble tr = getRadius(t);\r\n        \tdouble tp = getPhase(t);\r\n        \t\r\n        \t\r\n        \t\r\n        \t\r\n        \tif (t.left == null &amp;&amp; t.right != null) { //has only the right child\r\n        \t\r\n        \t\t\r\n        \t\t\r\n        \t\tif (r &lt; tr) { \r\n        \t\t\r\n        \t\t\t\r\n        \t\t\tt.setLeft(new BinNode(x, y)); return t.getLeft(); \r\n        \t\t\r\n        \t\t}\r\n        \t\t\r\n        \t\telse if (r == tr) {\r\n    \t    \t\t\r\n    \t    \t\r\n    \t    \t\t\r\n    \t    \t\tif (p &lt; tp) { \r\n    \t    \t\t\t\t\r\n    \t    \t\t\tt.setLeft(new BinNode(x, y)); return t.getLeft(); \r\n    \t    \t\t}\r\n    \t    \t\t\r\n    \t    \t\telse if (p == tp) { \r\n    \t    \t\treturn null; }\r\n    \t    \t\t\r\n    \t    \t\telse if (p &gt; tp) { \r\n    \t    \t\t\r\n    \t    \t\t\t\r\n    \t    \t\t\treturn BST_insert_aux(x, y, r, p, t.getRight());\r\n    \t    \t\t}\r\n    \t    \t}\r\n    \t    \t\r\n        \t\telse if (r &gt; tr) {\r\n        \t\t\t\r\n        \t\t\treturn BST_insert_aux(x, y, r, p, t.getRight());\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        \t\r\n        \telse if (t.left != null &amp;&amp; t.right == null) { //has only the left child\r\n    \r\n    \t\r\n    \t\t\r\n    \t\tif (r &lt; tr) { \r\n    \t\treturn BST_insert_aux(x, y, r, p, t.getLeft()); }\r\n    \t\t\r\n    \t\telse if (r == tr) {\r\n    \t\t\r\n    \t    \t\t\r\n    \t    \t\r\n    \t    \t\tif (p &lt; tp) { \r\n    \t    \t\treturn BST_insert_aux(x, y, r, p, t.getLeft()); }\r\n    \t    \t\t\r\n    \t    \t\telse if (p == tp) { \r\n    \t    \t\treturn null; }\r\n    \t    \t\t\r\n    \t    \t\telse if (p &gt; tp) {  \r\n    \t    \t\tt.setRight(new BinNode(x, y)); return t.getRight(); }\r\n    \t    \t}\r\n    \t    \t\r\n    \t\telse if (r &gt; tr) {  \r\n    \t\tt.setRight(new BinNode(x, y)); return t.getRight(); }\r\n    \r\n    \r\n    \r\n        \t}\r\n        \t\r\n        \t\r\n        \telse if (t.left == null &amp;&amp; t.right == null) { //leaf\r\n        \t\t\r\n        \t\t\r\n        \t\tif (r &lt; tr) {  \r\n        \t\tt.setLeft(new BinNode(x, y)); return t.getLeft(); }\r\n        \t\t    \t\r\n    \t    \telse if (r == tr) {\r\n    \t    \t\t    \t\r\n    \t    \t\r\n    \t    \t\tif (p &lt; tp) {  \r\n    \t    \t\tt.setLeft(new BinNode(x, y)); return t.getLeft(); }\r\n    \t    \t\t\r\n    \t    \t\telse if (p == tp) {  \r\n    \t    \t\treturn null; }\r\n    \t    \t\t\r\n    \t    \t\telse if (p &gt; tp) { \r\n    \t    \t\tt.setRight(new BinNode(x, y)); return t.getRight(); }\r\n    \t    \t}\r\n    \t    \t\r\n    \t    \telse if (r &gt; tr) { \r\n    \t    \tt.setRight(new BinNode(x, y)); return t.getRight(); }\r\n        \t\r\n        \t}\r\n        \t\r\n        \t\r\n        \telse { //has both childs\r\n        \t\r\n        \t\t\r\n        \t\r\n    \t    \tif (r &lt; tr) { \r\n    \t    \treturn BST_insert_aux(x, y, r, p, t.getLeft()); }\r\n    \t    \t\r\n    \t    \telse if (r == tr) {\r\n    \t    \t\r\n    \t    \t\t\r\n    \t    \t\r\n    \t    \t\tif (p &lt; tp) { \r\n    \t    \t\treturn BST_insert_aux(x, y, r, p, t.getLeft()); }\r\n    \t    \t\t\r\n    \t    \t\telse if (p == tp) { \r\n    \t    \t\treturn null; }\r\n    \t    \t\t\r\n    \t    \t\telse if (p &gt; tp) { \r\n    \t    \t\treturn BST_insert_aux(x, y, r, p, t.getRight()); }\r\n    \t    \t}\r\n    \t    \t\r\n    \t    \telse if (r &gt; tr) { \r\n    \t    \treturn BST_insert_aux(x, y, r, p, t.getRight()); }\r\n        \t}\r\n        \t\r\n        \treturn null;\r\n        }\r\n    \r\n        \r\n        public BinNode BST_insert(double x, double y) {\r\n    \r\n            \r\n            if (root == null) {\r\n            \troot = new BinNode(x, y);\r\n            \treturn root;\r\n            }\r\n            \r\n               \r\n            return BST_insert_aux(x, y, getRadius(x,y), getPhase(x,y), root); \r\n        }\r\n    \r\n        private void print(BinNode t, int level, char pos) {\r\n           \r\n            if (t==null) return;\r\n            for (int i = 0; i &lt; level - 1; i++) {\r\n                System.out.print(&quot;   &quot;);\r\n            }\r\n    \r\n            if (level &gt; 0) {\r\n                System.out.print(&quot; &quot;+pos+&quot;:--&quot;);\r\n            }\r\n    \r\n            System.out.println(&quot;coordinate: (&quot;+ t.getCoordinates()[0]+&quot;,&quot;+t.getCoordinates()[1]+&quot;); radius=&quot; \r\n                + getRadius(t) + &quot; ; phase=&quot; + getPhase(t) );\r\n    \r\n            print(t.getLeft(), level + 1,&#39;l&#39;);\r\n            print(t.getRight(), level + 1,&#39;r&#39;);\r\n        }\r\n        \r\n        public void BST_print() {\r\n            if (root!=null)\r\n                print(this.root, 0,&#39; &#39;);\r\n        }\r\n\r\n\r\n/////////////////////////////////////////////////////////////\r\n\r\n    public class BinNode {\r\n    \r\n            protected double[] coordinates;\r\n            protected BinNode left;\r\n            protected BinNode right;\r\n    \r\n            public BinNode(double x, double y) {\r\n                coordinates = new double[2];\r\n                coordinates[0] = x;\r\n                coordinates[1] = y;\r\n                this.left = null;\r\n                this.right = null;\r\n            }\r\n            \r\n            public BinNode getLeft(){\r\n            \treturn left;\r\n            }\r\n    \r\n            public BinNode getRight(){\r\n            \treturn right;\r\n            }\r\n            \r\n            public BinNode setLeft(BinNode n){\r\n            \tleft = n;\r\n            \treturn left;\r\n            }\r\n    \r\n            public BinNode setRight(BinNode n){\r\n            \tright = n;\r\n            \treturn right;\r\n            }\r\n            \r\n            public double[] getCoordinates(){\r\n                return coordinates;\r\n            }\r\n    }\r\n\r\n\r\nI am sorry if the code is too long, but I am new to Stack Overflow so I do not know if omitting part of the code for the sake of brevity would be better. Anyway, I have to write a method to find the area of ​​the maximum annulus that has no points inside it (those on the border, so with a radius equal to one of the two radius of the annulus are fine). [![enter image description here][1]][1] \r\nObviously the annulus must be of finite size, so there must exist in the plane at least one point with a radius greater than or equal to that of the big radius of the annulus. To do this I wrote an auxiliary method Annulus(double r1, double r2) that count how many points in the BST have a radius between r1 and r2. Here is the code:\r\n\r\n      public int Annulus(double r1, double r2) {\r\n        \t\r\n    \tSystem.out.println(&quot;RANGE QUERY: from &quot; + r1 + &quot; to &quot; + r2);\r\n          \r\n        if (r2 &lt; r1) { System.out.println(&quot;r2 must be &gt;= r1&quot;); return -1; }\r\n    \r\n        int[] cont = new int[1];\r\n        \t\r\n        cont[0] = 0;\r\n        \t\r\n    \tAnnulus_aux(r1, r2, root, cont);\r\n    \t\r\n    \treturn cont[0];\r\n      }\r\n        \r\n        \r\n        private void Annulus_aux(double r1, double r2, BinNode t, int[] cont) {\r\n        \r\n        \tif (t == null) { \r\n        \t\treturn; \r\n        \t}\r\n        \r\n        \telse {\r\n       \t\t\r\n       \t\tdouble tr = getRadius(t);\r\n       \t\tdouble tp = getPhase(t);\t\t\r\n       \t\t \t\r\n       \t\t \t\r\n        \t\tif (r1 &gt;= tr) {\r\n        \t\t\t\r\n        \t\t\tAnnulus_aux(r1, r2, t.getRight(), cont);\r\n        \t\t}\r\n        \t\t\r\n        \t\telse {\r\n        \t\t\t\r\n        \t\t\tAnnulus_aux(r1, r2, t.getLeft(), cont);\r\n        \t\t\t\r\n        \t\t\tif (r2 &gt; tr) {\r\n        \t\t\t\r\n        \t\t\t\tcont[0]++;\r\n        \t\t\t\r\n        \t\t\t\tAnnulus_aux(r1, r2, t.getRight(), cont);\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\t\r\n        \t\t}\r\n        \t\r\n        \t}\r\n        \r\n        }\r\n\r\n   \r\nThe problem is in the following methods:\r\n\r\n      public double maxAnnulus() {\r\n        \r\n        \tLinkedList&lt;BinNode&gt; nodes = new LinkedList&lt;&gt;();\r\n        \t\r\n        \tcollectNodes(nodes, root);\r\n        \t\r\n        \tdouble maxArea = 0;\r\n        \t\r\n        \tfor (BinNode e: nodes) {\r\n        \t\t\r\n        \t\tif (Annulus(0, getRadius(e)) == 0)  { //r1 = origin\r\n        \t\t\r\n        \t\t\tdouble currentArea = area(0, getRadius(e));\r\n        \t\t\r\n        \t\t\tif (currentArea &gt; maxArea) {\r\n        \t\t\t\tSystem.out.println(&quot;\\n\\n&quot;);\t\r\n        \t\t\t\tmaxArea = currentArea;\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\t\r\n        \t\t\r\n        \t\tfor (BinNode ne: nodes) {\r\n        \t\t\r\n        \t\t\tdouble r1 = getRadius(e);\r\n        \t\t\tdouble r2 = getRadius(ne);\r\n        \t\t\r\n        \t\t\tif (Annulus(r1, r2) == 0)  {\r\n        \t\t\t\r\n        \t\t\t\tdouble currentArea = area(r1,r2);\r\n        \t\t\r\n        \t\t\t\tif (currentArea &gt; maxArea) {\t\t\t\t\r\n        \t\t\t\t\tSystem.out.println(&quot;\\n\\n&quot;);\r\n        \t\t\t\t\tmaxArea = currentArea;\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\r\n        \t}\t\r\n        \t\r\n        \treturn maxArea;\r\n        }\r\n      \r\n    \r\n    \r\n        private void collectNodes(LinkedList&lt;BinNode&gt; nodes, BinNode t) {\r\n        \r\n        \tif (t != null) {\r\n        \t\r\n       \t \tcollectNodes(nodes, t.getLeft());\r\n        \t\r\n       \t \tnodes.add(t);\r\n        \t\r\n        \t\tcollectNodes(nodes, t.getRight());\r\n        \t}\r\n        }\r\n      \r\n      \r\n      \r\n      \r\n        private double area(double r1, double r2) {\r\n       \r\n       \tSystem.out.println(&quot;a1 = &quot; + Math.PI * Math.pow(r1, 2));\r\n       \tSystem.out.println(&quot;a2 = &quot; + Math.PI * Math.pow(r2, 2));\r\n       \t\r\n       \tSystem.out.println(&quot;a2-a1 = &quot; + Math.PI * (Math.pow(r2,2) - Math.pow(r1,2)));\r\n       \t\r\n       \tSystem.out.println(&quot;\\n\\n&quot;);\r\n       \t\r\n       \treturn Math.PI * (Math.pow(r2,2) - Math.pow(r1,2));\r\n       \r\n       \r\n       }\r\n    }\r\n    \t\r\n\r\nmaxAnnulus() calculates the area of ​​the maximum annulus. To do this, it calls the collectNodes (nodes, root) method which inserts the nodes of the BST in a linkedlist. Then for each element of the linkedlist it calculates the area between its radius and the radius of every other element of the linkedlist (plus the origin), but only if the number of internal points between the two radius is 0. Then comparing the various areas, I find the largest one.\r\n\r\nI am absolutely sure there are so many better ways to solve this problem. Here are some tests that I did:\r\n\r\n    public class Driver {\r\n    \r\n    \r\n        public static void main(String[] argv) {\r\n        \r\n        \tint i;\r\n        \tBST b = new BST();\r\n        \t\r\n            b.BST_insert(5,0);\r\n            b.BST_insert(2,0);\r\n            b.BST_insert(8,0);\r\n            b.BST_insert(1,0);\r\n            b.BST_insert(3,0);\r\n            b.BST_insert(6,0);\r\n            b.BST_insert(11,0);\r\n            b.BST_insert(1,0);\r\n            b.BST_insert(0,5);\r\n            b.BST_insert(0,6);\r\n            b.BST_insert(0,-5);\r\n            b.BST_insert(0,6);\r\n    \r\n    \r\n    \tSystem.out.println(&quot;############################################&quot;);\r\n            System.out.println(&quot;Tree: \\n&quot;);\r\n            b.BST_print();\r\n    \tSystem.out.println(&quot;############################################\\n\\n&quot;);\r\n    \r\n          \r\n    \tdouble maxAnnulus = b.maxAnnulus();\r\n            System.out.println(&quot;Max Annulus: &quot; + maxAnnulus);\r\n             \r\n            \r\n            BST b1 = new BST();\r\n            b1.BST_insert(1,4);\r\n            b1.BST_insert(-6,6);\r\n            b1.BST_insert(3,4);\r\n            b1.BST_insert(5,1);\r\n            b1.BST_insert(6,-4);\r\n            b1.BST_insert(4,1);\r\n            b1.BST_insert(2,7);\r\n            b1.BST_insert(2,2);\r\n            b1.BST_insert(8,1);\r\n            b1.BST_insert(-1,4);\r\n            b1.BST_insert(6,2);\r\n            b1.BST_insert(-8,7);\r\n            b1.BST_insert(1,-1);\r\n            b1.BST_insert(8,-1);\r\n            b1.BST_insert(8,-1);\r\n            b1.BST_insert(0,5);\r\n            b1.BST_insert(2,2);\r\n        \r\n        \r\n         \tSystem.out.println(&quot;############################################&quot;);    \r\n            System.out.println(&quot;\\n\\n\\nTree: \\n&quot;);\r\n            b1.BST_print();\r\n    \tSystem.out.println(&quot;############################################\\n\\n&quot;);\r\n    \r\n           \r\n            maxAnellus = b1.maxAnnulus();\r\n            System.out.println(&quot;Max Annulus: &quot; + maxAnnulus);\r\n          \r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1L6dm.png","title":"better algorithm to find the biggest annulus without points in it","body":"<p>I have a BST whose sorting is based on radius and phase of the Cartesian points. Here's the implementation:</p>\n<pre><code> public class BST {\n\n    private BinNode root;\n    private int size;\n\n\n    public BST() {\n        this.root = null;\n        size = 0;\n    }\n\n    \n    private double getRadius(double x, double y) {\n        return Math.sqrt(x*x+y*y);\n    }\n\n     public double getRadius(BinNode t) {\n     \n        if (t == null) return -1;\n        \n        return getRadius(t.getCoordinates()[0],t.getCoordinates()[1]);\n    }\n\n    private double getPhase(double x, double y) { \n        return Math.atan2(y,x);\n    }\n\n    private double getPhase(BinNode t){\n        return getPhase(t.getCoordinates()[0],t.getCoordinates()[1]);\n    }\n\n\n \n    \n    private BinNode BST_insert_aux(double x, double y, double r, double p, BinNode t) {\n        \n        double tr = getRadius(t);\n        double tp = getPhase(t);\n        \n        \n        \n        \n        if (t.left == null &amp;&amp; t.right != null) { //has only the right child\n        \n            \n            \n            if (r &lt; tr) { \n            \n                \n                t.setLeft(new BinNode(x, y)); return t.getLeft(); \n            \n            }\n            \n            else if (r == tr) {\n                \n            \n                \n                if (p &lt; tp) { \n                        \n                    t.setLeft(new BinNode(x, y)); return t.getLeft(); \n                }\n                \n                else if (p == tp) { \n                return null; }\n                \n                else if (p &gt; tp) { \n                \n                    \n                    return BST_insert_aux(x, y, r, p, t.getRight());\n                }\n            }\n            \n            else if (r &gt; tr) {\n                \n                return BST_insert_aux(x, y, r, p, t.getRight());\n            }\n        }\n        \n        \n        else if (t.left != null &amp;&amp; t.right == null) { //has only the left child\n\n    \n        \n        if (r &lt; tr) { \n        return BST_insert_aux(x, y, r, p, t.getLeft()); }\n        \n        else if (r == tr) {\n        \n                \n            \n                if (p &lt; tp) { \n                return BST_insert_aux(x, y, r, p, t.getLeft()); }\n                \n                else if (p == tp) { \n                return null; }\n                \n                else if (p &gt; tp) {  \n                t.setRight(new BinNode(x, y)); return t.getRight(); }\n            }\n            \n        else if (r &gt; tr) {  \n        t.setRight(new BinNode(x, y)); return t.getRight(); }\n\n\n\n        }\n        \n        \n        else if (t.left == null &amp;&amp; t.right == null) { //leaf\n            \n            \n            if (r &lt; tr) {  \n            t.setLeft(new BinNode(x, y)); return t.getLeft(); }\n                    \n            else if (r == tr) {\n                        \n            \n                if (p &lt; tp) {  \n                t.setLeft(new BinNode(x, y)); return t.getLeft(); }\n                \n                else if (p == tp) {  \n                return null; }\n                \n                else if (p &gt; tp) { \n                t.setRight(new BinNode(x, y)); return t.getRight(); }\n            }\n            \n            else if (r &gt; tr) { \n            t.setRight(new BinNode(x, y)); return t.getRight(); }\n        \n        }\n        \n        \n        else { //has both childs\n        \n            \n        \n            if (r &lt; tr) { \n            return BST_insert_aux(x, y, r, p, t.getLeft()); }\n            \n            else if (r == tr) {\n            \n                \n            \n                if (p &lt; tp) { \n                return BST_insert_aux(x, y, r, p, t.getLeft()); }\n                \n                else if (p == tp) { \n                return null; }\n                \n                else if (p &gt; tp) { \n                return BST_insert_aux(x, y, r, p, t.getRight()); }\n            }\n            \n            else if (r &gt; tr) { \n            return BST_insert_aux(x, y, r, p, t.getRight()); }\n        }\n        \n        return null;\n    }\n\n    \n    public BinNode BST_insert(double x, double y) {\n\n        \n        if (root == null) {\n            root = new BinNode(x, y);\n            return root;\n        }\n        \n           \n        return BST_insert_aux(x, y, getRadius(x,y), getPhase(x,y), root); \n    }\n\n    private void print(BinNode t, int level, char pos) {\n       \n        if (t==null) return;\n        for (int i = 0; i &lt; level - 1; i++) {\n            System.out.print(&quot;   &quot;);\n        }\n\n        if (level &gt; 0) {\n            System.out.print(&quot; &quot;+pos+&quot;:--&quot;);\n        }\n\n        System.out.println(&quot;coordinate: (&quot;+ t.getCoordinates()[0]+&quot;,&quot;+t.getCoordinates()[1]+&quot;); radius=&quot; \n            + getRadius(t) + &quot; ; phase=&quot; + getPhase(t) );\n\n        print(t.getLeft(), level + 1,'l');\n        print(t.getRight(), level + 1,'r');\n    }\n    \n    public void BST_print() {\n        if (root!=null)\n            print(this.root, 0,' ');\n    }\n</code></pre>\n<p>/////////////////////////////////////////////////////////////</p>\n<pre><code>public class BinNode {\n\n        protected double[] coordinates;\n        protected BinNode left;\n        protected BinNode right;\n\n        public BinNode(double x, double y) {\n            coordinates = new double[2];\n            coordinates[0] = x;\n            coordinates[1] = y;\n            this.left = null;\n            this.right = null;\n        }\n        \n        public BinNode getLeft(){\n            return left;\n        }\n\n        public BinNode getRight(){\n            return right;\n        }\n        \n        public BinNode setLeft(BinNode n){\n            left = n;\n            return left;\n        }\n\n        public BinNode setRight(BinNode n){\n            right = n;\n            return right;\n        }\n        \n        public double[] getCoordinates(){\n            return coordinates;\n        }\n}\n</code></pre>\n<p>I am sorry if the code is too long, but I am new to Stack Overflow so I do not know if omitting part of the code for the sake of brevity would be better. Anyway, I have to write a method to find the area of ​​the maximum annulus that has no points inside it (those on the border, so with a radius equal to one of the two radius of the annulus are fine). <a href=\"https://i.stack.imgur.com/1L6dm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1L6dm.png\" alt=\"enter image description here\" /></a>\nObviously the annulus must be of finite size, so there must exist in the plane at least one point with a radius greater than or equal to that of the big radius of the annulus. To do this I wrote an auxiliary method Annulus(double r1, double r2) that count how many points in the BST have a radius between r1 and r2. Here is the code:</p>\n<pre><code>  public int Annulus(double r1, double r2) {\n        \n    System.out.println(&quot;RANGE QUERY: from &quot; + r1 + &quot; to &quot; + r2);\n      \n    if (r2 &lt; r1) { System.out.println(&quot;r2 must be &gt;= r1&quot;); return -1; }\n\n    int[] cont = new int[1];\n        \n    cont[0] = 0;\n        \n    Annulus_aux(r1, r2, root, cont);\n    \n    return cont[0];\n  }\n    \n    \n    private void Annulus_aux(double r1, double r2, BinNode t, int[] cont) {\n    \n        if (t == null) { \n            return; \n        }\n    \n        else {\n        \n        double tr = getRadius(t);\n        double tp = getPhase(t);        \n            \n            \n            if (r1 &gt;= tr) {\n                \n                Annulus_aux(r1, r2, t.getRight(), cont);\n            }\n            \n            else {\n                \n                Annulus_aux(r1, r2, t.getLeft(), cont);\n                \n                if (r2 &gt; tr) {\n                \n                    cont[0]++;\n                \n                    Annulus_aux(r1, r2, t.getRight(), cont);\n                }\n                \n                \n            }\n        \n        }\n    \n    }\n</code></pre>\n<p>The problem is in the following methods:</p>\n<pre><code>  public double maxAnnulus() {\n    \n        LinkedList&lt;BinNode&gt; nodes = new LinkedList&lt;&gt;();\n        \n        collectNodes(nodes, root);\n        \n        double maxArea = 0;\n        \n        for (BinNode e: nodes) {\n            \n            if (Annulus(0, getRadius(e)) == 0)  { //r1 = origin\n            \n                double currentArea = area(0, getRadius(e));\n            \n                if (currentArea &gt; maxArea) {\n                    System.out.println(&quot;\\n\\n&quot;); \n                    maxArea = currentArea;\n                }\n            }\n            \n            \n            for (BinNode ne: nodes) {\n            \n                double r1 = getRadius(e);\n                double r2 = getRadius(ne);\n            \n                if (Annulus(r1, r2) == 0)  {\n                \n                    double currentArea = area(r1,r2);\n            \n                    if (currentArea &gt; maxArea) {                \n                        System.out.println(&quot;\\n\\n&quot;);\n                        maxArea = currentArea;\n                    }\n                }\n            }\n        \n        }   \n        \n        return maxArea;\n    }\n  \n\n\n    private void collectNodes(LinkedList&lt;BinNode&gt; nodes, BinNode t) {\n    \n        if (t != null) {\n        \n        collectNodes(nodes, t.getLeft());\n        \n        nodes.add(t);\n        \n            collectNodes(nodes, t.getRight());\n        }\n    }\n  \n  \n  \n  \n    private double area(double r1, double r2) {\n   \n    System.out.println(&quot;a1 = &quot; + Math.PI * Math.pow(r1, 2));\n    System.out.println(&quot;a2 = &quot; + Math.PI * Math.pow(r2, 2));\n    \n    System.out.println(&quot;a2-a1 = &quot; + Math.PI * (Math.pow(r2,2) - Math.pow(r1,2)));\n    \n    System.out.println(&quot;\\n\\n&quot;);\n    \n    return Math.PI * (Math.pow(r2,2) - Math.pow(r1,2));\n   \n   \n   }\n}\n    \n</code></pre>\n<p>maxAnnulus() calculates the area of ​​the maximum annulus. To do this, it calls the collectNodes (nodes, root) method which inserts the nodes of the BST in a linkedlist. Then for each element of the linkedlist it calculates the area between its radius and the radius of every other element of the linkedlist (plus the origin), but only if the number of internal points between the two radius is 0. Then comparing the various areas, I find the largest one.</p>\n<p>I am absolutely sure there are so many better ways to solve this problem. Here are some tests that I did:</p>\n<pre><code>public class Driver {\n\n\n    public static void main(String[] argv) {\n    \n        int i;\n        BST b = new BST();\n        \n        b.BST_insert(5,0);\n        b.BST_insert(2,0);\n        b.BST_insert(8,0);\n        b.BST_insert(1,0);\n        b.BST_insert(3,0);\n        b.BST_insert(6,0);\n        b.BST_insert(11,0);\n        b.BST_insert(1,0);\n        b.BST_insert(0,5);\n        b.BST_insert(0,6);\n        b.BST_insert(0,-5);\n        b.BST_insert(0,6);\n\n\n    System.out.println(&quot;############################################&quot;);\n        System.out.println(&quot;Tree: \\n&quot;);\n        b.BST_print();\n    System.out.println(&quot;############################################\\n\\n&quot;);\n\n      \n    double maxAnnulus = b.maxAnnulus();\n        System.out.println(&quot;Max Annulus: &quot; + maxAnnulus);\n         \n        \n        BST b1 = new BST();\n        b1.BST_insert(1,4);\n        b1.BST_insert(-6,6);\n        b1.BST_insert(3,4);\n        b1.BST_insert(5,1);\n        b1.BST_insert(6,-4);\n        b1.BST_insert(4,1);\n        b1.BST_insert(2,7);\n        b1.BST_insert(2,2);\n        b1.BST_insert(8,1);\n        b1.BST_insert(-1,4);\n        b1.BST_insert(6,2);\n        b1.BST_insert(-8,7);\n        b1.BST_insert(1,-1);\n        b1.BST_insert(8,-1);\n        b1.BST_insert(8,-1);\n        b1.BST_insert(0,5);\n        b1.BST_insert(2,2);\n    \n    \n        System.out.println(&quot;############################################&quot;);    \n        System.out.println(&quot;\\n\\n\\nTree: \\n&quot;);\n        b1.BST_print();\n    System.out.println(&quot;############################################\\n\\n&quot;);\n\n       \n        maxAnellus = b1.maxAnnulus();\n        System.out.println(&quot;Max Annulus: &quot; + maxAnnulus);\n      \n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","r2dbc","r2dbc-mysql"],"comments":[{"owner":{"account_id":3698902,"reputation":384,"user_id":3079316,"accept_rate":71,"display_name":"Vaibhav Maheshwari"},"score":0,"creation_date":1649489977,"post_id":71487806,"comment_id":126892848,"body_markdown":"Did you figure this out?","body":"Did you figure this out?"}],"answers":[{"tags":[],"owner":{"account_id":7591763,"reputation":1719,"user_id":5759211,"accept_rate":77,"display_name":"Vladlen Gladis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649515684,"creation_date":1649515684,"answer_id":71809097,"question_id":71487806,"body_markdown":"Basically, it happens when you have too many pending acquired connections \r\n\r\n&gt; Example: your connection pool is 100 but you are trying to do 500 parallel\r\n&gt; inserts, where 400 will be in pending status).\r\n\r\n In this situation, reactor-pool disposes connection pool. So to avoid such an issue, I’m controlling the number of parallel executions.\r\n\r\n---\r\n\r\nActually I see two ways to handle this case:\r\n1. (The right way in my opinion) Is to control the flow of incoming messages by specifying concurrency parameter on the operator (concurrency =&lt; then pool size)\r\n```\r\n   flux\r\n     //some intermediate operators\r\n      .flatMap( {databaseOperation(it) }, poolSize)\r\n```\r\nIn this case, you won&#39;t have more parallel executions than your connection pool can afford.\r\n\r\n2. using `delayUntil` operator, which delays elements until there are unused connections (you can use connection pool metrics to retrieve that). I wouldn&#39;t recommend this approach because you can end up with of memory exception if you are not controlling back-pressure, or you will have to drop some items if the buffer overflows.\r\n\r\n\r\n**Method that delays message until there are available connections**\r\n```\r\nfun &lt;T&gt; Flux&lt;T&gt;.delayUntilHasAvailableConnections(pool: ConnectionPool): Flux&lt;T&gt; {\r\n    val hasAvailableConnections = Supplier {\r\n        val metrics = pool.metrics.get()\r\n        metrics.pendingAcquireSize() &lt;= metrics.maxAllocatedSize\r\n    }\r\n\r\n    val connectionsExistsMono = Mono.fromSupplier(hasAvailableConnections)\r\n\r\n    val hasConnectionMono = connectionsExistsMono\r\n        .handle { hasConnections, sink: SynchronousSink&lt;Boolean&gt; -&gt;\r\n            if (hasConnections) {\r\n                sink.next(hasConnections)\r\n            } else {\r\n                sink.error(RuntimeException(&quot;No Connections&quot;))\r\n            }\r\n        }.retryWhen(Retry.fixedDelay(Long.MAX_VALUE, Duration.ofSeconds(5)))\r\n\r\n    return delayUntil { hasConnectionMono }\r\n}\r\n```\r\n\r\n`Usage:`\r\n```\r\n   flux\r\n     //some intermediate operators\r\n      .delayUntilHasAvailableConnections(connectionPool)\r\n      .flatMap { databaseOperation(it) } \r\n```","title":"Getting reactor.pool.PoolShutdownException during save in database","body":"<p>Basically, it happens when you have too many pending acquired connections</p>\n<blockquote>\n<p>Example: your connection pool is 100 but you are trying to do 500 parallel\ninserts, where 400 will be in pending status).</p>\n</blockquote>\n<p>In this situation, reactor-pool disposes connection pool. So to avoid such an issue, I’m controlling the number of parallel executions.</p>\n<hr />\n<p>Actually I see two ways to handle this case:</p>\n<ol>\n<li>(The right way in my opinion) Is to control the flow of incoming messages by specifying concurrency parameter on the operator (concurrency =&lt; then pool size)</li>\n</ol>\n<pre><code>   flux\n     //some intermediate operators\n      .flatMap( {databaseOperation(it) }, poolSize)\n</code></pre>\n<p>In this case, you won't have more parallel executions than your connection pool can afford.</p>\n<ol start=\"2\">\n<li>using <code>delayUntil</code> operator, which delays elements until there are unused connections (you can use connection pool metrics to retrieve that). I wouldn't recommend this approach because you can end up with of memory exception if you are not controlling back-pressure, or you will have to drop some items if the buffer overflows.</li>\n</ol>\n<p><strong>Method that delays message until there are available connections</strong></p>\n<pre><code>fun &lt;T&gt; Flux&lt;T&gt;.delayUntilHasAvailableConnections(pool: ConnectionPool): Flux&lt;T&gt; {\n    val hasAvailableConnections = Supplier {\n        val metrics = pool.metrics.get()\n        metrics.pendingAcquireSize() &lt;= metrics.maxAllocatedSize\n    }\n\n    val connectionsExistsMono = Mono.fromSupplier(hasAvailableConnections)\n\n    val hasConnectionMono = connectionsExistsMono\n        .handle { hasConnections, sink: SynchronousSink&lt;Boolean&gt; -&gt;\n            if (hasConnections) {\n                sink.next(hasConnections)\n            } else {\n                sink.error(RuntimeException(&quot;No Connections&quot;))\n            }\n        }.retryWhen(Retry.fixedDelay(Long.MAX_VALUE, Duration.ofSeconds(5)))\n\n    return delayUntil { hasConnectionMono }\n}\n</code></pre>\n<p><code>Usage:</code></p>\n<pre><code>   flux\n     //some intermediate operators\n      .delayUntilHasAvailableConnections(connectionPool)\n      .flatMap { databaseOperation(it) } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155607,"reputation":41,"user_id":2668087,"display_name":"TheMagican"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651478641,"creation_date":1651478641,"answer_id":72083880,"question_id":71487806,"body_markdown":"As Vladlen pointed out, reactor-pool has the ability to some kind of refuse new connections to the pool if there is a large queue for acquiring DB connections. In case of a Spring application with spring-r2dbc, this functionality is disabled by default and *all* connection attempts get queued. \r\n\r\nNevertheless I got the same exception in my Spring application. In my case it was a more special condition but if someone else stumbles upon this: The Spring actuator health check also checks the connectivity to the database. If you have your application deployed to Kubernetes, the request to the `/actuator/health` endpoint may not return in time if there is a large queue in front of the DB pool. This causes the readiness-/liveness-probes of Kubernetes to fail with &quot;Connection Timed out&quot; making Kubernetes think the application is unhealthy (which is some kind of true). In the end, Kubernetes kills the application and all existing connections to the DB pool get terminated with the above exception.\r\n\r\nMy solution was to manually limit the load similar to what Vladlen pointed out:\r\n\r\n``` kotlin\r\nval coroutineLimit = Semaphore(dbPoolSize)\r\nworkItems.forEach {\r\n    launch {\r\n        coroutineLimit.withPermit {\r\n            // My DB operation\r\n        }\r\n    }\r\n}\r\n```","title":"Getting reactor.pool.PoolShutdownException during save in database","body":"<p>As Vladlen pointed out, reactor-pool has the ability to some kind of refuse new connections to the pool if there is a large queue for acquiring DB connections. In case of a Spring application with spring-r2dbc, this functionality is disabled by default and <em>all</em> connection attempts get queued.</p>\n<p>Nevertheless I got the same exception in my Spring application. In my case it was a more special condition but if someone else stumbles upon this: The Spring actuator health check also checks the connectivity to the database. If you have your application deployed to Kubernetes, the request to the <code>/actuator/health</code> endpoint may not return in time if there is a large queue in front of the DB pool. This causes the readiness-/liveness-probes of Kubernetes to fail with &quot;Connection Timed out&quot; making Kubernetes think the application is unhealthy (which is some kind of true). In the end, Kubernetes kills the application and all existing connections to the DB pool get terminated with the above exception.</p>\n<p>My solution was to manually limit the load similar to what Vladlen pointed out:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val coroutineLimit = Semaphore(dbPoolSize)\nworkItems.forEach {\n    launch {\n        coroutineLimit.withPermit {\n            // My DB operation\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7591763,"reputation":1719,"user_id":5759211,"accept_rate":77,"display_name":"Vladlen Gladis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1600,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651478641,"creation_date":1647371903,"question_id":71487806,"body_markdown":"Service is using `org.springframework.r2dbc.core.DatabaseClient` with reactor-pool and r2dbc-mysql driver.\r\n\r\nI&#39;m doing inserts in the database every 5-10 seconds (50-100 insert statements) and randomly after every 2-3 hours I&#39;m getting `reactor.pool.PoolShutdownException: Pool has been shut down`, what might be the reason for this behavior?\r\n\r\nDependecy versions:\r\n* r2dbc-pool: 0.8.8.RELEASE\r\n* r2dbc-mysql: 0.8.2\r\n* spring-r2dbc: 5.3.15\r\n\r\n**Stacktrace:**\r\n\r\n    org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is reactor.pool.PoolShutdownException: Pool has been shut down\r\n\tat org.springframework.r2dbc.connection.ConnectionFactoryUtils.lambda$getConnection$0(ConnectionFactoryUtils.java:88)\r\n\tat reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3733)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\r\n\tat reactor.core.publisher.FluxRetry$RetrySubscriber.onError(FluxRetry.java:95)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\r\n\tat reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:477)\r\n\tat reactor.pool.SimpleDequePool.doAcquire(SimpleDequePool.java:264)\r\n\tat reactor.pool.AbstractPool$Borrower.request(AbstractPool.java:432)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:110)\r\n\tat reactor.pool.SimpleDequePool$QueueBorrowerMono.subscribe(SimpleDequePool.java:676)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat reactor.core.publisher.FluxRetry$RetrySubscriber.resubscribe(FluxRetry.java:117)\r\n\tat reactor.core.publisher.MonoRetry.subscribeOrReturn(MonoRetry.java:50)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4385)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:104)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:255)\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n\tat reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:251)\r\n\tat reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:336)\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n\tat reactor.core.publisher.MonoCompletionStage.lambda$subscribe$0(MonoCompletionStage.java:83)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(Unknown Source)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(Unknown Source)\r\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(Unknown Source)\r\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(Unknown Source)\r\n\tat reactor.core.publisher.MonoCompletionStage.subscribe(MonoCompletionStage.java:58)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.MonoSubscribeOn$SubscribeOnSubscriber.run(MonoSubscribeOn.java:126)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n","title":"Getting reactor.pool.PoolShutdownException during save in database","body":"<p>Service is using <code>org.springframework.r2dbc.core.DatabaseClient</code> with reactor-pool and r2dbc-mysql driver.</p>\n<p>I'm doing inserts in the database every 5-10 seconds (50-100 insert statements) and randomly after every 2-3 hours I'm getting <code>reactor.pool.PoolShutdownException: Pool has been shut down</code>, what might be the reason for this behavior?</p>\n<p>Dependecy versions:</p>\n<ul>\n<li>r2dbc-pool: 0.8.8.RELEASE</li>\n<li>r2dbc-mysql: 0.8.2</li>\n<li>spring-r2dbc: 5.3.15</li>\n</ul>\n<p><strong>Stacktrace:</strong></p>\n<pre><code>org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is reactor.pool.PoolShutdownException: Pool has been shut down\nat org.springframework.r2dbc.connection.ConnectionFactoryUtils.lambda$getConnection$0(ConnectionFactoryUtils.java:88)\nat reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3733)\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\nat reactor.core.publisher.FluxRetry$RetrySubscriber.onError(FluxRetry.java:95)\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\nat reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:477)\nat reactor.pool.SimpleDequePool.doAcquire(SimpleDequePool.java:264)\nat reactor.pool.AbstractPool$Borrower.request(AbstractPool.java:432)\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:110)\nat reactor.pool.SimpleDequePool$QueueBorrowerMono.subscribe(SimpleDequePool.java:676)\nat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\nat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\nat reactor.core.publisher.FluxRetry$RetrySubscriber.resubscribe(FluxRetry.java:117)\nat reactor.core.publisher.MonoRetry.subscribeOrReturn(MonoRetry.java:50)\nat reactor.core.publisher.Mono.subscribe(Mono.java:4385)\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\nat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132)\nat reactor.core.publisher.Operators.error(Operators.java:198)\nat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\nat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\nat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\nat reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:104)\nat reactor.core.publisher.Flux.subscribe(Flux.java:8469)\nat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:255)\nat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\nat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\nat reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:251)\nat reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:336)\nat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\nat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\nat reactor.core.publisher.MonoCompletionStage.lambda$subscribe$0(MonoCompletionStage.java:83)\nat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(Unknown Source)\nat java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(Unknown Source)\nat java.base/java.util.concurrent.CompletableFuture.whenComplete(Unknown Source)\nat java.base/java.util.concurrent.CompletableFuture.whenComplete(Unknown Source)\nat reactor.core.publisher.MonoCompletionStage.subscribe(MonoCompletionStage.java:58)\nat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\nat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128)\nat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\nat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128)\nat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\nat reactor.core.publisher.MonoSubscribeOn$SubscribeOnSubscriber.run(MonoSubscribeOn.java:126)\nat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\nat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\nat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\nat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","xssf"],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651477927,"creation_date":1651477927,"answer_id":72083768,"question_id":71940000,"body_markdown":"Why are you using `OPCPackage`?\r\n\r\n`OPCPackage` is opened from the `templateFile` in `READ_WRITE` mode. If this will be closed, it will also be saved.\r\n\r\nYou can do it this way:\r\n\r\n    try (FileInputStream inputStream = new FileInputStream(templateFile);\r\n\t\t\t\tFileOutputStream outputStream = new FileOutputStream(new File(finalFile));\r\n\t\t\t\tWorkbook workbook = new XSSFWorkbook(inputStream)) {\r\n\t\twb.getSheetAt(0);\r\n\r\n        /*\r\n         *\r\n         * Your POI related operations.\r\n         *\r\n         */\r\n\r\n\t    wb.write(stream);\r\n        outputStream.close();\r\n        wb.close();\r\n\t}\r\n\r\n","title":"XSSFWorkbook overriding the template file","body":"<p>Why are you using <code>OPCPackage</code>?</p>\n<p><code>OPCPackage</code> is opened from the <code>templateFile</code> in <code>READ_WRITE</code> mode. If this will be closed, it will also be saved.</p>\n<p>You can do it this way:</p>\n<pre><code>try (FileInputStream inputStream = new FileInputStream(templateFile);\n            FileOutputStream outputStream = new FileOutputStream(new File(finalFile));\n            Workbook workbook = new XSSFWorkbook(inputStream)) {\n    wb.getSheetAt(0);\n\n    /*\n     *\n     * Your POI related operations.\n     *\n     */\n\n    wb.write(stream);\n    outputStream.close();\n    wb.close();\n}\n</code></pre>\n"}],"owner":{"account_id":20856939,"reputation":23,"user_id":15320015,"display_name":"Pandalex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72083768,"answer_count":1,"score":0,"last_activity_date":1651477927,"creation_date":1650459118,"question_id":71940000,"body_markdown":"I&#39;m using XSSFWorkbook to create a xlsx file which stores the result of a SQL query with JAVA 8.\r\n\r\nThis process is done each month so I use a template xslx file template.xslx.\r\n\r\nThe point it to open the template and save it as new file.\r\nIt used to work but now the template is also modified and filled with data (it should stay empty with just the column size, the color, the headers ...).\r\n\r\nHere is what I do :\r\n\r\n``` \t\r\nZipSecureFile.setMinInflateRatio(0);\r\nOPCPackage pkg = OPCPackage.open(new File(excelMaquette)); \t\t// Template xlsx\t\t\t\r\nXSSFWorkbook wb = new XSSFWorkbook(pkg);\t\t\t\t \t\t// Fichier xlsx\r\n\r\nexcelFinal += &quot;_&quot;+dateDuJour+&quot;.xlsx&quot;;\r\n\r\nFileOutputStream stream = new FileOutputStream(new File(excelFinal));\r\n\r\nXSSFSheet sheet = wb.getSheetAt(0);\t\t\t\t\r\n\r\nXSSFCellStyle style = wb.createCellStyle();\r\n\t\t\t\r\n//remplissage du tableau pour la feuille de d&#233;tail\r\nfor (int i = 0 ; i &lt;= nombreLigneResultat ; i++)\r\n{\r\n\tXSSFRow row = sheet.createRow((short)i+1);\r\n\t\t\t\t\r\n\tfor (int l = 0; l &lt; nombreColonnes + 1; l ++)\r\n\t{\r\n\t\tXSSFCell  cell = row.createCell(l);\t\t\t\r\n\t\tcell.setCellValue(tab[i][l]);\t\r\n\t\t//System.out.println (&quot; xls = &quot; + tab[i][l]);\r\n\t}\t\t\t\t\r\n}\r\n\t\t\t\t\r\nwb.write(stream);\r\nstream.close();\r\nwb.close();\r\n```\r\n\r\nThanks for you help\r\n\r\nEDIT: I tried rewriting and renaming my files but it&#39;s still the same...\r\nIts bad because, sometimes the new file will have less data than the previous one so the file will display the new and the extra old data :(","title":"XSSFWorkbook overriding the template file","body":"<p>I'm using XSSFWorkbook to create a xlsx file which stores the result of a SQL query with JAVA 8.</p>\n<p>This process is done each month so I use a template xslx file template.xslx.</p>\n<p>The point it to open the template and save it as new file.\nIt used to work but now the template is also modified and filled with data (it should stay empty with just the column size, the color, the headers ...).</p>\n<p>Here is what I do :</p>\n<pre><code>ZipSecureFile.setMinInflateRatio(0);\nOPCPackage pkg = OPCPackage.open(new File(excelMaquette));      // Template xlsx            \nXSSFWorkbook wb = new XSSFWorkbook(pkg);                        // Fichier xlsx\n\nexcelFinal += &quot;_&quot;+dateDuJour+&quot;.xlsx&quot;;\n\nFileOutputStream stream = new FileOutputStream(new File(excelFinal));\n\nXSSFSheet sheet = wb.getSheetAt(0);             \n\nXSSFCellStyle style = wb.createCellStyle();\n            \n//remplissage du tableau pour la feuille de détail\nfor (int i = 0 ; i &lt;= nombreLigneResultat ; i++)\n{\n    XSSFRow row = sheet.createRow((short)i+1);\n                \n    for (int l = 0; l &lt; nombreColonnes + 1; l ++)\n    {\n        XSSFCell  cell = row.createCell(l);         \n        cell.setCellValue(tab[i][l]);   \n        //System.out.println (&quot; xls = &quot; + tab[i][l]);\n    }               \n}\n                \nwb.write(stream);\nstream.close();\nwb.close();\n</code></pre>\n<p>Thanks for you help</p>\n<p>EDIT: I tried rewriting and renaming my files but it's still the same...\nIts bad because, sometimes the new file will have less data than the previous one so the file will display the new and the extra old data :(</p>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1642057868,"post_id":70685673,"comment_id":124971932,"body_markdown":"Remove `hibernate-validator`, remove `validation-api`... Fix any compilation issues and restart.","body":"Remove <code>hibernate-validator</code>, remove <code>validation-api</code>... Fix any compilation issues and restart."}],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642008032,"creation_date":1642008032,"answer_id":70685774,"question_id":70685673,"body_markdown":"Add @Valid before @RequestParam as follows:\r\n\r\n    public ResponseEntity&lt;Object&gt; createValues(@Valid @RequestParam @Min(10) int number) {\r\n      ...\r\n    }","title":"Why do not work @Validated in spring boot 2.6.2","body":"<p>Add @Valid before @RequestParam as follows:</p>\n<pre><code>public ResponseEntity&lt;Object&gt; createValues(@Valid @RequestParam @Min(10) int number) {\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25170532,"reputation":1,"user_id":19013415,"display_name":"Paddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651477745,"creation_date":1651476859,"answer_id":72083597,"question_id":70685673,"body_markdown":"This seems to happen when `hibernate-validator` dependency is included in the classpath.\r\n\r\nWith the version of `spring-boot-starter-validation` specified above, you no longer need the `hibernate-validator`. Removing it should make it work as expected.\r\n\r\n```\r\n+--- org.springframework.boot:spring-boot-starter-validation -&gt; 2.6.7\r\n|    +--- org.springframework.boot:spring-boot-starter:2.6.7 (*)\r\n|    +--- org.apache.tomcat.embed:tomcat-embed-el:9.0.62\r\n|    \\--- org.hibernate.validator:hibernate-validator:6.2.3.Final\r\n|         +--- jakarta.validation:jakarta.validation-api:2.0.2\r\n|         +--- org.jboss.logging:jboss-logging:3.4.1.Final -&gt; 3.4.3.Final\r\n|         \\--- com.fasterxml:classmate:1.5.1\r\n```","title":"Why do not work @Validated in spring boot 2.6.2","body":"<p>This seems to happen when <code>hibernate-validator</code> dependency is included in the classpath.</p>\n<p>With the version of <code>spring-boot-starter-validation</code> specified above, you no longer need the <code>hibernate-validator</code>. Removing it should make it work as expected.</p>\n<pre><code>+--- org.springframework.boot:spring-boot-starter-validation -&gt; 2.6.7\n|    +--- org.springframework.boot:spring-boot-starter:2.6.7 (*)\n|    +--- org.apache.tomcat.embed:tomcat-embed-el:9.0.62\n|    \\--- org.hibernate.validator:hibernate-validator:6.2.3.Final\n|         +--- jakarta.validation:jakarta.validation-api:2.0.2\n|         +--- org.jboss.logging:jboss-logging:3.4.1.Final -&gt; 3.4.3.Final\n|         \\--- com.fasterxml:classmate:1.5.1\n</code></pre>\n"}],"owner":{"account_id":19497181,"reputation":37,"user_id":15544036,"display_name":"framzik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651477745,"creation_date":1642007603,"question_id":70685673,"body_markdown":"I have in my pom file: \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nmy controller: \r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api&quot;)\r\n    @Validated\r\n    public class ValueController {\r\n\r\n    @PostMapping(value = &quot;/values&quot;)\r\n    public ResponseEntity&lt;Object&gt; createValues(@RequestParam @Min(10) int number) {\r\n        return ResponseEntity.status(CREATED).body(number);\r\n    }\r\n    }\r\n\r\n \r\n\r\nif i send post: 127.0.0.1:8080/api/values?number=5 return 5, but i want exception, what i need? java 11, spring boot 2.6.2","title":"Why do not work @Validated in spring boot 2.6.2","body":"<p>I have in my pom file:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;7.0.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>my controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api&quot;)\n@Validated\npublic class ValueController {\n\n@PostMapping(value = &quot;/values&quot;)\npublic ResponseEntity&lt;Object&gt; createValues(@RequestParam @Min(10) int number) {\n    return ResponseEntity.status(CREATED).body(number);\n}\n}\n</code></pre>\n<p>if i send post: 127.0.0.1:8080/api/values?number=5 return 5, but i want exception, what i need? java 11, spring boot 2.6.2</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea","thymeleaf"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1551075054,"post_id":54860159,"comment_id":96491484,"body_markdown":"Did you tried this solution https://stackoverflow.com/questions/43108100/creating-a-new-thymeleaf-template-in-intellij?","body":"Did you tried this solution <a href=\"https://stackoverflow.com/questions/43108100/creating-a-new-thymeleaf-template-in-intellij\" title=\"creating a new thymeleaf template in intellij\">stackoverflow.com/questions/43108100/&hellip;</a>?"},{"owner":{"account_id":146283,"reputation":760,"user_id":356638,"accept_rate":63,"display_name":"SiriusBits"},"score":0,"creation_date":1551075512,"post_id":54860159,"comment_id":96491633,"body_markdown":"@soorapadman yes of course. I have the Thymeleaf attributes working fine in the template. Code completion is NOT working for **paths and filenames** WHEN using the Thymeleaf `th:src=&quot;@{.....}&quot;` attribute.","body":"@soorapadman yes of course. I have the Thymeleaf attributes working fine in the template. Code completion is NOT working for <b>paths and filenames</b> WHEN using the Thymeleaf <code>th:src=&quot;@{.....}&quot;</code> attribute."},{"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"score":1,"creation_date":1551086378,"post_id":54860159,"comment_id":96496384,"body_markdown":"Please try https://www.jetbrains.com/help/idea/web-application-static-content.html","body":"Please try <a href=\"https://www.jetbrains.com/help/idea/web-application-static-content.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/web-application-static-content.html</a>"},{"owner":{"account_id":146283,"reputation":760,"user_id":356638,"accept_rate":63,"display_name":"SiriusBits"},"score":0,"creation_date":1551110707,"post_id":54860159,"comment_id":96510902,"body_markdown":"@MebinJoe I believe that&#39;s specifically for how your content is resolved in the container once you deploy/run your app, not necessarily setting up paths that resolve in the IDE.","body":"@MebinJoe I believe that&#39;s specifically for how your content is resolved in the container once you deploy/run your app, not necessarily setting up paths that resolve in the IDE."}],"answers":[{"tags":[],"owner":{"account_id":20952855,"reputation":435,"user_id":15394108,"display_name":"cng.buff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651477282,"creation_date":1651477282,"answer_id":72083669,"question_id":54860159,"body_markdown":"1. File -&gt; Other Settings -&gt; Config Plugins -&gt; check thymeleaf.\r\n\r\n2. Add dependency in file: porm.xml\r\n\r\n3. In HTML,don&#39;t forget to add `xmlns:th=&quot;http://www.thymeleaf.org&quot;`\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RodMg.png\r\n\r\nYou can see more at here\r\n\r\nhttps://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html","title":"IntelliJ (2018.3) with Thymeleaf - NO auto completion on paths to static content?","body":"<ol>\n<li><p>File -&gt; Other Settings -&gt; Config Plugins -&gt; check thymeleaf.</p>\n</li>\n<li><p>Add dependency in file: porm.xml</p>\n</li>\n<li><p>In HTML,don't forget to add <code>xmlns:th=&quot;http://www.thymeleaf.org&quot;</code></p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/RodMg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RodMg.png\" alt=\"enter image description here\" /></a></p>\n<p>You can see more at here</p>\n<p><a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html\" rel=\"nofollow noreferrer\">https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html</a></p>\n"}],"owner":{"account_id":146283,"reputation":760,"user_id":356638,"accept_rate":63,"display_name":"SiriusBits"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1759,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1651477282,"creation_date":1551073480,"question_id":54860159,"body_markdown":"Code completion for **paths** and **filenames** do NOT seem to work in IntelliJ with Thymeleaf: `th:src=&quot;@{...}&quot;` attributes - e.g. files in the `resources/static/` folder.\r\n\r\nI&#39;m using the latest version of IntelliJ Ultimate Edition (2018.3.x as I am typing this) with the latest Spring Boot &quot;2.1.3.RELEASE&quot;, along with the latest Thymeleaf packages.\r\n\r\nI have only one controller class, and one HTML template. Simple stuff. I can run the app fine and the content shows up.\r\n\r\nHowever, auto completion for static resources is **NOT** working when typing in the template - for images, css etc. When using the standard HTML `src=` attribute e.g. `src=&quot;../static/images/mylogo.png&quot;` code completion works fine. Paths to static content with Thymeleaf `th:src=&quot;@{...}&quot;` tags have no auto completion at all.\r\n\r\n[![Example of static content in the template][1]][1]\r\n\r\nAny suggestions or help would be VERY welcome. I&#39;ve been using IntelliJ Ultimate for many years, and hopefully this is just a setting I am overlooking. Cannot find anything online pointing at this or a solution. I recall (maybe mistakenly) that this worked a couple years back on a project. Tried on 3 systems and the same behavior. Setting? Config? IntelliJ Bug?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YfRCG.png","title":"IntelliJ (2018.3) with Thymeleaf - NO auto completion on paths to static content?","body":"<p>Code completion for <strong>paths</strong> and <strong>filenames</strong> do NOT seem to work in IntelliJ with Thymeleaf: <code>th:src=\"@{...}\"</code> attributes - e.g. files in the <code>resources/static/</code> folder.</p>\n\n<p>I'm using the latest version of IntelliJ Ultimate Edition (2018.3.x as I am typing this) with the latest Spring Boot \"2.1.3.RELEASE\", along with the latest Thymeleaf packages.</p>\n\n<p>I have only one controller class, and one HTML template. Simple stuff. I can run the app fine and the content shows up.</p>\n\n<p>However, auto completion for static resources is <strong>NOT</strong> working when typing in the template - for images, css etc. When using the standard HTML <code>src=</code> attribute e.g. <code>src=\"../static/images/mylogo.png\"</code> code completion works fine. Paths to static content with Thymeleaf <code>th:src=\"@{...}\"</code> tags have no auto completion at all.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YfRCG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YfRCG.png\" alt=\"Example of static content in the template\"></a></p>\n\n<p>Any suggestions or help would be VERY welcome. I've been using IntelliJ Ultimate for many years, and hopefully this is just a setting I am overlooking. Cannot find anything online pointing at this or a solution. I recall (maybe mistakenly) that this worked a couple years back on a project. Tried on 3 systems and the same behavior. Setting? Config? IntelliJ Bug?</p>\n"},{"tags":["java","jsp","servlets","package"],"comments":[{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":0,"creation_date":1651478117,"post_id":67429366,"comment_id":127365868,"body_markdown":"Do you tried to add all libs from Tomcat to the classpath? Something like `-classpath &quot;/opt/tomcat/lib/*&quot;`?","body":"Do you tried to add all libs from Tomcat to the classpath? Something like <code>-classpath &quot;&#47;opt&#47;tomcat&#47;lib&#47;*&quot;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":8279029,"reputation":1,"user_id":6224278,"display_name":"Collins Onah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644859220,"creation_date":1644859220,"answer_id":71115770,"question_id":67429366,"body_markdown":"There is a possibility the jar file you included does not contain jakarta.servlet.\r\n\r\nDownload jarkarta servlet api JAR 5.0.0 from the link below and add to your CLASSPATH. \r\nIt should work.\r\n\r\nhttps://jar-download.com/artifacts/jakarta.servlet/jakarta.servlet-api/5.0.0-M2/source-code\r\n","title":"package javax.servlet does not exist | package jakarta.servlet does not exist","body":"<p>There is a possibility the jar file you included does not contain jakarta.servlet.</p>\n<p>Download jarkarta servlet api JAR 5.0.0 from the link below and add to your CLASSPATH.\nIt should work.</p>\n<p><a href=\"https://jar-download.com/artifacts/jakarta.servlet/jakarta.servlet-api/5.0.0-M2/source-code\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/jakarta.servlet/jakarta.servlet-api/5.0.0-M2/source-code</a></p>\n"},{"tags":[],"owner":{"account_id":16299,"reputation":2306,"user_id":35323,"accept_rate":100,"display_name":"Jo&#227;o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644887472,"creation_date":1644887472,"answer_id":71120086,"question_id":67429366,"body_markdown":"/WEB-INF/classes/ is not a recommended place to place .java source code (text code files), this is a folder for compiled Java .class (binary jvm executable files) \r\n\r\nIf that is not the error cause, notice this kind of error exist in other questions. General recommendation, search them before asking.\r\n\r\nMy recommendation is to try out maven.\r\n https://stackoverflow.com/questions/14104937/how-to-compile-a-servlet-for-tomcat-in-command-line-error-package-javax-servle\r\n\r\nNon maven replies to similar questions:\r\n\r\nhttps://stackoverflow.com/questions/5791446/compiling-servlets-with-javac\r\n\r\nhttps://stackoverflow.com/questions/5625589/javac-erroring-out-when-compiling-servlet-libraries\r\n\r\nBest regards.\r\n\r\n","title":"package javax.servlet does not exist | package jakarta.servlet does not exist","body":"<p>/WEB-INF/classes/ is not a recommended place to place .java source code (text code files), this is a folder for compiled Java .class (binary jvm executable files)</p>\n<p>If that is not the error cause, notice this kind of error exist in other questions. General recommendation, search them before asking.</p>\n<p>My recommendation is to try out maven.\n<a href=\"https://stackoverflow.com/questions/14104937/how-to-compile-a-servlet-for-tomcat-in-command-line-error-package-javax-servle\">How to compile a servlet for Tomcat in command line? error: package javax.servlet does not exist</a></p>\n<p>Non maven replies to similar questions:</p>\n<p><a href=\"https://stackoverflow.com/questions/5791446/compiling-servlets-with-javac\">Compiling servlets with javac</a></p>\n<p><a href=\"https://stackoverflow.com/questions/5625589/javac-erroring-out-when-compiling-servlet-libraries\">Javac erroring out when compiling Servlet libraries</a></p>\n<p>Best regards.</p>\n"},{"tags":[],"owner":{"account_id":19699024,"reputation":1,"user_id":14422253,"display_name":"Rohan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651476672,"creation_date":1651401436,"answer_id":72075945,"question_id":67429366,"body_markdown":"make sure that you have made a class public.\r\nex. \r\n\r\n```java\r\npublic class ClassName extends HttpServlet {\r\n\tpublic void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {\r\n\t\t// your Code   \r\n\t}\r\n}\r\n```\r\n","title":"package javax.servlet does not exist | package jakarta.servlet does not exist","body":"<p>make sure that you have made a class public.\nex.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassName extends HttpServlet {\n    public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {\n        // your Code   \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21391538,"reputation":1,"user_id":15755509,"display_name":"Rishav Agrawal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4690,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664877926,"answer_count":3,"score":-1,"last_activity_date":1651476672,"creation_date":1620364953,"question_id":67429366,"body_markdown":"    javac -classpath &quot;/opt/tomcat/lib/servlet-api.jar&quot; /opt/tomcat/webapps/ROOT/WEB-INF/classes/NewServlet.java\r\n\r\nI have tried replacing the javax.servlet with &quot;jakarta.servlet&quot;. It still throws the same error with &quot;package jakarta.servlet&quot; does not exist.\r\n\r\nI have included the servlet-api.jar while compiling the program. Nothing seems to work here. I am stuck with this for 3 days now. I am a newbie to the servlet. I am not using any IDE.\r\nMy tomcat is running fine and it is showing the results but the class with these packages are not getting compiled and hence unable to process the following page.\r\n\r\nI am using tomcat 10 and linux mint 20.1 .","title":"package javax.servlet does not exist | package jakarta.servlet does not exist","body":"<pre><code>javac -classpath &quot;/opt/tomcat/lib/servlet-api.jar&quot; /opt/tomcat/webapps/ROOT/WEB-INF/classes/NewServlet.java\n</code></pre>\n<p>I have tried replacing the javax.servlet with &quot;jakarta.servlet&quot;. It still throws the same error with &quot;package jakarta.servlet&quot; does not exist.</p>\n<p>I have included the servlet-api.jar while compiling the program. Nothing seems to work here. I am stuck with this for 3 days now. I am a newbie to the servlet. I am not using any IDE.\nMy tomcat is running fine and it is showing the results but the class with these packages are not getting compiled and hence unable to process the following page.</p>\n<p>I am using tomcat 10 and linux mint 20.1 .</p>\n"},{"tags":["java","if-statement","while-loop"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651476700,"post_id":72083474,"comment_id":127365509,"body_markdown":"Unrelated: learn about java naming conventions. You dont use &quot;_&quot; in variable/method names (only for SOME_CONSTANT)","body":"Unrelated: learn about java naming conventions. You dont use &quot;_&quot; in variable/method names (only for SOME_CONSTANT)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651495384,"post_id":72083474,"comment_id":127370815,"body_markdown":"*I tried to break loop, but its not letting me input from label and just keep the previous entry from user and matches it again and again.* Question for you: why do you *want* to break from the loop - what is your objective? Another question: what does `continue` mean? The final question (which follows from the previous one): what is the first thing of significance that is going to occur when `continue` does its thing?","body":"<i>I tried to break loop, but its not letting me input from label and just keep the previous entry from user and matches it again and again.</i> Question for you: why do you <i>want</i> to break from the loop - what is your objective? Another question: what does <code>continue</code> mean? The final question (which follows from the previous one): what is the first thing of significance that is going to occur when <code>continue</code> does its thing?"},{"owner":{"display_name":"user16870886"},"score":0,"creation_date":1651496364,"post_id":72083474,"comment_id":127371196,"body_markdown":"I figured it out myself actually there is no need for loop","body":"I figured it out myself actually there is no need for loop"}],"owner":{"display_name":"user16870886"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651476466,"creation_date":1651475961,"question_id":72083474,"body_markdown":"I am trying to break loop if user input word character are same as random generated word character. In case any char of word isn&#39;t matching with random generated word character, then it should display unmatched in that label and skip it and check the rest; then lets user try again to guess the right word with same condition maximum 6 times. If limit is reached in last try loop break out.\r\n\r\nI tried to break loop, but its not letting me input from label and just keep the previous entry from user and matches it again and again. Displayed counter as 6 rest it working well on displaying matched and unmatched character.\r\n\r\nhere is my java code \r\n\r\n```java\r\ntry {\r\n  BufferedReader reader = new BufferedReader(new FileReader(&quot;E:\\\\WordyGame\\\\src\\\\wordygame\\\\targetWords.txt&quot;));\r\n  String line = reader.readLine();\r\n  List&lt;String&gt; words = new ArrayList&lt;String&gt; ();\r\n  while (line != null) {\r\n  \tString[] wordsLine = line.split(&quot; &quot;);\r\n  \tfor (String word: wordsLine) {\r\n  \t\twords.add(word);\r\n  \t}\r\n  \tline = reader.readLine();\r\n\r\n  }\r\n\r\n  Random rand = new Random(System.currentTimeMillis());\r\n  //getting random word from txt file\r\n  String randomWord = words.get(rand.nextInt(words.size()));\r\n  System.out.println(&quot;random word is : &quot; + randomWord);\r\n  String check_word = randomWord.trim().toLowerCase().toString();\r\n\r\n  //getting user input from textfield\r\n\r\n  //tp count limited attempts\r\n  int count = 0;\r\n  while (count&lt;6) {\r\n  \tString take_word = type_word.getText().toLowerCase().toString();\r\n  \tSystem.out.println(&quot;user inpur is &quot; + take_word);\r\n  \t//dividing word into char and then each char to strings\r\n  \t//user input word \r\n  \tchar first = take_word.charAt(0);\r\n  \tString first1 = String.valueOf(first);\r\n  \tchar second = take_word.charAt(1);\r\n  \tString second1 = String.valueOf(second);\r\n  \tchar third = take_word.charAt(2);\r\n  \tString third1 = String.valueOf(third);\r\n  \tchar fourth = take_word.charAt(3);\r\n  \tString fourth1 = String.valueOf(fourth);\r\n  \tchar fifth = take_word.charAt(4);\r\n  \tString fifth1 = String.valueOf(fifth);\r\n\r\n  \t//random word from file\r\n\r\n  \tchar first2 = check_word.charAt(0);\r\n  \tString first22 = String.valueOf(first2);\r\n  \tchar second2 = check_word.charAt(1);\r\n  \tString second22 = String.valueOf(second2);\r\n  \tchar third2 = check_word.charAt(2);\r\n  \tString third22 = String.valueOf(third2);\r\n  \tchar fourth2 = check_word.charAt(3);\r\n  \tString fourth22 = String.valueOf(fourth2);\r\n  \tchar fifth2 = check_word.charAt(4);\r\n  \tString fifth22 = String.valueOf(fifth2);\r\n\r\n  \tif (take_word.length()&lt;7) {\r\n  \t\tif (first1.trim().equals(first22)) {\r\n  \t\t\tword_1.setText(first1);\r\n  \t\t\tword_1.setForeground(Color.red);\r\n\r\n  \t\t} else {\r\n  \t\t\tcount++;\r\n  \t\t\tJOptionPane.showMessageDialog(this, &quot;Char 1 doesnt match&quot;);\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n\r\n  \t\tif (second1.trim().equals(second22)) {\r\n\r\n  \t\t\tword_2.setText(second1);\r\n  \t\t\tword_2.setForeground(Color.red);\r\n\r\n  \t\t} else {\r\n  \t\t\tcount++;\r\n  \t\t\tJOptionPane.showMessageDialog(this, &quot;Char 2 doesnt match&quot;);\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n  \t\tif (third1.trim().equals(third22)) {\r\n\r\n  \t\t\tword_3.setText(third1);\r\n  \t\t\tword_3.setForeground(Color.red);\r\n\r\n  \t\t} else {\r\n  \t\t\tcount++;\r\n  \t\t\tJOptionPane.showMessageDialog(this, &quot;Char 3 doesnt match&quot;);\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n\r\n  \t\tif (fourth1.trim().equals(fourth22)) {\r\n\r\n  \t\t\tword_4.setText(fourth1);\r\n  \t\t\tword_4.setForeground(Color.red);\r\n\r\n  \t\t} else {\r\n\r\n  \t\t\tcount++;\r\n  \t\t\tJOptionPane.showMessageDialog(this, &quot;Char 4 doesnt match&quot;);\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n  \t\tif (fifth1.trim().equals(fifth22)) {\r\n\r\n  \t\t\tword_5.setText(fifth1);\r\n  \t\t\tword_5.setForeground(Color.red);\r\n  \t\t\t//displaying charchter on GUI\r\n  \t\t\tbreak;\r\n  \t\t} else {\r\n  \t\t\tJOptionPane.showMessageDialog(this, &quot;doesnt 5 match&quot;);\r\n  \t\t\tcount++;\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n\r\n  \t} else {\r\n  \t\tJOptionPane.showMessageDialog(this, &quot;only 5 char word are allowed Number&quot;);\r\n  \t}\r\n\r\n  \tif (check_word.trim().equals(take_word)) {\r\n  \t\tJOptionPane.showMessageDialog(this, &quot;YOU guessed the number in first attempt&quot;);\r\n  \t\tbreak;\r\n  \t} else {\r\n  \t\tcount++;\r\n  \t}\r\n\r\n  }\r\n\r\n  System.out.println(count);\r\n} catch (Exception e) {\r\n  System.out.println(e);\r\n}\r\n```\r\n","title":"while loop not letting me enter the text from label","body":"<p>I am trying to break loop if user input word character are same as random generated word character. In case any char of word isn't matching with random generated word character, then it should display unmatched in that label and skip it and check the rest; then lets user try again to guess the right word with same condition maximum 6 times. If limit is reached in last try loop break out.</p>\n<p>I tried to break loop, but its not letting me input from label and just keep the previous entry from user and matches it again and again. Displayed counter as 6 rest it working well on displaying matched and unmatched character.</p>\n<p>here is my java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  BufferedReader reader = new BufferedReader(new FileReader(&quot;E:\\\\WordyGame\\\\src\\\\wordygame\\\\targetWords.txt&quot;));\n  String line = reader.readLine();\n  List&lt;String&gt; words = new ArrayList&lt;String&gt; ();\n  while (line != null) {\n    String[] wordsLine = line.split(&quot; &quot;);\n    for (String word: wordsLine) {\n        words.add(word);\n    }\n    line = reader.readLine();\n\n  }\n\n  Random rand = new Random(System.currentTimeMillis());\n  //getting random word from txt file\n  String randomWord = words.get(rand.nextInt(words.size()));\n  System.out.println(&quot;random word is : &quot; + randomWord);\n  String check_word = randomWord.trim().toLowerCase().toString();\n\n  //getting user input from textfield\n\n  //tp count limited attempts\n  int count = 0;\n  while (count&lt;6) {\n    String take_word = type_word.getText().toLowerCase().toString();\n    System.out.println(&quot;user inpur is &quot; + take_word);\n    //dividing word into char and then each char to strings\n    //user input word \n    char first = take_word.charAt(0);\n    String first1 = String.valueOf(first);\n    char second = take_word.charAt(1);\n    String second1 = String.valueOf(second);\n    char third = take_word.charAt(2);\n    String third1 = String.valueOf(third);\n    char fourth = take_word.charAt(3);\n    String fourth1 = String.valueOf(fourth);\n    char fifth = take_word.charAt(4);\n    String fifth1 = String.valueOf(fifth);\n\n    //random word from file\n\n    char first2 = check_word.charAt(0);\n    String first22 = String.valueOf(first2);\n    char second2 = check_word.charAt(1);\n    String second22 = String.valueOf(second2);\n    char third2 = check_word.charAt(2);\n    String third22 = String.valueOf(third2);\n    char fourth2 = check_word.charAt(3);\n    String fourth22 = String.valueOf(fourth2);\n    char fifth2 = check_word.charAt(4);\n    String fifth22 = String.valueOf(fifth2);\n\n    if (take_word.length()&lt;7) {\n        if (first1.trim().equals(first22)) {\n            word_1.setText(first1);\n            word_1.setForeground(Color.red);\n\n        } else {\n            count++;\n            JOptionPane.showMessageDialog(this, &quot;Char 1 doesnt match&quot;);\n            continue;\n        }\n\n        if (second1.trim().equals(second22)) {\n\n            word_2.setText(second1);\n            word_2.setForeground(Color.red);\n\n        } else {\n            count++;\n            JOptionPane.showMessageDialog(this, &quot;Char 2 doesnt match&quot;);\n            continue;\n        }\n        if (third1.trim().equals(third22)) {\n\n            word_3.setText(third1);\n            word_3.setForeground(Color.red);\n\n        } else {\n            count++;\n            JOptionPane.showMessageDialog(this, &quot;Char 3 doesnt match&quot;);\n            continue;\n        }\n\n        if (fourth1.trim().equals(fourth22)) {\n\n            word_4.setText(fourth1);\n            word_4.setForeground(Color.red);\n\n        } else {\n\n            count++;\n            JOptionPane.showMessageDialog(this, &quot;Char 4 doesnt match&quot;);\n            continue;\n        }\n        if (fifth1.trim().equals(fifth22)) {\n\n            word_5.setText(fifth1);\n            word_5.setForeground(Color.red);\n            //displaying charchter on GUI\n            break;\n        } else {\n            JOptionPane.showMessageDialog(this, &quot;doesnt 5 match&quot;);\n            count++;\n            continue;\n        }\n\n    } else {\n        JOptionPane.showMessageDialog(this, &quot;only 5 char word are allowed Number&quot;);\n    }\n\n    if (check_word.trim().equals(take_word)) {\n        JOptionPane.showMessageDialog(this, &quot;YOU guessed the number in first attempt&quot;);\n        break;\n    } else {\n        count++;\n    }\n\n  }\n\n  System.out.println(count);\n} catch (Exception e) {\n  System.out.println(e);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1651479515,"post_id":72072916,"comment_id":127366205,"body_markdown":"Unrelated to the actual problem, but important nevertheless – is there a reason you are using separate `LocalDate`s and `LocalTime`s, and not just `LocalDateTime`?","body":"Unrelated to the actual problem, but important nevertheless – is there a reason you are using separate <code>LocalDate</code>s and <code>LocalTime</code>s, and not just <code>LocalDateTime</code>?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1651479634,"post_id":72072916,"comment_id":127366239,"body_markdown":"And I think it&#39;s not a good idea to store the participants in a `String`. You should instead use an array or `List`.","body":"And I think it&#39;s not a good idea to store the participants in a <code>String</code>. You should instead use an array or <code>List</code>."}],"answers":[{"tags":[],"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651363781,"creation_date":1651363781,"answer_id":72073094,"question_id":72072916,"body_markdown":"Strings are immutable, so the replaceAll methods returns a different object, it does not modify the source variable.\r\n\r\nYour removeRegistrant should assign to registrants the return vslue of replaceAll\r\n\r\nthis.registrants = this.registrants.replaceAll(user, &quot;&quot;)\r\n","title":"String attribute of entity is not being updated properly","body":"<p>Strings are immutable, so the replaceAll methods returns a different object, it does not modify the source variable.</p>\n<p>Your removeRegistrant should assign to registrants the return vslue of replaceAll</p>\n<p>this.registrants = this.registrants.replaceAll(user, &quot;&quot;)</p>\n"}],"owner":{"account_id":21479867,"reputation":77,"user_id":15827424,"display_name":"WeekendJedi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651476296,"creation_date":1651361148,"question_id":72072916,"body_markdown":"I have an entity in my Spring application called Events that has a String attribute called &quot;registrants&quot;. This is essentially a list of names of user signed up for the event. When a user is deactivated, I call the removeRegistrant method in the class to replace the name of the user removed with the empty String. However, when I call this method, nothing changes, and registrants remains the same. I can call addRegistrant just fine and registrants is updated appropriately, so I am not sure what the issue is here. Do I need a tag above registrants for things to be refreshed/updated properly here? See the Java class for events here: \r\n\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n\r\n    import javax.persistence.Embeddable;\r\n    import javax.persistence.Entity;\r\n\r\n    import ymca.tracker.application.data.AbstractEntity;\r\n\r\n    @Embeddable\r\n    @Entity\r\n    public class Events extends AbstractEntity {\r\n\r\n    private String name;\r\n    private java.time.LocalDate startDate;\r\n    private java.time.LocalDate endDate;\r\n    private java.time.LocalTime startTime;\r\n    private java.time.LocalTime endTime;\r\n    private int participants;\r\n    private int nonMemberPrice;\r\n    private int memberPrice;\r\n    private String location;\r\n    private String description;\r\n    private String registrants;\r\n    private boolean[] days;\r\n    private Status status;\r\n\r\n    public Events() {\r\n\r\n    }\r\n\r\n    public Events(String name, LocalDate startDate, LocalDate endDate, LocalTime startTime, LocalTime endTime, int participants, \r\n        int nonMemberPrice, int memberPrice, String location, String description, String registrants, boolean[] days) {\r\n            this.name = name;\r\n            this.startDate = startDate;\r\n            this.endDate = endDate;\r\n            this.startTime = startTime;\r\n            this.endTime = endTime;\r\n            this.participants = participants;\r\n            this.nonMemberPrice = nonMemberPrice;\r\n            this.memberPrice = memberPrice;\r\n            this.location = location;\r\n            this.description = description;\r\n            this.registrants = registrants;\r\n            this.days = days;\r\n            this.status = Status.ACTIVE;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public java.time.LocalDate getStartDate() {\r\n        return startDate;\r\n    }\r\n    public void setStartDate(java.time.LocalDate startDate) {\r\n        this.startDate = startDate;\r\n    }\r\n    public java.time.LocalDate getEndDate() {\r\n        return endDate;\r\n    }\r\n    public void setEndDate(java.time.LocalDate endDate) {\r\n        this.endDate = endDate;\r\n    }\r\n    public java.time.LocalTime getStartTime() {\r\n        return startTime;\r\n    }\r\n    public void setStartTime(java.time.LocalTime startTime) {\r\n        this.startTime = startTime;\r\n    }\r\n    public java.time.LocalTime getEndTime() {\r\n        return endTime;\r\n    }\r\n    public void setEndTime(java.time.LocalTime endTime) {\r\n        this.endTime = endTime;\r\n    }\r\n    public int getParticipants() {\r\n        return participants;\r\n    }\r\n    public void setParticipants(int participants) {\r\n        this.participants = participants;\r\n    }\r\n    public void decreaseCapacity(int numToDecreaseBy) {\r\n        this.participants = this.participants - numToDecreaseBy;\r\n    }\r\n    public void increaseCapacity(int numToIncreaseBy) {\r\n        this.participants = this.participants + numToIncreaseBy;\r\n    }\r\n    public int getMemberPrice() {\r\n        return memberPrice;\r\n    }\r\n    public void setMemberPrice(int memberPrice) {\r\n        this.memberPrice = memberPrice;\r\n    }\r\n    public int getNonMemberPrice() {\r\n        return nonMemberPrice;\r\n    }\r\n    public void setNonMemberPrice(int nonMemberPrice) {\r\n        this.nonMemberPrice = nonMemberPrice;\r\n    }\r\n    public String getLocation() {\r\n        return location;\r\n    }\r\n    public void setLocation(String location) {\r\n        this.location = location;\r\n    }\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n    public String getRegistrants() {\r\n        return registrants;\r\n    }\r\n    public void setRegistrants(String registrants) {\r\n        this.registrants = registrants;\r\n    }\r\n    public void addRegistrant(String user) {\r\n        this.registrants += user;\r\n    }\r\n    public void removeRegistrant(String user) {\r\n        String newRegistrants = this.registrants;\r\n        newRegistrants.replaceAll(user, &quot;&quot;);\r\n        this.registrants = newRegistrants;\r\n    }\r\n    public boolean checkRegistrant(String user) {\r\n        return this.registrants.contains(user);\r\n    }\r\n    public void setDays(boolean[] days) {\r\n        this.days = days;\r\n    }\r\n    public boolean[] getDays() {\r\n        return days;\r\n    }\r\n    public String retrieveDays() {\r\n        String toReturn = &quot;&quot;;\r\n        for(int i = 0; i &lt; days.length; i++) {\r\n            if(days[i] == true) {\r\n                if(i == 0) {toReturn += &quot;Sunday, &quot;;}\r\n                if(i == 1) {toReturn += &quot;Monday, &quot;;}\r\n                if(i == 2) {toReturn += &quot;Tuesday, &quot;;}\r\n                if(i == 3) {toReturn += &quot;Wednesday, &quot;;}\r\n                if(i == 4) {toReturn += &quot;Thursday, &quot;;}\r\n                if(i == 5) {toReturn += &quot;Friday, &quot;;}\r\n                if(i == 6) {toReturn += &quot;Saturday, &quot;;}\r\n            }\r\n        }\r\n        toReturn = toReturn.substring(0, toReturn.length() - 2);\r\n        return toReturn;\r\n    }\r\n    public Status getStatus() {\r\n        return status;\r\n    }\r\n    public void setStatus(Status status) {\r\n        this.status = status;\r\n    }\r\n    }\r\n\r\n","title":"String attribute of entity is not being updated properly","body":"<p>I have an entity in my Spring application called Events that has a String attribute called &quot;registrants&quot;. This is essentially a list of names of user signed up for the event. When a user is deactivated, I call the removeRegistrant method in the class to replace the name of the user removed with the empty String. However, when I call this method, nothing changes, and registrants remains the same. I can call addRegistrant just fine and registrants is updated appropriately, so I am not sure what the issue is here. Do I need a tag above registrants for things to be refreshed/updated properly here? See the Java class for events here:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\n\nimport javax.persistence.Embeddable;\nimport javax.persistence.Entity;\n\nimport ymca.tracker.application.data.AbstractEntity;\n\n@Embeddable\n@Entity\npublic class Events extends AbstractEntity {\n\nprivate String name;\nprivate java.time.LocalDate startDate;\nprivate java.time.LocalDate endDate;\nprivate java.time.LocalTime startTime;\nprivate java.time.LocalTime endTime;\nprivate int participants;\nprivate int nonMemberPrice;\nprivate int memberPrice;\nprivate String location;\nprivate String description;\nprivate String registrants;\nprivate boolean[] days;\nprivate Status status;\n\npublic Events() {\n\n}\n\npublic Events(String name, LocalDate startDate, LocalDate endDate, LocalTime startTime, LocalTime endTime, int participants, \n    int nonMemberPrice, int memberPrice, String location, String description, String registrants, boolean[] days) {\n        this.name = name;\n        this.startDate = startDate;\n        this.endDate = endDate;\n        this.startTime = startTime;\n        this.endTime = endTime;\n        this.participants = participants;\n        this.nonMemberPrice = nonMemberPrice;\n        this.memberPrice = memberPrice;\n        this.location = location;\n        this.description = description;\n        this.registrants = registrants;\n        this.days = days;\n        this.status = Status.ACTIVE;\n}\n\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic java.time.LocalDate getStartDate() {\n    return startDate;\n}\npublic void setStartDate(java.time.LocalDate startDate) {\n    this.startDate = startDate;\n}\npublic java.time.LocalDate getEndDate() {\n    return endDate;\n}\npublic void setEndDate(java.time.LocalDate endDate) {\n    this.endDate = endDate;\n}\npublic java.time.LocalTime getStartTime() {\n    return startTime;\n}\npublic void setStartTime(java.time.LocalTime startTime) {\n    this.startTime = startTime;\n}\npublic java.time.LocalTime getEndTime() {\n    return endTime;\n}\npublic void setEndTime(java.time.LocalTime endTime) {\n    this.endTime = endTime;\n}\npublic int getParticipants() {\n    return participants;\n}\npublic void setParticipants(int participants) {\n    this.participants = participants;\n}\npublic void decreaseCapacity(int numToDecreaseBy) {\n    this.participants = this.participants - numToDecreaseBy;\n}\npublic void increaseCapacity(int numToIncreaseBy) {\n    this.participants = this.participants + numToIncreaseBy;\n}\npublic int getMemberPrice() {\n    return memberPrice;\n}\npublic void setMemberPrice(int memberPrice) {\n    this.memberPrice = memberPrice;\n}\npublic int getNonMemberPrice() {\n    return nonMemberPrice;\n}\npublic void setNonMemberPrice(int nonMemberPrice) {\n    this.nonMemberPrice = nonMemberPrice;\n}\npublic String getLocation() {\n    return location;\n}\npublic void setLocation(String location) {\n    this.location = location;\n}\npublic String getDescription() {\n    return description;\n}\npublic void setDescription(String description) {\n    this.description = description;\n}\npublic String getRegistrants() {\n    return registrants;\n}\npublic void setRegistrants(String registrants) {\n    this.registrants = registrants;\n}\npublic void addRegistrant(String user) {\n    this.registrants += user;\n}\npublic void removeRegistrant(String user) {\n    String newRegistrants = this.registrants;\n    newRegistrants.replaceAll(user, &quot;&quot;);\n    this.registrants = newRegistrants;\n}\npublic boolean checkRegistrant(String user) {\n    return this.registrants.contains(user);\n}\npublic void setDays(boolean[] days) {\n    this.days = days;\n}\npublic boolean[] getDays() {\n    return days;\n}\npublic String retrieveDays() {\n    String toReturn = &quot;&quot;;\n    for(int i = 0; i &lt; days.length; i++) {\n        if(days[i] == true) {\n            if(i == 0) {toReturn += &quot;Sunday, &quot;;}\n            if(i == 1) {toReturn += &quot;Monday, &quot;;}\n            if(i == 2) {toReturn += &quot;Tuesday, &quot;;}\n            if(i == 3) {toReturn += &quot;Wednesday, &quot;;}\n            if(i == 4) {toReturn += &quot;Thursday, &quot;;}\n            if(i == 5) {toReturn += &quot;Friday, &quot;;}\n            if(i == 6) {toReturn += &quot;Saturday, &quot;;}\n        }\n    }\n    toReturn = toReturn.substring(0, toReturn.length() - 2);\n    return toReturn;\n}\npublic Status getStatus() {\n    return status;\n}\npublic void setStatus(Status status) {\n    this.status = status;\n}\n}\n</code></pre>\n"},{"tags":["java","android","junit","android-ndk"],"comments":[{"owner":{"account_id":1871804,"reputation":16143,"user_id":1693859,"display_name":"Sam R."},"score":0,"creation_date":1368528618,"post_id":16539684,"comment_id":23757427,"body_markdown":"Do you have your package name correct? How are you loading your library?","body":"Do you have your package name correct? How are you loading your library?"},{"owner":{"account_id":14969,"reputation":2190,"user_id":31168,"accept_rate":83,"display_name":"blork"},"score":0,"creation_date":1368528954,"post_id":16539684,"comment_id":23757600,"body_markdown":"I&#39;ve added to my question, see above.","body":"I&#39;ve added to my question, see above."},{"owner":{"account_id":1871804,"reputation":16143,"user_id":1693859,"display_name":"Sam R."},"score":0,"creation_date":1368529286,"post_id":16539684,"comment_id":23757785,"body_markdown":"Would you test with this: `-Djava.library.path=&quot;&lt;the directory of libprocess.so&gt;&quot;`?","body":"Would you test with this: <code>-Djava.library.path=&quot;&lt;the directory of libprocess.so&gt;&quot;</code>?"},{"owner":{"account_id":14969,"reputation":2190,"user_id":31168,"accept_rate":83,"display_name":"blork"},"score":0,"creation_date":1368532352,"post_id":16539684,"comment_id":23759417,"body_markdown":"Thakns for your help, but adding that to &quot;VM arguments&quot; under the Eclipse Run Configuration options leaves me with the same error.","body":"Thakns for your help, but adding that to &quot;VM arguments&quot; under the Eclipse Run Configuration options leaves me with the same error."},{"owner":{"account_id":1871804,"reputation":16143,"user_id":1693859,"display_name":"Sam R."},"score":0,"creation_date":1368532857,"post_id":16539684,"comment_id":23759711,"body_markdown":"Do you use any repository? Any possibility I can see your code?","body":"Do you use any repository? Any possibility I can see your code?"},{"owner":{"account_id":14969,"reputation":2190,"user_id":31168,"accept_rate":83,"display_name":"blork"},"score":0,"creation_date":1368534108,"post_id":16539684,"comment_id":23760436,"body_markdown":"Sorry, I can&#39;t make the source available.","body":"Sorry, I can&#39;t make the source available."},{"owner":{"account_id":1871804,"reputation":16143,"user_id":1693859,"display_name":"Sam R."},"score":0,"creation_date":1368534973,"post_id":16539684,"comment_id":23760954,"body_markdown":"Last suggestion, Add the path to `libprocess.so` to your `PATH` environment variable and test again.","body":"Last suggestion, Add the path to <code>libprocess.so</code> to your <code>PATH</code> environment variable and test again."},{"owner":{"account_id":14969,"reputation":2190,"user_id":31168,"accept_rate":83,"display_name":"blork"},"score":0,"creation_date":1368535940,"post_id":16539684,"comment_id":23761592,"body_markdown":"No luck there, either.","body":"No luck there, either."},{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1368540770,"post_id":16539684,"comment_id":23765152,"body_markdown":"What is your build/test environment? If it&#39;s not Linux, you have a problem. But even on Linux, you must build the native library with Linux host libraries, not Android libs.","body":"What is your build/test environment? If it&#39;s not Linux, you have a problem. But even on Linux, you must build the native library with Linux host libraries, not Android libs."},{"owner":{"account_id":14969,"reputation":2190,"user_id":31168,"accept_rate":83,"display_name":"blork"},"score":0,"creation_date":1368614344,"post_id":16539684,"comment_id":23795935,"body_markdown":"I&#39;m running Mac OS X, and I have x86 binaries. I think you might be right about the libraries being incompatible. I&#39;ve switched form RoboElectric to the default tests (ActivityUnitTestCase, running in the emulator) and it&#39;s now working for me.","body":"I&#39;m running Mac OS X, and I have x86 binaries. I think you might be right about the libraries being incompatible. I&#39;ve switched form RoboElectric to the default tests (ActivityUnitTestCase, running in the emulator) and it&#39;s now working for me."}],"answers":[{"tags":[],"owner":{"account_id":14969,"reputation":2190,"user_id":31168,"accept_rate":83,"display_name":"blork"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1368615071,"creation_date":1368615071,"answer_id":16563127,"question_id":16539684,"body_markdown":"I&#39;ve switched to the default testing style (using ActivityUnitTestCase instead of RoboElectric) and it&#39;s now running fine. It&#39;s a shame I have to sacrifice the speed of test running, but running the tests on the emulator actually works. You could also create a shadow class for the JNI class, as detailed here: \r\n\r\n[Robolectric tanks on Application objects that load JNI libraries. Can I get a workaround?][1]\r\n\r\nPerhaps compiling the library for my machine would have worked, but I couldn&#39;t spend any more time on it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10425591/robolectric-tanks-on-application-objects-that-load-jni-libraries-can-i-get-a-wo","title":"Loading a native library in an Android JUnit test","body":"<p>I've switched to the default testing style (using ActivityUnitTestCase instead of RoboElectric) and it's now running fine. It's a shame I have to sacrifice the speed of test running, but running the tests on the emulator actually works. You could also create a shadow class for the JNI class, as detailed here: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/10425591/robolectric-tanks-on-application-objects-that-load-jni-libraries-can-i-get-a-wo\">Robolectric tanks on Application objects that load JNI libraries. Can I get a workaround?</a></p>\n\n<p>Perhaps compiling the library for my machine would have worked, but I couldn't spend any more time on it.</p>\n"},{"tags":[],"owner":{"account_id":157752,"reputation":19944,"user_id":375929,"display_name":"Ivan Bartsov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506491849,"creation_date":1506491849,"answer_id":46440449,"question_id":16539684,"body_markdown":"Just in case, for anyone else looking for the solutions to this, there **is** a way to properly set the lib lookup path for JUnit tests (although I still haven&#39;t managed to successfully run the tests, different set of issues):\r\n\r\nYou **need to put the path in the `LD_LIBRARY_PATH`** (or `PATH` on Windows) environment variable. I had the exact same experience: I set the `java.library.path` first, but seemingly it doesn&#39;t affect the native loader&#39;s behavior in any way.\r\n\r\nYou&#39;re welcome to take a look at [my answer here][1] if you need details on how to do that with Gradle/Android Studio\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46439968/375929","title":"Loading a native library in an Android JUnit test","body":"<p>Just in case, for anyone else looking for the solutions to this, there <strong>is</strong> a way to properly set the lib lookup path for JUnit tests (although I still haven't managed to successfully run the tests, different set of issues):</p>\n\n<p>You <strong>need to put the path in the <code>LD_LIBRARY_PATH</code></strong> (or <code>PATH</code> on Windows) environment variable. I had the exact same experience: I set the <code>java.library.path</code> first, but seemingly it doesn't affect the native loader's behavior in any way.</p>\n\n<p>You're welcome to take a look at <a href=\"https://stackoverflow.com/a/46439968/375929\">my answer here</a> if you need details on how to do that with Gradle/Android Studio</p>\n"},{"tags":[],"owner":{"account_id":969753,"reputation":1886,"user_id":992509,"accept_rate":47,"display_name":"SJoshi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1511077072,"creation_date":1510822798,"answer_id":47325408,"question_id":16539684,"body_markdown":"For anyone still looking, blork had the right idea - you need to compile your native libraries for your &#39;native&#39; platform (Windows, Linux, Mac). The Android NDK builds libraries for the Android platform (.so files - might also work on Linux), and this is why there are no issues running in Activity Test Cases (because it loads up an Android instance).\r\n\r\nTo get the low-level, hella fast JUnit tests running, you need to support your JVM. On Windows, this might be building DLLs, on Apple, it&#39;s building dylibs (assuming shared libraries).\r\n\r\nI&#39;ve just completed a sample in my android-ndk-swig-example repo (https://github.com/sureshjoshi/android-ndk-swig-example/issues/9). \r\n\r\nBasically, in my CMakeLists, I added an Apple caveat:\r\n\r\n    # Need to create the .dylib and .jnilib files in order to run JUnit tests\r\n    if (APPLE)\r\n        # Ensure jni.h is found\r\n        find_package(JNI REQUIRED)\r\n        include_directories(${JAVA_INCLUDE_PATH})\r\n\r\nAnd then I make sure Gradle runs for unit tests, but using the Mac build system (not NDK).\r\n\r\n    def osxDir = projectDir.absolutePath + &#39;/.externalNativeBuild/cmake/debug/osx/&#39;\r\n    \r\n    task createBuildDir() {\r\n        def folder = new File(osxDir)\r\n        if (!folder.exists()) {\r\n            folder.mkdirs()\r\n        }\r\n    }\r\n    \r\n    task runCMake(type: Exec) {\r\n        dependsOn createBuildDir\r\n        workingDir osxDir // Jump to future build directory\r\n        commandLine &#39;/usr/local/bin/cmake&#39; // Path from HomeBrew installation\r\n        args &#39;../../../../&#39; // Relative path for out-of-source builds\r\n    }\r\n    \r\n    task runMake(type: Exec) {\r\n        dependsOn runCMake\r\n        workingDir osxDir\r\n        commandLine &#39;make&#39;\r\n    }\r\n    \r\n     project.afterEvaluate {\r\n        // Not sure how much of a hack this is - but it allows CMake/SWIG to run before Android Studio\r\n        // complains about missing generated files\r\n        // TODO: Probably need a release hook too?\r\n        javaPreCompileDebug.dependsOn externalNativeBuildDebug\r\n        if (org.gradle.internal.os.OperatingSystem.current().isMacOsX()) {\r\n            javaPreCompileDebugAndroidTest.dependsOn runMake\r\n        }\r\n     }\r\n\r\n\r\nCAVEAT TIME!!!\r\n\r\nWhen you use this method, you&#39;re technically not testing the NDK-generated libs. You&#39;re testing the same code, but compiled using a different compiler (msvc, xcode, gcc, clang, whatever you use on the host).\r\n\r\nWhat this means practically, is that most of the test results will be valid - except when you run into problems caused by each compiler&#39;s quirks, or STL implementations, etc... This isn&#39;t as bad as it was 10+ years ago, but you can&#39;t say with 100% certainty that the results of JUnit testing with host libs is identical to the Android libs. You can say that it&#39;s reasonably close, though. \r\n\r\nThen again, unless you&#39;re running your native unit tests using the Android NDK for each supported architecture, you also can&#39;t say anything about certainty either... So take what you will from it. \r\n\r\nAn overkill approach (but really cool if automated) would be to write your native unit tests however you do them (Google Test, Catch, etc), then compile and run your native libs and unit tests with the Android NDK per each architecture. This provides your C/C++ coverage across your potential target architectures. \r\n\r\nFrom here, you could use the aforementioned host libs with JUnit to rapidly unit test your JNI layer interacting with your native lib. In your CI system, you should still probably run these same unit tests - but as Android Instrumentation tests (or something else that runs an emulated Android environment). \r\n\r\nAs with everything, wherever you have an interface, you can create mocks - but at some point, you&#39;ll need system/functional/integration tests too.\r\n\r\nUpdate:\r\n\r\nMore comprehensive explanation of above in a blog article (http://www.sureshjoshi.com/mobile/android-junit-native-libraries/)","title":"Loading a native library in an Android JUnit test","body":"<p>For anyone still looking, blork had the right idea - you need to compile your native libraries for your 'native' platform (Windows, Linux, Mac). The Android NDK builds libraries for the Android platform (.so files - might also work on Linux), and this is why there are no issues running in Activity Test Cases (because it loads up an Android instance).</p>\n\n<p>To get the low-level, hella fast JUnit tests running, you need to support your JVM. On Windows, this might be building DLLs, on Apple, it's building dylibs (assuming shared libraries).</p>\n\n<p>I've just completed a sample in my android-ndk-swig-example repo (<a href=\"https://github.com/sureshjoshi/android-ndk-swig-example/issues/9\" rel=\"noreferrer\">https://github.com/sureshjoshi/android-ndk-swig-example/issues/9</a>). </p>\n\n<p>Basically, in my CMakeLists, I added an Apple caveat:</p>\n\n<pre><code># Need to create the .dylib and .jnilib files in order to run JUnit tests\nif (APPLE)\n    # Ensure jni.h is found\n    find_package(JNI REQUIRED)\n    include_directories(${JAVA_INCLUDE_PATH})\n</code></pre>\n\n<p>And then I make sure Gradle runs for unit tests, but using the Mac build system (not NDK).</p>\n\n<pre><code>def osxDir = projectDir.absolutePath + '/.externalNativeBuild/cmake/debug/osx/'\n\ntask createBuildDir() {\n    def folder = new File(osxDir)\n    if (!folder.exists()) {\n        folder.mkdirs()\n    }\n}\n\ntask runCMake(type: Exec) {\n    dependsOn createBuildDir\n    workingDir osxDir // Jump to future build directory\n    commandLine '/usr/local/bin/cmake' // Path from HomeBrew installation\n    args '../../../../' // Relative path for out-of-source builds\n}\n\ntask runMake(type: Exec) {\n    dependsOn runCMake\n    workingDir osxDir\n    commandLine 'make'\n}\n\n project.afterEvaluate {\n    // Not sure how much of a hack this is - but it allows CMake/SWIG to run before Android Studio\n    // complains about missing generated files\n    // TODO: Probably need a release hook too?\n    javaPreCompileDebug.dependsOn externalNativeBuildDebug\n    if (org.gradle.internal.os.OperatingSystem.current().isMacOsX()) {\n        javaPreCompileDebugAndroidTest.dependsOn runMake\n    }\n }\n</code></pre>\n\n<p>CAVEAT TIME!!!</p>\n\n<p>When you use this method, you're technically not testing the NDK-generated libs. You're testing the same code, but compiled using a different compiler (msvc, xcode, gcc, clang, whatever you use on the host).</p>\n\n<p>What this means practically, is that most of the test results will be valid - except when you run into problems caused by each compiler's quirks, or STL implementations, etc... This isn't as bad as it was 10+ years ago, but you can't say with 100% certainty that the results of JUnit testing with host libs is identical to the Android libs. You can say that it's reasonably close, though. </p>\n\n<p>Then again, unless you're running your native unit tests using the Android NDK for each supported architecture, you also can't say anything about certainty either... So take what you will from it. </p>\n\n<p>An overkill approach (but really cool if automated) would be to write your native unit tests however you do them (Google Test, Catch, etc), then compile and run your native libs and unit tests with the Android NDK per each architecture. This provides your C/C++ coverage across your potential target architectures. </p>\n\n<p>From here, you could use the aforementioned host libs with JUnit to rapidly unit test your JNI layer interacting with your native lib. In your CI system, you should still probably run these same unit tests - but as Android Instrumentation tests (or something else that runs an emulated Android environment). </p>\n\n<p>As with everything, wherever you have an interface, you can create mocks - but at some point, you'll need system/functional/integration tests too.</p>\n\n<p>Update:</p>\n\n<p>More comprehensive explanation of above in a blog article (<a href=\"http://www.sureshjoshi.com/mobile/android-junit-native-libraries/\" rel=\"noreferrer\">http://www.sureshjoshi.com/mobile/android-junit-native-libraries/</a>)</p>\n"},{"tags":[],"owner":{"account_id":7988281,"reputation":1,"user_id":6026953,"display_name":"Ziv Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651475977,"creation_date":1651475977,"answer_id":72083478,"question_id":16539684,"body_markdown":"Add the following lined to CMakeLists.txt works for me.\r\n```\r\nset(JAVA_AWT_LIBRARY NotNeeded)\r\nset(JAVA_JVM_LIBRARY NotNeeded)\r\nset(JAVA_INCLUDE_PATH2 NotNeeded)\r\nset(JAVA_AWT_INCLUDE_PATH NotNeeded)\r\nfind_package(JNI REQUIRED)\r\n```","title":"Loading a native library in an Android JUnit test","body":"<p>Add the following lined to CMakeLists.txt works for me.</p>\n<pre><code>set(JAVA_AWT_LIBRARY NotNeeded)\nset(JAVA_JVM_LIBRARY NotNeeded)\nset(JAVA_INCLUDE_PATH2 NotNeeded)\nset(JAVA_AWT_INCLUDE_PATH NotNeeded)\nfind_package(JNI REQUIRED)\n</code></pre>\n"}],"owner":{"account_id":14969,"reputation":2190,"user_id":31168,"accept_rate":83,"display_name":"blork"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13372,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":47325408,"answer_count":4,"score":26,"last_activity_date":1651475977,"creation_date":1368524034,"question_id":16539684,"body_markdown":"I&#39;ve generated a native library using `ndk-build` which I&#39;m able to load and use with in my Android application. However, I want to write some tests against this part of my app.\r\n\r\nWhen calling the native function in my tests, I recieve this exception message:\r\n\r\n    java.lang.UnsatisfiedLinkError: no process in java.library.path\r\n\r\n...where `process` is my native library to import, named `libprocess.so`.\r\n\r\nI&#39;m using Roboelectric for my tests, and running this particular one with the `RobolectricTestRunner`, if it makes a difference.\r\n\r\nHow can I get my test project to &#39;see&#39; the native library?\r\n\r\n-----\r\n\r\n**Edit:**\r\nI&#39;m loading the library in my app like so: \r\n\r\n    static {\r\n        System.loadLibrary(&quot;process&quot;);\r\n    }\r\n    public static native int[] process(double[][] data);\r\n\r\ncalling `Process.process(array)` works fine in the app (the library is loaded), but fails when run from the tests with the exception given above.\r\n\r\n----\r\n**Edit 2:**\r\nIf I set `-Djava.library.path=&quot;&lt;the directory of libprocess.so&gt;&quot;` as a VM argument, then:\r\n\r\n    System.out.println(System.getProperty(&quot;java.library.path&quot;));\r\ndoes show the path I set, but I still get the same exception. I&#39;m setting the directory as:\r\n\r\n    &lt;project-name&gt;/libs/x86\r\n\r\n...but as an absolute path.\r\n\r\n","title":"Loading a native library in an Android JUnit test","body":"<p>I've generated a native library using <code>ndk-build</code> which I'm able to load and use with in my Android application. However, I want to write some tests against this part of my app.</p>\n\n<p>When calling the native function in my tests, I recieve this exception message:</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: no process in java.library.path\n</code></pre>\n\n<p>...where <code>process</code> is my native library to import, named <code>libprocess.so</code>.</p>\n\n<p>I'm using Roboelectric for my tests, and running this particular one with the <code>RobolectricTestRunner</code>, if it makes a difference.</p>\n\n<p>How can I get my test project to 'see' the native library?</p>\n\n<hr>\n\n<p><strong>Edit:</strong>\nI'm loading the library in my app like so: </p>\n\n<pre><code>static {\n    System.loadLibrary(\"process\");\n}\npublic static native int[] process(double[][] data);\n</code></pre>\n\n<p>calling <code>Process.process(array)</code> works fine in the app (the library is loaded), but fails when run from the tests with the exception given above.</p>\n\n<hr>\n\n<p><strong>Edit 2:</strong>\nIf I set <code>-Djava.library.path=\"&lt;the directory of libprocess.so&gt;\"</code> as a VM argument, then:</p>\n\n<pre><code>System.out.println(System.getProperty(\"java.library.path\"));\n</code></pre>\n\n<p>does show the path I set, but I still get the same exception. I'm setting the directory as:</p>\n\n<pre><code>&lt;project-name&gt;/libs/x86\n</code></pre>\n\n<p>...but as an absolute path.</p>\n"},{"tags":["java","json","jsp","servlets"],"comments":[{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":1,"creation_date":1567777433,"post_id":57821550,"comment_id":102076560,"body_markdown":"What exactly is the point of copying resultset to json when you could just as easily use a simple Java class or a HashMap?","body":"What exactly is the point of copying resultset to json when you could just as easily use a simple Java class or a HashMap?"},{"owner":{"account_id":1731052,"reputation":1184,"user_id":1584653,"accept_rate":80,"display_name":"vjy"},"score":0,"creation_date":1568025745,"post_id":57821550,"comment_id":102131169,"body_markdown":"Have you imported them properly in JSP ?","body":"Have you imported them properly in JSP ?"},{"owner":{"account_id":16624685,"reputation":1,"user_id":12014100,"display_name":"KATHIRAVAN KARTHIKEYAN"},"score":0,"creation_date":1568027758,"post_id":57821550,"comment_id":102132060,"body_markdown":"i&#39;m done  by importing the &lt;%@page import=&quot;org.json.simple.*&quot;%&gt;","body":"i&#39;m done  by importing the &lt;%@page import=&quot;org.json.simple.*&quot;%&gt;"}],"answers":[{"tags":[],"owner":{"account_id":336270,"reputation":1,"user_id":8904954,"display_name":"Antony Keerthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651475393,"creation_date":1651038712,"answer_id":72023856,"question_id":57821550,"body_markdown":"Its typo error\r\n\r\nWrong:\r\n\r\n    JsonArray ja= (JsonArray)request.getAttribute(&quot;jarray&quot;);\r\n\r\nCorrect:\r\n\r\n    JSONArray ja= (JSONArray)request.getAttribute(&quot;jarray&quot;);\r\n\r\n","title":"how to read json array from servlet to jsp","body":"<p>Its typo error</p>\n<p>Wrong:</p>\n<pre><code>JsonArray ja= (JsonArray)request.getAttribute(&quot;jarray&quot;);\n</code></pre>\n<p>Correct:</p>\n<pre><code>JSONArray ja= (JSONArray)request.getAttribute(&quot;jarray&quot;);\n</code></pre>\n"}],"owner":{"account_id":16624685,"reputation":1,"user_id":12014100,"display_name":"KATHIRAVAN KARTHIKEYAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651475393,"creation_date":1567770896,"question_id":57821550,"body_markdown":"JSONObject,jsonarray cannot be resolved to a type\r\n\r\nservlet:\r\n\r\n\t\twhile(rs.next())\r\n\t\t{\r\n\t\tJsonObject jo=new JsonObject();\r\n\t\tjo.put(&quot;id&quot;,rs.getString(1));\r\n\t\tjo.put(&quot;sname&quot;,rs.getString(2));\r\n\t\tjo.put(&quot;gender&quot;,rs.getString(3));\r\n\t\tjo.put(&quot;address&quot;,rs.getString(4));\r\n\t\tjo.put(&quot;gmail&quot;,rs.getString(5));\r\n\t\tja.add(jo);\r\n\t\t}\r\n\t\trequest.setAttribute(&quot;jarray&quot;, ja);\r\n                request.getRequestDispatcher(&quot;staff.jsp&quot;).forward(request, \r\n                response);\r\n\t\t\r\n\r\n\r\njsp:\r\n\r\n       &lt;% JsonArray ja= (JsonArray)request.getAttribute(&quot;jarray&quot;);\r\n        for (int i=0;i&lt;ja.size();i++) \r\n\t{\r\n\tJsonObject rec = (JsonObject) ja.get(i);\r\n\tSystem.out.print(&quot;&lt;tr&gt;&lt;td&gt;&quot;+rec.getInteger(&quot;id&quot;)+&quot;&lt;/td&gt; \r\n        &lt;td&gt;&quot;+rec.getString(&quot;name&quot;)+&quot;&lt;/td&gt;&lt;td&gt;&quot;+rec.getString(&quot;gender&quot;)+&quot;&lt;/td&gt; \r\n        &lt;td&gt;&quot;+rec.getString(&quot;address&quot;)+&quot;&lt;/td&gt;&lt;td&gt;&quot;+rec.getString(&quot;gmail&quot;)+&quot; \r\n         &lt;/td&gt;&lt;/tr&gt;&quot;);}\r\n\t\r\n\r\n\r\n\r\nhow can i read the json array in jsp.","title":"how to read json array from servlet to jsp","body":"<p>JSONObject,jsonarray cannot be resolved to a type</p>\n\n<p>servlet:</p>\n\n<pre><code>    while(rs.next())\n    {\n    JsonObject jo=new JsonObject();\n    jo.put(\"id\",rs.getString(1));\n    jo.put(\"sname\",rs.getString(2));\n    jo.put(\"gender\",rs.getString(3));\n    jo.put(\"address\",rs.getString(4));\n    jo.put(\"gmail\",rs.getString(5));\n    ja.add(jo);\n    }\n    request.setAttribute(\"jarray\", ja);\n            request.getRequestDispatcher(\"staff.jsp\").forward(request, \n            response);\n</code></pre>\n\n<p>jsp:</p>\n\n<pre><code>   &lt;% JsonArray ja= (JsonArray)request.getAttribute(\"jarray\");\n    for (int i=0;i&lt;ja.size();i++) \n{\nJsonObject rec = (JsonObject) ja.get(i);\nSystem.out.print(\"&lt;tr&gt;&lt;td&gt;\"+rec.getInteger(\"id\")+\"&lt;/td&gt; \n    &lt;td&gt;\"+rec.getString(\"name\")+\"&lt;/td&gt;&lt;td&gt;\"+rec.getString(\"gender\")+\"&lt;/td&gt; \n    &lt;td&gt;\"+rec.getString(\"address\")+\"&lt;/td&gt;&lt;td&gt;\"+rec.getString(\"gmail\")+\" \n     &lt;/td&gt;&lt;/tr&gt;\");}\n</code></pre>\n\n<p>how can i read the json array in jsp.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1651445201,"post_id":72079872,"comment_id":127361162,"body_markdown":"Is ???? what is actually printed or have you anonymized your username?","body":"Is ???? what is actually printed or have you anonymized your username?"},{"owner":{"account_id":25166658,"reputation":13,"user_id":19010108,"display_name":"JavaRussia"},"score":0,"creation_date":1651447203,"post_id":72079872,"comment_id":127361418,"body_markdown":"@thorbj&#248;rn-ravn-andersen Hello! No, it&#39;s the exact output which I copied and pasted here from IntelliJ IDEA console. that&#39;s probably a decoding issue which doesn&#39;t allow to digest that correctly","body":"@thorbj&#248;rn-ravn-andersen Hello! No, it&#39;s the exact output which I copied and pasted here from IntelliJ IDEA console. that&#39;s probably a decoding issue which doesn&#39;t allow to digest that correctly"},{"owner":{"account_id":25166658,"reputation":13,"user_id":19010108,"display_name":"JavaRussia"},"score":0,"creation_date":1651447543,"post_id":72079872,"comment_id":127361450,"body_markdown":"@Thorbj&#248;rn Ravn Andersen Hello ! That&#39;s what is actually printed","body":"@Thorbj&#248;rn Ravn Andersen Hello ! That&#39;s what is actually printed"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1651447867,"post_id":72079872,"comment_id":127361482,"body_markdown":"Sounds very much like an encoding mismatch.   Based on personal experiences I would strongly suggest you reconsider having characters outside 7-bit ascii in your Windows username (and therefore home folder).  It is possible to rename your home folder if you have local administrator rights - I do not know if AD can do it.","body":"Sounds very much like an encoding mismatch.   Based on personal experiences I would strongly suggest you reconsider having characters outside 7-bit ascii in your Windows username (and therefore home folder).  It is possible to rename your home folder if you have local administrator rights - I do not know if AD can do it."},{"owner":{"account_id":25166658,"reputation":13,"user_id":19010108,"display_name":"JavaRussia"},"score":0,"creation_date":1651448866,"post_id":72079872,"comment_id":127361597,"body_markdown":"@Thorbj&#248;rnRavnAndersen how to rename the home folder ? I have admin rights! But I cannot see the option &quot;Rename&quot; when right mouse clicking the folder in Windows Explorer..","body":"@Thorbj&#248;rnRavnAndersen how to rename the home folder ? I have admin rights! But I cannot see the option &quot;Rename&quot; when right mouse clicking the folder in Windows Explorer.."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1651464211,"post_id":72079872,"comment_id":127363299,"body_markdown":"The presence of `org.jetbrains.jps.cmdline.LogSetup.initLoggers` in the stack trace leads me to suspect that the problem lies with how the program was invoked; specifically, it appears the log file location is not interpreted with the correct charset, which is why the Cyrillic characters are replaced with question marks.  Are you able to see the full command line used to execute the program?","body":"The presence of <code>org.jetbrains.jps.cmdline.LogSetup.initLoggers</code> in the stack trace leads me to suspect that the problem lies with how the program was invoked; specifically, it appears the log file location is not interpreted with the correct charset, which is why the Cyrillic characters are replaced with question marks.  Are you able to see the full command line used to execute the program?"},{"owner":{"account_id":25166658,"reputation":13,"user_id":19010108,"display_name":"JavaRussia"},"score":0,"creation_date":1651541493,"post_id":72079872,"comment_id":127383798,"body_markdown":"@VGR Yes! I’m able to see the full java command and flags used to execute the program","body":"@VGR Yes! I’m able to see the full java command and flags used to execute the program"}],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651475219,"creation_date":1651475219,"answer_id":72083365,"question_id":72079872,"body_markdown":"Here is the related bug in IntelliJ IDEA bug tracker: \r\n\r\n[Abnormal build process termination when OS user name contains non-Latin characters](https://youtrack.jetbrains.com/issue/IDEA-243583/abnormal-build-process-termination-when-OS-user-name-contains-no)\r\n\r\nFeel free to watch it in order to be notified once it has updates. See [this article](https://intellij-support.jetbrains.com/hc/articles/207241135) if you are not familiar with YouTrack.\r\n\r\nAs a workaround please consider installing IDE to a path with all the ascii characters or rename the OS user to have all the ascii letters. Sorry for the inconvenience.\r\n\r\n","title":"IntelliJ Idea IDE: Abnormal build process termination. How to fix that?","body":"<p>Here is the related bug in IntelliJ IDEA bug tracker:</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-243583/abnormal-build-process-termination-when-OS-user-name-contains-no\" rel=\"nofollow noreferrer\">Abnormal build process termination when OS user name contains non-Latin characters</a></p>\n<p>Feel free to watch it in order to be notified once it has updates. See <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241135\" rel=\"nofollow noreferrer\">this article</a> if you are not familiar with YouTrack.</p>\n<p>As a workaround please consider installing IDE to a path with all the ascii characters or rename the OS user to have all the ascii letters. Sorry for the inconvenience.</p>\n"}],"owner":{"account_id":25166658,"reputation":13,"user_id":19010108,"display_name":"JavaRussia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72083365,"answer_count":1,"score":1,"last_activity_date":1651475219,"creation_date":1651433883,"question_id":72079872,"body_markdown":"I guess that&#39;s because of Cyrillic symbols in paths which IDE cannot digest correctly during build process, but I cannot just rename this folder in Windows 10. \r\nTried to make a junction using MKLINK \\J, but it didn&#39;t help..\r\nI suppose the Cyrillic symbols in Windows username made the IDE throw \r\n\r\n    java.nio.file.InvalidPathException: Illegal char &lt;?&gt; at index 9: C:/Users/????/AppData/Local/JetBrains/IdeaIC2022.1/log/build-log\\build-log-jul.properties \r\n\r\nbut I couldn&#39;t fix it. Reinstalling IDE didn&#39;t bring any luck\r\n\r\n    Abnormal build process termination: \r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_171\\bin\\java.exe&quot; -Xmx700m -Djava.awt.headless=true -Djava.endorsed.dirs=\\&quot;\\&quot; -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Djdt.compiler.useSingleThread=true -Daether.connector.resumeDownloads=false -Dio.netty.initialSeedUniquifier=-4495793791689339547 -Dfile.encoding=windows-1252 -Duser.language=ru -Duser.country=RU -Didea.paths.selector=IdeaIC2022.1 &quot;-Didea.home.path=C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1&quot; -Didea.config.path=C:/Users/Егор/AppData/Roaming/JetBrains/IdeaIC2022.1 -Didea.plugins.path=C:/Users/Егор/AppData/Roaming/JetBrains/IdeaIC2022.1/plugins -Djps.log.dir=C:/Users/Егор/AppData/Local/JetBrains/IdeaIC2022.1/log/build-log &quot;-Djps.fallback.jdk.home=C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/jbr&quot; -Djps.fallback.jdk.version=11.0.14.1 -Dio.netty.noUnsafe=true -Djps.backward.ref.index.builder=true -Dkotlin.incremental.compilation=true -Dkotlin.incremental.compilation.js=true -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\&quot;C:\\Users\\A946~1\\AppData\\Local\\Temp\\kotlin-idea-11640337927034352620-is-running\\&quot; &quot;-Djps.kotlin.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.1\\plugins\\Kotlin\\kotlinc&quot; -Dtmh.instrument.annotations=true -Dtmh.generate.line.numbers=true -classpath &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/jps-launcher.jar;C:/Program Files/Java/jdk1.8.0_171/lib/tools.jar&quot; org.jetbrains.jps.cmdline.Launcher &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/jps-builders.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/jps-builders-6.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/jps-javac-extension.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/util.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/util_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/annotations.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/3rd-party-rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/jna.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/lz4-java.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/protobuf.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/jps-model.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/javac2.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/forms_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/aether-dependency-resolver.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/idea_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/javaFX/lib/javaFX-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/javaFX/lib/javaFX-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/eclipse/lib/eclipse-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/eclipse/lib/eclipse-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/space/lib/space-java-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/uiDesigner/lib/jps/java-guiForms-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/IntelliLang/lib/java-langInjection-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/Groovy/lib/groovy-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/Groovy/lib/groovy-constants-rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/ant/lib/ant-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/maven/lib/maven-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/gradle-java/lib/gradle-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/devkit/lib/devkit-jps.jar&quot; org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 64816 91edec9e-f56d-4682-b5b8-47178d281b2b C:/Users/Егор/AppData/Local/JetBrains/IdeaIC2022.1/compile-server\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.jetbrains.jps.cmdline.Launcher.main(Launcher.java:43)\r\n    Caused by: java.nio.file.InvalidPathException: Illegal char &lt;?&gt; at index 9: C:/Users/????/AppData/Local/JetBrains/IdeaIC2022.1/log/build-log\\build-log-jul.properties\r\n    \tat sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n    \tat sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n    \tat sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n    \tat sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)\r\n    \tat sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)\r\n    \tat java.nio.file.Paths.get(Paths.java:84)\r\n    \tat org.jetbrains.jps.cmdline.LogSetup.initLoggers(LogSetup.java:31)\r\n    \tat org.jetbrains.jps.cmdline.BuildMain.&lt;clinit&gt;(BuildMain.java:47)\r\n    \t... 5 more","title":"IntelliJ Idea IDE: Abnormal build process termination. How to fix that?","body":"<p>I guess that's because of Cyrillic symbols in paths which IDE cannot digest correctly during build process, but I cannot just rename this folder in Windows 10.\nTried to make a junction using MKLINK \\J, but it didn't help..\nI suppose the Cyrillic symbols in Windows username made the IDE throw</p>\n<pre><code>java.nio.file.InvalidPathException: Illegal char &lt;?&gt; at index 9: C:/Users/????/AppData/Local/JetBrains/IdeaIC2022.1/log/build-log\\build-log-jul.properties \n</code></pre>\n<p>but I couldn't fix it. Reinstalling IDE didn't bring any luck</p>\n<pre><code>Abnormal build process termination: \n&quot;C:\\Program Files\\Java\\jdk1.8.0_171\\bin\\java.exe&quot; -Xmx700m -Djava.awt.headless=true -Djava.endorsed.dirs=\\&quot;\\&quot; -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Djdt.compiler.useSingleThread=true -Daether.connector.resumeDownloads=false -Dio.netty.initialSeedUniquifier=-4495793791689339547 -Dfile.encoding=windows-1252 -Duser.language=ru -Duser.country=RU -Didea.paths.selector=IdeaIC2022.1 &quot;-Didea.home.path=C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1&quot; -Didea.config.path=C:/Users/Егор/AppData/Roaming/JetBrains/IdeaIC2022.1 -Didea.plugins.path=C:/Users/Егор/AppData/Roaming/JetBrains/IdeaIC2022.1/plugins -Djps.log.dir=C:/Users/Егор/AppData/Local/JetBrains/IdeaIC2022.1/log/build-log &quot;-Djps.fallback.jdk.home=C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/jbr&quot; -Djps.fallback.jdk.version=11.0.14.1 -Dio.netty.noUnsafe=true -Djps.backward.ref.index.builder=true -Dkotlin.incremental.compilation=true -Dkotlin.incremental.compilation.js=true -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\&quot;C:\\Users\\A946~1\\AppData\\Local\\Temp\\kotlin-idea-11640337927034352620-is-running\\&quot; &quot;-Djps.kotlin.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.1\\plugins\\Kotlin\\kotlinc&quot; -Dtmh.instrument.annotations=true -Dtmh.generate.line.numbers=true -classpath &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/jps-launcher.jar;C:/Program Files/Java/jdk1.8.0_171/lib/tools.jar&quot; org.jetbrains.jps.cmdline.Launcher &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/jps-builders.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/jps-builders-6.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/jps-javac-extension.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/util.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/util_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/annotations.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/3rd-party-rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/jna.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/lz4-java.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/protobuf.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/jps-model.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/javac2.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/forms_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/java/lib/aether-dependency-resolver.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/lib/idea_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/javaFX/lib/javaFX-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/javaFX/lib/javaFX-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/eclipse/lib/eclipse-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/eclipse/lib/eclipse-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/space/lib/space-java-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/uiDesigner/lib/jps/java-guiForms-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/IntelliLang/lib/java-langInjection-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/Groovy/lib/groovy-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/Groovy/lib/groovy-constants-rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/ant/lib/ant-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/maven/lib/maven-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/gradle-java/lib/gradle-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2022.1/plugins/devkit/lib/devkit-jps.jar&quot; org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 64816 91edec9e-f56d-4682-b5b8-47178d281b2b C:/Users/Егор/AppData/Local/JetBrains/IdeaIC2022.1/compile-server\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.jetbrains.jps.cmdline.Launcher.main(Launcher.java:43)\nCaused by: java.nio.file.InvalidPathException: Illegal char &lt;?&gt; at index 9: C:/Users/????/AppData/Local/JetBrains/IdeaIC2022.1/log/build-log\\build-log-jul.properties\n    at sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\n    at sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)\n    at sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)\n    at java.nio.file.Paths.get(Paths.java:84)\n    at org.jetbrains.jps.cmdline.LogSetup.initLoggers(LogSetup.java:31)\n    at org.jetbrains.jps.cmdline.BuildMain.&lt;clinit&gt;(BuildMain.java:47)\n    ... 5 more\n</code></pre>\n"},{"tags":["java","arrays","for-loop","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":18224008,"reputation":170,"user_id":13264176,"display_name":"iraaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651377032,"creation_date":1651375255,"answer_id":72073759,"question_id":72073747,"body_markdown":"```java\r\nwhile(true){\r\n    System.out.println(&quot;Who are you looking for ? &quot;);\r\n    String contact = scan.nextLine();\r\n    bool isFound = false;\r\n    for(int i = 0; i &lt; names.length; i++){\r\n        if(names[i].equals(contact)){\r\n            System.out.println(&quot;They are in aisle &quot; + i);\r\n            isFound = true;\r\n            break;\r\n        }\r\n    }\r\n    if(!isFound){\r\n        System.out.println(&quot;Not here&quot;);\r\n    }\r\n    break;\r\n}\r\n```","title":"Finding elements in array using for loop","body":"<pre class=\"lang-java prettyprint-override\"><code>while(true){\n    System.out.println(&quot;Who are you looking for ? &quot;);\n    String contact = scan.nextLine();\n    bool isFound = false;\n    for(int i = 0; i &lt; names.length; i++){\n        if(names[i].equals(contact)){\n            System.out.println(&quot;They are in aisle &quot; + i);\n            isFound = true;\n            break;\n        }\n    }\n    if(!isFound){\n        System.out.println(&quot;Not here&quot;);\n    }\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25152289,"reputation":11,"user_id":18997493,"display_name":"Jason Barbour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651375764,"creation_date":1651375764,"answer_id":72073785,"question_id":72073747,"body_markdown":"If you want it to print not here only when you have not found the element at all you should put it after the for loop. So you would loop through the whole array if you find the name say that you found it and then if you didn&#39;t u can print not here so something like that :\r\n\r\n    \r\n         while(true){\r\n            System.out.println(&quot;Who are you looking for ? &quot;);\r\n            String contact = scan.nextLine();\r\n           boolean isThere=false;\r\n            for(int i = 0; i &lt; names.length; i++){\r\n                 if(names[i].equals(contact)){\r\n                     System.out.println(&quot;They are in aisle &quot; + i);\r\n                     isThere = true;\r\n                     break;// break only if you want the first time the String appeared \r\n                 }\r\n             }\r\n             if(!isThere){\r\n              System.out.println(&quot;Not here&quot;);\r\n             }\r\n         break;\r\n        }\r\n\r\nNow that should work but here the while loop doesn&#39;t do anything. Consider removing it or doing something else with it since when you are doing the first loop you are breaking directly the first time so it&#39;s as if there were no loop at all.","title":"Finding elements in array using for loop","body":"<p>If you want it to print not here only when you have not found the element at all you should put it after the for loop. So you would loop through the whole array if you find the name say that you found it and then if you didn't u can print not here so something like that :</p>\n<pre><code>     while(true){\n        System.out.println(&quot;Who are you looking for ? &quot;);\n        String contact = scan.nextLine();\n       boolean isThere=false;\n        for(int i = 0; i &lt; names.length; i++){\n             if(names[i].equals(contact)){\n                 System.out.println(&quot;They are in aisle &quot; + i);\n                 isThere = true;\n                 break;// break only if you want the first time the String appeared \n             }\n         }\n         if(!isThere){\n          System.out.println(&quot;Not here&quot;);\n         }\n     break;\n    }\n</code></pre>\n<p>Now that should work but here the while loop doesn't do anything. Consider removing it or doing something else with it since when you are doing the first loop you are breaking directly the first time so it's as if there were no loop at all.</p>\n"},{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651376823,"creation_date":1651375901,"answer_id":72073789,"question_id":72073747,"body_markdown":"Your second while loop never loops. And you can use a do-while loop for the first loop. Here is a more compact version of the code:\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        String[] names = new String[5];\r\n        int count = 0;\r\n        do {\r\n            System.out.println(&quot;What is your name: &quot;);\r\n            // Add name into array\r\n            names[count] = scan.nextLine();\r\n            count++;\r\n        } while (count != 5);\r\n\r\n        System.out.println(Arrays.toString(names));\r\n\r\n        System.out.println(&quot;Who are you looking for ? &quot;);\r\n        String contact = scan.nextLine();\r\n\r\n        int aisle = -1;\r\n        for(int i = 0; i &lt; names.length; i++){\r\n            if(names[i].equals(contact)){aisle = i; break;}\r\n        }\r\n\r\n        if (aisle != -1) System.out.println(&quot;They are in aisle &quot; + aisle);\r\n        else System.out.println(&quot;Not here&quot;);\r\n        scan.close();\r\n\r\nEdit: Doing this is a lot easier with an `ArrayList` instead of dynamic arrays. Here is a version that uses `ArrayList`s:\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;(5);\r\n        for (int i = 0; i&lt;5; i++){\r\n            System.out.println(&quot;What is your name: &quot;);\r\n            names.add(scan.nextLine());\r\n        }\r\n        System.out.println(names);\r\n\r\n        System.out.println(&quot;Who are you looking for ? &quot;);\r\n        String contact = scan.nextLine();\r\n\r\n        if (names.contains(contact)) System.out.println(&quot;They are in aisle &quot; + names.indexOf(contact));\r\n        else System.out.println(&quot;Not here&quot;);\r\n        scan.close();","title":"Finding elements in array using for loop","body":"<p>Your second while loop never loops. And you can use a do-while loop for the first loop. Here is a more compact version of the code:</p>\n<pre><code>    Scanner scan = new Scanner(System.in);\n\n    String[] names = new String[5];\n    int count = 0;\n    do {\n        System.out.println(&quot;What is your name: &quot;);\n        // Add name into array\n        names[count] = scan.nextLine();\n        count++;\n    } while (count != 5);\n\n    System.out.println(Arrays.toString(names));\n\n    System.out.println(&quot;Who are you looking for ? &quot;);\n    String contact = scan.nextLine();\n\n    int aisle = -1;\n    for(int i = 0; i &lt; names.length; i++){\n        if(names[i].equals(contact)){aisle = i; break;}\n    }\n\n    if (aisle != -1) System.out.println(&quot;They are in aisle &quot; + aisle);\n    else System.out.println(&quot;Not here&quot;);\n    scan.close();\n</code></pre>\n<p>Edit: Doing this is a lot easier with an <code>ArrayList</code> instead of dynamic arrays. Here is a version that uses <code>ArrayList</code>s:</p>\n<pre><code>    Scanner scan = new Scanner(System.in);\n\n    ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;(5);\n    for (int i = 0; i&lt;5; i++){\n        System.out.println(&quot;What is your name: &quot;);\n        names.add(scan.nextLine());\n    }\n    System.out.println(names);\n\n    System.out.println(&quot;Who are you looking for ? &quot;);\n    String contact = scan.nextLine();\n\n    if (names.contains(contact)) System.out.println(&quot;They are in aisle &quot; + names.indexOf(contact));\n    else System.out.println(&quot;Not here&quot;);\n    scan.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21945709,"reputation":23,"user_id":16225591,"display_name":"ghost1034"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651376562,"creation_date":1651376562,"answer_id":72073823,"question_id":72073747,"body_markdown":"You can create a boolean called `contactFound` and set it to true when a matching name has been found. You may also want to break out of the loop when this happens. Outside of the for loop, print `&quot;Not here&quot;` if `contactFound` is false, as shown below.\r\n```\r\nboolean contactFound = false;\r\nfor (int i = 0; i &lt; names.length; i++) {\r\n\tif (names[i].equals(contact)) {\r\n\t\tSystem.out.println(&quot;They are in aisle &quot; + i);\r\n\t\tcontactFound = true;\r\n\t\tbreak; // If you want the loop to stop when a matching name has been found\r\n\t}\r\n}\r\nif (!contactFound) System.out.println(&quot;Not here&quot;);\r\n```","title":"Finding elements in array using for loop","body":"<p>You can create a boolean called <code>contactFound</code> and set it to true when a matching name has been found. You may also want to break out of the loop when this happens. Outside of the for loop, print <code>&quot;Not here&quot;</code> if <code>contactFound</code> is false, as shown below.</p>\n<pre><code>boolean contactFound = false;\nfor (int i = 0; i &lt; names.length; i++) {\n    if (names[i].equals(contact)) {\n        System.out.println(&quot;They are in aisle &quot; + i);\n        contactFound = true;\n        break; // If you want the loop to stop when a matching name has been found\n    }\n}\nif (!contactFound) System.out.println(&quot;Not here&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25159778,"reputation":1,"user_id":19004137,"display_name":"Ilkin Rustemov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651475214,"creation_date":1651390467,"answer_id":72074831,"question_id":72073747,"body_markdown":"```java\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class Grocer2 {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint count = 0;\r\n\t\tint size = 5;\r\n\r\n\t\t//you should check here\r\n\t\tboolean check = false;\r\n\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tString[] names = new String[size];\r\n\r\n\t\tfor (int i = 0; i&lt;size; i++) {\r\n\r\n\t\t\tSystem.out.println(&quot;What is your name: &quot;);\r\n\t\t\t// Store scanner input in name\r\n\r\n\t\t\tString name = scan.nextLine();\r\n\t\t\t// Add name into array\r\n\r\n\t\t\tnames[count] = name;\r\n\t\t\tcount++;\r\n\r\n\t\t\tif (count == size) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tSystem.out.println(Arrays.toString(names));\r\n\t\tSystem.out.println(&quot;Who are you looking for ? &quot;);\r\n\t\tString contact = scan.nextLine();\r\n\r\n\t\tfor (int i = 0; i&lt;names.length; i++) {\r\n\t\t\tif (names[i].equals(contact)) {\r\n\t\t\t\tSystem.out.println(&quot;They are in aisle &quot; + i);\r\n\t\t\t\tcheck = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!check) {\r\n\t\t\tSystem.out.println(&quot;Not here&quot;);\r\n\t\t}\r\n\t\tscan.close();\r\n\t}\r\n}\r\n```","title":"Finding elements in array using for loop","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Grocer2 {\n    public static void main(String[] args) {\n\n        int count = 0;\n        int size = 5;\n\n        //you should check here\n        boolean check = false;\n\n        Scanner scan = new Scanner(System.in);\n        String[] names = new String[size];\n\n        for (int i = 0; i&lt;size; i++) {\n\n            System.out.println(&quot;What is your name: &quot;);\n            // Store scanner input in name\n\n            String name = scan.nextLine();\n            // Add name into array\n\n            names[count] = name;\n            count++;\n\n            if (count == size) {\n                break;\n            }\n        }\n\n        System.out.println(Arrays.toString(names));\n        System.out.println(&quot;Who are you looking for ? &quot;);\n        String contact = scan.nextLine();\n\n        for (int i = 0; i&lt;names.length; i++) {\n            if (names[i].equals(contact)) {\n                System.out.println(&quot;They are in aisle &quot; + i);\n                check = true;\n                break;\n            }\n        }\n        if (!check) {\n            System.out.println(&quot;Not here&quot;);\n        }\n        scan.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24828987,"reputation":19,"user_id":18708364,"display_name":"Sean Lim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1131,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72073759,"answer_count":5,"score":0,"last_activity_date":1651475214,"creation_date":1651374914,"question_id":72073747,"body_markdown":"```java\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class Grocer2 {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        String[] names = new String[5];\r\n        int count = 0;\r\n        while(true){\r\n            System.out.println(&quot;What is your name: &quot;);\r\n            // Store scanner input in name\r\n            String name = scan.nextLine();\r\n            // Add name into array\r\n            names[count] = name;\r\n            count++;\r\n            if(count == 5){\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(Arrays.toString(names));\r\n        while(true){\r\n            System.out.println(&quot;Who are you looking for ? &quot;);\r\n            String contact = scan.nextLine();\r\n            for(int i = 0; i &lt; names.length; i++){\r\n                if(names[i].equals(contact)){\r\n                    System.out.println(&quot;They are in aisle &quot; + i);\r\n                }else{\r\n                    System.out.println(&quot;Not here&quot;);\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        scan.close();\r\n    }\r\n}\r\n```\r\nI am trying to add `Scanner` inputs into an array and I am trying to search for the element in an array using a `for` loop. The `for` loop looped through all the elements and print out &quot;Not here&quot; when `names[i]` is not equal to the `Scanner` input. How do I fix this issue ?\r\n","title":"Finding elements in array using for loop","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Grocer2 {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        String[] names = new String[5];\n        int count = 0;\n        while(true){\n            System.out.println(&quot;What is your name: &quot;);\n            // Store scanner input in name\n            String name = scan.nextLine();\n            // Add name into array\n            names[count] = name;\n            count++;\n            if(count == 5){\n                break;\n            }\n        }\n        System.out.println(Arrays.toString(names));\n        while(true){\n            System.out.println(&quot;Who are you looking for ? &quot;);\n            String contact = scan.nextLine();\n            for(int i = 0; i &lt; names.length; i++){\n                if(names[i].equals(contact)){\n                    System.out.println(&quot;They are in aisle &quot; + i);\n                }else{\n                    System.out.println(&quot;Not here&quot;);\n                }\n            }\n            break;\n        }\n        scan.close();\n    }\n}\n</code></pre>\n<p>I am trying to add <code>Scanner</code> inputs into an array and I am trying to search for the element in an array using a <code>for</code> loop. The <code>for</code> loop looped through all the elements and print out &quot;Not here&quot; when <code>names[i]</code> is not equal to the <code>Scanner</code> input. How do I fix this issue ?</p>\n"},{"tags":["java","spring-boot","debugging"],"comments":[{"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"score":0,"creation_date":1651489019,"post_id":71016438,"comment_id":127368855,"body_markdown":"Please be a bit more specific when asking a question: *What have you tried so far with a code example? ([I downvoted because there is no code](http://idownvotedbecau.se/nocode/))* / *What do you expect?* / *What error do you get?* **For Help take a look at &quot;[How to ask](https://$SITEURL$/help/how-to-ask)&quot;**","body":"Please be a bit more specific when asking a question: <i>What have you tried so far with a code example? (<a href=\"http://idownvotedbecau.se/nocode/\" rel=\"nofollow noreferrer\">I downvoted because there is no code</a>)</i> / <i>What do you expect?</i> / <i>What error do you get?</i> <b>For Help take a look at &quot;<a href=\"https://%24SITEURL%24/help/how-to-ask\" rel=\"nofollow noreferrer\">How to ask</a>&quot;</b>"}],"answers":[{"tags":[],"owner":{"account_id":25157185,"reputation":91,"user_id":19001869,"display_name":"Liffy"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1651475083,"creation_date":1651334436,"answer_id":72070024,"question_id":71016438,"body_markdown":"It&#39;s because you have an exception breakpoint configured. You&#39;ve to click on the little storm on the sidebar to remove it and it&#39;ll work.","title":"IllegalArgumentException(&quot;Null KeyStore name&quot;) while trying to debug SpringBoot App","body":"<p>It's because you have an exception breakpoint configured. You've to click on the little storm on the sidebar to remove it and it'll work.</p>\n"}],"owner":{"account_id":17372927,"reputation":21,"user_id":12586625,"display_name":"Aliaksei Hardzeyeu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3943,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1663269917,"answer_count":1,"score":2,"last_activity_date":1651475083,"creation_date":1644227191,"question_id":71016438,"body_markdown":"I`ve got IllegalArgumentException(&quot;Null KeyStore name&quot;) in PolicyUtil.java while trying to debug SpringBoot App. Debugging in every other project, including SpringBoot projects, works fine. I tried to change Java version - tried 11, 17 but it was useless. \r\n\r\n[KeyStore details empty][1]\r\nAppreciate any help.\r\n\r\n  [1]: https://i.stack.imgur.com/k08aD.png","title":"IllegalArgumentException(&quot;Null KeyStore name&quot;) while trying to debug SpringBoot App","body":"<p>I`ve got IllegalArgumentException(&quot;Null KeyStore name&quot;) in PolicyUtil.java while trying to debug SpringBoot App. Debugging in every other project, including SpringBoot projects, works fine. I tried to change Java version - tried 11, 17 but it was useless.</p>\n<p><a href=\"https://i.stack.imgur.com/k08aD.png\" rel=\"nofollow noreferrer\">KeyStore details empty</a>\nAppreciate any help.</p>\n"},{"tags":["java","junit5","extentreports"],"answers":[{"tags":[],"owner":{"account_id":14399098,"reputation":952,"user_id":10401397,"display_name":"O_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651474477,"creation_date":1651474477,"answer_id":72083262,"question_id":65139350,"body_markdown":"You can write a separate class which will read the contents of both reports and create a new HTML report with contents of both files.","title":"How to combine ExtentReports for multiple JUnit5 test classes into one HTML file?","body":"<p>You can write a separate class which will read the contents of both reports and create a new HTML report with contents of both files.</p>\n"}],"owner":{"account_id":1648353,"reputation":630,"user_id":1519417,"accept_rate":62,"display_name":"Vladimir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":824,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1651474477,"creation_date":1607066021,"question_id":65139350,"body_markdown":"I&#39;m using ExtentReports (version 5.0.5) with JUnit 5. Here is my BaseTest class snippet.\r\n\r\n    public class BaseTest\r\n    {\r\n    \tprotected static ExtentReports extent;\r\n    \tprotected ExtentTest test;\r\n    \tprotected ExtentTest node;\r\n    \r\n    \t@BeforeAll\r\n    \tstatic void oneTimeSetup()\r\n    \t{\r\n    \t\textent = new ExtentReports();\r\n    \t\tExtentSparkReporter spark = new ExtentSparkReporter(\r\n    \t\t\t\t&quot;target/results&quot; + TimestampGenerator.currentTimestamp() + &quot;.html&quot;);\r\n    \t\textent.attachReporter(spark);\r\n    \t}\r\n    \r\n    \t@AfterAll\r\n    \tstatic void oneTimeTearDown() throws Exception\r\n    \t{\r\n    \t\textent.flush();\r\n    \t}\r\n    }\r\n\r\nI have 2 test classes in the suite. If I do not use the timestamp in the report name, the program creates one report for the last test class. That&#39;s why I added the timestamp. \r\nNow when I run the suite in Eclipse, it creates 2 HTML reports for each test class in the suite.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I have only one file that contains info for both test classes?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bUXqR.png","title":"How to combine ExtentReports for multiple JUnit5 test classes into one HTML file?","body":"<p>I'm using ExtentReports (version 5.0.5) with JUnit 5. Here is my BaseTest class snippet.</p>\n<pre><code>public class BaseTest\n{\n    protected static ExtentReports extent;\n    protected ExtentTest test;\n    protected ExtentTest node;\n\n    @BeforeAll\n    static void oneTimeSetup()\n    {\n        extent = new ExtentReports();\n        ExtentSparkReporter spark = new ExtentSparkReporter(\n                &quot;target/results&quot; + TimestampGenerator.currentTimestamp() + &quot;.html&quot;);\n        extent.attachReporter(spark);\n    }\n\n    @AfterAll\n    static void oneTimeTearDown() throws Exception\n    {\n        extent.flush();\n    }\n}\n</code></pre>\n<p>I have 2 test classes in the suite. If I do not use the timestamp in the report name, the program creates one report for the last test class. That's why I added the timestamp.\nNow when I run the suite in Eclipse, it creates 2 HTML reports for each test class in the suite.</p>\n<p><a href=\"https://i.stack.imgur.com/bUXqR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bUXqR.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I have only one file that contains info for both test classes?</p>\n"},{"tags":["java","string","substring"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651474383,"creation_date":1651474383,"answer_id":72083251,"question_id":72083164,"body_markdown":"You could use a regex find all approach on your CSV string:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;ACTNEW_38_0001,ACTO_57999&quot;;\r\n    List&lt;String&gt; nums = Pattern.compile(&quot;\\\\d+(?:_\\\\d+)*&quot;)\r\n        .matcher(input)\r\n        .results()\r\n        .map(MatchResult::group)\r\n        .collect(Collectors.toList());\r\n    System.out.println(nums);  // [38_0001, 57999]","title":"How to obtain the info inside a String without length and indexOF. (JAVA)","body":"<p>You could use a regex find all approach on your CSV string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;ACTNEW_38_0001,ACTO_57999&quot;;\nList&lt;String&gt; nums = Pattern.compile(&quot;\\\\d+(?:_\\\\d+)*&quot;)\n    .matcher(input)\n    .results()\n    .map(MatchResult::group)\n    .collect(Collectors.toList());\nSystem.out.println(nums);  // [38_0001, 57999]\n</code></pre>\n"}],"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72083251,"answer_count":1,"score":2,"last_activity_date":1651474383,"creation_date":1651473727,"question_id":72083164,"body_markdown":"I have an api which returns a String in the following format:\r\n\r\n`ACTNEW_38_0001,ACTO_57999`\r\n\r\nI need to extract the numerical values (57999, or 38_0001) but:\r\n\r\n1: They can arrive in different order.\r\n\r\n2: It can arrive only one of them.\r\n\r\n3: It has to be lightweight. \r\n\r\n\r\nI roughly know how to do it. My actual code looks more or less like this: \r\n\r\n```\r\nprivate final String tipoActivity = &quot;ACTO_&quot;;\r\n    private String obtenerSplitOldElem(String toSplit) {\r\n        if(toSplit.contains(&quot;,&quot;)) {\r\n            String[] split = toSplit.split(&quot;,&quot;);\r\n            int element = ArrayUtils.indexOf(toSplit, &quot;ACTO_&quot;);\r\n            String split2[] = split[element-1];\r\n            return split2[1];\r\n            \r\n        } else {\r\n            String[] split = split.split(&quot;ACTO_&quot;);   \r\n            return split[1];\r\n          }\r\n        return &quot;&quot;;\r\n    }\r\n```\r\n\r\nThe thing is that:\r\n\r\n1: I think there should be a better way to achieve this.\r\n\r\n2: I haven&#180;t tried yet the `arrayUtils.indexOf`. If it doesn&#180;t work I would have to do a contains, probably inside a for loop, but I think it&#180;s a bad idea for something so simple.\r\n\r\n\r\nAny help would be appreciated. Thanks","title":"How to obtain the info inside a String without length and indexOF. (JAVA)","body":"<p>I have an api which returns a String in the following format:</p>\n<p><code>ACTNEW_38_0001,ACTO_57999</code></p>\n<p>I need to extract the numerical values (57999, or 38_0001) but:</p>\n<p>1: They can arrive in different order.</p>\n<p>2: It can arrive only one of them.</p>\n<p>3: It has to be lightweight.</p>\n<p>I roughly know how to do it. My actual code looks more or less like this:</p>\n<pre><code>private final String tipoActivity = &quot;ACTO_&quot;;\n    private String obtenerSplitOldElem(String toSplit) {\n        if(toSplit.contains(&quot;,&quot;)) {\n            String[] split = toSplit.split(&quot;,&quot;);\n            int element = ArrayUtils.indexOf(toSplit, &quot;ACTO_&quot;);\n            String split2[] = split[element-1];\n            return split2[1];\n            \n        } else {\n            String[] split = split.split(&quot;ACTO_&quot;);   \n            return split[1];\n          }\n        return &quot;&quot;;\n    }\n</code></pre>\n<p>The thing is that:</p>\n<p>1: I think there should be a better way to achieve this.</p>\n<p>2: I haven´t tried yet the <code>arrayUtils.indexOf</code>. If it doesn´t work I would have to do a contains, probably inside a for loop, but I think it´s a bad idea for something so simple.</p>\n<p>Any help would be appreciated. Thanks</p>\n"},{"tags":["java","spring-boot","csv","bufferedreader"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1651475784,"post_id":72083250,"comment_id":127365264,"body_markdown":"You should debug your code and look at the input line which caused the exception. Or print it in the exception handler. Maybe this line contains less columns or column values without quotes. You should use a sophisticated CSV library. Your naive approach doesn&#39;t handle edge cases like separator characters or quotes in field values or multiline values.","body":"You should debug your code and look at the input line which caused the exception. Or print it in the exception handler. Maybe this line contains less columns or column values without quotes. You should use a sophisticated CSV library. Your naive approach doesn&#39;t handle edge cases like separator characters or quotes in field values or multiline values."},{"owner":{"account_id":22588722,"reputation":91,"user_id":16772190,"display_name":"Rakhi"},"score":0,"creation_date":1651476706,"post_id":72083250,"comment_id":127365510,"body_markdown":"I debugged my code and it prints \nUser data : company_name\tmsisdn\temail\tstatus\temail_verify\tmsisdn_verify\nCompany name || company_name\tmsisdn\temail\tstatus\temail_verify\tmsisdn_verify and then comes in catch block and throws that exception.","body":"I debugged my code and it prints  User data : company_name\tmsisdn\temail\tstatus\temail_verify\tmsisdn_verify Company name || company_name\tmsisdn\temail\tstatus\temail_verify\tmsisdn_verify and then comes in catch block and throws that exception."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1651477112,"post_id":72083250,"comment_id":127365620,"body_markdown":"skip the first line, it&#39;s just a header","body":"skip the first line, it&#39;s just a header"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1651477557,"post_id":72083250,"comment_id":127365730,"body_markdown":"Ah, this is the header line. And what is your conclusion? Do you want to process the header line as it where data? Is your approach to split a line into columns appropriate? You should learn to reason about your code. If you use the debugger to step through your code you see exactly the problem that your split doesn&#39;t work for that line.","body":"Ah, this is the header line. And what is your conclusion? Do you want to process the header line as it where data? Is your approach to split a line into columns appropriate? You should learn to reason about your code. If you use the debugger to step through your code you see exactly the problem that your split doesn&#39;t work for that line."}],"owner":{"account_id":22588722,"reputation":91,"user_id":16772190,"display_name":"Rakhi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651474382,"creation_date":1651474382,"question_id":72083250,"body_markdown":"I am trying to read data from CSV in my application. I have exported table data as CSV from MySql database. So that generated csv file, trying to read. MySql has generated CSV file in different form. I don&#39;t know why. So whenever I am trying to read, always giving me an exception of ArrayIndexOutOfBound. \r\n    \r\nBelow is my REST controller for importing data from CSV:\r\n    \r\n    @RequestMapping(value = AkApiUrl.uploadcsv, method = { RequestMethod.POST, RequestMethod.GET }, produces = { MediaType.APPLICATION_JSON_VALUE })\r\n    \tpublic ResponseEntity&lt;?&gt; uploadcsv(HttpServletRequest request, HttpSession session, @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    \t\tCustomResponse = ResponseFactory.getResponse(request);\r\n    \t\ttry {\r\n    \t\t\tUser userdata = null;\r\n    \t\t\tUser usersession = (User) session.getAttribute(&quot;user&quot;);\r\n    \t\t\tString line = &quot;&quot;;\r\n    \t\t\tif (null != file) {\r\n    \t\t\t\t\r\n    \t\t\t\tif(extension.equalsIgnoreCase(&quot;.csv&quot;) || extension.equalsIgnoreCase(&quot;.xlsx&quot;) || extension.equalsIgnoreCase(&quot;.xls&quot;)) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tBufferedReader reader = new BufferedReader(new FileReader(&quot;customer.csv&quot;));\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\twhile((line = reader.readLine())!= null) {\r\n    \t\t\t\t\t\t\t\tString usercsvdata[] = line.split(&quot;([\\&quot;])\\\\s+&quot;);\r\n    \t\t\t\t\t\t\t\tString company_name = usercsvdata[0];\r\n    \t\t\t\t\t\t\t\tString msisdn = usercsvdata[1];\r\n    \t\t\t\t\t\t\t\tString email = usercsvdata[2];\r\n    \t\t\t\t\t\t\t\tString status = usercsvdata[3];\r\n    \t\t\t\t\t\t\t\tString email_verify\t= usercsvdata[4];\r\n    \t\t\t\t\t\t\t\tString msisdn_verify = usercsvdata[5];\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t} catch (FileNotFoundException e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tCustomResponse.setResponse(null);\r\n    \t\t\tCustomResponse.setStatus(CustomStatus.Error);\r\n    \t\t\tCustomResponse.setStatusCode(CustomStatus.Error_CODE);\r\n    \t\t}\r\n    \t\treturn new ResponseEntity&lt;ResponseDao&gt;(CustomResponse, HttpStatus.OK);\r\n    \t}\r\nI got table exported in CSV like this:\r\n\r\n    company_name\tmsisdn\temail\tstatus\temail_verify\tmsisdn_verify\r\n    &quot;Company Name1&quot;\t&quot;123456789&quot;\t&quot;NA&quot;\t&quot;1&quot;\t&quot;0&quot;\t&quot;0&quot;\t\r\n    &quot;Company Name2&quot;\t&quot;123456789&quot;\t&quot;NA&quot;\t&quot;1&quot;\t&quot;0&quot;\t&quot;1&quot;\t\r\n    &quot;Company Name3&quot;\t&quot;123456789&quot;\t&quot;NA&quot;\t&quot;1&quot;\t&quot;0&quot;\t&quot;0&quot;\t\r\n    &quot;Company Name4&quot;\t&quot;123456789&quot;\t&quot;NA&quot;\t&quot;1&quot;\t&quot;0&quot;\t&quot;0&quot;\t\r\n    &quot;Company Name5&quot;\t&quot;123456789&quot;\t&quot;NA&quot;\t&quot;1&quot;\t&quot;0&quot;\t&quot;0&quot;\t\r\n    &quot;Company Name6&quot;\t&quot;123456789&quot;\t&quot;NA&quot;\t&quot;1&quot;\t&quot;0&quot;\t&quot;1&quot;\t\r\n    &quot;Company Name7&quot;\t&quot;123456789&quot;\t&quot;NA&quot;\t&quot;1&quot;\t&quot;0&quot;\t&quot;0&quot;\t\r\n    &quot;Company Name8&quot;\t&quot;123456789&quot;\t&quot;NA&quot;\t&quot;1&quot;\t&quot;0&quot;\t&quot;1&quot;\t\r\n\r\nAnd getting error below:\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: 1\r\n    \tat wing.ak.ors.handler.AkApiController.uploadcsv(AkApiController.java:4309)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat wing.ak.ors.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:48)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n**How to split or read data from CSV that has been generated by sql table?**\r\n","title":"How to read data from CSV file in Spring Boot or Java?","body":"<p>I am trying to read data from CSV in my application. I have exported table data as CSV from MySql database. So that generated csv file, trying to read. MySql has generated CSV file in different form. I don't know why. So whenever I am trying to read, always giving me an exception of ArrayIndexOutOfBound.</p>\n<p>Below is my REST controller for importing data from CSV:</p>\n<pre><code>@RequestMapping(value = AkApiUrl.uploadcsv, method = { RequestMethod.POST, RequestMethod.GET }, produces = { MediaType.APPLICATION_JSON_VALUE })\n    public ResponseEntity&lt;?&gt; uploadcsv(HttpServletRequest request, HttpSession session, @RequestParam(&quot;file&quot;) MultipartFile file) {\n        CustomResponse = ResponseFactory.getResponse(request);\n        try {\n            User userdata = null;\n            User usersession = (User) session.getAttribute(&quot;user&quot;);\n            String line = &quot;&quot;;\n            if (null != file) {\n                \n                if(extension.equalsIgnoreCase(&quot;.csv&quot;) || extension.equalsIgnoreCase(&quot;.xlsx&quot;) || extension.equalsIgnoreCase(&quot;.xls&quot;)) {\n                    try {\n                        try {\n                            \n                            BufferedReader reader = new BufferedReader(new FileReader(&quot;customer.csv&quot;));\n                            \n                            while((line = reader.readLine())!= null) {\n                                String usercsvdata[] = line.split(&quot;([\\&quot;])\\\\s+&quot;);\n                                String company_name = usercsvdata[0];\n                                String msisdn = usercsvdata[1];\n                                String email = usercsvdata[2];\n                                String status = usercsvdata[3];\n                                String email_verify = usercsvdata[4];\n                                String msisdn_verify = usercsvdata[5];\n                            }\n                        } catch (FileNotFoundException e) {\n                            e.printStackTrace();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            CustomResponse.setResponse(null);\n            CustomResponse.setStatus(CustomStatus.Error);\n            CustomResponse.setStatusCode(CustomStatus.Error_CODE);\n        }\n        return new ResponseEntity&lt;ResponseDao&gt;(CustomResponse, HttpStatus.OK);\n    }\n</code></pre>\n<p>I got table exported in CSV like this:</p>\n<pre><code>company_name    msisdn  email   status  email_verify    msisdn_verify\n&quot;Company Name1&quot; &quot;123456789&quot; &quot;NA&quot;    &quot;1&quot; &quot;0&quot; &quot;0&quot; \n&quot;Company Name2&quot; &quot;123456789&quot; &quot;NA&quot;    &quot;1&quot; &quot;0&quot; &quot;1&quot; \n&quot;Company Name3&quot; &quot;123456789&quot; &quot;NA&quot;    &quot;1&quot; &quot;0&quot; &quot;0&quot; \n&quot;Company Name4&quot; &quot;123456789&quot; &quot;NA&quot;    &quot;1&quot; &quot;0&quot; &quot;0&quot; \n&quot;Company Name5&quot; &quot;123456789&quot; &quot;NA&quot;    &quot;1&quot; &quot;0&quot; &quot;0&quot; \n&quot;Company Name6&quot; &quot;123456789&quot; &quot;NA&quot;    &quot;1&quot; &quot;0&quot; &quot;1&quot; \n&quot;Company Name7&quot; &quot;123456789&quot; &quot;NA&quot;    &quot;1&quot; &quot;0&quot; &quot;0&quot; \n&quot;Company Name8&quot; &quot;123456789&quot; &quot;NA&quot;    &quot;1&quot; &quot;0&quot; &quot;1&quot; \n</code></pre>\n<p>And getting error below:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: 1\n    at wing.ak.ors.handler.AkApiController.uploadcsv(AkApiController.java:4309)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at wing.ak.ors.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:48)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p><strong>How to split or read data from CSV that has been generated by sql table?</strong></p>\n"},{"tags":["java","corba"],"comments":[{"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"score":0,"creation_date":1561020220,"post_id":56681635,"comment_id":99930197,"body_markdown":"Hope this helps: https://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror","body":"Hope this helps: <a href=\"https://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror\" title=\"how to solve java lang noclassdeffounderror\">stackoverflow.com/questions/17973970/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651473858,"post_id":56681635,"comment_id":127364857,"body_markdown":"What version of Java are you running? The Corba classes were removed at some point around or after 1.9.","body":"What version of Java are you running? The Corba classes were removed at some point around or after 1.9."}],"owner":{"account_id":10553254,"reputation":71,"user_id":7775289,"display_name":"Naren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1651474106,"creation_date":1561017936,"question_id":56681635,"body_markdown":"**The structure of my project**  \r\n\r\n![The structure of my project ][1]  \r\n\r\nWhen I try to run my server code, the error shows up  \r\n\r\n```\r\n&quot;C:\\Program Files\\Java\\jdk-10.0.2\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.1.3\\lib\\idea_rt.jar=62557:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.1.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\username\\IdeaProjects\\untitled\\out\\production\\untitled StartServer\r\n```\r\n**Error**\r\n```\r\nUnable to initialize main class StartServer\r\nCaused by: java.lang.NoClassDefFoundError: org/omg/PortableServer/Servant\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cCrTr.png","title":"Error: Unable to initialize main class StartServer Caused by: java.lang.NoClassDefFoundError: org/omg/PortableServer/Servant","body":"<p><strong>The structure of my project</strong></p>\n<p><img src=\"https://i.stack.imgur.com/cCrTr.png\" alt=\"The structure of my project \" /></p>\n<p>When I try to run my server code, the error shows up</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-10.0.2\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.1.3\\lib\\idea_rt.jar=62557:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.1.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\username\\IdeaProjects\\untitled\\out\\production\\untitled StartServer\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>Unable to initialize main class StartServer\nCaused by: java.lang.NoClassDefFoundError: org/omg/PortableServer/Servant\n</code></pre>\n"},{"tags":["java","events"],"answers":[{"tags":[],"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651473799,"creation_date":1651473799,"answer_id":72083170,"question_id":72083030,"body_markdown":"Looks like an AncestorListener or a PropertyChangeListener can do the job.","title":"Fire event when JPanel is shown","body":"<p>Looks like an AncestorListener or a PropertyChangeListener can do the job.</p>\n"}],"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651473799,"creation_date":1651472757,"question_id":72083030,"body_markdown":"I would like to be notified whenever an extended JPanel (MyPanel) is shown.\r\n```\r\nimport java.awt.*;\r\n//import java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class FireOnShown extends JFrame {\r\n  public static final long serialVersionUID = 100L;\r\n\r\n  public FireOnShown() {\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setSize(320, 240);\r\n    setLocation(800, 40);\r\n    add(new MyPanel(&quot;Hello&quot;));\r\n    setVisible(true);\r\n  }\r\n\r\n\r\n  static public void main(String args[]) {\r\n    EventQueue.invokeLater(FireOnShown::new);\r\n  }\r\n\r\n}\r\n```\r\nI tried applying a ComponentListener or overriding setVisible(...), but none of them worked.\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\nclass MyPanel extends JPanel {\r\n  public static final long serialVersionUID = 50247L;\r\n\r\n  public MyPanel(String labelTxt) {\r\n    setPreferredSize(new Dimension(300, 40));\r\n    add(new JLabel(labelTxt));\r\n    addComponentListener(new ComponentListener() {\r\n      public void componentHidden(ComponentEvent e) {\r\n      }\r\n      public void componentMoved(ComponentEvent e) {\r\n      }\r\n      public void componentResized(ComponentEvent e) {\r\n      }\r\n      public void componentShown(ComponentEvent e) {\r\n\tSystem.out.println(&quot;componentShown&quot;);\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  @Override\r\n  public void setVisible(boolean flag) {\r\n    System.out.println(&quot;Visible &quot;+flag);\r\n    super.setVisible(flag);\r\n  }\r\n\r\n}\r\n```\r\nAlso the example in the [java tutorial] (https://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html) doesn&#39;t fire `componentShown` when its panel is displayed. So is there any other way?\r\n","title":"Fire event when JPanel is shown","body":"<p>I would like to be notified whenever an extended JPanel (MyPanel) is shown.</p>\n<pre><code>import java.awt.*;\n//import java.awt.event.*;\nimport javax.swing.*;\n\npublic class FireOnShown extends JFrame {\n  public static final long serialVersionUID = 100L;\n\n  public FireOnShown() {\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setSize(320, 240);\n    setLocation(800, 40);\n    add(new MyPanel(&quot;Hello&quot;));\n    setVisible(true);\n  }\n\n\n  static public void main(String args[]) {\n    EventQueue.invokeLater(FireOnShown::new);\n  }\n\n}\n</code></pre>\n<p>I tried applying a ComponentListener or overriding setVisible(...), but none of them worked.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\nclass MyPanel extends JPanel {\n  public static final long serialVersionUID = 50247L;\n\n  public MyPanel(String labelTxt) {\n    setPreferredSize(new Dimension(300, 40));\n    add(new JLabel(labelTxt));\n    addComponentListener(new ComponentListener() {\n      public void componentHidden(ComponentEvent e) {\n      }\n      public void componentMoved(ComponentEvent e) {\n      }\n      public void componentResized(ComponentEvent e) {\n      }\n      public void componentShown(ComponentEvent e) {\n    System.out.println(&quot;componentShown&quot;);\n      }\n    });\n  }\n\n\n  @Override\n  public void setVisible(boolean flag) {\n    System.out.println(&quot;Visible &quot;+flag);\n    super.setVisible(flag);\n  }\n\n}\n</code></pre>\n<p>Also the example in the [java tutorial] (<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html</a>) doesn't fire <code>componentShown</code> when its panel is displayed. So is there any other way?</p>\n"},{"tags":["java","instrumentation","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651314855,"creation_date":1651314855,"answer_id":72067733,"question_id":72054820,"body_markdown":"Try `MemberSubstitution.relaxed()`. There is a generated type without manifest byte code that the substitution struggles to resolve. Therefore, the relaxed resolution can simply skip those types.","title":"Cannot add MemberSubstitution using Bytebuddy","body":"<p>Try <code>MemberSubstitution.relaxed()</code>. There is a generated type without manifest byte code that the substitution struggles to resolve. Therefore, the relaxed resolution can simply skip those types.</p>\n"}],"owner":{"account_id":4047822,"reputation":683,"user_id":3328545,"accept_rate":25,"display_name":"gscaparrotti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651473785,"creation_date":1651220122,"question_id":72054820,"body_markdown":"I&#39;m trying to add a `MemberSubstitution` using ByteBuddy to intercept any access to a specific field, but when running the following code I get this error: `Could not resolve com.test.MyClass$ByteBuddy$PdQdmF1w using net.bytebuddy.pool.TypePool$ClassLoading@5e712ea6`\r\n\r\n\r\n```\r\nfinal var bytebuddy = new ByteBuddy();\r\nvar instrumentedType =\r\n\tbytebuddy\r\n\t\t.subclass(MyClass.class)\r\n\t\t.method(ElementMatchers.any())\r\n\t\t.intercept(MethodDelegation.to(MethodInterceptor.class))\r\n\t\t.visit(MemberSubstitution.strict()\r\n\t\t\t.field(ElementMatchers.named(&quot;fieldName&quot;))\r\n\t\t\t.onRead()\r\n\t\t\t.stub()\r\n\t\t\t.on(ElementMatchers.any()))\r\n\t\t.make()\r\n\t\t.load(MyClass.class.getClassLoader())\r\n\t\t.getLoaded();\r\n```\r\n\r\nIf I remove the call to the `visit` method, everything works as expected (every method call gets intercepted). \r\n\r\nOn the contrary, if I retain only the call to the `visit` method, I get no exception, but the substitution does not seem to work.","title":"Cannot add MemberSubstitution using Bytebuddy","body":"<p>I'm trying to add a <code>MemberSubstitution</code> using ByteBuddy to intercept any access to a specific field, but when running the following code I get this error: <code>Could not resolve com.test.MyClass$ByteBuddy$PdQdmF1w using net.bytebuddy.pool.TypePool$ClassLoading@5e712ea6</code></p>\n<pre><code>final var bytebuddy = new ByteBuddy();\nvar instrumentedType =\n    bytebuddy\n        .subclass(MyClass.class)\n        .method(ElementMatchers.any())\n        .intercept(MethodDelegation.to(MethodInterceptor.class))\n        .visit(MemberSubstitution.strict()\n            .field(ElementMatchers.named(&quot;fieldName&quot;))\n            .onRead()\n            .stub()\n            .on(ElementMatchers.any()))\n        .make()\n        .load(MyClass.class.getClassLoader())\n        .getLoaded();\n</code></pre>\n<p>If I remove the call to the <code>visit</code> method, everything works as expected (every method call gets intercepted).</p>\n<p>On the contrary, if I retain only the call to the <code>visit</code> method, I get no exception, but the substitution does not seem to work.</p>\n"},{"tags":["java","spring","hibernate","maven","jpa"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1651473757,"post_id":72083098,"comment_id":127364841,"body_markdown":"`hibernate-core` already has dependency to `javax.persistence.api`. I dont think that you need to include this dep again in pom","body":"<code>hibernate-core</code> already has dependency to <code>javax.persistence.api</code>. I dont think that you need to include this dep again in pom"},{"owner":{"account_id":24519512,"reputation":53,"user_id":18432775,"display_name":"Andrei27"},"score":0,"creation_date":1651474236,"post_id":72083098,"comment_id":127364927,"body_markdown":"I removed it, still getting the same error.","body":"I removed it, still getting the same error."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1651475863,"post_id":72083098,"comment_id":127365290,"body_markdown":"Remove the hibernate dependencies and the javax.persistence dependency. All of those are included in `spring-boot-starter-data-jpa`./","body":"Remove the hibernate dependencies and the javax.persistence dependency. All of those are included in <code>spring-boot-starter-data-jpa</code>./"},{"owner":{"account_id":24519512,"reputation":53,"user_id":18432775,"display_name":"Andrei27"},"score":0,"creation_date":1651477416,"post_id":72083098,"comment_id":127365699,"body_markdown":"Still getting the same error. I tried running ```maven clean install``` and I get those error there too","body":"Still getting the same error. I tried running <code>maven clean install</code> and I get those error there too"}],"owner":{"account_id":24519512,"reputation":53,"user_id":18432775,"display_name":"Andrei27"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651473597,"creation_date":1651473286,"question_id":72083098,"body_markdown":"Can anyone help me with this one? I already tried different solutions posted here but nothing works. \r\n\r\n```***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:1239)\r\n\r\nThe following method did not exist:\r\n\r\n    javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n\r\nThe calling method&#39;s class, org.hibernate.cfg.annotations.EntityBinder, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/csatl/.m2/repository/org/hibernate/hibernate-core/5.6.5.Final/hibernate-core-5.6.5.Final.jar!/org/hibernate/cfg/annotations/EntityBinder.class\r\n\r\nThe called method&#39;s class, javax.persistence.Table, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/csatl/Desktop/Facultate/An%203-sem2/SD/labs/lab2/lib/javax.persistence.jar!/javax/persistence/Table.class\r\n    jar:file:/C:/Users/csatl/.m2/repository/jakarta/persistence/jakarta.persistence-api/2.2.3/jakarta.persistence-api-2.2.3.jar!/javax/persistence/Table.class\r\n    jar:file:/C:/Users/csatl/.m2/repository/javax/persistence/javax.persistence-api/2.2/javax.persistence-api-2.2.jar!/javax/persistence/Table.class\r\n    jar:file:/C:/Users/csatl/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar!/javax/persistence/Table.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    javax.persistence.Table: file:/C:/Users/csatl/Desktop/Facultate/An%203-sem2/SD/labs/lab2/lib/javax.persistence.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.hibernate.cfg.annotations.EntityBinder and javax.persistence.Table\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n\tat ro.sd.firstapp.FirstAppApplication.main(FirstAppApplication.java:11)\r\nCaused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n\tat org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:1239)\r\n\tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:826)\r\n\tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n\t... 16 more\r\n```\r\n\r\nHere is my pom.xml \r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;ro.sd&lt;/groupId&gt;\r\n    &lt;artifactId&gt;first-app&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;first-app&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;frontend-maven-plugin.version&gt;1.6&lt;/frontend-maven-plugin.version&gt;\r\n        &lt;node.version&gt;v14.8.0&lt;/node.version&gt;\r\n        &lt;yarn.version&gt;v1.12.1&lt;/yarn.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;4.1.4.Final&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;5.2.3.Final&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2.1&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;1.0.0.Final&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThe BeanCreationException is from my main class. I used a try catch.\r\n\r\n```\r\npackage ro.sd.firstapp;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class FirstAppApplication {\r\n\r\n    public static void main(String[] args) {\r\n        try{\r\n            SpringApplication.run(FirstAppApplication.class, args);\r\n        }catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n```\r\n\r\nI tried changing the env variables. I tried including more dependencies, delete dependencies. I don&#39;t know what&#39;s wrong.\r\n\r\n\r\nHere is my **mvn dependency:tree**\r\n\r\n```\r\n[INFO] --- maven-dependency-plugin:3.2.0:tree (default-cli) @ first-app ---\r\n[INFO] ro.sd:first-app:jar:0.0.1-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.6.4:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.6.4:compile\r\n[INFO] |  |  +- org.springframework:spring-aop:jar:5.3.16:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.6.4:compile\r\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:4.0.3:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.3.16:compile\r\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\r\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.6.2:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:2.6.2:compile\r\n[INFO] |  |  +- org.springframework:spring-orm:jar:5.3.16:compile\r\n[INFO] |  |  +- org.springframework:spring-context:jar:5.3.16:compile\r\n[INFO] |  |  +- org.springframework:spring-tx:jar:5.3.16:compile\r\n[INFO] |  |  +- org.springframework:spring-beans:jar:5.3.16:compile\r\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:5.3.16:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.6.4:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.6.4:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.6.4:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.6.4:compile\r\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.10:compile\r\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.10:compile\r\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.1:compile\r\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\r\n[INFO] |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO] |  +- org.springframework:spring-core:jar:5.3.16:compile\r\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.16:compile\r\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.29:compile\r\n[INFO] +- org.springframework.security:spring-security-crypto:jar:5.6.2:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.6.4:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.6.4:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.1:compile\r\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.1:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.1:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.1:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.1:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.6.4:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.58:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.58:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:5.3.16:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.16:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:5.3.16:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:2.6.4:compile\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.58:compile\r\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:6.2.2.Final:compile\r\n[INFO] |     \\- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.6.4:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.6.4:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.6.4:test\r\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.6.0:test\r\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.8:test\r\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.8:test\r\n[INFO] |  |        \\- org.ow2.asm:asm:jar:9.1:test\r\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n[INFO] |  +- org.assertj:assertj-core:jar:3.21.0:test\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\r\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\r\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\r\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\r\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\r\n[INFO] |  +- org.mockito:mockito-core:jar:4.0.0:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.11.22:test\r\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.0.0:test\r\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\r\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO] |  +- org.springframework:spring-test:jar:5.3.16:test\r\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.8.4:test\r\n[INFO] +- org.projectlombok:lombok:jar:1.18.22:compile\r\n[INFO] +- mysql:mysql-connector-java:jar:8.0.28:runtime\r\n[INFO] +- org.hibernate:hibernate-core:jar:5.6.5.Final:compile\r\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\r\n[INFO] |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.11.22:compile\r\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\r\n[INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\r\n[INFO] |  +- org.jboss:jandex:jar:2.4.2.Final:compile\r\n[INFO] |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\r\n[INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.6:compile\r\n[INFO] |     +- org.glassfish.jaxb:txw2:jar:2.3.6:compile\r\n[INFO] |     +- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\r\n[INFO] |     \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\r\n[INFO] +- org.hibernate:hibernate-entitymanager:jar:5.6.5.Final:compile\r\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.3.0:compile\r\n[INFO] \\- javax.persistence:persistence-api:jar:1.0.2:compile\r\n```\r\n","title":"Correct the classpath of your application so that it contains a single, compatible version of javax.persistence.Table; Error creating bean","body":"<p>Can anyone help me with this one? I already tried different solutions posted here but nothing works.</p>\n<pre><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:1239)\n\nThe following method did not exist:\n\n    javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n\nThe calling method's class, org.hibernate.cfg.annotations.EntityBinder, was loaded from the following location:\n\n    jar:file:/C:/Users/csatl/.m2/repository/org/hibernate/hibernate-core/5.6.5.Final/hibernate-core-5.6.5.Final.jar!/org/hibernate/cfg/annotations/EntityBinder.class\n\nThe called method's class, javax.persistence.Table, is available from the following locations:\n\n    jar:file:/C:/Users/csatl/Desktop/Facultate/An%203-sem2/SD/labs/lab2/lib/javax.persistence.jar!/javax/persistence/Table.class\n    jar:file:/C:/Users/csatl/.m2/repository/jakarta/persistence/jakarta.persistence-api/2.2.3/jakarta.persistence-api-2.2.3.jar!/javax/persistence/Table.class\n    jar:file:/C:/Users/csatl/.m2/repository/javax/persistence/javax.persistence-api/2.2/javax.persistence-api-2.2.jar!/javax/persistence/Table.class\n    jar:file:/C:/Users/csatl/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar!/javax/persistence/Table.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    javax.persistence.Table: file:/C:/Users/csatl/Desktop/Facultate/An%203-sem2/SD/labs/lab2/lib/javax.persistence.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.hibernate.cfg.annotations.EntityBinder and javax.persistence.Table\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at ro.sd.firstapp.FirstAppApplication.main(FirstAppApplication.java:11)\nCaused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:1239)\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:826)\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 16 more\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;ro.sd&lt;/groupId&gt;\n    &lt;artifactId&gt;first-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;first-app&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;frontend-maven-plugin.version&gt;1.6&lt;/frontend-maven-plugin.version&gt;\n        &lt;node.version&gt;v14.8.0&lt;/node.version&gt;\n        &lt;yarn.version&gt;v1.12.1&lt;/yarn.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;4.1.4.Final&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;5.2.3.Final&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2.1&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.0.0.Final&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The BeanCreationException is from my main class. I used a try catch.</p>\n<pre><code>package ro.sd.firstapp;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class FirstAppApplication {\n\n    public static void main(String[] args) {\n        try{\n            SpringApplication.run(FirstAppApplication.class, args);\n        }catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n</code></pre>\n<p>I tried changing the env variables. I tried including more dependencies, delete dependencies. I don't know what's wrong.</p>\n<p>Here is my <strong>mvn dependency:tree</strong></p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.2.0:tree (default-cli) @ first-app ---\n[INFO] ro.sd:first-app:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.6.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.6.4:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:5.3.16:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.6.4:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:4.0.3:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.3.16:compile\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.6.2:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:2.6.2:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:5.3.16:compile\n[INFO] |  |  +- org.springframework:spring-context:jar:5.3.16:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:5.3.16:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:5.3.16:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:5.3.16:compile\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.6.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.6.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.6.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.6.4:compile\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.10:compile\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.10:compile\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.1:compile\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\n[INFO] |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  +- org.springframework:spring-core:jar:5.3.16:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.16:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.29:compile\n[INFO] +- org.springframework.security:spring-security-crypto:jar:5.6.2:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.6.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.6.4:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.1:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.1:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.6.4:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.58:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.58:compile\n[INFO] |  +- org.springframework:spring-web:jar:5.3.16:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.16:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:5.3.16:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:2.6.4:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.58:compile\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:6.2.2.Final:compile\n[INFO] |     \\- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.6.4:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.6.4:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.6.4:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.6.0:test\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.8:test\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.8:test\n[INFO] |  |        \\- org.ow2.asm:asm:jar:9.1:test\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.21.0:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\n[INFO] |  +- org.mockito:mockito-core:jar:4.0.0:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.11.22:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.0.0:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-test:jar:5.3.16:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.8.4:test\n[INFO] +- org.projectlombok:lombok:jar:1.18.22:compile\n[INFO] +- mysql:mysql-connector-java:jar:8.0.28:runtime\n[INFO] +- org.hibernate:hibernate-core:jar:5.6.5.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\n[INFO] |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.11.22:compile\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\n[INFO] |  +- org.jboss:jandex:jar:2.4.2.Final:compile\n[INFO] |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\n[INFO] |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.6:compile\n[INFO] |     +- org.glassfish.jaxb:txw2:jar:2.3.6:compile\n[INFO] |     +- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\n[INFO] |     \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\n[INFO] +- org.hibernate:hibernate-entitymanager:jar:5.6.5.Final:compile\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.3.0:compile\n[INFO] \\- javax.persistence:persistence-api:jar:1.0.2:compile\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1651460075,"post_id":72081718,"comment_id":127362802,"body_markdown":"What do you want the app to do, functionally speaking? You want the user to receive a database dump file? Should they receive it upon login? Or after they click something?","body":"What do you want the app to do, functionally speaking? You want the user to receive a database dump file? Should they receive it upon login? Or after they click something?"},{"owner":{"account_id":19112024,"reputation":159,"user_id":13957834,"display_name":"juran.maurice"},"score":0,"creation_date":1651485754,"post_id":72081718,"comment_id":127368003,"body_markdown":"@Woodchuck yes, I want the user to receive a database dump file. The user should receive it after he clicked the login button. I just need to identify the user to allow the dump.","body":"@Woodchuck yes, I want the user to receive a database dump file. The user should receive it after he clicked the login button. I just need to identify the user to allow the dump."}],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651473420,"creation_date":1651473420,"answer_id":72083117,"question_id":72081718,"body_markdown":"I would recommend to add Spring Security to your project and have a single hardcoded user in there:\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n@Configuration\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .passwordEncoder(passwordEncoder)\r\n            .withUser(&quot;user1&quot;).password(&quot;my-secret-pwd&quot;).roles(&quot;USER&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests(\r\n                    registry -&gt; registry.mvcMatchers(&quot;/**&quot;).authenticated()\r\n            )\r\n            .formLogin();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n}\r\n```","title":"Spring Boot Thymeleaf download file after successful login","body":"<p>I would recommend to add Spring Security to your project and have a single hardcoded user in there:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Configuration\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .passwordEncoder(passwordEncoder)\n            .withUser(&quot;user1&quot;).password(&quot;my-secret-pwd&quot;).roles(&quot;USER&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests(\n                    registry -&gt; registry.mvcMatchers(&quot;/**&quot;).authenticated()\n            )\n            .formLogin();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19112024,"reputation":159,"user_id":13957834,"display_name":"juran.maurice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651473420,"creation_date":1651457053,"question_id":72081718,"body_markdown":"I want to provide a webservice with spring boot, which is able to download a dump from a MySQL database.\r\n\r\nBut the download shouldn&#180;t be able for everybody. So I need a kind of login. It&#180;s not quite sure where the credentials will be stored, there is the possibility, that they&#180;re just hard coded in the application itself.\r\n\r\nI&#180;m kind of lost and don&#180;t know how to implement it.\r\n\r\nHere is what i got so far:\r\n\r\n```\r\n@Controller\r\npublic class EBMysqldumpController {\r\n\r\n    private EBMysqldumpService mysqldumpService;\r\n\r\n    @Autowired\r\n    public EBMysqldumpController(EBMysqldumpService mysqldumpService) {\r\n        this.mysqldumpService = mysqldumpService;\r\n    }\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String showLoginForm(Model model) {\r\n        model.addAttribute(&quot;userDto&quot;, new UserDto());\r\n        return &quot;mysqldump-login&quot;;\r\n    }\r\n\r\n    @PostMapping(path = &quot;/login&quot;)\r\n    public String validateLoginForm(@Valid UserDto userDto, BindingResult result, HttpServletRequest request) {\r\n        if (result.hasErrors()) {\r\n            return &quot;mysqldump-login&quot;;\r\n        }\r\n\r\n        if (!this.mysqldumpService.checkLogin(userDto)) {\r\n            result.addError(new ObjectError(&quot;&quot;, &quot;Wrong username and/or password&quot;));\r\n            return &quot;mysqldump-login&quot;;\r\n        }\r\n\r\n        return &quot;redirect:/file&quot;;\r\n    }\r\n\r\n    @PostMapping(path = &quot;/file&quot;)\r\n    public ResponseEntity&lt;Resource&gt; startMysqlDump(@Valid UserDto userDto, Model model) throws IOException, InterruptedException, MysqldumpException {\r\n        if (!this.mysqldumpService.checkLogin(userDto)) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n        }\r\n\r\n        File mysqlDump = this.mysqldumpService.getMysqlDumpFile();\r\n        ByteArrayResource byteArrayResource = this.mysqldumpService.getByteArrayResourceFromFile(mysqlDump);\r\n\r\n        HttpHeaders headers = getMysqldumpHeaders(mysqlDump.getName());\r\n        ResponseEntity&lt;Resource&gt; body = ResponseEntity.ok()\r\n                .headers(headers)\r\n                .contentLength(mysqlDump.length())\r\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n                .body(byteArrayResource);\r\n\r\n        this.mysqldumpService.deleteFile(mysqlDump);\r\n\r\n        return body;\r\n    }\r\n\r\n    private HttpHeaders getMysqldumpHeaders(String filename) {\r\n        ContentDisposition contentDisposition = ContentDisposition.inline().filename(filename).build();\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentDisposition(contentDisposition);\r\n\r\n        return headers;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor now the controller shows a login page at &quot;/login&quot;. After a form is submitted, the controller checks if the credentials are correct, if not it shows again the login page with the error messages.\r\n\r\nBut my problem is that I don&#180;t what to do after the login was successful. The download is working when I call it directly, but with redirect it&#180;s not working, because I made a post request to make sure just logged in user can download the file. If I make a get request, everybody can use the link.\r\n\r\nI have the feeling, I&#180;m handling the problem wrong. What would you recommend? How could I start the download, after the login was successful?","title":"Spring Boot Thymeleaf download file after successful login","body":"<p>I want to provide a webservice with spring boot, which is able to download a dump from a MySQL database.</p>\n<p>But the download shouldn´t be able for everybody. So I need a kind of login. It´s not quite sure where the credentials will be stored, there is the possibility, that they´re just hard coded in the application itself.</p>\n<p>I´m kind of lost and don´t know how to implement it.</p>\n<p>Here is what i got so far:</p>\n<pre><code>@Controller\npublic class EBMysqldumpController {\n\n    private EBMysqldumpService mysqldumpService;\n\n    @Autowired\n    public EBMysqldumpController(EBMysqldumpService mysqldumpService) {\n        this.mysqldumpService = mysqldumpService;\n    }\n\n    @GetMapping(&quot;/login&quot;)\n    public String showLoginForm(Model model) {\n        model.addAttribute(&quot;userDto&quot;, new UserDto());\n        return &quot;mysqldump-login&quot;;\n    }\n\n    @PostMapping(path = &quot;/login&quot;)\n    public String validateLoginForm(@Valid UserDto userDto, BindingResult result, HttpServletRequest request) {\n        if (result.hasErrors()) {\n            return &quot;mysqldump-login&quot;;\n        }\n\n        if (!this.mysqldumpService.checkLogin(userDto)) {\n            result.addError(new ObjectError(&quot;&quot;, &quot;Wrong username and/or password&quot;));\n            return &quot;mysqldump-login&quot;;\n        }\n\n        return &quot;redirect:/file&quot;;\n    }\n\n    @PostMapping(path = &quot;/file&quot;)\n    public ResponseEntity&lt;Resource&gt; startMysqlDump(@Valid UserDto userDto, Model model) throws IOException, InterruptedException, MysqldumpException {\n        if (!this.mysqldumpService.checkLogin(userDto)) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n        }\n\n        File mysqlDump = this.mysqldumpService.getMysqlDumpFile();\n        ByteArrayResource byteArrayResource = this.mysqldumpService.getByteArrayResourceFromFile(mysqlDump);\n\n        HttpHeaders headers = getMysqldumpHeaders(mysqlDump.getName());\n        ResponseEntity&lt;Resource&gt; body = ResponseEntity.ok()\n                .headers(headers)\n                .contentLength(mysqlDump.length())\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                .body(byteArrayResource);\n\n        this.mysqldumpService.deleteFile(mysqlDump);\n\n        return body;\n    }\n\n    private HttpHeaders getMysqldumpHeaders(String filename) {\n        ContentDisposition contentDisposition = ContentDisposition.inline().filename(filename).build();\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentDisposition(contentDisposition);\n\n        return headers;\n    }\n\n}\n</code></pre>\n<p>For now the controller shows a login page at &quot;/login&quot;. After a form is submitted, the controller checks if the credentials are correct, if not it shows again the login page with the error messages.</p>\n<p>But my problem is that I don´t what to do after the login was successful. The download is working when I call it directly, but with redirect it´s not working, because I made a post request to make sure just logged in user can download the file. If I make a get request, everybody can use the link.</p>\n<p>I have the feeling, I´m handling the problem wrong. What would you recommend? How could I start the download, after the login was successful?</p>\n"},{"tags":["java","udp","netty","socketexception"],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608141276,"creation_date":1608141276,"answer_id":65328576,"question_id":65306452,"body_markdown":"you shouldn&#39;t close the `ChannelHandlerContext` on an `IOException` when using a `DatagramChannel`. As `DatagramChannel` is &quot;connection-less&quot; the exception is specific to one &quot;receive&quot; or one &quot;send&quot; operation. So just log it (or whatever you want to do) and move on.","title":"How to correctly close netty channel without workgroup termination","body":"<p>you shouldn't close the <code>ChannelHandlerContext</code> on an <code>IOException</code> when using a <code>DatagramChannel</code>. As <code>DatagramChannel</code> is &quot;connection-less&quot; the exception is specific to one &quot;receive&quot; or one &quot;send&quot; operation. So just log it (or whatever you want to do) and move on.</p>\n"}],"owner":{"account_id":6101034,"reputation":1349,"user_id":4760059,"accept_rate":45,"display_name":"Oleh Kurpiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651472823,"creation_date":1608037461,"question_id":65306452,"body_markdown":"I have following binding to handle UDP packets\r\n\r\n```\r\nprivate void doStartServer() {\r\n        final UDPPacketHandler udpPacketHandler = new UDPPacketHandler(messageDecodeHandler);\r\n        workerGroup = new NioEventLoopGroup(threadPoolSize);\r\n\r\n        try {\r\n            final Bootstrap bootstrap = new Bootstrap();\r\n            bootstrap\r\n                .group(workerGroup)\r\n                .handler(new LoggingHandler(nettyLevel))\r\n                .channel(NioDatagramChannel.class)\r\n                .option(ChannelOption.SO_BROADCAST, true)\r\n                .handler(udpPacketHandler);\r\n\r\n            bootstrap\r\n                .bind(serverIp, serverPort)\r\n                .sync()\r\n                .channel()\r\n                .closeFuture()\r\n                .await();\r\n        } finally {\r\n            stop();\r\n        }\r\n    }\r\n```\r\n\r\nand handler\r\n```\r\n@ChannelHandler.Sharable    &lt;&lt; note this\r\n@Slf4j\r\n@AllArgsConstructor\r\npublic class UDPPacketHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt; {\r\n\r\n    private final MessageP54Handler messageP54Handler;\r\n\r\n    @Override\r\n    public void channelReadComplete(final ChannelHandlerContext ctx) {\r\n        ctx.flush();\r\n    }\r\n\r\n    @Override\r\n    public void exceptionCaught(final ChannelHandlerContext ctx, final Throwable cause) {\r\n        log.error(&quot;Exception in UDP handler&quot;, cause);\r\n        ctx.close();\r\n    }\r\n}\r\n```\r\n\r\nAt some point I get this exception `java.net.SocketException: Network dropped connection on reset: no further information` which is handled in `exceptionCaught`. This triggers `ChannelHandlerContext` to close. And at this point whole my server stops (executing on `finally` block from first snippet)\r\n\r\nHow to correctly handle exception so that I can handle new connections even after such exception occurs?\r\n\r\n","title":"How to correctly close netty channel without workgroup termination","body":"<p>I have following binding to handle UDP packets</p>\n<pre><code>private void doStartServer() {\n        final UDPPacketHandler udpPacketHandler = new UDPPacketHandler(messageDecodeHandler);\n        workerGroup = new NioEventLoopGroup(threadPoolSize);\n\n        try {\n            final Bootstrap bootstrap = new Bootstrap();\n            bootstrap\n                .group(workerGroup)\n                .handler(new LoggingHandler(nettyLevel))\n                .channel(NioDatagramChannel.class)\n                .option(ChannelOption.SO_BROADCAST, true)\n                .handler(udpPacketHandler);\n\n            bootstrap\n                .bind(serverIp, serverPort)\n                .sync()\n                .channel()\n                .closeFuture()\n                .await();\n        } finally {\n            stop();\n        }\n    }\n</code></pre>\n<p>and handler</p>\n<pre><code>@ChannelHandler.Sharable    &lt;&lt; note this\n@Slf4j\n@AllArgsConstructor\npublic class UDPPacketHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt; {\n\n    private final MessageP54Handler messageP54Handler;\n\n    @Override\n    public void channelReadComplete(final ChannelHandlerContext ctx) {\n        ctx.flush();\n    }\n\n    @Override\n    public void exceptionCaught(final ChannelHandlerContext ctx, final Throwable cause) {\n        log.error(&quot;Exception in UDP handler&quot;, cause);\n        ctx.close();\n    }\n}\n</code></pre>\n<p>At some point I get this exception <code>java.net.SocketException: Network dropped connection on reset: no further information</code> which is handled in <code>exceptionCaught</code>. This triggers <code>ChannelHandlerContext</code> to close. And at this point whole my server stops (executing on <code>finally</code> block from first snippet)</p>\n<p>How to correctly handle exception so that I can handle new connections even after such exception occurs?</p>\n"},{"tags":["java","xml","sockets","tcp"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651464583,"post_id":72082196,"comment_id":127363336,"body_markdown":"Have your XML parser read directly from the socket. Don&#39;t interpose code like this. There are no message boundaries in TCP, so what you ask is unattainable. But the XML parser knows when to stop reading.","body":"Have your XML parser read directly from the socket. Don&#39;t interpose code like this. There are no message boundaries in TCP, so what you ask is unattainable. But the XML parser knows when to stop reading."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651465455,"post_id":72082196,"comment_id":127363461,"body_markdown":"NB `(len &lt; 0)` is not a failure, and it is not &#39;possibl[y]&#39; but *definitely* a connection closure by the peer, which you don&#39;t need to log. An `IOException` is a failure. And you should not log client exit as a failure. It is a normal condition unless there was an `IOException`, which you will already have logged.","body":"NB <code>(len &lt; 0)</code> is not a failure, and it is not &#39;possibl[y]&#39; but <i>definitely</i> a connection closure by the peer, which you don&#39;t need to log. An <code>IOException</code> is a failure. And you should not log client exit as a failure. It is a normal condition unless there was an <code>IOException</code>, which you will already have logged."},{"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"score":0,"creation_date":1651466024,"post_id":72082196,"comment_id":127363538,"body_markdown":"bro @user207421 is this array copying in.read(clientCommand,0,MAX_XML_COMMAND_LEN);  causing my issue","body":"bro @user207421 is this array copying in.read(clientCommand,0,MAX_XML_COMMAND_LEN);  causing my issue"},{"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"score":0,"creation_date":1651471578,"post_id":72082196,"comment_id":127364383,"body_markdown":"@user207421 is there a way to get first response and parse it then need to store next responses and after parse after like that any possibility there","body":"@user207421 is there a way to get first response and parse it then need to store next responses and after parse after like that any possibility there"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1651474280,"post_id":72082196,"comment_id":127364937,"body_markdown":"1. No, the entire concept of trying to read a single request is causing your issue. 2. Yes there is, and I have already provided it. Parsing the XML directly will do exactly what you want. All you have to do is eliminate code.","body":"1. No, the entire concept of trying to read a single request is causing your issue. 2. Yes there is, and I have already provided it. Parsing the XML directly will do exactly what you want. All you have to do is eliminate code."},{"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"score":0,"creation_date":1651488164,"post_id":72082196,"comment_id":127368616,"body_markdown":"@user207421 yes you are right reading multiple responses into single response causing this issue. there is of response contains half xml string since char array length 9000 only so when multiple responses come it may full and get half string at the end. for that i need to check starting and ending tags then need to  parse","body":"@user207421 yes you are right reading multiple responses into single response causing this issue. there is of response contains half xml string since char array length 9000 only so when multiple responses come it may full and get half string at the end. for that i need to check starting and ending tags then need to  parse"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651544147,"post_id":72082196,"comment_id":127384100,"body_markdown":"No you don&#39;t. You need to connect the parser directly to the socket, as I already said. It already checks start and end tags. You do not need to repeat this work or reimplement this function.","body":"No you don&#39;t. You need to connect the parser directly to the socket, as I already said. It already checks start and end tags. You do not need to repeat this work or reimplement this function."}],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651467070,"creation_date":1651467070,"answer_id":72082442,"question_id":72082196,"body_markdown":"&gt; how to get one response at a time instead of reading multiple repsponses on socket\r\n\r\nYou can&#39;t. Things like &quot;response&quot; or &quot;message&quot; are concepts of the application. A plain TCP socket instead only knows about a byte stream without some kind of inherent message markers. This also means that multiple writes in the sender might end up with less or more reads at the recipient.\r\n\r\nThis means that instead of relying on read and write to maintain messages, you have to define an application protocol which makes it easy to know where a message starts and ends, so that you are able to extract messages from the byte stream. Typical ways are length prefixes or separators between messages. \r\n","title":"How to get one response at a time instead of multiple responses on socket?","body":"<blockquote>\n<p>how to get one response at a time instead of reading multiple repsponses on socket</p>\n</blockquote>\n<p>You can't. Things like &quot;response&quot; or &quot;message&quot; are concepts of the application. A plain TCP socket instead only knows about a byte stream without some kind of inherent message markers. This also means that multiple writes in the sender might end up with less or more reads at the recipient.</p>\n<p>This means that instead of relying on read and write to maintain messages, you have to define an application protocol which makes it easy to know where a message starts and ends, so that you are able to extract messages from the byte stream. Typical ways are length prefixes or separators between messages.</p>\n"}],"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651472698,"creation_date":1651464060,"question_id":72082196,"body_markdown":"I am new to Socket programming.\r\n\r\nFrom client I am sending an XML message one at a time but on the server side am receiving with concatenation of next response: so if 2 responses were sent they should be received one after another but in my case I am receiving both of them together.\r\n\r\nThis is my server code:\r\n\r\n     public void run() {\r\n        BufferedReader in = null;\r\n        OutputStream os;\r\n        OutputStreamWriter osw;\r\n        BufferedWriter bw;\r\n        String response = &quot;&quot;;\r\n        int MAX_XML_COMMAND_LEN = 9000;\r\n        char[] clientCommand=new  char[MAX_XML_COMMAND_LEN];\r\n        int len = 0;\r\n\r\n        log.debug(&quot;New Client is::&quot; + this);\r\n        try {\r\n            in = new BufferedReader(new InputStreamReader(uctmSockfd.getInputStream()));\r\n            os = uctmSockfd.getOutputStream();\r\n            osw = new OutputStreamWriter(os);\r\n            bw = new BufferedWriter(osw);\r\n            while (m_bRunThread) {\r\n                len = in.read(clientCommand,0,MAX_XML_COMMAND_LEN);\r\n                if(len &lt; 0) {\r\n                    log.debug(&quot;Failed in reading socket input stream. Possible connection close from client.Exiting the client thread\\r\\n&quot;);\r\n                    break;\r\n                }\r\n                log.debug(&quot;Data received from the client is :&quot; + new String(clientCommand,0,len));\r\n                response = processReceivedMessage(new String(clientCommand,0,len));\r\n                response = response+&quot;\\n&quot;;\r\n                bw.write(response);\r\n                bw.flush();\r\n            }\r\n        }catch (SocketTimeoutException exception) {\r\n        }catch(SocketException sock_exception){\r\n        } catch (Exception e) {\r\n            log.error(&quot;Exception in client thread.&quot;,e);\r\n        } finally {\r\n            try {\r\n                in .close();\r\n                uctmSockfd.close();\r\n                log.error(&quot;The client &quot; + this + &quot; is exited.&quot;);\r\n            } catch (IOException ioe) {\r\n                ioe.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nand this is sample xml message:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;config&gt; &lt;sendAlerts&gt; &lt;alertInfo alertName=&quot;User Calls to a destination pattern exceeds&quot; timeStamp=&quot;1651073549323&quot; eventId=&quot;210&quot; component_name=&quot;15&quot; eventMessage=&quot;Calls made by user 0049 ending from\r\n         Time Period - Wed Apr 27 08:31:28 PDT 2022 to Wed Apr 27 08:32:30 PDT 2022\r\n         exceeds the rate limit of 1\r\n         to destinations matching rule pattern  011NXX.|XXX.|+XX.  as defined by rule khalid_vol.\r\n         This is a possible TollFraud attempt$$$PERIOD=Wed Apr 27 08:31:28 PDT 2022 to Wed Apr 27 08:32:30 PDT 2022$$$RNAME=khalid_vol$$$RPATTERN=011NXX.|XXX.|+XX.$$$RTYPE=RATE&quot; ack=&quot;0&quot; eventType=&quot;2&quot; srcContact=&quot;192.168.10.20:5060&quot; destContact=&quot;192.168.10.6:5544&quot; srcIP=&quot;192.168.10.20&quot; destIP=&quot;192.168.10.6&quot; srcExt=&quot;0049&quot; destExt=&quot;0119646&quot; srcDomain=&quot;n/a&quot; destDomain=&quot;n/a&quot; severity_level=&quot;3&quot; protocol=&quot;SIP&quot; comment=&quot;None&quot; event_src=&quot;LOCAL&quot; attackName=&quot;User Calls to a destination Pattern exceeds&quot; method=&quot;INVITE&quot; evCategory=&quot;1&quot; srcCountry=&quot;INDIA&quot; srcCity=&quot;Hyderabad&quot; isp=&quot;ACT Fibernet&quot; state=&quot;40&quot; latitude=&quot;17.3846: 17.3846&quot; longitude=&quot;78.4574: 78.4574:IN:Hyderabad&quot; destCountry=&quot;IRAQ&quot; callType=&quot;International&quot; riskEnabled=&quot;false&quot; riskScore=&quot;0&quot; clientName=&quot;Unknown:Unknown&quot; ruleName=&quot;khalid_vol&quot; nwGroupName=&quot;redshift&quot; privateField=&quot;n/a&quot; uctmName=&quot;REDSHIFT&quot; deviceTag=&quot;Redshift&quot; /&gt; &lt;/sendAlerts&gt; &lt;/config&gt;\r\n\r\nNote: xml message encoded with new lines for few attributes\r\n\r\nPlease help how to receive above message one at time instead of concatenated messages.\r\n\r\n\r\n","title":"How to get one response at a time instead of multiple responses on socket?","body":"<p>I am new to Socket programming.</p>\n<p>From client I am sending an XML message one at a time but on the server side am receiving with concatenation of next response: so if 2 responses were sent they should be received one after another but in my case I am receiving both of them together.</p>\n<p>This is my server code:</p>\n<pre><code> public void run() {\n    BufferedReader in = null;\n    OutputStream os;\n    OutputStreamWriter osw;\n    BufferedWriter bw;\n    String response = &quot;&quot;;\n    int MAX_XML_COMMAND_LEN = 9000;\n    char[] clientCommand=new  char[MAX_XML_COMMAND_LEN];\n    int len = 0;\n\n    log.debug(&quot;New Client is::&quot; + this);\n    try {\n        in = new BufferedReader(new InputStreamReader(uctmSockfd.getInputStream()));\n        os = uctmSockfd.getOutputStream();\n        osw = new OutputStreamWriter(os);\n        bw = new BufferedWriter(osw);\n        while (m_bRunThread) {\n            len = in.read(clientCommand,0,MAX_XML_COMMAND_LEN);\n            if(len &lt; 0) {\n                log.debug(&quot;Failed in reading socket input stream. Possible connection close from client.Exiting the client thread\\r\\n&quot;);\n                break;\n            }\n            log.debug(&quot;Data received from the client is :&quot; + new String(clientCommand,0,len));\n            response = processReceivedMessage(new String(clientCommand,0,len));\n            response = response+&quot;\\n&quot;;\n            bw.write(response);\n            bw.flush();\n        }\n    }catch (SocketTimeoutException exception) {\n    }catch(SocketException sock_exception){\n    } catch (Exception e) {\n        log.error(&quot;Exception in client thread.&quot;,e);\n    } finally {\n        try {\n            in .close();\n            uctmSockfd.close();\n            log.error(&quot;The client &quot; + this + &quot; is exited.&quot;);\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>and this is sample xml message:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;config&gt; &lt;sendAlerts&gt; &lt;alertInfo alertName=&quot;User Calls to a destination pattern exceeds&quot; timeStamp=&quot;1651073549323&quot; eventId=&quot;210&quot; component_name=&quot;15&quot; eventMessage=&quot;Calls made by user 0049 ending from\n     Time Period - Wed Apr 27 08:31:28 PDT 2022 to Wed Apr 27 08:32:30 PDT 2022\n     exceeds the rate limit of 1\n     to destinations matching rule pattern  011NXX.|XXX.|+XX.  as defined by rule khalid_vol.\n     This is a possible TollFraud attempt$$$PERIOD=Wed Apr 27 08:31:28 PDT 2022 to Wed Apr 27 08:32:30 PDT 2022$$$RNAME=khalid_vol$$$RPATTERN=011NXX.|XXX.|+XX.$$$RTYPE=RATE&quot; ack=&quot;0&quot; eventType=&quot;2&quot; srcContact=&quot;192.168.10.20:5060&quot; destContact=&quot;192.168.10.6:5544&quot; srcIP=&quot;192.168.10.20&quot; destIP=&quot;192.168.10.6&quot; srcExt=&quot;0049&quot; destExt=&quot;0119646&quot; srcDomain=&quot;n/a&quot; destDomain=&quot;n/a&quot; severity_level=&quot;3&quot; protocol=&quot;SIP&quot; comment=&quot;None&quot; event_src=&quot;LOCAL&quot; attackName=&quot;User Calls to a destination Pattern exceeds&quot; method=&quot;INVITE&quot; evCategory=&quot;1&quot; srcCountry=&quot;INDIA&quot; srcCity=&quot;Hyderabad&quot; isp=&quot;ACT Fibernet&quot; state=&quot;40&quot; latitude=&quot;17.3846: 17.3846&quot; longitude=&quot;78.4574: 78.4574:IN:Hyderabad&quot; destCountry=&quot;IRAQ&quot; callType=&quot;International&quot; riskEnabled=&quot;false&quot; riskScore=&quot;0&quot; clientName=&quot;Unknown:Unknown&quot; ruleName=&quot;khalid_vol&quot; nwGroupName=&quot;redshift&quot; privateField=&quot;n/a&quot; uctmName=&quot;REDSHIFT&quot; deviceTag=&quot;Redshift&quot; /&gt; &lt;/sendAlerts&gt; &lt;/config&gt;\n</code></pre>\n<p>Note: xml message encoded with new lines for few attributes</p>\n<p>Please help how to receive above message one at time instead of concatenated messages.</p>\n"},{"tags":["java","types","language-design","byte"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":17,"creation_date":1277368206,"post_id":3108297,"comment_id":3188893,"body_markdown":"Good question.  This is a truly useless datatype.","body":"Good question.  This is a truly useless datatype."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":12,"creation_date":1277369368,"post_id":3108297,"comment_id":3189030,"body_markdown":"*&quot;I&#39;m under the impression that most 8-bit number representations are unsigned...&quot;* Well, the ones called &quot;byte&quot; usually are, yeah. The ones called &quot;char&quot; tend not to be. Gosling wanted to keep everything signed, which is fair &#39;nuff, though I really wish he&#39;d gone with a different name for it the 8-bit signed number. (But then, I really wish he&#39;d had unsigned numbers in the flippin&#39; language, as well.)","body":"<i>&quot;I&#39;m under the impression that most 8-bit number representations are unsigned...&quot;</i> Well, the ones called &quot;byte&quot; usually are, yeah. The ones called &quot;char&quot; tend not to be. Gosling wanted to keep everything signed, which is fair &#39;nuff, though I really wish he&#39;d gone with a different name for it the 8-bit signed number. (But then, I really wish he&#39;d had unsigned numbers in the flippin&#39; language, as well.)"},{"owner":{"account_id":15220,"reputation":48515,"user_id":31945,"display_name":"Artelius"},"score":2,"creation_date":1277369856,"post_id":3108297,"comment_id":3189086,"body_markdown":"*&quot;I&#39;m under the impression that most 8-bit number representations are unsigned...&quot;* In the C standard, whether a `char` is signed or unsigned is implementation defined - but in most C implementations, `char`s are signed.","body":"<i>&quot;I&#39;m under the impression that most 8-bit number representations are unsigned...&quot;</i> In the C standard, whether a <code>char</code> is signed or unsigned is implementation defined - but in most C implementations, <code>char</code>s are signed."},{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":2,"creation_date":1277370608,"post_id":3108297,"comment_id":3189177,"body_markdown":"Stop whining about Java not having unsigned bytes, it is not a problem. The only minor inconvenience is that you need casts to byte for hex constant tables. For everything else see http://stackoverflow.com/questions/397867/port-of-random-generator-from-c-to-java/397997#397997","body":"Stop whining about Java not having unsigned bytes, it is not a problem. The only minor inconvenience is that you need casts to byte for hex constant tables. For everything else see <a href=\"http://stackoverflow.com/questions/397867/port-of-random-generator-from-c-to-java/397997#397997\" title=\"port of random generator from c to java\">stackoverflow.com/questions/397867/&hellip;</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1295179033,"post_id":3108297,"comment_id":5193401,"body_markdown":"@T.J, char is a 16 bit, not 8 bit.","body":"@T.J, char is a 16 bit, not 8 bit."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1295187405,"post_id":3108297,"comment_id":5194326,"body_markdown":"@Thorbj&#248;rn: Quite, good point.","body":"@Thorbj&#248;rn: Quite, good point."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":14,"creation_date":1317763436,"post_id":3108297,"comment_id":9299659,"body_markdown":"@starblue Huh? Obviously you&#39;ve never had to write any byte-handling code in Java (parsers, encoders)... this is a major PITA. And possibly a performance problem too, depending on how jvm is able to optimize away casts (or not). Btw, problem is not even limited to just byte, but also to short, int, with respect to sign extension.","body":"@starblue Huh? Obviously you&#39;ve never had to write any byte-handling code in Java (parsers, encoders)... this is a major PITA. And possibly a performance problem too, depending on how jvm is able to optimize away casts (or not). Btw, problem is not even limited to just byte, but also to short, int, with respect to sign extension."},{"owner":{"account_id":879164,"reputation":2250,"user_id":205874,"display_name":"Mischa"},"score":0,"creation_date":1422558278,"post_id":3108297,"comment_id":44808085,"body_markdown":"I&#39;d care to guess that &quot;char&quot; is signed because it was signed in hardware in the PDP-11. Memory was real tight, and small values in signed (16-bit) int registers could be stored and loaded as 8 bits. &quot;C&quot; was first developed on the PDP-11. I can guess that Java et al inherited this for no good reason. Railroad gauges and Roman roads may be urban legend. But this one is plausible.","body":"I&#39;d care to guess that &quot;char&quot; is signed because it was signed in hardware in the PDP-11. Memory was real tight, and small values in signed (16-bit) int registers could be stored and loaded as 8 bits. &quot;C&quot; was first developed on the PDP-11. I can guess that Java et al inherited this for no good reason. Railroad gauges and Roman roads may be urban legend. But this one is plausible."},{"owner":{"account_id":248873,"reputation":787,"user_id":524529,"display_name":"Chris Hatton"},"score":7,"creation_date":1424260338,"post_id":3108297,"comment_id":45473430,"body_markdown":"@starblue Try refactoring a Java implementation of a byte-based communications protocol then tell me that unsigned bytes are not a problem!  Nightmare more like","body":"@starblue Try refactoring a Java implementation of a byte-based communications protocol then tell me that unsigned bytes are not a problem!  Nightmare more like"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1304670325,"creation_date":1277368354,"answer_id":3108328,"question_id":3108297,"body_markdown":"It appears that simplicity was the main reason. From &lt;a href=&quot;http://www.gotw.ca/publications/c_family_interview.htm&quot;&gt;this interview&lt;/a&gt;:\r\n\r\n&gt;Gosling: For me as a language designer, which I don&#39;t really count myself as these days, what &quot;simple&quot; really ended up meaning was could I expect J. Random Developer to hold the spec in his head. That definition says that, for instance, Java isn&#39;t -- and in fact a lot of these languages end up with a lot of corner cases, things that nobody really understands. Quiz any C developer about unsigned, and pretty soon you discover that almost no C developers actually understand what goes on with unsigned, what unsigned arithmetic is. Things like that made C complex. The language part of Java is, I think, pretty simple. The libraries you have to look up.\r\n\r\nMy initial assumption was that it&#39;s because Java doesn&#39;t have unsigned numeric types at all. Why should `byte` be an exception? `char` is a special case because it has to represent UTF-16 code units (thanks to Jon Skeet for the quote)","title":"James Gosling&#39;s explanation of why Java&#39;s byte is signed","body":"<p>It appears that simplicity was the main reason. From <a href=\"http://www.gotw.ca/publications/c_family_interview.htm\" rel=\"noreferrer\">this interview</a>:</p>\n\n<blockquote>\n  <p>Gosling: For me as a language designer, which I don't really count myself as these days, what \"simple\" really ended up meaning was could I expect J. Random Developer to hold the spec in his head. That definition says that, for instance, Java isn't -- and in fact a lot of these languages end up with a lot of corner cases, things that nobody really understands. Quiz any C developer about unsigned, and pretty soon you discover that almost no C developers actually understand what goes on with unsigned, what unsigned arithmetic is. Things like that made C complex. The language part of Java is, I think, pretty simple. The libraries you have to look up.</p>\n</blockquote>\n\n<p>My initial assumption was that it's because Java doesn't have unsigned numeric types at all. Why should <code>byte</code> be an exception? <code>char</code> is a special case because it has to represent UTF-16 code units (thanks to Jon Skeet for the quote)</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1651472411,"creation_date":1277368391,"answer_id":3108331,"question_id":3108297,"body_markdown":"I&#39;m not aware of any direct quotes from James Gosling, but there&#39;s an official RFE for unsigned `byte`:\r\n\r\n&gt; ### [Bug ID: 4186775: request unsigned integer types, esp. unsigned `byte`](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4186775)\r\n\r\n&gt; **State**: 11-Closed, ***Will Not Fix***, request for enhancement \r\n\r\n&gt; Please extend the Java design to allow unsigned types, particularly\r\nunsigned `byte`.\r\n\r\n&gt; I have been wondering why there are no unsigned integer types in Java.  It\r\nseems to me that for `byte`-length values it is extremely awkward not to have\r\nthem [...]\r\n\r\n&gt; I recognize that this was a design decision made by the Java developers.\r\n_What I don&#39;t understand is why_.  Did they consider unsigned integer types evil\r\nor harmful, and chose to protect me from myself? ","title":"James Gosling&#39;s explanation of why Java&#39;s byte is signed","body":"<p>I'm not aware of any direct quotes from James Gosling, but there's an official RFE for unsigned <code>byte</code>:</p>\n<blockquote>\n<h3><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4186775\" rel=\"nofollow noreferrer\">Bug ID: 4186775: request unsigned integer types, esp. unsigned <code>byte</code></a></h3>\n</blockquote>\n<blockquote>\n<p><strong>State</strong>: 11-Closed, <em><strong>Will Not Fix</strong></em>, request for enhancement</p>\n</blockquote>\n<blockquote>\n<p>Please extend the Java design to allow unsigned types, particularly\nunsigned <code>byte</code>.</p>\n</blockquote>\n<blockquote>\n<p>I have been wondering why there are no unsigned integer types in Java.  It\nseems to me that for <code>byte</code>-length values it is extremely awkward not to have\nthem [...]</p>\n</blockquote>\n<blockquote>\n<p>I recognize that this was a design decision made by the Java developers.\n<em>What I don't understand is why</em>.  Did they consider unsigned integer types evil\nor harmful, and chose to protect me from myself?</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1304670847,"creation_date":1277369133,"answer_id":3108393,"question_id":3108297,"body_markdown":"As per &#39;Oak Language Specification 0.2&#39; aka Java language:\r\n\r\n*&quot;The Oak byte type is what C programmers are used to thinking of as the char type. But in the Oak language, characters are 16 bits wide. Having a separate byte type removes the   confusion in C between the interpretation of char as an 8 bit integer and as a character.&quot;*\r\n\r\nYou can grab a postscript copy from here : \r\n\r\nhttp://cretesoft.com/archive/files/OakSpec0.2.ps ([partial copy on scribd][1])\r\n\r\nAlso there is a part of interview posted on this site: (Where he is defending the absence of unsigned byte in java)\r\n\r\nhttp://www.darksleep.com/player/JavaAndUnsignedTypes.html\r\n\r\n\r\nAdding the interview taken from the above mentioned page...\r\n\r\n*&quot;\r\nhttp://www.gotw.ca/publications/c_family_interview.htm\r\n\r\n&gt; Q: Programmers often talk about the advantages and disadvantages of\r\n&gt; programming in a &quot;simple language.&quot;  What does that phrase mean to\r\n&gt; you, and is [C/C++/Java] a simple language in your view?\r\n&gt; \r\n&gt; Ritchie: [deleted for brevity]\r\n&gt; \r\n&gt; Stroustrup: [deleted for brevity]\r\n&gt; \r\n&gt; Gosling: For me as a language designer, which I don&#39;t really count\r\n&gt; myself as these days, what &quot;simple&quot; really ended up meaning was could\r\n&gt; I expect J. Random Developer to hold the spec in his head. That\r\n&gt; definition says that, for instance, Java isn&#39;t -- and in fact a lot of\r\n&gt; these languages end up with a lot of corner cases, things that nobody\r\n&gt; really understands. Quiz any C developer about unsigned, and pretty\r\n&gt; soon you discover that almost no C developers actually understand what\r\n&gt; goes on with unsigned, what unsigned arithmetic is. Things like that\r\n&gt; made C complex. The language part of Java is, I think, pretty\r\n&gt; simple. The libraries you have to look up.\r\n\r\n\r\nOn the other hand.... According to http://www.artima.com/weblogs/viewpost.jsp?thread=7555\r\n&gt; Once Upon an Oak ...\r\n&gt; by Heinz Kabutz\r\n&gt; July 15, 2003\r\n&gt;\r\n...\r\n&gt; Trying to fill my gaps of Java&#39;s history, I started digging around on\r\n&gt; Sun&#39;s website, and eventually stumbled across the Oak Language\r\n&gt; Specification for Oak version 0.2. Oak was the original name of what\r\n&gt; is now commonly known as Java, and this manual is the oldest manual\r\n&gt; available for Oak (i.e. Java).\r\n...\r\n&gt; Unsigned integer values (Section 3.1)\r\n&gt; \r\n&gt; The specification says: &quot;The four integer types of widths of 8, 16, 32\r\n&gt; and 64 bits, and are signed unless prefixed by the unsigned modifier.\r\n&gt; \r\n&gt; In the sidebar it says: &quot;unsigned isn&#39;t implemented yet; it might\r\n&gt; never be.&quot; How right you were.\r\n&quot;*\r\n\r\n  [1]: http://www.scribd.com/doc/47974754/OakSpec0-2","title":"James Gosling&#39;s explanation of why Java&#39;s byte is signed","body":"<p>As per 'Oak Language Specification 0.2' aka Java language:</p>\n\n<p><em>\"The Oak byte type is what C programmers are used to thinking of as the char type. But in the Oak language, characters are 16 bits wide. Having a separate byte type removes the   confusion in C between the interpretation of char as an 8 bit integer and as a character.\"</em></p>\n\n<p>You can grab a postscript copy from here : </p>\n\n<p><a href=\"http://cretesoft.com/archive/files/OakSpec0.2.ps\" rel=\"noreferrer\">http://cretesoft.com/archive/files/OakSpec0.2.ps</a> (<a href=\"http://www.scribd.com/doc/47974754/OakSpec0-2\" rel=\"noreferrer\">partial copy on scribd</a>)</p>\n\n<p>Also there is a part of interview posted on this site: (Where he is defending the absence of unsigned byte in java)</p>\n\n<p><a href=\"http://www.darksleep.com/player/JavaAndUnsignedTypes.html\" rel=\"noreferrer\">http://www.darksleep.com/player/JavaAndUnsignedTypes.html</a></p>\n\n<p>Adding the interview taken from the above mentioned page...</p>\n\n<p>*\"\n<a href=\"http://www.gotw.ca/publications/c_family_interview.htm\" rel=\"noreferrer\">http://www.gotw.ca/publications/c_family_interview.htm</a></p>\n\n<blockquote>\n  <p>Q: Programmers often talk about the advantages and disadvantages of\n  programming in a \"simple language.\"  What does that phrase mean to\n  you, and is [C/C++/Java] a simple language in your view?</p>\n  \n  <p>Ritchie: [deleted for brevity]</p>\n  \n  <p>Stroustrup: [deleted for brevity]</p>\n  \n  <p>Gosling: For me as a language designer, which I don't really count\n  myself as these days, what \"simple\" really ended up meaning was could\n  I expect J. Random Developer to hold the spec in his head. That\n  definition says that, for instance, Java isn't -- and in fact a lot of\n  these languages end up with a lot of corner cases, things that nobody\n  really understands. Quiz any C developer about unsigned, and pretty\n  soon you discover that almost no C developers actually understand what\n  goes on with unsigned, what unsigned arithmetic is. Things like that\n  made C complex. The language part of Java is, I think, pretty\n  simple. The libraries you have to look up.</p>\n</blockquote>\n\n<p>On the other hand.... According to <a href=\"http://www.artima.com/weblogs/viewpost.jsp?thread=7555\" rel=\"noreferrer\">http://www.artima.com/weblogs/viewpost.jsp?thread=7555</a></p>\n\n<blockquote>\n  <p>Once Upon an Oak ...\n  by Heinz Kabutz\n  July 15, 2003</p>\n  \n  <p>...\n  Trying to fill my gaps of Java's history, I started digging around on\n  Sun's website, and eventually stumbled across the Oak Language\n  Specification for Oak version 0.2. Oak was the original name of what\n  is now commonly known as Java, and this manual is the oldest manual\n  available for Oak (i.e. Java).\n  ...\n  Unsigned integer values (Section 3.1)</p>\n  \n  <p>The specification says: \"The four integer types of widths of 8, 16, 32\n  and 64 bits, and are signed unless prefixed by the unsigned modifier.</p>\n  \n  <p>In the sidebar it says: \"unsigned isn't implemented yet; it might\n  never be.\" How right you were.\n  \"*</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":32317,"reputation":42877,"user_id":89556,"accept_rate":60,"display_name":"this. __curious_geek"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1277369464,"creation_date":1277369464,"answer_id":3108424,"question_id":3108297,"body_markdown":"There&#39;s no reason for a `byte` to be unsigned. when you have `char` type to represent characters, the `byte` would normally not do that job of a `char`.","title":"James Gosling&#39;s explanation of why Java&#39;s byte is signed","body":"<p>There's no reason for a <code>byte</code> to be unsigned. when you have <code>char</code> type to represent characters, the <code>byte</code> would normally not do that job of a <code>char</code>.</p>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8773,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":3108328,"answer_count":4,"score":59,"last_activity_date":1651472411,"creation_date":1277368072,"question_id":3108297,"body_markdown":"I was initially surprised that Java decides to specify that `byte` is signed, with a range from `-128..127` (inclusive). I&#39;m under the impression that most 8-bit number representations are unsigned, with a range of `0..255` instead (e.g. [IPv4 in dot-decimal notation](http://en.wikipedia.org/wiki/Dot-decimal_notation)).\r\n\r\nSo has James Gosling ever been asked to explain why he decided that `byte` is signed? Has there been notable discussions/debates about this issue in the past between authoritative programming language designers and/or critics?","title":"James Gosling&#39;s explanation of why Java&#39;s byte is signed","body":"<p>I was initially surprised that Java decides to specify that <code>byte</code> is signed, with a range from <code>-128..127</code> (inclusive). I'm under the impression that most 8-bit number representations are unsigned, with a range of <code>0..255</code> instead (e.g. <a href=\"http://en.wikipedia.org/wiki/Dot-decimal_notation\" rel=\"noreferrer\">IPv4 in dot-decimal notation</a>).</p>\n\n<p>So has James Gosling ever been asked to explain why he decided that <code>byte</code> is signed? Has there been notable discussions/debates about this issue in the past between authoritative programming language designers and/or critics?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651472243,"creation_date":1651472243,"answer_id":72082963,"question_id":72066191,"body_markdown":" 1. rename your class\r\n 2. add `import org.openqa.selenium.WebDriver`\r\n 3. add property `webdriver.chrome.driver`\r\n\r\nCode:\r\n\r\n    package selenium;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.edge.EdgeDriver;\r\n    \r\n    public class Gayatri {\r\n    \r\n    \tpublic static String chromedriverPath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\resources\\\\chromedriver.exe&quot;;\t\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString browserName = &quot;chrome&quot;;\r\n    \r\n    \t    WebDriver driver = null;\r\n    \r\n    \t    if (browserName.equalsIgnoreCase(&quot;chrome&quot;)) {\r\n    \r\n    \t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, chromedriverPath);\r\n    \t        driver = new ChromeDriver();\r\n    \r\n    \t    } else if (browserName.equalsIgnoreCase(&quot;edgebrowser&quot;)) {\r\n    \r\n    \t        driver = new EdgeDriver();\r\n    \r\n    \t    }\r\n    \t    \r\n    \t    driver.get(&quot;https://www.stackoverflow.com&quot;);\r\n    \t    System.out.print(driver.getTitle());\r\n    \t    driver.quit();\r\n    \t    \r\n    \t}\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    Starting ChromeDriver 100.0.4896.60 (6a5d10861ce8de5fce22564658033b43cb7de047-refs/branch-heads/4896@{#875}) on port 19334\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Kvě 02, 2022 8:15:46 DOP. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    Stack Overflow - Where Developers Learn, Share, &amp; Build Careers","title":"how to resolve this problem cannot convert from ChromeDriver to WebDriver","body":"<ol>\n<li>rename your class</li>\n<li>add <code>import org.openqa.selenium.WebDriver</code></li>\n<li>add property <code>webdriver.chrome.driver</code></li>\n</ol>\n<p>Code:</p>\n<pre><code>package selenium;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.edge.EdgeDriver;\n\npublic class Gayatri {\n\n    public static String chromedriverPath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\resources\\\\chromedriver.exe&quot;;   \n\n    \n    public static void main(String[] args) {\n        String browserName = &quot;chrome&quot;;\n\n        WebDriver driver = null;\n\n        if (browserName.equalsIgnoreCase(&quot;chrome&quot;)) {\n\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, chromedriverPath);\n            driver = new ChromeDriver();\n\n        } else if (browserName.equalsIgnoreCase(&quot;edgebrowser&quot;)) {\n\n            driver = new EdgeDriver();\n\n        }\n        \n        driver.get(&quot;https://www.stackoverflow.com&quot;);\n        System.out.print(driver.getTitle());\n        driver.quit();\n        \n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Starting ChromeDriver 100.0.4896.60 (6a5d10861ce8de5fce22564658033b43cb7de047-refs/branch-heads/4896@{#875}) on port 19334\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nKvě 02, 2022 8:15:46 DOP. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nStack Overflow - Where Developers Learn, Share, &amp; Build Careers\n</code></pre>\n"}],"owner":{"account_id":25152881,"reputation":11,"user_id":18998026,"display_name":"D Gayatri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651472243,"creation_date":1651299651,"question_id":72066191,"body_markdown":"public static void main(String[] args) {\r\n\r\n\t\tString browserName = &quot;chrome&quot;;\r\n\r\n\t\tWebDriver driver = null;\r\n\r\n\t\tif (browserName.equalsIgnoreCase(&quot;chrome&quot;)) {\r\n\r\n\t\t\tdriver = new ChromeDriver();\r\n\r\n\t\t} else if (browserName.equalsIgnoreCase(&quot;edgebrowser&quot;)) {\r\n\r\n\t\t\tdriver = new EdgeDriver();\r\n[i write exactly but still am getting mismatch error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NKjWs.png","title":"how to resolve this problem cannot convert from ChromeDriver to WebDriver","body":"<p>public static void main(String[] args) {</p>\n<pre><code>    String browserName = &quot;chrome&quot;;\n\n    WebDriver driver = null;\n\n    if (browserName.equalsIgnoreCase(&quot;chrome&quot;)) {\n\n        driver = new ChromeDriver();\n\n    } else if (browserName.equalsIgnoreCase(&quot;edgebrowser&quot;)) {\n\n        driver = new EdgeDriver();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NKjWs.png\" rel=\"nofollow noreferrer\">i write exactly but still am getting mismatch error</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21417136,"reputation":2183,"user_id":15777370,"display_name":"vszholobov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651471612,"creation_date":1651471612,"answer_id":72082887,"question_id":72082706,"body_markdown":"It is important to understand that when calling the `printAstrics` function, while m &lt; n, only the first loop will be executed. After m becomes equal to n, the second cycles of all previously called `printAstrics` functions will be executed in reverse order. I think the following representation is illustrative\r\n\r\n```\r\ncall printAstrics(3, 7)\r\n1) print 3 stars\r\n2) call printAstrics(4, 7) (4 &lt; 7)\r\n\t1) print 4 stars\r\n\t2) call printAstrics(5, 7) (5 &lt; 7)\r\n\t\t1) print 5 stars\r\n\t\t2) call printAstrics(6, 7) (6 &lt; 7)\r\n\t\t\t1) print 6 stars\r\n\t\t\t2) call printAstrics(7, 7)\r\n\t\t\t\t1) print 7 stars\r\n\t\t\t\t2) print 7 stars (7 !&lt; 7, so do not call printAstrics(8, 7) and execute second loop)\r\n\t\t\t3) print 6 stars\r\n\t\t3) print 5 stars\r\n\t3) print 4 stars\r\n3) print 3 stars\r\n```","title":"The same for loop produces a different result","body":"<p>It is important to understand that when calling the <code>printAstrics</code> function, while m &lt; n, only the first loop will be executed. After m becomes equal to n, the second cycles of all previously called <code>printAstrics</code> functions will be executed in reverse order. I think the following representation is illustrative</p>\n<pre><code>call printAstrics(3, 7)\n1) print 3 stars\n2) call printAstrics(4, 7) (4 &lt; 7)\n    1) print 4 stars\n    2) call printAstrics(5, 7) (5 &lt; 7)\n        1) print 5 stars\n        2) call printAstrics(6, 7) (6 &lt; 7)\n            1) print 6 stars\n            2) call printAstrics(7, 7)\n                1) print 7 stars\n                2) print 7 stars (7 !&lt; 7, so do not call printAstrics(8, 7) and execute second loop)\n            3) print 6 stars\n        3) print 5 stars\n    3) print 4 stars\n3) print 3 stars\n</code></pre>\n"}],"owner":{"account_id":25169766,"reputation":1,"user_id":19012741,"display_name":"Soccernerd46"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651472231,"creation_date":1651469953,"question_id":72082706,"body_markdown":"I was working through a recursive problem where you want to print lines of m astericks until n astericks, then you want it to print down to m number of astericks. I see in the solution that the for loops are the same, but don&#39;t understand how this can be. I understand how the first for loop and recursion statement works, but what is it about the second loop that leads to the number of astericks decreasing each line? Please help with my understanding.\r\n\r\n    public class RecursionAstricks {\r\n        public static void main(String[] args) {\r\n            printAstricks(3, 7);\r\n        }\r\n\r\n        public static void printAstricks(int m, int n) {\r\n            for (int i = 0; i &lt; m; i++) {\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n            if (m &lt; n) {\r\n                printAstricks(m + 1, n);\r\n            }\r\n\r\n            for (int i = 0; i &lt; m; i++) {\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }","title":"The same for loop produces a different result","body":"<p>I was working through a recursive problem where you want to print lines of m astericks until n astericks, then you want it to print down to m number of astericks. I see in the solution that the for loops are the same, but don't understand how this can be. I understand how the first for loop and recursion statement works, but what is it about the second loop that leads to the number of astericks decreasing each line? Please help with my understanding.</p>\n<pre><code>public class RecursionAstricks {\n    public static void main(String[] args) {\n        printAstricks(3, 7);\n    }\n\n    public static void printAstricks(int m, int n) {\n        for (int i = 0; i &lt; m; i++) {\n            System.out.print(&quot;*&quot;);\n        }\n        System.out.println();\n        if (m &lt; n) {\n            printAstricks(m + 1, n);\n        }\n\n        for (int i = 0; i &lt; m; i++) {\n            System.out.print(&quot;*&quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","annotations","microservices","hystrix"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1651472059,"post_id":72082828,"comment_id":127364492,"body_markdown":"can you add how are you passing `requestVolumeThreshold` properties.","body":"can you add how are you passing <code>requestVolumeThreshold</code> properties."},{"owner":{"account_id":6857272,"reputation":861,"user_id":5272467,"display_name":"black_pottery_beauty"},"score":0,"creation_date":1651472667,"post_id":72082828,"comment_id":127364617,"body_markdown":"Can you share your properties file in Question ?","body":"Can you share your properties file in Question ?"},{"owner":{"account_id":6857272,"reputation":861,"user_id":5272467,"display_name":"black_pottery_beauty"},"score":0,"creation_date":1651473056,"post_id":72082828,"comment_id":127364690,"body_markdown":"Please follow this link. It might help you. https://stackoverflow.com/questions/44143918/setting-class-level-annotation-values-from-application-yml?rq=1","body":"Please follow this link. It might help you. <a href=\"https://stackoverflow.com/questions/44143918/setting-class-level-annotation-values-from-application-yml?rq=1\" title=\"setting class level annotation values from application yml\">stackoverflow.com/questions/44143918/&hellip;</a>"}],"owner":{"account_id":2202042,"reputation":351,"user_id":1946196,"display_name":"vkg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651471083,"creation_date":1651471083,"question_id":72082828,"body_markdown":"I am trying to pass properties values in @HystrixProperty annotation like below \r\n\r\n  \r\n\r\n      @HystrixProperty(name=&quot;circuitBreaker.requestVolumeThreshold&quot;, value=&quot;${requestVolumeThreshold}&quot;)\r\n\r\nAlso Tried this \r\n  \r\n\r\n    @HystrixProperty(name=&quot;circuitBreaker.requestVolumeThreshold&quot;, value=&quot;#{${requestVolumeThreshold}}&quot;)\r\n\r\n\r\n\r\nHowever its giving me exception &quot;IllegalArgumentException&quot;;  bad property value \r\nWhere Am I going wrong ?\r\n    ","title":"Not able to pass config values in @HystrixProperty annotation","body":"<p>I am trying to pass properties values in @HystrixProperty annotation like below</p>\n<pre><code>  @HystrixProperty(name=&quot;circuitBreaker.requestVolumeThreshold&quot;, value=&quot;${requestVolumeThreshold}&quot;)\n</code></pre>\n<p>Also Tried this</p>\n<pre><code>@HystrixProperty(name=&quot;circuitBreaker.requestVolumeThreshold&quot;, value=&quot;#{${requestVolumeThreshold}}&quot;)\n</code></pre>\n<p>However its giving me exception &quot;IllegalArgumentException&quot;;  bad property value\nWhere Am I going wrong ?</p>\n"},{"tags":["java","spring","spring-boot","jackson","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1651748173,"post_id":72076567,"comment_id":127438917,"body_markdown":"You are trying to serialize an instance of builder, not the actual class. Lombok&#39;s builders are not intended to be serialized. They don&#39;t follow the bean spec, so Jackson won&#39;t be able to serialize them without a designated serializer.","body":"You are trying to serialize an instance of builder, not the actual class. Lombok&#39;s builders are not intended to be serialized. They don&#39;t follow the bean spec, so Jackson won&#39;t be able to serialize them without a designated serializer."}],"answers":[{"tags":[],"owner":{"account_id":14811775,"reputation":79,"user_id":11236881,"display_name":"Sam Samovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651407646,"creation_date":1651407646,"answer_id":72076646,"question_id":72076567,"body_markdown":"The following annotation works fine:\r\n\r\n@Jacksonized\r\n@SuperBuilder\r\n","title":"How to serialize builder class with inheritance?","body":"<p>The following annotation works fine:</p>\n<p>@Jacksonized\n@SuperBuilder</p>\n"}],"owner":{"account_id":14811775,"reputation":79,"user_id":11236881,"display_name":"Sam Samovich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651470811,"creation_date":1651406991,"question_id":72076567,"body_markdown":"I faced a serialization issue of the builder class with inheritance. \r\nIt looks like the following:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class NumberRuleConfig extends BaseRuleConfig{\r\n        private Double min;\r\n        private Double max;\r\n        private Double step;\r\n        private Map&lt;String, Object&gt; defaultValue;\r\n    \r\n        @Builder\r\n        public NumberRuleConfig(Boolean enabled,\r\n                                Boolean editable,\r\n                                Double min,\r\n                                Double max,\r\n                                Double step,\r\n                                Map&lt;String, Object&gt; defaultValue) {\r\n            super(enabled, editable);\r\n            this.min = min;\r\n            this.max = max;\r\n            this.step = step;\r\n            this.defaultValue = defaultValue;\r\n        }\r\n    \r\n        public NumberRuleConfig(Boolean enabled, Boolean editable) {\r\n            super(enabled, editable);\r\n        }\r\n    }\r\n\r\nBase class:\r\n\r\n    @Getter\r\n    @AllArgsConstructor\r\n    public class BaseRuleConfig {\r\n        public Boolean enabled;\r\n        public Boolean editable;\r\n    \r\n        public BaseRuleConfig() {\r\n        }\r\n    }\r\n\r\nI see the following exception:\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.example.NumberRuleConfig$NumberRuleConfigBuilder and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ImmutableCollections$MapN[&quot;ruleSetDefinitions&quot;]-&gt;com.example.RuleDefinitions[&quot;constraints&quot;]-&gt;java.util.ArrayList[7]-&gt;com.example.NumberRule[&quot;config&quot;])\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\r\n    \tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1277)\r\n    \tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33)\r\n\r\nDoes someone know how to avoid that issue?\r\n\r\n","title":"How to serialize builder class with inheritance?","body":"<p>I faced a serialization issue of the builder class with inheritance.\nIt looks like the following:</p>\n<pre><code>@Getter\n@Setter\npublic class NumberRuleConfig extends BaseRuleConfig{\n    private Double min;\n    private Double max;\n    private Double step;\n    private Map&lt;String, Object&gt; defaultValue;\n\n    @Builder\n    public NumberRuleConfig(Boolean enabled,\n                            Boolean editable,\n                            Double min,\n                            Double max,\n                            Double step,\n                            Map&lt;String, Object&gt; defaultValue) {\n        super(enabled, editable);\n        this.min = min;\n        this.max = max;\n        this.step = step;\n        this.defaultValue = defaultValue;\n    }\n\n    public NumberRuleConfig(Boolean enabled, Boolean editable) {\n        super(enabled, editable);\n    }\n}\n</code></pre>\n<p>Base class:</p>\n<pre><code>@Getter\n@AllArgsConstructor\npublic class BaseRuleConfig {\n    public Boolean enabled;\n    public Boolean editable;\n\n    public BaseRuleConfig() {\n    }\n}\n</code></pre>\n<p>I see the following exception:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.example.NumberRuleConfig$NumberRuleConfigBuilder and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ImmutableCollections$MapN[&quot;ruleSetDefinitions&quot;]-&gt;com.example.RuleDefinitions[&quot;constraints&quot;]-&gt;java.util.ArrayList[7]-&gt;com.example.NumberRule[&quot;config&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1277)\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71)\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33)\n</code></pre>\n<p>Does someone know how to avoid that issue?</p>\n"},{"tags":["java","swing","indexoutofboundsexception","stringindexoutofbounds"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1651470635,"post_id":72082778,"comment_id":127364232,"body_markdown":"indices in java are 0 based, so 0 to 4, not 1 to 5","body":"indices in java are 0 based, so 0 to 4, not 1 to 5"},{"owner":{"display_name":"user16870886"},"score":0,"creation_date":1651470875,"post_id":72082778,"comment_id":127364264,"body_markdown":"thanks its working i am beginner in java just never faces such problems before","body":"thanks its working i am beginner in java just never faces such problems before"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1651471813,"post_id":72082778,"comment_id":127364435,"body_markdown":"`&quot;//dividing word into char and then each char to strings&quot;`.... why? I must be missing something here. Can&#39;t you just compare the random word with the word from User for equality?","body":"<code>&quot;&#47;&#47;dividing word into char and then each char to strings&quot;</code>.... why? I must be missing something here. Can&#39;t you just compare the random word with the word from User for equality?"},{"owner":{"display_name":"user16870886"},"score":0,"creation_date":1651472095,"post_id":72082778,"comment_id":127364500,"body_markdown":"hi actually the task is compare character of word no only word compare each charcter of word to another word and if charcter match display it else set text to unmacthed character and l;et user do this try 6 times","body":"hi actually the task is compare character of word no only word compare each charcter of word to another word and if charcter match display it else set text to unmacthed character and l;et user do this try 6 times"},{"owner":{"display_name":"user16870886"},"score":0,"creation_date":1651472123,"post_id":72082778,"comment_id":127364507,"body_markdown":"if you still didn&#39;t get it i could explain the whoile scenario","body":"if you still didn&#39;t get it i could explain the whoile scenario"}],"owner":{"display_name":"user16870886"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651470759,"creation_date":1651470571,"question_id":72082778,"body_markdown":"I am making a wordly type guess game using java swing ,trying to match two word (one from user input and second from txt file) and display it on gui label everything is working perfectly if i used the check_word as pre defined like String check_word = &quot;moizz&quot; but if i try to  get the word from txt file a error come , my both word are even same but it throws an error\r\n\r\n```\r\njava.lang.StringIndexOutOfBoundsException: String index out of range: 5\r\n```\r\n\r\nhere is my code in submit button\r\n```\r\ntry{\r\n    BufferedReader reader = new BufferedReader(new FileReader(&quot;E:\\\\WordyGame\\\\src\\\\wordygame\\\\targetWords.txt&quot;));\r\n    String line = reader.readLine();\r\n    List&lt;String&gt; words = new ArrayList&lt;String&gt;();\r\n    while(line != null) {\r\n        String[] wordsLine = line.split(&quot; &quot;);\r\n        for(String word : wordsLine) {\r\n            words.add(word);\r\n        }\r\n        line = reader.readLine();\r\n    }\r\n\r\n    Random rand = new Random(System.currentTimeMillis());\r\n    //getting random word from txt file\r\n    String randomWord = words.get(rand.nextInt(words.size()));\r\n    System.out.println(randomWord);\r\n    String check_word = randomWord.trim().toLowerCase().toString();\r\n    \r\n    \r\n    \r\n    //getting user input\r\n     String take_word = type_word.getText().toLowerCase().toString();\r\n     System.out.println(take_word);\r\n     \r\n     //dividing word into char and then each char to strings\r\n     //user input word \r\n      char first = take_word.charAt(1);\r\n      String first1 =  String.valueOf(first);\r\n      char second = take_word.charAt(2);\r\n      String second1 =  String.valueOf(second);\r\n      char third = take_word.charAt(3);\r\n      String third1 =  String.valueOf(third);\r\n      char fourth = take_word.charAt(4);\r\n      String fourth1 =  String.valueOf(fourth);\r\n      char fifth = take_word.charAt(5);\r\n      String fifth1 =  String.valueOf(fifth);\r\n      \r\n      //random word from file\r\n      \r\n      char first2 = check_word.charAt(1);\r\n      String first22 =  String.valueOf(first);\r\n      char second2 = check_word.charAt(2);\r\n      String second22 =  String.valueOf(second);\r\n      char third2 = check_word.charAt(3);\r\n      String third22 =  String.valueOf(third);\r\n      char fourth2 = check_word.charAt(4);\r\n      String fourth22 =  String.valueOf(fourth);\r\n      char fifth2 = check_word.charAt(5);\r\n      String fifth22 =  String.valueOf(fifth);\r\n      \r\n      \r\n      \r\n      \r\n     \r\n    if(take_word.length() &lt; 7) \r\n    {\r\n        if(first1.trim().equals(first22))\r\n        {\r\n                          word_1.setText(first1);\r\n                          word_1.setBackground(Color.yellow);\r\n        }\r\n        else if(second1.trim().equals(second22))\r\n        {\r\n\r\n                          word_2.setText(second1);\r\n                          \r\n        }\r\n        if(third1.trim().equals(third22))\r\n        {\r\n                          \r\n                          word_3.setText(third1);\r\n        }\r\n        if(fourth1.trim().equals(fourth22))                \r\n        {\r\n                         \r\n                          word_4.setText(fourth1);\r\n                          \r\n                          \r\n        }\r\n        if(fifth1.trim().equals(fifth22))\r\n         {\r\n                         \r\n                          word_5.setText(fifth1);\r\n                          //displaying charchter on GUI\r\n        }                                  \r\n    }\r\n     else\r\n     {\r\n         JOptionPane.showMessageDialog(this,&quot;only 5 char word are allowed Number&quot;);\r\n     }\r\n} catch (Exception e) {\r\n        System.out.println(e);\r\n}\r\n```\r\ncan someone help me out i tried different things but this error isn&#39;t solved\r\n\r\n","title":"wordly Guess game Error StringIndexOutofBound error","body":"<p>I am making a wordly type guess game using java swing ,trying to match two word (one from user input and second from txt file) and display it on gui label everything is working perfectly if i used the check_word as pre defined like String check_word = &quot;moizz&quot; but if i try to  get the word from txt file a error come , my both word are even same but it throws an error</p>\n<pre><code>java.lang.StringIndexOutOfBoundsException: String index out of range: 5\n</code></pre>\n<p>here is my code in submit button</p>\n<pre><code>try{\n    BufferedReader reader = new BufferedReader(new FileReader(&quot;E:\\\\WordyGame\\\\src\\\\wordygame\\\\targetWords.txt&quot;));\n    String line = reader.readLine();\n    List&lt;String&gt; words = new ArrayList&lt;String&gt;();\n    while(line != null) {\n        String[] wordsLine = line.split(&quot; &quot;);\n        for(String word : wordsLine) {\n            words.add(word);\n        }\n        line = reader.readLine();\n    }\n\n    Random rand = new Random(System.currentTimeMillis());\n    //getting random word from txt file\n    String randomWord = words.get(rand.nextInt(words.size()));\n    System.out.println(randomWord);\n    String check_word = randomWord.trim().toLowerCase().toString();\n    \n    \n    \n    //getting user input\n     String take_word = type_word.getText().toLowerCase().toString();\n     System.out.println(take_word);\n     \n     //dividing word into char and then each char to strings\n     //user input word \n      char first = take_word.charAt(1);\n      String first1 =  String.valueOf(first);\n      char second = take_word.charAt(2);\n      String second1 =  String.valueOf(second);\n      char third = take_word.charAt(3);\n      String third1 =  String.valueOf(third);\n      char fourth = take_word.charAt(4);\n      String fourth1 =  String.valueOf(fourth);\n      char fifth = take_word.charAt(5);\n      String fifth1 =  String.valueOf(fifth);\n      \n      //random word from file\n      \n      char first2 = check_word.charAt(1);\n      String first22 =  String.valueOf(first);\n      char second2 = check_word.charAt(2);\n      String second22 =  String.valueOf(second);\n      char third2 = check_word.charAt(3);\n      String third22 =  String.valueOf(third);\n      char fourth2 = check_word.charAt(4);\n      String fourth22 =  String.valueOf(fourth);\n      char fifth2 = check_word.charAt(5);\n      String fifth22 =  String.valueOf(fifth);\n      \n      \n      \n      \n     \n    if(take_word.length() &lt; 7) \n    {\n        if(first1.trim().equals(first22))\n        {\n                          word_1.setText(first1);\n                          word_1.setBackground(Color.yellow);\n        }\n        else if(second1.trim().equals(second22))\n        {\n\n                          word_2.setText(second1);\n                          \n        }\n        if(third1.trim().equals(third22))\n        {\n                          \n                          word_3.setText(third1);\n        }\n        if(fourth1.trim().equals(fourth22))                \n        {\n                         \n                          word_4.setText(fourth1);\n                          \n                          \n        }\n        if(fifth1.trim().equals(fifth22))\n         {\n                         \n                          word_5.setText(fifth1);\n                          //displaying charchter on GUI\n        }                                  \n    }\n     else\n     {\n         JOptionPane.showMessageDialog(this,&quot;only 5 char word are allowed Number&quot;);\n     }\n} catch (Exception e) {\n        System.out.println(e);\n}\n</code></pre>\n<p>can someone help me out i tried different things but this error isn't solved</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","grpc"],"answers":[{"tags":[],"owner":{"account_id":1703806,"reputation":1346,"user_id":1563297,"accept_rate":86,"display_name":"Sergio Santiago"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651470720,"creation_date":1651470720,"answer_id":72082795,"question_id":72082299,"body_markdown":"You need to add to your cartservice service the port tag so that you specify that this port needs to be exposed.\n\n    //docker-compose.yaml\n    version: &#39;3.8&#39;\n\n    networks:\n        cartservice-net:\n            driver: bridge\n\n    services:\n\n    \n        cartservice:\n          image: cartservice:latest\n          container_name: cartservice\n          depends_on:\n            - cart-mysqldb\n          restart: always\n          build:\n            context: ./\n            dockerfile: Dockerfile\n          ports: \n            - &quot;9090:9090&quot;\n          networks:\n            - cartservice-net\n          environment:\n            MYSQL_HOST: cart-mysqldb\n            MYSQL_USER: root\n            MYSQL_PASSWORD: root\n            MYSQL_PORT: 3306\n\n        cart-mysqldb:\n          image: mysql:8.0.28\n          restart: unless-stopped\n          container_name: cart-mysqldb\n          ports: \n            - &quot;3307:3306&quot;\n          networks:\n            - cartservice-net\n          cap_add:\n            - SYS_NICE\n          environment:\n            MYSQL_DATABASE: dbpoc\n            MYSQL_ROOT_PASSWORD: root ","title":"How to docker compose grpc both client and server?","body":"<p>You need to add to your cartservice service the port tag so that you specify that this port needs to be exposed.</p>\n<pre><code>//docker-compose.yaml\nversion: '3.8'\n\nnetworks:\n    cartservice-net:\n        driver: bridge\n\nservices:\n\n\n    cartservice:\n      image: cartservice:latest\n      container_name: cartservice\n      depends_on:\n        - cart-mysqldb\n      restart: always\n      build:\n        context: ./\n        dockerfile: Dockerfile\n      ports: \n        - &quot;9090:9090&quot;\n      networks:\n        - cartservice-net\n      environment:\n        MYSQL_HOST: cart-mysqldb\n        MYSQL_USER: root\n        MYSQL_PASSWORD: root\n        MYSQL_PORT: 3306\n\n    cart-mysqldb:\n      image: mysql:8.0.28\n      restart: unless-stopped\n      container_name: cart-mysqldb\n      ports: \n        - &quot;3307:3306&quot;\n      networks:\n        - cartservice-net\n      cap_add:\n        - SYS_NICE\n      environment:\n        MYSQL_DATABASE: dbpoc\n        MYSQL_ROOT_PASSWORD: root \n</code></pre>\n"}],"owner":{"display_name":"user17944361"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72082795,"answer_count":1,"score":0,"last_activity_date":1651470720,"creation_date":1651465565,"question_id":72082299,"body_markdown":"Im trying create docker-compose yaml file with configuration of grpc port but i have no i idea how to it. i research but not able to find any sample or to read by the this spring boot - grpc java\r\n\r\nThis configuration is working but grpc port is not showing if i run in termminal.\r\n\r\nIm trying create docker-compose yaml file with configuration of grpc port but i have no i idea how to it. i research but not able to find any sample or to read by the this spring boot - grpc java\r\n\r\nThis configuration is working but grpc port is not showing if i run in termminal.\r\n\r\n```\r\n//appilication.yaml\r\n\r\nspring:\r\n  datasource:\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/dbpoc?characterEncoding=utf8&amp;useSSL=false&amp;autoReconnect=true\r\n    username: ${MYSQL_USER:root}\r\n    password: ${MYSQL_PASSWORD:root}\r\n    testWhileIdle: true\r\n    validationQuery: SELECT 1\r\n    \r\n  sql:\r\n    init:\r\n      mode: always\r\n      continue-on-error: true\r\n      \r\n  mvc:\r\n   throw-exception-if-no-handler-found: true\r\n  web:\r\n    resources:\r\n      add-mappings: false\r\n\r\n\r\ngrpc:\r\n  server:\r\n     port: 9090\r\n```\r\n\r\n    \r\n\r\n```\r\n//docker-compose.yaml\r\nversion: &#39;3.8&#39;\r\n\r\nnetworks:\r\n    cartservice-net:\r\n      driver: bridge\r\n\r\nservices:\r\n\r\n    \r\n  cartservice:\r\n    image: cartservice:latest\r\n    container_name: cartservice\r\n    depends_on:\r\n      - cart-mysqldb\r\n    restart: always\r\n    build:\r\n      context: ./\r\n      dockerfile: Dockerfile\r\n    networks:\r\n      - cartservice-net\r\n    environment:\r\n      MYSQL_HOST: cart-mysqldb\r\n      MYSQL_USER: root\r\n      MYSQL_PASSWORD: root\r\n      MYSQL_PORT: 3306\r\n\r\n  cart-mysqldb:\r\n    image: mysql:8.0.28\r\n    restart: unless-stopped\r\n    container_name: cart-mysqldb\r\n    ports: \r\n      - &quot;3307:3306&quot;\r\n    networks:\r\n      - cartservice-net\r\n    cap_add:\r\n      - SYS_NICE\r\n    environment:\r\n      MYSQL_DATABASE: dbpoc\r\n      MYSQL_ROOT_PASSWORD: root \r\n\r\n```\r\n\r\n```\r\n//Dockerfile\r\n\r\nFROM openjdk:8-jdk-alpine\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n```\r\n","title":"How to docker compose grpc both client and server?","body":"<p>Im trying create docker-compose yaml file with configuration of grpc port but i have no i idea how to it. i research but not able to find any sample or to read by the this spring boot - grpc java</p>\n<p>This configuration is working but grpc port is not showing if i run in termminal.</p>\n<p>Im trying create docker-compose yaml file with configuration of grpc port but i have no i idea how to it. i research but not able to find any sample or to read by the this spring boot - grpc java</p>\n<p>This configuration is working but grpc port is not showing if i run in termminal.</p>\n<pre><code>//appilication.yaml\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/dbpoc?characterEncoding=utf8&amp;useSSL=false&amp;autoReconnect=true\n    username: ${MYSQL_USER:root}\n    password: ${MYSQL_PASSWORD:root}\n    testWhileIdle: true\n    validationQuery: SELECT 1\n    \n  sql:\n    init:\n      mode: always\n      continue-on-error: true\n      \n  mvc:\n   throw-exception-if-no-handler-found: true\n  web:\n    resources:\n      add-mappings: false\n\n\ngrpc:\n  server:\n     port: 9090\n</code></pre>\n<pre><code>//docker-compose.yaml\nversion: '3.8'\n\nnetworks:\n    cartservice-net:\n      driver: bridge\n\nservices:\n\n    \n  cartservice:\n    image: cartservice:latest\n    container_name: cartservice\n    depends_on:\n      - cart-mysqldb\n    restart: always\n    build:\n      context: ./\n      dockerfile: Dockerfile\n    networks:\n      - cartservice-net\n    environment:\n      MYSQL_HOST: cart-mysqldb\n      MYSQL_USER: root\n      MYSQL_PASSWORD: root\n      MYSQL_PORT: 3306\n\n  cart-mysqldb:\n    image: mysql:8.0.28\n    restart: unless-stopped\n    container_name: cart-mysqldb\n    ports: \n      - &quot;3307:3306&quot;\n    networks:\n      - cartservice-net\n    cap_add:\n      - SYS_NICE\n    environment:\n      MYSQL_DATABASE: dbpoc\n      MYSQL_ROOT_PASSWORD: root \n\n</code></pre>\n<pre><code>//Dockerfile\n\nFROM openjdk:8-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":17470371,"reputation":310,"user_id":12666301,"display_name":"karim farhouti"},"score":0,"creation_date":1650873881,"post_id":71996211,"comment_id":127217322,"body_markdown":"Can you add more information about the logs of the Exception ?","body":"Can you add more information about the logs of the Exception ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650875158,"post_id":71996211,"comment_id":127217755,"body_markdown":"Please add the **full** stacktrace to your question.","body":"Please add the <b>full</b> stacktrace to your question."},{"owner":{"account_id":18459260,"reputation":73,"user_id":13447185,"display_name":"egor-n"},"score":0,"creation_date":1650875987,"post_id":71996211,"comment_id":127218044,"body_markdown":"sorry, added the stacktrace now","body":"sorry, added the stacktrace now"}],"answers":[{"tags":[],"owner":{"account_id":7478323,"reputation":175,"user_id":5683970,"display_name":"Jordi Alvarez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651392467,"creation_date":1651392467,"answer_id":72075021,"question_id":71996211,"body_markdown":"This NPE could be caused by something in your JPA entity model definition that Hibernate is not able to deal with. Probably this could be a misconfiguration in your JPA entities definition (but of course could be other stuff also).\r\n\r\nOne modification you could do in order to investigate deeper is to enable debug or even trace logging for the hibernate classes. This would probably give some good hint on where to look at.\r\n\r\nAdditionally, is your JPA entity model very complex?  Can you post it here?\r\n","title":"Error creating bean with name &#39;entityManagerFactory - nested exception is java.lang.NullPointerException","body":"<p>This NPE could be caused by something in your JPA entity model definition that Hibernate is not able to deal with. Probably this could be a misconfiguration in your JPA entities definition (but of course could be other stuff also).</p>\n<p>One modification you could do in order to investigate deeper is to enable debug or even trace logging for the hibernate classes. This would probably give some good hint on where to look at.</p>\n<p>Additionally, is your JPA entity model very complex?  Can you post it here?</p>\n"},{"tags":[],"owner":{"account_id":18459260,"reputation":73,"user_id":13447185,"display_name":"egor-n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651470638,"creation_date":1651470638,"answer_id":72082781,"question_id":71996211,"body_markdown":"The reason turned out to be the wrong type of the field in the Embedded class for a composite key. I thought I had to refer to the Id column of another entity and its type, but I had to refer to the whole object. \r\n\r\nSo instead this implementation\r\n\r\n    public class OrderItemPK implements Serializable {\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;ORDER_ID&quot;)\r\n        private **Long** orderId;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;PRODUCT_ID&quot;)\r\n        private **Long** productId;\r\n\r\n\r\nshould&#39;ve been this: \r\n\r\n    public class OrderItemPK implements Serializable {\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;ORDER_ID&quot;)\r\n        private **Order** order;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;PRODUCT_ID&quot;)\r\n        private **Product** product;","title":"Error creating bean with name &#39;entityManagerFactory - nested exception is java.lang.NullPointerException","body":"<p>The reason turned out to be the wrong type of the field in the Embedded class for a composite key. I thought I had to refer to the Id column of another entity and its type, but I had to refer to the whole object.</p>\n<p>So instead this implementation</p>\n<pre><code>public class OrderItemPK implements Serializable {\n\n    @ManyToOne\n    @JoinColumn(name=&quot;ORDER_ID&quot;)\n    private **Long** orderId;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;PRODUCT_ID&quot;)\n    private **Long** productId;\n</code></pre>\n<p>should've been this:</p>\n<pre><code>public class OrderItemPK implements Serializable {\n\n    @ManyToOne\n    @JoinColumn(name=&quot;ORDER_ID&quot;)\n    private **Order** order;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;PRODUCT_ID&quot;)\n    private **Product** product;\n</code></pre>\n"}],"owner":{"account_id":18459260,"reputation":73,"user_id":13447185,"display_name":"egor-n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5888,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72082781,"answer_count":2,"score":1,"last_activity_date":1651470638,"creation_date":1650873444,"question_id":71996211,"body_markdown":"I&#39;m only learning Java and Spring and after several projects/tutorials went well I&#39;m stuck with this error on a new project: \r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;entityManagerFactory&#39; defined in class path\r\n&gt; resource\r\n&gt; [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]:\r\n&gt; Invocation of init method failed; nested exception is\r\n&gt; java.lang.NullPointerException\r\n\r\nI googled and checked stackoverflow questions, but haven&#39;t seen *&quot;nested exception is java.lang.NullPointerException&quot;* in any cases. It&#39;s quite a vague error message to me, so I can&#39;t understand what&#39;s causing the error. \r\n\r\nHere&#39;s my pom.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.7&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;shoptest&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;shoptest&lt;/name&gt;\r\n        &lt;description&gt;Shop Test for my project&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.22&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n**Edit**: Stack trace: \r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    \tat com.example.shoptest.ShoptestApplication.main(ShoptestApplication.java:10) ~[classes/:na]\r\n    Caused by: java.lang.NullPointerException: null\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1672) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \t... 16 common frames omitted\r\n\r\n","title":"Error creating bean with name &#39;entityManagerFactory - nested exception is java.lang.NullPointerException","body":"<p>I'm only learning Java and Spring and after several projects/tutorials went well I'm stuck with this error on a new project:</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'entityManagerFactory' defined in class path\nresource\n[org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]:\nInvocation of init method failed; nested exception is\njava.lang.NullPointerException</p>\n</blockquote>\n<p>I googled and checked stackoverflow questions, but haven't seen <em>&quot;nested exception is java.lang.NullPointerException&quot;</em> in any cases. It's quite a vague error message to me, so I can't understand what's causing the error.</p>\n<p>Here's my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;shoptest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;shoptest&lt;/name&gt;\n    &lt;description&gt;Shop Test for my project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Edit</strong>: Stack trace:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\n    at com.example.shoptest.ShoptestApplication.main(ShoptestApplication.java:10) ~[classes/:na]\nCaused by: java.lang.NullPointerException: null\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1672) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.19.jar:5.3.19]\n    ... 16 common frames omitted\n</code></pre>\n"},{"tags":["java","native","h2","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561132745,"creation_date":1561132745,"answer_id":56706872,"question_id":56706044,"body_markdown":"Yes, at least for now, we don&#39;t support running H2 as a server in native mode. The only thing we support is connecting to a remote H2 database using the H2 JDBC client.\r\n\r\nIt didn&#39;t seem like time well spent at the time and, to be honest, I&#39;m not sure we ever will.\r\n\r\nIf you&#39;re interested, feel free to try to get it working but it might not be easy.","title":"H2 database compiled into a native-image is only functional as a client","body":"<p>Yes, at least for now, we don't support running H2 as a server in native mode. The only thing we support is connecting to a remote H2 database using the H2 JDBC client.</p>\n\n<p>It didn't seem like time well spent at the time and, to be honest, I'm not sure we ever will.</p>\n\n<p>If you're interested, feel free to try to get it working but it might not be easy.</p>\n"},{"tags":[],"owner":{"account_id":25169703,"reputation":21,"user_id":19012683,"display_name":"Sivananda Panda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651470074,"creation_date":1651470074,"answer_id":72082722,"question_id":56706044,"body_markdown":"This is now supported in quarkus.\r\n\r\nIf you want to run integration tests in native executable, you can add @QuarkusTestResource(H2DatabaseTestResource.class) on any class in your integration tests. The test suite will start and stop the embedded database as a separate process as necessary to run your tests. \r\n\r\nExample,\r\n\r\n\r\n    import io.quarkus.test.common.QuarkusTestResource;\r\n    import io.quarkus.test.h2.H2DatabaseTestResource;\r\n    \r\n    @QuarkusTestResource(H2DatabaseTestResource.class)\r\n    public class TestResources {}\r\n\r\nThis allows you to test your application even when it is compiled into a native executable, while the database will run in the JVM as usual.\r\n\r\nConnect to it using:\r\n\r\n    quarkus.datasource.db-kind=h2\r\n    quarkus.datasource.jdbc.url=jdbc:h2:tcp://localhost/mem:test","title":"H2 database compiled into a native-image is only functional as a client","body":"<p>This is now supported in quarkus.</p>\n<p>If you want to run integration tests in native executable, you can add @QuarkusTestResource(H2DatabaseTestResource.class) on any class in your integration tests. The test suite will start and stop the embedded database as a separate process as necessary to run your tests.</p>\n<p>Example,</p>\n<pre><code>import io.quarkus.test.common.QuarkusTestResource;\nimport io.quarkus.test.h2.H2DatabaseTestResource;\n\n@QuarkusTestResource(H2DatabaseTestResource.class)\npublic class TestResources {}\n</code></pre>\n<p>This allows you to test your application even when it is compiled into a native executable, while the database will run in the JVM as usual.</p>\n<p>Connect to it using:</p>\n<pre><code>quarkus.datasource.db-kind=h2\nquarkus.datasource.jdbc.url=jdbc:h2:tcp://localhost/mem:test\n</code></pre>\n"}],"owner":{"account_id":7991612,"reputation":41,"user_id":6029307,"display_name":"J&#233;r&#233;mie Viel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1183,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1651470074,"creation_date":1561129710,"question_id":56706044,"body_markdown":"After build the native image I&#39;ve the following error \r\nI&#39;m using a H2 database in file mode.\r\nDo I should understand that it&#39;s not possible to use H2 in native mode using a file DB ?\r\n\r\n\r\n./controler-1.0-SNAPSHOT-runner -Dquarkus.datasource.url=jdbc:h2:~/Dev/controler/sic\r\n\r\nquarkus.datasource.url=jdbc:h2:./sic\r\nquarkus.datasource.driver=org.h2.Driver\r\n\r\n```\r\norg.quartz.SchedulerException: Job threw an unhandled exception. [See nested exception: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection]\r\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:213)\r\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\n        at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:473)\r\n        at com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:193)\r\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1538)\r\n        at org.hibernate.query.Query.getResultList(Query.java:165)\r\n        at com.evolis.rpms.sic.controler.StatusBean.checkHostersState(StatusBean.java:100)\r\n        at com.evolis.rpms.sic.controler.StatusBean_Subclass.checkHostersState$$superaccessor6(Unknown Source)\r\n        at com.evolis.rpms.sic.controler.StatusBean_Subclass$$function$$12.apply(Unknown Source)\r\n        at io.quarkus.arc.InvocationContextImpl.interceptorChainCompleted(InvocationContextImpl.java:141)\r\n        at io.quarkus.arc.InvocationContextImpl.proceed(InvocationContextImpl.java:161)\r\n        at io.quarkus.arc.ActivateRequestContextInterceptor.aroundInvoke(ActivateRequestContextInterceptor.java:22)\r\n        at io.quarkus.arc.ActivateRequestContextInterceptor_Bean.intercept(Unknown Source)\r\n        at io.quarkus.arc.InvocationContextImpl$InterceptorInvocation.invoke(InvocationContextImpl.java:254)\r\n        at io.quarkus.arc.InvocationContextImpl.invokeNext(InvocationContextImpl.java:133)\r\n        at io.quarkus.arc.InvocationContextImpl.proceed(InvocationContextImpl.java:157)\r\n        at com.evolis.rpms.sic.controler.StatusBean_Subclass.checkHostersState(Unknown Source)\r\n        at com.evolis.rpms.sic.controler.StatusBean_ClientProxy.checkHostersState(Unknown Source)\r\n        at com.evolis.rpms.sic.controler.StatusBean_ScheduledInvoker_checkHostersState_68e943c3d502cee246226dbe51d54e7cd7502168.invoke(Unknown Source)\r\n        at io.quarkus.scheduler.runtime.QuartzScheduler$InvokerJob.execute(QuartzScheduler.java:249)\r\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n        ... 3 more\r\nCaused by: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection\r\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109)\r\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:47)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\r\n        at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1988)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1918)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1896)\r\n        at org.hibernate.loader.Loader.doQuery(Loader.java:936)\r\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:339)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2693)\r\n        at org.hibernate.loader.Loader.listUsingQueryCache(Loader.java:2540)\r\n        at org.hibernate.loader.Loader.list(Loader.java:2502)\r\n        at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:504)\r\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:396)\r\n        at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n        at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1537)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1561)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1529)\r\n        ... 19 more\r\nCaused by: org.h2.jdbc.JdbcSQLException: General error: &quot;java.lang.UnsupportedOperationException: H2 database compiled into a native-image is only functional as a client: can&#39;t create an Embedded Database Session&quot; [50000-197]\r\n        at org.h2.message.TraceObject.logAndConvert(TraceObject.java:357)\r\n        at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:140)\r\n        at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:103)\r\n        at org.h2.Driver.connect(Driver.java:69)\r\n        at io.agroal.pool.ConnectionFactory.createConnection(ConnectionFactory.java:200)\r\n        at io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:357)\r\n        at io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:346)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at io.agroal.pool.util.PriorityScheduledExecutor.beforeExecute(PriorityScheduledExecutor.java:64)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n        ... 2 more\r\nCaused by: java.lang.UnsupportedOperationException: H2 database compiled into a native-image is only functional as a client: can&#39;t create an Embedded Database Session\r\n        at org.h2.engine.ConnectionInfo.isRemote(ConnectionInfo.java:20)\r\n        at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:331)\r\n        at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:124)\r\n        ... 12 more\r\n```","title":"H2 database compiled into a native-image is only functional as a client","body":"<p>After build the native image I've the following error \nI'm using a H2 database in file mode.\nDo I should understand that it's not possible to use H2 in native mode using a file DB ?</p>\n\n<p>./controler-1.0-SNAPSHOT-runner -Dquarkus.datasource.url=jdbc:h2:~/Dev/controler/sic</p>\n\n<p>quarkus.datasource.url=jdbc:h2:./sic\nquarkus.datasource.driver=org.h2.Driver</p>\n\n<pre><code>org.quartz.SchedulerException: Job threw an unhandled exception. [See nested exception: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection]\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:213)\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\n        at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:473)\n        at com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:193)\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1538)\n        at org.hibernate.query.Query.getResultList(Query.java:165)\n        at com.evolis.rpms.sic.controler.StatusBean.checkHostersState(StatusBean.java:100)\n        at com.evolis.rpms.sic.controler.StatusBean_Subclass.checkHostersState$$superaccessor6(Unknown Source)\n        at com.evolis.rpms.sic.controler.StatusBean_Subclass$$function$$12.apply(Unknown Source)\n        at io.quarkus.arc.InvocationContextImpl.interceptorChainCompleted(InvocationContextImpl.java:141)\n        at io.quarkus.arc.InvocationContextImpl.proceed(InvocationContextImpl.java:161)\n        at io.quarkus.arc.ActivateRequestContextInterceptor.aroundInvoke(ActivateRequestContextInterceptor.java:22)\n        at io.quarkus.arc.ActivateRequestContextInterceptor_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.InvocationContextImpl$InterceptorInvocation.invoke(InvocationContextImpl.java:254)\n        at io.quarkus.arc.InvocationContextImpl.invokeNext(InvocationContextImpl.java:133)\n        at io.quarkus.arc.InvocationContextImpl.proceed(InvocationContextImpl.java:157)\n        at com.evolis.rpms.sic.controler.StatusBean_Subclass.checkHostersState(Unknown Source)\n        at com.evolis.rpms.sic.controler.StatusBean_ClientProxy.checkHostersState(Unknown Source)\n        at com.evolis.rpms.sic.controler.StatusBean_ScheduledInvoker_checkHostersState_68e943c3d502cee246226dbe51d54e7cd7502168.invoke(Unknown Source)\n        at io.quarkus.scheduler.runtime.QuartzScheduler$InvokerJob.execute(QuartzScheduler.java:249)\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n        ... 3 more\nCaused by: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:47)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\n        at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1988)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1918)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1896)\n        at org.hibernate.loader.Loader.doQuery(Loader.java:936)\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:339)\n        at org.hibernate.loader.Loader.doList(Loader.java:2693)\n        at org.hibernate.loader.Loader.listUsingQueryCache(Loader.java:2540)\n        at org.hibernate.loader.Loader.list(Loader.java:2502)\n        at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:504)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:396)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\n        at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1537)\n        at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1561)\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1529)\n        ... 19 more\nCaused by: org.h2.jdbc.JdbcSQLException: General error: \"java.lang.UnsupportedOperationException: H2 database compiled into a native-image is only functional as a client: can't create an Embedded Database Session\" [50000-197]\n        at org.h2.message.TraceObject.logAndConvert(TraceObject.java:357)\n        at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:140)\n        at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:103)\n        at org.h2.Driver.connect(Driver.java:69)\n        at io.agroal.pool.ConnectionFactory.createConnection(ConnectionFactory.java:200)\n        at io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:357)\n        at io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:346)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at io.agroal.pool.util.PriorityScheduledExecutor.beforeExecute(PriorityScheduledExecutor.java:64)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n        ... 2 more\nCaused by: java.lang.UnsupportedOperationException: H2 database compiled into a native-image is only functional as a client: can't create an Embedded Database Session\n        at org.h2.engine.ConnectionInfo.isRemote(ConnectionInfo.java:20)\n        at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:331)\n        at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:124)\n        ... 12 more\n</code></pre>\n"},{"tags":["java","junit","devops","gitlab-ci","jacoco"],"comments":[{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1651808634,"post_id":72082642,"comment_id":127456447,"body_markdown":"This has been resolved by adding exclude in pom.xml only for goal: &quot;report&quot;\nwe do not need to add the same exclusion in gitlab-ci.yml file, the report will be generated according to the plugin configuration.","body":"This has been resolved by adding exclude in pom.xml only for goal: &quot;report&quot; we do not need to add the same exclusion in gitlab-ci.yml file, the report will be generated according to the plugin configuration."}],"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651469341,"creation_date":1651469341,"question_id":72082642,"body_markdown":"I want to exclude some packages from my jacoco coverage report.\r\nI have excluded the packages in the pom.xml where I have added the jacoco plugin and it&#39;s working fine, I cannot see the excluded package in the report as expected.\r\n\r\n          &lt;configuration&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/utilities/**/*&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n          &lt;/configuration&gt;\r\n\r\nThe same thing I wanted to do in the below git-ci.yml file for coverage stage.\r\n\r\n     coverage:\r\n      stage: coverage\r\n      script:\r\n        - mvn $MAVEN_CLI_OPTS clean org.jacoco:jacoco-maven-plugin:prepare-agent test jacoco:report\r\n        - cat target/site/jacoco/index.html | grep -o &#39;Total[^%]*%&#39; | sed &#39;s/&lt;.*&gt;/ /; s/Total/Jacoco Coverage Total:/&#39;\r\n      artifacts:\r\n        paths:\r\n          - target/site/jacoco/jacoco.xml\r\n\r\n\r\n    cat target/site/jacoco/index.html | grep -o &#39;Total[^%]*%&#39; | sed &#39;s/&lt;.*&gt;/ /; s/Total/Jacoco Coverage Total:/&#39; -- output of this is percentage coverage of entire classes in my project.\r\n\r\nI am not sure how to achieve this using gitlab-ci?  \r\n\r\n","title":"Exclude packages from Jacoco report using gitlab-ci.yml","body":"<p>I want to exclude some packages from my jacoco coverage report.\nI have excluded the packages in the pom.xml where I have added the jacoco plugin and it's working fine, I cannot see the excluded package in the report as expected.</p>\n<pre><code>      &lt;configuration&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/utilities/**/*&lt;/exclude&gt;\n            &lt;/excludes&gt;\n      &lt;/configuration&gt;\n</code></pre>\n<p>The same thing I wanted to do in the below git-ci.yml file for coverage stage.</p>\n<pre><code> coverage:\n  stage: coverage\n  script:\n    - mvn $MAVEN_CLI_OPTS clean org.jacoco:jacoco-maven-plugin:prepare-agent test jacoco:report\n    - cat target/site/jacoco/index.html | grep -o 'Total[^%]*%' | sed 's/&lt;.*&gt;/ /; s/Total/Jacoco Coverage Total:/'\n  artifacts:\n    paths:\n      - target/site/jacoco/jacoco.xml\n\n\ncat target/site/jacoco/index.html | grep -o 'Total[^%]*%' | sed 's/&lt;.*&gt;/ /; s/Total/Jacoco Coverage Total:/' -- output of this is percentage coverage of entire classes in my project.\n</code></pre>\n<p>I am not sure how to achieve this using gitlab-ci?</p>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-teams"],"comments":[{"owner":{"account_id":5914573,"reputation":528,"user_id":4653764,"accept_rate":25,"display_name":"Pawan Tiwari"},"score":1,"creation_date":1654252221,"post_id":69586951,"comment_id":128052018,"body_markdown":"Did you find any solution?","body":"Did you find any solution?"}],"owner":{"account_id":4780478,"reputation":31,"user_id":8038114,"display_name":"Matthew Hong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651468765,"creation_date":1634310884,"question_id":69586951,"body_markdown":"We are having problem uploading large Office files (Word, Excel) to Teams using MS Graph SDK for Java. Just wondering if anyone experienced the similar issue.\r\n\r\nHere are some interesting points:\r\n1. The problem happens constantly when the file size is over 200M. I don&#39;t see problem with file smaller than 100M.\r\n2. The problem only happens for MS Office files(Word, Excel for example), we have no problem uploading text files or zip files up to 800M;\r\n3. Most of the time, the exception happens at the end of uploading, and, the file actually was uploaded to MS Teams. Although the exception was thrown, we can see files in Teams and files can be opened without problem. \r\n4. We did see the exception happened in the middle of uploading, then the file was not uploaded to Teams.\r\n\r\n**Here is the code:**\r\n\r\n    public static void main(String[] args) {\r\n    \t\tList&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n    \r\n    \r\n    \t\tString fileName = &quot;270MBwith_video.docx&quot;;\r\n    \t\tString localFilePath = &quot;C:\\\\temp\\\\testfiles\\\\&quot;+fileName;\r\n    \t\t// Get an input stream for the file\r\n    \t\tFile file = new File(localFilePath);\r\n    \t\tInputStream fileStream = null;\r\n    \t\ttry {\r\n    \t\t\tfileStream = new FileInputStream(file);\r\n    \r\n    \t\t\tlong streamSize = file.length();\r\n    \r\n    \t\t\t// Create a callback used by the upload provider\r\n    \t\t\tIProgressCallback callback = new IProgressCallback() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\t// Called after each slice of the file is uploaded\r\n    \t\t\t\tpublic void progress(final long current, final long max) {\r\n    \t\t\t\t\tSystem.out.println(String.format(&quot;Uploaded %d bytes of %d total bytes&quot;, current, max));\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \r\n    \t\t\tDriveItemCreateUploadSessionParameterSet uploadParams = DriveItemCreateUploadSessionParameterSet\r\n    \t\t\t\t\t.newBuilder().withItem(new DriveItemUploadableProperties()).build();\r\n    \r\n    \t\t\tTokenCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n    \t\t\t\t\t.clientId(&quot;61117459-d25c-4a98-a8bb-**********&quot;).clientSecret(&quot;0lyT.5zoqn*********&quot;)\r\n    \t\t\t\t\t.tenantId(&quot;******.onmicrosoft.com&quot;).build();\r\n    \r\n    \t\t\tTokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes,\r\n    \t\t\t\t\tclientSecretCredential);\r\n    \r\n    \t\t\tGraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient.builder()\r\n    \t\t\t\t\t.authenticationProvider(tokenCredentialAuthProvider).buildClient();\r\n    \r\n    \t\t\t// Create an upload session\r\n    \t\t\tUploadSession uploadSession = graphClient\r\n    \t\t\t\t\t.drives(&quot;b!Mca1ElNvN0C6oM-T4Tln0L0SJAZimN9Dkdbe****&quot;)\r\n    \t\t\t\t\t.items(&quot;017N4JGSDWBUSNV4CPWZDJMLJZJFQZZS6X&quot;).itemWithPath(fileName).createUploadSession(null)\r\n    \t\t\t\t\t.buildRequest().post();\r\n    \r\n    \t\t\tLargeFileUploadTask&lt;DriveItem&gt; largeFileUploadTask = new LargeFileUploadTask&lt;DriveItem&gt;(uploadSession,\r\n    \t\t\t\t\tgraphClient, fileStream, streamSize, DriveItem.class);\r\n    \r\n    \t\t\t// Do the upload\r\n    \t\t\tLargeFileUploadResult&lt;DriveItem&gt; item = largeFileUploadTask.upload(10 * 320 * 1024, null, callback);\r\n    \t\t\tSystem.out.println(&quot;Uploaded to: &quot; + item.responseBody.webUrl);\r\n    \t\t\t\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\n**Here is the exception:**\r\n\r\n    Uploaded 271974400 bytes of 278847403 total bytes\r\n    Uploaded 275251200 bytes of 278847403 total bytes\r\n    com.microsoft.graph.core.ClientException: Request failed with error, retry if necessary.\r\n    \tat com.microsoft.graph.tasks.LargeFileUploadRequest.upload(LargeFileUploadRequest.java:100)\r\n    \tat com.microsoft.graph.tasks.LargeFileUploadTask.uploadAsync(LargeFileUploadTask.java:165)\r\n    \tat com.microsoft.graph.tasks.LargeFileUploadTask.upload(LargeFileUploadTask.java:253)\r\n    \tat testGraphSDK.largeFileUpload.main(largeFileUpload.java:72)\r\n    Caused by: com.microsoft.graph.core.ClientException: Error executing the request\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:406)\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:222)\r\n    \tat com.microsoft.graph.tasks.LargeFileUploadRequest.upload(LargeFileUploadRequest.java:98)\r\n    \t... 3 more\r\n    Caused by: java.net.SocketTimeoutException: Read timed out\r\n    \tat java.base/java.net.SocketInputStream.socketRead0(Native Method)\r\n    \tat java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\r\n    \tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)\r\n    \tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:448)\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1103)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:823)\r\n    \tat okio.Okio$2.read(Okio.java:140)\r\n    \tat okio.AsyncTimeout$2.read(AsyncTimeout.java:237)\r\n    \tat okio.RealBufferedSource.indexOf(RealBufferedSource.java:358)\r\n    \tat okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:230)\r\n    \tat okhttp3.internal.http1.Http1ExchangeCodec.readHeaderLine(Http1ExchangeCodec.java:242)\r\n    \tat okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.java:213)\r\n    \tat okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.java:115)\r\n    \tat okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:94)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:43)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat com.microsoft.graph.httpcore.RedirectHandler.intercept(RedirectHandler.java:137)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat com.microsoft.graph.httpcore.RetryHandler.intercept(RetryHandler.java:176)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:57)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat com.microsoft.graph.httpcore.TelemetryHandler.intercept(TelemetryHandler.java:68)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n    \tat okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:229)\r\n    \tat okhttp3.RealCall.execute(RealCall.java:81)\r\n    \tat com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:403)\r\n    \t... 5 more\r\n\r\n","title":"MS Graph SDK for Java failed to upload large Word files","body":"<p>We are having problem uploading large Office files (Word, Excel) to Teams using MS Graph SDK for Java. Just wondering if anyone experienced the similar issue.</p>\n<p>Here are some interesting points:</p>\n<ol>\n<li>The problem happens constantly when the file size is over 200M. I don't see problem with file smaller than 100M.</li>\n<li>The problem only happens for MS Office files(Word, Excel for example), we have no problem uploading text files or zip files up to 800M;</li>\n<li>Most of the time, the exception happens at the end of uploading, and, the file actually was uploaded to MS Teams. Although the exception was thrown, we can see files in Teams and files can be opened without problem.</li>\n<li>We did see the exception happened in the middle of uploading, then the file was not uploaded to Teams.</li>\n</ol>\n<p><strong>Here is the code:</strong></p>\n<pre><code>public static void main(String[] args) {\n        List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n\n\n        String fileName = &quot;270MBwith_video.docx&quot;;\n        String localFilePath = &quot;C:\\\\temp\\\\testfiles\\\\&quot;+fileName;\n        // Get an input stream for the file\n        File file = new File(localFilePath);\n        InputStream fileStream = null;\n        try {\n            fileStream = new FileInputStream(file);\n\n            long streamSize = file.length();\n\n            // Create a callback used by the upload provider\n            IProgressCallback callback = new IProgressCallback() {\n                @Override\n                // Called after each slice of the file is uploaded\n                public void progress(final long current, final long max) {\n                    System.out.println(String.format(&quot;Uploaded %d bytes of %d total bytes&quot;, current, max));\n                }\n            };\n\n            DriveItemCreateUploadSessionParameterSet uploadParams = DriveItemCreateUploadSessionParameterSet\n                    .newBuilder().withItem(new DriveItemUploadableProperties()).build();\n\n            TokenCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n                    .clientId(&quot;61117459-d25c-4a98-a8bb-**********&quot;).clientSecret(&quot;0lyT.5zoqn*********&quot;)\n                    .tenantId(&quot;******.onmicrosoft.com&quot;).build();\n\n            TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes,\n                    clientSecretCredential);\n\n            GraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient.builder()\n                    .authenticationProvider(tokenCredentialAuthProvider).buildClient();\n\n            // Create an upload session\n            UploadSession uploadSession = graphClient\n                    .drives(&quot;b!Mca1ElNvN0C6oM-T4Tln0L0SJAZimN9Dkdbe****&quot;)\n                    .items(&quot;017N4JGSDWBUSNV4CPWZDJMLJZJFQZZS6X&quot;).itemWithPath(fileName).createUploadSession(null)\n                    .buildRequest().post();\n\n            LargeFileUploadTask&lt;DriveItem&gt; largeFileUploadTask = new LargeFileUploadTask&lt;DriveItem&gt;(uploadSession,\n                    graphClient, fileStream, streamSize, DriveItem.class);\n\n            // Do the upload\n            LargeFileUploadResult&lt;DriveItem&gt; item = largeFileUploadTask.upload(10 * 320 * 1024, null, callback);\n            System.out.println(&quot;Uploaded to: &quot; + item.responseBody.webUrl);\n            \n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p><strong>Here is the exception:</strong></p>\n<pre><code>Uploaded 271974400 bytes of 278847403 total bytes\nUploaded 275251200 bytes of 278847403 total bytes\ncom.microsoft.graph.core.ClientException: Request failed with error, retry if necessary.\n    at com.microsoft.graph.tasks.LargeFileUploadRequest.upload(LargeFileUploadRequest.java:100)\n    at com.microsoft.graph.tasks.LargeFileUploadTask.uploadAsync(LargeFileUploadTask.java:165)\n    at com.microsoft.graph.tasks.LargeFileUploadTask.upload(LargeFileUploadTask.java:253)\n    at testGraphSDK.largeFileUpload.main(largeFileUpload.java:72)\nCaused by: com.microsoft.graph.core.ClientException: Error executing the request\n    at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:406)\n    at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:222)\n    at com.microsoft.graph.tasks.LargeFileUploadRequest.upload(LargeFileUploadRequest.java:98)\n    ... 3 more\nCaused by: java.net.SocketTimeoutException: Read timed out\n    at java.base/java.net.SocketInputStream.socketRead0(Native Method)\n    at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:448)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68)\n    at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1103)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:823)\n    at okio.Okio$2.read(Okio.java:140)\n    at okio.AsyncTimeout$2.read(AsyncTimeout.java:237)\n    at okio.RealBufferedSource.indexOf(RealBufferedSource.java:358)\n    at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:230)\n    at okhttp3.internal.http1.Http1ExchangeCodec.readHeaderLine(Http1ExchangeCodec.java:242)\n    at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.java:213)\n    at okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.java:115)\n    at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:94)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:43)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at com.microsoft.graph.httpcore.RedirectHandler.intercept(RedirectHandler.java:137)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at com.microsoft.graph.httpcore.RetryHandler.intercept(RetryHandler.java:176)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:57)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at com.microsoft.graph.httpcore.TelemetryHandler.intercept(TelemetryHandler.java:68)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:229)\n    at okhttp3.RealCall.execute(RealCall.java:81)\n    at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:403)\n    ... 5 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1651416900,"post_id":72077765,"comment_id":127355281,"body_markdown":"You looked at the API docs to see what `nextLine()` returns?","body":"You looked at the API docs to see what <code>nextLine()</code> returns?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1651417176,"post_id":72077765,"comment_id":127355343,"body_markdown":"Can you please define what is *not* a string?","body":"Can you please define what is <i>not</i> a string?"},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1651418240,"post_id":72077765,"comment_id":127355591,"body_markdown":"Note as well that there is no need for `c`. You can loop with `while (true) { ... }` and use &#39;break&#39; to exit the loop.","body":"Note as well that there is no need for <code>c</code>. You can loop with <code>while (true) { ... }</code> and use &#39;break&#39; to exit the loop."}],"answers":[{"tags":[],"owner":{"display_name":"user14687465"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651417570,"creation_date":1651417570,"answer_id":72077894,"question_id":72077765,"body_markdown":"Return type of `nextline()` is **String**. It means whatever is entered by user, it will be treated as a String(even if user enters a number, it will still be taken as a String). So there is no need in Exception handling in this case.","title":"How to check if input is string with Try Catch?","body":"<p>Return type of <code>nextline()</code> is <strong>String</strong>. It means whatever is entered by user, it will be treated as a String(even if user enters a number, it will still be taken as a String). So there is no need in Exception handling in this case.</p>\n"},{"tags":[],"owner":{"account_id":25152289,"reputation":11,"user_id":18997493,"display_name":"Jason Barbour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651417864,"creation_date":1651417864,"answer_id":72077935,"question_id":72077765,"body_markdown":"Any input will be a String. If what you want is to check if there are any numbers or special characters inside instead of letters then u can loop through the String and use the Character.isAlphabetic() that will return false if any character is not alphabetic. ","title":"How to check if input is string with Try Catch?","body":"<p>Any input will be a String. If what you want is to check if there are any numbers or special characters inside instead of letters then u can loop through the String and use the Character.isAlphabetic() that will return false if any character is not alphabetic.</p>\n"},{"tags":[],"owner":{"account_id":17360629,"reputation":1309,"user_id":12576990,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651468577,"creation_date":1651418275,"answer_id":72077987,"question_id":72077765,"body_markdown":"I think this approach would work for you:\r\n\r\n```java\r\n    public static void main(String args[]){\r\n        String name = &quot;&quot;;\r\n        Scanner myObj = new Scanner(System.in);\r\n\r\n        final String correctExpectedName = &quot;Nick&quot;;\r\n        while(name.length() == 0) {\r\n            System.out.print(&quot;Enter name: &quot;);\r\n            String tempInput = myObj.nextLine();\r\n            if (correctExpectedName.equals(tempInput)) {\r\n                name = tempInput; // here you can also use name = correctExpectedName;\r\n            } else {\r\n                System.out.println(&quot;Name is not correct. Please try again ...&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nPlease don&#39;t use exceptions to control your application logic flow. Exceptions have different purpose.","title":"How to check if input is string with Try Catch?","body":"<p>I think this approach would work for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String args[]){\n        String name = &quot;&quot;;\n        Scanner myObj = new Scanner(System.in);\n\n        final String correctExpectedName = &quot;Nick&quot;;\n        while(name.length() == 0) {\n            System.out.print(&quot;Enter name: &quot;);\n            String tempInput = myObj.nextLine();\n            if (correctExpectedName.equals(tempInput)) {\n                name = tempInput; // here you can also use name = correctExpectedName;\n            } else {\n                System.out.println(&quot;Name is not correct. Please try again ...&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>Please don't use exceptions to control your application logic flow. Exceptions have different purpose.</p>\n"}],"owner":{"account_id":6960493,"reputation":46,"user_id":5340108,"display_name":"Elijah.Lnd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651487916,"accepted_answer_id":72077894,"answer_count":3,"score":0,"last_activity_date":1651468577,"creation_date":1651416728,"question_id":72077765,"body_markdown":"I have the following code with a try .. catch operation that checks whether or not it is a String. However , no matter the input it will not throw an exception . What I want it to do is check whether or not the input is text for example &quot;Nick&quot; and if its not to them throw an exception and prompt the user to try again.\r\n\r\n```java\r\npublic static void main(String args[]) {\r\n\tint c = 1\r\n\tString temp, name=&quot;&quot; ;\r\n\tScanner myObj = new Scanner(System.in);  // Create a Scanner object\r\n\tSystem.out.println(&quot;Enter name&quot;);\r\n\r\n\twhile (c == 1) {\r\n\t\ttry {\r\n\t\t\ttemp = myObj.nextLine();\r\n\t\t\tname = temp;\r\n\t\t\tc = 2;\r\n\t\t} catch (InputMismatchException e) {\r\n\t\t\tSystem.out.println(&quot;Name is not a string. Try again.&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to check if input is string with Try Catch?","body":"<p>I have the following code with a try .. catch operation that checks whether or not it is a String. However , no matter the input it will not throw an exception . What I want it to do is check whether or not the input is text for example &quot;Nick&quot; and if its not to them throw an exception and prompt the user to try again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String args[]) {\n    int c = 1\n    String temp, name=&quot;&quot; ;\n    Scanner myObj = new Scanner(System.in);  // Create a Scanner object\n    System.out.println(&quot;Enter name&quot;);\n\n    while (c == 1) {\n        try {\n            temp = myObj.nextLine();\n            name = temp;\n            c = 2;\n        } catch (InputMismatchException e) {\n            System.out.println(&quot;Name is not a string. Try again.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sqlitejdbc"],"comments":[{"owner":{"account_id":4475864,"reputation":457,"user_id":3641003,"accept_rate":83,"display_name":"Roe hit"},"score":1,"creation_date":1651152592,"post_id":72044459,"comment_id":127299437,"body_markdown":"What&#39;s the error you&#39;re getting ? Can you please provide more info?","body":"What&#39;s the error you&#39;re getting ? Can you please provide more info?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1651159562,"post_id":72044459,"comment_id":127302538,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":21116530,"reputation":11,"user_id":15523523,"display_name":"APK3065620"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1651468163,"creation_date":1651152154,"question_id":72044459,"body_markdown":"My program throws an error when I try to execute truncate query using JDBC java with sqlite.\r\n```\r\nimport java.sql.*;\r\npublic class sqlTruncate {\r\n\tpublic static void main( String args[] ) {\r\n\t\ttry{\r\n\t\t\tConnection c = null;\r\n\t\t\tStatement stmt = null;\r\n\t\t\tClass.forName(&quot;org.sqlite.JDBC&quot;);\r\n\t\t\tc = DriverManager.getConnection(&quot;jdbc:sqlite:Mail.db&quot;);\r\n\t\t\tstmt = c.createStatement();\r\n\t\t\tString sql = &quot;TRUNCATE TABLE login&quot;;\r\n\t\t\tstmt.executeUpdate(sql);\r\n\t\t\tc.setAutoCommit(true);\r\n\t\t\tstmt.close();\r\n\t\t\tc.close();\r\n\t\t} catch ( Exception e ) {\r\n\t\t\tSystem.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\r\n\t\t\tSystem.exit(0);\r\n\t\t}\t\r\n\t}\r\n}\r\n```","title":"Why is JDBC SQLITE TRUNCATE operation throwing an error?","body":"<p>My program throws an error when I try to execute truncate query using JDBC java with sqlite.</p>\n<pre><code>import java.sql.*;\npublic class sqlTruncate {\n    public static void main( String args[] ) {\n        try{\n            Connection c = null;\n            Statement stmt = null;\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n            c = DriverManager.getConnection(&quot;jdbc:sqlite:Mail.db&quot;);\n            stmt = c.createStatement();\n            String sql = &quot;TRUNCATE TABLE login&quot;;\n            stmt.executeUpdate(sql);\n            c.setAutoCommit(true);\n            stmt.close();\n            c.close();\n        } catch ( Exception e ) {\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n            System.exit(0);\n        }   \n    }\n}\n</code></pre>\n"},{"tags":["java","android","contacts","calllog","xiaomi"],"owner":{"account_id":8302554,"reputation":65,"user_id":7035817,"display_name":"6uzm4n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651467893,"creation_date":1649257867,"question_id":71769298,"body_markdown":"I need to get the contact URI given the Call Log in order to be able to open the native &quot;Contacts&quot; app to show the info of the Contact that made a call, if any. In order to do this, CallLog.Calls have the property CACHED_LOOKUP_URI so you can access the contact that made the call. However, this is not working on Xiaomi devices.\r\n\r\nThis is a simplified version of the code I&#39;m using:\r\n\r\n```\r\nUri queryUri = CallLog.Calls.CONTENT_URI;\r\n\r\nString[] projection = new String[]{\r\n        CallLog.Calls._ID,\r\n        CallLog.Calls.CACHED_NAME,\r\n        CallLog.Calls.CACHED_LOOKUP_URI,\r\n};\r\n\r\nString sortOrder = CallLog.Calls.DATE + &quot; DESC&quot;;\r\n\r\nCursor cursor = context.getContentResolver().query(queryUri, projection, null, null, sortOrder);\r\n\r\nint nameIndex = cursor.getColumnIndex(CallLog.Calls.CACHED_NAME);\r\nint uriIndex = cursor.getColumnIndex(CallLog.Calls.CACHED_LOOKUP_URI);\r\n\r\n\r\nwhile (cursor.moveToNext()) {\r\n    String callerName = cursor.getString(nameIndex); // -&gt; Contact name String on every device I tested this on\r\n    String uri = cursor.getString(uriIndex); // -&gt; null on Xiaomi devices, correct URI String on every other device\r\n}\r\n```\r\n\r\nAs stated, this seems to only happen on Xiaomi devices. I know there are workaraunds by getting the number and doing another query in the Contacts database, but this is cumbersome at best, even more so when there is a native property that would allow me to do this by default.","title":"CallLog.Calls.CACHED_LOOKUP_URI not working on Xiaomi/MIUI devices","body":"<p>I need to get the contact URI given the Call Log in order to be able to open the native &quot;Contacts&quot; app to show the info of the Contact that made a call, if any. In order to do this, CallLog.Calls have the property CACHED_LOOKUP_URI so you can access the contact that made the call. However, this is not working on Xiaomi devices.</p>\n<p>This is a simplified version of the code I'm using:</p>\n<pre><code>Uri queryUri = CallLog.Calls.CONTENT_URI;\n\nString[] projection = new String[]{\n        CallLog.Calls._ID,\n        CallLog.Calls.CACHED_NAME,\n        CallLog.Calls.CACHED_LOOKUP_URI,\n};\n\nString sortOrder = CallLog.Calls.DATE + &quot; DESC&quot;;\n\nCursor cursor = context.getContentResolver().query(queryUri, projection, null, null, sortOrder);\n\nint nameIndex = cursor.getColumnIndex(CallLog.Calls.CACHED_NAME);\nint uriIndex = cursor.getColumnIndex(CallLog.Calls.CACHED_LOOKUP_URI);\n\n\nwhile (cursor.moveToNext()) {\n    String callerName = cursor.getString(nameIndex); // -&gt; Contact name String on every device I tested this on\n    String uri = cursor.getString(uriIndex); // -&gt; null on Xiaomi devices, correct URI String on every other device\n}\n</code></pre>\n<p>As stated, this seems to only happen on Xiaomi devices. I know there are workaraunds by getting the number and doing another query in the Contacts database, but this is cumbersome at best, even more so when there is a native property that would allow me to do this by default.</p>\n"},{"tags":["java","memory","chess","bitboard"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1651406806,"post_id":72076510,"comment_id":127353045,"body_markdown":"&quot;I feel like I&#39;m missing something here&quot; what do you think you&#39;re missing here? The reasoning seems correct.","body":"&quot;I feel like I&#39;m missing something here&quot; what do you think you&#39;re missing here? The reasoning seems correct."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1651406829,"post_id":72076510,"comment_id":127353055,"body_markdown":"The answer to this question is most probably out of scope for Stack Overflow. This is the hardest part of a chess engine. If we take a look at, for example, [Stockfish](https://github.com/official-stockfish/Stockfish), we get a feeling that this gets really complicate really fast.","body":"The answer to this question is most probably out of scope for Stack Overflow. This is the hardest part of a chess engine. If we take a look at, for example, <a href=\"https://github.com/official-stockfish/Stockfish\" rel=\"nofollow noreferrer\">Stockfish</a>, we get a feeling that this gets really complicate really fast."},{"owner":{"account_id":15986089,"reputation":3,"user_id":11536513,"display_name":"Kaleab_G"},"score":0,"creation_date":1651408100,"post_id":72076510,"comment_id":127353327,"body_markdown":"@Federico klez Culloca\n How does Stockfish calculate 80 moves ahead on average ([source](https://www.chessjournal.com/how-many-moves-ahead-does-a-chess-computer-think/#:~:text=Stockfish%20is%20one%20of%20the,tree%20to%20find%20good%20moves)) if its so computationally expensive to consider even just 4","body":"@Federico klez Culloca  How does Stockfish calculate 80 moves ahead on average (<a href=\"https://www.chessjournal.com/how-many-moves-ahead-does-a-chess-computer-think/#:~:text=Stockfish%20is%20one%20of%20the,tree%20to%20find%20good%20moves\" rel=\"nofollow noreferrer\">source</a>) if its so computationally expensive to consider even just 4"}],"answers":[{"tags":[],"owner":{"account_id":16676893,"reputation":1695,"user_id":12053079,"display_name":"eligolf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651467683,"creation_date":1651467683,"answer_id":72082493,"question_id":72076510,"body_markdown":"First, you don&#39;t want to create a new instance of the board state each move. If you are using e.g. Minimax then you make the move, make recursive call, then unmake the move. This way you always just have one board state which it considers. \r\n\r\nThen to minimize the number of moves you need to consider you want to make enhancements to the algorithm. The most common to start with is alpha-beta pruning which you can read more about here: https://www.chessprogramming.org/Alpha-Beta. Alpha beta pruning will always yield the same result as a minimax, but you consider less positions since you don&#39;t search the hopeless ones. \r\n\r\nThen there are tons of other pruning techniques that you can do to reduce the search tree. Most of these will not yield the same result since you &quot;manually&quot; choose to cut off certain positions that you &quot;think&quot; is going to be bad. This could be things like the assumption that there is always better to do something than nothing (null move pruning). \r\n\r\nOther easy things you can do to speed up algorithm is to look at move ordering. To make Minimax most efficient you always want to look at the best move first in each position. That way you will get more cutoffs and not search as many moves. Everything you need to know about chess programming you can find at https://www.chessprogramming.org/. ","title":"How to increase total positions considered for a chess engine","body":"<p>First, you don't want to create a new instance of the board state each move. If you are using e.g. Minimax then you make the move, make recursive call, then unmake the move. This way you always just have one board state which it considers.</p>\n<p>Then to minimize the number of moves you need to consider you want to make enhancements to the algorithm. The most common to start with is alpha-beta pruning which you can read more about here: <a href=\"https://www.chessprogramming.org/Alpha-Beta\" rel=\"nofollow noreferrer\">https://www.chessprogramming.org/Alpha-Beta</a>. Alpha beta pruning will always yield the same result as a minimax, but you consider less positions since you don't search the hopeless ones.</p>\n<p>Then there are tons of other pruning techniques that you can do to reduce the search tree. Most of these will not yield the same result since you &quot;manually&quot; choose to cut off certain positions that you &quot;think&quot; is going to be bad. This could be things like the assumption that there is always better to do something than nothing (null move pruning).</p>\n<p>Other easy things you can do to speed up algorithm is to look at move ordering. To make Minimax most efficient you always want to look at the best move first in each position. That way you will get more cutoffs and not search as many moves. Everything you need to know about chess programming you can find at <a href=\"https://www.chessprogramming.org/\" rel=\"nofollow noreferrer\">https://www.chessprogramming.org/</a>.</p>\n"}],"owner":{"account_id":15986089,"reputation":3,"user_id":11536513,"display_name":"Kaleab_G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72082493,"answer_count":1,"score":0,"last_activity_date":1651467683,"creation_date":1651406605,"question_id":72076510,"body_markdown":"I&#39;m writing a chess engine in Java and using bitboards to represent the board (12 64-bit numbers). The size of an instance of this class(its retained size) is 152Bytes according to IntelliJ debugger. \r\nWhen trying to see a few moves a head, for each move I consider I create a new instance to represent the new Board state. Below is what the Board class looks like approximately.\r\n\r\n    public long WP=0L, WN=0L, WB=0L, WR=0L, WQ=0L, WK=0L, BP=0L, BN=0L, BB=0L, BR=0L, BQ=0L, BK=0L;\r\n    long NOT_WHITE_PIECES;\r\n    long WHITE_PIECES;\r\n    long BLACK_PIECES;\r\n    long OCCUPIED;\r\n    long EMPTY;\r\n\r\n    public void updateBitboards() {}\r\n    public void updateMailbox() {}\r\n    public void movePiece(Move move) {}\r\n    public void drawBitboard() {}\r\n\r\nOther fields and methods are static so I don&#39;t think they affect the size of an instance.\r\nThe problem is, even if I want to consider only the first 4 moves in chess, there&#39;s ~8,000,000 possible combination of moves. So I&#39;m going to end up storing a total of 8,000,000*152B = 1,216,000,000B... which is 1.2GB.\r\n\r\nI feel like I&#39;m missing something here. How can I increase the number of positions I consider at a time?","title":"How to increase total positions considered for a chess engine","body":"<p>I'm writing a chess engine in Java and using bitboards to represent the board (12 64-bit numbers). The size of an instance of this class(its retained size) is 152Bytes according to IntelliJ debugger.\nWhen trying to see a few moves a head, for each move I consider I create a new instance to represent the new Board state. Below is what the Board class looks like approximately.</p>\n<pre><code>public long WP=0L, WN=0L, WB=0L, WR=0L, WQ=0L, WK=0L, BP=0L, BN=0L, BB=0L, BR=0L, BQ=0L, BK=0L;\nlong NOT_WHITE_PIECES;\nlong WHITE_PIECES;\nlong BLACK_PIECES;\nlong OCCUPIED;\nlong EMPTY;\n\npublic void updateBitboards() {}\npublic void updateMailbox() {}\npublic void movePiece(Move move) {}\npublic void drawBitboard() {}\n</code></pre>\n<p>Other fields and methods are static so I don't think they affect the size of an instance.\nThe problem is, even if I want to consider only the first 4 moves in chess, there's ~8,000,000 possible combination of moves. So I'm going to end up storing a total of 8,000,000*152B = 1,216,000,000B... which is 1.2GB.</p>\n<p>I feel like I'm missing something here. How can I increase the number of positions I consider at a time?</p>\n"},{"tags":["java","user-interface","javafx"],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651453494,"creation_date":1651453494,"answer_id":72081494,"question_id":72081384,"body_markdown":"It is because you are not resetting the sumMdg &amp; sumSdg variables. You need to reset these on the call of isMagicSquare().\r\n\r\n    public boolean isMagicSquare(int[][] myArray) {\r\n        sumMdg= 0;\r\n        sumSdg = 0;\r\n        for (int i = 0; i &lt; myArray.length; i++) {\r\n           ...\r\n           ...\r\n           ...\r\n        }\r\n        return (sumMdg == correctSum) &amp;&amp; (sumSdg == correctSum);\r\n    }\r\n\r\n","title":"Javafx text fields values worked only for the first user attempt","body":"<p>It is because you are not resetting the sumMdg &amp; sumSdg variables. You need to reset these on the call of isMagicSquare().</p>\n<pre><code>public boolean isMagicSquare(int[][] myArray) {\n    sumMdg= 0;\n    sumSdg = 0;\n    for (int i = 0; i &lt; myArray.length; i++) {\n       ...\n       ...\n       ...\n    }\n    return (sumMdg == correctSum) &amp;&amp; (sumSdg == correctSum);\n}\n</code></pre>\n"}],"owner":{"account_id":25168193,"reputation":11,"user_id":19011392,"display_name":"ADM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651467267,"creation_date":1651451820,"question_id":72081384,"body_markdown":"Summary:\r\nI am designing a JavaFX program that tests a matrix if it is a magic square or not. I have two buttons (submit and reset) with 2 handlers for each one. When the user entered the values and submitted them for the first time the program worked fine. However, in the second attempt, the program&#39;s results are always (&quot; it is not a magic square&quot;).\r\n\r\nHere is the code\r\n\r\n    package com.example.team9project;\r\n    \r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class MagicSquare extends Application {\r\n        // text entries for the matrix\r\n         TextField [][] fields = new TextField[3][3];\r\n    \r\n    \r\n         // the appropriate pane for a matrix\r\n        GridPane gridPane = new GridPane();\r\n        // helpfull variable for isMagicSquare method\r\n        final int correctSum=15;\r\n        int sumRow=0, sumColumn=0, sumMdg=0, sumSdg=0;\r\n    \r\n    \r\n        public void start(Stage primaryStage)\r\n        {\r\n            // creating buttons\r\n            Button submit = new Button(&quot;Submit&quot;);\r\n            Button reset = new Button(&quot;Reset&quot;);\r\n            // designing the pane\r\n            gridPane.setAlignment(Pos.CENTER);\r\n            gridPane.setPadding(new Insets(0,0,0,0));\r\n            // adding elements to the pane\r\n            gridPane.add(submit,1,3,2,1);\r\n            gridPane.add(reset,2,3,2,1);\r\n            for(int i=0; i&lt;3; i++){\r\n                for (int j=0;j&lt;3; j++){\r\n                    fields[i][j]= new TextField();\r\n                    gridPane.add( fields[i][j],i,j);\r\n                }\r\n            }\r\n            // add the choices to the combo box\r\n            //for(int i=1; i&lt;=9; i++){\r\n                //choices.getItems().add(i);\r\n           // }\r\n            // display combo box for\r\n            //choices.setOnAction(e -&gt;\r\n                    //setCell(choices.getValue())\r\n            //);\r\n    \r\n            reset.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                                  @Override\r\n                                  public void handle(ActionEvent actionEvent) {\r\n                                      for (int i = 0; i &lt; 3; i++) {\r\n                                          for(int j=0; j&lt;3; j++){\r\n                                              fields[i][j].setText(&quot;&quot;);\r\n                                          }\r\n                                      }\r\n                                  }\r\n                              }\r\n            );\r\n    \r\n    \r\n            //submit.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                //@Override\r\n                //public void handle(ActionEvent actionEvent) {\r\n    \r\n                //}\r\n           // });\r\n            SubmitHandler handler1= new SubmitHandler();\r\n            submit.setOnAction(handler1);\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n            Scene scene = new Scene(gridPane, 450, 100);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;Magic Square&quot;);\r\n            primaryStage.show();\r\n    \r\n        }\r\n        //public void setCell(Integer element){\r\n    \r\n            //choices.getItems().remove(element);\r\n    \r\n        //}\r\n    \r\n        // return true if the array represents a square matrix and false otherwise\r\n        public  boolean isMagicSquare(int[][] myArray){\r\n    \r\n            for( int i = 0 ; i &lt; myArray.length  ; i ++) {\r\n    \r\n                sumRow = sumColumn = 0;\r\n    \r\n                sumMdg = sumMdg + myArray[i][i];\r\n    \r\n                sumSdg = sumSdg + myArray[i][myArray.length - 1 - i];\r\n    \r\n    \r\n    \r\n                for (int j = 0; j &lt; myArray.length ; j++) {\r\n    \r\n                    sumRow = sumRow + myArray[i][j];\r\n    \r\n                    sumColumn = sumColumn + myArray[j][i];\r\n    \r\n                }\r\n    \r\n    \r\n    \r\n                if (sumColumn != correctSum || sumRow != correctSum)\r\n    \r\n                    return false;\r\n    \r\n            }\r\n    \r\n    \r\n    \r\n            return (sumMdg == correctSum ) &amp;&amp; ( sumSdg == correctSum );\r\n    \r\n        }\r\n    \r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        launch();\r\n    }\r\n    \r\n    class SubmitHandler implements EventHandler&lt;ActionEvent&gt;{\r\n    \r\n            @Override\r\n            public void handle(ActionEvent event){\r\n                int[][] values= new int[3][3];\r\n                for(int i=0; i&lt;3; i++){\r\n                    for(int j=0; j&lt;3; j++){\r\n                        // check if  the fields are empty\r\n                        if(fields[i][j].getText().compareTo(&quot;&quot;)==0){\r\n                            fields[i][j].setText(&quot;0&quot;);\r\n                        }\r\n                        // convert the text fields values&#39; to integers\r\n                        values[i][j]=Integer.parseInt(fields[i][j].getText());\r\n                    }\r\n                }\r\n                if(isMagicSquare(values)){\r\n                    System.out.println(&quot;The matrix is magic square&quot;);\r\n                }\r\n                else{\r\n                    System.out.println(&quot;The matrix is not a magic square&quot;);\r\n                }\r\n            }\r\n    \r\n    \r\n    }}\r\n\r\n","title":"Javafx text fields values worked only for the first user attempt","body":"<p>Summary:\nI am designing a JavaFX program that tests a matrix if it is a magic square or not. I have two buttons (submit and reset) with 2 handlers for each one. When the user entered the values and submitted them for the first time the program worked fine. However, in the second attempt, the program's results are always (&quot; it is not a magic square&quot;).</p>\n<p>Here is the code</p>\n<pre><code>package com.example.team9project;\n\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.io.IOException;\n\npublic class MagicSquare extends Application {\n    // text entries for the matrix\n     TextField [][] fields = new TextField[3][3];\n\n\n     // the appropriate pane for a matrix\n    GridPane gridPane = new GridPane();\n    // helpfull variable for isMagicSquare method\n    final int correctSum=15;\n    int sumRow=0, sumColumn=0, sumMdg=0, sumSdg=0;\n\n\n    public void start(Stage primaryStage)\n    {\n        // creating buttons\n        Button submit = new Button(&quot;Submit&quot;);\n        Button reset = new Button(&quot;Reset&quot;);\n        // designing the pane\n        gridPane.setAlignment(Pos.CENTER);\n        gridPane.setPadding(new Insets(0,0,0,0));\n        // adding elements to the pane\n        gridPane.add(submit,1,3,2,1);\n        gridPane.add(reset,2,3,2,1);\n        for(int i=0; i&lt;3; i++){\n            for (int j=0;j&lt;3; j++){\n                fields[i][j]= new TextField();\n                gridPane.add( fields[i][j],i,j);\n            }\n        }\n        // add the choices to the combo box\n        //for(int i=1; i&lt;=9; i++){\n            //choices.getItems().add(i);\n       // }\n        // display combo box for\n        //choices.setOnAction(e -&gt;\n                //setCell(choices.getValue())\n        //);\n\n        reset.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                              @Override\n                              public void handle(ActionEvent actionEvent) {\n                                  for (int i = 0; i &lt; 3; i++) {\n                                      for(int j=0; j&lt;3; j++){\n                                          fields[i][j].setText(&quot;&quot;);\n                                      }\n                                  }\n                              }\n                          }\n        );\n\n\n        //submit.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            //@Override\n            //public void handle(ActionEvent actionEvent) {\n\n            //}\n       // });\n        SubmitHandler handler1= new SubmitHandler();\n        submit.setOnAction(handler1);\n\n\n\n\n\n\n\n        Scene scene = new Scene(gridPane, 450, 100);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;Magic Square&quot;);\n        primaryStage.show();\n\n    }\n    //public void setCell(Integer element){\n\n        //choices.getItems().remove(element);\n\n    //}\n\n    // return true if the array represents a square matrix and false otherwise\n    public  boolean isMagicSquare(int[][] myArray){\n\n        for( int i = 0 ; i &lt; myArray.length  ; i ++) {\n\n            sumRow = sumColumn = 0;\n\n            sumMdg = sumMdg + myArray[i][i];\n\n            sumSdg = sumSdg + myArray[i][myArray.length - 1 - i];\n\n\n\n            for (int j = 0; j &lt; myArray.length ; j++) {\n\n                sumRow = sumRow + myArray[i][j];\n\n                sumColumn = sumColumn + myArray[j][i];\n\n            }\n\n\n\n            if (sumColumn != correctSum || sumRow != correctSum)\n\n                return false;\n\n        }\n\n\n\n        return (sumMdg == correctSum ) &amp;&amp; ( sumSdg == correctSum );\n\n    }\n\n\npublic static void main(String[] args)\n{\n    launch();\n}\n\nclass SubmitHandler implements EventHandler&lt;ActionEvent&gt;{\n\n        @Override\n        public void handle(ActionEvent event){\n            int[][] values= new int[3][3];\n            for(int i=0; i&lt;3; i++){\n                for(int j=0; j&lt;3; j++){\n                    // check if  the fields are empty\n                    if(fields[i][j].getText().compareTo(&quot;&quot;)==0){\n                        fields[i][j].setText(&quot;0&quot;);\n                    }\n                    // convert the text fields values' to integers\n                    values[i][j]=Integer.parseInt(fields[i][j].getText());\n                }\n            }\n            if(isMagicSquare(values)){\n                System.out.println(&quot;The matrix is magic square&quot;);\n            }\n            else{\n                System.out.println(&quot;The matrix is not a magic square&quot;);\n            }\n        }\n\n\n}}\n</code></pre>\n"},{"tags":["java","maven","jetty","maven-jetty-plugin"],"comments":[{"owner":{"account_id":30211,"reputation":2545,"user_id":82230,"accept_rate":86,"display_name":"slim"},"score":0,"creation_date":1435156260,"post_id":24644114,"comment_id":50083384,"body_markdown":"Changing the jetty.port setting inside jetty-http.xml worked for me. Maybe you have another application using port 9999?","body":"Changing the jetty.port setting inside jetty-http.xml worked for me. Maybe you have another application using port 9999?"},{"owner":{"account_id":2534270,"reputation":878,"user_id":2201814,"accept_rate":44,"display_name":"MHSaffari"},"score":0,"creation_date":1651467155,"post_id":24644114,"comment_id":127363710,"body_markdown":"For changing ssl default port: https://stackoverflow.com/a/72082416","body":"For changing ssl default port: <a href=\"https://stackoverflow.com/a/72082416\">stackoverflow.com/a/72082416</a>"}],"answers":[{"tags":[],"owner":{"account_id":22344,"reputation":941,"user_id":54997,"accept_rate":70,"display_name":"Magnus Lassi"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1404872290,"creation_date":1404871035,"answer_id":24644277,"question_id":24644114,"body_markdown":"does it work if you set the port when you start it from the command line like this:\r\n\r\n    java -jar start.jar -Djetty.port=9999\r\n","title":"Change Jetty default port","body":"<p>does it work if you set the port when you start it from the command line like this:</p>\n\n<pre><code>java -jar start.jar -Djetty.port=9999\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2752407,"reputation":21,"user_id":2371492,"display_name":"Danilo Silveira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417111048,"creation_date":1417111048,"answer_id":27176588,"question_id":24644114,"body_markdown":"Just for completeness on jetty 7 you can use this:\r\n\r\n    java -jar start.jar --module=http jetty.port=9080","title":"Change Jetty default port","body":"<p>Just for completeness on jetty 7 you can use this:</p>\n\n<pre><code>java -jar start.jar --module=http jetty.port=9080\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6456093,"reputation":41,"user_id":5001433,"display_name":"Haidong Zhang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434527245,"creation_date":1434524603,"answer_id":30884462,"question_id":24644114,"body_markdown":"I changed the port successfully, you can try to edit `jetty.port` in the file located at `$Jetty_home/start.d/http.ini`.\r\n","title":"Change Jetty default port","body":"<p>I changed the port successfully, you can try to edit <code>jetty.port</code> in the file located at <code>$Jetty_home/start.d/http.ini</code>.</p>\n"},{"tags":[],"owner":{"account_id":1498730,"reputation":81,"user_id":1404056,"display_name":"sja"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443104972,"creation_date":1443104972,"answer_id":32764014,"question_id":24644114,"body_markdown":"You need to change the http port in the start.ini file because it will over-right jetty-http.xml config.Or just comment the line in start.ini and keep your config from jetty-http.xml.\r\nIn [jetty home]/start.ini \r\n\r\n    ## HTTP port to listen on\r\n    #jetty.port=8080","title":"Change Jetty default port","body":"<p>You need to change the http port in the start.ini file because it will over-right jetty-http.xml config.Or just comment the line in start.ini and keep your config from jetty-http.xml.\nIn [jetty home]/start.ini </p>\n\n<pre><code>## HTTP port to listen on\n#jetty.port=8080\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4076942,"reputation":111,"user_id":3348367,"display_name":"user3348367"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1589303339,"creation_date":1449861716,"answer_id":34231022,"question_id":24644114,"body_markdown":"I did this in Jetty 9.x version. \r\nYou need to go to `$JETTY_HOME/start.ini` file and edit this setting     **jetty.port**. \r\n\r\nLets say that you want to run jetty at 9090 port: \r\nPlease change `jetty.port` setting in `$JETTY_HOME/start.ini` from \r\n\r\n    jetty.port=8080\r\n\r\nto\r\n   \r\n\r\n     jetty.port=9090\r\n\r\nThen start jetty using `java -jar start.jar` option.\r\nThen jetty will be running at 9090 port than default 8080 port.\r\nThen do `curl -i -XGET &quot;http://localhost:9090&quot;`. That should give you 200 http status. \r\n\r\nThats it.\r\n","title":"Change Jetty default port","body":"<p>I did this in Jetty 9.x version. \nYou need to go to <code>$JETTY_HOME/start.ini</code> file and edit this setting     <strong>jetty.port</strong>. </p>\n\n<p>Lets say that you want to run jetty at 9090 port: \nPlease change <code>jetty.port</code> setting in <code>$JETTY_HOME/start.ini</code> from </p>\n\n<pre><code>jetty.port=8080\n</code></pre>\n\n<p>to</p>\n\n<pre><code> jetty.port=9090\n</code></pre>\n\n<p>Then start jetty using <code>java -jar start.jar</code> option.\nThen jetty will be running at 9090 port than default 8080 port.\nThen do <code>curl -i -XGET \"http://localhost:9090\"</code>. That should give you 200 http status. </p>\n\n<p>Thats it.</p>\n"},{"tags":[],"owner":{"account_id":3993734,"reputation":542,"user_id":3291846,"accept_rate":67,"display_name":"amey91"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1458075460,"creation_date":1458075460,"answer_id":36021975,"question_id":24644114,"body_markdown":"Update:\r\n\r\nOn Jetty 9.x, `jetty.port` has been deprecated and you can use `jetty.http.port` instead, as shown below:\r\n\r\n    $&gt; cd $JETTY_HOME &amp;&amp; java -jar start.jar -Djetty.http.port=8080\r\n","title":"Change Jetty default port","body":"<p>Update:</p>\n\n<p>On Jetty 9.x, <code>jetty.port</code> has been deprecated and you can use <code>jetty.http.port</code> instead, as shown below:</p>\n\n<pre><code>$&gt; cd $JETTY_HOME &amp;&amp; java -jar start.jar -Djetty.http.port=8080\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2642218,"reputation":7263,"user_id":2285631,"accept_rate":67,"display_name":"sytolk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1469203468,"creation_date":1469195472,"answer_id":38528200,"question_id":24644114,"body_markdown":"On jetty 9.2.3.v20140905 it\\`s need to write in `/etc/default/jetty` \r\n\r\n    # JETTY_ARGS\r\n    #   The default arguments to pass to jetty.\r\n    #   For example\r\n    JETTY_ARGS=&quot;jetty.port=8080 jetty.spdy.port=8443 jetty.secure.port=443&quot;\r\n\r\nbut this change only http port. To change https port in jetty 9.2 create ini file `$JETTY_HOME/start.d/https.ini`\r\n    \r\n    # Initialize module https\r\n    #\r\n    --module=https\r\n    ## HTTPS Configuration\r\n    # HTTP port to listen on\r\n    https.port=8443\r\n    # HTTPS idle timeout in milliseconds\r\n    https.timeout=30000\r\n    # HTTPS Socket.soLingerTime in seconds. (-1 to disable)\r\n    # https.soLingerTime=-1\r\n\r\n\r\njetty [9.3][1] in `/etc/default/jetty`\r\n\r\n    # JETTY_ARGS\r\n    # The default arguments to pass to jetty.\r\n    # For example\r\n    JETTY_ARGS=&quot;jetty.http.port=8080 jetty.ssl.port=443&quot;\r\n\r\nor command line parameters `-Djetty.http.port=8080 -Djetty.ssl.port=443`\r\n\r\n  [1]: http://fossies.org/linux/www/jetty-distribution-9.3.10.v20160621.tar.gz/jetty-distribution-9.3.10.v20160621/bin/jetty.sh","title":"Change Jetty default port","body":"<p>On jetty 9.2.3.v20140905 it`s need to write in <code>/etc/default/jetty</code> </p>\n\n<pre><code># JETTY_ARGS\n#   The default arguments to pass to jetty.\n#   For example\nJETTY_ARGS=\"jetty.port=8080 jetty.spdy.port=8443 jetty.secure.port=443\"\n</code></pre>\n\n<p>but this change only http port. To change https port in jetty 9.2 create ini file <code>$JETTY_HOME/start.d/https.ini</code></p>\n\n<pre><code># Initialize module https\n#\n--module=https\n## HTTPS Configuration\n# HTTP port to listen on\nhttps.port=8443\n# HTTPS idle timeout in milliseconds\nhttps.timeout=30000\n# HTTPS Socket.soLingerTime in seconds. (-1 to disable)\n# https.soLingerTime=-1\n</code></pre>\n\n<p>jetty <a href=\"http://fossies.org/linux/www/jetty-distribution-9.3.10.v20160621.tar.gz/jetty-distribution-9.3.10.v20160621/bin/jetty.sh\" rel=\"noreferrer\">9.3</a> in <code>/etc/default/jetty</code></p>\n\n<pre><code># JETTY_ARGS\n# The default arguments to pass to jetty.\n# For example\nJETTY_ARGS=\"jetty.http.port=8080 jetty.ssl.port=443\"\n</code></pre>\n\n<p>or command line parameters <code>-Djetty.http.port=8080 -Djetty.ssl.port=443</code></p>\n"},{"tags":[],"owner":{"account_id":10994044,"reputation":21,"user_id":8076900,"display_name":"Haseeb Ahmad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537029423,"creation_date":1537027737,"answer_id":52346471,"question_id":24644114,"body_markdown":"If you are using **eclipse** you need to set the run configurations. When you install **jetty** in eclipse, the default port for jetty is **8080**.\r\n\r\nSo you need to change it into an XML file. If the problem remains, you need to change it in eclipse run configurations.\r\n\r\nI hope it works, as it worked for me.","title":"Change Jetty default port","body":"<p>If you are using <strong>eclipse</strong> you need to set the run configurations. When you install <strong>jetty</strong> in eclipse, the default port for jetty is <strong>8080</strong>.</p>\n\n<p>So you need to change it into an XML file. If the problem remains, you need to change it in eclipse run configurations.</p>\n\n<p>I hope it works, as it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":13504859,"reputation":449,"user_id":9743294,"display_name":"Matthias B&#246;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571843288,"creation_date":1571843288,"answer_id":58525938,"question_id":24644114,"body_markdown":"For IntelliJ, this can be done similar to Magnus Lassi&#39;s command-line answer.\r\n\r\nRun --&gt; Edit Configurations --&gt; Add &quot;-Djetty.port=XXXX&quot;, e.g.:\r\n\r\n    jetty:run-war -Djetty.port=9999\r\n","title":"Change Jetty default port","body":"<p>For IntelliJ, this can be done similar to Magnus Lassi's command-line answer.</p>\n\n<p>Run --> Edit Configurations --> Add \"-Djetty.port=XXXX\", e.g.:</p>\n\n<pre><code>jetty:run-war -Djetty.port=9999\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15172046,"reputation":580,"user_id":10947794,"display_name":"Milton BO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577223330,"creation_date":1577223330,"answer_id":59473568,"question_id":24644114,"body_markdown":"For SSL port you can pass the param:\r\n\r\n    -Dssl.port=8445\r\n\r\nIt worked for me.","title":"Change Jetty default port","body":"<p>For SSL port you can pass the param:</p>\n\n<pre><code>-Dssl.port=8445\n</code></pre>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":21577838,"reputation":1,"user_id":15909631,"display_name":"COLLINSba4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642085301,"creation_date":1642066082,"answer_id":70694163,"question_id":24644114,"body_markdown":"For a spring boot application, inside your application.properties file \r\nadd  \r\n`server.port = preferred port number eg. 8082`\r\n\r\n[IMAGE OF PORT CONFIGURATION][1]\r\n\r\n[1]: https://i.stack.imgur.com/jMiyM.jpg","title":"Change Jetty default port","body":"<p>For a spring boot application, inside your application.properties file\nadd<br />\n<code>server.port = preferred port number eg. 8082</code></p>\n<p><a href=\"https://i.stack.imgur.com/jMiyM.jpg\" rel=\"nofollow noreferrer\">IMAGE OF PORT CONFIGURATION</a></p>\n"},{"tags":[],"owner":{"account_id":2347679,"reputation":2849,"user_id":2057463,"display_name":"Wendel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649848323,"creation_date":1649848323,"answer_id":71856525,"question_id":24644114,"body_markdown":"I changed the `jetty.http.port` property in `jetty/start.ini` and it worked for me! ","title":"Change Jetty default port","body":"<p>I changed the <code>jetty.http.port</code> property in <code>jetty/start.ini</code> and it worked for me!</p>\n"},{"tags":[],"owner":{"account_id":2534270,"reputation":878,"user_id":2201814,"accept_rate":44,"display_name":"MHSaffari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651466858,"creation_date":1651466858,"answer_id":72082416,"question_id":24644114,"body_markdown":"For changing `SSL` port, you need to change `jetty.ssl.port` property in below directory:\r\n\r\n* &#128193;`$JETTY_HOME/etc`\r\n    * &#128196; `jetty-ssl.xml`\r\n\r\n```xml\r\n&lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n...\r\n  &lt;Call  name=&quot;addConnector&quot;&gt;\r\n    &lt;Arg&gt;\r\n      &lt;New id=&quot;sslConnector&quot; class=&quot;org.eclipse.jetty.server.ServerConnector&quot;&gt;\r\n      ...\r\n        &lt;Set name=&quot;port&quot;&gt;&lt;Property name=&quot;jetty.ssl.port&quot; deprecated=&quot;ssl.port&quot; default=&quot;8443&quot; /&gt;&lt;/Set&gt;\r\n      ...\r\n      &lt;/New&gt;\r\n    &lt;/Arg&gt;\r\n  &lt;/Call&gt;\r\n...\r\n&lt;/Configure&gt;\r\n```","title":"Change Jetty default port","body":"<p>For changing <code>SSL</code> port, you need to change <code>jetty.ssl.port</code> property in below directory:</p>\n<ul>\n<li>📁<code>$JETTY_HOME/etc</code>\n<ul>\n<li>📄 <code>jetty-ssl.xml</code></li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\n...\n  &lt;Call  name=&quot;addConnector&quot;&gt;\n    &lt;Arg&gt;\n      &lt;New id=&quot;sslConnector&quot; class=&quot;org.eclipse.jetty.server.ServerConnector&quot;&gt;\n      ...\n        &lt;Set name=&quot;port&quot;&gt;&lt;Property name=&quot;jetty.ssl.port&quot; deprecated=&quot;ssl.port&quot; default=&quot;8443&quot; /&gt;&lt;/Set&gt;\n      ...\n      &lt;/New&gt;\n    &lt;/Arg&gt;\n  &lt;/Call&gt;\n...\n&lt;/Configure&gt;\n</code></pre>\n"}],"owner":{"account_id":3718554,"reputation":1018,"user_id":3094097,"accept_rate":44,"display_name":"wag0325"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100360,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":13,"score":29,"last_activity_date":1651466858,"creation_date":1404869727,"question_id":24644114,"body_markdown":"Jetty default port is 8080, but I want to change to default port to some other port (9999). \r\n\r\nI read a few tutorials and they said almost all of configuration information is by default maintained in file `jetty.xml`, this file is located under `$JETTY_HOME/etc/`. Then, change property `jetty.port` to 9999. However, when I opened up that file, I couldn&#39;t find jetty.port property inside the `jetty.xml`. I&#39;m currently using Jetty-9.2.1 and the port is at 8080. \r\n\r\nI found jetty.port property under jetty-http.xml file. Even though I changed the port to 8090 in the jetty-http.xml file, jetty is still running at port 8080. \r\n\r\n**jetty.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure_9_0.dtd&quot;&gt;\r\n    \r\n    &lt;!-- =============================================================== --&gt;\r\n    &lt;!-- Documentation of this file format can be found at:              --&gt;\r\n    &lt;!-- http://wiki.eclipse.org/Jetty/Reference/jetty.xml_syntax        --&gt;\r\n    &lt;!--                                                                 --&gt;\r\n    &lt;!-- Additional configuration files are available in $JETTY_HOME/etc --&gt;\r\n    &lt;!-- and can be mixed in. See start.ini file for the default         --&gt;\r\n    &lt;!-- configuration files.                                            --&gt;\r\n    &lt;!--                                                                 --&gt;\r\n    &lt;!-- For a description of the configuration mechanism, see the       --&gt;\r\n    &lt;!-- output of:                                                      --&gt;\r\n    &lt;!--   java -jar start.jar -?                                        --&gt;\r\n    &lt;!-- =============================================================== --&gt;\r\n    \r\n    &lt;!-- =============================================================== --&gt;\r\n    &lt;!-- Configure a Jetty Server instance with an ID &quot;Server&quot;           --&gt;\r\n    &lt;!-- Other configuration files may also configure the &quot;Server&quot;       --&gt;\r\n    &lt;!-- ID, in which case they are adding configuration to the same     --&gt;\r\n    &lt;!-- instance.  If other configuration have a different ID, they     --&gt;\r\n    &lt;!-- will create and configure another instance of Jetty.            --&gt;\r\n    &lt;!-- Consult the javadoc of o.e.j.server.Server for all              --&gt;\r\n    &lt;!-- configuration that may be set here.                             --&gt;\r\n    &lt;!-- =============================================================== --&gt;\r\n    &lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Configure the Server Thread Pool.                           --&gt;\r\n        &lt;!-- The server holds a common thread pool which is used by      --&gt;\r\n        &lt;!-- default as the executor used by all connectors and servlet  --&gt;\r\n        &lt;!-- dispatches.                                                 --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- Configuring a fixed thread pool is vital to controlling the --&gt;\r\n        &lt;!-- maximal memory footprint of the server and is a key tuning  --&gt;\r\n        &lt;!-- parameter for tuning.  In an application that rarely blocks --&gt;\r\n        &lt;!-- then maximal threads may be close to the number of 5*CPUs.  --&gt;\r\n        &lt;!-- In an application that frequently blocks, then maximal      --&gt;\r\n        &lt;!-- threads should be set as high as possible given the memory  --&gt;\r\n        &lt;!-- available.                                                  --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- Consult the javadoc of o.e.j.util.thread.QueuedThreadPool   --&gt;\r\n        &lt;!-- for all configuration that may be set here.                 --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- uncomment to change type of threadpool\r\n        &lt;Arg name=&quot;threadpool&quot;&gt;&lt;New id=&quot;threadpool&quot; class=&quot;org.eclipse.jetty.util.thread.QueuedThreadPool&quot;/&gt;&lt;/Arg&gt;\r\n        --&gt;\r\n        &lt;Get name=&quot;ThreadPool&quot;&gt;\r\n          &lt;Set name=&quot;minThreads&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;threads.min&quot; default=&quot;10&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;maxThreads&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;threads.max&quot; default=&quot;200&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;idleTimeout&quot; type=&quot;int&quot;&gt;&lt;Property name=&quot;threads.timeout&quot; default=&quot;60000&quot;/&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;detailedDump&quot;&gt;false&lt;/Set&gt;\r\n        &lt;/Get&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Add shared Scheduler instance                               --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;Call name=&quot;addBean&quot;&gt;\r\n          &lt;Arg&gt;\r\n            &lt;New class=&quot;org.eclipse.jetty.util.thread.ScheduledExecutorScheduler&quot;/&gt;\r\n          &lt;/Arg&gt;\r\n        &lt;/Call&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Http Configuration.                                         --&gt;\r\n        &lt;!-- This is a common configuration instance used by all         --&gt;\r\n        &lt;!-- connectors that can carry HTTP semantics (HTTP, HTTPS, SPDY)--&gt;\r\n        &lt;!-- It configures the non wire protocol aspects of the HTTP     --&gt;\r\n        &lt;!-- semantic.                                                   --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- This configuration is only defined here and is used by      --&gt;\r\n        &lt;!-- reference from the jetty-http.xml, jetty-https.xml and      --&gt;\r\n        &lt;!-- jetty-spdy.xml configuration files which instantiate the    --&gt;\r\n        &lt;!-- connectors.                                                 --&gt;\r\n        &lt;!--                                                             --&gt;\r\n        &lt;!-- Consult the javadoc of o.e.j.server.HttpConfiguration       --&gt;\r\n        &lt;!-- for all configuration that may be set here.                 --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;New id=&quot;httpConfig&quot; class=&quot;org.eclipse.jetty.server.HttpConfiguration&quot;&gt;\r\n          &lt;Set name=&quot;secureScheme&quot;&gt;https&lt;/Set&gt;\r\n          &lt;Set name=&quot;securePort&quot;&gt;&lt;Property name=&quot;jetty.secure.port&quot; default=&quot;8443&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;outputBufferSize&quot;&gt;&lt;Property name=&quot;jetty.output.buffer.size&quot; default=&quot;32768&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;requestHeaderSize&quot;&gt;&lt;Property name=&quot;jetty.request.header.size&quot; default=&quot;8192&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;responseHeaderSize&quot;&gt;&lt;Property name=&quot;jetty.response.header.size&quot; default=&quot;8192&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;sendServerVersion&quot;&gt;&lt;Property name=&quot;jetty.send.server.version&quot; default=&quot;true&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;sendDateHeader&quot;&gt;&lt;Property name=&quot;jetty.send.date.header&quot; default=&quot;false&quot; /&gt;&lt;/Set&gt;\r\n          &lt;Set name=&quot;headerCacheSize&quot;&gt;512&lt;/Set&gt;\r\n          &lt;!-- Uncomment to enable handling of X-Forwarded- style headers\r\n          &lt;Call name=&quot;addCustomizer&quot;&gt;\r\n            &lt;Arg&gt;&lt;New class=&quot;org.eclipse.jetty.server.ForwardedRequestCustomizer&quot;/&gt;&lt;/Arg&gt;\r\n          &lt;/Call&gt;\r\n          --&gt;\r\n        &lt;/New&gt;\r\n    \r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- Set the default handler structure for the Server            --&gt;\r\n        &lt;!-- A handler collection is used to pass received requests to   --&gt;\r\n        &lt;!-- both the ContextHandlerCollection, which selects the next   --&gt;\r\n        &lt;!-- handler by context path and virtual host, and the           --&gt;\r\n        &lt;!-- DefaultHandler, which handles any requests not handled by   --&gt;\r\n        &lt;!-- the context handlers.                                       --&gt;\r\n        &lt;!-- Other handlers may be added to the &quot;Handlers&quot; collection,   --&gt;\r\n        &lt;!-- for example the jetty-requestlog.xml file adds the          --&gt;\r\n        &lt;!-- RequestLogHandler after the default handler                 --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;Set name=&quot;handler&quot;&gt;\r\n          &lt;New id=&quot;Handlers&quot; class=&quot;org.eclipse.jetty.server.handler.HandlerCollection&quot;&gt;\r\n            &lt;Set name=&quot;handlers&quot;&gt;\r\n             &lt;Array type=&quot;org.eclipse.jetty.server.Handler&quot;&gt;\r\n               &lt;Item&gt;\r\n                 &lt;New id=&quot;Contexts&quot; class=&quot;org.eclipse.jetty.server.handler.ContextHandlerCollection&quot;/&gt;\r\n               &lt;/Item&gt;\r\n               &lt;Item&gt;\r\n                 &lt;New id=&quot;DefaultHandler&quot; class=&quot;org.eclipse.jetty.server.handler.DefaultHandler&quot;/&gt;\r\n               &lt;/Item&gt;\r\n             &lt;/Array&gt;\r\n            &lt;/Set&gt;\r\n          &lt;/New&gt;\r\n        &lt;/Set&gt;\r\n    \r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;!-- extra server options                                        --&gt;\r\n        &lt;!-- =========================================================== --&gt;\r\n        &lt;Set name=&quot;stopAtShutdown&quot;&gt;true&lt;/Set&gt;\r\n        &lt;Set name=&quot;stopTimeout&quot;&gt;5000&lt;/Set&gt;\r\n        &lt;Set name=&quot;dumpAfterStart&quot;&gt;&lt;Property name=&quot;jetty.dump.start&quot; default=&quot;false&quot;/&gt;&lt;/Set&gt;\r\n        &lt;Set name=&quot;dumpBeforeStop&quot;&gt;&lt;Property name=&quot;jetty.dump.stop&quot; default=&quot;false&quot;/&gt;&lt;/Set&gt;\r\n    \r\n    &lt;/Configure&gt;\r\n\r\n**jetty-http.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE Configure PUBLIC &quot;-//Jetty//Configure//EN&quot; &quot;http://www.eclipse.org/jetty/configure_9_0.dtd&quot;&gt;\r\n    \r\n    &lt;!-- ============================================================= --&gt;\r\n    &lt;!-- Configure the Jetty Server instance with an ID &quot;Server&quot;       --&gt;\r\n    &lt;!-- by adding a HTTP connector.                                   --&gt;\r\n    &lt;!-- This configuration must be used in conjunction with jetty.xml --&gt;\r\n    &lt;!-- ============================================================= --&gt;\r\n    &lt;Configure id=&quot;Server&quot; class=&quot;org.eclipse.jetty.server.Server&quot;&gt;\r\n    \r\n      &lt;!-- =========================================================== --&gt;\r\n      &lt;!-- Add a HTTP Connector.                                       --&gt;\r\n      &lt;!-- Configure an o.e.j.server.ServerConnector with a single     --&gt;\r\n      &lt;!-- HttpConnectionFactory instance using the common httpConfig  --&gt;\r\n      &lt;!-- instance defined in jetty.xml                               --&gt;\r\n      &lt;!--                                                             --&gt;\r\n      &lt;!-- Consult the javadoc of o.e.j.server.ServerConnector and     --&gt;\r\n      &lt;!-- o.e.j.server.HttpConnectionFactory for all configuration    --&gt;\r\n      &lt;!-- that may be set here.                                       --&gt;\r\n      &lt;!-- =========================================================== --&gt;\r\n      &lt;Call name=&quot;addConnector&quot;&gt;\r\n        &lt;Arg&gt;\r\n          &lt;New class=&quot;org.eclipse.jetty.server.ServerConnector&quot;&gt;\r\n            &lt;Arg name=&quot;server&quot;&gt;&lt;Ref refid=&quot;Server&quot; /&gt;&lt;/Arg&gt;\r\n            &lt;Arg name=&quot;factories&quot;&gt;\r\n              &lt;Array type=&quot;org.eclipse.jetty.server.ConnectionFactory&quot;&gt;\r\n                &lt;Item&gt;\r\n                  &lt;New class=&quot;org.eclipse.jetty.server.HttpConnectionFactory&quot;&gt;\r\n                    &lt;Arg name=&quot;config&quot;&gt;&lt;Ref refid=&quot;httpConfig&quot; /&gt;&lt;/Arg&gt;\r\n                  &lt;/New&gt;\r\n                &lt;/Item&gt;\r\n              &lt;/Array&gt;\r\n            &lt;/Arg&gt;\r\n            &lt;Set name=&quot;host&quot;&gt;&lt;Property name=&quot;jetty.host&quot; /&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;port&quot;&gt;&lt;Property name=&quot;jetty.port&quot; default=&quot;8090&quot; /&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;idleTimeout&quot;&gt;&lt;Property name=&quot;http.timeout&quot; default=&quot;30000&quot;/&gt;&lt;/Set&gt;\r\n            &lt;Set name=&quot;soLingerTime&quot;&gt;&lt;Property name=&quot;http.soLingerTime&quot; default=&quot;-1&quot;/&gt;&lt;/Set&gt;\r\n          &lt;/New&gt;\r\n        &lt;/Arg&gt;\r\n      &lt;/Call&gt;\r\n    \r\n    &lt;/Configure&gt;\r\n\r\nI was also advised to use an integration test to configure Jetty to use other port. There&#39;s a `integration-tests.properties` file inside the project. Maybe a solution is to set jetty.port to 9999 inside this file? \r\n\r\n**integration-tests.properties:**\r\n\r\n    host = localhost\r\n    port = 9999\r\n\r\n","title":"Change Jetty default port","body":"<p>Jetty default port is 8080, but I want to change to default port to some other port (9999). </p>\n\n<p>I read a few tutorials and they said almost all of configuration information is by default maintained in file <code>jetty.xml</code>, this file is located under <code>$JETTY_HOME/etc/</code>. Then, change property <code>jetty.port</code> to 9999. However, when I opened up that file, I couldn't find jetty.port property inside the <code>jetty.xml</code>. I'm currently using Jetty-9.2.1 and the port is at 8080. </p>\n\n<p>I found jetty.port property under jetty-http.xml file. Even though I changed the port to 8090 in the jetty-http.xml file, jetty is still running at port 8080. </p>\n\n<p><strong>jetty.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE Configure PUBLIC \"-//Jetty//Configure//EN\" \"http://www.eclipse.org/jetty/configure_9_0.dtd\"&gt;\n\n&lt;!-- =============================================================== --&gt;\n&lt;!-- Documentation of this file format can be found at:              --&gt;\n&lt;!-- http://wiki.eclipse.org/Jetty/Reference/jetty.xml_syntax        --&gt;\n&lt;!--                                                                 --&gt;\n&lt;!-- Additional configuration files are available in $JETTY_HOME/etc --&gt;\n&lt;!-- and can be mixed in. See start.ini file for the default         --&gt;\n&lt;!-- configuration files.                                            --&gt;\n&lt;!--                                                                 --&gt;\n&lt;!-- For a description of the configuration mechanism, see the       --&gt;\n&lt;!-- output of:                                                      --&gt;\n&lt;!--   java -jar start.jar -?                                        --&gt;\n&lt;!-- =============================================================== --&gt;\n\n&lt;!-- =============================================================== --&gt;\n&lt;!-- Configure a Jetty Server instance with an ID \"Server\"           --&gt;\n&lt;!-- Other configuration files may also configure the \"Server\"       --&gt;\n&lt;!-- ID, in which case they are adding configuration to the same     --&gt;\n&lt;!-- instance.  If other configuration have a different ID, they     --&gt;\n&lt;!-- will create and configure another instance of Jetty.            --&gt;\n&lt;!-- Consult the javadoc of o.e.j.server.Server for all              --&gt;\n&lt;!-- configuration that may be set here.                             --&gt;\n&lt;!-- =============================================================== --&gt;\n&lt;Configure id=\"Server\" class=\"org.eclipse.jetty.server.Server\"&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Configure the Server Thread Pool.                           --&gt;\n    &lt;!-- The server holds a common thread pool which is used by      --&gt;\n    &lt;!-- default as the executor used by all connectors and servlet  --&gt;\n    &lt;!-- dispatches.                                                 --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- Configuring a fixed thread pool is vital to controlling the --&gt;\n    &lt;!-- maximal memory footprint of the server and is a key tuning  --&gt;\n    &lt;!-- parameter for tuning.  In an application that rarely blocks --&gt;\n    &lt;!-- then maximal threads may be close to the number of 5*CPUs.  --&gt;\n    &lt;!-- In an application that frequently blocks, then maximal      --&gt;\n    &lt;!-- threads should be set as high as possible given the memory  --&gt;\n    &lt;!-- available.                                                  --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- Consult the javadoc of o.e.j.util.thread.QueuedThreadPool   --&gt;\n    &lt;!-- for all configuration that may be set here.                 --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- uncomment to change type of threadpool\n    &lt;Arg name=\"threadpool\"&gt;&lt;New id=\"threadpool\" class=\"org.eclipse.jetty.util.thread.QueuedThreadPool\"/&gt;&lt;/Arg&gt;\n    --&gt;\n    &lt;Get name=\"ThreadPool\"&gt;\n      &lt;Set name=\"minThreads\" type=\"int\"&gt;&lt;Property name=\"threads.min\" default=\"10\"/&gt;&lt;/Set&gt;\n      &lt;Set name=\"maxThreads\" type=\"int\"&gt;&lt;Property name=\"threads.max\" default=\"200\"/&gt;&lt;/Set&gt;\n      &lt;Set name=\"idleTimeout\" type=\"int\"&gt;&lt;Property name=\"threads.timeout\" default=\"60000\"/&gt;&lt;/Set&gt;\n      &lt;Set name=\"detailedDump\"&gt;false&lt;/Set&gt;\n    &lt;/Get&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Add shared Scheduler instance                               --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;Call name=\"addBean\"&gt;\n      &lt;Arg&gt;\n        &lt;New class=\"org.eclipse.jetty.util.thread.ScheduledExecutorScheduler\"/&gt;\n      &lt;/Arg&gt;\n    &lt;/Call&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Http Configuration.                                         --&gt;\n    &lt;!-- This is a common configuration instance used by all         --&gt;\n    &lt;!-- connectors that can carry HTTP semantics (HTTP, HTTPS, SPDY)--&gt;\n    &lt;!-- It configures the non wire protocol aspects of the HTTP     --&gt;\n    &lt;!-- semantic.                                                   --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- This configuration is only defined here and is used by      --&gt;\n    &lt;!-- reference from the jetty-http.xml, jetty-https.xml and      --&gt;\n    &lt;!-- jetty-spdy.xml configuration files which instantiate the    --&gt;\n    &lt;!-- connectors.                                                 --&gt;\n    &lt;!--                                                             --&gt;\n    &lt;!-- Consult the javadoc of o.e.j.server.HttpConfiguration       --&gt;\n    &lt;!-- for all configuration that may be set here.                 --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;New id=\"httpConfig\" class=\"org.eclipse.jetty.server.HttpConfiguration\"&gt;\n      &lt;Set name=\"secureScheme\"&gt;https&lt;/Set&gt;\n      &lt;Set name=\"securePort\"&gt;&lt;Property name=\"jetty.secure.port\" default=\"8443\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"outputBufferSize\"&gt;&lt;Property name=\"jetty.output.buffer.size\" default=\"32768\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"requestHeaderSize\"&gt;&lt;Property name=\"jetty.request.header.size\" default=\"8192\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"responseHeaderSize\"&gt;&lt;Property name=\"jetty.response.header.size\" default=\"8192\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"sendServerVersion\"&gt;&lt;Property name=\"jetty.send.server.version\" default=\"true\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"sendDateHeader\"&gt;&lt;Property name=\"jetty.send.date.header\" default=\"false\" /&gt;&lt;/Set&gt;\n      &lt;Set name=\"headerCacheSize\"&gt;512&lt;/Set&gt;\n      &lt;!-- Uncomment to enable handling of X-Forwarded- style headers\n      &lt;Call name=\"addCustomizer\"&gt;\n        &lt;Arg&gt;&lt;New class=\"org.eclipse.jetty.server.ForwardedRequestCustomizer\"/&gt;&lt;/Arg&gt;\n      &lt;/Call&gt;\n      --&gt;\n    &lt;/New&gt;\n\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- Set the default handler structure for the Server            --&gt;\n    &lt;!-- A handler collection is used to pass received requests to   --&gt;\n    &lt;!-- both the ContextHandlerCollection, which selects the next   --&gt;\n    &lt;!-- handler by context path and virtual host, and the           --&gt;\n    &lt;!-- DefaultHandler, which handles any requests not handled by   --&gt;\n    &lt;!-- the context handlers.                                       --&gt;\n    &lt;!-- Other handlers may be added to the \"Handlers\" collection,   --&gt;\n    &lt;!-- for example the jetty-requestlog.xml file adds the          --&gt;\n    &lt;!-- RequestLogHandler after the default handler                 --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;Set name=\"handler\"&gt;\n      &lt;New id=\"Handlers\" class=\"org.eclipse.jetty.server.handler.HandlerCollection\"&gt;\n        &lt;Set name=\"handlers\"&gt;\n         &lt;Array type=\"org.eclipse.jetty.server.Handler\"&gt;\n           &lt;Item&gt;\n             &lt;New id=\"Contexts\" class=\"org.eclipse.jetty.server.handler.ContextHandlerCollection\"/&gt;\n           &lt;/Item&gt;\n           &lt;Item&gt;\n             &lt;New id=\"DefaultHandler\" class=\"org.eclipse.jetty.server.handler.DefaultHandler\"/&gt;\n           &lt;/Item&gt;\n         &lt;/Array&gt;\n        &lt;/Set&gt;\n      &lt;/New&gt;\n    &lt;/Set&gt;\n\n    &lt;!-- =========================================================== --&gt;\n    &lt;!-- extra server options                                        --&gt;\n    &lt;!-- =========================================================== --&gt;\n    &lt;Set name=\"stopAtShutdown\"&gt;true&lt;/Set&gt;\n    &lt;Set name=\"stopTimeout\"&gt;5000&lt;/Set&gt;\n    &lt;Set name=\"dumpAfterStart\"&gt;&lt;Property name=\"jetty.dump.start\" default=\"false\"/&gt;&lt;/Set&gt;\n    &lt;Set name=\"dumpBeforeStop\"&gt;&lt;Property name=\"jetty.dump.stop\" default=\"false\"/&gt;&lt;/Set&gt;\n\n&lt;/Configure&gt;\n</code></pre>\n\n<p><strong>jetty-http.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE Configure PUBLIC \"-//Jetty//Configure//EN\" \"http://www.eclipse.org/jetty/configure_9_0.dtd\"&gt;\n\n&lt;!-- ============================================================= --&gt;\n&lt;!-- Configure the Jetty Server instance with an ID \"Server\"       --&gt;\n&lt;!-- by adding a HTTP connector.                                   --&gt;\n&lt;!-- This configuration must be used in conjunction with jetty.xml --&gt;\n&lt;!-- ============================================================= --&gt;\n&lt;Configure id=\"Server\" class=\"org.eclipse.jetty.server.Server\"&gt;\n\n  &lt;!-- =========================================================== --&gt;\n  &lt;!-- Add a HTTP Connector.                                       --&gt;\n  &lt;!-- Configure an o.e.j.server.ServerConnector with a single     --&gt;\n  &lt;!-- HttpConnectionFactory instance using the common httpConfig  --&gt;\n  &lt;!-- instance defined in jetty.xml                               --&gt;\n  &lt;!--                                                             --&gt;\n  &lt;!-- Consult the javadoc of o.e.j.server.ServerConnector and     --&gt;\n  &lt;!-- o.e.j.server.HttpConnectionFactory for all configuration    --&gt;\n  &lt;!-- that may be set here.                                       --&gt;\n  &lt;!-- =========================================================== --&gt;\n  &lt;Call name=\"addConnector\"&gt;\n    &lt;Arg&gt;\n      &lt;New class=\"org.eclipse.jetty.server.ServerConnector\"&gt;\n        &lt;Arg name=\"server\"&gt;&lt;Ref refid=\"Server\" /&gt;&lt;/Arg&gt;\n        &lt;Arg name=\"factories\"&gt;\n          &lt;Array type=\"org.eclipse.jetty.server.ConnectionFactory\"&gt;\n            &lt;Item&gt;\n              &lt;New class=\"org.eclipse.jetty.server.HttpConnectionFactory\"&gt;\n                &lt;Arg name=\"config\"&gt;&lt;Ref refid=\"httpConfig\" /&gt;&lt;/Arg&gt;\n              &lt;/New&gt;\n            &lt;/Item&gt;\n          &lt;/Array&gt;\n        &lt;/Arg&gt;\n        &lt;Set name=\"host\"&gt;&lt;Property name=\"jetty.host\" /&gt;&lt;/Set&gt;\n        &lt;Set name=\"port\"&gt;&lt;Property name=\"jetty.port\" default=\"8090\" /&gt;&lt;/Set&gt;\n        &lt;Set name=\"idleTimeout\"&gt;&lt;Property name=\"http.timeout\" default=\"30000\"/&gt;&lt;/Set&gt;\n        &lt;Set name=\"soLingerTime\"&gt;&lt;Property name=\"http.soLingerTime\" default=\"-1\"/&gt;&lt;/Set&gt;\n      &lt;/New&gt;\n    &lt;/Arg&gt;\n  &lt;/Call&gt;\n\n&lt;/Configure&gt;\n</code></pre>\n\n<p>I was also advised to use an integration test to configure Jetty to use other port. There's a <code>integration-tests.properties</code> file inside the project. Maybe a solution is to set jetty.port to 9999 inside this file? </p>\n\n<p><strong>integration-tests.properties:</strong></p>\n\n<pre><code>host = localhost\nport = 9999\n</code></pre>\n"},{"tags":["java","spring-boot","azure","azure-servicebus-topics","jms-topic"],"comments":[{"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"score":2,"creation_date":1650551883,"post_id":71953804,"comment_id":127149583,"body_markdown":"From your network, AMQP port (TCP 5671 ) may have been blocked, hence the connection to the Az SB is failing.","body":"From your network, AMQP port (TCP 5671 ) may have been blocked, hence the connection to the Az SB is failing."}],"answers":[{"tags":[],"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651466578,"creation_date":1651466578,"answer_id":72082397,"question_id":71953804,"body_markdown":"&gt;ERROR 43904 --- [ntContainer#0-1] org.apache.qpid.jms.JmsConnection        : Failed to connect to remote at: amqps://test-dt.servicebus.windows.net:-1\r\n\r\nTo resolve above error, try as suggested by [Anand Sowmithiran](https://stackoverflow.com/users/14973743/anand-sowmithiran):\r\n\r\nCheck if port `5671` is blocked:\r\n```\r\ntelnet &lt;yournamespacename&gt;.servicebus.windows.net 5671\r\n```\r\n\r\n**Note:** Clients that use AMQP connections over TCP require ports `5671` and `5672` to be opened in the firewall. Along with these ports, it might be necessary to open additional ports if the [`EnableLinkRedirect`](https://learn.microsoft.com/en-us/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.enablelinkredirect) feature is enabled. \r\n\r\nYou can refer to [Troubleshooting guide for Azure Service Bus](https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-troubleshooting-guide), [AMQP outbound port requirements](https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-amqp-protocol-guide) and [Port 5671 Blocked :(. What are other options?\r\n](https://github.com/Azure/azure-sdk-for-js/issues/2554)\r\n","title":"Failed to connect Azure servicebus topic using JMS - Java","body":"<blockquote>\n<p>ERROR 43904 --- [ntContainer#0-1] org.apache.qpid.jms.JmsConnection        : Failed to connect to remote at: amqps://test-dt.servicebus.windows.net:-1</p>\n</blockquote>\n<p>To resolve above error, try as suggested by <a href=\"https://stackoverflow.com/users/14973743/anand-sowmithiran\">Anand Sowmithiran</a>:</p>\n<p>Check if port <code>5671</code> is blocked:</p>\n<pre><code>telnet &lt;yournamespacename&gt;.servicebus.windows.net 5671\n</code></pre>\n<p><strong>Note:</strong> Clients that use AMQP connections over TCP require ports <code>5671</code> and <code>5672</code> to be opened in the firewall. Along with these ports, it might be necessary to open additional ports if the <a href=\"https://learn.microsoft.com/en-us/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.enablelinkredirect\" rel=\"nofollow noreferrer\"><code>EnableLinkRedirect</code></a> feature is enabled.</p>\n<p>You can refer to <a href=\"https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-troubleshooting-guide\" rel=\"nofollow noreferrer\">Troubleshooting guide for Azure Service Bus</a>, <a href=\"https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-amqp-protocol-guide\" rel=\"nofollow noreferrer\">AMQP outbound port requirements</a> and <a href=\"https://github.com/Azure/azure-sdk-for-js/issues/2554\" rel=\"nofollow noreferrer\">Port 5671 Blocked :(. What are other options?\n</a></p>\n"}],"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72082397,"answer_count":1,"score":2,"last_activity_date":1651466578,"creation_date":1650541023,"question_id":71953804,"body_markdown":"I followed steps as mentioned in [Azure ServiceBus JMS Sample][1] with below properties\r\n```\r\nspring.jms.servicebus.connection-string=Endpoint=sb://test-dt.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=key\r\nspring.jms.servicebus.topic-client-id=12345\r\nspring.jms.servicebus.idle-timeout=18000\r\nspring.jms.servicebus.pricing-tier=Standard\r\n\r\n```\r\nhowever I get below error\r\n\r\n```\r\nERROR 43904 --- [ntContainer#0-1] org.apache.qpid.jms.JmsConnection        : Failed to connect to remote at: amqps://test-dt.servicebus.windows.net:-1\r\nERROR 43904 --- [ntContainer#0-1] o.s.j.l.DefaultMessageListenerContainer  : Could not refresh JMS Connection for destination &#39;test-topic&#39; - retrying using FixedBackOff{interval=5000, currentAttempts=6, maxAttempts=unlimited}. Cause: handshake timed out after 10000ms\r\n```\r\n\r\nOn the other hand, I followed steps as mentioned in [ServiceBus without JMS][2] and added transportType as AmqpTransportType.AMQP_WEB_SOCKETS then I am able to connect.\r\n\r\nWe want to implement using spring boot starter and listener method, instead of calling from (public static void main) method.\r\n\r\nPlease guide on what am I missing when following first link\r\n\r\n\r\n  [1]: https://github.com/Azure-Samples/spring-jms-service-bus/tree/master/spring-jms-service-bus-topic-sample\r\n  [2]: https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-java-how-to-use-topics-subscriptions","title":"Failed to connect Azure servicebus topic using JMS - Java","body":"<p>I followed steps as mentioned in <a href=\"https://github.com/Azure-Samples/spring-jms-service-bus/tree/master/spring-jms-service-bus-topic-sample\" rel=\"nofollow noreferrer\">Azure ServiceBus JMS Sample</a> with below properties</p>\n<pre><code>spring.jms.servicebus.connection-string=Endpoint=sb://test-dt.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=key\nspring.jms.servicebus.topic-client-id=12345\nspring.jms.servicebus.idle-timeout=18000\nspring.jms.servicebus.pricing-tier=Standard\n\n</code></pre>\n<p>however I get below error</p>\n<pre><code>ERROR 43904 --- [ntContainer#0-1] org.apache.qpid.jms.JmsConnection        : Failed to connect to remote at: amqps://test-dt.servicebus.windows.net:-1\nERROR 43904 --- [ntContainer#0-1] o.s.j.l.DefaultMessageListenerContainer  : Could not refresh JMS Connection for destination 'test-topic' - retrying using FixedBackOff{interval=5000, currentAttempts=6, maxAttempts=unlimited}. Cause: handshake timed out after 10000ms\n</code></pre>\n<p>On the other hand, I followed steps as mentioned in <a href=\"https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-java-how-to-use-topics-subscriptions\" rel=\"nofollow noreferrer\">ServiceBus without JMS</a> and added transportType as AmqpTransportType.AMQP_WEB_SOCKETS then I am able to connect.</p>\n<p>We want to implement using spring boot starter and listener method, instead of calling from (public static void main) method.</p>\n<p>Please guide on what am I missing when following first link</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8609,"page":1383,"page_size":100}
