{"items":[{"tags":["java","gradle"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1646673115,"post_id":71384732,"comment_id":126176724,"body_markdown":"if you don&#39;t have a `build.gradle` in the parent of the subproject, how did you specify that all the projects are subprojects actually?","body":"if you don&#39;t have a <code>build.gradle</code> in the parent of the subproject, how did you specify that all the projects are subprojects actually?"},{"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"score":0,"creation_date":1646673433,"post_id":71384732,"comment_id":126176855,"body_markdown":"I have `settings.gradle` where I have `rootProject.name = &#39;foobar&#39;` and `include(&#39;app&#39;, &#39;list&#39;, &#39;utilities&#39;)` that are the subprojects. Look at the link I posted, the directory schema is the same because I have used the init gradle plugin too.","body":"I have <code>settings.gradle</code> where I have <code>rootProject.name = &#39;foobar&#39;</code> and <code>include(&#39;app&#39;, &#39;list&#39;, &#39;utilities&#39;)</code> that are the subprojects. Look at the link I posted, the directory schema is the same because I have used the init gradle plugin too."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646775728,"creation_date":1646674802,"answer_id":71385144,"question_id":71384732,"body_markdown":"Your idea with the `build.gradle` file will work.\r\n\r\nYou can either specify\r\n```\r\nsubprojects {\r\n  group = &quot;org.gradle.sample&quot;\r\n}\r\n```\r\n\r\nor alternatively \r\n```\r\nallprojects {\r\n  group = &quot;org.gradle.sample&quot;\r\n}\r\n```\r\n\r\nPlease note that both (_subprojects_ and _allprojects_) are all lower-case!\r\nFor your current situation it should not matter which of the both you use. If the main (root) project would also publish code, there would be the difference that _subprojects_ only works for the subprojects but not the root project and _allprojects_ - you guess it - works also for the root project.","title":"Gradle: where to define commons properties in a project with subprojects?","body":"<p>Your idea with the <code>build.gradle</code> file will work.</p>\n<p>You can either specify</p>\n<pre><code>subprojects {\n  group = &quot;org.gradle.sample&quot;\n}\n</code></pre>\n<p>or alternatively</p>\n<pre><code>allprojects {\n  group = &quot;org.gradle.sample&quot;\n}\n</code></pre>\n<p>Please note that both (<em>subprojects</em> and <em>allprojects</em>) are all lower-case!\nFor your current situation it should not matter which of the both you use. If the main (root) project would also publish code, there would be the difference that <em>subprojects</em> only works for the subprojects but not the root project and <em>allprojects</em> - you guess it - works also for the root project.</p>\n"}],"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646775728,"creation_date":1646672770,"question_id":71384732,"body_markdown":"I have a project similar to this one:\r\nhttps://docs.gradle.org/current/samples/sample_building_java_applications_multi_project.html#run_the_init_task\r\n\r\nSame directory schema.\r\n\r\nEvery subproject in its `build.gradle` use the `maven-publish` and use a setup similar to this:\r\n\r\n\r\n    publishing {\r\n        publications {\r\n            maven(MavenPublication) {\r\n                groupId = &#39;org.gradle.sample&#39;\r\n                artifactId = &#39;library&#39;\r\n                version = &#39;1.1&#39;\r\n    \r\n                from components.java\r\n            }\r\n        }\r\n    }\r\n\r\nWhat I want to define is a common `groupId` and `version` for every project but I don&#39;t know where to define it.\r\n\r\nOn some docs, I found that I can use a `build.gradle` with an `allProjects` section in the root directory, but I don&#39;t have it, maybe should I create it?\r\n\r\nBut more a general question, how can I define common properties to share across subprojects?\r\n\r\n\r\n","title":"Gradle: where to define commons properties in a project with subprojects?","body":"<p>I have a project similar to this one:\n<a href=\"https://docs.gradle.org/current/samples/sample_building_java_applications_multi_project.html#run_the_init_task\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/samples/sample_building_java_applications_multi_project.html#run_the_init_task</a></p>\n<p>Same directory schema.</p>\n<p>Every subproject in its <code>build.gradle</code> use the <code>maven-publish</code> and use a setup similar to this:</p>\n<pre><code>publishing {\n    publications {\n        maven(MavenPublication) {\n            groupId = 'org.gradle.sample'\n            artifactId = 'library'\n            version = '1.1'\n\n            from components.java\n        }\n    }\n}\n</code></pre>\n<p>What I want to define is a common <code>groupId</code> and <code>version</code> for every project but I don't know where to define it.</p>\n<p>On some docs, I found that I can use a <code>build.gradle</code> with an <code>allProjects</code> section in the root directory, but I don't have it, maybe should I create it?</p>\n<p>But more a general question, how can I define common properties to share across subprojects?</p>\n"},{"tags":["java","shell","intellij-idea","terminal","classpath"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1646514315,"post_id":71365903,"comment_id":126143697,"body_markdown":"`/build/libs/ques.jar` is an absolute path. I imagine that your jar is really at `build/libs/ques.jar`?","body":"<code>&#47;build&#47;libs&#47;ques.jar</code> is an absolute path. I imagine that your jar is really at <code>build&#47;libs&#47;ques.jar</code>?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1646514551,"post_id":71365903,"comment_id":126143735,"body_markdown":"Where exactly is the JAR located?","body":"Where exactly is the JAR located?"},{"owner":{"account_id":16812203,"reputation":11,"user_id":13193922,"display_name":"whiteshadow98"},"score":0,"creation_date":1646514746,"post_id":71365903,"comment_id":126143770,"body_markdown":"The jar is located in the IdeaProject/XYZ/build/libs directory","body":"The jar is located in the IdeaProject/XYZ/build/libs directory"},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1646577749,"post_id":71365903,"comment_id":126153085,"body_markdown":"Check that MANIFEST.mf file is created for the jar artifact. See https://www.youtube.com/watch?v=_XQjs1xGtaU","body":"Check that MANIFEST.mf file is created for the jar artifact. See <a href=\"https://www.youtube.com/watch?v=_XQjs1xGtaU\" rel=\"nofollow noreferrer\">youtube.com/watch?v=_XQjs1xGtaU</a>"}],"answers":[{"tags":[],"owner":{"account_id":21932345,"reputation":371,"user_id":16214132,"display_name":"CY-OD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646579446,"creation_date":1646579446,"answer_id":71371487,"question_id":71365903,"body_markdown":"Run it from the IDE, and while it is running, try to get the command used by the IDE from the process list.\r\nnot sure what OS you are using but something like this should work on linux/mac:\r\n```shell\r\nps -ef | grep java\r\n```\r\n\r\nAfter you have the command you can try to understand why its not working for you, or just use that command\r\n\r\n","title":"Java code runs through IDE but fails from terminal","body":"<p>Run it from the IDE, and while it is running, try to get the command used by the IDE from the process list.\nnot sure what OS you are using but something like this should work on linux/mac:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>ps -ef | grep java\n</code></pre>\n<p>After you have the command you can try to understand why its not working for you, or just use that command</p>\n"},{"tags":[],"owner":{"account_id":16812203,"reputation":11,"user_id":13193922,"display_name":"whiteshadow98"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646774317,"creation_date":1646774317,"answer_id":71401557,"question_id":71365903,"body_markdown":"Just want to add how I managed to run it. I created a new shaded jar file of the same application. refreshed its dependencies and now it works. I am yet to find out how creating a shaded jar instead of normal jar helped. Right now the only reason I could figure out is there may be version clashes with some dependencies but I wonder how it could throw could not found main class error.\r\n\r\nAnyways , then I ran the file with the following command from terminal:\r\n`java -jar ./build/libs/ques-shaded.jar server XYZ.yml`","title":"Java code runs through IDE but fails from terminal","body":"<p>Just want to add how I managed to run it. I created a new shaded jar file of the same application. refreshed its dependencies and now it works. I am yet to find out how creating a shaded jar instead of normal jar helped. Right now the only reason I could figure out is there may be version clashes with some dependencies but I wonder how it could throw could not found main class error.</p>\n<p>Anyways , then I ran the file with the following command from terminal:\n<code>java -jar ./build/libs/ques-shaded.jar server XYZ.yml</code></p>\n"}],"owner":{"account_id":16812203,"reputation":11,"user_id":13193922,"display_name":"whiteshadow98"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646774317,"creation_date":1646513975,"question_id":71365903,"body_markdown":"I have a Java Code where I am able to run it on Intellij using custom configuration. The configuration has following attributes :-\r\n\r\n - module :  java 8 (Oracle OpenJDK 1.8.0_321) \r\n - classpath :  -cp XYZ.main() \r\n - main :  com.ABC.XYZ.ManageTraffic\r\n - CLI arguements : server XYZ.yml \r\n\r\n\r\nBut when I try to run the jar that was build using gradle from terminal , it gives me Error , could not find or load main class com.ABC.XYZ.ManageTraffic\r\n\r\nSo far I have tried the following things looking at other solutions at Stackoverflow ,  still getting the same error\r\n\r\n - java -jar ques.jar\r\n - java -jar ques.jar com.ABC.XYZ.ManageTraffic\r\n - java -cp /build/libs/ques.jar com.ABC.XYZ.ManageTraffic\r\n\r\nJust to cross check , I unzipped the creataed jar and found that com.ABC.XYZ.ManageTraffic class file is available there , still getting error. What could be the issue?\r\n\r\n","title":"Java code runs through IDE but fails from terminal","body":"<p>I have a Java Code where I am able to run it on Intellij using custom configuration. The configuration has following attributes :-</p>\n<ul>\n<li>module :  java 8 (Oracle OpenJDK 1.8.0_321)</li>\n<li>classpath :  -cp XYZ.main()</li>\n<li>main :  com.ABC.XYZ.ManageTraffic</li>\n<li>CLI arguements : server XYZ.yml</li>\n</ul>\n<p>But when I try to run the jar that was build using gradle from terminal , it gives me Error , could not find or load main class com.ABC.XYZ.ManageTraffic</p>\n<p>So far I have tried the following things looking at other solutions at Stackoverflow ,  still getting the same error</p>\n<ul>\n<li>java -jar ques.jar</li>\n<li>java -jar ques.jar com.ABC.XYZ.ManageTraffic</li>\n<li>java -cp /build/libs/ques.jar com.ABC.XYZ.ManageTraffic</li>\n</ul>\n<p>Just to cross check , I unzipped the creataed jar and found that com.ABC.XYZ.ManageTraffic class file is available there , still getting error. What could be the issue?</p>\n"},{"tags":["java","docker","apache-kafka","docker-compose","vps"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646777419,"post_id":71401522,"comment_id":126207254,"body_markdown":"As far as Compose is concerned, `OUTSIDE://MY_VPS_IP_ADDRESS:29092` + `29092:29092` host mapping is correct... You need to make sure your VPS allows external access on that port, then use that advertised IP address from any client.","body":"As far as Compose is concerned, <code>OUTSIDE:&#47;&#47;MY_VPS_IP_ADDRESS:29092</code> + <code>29092:29092</code> host mapping is correct... You need to make sure your VPS allows external access on that port, then use that advertised IP address from any client."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646777483,"post_id":71401522,"comment_id":126207273,"body_markdown":"If you want it to work within the Docker network, on the VPS, **and** as a local Compose service, then you need three listeners, or export `KAFKA_ADVERTISED_LISTENERS` to an `.env` file that is different depending on where you run `docker-compose`","body":"If you want it to work within the Docker network, on the VPS, <b>and</b> as a local Compose service, then you need three listeners, or export <code>KAFKA_ADVERTISED_LISTENERS</code> to an <code>.env</code> file that is different depending on where you run <code>docker-compose</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646777631,"post_id":71401522,"comment_id":126207307,"body_markdown":"For &quot;host not resolvable&quot; 1) `kafka:9092` is the correct &quot;inside Docker network&quot; address you have set, not `:29092`. 2) Your Java service needs to be in the same compose file to be part of the same bridge network between Kafka and Zookeeper if you don&#39;t add `networks` config","body":"For &quot;host not resolvable&quot; 1) <code>kafka:9092</code> is the correct &quot;inside Docker network&quot; address you have set, not <code>:29092</code>. 2) Your Java service needs to be in the same compose file to be part of the same bridge network between Kafka and Zookeeper if you don&#39;t add <code>networks</code> config"}],"owner":{"account_id":23418026,"reputation":11,"user_id":17478689,"display_name":"Marek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646777354,"answer_count":0,"score":0,"last_activity_date":1646774114,"creation_date":1646774114,"question_id":71401522,"body_markdown":"On my VPS I have 3 docker containers: zookeeper, kafka and my own java/spring boot service.\r\nMy questions are:\r\n\r\n 1. How should I configure kafka in compose file to be able to produce/consume messages both from the java service running as a docker container on the same VPS and from my local laptop?\r\n 2. What kafka URL should I use in java service deployed to VPS (I tried &#39;localhost:29092&#39; and &#39;kafka:29092&#39; but with no luck - host not resorvable error)?\r\n 3. What kafka URL should I use if I want to access it from my local laptop (I tried &#39;MY_VPS_IP_ADDRESS:29092&#39; but I&#39;m getting: &#39;LEADER_NOT_AVAILABLE&#39;)?\r\n\r\nMy docker compose file:\r\n\r\n```\r\nversion: &#39;3&#39;\r\n\r\nservices:\r\n        zookeeper:\r\n                image: confluentinc/cp-zookeeper\r\n                container_name: zookeeper\r\n                ports:\r\n                        - &quot;2181:2181&quot;\r\n                environment:\r\n                        ZOOKEEPER_CLIENT_PORT: 2181\r\n        kafka:\r\n                image: confluentinc/cp-kafka\r\n                container_name: kafka\r\n                ports:\r\n                        - &quot;29092:29092&quot;\r\n                environment:\r\n                        KAFKA_LISTENERS: INSIDE://0.0.0.0:9092,OUTSIDE://0.0.0.0:29092\r\n                        KAFKA_ADVERTISED_LISTENERS: INSIDE://kafka:9092,OUTSIDE://MY_VPS_IP_ADDRESS:29092\r\n                        KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT,OUTSIDE:PLAINTEXT\r\n                        KAFKA_INTER_BROKER_LISTENER_NAME: INSIDE\r\n                        KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n                depends_on:\r\n                        - zookeeper\r\n```\r\nI did also try wurstmeister version of these images but with the same result.","title":"How to configure docker kafka in VPS to be able to access it from another docker container and local machine?","body":"<p>On my VPS I have 3 docker containers: zookeeper, kafka and my own java/spring boot service.\nMy questions are:</p>\n<ol>\n<li>How should I configure kafka in compose file to be able to produce/consume messages both from the java service running as a docker container on the same VPS and from my local laptop?</li>\n<li>What kafka URL should I use in java service deployed to VPS (I tried 'localhost:29092' and 'kafka:29092' but with no luck - host not resorvable error)?</li>\n<li>What kafka URL should I use if I want to access it from my local laptop (I tried 'MY_VPS_IP_ADDRESS:29092' but I'm getting: 'LEADER_NOT_AVAILABLE')?</li>\n</ol>\n<p>My docker compose file:</p>\n<pre><code>version: '3'\n\nservices:\n        zookeeper:\n                image: confluentinc/cp-zookeeper\n                container_name: zookeeper\n                ports:\n                        - &quot;2181:2181&quot;\n                environment:\n                        ZOOKEEPER_CLIENT_PORT: 2181\n        kafka:\n                image: confluentinc/cp-kafka\n                container_name: kafka\n                ports:\n                        - &quot;29092:29092&quot;\n                environment:\n                        KAFKA_LISTENERS: INSIDE://0.0.0.0:9092,OUTSIDE://0.0.0.0:29092\n                        KAFKA_ADVERTISED_LISTENERS: INSIDE://kafka:9092,OUTSIDE://MY_VPS_IP_ADDRESS:29092\n                        KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT,OUTSIDE:PLAINTEXT\n                        KAFKA_INTER_BROKER_LISTENER_NAME: INSIDE\n                        KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n                depends_on:\n                        - zookeeper\n</code></pre>\n<p>I did also try wurstmeister version of these images but with the same result.</p>\n"},{"tags":["java","spring","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1646746798,"post_id":71395293,"comment_id":126196162,"body_markdown":"Does anybody else have ever used MockedStatic?","body":"Does anybody else have ever used MockedStatic?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1646773919,"post_id":71395293,"comment_id":126206222,"body_markdown":"Try to make your example minimal but complete. You receive `Drive response is empty`. We have no chance of knowing where it come from. Thus, it is hard to guess the reason of the problem. However: 1. You call `log.info` with one argument in method under thest, but verify an overload with 2 arguments. 2. You need to close MockedStatic - otherwise tests are not self-contained. 3. Reconsider your design - all log messages will come with `LoggingUtils` as source - this obscures the logs to the point of making them useless. MDC may be a better way.","body":"Try to make your example minimal but complete. You receive <code>Drive response is empty</code>. We have no chance of knowing where it come from. Thus, it is hard to guess the reason of the problem. However: 1. You call <code>log.info</code> with one argument in method under thest, but verify an overload with 2 arguments. 2. You need to close MockedStatic - otherwise tests are not self-contained. 3. Reconsider your design - all log messages will come with <code>LoggingUtils</code> as source - this obscures the logs to the point of making them useless. MDC may be a better way."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1646863260,"post_id":71395293,"comment_id":126232089,"body_markdown":"Thanks, what about giving an example for mocking static methods in JUnit5 ?","body":"Thanks, what about giving an example for mocking static methods in JUnit5 ?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1646863655,"post_id":71395293,"comment_id":126232205,"body_markdown":"Baeldung has a nice tutorial: https://www.baeldung.com/mockito-mock-static-methods","body":"Baeldung has a nice tutorial: <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">baeldung.com/mockito-mock-static-methods</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1646864000,"post_id":71395293,"comment_id":126232288,"body_markdown":"Yes, I probably read it. But it does not give a verify example.","body":"Yes, I probably read it. But it does not give a verify example."}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646774033,"creation_date":1646743484,"question_id":71395293,"body_markdown":"I am trying to write a Unit Test for the following method where a static `LoggingUtils` method is used:\r\n```lang-java\r\n@Override\r\n@Transactional(readOnly = true)\r\npublic Page&lt;SiteDTO&gt; findAll() {\r\n\r\n    // code omitted     \r\n\r\n    final boolean isDeleted = site.isDeleted();\r\n    if (isDeleted) {\r\n        LoggingUtils.info(&quot;Info...&quot;);\r\n    }\r\n    return new PageImpl&lt;&gt;(siteDTOList);\r\n}\r\n```\r\n\r\nHere is `LoggingUtils` class and static method:\r\n```lang-java\r\npublic class LoggingUtils {\r\n    private static final Logger log = LoggerFactory.getLogger(LoggingUtils.class);\r\n\r\n    public static void info(String var1) {\r\n        String httpRequestId = getOrCreateRequestId();\r\n        String s = &quot;-&quot; + httpRequestId + &quot;- &quot; + var1;\r\n        log.info(s);\r\n    }\r\n}\r\n```\r\n\r\nI use the following approach, but it causes the following error on pipeline. Here is the error line in the log file:\r\n\r\n```lang-java\r\n@Test\r\npublic void test() {\r\n\r\n    // code omitted \r\n    \r\n    when(demoRepository.findAll()).thenReturn(sitePage);\r\n    \r\n\r\n    static MockedStatic&lt;LoggingUtils&gt; mocked = mockStatic(LoggingUtils.class);\r\n    Page&lt;SiteDTO&gt; result = siteService.findAll();\r\n\r\n    mocked.verify(times(1), () -&gt; LoggingUtils.info(any(), any()));\r\n}\r\n```\r\n\r\n```\r\nc.myproject.logging.util.LoggingUtils   : Drive response is empty !\r\n```\r\n\r\nAs I have no experience to test static method in Unit Test, I think I made a mistake, but I cannot find. So, how to fix that problem? Can I mock the static method using a better approach? ","title":"Cannot use MockedStatic properly in Unit Test","body":"<p>I am trying to write a Unit Test for the following method where a static <code>LoggingUtils</code> method is used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n@Transactional(readOnly = true)\npublic Page&lt;SiteDTO&gt; findAll() {\n\n    // code omitted     \n\n    final boolean isDeleted = site.isDeleted();\n    if (isDeleted) {\n        LoggingUtils.info(&quot;Info...&quot;);\n    }\n    return new PageImpl&lt;&gt;(siteDTOList);\n}\n</code></pre>\n<p>Here is <code>LoggingUtils</code> class and static method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoggingUtils {\n    private static final Logger log = LoggerFactory.getLogger(LoggingUtils.class);\n\n    public static void info(String var1) {\n        String httpRequestId = getOrCreateRequestId();\n        String s = &quot;-&quot; + httpRequestId + &quot;- &quot; + var1;\n        log.info(s);\n    }\n}\n</code></pre>\n<p>I use the following approach, but it causes the following error on pipeline. Here is the error line in the log file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() {\n\n    // code omitted \n    \n    when(demoRepository.findAll()).thenReturn(sitePage);\n    \n\n    static MockedStatic&lt;LoggingUtils&gt; mocked = mockStatic(LoggingUtils.class);\n    Page&lt;SiteDTO&gt; result = siteService.findAll();\n\n    mocked.verify(times(1), () -&gt; LoggingUtils.info(any(), any()));\n}\n</code></pre>\n<pre><code>c.myproject.logging.util.LoggingUtils   : Drive response is empty !\n</code></pre>\n<p>As I have no experience to test static method in Unit Test, I think I made a mistake, but I cannot find. So, how to fix that problem? Can I mock the static method using a better approach?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1646772945,"post_id":71401305,"comment_id":126205911,"body_markdown":"What exactly is `list` here? You&#39;ve shown JSON, but we don&#39;t know what your object model looks like. Have you already parsed the JSON?","body":"What exactly is <code>list</code> here? You&#39;ve shown JSON, but we don&#39;t know what your object model looks like. Have you already parsed the JSON?"},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1646773004,"post_id":71401305,"comment_id":126205925,"body_markdown":"Yes JSON is already parsed. The list is the list of objects above. The list is named list.","body":"Yes JSON is already parsed. The list is the list of objects above. The list is named list."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1646773087,"post_id":71401305,"comment_id":126205955,"body_markdown":"How did you parse it? What *specifically* is held in that list?","body":"How did you parse it? What <i>specifically</i> is held in that list?"},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1646773130,"post_id":71401305,"comment_id":126205974,"body_markdown":"It&#39;s literally just a list of objects as you can see above","body":"It&#39;s literally just a list of objects as you can see above"},{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1646773186,"post_id":71401305,"comment_id":126205989,"body_markdown":"Can you explain what the desired result looks like?","body":"Can you explain what the desired result looks like?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1646773197,"post_id":71401305,"comment_id":126205993,"body_markdown":"So a list where everything is an instance of just `java.lang.Object`? That seems very unlikely. It seems more likely that they&#39;re instances of *some specific type that you&#39;ve created* (or perhaps a general one that comes with the JSON parser you&#39;re using), but which you haven&#39;t told us about. Please provide a [mcve], and read https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/ for suggestions for how to ask better questions.","body":"So a list where everything is an instance of just <code>java.lang.Object</code>? That seems very unlikely. It seems more likely that they&#39;re instances of <i>some specific type that you&#39;ve created</i> (or perhaps a general one that comes with the JSON parser you&#39;re using), but which you haven&#39;t told us about. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and read <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question</a> for suggestions for how to ask better questions."},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1646773224,"post_id":71401305,"comment_id":126205998,"body_markdown":"The desired result would be all the objects that have the field &quot;id&quot; in the object and no objects that don&#39;t contain &quot;id&quot;","body":"The desired result would be all the objects that have the field &quot;id&quot; in the object and no objects that don&#39;t contain &quot;id&quot;"},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1646773306,"post_id":71401305,"comment_id":126206023,"body_markdown":"Yes it&#39;s a list of OBJECTS @JonSkeet. It&#39;s seriously not that complicated. The specific type is made up by me. It&#39;s just a class.","body":"Yes it&#39;s a list of OBJECTS @JonSkeet. It&#39;s seriously not that complicated. The specific type is made up by me. It&#39;s just a class."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1646773366,"post_id":71401305,"comment_id":126206042,"body_markdown":"&quot;literally just a list of objects&quot; parsers would return list of some kind of objects like like list of `List&lt;JSONElement&gt;` or `List&lt;YourOwnClass&gt;` (depending on parser). So without knowing what *kind* of object is held in the list we can&#39;t know about methods/API which is available to us which prevents us from giving you correct answer.","body":"&quot;literally just a list of objects&quot; parsers would return list of some kind of objects like like list of <code>List&lt;JSONElement&gt;</code> or <code>List&lt;YourOwnClass&gt;</code> (depending on parser). So without knowing what <i>kind</i> of object is held in the list we can&#39;t know about methods/API which is available to us which prevents us from giving you correct answer."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1646773383,"post_id":71401305,"comment_id":126206047,"body_markdown":"&quot;The specific type is made up by me&quot; - but you haven&#39;t told us *anything about it*. Why are you so reluctant to give us details? Do you not understand that *without specific details, we cannot help you*? I agree that it&#39;s probably not complicated - but we can&#39;t *guess* what your class looks like.","body":"&quot;The specific type is made up by me&quot; - but you haven&#39;t told us <i>anything about it</i>. Why are you so reluctant to give us details? Do you not understand that <i>without specific details, we cannot help you</i>? I agree that it&#39;s probably not complicated - but we can&#39;t <i>guess</i> what your class looks like."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1646773462,"post_id":71401305,"comment_id":126206076,"body_markdown":"I mean, we *could* write answers based on wild guesses as to what your class looks like... followed by you probably saying &quot;That doesn&#39;t work, because I don&#39;t have a method called `hasField`&quot; (or whatever the answer uses). But that&#39;s not really a productive use of anyone&#39;s time...","body":"I mean, we <i>could</i> write answers based on wild guesses as to what your class looks like... followed by you probably saying &quot;That doesn&#39;t work, because I don&#39;t have a method called <code>hasField</code>&quot; (or whatever the answer uses). But that&#39;s not really a productive use of anyone&#39;s time..."},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1646773507,"post_id":71401305,"comment_id":126206099,"body_markdown":"@JonSkeet I added a model of what the class looks like. It&#39;s just a simple class with three fields in it.","body":"@JonSkeet I added a model of what the class looks like. It&#39;s just a simple class with three fields in it."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1646773540,"post_id":71401305,"comment_id":126206107,"body_markdown":"Right, so now you&#39;ve *finally* provided us the class - *all* the objects have a field called `id`, because that&#39;s in the class. Are you really interested in the objects that have a non-null value for the `id` field? If the JSON contained `&quot;id&quot;: null` for one object, are you okay with that object not being included in the result? What about empty string values?","body":"Right, so now you&#39;ve <i>finally</i> provided us the class - <i>all</i> the objects have a field called <code>id</code>, because that&#39;s in the class. Are you really interested in the objects that have a non-null value for the <code>id</code> field? If the JSON contained <code>&quot;id&quot;: null</code> for one object, are you okay with that object not being included in the result? What about empty string values?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1646773613,"post_id":71401305,"comment_id":126206133,"body_markdown":"Hint: in the sample code you&#39;ve given, `li -&gt; li.equals(&quot;id&quot;)` is a lambda expression used to indicate whether or not the value should be included in the result. So *maybe* you want just `item -&gt; item.id != null`...","body":"Hint: in the sample code you&#39;ve given, <code>li -&gt; li.equals(&quot;id&quot;)</code> is a lambda expression used to indicate whether or not the value should be included in the result. So <i>maybe</i> you want just <code>item -&gt; item.id != null</code>..."},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1646773635,"post_id":71401305,"comment_id":126206142,"body_markdown":"Yes I want all the objects returned from JSON that contain the id field. It appears my JSON response doesn&#39;t include those that are null in the response. So all objects with a non-null id field.","body":"Yes I want all the objects returned from JSON that contain the id field. It appears my JSON response doesn&#39;t include those that are null in the response. So all objects with a non-null id field."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1646773652,"post_id":71401305,"comment_id":126206146,"body_markdown":"Right - so that&#39;s just a predicate of `item -&gt; item.id != null`.","body":"Right - so that&#39;s just a predicate of <code>item -&gt; item.id != null</code>."},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1646773893,"post_id":71401305,"comment_id":126206215,"body_markdown":"@JonSkeet Ok that makes sense, do you know why it would return the error &quot;Cannot find local variable &#39;li&#39;&quot;","body":"@JonSkeet Ok that makes sense, do you know why it would return the error &quot;Cannot find local variable &#39;li&#39;&quot;"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1646773933,"post_id":71401305,"comment_id":126206227,"body_markdown":"@madmaxx01: Not without seeing the actual code you&#39;ve got, no. Again, it&#39;s really pointless trying to make us guess. Maybe you&#39;ve got `item -&gt; li.id != null` for example... in which case no, you haven&#39;t got an `li` variable because you&#39;ve used `item` as the lambda expression parameter. But that&#39;s *just* a guess.","body":"@madmaxx01: Not without seeing the actual code you&#39;ve got, no. Again, it&#39;s really pointless trying to make us guess. Maybe you&#39;ve got <code>item -&gt; li.id != null</code> for example... in which case no, you haven&#39;t got an <code>li</code> variable because you&#39;ve used <code>item</code> as the lambda expression parameter. But that&#39;s <i>just</i> a guess."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646774022,"creation_date":1646773883,"answer_id":71401481,"question_id":71401305,"body_markdown":"From the comments, we get your actual requirement:\r\n\r\n&gt; So all objects with a non-null id field. \r\n\r\nIt&#39;s easy to adapt the code you&#39;ve already got using streams and a filter - you just need to change the predicate that&#39;s being passed to the [`filter`](https://docs.oracle.com/javase/10/docs/api/java/util/stream/Stream.html#filter(java.util.function.Predicate)) method. That predicate needs to return `true` for any value you want to be in the result, and `false` for any value you want to be discarded. So all you need is:\r\n\r\n```java\r\nvar result = list\r\n    .stream()\r\n    .filter(item -&gt; item.id != null)\r\n    .collect(Collectors.toList());\r\n```","title":"Find all objects in list that contain a certain field","body":"<p>From the comments, we get your actual requirement:</p>\n<blockquote>\n<p>So all objects with a non-null id field.</p>\n</blockquote>\n<p>It's easy to adapt the code you've already got using streams and a filter - you just need to change the predicate that's being passed to the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>filter</code></a> method. That predicate needs to return <code>true</code> for any value you want to be in the result, and <code>false</code> for any value you want to be discarded. So all you need is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var result = list\n    .stream()\n    .filter(item -&gt; item.id != null)\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"display_name":"user16148657"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71401481,"answer_count":1,"score":-2,"last_activity_date":1646774022,"creation_date":1646772830,"question_id":71401305,"body_markdown":"I&#39;m trying to find all the objects in a list of objects that contain a particular field name. For example\r\n\r\n    &quot;list&quot;: [\r\n      {\r\n        &quot;namesArray&quot;: [],\r\n        &quot;name&quot;: &quot;Bob&quot;,\r\n        &quot;id&quot;: &quot;12345&quot;,\r\n      },\r\n      {\r\n        &quot;namesArray&quot;: [\r\n          &quot;Jenny&quot;\r\n        ],\r\n        &quot;name&quot;: &quot;Ned&quot;,\r\n      },\r\n      {\r\n        &quot;namesArray&quot;: [],\r\n        &quot;name&quot;: &quot;Jane&quot;,\r\n        &quot;id&quot;: &quot;gkggglg&quot;,\r\n      }\r\n     ]\r\n\r\nThe class looks like this:\r\n\r\n    class ListItem {\r\n        String id;\r\n        String name;\r\n        List&lt;String&gt; namesArray; \r\n    }\r\n\r\nSo basically I need to find all the objects that contain the field &quot;id&quot;. Something like:\r\n\r\n    list.stream().filter(li -&gt; li.equals(&quot;id&quot;)).collect(Collectors.toList());\r\n\r\nI&#39;ve tried following this [page](https://stackoverflow.com/questions/17526608/how-to-find-an-object-in-an-arraylist-by-property) and it isn&#39;t quite what I want. I don&#39;t care about the values of the id&#39;s, just whether or not the object has the field at all. \r\n","title":"Find all objects in list that contain a certain field","body":"<p>I'm trying to find all the objects in a list of objects that contain a particular field name. For example</p>\n<pre><code>&quot;list&quot;: [\n  {\n    &quot;namesArray&quot;: [],\n    &quot;name&quot;: &quot;Bob&quot;,\n    &quot;id&quot;: &quot;12345&quot;,\n  },\n  {\n    &quot;namesArray&quot;: [\n      &quot;Jenny&quot;\n    ],\n    &quot;name&quot;: &quot;Ned&quot;,\n  },\n  {\n    &quot;namesArray&quot;: [],\n    &quot;name&quot;: &quot;Jane&quot;,\n    &quot;id&quot;: &quot;gkggglg&quot;,\n  }\n ]\n</code></pre>\n<p>The class looks like this:</p>\n<pre><code>class ListItem {\n    String id;\n    String name;\n    List&lt;String&gt; namesArray; \n}\n</code></pre>\n<p>So basically I need to find all the objects that contain the field &quot;id&quot;. Something like:</p>\n<pre><code>list.stream().filter(li -&gt; li.equals(&quot;id&quot;)).collect(Collectors.toList());\n</code></pre>\n<p>I've tried following this <a href=\"https://stackoverflow.com/questions/17526608/how-to-find-an-object-in-an-arraylist-by-property\">page</a> and it isn't quite what I want. I don't care about the values of the id's, just whether or not the object has the field at all.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1589676323,"creation_date":1589676323,"answer_id":61845543,"question_id":61845225,"body_markdown":"The problem is that `getItemCount()` can be called before you provide items to the adapter, so you need to make sure it returns 0 if the list of items is null.\r\n\r\nreplace this code\r\n\r\n\t@Override\r\n\tpublic int getItemCount() {\r\n\t\treturn arrayListAudio.size();\r\n\t}\r\n\r\nwith\r\n\r\n\t@Override\r\n\tpublic int getItemCount() {\r\n\t\treturn arrayListAudio == null ? 0 : arrayListAudio.size();\r\n\t}","title":"Android Studio Attempt to invoke virtual method &#39;int java.util.ArrayList.size()&#39; on a null object reference","body":"<p>The problem is that <code>getItemCount()</code> can be called before you provide items to the adapter, so you need to make sure it returns 0 if the list of items is null.</p>\n\n<p>replace this code</p>\n\n<pre><code>@Override\npublic int getItemCount() {\n    return arrayListAudio.size();\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>@Override\npublic int getItemCount() {\n    return arrayListAudio == null ? 0 : arrayListAudio.size();\n}\n</code></pre>\n"}],"owner":{"account_id":17818412,"reputation":33,"user_id":12941384,"display_name":"WelcomeToTheDarkSide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3719,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61845543,"answer_count":1,"score":0,"last_activity_date":1646773758,"creation_date":1589673700,"question_id":61845225,"body_markdown":"I really do not fully understand where the error is coming from. Can someone help me please? Thank you!\r\n\r\nI post the LogCat and the code bellow!\r\n\r\n================================================================================================================================================================================================\r\n\r\nLogCat\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.util.ArrayList.size()&#39; on a null object reference\r\n        at com.musicapp.android.musicapp.MusicCustomAdapter.getItemCount(MusicCustomAdapter.java:42)\r\n\r\ncode:\r\n\r\n    public class MusicCustomAdapter extends RecyclerView.Adapter&lt;MusicCustomAdapter.ViewHolder&gt;{\r\n        private ArrayList&lt;Audio_Model&gt; arrayListAudio;\r\n        private Context context;\r\n    \r\n        public MusicCustomAdapter(ArrayList&lt;Audio_Model&gt; arrayListAudio, Context context) {\r\n            this.arrayListAudio = arrayListAudio;\r\n            this.context = context;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.song_display_model,parent,false);\r\n            ViewHolder holder = new ViewHolder(view);\r\n            return holder;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            holder.Name_of_Song.setText(arrayListAudio.get(position).getName());\r\n            holder.Name_of_Artist.setText(arrayListAudio.get(position).getArtist());\r\n            holder.imageView_song_display_model.setImageBitmap(arrayListAudio.get(position).getSongCOmerPhoto());\r\n        }\r\n    \r\n    40   @Override\r\n    41    public int getItemCount() {\r\n    42        return arrayListAudio.size();\r\n    43    }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            LinearLayout relativeLayout;\r\n            TextView Name_of_Song;\r\n            TextView Name_of_Artist;\r\n            ImageView imageView_song_display_model;\r\n    \r\n            public ViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                relativeLayout= itemView.findViewById(R.id.relativeLayoutId);\r\n                Name_of_Song = itemView.findViewById(R.id.Name_of_Song);\r\n                Name_of_Artist = itemView.findViewById(R.id.Name_of_Artist);\r\n                imageView_song_display_model = itemView.findViewById(R.id.imageView_song_display_model);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Android Studio Attempt to invoke virtual method &#39;int java.util.ArrayList.size()&#39; on a null object reference","body":"<p>I really do not fully understand where the error is coming from. Can someone help me please? Thank you!</p>\n\n<p>I post the LogCat and the code bellow!</p>\n\n<p>================================================================================================================================================================================================</p>\n\n<p>LogCat</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'int java.util.ArrayList.size()' on a null object reference\n    at com.musicapp.android.musicapp.MusicCustomAdapter.getItemCount(MusicCustomAdapter.java:42)\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>public class MusicCustomAdapter extends RecyclerView.Adapter&lt;MusicCustomAdapter.ViewHolder&gt;{\n    private ArrayList&lt;Audio_Model&gt; arrayListAudio;\n    private Context context;\n\n    public MusicCustomAdapter(ArrayList&lt;Audio_Model&gt; arrayListAudio, Context context) {\n        this.arrayListAudio = arrayListAudio;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.song_display_model,parent,false);\n        ViewHolder holder = new ViewHolder(view);\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        holder.Name_of_Song.setText(arrayListAudio.get(position).getName());\n        holder.Name_of_Artist.setText(arrayListAudio.get(position).getArtist());\n        holder.imageView_song_display_model.setImageBitmap(arrayListAudio.get(position).getSongCOmerPhoto());\n    }\n\n40   @Override\n41    public int getItemCount() {\n42        return arrayListAudio.size();\n43    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        LinearLayout relativeLayout;\n        TextView Name_of_Song;\n        TextView Name_of_Artist;\n        ImageView imageView_song_display_model;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            relativeLayout= itemView.findViewById(R.id.relativeLayoutId);\n            Name_of_Song = itemView.findViewById(R.id.Name_of_Song);\n            Name_of_Artist = itemView.findViewById(R.id.Name_of_Artist);\n            imageView_song_display_model = itemView.findViewById(R.id.imageView_song_display_model);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1646770043,"post_id":71400870,"comment_id":126205026,"body_markdown":"Please [edit] your post and include a complete stack trace (format as code).","body":"Please <a href=\"https://stackoverflow.com/posts/71400870/edit\">edit</a> your post and include a complete stack trace (format as code)."}],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646773501,"creation_date":1646773501,"answer_id":71401418,"question_id":71400870,"body_markdown":"The object node is not null. If it was, you would receive NullPointerException in the part node.getId().\r\nWhat is null, is exact id. Because you haven&#39;t saved node yet and thus, the id is not generated for it and it is still null.\r\n\r\nWhen you config a field with @GeneratedValue(strategy = IDENTITY), that value will be created in DB, during saving process, so before saving the object this value is still null. Meaning that you can not check the existence of a similar object by their id. You need to check other fields. ","title":"JPA entity is null in service layer","body":"<p>The object node is not null. If it was, you would receive NullPointerException in the part node.getId().\nWhat is null, is exact id. Because you haven't saved node yet and thus, the id is not generated for it and it is still null.</p>\n<p>When you config a field with @GeneratedValue(strategy = IDENTITY), that value will be created in DB, during saving process, so before saving the object this value is still null. Meaning that you can not check the existence of a similar object by their id. You need to check other fields.</p>\n"}],"owner":{"account_id":22424548,"reputation":23,"user_id":16631369,"display_name":"Random Name"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":780,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71401418,"answer_count":1,"score":0,"last_activity_date":1646773501,"creation_date":1646769852,"question_id":71400870,"body_markdown":"So I have this problem where my the parameter i pass into my service layer function is always null no matter what.\r\nthe error i get is Caused by: java.lang.IllegalArgumentException: The given id must not be null!\r\nwhich happens exactly in the node.get(id) in service layer because the node is null.\r\n\r\n\r\nthis is how my app looks like :\r\n\r\n**Node class**\r\n\r\n    @Entity\r\n    @Data\r\n    public class Node {\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n    \r\n        private Long id;\r\n    \r\n        private int depth;\r\n    \r\n        private double value;\r\n    \r\n        @Column(unique=true)\r\n        private String name;\r\n    \r\n        @ManyToOne //add column definitions as needed\r\n        @JoinColumn(name=&quot;parent_id&quot;)\r\n        private Node parent;      //each Domain with parent==null is a root domain, all others are subdomains\r\n    \r\n    \r\n        @OneToMany(mappedBy = &quot;parent&quot;,cascade = {CascadeType.REMOVE,CascadeType.PERSIST}) //add column definitions as needed\r\n        private List&lt;Node&gt; children;\r\n    \r\n        public Node(final Node parent) {\r\n            if(parent==null) throw new IllegalArgumentException(&quot;parent required&quot;);\r\n    \r\n            this.parent = parent;\r\n            this.children = new ArrayList&lt;&gt;();\r\n            if (parent==null) {\r\n                this.depth=0;\r\n            }\r\n            else {\r\n                this.depth = (parent.getDepth() + 1);\r\n            }\r\n            registerInParentsChilds();\r\n        }\r\n        public Node() {\r\n            this.children = new ArrayList&lt;&gt;();\r\n            if (parent==null) {\r\n                this.depth=0;\r\n            }\r\n            else {\r\n                this.depth = (parent.getDepth() + 1);\r\n            }\r\n        }\r\n        /** Register this domain in the child list of its parent. */\r\n        private void registerInParentsChilds() {\r\n    \r\n            this.parent.children.add(this);\r\n        }\r\n    \r\n        public List&lt;Node&gt; getChildren() {\r\n            return this.children;\r\n        }\r\n        public void move(final Node newParent)  {\r\n            try {\r\n    \r\n                this.parent.children.remove(this);\r\n                this.parent = newParent;\r\n                registerInParentsChilds();\r\n            }\r\n            catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n    \r\n        }\r\n        public static Node createRoot() {\r\n            return new Node();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n**NodeRepostiory :**\r\n\r\n    public interface NodeRepository extends JpaRepository&lt;Node, Long&gt; {\r\n        Optional&lt;Node&gt; findById(Long id);\r\n    \r\n    }\r\n\r\n**NodeService:**\r\n\r\n    public interface NodeService {\r\n        Node saveNode(Node node);\r\n    \r\n    }\r\n\r\n**NodeServiceImpl:**\r\n\r\n    @Service @RequiredArgsConstructor @Transactional @Slf4j\r\n    public class NodeServiceImpl implements NodeService{\r\n    \r\n        @Autowired\r\n        private  NodeRepository nodeRepository;\r\n    \r\n        @Override\r\n        public Node saveNode(Node node) {\r\n            log.info(&quot;saving new node {} to DB&quot;, node);\r\n            Optional&lt;Node&gt; existing_node = nodeRepository.findById(node.getId());\r\n            if (existing_node.get()!=null) {\r\n                log.info(&quot;node already exists&quot;);\r\n                return null;\r\n    \r\n            } else {\r\n                log.info(&quot;node saved&quot;);\r\n                return nodeRepository.save(node);\r\n            }\r\n        }\r\n    }\r\n\r\n**MainApp**\r\n\r\n    @Bean\r\n    \tCommandLineRunner run_again(NodeService nodeService) { //this runs after the app is initialized, so no need for\r\n    \t\t//manual input\r\n    \t\treturn args -&gt; {\r\n    \r\n    \t\t\tNode root;\r\n    \t\t\troot = Node.createRoot();\r\n    \t\t\tnodeService.saveNode(root);\r\n    \t\t\tSystem.out.println(&quot;root created&quot;);\r\n    \r\n    \t\t\tnodeService.saveNode(new Node(root));\r\n    \t\t\tSystem.out.println(&quot;a created&quot;);\r\n    \r\n    \t\t\tNode b = new Node(root);\r\n    \t\t\tnodeService.saveNode(b);\r\n    \r\n    \t\t\tSystem.out.println(&quot;b created&quot;);\r\n    \t\t\tNode c = new Node();\r\n    \t\t\tnodeService.saveNode(c);\r\n    \r\n    \t\t\tSystem.out.println(&quot;c created&quot;);\r\n    \r\n    \r\n    \t\t};\r\n    \t}\r\n\r\nthis is my error stack ( like i said i know exactly where the problem is coming from but i can&#39;t fix it ) :\r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:772) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:753) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat com.example.app.AppApplication.main(AppApplication.java:38) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.3.jar:2.6.3]\r\n    Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat jdk.proxy4/jdk.proxy4.$Proxy113.findById(Unknown Source) ~[na:na]\r\n    \tat com.example.app.service.NodeServiceImpl.saveNode(NodeServiceImpl.java:70) ~[classes/:na]\r\n    \tat com.example.app.service.NodeServiceImpl$$FastClassBySpringCGLIB$$b1b25c7c.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat com.example.app.service.NodeServiceImpl$$EnhancerBySpringCGLIB$$3d60cf81.saveNode(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.example.app.AppApplication.lambda$run_again$1(AppApplication.java:93) ~[classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:769) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \t... 10 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: The given id must not be null!\r\n    \tat org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:301) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]\r\n    \t... 32 common frames omitted\r\n    \r\n    2022-03-08 20:56:00.626  INFO 12604 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-03-08 20:56:00.630  INFO 12604 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2022-03-08 20:56:00.634  INFO 12604 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    \r\n    Process finished with exit code 0\r\n\r\n","title":"JPA entity is null in service layer","body":"<p>So I have this problem where my the parameter i pass into my service layer function is always null no matter what.\nthe error i get is Caused by: java.lang.IllegalArgumentException: The given id must not be null!\nwhich happens exactly in the node.get(id) in service layer because the node is null.</p>\n<p>this is how my app looks like :</p>\n<p><strong>Node class</strong></p>\n<pre><code>@Entity\n@Data\npublic class Node {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n\n    private Long id;\n\n    private int depth;\n\n    private double value;\n\n    @Column(unique=true)\n    private String name;\n\n    @ManyToOne //add column definitions as needed\n    @JoinColumn(name=&quot;parent_id&quot;)\n    private Node parent;      //each Domain with parent==null is a root domain, all others are subdomains\n\n\n    @OneToMany(mappedBy = &quot;parent&quot;,cascade = {CascadeType.REMOVE,CascadeType.PERSIST}) //add column definitions as needed\n    private List&lt;Node&gt; children;\n\n    public Node(final Node parent) {\n        if(parent==null) throw new IllegalArgumentException(&quot;parent required&quot;);\n\n        this.parent = parent;\n        this.children = new ArrayList&lt;&gt;();\n        if (parent==null) {\n            this.depth=0;\n        }\n        else {\n            this.depth = (parent.getDepth() + 1);\n        }\n        registerInParentsChilds();\n    }\n    public Node() {\n        this.children = new ArrayList&lt;&gt;();\n        if (parent==null) {\n            this.depth=0;\n        }\n        else {\n            this.depth = (parent.getDepth() + 1);\n        }\n    }\n    /** Register this domain in the child list of its parent. */\n    private void registerInParentsChilds() {\n\n        this.parent.children.add(this);\n    }\n\n    public List&lt;Node&gt; getChildren() {\n        return this.children;\n    }\n    public void move(final Node newParent)  {\n        try {\n\n            this.parent.children.remove(this);\n            this.parent = newParent;\n            registerInParentsChilds();\n        }\n        catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n\n    }\n    public static Node createRoot() {\n        return new Node();\n    }\n\n\n}\n</code></pre>\n<p><strong>NodeRepostiory :</strong></p>\n<pre><code>public interface NodeRepository extends JpaRepository&lt;Node, Long&gt; {\n    Optional&lt;Node&gt; findById(Long id);\n\n}\n</code></pre>\n<p><strong>NodeService:</strong></p>\n<pre><code>public interface NodeService {\n    Node saveNode(Node node);\n\n}\n</code></pre>\n<p><strong>NodeServiceImpl:</strong></p>\n<pre><code>@Service @RequiredArgsConstructor @Transactional @Slf4j\npublic class NodeServiceImpl implements NodeService{\n\n    @Autowired\n    private  NodeRepository nodeRepository;\n\n    @Override\n    public Node saveNode(Node node) {\n        log.info(&quot;saving new node {} to DB&quot;, node);\n        Optional&lt;Node&gt; existing_node = nodeRepository.findById(node.getId());\n        if (existing_node.get()!=null) {\n            log.info(&quot;node already exists&quot;);\n            return null;\n\n        } else {\n            log.info(&quot;node saved&quot;);\n            return nodeRepository.save(node);\n        }\n    }\n}\n</code></pre>\n<p><strong>MainApp</strong></p>\n<pre><code>@Bean\n    CommandLineRunner run_again(NodeService nodeService) { //this runs after the app is initialized, so no need for\n        //manual input\n        return args -&gt; {\n\n            Node root;\n            root = Node.createRoot();\n            nodeService.saveNode(root);\n            System.out.println(&quot;root created&quot;);\n\n            nodeService.saveNode(new Node(root));\n            System.out.println(&quot;a created&quot;);\n\n            Node b = new Node(root);\n            nodeService.saveNode(b);\n\n            System.out.println(&quot;b created&quot;);\n            Node c = new Node();\n            nodeService.saveNode(c);\n\n            System.out.println(&quot;c created&quot;);\n\n\n        };\n    }\n</code></pre>\n<p>this is my error stack ( like i said i know exactly where the problem is coming from but i can't fix it ) :</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:772) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:753) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\n    at com.example.app.AppApplication.main(AppApplication.java:38) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.3.jar:2.6.3]\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.15.jar:5.3.15]\n    at jdk.proxy4/jdk.proxy4.$Proxy113.findById(Unknown Source) ~[na:na]\n    at com.example.app.service.NodeServiceImpl.saveNode(NodeServiceImpl.java:70) ~[classes/:na]\n    at com.example.app.service.NodeServiceImpl$$FastClassBySpringCGLIB$$b1b25c7c.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]\n    at com.example.app.service.NodeServiceImpl$$EnhancerBySpringCGLIB$$3d60cf81.saveNode(&lt;generated&gt;) ~[classes/:na]\n    at com.example.app.AppApplication.lambda$run_again$1(AppApplication.java:93) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:769) ~[spring-boot-2.6.3.jar:2.6.3]\n    ... 10 common frames omitted\nCaused by: java.lang.IllegalArgumentException: The given id must not be null!\n    at org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:301) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.15.jar:5.3.15]\n    ... 32 common frames omitted\n\n2022-03-08 20:56:00.626  INFO 12604 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-03-08 20:56:00.630  INFO 12604 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-03-08 20:56:00.634  INFO 12604 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","linux","hadoop","mapreduce","bigdata"],"answers":[{"tags":[],"owner":{"account_id":4023011,"reputation":152,"user_id":3312525,"display_name":"markers"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1484941242,"creation_date":1484940006,"answer_id":41770901,"question_id":41122217,"body_markdown":"I had the same issue. Two comments: \r\n\r\nI&#39;m not sure if the `-Dmapreduce.job.split.metainfo.maxsize = -1` would work *without* spaces, but I don&#39;t think the spaces are allowed.\r\n\r\nSecondly, it looks like you&#39;re setting it in a configuration that your job isn&#39;t using. Try using the configuration that your job is using --\r\n\r\n    job.getConfiguration.set(&quot;mapreduce.job.split.metainfo.maxsize&quot;, &quot;-1&quot;);\r\n\r\nThat just worked for me. Good Luck.","title":"ERROR: Split metadata size exceeded 10000000","body":"<p>I had the same issue. Two comments: </p>\n\n<p>I'm not sure if the <code>-Dmapreduce.job.split.metainfo.maxsize = -1</code> would work <em>without</em> spaces, but I don't think the spaces are allowed.</p>\n\n<p>Secondly, it looks like you're setting it in a configuration that your job isn't using. Try using the configuration that your job is using --</p>\n\n<pre><code>job.getConfiguration.set(\"mapreduce.job.split.metainfo.maxsize\", \"-1\");\n</code></pre>\n\n<p>That just worked for me. Good Luck.</p>\n"},{"tags":[],"owner":{"account_id":4970108,"reputation":589,"user_id":3998212,"display_name":"kevininhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646772620,"creation_date":1646772620,"answer_id":71401273,"question_id":41122217,"body_markdown":"When setting config options, it is important that you implement Tool interface and that you set those options in the run method. Check this to get an example.\r\nhttps://stackoverflow.com/a/33365552/3998212","title":"ERROR: Split metadata size exceeded 10000000","body":"<p>When setting config options, it is important that you implement Tool interface and that you set those options in the run method. Check this to get an example.\n<a href=\"https://stackoverflow.com/a/33365552/3998212\">https://stackoverflow.com/a/33365552/3998212</a></p>\n"}],"owner":{"account_id":9816364,"reputation":93,"user_id":7272749,"display_name":"DiegoJr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5267,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1646772620,"creation_date":1481635351,"question_id":41122217,"body_markdown":"I&#39;m getting the error `The job initialization failed: java.io.IOException: Split metadata size exceeded 10000000.` when I try to run a job on hadoop.\r\n\r\nInternet search was indicated for the service of changing a `mapreduce.job.split.metainfo.maxsize` option to -1 in the `mapred-site.xml` file. But you can&#39;t edit this option via file in the Google cluster.\r\n\r\nI also tried setting an option via the command line using `-Dmapreduce.job.split.metainfo.maxsize = -1`, but to no avail.\r\n\r\nI tried to put an option inside the source code using:\r\n\r\n    Configuration config = new Configuration ();\r\n    Config.set (&quot;mapreduce.job.split.metainfo.maxsize&quot;, &quot;-1&quot;);\r\n\r\nBut it&#39;s still making the same mistake. Alternatives?","title":"ERROR: Split metadata size exceeded 10000000","body":"<p>I'm getting the error <code>The job initialization failed: java.io.IOException: Split metadata size exceeded 10000000.</code> when I try to run a job on hadoop.</p>\n\n<p>Internet search was indicated for the service of changing a <code>mapreduce.job.split.metainfo.maxsize</code> option to -1 in the <code>mapred-site.xml</code> file. But you can't edit this option via file in the Google cluster.</p>\n\n<p>I also tried setting an option via the command line using <code>-Dmapreduce.job.split.metainfo.maxsize = -1</code>, but to no avail.</p>\n\n<p>I tried to put an option inside the source code using:</p>\n\n<pre><code>Configuration config = new Configuration ();\nConfig.set (\"mapreduce.job.split.metainfo.maxsize\", \"-1\");\n</code></pre>\n\n<p>But it's still making the same mistake. Alternatives?</p>\n"},{"tags":["java","scala","apache-spark","rdd"],"comments":[{"owner":{"account_id":6969439,"reputation":152,"user_id":5346288,"display_name":"Gregoire"},"score":1,"creation_date":1646775076,"post_id":71401179,"comment_id":126206563,"body_markdown":"unwanted cannot be retrieved by Spark executors, please try to use `val brdUnwanted = spark.sc().broadcast();` then use `.filter(word =&gt; !unwanted.getValue().contains(word))`","body":"unwanted cannot be retrieved by Spark executors, please try to use <code>val brdUnwanted = spark.sc().broadcast();</code> then use <code>.filter(word =&gt; !unwanted.getValue().contains(word))</code>"},{"owner":{"account_id":22925817,"reputation":19,"user_id":17060902,"display_name":"user_name01910191"},"score":0,"creation_date":1646776781,"post_id":71401179,"comment_id":126207092,"body_markdown":"Thank you for your answer. Could there be a typo ? I think that we should use the broadcasted variable inside the filter `val brdUnwanted = spark.sparkContext.broadcast(unwanted)` and `.filter(brdUnwanted.value.contains(word))`. I remember trying this and meeting the same error. I will try again just to be sure.","body":"Thank you for your answer. Could there be a typo ? I think that we should use the broadcasted variable inside the filter <code>val brdUnwanted = spark.sparkContext.broadcast(unwanted)</code> and <code>.filter(brdUnwanted.value.contains(word))</code>. I remember trying this and meeting the same error. I will try again just to be sure."},{"owner":{"account_id":22925817,"reputation":19,"user_id":17060902,"display_name":"user_name01910191"},"score":0,"creation_date":1646842157,"post_id":71401179,"comment_id":126224990,"body_markdown":"Now it throws a Null Pointer Exception. I don&#39;t know where I can put the variable.","body":"Now it throws a Null Pointer Exception. I don&#39;t know where I can put the variable."},{"owner":{"account_id":6969439,"reputation":152,"user_id":5346288,"display_name":"Gregoire"},"score":0,"creation_date":1647078726,"post_id":71401179,"comment_id":126286645,"body_markdown":"I&#39;ve tried your project locally (code on https://github.com/navispeed/stackoverflow-71401179), I didn&#39;t got any issue","body":"I&#39;ve tried your project locally (code on <a href=\"https://github.com/navispeed/stackoverflow-71401179\" rel=\"nofollow noreferrer\">github.com/navispeed/stackoverflow-71401179</a>), I didn&#39;t got any issue"}],"owner":{"account_id":22925817,"reputation":19,"user_id":17060902,"display_name":"user_name01910191"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646771958,"creation_date":1646771958,"question_id":71401179,"body_markdown":"I am trying to count the frequency of words of the 8th field of `dir/file.csv` without counting some words that are in the set `unwanted`.\r\n\r\nApplying `.filter(word =&gt; !unwanted.contains(word))` throws `org.apache.spark.SparkException: Task not serializable`. How can I fix this issue ? \r\n\r\n    import org.apache.spark.sql.SparkSession\r\n    import org.apache.spark.rdd._\r\n    \r\n    import org.apache.log4j.Logger\r\n    import org.apache.log4j.Level\r\n    import scala.tools.nsc.io.File\r\n    \r\n    object WordCount {\r\n      def main(args: Array[String]): Unit = {\r\n        Logger.getLogger(&quot;org&quot;).setLevel(Level.ERROR)\r\n        Logger.getLogger(&quot;akka&quot;).setLevel(Level.ERROR)\r\n    \r\n        val spark = SparkSession.builder\r\n          .appName(&quot;WordCount&quot;).getOrCreate()\r\n    \r\n        val unwanted =  Set(&quot;about&quot;, &quot;also&quot;, &quot;after&quot;, &quot;been&quot;, &quot;does&quot;, &quot;that&quot;, &quot;from&quot;, &quot;gets&quot;, &quot;goes&quot;, &quot;have&quot;, &quot;into&quot;, &quot;there&quot;, &quot;they&quot;, &quot;them&quot;, &quot;their&quot;, &quot;then&quot;, &quot;this&quot;, &quot;what&quot;, &quot;when&quot;, &quot;where&quot;, &quot;which&quot;, &quot;while&quot;, &quot;will&quot;, &quot;with&quot;)\r\n    \r\n        val plots = loadData(spark)\r\n        val words = plots.flatMap(r =&gt; r.toLowerCase.split(&quot;\\\\W+&quot;)).filter(word =&gt; word.length() &gt; 3 &amp;&amp; !unwanted.contains(word)).map(word =&gt; (word,1)).cache()\r\n        val total = words.count()\r\n        val counts = words.reduceByKey(_+_).mapValues(_/total).sortBy(_._2, ascending = false)\r\n        val res = counts.take(100)\r\n        for ((key, value) &lt;- res){\r\n          println(&quot;Word : &quot; + key + &quot; Freq : &quot; + value)\r\n        }\r\n        spark.stop()\r\n      }\r\n    \r\n      def loadData(spark: SparkSession) : RDD[String]= {\r\n        val movieLensHomeDir = &quot;/dir&quot;\r\n        val plots = spark.read.options(Map(&quot;header&quot; -&gt; &quot;true&quot;, &quot;delimiter&quot; -&gt; &quot;,&quot;))\r\n          .csv(movieLensHomeDir + &quot;/file.csv&quot;).rdd\r\n          .map(r =&gt; r.getString(7))\r\n        plots\r\n      }\r\n    }\r\n\r\n","title":"Spark RDD with scala. Filtering with set.contains(x) throws org.apache.spark.SparkException: Task not serializable","body":"<p>I am trying to count the frequency of words of the 8th field of <code>dir/file.csv</code> without counting some words that are in the set <code>unwanted</code>.</p>\n<p>Applying <code>.filter(word =&gt; !unwanted.contains(word))</code> throws <code>org.apache.spark.SparkException: Task not serializable</code>. How can I fix this issue ?</p>\n<pre><code>import org.apache.spark.sql.SparkSession\nimport org.apache.spark.rdd._\n\nimport org.apache.log4j.Logger\nimport org.apache.log4j.Level\nimport scala.tools.nsc.io.File\n\nobject WordCount {\n  def main(args: Array[String]): Unit = {\n    Logger.getLogger(&quot;org&quot;).setLevel(Level.ERROR)\n    Logger.getLogger(&quot;akka&quot;).setLevel(Level.ERROR)\n\n    val spark = SparkSession.builder\n      .appName(&quot;WordCount&quot;).getOrCreate()\n\n    val unwanted =  Set(&quot;about&quot;, &quot;also&quot;, &quot;after&quot;, &quot;been&quot;, &quot;does&quot;, &quot;that&quot;, &quot;from&quot;, &quot;gets&quot;, &quot;goes&quot;, &quot;have&quot;, &quot;into&quot;, &quot;there&quot;, &quot;they&quot;, &quot;them&quot;, &quot;their&quot;, &quot;then&quot;, &quot;this&quot;, &quot;what&quot;, &quot;when&quot;, &quot;where&quot;, &quot;which&quot;, &quot;while&quot;, &quot;will&quot;, &quot;with&quot;)\n\n    val plots = loadData(spark)\n    val words = plots.flatMap(r =&gt; r.toLowerCase.split(&quot;\\\\W+&quot;)).filter(word =&gt; word.length() &gt; 3 &amp;&amp; !unwanted.contains(word)).map(word =&gt; (word,1)).cache()\n    val total = words.count()\n    val counts = words.reduceByKey(_+_).mapValues(_/total).sortBy(_._2, ascending = false)\n    val res = counts.take(100)\n    for ((key, value) &lt;- res){\n      println(&quot;Word : &quot; + key + &quot; Freq : &quot; + value)\n    }\n    spark.stop()\n  }\n\n  def loadData(spark: SparkSession) : RDD[String]= {\n    val movieLensHomeDir = &quot;/dir&quot;\n    val plots = spark.read.options(Map(&quot;header&quot; -&gt; &quot;true&quot;, &quot;delimiter&quot; -&gt; &quot;,&quot;))\n      .csv(movieLensHomeDir + &quot;/file.csv&quot;).rdd\n      .map(r =&gt; r.getString(7))\n    plots\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":19689376,"reputation":109,"user_id":14414722,"display_name":"bjorke07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646771907,"creation_date":1646763645,"answer_id":71399795,"question_id":71399268,"body_markdown":"You can assign JSON data to objects using the `fromJson()` method from the Gson library. \r\n\r\n        String body = object.getBody();\r\n        Gson gson = new Gson();\r\n        Map&lt;String, Object&gt; map = gson.fromJson(body, HashMap.class);\r\n        Map&lt;String, Object&gt; data = (Map&lt;String, Object&gt;) map.get(&quot;data&quot;);\r\n        Map&lt;String, Object&gt; creditTerm = (Map&lt;String, Object&gt;) data.get(&quot;MS8B50FHS&quot;);\r\n        String creditTermValue = creditTerm.get(&quot;creditTerm&quot;).toString();\r\n        System.out.println(creditTermValue);\r\n\r\nCould be refactored.\r\n","title":"How to Get particular value from restTemplate in springboot?","body":"<p>You can assign JSON data to objects using the <code>fromJson()</code> method from the Gson library.</p>\n<pre><code>    String body = object.getBody();\n    Gson gson = new Gson();\n    Map&lt;String, Object&gt; map = gson.fromJson(body, HashMap.class);\n    Map&lt;String, Object&gt; data = (Map&lt;String, Object&gt;) map.get(&quot;data&quot;);\n    Map&lt;String, Object&gt; creditTerm = (Map&lt;String, Object&gt;) data.get(&quot;MS8B50FHS&quot;);\n    String creditTermValue = creditTerm.get(&quot;creditTerm&quot;).toString();\n    System.out.println(creditTermValue);\n</code></pre>\n<p>Could be refactored.</p>\n"}],"owner":{"account_id":22900809,"reputation":1,"user_id":17039556,"display_name":"Java_Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1098,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646771907,"creation_date":1646761041,"question_id":71399268,"body_markdown":"I have an api with given request body and response , now I have to call restTemplate for it and get particular response from it \r\n\r\nThis is my requestBody -&gt;\r\n\r\n    {&quot;ids&quot;:[&quot;MS8B50FHS&quot;]}\r\n\r\n\r\nAnd this is my response -&gt; \r\n\r\n    {\r\n        &quot;status&quot;: 200,\r\n        &quot;success&quot;: true,\r\n        &quot;message&quot;: &quot;detail found!&quot;,\r\n        &quot;data&quot;: {\r\n            &quot;MS8B50FHS&quot;: {\r\n                &quot;ids&quot;: &quot;MS8B50FHS&quot;,\r\n                &quot;creditTerm&quot;: &quot;Credit 45 days&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nNow for this I need to get creditterm by calling a restTemplate \r\n\r\n    @Override\r\n            public String findByUniqueSupplierId (String ids){\r\n                final String url = BaseUrl ;\r\n                HttpHeaders headers = new HttpHeaders();\r\n                HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n                Map&lt;String, List&lt;String&gt;&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;ids&quot;, Collections.singletonList(ids));\r\n                RestTemplate restTemplate = new RestTemplate();\r\n                ResponseEntity&lt;String&gt; object = restTemplate.exchange(url, HttpMethod.POST, requestEntity, String.class , params);\r\n                return object.getBody();\r\n            }\r\n\r\nI was trying something like this but not getting result ","title":"How to Get particular value from restTemplate in springboot?","body":"<p>I have an api with given request body and response , now I have to call restTemplate for it and get particular response from it</p>\n<p>This is my requestBody -&gt;</p>\n<pre><code>{&quot;ids&quot;:[&quot;MS8B50FHS&quot;]}\n</code></pre>\n<p>And this is my response -&gt;</p>\n<pre><code>{\n    &quot;status&quot;: 200,\n    &quot;success&quot;: true,\n    &quot;message&quot;: &quot;detail found!&quot;,\n    &quot;data&quot;: {\n        &quot;MS8B50FHS&quot;: {\n            &quot;ids&quot;: &quot;MS8B50FHS&quot;,\n            &quot;creditTerm&quot;: &quot;Credit 45 days&quot;\n        }\n    }\n}\n</code></pre>\n<p>Now for this I need to get creditterm by calling a restTemplate</p>\n<pre><code>@Override\n        public String findByUniqueSupplierId (String ids){\n            final String url = BaseUrl ;\n            HttpHeaders headers = new HttpHeaders();\n            HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n            Map&lt;String, List&lt;String&gt;&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;ids&quot;, Collections.singletonList(ids));\n            RestTemplate restTemplate = new RestTemplate();\n            ResponseEntity&lt;String&gt; object = restTemplate.exchange(url, HttpMethod.POST, requestEntity, String.class , params);\n            return object.getBody();\n        }\n</code></pre>\n<p>I was trying something like this but not getting result</p>\n"},{"tags":["java","mysql","xml","jersey","try-catch"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1646769269,"post_id":71400722,"comment_id":126204762,"body_markdown":"You posted this already and I told you that you need to fix the version conflict and you haven&#39;t fixed it.","body":"You posted this already and I told you that you need to fix the version conflict and you haven&#39;t fixed it."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1646769328,"post_id":71400722,"comment_id":126204778,"body_markdown":"All you need to do is change the `&lt;version&gt;`","body":"All you need to do is change the <code>&lt;version&gt;</code>"},{"owner":{"account_id":15963670,"reputation":85,"user_id":11519977,"display_name":"dennod"},"score":0,"creation_date":1646772649,"post_id":71400722,"comment_id":126205806,"body_markdown":"I changed the Version of Jersey Now it says connection is successful to the database and still gives Error 500","body":"I changed the Version of Jersey Now it says connection is successful to the database and still gives Error 500"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1646774101,"post_id":71400722,"comment_id":126206263,"body_markdown":"You need to look at the server logs to see the stack trace if it is not being sent in the response.","body":"You need to look at the server logs to see the stack trace if it is not being sent in the response."}],"owner":{"account_id":15963670,"reputation":85,"user_id":11519977,"display_name":"dennod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646771905,"creation_date":1646769066,"question_id":71400722,"body_markdown":"When I try to retrieve the data from my database using postman I get this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N99Fg.png\r\n\r\nWhat is the cause of this error, is it dependency problem or the code I have made not working properly, here is my code:\r\n\r\n \r\n**Student Resource**\r\n\r\n       @Path(&quot;/retrieve&quot;)\r\n        @GET\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public ArrayList&lt;Student&gt; getStudent() throws Exception\r\n        {\r\n            StudentService studentService = new StudentService();\r\n            return studentService.getStudent();\r\n        }\r\n\r\n**StudentService**\r\n\r\n     public ArrayList&lt;Student&gt; getStudent() throws Exception {\r\n    \r\n            ArrayList&lt;Student&gt; data = new ArrayList&lt;Student&gt;();\r\n            Connection connection = null;\r\n            try {\r\n                connection = new MysqlDbConnectionService().getConnection();\r\n    \r\n                String select = &quot;select * from users&quot;;\r\n                PreparedStatement ps = connection.prepareStatement(select);\r\n                ResultSet rs = ps.executeQuery();\r\n    \r\n                Student model = null;\r\n    \r\n                while (rs.next()) {\r\n                    model = new Student();\r\n                    model.setId(rs.getString(&quot;user_id&quot;));\r\n                    model.setUsername(rs.getString(&quot;username&quot;));\r\n                    model.setPassword(rs.getString(&quot;password&quot;));\r\n                    model.setFullName(rs.getString(&quot;fullname&quot;));\r\n                    model.setEmail(rs.getString(&quot;email&quot;));\r\n                    data.add(model);\r\n                }\r\n            } catch(Exception e)\r\n            {\r\n                System.out.println(e + &quot;Retrieve not successful&quot;);\r\n            }\r\n            return data;\r\n        }\r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n        &lt;display-name&gt;com.vogella.jersey.first&lt;/display-name&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;First Servlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n                &lt;param-value&gt;com.resources&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n                &lt;param-value&gt;com.common.Application&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \r\n    \r\n    \r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;First Servlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    \r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;home.html&lt;/welcome-file&gt;\r\n            &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n    \r\n        &lt;/welcome-file-list&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n**Pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;WebJava&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;WebJava&lt;/name&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.25.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n                &lt;version&gt;2.13.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.28&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    &lt;!--         https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.4.45.v20220203&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nIs there a dependency problem or the best solution should be to create a new project and add the code there again? Thank you in advance","title":"Java Jersey CRUD operation POST not working giving 500 Internal Server Error","body":"<p>When I try to retrieve the data from my database using postman I get this error:</p>\n<p><a href=\"https://i.stack.imgur.com/N99Fg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N99Fg.png\" alt=\"enter image description here\" /></a></p>\n<p>What is the cause of this error, is it dependency problem or the code I have made not working properly, here is my code:</p>\n<p><strong>Student Resource</strong></p>\n<pre><code>   @Path(&quot;/retrieve&quot;)\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public ArrayList&lt;Student&gt; getStudent() throws Exception\n    {\n        StudentService studentService = new StudentService();\n        return studentService.getStudent();\n    }\n</code></pre>\n<p><strong>StudentService</strong></p>\n<pre><code> public ArrayList&lt;Student&gt; getStudent() throws Exception {\n\n        ArrayList&lt;Student&gt; data = new ArrayList&lt;Student&gt;();\n        Connection connection = null;\n        try {\n            connection = new MysqlDbConnectionService().getConnection();\n\n            String select = &quot;select * from users&quot;;\n            PreparedStatement ps = connection.prepareStatement(select);\n            ResultSet rs = ps.executeQuery();\n\n            Student model = null;\n\n            while (rs.next()) {\n                model = new Student();\n                model.setId(rs.getString(&quot;user_id&quot;));\n                model.setUsername(rs.getString(&quot;username&quot;));\n                model.setPassword(rs.getString(&quot;password&quot;));\n                model.setFullName(rs.getString(&quot;fullname&quot;));\n                model.setEmail(rs.getString(&quot;email&quot;));\n                data.add(model);\n            }\n        } catch(Exception e)\n        {\n            System.out.println(e + &quot;Retrieve not successful&quot;);\n        }\n        return data;\n    }\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n    &lt;display-name&gt;com.vogella.jersey.first&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;First Servlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;com.resources&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;param-value&gt;com.common.Application&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n\n\n\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;First Servlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n\n    &lt;/servlet-mapping&gt;\n\n\n\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;home.html&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n\n    &lt;/welcome-file-list&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>Pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;WebJava&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;WebJava&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;version&gt;2.25.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n            &lt;version&gt;2.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.28&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n&lt;!--         https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;9.4.45.v20220203&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Is there a dependency problem or the best solution should be to create a new project and add the code there again? Thank you in advance</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","java-io","aws-java-sdk"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":1,"creation_date":1646770848,"post_id":71400314,"comment_id":126205290,"body_markdown":"Which line is throwing the exception?  It really looks like `doc.save(key);` is failing because you don&#39;t have a local folder `65`, not any failure with S3.","body":"Which line is throwing the exception?  It really looks like <code>doc.save(key);</code> is failing because you don&#39;t have a local folder <code>65</code>, not any failure with S3."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646771811,"creation_date":1646771491,"answer_id":71401121,"question_id":71400314,"body_markdown":"Assume I have a PDF in a folder like this: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can easily get this PDF using the [Transfer Manager][2] - part of the **[AWS SDK for Java V2][3]**. \r\n\r\n\r\nYOu are using a very old Java API which is no longer considered best practice. AMazon strongly recommends using V2 over V1. \r\n\r\nNow here is the [code][4] that works fine for this use case.\r\n\r\n\r\n    package com.example.transfermanager;\r\n    \r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.transfer.s3.FileDownload;\r\n    import software.amazon.awssdk.transfer.s3.S3TransferManager;\r\n    import java.nio.file.Paths;\r\n    \r\n    /**\r\n     * To run this AWS code example, ensure that you have setup your development environment, including your AWS credentials.\r\n     *\r\n     * For information, see this documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    public class GetObject {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String usage = &quot;\\n&quot; +\r\n                    &quot;Usage:\\n&quot; +\r\n                    &quot;  &lt;bucketName&gt; &lt;objectKey&gt; &lt;objectPath&gt; \\n\\n&quot; +\r\n                    &quot;Where:\\n&quot; +\r\n                    &quot;  bucketName - the Amazon S3 bucket to upload an object into.\\n&quot; +\r\n                    &quot;  objectKey - the object to download (for example, book.pdf).\\n&quot; +\r\n                    &quot;  objectPath - the path where the file is written (for example, C:/AWS/book2.pdf). \\n\\n&quot; ;\r\n    \r\n        \r\n    \r\n            long MB = 1024;\r\n            String bucketName =  &quot;&lt;MyBucket&gt;&quot;;  //args[0];\r\n            String objectKey =  &quot;foo/foo2/book.pdf&quot; ; //args[1];\r\n            String objectPath =  &quot;C:/AWS/bookhuge39.pdf&quot; ; //args[2];\r\n    \r\n            Region region = Region.US_EAST_1;\r\n            S3TransferManager transferManager =  S3TransferManager.builder()\r\n                    .s3ClientConfiguration(cfg -&gt;cfg.region(region)\r\n                            .targetThroughputInGbps(20.0)\r\n                            .minimumPartSizeInBytes(10 * MB))\r\n                    .build();\r\n    \r\n            downloadObjectTM(transferManager, bucketName,  objectKey, objectPath);\r\n            System.out.println(&quot;Object was successfully downloaded using the Transfer Manager.&quot;);\r\n            transferManager.close();\r\n        }\r\n    \r\n        public static void downloadObjectTM(S3TransferManager transferManager, String  bucketName, String objectKey, String objectPath ) {\r\n            FileDownload download =\r\n                    transferManager.downloadFile(d -&gt; d.getObjectRequest(g -&gt; g.bucket(bucketName).key(objectKey))\r\n                            .destination(Paths.get(objectPath)));\r\n            download.completionFuture().join();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0KwTy.png\r\n  [2]: https://aws.amazon.com/blogs/developer/introducing-amazon-s3-transfer-manager-in-the-aws-sdk-for-java-2-x/?sc_channel=sm&amp;sc_campaign=Developer_Blog&amp;sc_publisher=TWITTER&amp;sc_country=SDK&amp;sc_geo=GLOBAL&amp;sc_outcome=awareness&amp;trk=na_TWITTER\r\n  [3]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [4]: https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/transfermanager/GetObject.java","title":"How to fetch PDF file from a folder inside an Amazon S3 bucket","body":"<p>Assume I have a PDF in a folder like this:</p>\n<p><a href=\"https://i.stack.imgur.com/0KwTy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0KwTy.png\" alt=\"enter image description here\" /></a></p>\n<p>I can easily get this PDF using the <a href=\"https://aws.amazon.com/blogs/developer/introducing-amazon-s3-transfer-manager-in-the-aws-sdk-for-java-2-x/?sc_channel=sm&amp;sc_campaign=Developer_Blog&amp;sc_publisher=TWITTER&amp;sc_country=SDK&amp;sc_geo=GLOBAL&amp;sc_outcome=awareness&amp;trk=na_TWITTER\" rel=\"nofollow noreferrer\">Transfer Manager</a> - part of the <strong><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">AWS SDK for Java V2</a></strong>.</p>\n<p>YOu are using a very old Java API which is no longer considered best practice. AMazon strongly recommends using V2 over V1.</p>\n<p>Now here is the <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/transfermanager/GetObject.java\" rel=\"nofollow noreferrer\">code</a> that works fine for this use case.</p>\n<pre><code>package com.example.transfermanager;\n\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.transfer.s3.FileDownload;\nimport software.amazon.awssdk.transfer.s3.S3TransferManager;\nimport java.nio.file.Paths;\n\n/**\n * To run this AWS code example, ensure that you have setup your development environment, including your AWS credentials.\n *\n * For information, see this documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\npublic class GetObject {\n\n    public static void main(String[] args) {\n\n        final String usage = &quot;\\n&quot; +\n                &quot;Usage:\\n&quot; +\n                &quot;  &lt;bucketName&gt; &lt;objectKey&gt; &lt;objectPath&gt; \\n\\n&quot; +\n                &quot;Where:\\n&quot; +\n                &quot;  bucketName - the Amazon S3 bucket to upload an object into.\\n&quot; +\n                &quot;  objectKey - the object to download (for example, book.pdf).\\n&quot; +\n                &quot;  objectPath - the path where the file is written (for example, C:/AWS/book2.pdf). \\n\\n&quot; ;\n\n    \n\n        long MB = 1024;\n        String bucketName =  &quot;&lt;MyBucket&gt;&quot;;  //args[0];\n        String objectKey =  &quot;foo/foo2/book.pdf&quot; ; //args[1];\n        String objectPath =  &quot;C:/AWS/bookhuge39.pdf&quot; ; //args[2];\n\n        Region region = Region.US_EAST_1;\n        S3TransferManager transferManager =  S3TransferManager.builder()\n                .s3ClientConfiguration(cfg -&gt;cfg.region(region)\n                        .targetThroughputInGbps(20.0)\n                        .minimumPartSizeInBytes(10 * MB))\n                .build();\n\n        downloadObjectTM(transferManager, bucketName,  objectKey, objectPath);\n        System.out.println(&quot;Object was successfully downloaded using the Transfer Manager.&quot;);\n        transferManager.close();\n    }\n\n    public static void downloadObjectTM(S3TransferManager transferManager, String  bucketName, String objectKey, String objectPath ) {\n        FileDownload download =\n                transferManager.downloadFile(d -&gt; d.getObjectRequest(g -&gt; g.bucket(bucketName).key(objectKey))\n                        .destination(Paths.get(objectPath)));\n        download.completionFuture().join();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22426433,"reputation":341,"user_id":16632970,"display_name":"Amara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1368,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646771811,"creation_date":1646766740,"question_id":71400314,"body_markdown":"I am new to AWS and S3 with Java I want to fetch an object from the s3 bucket which is a pdf file that is inside of a folder in the bucket. I have successfully fetched the file from s3 bucket, but I am getting `file not found exception` while trying to get the file from a folder.\r\n\r\nHere is my code- \r\n   \r\n\r\n     public static void main(String[] args) {\r\n            System.out.println(&quot;Fetching pdf from aws s3&quot;);\r\n    \r\n            String bucket = &quot;my-bucket&quot;;\r\n            String key = &quot;65/65-abc.pdf&quot;;\r\n            AmazonS3 amazonS3 = getAmazonS3Client();\r\n   \r\n            S3Object object = amazonS3.getObject(new GetObjectRequest(bucket, key));\r\n            InputStream ins = object.getObjectContent();\r\n    \r\n            try {\r\n                PDDocument doc = PDDocument.load(ins);\r\n                //Saving the document\r\n                doc.save(key);\r\n                System.out.println(&quot;PDF created&quot;);\r\n            }\r\n            catch (Exception e){\r\n                System.out.println(e);\r\n            }\r\n    \r\n        }\r\n    \r\n        private static AmazonS3 getAmazonS3Client(){\r\n            AWSCredentials awsCredentials = new BasicAWSCredentials(&quot;myAccessKey&quot;, &quot;mySecretKey&quot;);\r\n            return AmazonS3ClientBuilder.standard()\r\n                    .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\r\n                    .withRegion(Regions.US_EAST_2).build();\r\n        }\r\n\r\nOutput-\r\n\r\n     java.io.FileNotFoundException: 65\\65-abc.pdf (The system cannot find the path specified)\r\n\r\nMy S3 bucket structure is like -\r\n\r\n    my-bucket/65/65-abc.pdf \r\n\r\n`my-bucket` = is the bucket name \r\n`65` = is a folder name \r\n`65-abc.pdf` = is the file name \r\n","title":"How to fetch PDF file from a folder inside an Amazon S3 bucket","body":"<p>I am new to AWS and S3 with Java I want to fetch an object from the s3 bucket which is a pdf file that is inside of a folder in the bucket. I have successfully fetched the file from s3 bucket, but I am getting <code>file not found exception</code> while trying to get the file from a folder.</p>\n<p>Here is my code-</p>\n<pre><code> public static void main(String[] args) {\n        System.out.println(&quot;Fetching pdf from aws s3&quot;);\n\n        String bucket = &quot;my-bucket&quot;;\n        String key = &quot;65/65-abc.pdf&quot;;\n        AmazonS3 amazonS3 = getAmazonS3Client();\n\n        S3Object object = amazonS3.getObject(new GetObjectRequest(bucket, key));\n        InputStream ins = object.getObjectContent();\n\n        try {\n            PDDocument doc = PDDocument.load(ins);\n            //Saving the document\n            doc.save(key);\n            System.out.println(&quot;PDF created&quot;);\n        }\n        catch (Exception e){\n            System.out.println(e);\n        }\n\n    }\n\n    private static AmazonS3 getAmazonS3Client(){\n        AWSCredentials awsCredentials = new BasicAWSCredentials(&quot;myAccessKey&quot;, &quot;mySecretKey&quot;);\n        return AmazonS3ClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\n                .withRegion(Regions.US_EAST_2).build();\n    }\n</code></pre>\n<p>Output-</p>\n<pre><code> java.io.FileNotFoundException: 65\\65-abc.pdf (The system cannot find the path specified)\n</code></pre>\n<p>My S3 bucket structure is like -</p>\n<pre><code>my-bucket/65/65-abc.pdf \n</code></pre>\n<p><code>my-bucket</code> = is the bucket name\n<code>65</code> = is a folder name\n<code>65-abc.pdf</code> = is the file name</p>\n"},{"tags":["java","android","android-studio","android-activity","settings"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1646720075,"post_id":71386870,"comment_id":126187351,"body_markdown":"Please add the layout file in the question and show examples of what you were expecting and what you are getting.","body":"Please add the layout file in the question and show examples of what you were expecting and what you are getting."},{"owner":{"account_id":20537009,"reputation":33,"user_id":15072853,"display_name":"duszyn_"},"score":1,"creation_date":1646761757,"post_id":71386870,"comment_id":126202276,"body_markdown":"Thanks, I edited the post right now","body":"Thanks, I edited the post right now"}],"answers":[{"tags":[],"owner":{"account_id":20537009,"reputation":33,"user_id":15072853,"display_name":"duszyn_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646771789,"creation_date":1646771789,"answer_id":71401155,"question_id":71386870,"body_markdown":"So basically all you have to do is just go into themes and night theme and change\r\nprimaryVariant color","title":"Settings activity not supporting dark mode in Android Studio in Java","body":"<p>So basically all you have to do is just go into themes and night theme and change\nprimaryVariant color</p>\n"}],"owner":{"account_id":20537009,"reputation":33,"user_id":15072853,"display_name":"duszyn_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71401155,"answer_count":1,"score":0,"last_activity_date":1646771789,"creation_date":1646684682,"question_id":71386870,"body_markdown":"So I have a problem with the dark mode in my root_preferences.xml, when the phone is in light mode everything is visible, but when the user turns on dark mode and tries to change something in the settings, buttons &quot;OK&quot; and &quot;CANCEL&quot; change their color to dark gray and they are barely visible.\r\nThe color of button text in my activity also changes color to dark gray but that&#39;s a different case it would be nice if someone would know the solution to this.\r\n\r\n    &lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;PreferenceCategory app:title=&quot;Settings&quot;&gt;\r\n\r\n        &lt;EditTextPreference\r\n            android:key=&quot;weight&quot;\r\n            android:selectAllOnFocus=&quot;true&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:title=&quot;Weight&quot;\r\n            android:summary=&quot;&quot;/&gt;\r\n\r\n\r\n        &lt;/PreferenceCategory&gt;\r\n\r\n\r\n        &lt;/PreferenceScreen&gt;\r\n\r\n[![Dark Theme][1]][1]\r\n\r\n\r\n[![Light Theme][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rlAEg.png\r\n  [2]: https://i.stack.imgur.com/U9Ili.png","title":"Settings activity not supporting dark mode in Android Studio in Java","body":"<p>So I have a problem with the dark mode in my root_preferences.xml, when the phone is in light mode everything is visible, but when the user turns on dark mode and tries to change something in the settings, buttons &quot;OK&quot; and &quot;CANCEL&quot; change their color to dark gray and they are barely visible.\nThe color of button text in my activity also changes color to dark gray but that's a different case it would be nice if someone would know the solution to this.</p>\n<pre><code>&lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n&lt;PreferenceCategory app:title=&quot;Settings&quot;&gt;\n\n    &lt;EditTextPreference\n        android:key=&quot;weight&quot;\n        android:selectAllOnFocus=&quot;true&quot;\n        android:singleLine=&quot;true&quot;\n        android:title=&quot;Weight&quot;\n        android:summary=&quot;&quot;/&gt;\n\n\n    &lt;/PreferenceCategory&gt;\n\n\n    &lt;/PreferenceScreen&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rlAEg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rlAEg.png\" alt=\"Dark Theme\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/U9Ili.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U9Ili.png\" alt=\"Light Theme\" /></a></p>\n"},{"tags":["java","xml","hibernate","transactions"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645721669,"post_id":71255465,"comment_id":125952422,"body_markdown":"Does this answer your question? [How can I resolve &quot;org.hibernate.HibernateException: createCriteria is not valid without active transaction&quot; exception?](https://stackoverflow.com/questions/11145935/how-can-i-resolve-org-hibernate-hibernateexception-createcriteria-is-not-valid)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11145935/how-can-i-resolve-org-hibernate-hibernateexception-createcriteria-is-not-valid\">How can I resolve &quot;org.hibernate.HibernateException: createCriteria is not valid without active transaction&quot; exception?</a>"},{"owner":{"account_id":21987718,"reputation":15,"user_id":16261693,"display_name":"yilopa"},"score":0,"creation_date":1645721720,"post_id":71255465,"comment_id":125952442,"body_markdown":"I saw that post first but when I tried unfortunately didn&#39;t work for me","body":"I saw that post first but when I tried unfortunately didn&#39;t work for me"}],"owner":{"account_id":21987718,"reputation":15,"user_id":16261693,"display_name":"yilopa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646771654,"creation_date":1645721398,"question_id":71255465,"body_markdown":"I&#39;m doing a web application for user management system but after processing the login page I have following error:\r\n\r\n    org.hibernate.HibernateException: createCriteria is not valid without active transaction\r\n    \t\r\n\r\n    org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:297)\r\n    \tcom.sun.proxy.$Proxy12.createCriteria(Unknown Source)\r\n    \tteste.domain.dao.AbstractDao.createCriteria(AbstractDao.java:16)\r\n    \tteste.servicos.LoginService.checkLogin(LoginService.java:26)\r\n    \tteste.web.LoginServlet.doPost(LoginServlet.java:32)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\n**HibernateUtils.java**\r\n\r\n    package teste.utils;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.cfg.Configuration;\r\n    import org.hibernate.classic.Session;\r\n    \r\n    \r\n    import java.sql.SQLException;\r\n    \r\n    public class HibernateUtils implements Runnable{\r\n    \r\n        //    private static Session session;\r\n        private static final Logger logger = Logger.getLogger(HibernateUtils.class);\r\n        private static SessionFactory sessionFactory;\r\n    \r\n    \r\n        static\r\n        {\r\n            try\r\n            {\r\n               createFactory();\r\n            }\r\n            catch (Throwable e)\r\n            {\r\n                logger.fatal(e,e);\r\n                throw new ExceptionInInitializerError(e);\r\n            }\r\n        }\r\n    \r\n        private static void createFactory()\r\n        {\r\n            Configuration config = new Configuration();\r\n            config.configure(Thread.currentThread().getContextClassLoader().getResource(&quot;teste/domain/hibernate.cfg.xml&quot;));\r\n            sessionFactory = config.buildSessionFactory();\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        public static SessionFactory getSessionFactory()\r\n        {\r\n            if(sessionFactory.isClosed())\r\n               createFactory();\r\n            return sessionFactory;\r\n        }\r\n    \r\n    \r\n    \r\n        public static synchronized Session openSession()\r\n        {\r\n    //        if(!session.isOpen())\r\n       //      return sessionFactory.openSession();\r\n    //        return session;\r\n            return getCurrentSession();\r\n        }\r\n        public static synchronized Session getCurrentSession() throws IllegalStateException\r\n        {\r\n            return getSessionFactory().getCurrentSession();\r\n        }\r\n    \r\n    \r\n        public static void shutdown() {\r\n            // Close caches and connection pools\r\n            getSessionFactory().close();\r\n        }\r\n    \r\n    \r\n        public static void testeSession(){\r\n            Session sess = HibernateUtils.getCurrentSession();\r\n            System.out.println(sess);\r\n    \r\n        }\r\n    \r\n        public void run()\r\n        {\r\n            Session sess = getCurrentSession();\r\n            Transaction t2 = sess.beginTransaction();\r\n    \r\n            t2.begin();\r\n    \r\n            try {\r\n                Thread.sleep(2000);\r\n            }\r\n            catch (InterruptedException e) {\r\n                e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.\r\n            }\r\n            t2.commit();\r\n        }\r\n    }\r\n\r\n**AbstractDao.java**\r\n\r\n    package teste.domain.dao;\r\n    \r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.Session;\r\n    import teste.utils.HibernateUtils;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    public abstract class AbstractDao&lt;CLAZZ&gt;\r\n    {\r\n    \r\n        public abstract Class obtainDomainClass();\r\n    \r\n    \r\n        public Criteria createCriteria(){\r\n            return getCurrentSession().createCriteria(obtainDomainClass());\r\n        }\r\n    \r\n        public Session getCurrentSession()\r\n        {\r\n            return HibernateUtils.getCurrentSession();\r\n        }\r\n        public CLAZZ load(Serializable id)\r\n        {\r\n            return (CLAZZ) HibernateUtils.getaCurrentSession().load(obtainDomainClass(),id);\r\n        }\r\n    \r\n        public void save(CLAZZ c)\r\n        {\r\n            HibernateUtils.getCurrentSession().save(c);\r\n        }\r\n    \r\n        public CLAZZ get(Serializable id){\r\n            return(CLAZZ) HibernateUtils.getCurrentSession().get(obtainDomainClass(),id);\r\n        }\r\n    \r\n        public void delete(CLAZZ c){\r\n            HibernateUtils.getCurrentSession().delete(c);}\r\n    \r\n        public void refresh(CLAZZ c)\r\n        {\r\n            HibernateUtils.getCurrentSession().refresh(c);\r\n        }\r\n    \r\n        public void update(CLAZZ c)\r\n        {\r\n            HibernateUtils.getCurrentSession().update(c);\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n**LoginServlet.java**\r\n\r\n    package teste.web;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.classic.Session;\r\n    import teste.domain.User;\r\n    import teste.servicos.LoginService;\r\n    import teste.utils.HibernateUtils;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.HttpSession;\r\n    import java.io.IOException;\r\n    \r\n    public class LoginServlet extends AbstractServlet\r\n    {\r\n        private static final Logger logger = Logger.getLogger(LoginServlet.class);\r\n    \r\n        @Override\r\n        protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n    \r\n            LoginService loginService = new LoginService();\r\n    \r\n    \r\n            String username = req.getParameter(&quot;username&quot;);\r\n            String password = req.getParameter(&quot;password&quot;);\r\n    \r\n            logger.info(&quot;Username: &quot; + username);\r\n            logger.debug(&quot;Password&quot; + password);\r\n    \r\n            User user = loginService.checkLogin(username,password,null);\r\n    \r\n            if (user!= null){\r\n                String roles = loginService.returnRole();\r\n                logger.info(&quot;Username: &quot; + username);\r\n    \r\n                if (roles !=null){\r\n                    HttpSession session = req.getSession();\r\n    \r\n                    req.setAttribute(&quot;userLoggedIn&quot;, user);\r\n                    session.setAttribute(&quot;username&quot;, username);\r\n                    session.setAttribute(&quot;roles&quot;,roles);\r\n    \r\n                    String encodedURL = resp.encodeRedirectUrl(&quot;home.jsp&quot;);\r\n                    resp.sendRedirect(encodedURL);\r\n                }else {\r\n                    HttpSession session = req.getSession();\r\n    \r\n                    req.setAttribute(&quot;userLoggedIn&quot;, user);\r\n                    session.setAttribute(&quot;username&quot;, username);\r\n                    session.setAttribute(&quot;roles&quot;, &quot;normal&quot;);\r\n    \r\n                    String encodedURL = resp.encodeRedirectUrl(&quot;home.jsp&quot;);\r\n                    resp.sendRedirect(encodedURL);\r\n                }\r\n            }else {\r\n                String encodedURL = resp.encodeRedirectUrl(&quot;http://localhost:8080/TrabalhoES/login.jsp?wrong_password&quot;);\r\n                resp.sendRedirect(encodedURL);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void doService(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n    \r\n        }\r\n    }\r\n\r\n**LoginService.java**\r\n\r\n    package teste.servicos;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import teste.domain.User;\r\n    import teste.domain.UserSession;\r\n    import teste.domain.dao.DaoFactory;\r\n    import teste.servicepack.security.logic.Permission.Transaction;\r\n    import teste.utils.HibernateUtils;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class LoginService {\r\n    \r\n        User user = null;\r\n    \r\n    @Transaction\r\n        public User checkLogin (String username, String password, UserSession session) throws ServletException, IOException{\r\n    \r\n    \r\n    \r\n        List&lt;User&gt; users = ( List&lt;User&gt;) DaoFactory.createUserDao().createCriteria().list();\r\n    \r\n    \r\n    \r\n    \r\n            for (User value : users){\r\n    \r\n                if (value.getUsername().equals(username) &amp;&amp; value.getPassword().equals(password)){\r\n                    System.out.println(session.getCookie());\r\n                    user = value;\r\n                    session.setUser(value);\r\n                    return user;\r\n                }\r\n            }\r\n            return null;\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Transaction\r\n        public String returnRole(){\r\n            return user.getRoles();\r\n        }\r\n    }\r\n\r\n**hibernate.cfg.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    \r\n            &lt;property name=&quot;hibernate.connection.autoReconnect&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.autoReconnectForPools&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;false&lt;/property&gt;\r\n    \r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernate&lt;/property&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;@hibernate.show.sql@&lt;/property&gt;\r\n    \r\n    \r\n    \r\n            &lt;property name=&quot;transaction.factory_class&quot;&gt;org.hibernate.transaction.JDBCTransactionFactory&lt;/property&gt;\r\n            &lt;!--&lt;property name=&quot;connection.pool_size&quot;&gt;2&lt;/property&gt;--&gt;\r\n            &lt;property name=&quot;hibernate.transaction.auto_close_session&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.release_mode&quot;&gt;after_transaction&lt;/property&gt;\r\n           &lt;!--&lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;2&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;30&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;150&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.max_statements&quot;&gt;50&lt;/property&gt;--&gt;\r\n    \r\n    \r\n            &lt;!--&lt;property name=&quot;current_session_context_class&quot;&gt;org.hibernate.context.CurrentSessionContext&lt;/property&gt;--&gt;\r\n            &lt;!--&lt;property name=&quot;current_session_context_class&quot;&gt;org.hibernate.context.JTASessionContext&lt;/property&gt;--&gt;\r\n            &lt;!--&lt;property name=&quot;hibernate.transaction.manager_lookup_class&quot;&gt;org.hibernate.transaction.TransactionManagerLookup&lt;/property&gt;--&gt;\r\n            &lt;!--&lt;property name=&quot;current_session_context_class&quot;&gt;org.hibernate.context.ThreadLocalSessionContext&lt;/property&gt;--&gt;\r\n            &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n            &lt;!--\r\n                &lt;property name=&quot;hibernate.connection.pool_size&quot;&gt;3&lt;/property&gt;\r\n            --&gt;\r\n            &lt;mapping resource=&quot;teste/domain/UserSession.hbm.xml&quot;/&gt;\r\n            &lt;mapping resource=&quot;teste/domain/Section.hbm.xml&quot;/&gt;\r\n            &lt;mapping resource=&quot;teste/domain/Page.hbm.xml&quot;/&gt;\r\n            &lt;mapping resource=&quot;teste/domain/Component.hbm.xml&quot;/&gt;\r\n            &lt;mapping resource=&quot;teste/domain/User.hbm.xml&quot;/&gt;\r\n            &lt;!--&lt;mapping resource=&quot;teste/domain/Customer.hbm.xml&quot;/&gt;--&gt;\r\n    \r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nI&#39;m not using Spring, that&#39;s why I couldn&#39;t find many solutions. Can anyone explain it to me why I&#39;m facing this issue?","title":"org.hibernate.HibernateException: createCriteria is not valid without active transaction","body":"<p>I'm doing a web application for user management system but after processing the login page I have following error:</p>\n<pre><code>org.hibernate.HibernateException: createCriteria is not valid without active transaction\n    \n\norg.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:297)\n    com.sun.proxy.$Proxy12.createCriteria(Unknown Source)\n    teste.domain.dao.AbstractDao.createCriteria(AbstractDao.java:16)\n    teste.servicos.LoginService.checkLogin(LoginService.java:26)\n    teste.web.LoginServlet.doPost(LoginServlet.java:32)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p><strong>HibernateUtils.java</strong></p>\n<pre><code>package teste.utils;\n\nimport org.apache.log4j.Logger;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.classic.Session;\n\n\nimport java.sql.SQLException;\n\npublic class HibernateUtils implements Runnable{\n\n    //    private static Session session;\n    private static final Logger logger = Logger.getLogger(HibernateUtils.class);\n    private static SessionFactory sessionFactory;\n\n\n    static\n    {\n        try\n        {\n           createFactory();\n        }\n        catch (Throwable e)\n        {\n            logger.fatal(e,e);\n            throw new ExceptionInInitializerError(e);\n        }\n    }\n\n    private static void createFactory()\n    {\n        Configuration config = new Configuration();\n        config.configure(Thread.currentThread().getContextClassLoader().getResource(&quot;teste/domain/hibernate.cfg.xml&quot;));\n        sessionFactory = config.buildSessionFactory();\n\n    }\n\n\n\n    public static SessionFactory getSessionFactory()\n    {\n        if(sessionFactory.isClosed())\n           createFactory();\n        return sessionFactory;\n    }\n\n\n\n    public static synchronized Session openSession()\n    {\n//        if(!session.isOpen())\n   //      return sessionFactory.openSession();\n//        return session;\n        return getCurrentSession();\n    }\n    public static synchronized Session getCurrentSession() throws IllegalStateException\n    {\n        return getSessionFactory().getCurrentSession();\n    }\n\n\n    public static void shutdown() {\n        // Close caches and connection pools\n        getSessionFactory().close();\n    }\n\n\n    public static void testeSession(){\n        Session sess = HibernateUtils.getCurrentSession();\n        System.out.println(sess);\n\n    }\n\n    public void run()\n    {\n        Session sess = getCurrentSession();\n        Transaction t2 = sess.beginTransaction();\n\n        t2.begin();\n\n        try {\n            Thread.sleep(2000);\n        }\n        catch (InterruptedException e) {\n            e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.\n        }\n        t2.commit();\n    }\n}\n</code></pre>\n<p><strong>AbstractDao.java</strong></p>\n<pre><code>package teste.domain.dao;\n\nimport org.hibernate.Criteria;\nimport org.hibernate.Session;\nimport teste.utils.HibernateUtils;\n\nimport java.io.Serializable;\n\npublic abstract class AbstractDao&lt;CLAZZ&gt;\n{\n\n    public abstract Class obtainDomainClass();\n\n\n    public Criteria createCriteria(){\n        return getCurrentSession().createCriteria(obtainDomainClass());\n    }\n\n    public Session getCurrentSession()\n    {\n        return HibernateUtils.getCurrentSession();\n    }\n    public CLAZZ load(Serializable id)\n    {\n        return (CLAZZ) HibernateUtils.getaCurrentSession().load(obtainDomainClass(),id);\n    }\n\n    public void save(CLAZZ c)\n    {\n        HibernateUtils.getCurrentSession().save(c);\n    }\n\n    public CLAZZ get(Serializable id){\n        return(CLAZZ) HibernateUtils.getCurrentSession().get(obtainDomainClass(),id);\n    }\n\n    public void delete(CLAZZ c){\n        HibernateUtils.getCurrentSession().delete(c);}\n\n    public void refresh(CLAZZ c)\n    {\n        HibernateUtils.getCurrentSession().refresh(c);\n    }\n\n    public void update(CLAZZ c)\n    {\n        HibernateUtils.getCurrentSession().update(c);\n    }\n\n\n\n}\n</code></pre>\n<p><strong>LoginServlet.java</strong></p>\n<pre><code>package teste.web;\n\nimport org.apache.log4j.Logger;\nimport org.hibernate.Transaction;\nimport org.hibernate.classic.Session;\nimport teste.domain.User;\nimport teste.servicos.LoginService;\nimport teste.utils.HibernateUtils;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\nimport java.io.IOException;\n\npublic class LoginServlet extends AbstractServlet\n{\n    private static final Logger logger = Logger.getLogger(LoginServlet.class);\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n        LoginService loginService = new LoginService();\n\n\n        String username = req.getParameter(&quot;username&quot;);\n        String password = req.getParameter(&quot;password&quot;);\n\n        logger.info(&quot;Username: &quot; + username);\n        logger.debug(&quot;Password&quot; + password);\n\n        User user = loginService.checkLogin(username,password,null);\n\n        if (user!= null){\n            String roles = loginService.returnRole();\n            logger.info(&quot;Username: &quot; + username);\n\n            if (roles !=null){\n                HttpSession session = req.getSession();\n\n                req.setAttribute(&quot;userLoggedIn&quot;, user);\n                session.setAttribute(&quot;username&quot;, username);\n                session.setAttribute(&quot;roles&quot;,roles);\n\n                String encodedURL = resp.encodeRedirectUrl(&quot;home.jsp&quot;);\n                resp.sendRedirect(encodedURL);\n            }else {\n                HttpSession session = req.getSession();\n\n                req.setAttribute(&quot;userLoggedIn&quot;, user);\n                session.setAttribute(&quot;username&quot;, username);\n                session.setAttribute(&quot;roles&quot;, &quot;normal&quot;);\n\n                String encodedURL = resp.encodeRedirectUrl(&quot;home.jsp&quot;);\n                resp.sendRedirect(encodedURL);\n            }\n        }else {\n            String encodedURL = resp.encodeRedirectUrl(&quot;http://localhost:8080/TrabalhoES/login.jsp?wrong_password&quot;);\n            resp.sendRedirect(encodedURL);\n        }\n    }\n\n    @Override\n    protected void doService(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n    }\n}\n</code></pre>\n<p><strong>LoginService.java</strong></p>\n<pre><code>package teste.servicos;\n\nimport org.apache.log4j.Logger;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport teste.domain.User;\nimport teste.domain.UserSession;\nimport teste.domain.dao.DaoFactory;\nimport teste.servicepack.security.logic.Permission.Transaction;\nimport teste.utils.HibernateUtils;\n\nimport javax.servlet.ServletException;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class LoginService {\n\n    User user = null;\n\n@Transaction\n    public User checkLogin (String username, String password, UserSession session) throws ServletException, IOException{\n\n\n\n    List&lt;User&gt; users = ( List&lt;User&gt;) DaoFactory.createUserDao().createCriteria().list();\n\n\n\n\n        for (User value : users){\n\n            if (value.getUsername().equals(username) &amp;&amp; value.getPassword().equals(password)){\n                System.out.println(session.getCookie());\n                user = value;\n                session.setUser(value);\n                return user;\n            }\n        }\n        return null;\n\n\n\n    }\n\n    @Transaction\n    public String returnRole(){\n        return user.getRoles();\n    }\n}\n</code></pre>\n<p><strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.connection.autoReconnect&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.autoReconnectForPools&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;false&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernate&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;@hibernate.show.sql@&lt;/property&gt;\n\n\n\n        &lt;property name=&quot;transaction.factory_class&quot;&gt;org.hibernate.transaction.JDBCTransactionFactory&lt;/property&gt;\n        &lt;!--&lt;property name=&quot;connection.pool_size&quot;&gt;2&lt;/property&gt;--&gt;\n        &lt;property name=&quot;hibernate.transaction.auto_close_session&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.release_mode&quot;&gt;after_transaction&lt;/property&gt;\n       &lt;!--&lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;2&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;30&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;150&lt;/property&gt;\n        &lt;property name=&quot;hibernate.max_statements&quot;&gt;50&lt;/property&gt;--&gt;\n\n\n        &lt;!--&lt;property name=&quot;current_session_context_class&quot;&gt;org.hibernate.context.CurrentSessionContext&lt;/property&gt;--&gt;\n        &lt;!--&lt;property name=&quot;current_session_context_class&quot;&gt;org.hibernate.context.JTASessionContext&lt;/property&gt;--&gt;\n        &lt;!--&lt;property name=&quot;hibernate.transaction.manager_lookup_class&quot;&gt;org.hibernate.transaction.TransactionManagerLookup&lt;/property&gt;--&gt;\n        &lt;!--&lt;property name=&quot;current_session_context_class&quot;&gt;org.hibernate.context.ThreadLocalSessionContext&lt;/property&gt;--&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n\n        &lt;!--\n            &lt;property name=&quot;hibernate.connection.pool_size&quot;&gt;3&lt;/property&gt;\n        --&gt;\n        &lt;mapping resource=&quot;teste/domain/UserSession.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;teste/domain/Section.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;teste/domain/Page.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;teste/domain/Component.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;teste/domain/User.hbm.xml&quot;/&gt;\n        &lt;!--&lt;mapping resource=&quot;teste/domain/Customer.hbm.xml&quot;/&gt;--&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>I'm not using Spring, that's why I couldn't find many solutions. Can anyone explain it to me why I'm facing this issue?</p>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":1,"creation_date":1290171249,"post_id":4225061,"comment_id":4572061,"body_markdown":"Well, it *does* produce a warning.","body":"Well, it <i>does</i> produce a warning."}],"answers":[{"tags":[],"owner":{"account_id":1298,"reputation":24599,"user_id":1730,"accept_rate":100,"display_name":"Nicolas"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1290171060,"creation_date":1290171060,"answer_id":4225160,"question_id":4225061,"body_markdown":"If T is not explicitly specified, the type erasure will treat it as `Object`. Therfore, your String object can be casted...","title":"Why doesn&#39;t this generic cast fail?","body":"<p>If T is not explicitly specified, the type erasure will treat it as <code>Object</code>. Therfore, your String object can be casted...</p>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1290171304,"creation_date":1290171304,"answer_id":4225189,"question_id":4225061,"body_markdown":"You don&#39;t explicitly specified, so the T is Object. \r\n\r\nSo the look up look like this \r\n\r\n    public class Generics {\r\n    \r\n        public static void main(String[] args) {\r\n            Generics.method(Integer.class).intValue();\r\n        }\r\n    \r\n        public static Object method(Class&lt;Object&gt; t) {\r\n            return (Object) new String();\r\n        }\r\n    }\r\n\r\nIf you specify the generic parameter:\r\n\r\n    public class Generics {\r\n    \r\n        public static void main(String[] args) {\r\n            Generics.&lt;Integer&gt;method(Integer.class).intValue();\r\n        }\r\n    \r\n        public static &lt;T&gt; T method(Class&lt;T&gt; t) {\r\n            return (T) new String();\r\n        }\r\n    }\r\n\r\nYou will get that exception .\r\n","title":"Why doesn&#39;t this generic cast fail?","body":"<p>You don't explicitly specified, so the T is Object. </p>\n\n<p>So the look up look like this </p>\n\n<pre><code>public class Generics {\n\n    public static void main(String[] args) {\n        Generics.method(Integer.class).intValue();\n    }\n\n    public static Object method(Class&lt;Object&gt; t) {\n        return (Object) new String();\n    }\n}\n</code></pre>\n\n<p>If you specify the generic parameter:</p>\n\n<pre><code>public class Generics {\n\n    public static void main(String[] args) {\n        Generics.&lt;Integer&gt;method(Integer.class).intValue();\n    }\n\n    public static &lt;T&gt; T method(Class&lt;T&gt; t) {\n        return (T) new String();\n    }\n}\n</code></pre>\n\n<p>You will get that exception .</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290174268,"creation_date":1290174268,"answer_id":4225556,"question_id":4225061,"body_markdown":"I think that you can make stronger method definition like this: \r\n\r\n    public static &lt;T extends Number&gt; T method(Class&lt;T&gt; t) {\r\n        return //// some code.\r\n    }\r\n\r\nIn this case line return new String() just cannot be compiled.\r\n\r\nbut line return new Integer(123); is compiled, works and does not require casting.","title":"Why doesn&#39;t this generic cast fail?","body":"<p>I think that you can make stronger method definition like this: </p>\n\n<pre><code>public static &lt;T extends Number&gt; T method(Class&lt;T&gt; t) {\n    return //// some code.\n}\n</code></pre>\n\n<p>In this case line return new String() just cannot be compiled.</p>\n\n<p>but line return new Integer(123); is compiled, works and does not require casting.</p>\n"},{"tags":[],"owner":{"account_id":161962,"reputation":16675,"user_id":383124,"accept_rate":56,"display_name":"phant0m"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646771597,"creation_date":1646771597,"answer_id":71401130,"question_id":4225061,"body_markdown":"Basically, because of type erasure, Java will perform a type-check at the call-site *whenever* you make use of the fact that `T` is something specific.  \r\nBut things aren&#39;t quite that simple, unfortunately.\r\n\r\n-----------\r\n\r\n**The other answers are *incorrect*** when they say `T` being `Object` is the reason you don&#39;t get a `ClassCastException`.\r\n\r\nLet&#39;s test the theory and manually choose `T` to be `Integer`:\r\n\r\n    Generics.&lt;Integer&gt;method(Integer.class);\r\n\r\nWhen I run this, it still doesn&#39;t fail. \r\n\r\n\r\nJava does infer `T` to be `Integer`, `method(Integer.class).intValue()` would be a compile-time error, chained calls do not inform type inference.\r\n\r\n----\r\n\r\n**So what is going on?**\r\n\r\nNote that when it does fail, it never fails `method`, it will always fail inside `main`.\r\n\r\nDue to type erasure, `method` basically ends up without any generics information after compilation. The return type ends up being `Object`, the parameter type is the raw type `Class` and the cast inside the method is simply removed because a cast would be a no-op in the absence of any generics information.\r\n\r\nYou can see this when checking the bytecode of the callsite:\r\n\r\n       0: ldc           #7   // class java/lang/Integer\r\n       2: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\r\n                                                                   ^^^^^^^^^^^^^^^^\r\n                                                                   return type\r\n\r\nWhen calling a method in the bytecode, the return type ends up as part of the method&#39;s &quot;name&quot;, if you will.\r\n\r\n[Exploring further][godbolt]&lt;sup&gt;compiler explorer&lt;/sup&gt;, we find that a modified `main` method produces the following bytecode&lt;sup&gt;1&lt;/sup&gt; for the first four lines:\r\n\r\n    Main.&lt;Integer&gt;method(Integer.class);\r\n       0: ldc           #7   // class java/lang/Integer\r\n       2: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\r\n       5: pop\r\n    Object o = Main.&lt;Integer&gt;method(Integer.class);\r\n       6: ldc           #7   // class java/lang/Integer\r\n       8: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\r\n      11: astore_1\r\n    Main.&lt;Integer&gt;method(Integer.class).intValue();\r\n      12: ldc           #7   // class java/lang/Integer\r\n      14: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\r\n      17: checkcast     #7   // class java/lang/Integer\r\n      20: invokevirtual #15  // Method java/lang/Integer.intValue:()I\r\n      23: pop\r\n    Integer i = Main.&lt;Integer&gt;method(Integer.class);\r\n      24: ldc           #7   // class java/lang/Integer\r\n      26: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\r\n      29: checkcast     #7   // class java/lang/Integer\r\n      32: astore_2\r\n\r\nFor each line, I have added the corresponding bytecode interspersed with the Java code.\r\n\r\nCompare the bytecode for the different lines. Note how Java inserts a `checkcast` instruction after the method call to `method`, i.e. after `invokevirtual`. This performs a type-check on the returned value, which is currently on top of the stack. Since it&#39;s a `String` and it&#39;s cast to `Integer`, you get a `ClassCastException`.\r\n\r\nIt does not do that for the first two lines which don&#39;t use the result.\r\n\r\n**This is why your code fails only when you actually use the result like you do.**\r\n\r\n-----------------------\r\n\r\nI would have assumed that Java inserts this cast whenever you make use of the fact that `T` is `Integer` to verify that `method` actually did return something of type `T` as best it can to fail early.\r\n\r\nHere&#39;s another example:\r\n    \r\n    Main.&lt;Integer&gt;method(Integer.class).toString();\r\n      33: ldc           #7   // class java/lang/Integer\r\n      35: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\r\n      38: checkcast     #7   // class java/lang/Integer\r\n      41: invokevirtual #19  // Method java/lang/Integer.toString:()Ljava/lang/String;\r\n      44: pop\r\n\r\nThe compiler knows that the `.toString()` call is being placed on something of type `Integer`, so it places a virtual call directly to `Integer`&#39;s version of this method. Of course the compiler needs insert a check to ensure the returned value (which could be anything at runtime) conforms to `Integer`, so it inserts another `checkcast` instruction.\r\n\r\nHowever, even when using a class that doesn&#39;t override Object&#39;s `toString`, Java still inserts a `checkcast`:\r\n\r\n    Main.&lt;Main&gt;method(Main.class).toString();\r\n      45: ldc           #6   // class Main\r\n      47: invokestatic  #3   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\r\n      50: checkcast     #6   // class Main\r\n      53: invokevirtual #7   // Method java/lang/Object.toString:()Ljava/lang/String;\r\n      56: pop\r\n\r\nDespite targeting a method that exists for all objects with essentially choosing the static receiver type to be `Object`, Java still inserts `checkcast`.\r\n\r\nWhen we cast the returned value to `Object` by ourselves, however, Java does not add any `checkcast` whatsoever and the call can go through.\r\n\r\n------------\r\n\r\nLet&#39;s back off a little and think about what we&#39;ve been doing. We&#39;re not looking at Java per se, we&#39;ve been looking at bytecode. \r\n\r\nJava is defined by the Java Language Specification. I&#39;d expect to find some kind of rule that describe when this type check is done and when it isn&#39;t that.\r\n\r\nUnfortunately, I&#39;ve been unable to find anything about these inserted type-checks in the spec.\r\n\r\n[Others have looked, too](https://stackoverflow.com/questions/34562435/when-is-generic-return-value-of-function-casted-after-type-erasure), several years after you&#39;ve stumbled across this.\r\n\r\nIf it is truly unspecified, whenever I said &quot;Java does/doesn&#39;t insert a checkcast&quot; above, I should probably have said &quot;this particular compiler&quot; instead of &quot;Java&quot; and what we&#39;ve been looking at might technically just be an implementation detail (as of yet).\r\n\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Running some variant of JDK 17.0.0\r\n\r\n[godbolt]: https://godbolt.org/z/4PT8ncdoW","title":"Why doesn&#39;t this generic cast fail?","body":"<p>Basically, because of type erasure, Java will perform a type-check at the call-site <em>whenever</em> you make use of the fact that <code>T</code> is something specific.<br />\nBut things aren't quite that simple, unfortunately.</p>\n<hr />\n<p><strong>The other answers are <em>incorrect</em></strong> when they say <code>T</code> being <code>Object</code> is the reason you don't get a <code>ClassCastException</code>.</p>\n<p>Let's test the theory and manually choose <code>T</code> to be <code>Integer</code>:</p>\n<pre><code>Generics.&lt;Integer&gt;method(Integer.class);\n</code></pre>\n<p>When I run this, it still doesn't fail.</p>\n<p>Java does infer <code>T</code> to be <code>Integer</code>, <code>method(Integer.class).intValue()</code> would be a compile-time error, chained calls do not inform type inference.</p>\n<hr />\n<p><strong>So what is going on?</strong></p>\n<p>Note that when it does fail, it never fails <code>method</code>, it will always fail inside <code>main</code>.</p>\n<p>Due to type erasure, <code>method</code> basically ends up without any generics information after compilation. The return type ends up being <code>Object</code>, the parameter type is the raw type <code>Class</code> and the cast inside the method is simply removed because a cast would be a no-op in the absence of any generics information.</p>\n<p>You can see this when checking the bytecode of the callsite:</p>\n<pre><code>   0: ldc           #7   // class java/lang/Integer\n   2: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\n                                                               ^^^^^^^^^^^^^^^^\n                                                               return type\n</code></pre>\n<p>When calling a method in the bytecode, the return type ends up as part of the method's &quot;name&quot;, if you will.</p>\n<p><a href=\"https://godbolt.org/z/4PT8ncdoW\" rel=\"nofollow noreferrer\">Exploring further</a><sup>compiler explorer</sup>, we find that a modified <code>main</code> method produces the following bytecode<sup>1</sup> for the first four lines:</p>\n<pre><code>Main.&lt;Integer&gt;method(Integer.class);\n   0: ldc           #7   // class java/lang/Integer\n   2: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\n   5: pop\nObject o = Main.&lt;Integer&gt;method(Integer.class);\n   6: ldc           #7   // class java/lang/Integer\n   8: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\n  11: astore_1\nMain.&lt;Integer&gt;method(Integer.class).intValue();\n  12: ldc           #7   // class java/lang/Integer\n  14: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\n  17: checkcast     #7   // class java/lang/Integer\n  20: invokevirtual #15  // Method java/lang/Integer.intValue:()I\n  23: pop\nInteger i = Main.&lt;Integer&gt;method(Integer.class);\n  24: ldc           #7   // class java/lang/Integer\n  26: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\n  29: checkcast     #7   // class java/lang/Integer\n  32: astore_2\n</code></pre>\n<p>For each line, I have added the corresponding bytecode interspersed with the Java code.</p>\n<p>Compare the bytecode for the different lines. Note how Java inserts a <code>checkcast</code> instruction after the method call to <code>method</code>, i.e. after <code>invokevirtual</code>. This performs a type-check on the returned value, which is currently on top of the stack. Since it's a <code>String</code> and it's cast to <code>Integer</code>, you get a <code>ClassCastException</code>.</p>\n<p>It does not do that for the first two lines which don't use the result.</p>\n<p><strong>This is why your code fails only when you actually use the result like you do.</strong></p>\n<hr />\n<p>I would have assumed that Java inserts this cast whenever you make use of the fact that <code>T</code> is <code>Integer</code> to verify that <code>method</code> actually did return something of type <code>T</code> as best it can to fail early.</p>\n<p>Here's another example:</p>\n<pre><code>Main.&lt;Integer&gt;method(Integer.class).toString();\n  33: ldc           #7   // class java/lang/Integer\n  35: invokestatic  #9   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\n  38: checkcast     #7   // class java/lang/Integer\n  41: invokevirtual #19  // Method java/lang/Integer.toString:()Ljava/lang/String;\n  44: pop\n</code></pre>\n<p>The compiler knows that the <code>.toString()</code> call is being placed on something of type <code>Integer</code>, so it places a virtual call directly to <code>Integer</code>'s version of this method. Of course the compiler needs insert a check to ensure the returned value (which could be anything at runtime) conforms to <code>Integer</code>, so it inserts another <code>checkcast</code> instruction.</p>\n<p>However, even when using a class that doesn't override Object's <code>toString</code>, Java still inserts a <code>checkcast</code>:</p>\n<pre><code>Main.&lt;Main&gt;method(Main.class).toString();\n  45: ldc           #6   // class Main\n  47: invokestatic  #3   // Method method:(Ljava/lang/Class;)Ljava/lang/Object;\n  50: checkcast     #6   // class Main\n  53: invokevirtual #7   // Method java/lang/Object.toString:()Ljava/lang/String;\n  56: pop\n</code></pre>\n<p>Despite targeting a method that exists for all objects with essentially choosing the static receiver type to be <code>Object</code>, Java still inserts <code>checkcast</code>.</p>\n<p>When we cast the returned value to <code>Object</code> by ourselves, however, Java does not add any <code>checkcast</code> whatsoever and the call can go through.</p>\n<hr />\n<p>Let's back off a little and think about what we've been doing. We're not looking at Java per se, we've been looking at bytecode.</p>\n<p>Java is defined by the Java Language Specification. I'd expect to find some kind of rule that describe when this type check is done and when it isn't that.</p>\n<p>Unfortunately, I've been unable to find anything about these inserted type-checks in the spec.</p>\n<p><a href=\"https://stackoverflow.com/questions/34562435/when-is-generic-return-value-of-function-casted-after-type-erasure\">Others have looked, too</a>, several years after you've stumbled across this.</p>\n<p>If it is truly unspecified, whenever I said &quot;Java does/doesn't insert a checkcast&quot; above, I should probably have said &quot;this particular compiler&quot; instead of &quot;Java&quot; and what we've been looking at might technically just be an implementation detail (as of yet).</p>\n<p><sup>1</sup> Running some variant of JDK 17.0.0</p>\n"}],"owner":{"account_id":242136,"reputation":3005,"user_id":513451,"accept_rate":61,"display_name":"Michel Jung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71401130,"answer_count":4,"score":7,"last_activity_date":1646771597,"creation_date":1290170461,"question_id":4225061,"body_markdown":"I&#39;d expect this code to throw a ClassCastException:\r\n\r\n    \r\n    public class Generics {\r\n        public static void main(String[] args) {\r\n            method(Integer.class);\r\n        }\r\n    \r\n        public static &lt;T&gt; T method(Class&lt;T&gt; t) {\r\n            return (T) new String();\r\n        }\r\n    }\r\n\r\nBut it doesn&#39;t. Casting String to T doesn&#39;t fail, until I use the returned object somehow, like:\r\n\r\n    public class Generics {\r\n        public static void main(String[] args) {\r\n            method(Integer.class).intValue();\r\n        }\r\n    \r\n        public static &lt;T&gt; T method(Class&lt;T&gt; t) {\r\n            return (T) new String();\r\n        }\r\n    }\r\n\r\nBackground: I created a Class which uses JAXB to unmarshal an XML file. It looks like this:\r\n\r\n    public static &lt;T&gt; T unmarshal(File file, Class&lt;? extends T&gt; clazz)\r\n\r\nDepending on whether the root-Element is an anonymous type or not, either T or JAXBElement&lt;T&gt; is being returned. JAXBElement&lt;T&gt; of course, can&#39;t be casted to T.\r\nIn my unit test, where I only called unmarshal() without doing something with the result, everything worked fine. In Code, it failed.\r\n\r\nWhy doesn&#39;t it fail directly? Is this a bug? If not, I&#39;d like to understand why.","title":"Why doesn&#39;t this generic cast fail?","body":"<p>I'd expect this code to throw a ClassCastException:</p>\n\n<pre><code>public class Generics {\n    public static void main(String[] args) {\n        method(Integer.class);\n    }\n\n    public static &lt;T&gt; T method(Class&lt;T&gt; t) {\n        return (T) new String();\n    }\n}\n</code></pre>\n\n<p>But it doesn't. Casting String to T doesn't fail, until I use the returned object somehow, like:</p>\n\n<pre><code>public class Generics {\n    public static void main(String[] args) {\n        method(Integer.class).intValue();\n    }\n\n    public static &lt;T&gt; T method(Class&lt;T&gt; t) {\n        return (T) new String();\n    }\n}\n</code></pre>\n\n<p>Background: I created a Class which uses JAXB to unmarshal an XML file. It looks like this:</p>\n\n<pre><code>public static &lt;T&gt; T unmarshal(File file, Class&lt;? extends T&gt; clazz)\n</code></pre>\n\n<p>Depending on whether the root-Element is an anonymous type or not, either T or JAXBElement is being returned. JAXBElement of course, can't be casted to T.\nIn my unit test, where I only called unmarshal() without doing something with the result, everything worked fine. In Code, it failed.</p>\n\n<p>Why doesn't it fail directly? Is this a bug? If not, I'd like to understand why.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1480267782,"post_id":40831703,"comment_id":68881195,"body_markdown":"Not an answer, but the Java ecosystem is very, very rich and mature. There are at least 3 free Java IDEs that are way more advanced than VSCode. I&#39;d strongly suggest using one of those (IntelliJ, Eclipse, NetBeans).","body":"Not an answer, but the Java ecosystem is very, very rich and mature. There are at least 3 free Java IDEs that are way more advanced than VSCode. I&#39;d strongly suggest using one of those (IntelliJ, Eclipse, NetBeans)."},{"owner":{"account_id":8345300,"reputation":3313,"user_id":6269247,"accept_rate":49,"display_name":"rainer"},"score":1,"creation_date":1480268338,"post_id":40831703,"comment_id":68881368,"body_markdown":"thanks, JB, I&#39;m considering .... still would like to stick with VS Code, but I will definitely give them a try ..","body":"thanks, JB, I&#39;m considering .... still would like to stick with VS Code, but I will definitely give them a try .."},{"owner":{"account_id":410591,"reputation":901,"user_id":782510,"accept_rate":53,"display_name":"Deepanjan Nag"},"score":1,"creation_date":1480343820,"post_id":40831703,"comment_id":68910364,"body_markdown":"I am getting the exact same warning. And mine is just a simple Hello World console app!","body":"I am getting the exact same warning. And mine is just a simple Hello World console app!"},{"owner":{"account_id":198509,"reputation":3218,"user_id":443217,"display_name":"Gorkem Ercan"},"score":0,"creation_date":1480947328,"post_id":40831703,"comment_id":69161714,"body_markdown":"See the discussion on the vscode-java extension project.  https://github.com/redhat-developer/vscode-java/issues/107","body":"See the discussion on the vscode-java extension project.  <a href=\"https://github.com/redhat-developer/vscode-java/issues/107\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/107</a>"},{"owner":{"account_id":9505693,"reputation":1,"user_id":7065298,"display_name":"Vinaya Thimmappa"},"score":0,"creation_date":1555046248,"post_id":40831703,"comment_id":97979622,"body_markdown":"Workaround for daily jobs is difficult. I ended with Intellij CE","body":"Workaround for daily jobs is difficult. I ended with Intellij CE"},{"owner":{"account_id":2260872,"reputation":4625,"user_id":1991020,"accept_rate":86,"display_name":"Isaac Pak"},"score":0,"creation_date":1615228917,"post_id":40831703,"comment_id":117621537,"body_markdown":"Open src folder in vscode and you won&#39;t see this error.","body":"Open src folder in vscode and you won&#39;t see this error."},{"owner":{"account_id":4394608,"reputation":341,"user_id":3582079,"accept_rate":0,"display_name":"musterjunk"},"score":0,"creation_date":1672346205,"post_id":40831703,"comment_id":132273635,"body_markdown":"I had this same problem on a new arm based linux machine and I had to make sure my JAVA_HOME was set to JAVA_HOME=/usr/lib/jvm/java-1.18.0-openjdk-arm64 in /etc/environment. Then with a maven project I was able to run with no issues. I had to restart my machine and not use the source command to get it into the environment correctly. Assuming you are using Java 18.","body":"I had this same problem on a new arm based linux machine and I had to make sure my JAVA_HOME was set to JAVA_HOME=/usr/lib/jvm/java-1.18.0-openjdk-arm64 in /etc/environment. Then with a maven project I was able to run with no issues. I had to restart my machine and not use the source command to get it into the environment correctly. Assuming you are using Java 18."}],"answers":[{"tags":[],"owner":{"account_id":4432804,"reputation":76,"user_id":3609545,"display_name":"nightynvid"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1480377724,"creation_date":1480377724,"answer_id":40855630,"question_id":40831703,"body_markdown":"searching for this i found that vscode right now only recognizes maven projects, or eclipse projects so it needs a .classpath file. So the best option is create the project with maven first and then open with vscode.","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>searching for this i found that vscode right now only recognizes maven projects, or eclipse projects so it needs a .classpath file. So the best option is create the project with maven first and then open with vscode.</p>\n"},{"tags":[],"owner":{"account_id":198509,"reputation":3218,"user_id":443217,"display_name":"Gorkem Ercan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1481334813,"creation_date":1481334813,"answer_id":41071377,"question_id":40831703,"body_markdown":"This warning is displayed when you open a java file that the [redhat.java](https://marketplace.visualstudio.com/items?itemName=redhat.java) extension can not determine a classpath for. To get the full benefits of the extension use either a project with maven pom.xml (soon also gradle), or least default eclipse setting files aka *.classpath* *.project* files. ","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>This warning is displayed when you open a java file that the <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"noreferrer\">redhat.java</a> extension can not determine a classpath for. To get the full benefits of the extension use either a project with maven pom.xml (soon also gradle), or least default eclipse setting files aka <em>.classpath</em> <em>.project</em> files. </p>\n"},{"tags":[],"owner":{"account_id":8345300,"reputation":3313,"user_id":6269247,"accept_rate":49,"display_name":"rainer"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1522589180,"creation_date":1522588737,"answer_id":49598503,"question_id":40831703,"body_markdown":"Since the Microsoft Visual Studio Code ecosystem is rapidly evolving for Java, there is a handy solution that enormously helps to generate - in just a few steps - a functioning Java project structure to use with VS Code. \r\n\r\nThere are, of course other solutions to work with Java, like NetBeans, but I have always liked VS Code a lot and just waited until something more easy came up to get back to using it. \r\n\r\nThe quite easy solution I found is using MAVEN. Maven creates the whole project structure and initial configuration files in your home folder and you can immediately open it with VS Code and run it without any hassle.\r\n  \r\nOf course, you will have to have the Java extensions installed, as explained [here][1]. \r\n\r\nThe solution I found [here][2] on the net was a little outdated, so I have made some adaptations. \r\n\r\nThis is the process on a Linux machine: \r\n\r\n1. Check if you have MAVEN installed\r\n\r\n- Type into a terminal: \r\n\r\n            mvn --version\r\n\r\n- If maven is not installed, the output will suggest the installation command;\r\n\r\n\r\n2. Invoke the maven quickstart archetype to generate your new project;\r\n\r\n- Inside the terminal type or copy: \r\n\r\n            mvn archetype:generate\r\n\r\n- This will open a scary list of over 2000 achetypes to choose from. The good news is that if you don&#39;t fill in a number, maven-archetype-quickstart will be automatically selected, so just press ENTER. \r\n\r\n- Choose a version from the list and type in the number: I picked the suggested number = 6\r\n\r\n- Choose a value for property groupId: \r\n\r\n            com.mycompany.app  \r\n\r\n- Define a value for property &#39;artifactId&#39; (this will create the folder in your home directory) : \r\n\r\n            my-app\r\n\r\n- Define value for &#39;version&#39; :  1.0\r\n\r\n- Define value for property &#39;package&#39; : \r\n\r\n            com.mycompany.app\r\n\r\n- Confirm the options and the project will be generated. \r\n\r\n\r\n3. Start VS Code with the new project\r\n\r\n- In the terminal type : \r\n\r\n            code ./my-app \r\n\r\n5. Configure a Launch.json file\r\n\r\n- In the top left of the debugger, on the right side of the green, where it says &quot;no configuration&quot;, choose &quot;Java&quot; from the drop-down field and the .json file will be auto-generated. \r\n\r\n6. Configure a Task.json\r\n\r\n- Go to Task in the menu bar; \r\n- Configure tasks ...... \r\n- Create task.json from template .... \r\n- Select &quot;maven&quot; from the drop-down list and the .json file will be auto-generated.\r\n\r\n\r\nYou are good to go. \r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/languages/java\r\n  [2]: https://gorkem1.gitbooks.io/visual-studio-code-for-java/chapter-1/Maven-Create.html","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>Since the Microsoft Visual Studio Code ecosystem is rapidly evolving for Java, there is a handy solution that enormously helps to generate - in just a few steps - a functioning Java project structure to use with VS Code. </p>\n\n<p>There are, of course other solutions to work with Java, like NetBeans, but I have always liked VS Code a lot and just waited until something more easy came up to get back to using it. </p>\n\n<p>The quite easy solution I found is using MAVEN. Maven creates the whole project structure and initial configuration files in your home folder and you can immediately open it with VS Code and run it without any hassle.</p>\n\n<p>Of course, you will have to have the Java extensions installed, as explained <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"noreferrer\">here</a>. </p>\n\n<p>The solution I found <a href=\"https://gorkem1.gitbooks.io/visual-studio-code-for-java/chapter-1/Maven-Create.html\" rel=\"noreferrer\">here</a> on the net was a little outdated, so I have made some adaptations. </p>\n\n<p>This is the process on a Linux machine: </p>\n\n<ol>\n<li><p>Check if you have MAVEN installed</p>\n\n<ul>\n<li><p>Type into a terminal: </p>\n\n<pre><code>mvn --version\n</code></pre></li>\n<li><p>If maven is not installed, the output will suggest the installation command;</p></li>\n</ul></li>\n<li><p>Invoke the maven quickstart archetype to generate your new project;</p>\n\n<ul>\n<li><p>Inside the terminal type or copy: </p>\n\n<pre><code>mvn archetype:generate\n</code></pre></li>\n<li><p>This will open a scary list of over 2000 achetypes to choose from. The good news is that if you don't fill in a number, maven-archetype-quickstart will be automatically selected, so just press ENTER. </p></li>\n<li><p>Choose a version from the list and type in the number: I picked the suggested number = 6</p></li>\n<li><p>Choose a value for property groupId: </p>\n\n<pre><code>com.mycompany.app  \n</code></pre></li>\n<li><p>Define a value for property 'artifactId' (this will create the folder in your home directory) : </p>\n\n<pre><code>my-app\n</code></pre></li>\n<li><p>Define value for 'version' :  1.0</p></li>\n<li><p>Define value for property 'package' : </p>\n\n<pre><code>com.mycompany.app\n</code></pre></li>\n<li><p>Confirm the options and the project will be generated. </p></li>\n</ul></li>\n<li><p>Start VS Code with the new project</p>\n\n<ul>\n<li><p>In the terminal type : </p>\n\n<pre><code>code ./my-app \n</code></pre></li>\n</ul></li>\n<li><p>Configure a Launch.json file</p>\n\n<ul>\n<li>In the top left of the debugger, on the right side of the green, where it says \"no configuration\", choose \"Java\" from the drop-down field and the .json file will be auto-generated. </li>\n</ul></li>\n<li><p>Configure a Task.json</p>\n\n<ul>\n<li>Go to Task in the menu bar; </li>\n<li>Configure tasks ...... </li>\n<li>Create task.json from template .... </li>\n<li>Select \"maven\" from the drop-down list and the .json file will be auto-generated.</li>\n</ul></li>\n</ol>\n\n<p>You are good to go. </p>\n"},{"tags":[],"owner":{"account_id":13689839,"reputation":219,"user_id":9877938,"display_name":"Nobody Important"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1527801026,"creation_date":1527797609,"answer_id":50632086,"question_id":40831703,"body_markdown":"I know this is an old question, but anyone who stumbles here and needs a quick and easy fix may find it here. Install the extension: **Eclipse New Java Project**.\r\n\r\nIt emulates the behavior of the Eclipse action **create Java Project** and should produce the results you need.\r\n\r\nJust press `Ctrl + Shift + P` and type New Java Project (it will pop up after a few letters) and follow the simple directions. (it just asks for the name of the project).\r\n\r\nIt will create the project and files needed and you won&#39;t have to worry about that classpath error.\r\nThen just create your class files as normal in the `src` folder of your new project and proceed with your programming!","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>I know this is an old question, but anyone who stumbles here and needs a quick and easy fix may find it here. Install the extension: <strong>Eclipse New Java Project</strong>.</p>\n\n<p>It emulates the behavior of the Eclipse action <strong>create Java Project</strong> and should produce the results you need.</p>\n\n<p>Just press <code>Ctrl + Shift + P</code> and type New Java Project (it will pop up after a few letters) and follow the simple directions. (it just asks for the name of the project).</p>\n\n<p>It will create the project and files needed and you won't have to worry about that classpath error.\nThen just create your class files as normal in the <code>src</code> folder of your new project and proceed with your programming!</p>\n"},{"tags":[],"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587185737,"creation_date":1587185737,"answer_id":61284392,"question_id":40831703,"body_markdown":"i know it&#39;s too late but you can simply solve this if you convert your project to eclipse with this simple command `mvn eclipse:eclipse` (assuming you are using maven) at your root directory this will add `.classpath` file. in this case your `src/*` files will be project files\r\n\r\n**Tested on vscode and coc-java in vim too** ","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>i know it's too late but you can simply solve this if you convert your project to eclipse with this simple command <code>mvn eclipse:eclipse</code> (assuming you are using maven) at your root directory this will add <code>.classpath</code> file. in this case your <code>src/*</code> files will be project files</p>\n\n<p><strong>Tested on vscode and coc-java in vim too</strong> </p>\n"},{"tags":[],"owner":{"account_id":20160237,"reputation":463,"user_id":14785423,"display_name":"abdeali004"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1638680294,"creation_date":1609341799,"answer_id":65509316,"question_id":40831703,"body_markdown":"In **VS Code** just right-click on the src (Your Project Source Folder) and select the **&quot; Add folder to Java source path&quot;** option. If it didn&#39;t&#39; worked, then try to remove it first by selecting **&quot;remove the folder from Java source path&quot;** (this will not result in any data loss) and then adding it again.\r\n\r\nRestart once when done.\r\nHope it works for you.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OSuW1.png","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>In <strong>VS Code</strong> just right-click on the src (Your Project Source Folder) and select the <strong>&quot; Add folder to Java source path&quot;</strong> option. If it didn't' worked, then try to remove it first by selecting <strong>&quot;remove the folder from Java source path&quot;</strong> (this will not result in any data loss) and then adding it again.</p>\n<p>Restart once when done.\nHope it works for you.</p>\n<p><a href=\"https://i.stack.imgur.com/OSuW1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OSuW1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20670870,"reputation":11,"user_id":15176655,"display_name":"JacobBruce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612880980,"creation_date":1612880980,"answer_id":66120977,"question_id":40831703,"body_markdown":"In case this helps anyone else, I have to change this line in .classpath\r\n\r\n    &lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/resources&quot;&gt;\r\n\r\nto\r\n\r\n    &lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main&quot;&gt;\r\n\r\nI just had to change the path and it worked","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>In case this helps anyone else, I have to change this line in .classpath</p>\n<pre><code>&lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/resources&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main&quot;&gt;\n</code></pre>\n<p>I just had to change the path and it worked</p>\n"},{"tags":[],"owner":{"account_id":19498564,"reputation":51,"user_id":14265205,"display_name":"Deepak Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618683551,"creation_date":1618683551,"answer_id":67141542,"question_id":40831703,"body_markdown":"Just press ctrl+shift+p and type Create Java Project and then click no build tools\r\nand it will ask to Select folder, then choose the folder and it ask for creating the file name, give the name to file It will create the project and files needed and you won&#39;t have to worry about that classpath error. Then just create your class files as normal in the src folder of your new project and proceed with your programming!","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>Just press ctrl+shift+p and type Create Java Project and then click no build tools\nand it will ask to Select folder, then choose the folder and it ask for creating the file name, give the name to file It will create the project and files needed and you won't have to worry about that classpath error. Then just create your class files as normal in the src folder of your new project and proceed with your programming!</p>\n"},{"tags":[],"owner":{"account_id":5493405,"reputation":111,"user_id":4365383,"display_name":"ChaserAide"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619649895,"creation_date":1619649895,"answer_id":67308852,"question_id":40831703,"body_markdown":"I stumbled upon this issue and resolved it on my own. I was trying to compile and run my java file from outside of the folder it was inside. That&#39;s when I got the same &quot;classpath&quot; error op mentioned above. Once I moved into the directory in which the files were located, I was able to run without issue. ","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>I stumbled upon this issue and resolved it on my own. I was trying to compile and run my java file from outside of the folder it was inside. That's when I got the same &quot;classpath&quot; error op mentioned above. Once I moved into the directory in which the files were located, I was able to run without issue.</p>\n"},{"tags":[],"owner":{"account_id":10603362,"reputation":532,"user_id":7809641,"display_name":"Ani"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1621438447,"creation_date":1620401726,"answer_id":67437855,"question_id":40831703,"body_markdown":"I got this error along with ```Cannot resolve the modulepaths/classpaths automatically, please specify the value in the launch.json``` during compilation. \r\n\r\nAll I had to do was open ```Command Palette``` in ```View``` or with ```Ctrl+Shift+P``` and then run the command ```Clean Java Server Language Workspace``` and everything started working normally again.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B8KJF.png","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>I got this error along with <code>Cannot resolve the modulepaths/classpaths automatically, please specify the value in the launch.json</code> during compilation.</p>\n<p>All I had to do was open <code>Command Palette</code> in <code>View</code> or with <code>Ctrl+Shift+P</code> and then run the command <code>Clean Java Server Language Workspace</code> and everything started working normally again.</p>\n<p><a href=\"https://i.stack.imgur.com/B8KJF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/B8KJF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23586779,"reputation":1,"user_id":17625136,"display_name":"kavin selvan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638962819,"creation_date":1638962819,"answer_id":70274210,"question_id":40831703,"body_markdown":"For the users facing this issue using visual studio code, you can try uninstalling the java extension you have been using and reinstall it.","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>For the users facing this issue using visual studio code, you can try uninstalling the java extension you have been using and reinstall it.</p>\n"},{"tags":[],"owner":{"account_id":16419918,"reputation":2129,"user_id":11861378,"display_name":"Ad&#225;n Escobar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646771444,"creation_date":1646771444,"answer_id":71401111,"question_id":40831703,"body_markdown":"create .vscode/settings.json with the following content:\r\n\r\n    {\r\n    \t&quot;java.project.sourcePaths&quot;: [\r\n    \t\t&quot;&lt;project_path&gt;/src&quot;\r\n    \t],\r\n    \t&quot;java.project.referencedLibraries&quot;: [\r\n    \t\t&quot;&lt;libs_path&gt;/**/*.jar&quot;\r\n    \t]\r\n    }","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>create .vscode/settings.json with the following content:</p>\n<pre><code>{\n    &quot;java.project.sourcePaths&quot;: [\n        &quot;&lt;project_path&gt;/src&quot;\n    ],\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;&lt;libs_path&gt;/**/*.jar&quot;\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":8345300,"reputation":3313,"user_id":6269247,"accept_rate":49,"display_name":"rainer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113868,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":12,"score":33,"last_activity_date":1646771444,"creation_date":1480267425,"question_id":40831703,"body_markdown":"I am making my first steps with java, after some extensive experiences with python. The script I am running is a simple Java Swing Gui, that compiles and runs fine from the command line and within VS Code. \r\n\r\nTo set up the java debug environment, I used the lauch.json settings suggested on the github site https://github.com/k--kato/vscode-javadebug. \r\n\r\nUnfortunately, every time I open the folder that contains the script, I get the following error message: \r\n\r\n    Warn: Classpath is incomplete. Only syntax errors will be reported.\r\n\r\nI have no idea if the problem comes from within VS Code, of if it&#39;s some other configuration issue, such as the java set up....\r\n\r\nMy working platform is Linux Ubuntu, Gnome Shell. \r\n\r\nCan anybody help? \r\n \r\n\r\nThis is the script: \r\n\r\n    //file name = SimpleEx.java \r\n\r\n    import java.awt.EventQueue;\r\n    import javax.swing.JFrame;\r\n\r\n    public class SimpleEx extends JFrame {\r\n\r\n        public SimpleEx() {\r\n\r\n            initUI();\r\n        }\r\n\r\n        private void initUI() {\r\n        \r\n            setTitle(&quot;Simple example&quot;);\r\n            setSize(300, 200);\r\n            setLocationRelativeTo(null);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n\r\n            EventQueue.invokeLater(() -&gt; {\r\n                SimpleEx ex = new SimpleEx();\r\n                ex.setVisible(true);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nand this is my launch.json: \r\n\r\n    {\r\n        &quot;version&quot;: &quot;0.2.0&quot;,\r\n        &quot;configurations&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Java&quot;,\r\n                &quot;type&quot;: &quot;java&quot;,\r\n                &quot;request&quot;: &quot;launch&quot;,\r\n                &quot;stopOnEntry&quot;: true,\r\n                &quot;cwd&quot;: &quot;${fileDirname}&quot;,\r\n                &quot;startupClass&quot;: &quot;${fileBasename}&quot;,\r\n                &quot;options&quot;: [\r\n                    &quot;-classpath&quot;,\r\n                    &quot;${fileDirname}&quot;\r\n                ]\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Java Console App&quot;,\r\n                &quot;type&quot;: &quot;java&quot;,\r\n                &quot;request&quot;: &quot;launch&quot;,\r\n                &quot;stopOnEntry&quot;: true,\r\n                &quot;cwd&quot;: &quot;${fileDirname}&quot;,\r\n                &quot;startupClass&quot;: &quot;${fileBasename}&quot;,\r\n                &quot;options&quot;: [\r\n                     &quot;-classpath&quot;,\r\n                     &quot;${fileDirname}&quot;\r\n                ],\r\n                &quot;externalConsole&quot;: true\r\n            }\r\n        ]\r\n    }","title":"Visual Studio Code - Java Classpath is incomplete. Only syntax errors will be reported","body":"<p>I am making my first steps with java, after some extensive experiences with python. The script I am running is a simple Java Swing Gui, that compiles and runs fine from the command line and within VS Code. </p>\n\n<p>To set up the java debug environment, I used the lauch.json settings suggested on the github site <a href=\"https://github.com/k--kato/vscode-javadebug\" rel=\"noreferrer\">https://github.com/k--kato/vscode-javadebug</a>. </p>\n\n<p>Unfortunately, every time I open the folder that contains the script, I get the following error message: </p>\n\n<pre><code>Warn: Classpath is incomplete. Only syntax errors will be reported.\n</code></pre>\n\n<p>I have no idea if the problem comes from within VS Code, of if it's some other configuration issue, such as the java set up....</p>\n\n<p>My working platform is Linux Ubuntu, Gnome Shell. </p>\n\n<p>Can anybody help? </p>\n\n<p>This is the script: </p>\n\n<pre><code>//file name = SimpleEx.java \n\nimport java.awt.EventQueue;\nimport javax.swing.JFrame;\n\npublic class SimpleEx extends JFrame {\n\n    public SimpleEx() {\n\n        initUI();\n    }\n\n    private void initUI() {\n\n        setTitle(\"Simple example\");\n        setSize(300, 200);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n\n        EventQueue.invokeLater(() -&gt; {\n            SimpleEx ex = new SimpleEx();\n            ex.setVisible(true);\n        });\n    }\n}\n</code></pre>\n\n<p>and this is my launch.json: </p>\n\n<pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"Java\",\n            \"type\": \"java\",\n            \"request\": \"launch\",\n            \"stopOnEntry\": true,\n            \"cwd\": \"${fileDirname}\",\n            \"startupClass\": \"${fileBasename}\",\n            \"options\": [\n                \"-classpath\",\n                \"${fileDirname}\"\n            ]\n        },\n        {\n            \"name\": \"Java Console App\",\n            \"type\": \"java\",\n            \"request\": \"launch\",\n            \"stopOnEntry\": true,\n            \"cwd\": \"${fileDirname}\",\n            \"startupClass\": \"${fileBasename}\",\n            \"options\": [\n                 \"-classpath\",\n                 \"${fileDirname}\"\n            ],\n            \"externalConsole\": true\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":24494292,"reputation":1,"user_id":18410851,"display_name":"Muhammad Zubair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646771177,"creation_date":1646759689,"answer_id":71398995,"question_id":40982325,"body_markdown":"Please add this dependency in pom.xml. It will get resolved.\r\n\r\n    &lt;dependency&gt;\r\n    \r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    \r\n    &lt;/dependency&gt;","title":"org.springframework.beans.factory.UnsatisfiedDependencyException Error","body":"<p>Please add this dependency in pom.xml. It will get resolved.</p>\n<pre><code>&lt;dependency&gt;\n\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n\n  &lt;version&gt;2.3.0&lt;/version&gt;\n\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7612174,"reputation":11,"user_id":5772686,"display_name":"reza9604"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646771177,"creation_date":1480967937,"question_id":40982325,"body_markdown":"I am getting the following error when I am trying to publish my dynamic web project from eclipse to apache TomCat:\r\n\r\nSEVERE: StandardWrapper.Throwable\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;roleDAOImpl&#39;: Unsatisfied dependency expressed through field &#39;sessionFactory&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.hibernate.SessionFactory&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:592)\r\n\r\nI searched all over the internet but I couldn&#39;t understand the answers provided to similar problem of mine. Hope that someone can help me about this.\r\n\r\nmy web.xml is as below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n      &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;MVCTutorial&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n      &lt;servlet&gt;\r\n          &lt;servlet-name&gt;Toturial&lt;/servlet-name&gt;\r\n          &lt;servlet-class&gt;\r\n              org.springframework.web.servlet.DispatcherServlet\r\n          &lt;/servlet-class&gt;\r\n          &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n          &lt;servlet-name&gt;Toturial&lt;/servlet-name&gt;\r\n          &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nmy Toturial-servlet.xml is as below:\r\n\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans     \r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/mvc \r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n            http://www.springframework.org/schema/context \r\n            http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n     \r\n    \t&lt;context:component-scan base-package=&quot;toturial.*&quot; /&gt;\r\n     \r\n    \t&lt;bean id=&quot;viewResolver&quot;\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.UrlBasedViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;viewClass&quot;\r\n    \t\t\tvalue=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nmy spring-security.xml is as below:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n    \txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/security\r\n        http://www.springframework.org/schema/security/spring-security-3.1.xsd&quot;&gt;\r\n        \r\n    \t&lt;http auto-config=&quot;true&quot;&gt;\r\n    \t\r\n    \t\t&lt;intercept-url pattern=&quot;/sec/moderation.html&quot; access=&quot;ROLE_MODERATOR&quot; /&gt;\r\n    \t\t&lt;intercept-url pattern=&quot;/admin/*&quot; access=&quot;ROLE_ADMIN&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;form-login login-page=&quot;/user-login.html&quot; \r\n    \t\t\tdefault-target-url=&quot;/success-login.html&quot;\r\n    \t\t\tauthentication-failure-url=&quot;/error-login.html&quot; /&gt;\r\n    \t\t&lt;logout logout-success-url=&quot;/index.jsp&quot; /&gt;\r\n    \t\t\r\n    \t&lt;/http&gt;\r\n    \t\r\n    \t&lt;authentication-manager&gt;\r\n    \t\t&lt;authentication-provider user-service-ref=&quot;customUserDetailsService&quot;&gt;\r\n    \t\t\t&lt;password-encoder hash=&quot;plaintext&quot; /&gt;\r\n    \t\t&lt;/authentication-provider&gt;\r\n    \t&lt;/authentication-manager&gt;\r\n    \r\n    &lt;/beans:beans&gt;\r\n\r\nmy RoleDAO class implementation is as below:\r\n\r\n        package toturial.dao;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import toturial.model.Role;\r\n    \r\n    @Repository\r\n    public class RoleDAOImpl implements RoleDAO {\r\n         \r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n         \r\n        private Session getCurrentSession() {\r\n            return sessionFactory.getCurrentSession();\r\n        }\r\n     \r\n        public Role getRole(int id) {\r\n            Role role = (Role) getCurrentSession().load(Role.class, id);\r\n            return role;\r\n        }\r\n     \r\n    }\r\n\r\nMy TutorialController class implementation is as below:\r\n\r\n        package toturial.controller;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class ToturialController {\r\n    \r\n    \t@RequestMapping(&quot;/welcome&quot;)\r\n    \tpublic ModelAndView firstMethod() {\r\n    \t\tString message = &quot;&lt;br&gt;&lt;div style=&#39;text-align:center;&#39;&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;h3&gt;********** Hello World, Spring MVC Tutorial&lt;/h3&gt;This message is coming from CrunchifyHelloWorld.java **********&lt;/div&gt;&lt;br&gt;&lt;br&gt;&quot;;\r\n    \t\treturn new ModelAndView(&quot;welcome&quot;, &quot;message&quot;, message);\r\n    \t}\r\n    \t\r\n        @RequestMapping(value=&quot;/sec/moderation&quot;, method=RequestMethod.GET)\r\n        public ModelAndView moderatorPage() {\r\n            return new ModelAndView(&quot;moderation&quot;);\r\n        }\r\n         \r\n    \t@RequestMapping(value = &quot;/admin**&quot;, method = RequestMethod.GET)\r\n    \tpublic ModelAndView adminPage() {\r\n    \r\n    \t\tModelAndView model = new ModelAndView();\r\n    \t\tmodel.addObject(&quot;title&quot;, &quot;Spring Security Hello World&quot;);\r\n    \t\tmodel.addObject(&quot;message&quot;, &quot;This is protected page - Admin Page!&quot;);\r\n    \t\tmodel.setViewName(&quot;admin&quot;);\r\n    \r\n    \t\treturn model;\r\n    \t}\r\n    \t\r\n        @RequestMapping(value=&quot;/admin/first&quot;, method=RequestMethod.GET)\r\n        public ModelAndView firstAdminPage() {\r\n            return new ModelAndView(&quot;admin-first&quot;);\r\n        }\r\n         \r\n        @RequestMapping(value=&quot;/admin/second&quot;, method=RequestMethod.GET)\r\n        public ModelAndView secondAdminPage() {\r\n            return new ModelAndView(&quot;admin-second&quot;);\r\n        }\r\n    \t\r\n    \t@RequestMapping(value=&quot;/user-login&quot;, method=RequestMethod.GET)\r\n        public ModelAndView loginForm() {\r\n            return new ModelAndView(&quot;login-form&quot;);\r\n        }\r\n         \r\n        @RequestMapping(value=&quot;/error-login&quot;, method=RequestMethod.GET)\r\n        public ModelAndView invalidLogin() {\r\n            ModelAndView modelAndView = new ModelAndView(&quot;login-form&quot;);\r\n            modelAndView.addObject(&quot;error&quot;, true);\r\n            return modelAndView;\r\n        }\r\n         \r\n        @RequestMapping(value=&quot;/success-login&quot;, method=RequestMethod.GET)\r\n        public ModelAndView successLogin() {\r\n            return new ModelAndView(&quot;success-login&quot;);\r\n        }\r\n    }\r\n\r\nMy App.Config class implementation is as below:\r\n\r\n        package toturial.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Import;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n    import org.springframework.web.servlet.view.JstlView;\r\n    import org.springframework.context.annotation.ImportResource;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.hibernate4.HibernateTransactionManager;\r\n    import org.springframework.orm.hibernate4.LocalSessionFactoryBean;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    import org.springframework.web.servlet.view.UrlBasedViewResolver;\r\n    \r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @ComponentScan(&quot;tutorial.*&quot;)\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    @ImportResource(&quot;classpath:spring-security.xml&quot;)\r\n    @EnableWebMvc\r\n    @ComponentScan({ &quot;toturial.*&quot; })\r\n    public class AppConfig {\r\n    \r\n        private static final String PROPERTY_NAME_DATABASE_DRIVER = &quot;db.driver&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_PASSWORD = &quot;db.password&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_URL = &quot;db.url&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_USERNAME = &quot;db.username&quot;;\r\n    \t\r\n        private static final String PROPERTY_NAME_HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\r\n        private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\r\n        private static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = &quot;entitymanager.packages.to.scan&quot;;\r\n        \t\r\n    \t@Resource\r\n    \tprivate Environment env;\r\n    \t\r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \t\t\r\n    \t\tdataSource.setDriverClassName(env.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\r\n    \t\tdataSource.setUrl(env.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\r\n    \t\tdataSource.setUsername(env.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\r\n    \t\tdataSource.setPassword(env.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\r\n    \t\t\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic LocalSessionFactoryBean sessionFactory() {\r\n    \t\tLocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n    \t\tsessionFactoryBean.setDataSource(dataSource());\r\n    \t\tsessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));\r\n    \t\tsessionFactoryBean.setHibernateProperties(hibProperties());\r\n    \t\treturn sessionFactoryBean;\r\n    \t}\r\n    \t\r\n    \tprivate Properties hibProperties() {\r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(PROPERTY_NAME_HIBERNATE_DIALECT, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\r\n    \t\tproperties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\r\n    \t\treturn properties;\t\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic HibernateTransactionManager transactionManager() {\r\n    \t\tHibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n    \t\ttransactionManager.setSessionFactory(sessionFactory().getObject());\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic InternalResourceViewResolver viewResolver() {\r\n    \t\tInternalResourceViewResolver viewResolver\r\n                              = new InternalResourceViewResolver();\r\n    \t\tviewResolver.setViewClass(JstlView.class);\r\n    \t\tviewResolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);\r\n    \t\tviewResolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\treturn viewResolver;\r\n    \t}\r\n    }\r\n\r\nMy initializer class is as below:\r\n\r\n    package toturial.config.core;\r\n    \r\n    import toturial.config.AppConfig;\r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRegistration.Dynamic;\r\n    \r\n    import org.springframework.web.WebApplicationInitializer;\r\n    import org.springframework.web.context.ContextLoaderListener;\r\n    import org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\r\n    import org.springframework.web.servlet.DispatcherServlet;\r\n    \r\n    public class Initializer implements WebApplicationInitializer {\r\n    \r\n    \tpublic void onStartup(ServletContext servletContext)\r\n    \t\t\tthrows ServletException {\r\n    \t\tAnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n    \t\tctx.register(AppConfig.class);\r\n    \r\n    \t\tservletContext.addListener(new ContextLoaderListener(ctx));\r\n    \r\n    \t\tctx.setServletContext(servletContext);\r\n    \r\n    \t\tDynamic servlet = servletContext.addServlet(&quot;dispatcher&quot;,\r\n    \t\t\t\tnew DispatcherServlet(ctx));\r\n    \t\tservlet.addMapping(&quot;/&quot;);\r\n    \t\tservlet.setLoadOnStartup(1);\r\n    \t}\r\n    }\r\n\r\nwhat do I have done wrong?! can anybody help me about this problem. I really appreciate your time.\r\n","title":"org.springframework.beans.factory.UnsatisfiedDependencyException Error","body":"<p>I am getting the following error when I am trying to publish my dynamic web project from eclipse to apache TomCat:</p>\n\n<p>SEVERE: StandardWrapper.Throwable\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'roleDAOImpl': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.hibernate.SessionFactory' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:592)</p>\n\n<p>I searched all over the internet but I couldn't understand the answers provided to similar problem of mine. Hope that someone can help me about this.</p>\n\n<p>my web.xml is as below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n  &lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"    xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" version=\"3.0\"&gt;\n  &lt;display-name&gt;MVCTutorial&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  &lt;servlet&gt;\n      &lt;servlet-name&gt;Toturial&lt;/servlet-name&gt;\n      &lt;servlet-class&gt;\n          org.springframework.web.servlet.DispatcherServlet\n      &lt;/servlet-class&gt;\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n      &lt;servlet-name&gt;Toturial&lt;/servlet-name&gt;\n      &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>my Toturial-servlet.xml is as below:</p>\n\n<pre><code>    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans     \n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc \n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"toturial.*\" /&gt;\n\n    &lt;bean id=\"viewResolver\"\n        class=\"org.springframework.web.servlet.view.UrlBasedViewResolver\"&gt;\n        &lt;property name=\"viewClass\"\n            value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\" /&gt;\n        &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>my spring-security.xml is as below:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans xmlns=\"http://www.springframework.org/schema/security\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/security\n    http://www.springframework.org/schema/security/spring-security-3.1.xsd\"&gt;\n\n    &lt;http auto-config=\"true\"&gt;\n\n        &lt;intercept-url pattern=\"/sec/moderation.html\" access=\"ROLE_MODERATOR\" /&gt;\n        &lt;intercept-url pattern=\"/admin/*\" access=\"ROLE_ADMIN\" /&gt;\n\n        &lt;form-login login-page=\"/user-login.html\" \n            default-target-url=\"/success-login.html\"\n            authentication-failure-url=\"/error-login.html\" /&gt;\n        &lt;logout logout-success-url=\"/index.jsp\" /&gt;\n\n    &lt;/http&gt;\n\n    &lt;authentication-manager&gt;\n        &lt;authentication-provider user-service-ref=\"customUserDetailsService\"&gt;\n            &lt;password-encoder hash=\"plaintext\" /&gt;\n        &lt;/authentication-provider&gt;\n    &lt;/authentication-manager&gt;\n\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p>my RoleDAO class implementation is as below:</p>\n\n<pre><code>    package toturial.dao;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport toturial.model.Role;\n\n@Repository\npublic class RoleDAOImpl implements RoleDAO {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    private Session getCurrentSession() {\n        return sessionFactory.getCurrentSession();\n    }\n\n    public Role getRole(int id) {\n        Role role = (Role) getCurrentSession().load(Role.class, id);\n        return role;\n    }\n\n}\n</code></pre>\n\n<p>My TutorialController class implementation is as below:</p>\n\n<pre><code>    package toturial.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class ToturialController {\n\n    @RequestMapping(\"/welcome\")\n    public ModelAndView firstMethod() {\n        String message = \"&lt;br&gt;&lt;div style='text-align:center;'&gt;\"\n                + \"&lt;h3&gt;********** Hello World, Spring MVC Tutorial&lt;/h3&gt;This message is coming from CrunchifyHelloWorld.java **********&lt;/div&gt;&lt;br&gt;&lt;br&gt;\";\n        return new ModelAndView(\"welcome\", \"message\", message);\n    }\n\n    @RequestMapping(value=\"/sec/moderation\", method=RequestMethod.GET)\n    public ModelAndView moderatorPage() {\n        return new ModelAndView(\"moderation\");\n    }\n\n    @RequestMapping(value = \"/admin**\", method = RequestMethod.GET)\n    public ModelAndView adminPage() {\n\n        ModelAndView model = new ModelAndView();\n        model.addObject(\"title\", \"Spring Security Hello World\");\n        model.addObject(\"message\", \"This is protected page - Admin Page!\");\n        model.setViewName(\"admin\");\n\n        return model;\n    }\n\n    @RequestMapping(value=\"/admin/first\", method=RequestMethod.GET)\n    public ModelAndView firstAdminPage() {\n        return new ModelAndView(\"admin-first\");\n    }\n\n    @RequestMapping(value=\"/admin/second\", method=RequestMethod.GET)\n    public ModelAndView secondAdminPage() {\n        return new ModelAndView(\"admin-second\");\n    }\n\n    @RequestMapping(value=\"/user-login\", method=RequestMethod.GET)\n    public ModelAndView loginForm() {\n        return new ModelAndView(\"login-form\");\n    }\n\n    @RequestMapping(value=\"/error-login\", method=RequestMethod.GET)\n    public ModelAndView invalidLogin() {\n        ModelAndView modelAndView = new ModelAndView(\"login-form\");\n        modelAndView.addObject(\"error\", true);\n        return modelAndView;\n    }\n\n    @RequestMapping(value=\"/success-login\", method=RequestMethod.GET)\n    public ModelAndView successLogin() {\n        return new ModelAndView(\"success-login\");\n    }\n}\n</code></pre>\n\n<p>My App.Config class implementation is as below:</p>\n\n<pre><code>    package toturial.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\nimport org.springframework.web.servlet.view.JstlView;\nimport org.springframework.context.annotation.ImportResource;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.hibernate4.HibernateTransactionManager;\nimport org.springframework.orm.hibernate4.LocalSessionFactoryBean;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.web.servlet.view.UrlBasedViewResolver;\n\n\n@Configuration\n@EnableTransactionManagement\n@ComponentScan(\"tutorial.*\")\n@PropertySource(\"classpath:application.properties\")\n@ImportResource(\"classpath:spring-security.xml\")\n@EnableWebMvc\n@ComponentScan({ \"toturial.*\" })\npublic class AppConfig {\n\n    private static final String PROPERTY_NAME_DATABASE_DRIVER = \"db.driver\";\n    private static final String PROPERTY_NAME_DATABASE_PASSWORD = \"db.password\";\n    private static final String PROPERTY_NAME_DATABASE_URL = \"db.url\";\n    private static final String PROPERTY_NAME_DATABASE_USERNAME = \"db.username\";\n\n    private static final String PROPERTY_NAME_HIBERNATE_DIALECT = \"hibernate.dialect\";\n    private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = \"hibernate.show_sql\";\n    private static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = \"entitymanager.packages.to.scan\";\n\n    @Resource\n    private Environment env;\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n        dataSource.setDriverClassName(env.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\n        dataSource.setUrl(env.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\n        dataSource.setUsername(env.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\n        dataSource.setPassword(env.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\n\n        return dataSource;\n    }\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n        sessionFactoryBean.setDataSource(dataSource());\n        sessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));\n        sessionFactoryBean.setHibernateProperties(hibProperties());\n        return sessionFactoryBean;\n    }\n\n    private Properties hibProperties() {\n        Properties properties = new Properties();\n        properties.put(PROPERTY_NAME_HIBERNATE_DIALECT, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\n        properties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\n        return properties;  \n    }\n\n    @Bean\n    public HibernateTransactionManager transactionManager() {\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(sessionFactory().getObject());\n        return transactionManager;\n    }\n\n    @Bean\n    public InternalResourceViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver\n                          = new InternalResourceViewResolver();\n        viewResolver.setViewClass(JstlView.class);\n        viewResolver.setPrefix(\"/WEB-INF/jsp/\");\n        viewResolver.setSuffix(\".jsp\");\n        return viewResolver;\n    }\n}\n</code></pre>\n\n<p>My initializer class is as below:</p>\n\n<pre><code>package toturial.config.core;\n\nimport toturial.config.AppConfig;\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRegistration.Dynamic;\n\nimport org.springframework.web.WebApplicationInitializer;\nimport org.springframework.web.context.ContextLoaderListener;\nimport org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\nimport org.springframework.web.servlet.DispatcherServlet;\n\npublic class Initializer implements WebApplicationInitializer {\n\n    public void onStartup(ServletContext servletContext)\n            throws ServletException {\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(AppConfig.class);\n\n        servletContext.addListener(new ContextLoaderListener(ctx));\n\n        ctx.setServletContext(servletContext);\n\n        Dynamic servlet = servletContext.addServlet(\"dispatcher\",\n                new DispatcherServlet(ctx));\n        servlet.addMapping(\"/\");\n        servlet.setLoadOnStartup(1);\n    }\n}\n</code></pre>\n\n<p>what do I have done wrong?! can anybody help me about this problem. I really appreciate your time.</p>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646771055,"creation_date":1646708429,"answer_id":71389566,"question_id":71385253,"body_markdown":"Given a `ChartPanel`, seen [here][1], the following method finds the `index` item in the `priceSeries` and converts its time to Java2D coordinates relative to the chart.\r\n\r\n    public int getX(int index) {\r\n        Rectangle2D dataArea = chartPanel.getScreenDataArea();\r\n        RectangleEdge xAxisLocation = xyPlot.getDomainAxisEdge();\r\n        DateAxis domainAxis = (DateAxis) xyPlot.getDomainAxis();\r\n        TimeSeriesDataItem item = priceSeries.getDataItem(index);\r\n        long t = item.getPeriod().getFirstMillisecond();\r\n        double x = domainAxis.valueToJava2D(t, dataArea, xAxisLocation);\r\n        return (int) x;\r\n    }\r\n\r\nThe [`TimeSeries`][2] method `getIndex()` can be used to find the the index of a `TimeSeriesDataItem` having the `RegularTimePeriod` corresponding to a given date string; the resulting index can be passed to `getX(int index)`.\r\n\r\n    public int getX(String date) {\r\n        RegularTimePeriod period = null;\r\n        try {\r\n            period = new Day(DATE_FORMAT.parse(date));\r\n        } catch (ParseException ex) {\r\n            ex.printStackTrace(System.err);\r\n        }\r\n        return getX(priceSeries.getIndex(period));\r\n    }\r\n\r\n\r\nAdd a line like this to the `chartMouseMoved` handler to see the correspondence between coordinates:\r\n\r\n    System.out.println(event.getTrigger().getX() + &quot; &quot; + getX(i)\r\n        + &quot; &quot; + getX(DATE_FORMAT.format(new Date((long) x))));\r\n\r\n  [1]: https://gist.github.com/trashgod/a3f7581417db19bf5b6dc52d3647a2f9\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/data/time/TimeSeries.html","title":"How to get X pixel value from date index or string in JFreeChart?","body":"<p>Given a <code>ChartPanel</code>, seen <a href=\"https://gist.github.com/trashgod/a3f7581417db19bf5b6dc52d3647a2f9\" rel=\"nofollow noreferrer\">here</a>, the following method finds the <code>index</code> item in the <code>priceSeries</code> and converts its time to Java2D coordinates relative to the chart.</p>\n<pre><code>public int getX(int index) {\n    Rectangle2D dataArea = chartPanel.getScreenDataArea();\n    RectangleEdge xAxisLocation = xyPlot.getDomainAxisEdge();\n    DateAxis domainAxis = (DateAxis) xyPlot.getDomainAxis();\n    TimeSeriesDataItem item = priceSeries.getDataItem(index);\n    long t = item.getPeriod().getFirstMillisecond();\n    double x = domainAxis.valueToJava2D(t, dataArea, xAxisLocation);\n    return (int) x;\n}\n</code></pre>\n<p>The <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/data/time/TimeSeries.html\" rel=\"nofollow noreferrer\"><code>TimeSeries</code></a> method <code>getIndex()</code> can be used to find the the index of a <code>TimeSeriesDataItem</code> having the <code>RegularTimePeriod</code> corresponding to a given date string; the resulting index can be passed to <code>getX(int index)</code>.</p>\n<pre><code>public int getX(String date) {\n    RegularTimePeriod period = null;\n    try {\n        period = new Day(DATE_FORMAT.parse(date));\n    } catch (ParseException ex) {\n        ex.printStackTrace(System.err);\n    }\n    return getX(priceSeries.getIndex(period));\n}\n</code></pre>\n<p>Add a line like this to the <code>chartMouseMoved</code> handler to see the correspondence between coordinates:</p>\n<pre><code>System.out.println(event.getTrigger().getX() + &quot; &quot; + getX(i)\n    + &quot; &quot; + getX(DATE_FORMAT.format(new Date((long) x))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646758597,"creation_date":1646758597,"answer_id":71398743,"question_id":71385253,"body_markdown":"I, with the help of @trashgod, figured out how to implement the following :\r\n\r\n      public int getX(String date)                   // Find X pixel location by date string : For example &quot;2020-08-03&quot;\r\n      {\r\n        double x=-999;\r\n        \r\n        Rectangle2D dataArea=panel.getScreenDataArea();\r\n        RectangleEdge xAxisLocation=plot.getDomainAxisEdge();\r\n        DateAxis domainAxis=(DateAxis)plot.getDomainAxis();\r\n        try\r\n        {\r\n          SimpleDateFormat sdf=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n          Date d=sdf.parse(date);\r\n          RegularTimePeriod rtp=new Day(d);\r\n          TimeSeriesDataItem item=Price_Series.getDataItem(Price_Series.getIndex(rtp));\r\n        \r\n          long t=item.getPeriod().getFirstMillisecond();\r\n          x=domainAxis.valueToJava2D(t,dataArea,xAxisLocation);\r\n    //    Out(&quot;X = &quot;+(int)x);\r\n        }\r\n        catch (Exception e) { e.printStackTrace(); }\r\n        return (int) x;\r\n      }","title":"How to get X pixel value from date index or string in JFreeChart?","body":"<p>I, with the help of @trashgod, figured out how to implement the following :</p>\n<pre><code>  public int getX(String date)                   // Find X pixel location by date string : For example &quot;2020-08-03&quot;\n  {\n    double x=-999;\n    \n    Rectangle2D dataArea=panel.getScreenDataArea();\n    RectangleEdge xAxisLocation=plot.getDomainAxisEdge();\n    DateAxis domainAxis=(DateAxis)plot.getDomainAxis();\n    try\n    {\n      SimpleDateFormat sdf=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n      Date d=sdf.parse(date);\n      RegularTimePeriod rtp=new Day(d);\n      TimeSeriesDataItem item=Price_Series.getDataItem(Price_Series.getIndex(rtp));\n    \n      long t=item.getPeriod().getFirstMillisecond();\n      x=domainAxis.valueToJava2D(t,dataArea,xAxisLocation);\n//    Out(&quot;X = &quot;+(int)x);\n    }\n    catch (Exception e) { e.printStackTrace(); }\n    return (int) x;\n  }\n</code></pre>\n"}],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71389566,"answer_count":2,"score":1,"last_activity_date":1646771055,"creation_date":1646675336,"question_id":71385253,"body_markdown":"I have the following sample app :\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.geom.*;\r\n    import java.text.*;\r\n    import java.util.*;\r\n    import javax.swing.*;\r\n    import org.jfree.chart.*;\r\n    import org.jfree.chart.annotations.*;\r\n    import org.jfree.chart.axis.*;\r\n    import org.jfree.chart.entity.*;\r\n    import org.jfree.chart.plot.XYPlot;\r\n    import org.jfree.chart.renderer.xy.XYBarRenderer;\r\n    import org.jfree.data.time.*;\r\n    import org.jfree.data.xy.XYDataset;\r\n    import org.jfree.chart.labels.*;\r\n    import org.jfree.chart.panel.*;\r\n    import org.jfree.chart.plot.*;\r\n    import org.jfree.chart.renderer.xy.*;\r\n    import org.jfree.chart.ui.*;\r\n    \r\n    public class PriceVolume_Chart extends JPanel implements ChartMouseListener   // A demo application for price-volume chart.   \r\n    {\r\n      ChartPanel panel;\r\n      TimeSeries Price_Series=new TimeSeries(&quot;Price&quot;);\r\n      TimeSeries Volume_Series=new TimeSeries(&quot;Volume&quot;);\r\n      Crosshair xCrosshair,yCrosshair;\r\n      Vector&lt;String&gt; Volume_Color_Vector;\r\n      XYTextAnnotation note;\r\n      XYPlot plot;\r\n      XYLineAndShapeRenderer r;\r\n      \r\n      public PriceVolume_Chart(String Symbol,int Index)\r\n      {\r\n    //    super(new GridLayout());\r\n        try\r\n        {\r\n          JFreeChart chart=createChart(Symbol);\r\n          panel=new ChartPanel(chart,true,true,true,false,true);\r\n          panel.setPreferredSize(new java.awt.Dimension(1000,500));\r\n          panel.addChartMouseListener(this);\r\n          CrosshairOverlay crosshairOverlay=new CrosshairOverlay();\r\n          float[] dash={2f,0f,2f};\r\n          BasicStroke bs=new BasicStroke(1,BasicStroke.CAP_BUTT,BasicStroke.JOIN_ROUND,1.0f,dash,2f);\r\n    \r\n          xCrosshair=new Crosshair(Double.NaN,Color.black,bs);\r\n          xCrosshair.setLabelBackgroundPaint(new Color(0f,0f,0f,1f));\r\n          xCrosshair.setLabelFont(xCrosshair.getLabelFont().deriveFont(14f));\r\n          xCrosshair.setLabelPaint(new Color(1f,1f,1f,1f));\r\n    \r\n          xCrosshair.setLabelGenerator(new CrosshairLabelGenerator()\r\n          {\r\n            @Override\r\n            public String generateLabel(Crosshair crosshair)\r\n            {\r\n              long ms=(long)crosshair.getValue();\r\n              TimeSeriesDataItem item=null;\r\n              for (int i=0;i&lt;Volume_Series.getItemCount();i++)\r\n              {\r\n                item=Volume_Series.getDataItem(i);\r\n                if (ms==item.getPeriod().getFirstMillisecond()) break;\r\n              }\r\n              long volume=item.getValue().longValue();\r\n              String s=NumberFormat.getInstance().format(volume);\r\n              return MessageFormat.format(&quot; Volume: {0} &quot;,s);\r\n            }\r\n          });\r\n    \r\n    /*\r\n          xCrosshair.setLabelGenerator(new StandardCrosshairLabelGenerator()\r\n          {\r\n            @Override\r\n            public String generateLabel(Crosshair crosshair)\r\n            {\r\n              long ms=(long)crosshair.getValue();\r\n              TimeSeriesDataItem item=null;\r\n              for (int i=0;i&lt;Volume_Series.getItemCount();i++)\r\n              {\r\n                item=Volume_Series.getDataItem(i);\r\n                if (ms==item.getPeriod().getFirstMillisecond()) break;\r\n              }\r\n              long volume=item.getValue().longValue();\r\n              return &quot; &quot;+NumberFormat.getInstance().format(volume)+&quot; &quot;;\r\n            }\r\n          });\r\n    */\r\n          xCrosshair.setLabelVisible(true);\r\n          yCrosshair=new Crosshair(Double.NaN,Color.black,bs);\r\n          yCrosshair.setLabelBackgroundPaint(new Color(0f,0f,0f,1f));\r\n          yCrosshair.setLabelFont(xCrosshair.getLabelFont().deriveFont(14f));\r\n          yCrosshair.setLabelPaint(new Color(1f,1f,1f,1f));\r\n          \r\n          yCrosshair.setLabelGenerator(new StandardCrosshairLabelGenerator(&quot; Price: {0} &quot;,NumberFormat.getCurrencyInstance()));\r\n    \r\n          yCrosshair.setLabelVisible(true);\r\n          crosshairOverlay.addDomainCrosshair(xCrosshair);\r\n          crosshairOverlay.addRangeCrosshair(yCrosshair);\r\n          panel.addOverlay(crosshairOverlay);\r\n          add(panel);\r\n    /*\r\n          if (Index!=-1 &amp;&amp; Index&lt;Volume_Series.getItemCount())\r\n          {\r\n            TimeSeriesDataItem itemX=Volume_Series.getDataItem(Index);\r\n            xCrosshair.setValue(itemX.getPeriod().getFirstMillisecond());\r\n            \r\n            TimeSeriesDataItem itemY=Price_Series.getDataItem(Index);\r\n            yCrosshair.setValue(itemY.getValue().doubleValue());\r\n    \r\n            TimeSeriesDataItem item=Price_Series.getDataItem(Index);\r\n            float time=item.getPeriod().getFirstMillisecond();\r\n            float price=item.getValue().floatValue();\r\n            SimpleDateFormat f=new SimpleDateFormat(&quot;yyyy-MM-d&quot;);\r\n            String st=&quot; Price : &quot;+f.format(new Date((long)time))+&quot; , &quot;+NumberFormat.getCurrencyInstance().format(price)+&quot; &quot;;\r\n            note=new XYTextAnnotation(st,time,price-1);\r\n            note.setFont(UIManager.getFont(&quot;ToolTip.font&quot;));\r\n            note.setBackgroundPaint(UIManager.getColor(&quot;ToolTip.background&quot;));\r\n            Out(&quot;Index = &quot;+Index);\r\n            note.setTextAnchor(Index&lt;Volume_Color_Vector.size()/2?TextAnchor.TOP_LEFT:TextAnchor.TOP_RIGHT);\r\n            note.setOutlinePaint(Color.blue);\r\n            note.setOutlineVisible(true);\r\n            plot.getRenderer().addAnnotation(note);\r\n          }\r\n    */\r\n        }\r\n        catch (Exception e) { e.printStackTrace(); }\r\n      }\r\n    \r\n      private JFreeChart createChart(String Symbol)\r\n      {\r\n        createPriceDataset(Symbol);\r\n        XYDataset priceData=new TimeSeriesCollection(Price_Series);\r\n        JFreeChart chart=ChartFactory.createTimeSeriesChart(Symbol,&quot;Date&quot;,getYLabel(&quot;Price ( $ )&quot;),priceData,true,true,true);\r\n        plot=chart.getXYPlot();\r\n        plot.setBackgroundPaint(new Color(192,196,196));\r\n        NumberAxis rangeAxis1=(NumberAxis)plot.getRangeAxis();\r\n        rangeAxis1.setLowerMargin(0.40);                                           // Leave room for volume bars\r\n        plot.getRenderer().setDefaultToolTipGenerator(new StandardXYToolTipGenerator(StandardXYToolTipGenerator.DEFAULT_TOOL_TIP_FORMAT,new SimpleDateFormat(&quot;yyyy-MM-d&quot;),NumberFormat.getCurrencyInstance()));\r\n    \r\n        NumberAxis rangeAxis2=new NumberAxis(&quot;Volume&quot;);\r\n        rangeAxis2.setUpperMargin(1.00);                                           // Leave room for price line   \r\n        rangeAxis2.setNumberFormatOverride(NumberFormat.getNumberInstance());\r\n        plot.setRangeAxis(1,rangeAxis2);\r\n        plot.setDataset(1,new TimeSeriesCollection(Volume_Series));\r\n        plot.setRangeAxis(1,rangeAxis2);\r\n        plot.mapDatasetToRangeAxis(1,1);\r\n        MyRender Renderer=new MyRender(this);\r\n        Renderer.setShadowVisible(false);\r\n        plot.setRenderer(1,Renderer);\r\n    \r\n        DateAxis domainAxis=(DateAxis) plot.getDomainAxis();                     // Consider adjusting the lower margin of the domain axis for symmetry.\r\n        domainAxis.setLowerMargin(0.05);\r\n              \r\n        r=(XYLineAndShapeRenderer)plot.getRenderer();\r\n    \r\n        return chart;\r\n      }\r\n    \r\n      private void createPriceDataset(String Symbol)\r\n      {\r\n        String Lines[]=new String[21],Items[],Date;\r\n        int Year, Month, Day;\r\n        long Volume,Last_Volume=0;\r\n        float Price;\r\n    \r\n        Lines[0]=&quot;Date,Open,High,Low,Close,Adj Close,Volume&quot;;\r\n        Lines[1]=&quot;2020-07-17,44.110001,44.369999,41.919998,42.509998,42.323395,849700&quot;;\r\n        Lines[2]=&quot;2020-07-20,41.630001,41.680000,39.669998,40.119999,39.943886,1319300&quot;;\r\n        Lines[3]=&quot;2020-07-21,40.880001,42.860001,40.860001,42.270000,42.084450,2070300&quot;;\r\n        Lines[4]=&quot;2020-07-22,41.919998,42.700001,41.090000,42.570000,42.383133,1317600&quot;;\r\n        Lines[5]=&quot;2020-07-23,43.919998,46.389999,43.279999,44.759998,44.563519,1917700&quot;;\r\n        Lines[6]=&quot;2020-07-24,46.500000,46.500000,43.950001,44.410000,44.215057,1384600&quot;;\r\n        Lines[7]=&quot;2020-07-27,44.000000,44.240002,42.610001,43.860001,43.667469,799800&quot;;\r\n        Lines[8]=&quot;2020-07-28,43.389999,44.590000,42.930000,43.020000,42.831158,699700&quot;;\r\n        Lines[9]=&quot;2020-07-29,42.759998,45.590000,42.740002,45.430000,45.230579,826200&quot;;\r\n        Lines[10]=&quot;2020-07-30,44.160000,44.639999,42.959999,44.500000,44.304661,798100&quot;;\r\n        Lines[11]=&quot;2020-07-31,44.330002,44.419998,42.580002,44.360001,44.165276,1037800&quot;;\r\n        Lines[12]=&quot;2020-08-03,44.560001,45.599998,43.419998,44.939999,44.742729,797000&quot;;\r\n        Lines[13]=&quot;2020-08-04,44.900002,45.500000,43.450001,43.540001,43.348877,971100&quot;;\r\n        Lines[14]=&quot;2020-08-05,44.860001,45.389999,43.650002,45.330002,45.131020,902000&quot;;\r\n        Lines[15]=&quot;2020-08-06,45.049999,46.279999,44.330002,45.299999,45.101147,645200&quot;;\r\n        Lines[16]=&quot;2020-08-07,44.849998,46.189999,44.189999,46.150002,45.947418,604900&quot;;\r\n        Lines[17]=&quot;2020-08-10,46.669998,48.410000,46.549999,47.290001,47.082417,960200&quot;;\r\n        Lines[18]=&quot;2020-08-11,49.110001,50.849998,48.799999,48.910000,48.695301,1187700&quot;;\r\n        Lines[19]=&quot;2020-08-12,49.759998,50.009998,47.060001,47.840000,47.630001,752800&quot;;\r\n        Lines[20]=&quot;2020-08-13,46.950001,48.369999,46.459999,47.110001,47.110001,535700&quot;;\r\n    \r\n        Volume_Color_Vector=new Vector();\r\n        for (int i=1;i&lt;Lines.length;i++)\r\n        {\r\n          Items=Lines[i].split(&quot;,&quot;);\r\n          Date=Items[0].replace(&quot;-0&quot;,&quot;-&quot;);\r\n          Price=Float.parseFloat(Items[5]);\r\n          Volume=Long.parseLong(Items[6]);\r\n          Items=Date.split(&quot;-&quot;);\r\n          Year=Integer.parseInt(Items[0]);\r\n          Month=Integer.parseInt(Items[1]);\r\n          Day=Integer.parseInt(Items[2]);\r\n          Price_Series.add(new Day(Day,Month,Year),Price);\r\n          Volume_Series.add(new Day(Day,Month,Year),Volume);\r\n          Volume_Color_Vector.add(Volume&gt;=Last_Volume?&quot;+&quot;:&quot;-&quot;);\r\n          Last_Volume=Volume;\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void chartMouseClicked(ChartMouseEvent e)\r\n      {\r\n        Out(&quot;x = &quot;+e.getTrigger().getX());           // Find X pixel location by mouse click\r\n      }\r\n    \r\n      public int getX(int index)                     // Find X pixel location by date index : In this example : index = 0 points to &quot;2020-07-17&quot;\r\n      {\r\n        int X=-999;\r\n        \r\n        Out(&quot;X = &quot;+X);\r\n        return X;\r\n      }\r\n    \r\n      public int getX(String date)                   // Find X pixel location by date string : For example &quot;2020-08-03&quot;\r\n      {\r\n        int X=-999;\r\n        \r\n        Out(&quot;X = &quot;+X);\r\n        return X;\r\n      }\r\n    \r\n      public void chartMouseMoved(ChartMouseEvent cmevent)\r\n      {\r\n        ChartEntity chartentity=cmevent.getEntity();\r\n        if (chartentity instanceof XYItemEntity)\r\n        {\r\n          if (!r.getAnnotations().isEmpty()) r.removeAnnotation(note);\r\n    \r\n          XYItemEntity e=(XYItemEntity)chartentity;\r\n          XYDataset d=e.getDataset();\r\n          int s=e.getSeriesIndex();\r\n          int i=e.getItem();\r\n          double x=d.getXValue(s,i);\r\n          double y=d.getYValue(s,i);\r\n    //      Out(&quot;x = &quot;+x+&quot;  y = &quot;+y);\r\n          xCrosshair.setValue(x);\r\n          yCrosshair.setValue(y);\r\n        }\r\n      }\r\n    \r\n      String getYLabel(String Text)\r\n      {\r\n        String Result=&quot;&quot;;\r\n    \r\n        for (int i=0;i&lt;Text.length();i++) Result+=Text.charAt(i)+(i&lt;Text.length()-1?&quot;\\u2009&quot;:&quot;&quot;);\r\n    //    Out(Result);\r\n        return Result;\r\n      }\r\n    \r\n      private static void out(String message) { System.out.print(message); }\r\n    \r\n      private static void Out(String message) { System.out.println(message); }\r\n    \r\n      // Create the GUI and show it. For thread safety, this method should be invoked from the event-dispatching thread.\r\n      static void Create_And_Show_GUI()\r\n      {\r\n        final PriceVolume_Chart demo=new PriceVolume_Chart(&quot;ADS&quot;,10);\r\n    \r\n        JFrame frame=new JFrame(&quot;PriceVolume_Chart Frame&quot;);\r\n        frame.add(demo);\r\n        frame.addWindowListener(new WindowAdapter()\r\n        {\r\n          public void windowActivated(WindowEvent e) { }\r\n          public void windowClosed(WindowEvent e) { }\r\n          public void windowClosing(WindowEvent e) { System.exit(0); }\r\n          public void windowDeactivated(WindowEvent e) { }\r\n          public void windowDeiconified(WindowEvent e) { demo.repaint(); }\r\n          public void windowGainedFocus(WindowEvent e) { demo.repaint(); }\r\n          public void windowIconified(WindowEvent e) { }\r\n          public void windowLostFocus(WindowEvent e) { }\r\n          public void windowOpening(WindowEvent e) { demo.repaint(); }\r\n          public void windowOpened(WindowEvent e) { }\r\n          public void windowResized(WindowEvent e) { demo.repaint(); }\r\n          public void windowStateChanged(WindowEvent e) { demo.repaint(); }\r\n        });\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        // Schedule a job for the event-dispatching thread : creating and showing this application&#39;s GUI.\r\n        SwingUtilities.invokeLater(new Runnable() { public void run() { Create_And_Show_GUI(); } });\r\n      }\r\n    }\r\n    \r\n    class MyRender extends XYBarRenderer\r\n    {\r\n      PriceVolume_Chart PVC;\r\n    \r\n      MyRender(PriceVolume_Chart PVC)\r\n      {\r\n        this.PVC=PVC;\r\n      }\r\n    \r\n      @Override\r\n      public Paint getItemPaint(int row,int col)\r\n      {\r\n        this.setBarAlignmentFactor(0.5);\r\n    //      System.out.println(row+&quot; &quot;+col+&quot; &quot;+super.getItemPaint(row,col));\r\n        return PVC.Volume_Color_Vector.elementAt(col).equals(&quot;+&quot;)?super.getItemPaint(row,col):new Color(0.56f,0.2f,0.5f,1f);\r\n      }\r\n    }\r\n\r\nHow to implement the 2 &quot;getX()&quot; methods above, so they will return the X pixel values by inputting date index or date string ?","title":"How to get X pixel value from date index or string in JFreeChart?","body":"<p>I have the following sample app :</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.*;\nimport java.text.*;\nimport java.util.*;\nimport javax.swing.*;\nimport org.jfree.chart.*;\nimport org.jfree.chart.annotations.*;\nimport org.jfree.chart.axis.*;\nimport org.jfree.chart.entity.*;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYBarRenderer;\nimport org.jfree.data.time.*;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.chart.labels.*;\nimport org.jfree.chart.panel.*;\nimport org.jfree.chart.plot.*;\nimport org.jfree.chart.renderer.xy.*;\nimport org.jfree.chart.ui.*;\n\npublic class PriceVolume_Chart extends JPanel implements ChartMouseListener   // A demo application for price-volume chart.   \n{\n  ChartPanel panel;\n  TimeSeries Price_Series=new TimeSeries(&quot;Price&quot;);\n  TimeSeries Volume_Series=new TimeSeries(&quot;Volume&quot;);\n  Crosshair xCrosshair,yCrosshair;\n  Vector&lt;String&gt; Volume_Color_Vector;\n  XYTextAnnotation note;\n  XYPlot plot;\n  XYLineAndShapeRenderer r;\n  \n  public PriceVolume_Chart(String Symbol,int Index)\n  {\n//    super(new GridLayout());\n    try\n    {\n      JFreeChart chart=createChart(Symbol);\n      panel=new ChartPanel(chart,true,true,true,false,true);\n      panel.setPreferredSize(new java.awt.Dimension(1000,500));\n      panel.addChartMouseListener(this);\n      CrosshairOverlay crosshairOverlay=new CrosshairOverlay();\n      float[] dash={2f,0f,2f};\n      BasicStroke bs=new BasicStroke(1,BasicStroke.CAP_BUTT,BasicStroke.JOIN_ROUND,1.0f,dash,2f);\n\n      xCrosshair=new Crosshair(Double.NaN,Color.black,bs);\n      xCrosshair.setLabelBackgroundPaint(new Color(0f,0f,0f,1f));\n      xCrosshair.setLabelFont(xCrosshair.getLabelFont().deriveFont(14f));\n      xCrosshair.setLabelPaint(new Color(1f,1f,1f,1f));\n\n      xCrosshair.setLabelGenerator(new CrosshairLabelGenerator()\n      {\n        @Override\n        public String generateLabel(Crosshair crosshair)\n        {\n          long ms=(long)crosshair.getValue();\n          TimeSeriesDataItem item=null;\n          for (int i=0;i&lt;Volume_Series.getItemCount();i++)\n          {\n            item=Volume_Series.getDataItem(i);\n            if (ms==item.getPeriod().getFirstMillisecond()) break;\n          }\n          long volume=item.getValue().longValue();\n          String s=NumberFormat.getInstance().format(volume);\n          return MessageFormat.format(&quot; Volume: {0} &quot;,s);\n        }\n      });\n\n/*\n      xCrosshair.setLabelGenerator(new StandardCrosshairLabelGenerator()\n      {\n        @Override\n        public String generateLabel(Crosshair crosshair)\n        {\n          long ms=(long)crosshair.getValue();\n          TimeSeriesDataItem item=null;\n          for (int i=0;i&lt;Volume_Series.getItemCount();i++)\n          {\n            item=Volume_Series.getDataItem(i);\n            if (ms==item.getPeriod().getFirstMillisecond()) break;\n          }\n          long volume=item.getValue().longValue();\n          return &quot; &quot;+NumberFormat.getInstance().format(volume)+&quot; &quot;;\n        }\n      });\n*/\n      xCrosshair.setLabelVisible(true);\n      yCrosshair=new Crosshair(Double.NaN,Color.black,bs);\n      yCrosshair.setLabelBackgroundPaint(new Color(0f,0f,0f,1f));\n      yCrosshair.setLabelFont(xCrosshair.getLabelFont().deriveFont(14f));\n      yCrosshair.setLabelPaint(new Color(1f,1f,1f,1f));\n      \n      yCrosshair.setLabelGenerator(new StandardCrosshairLabelGenerator(&quot; Price: {0} &quot;,NumberFormat.getCurrencyInstance()));\n\n      yCrosshair.setLabelVisible(true);\n      crosshairOverlay.addDomainCrosshair(xCrosshair);\n      crosshairOverlay.addRangeCrosshair(yCrosshair);\n      panel.addOverlay(crosshairOverlay);\n      add(panel);\n/*\n      if (Index!=-1 &amp;&amp; Index&lt;Volume_Series.getItemCount())\n      {\n        TimeSeriesDataItem itemX=Volume_Series.getDataItem(Index);\n        xCrosshair.setValue(itemX.getPeriod().getFirstMillisecond());\n        \n        TimeSeriesDataItem itemY=Price_Series.getDataItem(Index);\n        yCrosshair.setValue(itemY.getValue().doubleValue());\n\n        TimeSeriesDataItem item=Price_Series.getDataItem(Index);\n        float time=item.getPeriod().getFirstMillisecond();\n        float price=item.getValue().floatValue();\n        SimpleDateFormat f=new SimpleDateFormat(&quot;yyyy-MM-d&quot;);\n        String st=&quot; Price : &quot;+f.format(new Date((long)time))+&quot; , &quot;+NumberFormat.getCurrencyInstance().format(price)+&quot; &quot;;\n        note=new XYTextAnnotation(st,time,price-1);\n        note.setFont(UIManager.getFont(&quot;ToolTip.font&quot;));\n        note.setBackgroundPaint(UIManager.getColor(&quot;ToolTip.background&quot;));\n        Out(&quot;Index = &quot;+Index);\n        note.setTextAnchor(Index&lt;Volume_Color_Vector.size()/2?TextAnchor.TOP_LEFT:TextAnchor.TOP_RIGHT);\n        note.setOutlinePaint(Color.blue);\n        note.setOutlineVisible(true);\n        plot.getRenderer().addAnnotation(note);\n      }\n*/\n    }\n    catch (Exception e) { e.printStackTrace(); }\n  }\n\n  private JFreeChart createChart(String Symbol)\n  {\n    createPriceDataset(Symbol);\n    XYDataset priceData=new TimeSeriesCollection(Price_Series);\n    JFreeChart chart=ChartFactory.createTimeSeriesChart(Symbol,&quot;Date&quot;,getYLabel(&quot;Price ( $ )&quot;),priceData,true,true,true);\n    plot=chart.getXYPlot();\n    plot.setBackgroundPaint(new Color(192,196,196));\n    NumberAxis rangeAxis1=(NumberAxis)plot.getRangeAxis();\n    rangeAxis1.setLowerMargin(0.40);                                           // Leave room for volume bars\n    plot.getRenderer().setDefaultToolTipGenerator(new StandardXYToolTipGenerator(StandardXYToolTipGenerator.DEFAULT_TOOL_TIP_FORMAT,new SimpleDateFormat(&quot;yyyy-MM-d&quot;),NumberFormat.getCurrencyInstance()));\n\n    NumberAxis rangeAxis2=new NumberAxis(&quot;Volume&quot;);\n    rangeAxis2.setUpperMargin(1.00);                                           // Leave room for price line   \n    rangeAxis2.setNumberFormatOverride(NumberFormat.getNumberInstance());\n    plot.setRangeAxis(1,rangeAxis2);\n    plot.setDataset(1,new TimeSeriesCollection(Volume_Series));\n    plot.setRangeAxis(1,rangeAxis2);\n    plot.mapDatasetToRangeAxis(1,1);\n    MyRender Renderer=new MyRender(this);\n    Renderer.setShadowVisible(false);\n    plot.setRenderer(1,Renderer);\n\n    DateAxis domainAxis=(DateAxis) plot.getDomainAxis();                     // Consider adjusting the lower margin of the domain axis for symmetry.\n    domainAxis.setLowerMargin(0.05);\n          \n    r=(XYLineAndShapeRenderer)plot.getRenderer();\n\n    return chart;\n  }\n\n  private void createPriceDataset(String Symbol)\n  {\n    String Lines[]=new String[21],Items[],Date;\n    int Year, Month, Day;\n    long Volume,Last_Volume=0;\n    float Price;\n\n    Lines[0]=&quot;Date,Open,High,Low,Close,Adj Close,Volume&quot;;\n    Lines[1]=&quot;2020-07-17,44.110001,44.369999,41.919998,42.509998,42.323395,849700&quot;;\n    Lines[2]=&quot;2020-07-20,41.630001,41.680000,39.669998,40.119999,39.943886,1319300&quot;;\n    Lines[3]=&quot;2020-07-21,40.880001,42.860001,40.860001,42.270000,42.084450,2070300&quot;;\n    Lines[4]=&quot;2020-07-22,41.919998,42.700001,41.090000,42.570000,42.383133,1317600&quot;;\n    Lines[5]=&quot;2020-07-23,43.919998,46.389999,43.279999,44.759998,44.563519,1917700&quot;;\n    Lines[6]=&quot;2020-07-24,46.500000,46.500000,43.950001,44.410000,44.215057,1384600&quot;;\n    Lines[7]=&quot;2020-07-27,44.000000,44.240002,42.610001,43.860001,43.667469,799800&quot;;\n    Lines[8]=&quot;2020-07-28,43.389999,44.590000,42.930000,43.020000,42.831158,699700&quot;;\n    Lines[9]=&quot;2020-07-29,42.759998,45.590000,42.740002,45.430000,45.230579,826200&quot;;\n    Lines[10]=&quot;2020-07-30,44.160000,44.639999,42.959999,44.500000,44.304661,798100&quot;;\n    Lines[11]=&quot;2020-07-31,44.330002,44.419998,42.580002,44.360001,44.165276,1037800&quot;;\n    Lines[12]=&quot;2020-08-03,44.560001,45.599998,43.419998,44.939999,44.742729,797000&quot;;\n    Lines[13]=&quot;2020-08-04,44.900002,45.500000,43.450001,43.540001,43.348877,971100&quot;;\n    Lines[14]=&quot;2020-08-05,44.860001,45.389999,43.650002,45.330002,45.131020,902000&quot;;\n    Lines[15]=&quot;2020-08-06,45.049999,46.279999,44.330002,45.299999,45.101147,645200&quot;;\n    Lines[16]=&quot;2020-08-07,44.849998,46.189999,44.189999,46.150002,45.947418,604900&quot;;\n    Lines[17]=&quot;2020-08-10,46.669998,48.410000,46.549999,47.290001,47.082417,960200&quot;;\n    Lines[18]=&quot;2020-08-11,49.110001,50.849998,48.799999,48.910000,48.695301,1187700&quot;;\n    Lines[19]=&quot;2020-08-12,49.759998,50.009998,47.060001,47.840000,47.630001,752800&quot;;\n    Lines[20]=&quot;2020-08-13,46.950001,48.369999,46.459999,47.110001,47.110001,535700&quot;;\n\n    Volume_Color_Vector=new Vector();\n    for (int i=1;i&lt;Lines.length;i++)\n    {\n      Items=Lines[i].split(&quot;,&quot;);\n      Date=Items[0].replace(&quot;-0&quot;,&quot;-&quot;);\n      Price=Float.parseFloat(Items[5]);\n      Volume=Long.parseLong(Items[6]);\n      Items=Date.split(&quot;-&quot;);\n      Year=Integer.parseInt(Items[0]);\n      Month=Integer.parseInt(Items[1]);\n      Day=Integer.parseInt(Items[2]);\n      Price_Series.add(new Day(Day,Month,Year),Price);\n      Volume_Series.add(new Day(Day,Month,Year),Volume);\n      Volume_Color_Vector.add(Volume&gt;=Last_Volume?&quot;+&quot;:&quot;-&quot;);\n      Last_Volume=Volume;\n    }\n  }\n\n  @Override\n  public void chartMouseClicked(ChartMouseEvent e)\n  {\n    Out(&quot;x = &quot;+e.getTrigger().getX());           // Find X pixel location by mouse click\n  }\n\n  public int getX(int index)                     // Find X pixel location by date index : In this example : index = 0 points to &quot;2020-07-17&quot;\n  {\n    int X=-999;\n    \n    Out(&quot;X = &quot;+X);\n    return X;\n  }\n\n  public int getX(String date)                   // Find X pixel location by date string : For example &quot;2020-08-03&quot;\n  {\n    int X=-999;\n    \n    Out(&quot;X = &quot;+X);\n    return X;\n  }\n\n  public void chartMouseMoved(ChartMouseEvent cmevent)\n  {\n    ChartEntity chartentity=cmevent.getEntity();\n    if (chartentity instanceof XYItemEntity)\n    {\n      if (!r.getAnnotations().isEmpty()) r.removeAnnotation(note);\n\n      XYItemEntity e=(XYItemEntity)chartentity;\n      XYDataset d=e.getDataset();\n      int s=e.getSeriesIndex();\n      int i=e.getItem();\n      double x=d.getXValue(s,i);\n      double y=d.getYValue(s,i);\n//      Out(&quot;x = &quot;+x+&quot;  y = &quot;+y);\n      xCrosshair.setValue(x);\n      yCrosshair.setValue(y);\n    }\n  }\n\n  String getYLabel(String Text)\n  {\n    String Result=&quot;&quot;;\n\n    for (int i=0;i&lt;Text.length();i++) Result+=Text.charAt(i)+(i&lt;Text.length()-1?&quot;\\u2009&quot;:&quot;&quot;);\n//    Out(Result);\n    return Result;\n  }\n\n  private static void out(String message) { System.out.print(message); }\n\n  private static void Out(String message) { System.out.println(message); }\n\n  // Create the GUI and show it. For thread safety, this method should be invoked from the event-dispatching thread.\n  static void Create_And_Show_GUI()\n  {\n    final PriceVolume_Chart demo=new PriceVolume_Chart(&quot;ADS&quot;,10);\n\n    JFrame frame=new JFrame(&quot;PriceVolume_Chart Frame&quot;);\n    frame.add(demo);\n    frame.addWindowListener(new WindowAdapter()\n    {\n      public void windowActivated(WindowEvent e) { }\n      public void windowClosed(WindowEvent e) { }\n      public void windowClosing(WindowEvent e) { System.exit(0); }\n      public void windowDeactivated(WindowEvent e) { }\n      public void windowDeiconified(WindowEvent e) { demo.repaint(); }\n      public void windowGainedFocus(WindowEvent e) { demo.repaint(); }\n      public void windowIconified(WindowEvent e) { }\n      public void windowLostFocus(WindowEvent e) { }\n      public void windowOpening(WindowEvent e) { demo.repaint(); }\n      public void windowOpened(WindowEvent e) { }\n      public void windowResized(WindowEvent e) { demo.repaint(); }\n      public void windowStateChanged(WindowEvent e) { demo.repaint(); }\n    });\n    frame.pack();\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n  }\n\n  public static void main(String[] args)\n  {\n    // Schedule a job for the event-dispatching thread : creating and showing this application's GUI.\n    SwingUtilities.invokeLater(new Runnable() { public void run() { Create_And_Show_GUI(); } });\n  }\n}\n\nclass MyRender extends XYBarRenderer\n{\n  PriceVolume_Chart PVC;\n\n  MyRender(PriceVolume_Chart PVC)\n  {\n    this.PVC=PVC;\n  }\n\n  @Override\n  public Paint getItemPaint(int row,int col)\n  {\n    this.setBarAlignmentFactor(0.5);\n//      System.out.println(row+&quot; &quot;+col+&quot; &quot;+super.getItemPaint(row,col));\n    return PVC.Volume_Color_Vector.elementAt(col).equals(&quot;+&quot;)?super.getItemPaint(row,col):new Color(0.56f,0.2f,0.5f,1f);\n  }\n}\n</code></pre>\n<p>How to implement the 2 &quot;getX()&quot; methods above, so they will return the X pixel values by inputting date index or date string ?</p>\n"},{"tags":["java","eclipse","egit"],"answers":[{"tags":[],"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646771050,"creation_date":1646771050,"answer_id":71401043,"question_id":71387756,"body_markdown":"In the toolbar at the top-right of the history view, there’s a dropdown button to control which commits to show.  It’s the one that looks like a pale blue downward arrow splitting into two.  By default it’s set to show only ancestors of the current HEAD, but you can select additional filters.  The one you want is probably `refs/heads/**` which will show all local branches.\r\n\r\n[![Change which commits to show][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/THXXU.png","title":"Eclipse &amp; E-Git: checking out old Github revisions for comparison - but can&#39;t checkout/restore current HEAD revision","body":"<p>In the toolbar at the top-right of the history view, there’s a dropdown button to control which commits to show.  It’s the one that looks like a pale blue downward arrow splitting into two.  By default it’s set to show only ancestors of the current HEAD, but you can select additional filters.  The one you want is probably <code>refs/heads/**</code> which will show all local branches.</p>\n<p><a href=\"https://i.stack.imgur.com/THXXU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/THXXU.png\" alt=\"Change which commits to show\" /></a></p>\n"}],"owner":{"account_id":2241017,"reputation":706,"user_id":1975276,"accept_rate":68,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71401043,"answer_count":1,"score":0,"last_activity_date":1646771050,"creation_date":1646690414,"question_id":71387756,"body_markdown":"I have a longtime question here about checking out old Git revisions. There&#39;s a feature in Eclipse where you can view your &quot;Git History&quot; via the Team Version Control History view and see all of your commits. If you right-click old revisions, you can click &quot;Checkout&quot; in the context menu to revert your project to that version. It&#39;s extremely helpful for seeing where a specific bug began, since sometimes these bugs can be a single line in a project that&#39;s hundreds of thousands of lines long. \r\n\r\nThe problem is that, when I check out these old versions, I can&#39;t quite figure out through the Eclipse UI how to revert my project back to the main HEAD version, or newer versions in general, once I&#39;ve finished scoping out an old one.\r\n\r\nIn particular, I opened the git history view in Eclipse and checked out a version from 4 days ago. However, I want to go back to the latest revision, and the history seems to stop at the current one I have checked out and I can&#39;t go above it. I&#39;ve tried multiple things but it usually just ends up screwing up the project more, and I eventually give up - delete the project - and re-clone it. Which is tedious to say the least.\r\n\r\nFor some context, here is a question that goes over how this reversion process works. Unfortunately the answer to this specific post says to simply check-out the latest revision again when you&#39;re done to revert, but as I&#39;ll explain below, it hides the revisions after the one I checked out, after I&#39;ve checked it out:\r\n\r\nhttps://stackoverflow.com/q/20199334/1975276\r\n\r\nHow do I get it to show the revisions *after* the one I currently have checked out? This is a bit frustrating to say the least. You can see here, nothing is showing above this revision:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEDIT: After re-cloning again, here&#39;s what it looks like when the current version is the HEAD revision. The options above the old one I had checked out when I made this post disappeared:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd lastly, just to help out a bit more, here&#39;s a screenshot of the git history menu/context menu to show you exactly what functionality I&#39;m talking about:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThank you for your time!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vn6nz.png\r\n  [2]: https://i.stack.imgur.com/uA9o8.png\r\n  [3]: https://i.stack.imgur.com/KuJqU.png","title":"Eclipse &amp; E-Git: checking out old Github revisions for comparison - but can&#39;t checkout/restore current HEAD revision","body":"<p>I have a longtime question here about checking out old Git revisions. There's a feature in Eclipse where you can view your &quot;Git History&quot; via the Team Version Control History view and see all of your commits. If you right-click old revisions, you can click &quot;Checkout&quot; in the context menu to revert your project to that version. It's extremely helpful for seeing where a specific bug began, since sometimes these bugs can be a single line in a project that's hundreds of thousands of lines long.</p>\n<p>The problem is that, when I check out these old versions, I can't quite figure out through the Eclipse UI how to revert my project back to the main HEAD version, or newer versions in general, once I've finished scoping out an old one.</p>\n<p>In particular, I opened the git history view in Eclipse and checked out a version from 4 days ago. However, I want to go back to the latest revision, and the history seems to stop at the current one I have checked out and I can't go above it. I've tried multiple things but it usually just ends up screwing up the project more, and I eventually give up - delete the project - and re-clone it. Which is tedious to say the least.</p>\n<p>For some context, here is a question that goes over how this reversion process works. Unfortunately the answer to this specific post says to simply check-out the latest revision again when you're done to revert, but as I'll explain below, it hides the revisions after the one I checked out, after I've checked it out:</p>\n<p><a href=\"https://stackoverflow.com/q/20199334/1975276\">How to go to previous commits in eclipse and egit</a></p>\n<p>How do I get it to show the revisions <em>after</em> the one I currently have checked out? This is a bit frustrating to say the least. You can see here, nothing is showing above this revision:</p>\n<p><a href=\"https://i.stack.imgur.com/vn6nz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vn6nz.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT: After re-cloning again, here's what it looks like when the current version is the HEAD revision. The options above the old one I had checked out when I made this post disappeared:</p>\n<p><a href=\"https://i.stack.imgur.com/uA9o8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uA9o8.png\" alt=\"enter image description here\" /></a></p>\n<p>And lastly, just to help out a bit more, here's a screenshot of the git history menu/context menu to show you exactly what functionality I'm talking about:</p>\n<p><a href=\"https://i.stack.imgur.com/KuJqU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KuJqU.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you for your time!</p>\n"},{"tags":["java","eclipse","class"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646829696,"post_id":71400024,"comment_id":126219825,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":19689376,"reputation":109,"user_id":14414722,"display_name":"bjorke07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646770360,"creation_date":1646770360,"answer_id":71400953,"question_id":71400024,"body_markdown":"If you&#39;re asking about importing from another class within the same Java &quot;program&quot;, you can [create an instance][1] of another class and call your method.\r\n\r\nFor example\r\n\r\n     public class Runner extends PApplet {\r\n       //rest of your code\r\n       AnotherClass a = new AnotherClass();\r\n       //assume your method returning String. \r\n    \r\n       public void draw() {\r\n            background(col, row);\r\n            text(a.methodFromAnotherClass(), 50, 100);\r\n        }\r\n       //rest of your code\r\n\r\nIf you are asking about importing from another &quot;console program&quot;, you have to [build and create JAR][2] file of your another Java program and you can import it into your current program, by moving it to the lib folder.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/deployment/jar/build.html","title":"I was wondering how I could convert my console output into a processing window in eclipse","body":"<p>If you're asking about importing from another class within the same Java &quot;program&quot;, you can <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html\" rel=\"nofollow noreferrer\">create an instance</a> of another class and call your method.</p>\n<p>For example</p>\n<pre><code> public class Runner extends PApplet {\n   //rest of your code\n   AnotherClass a = new AnotherClass();\n   //assume your method returning String. \n\n   public void draw() {\n        background(col, row);\n        text(a.methodFromAnotherClass(), 50, 100);\n    }\n   //rest of your code\n</code></pre>\n<p>If you are asking about importing from another &quot;console program&quot;, you have to <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/build.html\" rel=\"nofollow noreferrer\">build and create JAR</a> file of your another Java program and you can import it into your current program, by moving it to the lib folder.</p>\n"}],"owner":{"account_id":22749748,"reputation":7,"user_id":16910076,"display_name":"Teal Blue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646770360,"creation_date":1646764879,"question_id":71400024,"body_markdown":"With the following code how could I import my other console program class into this other class which will create the java window.\r\n\r\n```\r\nimport processing.core.PApplet;\r\n\r\n\r\npublic class Runner extends PApplet {\r\n\t\r\n\tpublic void settings() {\r\n\t\tthis.size(600, 600);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic void setup() {\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tint col;\r\n\tint row;\r\n\t\r\n\tpublic void draw() {\r\n\t\t\r\n\t\tbackground(col, row);\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t}\r\n\r\n}","title":"I was wondering how I could convert my console output into a processing window in eclipse","body":"<p>With the following code how could I import my other console program class into this other class which will create the java window.</p>\n<pre><code>import processing.core.PApplet;\n\n\npublic class Runner extends PApplet {\n    \n    public void settings() {\n        this.size(600, 600);\n    }\n    \n    \n    \n    public void setup() {\n        \n        \n    }\n    \n    int col;\n    int row;\n    \n    public void draw() {\n        \n        background(col, row);\n        \n    }\n\n    public static void main(String[] args) {\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":12,"creation_date":1363029696,"post_id":15346774,"comment_id":21677634,"body_markdown":"They are not better and can easily cause StackOverflow if dataset is too large.","body":"They are not better and can easily cause StackOverflow if dataset is too large."},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1363029898,"post_id":15346774,"comment_id":21677738,"body_markdown":"Whats your source? Provide some example/counter-examples to buttress your assertion.","body":"Whats your source? Provide some example/counter-examples to buttress your assertion."},{"owner":{"account_id":394615,"reputation":4190,"user_id":789214,"accept_rate":89,"display_name":"amod"},"score":0,"creation_date":1363032491,"post_id":15346774,"comment_id":21679144,"body_markdown":"@Hoon I hope your question is been answered. Please mark it as accepted. Basic stackoverflow ethics :)","body":"@Hoon I hope your question is been answered. Please mark it as accepted. Basic stackoverflow ethics :)"},{"owner":{"account_id":446514,"reputation":6213,"user_id":839601,"display_name":"gnat"},"score":0,"creation_date":1363036503,"post_id":15346774,"comment_id":21681338,"body_markdown":"possible duplicate of [Recursion or Iteration?](http://stackoverflow.com/questions/72209/recursion-or-iteration)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/72209/recursion-or-iteration\">Recursion or Iteration?</a>"},{"owner":{"account_id":1844797,"reputation":57363,"user_id":1673391,"accept_rate":88,"display_name":"Grijesh Chauhan"},"score":0,"creation_date":1377451302,"post_id":15346774,"comment_id":27080246,"body_markdown":"Question might be closed as duplicate but not as not constructive","body":"Question might be closed as duplicate but not as not constructive"}],"answers":[{"tags":[],"owner":{"account_id":2174013,"reputation":3907,"user_id":1925189,"accept_rate":73,"display_name":"omer schleifer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1363030112,"creation_date":1363029793,"answer_id":15346835,"question_id":15346774,"body_markdown":" what do you mean better? every recurssion can also be implemented with iterations and vice versa. sometimes recurssion is more easy to understand. however since recurssion inflates the stack , many nested calls may cause out of memory exception.in which case recurssion is clearly not your best choice.","title":"Are recursive methods always better than iterative methods in Java?","body":"<p>what do you mean better? every recurssion can also be implemented with iterations and vice versa. sometimes recurssion is more easy to understand. however since recurssion inflates the stack , many nested calls may cause out of memory exception.in which case recurssion is clearly not your best choice.</p>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1646769213,"creation_date":1363029869,"answer_id":15346857,"question_id":15346774,"body_markdown":"&gt; Are recursive methods always better than iterative methods in java?\r\n\r\n**No**\r\n\r\n&gt; Also can they always be used in place of iteration and vice-versa?\r\n\r\nYou can **always** make an iterative function from a recursive one (if memory can handle it, see interesting link [here][1]).\r\n\r\nFor some cases, it&#39;s better to use recursion (like when dealing with trees.. traveling on a binary tree, etc.). For me, if using loops isn&#39;t more complicated and much more difficult than a recursion, I prefer to use loops.\r\n\r\n**Recursion uses more memory but is sometimes clearer and more readable.**\r\nUsing loops increases the performance, but recursion can sometimes be better for the programmer (and their performance).\r\n\r\nSo, for the conclusion, deciding what to use - recursion or iteration, depends on what you want to implement, and what&#39;s more important for you (readability, performance...), and asking *recursion or iteration* is like asking for *elegance or performance*.\r\n\r\n\r\n----------\r\n\r\n\r\nExample\r\n-------\r\n\r\nConsider these two implementation for the *factorial*:\r\n\r\n**Iterative:**\r\n\r\n    private int Factorial(int num)\r\n    {\r\n        int result = 1;\r\n        if (num &lt;= 1) \r\n           return result;\r\n        while (num &gt; 1)\r\n        {\r\n            result * = num;\r\n            num--;\r\n        }\r\n        return result;\r\n    }\r\n\r\n**Recursion:**\r\n\r\n\r\n    private int Factorial(int num)\r\n    {\r\n        if (num &lt;= 1) \r\n            return 1;\r\n        return num * Factorial(num - 1);\r\n    }\r\n\r\nWhich method is **more readable?**\r\n\r\nObviously the recursive one, it is straight forward and can be written and successfully run from the first try - It is simply translating math definition into `Java`!\r\n\r\nWhich method is **more efficient?**\r\n\r\nTake for example `num = 40`, here is a **time comparison**:\r\n\r\n    long start = System.nanoTime();\r\n    int res = Factorial(40);\r\n    long end = System.nanoTime();\r\n    long elapsed = end - start;\r\n    \t\t\r\n    System.out.println(&quot;Time: &quot; + elapsed); \r\n    \r\n***2993* for the recursive** \r\n\r\n***2138* for the iterative**\r\n\r\nof course, the difference will be larger when `num` is larger.\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Church%E2%80%93Turing_thesis","title":"Are recursive methods always better than iterative methods in Java?","body":"<blockquote>\n<p>Are recursive methods always better than iterative methods in java?</p>\n</blockquote>\n<p><strong>No</strong></p>\n<blockquote>\n<p>Also can they always be used in place of iteration and vice-versa?</p>\n</blockquote>\n<p>You can <strong>always</strong> make an iterative function from a recursive one (if memory can handle it, see interesting link <a href=\"http://en.wikipedia.org/wiki/Church%E2%80%93Turing_thesis\" rel=\"noreferrer\">here</a>).</p>\n<p>For some cases, it's better to use recursion (like when dealing with trees.. traveling on a binary tree, etc.). For me, if using loops isn't more complicated and much more difficult than a recursion, I prefer to use loops.</p>\n<p><strong>Recursion uses more memory but is sometimes clearer and more readable.</strong>\nUsing loops increases the performance, but recursion can sometimes be better for the programmer (and their performance).</p>\n<p>So, for the conclusion, deciding what to use - recursion or iteration, depends on what you want to implement, and what's more important for you (readability, performance...), and asking <em>recursion or iteration</em> is like asking for <em>elegance or performance</em>.</p>\n<hr />\n<h2>Example</h2>\n<p>Consider these two implementation for the <em>factorial</em>:</p>\n<p><strong>Iterative:</strong></p>\n<pre><code>private int Factorial(int num)\n{\n    int result = 1;\n    if (num &lt;= 1) \n       return result;\n    while (num &gt; 1)\n    {\n        result * = num;\n        num--;\n    }\n    return result;\n}\n</code></pre>\n<p><strong>Recursion:</strong></p>\n<pre><code>private int Factorial(int num)\n{\n    if (num &lt;= 1) \n        return 1;\n    return num * Factorial(num - 1);\n}\n</code></pre>\n<p>Which method is <strong>more readable?</strong></p>\n<p>Obviously the recursive one, it is straight forward and can be written and successfully run from the first try - It is simply translating math definition into <code>Java</code>!</p>\n<p>Which method is <strong>more efficient?</strong></p>\n<p>Take for example <code>num = 40</code>, here is a <strong>time comparison</strong>:</p>\n<pre><code>long start = System.nanoTime();\nint res = Factorial(40);\nlong end = System.nanoTime();\nlong elapsed = end - start;\n        \nSystem.out.println(&quot;Time: &quot; + elapsed); \n</code></pre>\n<p><strong><em>2993</em> for the recursive</strong></p>\n<p><strong><em>2138</em> for the iterative</strong></p>\n<p>of course, the difference will be larger when <code>num</code> is larger.</p>\n"},{"tags":[],"owner":{"account_id":394615,"reputation":4190,"user_id":789214,"accept_rate":89,"display_name":"amod"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1368170970,"creation_date":1363030032,"answer_id":15346912,"question_id":15346774,"body_markdown":"*Recursion is good for programmers to understand a program, but many times they cause stackoverflows hence always prefer iteration over them*.&lt;br&gt;&lt;br&gt;The fact is that recursion is rarely the most efficient approach to solving a problem, and iteration is almost always more efficient. This is because there is usually more overhead associated with making recursive calls due to the fact that the call stack is so heavily used during recursion.&lt;br&gt;\r\nThis means that many computer programming languages will spend more time maintaining the call stack then they will actually performing the necessary calculations.&lt;br&gt;&lt;br&gt;\r\n**Does recursion use more memory than iteration?**\r\nGenerally speaking, yes it does. This is because of the extensive use of the call stack.\r\n&lt;br&gt;&lt;br&gt;\r\n**Should I use recursion or iteration?**\r\n\r\nRecursion is generally used because of the fact that it is simpler to implement, and it is usually more ‘elegant’ than iterative solutions. Remember that anything that’s done in recursion can also be done iteratively, but with recursion there is generally a performance drawback. But, depending on the problem that you are trying to solve, that performance drawback can be very insignificant – in which case it makes sense to use recursion. With recursion, you also get the added benefit that other programmers can more easily understand your code – which is always a good thing to have.","title":"Are recursive methods always better than iterative methods in Java?","body":"<p><em>Recursion is good for programmers to understand a program, but many times they cause stackoverflows hence always prefer iteration over them</em>.<br><br>The fact is that recursion is rarely the most efficient approach to solving a problem, and iteration is almost always more efficient. This is because there is usually more overhead associated with making recursive calls due to the fact that the call stack is so heavily used during recursion.<br>\nThis means that many computer programming languages will spend more time maintaining the call stack then they will actually performing the necessary calculations.<br><br>\n<strong>Does recursion use more memory than iteration?</strong>\nGenerally speaking, yes it does. This is because of the extensive use of the call stack.\n<br><br>\n<strong>Should I use recursion or iteration?</strong></p>\n\n<p>Recursion is generally used because of the fact that it is simpler to implement, and it is usually more ‘elegant’ than iterative solutions. Remember that anything that’s done in recursion can also be done iteratively, but with recursion there is generally a performance drawback. But, depending on the problem that you are trying to solve, that performance drawback can be very insignificant – in which case it makes sense to use recursion. With recursion, you also get the added benefit that other programmers can more easily understand your code – which is always a good thing to have.</p>\n"},{"tags":[],"owner":{"account_id":2478038,"reputation":1246,"user_id":2158217,"display_name":"parsifal"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1363034814,"creation_date":1363030224,"answer_id":15346977,"question_id":15346774,"body_markdown":"Correcting other answers: any iteration can be transformed into recursion (with the caveat that a stack overflow may occur). *However*, not all recursions can be transformed directly into iteration. Often you will need some form of scratch space to hold the data that would otherwise be stored on the stack.\r\n\r\nAs for which to choose: that depends on your language on and the convenience of writing a recursive solution.\r\n\r\n----\r\n\r\nEdit, to clarify what I meant by &quot;directly&quot;:\r\n\r\nThere are three types of recursion, based on how directly they can be converted to iteration:\r\n\r\n - Tail-call optimizable, in which the *very last operation* in the method is the recursive call. These can be translated directly into a loop.\r\n - Recursion that is not tail-call optimizable, because it requires information to be preserved between calls, but does not need a stack. A factorial expressed as `fact(N)` is the classic example: in a recursive formulation, the last operation is not a recursive call, but a multiplication. These types of recursive calls can easily be transformed into a tail-call optimizable form, and thence into an iterative form (to transform factorial into a tail-call optimizable form, you must use a two-argument version `fact(n, acc)`, where `acc` is the accumulated result).\r\n - Recursion that requires state to be preserved at each call. The classic example is a preorder tree traversal: at each call, you must remember the parent node. *There is no way to transform this directly into iteration.* Instead, you must construct your own stack to hold the state from each call.","title":"Are recursive methods always better than iterative methods in Java?","body":"<p>Correcting other answers: any iteration can be transformed into recursion (with the caveat that a stack overflow may occur). <em>However</em>, not all recursions can be transformed directly into iteration. Often you will need some form of scratch space to hold the data that would otherwise be stored on the stack.</p>\n\n<p>As for which to choose: that depends on your language on and the convenience of writing a recursive solution.</p>\n\n<hr>\n\n<p>Edit, to clarify what I meant by \"directly\":</p>\n\n<p>There are three types of recursion, based on how directly they can be converted to iteration:</p>\n\n<ul>\n<li>Tail-call optimizable, in which the <em>very last operation</em> in the method is the recursive call. These can be translated directly into a loop.</li>\n<li>Recursion that is not tail-call optimizable, because it requires information to be preserved between calls, but does not need a stack. A factorial expressed as <code>fact(N)</code> is the classic example: in a recursive formulation, the last operation is not a recursive call, but a multiplication. These types of recursive calls can easily be transformed into a tail-call optimizable form, and thence into an iterative form (to transform factorial into a tail-call optimizable form, you must use a two-argument version <code>fact(n, acc)</code>, where <code>acc</code> is the accumulated result).</li>\n<li>Recursion that requires state to be preserved at each call. The classic example is a preorder tree traversal: at each call, you must remember the parent node. <em>There is no way to transform this directly into iteration.</em> Instead, you must construct your own stack to hold the state from each call.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1898315,"reputation":26,"user_id":1753756,"display_name":"curena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363030339,"creation_date":1363030339,"answer_id":15347002,"question_id":15346774,"body_markdown":"The statement, &quot;Recursion is always better than iteration&quot; is false. There are cases when either one is preferable over the other.\r\n\r\nIt&#39;s difficult to give you a decisive answer over which type of algorithm to use because it depends on the particular case. For example, the common textbook recursion case of the Fibonacci sequence is incredibly inefficient using recursion, so it&#39;s better to use iteration in that case. Conversely, traversing a tree can be implemented more efficiently using recursion. \r\n\r\nTo answer your second question, yes, any iterative algorithm can be implemented using recursion and vice-versa.","title":"Are recursive methods always better than iterative methods in Java?","body":"<p>The statement, \"Recursion is always better than iteration\" is false. There are cases when either one is preferable over the other.</p>\n\n<p>It's difficult to give you a decisive answer over which type of algorithm to use because it depends on the particular case. For example, the common textbook recursion case of the Fibonacci sequence is incredibly inefficient using recursion, so it's better to use iteration in that case. Conversely, traversing a tree can be implemented more efficiently using recursion. </p>\n\n<p>To answer your second question, yes, any iterative algorithm can be implemented using recursion and vice-versa.</p>\n"},{"tags":[],"owner":{"account_id":276593,"reputation":14134,"user_id":570120,"accept_rate":90,"display_name":"axcdnt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363044916,"creation_date":1363031200,"answer_id":15347257,"question_id":15346774,"body_markdown":"Usually recursive methods demands a few lines of code but a deeply thought about your algorithm. If you make a logical mistake, you&#39;ll probably obtain a `StackOverflowError`.\r\n\r\nHere follows 2 programming examples for factorial:\r\n\r\n**Iteractive:**\r\n\r\n    public int calculateIteractiveFactorial(int n) {\r\n        // Base case\r\n        if (n == 1) {\r\n            return 1;\r\n        }\r\n        int factorial = 1;\r\n        for (int i = 1; i &lt;= n; i++) {\r\n            factorial = factorial * i;\r\n        }\r\n        return factorial;\r\n    }\r\n\r\n**Recursive:**\r\n\r\n    public int calculateRecursiveFactorial(int n) {\r\n        // Base case\r\n        if (n == 1) {\r\n            return 1;\r\n        }\r\n        return n * calculateRecursiveFactorial(n - 1);\r\n    }\r\n\r\nIt&#39;s always good to reflect about different ideas for each proposal, always considering *lines of code, complexity, clarity, cohesion, etc.*","title":"Are recursive methods always better than iterative methods in Java?","body":"<p>Usually recursive methods demands a few lines of code but a deeply thought about your algorithm. If you make a logical mistake, you'll probably obtain a <code>StackOverflowError</code>.</p>\n\n<p>Here follows 2 programming examples for factorial:</p>\n\n<p><strong>Iteractive:</strong></p>\n\n<pre><code>public int calculateIteractiveFactorial(int n) {\n    // Base case\n    if (n == 1) {\n        return 1;\n    }\n    int factorial = 1;\n    for (int i = 1; i &lt;= n; i++) {\n        factorial = factorial * i;\n    }\n    return factorial;\n}\n</code></pre>\n\n<p><strong>Recursive:</strong></p>\n\n<pre><code>public int calculateRecursiveFactorial(int n) {\n    // Base case\n    if (n == 1) {\n        return 1;\n    }\n    return n * calculateRecursiveFactorial(n - 1);\n}\n</code></pre>\n\n<p>It's always good to reflect about different ideas for each proposal, always considering <em>lines of code, complexity, clarity, cohesion, etc.</em></p>\n"},{"tags":[],"owner":{"account_id":112043,"reputation":7128,"user_id":295691,"display_name":"user295691"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363031728,"creation_date":1363031728,"answer_id":15347412,"question_id":15346774,"body_markdown":"Strictly speaking, recursion and iteration are both equally powerful.  Any recursive solution can be implemented as an iterative solution with a stack.  The inverse transformation can be trickier, but most trivial is just passing the state down through the call chain.\r\n\r\nIn Java, there is one situation where a recursive solution is better than a (naive) iterative one, and one situation where they are basically equivalent.  In most other cases, the iterative solution will be superior, since function call overhead is avoided.\r\n\r\nIf the function uses a stack implicitly, then the recursive solution will typically be superior.  Consider a depth-first search:\r\n\r\n    void walkTree(TreeNode t) {\r\n        doSomething(t);\r\n\r\n        if (t.hasLeft()) { walkTree(t.getLeft()); }\r\n        if (t.hasRight()) { walkTree(t.getRight()); }\r\n    }\r\n\r\ncompared to the equivalent iterative solution\r\n\r\n    void walkTree(TreeNode t) {\r\n        Stack&lt;TreeNode&gt; s = new Stack&lt;TreeNode&gt;();\r\n        s.push(t);\r\n        while (!s.empty()) {\r\n            TreeNode t = s.pop();\r\n            doSomething(t);\r\n            if (t.hasLeft()) { s.push(t.getLeft()); }\r\n            if (t.hasRight()) { s.push(t.getRight()); }\r\n        }\r\n    }\r\n\r\nIn the iterative case, you will have to pay for any garbage created by the `Stack&lt;&gt;` object.  In the recursive case, you will use the process stack, which will not create any garbage or allocate any memory.  The recursive solution is vulnerable to a stack overflow, but will run faster otherwise.\r\n\r\nIf the function uses tail recursion, then the two solutions will be equivalent because the JIT will transform the recursive one into the iterative one.  Tail recursion is when the last thing that a function does is invoke itself recursively, allowing the compiler to ignore any accumulated state.  For example, traversing a list\r\n\r\n    void walkList(ListNode n) {\r\n        doSomething(n);\r\n        if (n.hasNext()) { walkList(n.getNext()); }\r\n    }\r\n\r\nSince &quot;walkList&quot; is the last thing done in the function, the JIT will transform it essentially into a &quot;n = n.getNext(); goto beginning&quot;, which wil make it equivalent to the iterative solution.\r\n\r\nIn most other situations, an iterative solution will be superior.  For example, if you wanted to do a breadth-first search, then you could use a `Queue` instead of a `Stack` in the iterative solution, and have it work instantly, while transforming it to a recursive solution requires that you pay for both the implicit stack in the call stack, and still pay for the queue.","title":"Are recursive methods always better than iterative methods in Java?","body":"<p>Strictly speaking, recursion and iteration are both equally powerful.  Any recursive solution can be implemented as an iterative solution with a stack.  The inverse transformation can be trickier, but most trivial is just passing the state down through the call chain.</p>\n\n<p>In Java, there is one situation where a recursive solution is better than a (naive) iterative one, and one situation where they are basically equivalent.  In most other cases, the iterative solution will be superior, since function call overhead is avoided.</p>\n\n<p>If the function uses a stack implicitly, then the recursive solution will typically be superior.  Consider a depth-first search:</p>\n\n<pre><code>void walkTree(TreeNode t) {\n    doSomething(t);\n\n    if (t.hasLeft()) { walkTree(t.getLeft()); }\n    if (t.hasRight()) { walkTree(t.getRight()); }\n}\n</code></pre>\n\n<p>compared to the equivalent iterative solution</p>\n\n<pre><code>void walkTree(TreeNode t) {\n    Stack&lt;TreeNode&gt; s = new Stack&lt;TreeNode&gt;();\n    s.push(t);\n    while (!s.empty()) {\n        TreeNode t = s.pop();\n        doSomething(t);\n        if (t.hasLeft()) { s.push(t.getLeft()); }\n        if (t.hasRight()) { s.push(t.getRight()); }\n    }\n}\n</code></pre>\n\n<p>In the iterative case, you will have to pay for any garbage created by the <code>Stack&lt;&gt;</code> object.  In the recursive case, you will use the process stack, which will not create any garbage or allocate any memory.  The recursive solution is vulnerable to a stack overflow, but will run faster otherwise.</p>\n\n<p>If the function uses tail recursion, then the two solutions will be equivalent because the JIT will transform the recursive one into the iterative one.  Tail recursion is when the last thing that a function does is invoke itself recursively, allowing the compiler to ignore any accumulated state.  For example, traversing a list</p>\n\n<pre><code>void walkList(ListNode n) {\n    doSomething(n);\n    if (n.hasNext()) { walkList(n.getNext()); }\n}\n</code></pre>\n\n<p>Since \"walkList\" is the last thing done in the function, the JIT will transform it essentially into a \"n = n.getNext(); goto beginning\", which wil make it equivalent to the iterative solution.</p>\n\n<p>In most other situations, an iterative solution will be superior.  For example, if you wanted to do a breadth-first search, then you could use a <code>Queue</code> instead of a <code>Stack</code> in the iterative solution, and have it work instantly, while transforming it to a recursive solution requires that you pay for both the implicit stack in the call stack, and still pay for the queue.</p>\n"},{"tags":[],"owner":{"account_id":535038,"reputation":567,"user_id":904735,"accept_rate":64,"display_name":"Grigor Nazaryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363034438,"creation_date":1363034438,"answer_id":15348201,"question_id":15346774,"body_markdown":"If we remember the pass by value mechanism of java we can understand that the recursion consumes more memory as for each call you pass a copy of the object reference address or value of some primitive type. So as mach parameters you pass for each recursive call as mach memory you will consume for each call, on the other hand loops are light to use.\r\nBut of course we know that there are &quot;divide and conquer&quot; algorithms for example Mergesort or iterations on tree&#39;s which consume less steps with help of recursion for giving a result. So in these cases i think it is better to use recursion.","title":"Are recursive methods always better than iterative methods in Java?","body":"<p>If we remember the pass by value mechanism of java we can understand that the recursion consumes more memory as for each call you pass a copy of the object reference address or value of some primitive type. So as mach parameters you pass for each recursive call as mach memory you will consume for each call, on the other hand loops are light to use.\nBut of course we know that there are \"divide and conquer\" algorithms for example Mergesort or iterations on tree's which consume less steps with help of recursion for giving a result. So in these cases i think it is better to use recursion.</p>\n"}],"owner":{"account_id":2313606,"reputation":403,"user_id":2031157,"display_name":"Hoon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62735,"favorite_count":0,"down_vote_count":2,"up_vote_count":38,"closed_date":1363038289,"accepted_answer_id":15346857,"answer_count":8,"score":36,"last_activity_date":1646769213,"creation_date":1363029571,"question_id":15346774,"body_markdown":"Are recursive methods always better than iterative methods in Java?\r\n\r\nAlso can they always be used in place of iteration and vice-versa?\r\n","title":"Are recursive methods always better than iterative methods in Java?","body":"<p>Are recursive methods always better than iterative methods in Java?</p>\n\n<p>Also can they always be used in place of iteration and vice-versa?</p>\n"},{"tags":["javascript","java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1646821444,"post_id":71400697,"comment_id":126216972,"body_markdown":"pdfbox doesn&#39;t run javascript content.","body":"pdfbox doesn&#39;t run javascript content."},{"owner":{"account_id":4778916,"reputation":678,"user_id":3871673,"accept_rate":83,"display_name":"trinity420"},"score":0,"creation_date":1646910615,"post_id":71400697,"comment_id":126242729,"body_markdown":"@TilmanHausherr Thank you. So, in short, what I want to do is impossible with pdfbox, right? Because PDFBox won&#39;t run JS and change the slide.","body":"@TilmanHausherr Thank you. So, in short, what I want to do is impossible with pdfbox, right? Because PDFBox won&#39;t run JS and change the slide."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1646912609,"post_id":71400697,"comment_id":126243469,"body_markdown":"Yes, for the reason I mentioned and for the reason you mentioned.","body":"Yes, for the reason I mentioned and for the reason you mentioned."}],"owner":{"account_id":4778916,"reputation":678,"user_id":3871673,"accept_rate":83,"display_name":"trinity420"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646768874,"creation_date":1646768874,"question_id":71400697,"body_markdown":"I made an application like an enhanced PDF viewer using PDFBox library.\r\nIs there a possibility to interact with a document, in particular, I have a self crafted PDF document in LaTeX with animate package + JavaScript code, that creates kinda buttons that enable to scroll some content. So, I would need to check if the document has these kind of buttons (I created with LaTeX) and to &quot;click&quot; them, meaning to trigger the action using PDFBox that would be triggered if I opened the PDF in Adobe Reader and clicked with the mouse on this button, such that PDFBox then renders the PDF again with the content being scrolled a bit. Is this possible?\r\n\r\nHere is my LaTeX code fragment:\r\n\r\n    \\newcommand\\botScrollButton[1]{%\r\n        \\mediabutton[\r\n        jsaction={\r\n            if(event.shift){anim[&#39;#1&#39;].pause();anim[&#39;#1&#39;].frameNum=anim[&#39;#1&#39;].numFrames-1;}\r\n            else try{anim[&#39;#1&#39;].frameNum+=10}catch(e){}\r\n        }\r\n        ]{\\fboxsep=0pt\\framebox[\\widthof{\\xusebox{#1}}][c]{%\r\n                \\tiny\\strut\\raisebox{0.1\\height}{$\\underline{\\vee\\vee\\vee}$}}%\r\n        }%\r\n    }  \r\n\r\nMaybe, Tilman Hausherr knows this, he helped me quite a few times with PDFBox on here haha.","title":"Apache PDFBox - trigger &amp; render embedded JavaScript of PDF","body":"<p>I made an application like an enhanced PDF viewer using PDFBox library.\nIs there a possibility to interact with a document, in particular, I have a self crafted PDF document in LaTeX with animate package + JavaScript code, that creates kinda buttons that enable to scroll some content. So, I would need to check if the document has these kind of buttons (I created with LaTeX) and to &quot;click&quot; them, meaning to trigger the action using PDFBox that would be triggered if I opened the PDF in Adobe Reader and clicked with the mouse on this button, such that PDFBox then renders the PDF again with the content being scrolled a bit. Is this possible?</p>\n<p>Here is my LaTeX code fragment:</p>\n<pre><code>\\newcommand\\botScrollButton[1]{%\n    \\mediabutton[\n    jsaction={\n        if(event.shift){anim['#1'].pause();anim['#1'].frameNum=anim['#1'].numFrames-1;}\n        else try{anim['#1'].frameNum+=10}catch(e){}\n    }\n    ]{\\fboxsep=0pt\\framebox[\\widthof{\\xusebox{#1}}][c]{%\n            \\tiny\\strut\\raisebox{0.1\\height}{$\\underline{\\vee\\vee\\vee}$}}%\n    }%\n}  \n</code></pre>\n<p>Maybe, Tilman Hausherr knows this, he helped me quite a few times with PDFBox on here haha.</p>\n"},{"tags":["java","date","datetime","calendar","simpledateformat"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1646749259,"post_id":71395428,"comment_id":126197195,"body_markdown":"Provided an answer please consider to upvote and approve as answer if it satisfy the requirement otherwise feel free to comment below it.","body":"Provided an answer please consider to upvote and approve as answer if it satisfy the requirement otherwise feel free to comment below it."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1646750768,"post_id":71395428,"comment_id":126197803,"body_markdown":"Your example data looks like common business hours when users *would* be allowed to log in, not forbidden to log in. And you are missing quotes on second date.","body":"Your example data looks like common business hours when users <i>would</i> be allowed to log in, not forbidden to log in. And you are missing quotes on second date."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646749148,"creation_date":1646749148,"answer_id":71396523,"question_id":71395428,"body_markdown":"One practice is to use **ZonedDateTime** and put the zone at **UTC** or compare the **offsetDateTime**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        LocalDateTime ldtLowerBound = LocalDateTime.parse(&quot;2022-03-08T9:00:00&quot;);\r\n        LocalDateTime ldtUpperBound = LocalDateTime.parse(&quot;2022-03-15T6:00:00&quot;);\r\n\r\n        //For zonedDateTime\r\n        ZonedDateTime zdt = ldtLowerBound.atZone(ZoneOffset.UTC);\r\n\r\n        //For OffsetDateTime\r\n        OffsetDateTime odt = ldtLowerBound.atOffset(ZoneOffset.UTC);\r\n\r\n\r\n\r\nThen compare them with user localDateTime with your desired logic.\r\n","title":"Compare between two dates with time and timezone","body":"<p>One practice is to use <strong>ZonedDateTime</strong> and put the zone at <strong>UTC</strong> or compare the <strong>offsetDateTime</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    LocalDateTime ldtLowerBound = LocalDateTime.parse(&quot;2022-03-08T9:00:00&quot;);\n    LocalDateTime ldtUpperBound = LocalDateTime.parse(&quot;2022-03-15T6:00:00&quot;);\n\n    //For zonedDateTime\n    ZonedDateTime zdt = ldtLowerBound.atZone(ZoneOffset.UTC);\n\n    //For OffsetDateTime\n    OffsetDateTime odt = ldtLowerBound.atOffset(ZoneOffset.UTC);\n</code></pre>\n<p>Then compare them with user localDateTime with your desired logic.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646768766,"creation_date":1646751648,"answer_id":71397121,"question_id":71395428,"body_markdown":"This appears to be a schoolwork assignment. So I’ll give a brief outline of the needed code, and let you fill in the details. \r\n\r\nParse your [JSON][1] into Java objects. \r\n\r\nIn the Java ecosystem, you have a choice of frameworks to assist in parsing JSON. These include [Jackson][2] and [Jakarta EE][3].\r\n\r\nYou need to end up with objects of the *java.time* classes as shown in code here. \r\n\r\n    LocalDate startDate = LocalDate.parse( &quot;2022-03-08&quot; ) ;\r\n    …\r\n    LocalTime startTime = LocalTime.parse( &quot;09:00&quot; ) ;\r\n    …\r\n    ZoneId z = ZoneId.of( &quot;Canada/Toronto&quot; ) ;\r\n    Set&lt; DayOfWeek &gt; dows = EnumSet.noneOf( DayOfWeek.class ) ;\r\n    dows.add( DayOfWeek.valueOf( &quot;Monday&quot;.toUppercase() ) ;\r\n    …\r\n\r\nCapture the current moment as seen with an [offset from UTC][4] of zero hours-minutes-days. \r\n\r\n    Instant instant = Instant.now() ;\r\n\r\nAdjust into target [time zone][5]. \r\n\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nInterrogate for the parts of that moment. \r\n\r\n    LocalDate ld = zdt.toLocalDate() ;\r\n    LocalTime lt = zdt.toLocalTime() ;\r\n    DayOfWeek dow = zdt.getDayOfWeek() ;\r\n\r\n[Compare][6] to your limits. \r\n\r\n    if( ( ! ld.isBefore( startDate ) ) &amp;&amp; ld.isBefore( endDate )  ) { … }\r\n    …\r\n    if( dows.contains( dow ) { … }\r\n\r\nRegarding comparisons, I suggest you learn about Half-Closed versus Fully-Closed. I recommend consistent use of Half-Closed. \r\n\r\nAll these topics have been addressed many times already on Stack Overflow. So search to learn more. \r\n\r\n    \r\n\r\n \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JSON\r\n  [2]: https://en.wikipedia.org/wiki/Jackson_(API)\r\n  [3]: https://www.eclipse.org/community/eclipse_newsletter/2018/november/jsonjakartaee.php\r\n  [4]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [5]: https://en.wikipedia.org/wiki/Time_zone\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#isBefore(java.time.chrono.ChronoLocalDate)","title":"Compare between two dates with time and timezone","body":"<p>This appears to be a schoolwork assignment. So I’ll give a brief outline of the needed code, and let you fill in the details.</p>\n<p>Parse your <a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\">JSON</a> into Java objects.</p>\n<p>In the Java ecosystem, you have a choice of frameworks to assist in parsing JSON. These include <a href=\"https://en.wikipedia.org/wiki/Jackson_(API)\" rel=\"nofollow noreferrer\">Jackson</a> and <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2018/november/jsonjakartaee.php\" rel=\"nofollow noreferrer\">Jakarta EE</a>.</p>\n<p>You need to end up with objects of the <em>java.time</em> classes as shown in code here.</p>\n<pre><code>LocalDate startDate = LocalDate.parse( &quot;2022-03-08&quot; ) ;\n…\nLocalTime startTime = LocalTime.parse( &quot;09:00&quot; ) ;\n…\nZoneId z = ZoneId.of( &quot;Canada/Toronto&quot; ) ;\nSet&lt; DayOfWeek &gt; dows = EnumSet.noneOf( DayOfWeek.class ) ;\ndows.add( DayOfWeek.valueOf( &quot;Monday&quot;.toUppercase() ) ;\n…\n</code></pre>\n<p>Capture the current moment as seen with an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset from UTC</a> of zero hours-minutes-days.</p>\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n<p>Adjust into target <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"nofollow noreferrer\">time zone</a>.</p>\n<pre><code>ZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<p>Interrogate for the parts of that moment.</p>\n<pre><code>LocalDate ld = zdt.toLocalDate() ;\nLocalTime lt = zdt.toLocalTime() ;\nDayOfWeek dow = zdt.getDayOfWeek() ;\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#isBefore(java.time.chrono.ChronoLocalDate)\" rel=\"nofollow noreferrer\">Compare</a> to your limits.</p>\n<pre><code>if( ( ! ld.isBefore( startDate ) ) &amp;&amp; ld.isBefore( endDate )  ) { … }\n…\nif( dows.contains( dow ) { … }\n</code></pre>\n<p>Regarding comparisons, I suggest you learn about Half-Closed versus Fully-Closed. I recommend consistent use of Half-Closed.</p>\n<p>All these topics have been addressed many times already on Stack Overflow. So search to learn more.</p>\n"}],"owner":{"account_id":2856509,"reputation":416,"user_id":2452672,"accept_rate":56,"display_name":"Surya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1646775140,"answer_count":2,"score":-1,"last_activity_date":1646768766,"creation_date":1646744074,"question_id":71395428,"body_markdown":"I am developing a login functionality, where user is not allowed to login between some duration of time, and this is configurable. \r\nFor example user is not allowed to login between \r\n \r\n\r\n     {\r\n      &quot;fromDate&quot;: &quot;2022-03-08&quot;,\r\n      &quot;toDate&quot;: 2022-03-15,\r\n      &quot;fromTime&quot;: &quot;09:00&quot;,\r\n      &quot;toTime&quot;: &quot;16:00&quot;,\r\n      &quot;timezone&quot;: &quot;Canada/Toronto&quot;, \r\n      &quot;days&quot;: [\r\n        &quot;Monday&quot;,\r\n        &quot;Tuesday&quot;,\r\n        &quot;Wednesday&quot;,\r\n        &quot;Saturday&quot;,\r\n        &quot;Sunday&quot;,\r\n        &quot;Thursday&quot;,\r\n        &quot;Friday&quot;\r\n      ]\r\n    }\r\n\r\nCan anyone help in comparing fromDate and toDate with current User login time.\r\nI am tryin to convert all dates in UTC and then compare.\r\nAs user can login anywhere so as per login time date may change in other country.\r\nAny suggestions/reference would be helpful.","title":"Compare between two dates with time and timezone","body":"<p>I am developing a login functionality, where user is not allowed to login between some duration of time, and this is configurable.\nFor example user is not allowed to login between</p>\n<pre><code> {\n  &quot;fromDate&quot;: &quot;2022-03-08&quot;,\n  &quot;toDate&quot;: 2022-03-15,\n  &quot;fromTime&quot;: &quot;09:00&quot;,\n  &quot;toTime&quot;: &quot;16:00&quot;,\n  &quot;timezone&quot;: &quot;Canada/Toronto&quot;, \n  &quot;days&quot;: [\n    &quot;Monday&quot;,\n    &quot;Tuesday&quot;,\n    &quot;Wednesday&quot;,\n    &quot;Saturday&quot;,\n    &quot;Sunday&quot;,\n    &quot;Thursday&quot;,\n    &quot;Friday&quot;\n  ]\n}\n</code></pre>\n<p>Can anyone help in comparing fromDate and toDate with current User login time.\nI am tryin to convert all dates in UTC and then compare.\nAs user can login anywhere so as per login time date may change in other country.\nAny suggestions/reference would be helpful.</p>\n"},{"tags":["java","spring","spring-mvc","spring-4","spring5"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646762542,"post_id":71399492,"comment_id":126202546,"body_markdown":"As mentioned in the other thread you commented on this isn&#39;t supported any more. Add the mapping to the `@RequestMapping` on the controller and remove it from the `urlMapping`. This applies to all your controllers that are annotated. And add `&lt;mvc:annotation-driven /&gt;`","body":"As mentioned in the other thread you commented on this isn&#39;t supported any more. Add the mapping to the <code>@RequestMapping</code> on the controller and remove it from the <code>urlMapping</code>. This applies to all your controllers that are annotated. And add <code>&lt;mvc:annotation-driven &#47;&gt;</code>"},{"owner":{"account_id":17690939,"reputation":81,"user_id":12842720,"display_name":"Bharath"},"score":0,"creation_date":1646812269,"post_id":71399492,"comment_id":126213623,"body_markdown":"@M.Deinum ,yes i tried it worked, but why we need to do that.","body":"@M.Deinum ,yes i tried it worked, but why we need to do that."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646814322,"post_id":71399492,"comment_id":126214360,"body_markdown":"Read the release notes of SPring 5.0 and 4.3 which explains that.","body":"Read the release notes of SPring 5.0 and 4.3 which explains that."}],"owner":{"account_id":17690939,"reputation":81,"user_id":12842720,"display_name":"Bharath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646767315,"creation_date":1646762023,"question_id":71399492,"body_markdown":"we are trying to upgrade spring from 4.x to 5.3.x\r\n\r\nthis is the dispatcher-servlet.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc \r\n    \t\thttp://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n    \t\thttp://www.springframework.org/schema/beans \r\n    \t\thttp://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context \r\n    \t\thttp://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- The facade for the ConfigOps EJB --&gt;\r\n        &lt;bean id=&quot;configOps&quot; class=&quot;com.sample.Config&quot; scope=&quot;prototype&quot; /&gt;\r\n    \r\n        &lt;!-- Main controller beans--&gt;\r\n        &lt;bean id=&quot;actionController&quot; class=&quot;com.ui.controllers.ActionController&quot; &gt;\r\n            &lt;property name=&quot;configOps&quot; ref=&quot;configOps&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \t&lt;bean id=&quot;nodeController&quot; class=&quot;com.ui.controllers.NodeController&quot; &gt;\r\n            &lt;property name=&quot;configOps&quot; ref=&quot;configOps&quot; /&gt;\r\n        &lt;/bean&gt;\r\n        &lt;bean id=&quot;wizardController&quot; class=&quot;com.ui.controllers.WizardController&quot; &gt;\r\n        &lt;property name=&quot;configOps&quot; ref=&quot;configOps&quot; /&gt;\r\n        &lt;property name=&quot;nodeController&quot; ref=&quot;nodeController&quot; /&gt;\r\n       &lt;/bean&gt;\r\n        &lt;bean id=&quot;exceptionResolver&quot;  class=&quot;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver&quot;&gt;\r\n            &lt;property name=&quot;exceptionMappings&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;java.lang.Exception&quot;&gt;errorView&lt;/prop&gt;\r\n                &lt;/props&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n        \r\n          \r\n        &lt;!-- Simple URL based handler mapping --&gt;\r\n    \t  &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\r\n    \t\t&lt;property name=&quot;mappings&quot;&gt;\r\n                &lt;value&gt;\r\n                    /**/actions.do=actionController\r\n                    /**/nodes.do=nodeController\r\n                    /**/wizard.do=wizardController\r\n                &lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n        &lt;!-- View resolver for action controllers --&gt;\r\n        &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.XmlViewResolver&quot;&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nNote: here wizardcontroller is annotated with @controller which has annotation like @Requestmapping and\r\nnodecontroller,actioncontroller extends abstractcontroller which has some methods.\r\n\r\ni tried by adding mvc:annotation-driven in dispatcher xml file as per some of answers, but still same issue..\r\n\r\nhow we can the change the code to work with spring 5.3.x?","title":"Spring: The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler","body":"<p>we are trying to upgrade spring from 4.x to 5.3.x</p>\n<p>this is the dispatcher-servlet.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc \n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;!-- The facade for the ConfigOps EJB --&gt;\n    &lt;bean id=&quot;configOps&quot; class=&quot;com.sample.Config&quot; scope=&quot;prototype&quot; /&gt;\n\n    &lt;!-- Main controller beans--&gt;\n    &lt;bean id=&quot;actionController&quot; class=&quot;com.ui.controllers.ActionController&quot; &gt;\n        &lt;property name=&quot;configOps&quot; ref=&quot;configOps&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;nodeController&quot; class=&quot;com.ui.controllers.NodeController&quot; &gt;\n        &lt;property name=&quot;configOps&quot; ref=&quot;configOps&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;wizardController&quot; class=&quot;com.ui.controllers.WizardController&quot; &gt;\n    &lt;property name=&quot;configOps&quot; ref=&quot;configOps&quot; /&gt;\n    &lt;property name=&quot;nodeController&quot; ref=&quot;nodeController&quot; /&gt;\n   &lt;/bean&gt;\n    &lt;bean id=&quot;exceptionResolver&quot;  class=&quot;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver&quot;&gt;\n        &lt;property name=&quot;exceptionMappings&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;java.lang.Exception&quot;&gt;errorView&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    \n      \n    &lt;!-- Simple URL based handler mapping --&gt;\n      &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\n        &lt;property name=&quot;mappings&quot;&gt;\n            &lt;value&gt;\n                /**/actions.do=actionController\n                /**/nodes.do=nodeController\n                /**/wizard.do=wizardController\n            &lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- View resolver for action controllers --&gt;\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.XmlViewResolver&quot;&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Note: here wizardcontroller is annotated with @controller which has annotation like @Requestmapping and\nnodecontroller,actioncontroller extends abstractcontroller which has some methods.</p>\n<p>i tried by adding mvc:annotation-driven in dispatcher xml file as per some of answers, but still same issue..</p>\n<p>how we can the change the code to work with spring 5.3.x?</p>\n"},{"tags":["java","selenium","microsoft-edge","selenium-grid","selenium-grid2"],"answers":[{"tags":[],"owner":{"account_id":104518,"reputation":6167,"user_id":279393,"accept_rate":71,"display_name":"bnieland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476375139,"creation_date":1476375139,"answer_id":40026056,"question_id":40022387,"body_markdown":"The Selenium Grid Node has a [command line parameter][1] &quot;`-timeout`&quot; which determines how long the browser will remain open if the session is inactive.\r\n\r\ne.g. (line breaks are for clarity only)\r\n\r\n    start &quot;2.53.0 node Edge Node&quot; \r\n          cmd /k \r\n                java -Dwebdriver.edge.driver=&quot;MicrosoftWebDriver.exe&quot; -cp .;* \r\n                     org.openqa.grid.selenium.GridLauncher \r\n                         -role node \r\n                         -timeout 6000 \r\n                         -nodeConfig ..\\conf\\test-node-config-localhub-edge.json\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/wiki/Grid2#optional-parameters","title":"How do I increase the inactivity timeout for Selenium Grid?","body":"<p>The Selenium Grid Node has a <a href=\"https://github.com/SeleniumHQ/selenium/wiki/Grid2#optional-parameters\" rel=\"nofollow\">command line parameter</a> \"<code>-timeout</code>\" which determines how long the browser will remain open if the session is inactive.</p>\n\n<p>e.g. (line breaks are for clarity only)</p>\n\n<pre><code>start \"2.53.0 node Edge Node\" \n      cmd /k \n            java -Dwebdriver.edge.driver=\"MicrosoftWebDriver.exe\" -cp .;* \n                 org.openqa.grid.selenium.GridLauncher \n                     -role node \n                     -timeout 6000 \n                     -nodeConfig ..\\conf\\test-node-config-localhub-edge.json\n</code></pre>\n"}],"owner":{"account_id":104518,"reputation":6167,"user_id":279393,"accept_rate":71,"display_name":"bnieland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646767206,"creation_date":1476365327,"question_id":40022387,"body_markdown":"&gt; The Setup:  \r\n&gt; - A Win7 box running Java Selenium tests which automate a Selenium Grid using the Edge browser (on a local Win10 Virtualbox VM) \r\n\r\nIf I pause for too long when debugging Selenium tests for Edge, the Edge instance dies and I have to restart the test.\r\n\r\n&gt;The hub showed an error of:  \r\n&gt;`key 31b56d50-91eb-4c45-8dda-39cb8da4638a has TIMED OUT due to client inactivity and will be released`\r\n\r\nI am assuming that the Edge WebDriver is the culprit here, but am open to other explanations.\r\n\r\nAre there any setting that will extend this timeout?","title":"How do I increase the inactivity timeout for Selenium Grid?","body":"<blockquote>\n  <p>The Setup:<br>\n  - A Win7 box running Java Selenium tests which automate a Selenium Grid using the Edge browser (on a local Win10 Virtualbox VM) </p>\n</blockquote>\n\n<p>If I pause for too long when debugging Selenium tests for Edge, the Edge instance dies and I have to restart the test.</p>\n\n<blockquote>\n  <p>The hub showed an error of:<br>\n  <code>key 31b56d50-91eb-4c45-8dda-39cb8da4638a has TIMED OUT due to client inactivity and will be released</code></p>\n</blockquote>\n\n<p>I am assuming that the Edge WebDriver is the culprit here, but am open to other explanations.</p>\n\n<p>Are there any setting that will extend this timeout?</p>\n"},{"tags":["java","json","datetime"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1646767404,"post_id":71400350,"comment_id":126204135,"body_markdown":"Well, it looks peculiar to me that the string `08-03-2022T00:48:07:497Z`, *looks* like an ISO 8601 date time format, but isn&#39;t. It should be `2022-08-03T00:48:07.497Z`.","body":"Well, it looks peculiar to me that the string <code>08-03-2022T00:48:07:497Z</code>, <i>looks</i> like an ISO 8601 date time format, but isn&#39;t. It should be <code>2022-08-03T00:48:07.497Z</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1646767585,"post_id":71400350,"comment_id":126204194,"body_markdown":"Anyway, the real reason you get this error seems to be that you need to get rid of the backslashes. It should probably be `/Date(...)/`.","body":"Anyway, the real reason you get this error seems to be that you need to get rid of the backslashes. It should probably be <code>&#47;Date(...)&#47;</code>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646771796,"post_id":71400350,"comment_id":126205573,"body_markdown":"`Date(...)` isn&#39;t the same as `Date(&#39;...&#39;)` based on the error message","body":"<code>Date(...)</code> isn&#39;t the same as <code>Date(&#39;...&#39;)</code> based on the error message"}],"owner":{"account_id":16228714,"reputation":25,"user_id":11718221,"display_name":"link716"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646766969,"creation_date":1646766969,"question_id":71400350,"body_markdown":"I&#39;m looking to make an API call in a Java 8 project, however, when I attempt to make the call, the API responds with the following error message:\r\n*DateTime content &#39;08-03-2022T00:48:07:497Z&#39; does not start with &#39;\\\\/Date(&#39; and end with &#39;)\\\\/&#39; as required for JSON.*\r\n\r\nSeems like a fairly easy fix, right? So I tried to add the formatting myself:\r\n```            Date date = new Date();\r\n            OffsetDateTime offsetDateTime = date.toInstant().atOffset(ZoneOffset.UTC);\r\n            DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&#39;T&#39;HH:mm:ss:SSSXXXXX&quot;);\r\n            String dateStringInUTC = offsetDateTime.format(DATE_TIME_FORMATTER);\r\n\r\n            Entry entry = Entry.builder()\r\n                    .dateTime(&quot;\\\\/Date(&quot; + dateStringInUTC + &quot;)\\\\/&quot;)\r\n                    .departmentId(departmentId)\r\n                    .userId(userId)\r\n                    .build();\r\n```\r\nFor reference, here is the Entry class:\r\n\r\n```import com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.Builder;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@Builder\r\npublic class Entry {\r\n\r\n\t@JsonProperty(&quot;DateTime&quot;)\r\n\tpublic String dateTime;\r\n\t@JsonProperty(&quot;DepartmentId&quot;)\r\n\tpublic DepartmentId departmentId;\r\n\t@JsonProperty(&quot;UserId&quot;)\r\n\tpublic UserId userId;\r\n\r\n\t\r\n}\r\n```\r\nYet (this part made me giggle) the API responds with the same error (with updated formatting):\r\n*DateTime content &#39;\\\\/Date(08-03-2022T00:48:07:497Z)\\\\/&#39; does not start with &#39;\\\\/Date(&#39; and end with &#39;)\\\\/&#39; as required for JSON.*\r\n\r\nI saw some other similar posts regarding this topic, but those seemed to be in C# and I don&#39;t believe the particular Class they were referencing as a solution quite translated to Java.\r\n\r\nI copy-pasted my manually formatted string *\\\\/Date(08-03-2022T00:48:07:497Z)\\\\/* into a Postman request, and that request went through just fine via Postman. But no such luck when put into practice in the Java solution.\r\n","title":"DateTime content &#39;\\/Date(08-03-2022T00:48:07:497Z)\\/&#39; does not start with &#39;\\/Date(&#39; and end with &#39;)\\/&#39; as required for JSON","body":"<p>I'm looking to make an API call in a Java 8 project, however, when I attempt to make the call, the API responds with the following error message:\n<em>DateTime content '08-03-2022T00:48:07:497Z' does not start with '\\/Date(' and end with ')\\/' as required for JSON.</em></p>\n<p>Seems like a fairly easy fix, right? So I tried to add the formatting myself:</p>\n<pre><code>            OffsetDateTime offsetDateTime = date.toInstant().atOffset(ZoneOffset.UTC);\n            DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu'T'HH:mm:ss:SSSXXXXX&quot;);\n            String dateStringInUTC = offsetDateTime.format(DATE_TIME_FORMATTER);\n\n            Entry entry = Entry.builder()\n                    .dateTime(&quot;\\\\/Date(&quot; + dateStringInUTC + &quot;)\\\\/&quot;)\n                    .departmentId(departmentId)\n                    .userId(userId)\n                    .build();\n</code></pre>\n<p>For reference, here is the Entry class:</p>\n<pre><code>import lombok.Builder;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Builder\npublic class Entry {\n\n    @JsonProperty(&quot;DateTime&quot;)\n    public String dateTime;\n    @JsonProperty(&quot;DepartmentId&quot;)\n    public DepartmentId departmentId;\n    @JsonProperty(&quot;UserId&quot;)\n    public UserId userId;\n\n    \n}\n</code></pre>\n<p>Yet (this part made me giggle) the API responds with the same error (with updated formatting):\n<em>DateTime content '\\/Date(08-03-2022T00:48:07:497Z)\\/' does not start with '\\/Date(' and end with ')\\/' as required for JSON.</em></p>\n<p>I saw some other similar posts regarding this topic, but those seemed to be in C# and I don't believe the particular Class they were referencing as a solution quite translated to Java.</p>\n<p>I copy-pasted my manually formatted string <em>\\/Date(08-03-2022T00:48:07:497Z)\\/</em> into a Postman request, and that request went through just fine via Postman. But no such luck when put into practice in the Java solution.</p>\n"},{"tags":["java","eclipse","ubuntu-20.04","openjdk-11"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1646667698,"post_id":71383500,"comment_id":126174385,"body_markdown":"Try `which -a java` on a console.","body":"Try <code>which -a java</code> on a console."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646674153,"creation_date":1646674153,"answer_id":71385013,"question_id":71383500,"body_markdown":"Using `which` will give you /usr/bin/java which won&#39;t help as it will be a symlink. You need something like\r\n\r\n    readlink -f $(which java)","title":"How to find the JRE location to use the system JRE in eclipse","body":"<p>Using <code>which</code> will give you /usr/bin/java which won't help as it will be a symlink. You need something like</p>\n<pre><code>readlink -f $(which java)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646681017,"creation_date":1646681017,"answer_id":71386247,"question_id":71383500,"body_markdown":"you can use the following:\r\n\r\n    update-alternatives --list java\r\nwill gives you something similar to the below:\r\n\r\n    /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java","title":"How to find the JRE location to use the system JRE in eclipse","body":"<p>you can use the following:</p>\n<pre><code>update-alternatives --list java\n</code></pre>\n<p>will gives you something similar to the below:</p>\n<pre><code>/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n</code></pre>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71385013,"answer_count":2,"score":0,"last_activity_date":1646766526,"creation_date":1646667243,"question_id":71383500,"body_markdown":"I&#39;m trying to set up a java project to use openjdk-11 and all the answers I have found so far have me going in circles. I&#39;m using ubuntu 20.04, so I used the command &#39;sudo apt install openjdk-11-jre&#39;. The installation seemed to be successful but now I can&#39;t seem to figure out the file path to the installed JRE. &lt;br&gt;I thought it would be under /user/lib/jvm/java-11-openjdk-amd64 somewhere. When I point eclipse to that location and try to search for a JRE however it doesn&#39;t find anything.\r\n\r\nI have found lots of examples with info on how to install but nothing about how to track down the exact file path. &lt;br&gt;Any help would be greatly appreciated.\r\n\r\n\r\n**Update**\r\nWhile I was able to find the JRE location, the root problem turns out to be eclipse. I forgot I had an older version (4.6) open since that is what the project was originally using. Once I switched over to 4.18 I was able to add the java 11 JRE.","title":"How to find the JRE location to use the system JRE in eclipse","body":"<p>I'm trying to set up a java project to use openjdk-11 and all the answers I have found so far have me going in circles. I'm using ubuntu 20.04, so I used the command 'sudo apt install openjdk-11-jre'. The installation seemed to be successful but now I can't seem to figure out the file path to the installed JRE. <br>I thought it would be under /user/lib/jvm/java-11-openjdk-amd64 somewhere. When I point eclipse to that location and try to search for a JRE however it doesn't find anything.</p>\n<p>I have found lots of examples with info on how to install but nothing about how to track down the exact file path. <br>Any help would be greatly appreciated.</p>\n<p><strong>Update</strong>\nWhile I was able to find the JRE location, the root problem turns out to be eclipse. I forgot I had an older version (4.6) open since that is what the project was originally using. Once I switched over to 4.18 I was able to add the java 11 JRE.</p>\n"},{"tags":["java","hibernate","jpamodelgen"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1630589419,"post_id":69031213,"comment_id":122002636,"body_markdown":"what character did you use instead of capital i ? that &#39;s your issue.","body":"what character did you use instead of capital i ? that &#39;s your issue."},{"owner":{"account_id":20192357,"reputation":74,"user_id":14810239,"display_name":"Furkan Işıtan"},"score":0,"creation_date":1630593144,"post_id":69031213,"comment_id":122004550,"body_markdown":"I used the letter i. The problem is that it changes the letter i to &#39;İ&#39; instead of &#39;I&#39;. The language of the operating system I use is Turkish. This is probably why the error is caused.","body":"I used the letter i. The problem is that it changes the letter i to &#39;İ&#39; instead of &#39;I&#39;. The language of the operating system I use is Turkish. This is probably why the error is caused."}],"answers":[{"tags":[],"owner":{"account_id":20192357,"reputation":74,"user_id":14810239,"display_name":"Furkan Işıtan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646766423,"creation_date":1646765898,"answer_id":71400173,"question_id":69031213,"body_markdown":"Days later I tackled the issue again and finally resolved it.\r\nI have two different solutions for the following two different situations.\r\n\r\n**1) Using maven wrapper (mvnw)**\r\n\r\n- Create .mvn/jvm.config file in the project.\r\n- Add the following options to file.\r\n\r\n```\r\n-Duser.language=en\r\n-Duser.country=US\r\n````\r\n\r\n**2) Using Intellij Idea**\r\n\r\n- Add the same options above to the .vmoptions file described [here][1].\r\n- Select File -&gt; Invalidate Caches -&gt; Invalidate and Restart\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/206544869-Configuring-JVM-options-and-platform-properties","title":"&quot;illegal character&quot; error when using hibernate-jpamodelgen in Spring Boot","body":"<p>Days later I tackled the issue again and finally resolved it.\nI have two different solutions for the following two different situations.</p>\n<p><strong>1) Using maven wrapper (mvnw)</strong></p>\n<ul>\n<li>Create .mvn/jvm.config file in the project.</li>\n<li>Add the following options to file.</li>\n</ul>\n<pre><code>-Duser.language=en\n-Duser.country=US\n</code></pre>\n<p><strong>2) Using Intellij Idea</strong></p>\n<ul>\n<li>Add the same options above to the .vmoptions file described <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544869-Configuring-JVM-options-and-platform-properties\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>Select File -&gt; Invalidate Caches -&gt; Invalidate and Restart</li>\n</ul>\n"}],"owner":{"account_id":20192357,"reputation":74,"user_id":14810239,"display_name":"Furkan Işıtan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71400173,"answer_count":1,"score":0,"last_activity_date":1646766423,"creation_date":1630589215,"question_id":69031213,"body_markdown":"      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nWhen I add the above dependency and compile my project, I get an &quot;illegal character&quot; error for Turkish characters. My problem is same as [here][1] but I didn&#39;t understand how to solve it in Spring Boot. I tried the solutions but they didn&#39;t work.\r\n\r\n[![error][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57182568/hibernate-jpa-2-metamodel-generator-turkish-char-problem\r\n  [2]: https://i.stack.imgur.com/EIjYU.png\r\n\r\nI would be glad if you help.","title":"&quot;illegal character&quot; error when using hibernate-jpamodelgen in Spring Boot","body":"<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>When I add the above dependency and compile my project, I get an &quot;illegal character&quot; error for Turkish characters. My problem is same as <a href=\"https://stackoverflow.com/questions/57182568/hibernate-jpa-2-metamodel-generator-turkish-char-problem\">here</a> but I didn't understand how to solve it in Spring Boot. I tried the solutions but they didn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/EIjYU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIjYU.png\" alt=\"error\" /></a></p>\n<p>I would be glad if you help.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646716369,"creation_date":1646715720,"answer_id":71390237,"question_id":71389951,"body_markdown":"The code appends `myArray[0]` twice, this should fix the your issue \r\n\r\n    public String toString() {\r\n    \r\n        StringBuilder arr;\r\n        arr = new StringBuilder(&quot;[&quot;);\r\n        arr.append(myArray[0]);\r\n        if (numItems &gt; 0) {\r\n            for (int i = 1; i &lt; 10 &amp;&amp; i &lt; numItems; i++) {\r\n    \r\n                arr.append(&quot;, &quot;).append(myArray[i]);\r\n            }\r\n    \r\n            arr.append(&quot;]&quot;);\r\n        } else {\r\n            arr.append(&quot;]&quot;);\r\n        }\r\n        return arr.toString();\r\n    }","title":"I need help Returning a string representation of my circular queue","body":"<p>The code appends <code>myArray[0]</code> twice, this should fix the your issue</p>\n<pre><code>public String toString() {\n\n    StringBuilder arr;\n    arr = new StringBuilder(&quot;[&quot;);\n    arr.append(myArray[0]);\n    if (numItems &gt; 0) {\n        for (int i = 1; i &lt; 10 &amp;&amp; i &lt; numItems; i++) {\n\n            arr.append(&quot;, &quot;).append(myArray[i]);\n        }\n\n        arr.append(&quot;]&quot;);\n    } else {\n        arr.append(&quot;]&quot;);\n    }\n    return arr.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646765867,"creation_date":1646716601,"answer_id":71390338,"question_id":71389951,"body_markdown":"Here is the body of method `toString()` that returns the correct result.  \r\n(Notes after the code.)\r\n```java\r\nString arr = &quot;[&quot;;\r\nif (numItems &gt; 0) {\r\n    if (rear == front) {\r\n        arr += myArray[front];\r\n    }\r\n    else {\r\n        int limit;\r\n        if (rear &gt; front) {\r\n            limit = rear;\r\n        }\r\n        else {\r\n            limit = 10;\r\n        }\r\n        boolean first = true;\r\n        for (int i = front; i &lt; limit; i++) {\r\n            if (first) {\r\n                first = false;\r\n            }\r\n            else {\r\n                arr += &quot;, &quot;;\r\n            }\r\n            arr += myArray[i];\r\n        }\r\n        if (rear &lt; front) {\r\n            for (int i = 0; i &lt; rear; i++) {\r\n                arr += &quot;, &quot;;\r\n                arr += myArray[i];\r\n            }\r\n        }\r\n    }\r\n}\r\narr += &quot;]&quot;;\r\nreturn arr;\r\n```\r\nSince the queue is circular, the start of the queue starts at `front` and extends to `rear`.\r\n\r\nIf `rear` is equal to `front`, that means that the queue contains only a single element.\r\n\r\nIf `rear` is greater that `front`, that means the the queue is not full, i.e. less than ten elements have been added to the queue.\r\n\r\nIf `rear` is less than `front`, it means that `myArray` is full, i.e. contains ten elements, and so you need to print all the elements from `front` to the last element of `myArray` and then you need to print the first elements of `myArray` starting from the first element up to `rear`.\r\n\r\nFor example if `myArray` is as follows:\r\n```none\r\n[60, 61, 62, 63, 54, 55, 56, 57, 58, 59]\r\n```\r\nand `front` equals 5 and `rear` equals 4, then `rear` is less than `front` so the first `for` loop in the above code will append the values from 55 to 59 and the second `for` loop will append the values from 60 to 63.\r\n\r\nNote that I only changed method `toString`. I did not change any of the other code in your question. When I ran your test cases, this was the last line of the output.\r\n```none\r\nTEST RESULTS: 17 /17 plus 5/5 for correct toString()\r\n```\r\n\r\n","title":"I need help Returning a string representation of my circular queue","body":"<p>Here is the body of method <code>toString()</code> that returns the correct result.<br />\n(Notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>String arr = &quot;[&quot;;\nif (numItems &gt; 0) {\n    if (rear == front) {\n        arr += myArray[front];\n    }\n    else {\n        int limit;\n        if (rear &gt; front) {\n            limit = rear;\n        }\n        else {\n            limit = 10;\n        }\n        boolean first = true;\n        for (int i = front; i &lt; limit; i++) {\n            if (first) {\n                first = false;\n            }\n            else {\n                arr += &quot;, &quot;;\n            }\n            arr += myArray[i];\n        }\n        if (rear &lt; front) {\n            for (int i = 0; i &lt; rear; i++) {\n                arr += &quot;, &quot;;\n                arr += myArray[i];\n            }\n        }\n    }\n}\narr += &quot;]&quot;;\nreturn arr;\n</code></pre>\n<p>Since the queue is circular, the start of the queue starts at <code>front</code> and extends to <code>rear</code>.</p>\n<p>If <code>rear</code> is equal to <code>front</code>, that means that the queue contains only a single element.</p>\n<p>If <code>rear</code> is greater that <code>front</code>, that means the the queue is not full, i.e. less than ten elements have been added to the queue.</p>\n<p>If <code>rear</code> is less than <code>front</code>, it means that <code>myArray</code> is full, i.e. contains ten elements, and so you need to print all the elements from <code>front</code> to the last element of <code>myArray</code> and then you need to print the first elements of <code>myArray</code> starting from the first element up to <code>rear</code>.</p>\n<p>For example if <code>myArray</code> is as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[60, 61, 62, 63, 54, 55, 56, 57, 58, 59]\n</code></pre>\n<p>and <code>front</code> equals 5 and <code>rear</code> equals 4, then <code>rear</code> is less than <code>front</code> so the first <code>for</code> loop in the above code will append the values from 55 to 59 and the second <code>for</code> loop will append the values from 60 to 63.</p>\n<p>Note that I only changed method <code>toString</code>. I did not change any of the other code in your question. When I ran your test cases, this was the last line of the output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>TEST RESULTS: 17 /17 plus 5/5 for correct toString()\n</code></pre>\n"}],"owner":{"account_id":24486448,"reputation":13,"user_id":18404065,"display_name":"Im_okay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71390338,"answer_count":2,"score":0,"last_activity_date":1646765867,"creation_date":1646712783,"question_id":71389951,"body_markdown":"I am trying to returns a string representation of my circular queue heres what I have so far. (Im not allowed to use/import other libraries in my code)\r\n```java\r\npublic class A2KeyesOwenQueue {\r\n    private int front;\r\n    private int rear;\r\n    private int numItems;\r\n    private int[] myArray;\r\n\r\n    public A2KeyesOwenQueue() {\r\n        // the default size of the queue is 10\r\n        myArray = new int[10];\r\n        numItems = 0;\r\n        front = 0;\r\n        rear = 0;\r\n    }\r\n\r\n    // Adds one element to the rear of the queue. Returns true if successful, false\r\n    // otherwise\r\n    public boolean enqueue(int elements) {\r\n        if (numItems &lt; 10) {\r\n            myArray[rear] = elements;\r\n            rear = (rear + 1) % myArray.length;\r\n            numItems++;\r\n            return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\n    // Removes and returns the element at the front of the queue\r\n    public int dequeue() {\r\n        int temp;\r\n        if (numItems == 0) {\r\n            return -9999;\r\n        }\r\n        else\r\n            temp = myArray[front];\r\n        front = (front + 1) % myArray.length;\r\n        numItems--;\r\n        return temp;\r\n    }\r\n\r\n    // Returns without removing the element at the front of the queue\r\n    public int peek() {\r\n        if (numItems == 0) {\r\n            return -9999;\r\n        }\r\n        else\r\n            return myArray[front];\r\n\r\n    }\r\n\r\n    // Returns true if the queue contains no elements\r\n    public boolean isEmpty() {\r\n        if (numItems == 0) {\r\n            return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\n    // Returns the number of elements in the queue\r\n    public int size() {\r\n        return numItems;\r\n    }\r\n\r\n    // Returns a string representation of the queue\r\n    public String toString() {\r\n        String arr;\r\n        arr = &quot;[&quot;;\r\n        if (numItems &gt; 0) {\r\n            for (int i = 0; i &lt; 10 &amp;&amp; i &lt; numItems; i++) {\r\n                arr = arr + myArray[i] + &quot;, &quot;;\r\n            }\r\n            arr = arr + myArray[0] + &quot;]&quot;;\r\n        }\r\n        else {\r\n            arr = arr + &quot;]&quot;;\r\n        }\r\n        return arr;\r\n    }\r\n}\r\n```\r\nMy `public String toString( )` doesn&#39;t return the right numbers on my test driver. I think it has something to do with it not circling the array.\r\n\r\n    public String toString( ){\r\n    String arr;\r\n    arr = &quot;[&quot;;\r\n    if (numItems &gt; 0){\r\n      for (int i = 0; i &lt; 10 &amp;&amp; i &lt; numItems ;i++) {\r\n       \r\n        arr = arr + myArray[i]+&quot;, &quot;;\r\n      }\r\n\r\n      arr = arr + myArray[0] + &quot;]&quot;;\r\n    }\r\n    else{\r\n      arr = arr + &quot;]&quot;;\r\n     }return arr;\r\n    }\r\n\r\n \r\nAnd my driver: \r\n```java\r\n/*\r\n * This class performs test cases for queue\r\n * \r\n * */\r\nclass DriverTest2{\r\n\r\n    public static void main(String[] args) { \r\n        int myMark = 0;\r\n        // TEST 1 \r\n        // (1 mark) A queue is empty on construction\r\n        A2KeyesOwenQueue  q = new A2KeyesOwenQueue();\r\n        if (q.isEmpty()) {\r\n            System.out.println(&quot;\\nTest 1 successfull: +1&quot;);\r\n            myMark=myMark + 1;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 1 failed********************&quot;);\r\n        }\r\n        // TEST 2\r\n        // (1 mark) A queue has size 0 on construction\r\n        if (q.size()==0) {\r\n            System.out.println(&quot;\\nTest 2 successfull: +1&quot;);\r\n            myMark=myMark + 1;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 2 failed********************&quot;);\r\n        }\r\n        // TEST 3\r\n        // (3 mark)After n enqueues to an empty queue, n &gt; 0,\r\n        // the queue is not empty and its size is n\r\n        q = new A2KeyesOwenQueue (); // reset queue\r\n        for (int i = 100; i &lt; 150; i+=10) {\r\n            System.out.print (&quot;enqueuing &quot; + i);\r\n            if (q.enqueue(i)) {\r\n                System.out.print(&quot;... success&quot;);\r\n            }\r\n            else {\r\n                System.out.print(&quot;... failed&quot;);\r\n            }\r\n            System.out.println ();\r\n        }\r\n        if (!q.isEmpty() &amp;&amp; q.size()==5) {\r\n            System.out.println(&quot;\\nTest 3 successfull: +3&quot;);\r\n            myMark=myMark + 3;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 3 failed********************&quot;);\r\n        }\r\n        // TEST 4\r\n        // (2 mark) If one enqueues x then peeks, the value returned is x, but the size stays the same\r\n        q = new A2KeyesOwenQueue (); // reset queue\r\n        // insert 5 elements 1000 900 800 700 600\r\n        for (int i = 1000; i &gt; 500; i-=100) {\r\n            System.out.print (&quot;Trying to enqueue :&quot; + i);\r\n            if (q.enqueue(i)) {\r\n                System.out.print(&quot;... success&quot;);\r\n            }\r\n            else {\r\n                System.out.print(&quot;... failed&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        q.enqueue(100);\r\n        int myPeek = q.peek();\r\n        if (q.size()==6) {\r\n            System.out.println(&quot;\\nTest 4 part 1 successfull: +1&quot;);\r\n            myMark=myMark + 1;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 4 part 1 failed********************&quot;);\r\n        }\r\n        if (myPeek == 1000) {\r\n            System.out.println(&quot;\\nTest 4 part 2 successfull: +1&quot;);\r\n            myMark = myMark + 1;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 4 part 2 failed********************&quot;);\r\n        }\r\n\r\n        // TEST 5\r\n        // If one enqueues x then dequeues, the value dequeued\r\n        // is x.\r\n        q = new A2KeyesOwenQueue(); // reset queue\r\n        q.enqueue(3);\r\n        int temp = q.dequeue();\r\n        if (temp == 3) {\r\n            System.out.println(&quot;\\nTest 5 successfull: +1&quot;);\r\n            myMark = myMark + 1;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 5 failed********************&quot;);\r\n        }\r\n        // TEST 6\r\n        // (2 mark) If the size is n, then after\r\n        // n dequeues, the stack is empty and has a size 0\r\n        // reset the queue\r\n        q = new A2KeyesOwenQueue();\r\n        // insert 5 elements 1000 900 800 700 600\r\n        for (int i = 1000; i &gt; 500; i -= 100) {\r\n\r\n            System.out.print(&quot;Trying to enqueue :&quot; + i);\r\n            if (q.enqueue(i)) {\r\n                System.out.print(&quot;... success&quot;);\r\n            }\r\n            else {\r\n                System.out.print(&quot;... failed&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            q.dequeue();\r\n        }\r\n        if (q.size() == 0) {\r\n            System.out.println(&quot;\\nTest 6 successfull: +2&quot;);\r\n            myMark = myMark + 2;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 6 failed********************&quot;);\r\n        }\r\n        // TEST 7\r\n        // (1 mark) call peek() with one item\r\n        // reset the queue\r\n        q = new A2KeyesOwenQueue();\r\n        q.enqueue(50);\r\n        int temp7 = q.peek();\r\n        if (temp7 == 50) {\r\n            System.out.println(&quot;\\nTest 7 successfull: +1&quot;);\r\n            myMark = myMark + 1;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 7 failed********************&quot;);\r\n        }\r\n\r\n        // TEST 8\r\n        // (1 mark) call peek() from an empty queue\r\n        // returns -9999 representing no such element\r\n        q = new A2KeyesOwenQueue();\r\n        int temp8 = q.peek();\r\n        if (temp8 == -9999) {\r\n            System.out.println(&quot;\\nTest 8 successfull: +1&quot;);\r\n            myMark = myMark + 1;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 8 failed********************&quot;);\r\n        }\r\n        // TEST 9\r\n        // (1 mark) call dequeue() from an empty queue\r\n        // returns -9999 representing no such element\r\n        q = new A2KeyesOwenQueue();\r\n        int temp9 = q.dequeue();\r\n        if (temp9 == -9999) {\r\n            System.out.println(&quot;\\nTest 9 successfull: +1&quot;);\r\n            myMark = myMark + 1;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 9 failed********************&quot;);\r\n        }\r\n        // TEST 10\r\n        // (1 mark) call dequeue() on an queue with one item.\r\n        q = new A2KeyesOwenQueue();\r\n        q.enqueue(50);\r\n        int temp10 = q.dequeue();\r\n        if (temp10 == 50) {\r\n            System.out.println(&quot;\\nTest 10 successfull: +1&quot;);\r\n            myMark = myMark + 1;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 10 failed********************&quot;);\r\n        }\r\n        q = new A2KeyesOwenQueue(); // reset queue\r\n        // TEST 11 enqueue elements until full plus one more element\r\n        boolean t11 = false;\r\n        for (int i = 100; i &lt; 200; i += 10) {\r\n\r\n            System.out.print(&quot;\\nTrying to enqueue :&quot; + i);\r\n            if (q.enqueue(i)) {\r\n                System.out.print(&quot;... success&quot;);\r\n            }\r\n        }\r\n        if (!q.enqueue(210)) {\r\n            System.out.println(&quot;... failed&quot;);\r\n            System.out.println(&quot;\\nTest 11 successfull: +1&quot;);\r\n            t11 = true;\r\n            myMark = myMark + 1;\r\n        }\r\n        if (!t11) {\r\n            System.out.println(&quot;\\nTest 11 failed********************.&quot;);\r\n        }\r\n        // TEST 12\r\n        // (2 mark) If one enqueues the values 1 through 10, in order,\r\n        // into an empty queue, then if 10 dequeues are done the values\r\n        // dequeues are 1 through 10.\r\n\r\n        // reset the queue\r\n        System.out.println(&quot;\\nTest 12.&quot;);\r\n        q = new A2KeyesOwenQueue();\r\n        int i;\r\n        // insert 10 elements 1 through 10\r\n        for (i = 1; i &lt;= 10; i++) {\r\n\r\n            System.out.print(&quot;Trying to enqueue :&quot; + i);\r\n            if (q.enqueue(i)) {\r\n                System.out.print(&quot;... success&quot;);\r\n            }\r\n            else {\r\n                System.out.print(&quot;... failed&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        boolean t12 = true;\r\n        for (i = 1; i &lt; 10; i++) {\r\n            if (i == q.dequeue()) {\r\n                System.out.println(&quot;Dequeued expected element&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;The element expected was not what was recieved&quot;);\r\n                t12 = false;\r\n            }\r\n        }\r\n        if (t12) {\r\n            System.out.println(&quot;\\nTest 12 successfull: +2&quot;);\r\n            myMark = myMark + 2;\r\n        }\r\n        else {\r\n            System.out.println(&quot;\\nTest 12 failed********************&quot;);\r\n        }\r\n\r\n        // TEST 13\r\n        // (1 mark) print all elements in queue when front &lt; rear\r\n        // reset the queue\r\n        q = new A2KeyesOwenQueue();\r\n        // insert 7 elements 50 51 52 53 54 55\r\n        for (i = 50; i &lt; 56; i += 1) {\r\n\r\n            System.out.print(&quot;Trying to enqueue :&quot; + i);\r\n            if (q.enqueue(i)) {\r\n                System.out.println(&quot;... success&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;... failed&quot;);\r\n            }\r\n\r\n        }\r\n        int stringOutput = 0;\r\n        System.out.println(&quot;\\nTEST 13&quot;); // (1 mark)\r\n        String myQ, yourQ;\r\n        System.out.println(&quot;The elements in queue according to Mr. Corea:&quot;);\r\n        myQ = &quot;[50, 51, 52, 53, 54, 55]&quot;;\r\n        yourQ = q.displayQueue(); //toString();\r\n        System.out.println(myQ);\r\n        System.out.println(&quot;The elements in queue according to You:&quot;);\r\n        System.out.println(yourQ);\r\n        System.out.println(&quot;MATCH: &quot; + myQ.equals(yourQ));\r\n        if (myQ.equals(yourQ)) {\r\n            System.out.println(&quot;\\nTest 13 successfull: +1&quot;);\r\n            stringOutput += 1;\r\n        }\r\n        else {\r\n            System.out.println(&quot;Test 13 failed********************&quot;);\r\n        }\r\n        // TEST 14 print all elements in queue when rear &lt; front\r\n        // reset the queue\r\n        q = new A2KeyesOwenQueue();\r\n        // insert 10 elements 50 51 52 53 54 55 56 57 58 59\r\n        for (i = 50; i &lt; 60; i += 1) {\r\n\r\n            System.out.print(&quot;Trying to enqueue :&quot; + i);\r\n            if (q.enqueue(i)) {\r\n                System.out.print(&quot;... success&quot;);\r\n            }\r\n            else {\r\n                System.out.print(&quot;... failed&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n        // dequeue 5 elements\r\n        q.dequeue();\r\n        q.dequeue();\r\n        q.dequeue();\r\n        q.dequeue();\r\n        q.dequeue();\r\n\r\n        // enqueueing 3 more\r\n        q.enqueue(60);\r\n        q.enqueue(61);\r\n        q.enqueue(62);\r\n        System.out.println(&quot;\\nTEST 14&quot;); // (2 mark)\r\n        System.out.println(&quot;The elements in queue according to Mr. Corea:&quot;);\r\n        myQ = &quot;[55, 56, 57, 58, 59, 60, 61, 62]&quot;;\r\n        yourQ = q.displayQueue(); //toString();\r\n        System.out.println(myQ);\r\n        System.out.println(&quot;The elements in queue according to You:&quot;);\r\n        System.out.println(yourQ);\r\n        System.out.println(&quot;MATCH: &quot; + myQ.equals(yourQ));\r\n        if (myQ.equals(yourQ)) {\r\n            System.out.println(&quot;\\nTest 14 successfull: +2&quot;);\r\n            stringOutput += 2;\r\n        }\r\n        else {\r\n            System.out.println(&quot;Test 14 failed********************&quot;);\r\n        }\r\n\r\n        // dequeue 2 elements\r\n        System.out.println(q.dequeue());\r\n        System.out.println(q.dequeue());\r\n        System.out.println(q.dequeue());\r\n        System.out.println(q.dequeue());\r\n        System.out.println(q.dequeue());\r\n        System.out.println(q.dequeue());\r\n        System.out.println(q.dequeue());\r\n        System.out.println(q.dequeue());\r\n        System.out.println(q.dequeue());\r\n        System.out.println(q.dequeue());\r\n        System.out.println(&quot;\\nTEST 15&quot;); // (2 mark) print an empty queue\r\n        System.out.println(&quot;The elements in queue according to Mr. Corea:&quot;);\r\n        myQ = &quot;[]&quot;;\r\n        yourQ = q.displayQueue(); //toString();\r\n        System.out.println(myQ);\r\n        System.out.println(&quot;The elements in queue according to You:&quot;);\r\n        System.out.println(yourQ);\r\n        System.out.println(&quot;MATCH: &quot; + myQ.equals(yourQ));\r\n        if (myQ.equals(yourQ)) {\r\n            System.out.println(&quot;\\nTest 15 successfull: +2&quot;);\r\n            stringOutput += 2;\r\n        }\r\n        else {\r\n            System.out.println(&quot;Test 15 failed********************&quot;);\r\n        }\r\n        System.out.println(&quot;TEST RESULTS: &quot; + myMark + &quot; /17 plus &quot; + stringOutput\r\n                + &quot;/5 for correct toString()&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\nHelp would be appreciated ","title":"I need help Returning a string representation of my circular queue","body":"<p>I am trying to returns a string representation of my circular queue heres what I have so far. (Im not allowed to use/import other libraries in my code)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A2KeyesOwenQueue {\n    private int front;\n    private int rear;\n    private int numItems;\n    private int[] myArray;\n\n    public A2KeyesOwenQueue() {\n        // the default size of the queue is 10\n        myArray = new int[10];\n        numItems = 0;\n        front = 0;\n        rear = 0;\n    }\n\n    // Adds one element to the rear of the queue. Returns true if successful, false\n    // otherwise\n    public boolean enqueue(int elements) {\n        if (numItems &lt; 10) {\n            myArray[rear] = elements;\n            rear = (rear + 1) % myArray.length;\n            numItems++;\n            return true;\n        }\n        else\n            return false;\n    }\n\n    // Removes and returns the element at the front of the queue\n    public int dequeue() {\n        int temp;\n        if (numItems == 0) {\n            return -9999;\n        }\n        else\n            temp = myArray[front];\n        front = (front + 1) % myArray.length;\n        numItems--;\n        return temp;\n    }\n\n    // Returns without removing the element at the front of the queue\n    public int peek() {\n        if (numItems == 0) {\n            return -9999;\n        }\n        else\n            return myArray[front];\n\n    }\n\n    // Returns true if the queue contains no elements\n    public boolean isEmpty() {\n        if (numItems == 0) {\n            return true;\n        }\n        else\n            return false;\n    }\n\n    // Returns the number of elements in the queue\n    public int size() {\n        return numItems;\n    }\n\n    // Returns a string representation of the queue\n    public String toString() {\n        String arr;\n        arr = &quot;[&quot;;\n        if (numItems &gt; 0) {\n            for (int i = 0; i &lt; 10 &amp;&amp; i &lt; numItems; i++) {\n                arr = arr + myArray[i] + &quot;, &quot;;\n            }\n            arr = arr + myArray[0] + &quot;]&quot;;\n        }\n        else {\n            arr = arr + &quot;]&quot;;\n        }\n        return arr;\n    }\n}\n</code></pre>\n<p>My <code>public String toString( )</code> doesn't return the right numbers on my test driver. I think it has something to do with it not circling the array.</p>\n<pre><code>public String toString( ){\nString arr;\narr = &quot;[&quot;;\nif (numItems &gt; 0){\n  for (int i = 0; i &lt; 10 &amp;&amp; i &lt; numItems ;i++) {\n   \n    arr = arr + myArray[i]+&quot;, &quot;;\n  }\n\n  arr = arr + myArray[0] + &quot;]&quot;;\n}\nelse{\n  arr = arr + &quot;]&quot;;\n }return arr;\n}\n</code></pre>\n<p>And my driver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * This class performs test cases for queue\n * \n * */\nclass DriverTest2{\n\n    public static void main(String[] args) { \n        int myMark = 0;\n        // TEST 1 \n        // (1 mark) A queue is empty on construction\n        A2KeyesOwenQueue  q = new A2KeyesOwenQueue();\n        if (q.isEmpty()) {\n            System.out.println(&quot;\\nTest 1 successfull: +1&quot;);\n            myMark=myMark + 1;\n        }\n        else {\n            System.out.println(&quot;\\nTest 1 failed********************&quot;);\n        }\n        // TEST 2\n        // (1 mark) A queue has size 0 on construction\n        if (q.size()==0) {\n            System.out.println(&quot;\\nTest 2 successfull: +1&quot;);\n            myMark=myMark + 1;\n        }\n        else {\n            System.out.println(&quot;\\nTest 2 failed********************&quot;);\n        }\n        // TEST 3\n        // (3 mark)After n enqueues to an empty queue, n &gt; 0,\n        // the queue is not empty and its size is n\n        q = new A2KeyesOwenQueue (); // reset queue\n        for (int i = 100; i &lt; 150; i+=10) {\n            System.out.print (&quot;enqueuing &quot; + i);\n            if (q.enqueue(i)) {\n                System.out.print(&quot;... success&quot;);\n            }\n            else {\n                System.out.print(&quot;... failed&quot;);\n            }\n            System.out.println ();\n        }\n        if (!q.isEmpty() &amp;&amp; q.size()==5) {\n            System.out.println(&quot;\\nTest 3 successfull: +3&quot;);\n            myMark=myMark + 3;\n        }\n        else {\n            System.out.println(&quot;\\nTest 3 failed********************&quot;);\n        }\n        // TEST 4\n        // (2 mark) If one enqueues x then peeks, the value returned is x, but the size stays the same\n        q = new A2KeyesOwenQueue (); // reset queue\n        // insert 5 elements 1000 900 800 700 600\n        for (int i = 1000; i &gt; 500; i-=100) {\n            System.out.print (&quot;Trying to enqueue :&quot; + i);\n            if (q.enqueue(i)) {\n                System.out.print(&quot;... success&quot;);\n            }\n            else {\n                System.out.print(&quot;... failed&quot;);\n            }\n            System.out.println();\n        }\n        q.enqueue(100);\n        int myPeek = q.peek();\n        if (q.size()==6) {\n            System.out.println(&quot;\\nTest 4 part 1 successfull: +1&quot;);\n            myMark=myMark + 1;\n        }\n        else {\n            System.out.println(&quot;\\nTest 4 part 1 failed********************&quot;);\n        }\n        if (myPeek == 1000) {\n            System.out.println(&quot;\\nTest 4 part 2 successfull: +1&quot;);\n            myMark = myMark + 1;\n        }\n        else {\n            System.out.println(&quot;\\nTest 4 part 2 failed********************&quot;);\n        }\n\n        // TEST 5\n        // If one enqueues x then dequeues, the value dequeued\n        // is x.\n        q = new A2KeyesOwenQueue(); // reset queue\n        q.enqueue(3);\n        int temp = q.dequeue();\n        if (temp == 3) {\n            System.out.println(&quot;\\nTest 5 successfull: +1&quot;);\n            myMark = myMark + 1;\n        }\n        else {\n            System.out.println(&quot;\\nTest 5 failed********************&quot;);\n        }\n        // TEST 6\n        // (2 mark) If the size is n, then after\n        // n dequeues, the stack is empty and has a size 0\n        // reset the queue\n        q = new A2KeyesOwenQueue();\n        // insert 5 elements 1000 900 800 700 600\n        for (int i = 1000; i &gt; 500; i -= 100) {\n\n            System.out.print(&quot;Trying to enqueue :&quot; + i);\n            if (q.enqueue(i)) {\n                System.out.print(&quot;... success&quot;);\n            }\n            else {\n                System.out.print(&quot;... failed&quot;);\n            }\n            System.out.println();\n        }\n        for (int i = 0; i &lt; 5; i++) {\n            q.dequeue();\n        }\n        if (q.size() == 0) {\n            System.out.println(&quot;\\nTest 6 successfull: +2&quot;);\n            myMark = myMark + 2;\n        }\n        else {\n            System.out.println(&quot;\\nTest 6 failed********************&quot;);\n        }\n        // TEST 7\n        // (1 mark) call peek() with one item\n        // reset the queue\n        q = new A2KeyesOwenQueue();\n        q.enqueue(50);\n        int temp7 = q.peek();\n        if (temp7 == 50) {\n            System.out.println(&quot;\\nTest 7 successfull: +1&quot;);\n            myMark = myMark + 1;\n        }\n        else {\n            System.out.println(&quot;\\nTest 7 failed********************&quot;);\n        }\n\n        // TEST 8\n        // (1 mark) call peek() from an empty queue\n        // returns -9999 representing no such element\n        q = new A2KeyesOwenQueue();\n        int temp8 = q.peek();\n        if (temp8 == -9999) {\n            System.out.println(&quot;\\nTest 8 successfull: +1&quot;);\n            myMark = myMark + 1;\n        }\n        else {\n            System.out.println(&quot;\\nTest 8 failed********************&quot;);\n        }\n        // TEST 9\n        // (1 mark) call dequeue() from an empty queue\n        // returns -9999 representing no such element\n        q = new A2KeyesOwenQueue();\n        int temp9 = q.dequeue();\n        if (temp9 == -9999) {\n            System.out.println(&quot;\\nTest 9 successfull: +1&quot;);\n            myMark = myMark + 1;\n        }\n        else {\n            System.out.println(&quot;\\nTest 9 failed********************&quot;);\n        }\n        // TEST 10\n        // (1 mark) call dequeue() on an queue with one item.\n        q = new A2KeyesOwenQueue();\n        q.enqueue(50);\n        int temp10 = q.dequeue();\n        if (temp10 == 50) {\n            System.out.println(&quot;\\nTest 10 successfull: +1&quot;);\n            myMark = myMark + 1;\n        }\n        else {\n            System.out.println(&quot;\\nTest 10 failed********************&quot;);\n        }\n        q = new A2KeyesOwenQueue(); // reset queue\n        // TEST 11 enqueue elements until full plus one more element\n        boolean t11 = false;\n        for (int i = 100; i &lt; 200; i += 10) {\n\n            System.out.print(&quot;\\nTrying to enqueue :&quot; + i);\n            if (q.enqueue(i)) {\n                System.out.print(&quot;... success&quot;);\n            }\n        }\n        if (!q.enqueue(210)) {\n            System.out.println(&quot;... failed&quot;);\n            System.out.println(&quot;\\nTest 11 successfull: +1&quot;);\n            t11 = true;\n            myMark = myMark + 1;\n        }\n        if (!t11) {\n            System.out.println(&quot;\\nTest 11 failed********************.&quot;);\n        }\n        // TEST 12\n        // (2 mark) If one enqueues the values 1 through 10, in order,\n        // into an empty queue, then if 10 dequeues are done the values\n        // dequeues are 1 through 10.\n\n        // reset the queue\n        System.out.println(&quot;\\nTest 12.&quot;);\n        q = new A2KeyesOwenQueue();\n        int i;\n        // insert 10 elements 1 through 10\n        for (i = 1; i &lt;= 10; i++) {\n\n            System.out.print(&quot;Trying to enqueue :&quot; + i);\n            if (q.enqueue(i)) {\n                System.out.print(&quot;... success&quot;);\n            }\n            else {\n                System.out.print(&quot;... failed&quot;);\n            }\n            System.out.println();\n        }\n        boolean t12 = true;\n        for (i = 1; i &lt; 10; i++) {\n            if (i == q.dequeue()) {\n                System.out.println(&quot;Dequeued expected element&quot;);\n            }\n            else {\n                System.out.println(&quot;The element expected was not what was recieved&quot;);\n                t12 = false;\n            }\n        }\n        if (t12) {\n            System.out.println(&quot;\\nTest 12 successfull: +2&quot;);\n            myMark = myMark + 2;\n        }\n        else {\n            System.out.println(&quot;\\nTest 12 failed********************&quot;);\n        }\n\n        // TEST 13\n        // (1 mark) print all elements in queue when front &lt; rear\n        // reset the queue\n        q = new A2KeyesOwenQueue();\n        // insert 7 elements 50 51 52 53 54 55\n        for (i = 50; i &lt; 56; i += 1) {\n\n            System.out.print(&quot;Trying to enqueue :&quot; + i);\n            if (q.enqueue(i)) {\n                System.out.println(&quot;... success&quot;);\n            }\n            else {\n                System.out.println(&quot;... failed&quot;);\n            }\n\n        }\n        int stringOutput = 0;\n        System.out.println(&quot;\\nTEST 13&quot;); // (1 mark)\n        String myQ, yourQ;\n        System.out.println(&quot;The elements in queue according to Mr. Corea:&quot;);\n        myQ = &quot;[50, 51, 52, 53, 54, 55]&quot;;\n        yourQ = q.displayQueue(); //toString();\n        System.out.println(myQ);\n        System.out.println(&quot;The elements in queue according to You:&quot;);\n        System.out.println(yourQ);\n        System.out.println(&quot;MATCH: &quot; + myQ.equals(yourQ));\n        if (myQ.equals(yourQ)) {\n            System.out.println(&quot;\\nTest 13 successfull: +1&quot;);\n            stringOutput += 1;\n        }\n        else {\n            System.out.println(&quot;Test 13 failed********************&quot;);\n        }\n        // TEST 14 print all elements in queue when rear &lt; front\n        // reset the queue\n        q = new A2KeyesOwenQueue();\n        // insert 10 elements 50 51 52 53 54 55 56 57 58 59\n        for (i = 50; i &lt; 60; i += 1) {\n\n            System.out.print(&quot;Trying to enqueue :&quot; + i);\n            if (q.enqueue(i)) {\n                System.out.print(&quot;... success&quot;);\n            }\n            else {\n                System.out.print(&quot;... failed&quot;);\n            }\n            System.out.println();\n        }\n\n        // dequeue 5 elements\n        q.dequeue();\n        q.dequeue();\n        q.dequeue();\n        q.dequeue();\n        q.dequeue();\n\n        // enqueueing 3 more\n        q.enqueue(60);\n        q.enqueue(61);\n        q.enqueue(62);\n        System.out.println(&quot;\\nTEST 14&quot;); // (2 mark)\n        System.out.println(&quot;The elements in queue according to Mr. Corea:&quot;);\n        myQ = &quot;[55, 56, 57, 58, 59, 60, 61, 62]&quot;;\n        yourQ = q.displayQueue(); //toString();\n        System.out.println(myQ);\n        System.out.println(&quot;The elements in queue according to You:&quot;);\n        System.out.println(yourQ);\n        System.out.println(&quot;MATCH: &quot; + myQ.equals(yourQ));\n        if (myQ.equals(yourQ)) {\n            System.out.println(&quot;\\nTest 14 successfull: +2&quot;);\n            stringOutput += 2;\n        }\n        else {\n            System.out.println(&quot;Test 14 failed********************&quot;);\n        }\n\n        // dequeue 2 elements\n        System.out.println(q.dequeue());\n        System.out.println(q.dequeue());\n        System.out.println(q.dequeue());\n        System.out.println(q.dequeue());\n        System.out.println(q.dequeue());\n        System.out.println(q.dequeue());\n        System.out.println(q.dequeue());\n        System.out.println(q.dequeue());\n        System.out.println(q.dequeue());\n        System.out.println(q.dequeue());\n        System.out.println(&quot;\\nTEST 15&quot;); // (2 mark) print an empty queue\n        System.out.println(&quot;The elements in queue according to Mr. Corea:&quot;);\n        myQ = &quot;[]&quot;;\n        yourQ = q.displayQueue(); //toString();\n        System.out.println(myQ);\n        System.out.println(&quot;The elements in queue according to You:&quot;);\n        System.out.println(yourQ);\n        System.out.println(&quot;MATCH: &quot; + myQ.equals(yourQ));\n        if (myQ.equals(yourQ)) {\n            System.out.println(&quot;\\nTest 15 successfull: +2&quot;);\n            stringOutput += 2;\n        }\n        else {\n            System.out.println(&quot;Test 15 failed********************&quot;);\n        }\n        System.out.println(&quot;TEST RESULTS: &quot; + myMark + &quot; /17 plus &quot; + stringOutput\n                + &quot;/5 for correct toString()&quot;);\n\n    }\n}\n</code></pre>\n<p>Help would be appreciated</p>\n"},{"tags":["java","caching","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646765731,"creation_date":1646765731,"answer_id":71400144,"question_id":71376837,"body_markdown":"Arguably, the simplest and most obvious solution, especially for maintainers, would be to override the `getById(:String)` method in the subclass, like so:\r\n\r\n```java\r\npublic class UserService extends AbstractCachedResult&lt;User&gt; {\r\n\r\n    @Cacheable(&quot;UserCache&quot;)\r\n    public User getById(String id) {\r\n        super.id(id);\r\n    }\r\n\r\n    // additional logic\r\n}\r\n```\r\n\r\nAlternatively, you might be able to implement a &quot;custom&quot; `CacheResolver` (see [doc][1] and [Javadoc][2]) that is able to inspect the class generic signature of the (target) subclass.\r\n\r\nFinally, under-the-hood, *Spring&#39;s Cache Abstraction* is implemented with *Spring* AOP. For real, low-level control, it should be possible to write custom AOP Interceptor not unlike *Spring&#39;s* default `CacheInterceptor` ([Javadoc][3]). Your own AOP Advice could even be ordered relative to the Cacheable Advice, if needed.\r\n\r\nHonestly, I think the first option I presented above is the best approach. Not every service class may need to cache the result of the `getById(:String)` operation. Caching really depends on the transactional nature of the data and how frequently the data changes.\r\n\r\nUse your best judgement.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-cache-resolver\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheResolver.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheInterceptor.html","title":"Spring cache applying caching on a generic method by dynamically getting the cachname based on the return type","body":"<p>Arguably, the simplest and most obvious solution, especially for maintainers, would be to override the <code>getById(:String)</code> method in the subclass, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserService extends AbstractCachedResult&lt;User&gt; {\n\n    @Cacheable(&quot;UserCache&quot;)\n    public User getById(String id) {\n        super.id(id);\n    }\n\n    // additional logic\n}\n</code></pre>\n<p>Alternatively, you might be able to implement a &quot;custom&quot; <code>CacheResolver</code> (see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-cache-resolver\" rel=\"nofollow noreferrer\">doc</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheResolver.html\" rel=\"nofollow noreferrer\">Javadoc</a>) that is able to inspect the class generic signature of the (target) subclass.</p>\n<p>Finally, under-the-hood, <em>Spring's Cache Abstraction</em> is implemented with <em>Spring</em> AOP. For real, low-level control, it should be possible to write custom AOP Interceptor not unlike <em>Spring's</em> default <code>CacheInterceptor</code> (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/interceptor/CacheInterceptor.html\" rel=\"nofollow noreferrer\">Javadoc</a>). Your own AOP Advice could even be ordered relative to the Cacheable Advice, if needed.</p>\n<p>Honestly, I think the first option I presented above is the best approach. Not every service class may need to cache the result of the <code>getById(:String)</code> operation. Caching really depends on the transactional nature of the data and how frequently the data changes.</p>\n<p>Use your best judgement.</p>\n"}],"owner":{"account_id":8678409,"reputation":455,"user_id":8231333,"display_name":"arunken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646765731,"creation_date":1646631662,"question_id":71376837,"body_markdown":"The method `getById` is located in an Abstract class named `AbstractCachedResult`.\r\n\r\n    public abstract class AbstractCachedResult&lt;T extends BaseResource&gt; {\r\n\r\n        @Cacheable(value = &quot;dynamicName&quot;)\r\n        public T getById(String id){\r\n          //program logic\r\n        }\r\n    }\r\n\r\nMany other service classes will be inheriting from this class. For ex :\r\n\r\n    public class UserService extends AbstractCachedResult&lt;User&gt; {\r\n        \r\n        //program logic\r\n    }\r\n\r\nSince I am setting the `@Cacheable(value = &quot;dynamicName&quot;)` in the abstract class I wouldn&#39;t be able to know the type of the class that was returned by the method. I need to be able to get the name of the class dynamically so that for each method invocation from its inherited class the correct cache is used.\r\n\r\nI have came across another [post][1]. Here they are passing the entity class name as a parameter which I cannot do. I need to get the type of the returned data dynamically so that I could us the @Caching annotation which is the #2 soluton. Is there a way to do this?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17377270/spring-mvc-cacheable-annotation-on-generic-method\r\n","title":"Spring cache applying caching on a generic method by dynamically getting the cachname based on the return type","body":"<p>The method <code>getById</code> is located in an Abstract class named <code>AbstractCachedResult</code>.</p>\n<pre><code>public abstract class AbstractCachedResult&lt;T extends BaseResource&gt; {\n\n    @Cacheable(value = &quot;dynamicName&quot;)\n    public T getById(String id){\n      //program logic\n    }\n}\n</code></pre>\n<p>Many other service classes will be inheriting from this class. For ex :</p>\n<pre><code>public class UserService extends AbstractCachedResult&lt;User&gt; {\n    \n    //program logic\n}\n</code></pre>\n<p>Since I am setting the <code>@Cacheable(value = &quot;dynamicName&quot;)</code> in the abstract class I wouldn't be able to know the type of the class that was returned by the method. I need to be able to get the name of the class dynamically so that for each method invocation from its inherited class the correct cache is used.</p>\n<p>I have came across another <a href=\"https://stackoverflow.com/questions/17377270/spring-mvc-cacheable-annotation-on-generic-method\">post</a>. Here they are passing the entity class name as a parameter which I cannot do. I need to get the type of the returned data dynamically so that I could us the @Caching annotation which is the #2 soluton. Is there a way to do this?</p>\n"},{"tags":["java","android","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":426679,"reputation":6089,"user_id":808019,"accept_rate":73,"display_name":"peshkira"},"score":0,"creation_date":1646757791,"post_id":71398444,"comment_id":126200720,"body_markdown":"From a brief look, your RecyclerView has a wrap_content height and is not constraint to the bottom. Maybe this is your issue. You should try to constrain the RecyclerView so that it takes some vertical space.","body":"From a brief look, your RecyclerView has a wrap_content height and is not constraint to the bottom. Maybe this is your issue. You should try to constrain the RecyclerView so that it takes some vertical space."},{"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"score":0,"creation_date":1646758109,"post_id":71398444,"comment_id":126200861,"body_markdown":"@peshkira I tried it out, but is not working :(","body":"@peshkira I tried it out, but is not working :("}],"answers":[{"tags":[],"owner":{"account_id":6839079,"reputation":2140,"user_id":5260051,"display_name":"nitinkumarp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646765321,"creation_date":1646765321,"answer_id":71400097,"question_id":71398444,"body_markdown":"You have forgot to add LayoutManager to Recyclerview. If you are listing it vertically you can add layout manager as the following:\r\n\r\nIn View:\r\n\r\n    app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n\r\nIn Code:\r\n\r\n    commentsRecyclerView.setLayoutManager(new LinearLayoutManager(context, RecyclerView.VERTICAL, false));","title":"Recycler view inside full screen alert dialog does not showing items","body":"<p>You have forgot to add LayoutManager to Recyclerview. If you are listing it vertically you can add layout manager as the following:</p>\n<p>In View:</p>\n<pre><code>app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\nandroid:orientation=&quot;vertical&quot;\n</code></pre>\n<p>In Code:</p>\n<pre><code>commentsRecyclerView.setLayoutManager(new LinearLayoutManager(context, RecyclerView.VERTICAL, false));\n</code></pre>\n"}],"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71400097,"answer_count":1,"score":0,"last_activity_date":1646765321,"creation_date":1646757363,"question_id":71398444,"body_markdown":"I have a recycler view inside my full screen alert dialog, but for some reason it doesn&#39;t display any of the items inside the ArrayList passed to the adapter. \r\n\r\nI tried: \r\n\r\n- Initializing the adapter after adding the items inside the ArrayList\r\n- Use **notifyItemInserted** instead of using **notifyDataSetChanged**\r\n- Checking if there is a problem with the item layout\r\n\r\n**My method that creates the full screen dialog:** \r\n\r\n    private void showCommentsDialog() {\r\n    \r\n            AlertDialog dialog = new AlertDialog.Builder(context, R.style.Theme_SocialMeme).create();\r\n            LayoutInflater layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            View dialogView = layoutInflater.inflate(R.layout.comments_dialog_fragment, null);\r\n    \r\n            ImageButton dismissDialogButton = dialogView.findViewById(R.id.imageButton17);\r\n            EditText comment = dialogView.findViewById(R.id.writeCommentET);\r\n            ImageButton addCommentBtn = dialogView.findViewById(R.id.imageButton18);\r\n            RecyclerView commentsRecyclerView = dialogView.findViewById(R.id.comments_recycler_view);\r\n    \r\n            ArrayList&lt;CommentModel&gt; commentModelArrayList = new ArrayList&lt;&gt;();\r\n            CommentsRecyclerAdapter adapter = new CommentsRecyclerAdapter(commentModelArrayList, context, dialog.getOwnerActivity());\r\n            commentsRecyclerView.setAdapter(adapter);\r\n    \r\n            DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n            rootRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    if (snapshot.child(&quot;posts&quot;).child(postID).hasChild(&quot;comments&quot;)) {\r\n                        for (DataSnapshot commentsSnapshot : snapshot.child(&quot;posts&quot;).child(postID).child(&quot;comments&quot;).getChildren()) {\r\n                            CommentModel commentModel = new CommentModel();\r\n                            commentModel.setAuthor(commentsSnapshot.child(&quot;author&quot;).getValue(String.class));\r\n                            commentModel.setCommentID(commentsSnapshot.child(&quot;commentID&quot;).getValue(String.class));\r\n                            commentModel.setAuthorUsername(commentsSnapshot.child(&quot;authorUsername&quot;).getValue(String.class));\r\n                            commentModel.setPostID(commentsSnapshot.child(&quot;postID&quot;).getValue(String.class));\r\n                            commentModel.setAuthorProfilePictureURL(commentsSnapshot.child(&quot;authorProfilePictureURL&quot;).getValue(String.class));\r\n                            commentModel.setCommentText(commentsSnapshot.child(&quot;commentText&quot;).getValue(String.class));\r\n                            commentModelArrayList.add(commentModel);\r\n                            adapter.notifyItemInserted(commentModelArrayList.size() -1);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    Toast.makeText(context, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            dismissDialogButton.setOnClickListener(view -&gt; dialog.dismiss());\r\n            \r\n            dialog.setView(dialogView);\r\n            dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;\r\n            dialog.show();\r\n    \r\n        }\r\n\r\n**My Adapter:**\r\n\r\n\r\n    public class CommentsRecyclerAdapter extends RecyclerView.Adapter {\r\n    \r\n        List&lt;CommentModel&gt; commentsList;\r\n        Context context;\r\n        Activity activity;\r\n    \r\n        public CommentsRecyclerAdapter(List&lt;CommentModel&gt; commentsList, Context context, Activity activity) {\r\n            this.commentsList = commentsList;\r\n            this.context = context;\r\n            this.activity = activity;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.comment_item, parent, false);\r\n            return new CommentViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n            CommentViewHolder viewHolder = (CommentViewHolder) holder;\r\n    \r\n            // Load profile picture\r\n            String profilePictureUrl = commentsList.get(position).getAuthorProfilePictureURL();\r\n            if (profilePictureUrl != null) {\r\n                if (!profilePictureUrl.equals(&quot;none&quot;)) {\r\n                    Glide.with(context).load(profilePictureUrl).into(viewHolder.profilePicture);\r\n                }\r\n            }\r\n    \r\n            viewHolder.usernameTV.setText(commentsList.get(position).getAuthorUsername());\r\n            viewHolder.commentContent.setText(commentsList.get(position).getCommentText());\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return commentsList.size();\r\n        }\r\n    }\r\n\r\n**My Dialog view:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;?attr/background&quot;\r\n        tools:context=&quot;.Activities.NotificationsActivity&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraintLayout4&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar4&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;70dp&quot;\r\n                android:background=&quot;@color/white&quot;\r\n                android:minHeight=&quot;?attr/actionBarSize&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView24&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;sans-serif-black&quot;\r\n                android:text=&quot;Comments&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;40sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@+id/toolbar4&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.081&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/toolbar4&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.411&quot; /&gt;\r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/comments_recycler_view&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;12dp&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/view19&quot;\r\n                tools:itemCount=&quot;10&quot;\r\n                tools:listitem=&quot;@layout/comment_item&quot; /&gt;\r\n    \r\n            &lt;androidx.cardview.widget.CardView\r\n                android:id=&quot;@+id/view19&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;70dp&quot;\r\n                android:layout_marginBottom=&quot;12dp&quot;\r\n                android:layout_marginStart=&quot;12dp&quot;\r\n                android:layout_marginEnd=&quot;12dp&quot;\r\n                app:cardCornerRadius=&quot;12dp&quot;\r\n                app:cardElevation=&quot;8dp&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/comments_recycler_view&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar4&quot;&gt;\r\n    \r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                    &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                        android:id=&quot;@+id/comments_profile_image&quot;\r\n                        android:layout_width=&quot;40dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:src=&quot;@drawable/user&quot;\r\n                        app:civ_border_color=&quot;#FF000000&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintHorizontal_bias=&quot;0.045&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                    &lt;EditText\r\n                        android:id=&quot;@+id/writeCommentET&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginStart=&quot;8dp&quot;\r\n                        android:ems=&quot;10&quot;\r\n                        android:hint=&quot;Write a comment&quot;\r\n                        android:inputType=&quot;textPersonName&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;@+id/comments_profile_image&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                        app:layout_constraintStart_toEndOf=&quot;@+id/comments_profile_image&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;@+id/comments_profile_image&quot; /&gt;\r\n    \r\n                    &lt;ImageButton\r\n                        android:id=&quot;@+id/imageButton18&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginEnd=&quot;16dp&quot;\r\n                        android:background=&quot;@color/white&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;@+id/writeCommentET&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n                        app:layout_constraintStart_toEndOf=&quot;@+id/writeCommentET&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;@+id/writeCommentET&quot;\r\n                        app:srcCompat=&quot;@drawable/ic_arrow_forward&quot; /&gt;\r\n    \r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/imageButton17&quot;\r\n                android:layout_width=&quot;60dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:background=&quot;@color/white&quot;\r\n                android:foreground=&quot;?selectableItemBackgroundBorderless&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@+id/toolbar4&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@+id/toolbar4&quot;\r\n                app:srcCompat=&quot;@drawable/ic_close_black&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**My item view layout:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        app:cardElevation=&quot;8dp&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:layout_marginEnd=&quot;12dp&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        app:cardCornerRadius=&quot;12dp&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#6FFFFFFF&quot;\r\n            android:padding=&quot;15dp&quot;&gt;\r\n    \r\n            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                android:id=&quot;@+id/circleImageView3&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:src=&quot;@drawable/user&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView65&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:text=&quot;Username&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textColor=&quot;?attr/textFillColor&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@+id/circleImageView3&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/circleImageView3&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@+id/circleImageView3&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView69&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:text=&quot;Comment text&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textColor=&quot;?attr/titleTextColor&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/circleImageView3&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/circleImageView3&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/androidx.cardview.widget.CardView&gt;","title":"Recycler view inside full screen alert dialog does not showing items","body":"<p>I have a recycler view inside my full screen alert dialog, but for some reason it doesn't display any of the items inside the ArrayList passed to the adapter.</p>\n<p>I tried:</p>\n<ul>\n<li>Initializing the adapter after adding the items inside the ArrayList</li>\n<li>Use <strong>notifyItemInserted</strong> instead of using <strong>notifyDataSetChanged</strong></li>\n<li>Checking if there is a problem with the item layout</li>\n</ul>\n<p><strong>My method that creates the full screen dialog:</strong></p>\n<pre><code>private void showCommentsDialog() {\n\n        AlertDialog dialog = new AlertDialog.Builder(context, R.style.Theme_SocialMeme).create();\n        LayoutInflater layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        View dialogView = layoutInflater.inflate(R.layout.comments_dialog_fragment, null);\n\n        ImageButton dismissDialogButton = dialogView.findViewById(R.id.imageButton17);\n        EditText comment = dialogView.findViewById(R.id.writeCommentET);\n        ImageButton addCommentBtn = dialogView.findViewById(R.id.imageButton18);\n        RecyclerView commentsRecyclerView = dialogView.findViewById(R.id.comments_recycler_view);\n\n        ArrayList&lt;CommentModel&gt; commentModelArrayList = new ArrayList&lt;&gt;();\n        CommentsRecyclerAdapter adapter = new CommentsRecyclerAdapter(commentModelArrayList, context, dialog.getOwnerActivity());\n        commentsRecyclerView.setAdapter(adapter);\n\n        DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\n        rootRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.child(&quot;posts&quot;).child(postID).hasChild(&quot;comments&quot;)) {\n                    for (DataSnapshot commentsSnapshot : snapshot.child(&quot;posts&quot;).child(postID).child(&quot;comments&quot;).getChildren()) {\n                        CommentModel commentModel = new CommentModel();\n                        commentModel.setAuthor(commentsSnapshot.child(&quot;author&quot;).getValue(String.class));\n                        commentModel.setCommentID(commentsSnapshot.child(&quot;commentID&quot;).getValue(String.class));\n                        commentModel.setAuthorUsername(commentsSnapshot.child(&quot;authorUsername&quot;).getValue(String.class));\n                        commentModel.setPostID(commentsSnapshot.child(&quot;postID&quot;).getValue(String.class));\n                        commentModel.setAuthorProfilePictureURL(commentsSnapshot.child(&quot;authorProfilePictureURL&quot;).getValue(String.class));\n                        commentModel.setCommentText(commentsSnapshot.child(&quot;commentText&quot;).getValue(String.class));\n                        commentModelArrayList.add(commentModel);\n                        adapter.notifyItemInserted(commentModelArrayList.size() -1);\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(context, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        dismissDialogButton.setOnClickListener(view -&gt; dialog.dismiss());\n        \n        dialog.setView(dialogView);\n        dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;\n        dialog.show();\n\n    }\n</code></pre>\n<p><strong>My Adapter:</strong></p>\n<pre><code>public class CommentsRecyclerAdapter extends RecyclerView.Adapter {\n\n    List&lt;CommentModel&gt; commentsList;\n    Context context;\n    Activity activity;\n\n    public CommentsRecyclerAdapter(List&lt;CommentModel&gt; commentsList, Context context, Activity activity) {\n        this.commentsList = commentsList;\n        this.context = context;\n        this.activity = activity;\n    }\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.comment_item, parent, false);\n        return new CommentViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n        CommentViewHolder viewHolder = (CommentViewHolder) holder;\n\n        // Load profile picture\n        String profilePictureUrl = commentsList.get(position).getAuthorProfilePictureURL();\n        if (profilePictureUrl != null) {\n            if (!profilePictureUrl.equals(&quot;none&quot;)) {\n                Glide.with(context).load(profilePictureUrl).into(viewHolder.profilePicture);\n            }\n        }\n\n        viewHolder.usernameTV.setText(commentsList.get(position).getAuthorUsername());\n        viewHolder.commentContent.setText(commentsList.get(position).getCommentText());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return commentsList.size();\n    }\n}\n</code></pre>\n<p><strong>My Dialog view:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;?attr/background&quot;\n    tools:context=&quot;.Activities.NotificationsActivity&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraintLayout4&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar4&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;70dp&quot;\n            android:background=&quot;@color/white&quot;\n            android:minHeight=&quot;?attr/actionBarSize&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView24&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;sans-serif-black&quot;\n            android:text=&quot;Comments&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;40sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/toolbar4&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.081&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/toolbar4&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.411&quot; /&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/comments_recycler_view&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;12dp&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/view19&quot;\n            tools:itemCount=&quot;10&quot;\n            tools:listitem=&quot;@layout/comment_item&quot; /&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:id=&quot;@+id/view19&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;70dp&quot;\n            android:layout_marginBottom=&quot;12dp&quot;\n            android:layout_marginStart=&quot;12dp&quot;\n            android:layout_marginEnd=&quot;12dp&quot;\n            app:cardCornerRadius=&quot;12dp&quot;\n            app:cardElevation=&quot;8dp&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/comments_recycler_view&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar4&quot;&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;&gt;\n\n                &lt;de.hdodenhof.circleimageview.CircleImageView\n                    android:id=&quot;@+id/comments_profile_image&quot;\n                    android:layout_width=&quot;40dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:src=&quot;@drawable/user&quot;\n                    app:civ_border_color=&quot;#FF000000&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintHorizontal_bias=&quot;0.045&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/writeCommentET&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginStart=&quot;8dp&quot;\n                    android:ems=&quot;10&quot;\n                    android:hint=&quot;Write a comment&quot;\n                    android:inputType=&quot;textPersonName&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;@+id/comments_profile_image&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n                    app:layout_constraintStart_toEndOf=&quot;@+id/comments_profile_image&quot;\n                    app:layout_constraintTop_toTopOf=&quot;@+id/comments_profile_image&quot; /&gt;\n\n                &lt;ImageButton\n                    android:id=&quot;@+id/imageButton18&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginEnd=&quot;16dp&quot;\n                    android:background=&quot;@color/white&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;@+id/writeCommentET&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n                    app:layout_constraintStart_toEndOf=&quot;@+id/writeCommentET&quot;\n                    app:layout_constraintTop_toTopOf=&quot;@+id/writeCommentET&quot;\n                    app:srcCompat=&quot;@drawable/ic_arrow_forward&quot; /&gt;\n\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/imageButton17&quot;\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:background=&quot;@color/white&quot;\n            android:foreground=&quot;?selectableItemBackgroundBorderless&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/toolbar4&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/toolbar4&quot;\n            app:srcCompat=&quot;@drawable/ic_close_black&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>My item view layout:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    app:cardElevation=&quot;8dp&quot;\n    android:layout_marginStart=&quot;12dp&quot;\n    android:layout_marginEnd=&quot;12dp&quot;\n    android:layout_marginTop=&quot;15dp&quot;\n    app:cardCornerRadius=&quot;12dp&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#6FFFFFFF&quot;\n        android:padding=&quot;15dp&quot;&gt;\n\n        &lt;de.hdodenhof.circleimageview.CircleImageView\n            android:id=&quot;@+id/circleImageView3&quot;\n            android:layout_width=&quot;40dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:src=&quot;@drawable/user&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView65&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;16dp&quot;\n            android:text=&quot;Username&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textColor=&quot;?attr/textFillColor&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/circleImageView3&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/circleImageView3&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/circleImageView3&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView69&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:text=&quot;Comment text&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;?attr/titleTextColor&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/circleImageView3&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/circleImageView3&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","pdf","itext","pdfstamper"],"comments":[{"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"score":0,"creation_date":1420646186,"post_id":27823189,"comment_id":44052484,"body_markdown":"it seems u&#39;re overriding the attachement in every iteration","body":"it seems u&#39;re overriding the attachement in every iteration"},{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1420646765,"post_id":27823189,"comment_id":44052853,"body_markdown":"I tested that. Apparently, it&#39;s OK to do so. I can not reproduce the problem.","body":"I tested that. Apparently, it&#39;s OK to do so. I can not reproduce the problem."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1420647166,"post_id":27823189,"comment_id":44053141,"body_markdown":"Which iText version do you use?","body":"Which iText version do you use?"}],"answers":[{"tags":[],"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1420647372,"creation_date":1420646572,"answer_id":27823470,"question_id":27823189,"body_markdown":"You have adapted the existing example [AddEmbeddedFile][1] to add more than one attachment, and you claim that only one attachment is added.\r\n\r\nI can not reproduce this. I have also adapted the existing example by creating a new example: [AddEmbeddedFiles][2]\r\n\r\n    public static final String[] ATTACHMENTS = {\r\n        &quot;hello&quot;, &quot;world&quot;, &quot;what&quot;, &quot;is&quot;, &quot;up&quot;\r\n    };\r\n    public void manipulatePdf(String src, String dest) throws IOException, DocumentException {\r\n        PdfReader reader = new PdfReader(src);\r\n        PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\r\n        for (String s : ATTACHMENTS) {\r\n            PdfFileSpecification fs = PdfFileSpecification.fileEmbedded(\r\n                stamper.getWriter(), null, String.format(&quot;%s.txt&quot;, s),\r\n                String.format(&quot;Some test: %s&quot;, s).getBytes());\r\n            stamper.addFileAttachment(String.format(&quot;Content: %s&quot;, s), fs);\r\n        }\r\n        stamper.close();\r\n    }\r\n\r\nThe result contains all the expected attachments:\r\n\r\n![enter image description here][3]\r\n\r\nThe only difference that I see, is that you give every embedded file the same name, but even if I do that, I can still see all the attachments correctly.\r\n\r\nAnother difference, is that I use an array of `String` values, but that shouldn&#39;t really matter, assuming that `cmaOrder.getFileName()` indeed returns a file name (e.g. &quot;order1.doc&quot;, &quot;order2.xls&quot;,...) and that `cmaOrder.getFileData()` returns a `byte[]` with the actual bytes of that file. By not telling us what the `SOSCustomerOrderFile` class is about, you are forcing us to make that assumption.\r\n\r\nIf you have the file on disk, you could also do something like this:\r\n\r\n    PdfFileSpecification fs = PdfFileSpecification.fileEmbedded(\r\n        stamper.getWriter(), cmaOrder.getFilePath(), cmaOrder.getFileName(), null);\r\n\r\nThat is: if the `SOSCustomerOrderFile` class has a `getFilePath()` method that returns the path to the file. We don&#39;t know that, we don&#39;t have access (nor do we want access) to your complete code base. We can only create an [SSCCE][4] in order to try to reproduce the problem, and our SSCCE tells us that your allegation is wrong. You can prove that you&#39;re right by adapting our SSCCE in such a way that we can run it on our machines and reproduce the problem.\r\n\r\n\r\n  [1]: http://itextpdf.com/sandbox/annotations/AddEmbeddedFile\r\n  [2]: http://itextpdf.com/sandbox/annotations/AddEmbeddedFiles\r\n  [3]: http://i.stack.imgur.com/xjj7L.png\r\n  [4]: http://sscce.org","title":"Add multiple attachments in a pdf using itext pdf stamper","body":"<p>You have adapted the existing example <a href=\"http://itextpdf.com/sandbox/annotations/AddEmbeddedFile\" rel=\"nofollow noreferrer\">AddEmbeddedFile</a> to add more than one attachment, and you claim that only one attachment is added.</p>\n\n<p>I can not reproduce this. I have also adapted the existing example by creating a new example: <a href=\"http://itextpdf.com/sandbox/annotations/AddEmbeddedFiles\" rel=\"nofollow noreferrer\">AddEmbeddedFiles</a></p>\n\n<pre><code>public static final String[] ATTACHMENTS = {\n    \"hello\", \"world\", \"what\", \"is\", \"up\"\n};\npublic void manipulatePdf(String src, String dest) throws IOException, DocumentException {\n    PdfReader reader = new PdfReader(src);\n    PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\n    for (String s : ATTACHMENTS) {\n        PdfFileSpecification fs = PdfFileSpecification.fileEmbedded(\n            stamper.getWriter(), null, String.format(\"%s.txt\", s),\n            String.format(\"Some test: %s\", s).getBytes());\n        stamper.addFileAttachment(String.format(\"Content: %s\", s), fs);\n    }\n    stamper.close();\n}\n</code></pre>\n\n<p>The result contains all the expected attachments:</p>\n\n<p><img src=\"https://i.stack.imgur.com/xjj7L.png\" alt=\"enter image description here\"></p>\n\n<p>The only difference that I see, is that you give every embedded file the same name, but even if I do that, I can still see all the attachments correctly.</p>\n\n<p>Another difference, is that I use an array of <code>String</code> values, but that shouldn't really matter, assuming that <code>cmaOrder.getFileName()</code> indeed returns a file name (e.g. \"order1.doc\", \"order2.xls\",...) and that <code>cmaOrder.getFileData()</code> returns a <code>byte[]</code> with the actual bytes of that file. By not telling us what the <code>SOSCustomerOrderFile</code> class is about, you are forcing us to make that assumption.</p>\n\n<p>If you have the file on disk, you could also do something like this:</p>\n\n<pre><code>PdfFileSpecification fs = PdfFileSpecification.fileEmbedded(\n    stamper.getWriter(), cmaOrder.getFilePath(), cmaOrder.getFileName(), null);\n</code></pre>\n\n<p>That is: if the <code>SOSCustomerOrderFile</code> class has a <code>getFilePath()</code> method that returns the path to the file. We don't know that, we don't have access (nor do we want access) to your complete code base. We can only create an <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a> in order to try to reproduce the problem, and our SSCCE tells us that your allegation is wrong. You can prove that you're right by adapting our SSCCE in such a way that we can run it on our machines and reproduce the problem.</p>\n"}],"owner":{"account_id":5397852,"reputation":307,"user_id":4348638,"accept_rate":78,"display_name":"iamP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3084,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":27823470,"answer_count":1,"score":0,"last_activity_date":1646764601,"creation_date":1420645675,"question_id":27823189,"body_markdown":"I want to add multiple attachments to a pdf file. \r\nWhen I go into the loop it only attaches the last attachment.\r\n\r\nsample code\r\n\r\n    PdfReader reader = new PdfReader(FILE);\r\n            \t\t\r\n    PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(realPath+&quot;/Temp/&quot;+sosValues.getCmaId()+&quot;.pdf&quot;));\r\n\r\n    for(SOSCustomerOrderFile cmaOrder:orderList)\r\n\t{\r\n\t\tPdfFileSpecification fs = PdfFileSpecification.fileEmbedded(stamper.getWriter(), null, cmaOrder.getFileName(), cmaOrder.getFileData());\r\n  \t\t/*  stamper.getWriter(), null, &quot;test.txt&quot;, &quot;Some test&quot;.getBytes());*/\r\n        stamper.addFileAttachment(&quot;Attachment&quot;, fs);\r\n    }\r\n\tstamper.close();\r\n","title":"Add multiple attachments in a pdf using itext pdf stamper","body":"<p>I want to add multiple attachments to a pdf file. \nWhen I go into the loop it only attaches the last attachment.</p>\n\n<p>sample code</p>\n\n<pre><code>PdfReader reader = new PdfReader(FILE);\n\nPdfStamper stamper = new PdfStamper(reader, new FileOutputStream(realPath+\"/Temp/\"+sosValues.getCmaId()+\".pdf\"));\n\nfor(SOSCustomerOrderFile cmaOrder:orderList)\n{\n    PdfFileSpecification fs = PdfFileSpecification.fileEmbedded(stamper.getWriter(), null, cmaOrder.getFileName(), cmaOrder.getFileData());\n    /*  stamper.getWriter(), null, \"test.txt\", \"Some test\".getBytes());*/\n    stamper.addFileAttachment(\"Attachment\", fs);\n}\nstamper.close();\n</code></pre>\n"},{"tags":["java","arrays","range"],"comments":[{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":1,"creation_date":1646765355,"post_id":71399873,"comment_id":126203481,"body_markdown":"I think you want this -- `(int)Math.ceil(n / (double) t) + 1`?","body":"I think you want this -- <code>(int)Math.ceil(n &#47; (double) t) + 1</code>?"}],"answers":[{"tags":[],"owner":{"account_id":381823,"reputation":1385,"user_id":736694,"display_name":"Yserbius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646764510,"creation_date":1646764510,"answer_id":71399956,"question_id":71399873,"body_markdown":"Yes there is a standard and better way to do it. It&#39;s called the step.\r\n\r\n   `for(int pos = 0; pos &lt; n; pos += t)`\r\n\r\nA `for` statement is broken up into three parts: \r\n\r\n1. The first part, `int pos = 0` is code that is executed right before the for-loop starts. \r\n2. The second part, `pos &lt; n`, is a bit of code that has to return a boolean value which is checked before every loop iteration to see if the loop should keep running or stop.\r\n3. And the third part is a bit of code executed after each iteration of the loop.\r\n\r\nSo technically, you can put any code you want into the three parts of the for statement, as long as the middle part returns a boolean. This allows you to increase or decrease the value by as much as you want.","title":"Java: Generate array from 1 to n with step size","body":"<p>Yes there is a standard and better way to do it. It's called the step.</p>\n<p><code>for(int pos = 0; pos &lt; n; pos += t)</code></p>\n<p>A <code>for</code> statement is broken up into three parts:</p>\n<ol>\n<li>The first part, <code>int pos = 0</code> is code that is executed right before the for-loop starts.</li>\n<li>The second part, <code>pos &lt; n</code>, is a bit of code that has to return a boolean value which is checked before every loop iteration to see if the loop should keep running or stop.</li>\n<li>And the third part is a bit of code executed after each iteration of the loop.</li>\n</ol>\n<p>So technically, you can put any code you want into the three parts of the for statement, as long as the middle part returns a boolean. This allows you to increase or decrease the value by as much as you want.</p>\n"}],"owner":{"account_id":5476976,"reputation":782,"user_id":6346482,"accept_rate":50,"display_name":"Hemmelig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71399956,"answer_count":1,"score":1,"last_activity_date":1646764510,"creation_date":1646764051,"question_id":71399873,"body_markdown":"I have trouble with a quite easy task. I want to have an array from 0 to a value n with step size t, always ending with n.\r\n\r\nExample 1:\r\nn=10, t=3, array={0, 3, 6, 9, 10}\r\n\r\nExample 2:\r\nn=20, t=5, array={0, 5, 10, 15, 20}\r\n\r\nExample 3:\r\nn=1, t=1, array={0, 1}\r\n\r\nI have code which I have been using for a while, but I found out there are some weird edge cases and its quite heavy to read.\r\n\r\n    int numOfElements = (int)(Math.ceil(n/2.0)+1);\r\n    int[] array = new int[numOfElements];\r\n    \r\n    for(int pos=0; pos &lt; numOfElements; pos++) {\r\n    \tint val = t*pos;\r\n    \tval = Math.min(val, n);\r\n    \tarray[pos] = val;\r\n    }\r\n\r\nIs there a better solution for that?","title":"Java: Generate array from 1 to n with step size","body":"<p>I have trouble with a quite easy task. I want to have an array from 0 to a value n with step size t, always ending with n.</p>\n<p>Example 1:\nn=10, t=3, array={0, 3, 6, 9, 10}</p>\n<p>Example 2:\nn=20, t=5, array={0, 5, 10, 15, 20}</p>\n<p>Example 3:\nn=1, t=1, array={0, 1}</p>\n<p>I have code which I have been using for a while, but I found out there are some weird edge cases and its quite heavy to read.</p>\n<pre><code>int numOfElements = (int)(Math.ceil(n/2.0)+1);\nint[] array = new int[numOfElements];\n\nfor(int pos=0; pos &lt; numOfElements; pos++) {\n    int val = t*pos;\n    val = Math.min(val, n);\n    array[pos] = val;\n}\n</code></pre>\n<p>Is there a better solution for that?</p>\n"},{"tags":["java","android","android-recyclerview","adapter"],"answers":[{"tags":[],"owner":{"account_id":6839079,"reputation":2140,"user_id":5260051,"display_name":"nitinkumarp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646764285,"creation_date":1646764285,"answer_id":71399923,"question_id":71399448,"body_markdown":"You can use your ItemClickListener to get what is being clicked and perform action related to it. Just changed your ItemClickListener to following:\r\n\r\n    public interface ItemClickListener{\r\n\r\n        void onItemClick(String type, BookModel book);\r\n    }\r\n\r\nNow add click listener to all the views you require for your item. Eg. for you favIcon you can send type=fav, for your download icon type=download, etc.\r\n\r\n     holder.itemView.setOnClickListener(view -&gt;{\r\n            itemClickListener.onItemClick(&quot;item&quot;, booklist[position]);\r\n        });\r\n     holder.favIcon.setOnClickListener(view -&gt;{\r\n            itemClickListener.onItemClick(&quot;fav&quot;, booklist[position]);\r\n        });\r\n\r\nNow just use switch case using type and handle your click.\r\n\r\n            @Override\r\n            public void onItemClick(String type, BookModel book) {\r\n                switch(type){\r\n                    &quot;fav&quot; : //Your Fav handling here\r\n                          break;\r\n                    &quot;download&quot; : //Your download handling here\r\n                          break;\r\n                    &quot;item&quot; : //Your item click handling here\r\n                }\r\n            }\r\n\r\n\r\n\r\n","title":"how to handle multiple views in RecyclerView adapter","body":"<p>You can use your ItemClickListener to get what is being clicked and perform action related to it. Just changed your ItemClickListener to following:</p>\n<pre><code>public interface ItemClickListener{\n\n    void onItemClick(String type, BookModel book);\n}\n</code></pre>\n<p>Now add click listener to all the views you require for your item. Eg. for you favIcon you can send type=fav, for your download icon type=download, etc.</p>\n<pre><code> holder.itemView.setOnClickListener(view -&gt;{\n        itemClickListener.onItemClick(&quot;item&quot;, booklist[position]);\n    });\n holder.favIcon.setOnClickListener(view -&gt;{\n        itemClickListener.onItemClick(&quot;fav&quot;, booklist[position]);\n    });\n</code></pre>\n<p>Now just use switch case using type and handle your click.</p>\n<pre><code>        @Override\n        public void onItemClick(String type, BookModel book) {\n            switch(type){\n                &quot;fav&quot; : //Your Fav handling here\n                      break;\n                &quot;download&quot; : //Your download handling here\n                      break;\n                &quot;item&quot; : //Your item click handling here\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":12546539,"reputation":27,"user_id":9129638,"display_name":"Warrior4EVA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71399923,"answer_count":1,"score":0,"last_activity_date":1646764285,"creation_date":1646761854,"question_id":71399448,"body_markdown":"the problem that I implement a ReyclerView with a custom ItemClickListener inside the adapter:\r\n```\r\n    public interface ItemClickListener{\r\n    \r\n            void onItemClick(BookModel book);\r\n        } \r\n\r\n```\r\nand here is the whole code (for Adapter):\r\n\r\n```\r\n\r\npackage com.example.recyclerview;\r\n\r\nimport android.media.Image;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class BookAdapter extends RecyclerView.Adapter&lt;BookAdapter.BookViewHolder&gt; {\r\n  private BookModel[] booklist;\r\n  ItemClickListener itemClickListener;\r\n\r\n    public BookAdapter(BookModel[] booklist, ItemClickListener itemClickListener) {\r\n        this.booklist = booklist;\r\n        this.itemClickListener = itemClickListener;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public BookViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new BookViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item,parent,false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull BookViewHolder holder, int position) {\r\n        holder.bookTitle.setText(booklist[position].getBookName());\r\n        holder.bookAuthor.setText(booklist[position].getBookAuthor());\r\n        holder.bookDescription.setText(booklist[position].getDescription());\r\n        holder.img.setImageResource(booklist[position].getImgId());\r\n\r\n        holder.itemView.setOnClickListener(view -&gt;{\r\n            itemClickListener.onItemClick(booklist[position]);\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return booklist.length;\r\n    }\r\n    public interface ItemClickListener{\r\n\r\n        void onItemClick(BookModel book);\r\n    }\r\n\r\n\r\n    public class BookViewHolder extends RecyclerView.ViewHolder {\r\n        TextView bookTitle;\r\n        TextView bookAuthor;\r\n        TextView bookDescription;\r\n        ImageView img;\r\n\r\n        public BookViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            bookTitle = itemView.findViewById(R.id.bookTitle);\r\n            bookAuthor = itemView.findViewById(R.id.bookAuthor);\r\n            bookDescription = itemView.findViewById(R.id.bookDesc);\r\n            img = itemView.findViewById(R.id.imgView);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nso the problem that when I have overridden the ItemClickListener inside the activity to control the views inside the list-item( I will attach the code of the activity and the layout below):\r\n\r\n**MainActivity.java**\r\n```\r\npackage com.example.recyclerview;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n   // public  boolean flag = false;\r\n   final boolean[] flag = {false};\r\n    BookModel[] bookModels = new BookModel[]{\r\n      new BookModel(&quot;مت فارغاً&quot;,&quot;تود هنري&quot;,&quot;إن كتاب مت فارغًا هو أداة للأشخاص الذين لا يرغبون في تأجيل أهم أعمالهم - ولا يقصد هنا العمل الوظيفي بل عمل حياتك القابع بداخلك -\\n&quot; +\r\n              &quot; إلى الغد. ويعدد تود هنري الأشياء التي تبقينا في حالة رجوع، ثم يفصل كيفية التخلص منها وغرس ممارسات ثابتة في حياتنا تجعلنا نسير على الدرب الصحيح ونفرغ أسمى ما فينا.\\n&quot;,R.drawable.dieempty),\r\n            new BookModel(&quot;الهدوء&quot;,&quot;سوزان كين&quot;,&quot;\\n&quot; +\r\n                    &quot;يناقش كتاب الهدوء الشخصية الانطوائية بكل شغف بل ويسبر غورها فهو ملىء بقصص لا تنسى لأناس من الواقع،\\n&quot; +\r\n                    &quot; ويبين أيضاً إلى أي مدى نبخس الشخصية الانطوائية حقها على نحو لافت وكم نخسر من جراء ذلك.\\n&quot; +\r\n                    &quot;فهذا الكتاب الرائع جدير بأن يغير الطريقة التي نرى بها الانطوائيين وكذلك الطريقة التي يرى بها الانطوائيون أنفسهم على حد سواء.\\n&quot;,R.drawable.quiet),\r\n            new BookModel(&quot;شيفرة بلال&quot;,&quot;د.أحمد خيري العمري&quot;,&quot;\\n&quot; +\r\n                    &quot;أن تتأثر بقصة بلال بن رباح شيء ، ولكن أن تتغير حياتك كلها بسبب ذلك شيء آخر تماما..\\n&quot; +\r\n                    &quot;وأن يحدث ذلك في مجتمع عربي مسلم شيء ، ولكن أن يحدث في نيويورك؟!!\\n&quot; +\r\n                    &quot;وأن يحدث ذلك في مجتمع عربي مسلم شيء ، ولكن أن يحدث في نيويورك؟!!\\n&quot; +\r\n                    &quot;لكن، ذات يوم ..يصل إيميل لأحدهم..، ويتغير كل شيء...\\n&quot; +\r\n                    &quot;هذه الرواية هي قصة ما حدث معهم..بسبب (بلال)..\\n&quot; +\r\n                    &quot;وما يمكن أن يحدث معك...\\n&quot; +\r\n                    &quot;\\n&quot;,R.drawable.belal),\r\n            new BookModel(&quot;من الذي حرك قطعة الجبن الخاصة بي؟&quot;,&quot;سبنسر جونسون&quot;,&quot;\\n&quot; +\r\n                    &quot;يهدف الكاتب من هذا العمل تجسيد واقع الحياة الذي نعيشها،\\n&quot; +\r\n                    &quot; على أسلوب الرمز فرمز إلى متطلبات الحياة وملذاتها بقطعة الجبنة\\n&quot; +\r\n                    &quot;، ورمز إلى الحياة التي نعشها والأماكن التي نوجد بها بالممارات العمل تجسيد للواقع الذي نعيش فيه\\n&quot; +\r\n                    &quot;، وأراد الكاتب أن يوضح من خلال هذا العمل التغير الذي يحدث داخل متاهة صغيرة، \\n&quot; +\r\n                    &quot; يوجد بداخلها أربعة أشخاص هدفهم الأسمى في الوجود هو الحصول على قطعة \\&quot;الجبنة\\&quot;\\n&quot; +\r\n                    &quot; والتي شبهها الكاتب ب\\&quot;الرمز أو الهدف\\&quot; الذي نسعى في حياتنا الحصول عليه متمثلة في ملذات الحياة مثل\\&quot; الصحة،\\n&quot; +\r\n                    &quot; المال، اقامة علاقات، الحصول على وظيفة.......وغيرها من ملذات الدنيا، \\n&quot; +\r\n                    &quot;فالكل يسعى جاهدا لتحقيق هدفه وإكمال سعادته في الحصول على قطعة الجبن حيث يمثل\\n&quot; +\r\n                    &quot; لهم امتلاكها السعادة باكملها، وعدم الحصول عليها يسبب الآلام وعدم السعادة.\\n&quot;,R.drawable.chess),\r\n            new BookModel(&quot;الخيمائي&quot;,&quot;باولو كويلو&quot;,&quot;\\n&quot; +\r\n                    &quot;الخيميائي هي الرواية الثانية التي كتبها باولو كويليو، والتي حققت نجاحاً عالمياً باهراً، جعل كاتبها من \\n&quot; +\r\n                    &quot;أشهر الكتاب العالميين. تتحدث الرواية عن راع أندلسي شاب يدعى سانتياغو. مضى للبحث عن حلمه المتمثل بكنزٍ مدفون قرب أهرامات مصر، بدأت رحلته من\\n&quot; +\r\n                    &quot; أسبانيا عندما إلتقى الملك \\&quot;ملكي صادق\\&quot; الذي أخبره عن الكنز، عَبَرَ مضيق جبل طارق ماراً بالمغرب حتى بلغ مصر، وكانت توجهه طوال الرحلة إشارات غيبية.\\n&quot; +\r\n                    &quot;\\n&quot; +\r\n                    &quot;وفي طريقه للعثور على كنزه الحلم، أحداث كثيرة تقع، كل حدث منها استحال عقبة تكاد تمنعه من متابعة رحلته، إلى أن يجد الوسيلة التي تساعده على تجاوز هذه العقبة....\\n&quot; +\r\n                    &quot;وهكذا تتلخص الفكرة لهذه الرواية بجملة قالها الملك لسانتياغو :\\&quot;إذا رغبت في شيء.. فإن العالم كله يطاوعك لتحقيق رغبتك\\&quot;.&quot;,R.drawable.alchemist)\r\n    };\r\n    BookAdapter adapter;\r\n    RecyclerView recyclerView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n\r\n\r\n        adapter = new BookAdapter(bookModels, new BookAdapter.ItemClickListener() {\r\n\r\n\r\n            @Override\r\n            public void onItemClick(BookModel book) {\r\n\r\n                Toast.makeText(getApplicationContext(), &quot;the item -&gt; &quot;+book.getBookName()+&quot; is clicked!&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                ImageView favIcon = (ImageView) findViewById(R.id.favIcon);\r\n\r\n                favIcon.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n\r\n                        if(flag[0] == false){\r\n                            Toast.makeText(getApplicationContext(),&quot;flag --&gt; &quot;+ flag[0],Toast.LENGTH_LONG).show();\r\n                            favIcon.setImageResource(R.drawable.fav_red);\r\n                            flag[0] = true;\r\n                        }else{\r\n                            Toast.makeText(getApplicationContext(),&quot;flag --&gt; &quot;+ flag[0],Toast.LENGTH_LONG).show();\r\n                            favIcon.setImageResource(R.drawable.fav2);\r\n                            flag[0] = false;\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n        });\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n***list_item.xml***\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_gravity=&quot;center&quot;\r\n    android:layout_margin=&quot;15dp&quot;\r\n    android:clickable=&quot;true&quot;\r\n    android:elevation=&quot;15dp&quot;\r\n    app:cardCornerRadius=&quot;15dp&quot;\r\n\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/bookTitle&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Book title&quot;\r\n                android:textSize=&quot;20dp&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:layout_marginRight=&quot;20dp&quot;\r\n                android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/bookAuthor&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Book&#39;s author&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:layout_marginRight=&quot;20dp&quot;\r\n                android:textSize=&quot;15dp&quot;\r\n                /&gt;\r\n\r\n\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/bookDesc&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:layout_marginRight=&quot;20dp&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;This is the supporting text This is the supporting text This is the supporting text This is the supporting text This is the supporting text This is the supporting text&quot;\r\n                android:textSize=&quot;15dp&quot;/&gt;\r\n\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imgView&quot;\r\n                android:padding=&quot;20dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:src=&quot;@drawable/book&quot;/&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:padding=&quot;20dp&quot;\r\n                android:gravity=&quot;right&quot;\r\n                android:layout_margin=&quot;20dp&quot;&gt;\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:src=&quot;@drawable/read&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/favIcon&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:src=&quot;@drawable/fav2&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;/&gt;\r\n\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:src=&quot;@drawable/ic_download&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            \r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n```\r\n\r\nthe problem when I clicked the ImageView (favIcon), it&#39;s not enabled directly!\r\nwhich the onItemClick for(ItemClickListener) interface executed first, then \r\nthe onClick for the nested onClickListener(favIcon) executed -I have to make a double click to enable the red favIcon, so there is a way that I can control multiple views inside the list_item  without using nested Listener?\r\n\r\n***here is a snapshot of my app:***\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n***the result after double click***\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pWphi.png\r\n  [2]: https://i.stack.imgur.com/Q9e1U.png","title":"how to handle multiple views in RecyclerView adapter","body":"<p>the problem that I implement a ReyclerView with a custom ItemClickListener inside the adapter:</p>\n<pre><code>    public interface ItemClickListener{\n    \n            void onItemClick(BookModel book);\n        } \n\n</code></pre>\n<p>and here is the whole code (for Adapter):</p>\n<pre><code>\npackage com.example.recyclerview;\n\nimport android.media.Image;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class BookAdapter extends RecyclerView.Adapter&lt;BookAdapter.BookViewHolder&gt; {\n  private BookModel[] booklist;\n  ItemClickListener itemClickListener;\n\n    public BookAdapter(BookModel[] booklist, ItemClickListener itemClickListener) {\n        this.booklist = booklist;\n        this.itemClickListener = itemClickListener;\n    }\n\n    @NonNull\n    @Override\n    public BookViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new BookViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item,parent,false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull BookViewHolder holder, int position) {\n        holder.bookTitle.setText(booklist[position].getBookName());\n        holder.bookAuthor.setText(booklist[position].getBookAuthor());\n        holder.bookDescription.setText(booklist[position].getDescription());\n        holder.img.setImageResource(booklist[position].getImgId());\n\n        holder.itemView.setOnClickListener(view -&gt;{\n            itemClickListener.onItemClick(booklist[position]);\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return booklist.length;\n    }\n    public interface ItemClickListener{\n\n        void onItemClick(BookModel book);\n    }\n\n\n    public class BookViewHolder extends RecyclerView.ViewHolder {\n        TextView bookTitle;\n        TextView bookAuthor;\n        TextView bookDescription;\n        ImageView img;\n\n        public BookViewHolder(@NonNull View itemView) {\n            super(itemView);\n            bookTitle = itemView.findViewById(R.id.bookTitle);\n            bookAuthor = itemView.findViewById(R.id.bookAuthor);\n            bookDescription = itemView.findViewById(R.id.bookDesc);\n            img = itemView.findViewById(R.id.imgView);\n        }\n    }\n}\n\n</code></pre>\n<p>so the problem that when I have overridden the ItemClickListener inside the activity to control the views inside the list-item( I will attach the code of the activity and the layout below):</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.recyclerview;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n   // public  boolean flag = false;\n   final boolean[] flag = {false};\n    BookModel[] bookModels = new BookModel[]{\n      new BookModel(&quot;مت فارغاً&quot;,&quot;تود هنري&quot;,&quot;إن كتاب مت فارغًا هو أداة للأشخاص الذين لا يرغبون في تأجيل أهم أعمالهم - ولا يقصد هنا العمل الوظيفي بل عمل حياتك القابع بداخلك -\\n&quot; +\n              &quot; إلى الغد. ويعدد تود هنري الأشياء التي تبقينا في حالة رجوع، ثم يفصل كيفية التخلص منها وغرس ممارسات ثابتة في حياتنا تجعلنا نسير على الدرب الصحيح ونفرغ أسمى ما فينا.\\n&quot;,R.drawable.dieempty),\n            new BookModel(&quot;الهدوء&quot;,&quot;سوزان كين&quot;,&quot;\\n&quot; +\n                    &quot;يناقش كتاب الهدوء الشخصية الانطوائية بكل شغف بل ويسبر غورها فهو ملىء بقصص لا تنسى لأناس من الواقع،\\n&quot; +\n                    &quot; ويبين أيضاً إلى أي مدى نبخس الشخصية الانطوائية حقها على نحو لافت وكم نخسر من جراء ذلك.\\n&quot; +\n                    &quot;فهذا الكتاب الرائع جدير بأن يغير الطريقة التي نرى بها الانطوائيين وكذلك الطريقة التي يرى بها الانطوائيون أنفسهم على حد سواء.\\n&quot;,R.drawable.quiet),\n            new BookModel(&quot;شيفرة بلال&quot;,&quot;د.أحمد خيري العمري&quot;,&quot;\\n&quot; +\n                    &quot;أن تتأثر بقصة بلال بن رباح شيء ، ولكن أن تتغير حياتك كلها بسبب ذلك شيء آخر تماما..\\n&quot; +\n                    &quot;وأن يحدث ذلك في مجتمع عربي مسلم شيء ، ولكن أن يحدث في نيويورك؟!!\\n&quot; +\n                    &quot;وأن يحدث ذلك في مجتمع عربي مسلم شيء ، ولكن أن يحدث في نيويورك؟!!\\n&quot; +\n                    &quot;لكن، ذات يوم ..يصل إيميل لأحدهم..، ويتغير كل شيء...\\n&quot; +\n                    &quot;هذه الرواية هي قصة ما حدث معهم..بسبب (بلال)..\\n&quot; +\n                    &quot;وما يمكن أن يحدث معك...\\n&quot; +\n                    &quot;\\n&quot;,R.drawable.belal),\n            new BookModel(&quot;من الذي حرك قطعة الجبن الخاصة بي؟&quot;,&quot;سبنسر جونسون&quot;,&quot;\\n&quot; +\n                    &quot;يهدف الكاتب من هذا العمل تجسيد واقع الحياة الذي نعيشها،\\n&quot; +\n                    &quot; على أسلوب الرمز فرمز إلى متطلبات الحياة وملذاتها بقطعة الجبنة\\n&quot; +\n                    &quot;، ورمز إلى الحياة التي نعشها والأماكن التي نوجد بها بالممارات العمل تجسيد للواقع الذي نعيش فيه\\n&quot; +\n                    &quot;، وأراد الكاتب أن يوضح من خلال هذا العمل التغير الذي يحدث داخل متاهة صغيرة، \\n&quot; +\n                    &quot; يوجد بداخلها أربعة أشخاص هدفهم الأسمى في الوجود هو الحصول على قطعة \\&quot;الجبنة\\&quot;\\n&quot; +\n                    &quot; والتي شبهها الكاتب ب\\&quot;الرمز أو الهدف\\&quot; الذي نسعى في حياتنا الحصول عليه متمثلة في ملذات الحياة مثل\\&quot; الصحة،\\n&quot; +\n                    &quot; المال، اقامة علاقات، الحصول على وظيفة.......وغيرها من ملذات الدنيا، \\n&quot; +\n                    &quot;فالكل يسعى جاهدا لتحقيق هدفه وإكمال سعادته في الحصول على قطعة الجبن حيث يمثل\\n&quot; +\n                    &quot; لهم امتلاكها السعادة باكملها، وعدم الحصول عليها يسبب الآلام وعدم السعادة.\\n&quot;,R.drawable.chess),\n            new BookModel(&quot;الخيمائي&quot;,&quot;باولو كويلو&quot;,&quot;\\n&quot; +\n                    &quot;الخيميائي هي الرواية الثانية التي كتبها باولو كويليو، والتي حققت نجاحاً عالمياً باهراً، جعل كاتبها من \\n&quot; +\n                    &quot;أشهر الكتاب العالميين. تتحدث الرواية عن راع أندلسي شاب يدعى سانتياغو. مضى للبحث عن حلمه المتمثل بكنزٍ مدفون قرب أهرامات مصر، بدأت رحلته من\\n&quot; +\n                    &quot; أسبانيا عندما إلتقى الملك \\&quot;ملكي صادق\\&quot; الذي أخبره عن الكنز، عَبَرَ مضيق جبل طارق ماراً بالمغرب حتى بلغ مصر، وكانت توجهه طوال الرحلة إشارات غيبية.\\n&quot; +\n                    &quot;\\n&quot; +\n                    &quot;وفي طريقه للعثور على كنزه الحلم، أحداث كثيرة تقع، كل حدث منها استحال عقبة تكاد تمنعه من متابعة رحلته، إلى أن يجد الوسيلة التي تساعده على تجاوز هذه العقبة....\\n&quot; +\n                    &quot;وهكذا تتلخص الفكرة لهذه الرواية بجملة قالها الملك لسانتياغو :\\&quot;إذا رغبت في شيء.. فإن العالم كله يطاوعك لتحقيق رغبتك\\&quot;.&quot;,R.drawable.alchemist)\n    };\n    BookAdapter adapter;\n    RecyclerView recyclerView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n\n\n        adapter = new BookAdapter(bookModels, new BookAdapter.ItemClickListener() {\n\n\n            @Override\n            public void onItemClick(BookModel book) {\n\n                Toast.makeText(getApplicationContext(), &quot;the item -&gt; &quot;+book.getBookName()+&quot; is clicked!&quot;, Toast.LENGTH_LONG).show();\n\n                ImageView favIcon = (ImageView) findViewById(R.id.favIcon);\n\n                favIcon.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n\n                        if(flag[0] == false){\n                            Toast.makeText(getApplicationContext(),&quot;flag --&gt; &quot;+ flag[0],Toast.LENGTH_LONG).show();\n                            favIcon.setImageResource(R.drawable.fav_red);\n                            flag[0] = true;\n                        }else{\n                            Toast.makeText(getApplicationContext(),&quot;flag --&gt; &quot;+ flag[0],Toast.LENGTH_LONG).show();\n                            favIcon.setImageResource(R.drawable.fav2);\n                            flag[0] = false;\n                        }\n                    }\n                });\n\n\n\n\n\n\n\n\n\n            }\n        });\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(adapter);\n\n\n\n    }\n}\n</code></pre>\n<p><em><strong>list_item.xml</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:layout_margin=&quot;15dp&quot;\n    android:clickable=&quot;true&quot;\n    android:elevation=&quot;15dp&quot;\n    app:cardCornerRadius=&quot;15dp&quot;\n\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n\n\n\n\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/bookTitle&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Book title&quot;\n                android:textSize=&quot;20dp&quot;\n                android:layout_marginLeft=&quot;20dp&quot;\n                android:layout_marginRight=&quot;20dp&quot;\n                android:textStyle=&quot;bold&quot;/&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/bookAuthor&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Book's author&quot;\n                android:layout_marginLeft=&quot;20dp&quot;\n                android:layout_marginRight=&quot;20dp&quot;\n                android:textSize=&quot;15dp&quot;\n                /&gt;\n\n\n\n            &lt;TextView\n                android:id=&quot;@+id/bookDesc&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_marginLeft=&quot;20dp&quot;\n                android:layout_marginRight=&quot;20dp&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;This is the supporting text This is the supporting text This is the supporting text This is the supporting text This is the supporting text This is the supporting text&quot;\n                android:textSize=&quot;15dp&quot;/&gt;\n\n\n            &lt;ImageView\n                android:id=&quot;@+id/imgView&quot;\n                android:padding=&quot;20dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:src=&quot;@drawable/book&quot;/&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:padding=&quot;20dp&quot;\n                android:gravity=&quot;right&quot;\n                android:layout_margin=&quot;20dp&quot;&gt;\n                &lt;ImageView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:src=&quot;@drawable/read&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/favIcon&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:src=&quot;@drawable/fav2&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;/&gt;\n\n                &lt;ImageView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:src=&quot;@drawable/ic_download&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n\n            \n\n        &lt;/LinearLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>the problem when I clicked the ImageView (favIcon), it's not enabled directly!\nwhich the onItemClick for(ItemClickListener) interface executed first, then\nthe onClick for the nested onClickListener(favIcon) executed -I have to make a double click to enable the red favIcon, so there is a way that I can control multiple views inside the list_item  without using nested Listener?</p>\n<p><em><strong>here is a snapshot of my app:</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/pWphi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pWphi.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>the result after double click</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/Q9e1U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q9e1U.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging","logback"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":1,"creation_date":1646221167,"post_id":71321895,"comment_id":126068093,"body_markdown":"That depends on the logging implementation that you are using. SLF4J is just an API, and Lombok a convenience framework to simplify the code.","body":"That depends on the logging implementation that you are using. SLF4J is just an API, and Lombok a convenience framework to simplify the code."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646764116,"creation_date":1646764116,"answer_id":71399890,"question_id":71321895,"body_markdown":"&gt; all logs are writing into one file\r\n\r\nThe shown config is going to the STDOUT, not a file. \r\n\r\nIf you want to write to a daily file, use `logrotate`/`cron` process, or have logback do this itself. \r\n\r\n\r\n```\r\n&lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    &lt;file&gt;${LOG_DIR}/app.log&lt;/file&gt;\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n        &lt;!-- daily rollover --&gt;\r\n        &lt;fileNamePattern&gt;${LOG_DIR}/bim.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;\r\n    ...\r\n&lt;/appender&gt;\r\n```\r\n...\r\n```\r\n    &lt;logger level=&quot;INFO&quot; name=&quot;my.name&quot;&gt;\r\n        &lt;appender-ref ref=&quot;file&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;root level=&quot;ERROR&quot;&gt;\r\n        &lt;appender-ref ref=&quot;file&quot; /&gt;\r\n    &lt;/root&gt;\r\n```","title":"How to organize daily logging files in Logback","body":"<blockquote>\n<p>all logs are writing into one file</p>\n</blockquote>\n<p>The shown config is going to the STDOUT, not a file.</p>\n<p>If you want to write to a daily file, use <code>logrotate</code>/<code>cron</code> process, or have logback do this itself.</p>\n<pre><code>&lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOG_DIR}/app.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;!-- daily rollover --&gt;\n        &lt;fileNamePattern&gt;${LOG_DIR}/bim.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;\n    ...\n&lt;/appender&gt;\n</code></pre>\n<p>...</p>\n<pre><code>    &lt;logger level=&quot;INFO&quot; name=&quot;my.name&quot;&gt;\n        &lt;appender-ref ref=&quot;file&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;ERROR&quot;&gt;\n        &lt;appender-ref ref=&quot;file&quot; /&gt;\n    &lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":19473985,"reputation":23,"user_id":16136040,"display_name":"Umaralikhon Kayumov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":944,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646764116,"creation_date":1646220457,"question_id":71321895,"body_markdown":"I am using Logback for logging. Now all logs are writing into one file, and it becomes very large. How to organize logging in such a way that a new file is created at the beginning of a new day?\r\n\r\nI use such logback.xml\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n\r\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ} %p %m%n&quot; /&gt;\r\n    &lt;property name=&quot;APP_LOG_ROOT&quot; value=&quot;admin-logs&quot;/&gt;\r\n\r\n    &lt;timestamp key=&quot;year&quot; datePattern=&quot;yyyy&quot; /&gt;\r\n    &lt;timestamp key=&quot;month&quot; datePattern=&quot;MM&quot; /&gt;\r\n    &lt;timestamp key=&quot;date&quot; datePattern=&quot;dd&quot; /&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%-5relative %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;logger level=&quot;INFO&quot; name=&quot;my.name&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;root level=&quot;ERROR&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```","title":"How to organize daily logging files in Logback","body":"<p>I am using Logback for logging. Now all logs are writing into one file, and it becomes very large. How to organize logging in such a way that a new file is created at the beginning of a new day?</p>\n<p>I use such logback.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ} %p %m%n&quot; /&gt;\n    &lt;property name=&quot;APP_LOG_ROOT&quot; value=&quot;admin-logs&quot;/&gt;\n\n    &lt;timestamp key=&quot;year&quot; datePattern=&quot;yyyy&quot; /&gt;\n    &lt;timestamp key=&quot;month&quot; datePattern=&quot;MM&quot; /&gt;\n    &lt;timestamp key=&quot;date&quot; datePattern=&quot;dd&quot; /&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%-5relative %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger level=&quot;INFO&quot; name=&quot;my.name&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;ERROR&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","android","google-maps","geolocation","gps"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1646763187,"post_id":71399631,"comment_id":126202769,"body_markdown":"The length of a straight line between start and finish? Or the actual distance along the traveled road?","body":"The length of a straight line between start and finish? Or the actual distance along the traveled road?"},{"owner":{"account_id":23991549,"reputation":3,"user_id":17977637,"display_name":"The Ark A"},"score":0,"creation_date":1646763505,"post_id":71399631,"comment_id":126202869,"body_markdown":"@blackapps The actual length of the traveled road. Its like real-time journey from one location to another location.","body":"@blackapps The actual length of the traveled road. Its like real-time journey from one location to another location."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646763654,"post_id":71399631,"comment_id":126202914,"body_markdown":"And what is the problem exactly? Can you calculate the shortest distance between two points/locations?","body":"And what is the problem exactly? Can you calculate the shortest distance between two points/locations?"}],"answers":[{"tags":[],"owner":{"account_id":19689376,"reputation":109,"user_id":14414722,"display_name":"bjorke07"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646764066,"creation_date":1646764066,"answer_id":71399878,"question_id":71399631,"body_markdown":"If you have latitude and longitude values of both start and end locations (I assume you have got), [this answer][1] which I have used before works well. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16794680/14414722","title":"How to find the distance that the device moved from the start location? - Android Studio","body":"<p>If you have latitude and longitude values of both start and end locations (I assume you have got), <a href=\"https://stackoverflow.com/a/16794680/14414722\">this answer</a> which I have used before works well.</p>\n"}],"owner":{"account_id":23991549,"reputation":3,"user_id":17977637,"display_name":"The Ark A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71399878,"answer_count":1,"score":-1,"last_activity_date":1646764066,"creation_date":1646762838,"question_id":71399631,"body_markdown":"I want to get the distance that the device moved between the start location and the end location. I&#39;m getting the speed and the time user spent on the journey using GPSManager and GPSCallback. \r\n\r\nIs there any way to get the accurate distance between start and end locations?\r\nHere user doesn&#39;t know what the end location is. It is the location where the user stops the journey. ","title":"How to find the distance that the device moved from the start location? - Android Studio","body":"<p>I want to get the distance that the device moved between the start location and the end location. I'm getting the speed and the time user spent on the journey using GPSManager and GPSCallback.</p>\n<p>Is there any way to get the accurate distance between start and end locations?\nHere user doesn't know what the end location is. It is the location where the user stops the journey.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","ktable"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646763918,"post_id":71399809,"comment_id":126203006,"body_markdown":"You cannot &quot;delay&quot; a filter... Why cant you `.filter()` the stream before creating the table?","body":"You cannot &quot;delay&quot; a filter... Why cant you <code>.filter()</code> the stream before creating the table?"},{"owner":{"account_id":24494881,"reputation":21,"user_id":18411332,"display_name":"nickp12"},"score":0,"creation_date":1646764079,"post_id":71399809,"comment_id":126203061,"body_markdown":"I want to filter it againts the values in Ktable. But in the intial processing of the stream the Ktable would not have very meaninful averages/sums of the events","body":"I want to filter it againts the values in Ktable. But in the intial processing of the stream the Ktable would not have very meaninful averages/sums of the events"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646764309,"post_id":71399809,"comment_id":126203155,"body_markdown":"KTables are just key-value pairs and with key lookups or scans. There is no server-side filtering you can do after you have the table/state-store. You would have to query everything, then filter client side like a regular Java collection. Then put that in a loop if you want it to be periodic","body":"KTables are just key-value pairs and with key lookups or scans. There is no server-side filtering you can do after you have the table/state-store. You would have to query everything, then filter client side like a regular Java collection. Then put that in a loop if you want it to be periodic"}],"owner":{"account_id":24494881,"reputation":21,"user_id":18411332,"display_name":"nickp12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646763866,"creation_date":1646763726,"question_id":71399809,"body_markdown":" 1. I have use case where there are events comming from a topic pattern (`myTopic-cusId`). I have set up a kafka stream listener which listen to the incoming events from these topics.\r\n 2. What I have done so far is build a stream from the topic and created a Ktable which keeps the running sum and averages of various customer metrics.\r\n 3. Now I want to filter the stream based on the values and condition of Ktable but I want the filtering to be happening periodically (but I want to wait for this filter to happen at the starting of building the stream (to make sure that Ktable has some useful info to check the conditions)) (`Lets says wait for first 30 secs to start the filtering from the first event and after that query the state store every 20 secs until all the events are processed.`)\r\n\r\nIs there any way I could achieve this or any design pattern that would solve this use case?","title":"How to Query Kafka table periodically?","body":"<ol>\n<li>I have use case where there are events comming from a topic pattern (<code>myTopic-cusId</code>). I have set up a kafka stream listener which listen to the incoming events from these topics.</li>\n<li>What I have done so far is build a stream from the topic and created a Ktable which keeps the running sum and averages of various customer metrics.</li>\n<li>Now I want to filter the stream based on the values and condition of Ktable but I want the filtering to be happening periodically (but I want to wait for this filter to happen at the starting of building the stream (to make sure that Ktable has some useful info to check the conditions)) (<code>Lets says wait for first 30 secs to start the filtering from the first event and after that query the state store every 20 secs until all the events are processed.</code>)</li>\n</ol>\n<p>Is there any way I could achieve this or any design pattern that would solve this use case?</p>\n"},{"tags":["java","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":5939623,"reputation":5436,"user_id":4671372,"display_name":"VadymVL"},"score":0,"creation_date":1639180280,"post_id":70311315,"comment_id":124291185,"body_markdown":"Does this answer your question? - https://askubuntu.com/questions/54525/chown-changing-ownership-of-operation-not-permitted","body":"Does this answer your question? - <a href=\"https://askubuntu.com/questions/54525/chown-changing-ownership-of-operation-not-permitted\" title=\"chown changing ownership of operation not permitted\">askubuntu.com/questions/54525/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15007276,"reputation":51,"user_id":10832923,"display_name":"Deehaz05"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639209330,"creation_date":1639209330,"answer_id":70313491,"question_id":70311315,"body_markdown":"It seems i accidentally downloaded and extracted GraalVM installation as root and then tried to install Native Image as normal user.","title":"Can&#39;t install Graalvm native-image on ubuntu 20.04.3 LTS","body":"<p>It seems i accidentally downloaded and extracted GraalVM installation as root and then tried to install Native Image as normal user.</p>\n"},{"tags":[],"owner":{"account_id":16336050,"reputation":141,"user_id":11798243,"display_name":"Marcos Rufino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646763666,"creation_date":1646763666,"answer_id":71399798,"question_id":70311315,"body_markdown":"How to Install GraalVM Community Edition on Linux\r\n\r\nNote: Tested on Ubuntu 20 only\r\n\r\n1) Download the [new release of GraalVM](https://github.com/graalvm/graalvm-ce-builds/releases) and unpack it anywhere in your filesystem:\r\n\r\n```\r\n$wget https://github.com/graalvm/graalvm-ce-builds/releases/download/vm-22.0.0.2/graalvm-ce-java11-linux-amd64-22.0.0.2.tar.gz\r\n\r\n$ tar -xvzf graalvm-ce-java11-linux-amd64-22.0.0.2.tar.gz\r\n```\r\n\r\n2) Move the unpacked dir to `/usr/lib/jvm/` and create a symbolic link to make your life easier when updating the GraalVM version:\r\n\r\nif the `jvm` folder does not exist run the command \r\n```\r\n$ mkdir /usr/lib/jvm\r\n```\r\n\r\n```\r\n$ mv graalvm-ce-java11-linux-amd64-22.0.0.2/ /usr/lib/jvm/\r\n$ cd /usr/lib/jvm\r\n$ ln -s graalvm-ce-java11-linux-amd64-22.0.0.2 graalvm\r\n```\r\n\r\n\r\n3) Configure ~/.bashrce:\r\n\r\n```\r\n$vim ~/.bashrc\r\n```\r\npaste the content\r\n```\r\n#gralvm configuration\r\nexport PATH=/usr/lib/jvm/graalvm/bin:$PATH\r\nexport JAVA_HOME=/usr/lib/jvm/graalvm/\r\n```\r\nreload the edited file\r\n```\r\n$ source ~/.bashrc\r\n```\r\n4) Testing\r\n\r\nTo make sure everything is working fine, set the new JVM on your environment:\r\n\r\n```\r\njava -version\r\n```\r\n\r\nTo verify, just check the version number:\r\n\r\n```\r\nopenjdk version &quot;11.0.14&quot; 2022-01-18\r\nOpenJDK Runtime Environment GraalVM CE 22.0.0.2 (build 11.0.14+9-jvmci-22.0-b05)\r\nOpenJDK 64-Bit Server VM GraalVM CE 22.0.0.2 (build 11.0.14+9-jvmci-22.0-b05, mixed mode, sharing)\r\n```\r\n\r\nAnd you&#39;re set.\r\n\r\n5) install native-image.\r\n```\r\ngu install native-image\r\n\r\n```\r\n\r\nhope i helped you..","title":"Can&#39;t install Graalvm native-image on ubuntu 20.04.3 LTS","body":"<p>How to Install GraalVM Community Edition on Linux</p>\n<p>Note: Tested on Ubuntu 20 only</p>\n<ol>\n<li>Download the <a href=\"https://github.com/graalvm/graalvm-ce-builds/releases\" rel=\"nofollow noreferrer\">new release of GraalVM</a> and unpack it anywhere in your filesystem:</li>\n</ol>\n<pre><code>$wget https://github.com/graalvm/graalvm-ce-builds/releases/download/vm-22.0.0.2/graalvm-ce-java11-linux-amd64-22.0.0.2.tar.gz\n\n$ tar -xvzf graalvm-ce-java11-linux-amd64-22.0.0.2.tar.gz\n</code></pre>\n<ol start=\"2\">\n<li>Move the unpacked dir to <code>/usr/lib/jvm/</code> and create a symbolic link to make your life easier when updating the GraalVM version:</li>\n</ol>\n<p>if the <code>jvm</code> folder does not exist run the command</p>\n<pre><code>$ mkdir /usr/lib/jvm\n</code></pre>\n<pre><code>$ mv graalvm-ce-java11-linux-amd64-22.0.0.2/ /usr/lib/jvm/\n$ cd /usr/lib/jvm\n$ ln -s graalvm-ce-java11-linux-amd64-22.0.0.2 graalvm\n</code></pre>\n<ol start=\"3\">\n<li>Configure ~/.bashrce:</li>\n</ol>\n<pre><code>$vim ~/.bashrc\n</code></pre>\n<p>paste the content</p>\n<pre><code>#gralvm configuration\nexport PATH=/usr/lib/jvm/graalvm/bin:$PATH\nexport JAVA_HOME=/usr/lib/jvm/graalvm/\n</code></pre>\n<p>reload the edited file</p>\n<pre><code>$ source ~/.bashrc\n</code></pre>\n<ol start=\"4\">\n<li>Testing</li>\n</ol>\n<p>To make sure everything is working fine, set the new JVM on your environment:</p>\n<pre><code>java -version\n</code></pre>\n<p>To verify, just check the version number:</p>\n<pre><code>openjdk version &quot;11.0.14&quot; 2022-01-18\nOpenJDK Runtime Environment GraalVM CE 22.0.0.2 (build 11.0.14+9-jvmci-22.0-b05)\nOpenJDK 64-Bit Server VM GraalVM CE 22.0.0.2 (build 11.0.14+9-jvmci-22.0-b05, mixed mode, sharing)\n</code></pre>\n<p>And you're set.</p>\n<ol start=\"5\">\n<li>install native-image.</li>\n</ol>\n<pre><code>gu install native-image\n\n</code></pre>\n<p>hope i helped you..</p>\n"}],"owner":{"account_id":15007276,"reputation":51,"user_id":10832923,"display_name":"Deehaz05"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646763666,"creation_date":1639177853,"question_id":70311315,"body_markdown":"I&#39;ve just downloaded and installed graalvm-ce-java11-21.3.0. By default Native Image is not available, so I need to add it. So I ran this command, \r\n\r\n    gu install native-image\r\n\r\n I got this error:\r\n```\r\nDownloading: Release index file from oca.opensource.oracle.com\r\nDownloading: Component catalog from www.graalvm.org\r\nProcessing Component: Native Image\r\nDownloading: Component native-image: Native Image  from github.com\r\nInstalling new component: Native Image (org.graalvm.native-image, version 21.3.0)\r\nInstallation of Native Image failed: /home/deehaz/Downloads/graalvm-ce-java11-21.3.0/lib/graal_isolate.h: Operation not permitted\r\nI/O error occurred: /home/deehaz/Downloads/graalvm-ce-java11-21.3.0/lib/graal_isolate.h: Operation not permitted\r\n```\r\nPlease, can anyone tell me how to solve this?\r\n","title":"Can&#39;t install Graalvm native-image on ubuntu 20.04.3 LTS","body":"<p>I've just downloaded and installed graalvm-ce-java11-21.3.0. By default Native Image is not available, so I need to add it. So I ran this command,</p>\n<pre><code>gu install native-image\n</code></pre>\n<p>I got this error:</p>\n<pre><code>Downloading: Release index file from oca.opensource.oracle.com\nDownloading: Component catalog from www.graalvm.org\nProcessing Component: Native Image\nDownloading: Component native-image: Native Image  from github.com\nInstalling new component: Native Image (org.graalvm.native-image, version 21.3.0)\nInstallation of Native Image failed: /home/deehaz/Downloads/graalvm-ce-java11-21.3.0/lib/graal_isolate.h: Operation not permitted\nI/O error occurred: /home/deehaz/Downloads/graalvm-ce-java11-21.3.0/lib/graal_isolate.h: Operation not permitted\n</code></pre>\n<p>Please, can anyone tell me how to solve this?</p>\n"},{"tags":["java","jsp","jakarta-ee","servlets"],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1444491938,"creation_date":1444491938,"answer_id":33055790,"question_id":33055769,"body_markdown":"Look at your action \r\n\r\n       &lt;form action=&quot;hello.jsp&quot; id=&quot;calc-form&quot;&gt;\r\n\r\nYou need to point your action to the servlet. not JSP.","title":"Perform simple arithmetic operation and show the result on the same jsp page","body":"<p>Look at your action </p>\n\n<pre><code>   &lt;form action=\"hello.jsp\" id=\"calc-form\"&gt;\n</code></pre>\n\n<p>You need to point your action to the servlet. not JSP.</p>\n"}],"owner":{"account_id":5944172,"reputation":3271,"user_id":4674270,"accept_rate":95,"display_name":"Denis Yakovenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7722,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33055790,"answer_count":1,"score":0,"last_activity_date":1646763406,"creation_date":1444491775,"question_id":33055769,"body_markdown":"I&#39;m trying to wrap my head around servlets and JSP and I got stuck when implementing a simple calculator.\r\n\r\nBasically, I have two input fields, operator selection field and the submit button.\r\n\r\nWhen I click on the submit button I need to perform the chosen arithmetic operation on two values from input elements and show the result on the same page.\r\n\r\nHere&#39;s what I have:\r\n\r\n    &lt;!-- hello.jsp page --&gt;\r\n\r\n    &lt;form action=&quot;hello.jsp&quot; id=&quot;calc-form&quot;&gt;\r\n    \t&lt;input type=&quot;number&quot; name=&quot;num1&quot; required&gt;\r\n    \t&lt;select id=&quot;opers&quot; name=&quot;oper&quot;&gt;\r\n    \t\t&lt;option&gt;+&lt;/option&gt;\r\n    \t\t&lt;option&gt;-&lt;/option&gt;\r\n    \t\t&lt;option&gt;*&lt;/option&gt;\r\n    \t\t&lt;option&gt;/&lt;/option&gt;\r\n    \t&lt;/select&gt;\r\n    \t&lt;input type=&quot;number&quot; name=&quot;num2&quot; required&gt;\r\n    \t&lt;input type=&quot;submit&quot; value=&quot;Calculate&quot;&gt;\r\n    &lt;/form&gt;\r\n    &lt;h2&gt;The result is: ${result}&lt;/h2&gt;\r\n\r\nmy `doGet` method in `hello` servlet:\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \tresponse.setContentType(&quot;text/html&quot;);\r\n    \t\r\n    \tSystem.out.println(&quot;Hello#doGet&quot;);\r\n    \t\r\n    \tString strNum1 = request.getParameter(&quot;num1&quot;);\r\n    \tString strNum2 = request.getParameter(&quot;num2&quot;);\r\n    \tString oper = request.getParameter(&quot;oper&quot;);\r\n    \t\r\n    \tdouble a, b, result = 0;\r\n    \t\r\n    \tif(validateNum(strNum1) &amp;&amp; validateNum(strNum2) &amp;&amp; validateOper(oper)) {\r\n    \t\r\n    \t\ttry {\t\t\t\r\n    \t\t\t\r\n    \t\t\ta = Double.parseDouble(request.getParameter(&quot;num1&quot;));\r\n    \t\t\tb = Double.parseDouble(request.getParameter(&quot;num2&quot;));\r\n    \t\t\t\r\n    \t\t\tswitch(oper) {\r\n    \t\t\tcase &quot;+&quot;:\r\n    \t\t\t\tresult = a + b;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &quot;-&quot;:\r\n    \t\t\t\tresult = a - b;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &quot;*&quot;:\r\n    \t\t\t\tresult = a * b;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &quot;/&quot;:\r\n    \t\t\t\tif (b == 0) {\r\n    \t\t\t\t\tthrow new ArithmeticException(&quot;Division by zero is not allowed&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tresult = a / b;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch(NumberFormatException | ArithmeticException e) {\r\n                // handle the exception somehow\r\n    \t\t}\r\n    \t\trequest.setAttribute(&quot;result&quot;, result);\r\n    \r\n    \t}\r\n    \t\r\n    \tRequestDispatcher dispatcher = request.getRequestDispatcher(&quot;/hello.jsp&quot;);\r\n    \tdispatcher.forward(request, response);\r\n    }\r\n\r\nSo, when I go to `http://localhost:8080/test2/hello`, enter the numbers in input elements and press submit, I get redirected to address that looks pretty much like this:\r\n`http://localhost:8080/test2/hello.jsp?num1=4&amp;oper=*&amp;num2=4`\r\n\r\nhowever, I don&#39;t get the result.\r\n\r\nCould you please tell me what I&#39;m doing wrong here?","title":"Perform simple arithmetic operation and show the result on the same jsp page","body":"<p>I'm trying to wrap my head around servlets and JSP and I got stuck when implementing a simple calculator.</p>\n\n<p>Basically, I have two input fields, operator selection field and the submit button.</p>\n\n<p>When I click on the submit button I need to perform the chosen arithmetic operation on two values from input elements and show the result on the same page.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>&lt;!-- hello.jsp page --&gt;\n\n&lt;form action=\"hello.jsp\" id=\"calc-form\"&gt;\n    &lt;input type=\"number\" name=\"num1\" required&gt;\n    &lt;select id=\"opers\" name=\"oper\"&gt;\n        &lt;option&gt;+&lt;/option&gt;\n        &lt;option&gt;-&lt;/option&gt;\n        &lt;option&gt;*&lt;/option&gt;\n        &lt;option&gt;/&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;input type=\"number\" name=\"num2\" required&gt;\n    &lt;input type=\"submit\" value=\"Calculate\"&gt;\n&lt;/form&gt;\n&lt;h2&gt;The result is: ${result}&lt;/h2&gt;\n</code></pre>\n\n<p>my <code>doGet</code> method in <code>hello</code> servlet:</p>\n\n<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    response.setContentType(\"text/html\");\n\n    System.out.println(\"Hello#doGet\");\n\n    String strNum1 = request.getParameter(\"num1\");\n    String strNum2 = request.getParameter(\"num2\");\n    String oper = request.getParameter(\"oper\");\n\n    double a, b, result = 0;\n\n    if(validateNum(strNum1) &amp;&amp; validateNum(strNum2) &amp;&amp; validateOper(oper)) {\n\n        try {           \n\n            a = Double.parseDouble(request.getParameter(\"num1\"));\n            b = Double.parseDouble(request.getParameter(\"num2\"));\n\n            switch(oper) {\n            case \"+\":\n                result = a + b;\n                break;\n            case \"-\":\n                result = a - b;\n                break;\n            case \"*\":\n                result = a * b;\n                break;\n            case \"/\":\n                if (b == 0) {\n                    throw new ArithmeticException(\"Division by zero is not allowed\");\n                } else {\n                    result = a / b;\n                }\n            }\n        } catch(NumberFormatException | ArithmeticException e) {\n            // handle the exception somehow\n        }\n        request.setAttribute(\"result\", result);\n\n    }\n\n    RequestDispatcher dispatcher = request.getRequestDispatcher(\"/hello.jsp\");\n    dispatcher.forward(request, response);\n}\n</code></pre>\n\n<p>So, when I go to <code>http://localhost:8080/test2/hello</code>, enter the numbers in input elements and press submit, I get redirected to address that looks pretty much like this:\n<code>http://localhost:8080/test2/hello.jsp?num1=4&amp;oper=*&amp;num2=4</code></p>\n\n<p>however, I don't get the result.</p>\n\n<p>Could you please tell me what I'm doing wrong here?</p>\n"},{"tags":["java","gcc","gcc-warning","openjdk-11"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1646762957,"post_id":71399638,"comment_id":126202687,"body_markdown":"If you are getting an error include it in the question, not an off-site resource.","body":"If you are getting an error include it in the question, not an off-site resource."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1646763537,"post_id":71399638,"comment_id":126202881,"body_markdown":"https://bugs.openjdk.java.net/browse/JDK-8214444","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8214444\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8214444</a>"},{"owner":{"account_id":2272751,"reputation":360,"user_id":1999752,"accept_rate":0,"display_name":"Ekaterina Ivanova iceja.net"},"score":0,"creation_date":1646763954,"post_id":71399638,"comment_id":126203015,"body_markdown":"@JohnnyMopp sorry, I don&#39;t understand, is there a chance to build openJDK11 (any version) without modification of source code, or I can build only  openjdk 12?","body":"@JohnnyMopp sorry, I don&#39;t understand, is there a chance to build openJDK11 (any version) without modification of source code, or I can build only  openjdk 12?"}],"owner":{"account_id":2272751,"reputation":360,"user_id":1999752,"accept_rate":0,"display_name":"Ekaterina Ivanova iceja.net"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646763313,"creation_date":1646762876,"question_id":71399638,"body_markdown":"I need to build following openJDK\r\n\r\n    git clone --depth 1 --branch jdk-11+28 https://github.com/openjdk/jdk.git\r\n\r\non aarm64 NAME=&quot;Simply Linux&quot;, VERSION=&quot;9.1 (Destiny)&quot;\r\n\r\nFor that I run:\r\n\r\n        bash ./configure\r\n        make images &gt; make.log\r\n\r\nAnd it fails with following error (make.log)\r\n \r\n\r\n    Building target &#39;images&#39; in configuration &#39;linux-aarch64-normal-server-release&#39;\r\n        Warning: No mercurial configuration present and no .src-rev\r\n        Compiling 117 files for BUILD_java.compiler.interim\r\n        Compiling 394 files for BUILD_jdk.compiler.interim\r\n        Compiling 299 files for BUILD_jdk.javadoc.interim\r\n        \r\n        ERROR: Build failed for target &#39;images&#39; in configuration &#39;linux-aarch64-normal-server-release&#39; (exit code 2) \r\n        \r\n        === Output from failing command(s) repeated here ===\r\n        * For target hotspot_variant-server_tools_adlc_objs_dfa.o:\r\n        /home/user/jdk/src/hotspot/share/adlc/dfa.cpp: In member function ‘const char* Expr::compute_external(const Expr*, const Expr*)’:\r\n        /home/user/jdk/src/hotspot/share/adlc/dfa.cpp:724:14: error: ‘char* strncat(char*, const char*, size_t)’ specified bound 2048 equals destination size [-Werror=stringop-overflow=]\r\n               strncat(string_buffer, &quot;+&quot;, STRING_BUFFER_LENGTH);\r\n               ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n        /home/user/jdk/src/hotspot/share/adlc/dfa.cpp:732:14: error: ‘char* strncat(char*, const char*, size_t)’ specified bound 2048 equals destination size [-Werror=stringop-overflow=]\r\n               strncat(string_buffer, &quot; + &quot;, STRING_BUFFER_LENGTH);\r\n               ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n        /home/user/jdk/src/hotspot/share/adlc/dfa.cpp: In member function ‘const char* Expr::compute_expr(const Expr*, const Expr*)’:\r\n        /home/user/jdk/src/hotspot/share/adlc/dfa.cpp:746:14: error: ‘char* strncat(char*, const char*, size_t)’ specified bound 2048 equals destination size [-Werror=stringop-overflow=]\r\n               strncat(string_buffer, &quot;+&quot;, STRING_BUFFER_LENGTH);\r\n               ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n        cc1plus: all warnings being treated as errors\r\n        \r\n        * All command lines available in /home/user/jdk/build/linux-aarch64-normal-server-release/make-support/failure-logs.\r\n        === End of repeated output ===\r\n        \r\n        No indication of failed target found.\r\n        Hint: Try searching the build log for &#39;] Error&#39;.\r\n        Hint: See doc/building.html#troubleshooting for assistance.\r\n\r\nWhat am I doing wrong?\r\nWhere can I submit a bug report about openjdk11, or discuss this issue?","title":"Why warnings crashes openJDK-11 build?","body":"<p>I need to build following openJDK</p>\n<pre><code>git clone --depth 1 --branch jdk-11+28 https://github.com/openjdk/jdk.git\n</code></pre>\n<p>on aarm64 NAME=&quot;Simply Linux&quot;, VERSION=&quot;9.1 (Destiny)&quot;</p>\n<p>For that I run:</p>\n<pre><code>    bash ./configure\n    make images &gt; make.log\n</code></pre>\n<p>And it fails with following error (make.log)</p>\n<pre><code>Building target 'images' in configuration 'linux-aarch64-normal-server-release'\n    Warning: No mercurial configuration present and no .src-rev\n    Compiling 117 files for BUILD_java.compiler.interim\n    Compiling 394 files for BUILD_jdk.compiler.interim\n    Compiling 299 files for BUILD_jdk.javadoc.interim\n    \n    ERROR: Build failed for target 'images' in configuration 'linux-aarch64-normal-server-release' (exit code 2) \n    \n    === Output from failing command(s) repeated here ===\n    * For target hotspot_variant-server_tools_adlc_objs_dfa.o:\n    /home/user/jdk/src/hotspot/share/adlc/dfa.cpp: In member function ‘const char* Expr::compute_external(const Expr*, const Expr*)’:\n    /home/user/jdk/src/hotspot/share/adlc/dfa.cpp:724:14: error: ‘char* strncat(char*, const char*, size_t)’ specified bound 2048 equals destination size [-Werror=stringop-overflow=]\n           strncat(string_buffer, &quot;+&quot;, STRING_BUFFER_LENGTH);\n           ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    /home/user/jdk/src/hotspot/share/adlc/dfa.cpp:732:14: error: ‘char* strncat(char*, const char*, size_t)’ specified bound 2048 equals destination size [-Werror=stringop-overflow=]\n           strncat(string_buffer, &quot; + &quot;, STRING_BUFFER_LENGTH);\n           ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    /home/user/jdk/src/hotspot/share/adlc/dfa.cpp: In member function ‘const char* Expr::compute_expr(const Expr*, const Expr*)’:\n    /home/user/jdk/src/hotspot/share/adlc/dfa.cpp:746:14: error: ‘char* strncat(char*, const char*, size_t)’ specified bound 2048 equals destination size [-Werror=stringop-overflow=]\n           strncat(string_buffer, &quot;+&quot;, STRING_BUFFER_LENGTH);\n           ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    cc1plus: all warnings being treated as errors\n    \n    * All command lines available in /home/user/jdk/build/linux-aarch64-normal-server-release/make-support/failure-logs.\n    === End of repeated output ===\n    \n    No indication of failed target found.\n    Hint: Try searching the build log for '] Error'.\n    Hint: See doc/building.html#troubleshooting for assistance.\n</code></pre>\n<p>What am I doing wrong?\nWhere can I submit a bug report about openjdk11, or discuss this issue?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1624836413,"post_id":68155990,"comment_id":120458712,"body_markdown":"Are you failing the last test case because the time limit has been exceeded?","body":"Are you failing the last test case because the time limit has been exceeded?"}],"answers":[{"tags":[],"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646762954,"creation_date":1624838598,"answer_id":68156194,"question_id":68155990,"body_markdown":"The problem in your solution is that you&#39;re not checking all possible couples within the array of numbers.\r\n\r\nWith this *for* loop, for example:\r\n\r\n    for (int i = 0; i &lt; arr.size() - 1; i++) {\r\n        absValues = Math.abs(arr.get(i) - arr.get(i + 1));\r\n    }\r\n\r\nAnd iterating over the simple array 1, 4, 6, 7, you would be checking the couples [1,4], [4,6] and [6,7], but you&#39;re still missing 1,7 and 4,7.\r\n\r\nSo step number one would be to iterate over the array per every number of the array (knowing that the order of the pairs doesn&#39;t matter [1,6] == [6,1] in this case, you will have to check 1 less number every iteration of the outer loop... here is an example of a correct *for* loop:\r\n\r\n    public static int minimumAbsoluteDifference(List&lt;Integer&gt; arr) {\r\n        Collections.sort(arr);\r\n        int minAbsoluteValue = Integer.MAX_VALUE;\r\n        for(int i=0; i &lt; arr.size() - 1; i++) {\r\n            for(int j=i+1; j &lt; arr.size(); j++)\r\n               minAbsoluteValue = Math.min(Math.abs(arr.get(i) - arr.get(j)), minAbsoluteValue);\r\n        }\r\n        return minAbsoluteValue;\r\n    }\r\n\r\nAs you can see, another missing part in your solution is the tracking of the minimum value. You&#39;re checking the minimum value between the last iterated couple and the maxInteger value only *once*, while you have to that for every couple.\r\n\r\nThis might not be the most efficient solution...\r\n\r\n\r\n\r\n\r\n","title":"How do I find the minimum absolute difference between any two elements in an array?","body":"<p>The problem in your solution is that you're not checking all possible couples within the array of numbers.</p>\n<p>With this <em>for</em> loop, for example:</p>\n<pre><code>for (int i = 0; i &lt; arr.size() - 1; i++) {\n    absValues = Math.abs(arr.get(i) - arr.get(i + 1));\n}\n</code></pre>\n<p>And iterating over the simple array 1, 4, 6, 7, you would be checking the couples [1,4], [4,6] and [6,7], but you're still missing 1,7 and 4,7.</p>\n<p>So step number one would be to iterate over the array per every number of the array (knowing that the order of the pairs doesn't matter [1,6] == [6,1] in this case, you will have to check 1 less number every iteration of the outer loop... here is an example of a correct <em>for</em> loop:</p>\n<pre><code>public static int minimumAbsoluteDifference(List&lt;Integer&gt; arr) {\n    Collections.sort(arr);\n    int minAbsoluteValue = Integer.MAX_VALUE;\n    for(int i=0; i &lt; arr.size() - 1; i++) {\n        for(int j=i+1; j &lt; arr.size(); j++)\n           minAbsoluteValue = Math.min(Math.abs(arr.get(i) - arr.get(j)), minAbsoluteValue);\n    }\n    return minAbsoluteValue;\n}\n</code></pre>\n<p>As you can see, another missing part in your solution is the tracking of the minimum value. You're checking the minimum value between the last iterated couple and the maxInteger value only <em>once</em>, while you have to that for every couple.</p>\n<p>This might not be the most efficient solution...</p>\n"},{"tags":[],"owner":{"account_id":4120442,"reputation":121,"user_id":6610937,"display_name":"Felipe Soares"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646763270,"creation_date":1624839709,"answer_id":68156267,"question_id":68155990,"body_markdown":"As [L_Cleo suggested][1], you indeed check the minimum value only once.\r\nInstead, you should check it on every iteration of the loop:\r\n\r\n```\r\npublic static int minimumAbsoluteDifference(List&lt;Integer&gt; arr) {\r\n    int absValue = Integer.MAX_VALUE;\r\n    Collections.sort(arr);\r\n    for (int i = 0; i &lt; arr.size() - 1; i++) {\r\n        absValue = Math.min(absValue, Math.abs(arr.get(i) - arr.get(i + 1)));\r\n    }\r\n\r\n    return absValue;\r\n}\r\n```\r\n\r\nI added the minimum check on every iteration. The checking is done between the `absValue` and the absolute difference of the current loop iteration.\r\n\r\nBy the end of the loop, `absValue` will contain the minimum value, because you have compared it to every other possibility.\r\n\r\n**The longer explanation why this works is this:**\r\n\r\nThe reason why updating the `absValue` in each loop iteration is enough is this: `absValue`&#39;s first value is `Integer.MAX_VALUE`. This means that any other value will be smaller than `absValue`. In the first loop iteration, `absValue` is updated with the first absolute difference. In all other iterations, the code will always update `absValue` with the smaller value between the current `absValue` and the absolute difference you calculate on each iteration.\r\n\r\nThis guarantees that, for all iterations, the smallest value will be stored in `absValue` at some point, and in the further iterations, `absValue` value will not change.\r\n\r\n  [1]: https://stackoverflow.com/questions/68155990/how-do-i-find-the-minimum-absolute-difference-between-any-two-elements-in-an-arr/68156194#68156194\r\n\r\n\r\n","title":"How do I find the minimum absolute difference between any two elements in an array?","body":"<p>As <a href=\"https://stackoverflow.com/questions/68155990/how-do-i-find-the-minimum-absolute-difference-between-any-two-elements-in-an-arr/68156194#68156194\">L_Cleo suggested</a>, you indeed check the minimum value only once.\nInstead, you should check it on every iteration of the loop:</p>\n<pre><code>public static int minimumAbsoluteDifference(List&lt;Integer&gt; arr) {\n    int absValue = Integer.MAX_VALUE;\n    Collections.sort(arr);\n    for (int i = 0; i &lt; arr.size() - 1; i++) {\n        absValue = Math.min(absValue, Math.abs(arr.get(i) - arr.get(i + 1)));\n    }\n\n    return absValue;\n}\n</code></pre>\n<p>I added the minimum check on every iteration. The checking is done between the <code>absValue</code> and the absolute difference of the current loop iteration.</p>\n<p>By the end of the loop, <code>absValue</code> will contain the minimum value, because you have compared it to every other possibility.</p>\n<p><strong>The longer explanation why this works is this:</strong></p>\n<p>The reason why updating the <code>absValue</code> in each loop iteration is enough is this: <code>absValue</code>'s first value is <code>Integer.MAX_VALUE</code>. This means that any other value will be smaller than <code>absValue</code>. In the first loop iteration, <code>absValue</code> is updated with the first absolute difference. In all other iterations, the code will always update <code>absValue</code> with the smaller value between the current <code>absValue</code> and the absolute difference you calculate on each iteration.</p>\n<p>This guarantees that, for all iterations, the smallest value will be stored in <code>absValue</code> at some point, and in the further iterations, <code>absValue</code> value will not change.</p>\n"}],"owner":{"account_id":19171911,"reputation":59,"user_id":14005469,"display_name":"Emeka A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68156267,"answer_count":2,"score":1,"last_activity_date":1646763270,"creation_date":1624835484,"question_id":68155990,"body_markdown":"Here is my solution:\r\n\r\n``` java\r\npublic static int minimumAbsoluteDifference(List&lt;Integer&gt; arr) {\r\n   int absValues = 0;\r\n   int maxNum = Integer.MAX_VALUE;\r\n   Collections.sort(arr);\r\n   for (int i = 0; i &lt; arr.size() - 1; i++){\r\n      absValues = Math.abs(arr.get(i) - arr.get(i + 1));\r\n   }\r\n   int absValuesDiff = Math.min(absValues, maxNum);\r\n   return absValuesDiff;\r\n}\r\n```\r\n\r\nI pass small test cases, but not ones with a larger data set.\r\n\r\n\r\n\r\n\r\n","title":"How do I find the minimum absolute difference between any two elements in an array?","body":"<p>Here is my solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int minimumAbsoluteDifference(List&lt;Integer&gt; arr) {\n   int absValues = 0;\n   int maxNum = Integer.MAX_VALUE;\n   Collections.sort(arr);\n   for (int i = 0; i &lt; arr.size() - 1; i++){\n      absValues = Math.abs(arr.get(i) - arr.get(i + 1));\n   }\n   int absValuesDiff = Math.min(absValues, maxNum);\n   return absValuesDiff;\n}\n</code></pre>\n<p>I pass small test cases, but not ones with a larger data set.</p>\n"},{"tags":["java","if-statement","parsing"],"answers":[{"tags":[],"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646752576,"creation_date":1646752576,"answer_id":71397336,"question_id":71396931,"body_markdown":"Your code is trying to read the same number twice:\r\n\r\n    System.out.print(&quot;Enter the first number: &quot;);\r\n    String num1 = numbers.nextLine();\r\n    number1 = Double.parseDouble(numbers.nextLine());\r\n\r\nWhat you should do is read the number as a string, confirm that it is a number and then parse it only if it matches.\r\n\r\n    System.out.print(&quot;Enter the first number: &quot;);\r\n    String num1 = numbers.nextLine();\r\n    boolean check1 = num1.matches(&quot;[0-9]+&quot;);\r\n    if(check1){\r\n        number1 = Double.parseDouble(num1);\r\n    }\r\n    else{\r\n        //Error handling\r\n    }\r\n\r\nAlternatively you can simply try to parse the string directly and catch the exception i.e.\r\n\r\n    System.out.print(&quot;Enter the first number: &quot;);\r\n    String num1 = numbers.nextLine();\r\n    try{\r\n        number1 = Double.parseDouble(num1);\r\n    } catch(NumberFormatException e){\r\n        //Error handling\r\n    }","title":"How would I check If two user inputs only contains numbers(calculator program), I keep getting a runtime error","body":"<p>Your code is trying to read the same number twice:</p>\n<pre><code>System.out.print(&quot;Enter the first number: &quot;);\nString num1 = numbers.nextLine();\nnumber1 = Double.parseDouble(numbers.nextLine());\n</code></pre>\n<p>What you should do is read the number as a string, confirm that it is a number and then parse it only if it matches.</p>\n<pre><code>System.out.print(&quot;Enter the first number: &quot;);\nString num1 = numbers.nextLine();\nboolean check1 = num1.matches(&quot;[0-9]+&quot;);\nif(check1){\n    number1 = Double.parseDouble(num1);\n}\nelse{\n    //Error handling\n}\n</code></pre>\n<p>Alternatively you can simply try to parse the string directly and catch the exception i.e.</p>\n<pre><code>System.out.print(&quot;Enter the first number: &quot;);\nString num1 = numbers.nextLine();\ntry{\n    number1 = Double.parseDouble(num1);\n} catch(NumberFormatException e){\n    //Error handling\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24430599,"reputation":91,"user_id":18356893,"display_name":"Ernesto L&#243;pez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646763262,"creation_date":1646754020,"answer_id":71397672,"question_id":71396931,"body_markdown":"Your approach is OK. Although Scanner lib provides the nextDouble() method I recommend using the regular expression control you are using. Even though there are some little things to fix:\r\n\r\n1) You are parsing (convert from String to double) first, and then checking format. If for example, the user enters a letter your program will fail when parseDouble tries to convert the String to double. So, read the String from the input, apply the match control, and if there is no Error then parse.\r\n\r\n2) Your regular expression is matching any String that has 1 or more numbers. For example, the input *Hello1* will match because there is at least one number. Then the parse will fail because *Hello1* is not a valid number. You have to use a regular expression that matches only numbers. This expression will look like this: *&quot;^[0-9]+$&quot;*\r\n\r\nThe ^ character means that the expression must match at the beginning of the line, and the $ character force that the expression match at the end of the line. In other words, this expression should have numbers from the beginning to the end of the string. It would be a good thing to add a .trim() (num1.trim().matches(&quot;[0-9]+&quot;);) to delete any extra white space at the beginning or at the end.\r\n\r\n3) The third recommendation is that if you don&#39;t want to use decimals may be Double type is not the proper data type to use. Double can represent decimals. The proper type should be Integers.\r\n\r\n    number1 = Integer.parseInt(num1);\r\n\r\n4) @christopher When you raise error you are printing a message but the program keeps running. That&#39;s why you get the Error commented on @Turamarth solution comment\r\n\r\n  \r\n\r\n","title":"How would I check If two user inputs only contains numbers(calculator program), I keep getting a runtime error","body":"<p>Your approach is OK. Although Scanner lib provides the nextDouble() method I recommend using the regular expression control you are using. Even though there are some little things to fix:</p>\n<ol>\n<li><p>You are parsing (convert from String to double) first, and then checking format. If for example, the user enters a letter your program will fail when parseDouble tries to convert the String to double. So, read the String from the input, apply the match control, and if there is no Error then parse.</p>\n</li>\n<li><p>Your regular expression is matching any String that has 1 or more numbers. For example, the input <em>Hello1</em> will match because there is at least one number. Then the parse will fail because <em>Hello1</em> is not a valid number. You have to use a regular expression that matches only numbers. This expression will look like this: <em>&quot;^[0-9]+$&quot;</em></p>\n</li>\n</ol>\n<p>The ^ character means that the expression must match at the beginning of the line, and the $ character force that the expression match at the end of the line. In other words, this expression should have numbers from the beginning to the end of the string. It would be a good thing to add a .trim() (num1.trim().matches(&quot;[0-9]+&quot;);) to delete any extra white space at the beginning or at the end.</p>\n<ol start=\"3\">\n<li><p>The third recommendation is that if you don't want to use decimals may be Double type is not the proper data type to use. Double can represent decimals. The proper type should be Integers.</p>\n<p>number1 = Integer.parseInt(num1);</p>\n</li>\n<li><p>@christopher When you raise error you are printing a message but the program keeps running. That's why you get the Error commented on @Turamarth solution comment</p>\n</li>\n</ol>\n"}],"owner":{"account_id":23246561,"reputation":35,"user_id":17335076,"display_name":"Christopher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71397336,"answer_count":2,"score":0,"last_activity_date":1646763262,"creation_date":1646750917,"question_id":71396931,"body_markdown":"Hi I&#39;m still new to java and I would like to know how to check if the user only input numbers and not letters my problem comes in when I had to parse the input from string to double to be able to add decimals together in the console. But when I googled to see how to check if my input is only numbers I had to take in a string input that gives me *2 inputs(hope I&#39;m making sense).Is there maybe a easier version to do this or am I missing something.\r\n\r\n    public class javaCalculator {\r\n        public static void main(String[] args){\r\n            //initializing two scanners for numbers and operations and creating 3 variables\r\n            Scanner numbers = new Scanner(System.in);\r\n            Scanner operation = new Scanner(System.in);\r\n    \r\n            double number1;\r\n            double number2;\r\n            String operator;\r\n    \r\n            //getting user input for the type of operations and numbers they want to enter\r\n            System.out.print(&quot;Enter the operator you would like to choose(+, -, *, /): &quot;);\r\n            operator = operation.next();\r\n    \r\n            //My program didn&#39;t want to take decimals, so I had to parseDouble which takes the input as a string and then\r\n            //converts(parse) it to a double which then makes my program run with decimal numbers\r\n            System.out.print(&quot;Enter the first number: &quot;);\r\n            String num1 = numbers.nextLine();\r\n            number1 = Double.parseDouble(numbers.nextLine());\r\n    \r\n            System.out.print(&quot;Enter your second number: &quot;);\r\n            String num2 = numbers.nextLine();\r\n            number2 = Double.parseDouble(numbers.nextLine());\r\n    \r\n            boolean check1 = num1.matches(&quot;[0-9]+&quot;);\r\n            boolean check2 = num2.matches(&quot;[0-9]+&quot;);\r\n    \r\n            if (check1 == true &amp;&amp; check2 == true){\r\n                System.out.println(&quot;...&quot;);\r\n            }else {\r\n                System.out.println(&quot;Only enter numbers not letters.&quot;);\r\n            }\r\n    \r\n            //Using if else statements to check what operation was chosen above and then depending on\r\n            //that choice(+, -, *, /) printing a suitable answer to console\r\n            //Creating a calculation variable to use in the writing to a file\r\n            String calculation;\r\n            if (operator.equals(&quot;+&quot;)){\r\n                calculation = (number1 + &quot; + &quot; + number2 + &quot; = &quot; + (number1 + number2));\r\n                System.out.println(calculation);\r\n    \r\n            }else if (operator.equals(&quot;-&quot;)){\r\n                calculation = (number1 + &quot; - &quot; + number2 + &quot; = &quot; + (number1 - number2));\r\n                System.out.println(calculation);\r\n    \r\n            }else if (operator.equals(&quot;*&quot;)){\r\n                calculation = (number1 + &quot; * &quot; + number2 + &quot; = &quot; + (number1 * number2));\r\n                System.out.println(calculation);\r\n    \r\n            }else if (operator.equals(&quot;/&quot;)){\r\n                calculation = (number1 + &quot; / &quot; + number2 + &quot; = &quot; + (number1 / number2));\r\n                System.out.println(calculation);\r\n    \r\n            }else{\r\n                calculation = operator + &quot;:&quot; + &quot; Is not a valid operator!&quot;;\r\n                System.out.println(calculation);\r\n    \r\n            }\r\n\r\n    ","title":"How would I check If two user inputs only contains numbers(calculator program), I keep getting a runtime error","body":"<p>Hi I'm still new to java and I would like to know how to check if the user only input numbers and not letters my problem comes in when I had to parse the input from string to double to be able to add decimals together in the console. But when I googled to see how to check if my input is only numbers I had to take in a string input that gives me *2 inputs(hope I'm making sense).Is there maybe a easier version to do this or am I missing something.</p>\n<pre><code>public class javaCalculator {\n    public static void main(String[] args){\n        //initializing two scanners for numbers and operations and creating 3 variables\n        Scanner numbers = new Scanner(System.in);\n        Scanner operation = new Scanner(System.in);\n\n        double number1;\n        double number2;\n        String operator;\n\n        //getting user input for the type of operations and numbers they want to enter\n        System.out.print(&quot;Enter the operator you would like to choose(+, -, *, /): &quot;);\n        operator = operation.next();\n\n        //My program didn't want to take decimals, so I had to parseDouble which takes the input as a string and then\n        //converts(parse) it to a double which then makes my program run with decimal numbers\n        System.out.print(&quot;Enter the first number: &quot;);\n        String num1 = numbers.nextLine();\n        number1 = Double.parseDouble(numbers.nextLine());\n\n        System.out.print(&quot;Enter your second number: &quot;);\n        String num2 = numbers.nextLine();\n        number2 = Double.parseDouble(numbers.nextLine());\n\n        boolean check1 = num1.matches(&quot;[0-9]+&quot;);\n        boolean check2 = num2.matches(&quot;[0-9]+&quot;);\n\n        if (check1 == true &amp;&amp; check2 == true){\n            System.out.println(&quot;...&quot;);\n        }else {\n            System.out.println(&quot;Only enter numbers not letters.&quot;);\n        }\n\n        //Using if else statements to check what operation was chosen above and then depending on\n        //that choice(+, -, *, /) printing a suitable answer to console\n        //Creating a calculation variable to use in the writing to a file\n        String calculation;\n        if (operator.equals(&quot;+&quot;)){\n            calculation = (number1 + &quot; + &quot; + number2 + &quot; = &quot; + (number1 + number2));\n            System.out.println(calculation);\n\n        }else if (operator.equals(&quot;-&quot;)){\n            calculation = (number1 + &quot; - &quot; + number2 + &quot; = &quot; + (number1 - number2));\n            System.out.println(calculation);\n\n        }else if (operator.equals(&quot;*&quot;)){\n            calculation = (number1 + &quot; * &quot; + number2 + &quot; = &quot; + (number1 * number2));\n            System.out.println(calculation);\n\n        }else if (operator.equals(&quot;/&quot;)){\n            calculation = (number1 + &quot; / &quot; + number2 + &quot; = &quot; + (number1 / number2));\n            System.out.println(calculation);\n\n        }else{\n            calculation = operator + &quot;:&quot; + &quot; Is not a valid operator!&quot;;\n            System.out.println(calculation);\n\n        }\n</code></pre>\n"},{"tags":["java","regex","swing","jtextfield"],"answers":[{"tags":[],"owner":{"account_id":9457474,"reputation":343,"user_id":7032312,"display_name":"Stephen Collins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584827885,"creation_date":1545095709,"answer_id":53825107,"question_id":53824884,"body_markdown":"I finally figured it out right after posting this question! (funny how things work out)\r\n\r\nRegex Expression: `^(-{1})|(-[1-9])|(-[1-9]([0-9]{1,}))|([0-9]{1,})$`\r\n\r\nFor anyone who didn&#39;t know (like I) `|` is an OR symbol in regex. So this expression will allow values to pass by matching the string in steps,\r\n\r\n`(-{1})` Passes one &#39;-&#39;\r\n\r\n`(-[1-9])` Passes a &#39;-&#39; which one non zero integer is appended to\r\n\r\n`(-[1-9]([0-9]{1,}))` Passes a &#39;-&#39; with one non zero integer appended to and also allows any number of integers after this pass\r\n\r\n`([0-9]{1,})` Passes any positive integer regardless of the starting integer\r\n\r\nHope this helps!","title":"Java REGEX With Document Filter","body":"<p>I finally figured it out right after posting this question! (funny how things work out)</p>\n\n<p>Regex Expression: <code>^(-{1})|(-[1-9])|(-[1-9]([0-9]{1,}))|([0-9]{1,})$</code></p>\n\n<p>For anyone who didn't know (like I) <code>|</code> is an OR symbol in regex. So this expression will allow values to pass by matching the string in steps,</p>\n\n<p><code>(-{1})</code> Passes one '-'</p>\n\n<p><code>(-[1-9])</code> Passes a '-' which one non zero integer is appended to</p>\n\n<p><code>(-[1-9]([0-9]{1,}))</code> Passes a '-' with one non zero integer appended to and also allows any number of integers after this pass</p>\n\n<p><code>([0-9]{1,})</code> Passes any positive integer regardless of the starting integer</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"display_name":"user557597"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1545169932,"creation_date":1545098765,"answer_id":53825442,"question_id":53824884,"body_markdown":"Instead of all the alternations, factor it down to this  \r\n\r\n`&quot;^(?=[-\\\\d])(?:-(?!0))?\\\\d*$&quot;`  \r\n\r\nExplained  \r\n\r\n     ^                             # Beginning of string\r\n     (?= [-\\d] )                   # Must be a character in it\r\n     (?:                           # Optional minus sign\r\n          -\r\n          (?! 0 )                       # If not followed by 0\r\n     )?\r\n     \\d*                           # Optional digits [0-9]\r\n     $                             # End of string\r\n\r\n**_Mod:_**  \r\n\r\nWith a little extra effort, you could get the partial valid string in  \r\ncapture group 1 and any remaining _invalid trailing chars_ in group 2.  \r\n\r\nAll this requires is to test if there is a match.  \r\nOf course you need the matcher to get the groups.\r\n\r\nPossible outcomes:  \r\n\r\n 1. The regex didn&#39;t match, the string is empty.  \r\nAction: take no action.  \r\n 2. Regex matched.  \r\n**a**. Action: If length of group 2 &gt; 0, write to text field  \r\nwith group 1 string, and place cursor at the end.    \r\n**b**. Action: If length of group 2 == 0, take no action, input is going correctly.\r\n\r\n`&quot;^(?=.)((?:-(?&gt;(?=0)|\\\\d*)|\\\\d*))(.*)$&quot;`\r\n\r\nhttps://regex101.com/r/oxmZfa/1\r\n\r\nExplained  \r\n\r\n     ^                             # Beginning of string\r\n     \r\n     (?= . )                       # Must be a character in the string\r\n     \r\n     (                             # (1 start), Template for pattial validity\r\n          (?:\r\n               -                             # The case for minus\r\n               (?&gt;                           # Atomic group for safety\r\n                    (?= 0 )                       # Don&#39;t capture 0 if it&#39;s ahead\r\n                 |                              # or,\r\n                    \\d*                           # Any digits, 0 won&#39;t be first\r\n               )\r\n            |                              # or, the case for No minus\r\n               \\d*                           # Any digits\r\n          )\r\n     )                             # (1 end)\r\n     \r\n     ( .* )                        # (2), This is to be trimmed, stuff here doesn&#39;t match the template\r\n     \r\n     $                             # End of string\r\n\r\nWhen the user submits the text use this regex to validate the input.  \r\nIf it doesn&#39;t match, the user did not add numbers to the field.  \r\nJust popup a message that the input is incomplete.  \r\n\r\n`&quot;^(?=[-\\\\d])(?:-(?!0))?\\\\d+$&quot;`\r\n\r\n","title":"Java REGEX With Document Filter","body":"<p>Instead of all the alternations, factor it down to this  </p>\n\n<p><code>\"^(?=[-\\\\d])(?:-(?!0))?\\\\d*$\"</code>  </p>\n\n<p>Explained  </p>\n\n<pre><code> ^                             # Beginning of string\n (?= [-\\d] )                   # Must be a character in it\n (?:                           # Optional minus sign\n      -\n      (?! 0 )                       # If not followed by 0\n )?\n \\d*                           # Optional digits [0-9]\n $                             # End of string\n</code></pre>\n\n<p><strong><em>Mod:</em></strong>  </p>\n\n<p>With a little extra effort, you could get the partial valid string in<br>\ncapture group 1 and any remaining <em>invalid trailing chars</em> in group 2.  </p>\n\n<p>All this requires is to test if there is a match.<br>\nOf course you need the matcher to get the groups.</p>\n\n<p>Possible outcomes:  </p>\n\n<ol>\n<li>The regex didn't match, the string is empty.<br>\nAction: take no action.  </li>\n<li>Regex matched.<br>\n<strong>a</strong>. Action: If length of group 2 > 0, write to text field<br>\nwith group 1 string, and place cursor at the end.<br>\n<strong>b</strong>. Action: If length of group 2 == 0, take no action, input is going correctly.</li>\n</ol>\n\n<p><code>\"^(?=.)((?:-(?&gt;(?=0)|\\\\d*)|\\\\d*))(.*)$\"</code></p>\n\n<p><a href=\"https://regex101.com/r/oxmZfa/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/oxmZfa/1</a></p>\n\n<p>Explained  </p>\n\n<pre><code> ^                             # Beginning of string\n\n (?= . )                       # Must be a character in the string\n\n (                             # (1 start), Template for pattial validity\n      (?:\n           -                             # The case for minus\n           (?&gt;                           # Atomic group for safety\n                (?= 0 )                       # Don't capture 0 if it's ahead\n             |                              # or,\n                \\d*                           # Any digits, 0 won't be first\n           )\n        |                              # or, the case for No minus\n           \\d*                           # Any digits\n      )\n )                             # (1 end)\n\n ( .* )                        # (2), This is to be trimmed, stuff here doesn't match the template\n\n $                             # End of string\n</code></pre>\n\n<p>When the user submits the text use this regex to validate the input.<br>\nIf it doesn't match, the user did not add numbers to the field.<br>\nJust popup a message that the input is incomplete.  </p>\n\n<p><code>\"^(?=[-\\\\d])(?:-(?!0))?\\\\d+$\"</code></p>\n"}],"owner":{"account_id":9457474,"reputation":343,"user_id":7032312,"display_name":"Stephen Collins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53825442,"answer_count":2,"score":3,"last_activity_date":1646763104,"creation_date":1545093690,"question_id":53824884,"body_markdown":"I have been trying to figure out a REGEX expressions which can filter characters which are not &#39;-&#39; or 0-9. This expression will be used with a document filter which will filter characters being inserted into JTextFields. Let me explain in more detail...\r\n\r\nWhen a user enters a character into a JTextField a DocumentFilter checks the input using the `replace` method in the DocumentFilter class. Because the method is called every time a character is inserted the REGEX needed to be able to handle parts of an integer as the user builds the string. For example,\r\n\r\n    Key Press 1): Value = &#39;-&#39; PASS\r\n    Key Press 2): Value = &#39;-1&#39; PASS\r\n    Key Press 3): Value = &#39;-10&#39; PASS etc...\r\n\r\nHowever the filter should not allow the combination &#39;-0&#39; or &#39;--&#39; and should pass the following cases,\r\n\r\nNegative Symbol Only (&#39;-&#39;)\r\n\r\nNegative Number Without Zero Next To &#39;-&#39; (&#39;-01&#39; fail)\r\n\r\nPositive Values (0122 and 122 pass)\r\n\r\nHere is my code:\r\n\r\n    package regex;\r\n        \r\n    import javax.swing.text.AttributeSet;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.DocumentFilter;\r\n    \r\n    public class CustomFilter extends DocumentFilter {\r\n    \t\r\n    \tprivate String regex = &quot;((-?)([1-9]??))(\\d)&quot;;\r\n    \t\r\n    \t/**\r\n    \t * Called every time a new character is added.\r\n    \t */\r\n    \t@Override\r\n    \tpublic void insertString(DocumentFilter.FilterBypass fb, int offset, String string, AttributeSet attr) throws BadLocationException {\r\n    \t\t\r\n    \t\tString text = fb.getDocument().getText(0, fb.getDocument().getLength());\r\n    \t\ttext += string;\r\n    \t\t\r\n    \t\tif(text.matches(regex)) {\r\n    \t\t\tsuper.insertString(fb, offset, string, attr);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Called when the user pastes in new text.\r\n    \t */\r\n    \t@Override\r\n    \tpublic void replace(DocumentFilter.FilterBypass fb, int offset, int length, String text, AttributeSet attrs) throws BadLocationException {\r\n    \t\t\r\n    \t\tString string = fb.getDocument().getText(0, fb.getDocument().getLength());\r\n    \t\tstring += text;\r\n    \t\t\r\n    \t\tif(string.matches(regex)) {\r\n    \t\t\tsuper.replace(fb, offset, length, text, attrs);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void remove(FilterBypass fb, int offset, int length) throws BadLocationException {\r\n    \t\tsuper.remove(fb, offset, length); // I may modify this later\r\n    \t}\r\n    }\r\n\r\nIf you believe I am going about this in the wrong direction please let me know. I am open to a more simplistic option.","title":"Java REGEX With Document Filter","body":"<p>I have been trying to figure out a REGEX expressions which can filter characters which are not '-' or 0-9. This expression will be used with a document filter which will filter characters being inserted into JTextFields. Let me explain in more detail...</p>\n\n<p>When a user enters a character into a JTextField a DocumentFilter checks the input using the <code>replace</code> method in the DocumentFilter class. Because the method is called every time a character is inserted the REGEX needed to be able to handle parts of an integer as the user builds the string. For example,</p>\n\n<pre><code>Key Press 1): Value = '-' PASS\nKey Press 2): Value = '-1' PASS\nKey Press 3): Value = '-10' PASS etc...\n</code></pre>\n\n<p>However the filter should not allow the combination '-0' or '--' and should pass the following cases,</p>\n\n<p>Negative Symbol Only ('-')</p>\n\n<p>Negative Number Without Zero Next To '-' ('-01' fail)</p>\n\n<p>Positive Values (0122 and 122 pass)</p>\n\n<p>Here is my code:</p>\n\n<pre><code>package regex;\n\nimport javax.swing.text.AttributeSet;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.DocumentFilter;\n\npublic class CustomFilter extends DocumentFilter {\n\n    private String regex = \"((-?)([1-9]??))(\\d)\";\n\n    /**\n     * Called every time a new character is added.\n     */\n    @Override\n    public void insertString(DocumentFilter.FilterBypass fb, int offset, String string, AttributeSet attr) throws BadLocationException {\n\n        String text = fb.getDocument().getText(0, fb.getDocument().getLength());\n        text += string;\n\n        if(text.matches(regex)) {\n            super.insertString(fb, offset, string, attr);\n        }\n    }\n\n    /**\n     * Called when the user pastes in new text.\n     */\n    @Override\n    public void replace(DocumentFilter.FilterBypass fb, int offset, int length, String text, AttributeSet attrs) throws BadLocationException {\n\n        String string = fb.getDocument().getText(0, fb.getDocument().getLength());\n        string += text;\n\n        if(string.matches(regex)) {\n            super.replace(fb, offset, length, text, attrs);\n        }\n    }\n\n    @Override\n    public void remove(FilterBypass fb, int offset, int length) throws BadLocationException {\n        super.remove(fb, offset, length); // I may modify this later\n    }\n}\n</code></pre>\n\n<p>If you believe I am going about this in the wrong direction please let me know. I am open to a more simplistic option.</p>\n"},{"tags":["java","android","arrays","kotlin","sharedpreferences"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1646760946,"post_id":71399152,"comment_id":126201993,"body_markdown":"https://developer.android.com/training/data-storage","body":"<a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage</a>"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646760905,"creation_date":1646760905,"answer_id":71399244,"question_id":71399152,"body_markdown":"No, you can only store boolean, int, float, long, string, and sets (not arrays, sets so no duplicate entries) of strings.  If you need more than that, you need to use your own serialization method.\r\n\r\nShared preference docs:  https://developer.android.com/reference/android/content/SharedPreferences","title":"Can I store anything in SharedPreferences?","body":"<p>No, you can only store boolean, int, float, long, string, and sets (not arrays, sets so no duplicate entries) of strings.  If you need more than that, you need to use your own serialization method.</p>\n<p>Shared preference docs:  <a href=\"https://developer.android.com/reference/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/SharedPreferences</a></p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646763093,"creation_date":1646762747,"answer_id":71399619,"question_id":71399152,"body_markdown":"The only two thing you have to save are the date-times of last two synchronizations.\r\n\r\nThe date-time of last new files fall in between them.\r\n\r\nYou can save those two values in shared preferences.\r\n\r\nImportant is if you keep file times at synchronization.\r\n\r\nAnd of course you can save a string array to shared preferences. Just concatenate all strings (like a .csv line) and save this line.\r\n\r\nFurther: if you dont keep file time then you only have to remember last date-time to know which files are new.\r\n","title":"Can I store anything in SharedPreferences?","body":"<p>The only two thing you have to save are the date-times of last two synchronizations.</p>\n<p>The date-time of last new files fall in between them.</p>\n<p>You can save those two values in shared preferences.</p>\n<p>Important is if you keep file times at synchronization.</p>\n<p>And of course you can save a string array to shared preferences. Just concatenate all strings (like a .csv line) and save this line.</p>\n<p>Further: if you dont keep file time then you only have to remember last date-time to know which files are new.</p>\n"}],"owner":{"account_id":24237502,"reputation":105,"user_id":18190398,"display_name":"Bam Bou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71399244,"answer_count":2,"score":0,"last_activity_date":1646763093,"creation_date":1646760423,"question_id":71399152,"body_markdown":"I am creating a file explorer to synchronize an ftp directory on my phone, I would like that at each synchronization I can know which files is new, and this even after closing my app and resume at the next session. I thought of saving a Array with all my new files and compare it in the adapter to know if it has already been open or not. But for this I need to store this array somewhere, can I store it in SharedPreferences? Is it this the best way to go?\r\n\r\nThanks","title":"Can I store anything in SharedPreferences?","body":"<p>I am creating a file explorer to synchronize an ftp directory on my phone, I would like that at each synchronization I can know which files is new, and this even after closing my app and resume at the next session. I thought of saving a Array with all my new files and compare it in the adapter to know if it has already been open or not. But for this I need to store this array somewhere, can I store it in SharedPreferences? Is it this the best way to go?</p>\n<p>Thanks</p>\n"},{"tags":["java","swing","events","jtextfield","keyevent"],"answers":[{"tags":[],"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646235352,"creation_date":1646235352,"answer_id":71325313,"question_id":71323233,"body_markdown":"Try it inside of the `keyTyped` method instead, since `keyTyped` executes when the key is sent by the keyboard to system input.\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n        char c = e.getKeyChar();\r\n        if (Character.isAlphabetic(c)) {\r\n            System.out.println(&quot;Key is a Letter&quot;);\r\n            e.consume();\r\n        }\r\n    }","title":"How do i get consume to work here for this key Event?","body":"<p>Try it inside of the <code>keyTyped</code> method instead, since <code>keyTyped</code> executes when the key is sent by the keyboard to system input.</p>\n<pre><code>@Override\npublic void keyTyped(KeyEvent e) {\n    char c = e.getKeyChar();\n    if (Character.isAlphabetic(c)) {\n        System.out.println(&quot;Key is a Letter&quot;);\n        e.consume();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21038882,"reputation":1,"user_id":15461720,"display_name":"Confuzzlede"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646762987,"creation_date":1646226422,"question_id":71323233,"body_markdown":"I double checked to make sure that it wasn&#39;t the condition that was the problem but for some reason consume refuses to work\r\n\r\nI have no idea what i&#39;m supposed to do\r\n```\r\npublic void keyPressed(KeyEvent e) {\r\n\r\n\t\t\t\tchar c = e.getKeyChar();\r\n\t\t\t\tif (Character.isAlphabetic(c)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Key is a Letter&quot;);\r\n\t\t\t\t\te.consume();\r\n\t\t\t\t}\r\n\t\t\t}\r\n```","title":"How do i get consume to work here for this key Event?","body":"<p>I double checked to make sure that it wasn't the condition that was the problem but for some reason consume refuses to work</p>\n<p>I have no idea what i'm supposed to do</p>\n<pre><code>public void keyPressed(KeyEvent e) {\n\n                char c = e.getKeyChar();\n                if (Character.isAlphabetic(c)) {\n                    System.out.println(&quot;Key is a Letter&quot;);\n                    e.consume();\n                }\n            }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":17679678,"reputation":99,"user_id":12833948,"display_name":"Konrad Drozd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646762978,"creation_date":1646762978,"answer_id":71399656,"question_id":71385156,"body_markdown":"Ok, I figured out a solution, a little bit hacky, but it does what I need.\r\n\r\nI&#39;ve created my own implementation of `ReactiveAuthorizationManager&lt;ServerWebExchange&gt;`, which is almost the same as Spring&#39;s `DelegatingReactiveAuthorizationManager`, but has one additional filter, which does the job:\r\n\r\n```java\r\npublic class MyAuthorizationManager implements ReactiveAuthorizationManager&lt;ServerWebExchange&gt; {\r\n\r\n    private final List&lt;ServerWebExchangeMatcherEntry&lt;ReactiveAuthorizationManager&lt;AuthorizationContext&gt;&gt;&gt; mappings;\r\n\r\n    @Override\r\n    public Mono&lt;AuthorizationDecision&gt; check(Mono&lt;Authentication&gt; authentication, ServerWebExchange exchange) {\r\n        return Flux.fromIterable(this.mappings)\r\n                   .concatMap((mapping) -&gt; mapping.getMatcher()\r\n                                                  .matches(exchange)\r\n                                                  .filter(ServerWebExchangeMatcher.MatchResult::isMatch)\r\n                                                  .map(ServerWebExchangeMatcher.MatchResult::getVariables)\r\n                                                  .flatMap((variables) -&gt; {\r\n                                                      log.debug(LogMessage.of(() -&gt; &quot;Checking authorization on &#39;&quot;\r\n                                                              + exchange.getRequest()\r\n                                                                        .getPath()\r\n                                                                        .pathWithinApplication() + &quot;&#39; using &quot;\r\n                                                              + mapping.getEntry()).toString());\r\n                                                      return mapping.getEntry()\r\n                                                                    .check(authentication, new AuthorizationContext(exchange, variables));\r\n                                                  }).filter(AuthorizationDecision::isGranted) /* &lt;- this is what I needed */)\r\n                   .next()\r\n                   .defaultIfEmpty(new AuthorizationDecision(false));\r\n    }\r\n}\r\n```\r\n\r\nand this is how I registered it:\r\n\r\n```java\r\n @Bean\r\npublic SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n        \r\n        List&lt;Permission&gt; permissions = repo.getPermissions()\r\n\r\n        MyAuthorizationManager.Builder authBuilder = MyAuthorizationManager.builder();\r\n\r\n        permissions.forEach(permission -&gt; {\r\n            // I create the mappings here, so matcher + auth manager for that matcher\r\n            authBuilder.add(\r\n                    ServerWebExchangeMatchers.pathMatchers(permission.getMethod(), permission.getPattern()), \r\n                    AuthorityReactiveAuthorizationManager.hasAuthority(permission.getAuthority())\r\n            );\r\n        });\r\n        \r\n        http.authorizeExchange().anyExchange().permitAll()\r\n            .and()\r\n            .httpBasic()\r\n            .and()\r\n            .formLogin().disable()\r\n            .anonymous().disable();\r\n\r\n        // it will be before the default authorization filter, bu actually it doesn&#39;t really matter\r\n        http.addFilterBefore(new AuthorizationWebFilter(authBuilder.build()), SecurityWebFiltersOrder.AUTHORIZATION);\r\n\r\n        return http.build();\r\n}\r\n```\r\n\r\nI have left `.authorizeExchange().anyExchange().permitAll()` because it sets some default things like entry point, exception web filter and I didn&#39;t want to copy more code and totally give up the default manager.","title":"Customize DelegatingReactiveAuthorizationManager to verify all matching rules, instead of giving up on the first that matches","body":"<p>Ok, I figured out a solution, a little bit hacky, but it does what I need.</p>\n<p>I've created my own implementation of <code>ReactiveAuthorizationManager&lt;ServerWebExchange&gt;</code>, which is almost the same as Spring's <code>DelegatingReactiveAuthorizationManager</code>, but has one additional filter, which does the job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyAuthorizationManager implements ReactiveAuthorizationManager&lt;ServerWebExchange&gt; {\n\n    private final List&lt;ServerWebExchangeMatcherEntry&lt;ReactiveAuthorizationManager&lt;AuthorizationContext&gt;&gt;&gt; mappings;\n\n    @Override\n    public Mono&lt;AuthorizationDecision&gt; check(Mono&lt;Authentication&gt; authentication, ServerWebExchange exchange) {\n        return Flux.fromIterable(this.mappings)\n                   .concatMap((mapping) -&gt; mapping.getMatcher()\n                                                  .matches(exchange)\n                                                  .filter(ServerWebExchangeMatcher.MatchResult::isMatch)\n                                                  .map(ServerWebExchangeMatcher.MatchResult::getVariables)\n                                                  .flatMap((variables) -&gt; {\n                                                      log.debug(LogMessage.of(() -&gt; &quot;Checking authorization on '&quot;\n                                                              + exchange.getRequest()\n                                                                        .getPath()\n                                                                        .pathWithinApplication() + &quot;' using &quot;\n                                                              + mapping.getEntry()).toString());\n                                                      return mapping.getEntry()\n                                                                    .check(authentication, new AuthorizationContext(exchange, variables));\n                                                  }).filter(AuthorizationDecision::isGranted) /* &lt;- this is what I needed */)\n                   .next()\n                   .defaultIfEmpty(new AuthorizationDecision(false));\n    }\n}\n</code></pre>\n<p>and this is how I registered it:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Bean\npublic SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n        \n        List&lt;Permission&gt; permissions = repo.getPermissions()\n\n        MyAuthorizationManager.Builder authBuilder = MyAuthorizationManager.builder();\n\n        permissions.forEach(permission -&gt; {\n            // I create the mappings here, so matcher + auth manager for that matcher\n            authBuilder.add(\n                    ServerWebExchangeMatchers.pathMatchers(permission.getMethod(), permission.getPattern()), \n                    AuthorityReactiveAuthorizationManager.hasAuthority(permission.getAuthority())\n            );\n        });\n        \n        http.authorizeExchange().anyExchange().permitAll()\n            .and()\n            .httpBasic()\n            .and()\n            .formLogin().disable()\n            .anonymous().disable();\n\n        // it will be before the default authorization filter, bu actually it doesn't really matter\n        http.addFilterBefore(new AuthorizationWebFilter(authBuilder.build()), SecurityWebFiltersOrder.AUTHORIZATION);\n\n        return http.build();\n}\n</code></pre>\n<p>I have left <code>.authorizeExchange().anyExchange().permitAll()</code> because it sets some default things like entry point, exception web filter and I didn't want to copy more code and totally give up the default manager.</p>\n"}],"owner":{"account_id":17679678,"reputation":99,"user_id":12833948,"display_name":"Konrad Drozd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1157,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71399656,"answer_count":1,"score":-1,"last_activity_date":1646762978,"creation_date":1646674848,"question_id":71385156,"body_markdown":"I have an application with a fairly complex authorization model. \r\nIn the database, I can have entries that specify authorities required for particular endpoints and I load them at the application startup.\r\n\r\nExamples (method, pattern, authority):\r\n 1. `GET` - `/api/service1/someEntity` - `GET_SERVICE1_SOME_ENTITY_AUTHORITY`\r\n 2. `GET` - `/api/service2/someEntity` - `GET_SERVICE2_SOME_ENTITY_AUTHORITY`\r\n 3. `GET` - `/api/service1/**` - `GET_SERVICE1_ANYTHING_AUTHORITY`\r\n 4. `null` - `/**` - `DO_ANYTHING` *(admin)*\r\n\r\nBefore I load these rules, I **sort them from most specific to most general**, so they end up in exactly the same order as above. I load them like that (for each in the sorted order):\r\n\r\n```java\r\nhttp.authorizeExchange()\r\n    .pathMatchers(permission.getMethod(), permission.getPattern())\r\n    .hasAuthority(permission.getAuthority());\r\n```\r\n\r\nNow the problem is that when I have user: `ADMIN` with authority `DO_ANYTHING`, it will actually not be able to do anything, because of the way how spring security works.\r\n\r\nLet&#39;s say the `admin` wants to access `/api/service1/someEntity`.\r\nSpring will match rule no.1 and check if `admin` has authority `GET_SERVICE1_SOME_ENTITY_AUTHORITY` and it will turn out that he doesn&#39;t. At this point, Spring will deny access. But what I want it to do is to check other matching rules (numbers 3 and 4).\r\n\r\nI found [the code responsible for this][1]:\r\n\r\n```java\r\npublic final class DelegatingReactiveAuthorizationManager implements ReactiveAuthorizationManager&lt;ServerWebExchange&gt; {\r\n// ...\r\n\t@Override\r\n\tpublic Mono&lt;AuthorizationDecision&gt; check(Mono&lt;Authentication&gt; authentication, ServerWebExchange exchange) {\r\n\t\treturn Flux.fromIterable(this.mappings).concatMap((mapping) -&gt; mapping.getMatcher().matches(exchange)\r\n\t\t\t\t.filter(MatchResult::isMatch).map(MatchResult::getVariables).flatMap((variables) -&gt; {\r\n\t\t\t\t\tlogger.debug(LogMessage.of(() -&gt; &quot;Checking authorization on &#39;&quot;\r\n\t\t\t\t\t\t\t+ exchange.getRequest().getPath().pathWithinApplication() + &quot;&#39; using &quot;\r\n\t\t\t\t\t\t\t+ mapping.getEntry()));\r\n\t\t\t\t\treturn mapping.getEntry().check(authentication, new AuthorizationContext(exchange, variables));\r\n\t\t\t\t})).next().defaultIfEmpty(new AuthorizationDecision(false));\r\n\t}\r\n// ...\r\n}\r\n```\r\n\r\nUnfortunately I don&#39;t know how to replace this implementation with mine.\r\n\r\ntldr: **I want spring security to verify all security rules matching the request path, instead of denying access on the first one that matches.**\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/87828df9d53ea43053f9c0cde936bca30629da75/web/src/main/java/org/springframework/security/web/server/authorization/DelegatingReactiveAuthorizationManager.java#L52","title":"Customize DelegatingReactiveAuthorizationManager to verify all matching rules, instead of giving up on the first that matches","body":"<p>I have an application with a fairly complex authorization model.\nIn the database, I can have entries that specify authorities required for particular endpoints and I load them at the application startup.</p>\n<p>Examples (method, pattern, authority):</p>\n<ol>\n<li><code>GET</code> - <code>/api/service1/someEntity</code> - <code>GET_SERVICE1_SOME_ENTITY_AUTHORITY</code></li>\n<li><code>GET</code> - <code>/api/service2/someEntity</code> - <code>GET_SERVICE2_SOME_ENTITY_AUTHORITY</code></li>\n<li><code>GET</code> - <code>/api/service1/**</code> - <code>GET_SERVICE1_ANYTHING_AUTHORITY</code></li>\n<li><code>null</code> - <code>/**</code> - <code>DO_ANYTHING</code> <em>(admin)</em></li>\n</ol>\n<p>Before I load these rules, I <strong>sort them from most specific to most general</strong>, so they end up in exactly the same order as above. I load them like that (for each in the sorted order):</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.authorizeExchange()\n    .pathMatchers(permission.getMethod(), permission.getPattern())\n    .hasAuthority(permission.getAuthority());\n</code></pre>\n<p>Now the problem is that when I have user: <code>ADMIN</code> with authority <code>DO_ANYTHING</code>, it will actually not be able to do anything, because of the way how spring security works.</p>\n<p>Let's say the <code>admin</code> wants to access <code>/api/service1/someEntity</code>.\nSpring will match rule no.1 and check if <code>admin</code> has authority <code>GET_SERVICE1_SOME_ENTITY_AUTHORITY</code> and it will turn out that he doesn't. At this point, Spring will deny access. But what I want it to do is to check other matching rules (numbers 3 and 4).</p>\n<p>I found <a href=\"https://github.com/spring-projects/spring-security/blob/87828df9d53ea43053f9c0cde936bca30629da75/web/src/main/java/org/springframework/security/web/server/authorization/DelegatingReactiveAuthorizationManager.java#L52\" rel=\"nofollow noreferrer\">the code responsible for this</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class DelegatingReactiveAuthorizationManager implements ReactiveAuthorizationManager&lt;ServerWebExchange&gt; {\n// ...\n    @Override\n    public Mono&lt;AuthorizationDecision&gt; check(Mono&lt;Authentication&gt; authentication, ServerWebExchange exchange) {\n        return Flux.fromIterable(this.mappings).concatMap((mapping) -&gt; mapping.getMatcher().matches(exchange)\n                .filter(MatchResult::isMatch).map(MatchResult::getVariables).flatMap((variables) -&gt; {\n                    logger.debug(LogMessage.of(() -&gt; &quot;Checking authorization on '&quot;\n                            + exchange.getRequest().getPath().pathWithinApplication() + &quot;' using &quot;\n                            + mapping.getEntry()));\n                    return mapping.getEntry().check(authentication, new AuthorizationContext(exchange, variables));\n                })).next().defaultIfEmpty(new AuthorizationDecision(false));\n    }\n// ...\n}\n</code></pre>\n<p>Unfortunately I don't know how to replace this implementation with mine.</p>\n<p>tldr: <strong>I want spring security to verify all security rules matching the request path, instead of denying access on the first one that matches.</strong></p>\n"},{"tags":["java","google-cloud-platform","java-8","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":22771851,"reputation":1650,"user_id":16929145,"display_name":"Raul Saucedo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646762752,"creation_date":1646762752,"answer_id":71399621,"question_id":71383814,"body_markdown":"This error happens when there is a disconnection or retryable error in a request sent to the Pub/Sub server. The client library should recreate connections and retry requests. These errors are printed out if you have the log level set to [FINE][1]. \r\n\r\nIn conclusion, messages still continue to be sent to your MessageReceiver after this error occurs. Some errors that are not retryable by the client library itself happen when a subscription is not found, and it is propagated back to the caller.\r\n\r\nYou can see these options:\r\n\r\n - Update Java library.\r\n - Update [Pub/Sub API library][2].\r\n\r\nIf you still have the same error, it could be a Java issue. You can find the corresponding grpc-java github issue [here][3]. \r\n\r\n\r\n  [1]: https://github.com/googleapis/google-cloud-java/commit/540734e6e9bce69f47854d2aabfbe61f1ac53631#diff-a876d55b1b7adce753a2915708a68ee8\r\n  [2]: https://github.com/googleapis/java-pubsub/blob/main/CHANGELOG.md\r\n  [3]: https://github.com/grpc/grpc-java/issues/5855","title":"Google Pub/Sub connection error - com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE:","body":"<p>This error happens when there is a disconnection or retryable error in a request sent to the Pub/Sub server. The client library should recreate connections and retry requests. These errors are printed out if you have the log level set to <a href=\"https://github.com/googleapis/google-cloud-java/commit/540734e6e9bce69f47854d2aabfbe61f1ac53631#diff-a876d55b1b7adce753a2915708a68ee8\" rel=\"nofollow noreferrer\">FINE</a>.</p>\n<p>In conclusion, messages still continue to be sent to your MessageReceiver after this error occurs. Some errors that are not retryable by the client library itself happen when a subscription is not found, and it is propagated back to the caller.</p>\n<p>You can see these options:</p>\n<ul>\n<li>Update Java library.</li>\n<li>Update <a href=\"https://github.com/googleapis/java-pubsub/blob/main/CHANGELOG.md\" rel=\"nofollow noreferrer\">Pub/Sub API library</a>.</li>\n</ul>\n<p>If you still have the same error, it could be a Java issue. You can find the corresponding grpc-java github issue <a href=\"https://github.com/grpc/grpc-java/issues/5855\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"reputation":172,"user_id":3075052,"display_name":"blankCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5852,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71399621,"answer_count":1,"score":1,"last_activity_date":1646762752,"creation_date":1646668553,"question_id":71383814,"body_markdown":"We are using the **Java(8) api of pubsub** to connect, receive, process and acknowledge the message on a particular subscription. \r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.108.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nTypically when the system is under load, we are facing intermittent issues related to disconnection and the java application not receiving or processing and acknowledging the messages from the subscription. This is resulting in huge pile up of unacknowledged messages on the subscription resulting in loss of application availability.\r\n\r\nBelow is the code for the connection part, where we have also added the listeners to handle the terminated and failed states of a connection.\r\n**This code is executed on application start up.**\r\n\r\n    public void subscribeWithErrorListener(String projectId, String subscriptionId) {\r\n\r\n\tProjectSubscriptionName subscriptionName = ProjectSubscriptionName.of(projectId, subscriptionId);\r\n\tBuilder builder = Subscriber.newBuilder(subscriptionName, receiver);\r\n\tExecutorProvider executorProvider = InstantiatingExecutorProvider.newBuilder().build();\r\n\tSubscriber subscriber = builder.setExecutorProvider(executorProvider).build();\r\n\r\n\tsubscriber.addListener(new Subscriber.Listener() {\r\n\t\t@Override\r\n\t\tpublic void terminated(State from) {\r\n\t\t\tlog.log(Level.SEVERE, String.format(&quot;Subscriber stopped for: %s&quot;, subscriptionId));\r\n\t\t\tif (from.toString().equals(Constants.STOPPING) &amp;&amp; !executorProvider.getExecutor().isShutdown()) {\r\n\t\t\t\tsubscribeWithErrorListener(projectId, subscriptionId);\r\n\t\t\t}\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void failed(State from, Throwable failure) {\r\n\t\t\tlog.log(Level.SEVERE, String.format(&quot;Subscriber failed for: %s&quot;, subscriptionId),\r\n\t\t\t\t\tfailure.getStackTrace());\r\n\t\t\tif (!executorProvider.getExecutor().isShutdown()) {\r\n\t\t\t\tsubscribeWithErrorListener(projectId, subscriptionId);\r\n\t\t\t}\r\n\t\t}\r\n\t}, MoreExecutors.directExecutor());\r\n\tsubscriber.startAsync().awaitRunning();\r\n}\r\n\r\nInspite of this setting, there are errors in application intermittently where the connection is dropped and no processing happens. We see the below lines in application logs.## Heading ##\r\n\r\n        &quot;stack_trace&quot;: &quot;com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: Abrupt GOAWAY closed sent stream. HTTP/2 error\r\n\tcode: NO_ERROR, debug data: max_age\\n\\tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:69)\\n\\tat\r\n\tcom.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\\n\\tat\r\n\tcom.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\\n\\tat\r\n\tcom.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\\n\\tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\\n\\tat\r\n\tcom.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\\n\\tat\r\n\tcom.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\\n\\tat\r\n\tcom.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\\n\\tat\r\n\tcom.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:983)\\n\\tat\r\n\tcom.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:771)\\n\\tat\r\n\tio.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:563)\\n\\tat\r\n\tio.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533)\\n\\tat\r\n\tio.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\\n\\tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\\n\\tat\r\n\tio.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\\n\\tat\r\n\tio.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\\n\\tat\r\n\tio.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\\n\\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\\n\\tat\r\n\tjava.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n\\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n\\tat\r\n\tjava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\\n\\tat\r\n\tjava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\\n\\tat\r\n\tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat\r\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by:\r\n\tio.grpc.StatusRuntimeException: UNAVAILABLE: Abrupt GOAWAY closed sent stream. HTTP/2 error code: NO_ERROR, debug data: max_age\\n\\tat\r\n\tio.grpc.Status.asRuntimeException(Status.java:533)\\n\\t... 14 common frames omitted\\n&quot;,\r\n\t\r\n\r\nCan someone provide any pointers on why this would be happening and what can be changed in the code to also listen to this type of failures and reestablish the connection automatically?\r\nCurrently we have to restart the application so that the connection is established again on app start up and the messages are then processed/acknowledged.","title":"Google Pub/Sub connection error - com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE:","body":"<p>We are using the <strong>Java(8) api of pubsub</strong> to connect, receive, process and acknowledge the message on a particular subscription.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\n        &lt;version&gt;1.108.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Typically when the system is under load, we are facing intermittent issues related to disconnection and the java application not receiving or processing and acknowledging the messages from the subscription. This is resulting in huge pile up of unacknowledged messages on the subscription resulting in loss of application availability.</p>\n<p>Below is the code for the connection part, where we have also added the listeners to handle the terminated and failed states of a connection.\n<strong>This code is executed on application start up.</strong></p>\n<pre><code>public void subscribeWithErrorListener(String projectId, String subscriptionId) {\n\nProjectSubscriptionName subscriptionName = ProjectSubscriptionName.of(projectId, subscriptionId);\nBuilder builder = Subscriber.newBuilder(subscriptionName, receiver);\nExecutorProvider executorProvider = InstantiatingExecutorProvider.newBuilder().build();\nSubscriber subscriber = builder.setExecutorProvider(executorProvider).build();\n\nsubscriber.addListener(new Subscriber.Listener() {\n    @Override\n    public void terminated(State from) {\n        log.log(Level.SEVERE, String.format(&quot;Subscriber stopped for: %s&quot;, subscriptionId));\n        if (from.toString().equals(Constants.STOPPING) &amp;&amp; !executorProvider.getExecutor().isShutdown()) {\n            subscribeWithErrorListener(projectId, subscriptionId);\n        }\n    }\n    @Override\n    public void failed(State from, Throwable failure) {\n        log.log(Level.SEVERE, String.format(&quot;Subscriber failed for: %s&quot;, subscriptionId),\n                failure.getStackTrace());\n        if (!executorProvider.getExecutor().isShutdown()) {\n            subscribeWithErrorListener(projectId, subscriptionId);\n        }\n    }\n}, MoreExecutors.directExecutor());\nsubscriber.startAsync().awaitRunning();\n</code></pre>\n<p>}</p>\n<p>Inspite of this setting, there are errors in application intermittently where the connection is dropped and no processing happens. We see the below lines in application logs.## Heading ##</p>\n<pre><code>    &quot;stack_trace&quot;: &quot;com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: Abrupt GOAWAY closed sent stream. HTTP/2 error\ncode: NO_ERROR, debug data: max_age\\n\\tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:69)\\n\\tat\ncom.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\\n\\tat\ncom.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\\n\\tat\ncom.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\\n\\tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\\n\\tat\ncom.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\\n\\tat\ncom.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\\n\\tat\ncom.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\\n\\tat\ncom.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:983)\\n\\tat\ncom.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:771)\\n\\tat\nio.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:563)\\n\\tat\nio.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533)\\n\\tat\nio.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\\n\\tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\\n\\tat\nio.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\\n\\tat\nio.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\\n\\tat\nio.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\\n\\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\\n\\tat\njava.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n\\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n\\tat\njava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\\n\\tat\njava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\\n\\tat\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by:\nio.grpc.StatusRuntimeException: UNAVAILABLE: Abrupt GOAWAY closed sent stream. HTTP/2 error code: NO_ERROR, debug data: max_age\\n\\tat\nio.grpc.Status.asRuntimeException(Status.java:533)\\n\\t... 14 common frames omitted\\n&quot;,\n</code></pre>\n<p>Can someone provide any pointers on why this would be happening and what can be changed in the code to also listen to this type of failures and reestablish the connection automatically?\nCurrently we have to restart the application so that the connection is established again on app start up and the messages are then processed/acknowledged.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1646760866,"post_id":71399195,"comment_id":126201959,"body_markdown":"Have you tried to use a debugger and set breakpoints in the main method and step through line by line?","body":"Have you tried to use a debugger and set breakpoints in the main method and step through line by line?"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646760944,"post_id":71399195,"comment_id":126201991,"body_markdown":"Because they both point to the same object.","body":"Because they both point to the same object."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646761140,"creation_date":1646761140,"answer_id":71399293,"question_id":71399195,"body_markdown":"You&#39;re carrying around the same _reference_ of a StringBuilder which all modify the same string buffer. \r\n\r\nTry returning the actual string instance\r\n\r\n    protected String getStr()\r\n    {\r\n        return str.toString();\r\n    }\r\n\r\nAnd change navigate method to use the field directly\r\n\r\n    public void navigateTo()\r\n    {\r\n        super.str.append(&quot;Sawant&quot;);\r\n    }\r\n","title":"StringBuilder instance being modified across several sub-classes","body":"<p>You're carrying around the same <em>reference</em> of a StringBuilder which all modify the same string buffer.</p>\n<p>Try returning the actual string instance</p>\n<pre><code>protected String getStr()\n{\n    return str.toString();\n}\n</code></pre>\n<p>And change navigate method to use the field directly</p>\n<pre><code>public void navigateTo()\n{\n    super.str.append(&quot;Sawant&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":14586701,"reputation":109,"user_id":11014052,"display_name":"Sandesh Sawant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647347255,"accepted_answer_id":71399293,"answer_count":1,"score":1,"last_activity_date":1646762418,"creation_date":1646760652,"question_id":71399195,"body_markdown":"**I am trying to understand the output of the below Java code:**\r\n\r\n    public class BasePage\r\n    {\r\n    \r\n    \tprivate final StringBuilder str;\r\n    \r\n    \tpublic BasePage(StringBuilder str)\r\n    \t{\r\n    \t\tthis.str = str;\r\n    \t}\r\n    \r\n    \tprotected StringBuilder getStr()\r\n    \t{\r\n    \t\treturn str;\r\n    \t}\r\n    }\r\n\r\n    public class HomePage extends BasePage\r\n    {\r\n    \tpublic HomePage(StringBuilder str)\r\n    \t{\r\n    \t\tsuper(str);\t\t\r\n    \t}\r\n    \t\r\n    \tpublic void navigateTo()\r\n    \t{\r\n    \t\tgetStr().append(&quot;Sawant&quot;);\r\n    \t}\r\n    }\r\n\r\n    public class LoginPage extends BasePage\r\n    {\r\n    \r\n    \tpublic LoginPage(StringBuilder str)\r\n    \t{\r\n    \t\tsuper(str);\t\r\n    \t}\r\n    \r\n    }\r\n    \r\n    public class LoginPage extends BasePage\r\n    {\r\n    \r\n    \tpublic LoginPage(StringBuilder str)\r\n    \t{\r\n    \t\tsuper(str);\t\r\n    \t}\r\n    \r\n    \tpublic HomePage login()\r\n    \t{\r\n    \t\t\r\n    \t\tHomePage homePage = new HomePage(getStr());\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;LoginPage value of str: &quot; + getStr());\r\n    \t\tSystem.out.println(&quot;HomePage value of str: &quot; + homePage.getStr());\r\n    \t\tif(getStr().toString().equals(homePage.getStr().toString()))\r\n    \t\t\tSystem.out.println(&quot;Equals&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;Not Equal&quot;);\r\n    \t\t\r\n    \t\thomePage.navigateTo();\r\n    \r\n    \t\tSystem.out.println(&quot;LoginPage value of str: &quot; + getStr());\r\n    \t\tSystem.out.println(&quot;HomePage value of str: &quot; + homePage.getStr());\r\n    \t\tif(getStr().toString().equals(homePage.getStr().toString()))\r\n    \t\t\tSystem.out.println(&quot;Equals&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;Not Equal&quot;);\r\n    \t\t\r\n    \t\treturn new HomePage(getStr());\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n    public class TestClass\r\n    {\r\n    \tprivate StringBuilder str = new StringBuilder(&quot;Sandesh&quot;);\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \r\n    \t\tLoginPage loginPage = new LoginPage(new TestClass().str);\r\n    \t\tloginPage.login();\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n**Output of the above code:**\r\n\r\n    LoginPage value of str: Sandesh\r\n    HomePage value of str: Sandesh\r\n    Equals\r\n    LoginPage value of str: SandeshSawant\r\n    HomePage value of str: SandeshSawant\r\n    Equals\r\n\r\nAs per my understanding, each object of the subclass maintains it&#39;s own value of the private instance variable belonging to it&#39;s superclass. Then why did the value of `str` of loginPage object changed to &quot;SandeshSawant&quot; when I changed only the value of `str` of homePage object by calling the navigateTo method of the HomePageClass.\r\n\r\nBut if move the entire code of the login method to the TestClass main method, then the `str` value of the loginPage object did not change.\r\n\r\nAppreciated your help on improving my understanding on this.\r\n","title":"StringBuilder instance being modified across several sub-classes","body":"<p><strong>I am trying to understand the output of the below Java code:</strong></p>\n<pre><code>public class BasePage\n{\n\n    private final StringBuilder str;\n\n    public BasePage(StringBuilder str)\n    {\n        this.str = str;\n    }\n\n    protected StringBuilder getStr()\n    {\n        return str;\n    }\n}\n\npublic class HomePage extends BasePage\n{\n    public HomePage(StringBuilder str)\n    {\n        super(str);     \n    }\n    \n    public void navigateTo()\n    {\n        getStr().append(&quot;Sawant&quot;);\n    }\n}\n\npublic class LoginPage extends BasePage\n{\n\n    public LoginPage(StringBuilder str)\n    {\n        super(str); \n    }\n\n}\n\npublic class LoginPage extends BasePage\n{\n\n    public LoginPage(StringBuilder str)\n    {\n        super(str); \n    }\n\n    public HomePage login()\n    {\n        \n        HomePage homePage = new HomePage(getStr());\n        \n        System.out.println(&quot;LoginPage value of str: &quot; + getStr());\n        System.out.println(&quot;HomePage value of str: &quot; + homePage.getStr());\n        if(getStr().toString().equals(homePage.getStr().toString()))\n            System.out.println(&quot;Equals&quot;);\n        else\n            System.out.println(&quot;Not Equal&quot;);\n        \n        homePage.navigateTo();\n\n        System.out.println(&quot;LoginPage value of str: &quot; + getStr());\n        System.out.println(&quot;HomePage value of str: &quot; + homePage.getStr());\n        if(getStr().toString().equals(homePage.getStr().toString()))\n            System.out.println(&quot;Equals&quot;);\n        else\n            System.out.println(&quot;Not Equal&quot;);\n        \n        return new HomePage(getStr());\n        \n    }\n    \n}\n\npublic class TestClass\n{\n    private StringBuilder str = new StringBuilder(&quot;Sandesh&quot;);\n\n    public static void main(String[] args)\n    {\n\n        LoginPage loginPage = new LoginPage(new TestClass().str);\n        loginPage.login();\n        \n    }\n\n}\n</code></pre>\n<p><strong>Output of the above code:</strong></p>\n<pre><code>LoginPage value of str: Sandesh\nHomePage value of str: Sandesh\nEquals\nLoginPage value of str: SandeshSawant\nHomePage value of str: SandeshSawant\nEquals\n</code></pre>\n<p>As per my understanding, each object of the subclass maintains it's own value of the private instance variable belonging to it's superclass. Then why did the value of <code>str</code> of loginPage object changed to &quot;SandeshSawant&quot; when I changed only the value of <code>str</code> of homePage object by calling the navigateTo method of the HomePageClass.</p>\n<p>But if move the entire code of the login method to the TestClass main method, then the <code>str</code> value of the loginPage object did not change.</p>\n<p>Appreciated your help on improving my understanding on this.</p>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646760521,"creation_date":1646760521,"answer_id":71399173,"question_id":71399052,"body_markdown":"The `e.getPlayer()` method already return the player. You are using the `getDisplayName()` too early, and you just should remove it such as you invoke it when changing the join message.\r\n\r\nThe method `getDisplayName()` return a string, which can&#39;t be changed to Player. That&#39;s why you get this issue.\r\n\r\nTo conclude, you will have this code:\r\n```java\r\npublic class PlayerJoin implements Listener {\r\n\r\n    @EventHandler\r\n    void onPlayerJoin(PlayerJoinEvent e){\r\n        Player player = e.getPlayer();\r\n        e.setJoinMessage(ChatColor.GREEN + &quot;[+] &quot; + ChatColor.GRAY + &quot;Welcome back adventurer! You may now continue your quest &quot; + ChatColor.GREEN + player.getDisplayName());\r\n    }\r\n}\r\n```","title":"Player player doesnt work (Minecraft Java Dev)","body":"<p>The <code>e.getPlayer()</code> method already return the player. You are using the <code>getDisplayName()</code> too early, and you just should remove it such as you invoke it when changing the join message.</p>\n<p>The method <code>getDisplayName()</code> return a string, which can't be changed to Player. That's why you get this issue.</p>\n<p>To conclude, you will have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayerJoin implements Listener {\n\n    @EventHandler\n    void onPlayerJoin(PlayerJoinEvent e){\n        Player player = e.getPlayer();\n        e.setJoinMessage(ChatColor.GREEN + &quot;[+] &quot; + ChatColor.GRAY + &quot;Welcome back adventurer! You may now continue your quest &quot; + ChatColor.GREEN + player.getDisplayName());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23426818,"reputation":35,"user_id":17486190,"display_name":"CharlieW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646762382,"creation_date":1646759923,"question_id":71399052,"body_markdown":"I&#39;m writing the core plugin for my Minecraft server and I was implementing the PlayerJoin and Player leave functions when I came across this issue.\r\n\r\nWhen I try to compile or package it says this:\r\n```\r\nIncompatible types. Found: &#39;java.lang.String&#39;, required: &#39;org.bukkit.entity.Player&#39;\r\n```\r\n\r\nAnd I don&#39;t know what to do with it.\r\n\r\nHeres the code:\r\n\r\n```\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\n\r\npublic class PlayerJoin implements Listener {\r\n\r\n    @EventHandler\r\n    void onPlayerJoin(PlayerJoinEvent e){\r\n        Player player = e.getPlayer().getDisplayName();\r\n        e.setJoinMessage(ChatColor.GREEN + &quot;[+] &quot; + ChatColor.GRAY + &quot;Welcome back adventurer! You may now continue your quest &quot; + ChatColor.GREEN + player.getDisplayName());\r\n    }\r\n}\r\n```","title":"Player player doesnt work (Minecraft Java Dev)","body":"<p>I'm writing the core plugin for my Minecraft server and I was implementing the PlayerJoin and Player leave functions when I came across this issue.</p>\n<p>When I try to compile or package it says this:</p>\n<pre><code>Incompatible types. Found: 'java.lang.String', required: 'org.bukkit.entity.Player'\n</code></pre>\n<p>And I don't know what to do with it.</p>\n<p>Heres the code:</p>\n<pre><code>import org.bukkit.ChatColor;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerJoinEvent;\n\npublic class PlayerJoin implements Listener {\n\n    @EventHandler\n    void onPlayerJoin(PlayerJoinEvent e){\n        Player player = e.getPlayer().getDisplayName();\n        e.setJoinMessage(ChatColor.GREEN + &quot;[+] &quot; + ChatColor.GRAY + &quot;Welcome back adventurer! You may now continue your quest &quot; + ChatColor.GREEN + player.getDisplayName());\n    }\n}\n</code></pre>\n"},{"tags":["java","firebase","get","hacker-news-api"],"comments":[{"owner":{"account_id":19171911,"reputation":59,"user_id":14005469,"display_name":"Emeka A"},"score":0,"creation_date":1634515724,"post_id":69609360,"comment_id":123038245,"body_markdown":"Here&#39;s the hackernews website: https://news.ycombinator.com/","body":"Here&#39;s the hackernews website: <a href=\"https://news.ycombinator.com/\" rel=\"nofollow noreferrer\">news.ycombinator.com</a>"},{"owner":{"account_id":8883706,"reputation":6969,"user_id":6632744,"display_name":"Joundill"},"score":2,"creation_date":1645402441,"post_id":69609360,"comment_id":125855272,"body_markdown":"This is [being discussed on meta](https://meta.stackoverflow.com/questions/416125/need-help-improving-my-question-to-remove-the-question-ban)","body":"This is <a href=\"https://meta.stackoverflow.com/questions/416125/need-help-improving-my-question-to-remove-the-question-ban\">being discussed on meta</a>"}],"answers":[{"tags":[],"owner":{"account_id":13986849,"reputation":5015,"user_id":10113238,"display_name":"smitop"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1634516431,"creation_date":1634516431,"answer_id":69609560,"question_id":69609360,"body_markdown":"You don&#39;t have to use the Firebase SDK to interact with the API, although [you *can* if you want to](https://stackoverflow.com/q/69518903/14004262). Using the Firebase SDK gets you minor performance gains, at the cost of some more implementation complexity. But you can also just make requests to the API endpoints using a normal HTTP client using the API endpoints listed in the documentation (like `https://hacker-news.firebaseio.com/v0/item/8863.json`).","title":"Do I need to use Firebase to access all Hacker News articles?","body":"<p>You don't have to use the Firebase SDK to interact with the API, although <a href=\"https://stackoverflow.com/q/69518903/14004262\">you <em>can</em> if you want to</a>. Using the Firebase SDK gets you minor performance gains, at the cost of some more implementation complexity. But you can also just make requests to the API endpoints using a normal HTTP client using the API endpoints listed in the documentation (like <code>https://hacker-news.firebaseio.com/v0/item/8863.json</code>).</p>\n"}],"owner":{"account_id":19171911,"reputation":59,"user_id":14005469,"display_name":"Emeka A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1645479645,"accepted_answer_id":69609560,"answer_count":1,"score":-2,"last_activity_date":1646762377,"creation_date":1634513510,"question_id":69609360,"body_markdown":"I have my Java server setup with all the appropriate packages (API, [DAO][1], model, service, etc.). On the [Hacker&amp;nbsp;News][2] (HN) website they explain that I should use Firebase to call their API.\r\n\r\nDo I need to configure Firebase to access all the HN articles from the API, even though I have access to Java&#39;s built-in API call functionalities?\r\n\r\nI can retrieve one article and see the JSON data in [Postman][3]:\r\n\r\n```java\r\nURL getUrl = new URL(&quot;https://hacker-news.firebaseio.com/v0/item/29042728.json?print=pretty&quot;);\r\nprint = pretty\r\nHttpURLConnection connection = (HttpURLConnection) getUrl.openConnection();\r\n\r\n// If a connection (200 OK) is made, data is buffered\r\nBufferedReader art = new BufferedReader(new\r\nInputStreamReader(connection.getInputStream()));\r\nStringBuffer jsonResponseData = new StringBuffer();\r\nString readLine = null;\r\n\r\n// Appends data from the response line by line\r\nwhile ((readLine = art.readLine()) != null) {\r\n    jsonResponseData.append(readLine);\r\n}\r\n\r\nin.close();\r\n````\r\n\r\nIs Firebase still needed for something else?\r\n\r\nReference: *[Hacker News API][4]*\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Data_access_object\r\n  [2]: https://en.wikipedia.org/wiki/Hacker_News\r\n  [3]: https://stackoverflow.com/tags/postman/info\r\n  [4]: https://github.com/HackerNews/API\r\n\r\n\r\n","title":"Do I need to use Firebase to access all Hacker News articles?","body":"<p>I have my Java server setup with all the appropriate packages (API, <a href=\"https://en.wikipedia.org/wiki/Data_access_object\" rel=\"nofollow noreferrer\">DAO</a>, model, service, etc.). On the <a href=\"https://en.wikipedia.org/wiki/Hacker_News\" rel=\"nofollow noreferrer\">Hacker News</a> (HN) website they explain that I should use Firebase to call their API.</p>\n<p>Do I need to configure Firebase to access all the HN articles from the API, even though I have access to Java's built-in API call functionalities?</p>\n<p>I can retrieve one article and see the JSON data in <a href=\"https://stackoverflow.com/tags/postman/info\">Postman</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL getUrl = new URL(&quot;https://hacker-news.firebaseio.com/v0/item/29042728.json?print=pretty&quot;);\nprint = pretty\nHttpURLConnection connection = (HttpURLConnection) getUrl.openConnection();\n\n// If a connection (200 OK) is made, data is buffered\nBufferedReader art = new BufferedReader(new\nInputStreamReader(connection.getInputStream()));\nStringBuffer jsonResponseData = new StringBuffer();\nString readLine = null;\n\n// Appends data from the response line by line\nwhile ((readLine = art.readLine()) != null) {\n    jsonResponseData.append(readLine);\n}\n\nin.close();\n</code></pre>\n<p>Is Firebase still needed for something else?</p>\n<p>Reference: <em><a href=\"https://github.com/HackerNews/API\" rel=\"nofollow noreferrer\">Hacker News API</a></em></p>\n"},{"tags":["java","android","android-studio","kotlin","android-theme"],"comments":[{"owner":{"account_id":12732679,"reputation":7866,"user_id":9248718,"display_name":"Some random IT boy"},"score":0,"creation_date":1646730859,"post_id":71392414,"comment_id":126190388,"body_markdown":"Use a `ViewModel`","body":"Use a <code>ViewModel</code>"},{"owner":{"account_id":21225178,"reputation":51,"user_id":15611006,"display_name":"Rahul Biswas"},"score":0,"creation_date":1646903748,"post_id":71392414,"comment_id":126240199,"body_markdown":"Oh, I didn&#39;t know about `ViewModel`. Thanks it solved the problem.","body":"Oh, I didn&#39;t know about <code>ViewModel</code>. Thanks it solved the problem."}],"answers":[{"tags":[],"owner":{"account_id":13054055,"reputation":66,"user_id":9433458,"display_name":"Sepehr1812"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646761957,"creation_date":1646761957,"answer_id":71399476,"question_id":71392414,"body_markdown":"Changing theme recreates your activity and it reinitiates your `list`. It is not because of changing theme itself.\r\n\r\nYou have to save your data persistently, in a database or in a SharedPreferences instance with your own serialization method (like JSON).","title":"Android data lost on theme change (Light/Dark mode)","body":"<p>Changing theme recreates your activity and it reinitiates your <code>list</code>. It is not because of changing theme itself.</p>\n<p>You have to save your data persistently, in a database or in a SharedPreferences instance with your own serialization method (like JSON).</p>\n"}],"owner":{"account_id":21225178,"reputation":51,"user_id":15611006,"display_name":"Rahul Biswas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646761957,"creation_date":1646730219,"question_id":71392414,"body_markdown":"**Android**: I have made a simple `Todo` list app using `Kotlin`. And the theme (Light/Dark) of this app is set to system default theme `MODE_NIGHT_FOLLOW_SYSTEM`. Now the problem is that when I changed theme to `Dark` mode(because my emulator&#39;s theme was set to `Light` theme previously), all added Todo items were gone and same when I changed to `Light` mode again. Then I noticed the size of my `ArrayList` became `0` (empty).\r\n\r\nHere is screenshots to understand it better:\r\n\r\n*Light Mode* \r\n\r\nhttps://i.stack.imgur.com/eWbzO.png\r\n\r\nafter changing system theme to Dark\r\n\r\n*Dark Mode*\r\n\r\n  https://i.stack.imgur.com/B9iqg.png\r\n\r\ntasks are added to `list: ArrayList` when `saveButton: Textview` is clicked\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n    var modified = false\r\n    private lateinit var listView: ListView\r\n    private lateinit var input: EditText\r\n    private lateinit var saveButton: TextView\r\n    private lateinit var cancelButton: TextView\r\n\r\n    private val list = ArrayList&lt;String&gt;()\r\n    private lateinit var listAdapter: CustomAdapter\r\n    \r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        listView = findViewById(R.id.listView)\r\n        input = findViewById(R.id.input)\r\n        saveButton = findViewById(R.id.saveBtn)\r\n        cancelButton = findViewById(R.id.cancelBtn)\r\n\r\n        listAdapter = CustomAdapter(this, list)\r\n        listView.adapter = listAdapter\r\n\r\n        val warningToast = Toast.makeText(this,\r\n            &quot;The text may be empty or contains only spaces&quot;,\r\n            Toast.LENGTH_LONG)\r\n\r\n        saveButton.setOnClickListener {\r\n            val text = input.text.toString()\r\n            // if text is empty or only contains blank\r\n            if (text.isEmpty() || text.isBlank()) {\r\n                warningToast.show()\r\n                return@setOnClickListener\r\n            }\r\n            if (!modified) {\r\n                // output list size 0 after changing theme \r\n                Log.d(&quot;MY_DEBUG&quot;, &quot;size fo list is : ${list.size}&quot;)\r\n                list.add(input.text.toString())\r\n            } else {\r\n                // ...\r\n            }\r\n            input.text.clear()\r\n            listAdapter.notifyDataSetChanged()\r\n        }\r\n       \r\n        // ...\r\n\r\n    }\r\n}\r\n```\r\nI thought that this is because it triggers a `uiMode` configuration change when theme mode is changed. So, the activity is recreated automatically. I want to keep added items even after changing theme. Is there any way to prevent loss of added items. Thank you!","title":"Android data lost on theme change (Light/Dark mode)","body":"<p><strong>Android</strong>: I have made a simple <code>Todo</code> list app using <code>Kotlin</code>. And the theme (Light/Dark) of this app is set to system default theme <code>MODE_NIGHT_FOLLOW_SYSTEM</code>. Now the problem is that when I changed theme to <code>Dark</code> mode(because my emulator's theme was set to <code>Light</code> theme previously), all added Todo items were gone and same when I changed to <code>Light</code> mode again. Then I noticed the size of my <code>ArrayList</code> became <code>0</code> (empty).</p>\n<p>Here is screenshots to understand it better:</p>\n<p><em>Light Mode</em></p>\n<p><a href=\"https://i.stack.imgur.com/eWbzO.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/eWbzO.png</a></p>\n<p>after changing system theme to Dark</p>\n<p><em>Dark Mode</em></p>\n<p><a href=\"https://i.stack.imgur.com/B9iqg.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/B9iqg.png</a></p>\n<p>tasks are added to <code>list: ArrayList</code> when <code>saveButton: Textview</code> is clicked</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    var modified = false\n    private lateinit var listView: ListView\n    private lateinit var input: EditText\n    private lateinit var saveButton: TextView\n    private lateinit var cancelButton: TextView\n\n    private val list = ArrayList&lt;String&gt;()\n    private lateinit var listAdapter: CustomAdapter\n    \n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        listView = findViewById(R.id.listView)\n        input = findViewById(R.id.input)\n        saveButton = findViewById(R.id.saveBtn)\n        cancelButton = findViewById(R.id.cancelBtn)\n\n        listAdapter = CustomAdapter(this, list)\n        listView.adapter = listAdapter\n\n        val warningToast = Toast.makeText(this,\n            &quot;The text may be empty or contains only spaces&quot;,\n            Toast.LENGTH_LONG)\n\n        saveButton.setOnClickListener {\n            val text = input.text.toString()\n            // if text is empty or only contains blank\n            if (text.isEmpty() || text.isBlank()) {\n                warningToast.show()\n                return@setOnClickListener\n            }\n            if (!modified) {\n                // output list size 0 after changing theme \n                Log.d(&quot;MY_DEBUG&quot;, &quot;size fo list is : ${list.size}&quot;)\n                list.add(input.text.toString())\n            } else {\n                // ...\n            }\n            input.text.clear()\n            listAdapter.notifyDataSetChanged()\n        }\n       \n        // ...\n\n    }\n}\n</code></pre>\n<p>I thought that this is because it triggers a <code>uiMode</code> configuration change when theme mode is changed. So, the activity is recreated automatically. I want to keep added items even after changing theme. Is there any way to prevent loss of added items. Thank you!</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1490360673,"post_id":42999923,"comment_id":73090070,"body_markdown":"Why are you using such an old version of Apache POI? What happens when you upgrade?","body":"Why are you using such an old version of Apache POI? What happens when you upgrade?"},{"owner":{"account_id":8677319,"reputation":591,"user_id":6812826,"accept_rate":52,"display_name":"Andrew"},"score":0,"creation_date":1490362125,"post_id":42999923,"comment_id":73091008,"body_markdown":"Now, I&#39;ve updated to 3.15 and next iteration after remove row produce null pointer exception ( @Gagravarr","body":"Now, I&#39;ve updated to 3.15 and next iteration after remove row produce null pointer exception ( @Gagravarr"}],"answers":[{"tags":[],"owner":{"account_id":1817382,"reputation":3759,"user_id":1652222,"accept_rate":89,"display_name":"ManishChristian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1490364741,"creation_date":1490363608,"answer_id":43001290,"question_id":42999923,"body_markdown":"Try this code, it should work:  \r\n\r\n\r\n\tfor(int i = 0; i &lt; sheet.getLastRowNum(); i++)\r\n\t{\r\n\t\trow = sheet.getRow(i);\r\n\t\tif(patternt.equals(getCurrentString(row)))\r\n\t\t{\r\n\t\t\tdata.add(getDataFromRow(row));\r\n\t\t\t// sheet.removeRow(row);\tNO NEED FOR THIS LINE\r\n\t\t\tsheet.shiftRows(row.getRowNum() + 1, sheet.getLastRowNum() + 1, -1);\r\n\t\t\ti--;\r\n\t\t}\r\n\t}\r\n\r\nYou need to decrease `i` by one every time you delete one row. And get the last row number again by using `getLastRowNum()`.","title":"How to delete, not clear row in Sheet?","body":"<p>Try this code, it should work:  </p>\n\n<pre><code>for(int i = 0; i &lt; sheet.getLastRowNum(); i++)\n{\n    row = sheet.getRow(i);\n    if(patternt.equals(getCurrentString(row)))\n    {\n        data.add(getDataFromRow(row));\n        // sheet.removeRow(row);    NO NEED FOR THIS LINE\n        sheet.shiftRows(row.getRowNum() + 1, sheet.getLastRowNum() + 1, -1);\n        i--;\n    }\n}\n</code></pre>\n\n<p>You need to decrease <code>i</code> by one every time you delete one row. And get the last row number again by using <code>getLastRowNum()</code>.</p>\n"}],"owner":{"account_id":8677319,"reputation":591,"user_id":6812826,"accept_rate":52,"display_name":"Andrew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9980,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":43001290,"answer_count":1,"score":5,"last_activity_date":1646761818,"creation_date":1490359634,"question_id":42999923,"body_markdown":"I don&#39;t know how to delete row without leaving an empty row.\r\n\r\nI am using Apache POI 3.9 and I am getting an error using the following code:\r\n\r\n    public List&lt;MeterInfo&gt; addToList(String patternt) throws ParseException, IOException {\r\n        List&lt;Object&gt; data = new ArrayList&lt;Object&gt;();\r\n        int lastRowNum = sheet.getLastRowNum();\r\n        Row row;\r\n        for(int i = 0; i &lt; lastRowNum; i++){\r\n            row = sheet.getRow(i);\r\n            if(patternt.equals(getCurrentString(row))){\r\n                data.add(getDataFromRow(row));\r\n                sheet.removeRow(row);\r\n                sheet.shiftRows(row.getRowNum() + 1, row.getRowNum() + 1, -1);\r\n            }\r\n        }\r\n        saveWorkbook(new File(&quot;blabla.xlsx&quot;));\r\n        return data;\r\n    }\r\n\r\nI&#39;ve found a solution in https://stackoverflow.com/a/3554129/6812826, but I am getting a NullPointerException because I am decreasing lastRowNum by each deleted row.\r\n\r\nHere is the new version:\r\n\r\n    public List&lt;Object&gt; addToList(String pattern) throws ParseException, IOException {\r\n        List&lt;Object&gt; data= new ArrayList&lt;Object&gt;();\r\n        for (int i = 0; i &lt;= sheet.getLastRowNum(); i++) {\r\n            Row row = sheet.getRow(i);\r\n            if (pattern.equals(getCurrentString(row))) {\r\n                data.add(getMeterInfo(row));\r\n                deleteRow(row);\r\n            }\r\n        }\r\n        saveWorkbook(new File(&quot;blabla.xlsx&quot;));\r\n        return data;\r\n    }\r\n\r\n    private void deleteRow(Row row) {\r\n        int lastRowNum = sheet.getLastRowNum();\r\n        int rowIndex = row.getRowNum();\r\n        if(rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; lastRowNum){\r\n            sheet.shiftRows(rowIndex + 1, lastRowNum, -1);\r\n        }\r\n        if(rowIndex == lastRowNum){\r\n            Row removingRow = sheet.getRow(rowIndex);\r\n            if(removingRow != null){\r\n                sheet.removeRow(removingRow);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to delete, not clear row in Sheet?","body":"<p>I don't know how to delete row without leaving an empty row.</p>\n<p>I am using Apache POI 3.9 and I am getting an error using the following code:</p>\n<pre><code>public List&lt;MeterInfo&gt; addToList(String patternt) throws ParseException, IOException {\n    List&lt;Object&gt; data = new ArrayList&lt;Object&gt;();\n    int lastRowNum = sheet.getLastRowNum();\n    Row row;\n    for(int i = 0; i &lt; lastRowNum; i++){\n        row = sheet.getRow(i);\n        if(patternt.equals(getCurrentString(row))){\n            data.add(getDataFromRow(row));\n            sheet.removeRow(row);\n            sheet.shiftRows(row.getRowNum() + 1, row.getRowNum() + 1, -1);\n        }\n    }\n    saveWorkbook(new File(&quot;blabla.xlsx&quot;));\n    return data;\n}\n</code></pre>\n<p>I've found a solution in <a href=\"https://stackoverflow.com/a/3554129/6812826\">https://stackoverflow.com/a/3554129/6812826</a>, but I am getting a NullPointerException because I am decreasing lastRowNum by each deleted row.</p>\n<p>Here is the new version:</p>\n<pre><code>public List&lt;Object&gt; addToList(String pattern) throws ParseException, IOException {\n    List&lt;Object&gt; data= new ArrayList&lt;Object&gt;();\n    for (int i = 0; i &lt;= sheet.getLastRowNum(); i++) {\n        Row row = sheet.getRow(i);\n        if (pattern.equals(getCurrentString(row))) {\n            data.add(getMeterInfo(row));\n            deleteRow(row);\n        }\n    }\n    saveWorkbook(new File(&quot;blabla.xlsx&quot;));\n    return data;\n}\n\nprivate void deleteRow(Row row) {\n    int lastRowNum = sheet.getLastRowNum();\n    int rowIndex = row.getRowNum();\n    if(rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; lastRowNum){\n        sheet.shiftRows(rowIndex + 1, lastRowNum, -1);\n    }\n    if(rowIndex == lastRowNum){\n        Row removingRow = sheet.getRow(rowIndex);\n        if(removingRow != null){\n            sheet.removeRow(removingRow);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6145724,"reputation":1149,"user_id":4791780,"display_name":"Agam"},"score":0,"creation_date":1646246677,"post_id":71327659,"comment_id":126078188,"body_markdown":"What is the max limit of the value of the card?","body":"What is the max limit of the value of the card?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646246881,"post_id":71327659,"comment_id":126078254,"body_markdown":"&quot;_the requirements state that everything must be already available to you_&quot; - Does this mean using standard Java libraries is OK?","body":"&quot;<i>the requirements state that everything must be already available to you</i>&quot; - Does this mean using standard Java libraries is OK?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1646247569,"post_id":71327659,"comment_id":126078480,"body_markdown":"So why can&#39;t you just specify the entire package name.  Then you won&#39;t be importing anything.  But you don&#39;t need to check for duplicates anyway.  Just assign the values in order and shuffle them.  Shuffle routines are easy to write.  Search the web for  Fisher-Yates algorithm.","body":"So why can&#39;t you just specify the entire package name.  Then you won&#39;t be importing anything.  But you don&#39;t need to check for duplicates anyway.  Just assign the values in order and shuffle them.  Shuffle routines are easy to write.  Search the web for  Fisher-Yates algorithm."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646248110,"post_id":71327659,"comment_id":126078661,"body_markdown":"@chickengod, I provided an answer that uses a LinkedHashSet, which is a standard Java library. It prevents duplicate insertions and keeps the insertion order. This should be exactly what you need, much simplified.","body":"@chickengod, I provided an answer that uses a LinkedHashSet, which is a standard Java library. It prevents duplicate insertions and keeps the insertion order. This should be exactly what you need, much simplified."},{"owner":{"account_id":24432075,"reputation":11,"user_id":18356871,"display_name":"chickengod"},"score":0,"creation_date":1646253574,"post_id":71327659,"comment_id":126080483,"body_markdown":"@hfontanez thank you for your help but I cannot use linkedHashSet because we haven’t went over it in class. I","body":"@hfontanez thank you for your help but I cannot use linkedHashSet because we haven’t went over it in class. I"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646253742,"post_id":71327659,"comment_id":126080540,"body_markdown":"@chickengod in that case, use one of the solutions linked in the closing statement above. But, I will leave this answer here for future people looking for an answer that doesn&#39;t have that constraint.","body":"@chickengod in that case, use one of the solutions linked in the closing statement above. But, I will leave this answer here for future people looking for an answer that doesn&#39;t have that constraint."},{"owner":{"account_id":24432075,"reputation":11,"user_id":18356871,"display_name":"chickengod"},"score":0,"creation_date":1646258086,"post_id":71327659,"comment_id":126081742,"body_markdown":"@WJS I can&#39;t use shuffle routines sadly. I have to use loops and if statements","body":"@WJS I can&#39;t use shuffle routines sadly. I have to use loops and if statements"},{"owner":{"account_id":24432075,"reputation":11,"user_id":18356871,"display_name":"chickengod"},"score":0,"creation_date":1646258381,"post_id":71327659,"comment_id":126081831,"body_markdown":"@Agam the limit is 75. It follows the regular bingo rules which are column B is 1-15 column I is 16-30 column N is 31-45 column G is 46-60 column O is 61-75","body":"@Agam the limit is 75. It follows the regular bingo rules which are column B is 1-15 column I is 16-30 column N is 31-45 column G is 46-60 column O is 61-75"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646759012,"post_id":71327659,"comment_id":126201212,"body_markdown":"@chickengod this might be a little too late for you, but I updated my answer to include code _STRICTLY_ following your homework requirements.  It is still a much simplified version than your original code and I am performing a simple check for duplicates; giving you an explanation for its time complexity. I did this to help you in your learning process. I hope it helps.","body":"@chickengod this might be a little too late for you, but I updated my answer to include code <i>STRICTLY</i> following your homework requirements.  It is still a much simplified version than your original code and I am performing a simple check for duplicates; giving you an explanation for its time complexity. I did this to help you in your learning process. I hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646761255,"creation_date":1646248024,"answer_id":71327945,"question_id":71327659,"body_markdown":"I suggest to use `java.util.Set` (if allowed) to eliminate the need for checking for duplicates since sets in Java do not allow duplicate values to be inserted. So, a set-based solution will look like this:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\tInteger[][] card = new Integer[5][5];\r\n\tSet&lt;Integer&gt; row = null;\r\n\r\n\tint seed = 1;\r\n\tfor (int i = 0; i &lt; card.length; i++) {\r\n\t\trow = new LinkedHashSet&lt;&gt;();\r\n\t\tif (i != 0) {\r\n\t\t\tseed +=15;\r\n\t\t}\r\n\t\twhile (row.size() &lt; card[0].length) {\r\n\t\t\trow.add((int)(Math.random() * 14)+seed);\r\n\t\t}\r\n\t\tcard[i] = (Integer[])row.toArray(Integer[]::new);\r\n\t\tSystem.out.println(row);\r\n\t}\r\n}\r\n```\r\nThis will result in an output that will look something like this:\r\n```\r\n[1, 4, 14, 8, 2]\r\n[26, 23, 28, 20, 17]\r\n[34, 40, 36, 41, 43]\r\n[46, 48, 58, 49, 51]\r\n[66, 72, 63, 64, 71]\r\n```\r\nThe beauty of ***LinkedHashSet*** is that:\r\n\r\n 1. It ***prevents duplicate values*** to be inserted\r\n 2. ***Preserves the insertion order***; acting like an array.\r\n\r\nOf course, I assume that duplicate values are only to be prevented in a single row and that a duplicate value could exist in another row. Obviously, if each of the values must be unique, you would need to allow for your randomization function to provide values from 1 up to the number of cells in the grid AND you will generate all the values (in this case 25 values first, and then you will loop thru the set and add the values to each cell after the set is generated.\r\n\r\n---\r\n\r\nThe answer was provided before it was known &quot;card&quot; was for a bingo board. So, I added the code to transpose the grid.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\tInteger[][] temp = new Integer[5][5];\r\n\tSet&lt;Integer&gt; row = null;\r\n\r\n\tint seed = 1;\r\n\tfor (int i = 0; i &lt; temp.length; i++) {\r\n\t\trow = new LinkedHashSet&lt;&gt;();\r\n\t\tif (i != 0) {\r\n\t\t\tseed += 15;\r\n\t\t}\r\n\t\twhile (row.size() &lt; temp[0].length) {\r\n\t\t\trow.add((int) (Math.random() * 14) + seed);\r\n\t\t}\r\n\t\ttemp[i] = (Integer[]) row.toArray(Integer[]::new);\r\n\t\tSystem.out.println(row);\r\n\t}\r\n\r\n\t// transpose the grid to turn it into a bingo board\r\n\tint[][] card = new int[5][5];\r\n\tfor (int col = 0; col &lt; temp.length; col++) {\r\n\t\tfor (int r = 0; r &lt; temp.length; r++) {\r\n\t\t\tcard[r][col] = temp[col][r];\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tSystem.out.println(&quot;\\nTransposed:&quot;);\r\n\r\n\tStringBuilder buff = new StringBuilder();\r\n\tArrays.stream(card).forEach((i) -&gt; {\r\n\t\tbuff.append(&quot;[&quot;);\r\n\t\tArrays.stream(i).forEach((j) -&gt; buff.append(j + &quot; &quot;));\r\n\t\tbuff.replace(buff.toString().lastIndexOf(&quot; &quot;), buff.length(),  &quot;&quot;);\r\n\t\tbuff.append(&quot;]\\n&quot;);\r\n\t});\r\n\t\t\r\n\tSystem.out.print(buff.toString().replaceAll(&quot; &quot;, &quot;, &quot;));\r\n}\r\n```\r\nNow this program outputs:\r\n```\r\n[10, 8, 9, 13, 14]\r\n[27, 29, 19, 26, 20]\r\n[34, 38, 43, 40, 31]\r\n[52, 49, 59, 53, 50]\r\n[69, 63, 62, 64, 67]\r\n\r\nTransposed:\r\n[10, 27, 34, 52, 69]\r\n[8, 29, 38, 49, 63]\r\n[9, 19, 43, 59, 62]\r\n[13, 26, 40, 53, 64]\r\n[14, 20, 31, 50, 67]\r\n```\r\nNow you can clearly see that the values of each original row has been transposed to the corresponding BINGO column, so that values between 1-15 are in the first column (B), 16-30 under the second column (I), 31-45 under the third (N), 46-60 under the fourth (G), and 61-75 under the fifth (O).\r\n\r\n----------\r\nHere is a solution that complies with the OP requirement posted on the comments (&quot;*I cannot use `LinkedHashSet` because we haven’t went[sic] over it in class*&quot;).\r\n\r\n```\r\npublic class BingoBoard2 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint GRID_SIZE = 5;\r\n\t\tint[][] card = new int[GRID_SIZE][GRID_SIZE];\r\n\t\tint seed = 1;\r\n\t\tfor (int col = 0; col &lt; GRID_SIZE; col++) {\r\n\t\t\tif (col != 0) {\r\n\t\t\t\tseed += 15;\r\n\t\t\t}\r\n\t\t\tfor (int row = 0; row &lt; GRID_SIZE; row++ ) {\r\n\t\t\t\tint value = -1;\r\n\t\t\t\tdo {\r\n\t\t\t\t\tvalue = (int) (Math.random() * 14) + seed;\r\n\t\t\t\t} while (valueInArray(card, col, row, value));\r\n\t\t\t\tcard[row][col] = value;\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tStringBuilder buff = new StringBuilder();\r\n\t\tArrays.stream(card).forEach((i) -&gt; {\r\n\t\t\tbuff.append(&quot;[&quot;);\r\n\t\t\tArrays.stream(i).forEach((j) -&gt; buff.append(j + &quot; &quot;));\r\n\t\t\tbuff.replace(buff.toString().lastIndexOf(&quot; &quot;), buff.length(),  &quot;&quot;);\r\n\t\t\tbuff.append(&quot;]\\n&quot;);\r\n\t\t});\r\n\t\t\r\n\t\tSystem.out.print(buff.toString().replaceAll(&quot; &quot;, &quot;, &quot;));\r\n\t}\r\n\t\r\n\tprivate static boolean valueInArray(int[][] arr, int col, int maxIndex, int value) {\r\n\r\n\t\tfor (int row = 0; row &lt; maxIndex; row++) {\r\n\t\t\tif (arr[row][col] == value) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\nThis latest solution\r\n\r\n 1. Doesn&#39;t use `Set` or `LinkedHashSet`\r\n 2. Doesn&#39;t transpose the 2D array\r\n 3. Doesn&#39;t insert duplicate values into the array.\r\n\r\nThe check for duplicate simply checks the current column values in the range of index 0 up to the current index. Basically, it checks all previous inserts in the current column. Since the randomizer generates unique values for each column (based on BINGO), there is no need to check for duplicates outside the current column. So, per column, ***there will be approximately 4! checks per column*** (*5 * 4!* per board - or 50 checks if my math is correct).\r\n\r\nA sample output for this version:\r\n```\r\n[1, 25, 31, 46, 64]\r\n[4, 22, 36, 49, 66]\r\n[5, 24, 37, 48, 72]\r\n[9, 19, 32, 50, 63]\r\n[2, 23, 38, 54, 71]\r\n```\r\nNumber of Duplicate Checks: 55 (I have seen this count range from the low 50&#39;s to about low 70&#39;s). This is of, course, heavily dependent on the randomizing function with regards to how frequent duplicate numbers are generated in the given range. Given the fact that for each column the range is small (only 15 numbers), the frequency of numbers repeating is high (probably 1 in 3). Since there are 25 values in this grid, this seems to make sense (Dup count being somewhere 2-3 times the size of the grid). Maybe someone better in math than me can provide a better explanation about the probability of numbers repeating.","title":"How do I check the previous numbers in the array for a duplicate before placing a new random value in the array?","body":"<p>I suggest to use <code>java.util.Set</code> (if allowed) to eliminate the need for checking for duplicates since sets in Java do not allow duplicate values to be inserted. So, a set-based solution will look like this:</p>\n<pre><code>public static void main(String[] args) {\n    Integer[][] card = new Integer[5][5];\n    Set&lt;Integer&gt; row = null;\n\n    int seed = 1;\n    for (int i = 0; i &lt; card.length; i++) {\n        row = new LinkedHashSet&lt;&gt;();\n        if (i != 0) {\n            seed +=15;\n        }\n        while (row.size() &lt; card[0].length) {\n            row.add((int)(Math.random() * 14)+seed);\n        }\n        card[i] = (Integer[])row.toArray(Integer[]::new);\n        System.out.println(row);\n    }\n}\n</code></pre>\n<p>This will result in an output that will look something like this:</p>\n<pre><code>[1, 4, 14, 8, 2]\n[26, 23, 28, 20, 17]\n[34, 40, 36, 41, 43]\n[46, 48, 58, 49, 51]\n[66, 72, 63, 64, 71]\n</code></pre>\n<p>The beauty of <em><strong>LinkedHashSet</strong></em> is that:</p>\n<ol>\n<li>It <em><strong>prevents duplicate values</strong></em> to be inserted</li>\n<li><em><strong>Preserves the insertion order</strong></em>; acting like an array.</li>\n</ol>\n<p>Of course, I assume that duplicate values are only to be prevented in a single row and that a duplicate value could exist in another row. Obviously, if each of the values must be unique, you would need to allow for your randomization function to provide values from 1 up to the number of cells in the grid AND you will generate all the values (in this case 25 values first, and then you will loop thru the set and add the values to each cell after the set is generated.</p>\n<hr />\n<p>The answer was provided before it was known &quot;card&quot; was for a bingo board. So, I added the code to transpose the grid.</p>\n<pre><code>public static void main(String[] args) {\n    Integer[][] temp = new Integer[5][5];\n    Set&lt;Integer&gt; row = null;\n\n    int seed = 1;\n    for (int i = 0; i &lt; temp.length; i++) {\n        row = new LinkedHashSet&lt;&gt;();\n        if (i != 0) {\n            seed += 15;\n        }\n        while (row.size() &lt; temp[0].length) {\n            row.add((int) (Math.random() * 14) + seed);\n        }\n        temp[i] = (Integer[]) row.toArray(Integer[]::new);\n        System.out.println(row);\n    }\n\n    // transpose the grid to turn it into a bingo board\n    int[][] card = new int[5][5];\n    for (int col = 0; col &lt; temp.length; col++) {\n        for (int r = 0; r &lt; temp.length; r++) {\n            card[r][col] = temp[col][r];\n        }\n    }\n        \n    System.out.println(&quot;\\nTransposed:&quot;);\n\n    StringBuilder buff = new StringBuilder();\n    Arrays.stream(card).forEach((i) -&gt; {\n        buff.append(&quot;[&quot;);\n        Arrays.stream(i).forEach((j) -&gt; buff.append(j + &quot; &quot;));\n        buff.replace(buff.toString().lastIndexOf(&quot; &quot;), buff.length(),  &quot;&quot;);\n        buff.append(&quot;]\\n&quot;);\n    });\n        \n    System.out.print(buff.toString().replaceAll(&quot; &quot;, &quot;, &quot;));\n}\n</code></pre>\n<p>Now this program outputs:</p>\n<pre><code>[10, 8, 9, 13, 14]\n[27, 29, 19, 26, 20]\n[34, 38, 43, 40, 31]\n[52, 49, 59, 53, 50]\n[69, 63, 62, 64, 67]\n\nTransposed:\n[10, 27, 34, 52, 69]\n[8, 29, 38, 49, 63]\n[9, 19, 43, 59, 62]\n[13, 26, 40, 53, 64]\n[14, 20, 31, 50, 67]\n</code></pre>\n<p>Now you can clearly see that the values of each original row has been transposed to the corresponding BINGO column, so that values between 1-15 are in the first column (B), 16-30 under the second column (I), 31-45 under the third (N), 46-60 under the fourth (G), and 61-75 under the fifth (O).</p>\n<hr />\n<p>Here is a solution that complies with the OP requirement posted on the comments (&quot;<em>I cannot use <code>LinkedHashSet</code> because we haven’t went[sic] over it in class</em>&quot;).</p>\n<pre><code>public class BingoBoard2 {\n\n    public static void main(String[] args) {\n        int GRID_SIZE = 5;\n        int[][] card = new int[GRID_SIZE][GRID_SIZE];\n        int seed = 1;\n        for (int col = 0; col &lt; GRID_SIZE; col++) {\n            if (col != 0) {\n                seed += 15;\n            }\n            for (int row = 0; row &lt; GRID_SIZE; row++ ) {\n                int value = -1;\n                do {\n                    value = (int) (Math.random() * 14) + seed;\n                } while (valueInArray(card, col, row, value));\n                card[row][col] = value;                 \n            }\n        }\n\n        StringBuilder buff = new StringBuilder();\n        Arrays.stream(card).forEach((i) -&gt; {\n            buff.append(&quot;[&quot;);\n            Arrays.stream(i).forEach((j) -&gt; buff.append(j + &quot; &quot;));\n            buff.replace(buff.toString().lastIndexOf(&quot; &quot;), buff.length(),  &quot;&quot;);\n            buff.append(&quot;]\\n&quot;);\n        });\n        \n        System.out.print(buff.toString().replaceAll(&quot; &quot;, &quot;, &quot;));\n    }\n    \n    private static boolean valueInArray(int[][] arr, int col, int maxIndex, int value) {\n\n        for (int row = 0; row &lt; maxIndex; row++) {\n            if (arr[row][col] == value) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>This latest solution</p>\n<ol>\n<li>Doesn't use <code>Set</code> or <code>LinkedHashSet</code></li>\n<li>Doesn't transpose the 2D array</li>\n<li>Doesn't insert duplicate values into the array.</li>\n</ol>\n<p>The check for duplicate simply checks the current column values in the range of index 0 up to the current index. Basically, it checks all previous inserts in the current column. Since the randomizer generates unique values for each column (based on BINGO), there is no need to check for duplicates outside the current column. So, per column, <em><strong>there will be approximately 4! checks per column</strong></em> (<em>5 * 4!</em> per board - or 50 checks if my math is correct).</p>\n<p>A sample output for this version:</p>\n<pre><code>[1, 25, 31, 46, 64]\n[4, 22, 36, 49, 66]\n[5, 24, 37, 48, 72]\n[9, 19, 32, 50, 63]\n[2, 23, 38, 54, 71]\n</code></pre>\n<p>Number of Duplicate Checks: 55 (I have seen this count range from the low 50's to about low 70's). This is of, course, heavily dependent on the randomizing function with regards to how frequent duplicate numbers are generated in the given range. Given the fact that for each column the range is small (only 15 numbers), the frequency of numbers repeating is high (probably 1 in 3). Since there are 25 values in this grid, this seems to make sense (Dup count being somewhere 2-3 times the size of the grid). Maybe someone better in math than me can provide a better explanation about the probability of numbers repeating.</p>\n"}],"owner":{"account_id":24432075,"reputation":11,"user_id":18356871,"display_name":"chickengod"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1646247202,"answer_count":1,"score":0,"last_activity_date":1646761255,"creation_date":1646246493,"question_id":71327659,"body_markdown":" I am not allowed to import anything, the requirements state that everything must be already available to you or created by you. I also can&#39;t use anything too advanced and have to use loops and if statements to stop the duplicates.\r\n```\r\nint[][] card;\r\n      public BINGOCardEhretEvan(){\r\n         \r\n        card = new int[5][5];\r\n         \r\n         for(int i=0; i &lt; 5; i++){\r\n            for(int j=0; j &lt; 5; j++){ \r\n            \r\n             card[i][0] = (int)(Math.random() * 14)+1;\r\n             if (card[i][0] == card[j][0] &amp;&amp; i != j)  {card[i][0] = (int)(Math.random() * 14)+1;}\r\n             card[i][1] = (int)(Math.random() * 14)+16;\r\n             if (card[i][1] == card[j][1] &amp;&amp; i != j)  {card[i][1] = (int)(Math.random() * 14)+16;}\r\n             card[i][2] = (int)(Math.random() * 14)+31;\r\n             if (card[i][2] == card[j][2] &amp;&amp; i != j)  {card[i][2] = (int)(Math.random() * 14)+31;}\r\n             card[i][3] = (int)(Math.random() * 14)+46;\r\n             if (card[i][3] == card[j][3] &amp;&amp; i != j)  {card[i][3] = (int)(Math.random() * 14)+46;}\r\n             card[i][4] = (int)(Math.random() * 14)+61;\r\n             if (card[i][4] == card[j][4] &amp;&amp; i != j)  {card[i][4] = (int)(Math.random() * 14)+61;}\r\n         }   \r\n            } card[2][2] = 0;\r\n             \r\n     \r\n     \r\n     \r\n      }//end bingoCard class\r\n```\r\n","title":"How do I check the previous numbers in the array for a duplicate before placing a new random value in the array?","body":"<p>I am not allowed to import anything, the requirements state that everything must be already available to you or created by you. I also can't use anything too advanced and have to use loops and if statements to stop the duplicates.</p>\n<pre><code>int[][] card;\n      public BINGOCardEhretEvan(){\n         \n        card = new int[5][5];\n         \n         for(int i=0; i &lt; 5; i++){\n            for(int j=0; j &lt; 5; j++){ \n            \n             card[i][0] = (int)(Math.random() * 14)+1;\n             if (card[i][0] == card[j][0] &amp;&amp; i != j)  {card[i][0] = (int)(Math.random() * 14)+1;}\n             card[i][1] = (int)(Math.random() * 14)+16;\n             if (card[i][1] == card[j][1] &amp;&amp; i != j)  {card[i][1] = (int)(Math.random() * 14)+16;}\n             card[i][2] = (int)(Math.random() * 14)+31;\n             if (card[i][2] == card[j][2] &amp;&amp; i != j)  {card[i][2] = (int)(Math.random() * 14)+31;}\n             card[i][3] = (int)(Math.random() * 14)+46;\n             if (card[i][3] == card[j][3] &amp;&amp; i != j)  {card[i][3] = (int)(Math.random() * 14)+46;}\n             card[i][4] = (int)(Math.random() * 14)+61;\n             if (card[i][4] == card[j][4] &amp;&amp; i != j)  {card[i][4] = (int)(Math.random() * 14)+61;}\n         }   \n            } card[2][2] = 0;\n             \n     \n     \n     \n      }//end bingoCard class\n</code></pre>\n"},{"tags":["java","mysql","exception","jdbc"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1348052628,"post_id":12493157,"comment_id":16810523,"body_markdown":"It looks like a driver or classloading issue. MySQL is looking for a bundle containing its internationalized error messages, and can&#39;t find it (although it should be bundled within the same jar as the driver classes). How are you building your single jar and running it?","body":"It looks like a driver or classloading issue. MySQL is looking for a bundle containing its internationalized error messages, and can&#39;t find it (although it should be bundled within the same jar as the driver classes). How are you building your single jar and running it?"},{"owner":{"account_id":450783,"reputation":1104,"user_id":846291,"accept_rate":73,"display_name":"Rsaesha"},"score":0,"creation_date":1348053358,"post_id":12493157,"comment_id":16810803,"body_markdown":"I&#39;m using NetBeans. I&#39;ve modified the build.xml to build in the .jar libraries I&#39;m using.","body":"I&#39;m using NetBeans. I&#39;ve modified the build.xml to build in the .jar libraries I&#39;m using."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1348053639,"post_id":12493157,"comment_id":16810918,"body_markdown":"I don&#39;t know about Netbeans, and that doesn&#39;t tell me how the jar is built. Does it contain a file named com/mysql/jdbc/LocalizedErrorMessages.class, or a file com/mysql/jdbc/LocalizedErrorMessages.properties?","body":"I don&#39;t know about Netbeans, and that doesn&#39;t tell me how the jar is built. Does it contain a file named com/mysql/jdbc/LocalizedErrorMessages.class, or a file com/mysql/jdbc/LocalizedErrorMessages.properties?"},{"owner":{"account_id":450783,"reputation":1104,"user_id":846291,"accept_rate":73,"display_name":"Rsaesha"},"score":1,"creation_date":1348054360,"post_id":12493157,"comment_id":16811210,"body_markdown":"Aha! The LocalizedErrorMessages.properties file was missing from the compiled JAR. I believe the build.xml was set up to only include files ending in .class. I&#39;ve altered the build process to include everything, and it all works now. Thanks!","body":"Aha! The LocalizedErrorMessages.properties file was missing from the compiled JAR. I believe the build.xml was set up to only include files ending in .class. I&#39;ve altered the build process to include everything, and it all works now. Thanks!"},{"owner":{"account_id":106628,"reputation":1972,"user_id":283973,"display_name":"PeterVermont"},"score":0,"creation_date":1392064667,"post_id":12493157,"comment_id":32786375,"body_markdown":"@Rsaesha I also was missing the LocalizedErrorMessages.properties file because my build.xml was only including .class file. I think it would be legitimate for you to answer this question yourself and mark it as correct.","body":"@Rsaesha I also was missing the LocalizedErrorMessages.properties file because my build.xml was only including .class file. I think it would be legitimate for you to answer this question yourself and mark it as correct."},{"owner":{"account_id":1321086,"reputation":4305,"user_id":1266906,"display_name":"TheConstructor"},"score":1,"creation_date":1394129688,"post_id":12493157,"comment_id":33759822,"body_markdown":"@Rsaesha could you add your solution as answer and accept it? Thank you!","body":"@Rsaesha could you add your solution as answer and accept it? Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":2630539,"reputation":33,"user_id":2276610,"display_name":"viswanadh"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1397220244,"creation_date":1397218749,"answer_id":23012374,"question_id":12493157,"body_markdown":"Replace..\r\n\r\n    connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/dbname?user=dbuser&amp;password=dbpass&quot;);\r\n\r\nwith ..bcoz default port is 3306 for mysql.If changed give that\r\n\r\n    DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/minebench&quot;, &quot;username&quot;, &quot;password&quot;); \r\n\r\nand add &quot;mysql-connector-java-5.1.0-bin.jar&quot;.\r\nthen try it .","title":"MissingResourceException when using JDBC?","body":"<p>Replace..</p>\n\n<pre><code>connection = DriverManager.getConnection(\"jdbc:mysql://localhost/dbname?user=dbuser&amp;password=dbpass\");\n</code></pre>\n\n<p>with ..bcoz default port is 3306 for mysql.If changed give that</p>\n\n<pre><code>DriverManager.getConnection(\"jdbc:mysql://localhost:3306/minebench\", \"username\", \"password\"); \n</code></pre>\n\n<p>and add \"mysql-connector-java-5.1.0-bin.jar\".\nthen try it .</p>\n"},{"tags":[],"owner":{"account_id":17010970,"reputation":1,"user_id":12305981,"display_name":"forestwings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646761087,"creation_date":1646654878,"answer_id":71380844,"question_id":12493157,"body_markdown":"I encountered the same problem when I used Tomcat.\r\n\r\nHere is my solution: add the JAR package `mysql-connector-java:&lt;version&gt;` to the `lib` package in Tomcat&#39;s (or your server&#39;s) installation path.\r\n","title":"MissingResourceException when using JDBC?","body":"<p>I encountered the same problem when I used Tomcat.</p>\n<p>Here is my solution: add the JAR package <code>mysql-connector-java:&lt;version&gt;</code> to the <code>lib</code> package in Tomcat's (or your server's) installation path.</p>\n"}],"owner":{"account_id":450783,"reputation":1104,"user_id":846291,"accept_rate":73,"display_name":"Rsaesha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3693,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1646761087,"creation_date":1348051524,"question_id":12493157,"body_markdown":"I&#39;ve used JDBC without any problems many times before, but for some reason on a new server I have it isn&#39;t working. The code compiles and runs fine on my main machine, and all the libraries (including the JDBC) should be compiled into a single JAR that I run.\r\n\r\nBasic code:\r\n\r\n    try\r\n    {\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    }\r\n    catch (ClassNotFoundException e)\r\n    {\r\n        System.err.println(&quot;Cannot load driver...&quot;);\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    try\r\n    {\r\n        connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/dbname?user=dbuser&amp;password=dbpass&quot;);\r\n        statement = connection.createStatement();\r\n    }\r\n    catch (SQLException e)\r\n    {\r\n        System.err.println(&quot;Cannot connect to database...&quot;);\r\n        e.printStackTrace();\r\n    }\r\n\r\nThe error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    \tat com.mysql.jdbc.Util.stackTraceToString(Util.java:355)\r\n    \tat com.mysql.jdbc.Util.&lt;clinit&gt;(Util.java:120)\r\n    \tat com.mysql.jdbc.NonRegisteringDriver.parseURL(NonRegisteringDriver.java:764)\r\n    \tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:325)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:620)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:222)\r\n    \tat com.test.Server.&lt;init&gt;(Server.java:78)\r\n    \tat com.test.Server.main(Server.java:49)\r\n    Caused by: java.lang.RuntimeException: Can&#39;t load resource bundle due to underlying exception java.util.MissingResourceException: Can&#39;t find bundle for base name com.mysql.jdbc.LocalizedErrorMessages, locale en_GB\r\n    \tat com.mysql.jdbc.Messages.&lt;clinit&gt;(Messages.java:61)\r\n    \t... 8 more\r\n    Caused by: java.util.MissingResourceException: Can&#39;t find bundle for base name com.mysql.jdbc.LocalizedErrorMessages, locale en_GB\r\n    \tat java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1539)\r\n    \tat java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1278)\r\n    \tat java.util.ResourceBundle.getBundle(ResourceBundle.java:733)\r\n    \tat com.mysql.jdbc.Messages.&lt;clinit&gt;(Messages.java:59)\r\n    \t... 8 more\r\n\r\nI&#39;ve never had this kind of error before, and Google is not being helpful at all. I&#39;ve checked the database credentials, port number, etc. Would appreciate any help on solving it!","title":"MissingResourceException when using JDBC?","body":"<p>I've used JDBC without any problems many times before, but for some reason on a new server I have it isn't working. The code compiles and runs fine on my main machine, and all the libraries (including the JDBC) should be compiled into a single JAR that I run.</p>\n\n<p>Basic code:</p>\n\n<pre><code>try\n{\n    Class.forName(\"com.mysql.jdbc.Driver\");\n}\ncatch (ClassNotFoundException e)\n{\n    System.err.println(\"Cannot load driver...\");\n    e.printStackTrace();\n}\n\ntry\n{\n    connection = DriverManager.getConnection(\"jdbc:mysql://localhost/dbname?user=dbuser&amp;password=dbpass\");\n    statement = connection.createStatement();\n}\ncatch (SQLException e)\n{\n    System.err.println(\"Cannot connect to database...\");\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ExceptionInInitializerError\n    at com.mysql.jdbc.Util.stackTraceToString(Util.java:355)\n    at com.mysql.jdbc.Util.&lt;clinit&gt;(Util.java:120)\n    at com.mysql.jdbc.NonRegisteringDriver.parseURL(NonRegisteringDriver.java:764)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:325)\n    at java.sql.DriverManager.getConnection(DriverManager.java:620)\n    at java.sql.DriverManager.getConnection(DriverManager.java:222)\n    at com.test.Server.&lt;init&gt;(Server.java:78)\n    at com.test.Server.main(Server.java:49)\nCaused by: java.lang.RuntimeException: Can't load resource bundle due to underlying exception java.util.MissingResourceException: Can't find bundle for base name com.mysql.jdbc.LocalizedErrorMessages, locale en_GB\n    at com.mysql.jdbc.Messages.&lt;clinit&gt;(Messages.java:61)\n    ... 8 more\nCaused by: java.util.MissingResourceException: Can't find bundle for base name com.mysql.jdbc.LocalizedErrorMessages, locale en_GB\n    at java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1539)\n    at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1278)\n    at java.util.ResourceBundle.getBundle(ResourceBundle.java:733)\n    at com.mysql.jdbc.Messages.&lt;clinit&gt;(Messages.java:59)\n    ... 8 more\n</code></pre>\n\n<p>I've never had this kind of error before, and Google is not being helpful at all. I've checked the database credentials, port number, etc. Would appreciate any help on solving it!</p>\n"},{"tags":["java","sharepoint","yeoman","spfx","yeoman-generator"],"answers":[{"tags":[],"owner":{"account_id":19609179,"reputation":357,"user_id":16230385,"display_name":"Allen_MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636696989,"creation_date":1636696989,"answer_id":69938585,"question_id":69937719,"body_markdown":"\r\n1.[Install the latest version of Node.js LTS v14][1].\r\n\r\n2.install the latest version of npm: npm i -g npm@next\r\n\r\n3.run the following in your cmd window or commander window:\r\n\r\n    npm uninstall -g chalk\r\n    npm uninstall -g loadash\r\n    npm uninstall -g tar-fs\r\n    npm uninstall -g update-notifier\r\n    npm uninstall -g yeoman-generator\r\n    npm uninstall -g yosay\r\n    npm uninstall -g yo\r\n    npm uninstall -g gulp\r\n    npm uninstall -g @microsoft/generator-sharepoint\r\n    npm install -g chalk\r\n    npm install -g loadash\r\n    npm install -g tar-fs\r\n    npm install -g update-notifier\r\n    npm install -g yeoman-generator\r\n    npm install -g yosay\r\n    npm install -g yo\r\n    npm install -g gulp\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-development-environment#install-nodejs","title":"Yeoman SPFx issue with installing @microsoft/sharepoint generator","body":"<p>1.<a href=\"https://learn.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-development-environment#install-nodejs\" rel=\"nofollow noreferrer\">Install the latest version of Node.js LTS v14</a>.</p>\n<p>2.install the latest version of npm: npm i -g npm@next</p>\n<p>3.run the following in your cmd window or commander window:</p>\n<pre><code>npm uninstall -g chalk\nnpm uninstall -g loadash\nnpm uninstall -g tar-fs\nnpm uninstall -g update-notifier\nnpm uninstall -g yeoman-generator\nnpm uninstall -g yosay\nnpm uninstall -g yo\nnpm uninstall -g gulp\nnpm uninstall -g @microsoft/generator-sharepoint\nnpm install -g chalk\nnpm install -g loadash\nnpm install -g tar-fs\nnpm install -g update-notifier\nnpm install -g yeoman-generator\nnpm install -g yosay\nnpm install -g yo\nnpm install -g gulp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23160221,"reputation":109,"user_id":17260968,"display_name":"alexthannah"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1636720186,"creation_date":1636720186,"answer_id":69942990,"question_id":69937719,"body_markdown":"Turns out the issue is that I was using the latest version of Node.js (v16.13.0) when I needed to be using a supported version (v14.15.0)","title":"Yeoman SPFx issue with installing @microsoft/sharepoint generator","body":"<p>Turns out the issue is that I was using the latest version of Node.js (v16.13.0) when I needed to be using a supported version (v14.15.0)</p>\n"},{"tags":[],"owner":{"account_id":6234203,"reputation":173,"user_id":4849991,"display_name":"Zeeshan Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638832931,"creation_date":1638832931,"answer_id":70253163,"question_id":69937719,"body_markdown":"Node v14 is the key here. Atleast working for me by downloading the node v14.18. ","title":"Yeoman SPFx issue with installing @microsoft/sharepoint generator","body":"<p>Node v14 is the key here. Atleast working for me by downloading the node v14.18.</p>\n"},{"tags":[],"owner":{"account_id":13537186,"reputation":11,"user_id":10237658,"display_name":"Thanura Marapana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646760713,"creation_date":1646760713,"answer_id":71399203,"question_id":69937719,"body_markdown":"Try different versions of Node v14. Mine did not work for node 14.17 but worked for v14.19","title":"Yeoman SPFx issue with installing @microsoft/sharepoint generator","body":"<p>Try different versions of Node v14. Mine did not work for node 14.17 but worked for v14.19</p>\n"}],"owner":{"account_id":23160221,"reputation":109,"user_id":17260968,"display_name":"alexthannah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5928,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69942990,"answer_count":4,"score":2,"last_activity_date":1646760713,"creation_date":1636688771,"question_id":69937719,"body_markdown":"I&#39;m trying to learn how to use SPFx, however I&#39;m falling down at the first step when it comes to running `yo @microsoft/sharepoint`.\r\n\r\nI get the following error when running `yo @microsoft/sharepoint`:\r\n\r\n    Error @microsoft/sharepoint\r\n\r\n    You don&#39;t seem to have a generator with the name “@microsoft/sharepoint” installed.\r\n    But help is on the way:\r\n\r\n    You can see available generators via npm search yeoman-generator or via http://yeoman.io/generators/.\r\n    Install them with npm install @microsoft/generator-sharepoint.\r\n\r\n    To see all your installed generators run yo --generators. Adding the --help option will also show subgenerators.\r\n\r\n    If yo cannot find the generator, run yo doctor to troubleshoot your system.\r\n\r\nI have tried running `npm install @microsoft/generator-sharepoint -g` however this does not resolve the above error. It&#39;s also worth noting that I get a bunch of errors when running the install generator command:\r\n\r\n        npm WARN EBADENGINE Unsupported engine {\r\n        npm WARN EBADENGINE   package: &#39;@microsoft/generator-sharepoint@1.13.0&#39;,\r\n        npm WARN EBADENGINE   required: { node: &#39;&gt;=12.13.0 &lt;13.0.0 || &gt;=14.15.0 &lt;15.0.0&#39; },\r\n        npm WARN EBADENGINE   current: { node: &#39;v16.13.0&#39;, npm: &#39;8.1.0&#39; }\r\n        npm WARN EBADENGINE }\r\n        npm WARN EBADENGINE Unsupported engine {\r\n        npm WARN EBADENGINE   package: &#39;@microsoft/sp-module-interfaces@1.13.0&#39;,\r\n        npm WARN EBADENGINE   required: { node: &#39;&gt;=12.13.0 &lt;13.0.0 || &gt;=14.15.0 &lt;15.0.0&#39; },\r\n        npm WARN EBADENGINE   current: { node: &#39;v16.13.0&#39;, npm: &#39;8.1.0&#39; }\r\n        npm WARN EBADENGINE }\r\n        npm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\r\n        npm WARN deprecated har-validator@5.1.5: this library is no longer supported\r\n        npm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies\r\n        .\r\n        npm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies\r\n        .\r\n        npm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\r\n        npm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams\r\n         API instead.\r\n        npm WARN deprecated uuid@3.1.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain\r\n         circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\r\n        npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain\r\n         circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\r\n        npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain\r\n         circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\r\n        npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain\r\n         circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\r\n        npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain\r\n         circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\r\n        npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\r\n        npm WARN deprecated @opentelemetry/types@0.2.0: Package renamed to @opentelemetry/api, see https://github.com/open-telem\r\n        etry/opentelemetry-js\r\n        npm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to     v2.x.x.\r\n        npm WARN deprecated tar@2.2.2: This version of tar is no longer supported, and will not receive security updates. Please\r\n         upgrade asap.\r\n        npm ERR! code 1\r\n        npm ERR! path     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharepoint\\node_modules\\node-sas\r\n        s\r\n        npm ERR! command failed\r\n        npm ERR! command C:\\windows\\system32\\cmd.exe /d /s /c node scripts/build.js\r\n        npm ERR! Building: C:\\Program Files\\nodejs\\node.exe     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\gene\r\n    rator-sharepoint\\node_modules\\node-gyp\\bin\\node-gyp.js rebuild --verbose --libsass_ext= -    -libsass_cflags= --libsass_ldfl\r\n        ags= --libsass_library=\r\n        npm ERR! gyp info it worked if it ends with ok\r\n        npm ERR! gyp verb cli [\r\n        npm ERR! gyp verb cli   &#39;C:\\\\Program Files\\\\nodejs\\\\node.exe&#39;,\r\n        npm ERR! gyp verb cli       &#39;C:\\\\Users\\\\%username%\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\@microsoft\\\\generator-    sharepoint\\\\n\r\n        ode_modules\\\\node-gyp\\\\bin\\\\node-gyp.js&#39;,\r\n        npm ERR! gyp verb cli   &#39;rebuild&#39;,\r\n        npm ERR! gyp verb cli   &#39;--verbose&#39;,\r\n        npm ERR! gyp verb cli   &#39;--libsass_ext=&#39;,\r\n        npm ERR! gyp verb cli   &#39;--libsass_cflags=&#39;,\r\n        npm ERR! gyp verb cli   &#39;--libsass_ldflags=&#39;,\r\n        npm ERR! gyp verb cli   &#39;--libsass_library=&#39;\r\n        npm ERR! gyp verb cli ]\r\n        npm ERR! gyp info using node-gyp@3.8.0\r\n        npm ERR! gyp info using node@16.13.0 | win32 | x64\r\n        npm ERR! gyp verb command rebuild []\r\n        npm ERR! gyp verb command clean []\r\n        npm ERR! gyp verb clean removing &quot;build&quot; directory\r\n        npm ERR! gyp verb command configure []\r\n        npm ERR! gyp verb check python checking for Python executable &quot;python2&quot; in the PATH\r\n        npm ERR! gyp verb `which` failed Error: not found: python2\r\n        npm ERR! gyp verb `which` failed     at getNotFoundError     (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsof\r\n    t\\generator-sharepoint\\node_modules\\which\\which.js:13:12)\r\n        npm ERR! gyp verb `which` failed     at F     (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sha\r\n        repoint\\node_modules\\which\\which.js:68:19)\r\n        npm ERR! gyp verb `which` failed     at E     (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sha\r\n        repoint\\node_modules\\which\\which.js:80:29)\r\n        npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\r\n            oint\\node_modules\\which\\which.js:89:16\r\n        npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\r\n        oint\\node_modules\\isexe\\index.js:42:5\r\n        npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\r\n        oint\\node_modules\\isexe\\windows.js:36:5\r\n        npm ERR! gyp verb `which` failed     at FSReqCallback.oncomplete (node:fs:198:21)\r\n        npm ERR! gyp verb `which` failed  python2 Error: not found: python2\r\n        npm ERR! gyp verb `which` failed     at getNotFoundError     (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsof\r\n        t\\generator-sharepoint\\node_modules\\which\\which.js:13:12)\r\n        npm ERR! gyp verb `which` failed     at F         (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sha\r\n        repoint\\node_modules\\which\\which.js:68:19)\r\n        npm ERR! gyp verb `which` failed     at E     (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sha\r\n        repoint\\node_modules\\which\\which.js:80:29)\r\n        npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\r\n        oint\\node_modules\\which\\which.js:89:16\r\n        npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\r\n        oint\\node_modules\\isexe\\index.js:42:5\r\n        npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\r\n        oint\\node_modules\\isexe\\windows.js:36:5\r\n        npm ERR! gyp verb `which` failed     at FSReqCallback.oncomplete (node:fs:198:21) {\r\n        npm ERR! gyp verb `which` failed   code: &#39;ENOENT&#39;\r\n        npm ERR! gyp verb `which` failed }\r\n        npm ERR! gyp verb check python checking for Python executable &quot;python&quot; in the PATH\r\n        npm ERR! gyp verb `which` succeeded python C:\\Program Files\\Python310\\python.EXE\r\n        npm ERR! gyp ERR! configure error\r\n        npm ERR! gyp ERR! stack Error: Command failed: C:\\Program Files\\Python310\\python.EXE     -c import sys; print &quot;%s.%s.%s&quot; % s\r\n        ys.version_info[:3];\r\n        npm ERR! gyp ERR! stack   File &quot;&lt;string&gt;&quot;, line 1\r\n        npm ERR! gyp ERR! stack     import sys; print &quot;%s.%s.%s&quot; % sys.version_info[:3];\r\n        npm ERR! gyp ERR! stack                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        npm ERR! gyp ERR! stack SyntaxError: Missing parentheses in call to &#39;print&#39;. Did you     mean print(...)?\r\n        npm ERR! gyp ERR! stack\r\n        npm ERR! gyp ERR! stack     at ChildProcess.exithandler (node:child_process:397:12)\r\n        npm ERR! gyp ERR! stack     at ChildProcess.emit (node:events:390:28)\r\n        npm ERR! gyp ERR! stack     at maybeClose (node:internal/child_process:1064:16)\r\n        npm ERR! gyp ERR! stack     at Process.ChildProcess._handle.onexit     (node:internal/child_process:301:5)\r\n        npm ERR! gyp ERR! System Windows_NT 10.0.14393\r\n        npm ERR! gyp ERR! command &quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot;     &quot;C:\\\\Users\\\\%username%\\\\AppData\\\\Roaming\\\\npm\\\\node_modu\r\n        les\\\\@microsoft\\\\generator-sharepoint\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js&quot;     &quot;rebuild&quot; &quot;--verbose&quot; &quot;--libsass_ext=&quot;\r\n        &quot;--libsass_cflags=&quot; &quot;--libsass_ldflags=&quot; &quot;--libsass_library=&quot;\r\n        npm ERR! gyp ERR! cwd     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-    sharepoint\\node_modules\\\r\n        node-sass\r\n        npm ERR! gyp ERR! node -v v16.13.0\r\n        npm ERR! gyp ERR! node-gyp -v v3.8.0\r\n        npm ERR! gyp ERR! not ok\r\n        npm ERR! Build failed with error code: 1\r\n    \r\n        npm ERR! A complete log of this run can be found in:\r\n        npm ERR!     C:\\Users\\%username%\\AppData\\Local\\npm-cache\\_logs\\2021-11-12T03_25_38_209Z-debug.log\r\n\r\nCould anyone please help troubleshoot this with me? I&#39;m not sure what is causing the issues with the @microsoft/sharepoint generator install, but something is seemingly preventing it from installing properly.\r\n\r\nAny help is greatly appreciated.\r\n\r\nMany thanks,\r\n\r\nAlex.","title":"Yeoman SPFx issue with installing @microsoft/sharepoint generator","body":"<p>I'm trying to learn how to use SPFx, however I'm falling down at the first step when it comes to running <code>yo @microsoft/sharepoint</code>.</p>\n<p>I get the following error when running <code>yo @microsoft/sharepoint</code>:</p>\n<pre><code>Error @microsoft/sharepoint\n\nYou don't seem to have a generator with the name “@microsoft/sharepoint” installed.\nBut help is on the way:\n\nYou can see available generators via npm search yeoman-generator or via http://yeoman.io/generators/.\nInstall them with npm install @microsoft/generator-sharepoint.\n\nTo see all your installed generators run yo --generators. Adding the --help option will also show subgenerators.\n\nIf yo cannot find the generator, run yo doctor to troubleshoot your system.\n</code></pre>\n<p>I have tried running <code>npm install @microsoft/generator-sharepoint -g</code> however this does not resolve the above error. It's also worth noting that I get a bunch of errors when running the install generator command:</p>\n<pre><code>    npm WARN EBADENGINE Unsupported engine {\n    npm WARN EBADENGINE   package: '@microsoft/generator-sharepoint@1.13.0',\n    npm WARN EBADENGINE   required: { node: '&gt;=12.13.0 &lt;13.0.0 || &gt;=14.15.0 &lt;15.0.0' },\n    npm WARN EBADENGINE   current: { node: 'v16.13.0', npm: '8.1.0' }\n    npm WARN EBADENGINE }\n    npm WARN EBADENGINE Unsupported engine {\n    npm WARN EBADENGINE   package: '@microsoft/sp-module-interfaces@1.13.0',\n    npm WARN EBADENGINE   required: { node: '&gt;=12.13.0 &lt;13.0.0 || &gt;=14.15.0 &lt;15.0.0' },\n    npm WARN EBADENGINE   current: { node: 'v16.13.0', npm: '8.1.0' }\n    npm WARN EBADENGINE }\n    npm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\n    npm WARN deprecated har-validator@5.1.5: this library is no longer supported\n    npm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies\n    .\n    npm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies\n    .\n    npm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\n    npm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams\n     API instead.\n    npm WARN deprecated uuid@3.1.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain\n     circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n    npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain\n     circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n    npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain\n     circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n    npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain\n     circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n    npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain\n     circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.\n    npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n    npm WARN deprecated @opentelemetry/types@0.2.0: Package renamed to @opentelemetry/api, see https://github.com/open-telem\n    etry/opentelemetry-js\n    npm WARN deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to     v2.x.x.\n    npm WARN deprecated tar@2.2.2: This version of tar is no longer supported, and will not receive security updates. Please\n     upgrade asap.\n    npm ERR! code 1\n    npm ERR! path     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharepoint\\node_modules\\node-sas\n    s\n    npm ERR! command failed\n    npm ERR! command C:\\windows\\system32\\cmd.exe /d /s /c node scripts/build.js\n    npm ERR! Building: C:\\Program Files\\nodejs\\node.exe     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\gene\nrator-sharepoint\\node_modules\\node-gyp\\bin\\node-gyp.js rebuild --verbose --libsass_ext= -    -libsass_cflags= --libsass_ldfl\n    ags= --libsass_library=\n    npm ERR! gyp info it worked if it ends with ok\n    npm ERR! gyp verb cli [\n    npm ERR! gyp verb cli   'C:\\\\Program Files\\\\nodejs\\\\node.exe',\n    npm ERR! gyp verb cli       'C:\\\\Users\\\\%username%\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\@microsoft\\\\generator-    sharepoint\\\\n\n    ode_modules\\\\node-gyp\\\\bin\\\\node-gyp.js',\n    npm ERR! gyp verb cli   'rebuild',\n    npm ERR! gyp verb cli   '--verbose',\n    npm ERR! gyp verb cli   '--libsass_ext=',\n    npm ERR! gyp verb cli   '--libsass_cflags=',\n    npm ERR! gyp verb cli   '--libsass_ldflags=',\n    npm ERR! gyp verb cli   '--libsass_library='\n    npm ERR! gyp verb cli ]\n    npm ERR! gyp info using node-gyp@3.8.0\n    npm ERR! gyp info using node@16.13.0 | win32 | x64\n    npm ERR! gyp verb command rebuild []\n    npm ERR! gyp verb command clean []\n    npm ERR! gyp verb clean removing &quot;build&quot; directory\n    npm ERR! gyp verb command configure []\n    npm ERR! gyp verb check python checking for Python executable &quot;python2&quot; in the PATH\n    npm ERR! gyp verb `which` failed Error: not found: python2\n    npm ERR! gyp verb `which` failed     at getNotFoundError     (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsof\nt\\generator-sharepoint\\node_modules\\which\\which.js:13:12)\n    npm ERR! gyp verb `which` failed     at F     (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sha\n    repoint\\node_modules\\which\\which.js:68:19)\n    npm ERR! gyp verb `which` failed     at E     (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sha\n    repoint\\node_modules\\which\\which.js:80:29)\n    npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\n        oint\\node_modules\\which\\which.js:89:16\n    npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\n    oint\\node_modules\\isexe\\index.js:42:5\n    npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\n    oint\\node_modules\\isexe\\windows.js:36:5\n    npm ERR! gyp verb `which` failed     at FSReqCallback.oncomplete (node:fs:198:21)\n    npm ERR! gyp verb `which` failed  python2 Error: not found: python2\n    npm ERR! gyp verb `which` failed     at getNotFoundError     (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsof\n    t\\generator-sharepoint\\node_modules\\which\\which.js:13:12)\n    npm ERR! gyp verb `which` failed     at F         (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sha\n    repoint\\node_modules\\which\\which.js:68:19)\n    npm ERR! gyp verb `which` failed     at E     (C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sha\n    repoint\\node_modules\\which\\which.js:80:29)\n    npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\n    oint\\node_modules\\which\\which.js:89:16\n    npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\n    oint\\node_modules\\isexe\\index.js:42:5\n    npm ERR! gyp verb `which` failed     at     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-sharep\n    oint\\node_modules\\isexe\\windows.js:36:5\n    npm ERR! gyp verb `which` failed     at FSReqCallback.oncomplete (node:fs:198:21) {\n    npm ERR! gyp verb `which` failed   code: 'ENOENT'\n    npm ERR! gyp verb `which` failed }\n    npm ERR! gyp verb check python checking for Python executable &quot;python&quot; in the PATH\n    npm ERR! gyp verb `which` succeeded python C:\\Program Files\\Python310\\python.EXE\n    npm ERR! gyp ERR! configure error\n    npm ERR! gyp ERR! stack Error: Command failed: C:\\Program Files\\Python310\\python.EXE     -c import sys; print &quot;%s.%s.%s&quot; % s\n    ys.version_info[:3];\n    npm ERR! gyp ERR! stack   File &quot;&lt;string&gt;&quot;, line 1\n    npm ERR! gyp ERR! stack     import sys; print &quot;%s.%s.%s&quot; % sys.version_info[:3];\n    npm ERR! gyp ERR! stack                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    npm ERR! gyp ERR! stack SyntaxError: Missing parentheses in call to 'print'. Did you     mean print(...)?\n    npm ERR! gyp ERR! stack\n    npm ERR! gyp ERR! stack     at ChildProcess.exithandler (node:child_process:397:12)\n    npm ERR! gyp ERR! stack     at ChildProcess.emit (node:events:390:28)\n    npm ERR! gyp ERR! stack     at maybeClose (node:internal/child_process:1064:16)\n    npm ERR! gyp ERR! stack     at Process.ChildProcess._handle.onexit     (node:internal/child_process:301:5)\n    npm ERR! gyp ERR! System Windows_NT 10.0.14393\n    npm ERR! gyp ERR! command &quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot;     &quot;C:\\\\Users\\\\%username%\\\\AppData\\\\Roaming\\\\npm\\\\node_modu\n    les\\\\@microsoft\\\\generator-sharepoint\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js&quot;     &quot;rebuild&quot; &quot;--verbose&quot; &quot;--libsass_ext=&quot;\n    &quot;--libsass_cflags=&quot; &quot;--libsass_ldflags=&quot; &quot;--libsass_library=&quot;\n    npm ERR! gyp ERR! cwd     C:\\Users\\%username%\\AppData\\Roaming\\npm\\node_modules\\@microsoft\\generator-    sharepoint\\node_modules\\\n    node-sass\n    npm ERR! gyp ERR! node -v v16.13.0\n    npm ERR! gyp ERR! node-gyp -v v3.8.0\n    npm ERR! gyp ERR! not ok\n    npm ERR! Build failed with error code: 1\n\n    npm ERR! A complete log of this run can be found in:\n    npm ERR!     C:\\Users\\%username%\\AppData\\Local\\npm-cache\\_logs\\2021-11-12T03_25_38_209Z-debug.log\n</code></pre>\n<p>Could anyone please help troubleshoot this with me? I'm not sure what is causing the issues with the @microsoft/sharepoint generator install, but something is seemingly preventing it from installing properly.</p>\n<p>Any help is greatly appreciated.</p>\n<p>Many thanks,</p>\n<p>Alex.</p>\n"},{"tags":["java","openjdk-11"],"comments":[{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1646760554,"post_id":71399139,"comment_id":126201865,"body_markdown":"host is not fedora, it is ubuntu. change BASE_OS=Fedora to ubuntu.","body":"host is not fedora, it is ubuntu. change BASE_OS=Fedora to ubuntu."},{"owner":{"account_id":24442208,"reputation":3,"user_id":18365740,"display_name":"Nikhil Joshi"},"score":0,"creation_date":1646760746,"post_id":71399139,"comment_id":126201917,"body_markdown":"id is devkit it don&#39;t care about host OS as I understand. Anyway there are only two BASE_OSes available : Fedora and OEL (Oracle Enterprise Linux)","body":"id is devkit it don&#39;t care about host OS as I understand. Anyway there are only two BASE_OSes available : Fedora and OEL (Oracle Enterprise Linux)"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1646764771,"post_id":71399139,"comment_id":126203291,"body_markdown":"In that case, you would probably need to build on Fedora and then run the devkit on Ubuntu. That is possible as per the docs - &quot;You can for example create and use a devkit with GCC 7.3 and a Fedora 12 sysroot environment (with glibc 2.11) on Ubuntu 14.04&quot;","body":"In that case, you would probably need to build on Fedora and then run the devkit on Ubuntu. That is possible as per the docs - &quot;You can for example create and use a devkit with GCC 7.3 and a Fedora 12 sysroot environment (with glibc 2.11) on Ubuntu 14.04&quot;"},{"owner":{"account_id":24442208,"reputation":3,"user_id":18365740,"display_name":"Nikhil Joshi"},"score":0,"creation_date":1646765247,"post_id":71399139,"comment_id":126203433,"body_markdown":"@Khanna111 I am creating Fedora 21 environment and it doesn&#39;t matter what is my host os (Ubuntu 16 in my case) am I wrong?","body":"@Khanna111 I am creating Fedora 21 environment and it doesn&#39;t matter what is my host os (Ubuntu 16 in my case) am I wrong?"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1646769215,"post_id":71399139,"comment_id":126204744,"body_markdown":"Seems like, you need to make on fedora and use it on Ubuntu...","body":"Seems like, you need to make on fedora and use it on Ubuntu..."}],"owner":{"account_id":24442208,"reputation":3,"user_id":18365740,"display_name":"Nikhil Joshi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646760380,"creation_date":1646760380,"question_id":71399139,"body_markdown":"I need to build the following openJDK\r\n\r\n    git clone --depth 1 --branch jdk-11+28 https://github.com/openjdk/jdk.git\r\n\r\nFor that I run:\r\n\r\n    cd make/devkit\r\n    make TARGETS=&quot;aarch64-linux-gnu&quot; BASE_OS=Fedora BASE_OS_VERSION=21 &amp;&gt;build.log\r\n\r\nAnd got following error\r\n\r\n    Building on platform x86_64-unknown-linux-gnu\r\n    host_platforms x86_64-unknown-linux-gnu\r\n    target_platforms x86_64-unknown-linux-gnu\r\n    find: ‘/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit/result/x86_64-unknown-linux-gnu’: No such file or directory\r\n    Building compilers for x86_64-unknown-linux-gnu\r\n    Targets: x86_64-unknown-linux-gnu\r\n    for p in x86_64-unknown-linux-gnu ; do \\\r\n      make -f Tools.gmk download-rpms HOST=x86_64-unknown-linux-gnu BUILD=x86_64-unknown-linux-gnu RESULT=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit/result PREFIX=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit/result/x86_64-unknown-linux-gnu OUTPUT_ROOT=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit TARGET=$p &amp;&amp; \\\r\n      make -f Tools.gmk all HOST=x86_64-unknown-linux-gnu BUILD=x86_64-unknown-linux-gnu RESULT=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit/result PREFIX=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit/result/x86_64-unknown-linux-gnu OUTPUT_ROOT=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit \\\r\n          TARGET=$p || exit 1 ; \\\r\n    done\r\n    make[1]: Entering directory &#39;/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/make/devkit&#39;\r\n    TARGET=x86_64-unknown-linux-gnu\r\n    HOST=x86_64-unknown-linux-gnu\r\n    BUILD=x86_64-unknown-linux-gnu\r\n    ARCH=x86_64\r\n    Tools.gmk:66: *** Unknown base OS Fedora.  Stop.\r\n    make[1]: Leaving directory &#39;/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/make/devkit&#39;\r\n    Makefile:86: recipe for target &#39;x86_64-unknown-linux-gnu&#39; failed\r\n    make: *** [x86_64-unknown-linux-gnu] Error 1\r\n\r\nHost OS is Ubuntu 16.04.7 LTS (Xenial Xerus). Please tell me what am I doing wrong?\r\nWhere can I submit a bug report about openjdk11, or discuss this issue?","title":"Error building openJDK 11 with devkit: Unknown base OS Fedora","body":"<p>I need to build the following openJDK</p>\n<pre><code>git clone --depth 1 --branch jdk-11+28 https://github.com/openjdk/jdk.git\n</code></pre>\n<p>For that I run:</p>\n<pre><code>cd make/devkit\nmake TARGETS=&quot;aarch64-linux-gnu&quot; BASE_OS=Fedora BASE_OS_VERSION=21 &amp;&gt;build.log\n</code></pre>\n<p>And got following error</p>\n<pre><code>Building on platform x86_64-unknown-linux-gnu\nhost_platforms x86_64-unknown-linux-gnu\ntarget_platforms x86_64-unknown-linux-gnu\nfind: ‘/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit/result/x86_64-unknown-linux-gnu’: No such file or directory\nBuilding compilers for x86_64-unknown-linux-gnu\nTargets: x86_64-unknown-linux-gnu\nfor p in x86_64-unknown-linux-gnu ; do \\\n  make -f Tools.gmk download-rpms HOST=x86_64-unknown-linux-gnu BUILD=x86_64-unknown-linux-gnu RESULT=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit/result PREFIX=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit/result/x86_64-unknown-linux-gnu OUTPUT_ROOT=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit TARGET=$p &amp;&amp; \\\n  make -f Tools.gmk all HOST=x86_64-unknown-linux-gnu BUILD=x86_64-unknown-linux-gnu RESULT=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit/result PREFIX=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit/result/x86_64-unknown-linux-gnu OUTPUT_ROOT=/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/build/devkit \\\n      TARGET=$p || exit 1 ; \\\ndone\nmake[1]: Entering directory '/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/make/devkit'\nTARGET=x86_64-unknown-linux-gnu\nHOST=x86_64-unknown-linux-gnu\nBUILD=x86_64-unknown-linux-gnu\nARCH=x86_64\nTools.gmk:66: *** Unknown base OS Fedora.  Stop.\nmake[1]: Leaving directory '/media/katya/e947f05e-bd8f-4647-bbdd-0df608faa788/openjdk11/jdk/make/devkit'\nMakefile:86: recipe for target 'x86_64-unknown-linux-gnu' failed\nmake: *** [x86_64-unknown-linux-gnu] Error 1\n</code></pre>\n<p>Host OS is Ubuntu 16.04.7 LTS (Xenial Xerus). Please tell me what am I doing wrong?\nWhere can I submit a bug report about openjdk11, or discuss this issue?</p>\n"},{"tags":["java","json","apex","apex-code"],"answers":[{"tags":[],"owner":{"account_id":24494301,"reputation":16,"user_id":18410860,"display_name":"user18410860"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646759840,"creation_date":1646759840,"answer_id":71399036,"question_id":71397954,"body_markdown":"deserialize the string and serialize it again and then update the field.\r\nDeclare the JSON as string\r\n\r\n```\r\nMap&lt;String,Object&gt; parser = (Map&lt;String,Object&gt;)JSON.deserializeUntyped(yourstring);\r\nyourstring = JSON.serialize(parser);\r\n```\r\n\r\nYou can change Map accordingly. Required format will be present in string variable.","title":"JSON formatting in Apex","body":"<p>deserialize the string and serialize it again and then update the field.\nDeclare the JSON as string</p>\n<pre><code>Map&lt;String,Object&gt; parser = (Map&lt;String,Object&gt;)JSON.deserializeUntyped(yourstring);\nyourstring = JSON.serialize(parser);\n</code></pre>\n<p>You can change Map accordingly. Required format will be present in string variable.</p>\n"}],"owner":{"account_id":21390018,"reputation":29,"user_id":15754268,"display_name":"user15754268"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71399036,"answer_count":1,"score":0,"last_activity_date":1646759840,"creation_date":1646755271,"question_id":71397954,"body_markdown":"I am getting a JSON in below format:\r\n```\r\n{\r\n&quot;A&quot;:&quot;1&quot;,\r\n&quot;B&quot;:&quot;2&quot;\r\n}\r\n```\r\n\r\nI have a field update and JSON at some point could be too long.\r\nHow can I change the JSON format to below pattern?\r\n```\r\n{&quot;A&quot;:&quot;1&quot;,&quot;B&quot;:&quot;2&quot;}\r\n```\r\nI am trying to store this minified JSON format on a field, so that char limit issue is resolved.","title":"JSON formatting in Apex","body":"<p>I am getting a JSON in below format:</p>\n<pre><code>{\n&quot;A&quot;:&quot;1&quot;,\n&quot;B&quot;:&quot;2&quot;\n}\n</code></pre>\n<p>I have a field update and JSON at some point could be too long.\nHow can I change the JSON format to below pattern?</p>\n<pre><code>{&quot;A&quot;:&quot;1&quot;,&quot;B&quot;:&quot;2&quot;}\n</code></pre>\n<p>I am trying to store this minified JSON format on a field, so that char limit issue is resolved.</p>\n"},{"tags":["java","unit-testing","testing","junit","powermock"],"comments":[{"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"score":1,"creation_date":1646759912,"post_id":71398997,"comment_id":126201599,"body_markdown":"It looks like you can use mockito v3.4.0 https://stackoverflow.com/a/63920995/1479895","body":"It looks like you can use mockito v3.4.0 <a href=\"https://stackoverflow.com/a/63920995/1479895\">stackoverflow.com/a/63920995/1479895</a>"},{"owner":{"display_name":"user18085807"},"score":0,"creation_date":1646760087,"post_id":71398997,"comment_id":126201676,"body_markdown":"Thanks, ı will look at. Is there any annotation for the test class except from default one `@RunWith(MockitoJUnitRunner.class)` ?","body":"Thanks, ı will look at. Is there any annotation for the test class except from default one <code>@RunWith(MockitoJUnitRunner.class)</code> ?"},{"owner":{"display_name":"user18085807"},"score":0,"creation_date":1646760316,"post_id":71398997,"comment_id":126201769,"body_markdown":"@AntonBelev The second question is that: Should I call my service method that I am testing inside `try` block?","body":"@AntonBelev The second question is that: Should I call my service method that I am testing inside <code>try</code> block?"},{"owner":{"display_name":"user18085807"},"score":0,"creation_date":1646761112,"post_id":71398997,"comment_id":126202048,"body_markdown":"In any case I get &quot;there were zero interactions with this mock&quot; error. Any idea?","body":"In any case I get &quot;there were zero interactions with this mock&quot; error. Any idea?"}],"owner":{"display_name":"user18085807"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5623,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646759691,"creation_date":1646759691,"question_id":71398997,"body_markdown":"As mentioned on some articles like [Simplifying Junit, Mockito And PowerMock](https://aggarwal-rohan17.medium.com/simplifying-junit-mockito-and-powermock-d1392059ce87), I cannot use PowerMock in JUnit5. \r\n\r\nAs I cannot downgrade my JUnit version to 4 and need to stick with JUnit5, how can I use PowerMock in JUnit5 to test static methods? Or if it is not possible, what should I use? I tried MockStatic, but I am not sure if it is a proper way to test static method. What would you suggest?","title":"How to use PowerMock in JUnit5?","body":"<p>As mentioned on some articles like <a href=\"https://aggarwal-rohan17.medium.com/simplifying-junit-mockito-and-powermock-d1392059ce87\" rel=\"nofollow noreferrer\">Simplifying Junit, Mockito And PowerMock</a>, I cannot use PowerMock in JUnit5.</p>\n<p>As I cannot downgrade my JUnit version to 4 and need to stick with JUnit5, how can I use PowerMock in JUnit5 to test static methods? Or if it is not possible, what should I use? I tried MockStatic, but I am not sure if it is a proper way to test static method. What would you suggest?</p>\n"},{"tags":["java","android","smb","jcifs"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1646742214,"post_id":71394187,"comment_id":126194366,"body_markdown":"You appear to be trying to copy the NAS file to itself. `in` probably should not be defined via `jcifs.smb1.smb1.SmbFileInputStream in = new \njcifs.smb1.smb1.SmbFileInputStream(nuevoArchivo);`.","body":"You appear to be trying to copy the NAS file to itself. <code>in</code> probably should not be defined via <code>jcifs.smb1.smb1.SmbFileInputStream in = new  jcifs.smb1.smb1.SmbFileInputStream(nuevoArchivo);</code>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646742940,"post_id":71394187,"comment_id":126194636,"body_markdown":"`algo(&quot;R_folder&quot;, fileName); ` You cannot extract file name/path from intent extras. You mean: `algo(&quot;R_folder&quot;, currentPhotoPath);` (If you find that variable to be null then you should have saved the value in onSaveInstanceState()).","body":"<code>algo(&quot;R_folder&quot;, fileName); </code> You cannot extract file name/path from intent extras. You mean: <code>algo(&quot;R_folder&quot;, currentPhotoPath);</code> (If you find that variable to be null then you should have saved the value in onSaveInstanceState())."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646743127,"post_id":71394187,"comment_id":126194714,"body_markdown":"`photoFile = createImageFile();` AND `deleteFile(photoFile.getName());` ??? It makes little sense first to create a file and then to delete it. The only thing you need is a FIle instance.","body":"<code>photoFile = createImageFile();</code> AND <code>deleteFile(photoFile.getName());</code> ??? It makes little sense first to create a file and then to delete it. The only thing you need is a FIle instance."},{"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"score":0,"creation_date":1646757299,"post_id":71394187,"comment_id":126200510,"body_markdown":"So @CommonsWare what I should do? \n\nSmbFile nuevoArchivo = new SmbFile(rutaImagenACopiar);\nInputStream in = nuevoArchivo.getInputStream();\n\n// SmbFileInputStream in = new SmbFileInputStream(nuevoArchivo);\nout = new SmbFileOutputStream(smbFile);\n\nThis throw a MalformedURLException\njava.net.MalformedURLException: no protocol: /storage/emulated/0/Android/data/p.cristian.sealed/files/Pictures/IMG913230588666294152.jpg","body":"So @CommonsWare what I should do?   SmbFile nuevoArchivo = new SmbFile(rutaImagenACopiar); InputStream in = nuevoArchivo.getInputStream();  // SmbFileInputStream in = new SmbFileInputStream(nuevoArchivo); out = new SmbFileOutputStream(smbFile);  This throw a MalformedURLException java.net.MalformedURLException: no protocol: /storage/emulated/0/Android/data/p.cristian.sealed/files/Pic&zwnj;&#8203;tures/IMG91323058866&zwnj;&#8203;6294152.jpg"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1646758756,"post_id":71394187,"comment_id":126201112,"body_markdown":"My guess is that `in` should be a `FileInputStream` for the file that you created in `createNewFile()`. If the SMB file is your output, it cannot also be your input.","body":"My guess is that <code>in</code> should be a <code>FileInputStream</code> for the file that you created in <code>createNewFile()</code>. If the SMB file is your output, it cannot also be your input."},{"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"score":0,"creation_date":1646759630,"post_id":71394187,"comment_id":126201481,"body_markdown":"@CommonsWare YES! You are right, thanks a lot Sir.\nThe problem was that I just create a folder but not a file, so my inputStream was always null when it try to get the file path from NAS. Thanks again!","body":"@CommonsWare YES! You are right, thanks a lot Sir. The problem was that I just create a folder but not a file, so my inputStream was always null when it try to get the file path from NAS. Thanks again!"}],"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646759437,"creation_date":1646738504,"question_id":71394187,"body_markdown":"I spend +50h in this and I cant find a solution, need some help. \r\nI&#39;m trying to take a photo and save it on NAS folder.\r\nI actually can connect to NAS from Android and create a folder but cant get the photo from camera to copy it on NAS.\r\n\r\nMethod to open the camera.\r\n\r\n    private void dispatchTakePictureIntent() {\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        // Ensure that there&#39;s a camera activity to handle the intent\r\n        if (takePictureIntent.resolveActivity(getApplication().getPackageManager()) != null) {\r\n            // Create the File where the photo should go\r\n            File photoFile = null;\r\n    \r\n            try {\r\n                photoFile = createImageFile();\r\n    \r\n                if (photoFile != null) {\r\n    \r\n                     photoURI = FileProvider.getUriForFile(getApplicationContext(),\r\n                            &quot;p.cristian.sealed.provider&quot;,\r\n                            photoFile);\r\n    \r\n                     deleteFile(photoFile.getName());\r\n    \r\n                   takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                   // takePictureIntent.putExtra(&quot;picname&quot;, photoURI);\r\n                    startActivityForResult(takePictureIntent, REQUEST_TAKE_PHOTO);\r\n                    photoFile.deleteOnExit();\r\n                }\r\n            } catch (Exception ex) {\r\n                Log.e(&quot;ERROR&quot;, ex.getMessage());\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    private File createImageFile() throws IOException {\r\n        String imageFileName = &quot;IMG&quot;;\r\n        File storageDir = \r\n        getApplication().getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n        File image = null;\r\n        \r\n        image = File.createTempFile(\r\n                imageFileName,\r\n                &quot;.jpg&quot;,\r\n                storageDir\r\n        );\r\n        \r\n        currentPhotoPath = image.getAbsolutePath();\r\n    \r\n        return image;\r\n    }\r\n    \r\n    private void algo(String nombreCarpetaNueva, String rutaImagenACopiar){\r\n    \r\n        SmbFileOutputStream out = null;\r\n        try {\r\n            NtlmPasswordAuthenticator auth = new NtlmPasswordAuthenticator(&quot;MyDomain&quot;, \r\n            &quot;MyUser&quot;, &quot;MyPass&quot;);\r\n            SmbFile smbFile = new SmbFile(&quot;smb://&quot; + auth.getUserDomain() + &quot;;&quot; + \r\n    auth.getUsername() + &quot;:&quot; + auth.getPassword() + &quot;@&quot; + &quot;192.168.1.50/NAS/Software/&quot; + \r\n    nombreCarpetaNueva);\r\n    \r\n            if (!smbFile.exists()) {\r\n                smbFile.mkdirs();\r\n            }\r\n    \r\n            smbFile.connect();\r\n    \r\n            SmbFile nuevoArchivo = new SmbFile(smbFile + &quot;/&quot; + rutaImagenACopiar);\r\n    \r\n            int cursor;\r\n    \r\n            jcifs.smb1.smb1.SmbFileInputStream in = new \r\n    jcifs.smb1.smb1.SmbFileInputStream(nuevoArchivo);\r\n            out = new SmbFileOutputStream(nuevoArchivo);\r\n    \r\n            while ((cursor = in.read()) != -1) {\r\n                out.write(cursor);\r\n            }\r\n    \r\n            out.flush();\r\n            out.close();\r\n        }\r\n        catch (Exception e) {\r\n    \r\n            String msg = &quot;ERROR: &quot; + e.getLocalizedMessage();\r\n            Log.i(&quot;asdf:&quot;,msg);\r\n        }\r\n    \r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\r\n            Bundle extras = data.getExtras(); // ALWAYS NULL\r\n            String fileName = extras.getString(&quot;picname&quot;); //NOT WORKING IS NULL\r\n    \r\n            algo(&quot;R_folder&quot;, fileName); //this just create the folder but never copy the image.\r\n           //algo(&quot;R_folder&quot;, fileName+&quot;.jpg&quot;);           \r\n        }\r\n    }\r\n\r\nMANIFEST\r\n\r\n     &lt;uses-permission\r\n            android:name=&quot;android.permission.AUTHENTICATE_ACCOUNTS&quot;\r\n            android:maxSdkVersion=&quot;22&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.USE_CREDENTIALS&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MANAGE_ACCOUNTS&quot;/&gt;\r\n    \r\n        &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n    ...\r\n        &lt;provider\r\n                android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                android:authorities=&quot;p.cristian.sealed.provider&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\nFILE_PATHS FILE\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;external-files-path name=&quot;my_images&quot; path=&quot;/&quot; /&gt;\r\n        &lt;/paths&gt;\r\n\r\n\r\n\r\n\r\nI tested a lot of stackoverflow answers but never got the correct one in my case :( \r\nSome site answers tested from:\r\n\r\n[https://stackoverflow.com/questions/6448856/android-camera-intent-how-to-get-full-sized-photo][1]\r\n\r\n[https://stackoverflow.com/questions/15432592/get-file-path-of-image-on-android][2]\r\n\r\n[https://stackoverflow.com/questions/32329461/how-to-get-path-of-picture-in-onactivityresult-intent-data-is-null][3]\r\n\r\nAndroid doc, and much more sites.. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6448856/android-camera-intent-how-to-get-full-sized-photo\r\n  [2]: https://stackoverflow.com/questions/15432592/get-file-path-of-image-on-android\r\n  [3]: https://stackoverflow.com/questions/32329461/how-to-get-path-of-picture-in-onactivityresult-intent-data-is-null\r\n\r\n**EDIT - GOT THE SOLUTION**\r\n\r\n    private void algo(String rutaImagenACopiar){\r\n    \r\n        SmbFileOutputStream out = null;\r\n        try {\r\n            NtlmPasswordAuthenticator auth = new NtlmPasswordAuthenticator(&quot;MyDomain&quot;, &quot;myUser&quot;, &quot;MyPass&quot;);\r\n    \r\n            File file = new File(rutaImagenACopiar);\r\n            String fileName = file.getName();\r\n            SmbFile smbFile = new SmbFile(&quot;smb://&quot; + auth.getUserDomain() + &quot;;&quot; + auth.getUsername() + &quot;:&quot; + auth.getPassword() + &quot;@&quot; + &quot;192.168.1.50/NAS/Software/&quot; + fileName);\r\n    \r\n            if (!smbFile.exists()) {\r\n                smbFile.createNewFile();\r\n               //smbFile.mkdirs();\r\n            }\r\n            smbFile.connect();\r\n    \r\n            InputStream inNew = new FileInputStream(file);\r\n            SmbFileOutputStream outNew = new SmbFileOutputStream(smbFile);\r\n    \r\n            byte[] buf = new byte[8192];\r\n            int len;\r\n            while ((len = inNew.read(buf)) &gt; 0) {\r\n                outNew.write(buf, 0, len);\r\n            }\r\n            inNew.close();\r\n            outNew.close();\r\n    }\r\n\r\nNow I just need to get the correct buffer size","title":"Take and save photo to network folder Android","body":"<p>I spend +50h in this and I cant find a solution, need some help.\nI'm trying to take a photo and save it on NAS folder.\nI actually can connect to NAS from Android and create a folder but cant get the photo from camera to copy it on NAS.</p>\n<p>Method to open the camera.</p>\n<pre><code>private void dispatchTakePictureIntent() {\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    // Ensure that there's a camera activity to handle the intent\n    if (takePictureIntent.resolveActivity(getApplication().getPackageManager()) != null) {\n        // Create the File where the photo should go\n        File photoFile = null;\n\n        try {\n            photoFile = createImageFile();\n\n            if (photoFile != null) {\n\n                 photoURI = FileProvider.getUriForFile(getApplicationContext(),\n                        &quot;p.cristian.sealed.provider&quot;,\n                        photoFile);\n\n                 deleteFile(photoFile.getName());\n\n               takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n               // takePictureIntent.putExtra(&quot;picname&quot;, photoURI);\n                startActivityForResult(takePictureIntent, REQUEST_TAKE_PHOTO);\n                photoFile.deleteOnExit();\n            }\n        } catch (Exception ex) {\n            Log.e(&quot;ERROR&quot;, ex.getMessage());\n        }\n    }\n}\n\n\nprivate File createImageFile() throws IOException {\n    String imageFileName = &quot;IMG&quot;;\n    File storageDir = \n    getApplication().getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n    File image = null;\n    \n    image = File.createTempFile(\n            imageFileName,\n            &quot;.jpg&quot;,\n            storageDir\n    );\n    \n    currentPhotoPath = image.getAbsolutePath();\n\n    return image;\n}\n\nprivate void algo(String nombreCarpetaNueva, String rutaImagenACopiar){\n\n    SmbFileOutputStream out = null;\n    try {\n        NtlmPasswordAuthenticator auth = new NtlmPasswordAuthenticator(&quot;MyDomain&quot;, \n        &quot;MyUser&quot;, &quot;MyPass&quot;);\n        SmbFile smbFile = new SmbFile(&quot;smb://&quot; + auth.getUserDomain() + &quot;;&quot; + \nauth.getUsername() + &quot;:&quot; + auth.getPassword() + &quot;@&quot; + &quot;192.168.1.50/NAS/Software/&quot; + \nnombreCarpetaNueva);\n\n        if (!smbFile.exists()) {\n            smbFile.mkdirs();\n        }\n\n        smbFile.connect();\n\n        SmbFile nuevoArchivo = new SmbFile(smbFile + &quot;/&quot; + rutaImagenACopiar);\n\n        int cursor;\n\n        jcifs.smb1.smb1.SmbFileInputStream in = new \njcifs.smb1.smb1.SmbFileInputStream(nuevoArchivo);\n        out = new SmbFileOutputStream(nuevoArchivo);\n\n        while ((cursor = in.read()) != -1) {\n            out.write(cursor);\n        }\n\n        out.flush();\n        out.close();\n    }\n    catch (Exception e) {\n\n        String msg = &quot;ERROR: &quot; + e.getLocalizedMessage();\n        Log.i(&quot;asdf:&quot;,msg);\n    }\n\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\n        Bundle extras = data.getExtras(); // ALWAYS NULL\n        String fileName = extras.getString(&quot;picname&quot;); //NOT WORKING IS NULL\n\n        algo(&quot;R_folder&quot;, fileName); //this just create the folder but never copy the image.\n       //algo(&quot;R_folder&quot;, fileName+&quot;.jpg&quot;);           \n    }\n}\n</code></pre>\n<p>MANIFEST</p>\n<pre><code> &lt;uses-permission\n        android:name=&quot;android.permission.AUTHENTICATE_ACCOUNTS&quot;\n        android:maxSdkVersion=&quot;22&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USE_CREDENTIALS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_ACCOUNTS&quot;/&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n...\n    &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;p.cristian.sealed.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\n    &lt;/provider&gt;\n</code></pre>\n<p>FILE_PATHS FILE</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-files-path name=&quot;my_images&quot; path=&quot;/&quot; /&gt;\n    &lt;/paths&gt;\n</code></pre>\n<p>I tested a lot of stackoverflow answers but never got the correct one in my case :(\nSome site answers tested from:</p>\n<p><a href=\"https://stackoverflow.com/questions/6448856/android-camera-intent-how-to-get-full-sized-photo\">Android Camera Intent: how to get full sized photo?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/15432592/get-file-path-of-image-on-android\">Get file path of image on Android</a></p>\n<p><a href=\"https://stackoverflow.com/questions/32329461/how-to-get-path-of-picture-in-onactivityresult-intent-data-is-null\">How to get path of picture in onActivityresult (Intent data is null)</a></p>\n<p>Android doc, and much more sites..</p>\n<p><strong>EDIT - GOT THE SOLUTION</strong></p>\n<pre><code>private void algo(String rutaImagenACopiar){\n\n    SmbFileOutputStream out = null;\n    try {\n        NtlmPasswordAuthenticator auth = new NtlmPasswordAuthenticator(&quot;MyDomain&quot;, &quot;myUser&quot;, &quot;MyPass&quot;);\n\n        File file = new File(rutaImagenACopiar);\n        String fileName = file.getName();\n        SmbFile smbFile = new SmbFile(&quot;smb://&quot; + auth.getUserDomain() + &quot;;&quot; + auth.getUsername() + &quot;:&quot; + auth.getPassword() + &quot;@&quot; + &quot;192.168.1.50/NAS/Software/&quot; + fileName);\n\n        if (!smbFile.exists()) {\n            smbFile.createNewFile();\n           //smbFile.mkdirs();\n        }\n        smbFile.connect();\n\n        InputStream inNew = new FileInputStream(file);\n        SmbFileOutputStream outNew = new SmbFileOutputStream(smbFile);\n\n        byte[] buf = new byte[8192];\n        int len;\n        while ((len = inNew.read(buf)) &gt; 0) {\n            outNew.write(buf, 0, len);\n        }\n        inNew.close();\n        outNew.close();\n}\n</code></pre>\n<p>Now I just need to get the correct buffer size</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1516269671,"post_id":48316893,"comment_id":83622379,"body_markdown":"https://docs.spring.io/autorepo/docs/spring-framework/4.2.0.RELEASE/javadoc-api/org/springframework/beans/CachedIntrospectionResults.html","body":"<a href=\"https://docs.spring.io/autorepo/docs/spring-framework/4.2.0.RELEASE/javadoc-api/org/springframework/beans/CachedIntrospectionResults.html\" rel=\"nofollow noreferrer\">docs.spring.io/autorepo/docs/spring-framework/4.2.0.RELEASE/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11329927,"reputation":1855,"user_id":8307755,"display_name":"Yogi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516266080,"creation_date":1516266080,"answer_id":48317319,"question_id":48316893,"body_markdown":"**&quot;spring.beaninfo.ignore&quot;**, with a value of &quot;true&quot; means skipping the search for BeanInfo classes (typically for scenarios where no such classes are being defined for beans in the application in the first place).  &lt;/p&gt;\r\nThe default is &quot;false&quot;, considering all BeanInfo metadata classes, like for standard Introspector.getBeanInfo(Class) calls.  &lt;/p&gt;\r\nConsider switching this flag to &quot;true&quot; if you experience repeated ClassLoader access for non-existing BeanInfo classes, in case such access is expensive on startup or on lazy loading.","title":"What does Spring do if spring.beaninfo.ignore is set to true?","body":"<p><strong>\"spring.beaninfo.ignore\"</strong>, with a value of \"true\" means skipping the search for BeanInfo classes (typically for scenarios where no such classes are being defined for beans in the application in the first place).  </p>\nThe default is \"false\", considering all BeanInfo metadata classes, like for standard Introspector.getBeanInfo(Class) calls.  </p>\nConsider switching this flag to \"true\" if you experience repeated ClassLoader access for non-existing BeanInfo classes, in case such access is expensive on startup or on lazy loading.</p>\n"}],"owner":{"account_id":218047,"reputation":2229,"user_id":474171,"accept_rate":72,"display_name":"Foredoomed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1271,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1646759016,"creation_date":1516264436,"question_id":48316893,"body_markdown":"I noticed Spring Boot set `spring.beaninfo.ignore` as true if it&#39;s not set. What does Spring do with respect to this property?","title":"What does Spring do if spring.beaninfo.ignore is set to true?","body":"<p>I noticed Spring Boot set <code>spring.beaninfo.ignore</code> as true if it's not set. What does Spring do with respect to this property?</p>\n"},{"tags":["java","dictionary","recursion","groovy"],"comments":[{"owner":{"account_id":5180397,"reputation":2770,"user_id":4564505,"accept_rate":80,"display_name":"pavlos163"},"score":0,"creation_date":1646729872,"post_id":71392052,"comment_id":126190033,"body_markdown":"That seems to be working for me: https://groovyconsole.appspot.com/script/4807620770660352 - is there something else you expected?","body":"That seems to be working for me: <a href=\"https://groovyconsole.appspot.com/script/4807620770660352\" rel=\"nofollow noreferrer\">groovyconsole.appspot.com/script/4807620770660352</a> - is there something else you expected?"},{"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"score":0,"creation_date":1646730146,"post_id":71392052,"comment_id":126190129,"body_markdown":"This code should work fine. take a look \nhttps://groovyconsole.appspot.com/script/4826433935376384","body":"This code should work fine. take a look  <a href=\"https://groovyconsole.appspot.com/script/4826433935376384\" rel=\"nofollow noreferrer\">groovyconsole.appspot.com/script/4826433935376384</a>"},{"owner":{"account_id":18089130,"reputation":301,"user_id":13149216,"display_name":"Sanoj"},"score":0,"creation_date":1646731838,"post_id":71392052,"comment_id":126190719,"body_markdown":"I added an example map where I don&#39;t get the expected result","body":"I added an example map where I don&#39;t get the expected result"}],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1646759014,"creation_date":1646759014,"answer_id":71398837,"question_id":71392052,"body_markdown":"```\r\npublic boolean search(def root) {\r\n    return root.find{\r\n        if (it.value instanceof Map) {\r\n            return search(it.value)\r\n        } else if (it.value == null) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\n```","title":"recursive search of a value in a map","body":"<pre><code>public boolean search(def root) {\n    return root.find{\n        if (it.value instanceof Map) {\n            return search(it.value)\n        } else if (it.value == null) {\n            return true\n        }\n        return false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18089130,"reputation":301,"user_id":13149216,"display_name":"Sanoj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71398837,"answer_count":1,"score":0,"last_activity_date":1646759014,"creation_date":1646728405,"question_id":71392052,"body_markdown":"I am trying to do the following: I have a nested map (maps within a map) and I want to find out if a selected value (e.g. null) occurs in any of these maps. If this value does occur in any of the maps, I want the function to return a true statement. Considering this, I thought that a recursive function would do the trick: \r\n\r\n    public boolean search(def root) {\r\n        found = false\r\n        root.each{ def it -&gt;\r\n            if (it.value instanceof Map) {\r\n                found = search(it.value)\r\n            } else if (it.value == null) {\r\n                println &quot;value found&quot;\r\n                found = true\r\n            }\r\n        }\r\n        return found\r\n    }\r\n\r\nNow when testing this with a map, I do not get the correct result even though my output indicates that my function is doing the correct iteration. Can anyone help me why this happens. Thanks a lot in advance!\r\n\r\nEdit: Here is an example map where I don&#39;t get the expected result. Even though there is a value that is null, the search function returns a false statement:\r\n\r\n    def map = [name: [name: [name:  \r\n                   [test: [selection : [pet : null]]],\r\n               age: 42, city: &quot;New York&quot;], \r\n               age: 42, city: [name: [name: [test:&quot;New York&quot;]]]], \r\n               age: 42, city: &quot;New York&quot;]\r\n\r\n\r\n","title":"recursive search of a value in a map","body":"<p>I am trying to do the following: I have a nested map (maps within a map) and I want to find out if a selected value (e.g. null) occurs in any of these maps. If this value does occur in any of the maps, I want the function to return a true statement. Considering this, I thought that a recursive function would do the trick:</p>\n<pre><code>public boolean search(def root) {\n    found = false\n    root.each{ def it -&gt;\n        if (it.value instanceof Map) {\n            found = search(it.value)\n        } else if (it.value == null) {\n            println &quot;value found&quot;\n            found = true\n        }\n    }\n    return found\n}\n</code></pre>\n<p>Now when testing this with a map, I do not get the correct result even though my output indicates that my function is doing the correct iteration. Can anyone help me why this happens. Thanks a lot in advance!</p>\n<p>Edit: Here is an example map where I don't get the expected result. Even though there is a value that is null, the search function returns a false statement:</p>\n<pre><code>def map = [name: [name: [name:  \n               [test: [selection : [pet : null]]],\n           age: 42, city: &quot;New York&quot;], \n           age: 42, city: [name: [name: [test:&quot;New York&quot;]]]], \n           age: 42, city: &quot;New York&quot;]\n</code></pre>\n"},{"tags":["java","android","eclipse","spinner"],"comments":[{"owner":{"account_id":404028,"reputation":11617,"user_id":772122,"accept_rate":90,"display_name":"twaddington"},"score":0,"creation_date":1334271430,"post_id":10132971,"comment_id":12989355,"body_markdown":"Are you calling setSelection on the Spinner? What&#39;s the rest of your Activity code look like?","body":"Are you calling setSelection on the Spinner? What&#39;s the rest of your Activity code look like?"},{"owner":{"account_id":1391727,"reputation":181,"user_id":1322398,"accept_rate":71,"display_name":"Sketzii"},"score":0,"creation_date":1334273256,"post_id":10132971,"comment_id":12989628,"body_markdown":"I&#39;ve added the code into the main question, thanks","body":"I&#39;ve added the code into the main question, thanks"},{"owner":{"account_id":18037,"reputation":7471,"user_id":40961,"accept_rate":75,"display_name":"David d C e Freitas"},"score":0,"creation_date":1422449213,"post_id":10132971,"comment_id":44752292,"body_markdown":"possible duplicate of [How to keep onItemSelected from firing off on a newly instantiated Spinner?](http://stackoverflow.com/questions/2562248/how-to-keep-onitemselected-from-firing-off-on-a-newly-instantiated-spinner)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2562248/how-to-keep-onitemselected-from-firing-off-on-a-newly-instantiated-spinner\">How to keep onItemSelected from firing off on a newly instantiated Spinner?</a>"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1334272040,"creation_date":1334272040,"answer_id":10133097,"question_id":10132971,"body_markdown":"&gt; Does anyone know a way in which the first item on the list wont be automatically selected?\r\n\r\nThere is *always* a selection on `Spinner`, and you cannot change that.\r\n\r\nIMHO, you should not be using a `Spinner` to trigger starting an activity.\r\n\r\nThat being said, you can use a `boolean` to track whether this is the first selection event, and ignore it if it is.","title":"How to make On Item Selected not automatically choose the first entry","body":"<blockquote>\n  <p>Does anyone know a way in which the first item on the list wont be automatically selected?</p>\n</blockquote>\n\n<p>There is <em>always</em> a selection on <code>Spinner</code>, and you cannot change that.</p>\n\n<p>IMHO, you should not be using a <code>Spinner</code> to trigger starting an activity.</p>\n\n<p>That being said, you can use a <code>boolean</code> to track whether this is the first selection event, and ignore it if it is.</p>\n"},{"tags":[],"owner":{"account_id":70556,"reputation":13646,"user_id":204480,"display_name":"James Wald"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1361293640,"creation_date":1361293640,"answer_id":14963299,"question_id":10132971,"body_markdown":"If you are trying to avoid the initial call to your listener&#39;s `onItemSelected()` method, another option is to use `post()` to take advantage of the view&#39;s message queue.  The first time the spinner checks for your listener it won&#39;t be set yet.\r\n\r\n    // Set initial selection\r\n    spinner.setSelection(position);\r\n\r\n    // Post to avoid initial invocation\r\n    spinner.post(new Runnable() {\r\n      @Override public void run() {\r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n          @Override\r\n          public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n            // Only called when the user changes the selection\r\n          }\r\n\r\n          @Override\r\n          public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n          }\r\n        });\r\n      }\r\n    });","title":"How to make On Item Selected not automatically choose the first entry","body":"<p>If you are trying to avoid the initial call to your listener's <code>onItemSelected()</code> method, another option is to use <code>post()</code> to take advantage of the view's message queue.  The first time the spinner checks for your listener it won't be set yet.</p>\n\n<pre><code>// Set initial selection\nspinner.setSelection(position);\n\n// Post to avoid initial invocation\nspinner.post(new Runnable() {\n  @Override public void run() {\n    spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n      @Override\n      public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n        // Only called when the user changes the selection\n      }\n\n      @Override\n      public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n      }\n    });\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3825647,"reputation":3329,"user_id":3172518,"display_name":"karan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1421835326,"creation_date":1421829472,"answer_id":28062775,"question_id":10132971,"body_markdown":"It worked for me,\r\n\r\n`private boolean isSpinnerInitial = true;`\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void onItemSelected(AdapterView&lt;?&gt; parent, View view,\r\n\t\t\t\tint position, long id) {\r\n\t\t\t\r\n\t\t\tif(isSpinnerInitial)\r\n\t\t\t{\r\n\t\t\t\tisSpinnerInitial = false;\r\n\t\t\t}\r\n\t\t\telse  {\r\n\t\t\t\t// do your work...\r\n\t\t\t}\r\n\r\n\t\t}","title":"How to make On Item Selected not automatically choose the first entry","body":"<p>It worked for me,</p>\n\n<p><code>private boolean isSpinnerInitial = true;</code></p>\n\n<pre><code>    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\n            int position, long id) {\n\n        if(isSpinnerInitial)\n        {\n            isSpinnerInitial = false;\n        }\n        else  {\n            // do your work...\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2582365,"reputation":2719,"user_id":2238745,"display_name":"Jin Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440453063,"creation_date":1440453063,"answer_id":32192331,"question_id":10132971,"body_markdown":" Declare variable isSpinnerInitial \r\n then make Make a Selection as your default selection\r\n\r\nspinnertaggeview.setSelection(-1);  does not make selection as -1 or everything unselected as we do in .Net or other language .\r\nSo you can ignore thatline.\r\n\r\n    testStringArrayListinside.add(&quot;Make a Selection&quot;);\r\n    ADD this line so that this is selected by default and user never selects it \r\n    \r\n    testStringArrayList = (ArrayList&lt;String&gt;) ClinqLinX.get(&quot;Tag&quot;);\r\n                    boolean added = false;\r\n                 testStringArrayListinside.add(&quot;Make a Selection&quot;);\r\n                    for (String s : testStringArrayList) {\r\n                        if (s != null || s != &quot;&quot;) {\r\n                            String[] results = s.split(&quot;,&quot;); // split on commas\r\n                            \r\n                            for (String string : results) {\r\n                                \r\n                                testStringArrayListinside.add(string);\r\n                                Toast.makeText(getContext(), string, Toast.LENGTH_SHORT).show();\r\n                                added = true;\r\n                            }\r\n                        }\r\n    \r\n                    }\r\n                    if (added == false) {\r\n                        testStringArrayListinside.add(&quot;Not tagged details found&quot;);\r\n                    }\r\n    \r\n                    spinnertaggeview.refreshDrawableState();\r\n    \r\n                }\r\n    \r\n                // Adapter: You need three parameters &#39;the context, id of the layout (it will be where the data is shown),\r\n                // and the array that contains the data\r\n                if (testStringArrayListinside.size() &gt; 0) {\r\n                    adapter = new ArrayAdapter&lt;String&gt;(this.getContext(),android.R.layout.select_dialog_singlechoice, testStringArrayListinside);\r\n                    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n                    // Here, you set the data in your ListView\r\n                    spinnertaggeview.setAdapter(adapter);\r\n                     isSpinnerInitial = true;\r\n    \r\n                    spinnertaggeview.setSelection(-1);\r\n                    spinnertaggeview.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n    \r\n                        @Override\r\n                        public void onItemSelected(AdapterView&lt;?&gt; arg0, View arg1,\r\n                                                   int arg2, long arg3) {\r\n                            if (isSpinnerInitial){\r\n    \r\n                                isSpinnerInitial = false;\r\n    \r\n                                return;}\r\n                            else{\r\n                            TextView tv = (TextView) arg1;\r\n                            String spinner_value = tv.getText().toString();\r\n                            if (spinner_value.length() == 0) {\r\n                                spinner_value = &quot;Nothing&quot;;\r\n                            }\r\n                            String strusername = spinner_value;//As you are using Default String Adapter\r\n                            Toast.makeText(getContext(), strusername, Toast.LENGTH_SHORT).show();\r\n                            Intent intent = new Intent(spinnertaggeview.getContext(), Userdetails.class);\r\n                            intent.putExtra(&quot;Username&quot;, strusername);\r\n                            spinnertaggeview.getContext().startActivity(intent);}\r\n    \r\n                        }\r\n\r\n","title":"How to make On Item Selected not automatically choose the first entry","body":"<p>Declare variable isSpinnerInitial \n then make Make a Selection as your default selection</p>\n\n<p>spinnertaggeview.setSelection(-1);  does not make selection as -1 or everything unselected as we do in .Net or other language .\nSo you can ignore thatline.</p>\n\n<pre><code>testStringArrayListinside.add(\"Make a Selection\");\nADD this line so that this is selected by default and user never selects it \n\ntestStringArrayList = (ArrayList&lt;String&gt;) ClinqLinX.get(\"Tag\");\n                boolean added = false;\n             testStringArrayListinside.add(\"Make a Selection\");\n                for (String s : testStringArrayList) {\n                    if (s != null || s != \"\") {\n                        String[] results = s.split(\",\"); // split on commas\n\n                        for (String string : results) {\n\n                            testStringArrayListinside.add(string);\n                            Toast.makeText(getContext(), string, Toast.LENGTH_SHORT).show();\n                            added = true;\n                        }\n                    }\n\n                }\n                if (added == false) {\n                    testStringArrayListinside.add(\"Not tagged details found\");\n                }\n\n                spinnertaggeview.refreshDrawableState();\n\n            }\n\n            // Adapter: You need three parameters 'the context, id of the layout (it will be where the data is shown),\n            // and the array that contains the data\n            if (testStringArrayListinside.size() &gt; 0) {\n                adapter = new ArrayAdapter&lt;String&gt;(this.getContext(),android.R.layout.select_dialog_singlechoice, testStringArrayListinside);\n                adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n                // Here, you set the data in your ListView\n                spinnertaggeview.setAdapter(adapter);\n                 isSpinnerInitial = true;\n\n                spinnertaggeview.setSelection(-1);\n                spinnertaggeview.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n\n                    @Override\n                    public void onItemSelected(AdapterView&lt;?&gt; arg0, View arg1,\n                                               int arg2, long arg3) {\n                        if (isSpinnerInitial){\n\n                            isSpinnerInitial = false;\n\n                            return;}\n                        else{\n                        TextView tv = (TextView) arg1;\n                        String spinner_value = tv.getText().toString();\n                        if (spinner_value.length() == 0) {\n                            spinner_value = \"Nothing\";\n                        }\n                        String strusername = spinner_value;//As you are using Default String Adapter\n                        Toast.makeText(getContext(), strusername, Toast.LENGTH_SHORT).show();\n                        Intent intent = new Intent(spinnertaggeview.getContext(), Userdetails.class);\n                        intent.putExtra(\"Username\", strusername);\n                        spinnertaggeview.getContext().startActivity(intent);}\n\n                    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11070566,"reputation":685,"user_id":8128825,"display_name":"Barrrettt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646758982,"creation_date":1646758982,"answer_id":71398831,"question_id":10132971,"body_markdown":"fast copi-paste:\r\n\r\n     \r\n    spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n        boolean isInit=false;\r\n        @Override\r\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n            if (!isInit){isInit=true; return;}\r\n                //CODE HERE!\r\n            }\r\n        @Override\r\n        public void onNothingSelected(AdapterView&lt;?&gt; parentView) {}\r\n    });","title":"How to make On Item Selected not automatically choose the first entry","body":"<p>fast copi-paste:</p>\n<pre><code>spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n    boolean isInit=false;\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n        if (!isInit){isInit=true; return;}\n            //CODE HERE!\n        }\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; parentView) {}\n});\n</code></pre>\n"}],"owner":{"account_id":1391727,"reputation":181,"user_id":1322398,"accept_rate":71,"display_name":"Sketzii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19210,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":10133097,"answer_count":5,"score":15,"last_activity_date":1646758982,"creation_date":1334270923,"question_id":10132971,"body_markdown":"I have created a spinner which is automatically updated with appliance names when a person adds an appliance using an array adapter. I created an OnItemSelected method with the spinner so when one of the names in the spinner is selected, a new window appears. However the OnItemSelected is automatically selecting the first item on the list when the activity starts and so the user does not have a chance to actually make a selection until the new window appears.\r\n\r\nHere is the code:\r\n   \r\n    public void onItemSelected(AdapterView&lt;?&gt; arg0, View arg1, int arg2,\r\n\t\t\tlong arg3) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tstartActivity(new Intent(&quot;com.lukeorpin.theappliancekeeper.APPLIANCESELECTED&quot;));\r\n\t\t}\r\n\r\n\tpublic void onNothingSelected(AdapterView&lt;?&gt; arg0) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\nDoes anyone know a way in which the first item on the list wont be automatically selected?\r\n\r\nHere is the code for the rest of the spinner:\r\n    \r\n    ArrayAdapter&lt;String&gt; appliancenameadapter = new ArrayAdapter&lt;String&gt;(this,\r\n\t\t\t\tandroid.R.layout.simple_spinner_item, ApplianceNames); //Sets up an array adapter containing the values of the ApplianceNames string array\r\n\t\tapplianceName = (Spinner) findViewById(R.id.spinner_name); //Gives the spinner in the xml layout a variable name\r\n\t\tapplianceName.setAdapter(appliancenameadapter); //Adds the contents of the array adapter into the spinner\r\n\t\t\r\n\t\tapplianceName.setOnItemSelectedListener(this);","title":"How to make On Item Selected not automatically choose the first entry","body":"<p>I have created a spinner which is automatically updated with appliance names when a person adds an appliance using an array adapter. I created an OnItemSelected method with the spinner so when one of the names in the spinner is selected, a new window appears. However the OnItemSelected is automatically selecting the first item on the list when the activity starts and so the user does not have a chance to actually make a selection until the new window appears.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>public void onItemSelected(AdapterView&lt;?&gt; arg0, View arg1, int arg2,\n        long arg3) {\n    // TODO Auto-generated method stub\n    startActivity(new Intent(\"com.lukeorpin.theappliancekeeper.APPLIANCESELECTED\"));\n    }\n\npublic void onNothingSelected(AdapterView&lt;?&gt; arg0) {\n    // TODO Auto-generated method stub\n</code></pre>\n\n<p>Does anyone know a way in which the first item on the list wont be automatically selected?</p>\n\n<p>Here is the code for the rest of the spinner:</p>\n\n<pre><code>ArrayAdapter&lt;String&gt; appliancenameadapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.simple_spinner_item, ApplianceNames); //Sets up an array adapter containing the values of the ApplianceNames string array\n    applianceName = (Spinner) findViewById(R.id.spinner_name); //Gives the spinner in the xml layout a variable name\n    applianceName.setAdapter(appliancenameadapter); //Adds the contents of the array adapter into the spinner\n\n    applianceName.setOnItemSelectedListener(this);\n</code></pre>\n"},{"tags":["java","performance"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646758970,"creation_date":1646758970,"answer_id":71398827,"question_id":71397915,"body_markdown":"It&#39;s rare, but, yes, that is possible. The reasons for that are extremely varied though. All I can provide is a single example just to proof how this can be possible.\r\n\r\nExample: Failure to apply nagle&#39;s/metcalfe algorithm.\r\n\r\nLet&#39;s say we are using an optimistic locking situation somewhere. Some know this as a &#39;retry based locking system&#39;. For example, postgresql (or just about any other major, modern DB engine) in `TransactionIsolation.SERIALIZABLE` configuration.\r\n\r\nI&#39;ll use ethernet as an example.\r\n\r\nWhen you hook up 10 computers on the exact same line, to form a network, there&#39;s a problem: If 2 computers send data at the same time, then everybody just reads noise - 2 signals overlapping are useless.\r\n\r\nThe solution in the 80s was a so-called token-ring network: Some computer would be the &#39;controller&#39; and would be the only one allowed to &#39;speak&#39;, at least at first, to set up a strategy. It communicates to each other system on the wire which position they have in the &#39;ring&#39;.  The system worked as follows:\r\n\r\n* Computer 1 can send, and only computer 1. It gets 95ms to send whatever it wants. If it has nothing to send, they can maybe send a &#39;I cede my time&#39; signal.\r\n* Controller computer will send a signal that indicates &#39;okay, that was it. Next!&#39;. Computer 1 must have already stopped sending. This is merely to ensure every system keeps the same &#39;clock&#39;. This sync window is 5msec.\r\n* Computer 2 now gets 95ms.\r\n* .. and so on.\r\n* After computer 10, computer 1 can send again.\r\n* Note that a full second passes between each &#39;cycle&#39;, so your ping time is on average about 500msec, which is a lot.\r\n\r\nThis system is both fair and contention free: Assuming no egregiously wrong clocks or misbehaving systems, 2 computers can _never_ talk at the same time, and everybody gets fair use. However, if computer 1 wants to send a file to computer 2, then only 10% of the actual available capacity is used, and ping time is a full second here.\r\n\r\nAs a consequence, as simple and nice and elegant as it sounds, token ring __sucked__.\r\n\r\nEnter metcalfe and ethernet. His solution was much, much simpler:\r\n\r\n__Whatever, there is no system, just send whenever you want__. Every computer just sends the moment they feel like sending.\r\n\r\nTo solve the problem of &#39;noise&#39;, all senders also check what they sent. If they notice noise, they know there was a conflict. All systems can detect and will ignore noise, and all senders that detect that their own message ended up as noise will just wait a little bit and resend.\r\n\r\nThe one problem is that computers are annoyingly reliable: It&#39;s like two people who are about to walk into each other on the street, and they both go through a routine where they both lean left, apologize again, both lean left again. To avoid that, network cards __actually roll dice (figuratively)__. The pause between detecting a failed send and re-sending it is [A] exponentially growing (if sending it fails repeatedly, keep waiting longer and longer between sends), and [B] includes a random amount of waiting. That random amount is crucial - it avoids the scenario where the conflicting senders continually wait identical times and hence keep conflicting forever.\r\n\r\nHowever, if too many computers all want to send too much data and you haven&#39;t fine-tuned that waiting stuff properly, then at some point your network&#39;s performance falls apart as the vast majority of packets are lost due to conflicts.\r\n\r\nHowever, slow down one system and perhaps the conflicts are much more rare or even don&#39;t occur at all.\r\n\r\nAs an example, imagine 10 computers where all computers want to send 1GB to their neighbour, simultaneously. A token ring setup would be faster than ethernet, by a decent margin: The bottleneck is the wire, every computer has stuff to send if they get a &#39;window&#39;. The token ring is 100% utilized and never wastes time on noise, whereas the ethernet system probably has on the order of 20% of the time &#39;wasted&#39; due to clashing packets.\r\n\r\nIntroducing hard locking, which many log frameworks do (they either straight up lock, or the code that writes to disk locks, or the kernel driver that actually ends up writing to disk does, or the log framework invokes `fsync` to tell the OS to lock until the write went through, because usually the log statements immediately before a hard crash are the most important, and without fsync, you&#39;d lose those) - lets you turn an ethernet-like system into something that&#39;s more like token-ring. Even if not hard locking, slowing down a few computers on an ethernet system can speed up the sum total set of jobs.\r\n\r\nI doubt you&#39;re writing a network kernel driver here. However, the exact same principle can be at work, for example when multiple threads are all reading/writing to an optimistic-locking based DB using TransactionLevel.ISOLATABLE (for example: Postgres) and are properly doing what they need to do (namely: rerun the code that interacts with the DB) when RetryExceptions occur due to contention. The ethernet vs. token ring example just feels like the cleanest way to explain the principle.\r\n\r\nJust about every other optimistic locking scenario has the same issue. If there&#39;s _way more_ to do than the system has capability to do it, the &#39;error rate&#39; goes up so far that everything slows down to a crawl, and bizarrely enough slowing certain parts down actually speeds up the total system.\r\n\r\nIf one of the &#39;high contention&#39; blocks of code logs to debug and the other does not, then changing the &#39;ignore all logs below this level&#39; option from INFO to DEBUG introduces fsync and/or disk locks in that block of code which slows it way down, and thus, could lead to the total system actually becoming faster. Even the high contention block (once it IS down with the slow-as-molasses log call, the odds that the job it is actually trying to needs to be retried due to an optimistic lock contention is much, much lower).\r\n\r\nOptimistic Locking oversaturation is just one example of &#39;slow one part down, the total is faster&#39;. There are many more.\r\n\r\nBut, it is highly likely that some part of your system is wasting tons of time either retrying or inefficiently waiting on locks. For example, busy-waiting, or checking if a lock is now free very often, and the check is expensive – example: You aren&#39;t using locks, you have something like:\r\n\r\n```\r\nwhile (!checkIfSomeSystemIsFree()) {\r\n  Thread.sleep(50L);\r\n  LOG.debug(&quot;foo&quot;);\r\n}\r\n```\r\n\r\nif `checkifSomeSystemIsFree()` is fairly CPU intensive, then many threads all doing the above can trivially be run faster by __enabling__ debug logging.\r\n","title":"Is it possible for DEBUG to have better performance than INFO in Java?","body":"<p>It's rare, but, yes, that is possible. The reasons for that are extremely varied though. All I can provide is a single example just to proof how this can be possible.</p>\n<p>Example: Failure to apply nagle's/metcalfe algorithm.</p>\n<p>Let's say we are using an optimistic locking situation somewhere. Some know this as a 'retry based locking system'. For example, postgresql (or just about any other major, modern DB engine) in <code>TransactionIsolation.SERIALIZABLE</code> configuration.</p>\n<p>I'll use ethernet as an example.</p>\n<p>When you hook up 10 computers on the exact same line, to form a network, there's a problem: If 2 computers send data at the same time, then everybody just reads noise - 2 signals overlapping are useless.</p>\n<p>The solution in the 80s was a so-called token-ring network: Some computer would be the 'controller' and would be the only one allowed to 'speak', at least at first, to set up a strategy. It communicates to each other system on the wire which position they have in the 'ring'.  The system worked as follows:</p>\n<ul>\n<li>Computer 1 can send, and only computer 1. It gets 95ms to send whatever it wants. If it has nothing to send, they can maybe send a 'I cede my time' signal.</li>\n<li>Controller computer will send a signal that indicates 'okay, that was it. Next!'. Computer 1 must have already stopped sending. This is merely to ensure every system keeps the same 'clock'. This sync window is 5msec.</li>\n<li>Computer 2 now gets 95ms.</li>\n<li>.. and so on.</li>\n<li>After computer 10, computer 1 can send again.</li>\n<li>Note that a full second passes between each 'cycle', so your ping time is on average about 500msec, which is a lot.</li>\n</ul>\n<p>This system is both fair and contention free: Assuming no egregiously wrong clocks or misbehaving systems, 2 computers can <em>never</em> talk at the same time, and everybody gets fair use. However, if computer 1 wants to send a file to computer 2, then only 10% of the actual available capacity is used, and ping time is a full second here.</p>\n<p>As a consequence, as simple and nice and elegant as it sounds, token ring <strong>sucked</strong>.</p>\n<p>Enter metcalfe and ethernet. His solution was much, much simpler:</p>\n<p><strong>Whatever, there is no system, just send whenever you want</strong>. Every computer just sends the moment they feel like sending.</p>\n<p>To solve the problem of 'noise', all senders also check what they sent. If they notice noise, they know there was a conflict. All systems can detect and will ignore noise, and all senders that detect that their own message ended up as noise will just wait a little bit and resend.</p>\n<p>The one problem is that computers are annoyingly reliable: It's like two people who are about to walk into each other on the street, and they both go through a routine where they both lean left, apologize again, both lean left again. To avoid that, network cards <strong>actually roll dice (figuratively)</strong>. The pause between detecting a failed send and re-sending it is [A] exponentially growing (if sending it fails repeatedly, keep waiting longer and longer between sends), and [B] includes a random amount of waiting. That random amount is crucial - it avoids the scenario where the conflicting senders continually wait identical times and hence keep conflicting forever.</p>\n<p>However, if too many computers all want to send too much data and you haven't fine-tuned that waiting stuff properly, then at some point your network's performance falls apart as the vast majority of packets are lost due to conflicts.</p>\n<p>However, slow down one system and perhaps the conflicts are much more rare or even don't occur at all.</p>\n<p>As an example, imagine 10 computers where all computers want to send 1GB to their neighbour, simultaneously. A token ring setup would be faster than ethernet, by a decent margin: The bottleneck is the wire, every computer has stuff to send if they get a 'window'. The token ring is 100% utilized and never wastes time on noise, whereas the ethernet system probably has on the order of 20% of the time 'wasted' due to clashing packets.</p>\n<p>Introducing hard locking, which many log frameworks do (they either straight up lock, or the code that writes to disk locks, or the kernel driver that actually ends up writing to disk does, or the log framework invokes <code>fsync</code> to tell the OS to lock until the write went through, because usually the log statements immediately before a hard crash are the most important, and without fsync, you'd lose those) - lets you turn an ethernet-like system into something that's more like token-ring. Even if not hard locking, slowing down a few computers on an ethernet system can speed up the sum total set of jobs.</p>\n<p>I doubt you're writing a network kernel driver here. However, the exact same principle can be at work, for example when multiple threads are all reading/writing to an optimistic-locking based DB using TransactionLevel.ISOLATABLE (for example: Postgres) and are properly doing what they need to do (namely: rerun the code that interacts with the DB) when RetryExceptions occur due to contention. The ethernet vs. token ring example just feels like the cleanest way to explain the principle.</p>\n<p>Just about every other optimistic locking scenario has the same issue. If there's <em>way more</em> to do than the system has capability to do it, the 'error rate' goes up so far that everything slows down to a crawl, and bizarrely enough slowing certain parts down actually speeds up the total system.</p>\n<p>If one of the 'high contention' blocks of code logs to debug and the other does not, then changing the 'ignore all logs below this level' option from INFO to DEBUG introduces fsync and/or disk locks in that block of code which slows it way down, and thus, could lead to the total system actually becoming faster. Even the high contention block (once it IS down with the slow-as-molasses log call, the odds that the job it is actually trying to needs to be retried due to an optimistic lock contention is much, much lower).</p>\n<p>Optimistic Locking oversaturation is just one example of 'slow one part down, the total is faster'. There are many more.</p>\n<p>But, it is highly likely that some part of your system is wasting tons of time either retrying or inefficiently waiting on locks. For example, busy-waiting, or checking if a lock is now free very often, and the check is expensive – example: You aren't using locks, you have something like:</p>\n<pre><code>while (!checkIfSomeSystemIsFree()) {\n  Thread.sleep(50L);\n  LOG.debug(&quot;foo&quot;);\n}\n</code></pre>\n<p>if <code>checkifSomeSystemIsFree()</code> is fairly CPU intensive, then many threads all doing the above can trivially be run faster by <strong>enabling</strong> debug logging.</p>\n"}],"owner":{"account_id":4736060,"reputation":383,"user_id":3830413,"accept_rate":31,"display_name":"yi1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646758970,"creation_date":1646755028,"question_id":71397915,"body_markdown":"We have a very demanding application that is split into multiple components, all running on the same physical machine. The machine has 56 cores and 32 GB of RAM.\r\n\r\nThe application has several components in Java and Scala, and one in Python. All are very intensive:\r\n* There&#39;s a lot of network IO as the components communicate with other devices in the network.\r\n* There&#39;s a lot of localhost IO - communication between components.\r\n* There&#39;s a lot of CPU usage - parsing the data coming over the network and running calculations on it.\r\n\r\nRecently, something weird was discovered:\r\nWhen the components have their log level set to DEBUG, the system runs smoothly. When the log level is set to INFO, the system behaves erratically and seems to have a lot of contention around CPU (workers timing out, messages not being sent between components, etc.).\r\n\r\nWe _do_ write a lot to DEBUG.\r\n\r\nIs it possible that the IO caused by DEBUG (writing to many log files) actually reduces CPU contention and improves system stability?","title":"Is it possible for DEBUG to have better performance than INFO in Java?","body":"<p>We have a very demanding application that is split into multiple components, all running on the same physical machine. The machine has 56 cores and 32 GB of RAM.</p>\n<p>The application has several components in Java and Scala, and one in Python. All are very intensive:</p>\n<ul>\n<li>There's a lot of network IO as the components communicate with other devices in the network.</li>\n<li>There's a lot of localhost IO - communication between components.</li>\n<li>There's a lot of CPU usage - parsing the data coming over the network and running calculations on it.</li>\n</ul>\n<p>Recently, something weird was discovered:\nWhen the components have their log level set to DEBUG, the system runs smoothly. When the log level is set to INFO, the system behaves erratically and seems to have a lot of contention around CPU (workers timing out, messages not being sent between components, etc.).</p>\n<p>We <em>do</em> write a lot to DEBUG.</p>\n<p>Is it possible that the IO caused by DEBUG (writing to many log files) actually reduces CPU contention and improves system stability?</p>\n"},{"tags":["java","eclipse","gradle","eclipse-jdt","spotless"],"answers":[{"tags":[],"owner":{"account_id":472617,"reputation":2199,"user_id":881190,"display_name":"smooth reggae"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646758913,"creation_date":1646758913,"answer_id":71398815,"question_id":71316655,"body_markdown":"Try `&lt;setting id=&quot;org.eclipse.jdt.core.formatter.alignment_for_enum_constants&quot; value=&quot;49&quot;/&gt;`","title":"Configure enum constants on its own line using Eclipse Code Formatter","body":"<p>Try <code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.alignment_for_enum_constants&quot; value=&quot;49&quot;/&gt;</code></p>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71398815,"answer_count":1,"score":2,"last_activity_date":1646758913,"creation_date":1646186747,"question_id":71316655,"body_markdown":"I&#39;m using [Spotless][1] with Gradle. I&#39;ve [configured][2] it to use Eclipse&#39;s JDT Code Formatter:\r\n\r\n```groovy\r\nspotless {\r\n  groovyGradle {\r\n    greclipse(&quot;4.21.0&quot;).configFile(&quot;${rootDir}/config/spotless/eclipe_groovy_formatter.xml&quot;)\r\n  }\r\n  java {\r\n    eclipse(&quot;4.21.0&quot;).configFile(&quot;${rootDir}/config/spotless/eclipe_jdt_formatter.xml&quot;)\r\n    endWithNewline()\r\n    importOrder(&quot;&quot;, &quot;javax&quot;, &quot;java&quot;)\r\n    indentWithSpaces(2)\r\n    lineEndings(LineEnding.UNIX)\r\n    removeUnusedImports()\r\n    trimTrailingWhitespace()\r\n  }\r\n}\r\n```\r\n\r\nThe content of `eclipe_jdt_formatter.xml` is just:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;profiles version=&quot;12&quot;&gt;\r\n  &lt;profile kind=&quot;CodeFormatterProfile&quot; name=&quot;Fulgore Team&quot; version=&quot;12&quot;&gt;\r\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.alignment_for_selector_in_method_invocation&quot; value=&quot;80&quot; /&gt;\r\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.comment.insert_new_line_for_parameter&quot; value=&quot;false&quot; /&gt;\r\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.comment.line_length&quot; value=&quot;100&quot; /&gt;\r\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_after_opening_brace_in_array_initializer&quot; value=&quot;insert&quot; /&gt;\r\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_before_closing_brace_in_array_initializer&quot; value=&quot;insert&quot; /&gt;\r\n  &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\nThe problem is that I would like to configure the correct setting(s) within the (Eclipse) XML file in order to have the `enum` values each on its own line.\r\n\r\nFor instance, this is how it&#39;s currently formatting the source code:\r\n\r\n```java\r\npublic enum Type {\r\n  VALUE, OTHER, ANOTHER,\r\n}\r\n```\r\n\r\n...but I would like:\r\n\r\n```java\r\npublic enum Type {\r\n  VALUE,\r\n  OTHER,\r\n  ANOTHER,\r\n}\r\n```\r\n\r\nIf anyone knows the combination of settings I can use within the XML file to accomplish this I would really appreciate it. I&#39;ve tried a couple of combinations from `.formatter` and/or `.indent` without luck.\r\n\r\n  [1]: https://github.com/diffplug/spotless/tree/main/plugin-gradle\r\n  [2]: https://github.com/diffplug/spotless/tree/main/plugin-gradle#eclipse-jdt","title":"Configure enum constants on its own line using Eclipse Code Formatter","body":"<p>I'm using <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-gradle\" rel=\"nofollow noreferrer\">Spotless</a> with Gradle. I've <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-gradle#eclipse-jdt\" rel=\"nofollow noreferrer\">configured</a> it to use Eclipse's JDT Code Formatter:</p>\n<pre><code>spotless {\n  groovyGradle {\n    greclipse(&quot;4.21.0&quot;).configFile(&quot;${rootDir}/config/spotless/eclipe_groovy_formatter.xml&quot;)\n  }\n  java {\n    eclipse(&quot;4.21.0&quot;).configFile(&quot;${rootDir}/config/spotless/eclipe_jdt_formatter.xml&quot;)\n    endWithNewline()\n    importOrder(&quot;&quot;, &quot;javax&quot;, &quot;java&quot;)\n    indentWithSpaces(2)\n    lineEndings(LineEnding.UNIX)\n    removeUnusedImports()\n    trimTrailingWhitespace()\n  }\n}\n</code></pre>\n<p>The content of <code>eclipe_jdt_formatter.xml</code> is just:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;profiles version=&quot;12&quot;&gt;\n  &lt;profile kind=&quot;CodeFormatterProfile&quot; name=&quot;Fulgore Team&quot; version=&quot;12&quot;&gt;\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.alignment_for_selector_in_method_invocation&quot; value=&quot;80&quot; /&gt;\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.comment.insert_new_line_for_parameter&quot; value=&quot;false&quot; /&gt;\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.comment.line_length&quot; value=&quot;100&quot; /&gt;\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_after_opening_brace_in_array_initializer&quot; value=&quot;insert&quot; /&gt;\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_before_closing_brace_in_array_initializer&quot; value=&quot;insert&quot; /&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>The problem is that I would like to configure the correct setting(s) within the (Eclipse) XML file in order to have the <code>enum</code> values each on its own line.</p>\n<p>For instance, this is how it's currently formatting the source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Type {\n  VALUE, OTHER, ANOTHER,\n}\n</code></pre>\n<p>...but I would like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Type {\n  VALUE,\n  OTHER,\n  ANOTHER,\n}\n</code></pre>\n<p>If anyone knows the combination of settings I can use within the XML file to accomplish this I would really appreciate it. I've tried a couple of combinations from <code>.formatter</code> and/or <code>.indent</code> without luck.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1646758979,"post_id":71398811,"comment_id":126201198,"body_markdown":"Your classpath doesn&#39;t specify the Kotlin dependencies, only the classes of your own project","body":"Your classpath doesn&#39;t specify the Kotlin dependencies, only the classes of your own project"},{"owner":{"account_id":3039928,"reputation":66,"user_id":2577210,"display_name":"mAyA"},"score":0,"creation_date":1646759838,"post_id":71398811,"comment_id":126201574,"body_markdown":"Is there any example how to do that?","body":"Is there any example how to do that?"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":1,"creation_date":1646760147,"post_id":71398811,"comment_id":126201705,"body_markdown":"Here is an example: `java -Dkotlin.home=&quot;${KOTLIN_HOME}&quot; -cp &quot;${KOTLIN_HOME}/lib/kotlin-runner.jar&quot; &quot;org.jetbrains.kotlin.runner.Main&quot; Main`","body":"Here is an example: <code>java -Dkotlin.home=&quot;${KOTLIN_HOME}&quot; -cp &quot;${KOTLIN_HOME}&#47;lib&#47;kotlin-runner.jar&quot; &quot;org.jetbrains.kotlin.runner.Main&quot; Main</code>"}],"owner":{"account_id":3039928,"reputation":66,"user_id":2577210,"display_name":"mAyA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646761531,"answer_count":0,"score":0,"last_activity_date":1646758884,"creation_date":1646758884,"question_id":71398811,"body_markdown":"I have a java project written in kotlin. main class is in kotlin. I have some JNI calls from different file of the projects. The problem is, I need to call the main class, which is written in kotlin from command line. Here is the command that I am using:\r\n\r\n    /Java/jre/bin/java -cp /app/cs/production/project/ com.test.project.Main u=$123 p=$123 host=$123 appimgv=$imgversion nocfg &amp;\r\n\r\nIt generates this error:\r\n\r\n    #Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/TypeCastException\r\n            at java.lang.Class.getDeclaredMethods0(Native Method)\r\n            at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n            at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n            at java.lang.Class.getMethod0(Class.java:3018)\r\n            at java.lang.Class.getMethod(Class.java:1784)\r\n            at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\r\n            at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\r\n    Caused by: java.lang.ClassNotFoundException: kotlin.TypeCastException\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\r\nWhat am I doing wrong over here? It works perfectly if I use java codes for main class with the extension .java to the main file. It just does not work with .kt\r\n","title":"Cannot call kotlin main class from command line","body":"<p>I have a java project written in kotlin. main class is in kotlin. I have some JNI calls from different file of the projects. The problem is, I need to call the main class, which is written in kotlin from command line. Here is the command that I am using:</p>\n<pre><code>/Java/jre/bin/java -cp /app/cs/production/project/ com.test.project.Main u=$123 p=$123 host=$123 appimgv=$imgversion nocfg &amp;\n</code></pre>\n<p>It generates this error:</p>\n<pre><code>#Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/TypeCastException\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n        at java.lang.Class.getMethod0(Class.java:3018)\n        at java.lang.Class.getMethod(Class.java:1784)\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\nCaused by: java.lang.ClassNotFoundException: kotlin.TypeCastException\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n</code></pre>\n<p>What am I doing wrong over here? It works perfectly if I use java codes for main class with the extension .java to the main file. It just does not work with .kt</p>\n"},{"tags":["java","spring","spring-boot","design-patterns","annotations"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1646753852,"post_id":71397455,"comment_id":126199044,"body_markdown":"You probably get a proxy instead of the actual object. I suggest to use the `AnnotationUtils.findAnnotation(Class, Class)` method from Spring to find the annotation (it traverses the hierarchy and thus works with proxies). Also the `@Component` on the annotation isn&#39;t really needed, doesn&#39;t add anything really.","body":"You probably get a proxy instead of the actual object. I suggest to use the <code>AnnotationUtils.findAnnotation(Class, Class)</code> method from Spring to find the annotation (it traverses the hierarchy and thus works with proxies). Also the <code>@Component</code> on the annotation isn&#39;t really needed, doesn&#39;t add anything really."},{"owner":{"account_id":12886560,"reputation":115,"user_id":9319811,"display_name":"Tushar Tambe"},"score":0,"creation_date":1646806472,"post_id":71397455,"comment_id":126212221,"body_markdown":"hey @M.Deinum Thanks for the response. I tried that and it worked. Appreciate your help.","body":"hey @M.Deinum Thanks for the response. I tried that and it worked. Appreciate your help."}],"answers":[{"tags":[],"owner":{"account_id":4939497,"reputation":456,"user_id":3976662,"display_name":"seb.wired"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646757516,"creation_date":1646757516,"answer_id":71398486,"question_id":71397455,"body_markdown":"The annotation approach makes things complex, I would try to avoid that. A simpler solution without annotations, assuming that there is a 1:1 mapping between `PaymentType` and service implementation:\r\n\r\n 1. Add a function `boolean canHandle(PaymentType)` to the service interface.\r\n 2. A resolver uses that information to locate a matching service.\r\n\r\nInterface:\r\n```\r\npublic interface PaymentService {\r\n\r\n    boolean canHandle(PaymentType paymentType);\r\n\r\n    void process();\r\n}\r\n```\r\nService implementation:\r\n```\r\n@Service\r\npublic class CashPaymentService implements PaymentService {\r\n\r\n    @Override\r\n    public boolean canHandle(PaymentType paymentType) {\r\n        return PaymentType.CASH.equals(paymentType);\r\n    }\r\n\r\n    @Override\r\n    public void process() {\r\n        // processing...\r\n    }\r\n}\r\n```\r\nService locator:\r\n```\r\n@Component\r\npublic class PaymentServiceResolver {\r\n\r\n    private final List&lt;PaymentService&gt; paymentServices;\r\n    private final Map&lt;PaymentType,PaymentService&gt; serviceMapping = new ConcurrentHashMap&lt;&gt;(5);\r\n\r\n    @Autowired\r\n    public PaymentServiceResolver(List&lt;PaymentService&gt; paymentServices) {\r\n        this.paymentServices = paymentServices;\r\n    }\r\n\r\n    public PaymentService resolve(PaymentType paymentType) {\r\n        return serviceMapping.computeIfAbsent(paymentType, resolveInternal());\r\n    }\r\n\r\n    private Function&lt;PaymentType, PaymentService&gt; resolveInternal() {\r\n        return paymentType -&gt;\r\n                paymentServices.stream()\r\n                        .filter(service -&gt; service.canHandle(paymentType))\r\n                        .findFirst()\r\n                        .orElseThrow(() -&gt; new IllegalStateException(&quot;Unsupported payment type: &quot; + paymentType));\r\n    }\r\n}\r\n```\r\n\r\nYou may add more validation logic to your resolver to check during the Spring&#39;s initialization phase whether an implementation is available for each `PaymentType`.","title":"Annotations data is not present for @Service marked class","body":"<p>The annotation approach makes things complex, I would try to avoid that. A simpler solution without annotations, assuming that there is a 1:1 mapping between <code>PaymentType</code> and service implementation:</p>\n<ol>\n<li>Add a function <code>boolean canHandle(PaymentType)</code> to the service interface.</li>\n<li>A resolver uses that information to locate a matching service.</li>\n</ol>\n<p>Interface:</p>\n<pre><code>public interface PaymentService {\n\n    boolean canHandle(PaymentType paymentType);\n\n    void process();\n}\n</code></pre>\n<p>Service implementation:</p>\n<pre><code>@Service\npublic class CashPaymentService implements PaymentService {\n\n    @Override\n    public boolean canHandle(PaymentType paymentType) {\n        return PaymentType.CASH.equals(paymentType);\n    }\n\n    @Override\n    public void process() {\n        // processing...\n    }\n}\n</code></pre>\n<p>Service locator:</p>\n<pre><code>@Component\npublic class PaymentServiceResolver {\n\n    private final List&lt;PaymentService&gt; paymentServices;\n    private final Map&lt;PaymentType,PaymentService&gt; serviceMapping = new ConcurrentHashMap&lt;&gt;(5);\n\n    @Autowired\n    public PaymentServiceResolver(List&lt;PaymentService&gt; paymentServices) {\n        this.paymentServices = paymentServices;\n    }\n\n    public PaymentService resolve(PaymentType paymentType) {\n        return serviceMapping.computeIfAbsent(paymentType, resolveInternal());\n    }\n\n    private Function&lt;PaymentType, PaymentService&gt; resolveInternal() {\n        return paymentType -&gt;\n                paymentServices.stream()\n                        .filter(service -&gt; service.canHandle(paymentType))\n                        .findFirst()\n                        .orElseThrow(() -&gt; new IllegalStateException(&quot;Unsupported payment type: &quot; + paymentType));\n    }\n}\n</code></pre>\n<p>You may add more validation logic to your resolver to check during the Spring's initialization phase whether an implementation is available for each <code>PaymentType</code>.</p>\n"}],"owner":{"account_id":12886560,"reputation":115,"user_id":9319811,"display_name":"Tushar Tambe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646757516,"creation_date":1646753064,"question_id":71397455,"body_markdown":"I&#39;m trying to implement resolver pattern ( strategy pattern ).\r\n\r\nSo I have one custom annotation `@PaymentTypeValue`\r\n```\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Component\r\npublic @interface PaymentTypeValue {\r\n    PaymentType[] value();\r\n}\r\n```\r\n\r\nand `PaymentType` as enum class\r\n```\r\npublic enum PaymentType{\r\nCASH, CARD, NET_BANKING, UPI, WALLET;\r\n}\r\n```\r\n\r\nnow I have interface `PaymentService`\r\n\r\n```\r\npublic interface PaymentService {\r\n   void process();\r\n}\r\n```\r\n\r\nand have its 5 implementations, one is like \r\n```\r\n@Service\r\n@PaymentTypeValue({PaymentTypeValue.CASH})\r\npublic class CashPaymentService implements PaymentService {\r\n  @Override\r\n  void process(){\r\n    //some logic\r\n  }\r\n}\r\n```\r\n\r\nAnd I have resolver which is like this\r\n```\r\n@Component\r\npublic class PaymentServiceResolver {\r\n\r\n    private static final Logger log = getLogger(PaymentServiceResolver.class);\r\n\r\n    @Autowired\r\n    private List&lt;PaymentService&gt; paymentServices;\r\n\r\n    private final Map&lt;PaymentType, PaymentService&gt; paymentServiceMap = new EnumMap&lt;&gt;(PaymentType.class);\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        paymentServices.forEach(paymentService -&gt; {\r\n                    PaymentTypeValue annotation = paymentService.getClass().getAnnotation(PaymentTypeValue.class);\r\n                    if (annotation != null &amp;&amp; annotation.value() != null) {\r\n                        PaymentType[] paymentTypes = annotation.value();\r\n                        Arrays.stream(paymentTypes).forEach(paymentType -&gt; {\r\n                            paymentServiceMap.put(paymentType, paymentService);\r\n                        });\r\n                    } else {\r\n                        log.error(&quot;paymentService {} is missing a necessary annotation&quot;,\r\n                                paymentService.getClass().getName());\r\n                        log.error(&quot;This paymentService cannot be initialized&quot;);\r\n//                        throw new IllegalStateException(&quot;paymentService is missing a necessary annotation for &quot; + paymentService.getClass().getName());\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    public PaymentService resolvePaymentService(PaymentType paymentType) {\r\n        PaymentService paymentService = paymentServiceMap.get(paymentType);\r\n        if (paymentService != null) {\r\n            return paymentService;\r\n        } else {\r\n            String message = &quot;Could not find paymentService for &quot; + paymentType;\r\n            log.error(message);\r\n            throw new RuntimeException(message);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow the problem is in init() method, all the service implementations of `PaymentService` are present in list but when i&#39;m trying to find annotations its giving null. \r\nI checked the value of `paymentService.getClass()` method and in that annotationData had 0 annotations. If I autowire any specific implementation of PaymentService then I&#39;m able to get the annotation value. Please help me understand what I&#39;m missing here?","title":"Annotations data is not present for @Service marked class","body":"<p>I'm trying to implement resolver pattern ( strategy pattern ).</p>\n<p>So I have one custom annotation <code>@PaymentTypeValue</code></p>\n<pre><code>@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Component\npublic @interface PaymentTypeValue {\n    PaymentType[] value();\n}\n</code></pre>\n<p>and <code>PaymentType</code> as enum class</p>\n<pre><code>public enum PaymentType{\nCASH, CARD, NET_BANKING, UPI, WALLET;\n}\n</code></pre>\n<p>now I have interface <code>PaymentService</code></p>\n<pre><code>public interface PaymentService {\n   void process();\n}\n</code></pre>\n<p>and have its 5 implementations, one is like</p>\n<pre><code>@Service\n@PaymentTypeValue({PaymentTypeValue.CASH})\npublic class CashPaymentService implements PaymentService {\n  @Override\n  void process(){\n    //some logic\n  }\n}\n</code></pre>\n<p>And I have resolver which is like this</p>\n<pre><code>@Component\npublic class PaymentServiceResolver {\n\n    private static final Logger log = getLogger(PaymentServiceResolver.class);\n\n    @Autowired\n    private List&lt;PaymentService&gt; paymentServices;\n\n    private final Map&lt;PaymentType, PaymentService&gt; paymentServiceMap = new EnumMap&lt;&gt;(PaymentType.class);\n\n    @PostConstruct\n    public void init() {\n        paymentServices.forEach(paymentService -&gt; {\n                    PaymentTypeValue annotation = paymentService.getClass().getAnnotation(PaymentTypeValue.class);\n                    if (annotation != null &amp;&amp; annotation.value() != null) {\n                        PaymentType[] paymentTypes = annotation.value();\n                        Arrays.stream(paymentTypes).forEach(paymentType -&gt; {\n                            paymentServiceMap.put(paymentType, paymentService);\n                        });\n                    } else {\n                        log.error(&quot;paymentService {} is missing a necessary annotation&quot;,\n                                paymentService.getClass().getName());\n                        log.error(&quot;This paymentService cannot be initialized&quot;);\n//                        throw new IllegalStateException(&quot;paymentService is missing a necessary annotation for &quot; + paymentService.getClass().getName());\n                    }\n                }\n        );\n    }\n\n    public PaymentService resolvePaymentService(PaymentType paymentType) {\n        PaymentService paymentService = paymentServiceMap.get(paymentType);\n        if (paymentService != null) {\n            return paymentService;\n        } else {\n            String message = &quot;Could not find paymentService for &quot; + paymentType;\n            log.error(message);\n            throw new RuntimeException(message);\n        }\n    }\n}\n</code></pre>\n<p>Now the problem is in init() method, all the service implementations of <code>PaymentService</code> are present in list but when i'm trying to find annotations its giving null.\nI checked the value of <code>paymentService.getClass()</code> method and in that annotationData had 0 annotations. If I autowire any specific implementation of PaymentService then I'm able to get the annotation value. Please help me understand what I'm missing here?</p>\n"},{"tags":["java","mysql","spring","swagger"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646601958,"post_id":71374297,"comment_id":126158437,"body_markdown":"Details of the compiler or runtime error?  (It looks like the query is invalid.)","body":"Details of the compiler or runtime error?  (It looks like the query is invalid.)"},{"owner":{"account_id":24472883,"reputation":1,"user_id":18392354,"display_name":"rahma chaabane"},"score":0,"creation_date":1646602731,"post_id":71374297,"comment_id":126158586,"body_markdown":"no  error in compiler .. it&#39;s  display error 500 in swagger when i test","body":"no  error in compiler .. it&#39;s  display error 500 in swagger when i test"},{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1646605528,"post_id":71374297,"comment_id":126159074,"body_markdown":"a JOIN needs an ON clause, else mysql will thriow an error","body":"a JOIN needs an ON clause, else mysql will thriow an error"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646605949,"post_id":71374297,"comment_id":126159130,"body_markdown":"A 500 error means that there will very likely be a stack trace in your log file on the server. You need to learn to find the log file and look at it.","body":"A 500 error means that there will very likely be a stack trace in your log file on the server. You need to learn to find the log file and look at it."},{"owner":{"account_id":16404312,"reputation":641,"user_id":11849314,"display_name":"Jaume Mor&#243;n i Tarrasa"},"score":0,"creation_date":1646667563,"post_id":71374297,"comment_id":126174321,"body_markdown":"Could you copy the Publication class?","body":"Could you copy the Publication class?"},{"owner":{"account_id":24472883,"reputation":1,"user_id":18392354,"display_name":"rahma chaabane"},"score":0,"creation_date":1646675319,"post_id":71374297,"comment_id":126177500,"body_markdown":"@JaumeMor&#243;niTarrasa YES","body":"@JaumeMor&#243;niTarrasa YES"}],"owner":{"account_id":24472883,"reputation":1,"user_id":18392354,"display_name":"rahma chaabane"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646757449,"creation_date":1646601695,"question_id":71374297,"body_markdown":"I would like to display all the publications witch the user have subscribed in it . I have 3 tables publications , user , subscription( the table subscription contains enum is called  etat(subscribe or subscribed ) \r\n  \r\n\r\nthis is my code in the repository publication\r\n```\r\n@Repository\r\npublic interface PublicationRepository extends CrudRepository&lt;Publication, Integer&gt; {\r\n    \r\n    @Query(value=&quot;select  * from publication JOIN user u JOIN subscription s where s.etat=:etat&quot;, nativeQuery = true)\r\n        List&lt;Publication&gt; pubs(@Param(&quot;etat&quot;) Etat etat);\r\n    }\r\n```\r\nand this is the code in my controller \r\n```\r\n@RestController\r\n@Api(tags = &quot;Publication management&quot;)\r\n@RequestMapping(&quot;/publication&quot;)\r\npublic class PublicationRestController {\r\n    \r\n    @Autowired\r\n    PublicationServiceImpl publicationService;\r\n    @Autowired\r\n    PublicationRepository pr;\r\n    \r\n    @GetMapping(&quot;/pubs/{etat}&quot;)\r\n    public List&lt;Publication&gt; pubs(@PathVariable(&quot;etat&quot;) Etat etat) {\r\n      return pr.pubs(etat);\r\n    \t}\r\n    }\r\n```","title":"I have a problem in @query ( in repository ) in spring boot","body":"<p>I would like to display all the publications witch the user have subscribed in it . I have 3 tables publications , user , subscription( the table subscription contains enum is called  etat(subscribe or subscribed )</p>\n<p>this is my code in the repository publication</p>\n<pre><code>@Repository\npublic interface PublicationRepository extends CrudRepository&lt;Publication, Integer&gt; {\n    \n    @Query(value=&quot;select  * from publication JOIN user u JOIN subscription s where s.etat=:etat&quot;, nativeQuery = true)\n        List&lt;Publication&gt; pubs(@Param(&quot;etat&quot;) Etat etat);\n    }\n</code></pre>\n<p>and this is the code in my controller</p>\n<pre><code>@RestController\n@Api(tags = &quot;Publication management&quot;)\n@RequestMapping(&quot;/publication&quot;)\npublic class PublicationRestController {\n    \n    @Autowired\n    PublicationServiceImpl publicationService;\n    @Autowired\n    PublicationRepository pr;\n    \n    @GetMapping(&quot;/pubs/{etat}&quot;)\n    public List&lt;Publication&gt; pubs(@PathVariable(&quot;etat&quot;) Etat etat) {\n      return pr.pubs(etat);\n        }\n    }\n</code></pre>\n"},{"tags":["java","sockets","stream","packet"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1282003133,"post_id":3498126,"comment_id":3655227,"body_markdown":"What&#39;s wrong with what you tried so far? BTW use Socket.setSoTimeout(), don&#39;t grow your own.","body":"What&#39;s wrong with what you tried so far? BTW use Socket.setSoTimeout(), don&#39;t grow your own."},{"owner":{"account_id":638909,"reputation":5696,"user_id":414521,"accept_rate":97,"display_name":"SSpoke"},"score":0,"creation_date":1282005466,"post_id":3498126,"comment_id":3655378,"body_markdown":"Haha thanks EJP i didn&#39;t know a tmeout command existed.","body":"Haha thanks EJP i didn&#39;t know a tmeout command existed."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1646757234,"creation_date":1282001110,"answer_id":3498208,"question_id":3498126,"body_markdown":"Here&#39;s a sketch using setSocketTimeout to deal with the &quot;slow client / denial of service&quot; scenario.\r\n\r\n    this.socket.setSoTimeout(5000);\r\n    BufferedReader br = new BufferedReader(\r\n        new InputStreamReader(this.socket.getInputStream()));\r\n    StringBuilder sb = new StringBuilder();\r\n    try {\r\n        int ch;\r\n        while ((ch = br.read()) != -1) {\r\n            if (ch == 0) {\r\n                String message = sb.toString();\r\n                // process message\r\n                sb.setLength(0);\r\n            } else {\r\n                sb.append((char) ch);\r\n            }\r\n        }\r\n    } catch (InterruptedIOException ex) {\r\n        System.err.println(&quot;timeout!&quot;); \r\n        ...\r\n    } finally {\r\n        br.close();\r\n    }\r\n\r\nI think it is also possible to implement a (brutal) socket timeout by creating a second thread that calls `socket.close()` on the socket object if it detects that the reading thread is not getting any data.  But that&#39;s a heavyweight approach, given the simpler `setSoTimeout()` approach.","title":"How to read java stream until certain byte is reached","body":"<p>Here's a sketch using setSocketTimeout to deal with the &quot;slow client / denial of service&quot; scenario.</p>\n<pre><code>this.socket.setSoTimeout(5000);\nBufferedReader br = new BufferedReader(\n    new InputStreamReader(this.socket.getInputStream()));\nStringBuilder sb = new StringBuilder();\ntry {\n    int ch;\n    while ((ch = br.read()) != -1) {\n        if (ch == 0) {\n            String message = sb.toString();\n            // process message\n            sb.setLength(0);\n        } else {\n            sb.append((char) ch);\n        }\n    }\n} catch (InterruptedIOException ex) {\n    System.err.println(&quot;timeout!&quot;); \n    ...\n} finally {\n    br.close();\n}\n</code></pre>\n<p>I think it is also possible to implement a (brutal) socket timeout by creating a second thread that calls <code>socket.close()</code> on the socket object if it detects that the reading thread is not getting any data.  But that's a heavyweight approach, given the simpler <code>setSoTimeout()</code> approach.</p>\n"},{"tags":[],"owner":{"account_id":638909,"reputation":5696,"user_id":414521,"accept_rate":97,"display_name":"SSpoke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282005441,"creation_date":1282005441,"answer_id":3498490,"question_id":3498126,"body_markdown":"Should I use StringBuilder? or build my own as EJP wrote. which is faster?\r\n\r\n\t            String line = &quot;&quot;;\r\n\t            int read;\r\n\t            //long timeOut = System.currentTimeMillis();\r\n                this.socket.setSoTimeout(5000);\r\n\t            while(this.socket.isConnected()) {\r\n\t\t    \tread = this.socketIn.read();\r\n\t\t        if (read == -1)\r\n\t\t        \tthrow new IOException(&quot;Insufficient data / timeout)&quot;);\r\n\t\t        else if(read == 0)\r\n\t\t        \tbreak;\r\n\t\t        line += (char)(read &amp; 0xFF);\r\n\t            }","title":"How to read java stream until certain byte is reached","body":"<p>Should I use StringBuilder? or build my own as EJP wrote. which is faster?</p>\n\n<pre><code>            String line = \"\";\n            int read;\n            //long timeOut = System.currentTimeMillis();\n            this.socket.setSoTimeout(5000);\n            while(this.socket.isConnected()) {\n            read = this.socketIn.read();\n            if (read == -1)\n                throw new IOException(\"Insufficient data / timeout)\");\n            else if(read == 0)\n                break;\n            line += (char)(read &amp; 0xFF);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1759123,"reputation":8801,"user_id":1606689,"accept_rate":83,"display_name":"Joseph Astrahan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345247300,"creation_date":1345201020,"answer_id":12004445,"question_id":3498126,"body_markdown":"    InputStreamReader isr = new InputStreamReader(socket.getInputStream());\r\n    BufferedReader in = new BufferedReader(isr);\r\n    String line = &quot;&quot;;\r\n    String response = &quot;&quot;;\r\n    while ((line = in.readLine()) != null) {\r\n        System.out.println(line);\r\n        response = response + line + &quot;\\n&quot;;\r\n        if (in.ready() == false) {\r\n            break;\r\n        }\r\n    }\r\n\r\nThe trick is the ready function that belongs to the BufferedReader.  You need to check if it&#39;s ready, if not just get out of the loop.","title":"How to read java stream until certain byte is reached","body":"<pre><code>InputStreamReader isr = new InputStreamReader(socket.getInputStream());\nBufferedReader in = new BufferedReader(isr);\nString line = \"\";\nString response = \"\";\nwhile ((line = in.readLine()) != null) {\n    System.out.println(line);\n    response = response + line + \"\\n\";\n    if (in.ready() == false) {\n        break;\n    }\n}\n</code></pre>\n\n<p>The trick is the ready function that belongs to the BufferedReader.  You need to check if it's ready, if not just get out of the loop.</p>\n"}],"owner":{"account_id":638909,"reputation":5696,"user_id":414521,"accept_rate":97,"display_name":"SSpoke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13687,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":3498208,"answer_count":3,"score":4,"last_activity_date":1646757234,"creation_date":1281999975,"question_id":3498126,"body_markdown":"My question is similar to this post. But I don&#39;t send packet length rather a 0 byte at end.\r\nhttps://stackoverflow.com/questions/833744/most-efficient-way-to-read-in-a-tcp-stream-in-java\r\n\r\nSo I&#39;m wondering how would I code something that would.\r\n\r\nAt the moment I just use \r\n  \r\n\r\n    this.socketIn = new BufferedReader(new InputStreamReader(this.socket.getInputStream()));\r\n    String line = this.socketIn.readLine();\r\n\r\nIf packet is getting sent while you are spamming the packet it&#39;s going to count the packet which hasn&#39;t arrived yet as a fully read Line, yet it&#39;s incomplete and messes up the whole protocol.\r\n\r\n\r\nIn my protocol each packet is ended with a 0 byte (0x00) to determine the end of a single packet if in case packets end up merged/stacked together.\r\n\r\nSo what I&#39;m trying to do really is keep reading the socket stream until a 0x00 is reached to indicate the packet is fully crafted and ready for processing.. and of course some kind of security (a timeout is best I believe) to determine the packet is junk as it&#39;s not ended in a 0 byte in a specific time frame lets say 5 seconds.\r\n\r\nHow would I go about doing this?  \r\n\r\nP.S&gt;\r\nI&#39;m not using NIO framework but just a regular thread per connection socket and I don&#39;t want to switch to NIO as it&#39;s very difficult to inject data with a completely different global thread that processes updates and sends specific updates to random users (not broadcast).\r\n\r\nHere is what I tried so far.\r\n\r\n        String line = &quot;&quot;;\r\n        int read;\r\n        long timeOut = System.currentTimeMillis();\r\n        while(true) {\r\n\t        read = this.socketIn.read();\r\n\t        if (read == -1 || read == 0 || (System.currentTimeMillis()-timeOut) &gt; 5000)\r\n\t            break;\r\n\t        line += read\r\n        }","title":"How to read java stream until certain byte is reached","body":"<p>My question is similar to this post. But I don't send packet length rather a 0 byte at end.\n<a href=\"https://stackoverflow.com/questions/833744/most-efficient-way-to-read-in-a-tcp-stream-in-java\">Most efficient way to read in a tcp stream in Java</a></p>\n\n<p>So I'm wondering how would I code something that would.</p>\n\n<p>At the moment I just use </p>\n\n<pre><code>this.socketIn = new BufferedReader(new InputStreamReader(this.socket.getInputStream()));\nString line = this.socketIn.readLine();\n</code></pre>\n\n<p>If packet is getting sent while you are spamming the packet it's going to count the packet which hasn't arrived yet as a fully read Line, yet it's incomplete and messes up the whole protocol.</p>\n\n<p>In my protocol each packet is ended with a 0 byte (0x00) to determine the end of a single packet if in case packets end up merged/stacked together.</p>\n\n<p>So what I'm trying to do really is keep reading the socket stream until a 0x00 is reached to indicate the packet is fully crafted and ready for processing.. and of course some kind of security (a timeout is best I believe) to determine the packet is junk as it's not ended in a 0 byte in a specific time frame lets say 5 seconds.</p>\n\n<p>How would I go about doing this?  </p>\n\n<p>P.S>\nI'm not using NIO framework but just a regular thread per connection socket and I don't want to switch to NIO as it's very difficult to inject data with a completely different global thread that processes updates and sends specific updates to random users (not broadcast).</p>\n\n<p>Here is what I tried so far.</p>\n\n<pre><code>    String line = \"\";\n    int read;\n    long timeOut = System.currentTimeMillis();\n    while(true) {\n        read = this.socketIn.read();\n        if (read == -1 || read == 0 || (System.currentTimeMillis()-timeOut) &gt; 5000)\n            break;\n        line += read\n    }\n</code></pre>\n"},{"tags":["java","sockets","byte","inputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1393982625,"post_id":5690954,"comment_id":33677710,"body_markdown":"Your question has nothing to do with input streams specifically, it is just about your compile error caused by failing to initialize the array reference `b.` The answer is to initialize it. -1 for poorly titled question.","body":"Your question has nothing to do with input streams specifically, it is just about your compile error caused by failing to initialize the array reference <code>b.</code> The answer is to initialize it. -1 for poorly titled question."}],"answers":[{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1303006428,"creation_date":1303005574,"answer_id":5690964,"question_id":5690954,"body_markdown":"Read an int, which is the size of the next segment of data being received. Create a buffer with that size, or use a roomy pre-existing buffer. Read into the buffer, making sure it is limited to the aforeread size. Rinse and repeat :)\r\n\r\nIf you *really* don&#39;t know the size in advance as you said, read into an expanding ByteArrayOutputStream as the other answers have mentioned. However, the size method really is the most reliable.","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>Read an int, which is the size of the next segment of data being received. Create a buffer with that size, or use a roomy pre-existing buffer. Read into the buffer, making sure it is limited to the aforeread size. Rinse and repeat :)</p>\n\n<p>If you <em>really</em> don't know the size in advance as you said, read into an expanding ByteArrayOutputStream as the other answers have mentioned. However, the size method really is the most reliable.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1646756961,"creation_date":1303006112,"answer_id":5690994,"question_id":5690954,"body_markdown":"The simple answer is:\r\n\r\n    byte b[] = new byte[BIG_ENOUGH];\r\n    int nosRead = sock.getInputStream().read(b);\r\n\r\nwhere `BIG_ENOUGH` is big enough.\r\n\r\n--------\r\n\r\nBut in general there is a big problem with this.  A single `read` call is *not guaranteed* to return all that the other end has written.\r\n\r\n  - If the `nosRead` value is `BIG_ENOUGH`, your application has no way of knowing for sure if there are more bytes to come; the other end may have sent exactly `BIG_ENOUGH` bytes ... or more than `BIG_ENOUGH` bytes.  In the former case, you application will block (for ever) if you try to read.  In the latter case, your application has to do (at least) another `read` to get the rest of the data.\r\n\r\n  - If the `nosRead` value is less than `BIG_ENOUGH`, your application *still* doesn&#39;t know.  It might have received everything there is, part of the data may have been delayed (due to network packet fragmentation, network packet loss, network partition, etc), or the other end might have blocked or crashed  part way through sending the data.\r\n\r\nThe best answer is that **EITHER** your application needs to know beforehand how many bytes to expect, **OR** the application protocol needs to somehow *tell* the application how many bytes to expect or when all bytes have been sent.  \r\n\r\nPossible approaches are:\r\n\r\n - the application protocol uses fixed message sizes (not applicable to your example)\r\n - the application protocol message sizes are specified in message headers\r\n - the application protocol uses end-of-message markers\r\n - the application protocol is not message based, and the other end closes the connection to say *that is the end*.\r\n\r\nWithout one of these strategies, your application is left to guess, and is liable to get it wrong occasionally.\r\n\r\nThen you use multiple read calls and (maybe) multiple buffers.","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>The simple answer is:</p>\n<pre><code>byte b[] = new byte[BIG_ENOUGH];\nint nosRead = sock.getInputStream().read(b);\n</code></pre>\n<p>where <code>BIG_ENOUGH</code> is big enough.</p>\n<hr />\n<p>But in general there is a big problem with this.  A single <code>read</code> call is <em>not guaranteed</em> to return all that the other end has written.</p>\n<ul>\n<li><p>If the <code>nosRead</code> value is <code>BIG_ENOUGH</code>, your application has no way of knowing for sure if there are more bytes to come; the other end may have sent exactly <code>BIG_ENOUGH</code> bytes ... or more than <code>BIG_ENOUGH</code> bytes.  In the former case, you application will block (for ever) if you try to read.  In the latter case, your application has to do (at least) another <code>read</code> to get the rest of the data.</p>\n</li>\n<li><p>If the <code>nosRead</code> value is less than <code>BIG_ENOUGH</code>, your application <em>still</em> doesn't know.  It might have received everything there is, part of the data may have been delayed (due to network packet fragmentation, network packet loss, network partition, etc), or the other end might have blocked or crashed  part way through sending the data.</p>\n</li>\n</ul>\n<p>The best answer is that <strong>EITHER</strong> your application needs to know beforehand how many bytes to expect, <strong>OR</strong> the application protocol needs to somehow <em>tell</em> the application how many bytes to expect or when all bytes have been sent.</p>\n<p>Possible approaches are:</p>\n<ul>\n<li>the application protocol uses fixed message sizes (not applicable to your example)</li>\n<li>the application protocol message sizes are specified in message headers</li>\n<li>the application protocol uses end-of-message markers</li>\n<li>the application protocol is not message based, and the other end closes the connection to say <em>that is the end</em>.</li>\n</ul>\n<p>Without one of these strategies, your application is left to guess, and is liable to get it wrong occasionally.</p>\n<p>Then you use multiple read calls and (maybe) multiple buffers.</p>\n"},{"tags":[],"owner":{"account_id":171452,"reputation":7936,"user_id":398885,"display_name":"d-live"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1303006519,"creation_date":1303006203,"answer_id":5690997,"question_id":5690954,"body_markdown":"You need to expand the buffer *as needed*, by reading in chunks of bytes, 1024 at a time as in this example code I wrote some time ago\r\n\r\n\r\n        byte[] resultBuff = new byte[0];\r\n        byte[] buff = new byte[1024];\r\n        int k = -1;\r\n        while((k = sock.getInputStream().read(buff, 0, buff.length)) &gt; -1) {\r\n            byte[] tbuff = new byte[resultBuff.length + k]; // temp buffer size = bytes already read + bytes last read\r\n            System.arraycopy(resultBuff, 0, tbuff, 0, resultBuff.length); // copy previous bytes\r\n            System.arraycopy(buff, 0, tbuff, resultBuff.length, k);  // copy current lot\r\n            resultBuff = tbuff; // call the temp buffer as your result buff\r\n        }\r\n        System.out.println(resultBuff.length + &quot; bytes read.&quot;);\r\n        return resultBuff;\r\n\r\n","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>You need to expand the buffer <em>as needed</em>, by reading in chunks of bytes, 1024 at a time as in this example code I wrote some time ago</p>\n\n<pre><code>    byte[] resultBuff = new byte[0];\n    byte[] buff = new byte[1024];\n    int k = -1;\n    while((k = sock.getInputStream().read(buff, 0, buff.length)) &gt; -1) {\n        byte[] tbuff = new byte[resultBuff.length + k]; // temp buffer size = bytes already read + bytes last read\n        System.arraycopy(resultBuff, 0, tbuff, 0, resultBuff.length); // copy previous bytes\n        System.arraycopy(buff, 0, tbuff, resultBuff.length, k);  // copy current lot\n        resultBuff = tbuff; // call the temp buffer as your result buff\n    }\n    System.out.println(resultBuff.length + \" bytes read.\");\n    return resultBuff;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303006301,"creation_date":1303006301,"answer_id":5690998,"question_id":5690954,"body_markdown":"Either:\r\n\r\n1. Have the sender close the socket after transferring the bytes. Then at the receiver just keep reading until EOS.\r\n\r\n2. Have the sender prefix a length word as per Chris&#39;s suggestion, then read that many bytes.\r\n\r\n3. Use a self-describing protocol such as XML, Serialization, ...","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>Either:</p>\n\n<ol>\n<li><p>Have the sender close the socket after transferring the bytes. Then at the receiver just keep reading until EOS.</p></li>\n<li><p>Have the sender prefix a length word as per Chris's suggestion, then read that many bytes.</p></li>\n<li><p>Use a self-describing protocol such as XML, Serialization, ...</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1366884683,"creation_date":1303013308,"answer_id":5691406,"question_id":5690954,"body_markdown":"Assuming the sender closes the stream at the end of the data:\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\n    byte[] buf = new byte[4096];\r\n    while(true) {\r\n      int n = is.read(buf);\r\n      if( n &lt; 0 ) break;\r\n      baos.write(buf,0,n);\r\n    }\r\n    \r\n    byte data[] = baos.toByteArray();","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>Assuming the sender closes the stream at the end of the data:</p>\n\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\nbyte[] buf = new byte[4096];\nwhile(true) {\n  int n = is.read(buf);\n  if( n &lt; 0 ) break;\n  baos.write(buf,0,n);\n}\n\nbyte data[] = baos.toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":373642,"reputation":191,"user_id":723419,"accept_rate":60,"display_name":"Abraham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306216888,"creation_date":1306214340,"answer_id":6106001,"question_id":5690954,"body_markdown":"Use `BufferedInputStream`, and use the `available()` method which returns the size of bytes available for reading, and then construct a `byte[]` with that size.  Problem solved.  :) \r\n\r\n\r\n    BufferedInputStream buf = new BufferedInputStream(is);  \r\n    int size = buf.available();","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>Use <code>BufferedInputStream</code>, and use the <code>available()</code> method which returns the size of bytes available for reading, and then construct a <code>byte[]</code> with that size.  Problem solved.  :) </p>\n\n<pre><code>BufferedInputStream buf = new BufferedInputStream(is);  \nint size = buf.available();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319016,"reputation":441,"user_id":636542,"display_name":"DejanR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340365162,"creation_date":1340365162,"answer_id":11155474,"question_id":5690954,"body_markdown":" \r\n\r\n  Stream  all Input data into Output stream. Here is working example:\r\n    \r\n\r\n        InputStream inputStream = null;\r\n\t\tbyte[] tempStorage = new byte[1024];//try to read 1Kb at time\r\n    \tint bLength;\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\tByteArrayOutputStream outputByteArrayStream =  new ByteArrayOutputStream();\t\t\r\n\t\t\tif (fileName.startsWith(&quot;http&quot;))\r\n\t\t\t\tinputStream = new URL(fileName).openStream();\r\n\t\t\telse\r\n\t\t\t\tinputStream = new FileInputStream(fileName);\t\t\t\r\n\t\t\t\t\r\n\t\t\twhile ((bLength = inputStream.read(tempStorage)) != -1) {\r\n              \t\toutputByteArrayStream.write(tempStorage, 0, bLength);\r\n          \t}\r\n\t\t\toutputByteArrayStream.flush();\r\n\t\t\t//Here is the byte array at the end\r\n\t\t\tbyte[] finalByteArray = outputByteArrayStream.toByteArray();\r\n\t\t\toutputByteArrayStream.close();\r\n\t\t\tinputStream.close();\r\n\t\t}catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t\tif (inputStream != null) inputStream.close();\r\n\t\t}","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>Stream  all Input data into Output stream. Here is working example:</p>\n\n<pre><code>    InputStream inputStream = null;\n    byte[] tempStorage = new byte[1024];//try to read 1Kb at time\n    int bLength;\n    try{\n\n        ByteArrayOutputStream outputByteArrayStream =  new ByteArrayOutputStream();     \n        if (fileName.startsWith(\"http\"))\n            inputStream = new URL(fileName).openStream();\n        else\n            inputStream = new FileInputStream(fileName);            \n\n        while ((bLength = inputStream.read(tempStorage)) != -1) {\n                outputByteArrayStream.write(tempStorage, 0, bLength);\n        }\n        outputByteArrayStream.flush();\n        //Here is the byte array at the end\n        byte[] finalByteArray = outputByteArrayStream.toByteArray();\n        outputByteArrayStream.close();\n        inputStream.close();\n    }catch(Exception e){\n        e.printStackTrace();\n        if (inputStream != null) inputStream.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1773418,"reputation":18513,"user_id":1617737,"accept_rate":53,"display_name":"ban-geoengineering"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371137617,"creation_date":1371137617,"answer_id":17091160,"question_id":5690954,"body_markdown":"Here is a simpler example using ByteArrayOutputStream...\r\n\r\n            socketInputStream = socket.getInputStream();\r\n            int expectedDataLength = 128; //todo - set accordingly/experiment. Does not have to be precise value.\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream(expectedDataLength);\r\n            byte[] chunk = new byte[expectedDataLength];\r\n            int numBytesJustRead;\r\n            while((numBytesJustRead = socketInputStream.read(chunk)) != -1) {\r\n                baos.write(chunk, 0, numBytesJustRead);\r\n            }\r\n            return baos.toString(&quot;UTF-8&quot;);\r\n\r\nHowever, if the server does not return a -1, you will need to detect the end of the data some other way - e.g., maybe the returned content always ends with a certain marker (e.g., &quot;&lt;/html&gt;&quot;), or you could possibly solve using socket.setSoTimeout(). (Mentioning this as it is seems to be a common problem.)","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>Here is a simpler example using ByteArrayOutputStream...</p>\n\n<pre><code>        socketInputStream = socket.getInputStream();\n        int expectedDataLength = 128; //todo - set accordingly/experiment. Does not have to be precise value.\n        ByteArrayOutputStream baos = new ByteArrayOutputStream(expectedDataLength);\n        byte[] chunk = new byte[expectedDataLength];\n        int numBytesJustRead;\n        while((numBytesJustRead = socketInputStream.read(chunk)) != -1) {\n            baos.write(chunk, 0, numBytesJustRead);\n        }\n        return baos.toString(\"UTF-8\");\n</code></pre>\n\n<p>However, if the server does not return a -1, you will need to detect the end of the data some other way - e.g., maybe the returned content always ends with a certain marker (e.g., \"\"), or you could possibly solve using socket.setSoTimeout(). (Mentioning this as it is seems to be a common problem.)</p>\n"},{"tags":[],"owner":{"account_id":3286263,"reputation":81,"user_id":2765714,"display_name":"constv"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1378830005,"creation_date":1378828495,"answer_id":18723621,"question_id":5690954,"body_markdown":"Without re-inventing the wheel, using Apache Commons:\r\n\r\n    IOUtils.toByteArray(inputStream);\r\n\r\nFor example, complete code with error handling:\r\n\r\n        public static byte[] readInputStreamToByteArray(InputStream inputStream) {\r\n        if (inputStream == null) {\r\n            // normally, the caller should check for null after getting the InputStream object from a resource\r\n            throw new FileProcessingException(&quot;Cannot read from InputStream that is NULL. The resource requested by the caller may not exist or was not looked up correctly.&quot;);\r\n        }\r\n        try {\r\n            return IOUtils.toByteArray(inputStream);\r\n        } catch (IOException e) {\r\n            throw new FileProcessingException(&quot;Error reading input stream.&quot;, e);\r\n        } finally {\r\n            closeStream(inputStream);\r\n        }\r\n    }\r\n\r\n    private static void closeStream(Closeable closeable) {\r\n        try {\r\n            if (closeable != null) {\r\n                closeable.close();\r\n            }\r\n        } catch (Exception e) {\r\n            throw new FileProcessingException(&quot;IO Error closing a stream.&quot;, e);\r\n        }\r\n    }\r\n\r\nWhere `FileProcessingException` is your app-specific meaningful RT exception that will travel uninterrupted to your proper handler w/o polluting the code in between.","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>Without re-inventing the wheel, using Apache Commons:</p>\n\n<pre><code>IOUtils.toByteArray(inputStream);\n</code></pre>\n\n<p>For example, complete code with error handling:</p>\n\n<pre><code>    public static byte[] readInputStreamToByteArray(InputStream inputStream) {\n    if (inputStream == null) {\n        // normally, the caller should check for null after getting the InputStream object from a resource\n        throw new FileProcessingException(\"Cannot read from InputStream that is NULL. The resource requested by the caller may not exist or was not looked up correctly.\");\n    }\n    try {\n        return IOUtils.toByteArray(inputStream);\n    } catch (IOException e) {\n        throw new FileProcessingException(\"Error reading input stream.\", e);\n    } finally {\n        closeStream(inputStream);\n    }\n}\n\nprivate static void closeStream(Closeable closeable) {\n    try {\n        if (closeable != null) {\n            closeable.close();\n        }\n    } catch (Exception e) {\n        throw new FileProcessingException(\"IO Error closing a stream.\", e);\n    }\n}\n</code></pre>\n\n<p>Where <code>FileProcessingException</code> is your app-specific meaningful RT exception that will travel uninterrupted to your proper handler w/o polluting the code in between.</p>\n"},{"tags":[],"owner":{"account_id":5569209,"reputation":591,"user_id":4415245,"accept_rate":94,"display_name":"Flare Cat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493565919,"creation_date":1493565919,"answer_id":43708030,"question_id":5690954,"body_markdown":"This is both a late answer and self-advertising, but anyone checking out this question may want to take a look here:\r\nhttps://github.com/GregoryConrad/SmartSocket","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>This is both a late answer and self-advertising, but anyone checking out this question may want to take a look here:\n<a href=\"https://github.com/GregoryConrad/SmartSocket\" rel=\"nofollow noreferrer\">https://github.com/GregoryConrad/SmartSocket</a></p>\n"},{"tags":[],"owner":{"account_id":5408801,"reputation":1132,"user_id":4306369,"accept_rate":25,"display_name":"Thorben Kuck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526071149,"creation_date":1526071149,"answer_id":50299954,"question_id":5690954,"body_markdown":"This question is 7 years old, but i had a similiar problem, while making a [NIO][1] and OIO compatible system (Client and Server might be whatever they want, OIO or NIO).\r\n\r\nThis was quit the challenge, because of the blocking InputStreams.\r\n\r\nI found a way, which makes it possible and i want to post it, to help people with similiar problems.\r\n\r\nReading a byte array of dynamic sice is done here with the [DataInputStream][2], which kann be simply wrapped around the socketInputStream. Also, i do not want to introduce a specific communication protocoll (like first sending the size of bytes, that will be send), because i want to make this as vanilla as possible. First of, i have a simple utility Buffer class, which looks like this:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Buffer {\r\n\r\n\t    private byte[] core;\r\n\t    private int capacity;\r\n\r\n\t    public Buffer(int size){\r\n\t\t    this.capacity = size;\r\n\t\t    clear();\r\n\t    }\r\n\r\n\t    public List&lt;Byte&gt; list() {\r\n\t\t    final List&lt;Byte&gt; result = new ArrayList&lt;&gt;();\r\n\t\t    for(byte b : core) {\r\n\t\t\t    result.add(b);\r\n\t\t    }\r\n\r\n\t    \treturn result;\r\n\t    }\r\n\r\n\t    public void reallocate(int capacity) {\r\n    \t\tthis.capacity = capacity;\r\n\t    }\r\n\r\n\t    public void teardown() {\r\n\t    \tthis.core = null;\r\n\t    }\r\n\r\n\t    public void clear() {\r\n\t    \tcore = new byte[capacity];\r\n    \t}\r\n\r\n\t    public byte[] array() {\r\n\t    \treturn core;\r\n    \t}\r\n    }\r\n\r\nThis class only exists, because of the dumb way, byte &lt;=&gt; Byte autoboxing in Java works with this List. This is not realy needed at all in this example, but i did not want to leave something out of this explanation. \r\n\r\nNext up, the 2 simple, core methods. In those, a StringBuilder is used as a &quot;callback&quot;. It will be filled with the result which has been read and the amount of bytes read will be returned. This might be done different of course.\r\n\r\n    private int readNext(StringBuilder stringBuilder, Buffer buffer) throws IOException {\r\n        // Attempt to read up to the buffers size\r\n\t\tint read = in.read(buffer.array());\r\n        // If EOF is reached (-1 read)\r\n        // we disconnect, because the\r\n        // other end disconnected.\r\n\t\tif(read == -1) {\r\n\t\t\tdisconnect();\r\n\t\t\treturn -1;\r\n\t\t}\r\n        // Add the read byte[] as\r\n        // a String to the stringBuilder.\r\n\t\tstringBuilder.append(new String(buffer.array()).trim());\r\n\t\tbuffer.clear();\r\n\r\n\t\treturn read;\r\n\t}\r\n\r\n\tprivate Optional&lt;String&gt; readBlocking() throws IOException {\r\n\t\tfinal Buffer buffer = new Buffer(256);\r\n\t\tfinal StringBuilder stringBuilder = new StringBuilder();\r\n\t\t// This call blocks. Therefor\r\n\t\t// if we continue past this point\r\n\t\t// we WILL have some sort of\r\n\t\t// result. This might be -1, which\r\n\t\t// means, EOF (disconnect.)\r\n\t\tif(readNext(stringBuilder, buffer) == -1) {\r\n\t\t\treturn Optional.empty();\r\n\t\t}\r\n\t\twhile(in.available() &gt; 0) {\r\n\t\t\tbuffer.reallocate(in.available());\r\n\t\t\tif(readNext(stringBuilder, buffer) == -1) {\r\n\t\t\t\treturn Optional.empty();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbuffer.teardown();\r\n\r\n\t\treturn Optional.of(stringBuilder.toString());\r\n\t}\r\n\r\nThe first method `readNext` will fill the buffer, with `byte[]` from the DataInputStream and return the amount bytes read this way.\r\n\r\nIn the secon method, `readBlocking`, i utilized the blocking nature, not to worry about [consumer-producer-problems][3]. Simply `readBlocking` will block, untill a new byte-array is received. Before we call this blocking method, we allocate a Buffer-size. Note, i called reallocate after the first read (inside the while loop). This is not needed. You can safely delete this line and the code will still work. I did it, because of the uniqueness of my problem.\r\n\r\nThe 2 things, i did not explain in more detail are:\r\n 1. in (the DataInputStream and the only short varaible here, sorry for that)\r\n 2. disconnect (your disconnect routine)\r\n\r\nAll in all, you can now use it, this way:\r\n\r\n    // The in has to be an attribute, or an parameter to the readBlocking method\r\n    DataInputStream in = new DataInputStream(socket.getInputStream());\r\n    final Optional&lt;String&gt; rawDataOptional = readBlocking();\r\n    rawDataOptional.ifPresent(string -&gt; threadPool.execute(() -&gt; handle(string)));\r\n\r\nThis will provide you with a way of reading byte arrays of any shape or form over a socket (or any InputStream realy). Hope this helps!\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/New_I/O_(Java)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html\r\n  [3]: https://en.wikipedia.org/wiki/Producer%E2%80%93consumer_problem","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>This question is 7 years old, but i had a similiar problem, while making a <a href=\"https://en.wikipedia.org/wiki/New_I/O_(Java)\" rel=\"nofollow noreferrer\">NIO</a> and OIO compatible system (Client and Server might be whatever they want, OIO or NIO).</p>\n\n<p>This was quit the challenge, because of the blocking InputStreams.</p>\n\n<p>I found a way, which makes it possible and i want to post it, to help people with similiar problems.</p>\n\n<p>Reading a byte array of dynamic sice is done here with the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html\" rel=\"nofollow noreferrer\">DataInputStream</a>, which kann be simply wrapped around the socketInputStream. Also, i do not want to introduce a specific communication protocoll (like first sending the size of bytes, that will be send), because i want to make this as vanilla as possible. First of, i have a simple utility Buffer class, which looks like this:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Buffer {\n\n    private byte[] core;\n    private int capacity;\n\n    public Buffer(int size){\n        this.capacity = size;\n        clear();\n    }\n\n    public List&lt;Byte&gt; list() {\n        final List&lt;Byte&gt; result = new ArrayList&lt;&gt;();\n        for(byte b : core) {\n            result.add(b);\n        }\n\n        return result;\n    }\n\n    public void reallocate(int capacity) {\n        this.capacity = capacity;\n    }\n\n    public void teardown() {\n        this.core = null;\n    }\n\n    public void clear() {\n        core = new byte[capacity];\n    }\n\n    public byte[] array() {\n        return core;\n    }\n}\n</code></pre>\n\n<p>This class only exists, because of the dumb way, byte &lt;=> Byte autoboxing in Java works with this List. This is not realy needed at all in this example, but i did not want to leave something out of this explanation. </p>\n\n<p>Next up, the 2 simple, core methods. In those, a StringBuilder is used as a \"callback\". It will be filled with the result which has been read and the amount of bytes read will be returned. This might be done different of course.</p>\n\n<pre><code>private int readNext(StringBuilder stringBuilder, Buffer buffer) throws IOException {\n    // Attempt to read up to the buffers size\n    int read = in.read(buffer.array());\n    // If EOF is reached (-1 read)\n    // we disconnect, because the\n    // other end disconnected.\n    if(read == -1) {\n        disconnect();\n        return -1;\n    }\n    // Add the read byte[] as\n    // a String to the stringBuilder.\n    stringBuilder.append(new String(buffer.array()).trim());\n    buffer.clear();\n\n    return read;\n}\n\nprivate Optional&lt;String&gt; readBlocking() throws IOException {\n    final Buffer buffer = new Buffer(256);\n    final StringBuilder stringBuilder = new StringBuilder();\n    // This call blocks. Therefor\n    // if we continue past this point\n    // we WILL have some sort of\n    // result. This might be -1, which\n    // means, EOF (disconnect.)\n    if(readNext(stringBuilder, buffer) == -1) {\n        return Optional.empty();\n    }\n    while(in.available() &gt; 0) {\n        buffer.reallocate(in.available());\n        if(readNext(stringBuilder, buffer) == -1) {\n            return Optional.empty();\n        }\n    }\n\n    buffer.teardown();\n\n    return Optional.of(stringBuilder.toString());\n}\n</code></pre>\n\n<p>The first method <code>readNext</code> will fill the buffer, with <code>byte[]</code> from the DataInputStream and return the amount bytes read this way.</p>\n\n<p>In the secon method, <code>readBlocking</code>, i utilized the blocking nature, not to worry about <a href=\"https://en.wikipedia.org/wiki/Producer%E2%80%93consumer_problem\" rel=\"nofollow noreferrer\">consumer-producer-problems</a>. Simply <code>readBlocking</code> will block, untill a new byte-array is received. Before we call this blocking method, we allocate a Buffer-size. Note, i called reallocate after the first read (inside the while loop). This is not needed. You can safely delete this line and the code will still work. I did it, because of the uniqueness of my problem.</p>\n\n<p>The 2 things, i did not explain in more detail are:\n 1. in (the DataInputStream and the only short varaible here, sorry for that)\n 2. disconnect (your disconnect routine)</p>\n\n<p>All in all, you can now use it, this way:</p>\n\n<pre><code>// The in has to be an attribute, or an parameter to the readBlocking method\nDataInputStream in = new DataInputStream(socket.getInputStream());\nfinal Optional&lt;String&gt; rawDataOptional = readBlocking();\nrawDataOptional.ifPresent(string -&gt; threadPool.execute(() -&gt; handle(string)));\n</code></pre>\n\n<p>This will provide you with a way of reading byte arrays of any shape or form over a socket (or any InputStream realy). Hope this helps!</p>\n"}],"owner":{"account_id":155138,"reputation":5901,"user_id":371588,"accept_rate":90,"display_name":"farm ostrich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93994,"favorite_count":0,"down_vote_count":2,"up_vote_count":22,"accepted_answer_id":5690964,"answer_count":11,"score":20,"last_activity_date":1646756961,"creation_date":1303005377,"question_id":5690954,"body_markdown":"Looking to read in some bytes over a socket using an inputStream. The bytes sent by the server may be of variable quantity, and the client doesn&#39;t know in advance the length of the byte array. How may this be accomplished?\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nbyte b[]; \r\nsock.getInputStream().read(b);\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\nThis causes a &#39;might not be initialized error&#39; from the Net BzEAnSZ. Help.","title":"Java -- How to read an unknown number of bytes from an inputStream (socket/socketServer)?","body":"<p>Looking to read in some bytes over a socket using an inputStream. The bytes sent by the server may be of variable quantity, and the client doesn't know in advance the length of the byte array. How may this be accomplished?</p>\n\n<p><pre><code>\nbyte b[]; \nsock.getInputStream().read(b);\n</pre></code></p>\n\n<p>This causes a 'might not be initialized error' from the Net BzEAnSZ. Help.</p>\n"},{"tags":["java","maven","automated-tests","testng","pipeline"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1646769960,"post_id":71398278,"comment_id":126204996,"body_markdown":"Please give more details plus an example how a test is being executed etc... because I suppose you are doing things wrong...","body":"Please give more details plus an example how a test is being executed etc... because I suppose you are doing things wrong..."},{"owner":{"account_id":18185893,"reputation":3,"user_id":18292378,"display_name":"Agust&#237;n"},"score":0,"creation_date":1646770746,"post_id":71398278,"comment_id":126205257,"body_markdown":"It&#39;s pretty literal. I have a .gitlab-ci.yml where if i run the script with maven using the &#39;mvn test&#39; command, the pipeline detects if the test fails and the stage throws an error, which is the expected behavior. What I&#39;m currently doing is compiling the project with dependencies and running it with &#39;java -jar ./target/test-jar-with-dependencies.jar&#39;, which, for some reason, makes the stage succeed even if the test fails","body":"It&#39;s pretty literal. I have a .gitlab-ci.yml where if i run the script with maven using the &#39;mvn test&#39; command, the pipeline detects if the test fails and the stage throws an error, which is the expected behavior. What I&#39;m currently doing is compiling the project with dependencies and running it with &#39;java -jar ./target/test-jar-with-dependencies.jar&#39;, which, for some reason, makes the stage succeed even if the test fails"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1646771267,"post_id":71398278,"comment_id":126205417,"body_markdown":"`&#39;mvn test&#39; command, the pipeline detects if the test fails and the stage throws an error, which is the expected behavior. ` ? Why? Than your tests are broken.. That means you have to fix either your test code or your application code...","body":"<code>&#39;mvn test&#39; command, the pipeline detects if the test fails and the stage throws an error, which is the expected behavior. </code> ? Why? Than your tests are broken.. That means you have to fix either your test code or your application code..."},{"owner":{"account_id":18185893,"reputation":3,"user_id":18292378,"display_name":"Agust&#237;n"},"score":0,"creation_date":1646771451,"post_id":71398278,"comment_id":126205475,"body_markdown":"The tests are correct, I&#39;m forcing them to fail and they fail indeed, the question aims to ask why GitLab runner is ignoring the result when the tests are packaged","body":"The tests are correct, I&#39;m forcing them to fail and they fail indeed, the question aims to ask why GitLab runner is ignoring the result when the tests are packaged"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1646774607,"post_id":71398278,"comment_id":126206424,"body_markdown":"First because your setup is wrong. By default (convention) a unit test is executed via Maven and can be detected..furthermore without the gitlab ci scripts it&#39;s impossible to even guess something..","body":"First because your setup is wrong. By default (convention) a unit test is executed via Maven and can be detected..furthermore without the gitlab ci scripts it&#39;s impossible to even guess something.."}],"owner":{"account_id":18185893,"reputation":3,"user_id":18292378,"display_name":"Agust&#237;n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646756677,"creation_date":1646756677,"question_id":71398278,"body_markdown":"I&#39;m running several TestNG tests in a project with Maven, but instead of executing mvn install or mvn test, I&#39;m generating a jar file with dependencies. When I run it from GitLab CI/CD pipeline, if I run it with mvn and the test fails, the error is detected and the stage fails, but if I run it from the jar, the stage succeeds. Is there any way to detect the failure with the jar or is it the common behavior for jar executions?","title":"TestNG jar package test errors not detected by CI/CD pipeline","body":"<p>I'm running several TestNG tests in a project with Maven, but instead of executing mvn install or mvn test, I'm generating a jar file with dependencies. When I run it from GitLab CI/CD pipeline, if I run it with mvn and the test fails, the error is detected and the stage fails, but if I run it from the jar, the stage succeeds. Is there any way to detect the failure with the jar or is it the common behavior for jar executions?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"score":0,"creation_date":1646742960,"post_id":71394946,"comment_id":126194646,"body_markdown":"Please add reference code.","body":"Please add reference code."}],"answers":[{"tags":[],"owner":{"account_id":7988880,"reputation":1070,"user_id":9528658,"display_name":"Vladimir.V.Bvn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646756381,"creation_date":1646747695,"answer_id":71396219,"question_id":71394946,"body_markdown":"You can use DBUnit tool. Generally the tool is able to generate &quot;expected&quot; dataset from xml files, connect to database and retrieve &quot;actual&quot; dataset and check assertions.\r\nExamples are here: https://www.baeldung.com/java-dbunit","title":"How to write Junit test for to check data that I selected from DB and the Data that I have inserted in DB","body":"<p>You can use DBUnit tool. Generally the tool is able to generate &quot;expected&quot; dataset from xml files, connect to database and retrieve &quot;actual&quot; dataset and check assertions.\nExamples are here: <a href=\"https://www.baeldung.com/java-dbunit\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-dbunit</a></p>\n"}],"owner":{"account_id":24264361,"reputation":21,"user_id":18213483,"display_name":"Dharun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646756381,"creation_date":1646741934,"question_id":71394946,"body_markdown":"I have Business component, Controller,Service,ServiceImpl. I have selected data from DB using stringBuilder and performed some calculations and inserted data from the variables that I took from DB. How to write Junit test for to check data that I selected from DB and the Data that I have inserted in DB?","title":"How to write Junit test for to check data that I selected from DB and the Data that I have inserted in DB","body":"<p>I have Business component, Controller,Service,ServiceImpl. I have selected data from DB using stringBuilder and performed some calculations and inserted data from the variables that I took from DB. How to write Junit test for to check data that I selected from DB and the Data that I have inserted in DB?</p>\n"},{"tags":["java","xml","serialization","jackson"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1646754953,"post_id":71397874,"comment_id":126199521,"body_markdown":"Not sure if this is possible. `field=&quot;&quot;` is not a valid `Integer`.","body":"Not sure if this is possible. <code>field=&quot;&quot;</code> is not a valid <code>Integer</code>."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646755945,"creation_date":1646755945,"answer_id":71398109,"question_id":71397874,"body_markdown":"As mentioned in the @f1sh comment,\r\nempty string (&quot;&quot;) is not a valid Integer value.\r\n\r\nWith Jackson,\r\nyou can create create a custom serializer\r\n(and will need a custom deserializer).\r\n\r\nThis [Baeldung page][1] may help.\r\n\r\n[1]:https://www.baeldung.com/jackson-custom-serialization\r\n","title":"Java xml serialization with null fields","body":"<p>As mentioned in the @f1sh comment,\nempty string (&quot;&quot;) is not a valid Integer value.</p>\n<p>With Jackson,\nyou can create create a custom serializer\n(and will need a custom deserializer).</p>\n<p>This <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">Baeldung page</a> may help.</p>\n"}],"owner":{"account_id":1590745,"reputation":1436,"user_id":1474111,"accept_rate":27,"display_name":"user1474111"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646755945,"creation_date":1646754844,"question_id":71397874,"body_markdown":"I have a class with an Integer field and I need to serialize to xml. If the element is null I need to see empty string in the xml. Example:\r\n\r\n      &lt;myObj field=&quot;&quot;/&gt;\r\n\r\nWhatever I tried, I could not achieve this. I tried something like this :\r\n\r\n    public class MyObj {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        @JsonInclude(Include.ALWAYS)\r\n        Integer field;\r\n    }\r\n\r\nHow can I achieve that I would be grateful for your help\r\n ","title":"Java xml serialization with null fields","body":"<p>I have a class with an Integer field and I need to serialize to xml. If the element is null I need to see empty string in the xml. Example:</p>\n<pre><code>  &lt;myObj field=&quot;&quot;/&gt;\n</code></pre>\n<p>Whatever I tried, I could not achieve this. I tried something like this :</p>\n<pre><code>public class MyObj {\n    @JacksonXmlProperty(isAttribute = true)\n    @JsonInclude(Include.ALWAYS)\n    Integer field;\n}\n</code></pre>\n<p>How can I achieve that I would be grateful for your help</p>\n"},{"tags":["java","servlets","web-applications","veracode","esapi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646730140,"post_id":71388049,"comment_id":126190125,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646755902,"creation_date":1646755902,"answer_id":71398094,"question_id":71388049,"body_markdown":"This is really only part of the solution. That is, it is a necessary, but not sufficient step. If `Validator.isValidRedirectLocation()` returns `true`, then you will also want to check &#39;**location**&#39; against an allow-list of acceptable redirect locations.\r\n\r\nAlso, depending on your SAST tool, it may not recognize this particular correction automatically as remediating it, so you may have to have an AppSec engineer verify it.","title":"Security scan - open redirect flaw for sendRedirect();","body":"<p>This is really only part of the solution. That is, it is a necessary, but not sufficient step. If <code>Validator.isValidRedirectLocation()</code> returns <code>true</code>, then you will also want to check '<strong>location</strong>' against an allow-list of acceptable redirect locations.</p>\n<p>Also, depending on your SAST tool, it may not recognize this particular correction automatically as remediating it, so you may have to have an AppSec engineer verify it.</p>\n"}],"owner":{"account_id":24483620,"reputation":5,"user_id":18401646,"display_name":"user18401646"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646755902,"creation_date":1646692591,"question_id":71388049,"body_markdown":"I ran my application for static analysis, for below line I am getting flaw\r\n\r\nresponse.sendRedirect(location.toString)\r\n\r\nI tried with ESAPI input validator as below\r\n\r\nif(!ESAPI.validator().isValidRedirectLocation(string, location, true));\r\n\r\nBut still not resolved\r\n\r\n\r\n","title":"Security scan - open redirect flaw for sendRedirect();","body":"<p>I ran my application for static analysis, for below line I am getting flaw</p>\n<p>response.sendRedirect(location.toString)</p>\n<p>I tried with ESAPI input validator as below</p>\n<p>if(!ESAPI.validator().isValidRedirectLocation(string, location, true));</p>\n<p>But still not resolved</p>\n"},{"tags":["java","bytecode",".class-file"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1387396092,"post_id":20667085,"comment_id":30944608,"body_markdown":"[Bytecode instruction listing](http://en.wikipedia.org/wiki/Java_bytecode_instruction_listings)","body":"<a href=\"http://en.wikipedia.org/wiki/Java_bytecode_instruction_listings\" rel=\"nofollow noreferrer\">Bytecode instruction listing</a>"},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1387396146,"post_id":20667085,"comment_id":30944644,"body_markdown":"&quot;I do not understand a single line of the bytecode. I want to understand some part of it if not all. or what some of these lines mean such as iconst_2?&quot; - how is SO appropriate for this sort of question? Read [the JVM specification](http://docs.oracle.com/javase/specs/jvms/se7/html/). It will probably answer your other questions too.","body":"&quot;I do not understand a single line of the bytecode. I want to understand some part of it if not all. or what some of these lines mean such as iconst_2?&quot; - how is SO appropriate for this sort of question? Read <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/\" rel=\"nofollow noreferrer\">the JVM specification</a>. It will probably answer your other questions too."},{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":1,"creation_date":1387396249,"post_id":20667085,"comment_id":30944711,"body_markdown":"@millimoose: I need a start from where I can pick up. like how Sotirios provided a link. everyone is not expert like you and thats why this forum is for..","body":"@millimoose: I need a start from where I can pick up. like how Sotirios provided a link. everyone is not expert like you and thats why this forum is for.."},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1387396257,"post_id":20667085,"comment_id":30944718,"body_markdown":"Another thing you should do is write code, compile it, then decompile it using `javap -c` and see how the instructions correspond to your original code.","body":"Another thing you should do is write code, compile it, then decompile it using <code>javap -c</code> and see how the instructions correspond to your original code."},{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":1,"creation_date":1387396306,"post_id":20667085,"comment_id":30944750,"body_markdown":"@millimoose: This is a good suggestion. I will try it.","body":"@millimoose: This is a good suggestion. I will try it."},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1387396347,"post_id":20667085,"comment_id":30944774,"body_markdown":"@user1988876 The wiki article has a link of references under it, and a bunch of related articles. The instruction listing and the JVM spec are there too. And one on [Java `.class` files](http://en.wikipedia.org/wiki/Java_class_file).","body":"@user1988876 The wiki article has a link of references under it, and a bunch of related articles. The instruction listing and the JVM spec are there too. And one on <a href=\"http://en.wikipedia.org/wiki/Java_class_file\" rel=\"nofollow noreferrer\">Java <code>.class</code> files</a>."},{"owner":{"account_id":1368434,"reputation":255,"user_id":1304325,"display_name":"vangelion"},"score":0,"creation_date":1387396432,"post_id":20667085,"comment_id":30944839,"body_markdown":"If you don&#39;t already know an assembly language, Java bytecode probably isn&#39;t the place to start. Find a book on MIPS Assembly Language and read up. (You could do x86 assembly if you prefer).","body":"If you don&#39;t already know an assembly language, Java bytecode probably isn&#39;t the place to start. Find a book on MIPS Assembly Language and read up. (You could do x86 assembly if you prefer)."},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1387396566,"post_id":20667085,"comment_id":30944921,"body_markdown":"@vangelion - I&#39;d go with MIPS or maybe 8086. x86 and amd64 are pretty much insane. (For good evolutionary reasons, but still too bloated for learning about concepts.)","body":"@vangelion - I&#39;d go with MIPS or maybe 8086. x86 and amd64 are pretty much insane. (For good evolutionary reasons, but still too bloated for learning about concepts.)"}],"answers":[{"tags":[],"owner":{"display_name":"user972946"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387396337,"creation_date":1387396337,"answer_id":20667166,"question_id":20667085,"body_markdown":"I could recommend a book &quot;Principles of Computer Organization and Assembly Language&quot;:\r\n\r\n&gt; Today’s incoming students are more likely to be exposed to Java than\r\n&gt; ever before. Focusing on a modern architecture (the Java Virtual\r\n&gt; Machine, or JVM), this text provides a thorough treatment of the\r\n&gt; principles of computer organization in the context of today’s portable\r\n&gt; computer. Students are given simple but realistic examples to gain a\r\n&gt; complete understanding of how computation works on such a machine.\r\n&gt; Juola makes the material useful and relevant in a course that is often\r\n&gt; difficult for second-year CS students.","title":"how to manually read the java bytecode for understanding purposes only?","body":"<p>I could recommend a book \"Principles of Computer Organization and Assembly Language\":</p>\n\n<blockquote>\n  <p>Today’s incoming students are more likely to be exposed to Java than\n  ever before. Focusing on a modern architecture (the Java Virtual\n  Machine, or JVM), this text provides a thorough treatment of the\n  principles of computer organization in the context of today’s portable\n  computer. Students are given simple but realistic examples to gain a\n  complete understanding of how computation works on such a machine.\n  Juola makes the material useful and relevant in a course that is often\n  difficult for second-year CS students.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646755862,"creation_date":1387396941,"answer_id":20667351,"question_id":20667085,"body_markdown":"Sometimes I find there is an assumption it has to be terribly complication when it is not.  It is actually very simple.\r\n\r\n&gt; I do not understand a single line of the bytecode. I want to understand some part of it if not all. or what some of these lines mean such as iconst_2?\r\n\r\n`iconst_2` stands for the integer constant 2\r\n\r\n&gt; is bytecode and .class file same or .class files contains bytecode?. \r\n\r\nThe .class contains more than byte code.  It also contains some constants e.g. String literals and large primitives.  However, you can treat them as one and the same.\r\n\r\n&gt; The picture below shows both .class and bytecode are same\r\n\r\nThe diagram is a simplified view.  In simple terms they are the same thing.\r\n\r\n&gt; If they are different, how is bytecode extracted from .class files by the JVM?\r\n\r\nA .class has a [specific format][1] which if you follow that format you will find the byte code.  As you can see there is more than just byte code in the file, but the byte code is the only bit you should care about.  (Actually you shouldn&#39;t really care about the byte code in 99% of cases)\r\n\r\nFrom the Class file format linked above.\r\n\r\n&gt; A class file consists of a single ClassFile structure:\r\n\r\n    ClassFile {\r\n    \tu4 magic;\r\n    \tu2 minor_version;\r\n    \tu2 major_version;\r\n    \tu2 constant_pool_count;\r\n    \tcp_info constant_pool[constant_pool_count-1];\r\n    \tu2 access_flags;\r\n    \tu2 this_class;\r\n    \tu2 super_class;\r\n    \tu2 interfaces_count;\r\n    \tu2 interfaces[interfaces_count];\r\n    \tu2 fields_count;\r\n    \tfield_info fields[fields_count];\r\n    \tu2 methods_count;\r\n    \tmethod_info methods[methods_count];\r\n    \tu2 attributes_count;\r\n    \tattribute_info attributes[attributes_count];\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se6/html/ClassFile.doc.html","title":"how to manually read the java bytecode for understanding purposes only?","body":"<p>Sometimes I find there is an assumption it has to be terribly complication when it is not.  It is actually very simple.</p>\n<blockquote>\n<p>I do not understand a single line of the bytecode. I want to understand some part of it if not all. or what some of these lines mean such as iconst_2?</p>\n</blockquote>\n<p><code>iconst_2</code> stands for the integer constant 2</p>\n<blockquote>\n<p>is bytecode and .class file same or .class files contains bytecode?.</p>\n</blockquote>\n<p>The .class contains more than byte code.  It also contains some constants e.g. String literals and large primitives.  However, you can treat them as one and the same.</p>\n<blockquote>\n<p>The picture below shows both .class and bytecode are same</p>\n</blockquote>\n<p>The diagram is a simplified view.  In simple terms they are the same thing.</p>\n<blockquote>\n<p>If they are different, how is bytecode extracted from .class files by the JVM?</p>\n</blockquote>\n<p>A .class has a <a href=\"https://docs.oracle.com/javase/specs/jvms/se6/html/ClassFile.doc.html\" rel=\"nofollow noreferrer\">specific format</a> which if you follow that format you will find the byte code.  As you can see there is more than just byte code in the file, but the byte code is the only bit you should care about.  (Actually you shouldn't really care about the byte code in 99% of cases)</p>\n<p>From the Class file format linked above.</p>\n<blockquote>\n<p>A class file consists of a single ClassFile structure:</p>\n</blockquote>\n<pre><code>ClassFile {\n    u4 magic;\n    u2 minor_version;\n    u2 major_version;\n    u2 constant_pool_count;\n    cp_info constant_pool[constant_pool_count-1];\n    u2 access_flags;\n    u2 this_class;\n    u2 super_class;\n    u2 interfaces_count;\n    u2 interfaces[interfaces_count];\n    u2 fields_count;\n    field_info fields[fields_count];\n    u2 methods_count;\n    method_info methods[methods_count];\n    u2 attributes_count;\n    attribute_info attributes[attributes_count];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387399465,"creation_date":1387399465,"answer_id":20668004,"question_id":20667085,"body_markdown":"The best way to learn about bytecode and the classfile format is to just read the JVM specification. It&#39;s freely available online and not that hard to understand (you can skip all the Prolog junk).  That&#39;s how I got started. After that, it&#39;s just a matter of practice and poking around. You can see how it&#39;s used in practice by compiling and disassembling various classes. \r\n\r\nTechnically, bytecode only refers to the actual instructions in the Code attributes, but it&#39;s pretty much meaningless without the rest of the classfile, so usually when I say bytecode, I&#39;m referring to the entire classfile format. \r\n\r\nI also wrote a bytecode tutorial from the perspective of writing bytecode in Krakatau assembler. Unfortunately, it doesn&#39;t go very far because I stopped writing it due to lack of interest, but it may still help. You can find it [here][1]\r\n\r\n\r\n  [1]: https://greyhat.gatech.edu/wiki/index.php?title=Java_Bytecode_Tutorial","title":"how to manually read the java bytecode for understanding purposes only?","body":"<p>The best way to learn about bytecode and the classfile format is to just read the JVM specification. It's freely available online and not that hard to understand (you can skip all the Prolog junk).  That's how I got started. After that, it's just a matter of practice and poking around. You can see how it's used in practice by compiling and disassembling various classes. </p>\n\n<p>Technically, bytecode only refers to the actual instructions in the Code attributes, but it's pretty much meaningless without the rest of the classfile, so usually when I say bytecode, I'm referring to the entire classfile format. </p>\n\n<p>I also wrote a bytecode tutorial from the perspective of writing bytecode in Krakatau assembler. Unfortunately, it doesn't go very far because I stopped writing it due to lack of interest, but it may still help. You can find it <a href=\"https://greyhat.gatech.edu/wiki/index.php?title=Java_Bytecode_Tutorial\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2726,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"closed_date":1393963271,"accepted_answer_id":20667351,"answer_count":3,"score":1,"last_activity_date":1646755862,"creation_date":1387396053,"question_id":20667085,"body_markdown":"I was reading this [wiki article][1] on how some code is translated to `Java bytecode`.\r\nI came across this example:\r\n\r\n    Consider the following Java code:\r\n    \r\n      outer:\r\n      for (int i = 2; i &lt; 1000; i++) {\r\n          for (int j = 2; j &lt; i; j++) {\r\n              if (i % j == 0)\r\n                  continue outer;\r\n          }\r\n          System.out.println (i);\r\n      }\r\n    \r\n    A Java compiler might translate the Java code above into byte code as follows, \r\n    assuming the above was put in a method:\r\n    \r\n      0:   iconst_2\r\n      1:   istore_1\r\n      2:   iload_1\r\n      3:   sipush  1000\r\n      6:   if_icmpge       44\r\n      9:   iconst_2\r\n      10:  istore_2\r\n      11:  iload_2\r\n      12:  iload_1\r\n      13:  if_icmpge       31\r\n      16:  iload_1\r\n      17:  iload_2\r\n      18:  irem\r\n      19:  ifne    25\r\n      22:  goto    38\r\n      25:  iinc    2, 1\r\n      28:  goto    11\r\n      31:  getstatic       #84; //Field java/lang/System.out:Ljava/io/PrintStream;\r\n      34:  iload_1\r\n      35:  invokevirtual   #85; //Method java/io/PrintStream.println:(I)V\r\n      38:  iinc    1, 1\r\n      41:  goto    2\r\n      44:  return\r\n\r\n1. I do not understand a single line of the `bytecode.` I want to understand some part of it if not all. or what some of these lines mean such as `iconst_2`?\r\n2. is `bytecode` and `.class` file same or `.class` files contains `bytecode?`. The picture below shows both `.class` and `bytecode` are same\r\n3. If they are different, how is `bytecode` extracted from `.class` files by the `JVM`? \r\n\r\nsome of the posts in SO talk about `bytecode` in general, but I do not see any post that explains the relationship between `class`and `bytecode` if any and how to read `bytecode` contents  as a user (not as a JVM).![enter image description here][2]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_bytecode\r\n  [2]: http://i.stack.imgur.com/M4Ngr.gif","title":"how to manually read the java bytecode for understanding purposes only?","body":"<p>I was reading this <a href=\"http://en.wikipedia.org/wiki/Java_bytecode\" rel=\"nofollow noreferrer\">wiki article</a> on how some code is translated to <code>Java bytecode</code>.\nI came across this example:</p>\n\n<pre><code>Consider the following Java code:\n\n  outer:\n  for (int i = 2; i &lt; 1000; i++) {\n      for (int j = 2; j &lt; i; j++) {\n          if (i % j == 0)\n              continue outer;\n      }\n      System.out.println (i);\n  }\n\nA Java compiler might translate the Java code above into byte code as follows, \nassuming the above was put in a method:\n\n  0:   iconst_2\n  1:   istore_1\n  2:   iload_1\n  3:   sipush  1000\n  6:   if_icmpge       44\n  9:   iconst_2\n  10:  istore_2\n  11:  iload_2\n  12:  iload_1\n  13:  if_icmpge       31\n  16:  iload_1\n  17:  iload_2\n  18:  irem\n  19:  ifne    25\n  22:  goto    38\n  25:  iinc    2, 1\n  28:  goto    11\n  31:  getstatic       #84; //Field java/lang/System.out:Ljava/io/PrintStream;\n  34:  iload_1\n  35:  invokevirtual   #85; //Method java/io/PrintStream.println:(I)V\n  38:  iinc    1, 1\n  41:  goto    2\n  44:  return\n</code></pre>\n\n<ol>\n<li>I do not understand a single line of the <code>bytecode.</code> I want to understand some part of it if not all. or what some of these lines mean such as <code>iconst_2</code>?</li>\n<li>is <code>bytecode</code> and <code>.class</code> file same or <code>.class</code> files contains <code>bytecode?</code>. The picture below shows both <code>.class</code> and <code>bytecode</code> are same</li>\n<li>If they are different, how is <code>bytecode</code> extracted from <code>.class</code> files by the <code>JVM</code>? </li>\n</ol>\n\n<p>some of the posts in SO talk about <code>bytecode</code> in general, but I do not see any post that explains the relationship between <code>class</code>and <code>bytecode</code> if any and how to read <code>bytecode</code> contents  as a user (not as a JVM).<img src=\"https://i.stack.imgur.com/M4Ngr.gif\" alt=\"enter image description here\"></p>\n"},{"tags":["java","maven","checkstyle"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1646755715,"post_id":71397948,"comment_id":126199867,"body_markdown":"spotless has a maven plugin.  groupId: com.diffplug.spotless, spotless-maven-plugin","body":"spotless has a maven plugin.  groupId: com.diffplug.spotless, spotless-maven-plugin"},{"owner":{"account_id":15508322,"reputation":473,"user_id":11187813,"display_name":"nathaner"},"score":1,"creation_date":1646818370,"post_id":71397948,"comment_id":126215811,"body_markdown":"Thanks for your comment but I&#39;m asking for Checkstyle not Spotless","body":"Thanks for your comment but I&#39;m asking for Checkstyle not Spotless"},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1650475940,"post_id":71397948,"comment_id":127127897,"body_markdown":"If you are asking for auto fix capabilities, there is no such plugin, there is maven checkstyle plugin https://maven.apache.org/plugins/maven-checkstyle-plugin/","body":"If you are asking for auto fix capabilities, there is no such plugin, there is maven checkstyle plugin <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-checkstyle-plugin</a>"}],"owner":{"account_id":15508322,"reputation":473,"user_id":11187813,"display_name":"nathaner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646755753,"creation_date":1646755243,"question_id":71397948,"body_markdown":"Is there a Maven plugin to format source code according to a custom Checkstyle configuration?\r\n\r\nI would like to know if there is something similar to Spotless `mvn spotless:apply` command but for Checkstyle (without relying on an IDE plugin).","title":"Is there a Checkstyle Formatter Maven plugin to format according to custom Checkstyle rules?","body":"<p>Is there a Maven plugin to format source code according to a custom Checkstyle configuration?</p>\n<p>I would like to know if there is something similar to Spotless <code>mvn spotless:apply</code> command but for Checkstyle (without relying on an IDE plugin).</p>\n"},{"tags":["java","slf4j","esapi","slf4j-api"],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646755554,"creation_date":1646755554,"answer_id":71398020,"question_id":71395236,"body_markdown":"In the esapi4java-core-2.2.3.1-release-notes.txt file, there is a section called &quot;Changes Requiring Special Attention&quot;, that refers to the previous release notes, where it describes what you have to do to change your logging configuration. In the previous (2.2.3.0 and many other earlier versions), there was this under that section. Read this. It should answer your question:\r\n```\r\nSince ESAPI 2.2.1.0, the new default ESAPI logger is JUL (java.util.logging packages) and we have deprecated the use of Log4J 1.x because we now support SLF4J and Log4J 1.x is way past its end-of-life. We did not want to make SLF4J the default logger (at least not yet) as we did not want to have the default ESAPI use require additional dependencies. However, SLF4J is likely to be the future choice, at least once we start on ESAPI 3.0. A special shout-out to Jeremiah Stacey for making this possible by re-factoring much of the ESAPI logger code. Note, the straw that broke the proverbial camel&#39;s back was the announcement of CVE-2019-17571 (rated Critical), for which there is no fix available and likely will never be.\r\n\r\nHowever, if you try to juse the new ESAPI 2.2.1.0 or later logging you will notice that you need to change ESAPI.Logger and also possibly provide some other properties as well to get the logging behavior that you desire.\r\n\r\nTo use ESAPI logging in ESAPI 2.2.1.0 (and later), you will need to set the ESAPI.Logger property to\r\n\r\n    org.owasp.esapi.logging.java.JavaLogFactory     - To use the new default, java.util.logging (JUL)\r\n    org.owasp.esapi.logging.log4j.Log4JLogFactory   - To use the end-of-life Log4J 1.x logger\r\n    org.owasp.esapi.logging.slf4j.Slf4JLogFactory   - To use the new (to release 2.2.0.0) SLF4J logger\r\n\r\nIn addition, if you wish to use JUL for logging, you *MUST* supply an &quot;esapi-java-logging.properties&quot; file in your classpath. This file is included in the &#39;esapi-2.2.2.0-configuration.jar&#39; file provided under the &#39;Assets&#39; section of the GitHub Release at\r\n    https://github.com/ESAPI/esapi-java-legacy/releases/esapi-2.2.2.0\r\n\r\nUnfortunately, there was a logic error in the static initializer of JavaLogFactory (now fixed in this release) that caused a NullPointerException to be thrown so that the message about the missing &quot;esapi-java-logging.properties&quot; file was never seen.\r\n\r\nIf you are using JavaLogFactory, you will also want to ensure that you have the following ESAPI logging properties set:\r\n    # Set the application name if these logs are combined with other applications\r\n    Logger.ApplicationName=ExampleApplication\r\n    # If you use an HTML log viewer that does not properly HTML escape log data, you can set LogEncodingRequired to true\r\n    Logger.LogEncodingRequired=false\r\n    # Determines whether ESAPI should log the application name. This might be clutter in some single-server/single-app environments.\r\n    Logger.LogApplicationName=true\r\n    # Determines whether ESAPI should log the server IP and port. This might be clutter in some single-server environments.\r\n    Logger.LogServerIP=true\r\n    # LogFileName, the name of the logging file. Provide a full directory path (e.g., C:\\ESAPI\\ESAPI_logging_file) if you\r\n    # want to place it in a specific directory.\r\n    Logger.LogFileName=ESAPI_logging_file\r\n    # MaxLogFileSize, the max size (in bytes) of a single log file before it cuts over to a new one (default is 10,000,000)\r\n    Logger.MaxLogFileSize=10000000\r\n    # Determines whether ESAPI should log the user info.\r\n    Logger.UserInfo=true\r\n    # Determines whether ESAPI should log the session id and client IP.\r\n    Logger.ClientInfo=true\r\n\r\nSee GitHub issue #560 for additional details.\r\n```","title":"ESAPI upgraded to 2.2.3.1- getting ClassNotFoundException and how to use slf4j instead of log4j1.x","body":"<p>In the esapi4java-core-2.2.3.1-release-notes.txt file, there is a section called &quot;Changes Requiring Special Attention&quot;, that refers to the previous release notes, where it describes what you have to do to change your logging configuration. In the previous (2.2.3.0 and many other earlier versions), there was this under that section. Read this. It should answer your question:</p>\n<pre><code>Since ESAPI 2.2.1.0, the new default ESAPI logger is JUL (java.util.logging packages) and we have deprecated the use of Log4J 1.x because we now support SLF4J and Log4J 1.x is way past its end-of-life. We did not want to make SLF4J the default logger (at least not yet) as we did not want to have the default ESAPI use require additional dependencies. However, SLF4J is likely to be the future choice, at least once we start on ESAPI 3.0. A special shout-out to Jeremiah Stacey for making this possible by re-factoring much of the ESAPI logger code. Note, the straw that broke the proverbial camel's back was the announcement of CVE-2019-17571 (rated Critical), for which there is no fix available and likely will never be.\n\nHowever, if you try to juse the new ESAPI 2.2.1.0 or later logging you will notice that you need to change ESAPI.Logger and also possibly provide some other properties as well to get the logging behavior that you desire.\n\nTo use ESAPI logging in ESAPI 2.2.1.0 (and later), you will need to set the ESAPI.Logger property to\n\n    org.owasp.esapi.logging.java.JavaLogFactory     - To use the new default, java.util.logging (JUL)\n    org.owasp.esapi.logging.log4j.Log4JLogFactory   - To use the end-of-life Log4J 1.x logger\n    org.owasp.esapi.logging.slf4j.Slf4JLogFactory   - To use the new (to release 2.2.0.0) SLF4J logger\n\nIn addition, if you wish to use JUL for logging, you *MUST* supply an &quot;esapi-java-logging.properties&quot; file in your classpath. This file is included in the 'esapi-2.2.2.0-configuration.jar' file provided under the 'Assets' section of the GitHub Release at\n    https://github.com/ESAPI/esapi-java-legacy/releases/esapi-2.2.2.0\n\nUnfortunately, there was a logic error in the static initializer of JavaLogFactory (now fixed in this release) that caused a NullPointerException to be thrown so that the message about the missing &quot;esapi-java-logging.properties&quot; file was never seen.\n\nIf you are using JavaLogFactory, you will also want to ensure that you have the following ESAPI logging properties set:\n    # Set the application name if these logs are combined with other applications\n    Logger.ApplicationName=ExampleApplication\n    # If you use an HTML log viewer that does not properly HTML escape log data, you can set LogEncodingRequired to true\n    Logger.LogEncodingRequired=false\n    # Determines whether ESAPI should log the application name. This might be clutter in some single-server/single-app environments.\n    Logger.LogApplicationName=true\n    # Determines whether ESAPI should log the server IP and port. This might be clutter in some single-server environments.\n    Logger.LogServerIP=true\n    # LogFileName, the name of the logging file. Provide a full directory path (e.g., C:\\ESAPI\\ESAPI_logging_file) if you\n    # want to place it in a specific directory.\n    Logger.LogFileName=ESAPI_logging_file\n    # MaxLogFileSize, the max size (in bytes) of a single log file before it cuts over to a new one (default is 10,000,000)\n    Logger.MaxLogFileSize=10000000\n    # Determines whether ESAPI should log the user info.\n    Logger.UserInfo=true\n    # Determines whether ESAPI should log the session id and client IP.\n    Logger.ClientInfo=true\n\nSee GitHub issue #560 for additional details.\n</code></pre>\n"}],"owner":{"account_id":19247028,"reputation":3,"user_id":16657930,"display_name":"Johny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646755554,"creation_date":1646743284,"question_id":71395236,"body_markdown":"HiAll,\r\n\r\nI upgraded ESAPI library to 2.2.3.1 version. And our application was using log4j 1.2.17 for logger. Since log4j.1X is depreciated in the latest versions, we\r\nNeeded to use slf4j loggerfactory.So below are the changes\r\n\r\n\r\ngradle file - updated  the version of esapi\r\n\r\n      implementation (&#39;org.owasp.esapi:esapi:2.2.3.1&#39;) {\r\n                exclude group: &#39;xerces&#39;, module: &#39;xercesImpl&#39;\r\n            }\r\n\r\nESAPI.properties\r\n\r\n    ESAPI.printProperties=true\r\n    \r\n    ESAPI.AccessControl=org.owasp.esapi.reference.DefaultAccessController\r\n    ESAPI.Authenticator=org.owasp.esapi.reference.FileBasedAuthenticator\r\n    ESAPI.Encoder=org.owasp.esapi.reference.DefaultEncoder\r\n    ESAPI.Encryptor=org.owasp.esapi.reference.crypto.JavaEncryptor\r\n    \r\n    ESAPI.Executor=org.owasp.esapi.reference.DefaultExecutor\r\n    ESAPI.HTTPUtilities=org.owasp.esapi.reference.DefaultHTTPUtilities\r\n    ESAPI.IntrusionDetector=org.owasp.esapi.reference.DefaultIntrusionDetector\r\n    ESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory;\r\n    ESAPI.Randomizer=org.owasp.esapi.reference.DefaultRandomizer\r\n    ESAPI.Validator=org.owasp.esapi.reference.DefaultValidator\r\n    \r\n    \r\n    \r\n    Authenticator.AllowedLoginAttempts=3\r\n    Authenticator.MaxOldPasswordHashes=13\r\n    Authenticator.UsernameParameterName=username\r\n    Authenticator.PasswordParameterName=password\r\n    Authenticator.RememberTokenDuration=14\r\n    Authenticator.IdleTimeoutDuration=20\r\n    Authenticator.AbsoluteTimeoutDuration=120\r\n    \r\n    \r\n    Encoder.AllowMultipleEncoding=false\r\n    \r\n    Encoder.AllowMixedEncoding=false\r\n    \r\n    Encoder.DefaultCodecList=HTMLEntityCodec,PercentCodec,JavaScriptCodec\r\n    \r\n    \r\n    Encryptor.PreferredJCEProvider=\r\n    \r\n    \r\n    Encryptor.EncryptionAlgorithm=AES\r\n    Encryptor.CipherTransformation=AES/CBC/PKCS5Padding\r\n    \r\n    Encryptor.cipher_modes.combined_modes=GCM,CCM,IAPM,EAX,OCB,CWC\r\n    \r\n    Encryptor.cipher_modes.additional_allowed=CBC\r\n    \r\n    Encryptor.EncryptionKeyLength=128\r\n    \r\n    Encryptor.ChooseIVMethod=random\r\n    Encryptor.fixedIV=0x000102030405060708090a0b0c0d0e0f\r\n    \r\n    Encryptor.CipherText.useMAC=true\r\n    \r\n    Encryptor.PlainText.overwrite=true\r\n    \r\n    Encryptor.HashAlgorithm=SHA-512\r\n    Encryptor.HashIterations=1024\r\n    Encryptor.DigitalSignatureAlgorithm=SHA1withDSA\r\n    Encryptor.DigitalSignatureKeyLength=1024\r\n    Encryptor.RandomAlgorithm=SHA1PRNG\r\n    Encryptor.CharacterEncoding=UTF-8\r\n    \r\n    \r\n    Encryptor.KDF.PRF=HmacSHA256\r\n    HttpUtilities.UploadDir=C:\\\\ESAPI\\\\testUpload\r\n    HttpUtilities.UploadTempDir=C:\\\\temp\r\n    HttpUtilities.ForceHttpOnlySession=false\r\n    HttpUtilities.ForceSecureSession=false\r\n    HttpUtilities.ForceHttpOnlyCookies=true\r\n    HttpUtilities.ForceSecureCookies=true\r\n    HttpUtilities.MaxHeaderSize=4096\r\n    HttpUtilities.ApprovedUploadExtensions=.zip,.pdf,.doc,.docx,.ppt,.pptx,.tar,.gz,.tgz,.rar,.war,.jar,.ear,.xls,.rtf,.properties,.java,.class,.txt,.xml,.jsp,.jsf,.exe,.dll,.xlsx,.png,.jpg,.jpeg,.gif,.css\r\n    HttpUtilities.MaxUploadFileBytes=500000000\r\n    HttpUtilities.ResponseContentType=text/html; charset=UTF-8\r\n    HttpUtilities.HttpSessionIdName=JSESSIONID\r\n    \r\n    Executor.WorkingDirectory=\r\n    Executor.ApprovedExecutables=\r\n    \r\n    \r\n    Logger.ApplicationName=ApplicationName\r\n    Logger.LogEncodingRequired=false\r\n    Logger.LogApplicationName=true\r\n    Logger.LogServerIP=true\r\n    Logger.LogFileName=\r\n    Logger.MaxLogFileSize=10000000\r\n    Logger.UserInfo=true\r\n    Logger.ClientInfo=true\r\n    \r\n    \r\n    IntrusionDetector.Disable=false\r\n    \r\n    IntrusionDetector.event.test.count=2\r\n    IntrusionDetector.event.test.interval=10\r\n    IntrusionDetector.event.test.actions=disable,log\r\n    \r\n    IntrusionDetector.org.owasp.esapi.errors.IntrusionException.count=1\r\n    IntrusionDetector.org.owasp.esapi.errors.IntrusionException.interval=1\r\n    IntrusionDetector.org.owasp.esapi.errors.IntrusionException.actions=log,disable,logout\r\n    \r\n    IntrusionDetector.org.owasp.esapi.errors.IntegrityException.count=10\r\n    IntrusionDetector.org.owasp.esapi.errors.IntegrityException.interval=5\r\n    IntrusionDetector.org.owasp.esapi.errors.IntegrityException.actions=log,disable,logout\r\n    \r\n    IntrusionDetector.org.owasp.esapi.errors.AuthenticationHostException.count=2\r\n    IntrusionDetector.org.owasp.esapi.errors.AuthenticationHostException.interval=10\r\n    IntrusionDetector.org.owasp.esapi.errors.AuthenticationHostException.actions=log,logout\r\n    \r\n    \r\n    \r\n    Validator.ConfigurationFile=validation.properties\r\n    \r\n    \r\n    Validator.AccountName=^[a-zA-Z0-9]{3,20}$\r\n    Validator.SystemCommand=^[a-zA-Z\\\\-\\\\/]{1,64}$\r\n    Validator.RoleName=^[a-z]{1,20}$\r\n    \r\n    Validator.Redirect=^http:\\/\\/localhost\\/converis.*$\r\n    \r\n     Values with Base64 encoded data (e.g. encrypted state) will need at least [a-zA-Z0-9\\/+=]\r\n    Validator.HTTPScheme=^(http|https)$\r\n    Validator.HTTPServerName=^[a-zA-Z0-9_.\\\\-]*$\r\n    Validator.HTTPParameterName=^[a-zA-Z0-9_]{1,32}$\r\n    Validator.HTTPParameterValue=^[a-zA-Z0-9.\\\\-\\\\/+=@_ ]*$\r\n    Validator.HTTPCookieName=^[a-zA-Z0-9\\\\-_]{1,32}$\r\n    Validator.HTTPCookieValue=^[a-zA-Z0-9\\\\-\\\\/+=_ ]*$\r\n    Validator.HTTPHeaderName=^[a-zA-Z0-9\\\\-_]{1,32}$\r\n    Validator.HTTPHeaderValue=^[a-zA-Z0-9()\\\\-=\\\\*\\\\.\\\\?;,+\\\\/:&amp;_ ]*$\r\n    Validator.HTTPContextPath=^\\\\/?[a-zA-Z0-9.\\\\-\\\\/_]*$\r\n    Validator.HTTPServletPath=^[a-zA-Z0-9.\\\\-\\\\/_]*$\r\n    Validator.HTTPPath=^[a-zA-Z0-9.\\\\-_]*$\r\n    Validator.HTTPQueryString=^[a-zA-Z0-9()\\\\-=\\\\*\\\\.\\\\?;,+\\\\/:&amp;_ %]*$\r\n    Validator.HTTPURI=^[a-zA-Z0-9()\\\\-=\\\\*\\\\.\\\\?;,+\\\\/:&amp;_ ]*$\r\n    Validator.HTTPURL=^.*$\r\n    Validator.HTTPJSESSIONID=^[A-Z0-9]{10,30}$\r\n    \r\n    Validator.FileName=^[\\\\p{L}0-9!@#$%^&amp;{}\\\\()_+\\\\-=,.~&#39;` ]{1,255}$\r\n    Validator.DirectoryName=^[a-zA-Z0-9:/\\\\\\\\!@#$%^&amp;{}\\\\[\\\\]()_+\\\\-=,.~&#39;` ]{1,255}$\r\n    \r\n    Validator.AcceptLenientDates=false\r\n\r\n\r\nAdded logback.xml file as well\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!-- For assistance related to logback-translator or configuration  --&gt;\r\n    &lt;!-- files in general, please contact the logback user mailing list --&gt;\r\n    &lt;!-- at http://www.qos.ch/mailman/listinfo/logback-user             --&gt;\r\n    &lt;!--                                                                --&gt;\r\n    &lt;!-- For professional support please see                            --&gt;\r\n    &lt;!--    http://www.qos.ch/shop/products/professionalSupport         --&gt;\r\n    &lt;!--                                                                --&gt;\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n                &lt;!-- Daily rollover --&gt;\r\n                &lt;fileNamePattern&gt;log/MyExample.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;\r\n    \r\n                &lt;!-- Keep 7 days&#39; worth of history --&gt;\r\n                &lt;maxHistory&gt;7&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n    \r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;!-- Configure so that it outputs to both console and log file --&gt;\r\n        &lt;root level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\nBut I am getting below error while building the app\r\n\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:29)\r\n    \tat org.testng.internal.ClassHelper.createInstance1(ClassHelper.java:377)\r\n    \t... 43 more\r\n    Caused by: org.owasp.esapi.errors.ConfigurationException: java.lang.ClassNotFoundException: org/owasp/esapi/logging/slf4j/Slf4JLogFactory; LogFactory class (org.owasp.esapi.logging.slf4j.Slf4JLogFactory;) must be in class path.\r\n    \tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:108)\r\n    \tat org.owasp.esapi.ESAPI.logFactory(ESAPI.java:139)\r\n    \tat org.owasp.esapi.ESAPI.getLogger(ESAPI.java:155)\r\n    \tat com.converis.commons.utils.file.TempFileUtilities.&lt;clinit&gt;(TempFileUtilities.java:26)\r\n    \t... 49 more\r\n    Caused by: java.lang.ClassNotFoundException: org/owasp/esapi/logging/slf4j/Slf4JLogFactory;\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat org.owasp.esapi.util.ObjFactory.loadClassByStringName(ObjFactory.java:158)\r\n    \tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:81)\r\n    \t... 52 more\r\n\r\n\r\nCan anyone help me to solve this? what I missed to update in those files?\r\nThanks in advance\r\n\r\n\r\n\r\n","title":"ESAPI upgraded to 2.2.3.1- getting ClassNotFoundException and how to use slf4j instead of log4j1.x","body":"<p>HiAll,</p>\n<p>I upgraded ESAPI library to 2.2.3.1 version. And our application was using log4j 1.2.17 for logger. Since log4j.1X is depreciated in the latest versions, we\nNeeded to use slf4j loggerfactory.So below are the changes</p>\n<p>gradle file - updated  the version of esapi</p>\n<pre><code>  implementation ('org.owasp.esapi:esapi:2.2.3.1') {\n            exclude group: 'xerces', module: 'xercesImpl'\n        }\n</code></pre>\n<p>ESAPI.properties</p>\n<pre><code>ESAPI.printProperties=true\n\nESAPI.AccessControl=org.owasp.esapi.reference.DefaultAccessController\nESAPI.Authenticator=org.owasp.esapi.reference.FileBasedAuthenticator\nESAPI.Encoder=org.owasp.esapi.reference.DefaultEncoder\nESAPI.Encryptor=org.owasp.esapi.reference.crypto.JavaEncryptor\n\nESAPI.Executor=org.owasp.esapi.reference.DefaultExecutor\nESAPI.HTTPUtilities=org.owasp.esapi.reference.DefaultHTTPUtilities\nESAPI.IntrusionDetector=org.owasp.esapi.reference.DefaultIntrusionDetector\nESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory;\nESAPI.Randomizer=org.owasp.esapi.reference.DefaultRandomizer\nESAPI.Validator=org.owasp.esapi.reference.DefaultValidator\n\n\n\nAuthenticator.AllowedLoginAttempts=3\nAuthenticator.MaxOldPasswordHashes=13\nAuthenticator.UsernameParameterName=username\nAuthenticator.PasswordParameterName=password\nAuthenticator.RememberTokenDuration=14\nAuthenticator.IdleTimeoutDuration=20\nAuthenticator.AbsoluteTimeoutDuration=120\n\n\nEncoder.AllowMultipleEncoding=false\n\nEncoder.AllowMixedEncoding=false\n\nEncoder.DefaultCodecList=HTMLEntityCodec,PercentCodec,JavaScriptCodec\n\n\nEncryptor.PreferredJCEProvider=\n\n\nEncryptor.EncryptionAlgorithm=AES\nEncryptor.CipherTransformation=AES/CBC/PKCS5Padding\n\nEncryptor.cipher_modes.combined_modes=GCM,CCM,IAPM,EAX,OCB,CWC\n\nEncryptor.cipher_modes.additional_allowed=CBC\n\nEncryptor.EncryptionKeyLength=128\n\nEncryptor.ChooseIVMethod=random\nEncryptor.fixedIV=0x000102030405060708090a0b0c0d0e0f\n\nEncryptor.CipherText.useMAC=true\n\nEncryptor.PlainText.overwrite=true\n\nEncryptor.HashAlgorithm=SHA-512\nEncryptor.HashIterations=1024\nEncryptor.DigitalSignatureAlgorithm=SHA1withDSA\nEncryptor.DigitalSignatureKeyLength=1024\nEncryptor.RandomAlgorithm=SHA1PRNG\nEncryptor.CharacterEncoding=UTF-8\n\n\nEncryptor.KDF.PRF=HmacSHA256\nHttpUtilities.UploadDir=C:\\\\ESAPI\\\\testUpload\nHttpUtilities.UploadTempDir=C:\\\\temp\nHttpUtilities.ForceHttpOnlySession=false\nHttpUtilities.ForceSecureSession=false\nHttpUtilities.ForceHttpOnlyCookies=true\nHttpUtilities.ForceSecureCookies=true\nHttpUtilities.MaxHeaderSize=4096\nHttpUtilities.ApprovedUploadExtensions=.zip,.pdf,.doc,.docx,.ppt,.pptx,.tar,.gz,.tgz,.rar,.war,.jar,.ear,.xls,.rtf,.properties,.java,.class,.txt,.xml,.jsp,.jsf,.exe,.dll,.xlsx,.png,.jpg,.jpeg,.gif,.css\nHttpUtilities.MaxUploadFileBytes=500000000\nHttpUtilities.ResponseContentType=text/html; charset=UTF-8\nHttpUtilities.HttpSessionIdName=JSESSIONID\n\nExecutor.WorkingDirectory=\nExecutor.ApprovedExecutables=\n\n\nLogger.ApplicationName=ApplicationName\nLogger.LogEncodingRequired=false\nLogger.LogApplicationName=true\nLogger.LogServerIP=true\nLogger.LogFileName=\nLogger.MaxLogFileSize=10000000\nLogger.UserInfo=true\nLogger.ClientInfo=true\n\n\nIntrusionDetector.Disable=false\n\nIntrusionDetector.event.test.count=2\nIntrusionDetector.event.test.interval=10\nIntrusionDetector.event.test.actions=disable,log\n\nIntrusionDetector.org.owasp.esapi.errors.IntrusionException.count=1\nIntrusionDetector.org.owasp.esapi.errors.IntrusionException.interval=1\nIntrusionDetector.org.owasp.esapi.errors.IntrusionException.actions=log,disable,logout\n\nIntrusionDetector.org.owasp.esapi.errors.IntegrityException.count=10\nIntrusionDetector.org.owasp.esapi.errors.IntegrityException.interval=5\nIntrusionDetector.org.owasp.esapi.errors.IntegrityException.actions=log,disable,logout\n\nIntrusionDetector.org.owasp.esapi.errors.AuthenticationHostException.count=2\nIntrusionDetector.org.owasp.esapi.errors.AuthenticationHostException.interval=10\nIntrusionDetector.org.owasp.esapi.errors.AuthenticationHostException.actions=log,logout\n\n\n\nValidator.ConfigurationFile=validation.properties\n\n\nValidator.AccountName=^[a-zA-Z0-9]{3,20}$\nValidator.SystemCommand=^[a-zA-Z\\\\-\\\\/]{1,64}$\nValidator.RoleName=^[a-z]{1,20}$\n\nValidator.Redirect=^http:\\/\\/localhost\\/converis.*$\n\n Values with Base64 encoded data (e.g. encrypted state) will need at least [a-zA-Z0-9\\/+=]\nValidator.HTTPScheme=^(http|https)$\nValidator.HTTPServerName=^[a-zA-Z0-9_.\\\\-]*$\nValidator.HTTPParameterName=^[a-zA-Z0-9_]{1,32}$\nValidator.HTTPParameterValue=^[a-zA-Z0-9.\\\\-\\\\/+=@_ ]*$\nValidator.HTTPCookieName=^[a-zA-Z0-9\\\\-_]{1,32}$\nValidator.HTTPCookieValue=^[a-zA-Z0-9\\\\-\\\\/+=_ ]*$\nValidator.HTTPHeaderName=^[a-zA-Z0-9\\\\-_]{1,32}$\nValidator.HTTPHeaderValue=^[a-zA-Z0-9()\\\\-=\\\\*\\\\.\\\\?;,+\\\\/:&amp;_ ]*$\nValidator.HTTPContextPath=^\\\\/?[a-zA-Z0-9.\\\\-\\\\/_]*$\nValidator.HTTPServletPath=^[a-zA-Z0-9.\\\\-\\\\/_]*$\nValidator.HTTPPath=^[a-zA-Z0-9.\\\\-_]*$\nValidator.HTTPQueryString=^[a-zA-Z0-9()\\\\-=\\\\*\\\\.\\\\?;,+\\\\/:&amp;_ %]*$\nValidator.HTTPURI=^[a-zA-Z0-9()\\\\-=\\\\*\\\\.\\\\?;,+\\\\/:&amp;_ ]*$\nValidator.HTTPURL=^.*$\nValidator.HTTPJSESSIONID=^[A-Z0-9]{10,30}$\n\nValidator.FileName=^[\\\\p{L}0-9!@#$%^&amp;{}\\\\()_+\\\\-=,.~'` ]{1,255}$\nValidator.DirectoryName=^[a-zA-Z0-9:/\\\\\\\\!@#$%^&amp;{}\\\\[\\\\]()_+\\\\-=,.~'` ]{1,255}$\n\nValidator.AcceptLenientDates=false\n</code></pre>\n<p>Added logback.xml file as well</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!-- For assistance related to logback-translator or configuration  --&gt;\n&lt;!-- files in general, please contact the logback user mailing list --&gt;\n&lt;!-- at http://www.qos.ch/mailman/listinfo/logback-user             --&gt;\n&lt;!--                                                                --&gt;\n&lt;!-- For professional support please see                            --&gt;\n&lt;!--    http://www.qos.ch/shop/products/professionalSupport         --&gt;\n&lt;!--                                                                --&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;!-- Daily rollover --&gt;\n            &lt;fileNamePattern&gt;log/MyExample.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;\n\n            &lt;!-- Keep 7 days' worth of history --&gt;\n            &lt;maxHistory&gt;7&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Configure so that it outputs to both console and log file --&gt;\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>But I am getting below error while building the app</p>\n<pre><code>Caused by: java.lang.ExceptionInInitializerError\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:29)\n    at org.testng.internal.ClassHelper.createInstance1(ClassHelper.java:377)\n    ... 43 more\nCaused by: org.owasp.esapi.errors.ConfigurationException: java.lang.ClassNotFoundException: org/owasp/esapi/logging/slf4j/Slf4JLogFactory; LogFactory class (org.owasp.esapi.logging.slf4j.Slf4JLogFactory;) must be in class path.\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:108)\n    at org.owasp.esapi.ESAPI.logFactory(ESAPI.java:139)\n    at org.owasp.esapi.ESAPI.getLogger(ESAPI.java:155)\n    at com.converis.commons.utils.file.TempFileUtilities.&lt;clinit&gt;(TempFileUtilities.java:26)\n    ... 49 more\nCaused by: java.lang.ClassNotFoundException: org/owasp/esapi/logging/slf4j/Slf4JLogFactory;\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at org.owasp.esapi.util.ObjFactory.loadClassByStringName(ObjFactory.java:158)\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:81)\n    ... 52 more\n</code></pre>\n<p>Can anyone help me to solve this? what I missed to update in those files?\nThanks in advance</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646678776,"post_id":71385723,"comment_id":126178664,"body_markdown":"Make the response from the new URL to be a composite of the other URL responses.  But consider if this is approach is scalable/maintainable.  For example, what has to change if tablets are added, etc.?  At some point, creating the composite response (because of so many device types and so much data) will be come a performance issue.","body":"Make the response from the new URL to be a composite of the other URL responses.  But consider if this is approach is scalable/maintainable.  For example, what has to change if tablets are added, etc.?  At some point, creating the composite response (because of so many device types and so much data) will be come a performance issue."}],"answers":[{"tags":[],"owner":{"account_id":18886940,"reputation":1,"user_id":13778145,"display_name":"Nidhal Ben Yarou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646689405,"creation_date":1646689405,"answer_id":71387598,"question_id":71385723,"body_markdown":" - There is too many ways to do this, a simple way is to add a\r\n   something like a flag to the request (request body or parameter in\r\n   case it is a get request).\r\n - In the code bellow i used a key value map (Map&lt;String, String) in\r\n   order to make the service generic.\r\n - The &#39;clazz&#39; is used to check which service is wanted to be run.\r\n - It&#39;s possible to make a default behaviour in case the &#39;clazz&#39; attribute is null or malformed.\r\n - Finally, to parse the fetch reuslt easily you can add the class name in each element.\r\n\r\n```\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class DataController {\r\n    public static final String CLAZZ = &quot;clazz&quot;;\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; add(@RequestBody final Map&lt;String, String&gt; data) {\r\n        Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n\r\n        if(data.containsKey(CLAZZ)){\r\n            String clazz = data.get(CLAZZ);\r\n\r\n            if(clazz.equals(Laptop.class.getCanonicalName())){\r\n                Laptop laptop = objectMapper.convertValue(data, Laptop.class);\r\n                //call your laptop service here to add a new laptop and return the new object into laptop instance\r\n                result = objectMapper.convertValue(laptop, Map.class);\r\n            }else if(clazz.equals(Smartphone.class.getCanonicalName())) {\r\n                Smartphone smartphone = objectMapper.convertValue(data, Smartphone.class);\r\n                //call your smartphone service here to add a new smartphone and return the new object into smartphone instance\r\n                result = objectMapper.convertValue(smartphone, Map.class);\r\n            }\r\n        }\r\n        return ResponseEntity.ok(result);\r\n    }\r\n\r\n    @GetMapping(&quot;/fetch&quot;)\r\n    public ResponseEntity&lt;List&lt;Map&lt;String, String&gt;&gt;&gt; fetch(){\r\n        List&lt;Map&lt;String, String&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        \r\n        List&lt;Laptop&gt; laptops = Collections.emptyList(); // here you need to call your laptop service\r\n        result.addAll(laptops.stream().map(laptop -&gt; (Map&lt;String, String&gt;) objectMapper.convertValue(laptop, Map.class)).collect(Collectors.toList()));\r\n        \r\n        List&lt;Smartphone&gt; smartphones = Collections.emptyList(); // here you need to call your smartphone service\r\n        result.addAll(smartphones.stream().map(smartphone -&gt; (Map&lt;String, String&gt;) objectMapper.convertValue(smartphone, Map.class)).collect(Collectors.toList()));\r\n        return ResponseEntity.ok(result);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How to combine 2 or more endpoints into one spring-boot?","body":"<ul>\n<li>There is too many ways to do this, a simple way is to add a\nsomething like a flag to the request (request body or parameter in\ncase it is a get request).</li>\n<li>In the code bellow i used a key value map (Map&lt;String, String) in\norder to make the service generic.</li>\n<li>The 'clazz' is used to check which service is wanted to be run.</li>\n<li>It's possible to make a default behaviour in case the 'clazz' attribute is null or malformed.</li>\n<li>Finally, to parse the fetch reuslt easily you can add the class name in each element.</li>\n</ul>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class DataController {\n    public static final String CLAZZ = &quot;clazz&quot;;\n    private final ObjectMapper objectMapper;\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; add(@RequestBody final Map&lt;String, String&gt; data) {\n        Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n\n        if(data.containsKey(CLAZZ)){\n            String clazz = data.get(CLAZZ);\n\n            if(clazz.equals(Laptop.class.getCanonicalName())){\n                Laptop laptop = objectMapper.convertValue(data, Laptop.class);\n                //call your laptop service here to add a new laptop and return the new object into laptop instance\n                result = objectMapper.convertValue(laptop, Map.class);\n            }else if(clazz.equals(Smartphone.class.getCanonicalName())) {\n                Smartphone smartphone = objectMapper.convertValue(data, Smartphone.class);\n                //call your smartphone service here to add a new smartphone and return the new object into smartphone instance\n                result = objectMapper.convertValue(smartphone, Map.class);\n            }\n        }\n        return ResponseEntity.ok(result);\n    }\n\n    @GetMapping(&quot;/fetch&quot;)\n    public ResponseEntity&lt;List&lt;Map&lt;String, String&gt;&gt;&gt; fetch(){\n        List&lt;Map&lt;String, String&gt;&gt; result = new ArrayList&lt;&gt;();\n        \n        List&lt;Laptop&gt; laptops = Collections.emptyList(); // here you need to call your laptop service\n        result.addAll(laptops.stream().map(laptop -&gt; (Map&lt;String, String&gt;) objectMapper.convertValue(laptop, Map.class)).collect(Collectors.toList()));\n        \n        List&lt;Smartphone&gt; smartphones = Collections.emptyList(); // here you need to call your smartphone service\n        result.addAll(smartphones.stream().map(smartphone -&gt; (Map&lt;String, String&gt;) objectMapper.convertValue(smartphone, Map.class)).collect(Collectors.toList()));\n        return ResponseEntity.ok(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8903202,"reputation":99,"user_id":12228510,"display_name":"DK93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646755462,"creation_date":1646755462,"answer_id":71398006,"question_id":71385723,"body_markdown":"It is always better to have single url with query parameter has filter.\r\n\r\nExample: http://localhost:8080/electronics?type=type\r\n\r\nThen you can read from the query param and filter accordingly. ","title":"How to combine 2 or more endpoints into one spring-boot?","body":"<p>It is always better to have single url with query parameter has filter.</p>\n<p>Example: http://localhost:8080/electronics?type=type</p>\n<p>Then you can read from the query param and filter accordingly.</p>\n"}],"owner":{"account_id":20454813,"reputation":285,"user_id":15008736,"display_name":"Dmitry Chernyak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":986,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1646755462,"creation_date":1646677994,"question_id":71385723,"body_markdown":"I need your help. For example, I have 2 controllers with which I create 2 urls to work with products: \r\n\r\n`https://localhost:8080/laptops - for laptops`,\r\n`https://localhost:8080/smartphones - for smartphones`\r\n\r\nEach of them accepts all CRUD operations. I want that when I type a url that looks like this `https://localhost:8080/data` in response I received data from two previous urls. Please tell, how is it possible to do it? Thank you very much","title":"How to combine 2 or more endpoints into one spring-boot?","body":"<p>I need your help. For example, I have 2 controllers with which I create 2 urls to work with products:</p>\n<p><code>https://localhost:8080/laptops - for laptops</code>,\n<code>https://localhost:8080/smartphones - for smartphones</code></p>\n<p>Each of them accepts all CRUD operations. I want that when I type a url that looks like this <code>https://localhost:8080/data</code> in response I received data from two previous urls. Please tell, how is it possible to do it? Thank you very much</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"score":0,"creation_date":1646754831,"post_id":71397843,"comment_id":126199457,"body_markdown":"You want to access the initialized `wage` variable outside the `if` block?","body":"You want to access the initialized <code>wage</code> variable outside the <code>if</code> block?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1646754888,"post_id":71397843,"comment_id":126199489,"body_markdown":"Declare it once before all the `if` statements, then just use assignments (and not a declaration) within the `if` block.","body":"Declare it once before all the <code>if</code> statements, then just use assignments (and not a declaration) within the <code>if</code> block."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1646755034,"post_id":71397843,"comment_id":126199569,"body_markdown":"[This answer for &quot;Using variables outside of an if-statement&quot; might help you](https://stackoverflow.com/a/13337578/6073886)","body":"<a href=\"https://stackoverflow.com/a/13337578/6073886\">This answer for &quot;Using variables outside of an if-statement&quot; might help you</a>"},{"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"score":0,"creation_date":1646755448,"post_id":71397843,"comment_id":126199733,"body_markdown":"@f1sh considering the fact that OP is a 1st year student, I posted the answer with implemented code","body":"@f1sh considering the fact that OP is a 1st year student, I posted the answer with implemented code"}],"answers":[{"tags":[],"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646755354,"creation_date":1646755354,"answer_id":71397980,"question_id":71397843,"body_markdown":"Please try the below and see if it works.\r\n\r\n    double wage; //declaring outside if block as a class variable/member\r\n    \r\n    //Wages based on Job Position\r\n    if (JobPositionComboBox.getSelectedItem().equals(&quot;Project Manager&quot;)){\r\n            wage = 350.f;\r\n            jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\r\n        }\r\n        else if (JobPositionComboBox.getSelectedItem().equals(&quot;System Analyst&quot;)){\r\n            wage = 250.f;\r\n            jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\r\n        }\r\n        else if (JobPositionComboBox.getSelectedItem().equals(&quot;System Developer&quot;)){\r\n            wage = 320.f;\r\n            jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\r\n        }\r\n        else if (JobPositionComboBox.getSelectedItem().equals(&quot;Quality Assurance&quot;)){\r\n            wage = 220.f;\r\n            jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\r\n            \r\n        \r\n        } \r\n        jTextArea1.append(&quot;Payment Option : &quot; + PaymentOptionComboBox.getSelectedItem() + &quot;\\n&quot;);\r\n        jTextArea1.append(&quot;--------------------------------------------&quot;);\r\n        \r\n        \r\n        //Payment option information prompts\r\n        if (PaymentOptionComboBox.getSelectedItem().equals(&quot;Bank Account&quot;)){\r\n           \r\n        String ban = JOptionPane.showInputDialog(null, &quot;Please enter your Bank Account Number&quot;, &quot;Payment Option&quot;,JOptionPane.PLAIN_MESSAGE);\r\n         int BAN = Integer.parseInt(ban);\r\n            JOptionPane.showMessageDialog(null, &quot;Transaction Information : &quot; +\r\n                    &quot;\\nName : &quot; + NameTextField.getText()  +\r\n                    &quot;\\nBank Account Number : &quot; + BAN +        //I can&#39;t call on the wage inside the if statements, it just shows an error.\r\n                    &quot;\\nPayment Amount : &quot; + df.format(hour * wage) +\r\n                    &quot;\\nPlease Confirm your information&quot;,&quot;Bank Account&quot;, JOptionPane.PLAIN_MESSAGE);\r\n            ImageIcon BDO = new ImageIcon(SystemFrame.class.getResource(&quot;BDO.png&quot;));\r\n            JOptionPane.showMessageDialog(null,&quot;Transaction Complete&quot; + \r\n                    &quot;\\nThank you for choosing our bank&quot;,&quot;Bank Account&quot;,JOptionPane.PLAIN_MESSAGE,BDO); \r\n    }\r\n\r\nThe problem with your existing code is `variable scoping`. You are trying to access the variable outside it&#39;s scope. Hence the error. You can read more about it [here][1] or [here][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-variable-scope\r\n  [2]: https://www.geeksforgeeks.org/variable-scope-in-java/","title":"How can I call on a variable initialized from within an if statement?","body":"<p>Please try the below and see if it works.</p>\n<pre><code>double wage; //declaring outside if block as a class variable/member\n\n//Wages based on Job Position\nif (JobPositionComboBox.getSelectedItem().equals(&quot;Project Manager&quot;)){\n        wage = 350.f;\n        jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\n    }\n    else if (JobPositionComboBox.getSelectedItem().equals(&quot;System Analyst&quot;)){\n        wage = 250.f;\n        jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\n    }\n    else if (JobPositionComboBox.getSelectedItem().equals(&quot;System Developer&quot;)){\n        wage = 320.f;\n        jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\n    }\n    else if (JobPositionComboBox.getSelectedItem().equals(&quot;Quality Assurance&quot;)){\n        wage = 220.f;\n        jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\n        \n    \n    } \n    jTextArea1.append(&quot;Payment Option : &quot; + PaymentOptionComboBox.getSelectedItem() + &quot;\\n&quot;);\n    jTextArea1.append(&quot;--------------------------------------------&quot;);\n    \n    \n    //Payment option information prompts\n    if (PaymentOptionComboBox.getSelectedItem().equals(&quot;Bank Account&quot;)){\n       \n    String ban = JOptionPane.showInputDialog(null, &quot;Please enter your Bank Account Number&quot;, &quot;Payment Option&quot;,JOptionPane.PLAIN_MESSAGE);\n     int BAN = Integer.parseInt(ban);\n        JOptionPane.showMessageDialog(null, &quot;Transaction Information : &quot; +\n                &quot;\\nName : &quot; + NameTextField.getText()  +\n                &quot;\\nBank Account Number : &quot; + BAN +        //I can't call on the wage inside the if statements, it just shows an error.\n                &quot;\\nPayment Amount : &quot; + df.format(hour * wage) +\n                &quot;\\nPlease Confirm your information&quot;,&quot;Bank Account&quot;, JOptionPane.PLAIN_MESSAGE);\n        ImageIcon BDO = new ImageIcon(SystemFrame.class.getResource(&quot;BDO.png&quot;));\n        JOptionPane.showMessageDialog(null,&quot;Transaction Complete&quot; + \n                &quot;\\nThank you for choosing our bank&quot;,&quot;Bank Account&quot;,JOptionPane.PLAIN_MESSAGE,BDO); \n}\n</code></pre>\n<p>The problem with your existing code is <code>variable scoping</code>. You are trying to access the variable outside it's scope. Hence the error. You can read more about it <a href=\"https://www.baeldung.com/java-variable-scope\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://www.geeksforgeeks.org/variable-scope-in-java/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":24493205,"reputation":3,"user_id":18409950,"display_name":"Lynds"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1646755877,"accepted_answer_id":71397980,"answer_count":1,"score":-1,"last_activity_date":1646755354,"creation_date":1646754726,"question_id":71397843,"body_markdown":"For context I&#39;m a first year It student. We are tasked to create a concept program for a payment system for our final project. We decided to do a payroll program.\r\nHere is a snippet of my code using JOptionFrame and JOptionPane\r\n\r\n    //Wages based on Job Position\r\n        if (JobPositionComboBox.getSelectedItem().equals(&quot;Project Manager&quot;)){\r\n            double wage = 350.f;\r\n            jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\r\n        }\r\n        else if (JobPositionComboBox.getSelectedItem().equals(&quot;System Analyst&quot;)){\r\n            double wage = 250.f;\r\n            jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\r\n        }\r\n        else if (JobPositionComboBox.getSelectedItem().equals(&quot;System Developer&quot;)){\r\n            double wage = 320.f;\r\n            jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\r\n        }\r\n        else if (JobPositionComboBox.getSelectedItem().equals(&quot;Quality Assurance&quot;)){\r\n            double wage = 220.f;\r\n            jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\r\n            \r\n        \r\n        } \r\n        jTextArea1.append(&quot;Payment Option : &quot; + PaymentOptionComboBox.getSelectedItem() + &quot;\\n&quot;);\r\n        jTextArea1.append(&quot;--------------------------------------------&quot;);\r\n        \r\n        \r\n        //Payment option information prompts\r\n        if (PaymentOptionComboBox.getSelectedItem().equals(&quot;Bank Account&quot;)){\r\n           \r\n        String ban = JOptionPane.showInputDialog(null, &quot;Please enter your Bank Account Number&quot;, &quot;Payment Option&quot;,JOptionPane.PLAIN_MESSAGE);\r\n         int BAN = Integer.parseInt(ban);\r\n            JOptionPane.showMessageDialog(null, &quot;Transaction Information : &quot; +\r\n                    &quot;\\nName : &quot; + NameTextField.getText()  +\r\n                    &quot;\\nBank Account Number : &quot; + BAN +        //I can&#39;t call on the wage inside the if statements, it just shows an error.\r\n                    &quot;\\nPayment Amount : &quot; + df.format(hour * wage) +\r\n                    &quot;\\nPlease Confirm your information&quot;,&quot;Bank Account&quot;, JOptionPane.PLAIN_MESSAGE);\r\n            ImageIcon BDO = new ImageIcon(SystemFrame.class.getResource(&quot;BDO.png&quot;));\r\n            JOptionPane.showMessageDialog(null,&quot;Transaction Complete&quot; + \r\n                    &quot;\\nThank you for choosing our bank&quot;,&quot;Bank Account&quot;,JOptionPane.PLAIN_MESSAGE,BDO); \r\n    }\r\n\r\n    \r\nSince the number assigned to the wage variable is dependent on the job position, I have to call it from within the if statements for the computation to be accurate. Does anybody have a solution?","title":"How can I call on a variable initialized from within an if statement?","body":"<p>For context I'm a first year It student. We are tasked to create a concept program for a payment system for our final project. We decided to do a payroll program.\nHere is a snippet of my code using JOptionFrame and JOptionPane</p>\n<pre><code>//Wages based on Job Position\n    if (JobPositionComboBox.getSelectedItem().equals(&quot;Project Manager&quot;)){\n        double wage = 350.f;\n        jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\n    }\n    else if (JobPositionComboBox.getSelectedItem().equals(&quot;System Analyst&quot;)){\n        double wage = 250.f;\n        jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\n    }\n    else if (JobPositionComboBox.getSelectedItem().equals(&quot;System Developer&quot;)){\n        double wage = 320.f;\n        jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\n    }\n    else if (JobPositionComboBox.getSelectedItem().equals(&quot;Quality Assurance&quot;)){\n        double wage = 220.f;\n        jTextArea1.append(&quot;Total Salary this month : &quot; + df.format(hour * wage) + &quot;\\n&quot;);\n        \n    \n    } \n    jTextArea1.append(&quot;Payment Option : &quot; + PaymentOptionComboBox.getSelectedItem() + &quot;\\n&quot;);\n    jTextArea1.append(&quot;--------------------------------------------&quot;);\n    \n    \n    //Payment option information prompts\n    if (PaymentOptionComboBox.getSelectedItem().equals(&quot;Bank Account&quot;)){\n       \n    String ban = JOptionPane.showInputDialog(null, &quot;Please enter your Bank Account Number&quot;, &quot;Payment Option&quot;,JOptionPane.PLAIN_MESSAGE);\n     int BAN = Integer.parseInt(ban);\n        JOptionPane.showMessageDialog(null, &quot;Transaction Information : &quot; +\n                &quot;\\nName : &quot; + NameTextField.getText()  +\n                &quot;\\nBank Account Number : &quot; + BAN +        //I can't call on the wage inside the if statements, it just shows an error.\n                &quot;\\nPayment Amount : &quot; + df.format(hour * wage) +\n                &quot;\\nPlease Confirm your information&quot;,&quot;Bank Account&quot;, JOptionPane.PLAIN_MESSAGE);\n        ImageIcon BDO = new ImageIcon(SystemFrame.class.getResource(&quot;BDO.png&quot;));\n        JOptionPane.showMessageDialog(null,&quot;Transaction Complete&quot; + \n                &quot;\\nThank you for choosing our bank&quot;,&quot;Bank Account&quot;,JOptionPane.PLAIN_MESSAGE,BDO); \n}\n</code></pre>\n<p>Since the number assigned to the wage variable is dependent on the job position, I have to call it from within the if statements for the computation to be accurate. Does anybody have a solution?</p>\n"},{"tags":["java","excel","apache-poi","xlsx"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1646744107,"post_id":71395373,"comment_id":126195123,"body_markdown":"What `apache poi` version are you using? And why do you think setting the cell type is necessary at all? It is not. It is determined by cell value automatically.","body":"What <code>apache poi</code> version are you using? And why do you think setting the cell type is necessary at all? It is not. It is determined by cell value automatically."},{"owner":{"account_id":4086463,"reputation":325,"user_id":3355628,"display_name":"Matze"},"score":0,"creation_date":1646744941,"post_id":71395373,"comment_id":126195437,"body_markdown":"Version 3.15 and the latest 5.2. I do not say it is necessary.","body":"Version 3.15 and the latest 5.2. I do not say it is necessary."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646746315,"creation_date":1646745882,"answer_id":71395807,"question_id":71395373,"body_markdown":"The problem is that `SXSSFWorkbook` uses inline strings per default because this is better for the streaming approach. But `XSSFWorkbook` expects strings to be stored in a shared strings table when cell type is `CellType.STRING`.\r\n\r\nSo after creating the `SXSSFWorkbook` your cell XML in `sheet1.xml` looks like \r\n\r\n    &lt;c r=&quot;A1&quot; t=&quot;inlineStr&quot;&gt;\r\n     &lt;is&gt;\r\n      &lt;t&gt;TEST&lt;/t&gt;\r\n     &lt;/is&gt;\r\n    &lt;/c&gt;\r\n\r\nThe type `t` is `inlineStr`. And the cell value is the string TEST directly. \r\n\r\nBut after `Cell.setCellType(CellType.STRING)` the type `t` is set `s`. And this expects the value to be a number which is the index of the string in the shared strings table. But there is not a such. That&#39;s why `System.out.println(s.getRow(0).getCell(0).getStringCellValue());` cannot print anything.\r\n\r\nYou could do `SXSSFWorkbook wb = new SXSSFWorkbook(null, 100, true, true)` to force the `SXSSFWorkbook`to use shared strings table too. But that will cost performance in streaming approach because then all strings needs to be stored in that shared strings table instead of storing them directly in the cells.\r\n\r\nThe benefit of the shared strings table is save memory because all strings only are stored once there and only their indexes are stored in the cells when multiple cells use the same string.\r\n\r\nExcel itself never stores workbooks using inline strings instead of using shared strings table. So after opening and resaving in Excel the inline strings are replaced by indexes to strings in the shared strings table and cell types always are `s` instead of `inlineStr`. That&#39;s why `Cell.setCellType(CellType.STRING)` will not have that effect anymore.\r\n","title":"Java Apache POI Bug","body":"<p>The problem is that <code>SXSSFWorkbook</code> uses inline strings per default because this is better for the streaming approach. But <code>XSSFWorkbook</code> expects strings to be stored in a shared strings table when cell type is <code>CellType.STRING</code>.</p>\n<p>So after creating the <code>SXSSFWorkbook</code> your cell XML in <code>sheet1.xml</code> looks like</p>\n<pre><code>&lt;c r=&quot;A1&quot; t=&quot;inlineStr&quot;&gt;\n &lt;is&gt;\n  &lt;t&gt;TEST&lt;/t&gt;\n &lt;/is&gt;\n&lt;/c&gt;\n</code></pre>\n<p>The type <code>t</code> is <code>inlineStr</code>. And the cell value is the string TEST directly.</p>\n<p>But after <code>Cell.setCellType(CellType.STRING)</code> the type <code>t</code> is set <code>s</code>. And this expects the value to be a number which is the index of the string in the shared strings table. But there is not a such. That's why <code>System.out.println(s.getRow(0).getCell(0).getStringCellValue());</code> cannot print anything.</p>\n<p>You could do <code>SXSSFWorkbook wb = new SXSSFWorkbook(null, 100, true, true)</code> to force the <code>SXSSFWorkbook</code>to use shared strings table too. But that will cost performance in streaming approach because then all strings needs to be stored in that shared strings table instead of storing them directly in the cells.</p>\n<p>The benefit of the shared strings table is save memory because all strings only are stored once there and only their indexes are stored in the cells when multiple cells use the same string.</p>\n<p>Excel itself never stores workbooks using inline strings instead of using shared strings table. So after opening and resaving in Excel the inline strings are replaced by indexes to strings in the shared strings table and cell types always are <code>s</code> instead of <code>inlineStr</code>. That's why <code>Cell.setCellType(CellType.STRING)</code> will not have that effect anymore.</p>\n"}],"owner":{"account_id":4086463,"reputation":325,"user_id":3355628,"display_name":"Matze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71395807,"answer_count":1,"score":2,"last_activity_date":1646754870,"creation_date":1646743899,"question_id":71395373,"body_markdown":"While working with the Apache POI Implementation I ran into a strange behaviour. I cannot explain the cause, so if anybody can give some hints, I would love to hear them. It is not even a big blocker for the problem that I was solving - at this point it is more a curiosity thing. So here it goes:\r\n\r\n```java\r\npublic static void main(String[] args) throws EcatException, SQLException, IOException, Exception {\r\n\r\n    long ts = System.currentTimeMillis();\r\n    SXSSFWorkbook wb = new SXSSFWorkbook();\r\n    SXSSFSheet test = wb.createSheet(&quot;Test&quot;);\r\n    SXSSFRow r = test.createRow(0);\r\n    Cell c = r.createCell(0);\r\n    c.setCellValue(&quot;TEST&quot;);\r\n\r\n    wb.write(new FileOutputStream(&quot;D:/wb-&quot; + ts + &quot;.xlsx&quot;));\r\n    wb.close();\r\n\r\n    XSSFWorkbook wb2 = new XSSFWorkbook(&quot;D:/wb-&quot; + ts + &quot;.xlsx&quot;);\r\n    XSSFSheet s = wb2.getSheet(&quot;Test&quot;);\r\n\r\n    s.getRow(0).getCell(0).setCellType(CellType.STRING);\r\n    System.out.println(s.getRow(0).getCell(0).getStringCellValue());\r\n    wb2.close();\r\n\r\n  }\r\n```\r\nAs you can see, this will create a ```SXSSFWorkbook``` with one row and one cell with the value &quot;TEST&quot;.\r\nThen opening the workbook againg, and print the content of that one cell to the console.\r\n\r\nMy expectation is to see &quot;TEST&quot; on the console, but I do not. The output is empty.\r\n\r\n- If I remove the line\r\n```\r\ns.getRow(0).getCell(0).setCellType(CellType.STRING);\r\n```\r\nthe output is as expected.\r\n\r\n- If I switch from using a ```SXSSFWorkbook``` to ```XSSFWorkbook``` the output is as expected.\r\n\r\n- And most curious, if I open the resulting xlsx file, save it and close it again, then running the read part of the above code, the output is as expected.\r\n\r\nIs that something that someone has an explanation for?\r\nBtw. I tried with different version of POI, it had the same results everytime.\r\n","title":"Java Apache POI Bug","body":"<p>While working with the Apache POI Implementation I ran into a strange behaviour. I cannot explain the cause, so if anybody can give some hints, I would love to hear them. It is not even a big blocker for the problem that I was solving - at this point it is more a curiosity thing. So here it goes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws EcatException, SQLException, IOException, Exception {\n\n    long ts = System.currentTimeMillis();\n    SXSSFWorkbook wb = new SXSSFWorkbook();\n    SXSSFSheet test = wb.createSheet(&quot;Test&quot;);\n    SXSSFRow r = test.createRow(0);\n    Cell c = r.createCell(0);\n    c.setCellValue(&quot;TEST&quot;);\n\n    wb.write(new FileOutputStream(&quot;D:/wb-&quot; + ts + &quot;.xlsx&quot;));\n    wb.close();\n\n    XSSFWorkbook wb2 = new XSSFWorkbook(&quot;D:/wb-&quot; + ts + &quot;.xlsx&quot;);\n    XSSFSheet s = wb2.getSheet(&quot;Test&quot;);\n\n    s.getRow(0).getCell(0).setCellType(CellType.STRING);\n    System.out.println(s.getRow(0).getCell(0).getStringCellValue());\n    wb2.close();\n\n  }\n</code></pre>\n<p>As you can see, this will create a <code>SXSSFWorkbook</code> with one row and one cell with the value &quot;TEST&quot;.\nThen opening the workbook againg, and print the content of that one cell to the console.</p>\n<p>My expectation is to see &quot;TEST&quot; on the console, but I do not. The output is empty.</p>\n<ul>\n<li>If I remove the line</li>\n</ul>\n<pre><code>s.getRow(0).getCell(0).setCellType(CellType.STRING);\n</code></pre>\n<p>the output is as expected.</p>\n<ul>\n<li><p>If I switch from using a <code>SXSSFWorkbook</code> to <code>XSSFWorkbook</code> the output is as expected.</p>\n</li>\n<li><p>And most curious, if I open the resulting xlsx file, save it and close it again, then running the read part of the above code, the output is as expected.</p>\n</li>\n</ul>\n<p>Is that something that someone has an explanation for?\nBtw. I tried with different version of POI, it had the same results everytime.</p>\n"},{"tags":["java","xml","xslt","xslt-1.0"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1646731923,"post_id":71391758,"comment_id":126190741,"body_markdown":"You need to understand that XSLT can only transform well-formed XML. If the XML is broken, as this is, you need to work out why it&#39;s broken and fix the program or process that allowed broken XML to be created in the first place.","body":"You need to understand that XSLT can only transform well-formed XML. If the XML is broken, as this is, you need to work out why it&#39;s broken and fix the program or process that allowed broken XML to be created in the first place."}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646727026,"creation_date":1646727026,"answer_id":71391802,"question_id":71391758,"body_markdown":"This XML element contains an unescaped `&amp;` character:\r\n\r\n``` lang-xml\r\n&lt;bookname&gt;https://test.com/logon.jsp?fromLoc=ALL&amp;LOB=COLLogon&lt;/bookname&gt; \r\n```\r\n\r\nIt should be encoded like this:\r\n\r\n``` lang-xml\r\n&lt;bookname&gt;https://test.com/logon.jsp?fromLoc=ALL&amp;amp;LOB=COLLogon&lt;/bookname&gt; \r\n```\r\n","title":"XSL transform failing when ampersand in XML string","body":"<p>This XML element contains an unescaped <code>&amp;</code> character:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bookname&gt;https://test.com/logon.jsp?fromLoc=ALL&amp;LOB=COLLogon&lt;/bookname&gt; \n</code></pre>\n<p>It should be encoded like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bookname&gt;https://test.com/logon.jsp?fromLoc=ALL&amp;amp;LOB=COLLogon&lt;/bookname&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19674984,"reputation":1651,"user_id":14403369,"display_name":"urznow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646754858,"creation_date":1646754858,"answer_id":71397877,"question_id":71391758,"body_markdown":"There&#39;s no Almost-XML standard so XML tools are out. Which is why the \r\ninput file should be rejected.\r\n\r\nBut if deadlines are tight you could do worse than try [tag:xmllint] \r\n(which strips the XML declaration here):\r\n\r\n```lang-sh\r\nxmllint --recover --html  --xmlout --dropdtd --xpath &#39;html/body/*&#39; file.xml  2&gt;/dev/null |\r\ndiff --ignore-all-space --context=1 file.xml -\r\n```\r\n\r\n- `--recover` output any parsable portions \r\n- `--html` use the HTML parser\r\n- `--xpath &#39;…&#39;` strips the HTML wrapper\r\n- `2&gt;/dev/null` discards errors from the HTML parsing\r\n","title":"XSL transform failing when ampersand in XML string","body":"<p>There's no Almost-XML standard so XML tools are out. Which is why the\ninput file should be rejected.</p>\n<p>But if deadlines are tight you could do worse than try <a href=\"/questions/tagged/xmllint\" class=\"post-tag\" title=\"show questions tagged &#39;xmllint&#39;\" rel=\"tag\">xmllint</a>\n(which strips the XML declaration here):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>xmllint --recover --html  --xmlout --dropdtd --xpath 'html/body/*' file.xml  2&gt;/dev/null |\ndiff --ignore-all-space --context=1 file.xml -\n</code></pre>\n<ul>\n<li><code>--recover</code> output any parsable portions</li>\n<li><code>--html</code> use the HTML parser</li>\n<li><code>--xpath '…'</code> strips the HTML wrapper</li>\n<li><code>2&gt;/dev/null</code> discards errors from the HTML parsing</li>\n</ul>\n"}],"owner":{"account_id":2973985,"reputation":571,"user_id":2525456,"accept_rate":80,"display_name":"theRoot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646754858,"creation_date":1646726778,"question_id":71391758,"body_markdown":"When I try to transform XML containing &amp; (ambersand) , below error is coming , how to escape it.\r\n\r\n**Error :** \r\n\r\n&gt; Unable to generate the XML document using the provided XML/XSL input.\r\n&gt; org.xml.sax.SAXParseException; lineNumber: 4; columnNumber: 61; The\r\n&gt; reference to entity &quot;LOB&quot; must end with the &#39;;&#39; delimiter. You most\r\n&gt; likely forgot to escape &#39;&amp;&#39; into &#39;&amp;amp;&#39;\r\n\r\n**Input XML:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;store&gt; &lt;!-- Root Element --&gt;\r\n        &lt;book id =&quot;5350192956&quot;&gt;\r\n            &lt;bookname&gt;https://test.com/logon.jsp?fromLoc=ALL&amp;LOB=COLLogon&lt;/bookname&gt; \r\n            &lt;authorname&gt;Michael Kay&lt;/authorname&gt;\r\n            &lt;publisher&gt;Wrox&lt;/publisher&gt;\r\n            &lt;price&gt;$40&lt;/price&gt; \r\n            &lt;edition&gt;4th&lt;/edition&gt;         \r\n        &lt;/book&gt; \r\n        &lt;book id =&quot;3741122298&quot;&gt;\r\n            &lt;bookname&gt;Head First Java&lt;/bookname&gt; \r\n            &lt;authorname&gt;Kathy Sierra&lt;/authorname&gt;\r\n            &lt;publisher&gt;O&#39;reilly&lt;/publisher&gt;\r\n            &lt;price&gt;$19&lt;/price&gt; \r\n            &lt;edition&gt;1st&lt;/edition&gt;         \r\n        &lt;/book&gt;\r\n        &lt;book id =&quot;9987436700&quot;&gt;\r\n            &lt;bookname&gt;SQL The Complete Reference&lt;/bookname&gt; \r\n            &lt;authorname&gt;James R. Groff&lt;/authorname&gt;\r\n            &lt;publisher&gt;McGraw-Hill&lt;/publisher&gt;\r\n            &lt;price&gt;$45&lt;/price&gt; \r\n            &lt;edition&gt;3rd&lt;/edition&gt;         \r\n        &lt;/book&gt;\r\n    &lt;/store&gt;\r\n\r\n\r\n**XSL :**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        exclude-result-prefixes=&quot;xs&quot;\r\n        version=&quot;2.0&quot;  &gt;          \r\n            &lt;xsl:template match = &quot;/&quot;&gt;           \r\n                &lt;html&gt;   \r\n                    &lt;body&gt;  \r\n                        &lt;h2&gt;Books:-&lt;/h2&gt;   \r\n                        &lt;table border = &quot;1&quot;&gt;   \r\n                            &lt;tr bgcolor = &quot;#cd8932&quot;&gt;   \r\n                                &lt;th&gt;Book ID&lt;/th&gt;   \r\n                                &lt;th&gt;Book Name&lt;/th&gt;   \r\n                                &lt;th&gt;Author Name&lt;/th&gt;   \r\n                                &lt;th&gt;Publisher&lt;/th&gt;   \r\n                                &lt;th&gt;Price&lt;/th&gt;                           \r\n                                &lt;th&gt;Edition&lt;/th&gt;\r\n                            &lt;/tr&gt;                        \r\n                            &lt;xsl:for-each select=&quot;store/book&quot;&gt;   \r\n                                &lt;tr bgcolor = &quot;#84cd32&quot;&gt;   \r\n                                    &lt;td&gt;&lt;xsl:value-of select = &quot;@id&quot;/&gt;&lt;/td&gt;   \r\n                                    &lt;td&gt;&lt;xsl:value-of disable-output-escaping=&quot;yes&quot; select = &quot;bookname&quot; /&gt;&lt;/td&gt;   \r\n                                    &lt;td&gt;&lt;xsl:value-of select = &quot;authorname&quot;/&gt;&lt;/td&gt;   \r\n                                    &lt;td&gt;&lt;xsl:value-of select = &quot;publisher&quot;/&gt;&lt;/td&gt;   \r\n                                    &lt;td&gt;&lt;xsl:value-of select = &quot;price&quot;/&gt;&lt;/td&gt;                               \r\n                                    &lt;td&gt;&lt;xsl:value-of select = &quot;edition&quot;/&gt;&lt;/td&gt;\r\n                                &lt;/tr&gt;   \r\n                            &lt;/xsl:for-each&gt;   \r\n                        &lt;/table&gt;   \r\n                    &lt;/body&gt;   \r\n                &lt;/html&gt;   \r\n            &lt;/xsl:template&gt;   \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n","title":"XSL transform failing when ampersand in XML string","body":"<p>When I try to transform XML containing &amp; (ambersand) , below error is coming , how to escape it.</p>\n<p><strong>Error :</strong></p>\n<blockquote>\n<p>Unable to generate the XML document using the provided XML/XSL input.\norg.xml.sax.SAXParseException; lineNumber: 4; columnNumber: 61; The\nreference to entity &quot;LOB&quot; must end with the ';' delimiter. You most\nlikely forgot to escape '&amp;' into '&amp;'</p>\n</blockquote>\n<p><strong>Input XML:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;store&gt; &lt;!-- Root Element --&gt;\n    &lt;book id =&quot;5350192956&quot;&gt;\n        &lt;bookname&gt;https://test.com/logon.jsp?fromLoc=ALL&amp;LOB=COLLogon&lt;/bookname&gt; \n        &lt;authorname&gt;Michael Kay&lt;/authorname&gt;\n        &lt;publisher&gt;Wrox&lt;/publisher&gt;\n        &lt;price&gt;$40&lt;/price&gt; \n        &lt;edition&gt;4th&lt;/edition&gt;         \n    &lt;/book&gt; \n    &lt;book id =&quot;3741122298&quot;&gt;\n        &lt;bookname&gt;Head First Java&lt;/bookname&gt; \n        &lt;authorname&gt;Kathy Sierra&lt;/authorname&gt;\n        &lt;publisher&gt;O'reilly&lt;/publisher&gt;\n        &lt;price&gt;$19&lt;/price&gt; \n        &lt;edition&gt;1st&lt;/edition&gt;         \n    &lt;/book&gt;\n    &lt;book id =&quot;9987436700&quot;&gt;\n        &lt;bookname&gt;SQL The Complete Reference&lt;/bookname&gt; \n        &lt;authorname&gt;James R. Groff&lt;/authorname&gt;\n        &lt;publisher&gt;McGraw-Hill&lt;/publisher&gt;\n        &lt;price&gt;$45&lt;/price&gt; \n        &lt;edition&gt;3rd&lt;/edition&gt;         \n    &lt;/book&gt;\n&lt;/store&gt;\n</code></pre>\n<p><strong>XSL :</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    exclude-result-prefixes=&quot;xs&quot;\n    version=&quot;2.0&quot;  &gt;          \n        &lt;xsl:template match = &quot;/&quot;&gt;           \n            &lt;html&gt;   \n                &lt;body&gt;  \n                    &lt;h2&gt;Books:-&lt;/h2&gt;   \n                    &lt;table border = &quot;1&quot;&gt;   \n                        &lt;tr bgcolor = &quot;#cd8932&quot;&gt;   \n                            &lt;th&gt;Book ID&lt;/th&gt;   \n                            &lt;th&gt;Book Name&lt;/th&gt;   \n                            &lt;th&gt;Author Name&lt;/th&gt;   \n                            &lt;th&gt;Publisher&lt;/th&gt;   \n                            &lt;th&gt;Price&lt;/th&gt;                           \n                            &lt;th&gt;Edition&lt;/th&gt;\n                        &lt;/tr&gt;                        \n                        &lt;xsl:for-each select=&quot;store/book&quot;&gt;   \n                            &lt;tr bgcolor = &quot;#84cd32&quot;&gt;   \n                                &lt;td&gt;&lt;xsl:value-of select = &quot;@id&quot;/&gt;&lt;/td&gt;   \n                                &lt;td&gt;&lt;xsl:value-of disable-output-escaping=&quot;yes&quot; select = &quot;bookname&quot; /&gt;&lt;/td&gt;   \n                                &lt;td&gt;&lt;xsl:value-of select = &quot;authorname&quot;/&gt;&lt;/td&gt;   \n                                &lt;td&gt;&lt;xsl:value-of select = &quot;publisher&quot;/&gt;&lt;/td&gt;   \n                                &lt;td&gt;&lt;xsl:value-of select = &quot;price&quot;/&gt;&lt;/td&gt;                               \n                                &lt;td&gt;&lt;xsl:value-of select = &quot;edition&quot;/&gt;&lt;/td&gt;\n                            &lt;/tr&gt;   \n                        &lt;/xsl:for-each&gt;   \n                    &lt;/table&gt;   \n                &lt;/body&gt;   \n            &lt;/html&gt;   \n        &lt;/xsl:template&gt;   \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n"},{"tags":["java","mongodb","spring-data"],"comments":[{"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1646750854,"post_id":71395739,"comment_id":126197839,"body_markdown":"Could you show an example of what you want your output to look like?   It is not clear what you mean by matching and rowNumbers.","body":"Could you show an example of what you want your output to look like?   It is not clear what you mean by matching and rowNumbers."},{"owner":{"account_id":2272325,"reputation":590,"user_id":9556386,"display_name":"USM"},"score":0,"creation_date":1646805023,"post_id":71395739,"comment_id":126211931,"body_markdown":"@BuzzMoschetti , there is no output as such , i need to match the &quot;nameLable&quot; within &quot;rowNumber&quot;, In this case i need to get only &quot;rowNumber&quot;:&quot;1&quot; record.","body":"@BuzzMoschetti , there is no output as such , i need to match the &quot;nameLable&quot; within &quot;rowNumber&quot;, In this case i need to get only &quot;rowNumber&quot;:&quot;1&quot; record."}],"answers":[{"tags":[],"owner":{"account_id":14916818,"reputation":21534,"user_id":10770370,"display_name":"Tom Slabbaert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646754847,"creation_date":1646754847,"answer_id":71397875,"question_id":71395739,"body_markdown":"Let me start by recommending you reconsider your document structure, I do not know your product but this structure is very *unique* and definitely makes most &quot;simple&quot; access patterns I can think of to very cumbersome to execute. This will be noticeable in my answer.\r\n\r\n\r\nSo the current query you have just required 2 separate elements in the array exist, as you mentioned you want the same `rowNumber`, due to the document structure this isn&#39;t really queryable, we will have to first use your query to match &quot;potential&quot; matching documents. At that point we can filter our the matched rows and see if we have both a first name and a last name matching.\r\n\r\nFinally we could filter out the none matching rows from the result, here is the pipeline:\r\n\r\n```\r\ndb.collection.aggregate([\r\n  {\r\n    &quot;$match&quot;: {\r\n      &quot;testId&quot;: &quot;test&quot;,\r\n      &quot;$and&quot;: [\r\n        {\r\n          &quot;attr&quot;: {\r\n            &quot;$elemMatch&quot;: {\r\n              &quot;nameLable&quot;: &quot;First Name&quot;,\r\n              &quot;userEnteredValue&quot;: {\r\n                &quot;$regex&quot;: &quot;Amanda&quot;,\r\n                &quot;$options&quot;: &quot;i&quot;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          &quot;attr&quot;: {\r\n            &quot;$elemMatch&quot;: {\r\n              &quot;nameLable&quot;: &quot;Last Name&quot;,\r\n              &quot;userEnteredValue&quot;: {\r\n                &quot;$regex&quot;: &quot;Peter&quot;,\r\n                &quot;$options&quot;: &quot;i&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    $addFields: {\r\n      goodRows: {\r\n        &quot;$setIntersection&quot;: [\r\n          {\r\n            $map: {\r\n              input: {\r\n                $filter: {\r\n                  input: &quot;$attr&quot;,\r\n                  cond: {\r\n                    $and: [\r\n                      {\r\n                        $eq: [\r\n                          &quot;$$this.nameLable&quot;,\r\n                          &quot;First Name&quot;\r\n                        ]\r\n                      },\r\n                      {\r\n                        &quot;$regexMatch&quot;: {\r\n                          &quot;input&quot;: {\r\n                            &quot;$arrayElemAt&quot;: [\r\n                              &quot;$$this.userEnteredValue&quot;,\r\n                              0\r\n                            ]\r\n                          },\r\n                          &quot;regex&quot;: &quot;Amanda&quot;,\r\n                          &quot;options&quot;: &quot;i&quot;\r\n                        }\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              },\r\n              in: &quot;$$this.rowNumber&quot;\r\n            }\r\n          },\r\n          {\r\n            $map: {\r\n              input: {\r\n                $filter: {\r\n                  input: &quot;$attr&quot;,\r\n                  cond: {\r\n                    $and: [\r\n                      {\r\n                        $eq: [\r\n                          &quot;$$this.nameLable&quot;,\r\n                          &quot;Last Name&quot;\r\n                        ]\r\n                      },\r\n                      {\r\n                        &quot;$regexMatch&quot;: {\r\n                          &quot;input&quot;: {\r\n                            &quot;$arrayElemAt&quot;: [\r\n                              &quot;$$this.userEnteredValue&quot;,\r\n                              0\r\n                            ]\r\n                          },\r\n                          &quot;regex&quot;: &quot;Peter&quot;,\r\n                          &quot;options&quot;: &quot;i&quot;\r\n                        }\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              },\r\n              in: &quot;$$this.rowNumber&quot;\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  {\r\n    $match: {\r\n      $expr: {\r\n        $gt: [\r\n          {\r\n            $size: &quot;$goodRows&quot;\r\n          },\r\n          0\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  {\r\n    $addFields: {\r\n      attr: {\r\n        $filter: {\r\n          input: &quot;$attr&quot;,\r\n          cond: {\r\n            $in: [\r\n              &quot;$$this.rowNumber&quot;,\r\n              &quot;$goodRows&quot;\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n])\r\n```\r\n\r\n[Mongo Playground][1]\r\n\r\n[1]:https://mongoplayground.net/p/PbyJz0oxINX","title":"Mongodb - aggregate match within attribute value","body":"<p>Let me start by recommending you reconsider your document structure, I do not know your product but this structure is very <em>unique</em> and definitely makes most &quot;simple&quot; access patterns I can think of to very cumbersome to execute. This will be noticeable in my answer.</p>\n<p>So the current query you have just required 2 separate elements in the array exist, as you mentioned you want the same <code>rowNumber</code>, due to the document structure this isn't really queryable, we will have to first use your query to match &quot;potential&quot; matching documents. At that point we can filter our the matched rows and see if we have both a first name and a last name matching.</p>\n<p>Finally we could filter out the none matching rows from the result, here is the pipeline:</p>\n<pre><code>db.collection.aggregate([\n  {\n    &quot;$match&quot;: {\n      &quot;testId&quot;: &quot;test&quot;,\n      &quot;$and&quot;: [\n        {\n          &quot;attr&quot;: {\n            &quot;$elemMatch&quot;: {\n              &quot;nameLable&quot;: &quot;First Name&quot;,\n              &quot;userEnteredValue&quot;: {\n                &quot;$regex&quot;: &quot;Amanda&quot;,\n                &quot;$options&quot;: &quot;i&quot;\n              }\n            }\n          }\n        },\n        {\n          &quot;attr&quot;: {\n            &quot;$elemMatch&quot;: {\n              &quot;nameLable&quot;: &quot;Last Name&quot;,\n              &quot;userEnteredValue&quot;: {\n                &quot;$regex&quot;: &quot;Peter&quot;,\n                &quot;$options&quot;: &quot;i&quot;\n              }\n            }\n          }\n        }\n      ]\n    }\n  },\n  {\n    $addFields: {\n      goodRows: {\n        &quot;$setIntersection&quot;: [\n          {\n            $map: {\n              input: {\n                $filter: {\n                  input: &quot;$attr&quot;,\n                  cond: {\n                    $and: [\n                      {\n                        $eq: [\n                          &quot;$$this.nameLable&quot;,\n                          &quot;First Name&quot;\n                        ]\n                      },\n                      {\n                        &quot;$regexMatch&quot;: {\n                          &quot;input&quot;: {\n                            &quot;$arrayElemAt&quot;: [\n                              &quot;$$this.userEnteredValue&quot;,\n                              0\n                            ]\n                          },\n                          &quot;regex&quot;: &quot;Amanda&quot;,\n                          &quot;options&quot;: &quot;i&quot;\n                        }\n                      }\n                    ]\n                  }\n                }\n              },\n              in: &quot;$$this.rowNumber&quot;\n            }\n          },\n          {\n            $map: {\n              input: {\n                $filter: {\n                  input: &quot;$attr&quot;,\n                  cond: {\n                    $and: [\n                      {\n                        $eq: [\n                          &quot;$$this.nameLable&quot;,\n                          &quot;Last Name&quot;\n                        ]\n                      },\n                      {\n                        &quot;$regexMatch&quot;: {\n                          &quot;input&quot;: {\n                            &quot;$arrayElemAt&quot;: [\n                              &quot;$$this.userEnteredValue&quot;,\n                              0\n                            ]\n                          },\n                          &quot;regex&quot;: &quot;Peter&quot;,\n                          &quot;options&quot;: &quot;i&quot;\n                        }\n                      }\n                    ]\n                  }\n                }\n              },\n              in: &quot;$$this.rowNumber&quot;\n            }\n          }\n        ]\n      }\n    }\n  },\n  {\n    $match: {\n      $expr: {\n        $gt: [\n          {\n            $size: &quot;$goodRows&quot;\n          },\n          0\n        ]\n      }\n    }\n  },\n  {\n    $addFields: {\n      attr: {\n        $filter: {\n          input: &quot;$attr&quot;,\n          cond: {\n            $in: [\n              &quot;$$this.rowNumber&quot;,\n              &quot;$goodRows&quot;\n            ]\n          }\n        }\n      }\n    }\n  }\n])\n</code></pre>\n<p><a href=\"https://mongoplayground.net/p/PbyJz0oxINX\" rel=\"nofollow noreferrer\">Mongo Playground</a></p>\n"}],"owner":{"account_id":2272325,"reputation":590,"user_id":9556386,"display_name":"USM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646754847,"creation_date":1646745537,"question_id":71395739,"body_markdown":"**MongoDB Data:**\r\n\r\n        {\r\n        &quot;_id&quot; : ObjectId(&quot;123&quot;),\r\n        &quot;attr&quot; : [ \r\n            {\r\n                &quot;nameLable&quot; : &quot;First Name&quot;,\r\n                &quot;userEnteredValue&quot; : [ \r\n                    &quot;Amanda&quot;\r\n                ],\r\n    \t\t\t&quot;rowNumber&quot;:&quot;1&quot;\r\n            }, \r\n            {\r\n                &quot;nameLable&quot; : &quot;Last Name&quot;,\r\n                &quot;userEnteredValue&quot; : [ \r\n                    &quot;Peter&quot;\r\n                ],\r\n    \t\t\t&quot;rowNumber&quot;:&quot;1&quot;\r\n            }, \r\n            {\r\n                &quot;nameLable&quot; : &quot;First Name&quot;,\r\n                &quot;userEnteredValue&quot; : [ \r\n                    &quot;Sandra&quot;\r\n                ],\r\n    \t\t\t&quot;rowNumber&quot;:&quot;2&quot;\r\n            }, \r\n            {\r\n                &quot;nameLable&quot; : &quot;Last Name&quot;,\r\n                &quot;userEnteredValue&quot; : [ \r\n                    &quot;Peter&quot;\r\n                ],\r\n    \t\t\t&quot;rowNumber&quot;:&quot;2&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\nMatching (First Name equals &quot;Amanda&quot; &amp;&amp; Last Name equals &quot;Peter&quot;) -&gt; Match should happen within rowNumber so that i will get rowNumber1 record but now i am getting both rows as &quot;Peter&quot; happens to be in both &quot;rowNumber&quot; attribute.\r\n\r\n**Criteria Code:**\r\n\r\n    Criteria cr = Criteria.where(&quot;attr&quot;).elemMatch(Criteria.where(&quot;nameLable&quot;).is(map.get(&quot;value1&quot;)).and(&quot;userEnteredValue&quot;).regex(map.get(&quot;value2&quot;).trim(), &quot;i&quot;); //Inside loop\r\n\r\n    AggregationOperation match = Aggregation.match(Criteria.where(&quot;testId&quot;).is(&quot;test&quot;).andOperator(cr.toArray(new Criteria[criteria.size()])));\r\n\r\n**DB Query for above search Criteria Match:**\r\n\r\n        db.Col1.aggregate([\r\n          {\r\n             &quot;$match&quot;:{\r\n             &quot;testId&quot;:&quot;test&quot;,\r\n             &quot;$and&quot;:[\r\n                   {\r\n                      &quot;attr&quot;:{\r\n                         &quot;$elemMatch&quot;:{\r\n                            &quot;nameLable&quot;:&quot;First Name&quot;,\r\n                            &quot;userEnteredValue&quot;:{\r\n                               &quot;$regex&quot;:&quot;Amanda&quot;,\r\n                               &quot;$options&quot;:&quot;i&quot;\r\n                            }\r\n                         }\r\n                      }\r\n                   },\r\n                   {\r\n                      &quot;attr&quot;:{\r\n                         &quot;$elemMatch&quot;:{\r\n                            &quot;nameLable&quot;:&quot;Last Name&quot;,\r\n                            &quot;userEnteredValue&quot;:{\r\n                               &quot;$regex&quot;:&quot;Peter&quot;,\r\n                               &quot;$options&quot;:&quot;i&quot;\r\n                            }\r\n                         }\r\n                      }\r\n                   }\r\n                ]\r\n             }\r\n          }\r\n       ]\r\n    )\r\n\r\nPlease let me know how can we do match within &quot;rowNumber&quot; attribute.","title":"Mongodb - aggregate match within attribute value","body":"<p><strong>MongoDB Data:</strong></p>\n<pre><code>    {\n    &quot;_id&quot; : ObjectId(&quot;123&quot;),\n    &quot;attr&quot; : [ \n        {\n            &quot;nameLable&quot; : &quot;First Name&quot;,\n            &quot;userEnteredValue&quot; : [ \n                &quot;Amanda&quot;\n            ],\n            &quot;rowNumber&quot;:&quot;1&quot;\n        }, \n        {\n            &quot;nameLable&quot; : &quot;Last Name&quot;,\n            &quot;userEnteredValue&quot; : [ \n                &quot;Peter&quot;\n            ],\n            &quot;rowNumber&quot;:&quot;1&quot;\n        }, \n        {\n            &quot;nameLable&quot; : &quot;First Name&quot;,\n            &quot;userEnteredValue&quot; : [ \n                &quot;Sandra&quot;\n            ],\n            &quot;rowNumber&quot;:&quot;2&quot;\n        }, \n        {\n            &quot;nameLable&quot; : &quot;Last Name&quot;,\n            &quot;userEnteredValue&quot; : [ \n                &quot;Peter&quot;\n            ],\n            &quot;rowNumber&quot;:&quot;2&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Matching (First Name equals &quot;Amanda&quot; &amp;&amp; Last Name equals &quot;Peter&quot;) -&gt; Match should happen within rowNumber so that i will get rowNumber1 record but now i am getting both rows as &quot;Peter&quot; happens to be in both &quot;rowNumber&quot; attribute.</p>\n<p><strong>Criteria Code:</strong></p>\n<pre><code>Criteria cr = Criteria.where(&quot;attr&quot;).elemMatch(Criteria.where(&quot;nameLable&quot;).is(map.get(&quot;value1&quot;)).and(&quot;userEnteredValue&quot;).regex(map.get(&quot;value2&quot;).trim(), &quot;i&quot;); //Inside loop\n\nAggregationOperation match = Aggregation.match(Criteria.where(&quot;testId&quot;).is(&quot;test&quot;).andOperator(cr.toArray(new Criteria[criteria.size()])));\n</code></pre>\n<p><strong>DB Query for above search Criteria Match:</strong></p>\n<pre><code>    db.Col1.aggregate([\n      {\n         &quot;$match&quot;:{\n         &quot;testId&quot;:&quot;test&quot;,\n         &quot;$and&quot;:[\n               {\n                  &quot;attr&quot;:{\n                     &quot;$elemMatch&quot;:{\n                        &quot;nameLable&quot;:&quot;First Name&quot;,\n                        &quot;userEnteredValue&quot;:{\n                           &quot;$regex&quot;:&quot;Amanda&quot;,\n                           &quot;$options&quot;:&quot;i&quot;\n                        }\n                     }\n                  }\n               },\n               {\n                  &quot;attr&quot;:{\n                     &quot;$elemMatch&quot;:{\n                        &quot;nameLable&quot;:&quot;Last Name&quot;,\n                        &quot;userEnteredValue&quot;:{\n                           &quot;$regex&quot;:&quot;Peter&quot;,\n                           &quot;$options&quot;:&quot;i&quot;\n                        }\n                     }\n                  }\n               }\n            ]\n         }\n      }\n   ]\n)\n</code></pre>\n<p>Please let me know how can we do match within &quot;rowNumber&quot; attribute.</p>\n"},{"tags":["java","sql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1646753768,"post_id":71397583,"comment_id":126199015,"body_markdown":"This _might_ work if you make your query native.  Otherwise, it is not valid JPQL and will not work.","body":"This <i>might</i> work if you make your query native.  Otherwise, it is not valid JPQL and will not work."},{"owner":{"account_id":5808495,"reputation":219,"user_id":4580401,"accept_rate":57,"display_name":"JSB"},"score":0,"creation_date":1646754196,"post_id":71397583,"comment_id":126199182,"body_markdown":"I thought so. it is native but it wil error out at the sample method if provided with a parameter. so i guess there is no way around this.","body":"I thought so. it is native but it wil error out at the sample method if provided with a parameter. so i guess there is no way around this."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1646754235,"post_id":71397583,"comment_id":126199197,"body_markdown":"What is the error?","body":"What is the error?"},{"owner":{"account_id":5808495,"reputation":219,"user_id":4580401,"accept_rate":57,"display_name":"JSB"},"score":0,"creation_date":1646754402,"post_id":71397583,"comment_id":126199267,"body_markdown":"SQL command not properly ended","body":"SQL command not properly ended"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646754558,"creation_date":1646754558,"answer_id":71397809,"question_id":71397583,"body_markdown":"The error is on the following part\r\n\r\n    from adress sample(:percentile)\r\n\r\nUnfortunately it does not belong to the `where` part of the query and so the parameter passed `:percentile` can&#39;t be bound to the query.\r\n\r\nThere is not any quick fix around this. You won&#39;t be able to use a method parameter that will be able to be bound in the query in the part that you want it to be, because parameters can only be bound in the `where` part of the query. ","title":"Combine JPA Query annotation with Oracle sample method","body":"<p>The error is on the following part</p>\n<pre><code>from adress sample(:percentile)\n</code></pre>\n<p>Unfortunately it does not belong to the <code>where</code> part of the query and so the parameter passed <code>:percentile</code> can't be bound to the query.</p>\n<p>There is not any quick fix around this. You won't be able to use a method parameter that will be able to be bound in the query in the part that you want it to be, because parameters can only be bound in the <code>where</code> part of the query.</p>\n"}],"owner":{"account_id":5808495,"reputation":219,"user_id":4580401,"accept_rate":57,"display_name":"JSB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71397809,"answer_count":1,"score":0,"last_activity_date":1646754558,"creation_date":1646753631,"question_id":71397583,"body_markdown":"i am trying to pass a parameter into a JPA query \r\nExample code\r\n     \r\n     @Query(value =\r\n                  &quot;select *\\n&quot;\r\n                + &quot;from adress sample(:percentile)\\n&quot;\r\n                + &quot;where adress.number in (:adressNumbers)\\n&quot;\r\n                + &quot;fetch first (:rows) rows only,&quot;\r\n                + &quot;nativeQuery = true\r\n               List&lt;X&gt; sampleExample(Integer rows, List&lt;Integer&gt; adressNumbers, Double percentile)\r\n\r\nBut i get an error because of the sample(:percentile).\r\nIf i just hardcode a number in there it works but not with a param.\r\nIs there a way to escape the brackets or something similar?\r\nThx","title":"Combine JPA Query annotation with Oracle sample method","body":"<p>i am trying to pass a parameter into a JPA query\nExample code</p>\n<pre><code> @Query(value =\n              &quot;select *\\n&quot;\n            + &quot;from adress sample(:percentile)\\n&quot;\n            + &quot;where adress.number in (:adressNumbers)\\n&quot;\n            + &quot;fetch first (:rows) rows only,&quot;\n            + &quot;nativeQuery = true\n           List&lt;X&gt; sampleExample(Integer rows, List&lt;Integer&gt; adressNumbers, Double percentile)\n</code></pre>\n<p>But i get an error because of the sample(:percentile).\nIf i just hardcode a number in there it works but not with a param.\nIs there a way to escape the brackets or something similar?\nThx</p>\n"},{"tags":["java","javafx","javafx-webengine","xwiki"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1646655980,"post_id":71380456,"comment_id":126169601,"body_markdown":"You tested it with a more recent version of JavaFX and it worked.  So use a recent version of JavaFX than the obsolete JavaFX 8 version.","body":"You tested it with a more recent version of JavaFX and it worked.  So use a recent version of JavaFX than the obsolete JavaFX 8 version."},{"owner":{"account_id":24450318,"reputation":1,"user_id":18372658,"display_name":"MCSchreiber"},"score":0,"creation_date":1646656348,"post_id":71380456,"comment_id":126169728,"body_markdown":"@jewelsea\nThe next goal is to implement a webview in an application. This application cannot currently be upgraded to a newer version.","body":"@jewelsea The next goal is to implement a webview in an application. This application cannot currently be upgraded to a newer version."}],"answers":[{"tags":[],"owner":{"account_id":1164046,"reputation":785,"user_id":5198689,"display_name":"Eduard Moraru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646754551,"creation_date":1646754551,"answer_id":71397808,"question_id":71380456,"body_markdown":"Have a look at https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Authentication/#HBasicAuthentication\r\n\r\n&gt; https://username:password@mywiki.xwiki.com/xwiki/bin/view/Main/WebHome?basicauth=1\r\n\r\nTry adding the `basicauth=1` query string parameter that signals XWiki to accept your submitted basic authentication header and log you in.","title":"jfx webview with Basic auth does not notice that it is logged in at the first attempt","body":"<p>Have a look at <a href=\"https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Authentication/#HBasicAuthentication\" rel=\"nofollow noreferrer\">https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Authentication/#HBasicAuthentication</a></p>\n<blockquote>\n<p>https://username:password@mywiki.xwiki.com/xwiki/bin/view/Main/WebHome?basicauth=1</p>\n</blockquote>\n<p>Try adding the <code>basicauth=1</code> query string parameter that signals XWiki to accept your submitted basic authentication header and log you in.</p>\n"}],"owner":{"account_id":24450318,"reputation":1,"user_id":18372658,"display_name":"MCSchreiber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646754551,"creation_date":1646652891,"question_id":71380456,"body_markdown":"First of all, beginner here.&lt;br&gt;\r\nGoal:&lt;br&gt;\r\nI would like to access a page of my wiki(xWiki) with basic authentication and **Openjdk 8**.&lt;br&gt;&lt;br&gt;\r\nProblem:&lt;br&gt;\r\nIt doesn&#39;t recognize on the first attempt that im already logged in visually. So it doesn&#39;t load for example Buttons that are only available logged in&lt;br&gt;\r\nIf i refresh the page, it works. &lt;br&gt;\r\nIf i switch to another page, it works.&lt;br&gt;\r\nIt just doesn&#39;t work the first time you open the page.&lt;br&gt;&lt;br&gt;\r\nWhat i&#39;ve tryed:&lt;br&gt;\r\nI changed openjdk and openjfx version to 11 and it worked.&lt;br&gt;\r\nAccess the Site with firefox browser works.&lt;br&gt;\r\nAdding Webengine state listener but without success(The idea was to wait until it was fully loaded).&lt;br&gt;&lt;br&gt;\r\nWork around:&lt;br&gt;\r\nCall the method twice or reload webengine but that doesn&#39;t feel right.&lt;br&gt;&lt;br&gt;\r\nNote:&lt;br&gt;\r\nUsing Apache 2.4 and Tomcat 8.5&lt;br&gt;\r\nUsing Wireshark shows that bootstrap is not loaded?(not really sure)&lt;br&gt;\r\nPlaintext credentials and http just for test purposes.&lt;br&gt;&lt;br&gt;\r\nCode:&lt;br&gt;\r\n```public class Main extends Application {\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    @Override \r\n    public void start(Stage stage) {\r\n        stage.setTitle(&quot;Web View&quot;);\r\n        Scene scene = new Scene(new Browser(), 1500, 1000, Color.web(&quot;#666970&quot;));\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n}\r\nclass Browser extends Region {\r\n\r\n    final WebView browser = new WebView();\r\n    final WebEngine webEngine = browser.getEngine();\r\n\r\n    public Browser() {\r\n        String login = &quot;foo&quot;;\r\n        String password = &quot;foo&quot;;\r\n        String loginPassword = login + &quot;:&quot; + password;\r\n        String encoded = Base64.getEncoder().encodeToString(loginPassword.getBytes());\r\n        webEngine.setUserAgent(webEngine.getUserAgent().concat(&quot;\\nAuthorization: Basic &quot; + encoded));\r\n        webEngine.load(&quot;http://localhost/foo&quot;);\r\n        getChildren().add(browser);\r\n    }\r\n\r\n    @Override\r\n    protected void layoutChildren() {\r\n        double w = getWidth();\r\n        double h = getHeight();\r\n        layoutInArea(browser, 0, 0, w, h, 0, HPos.CENTER, VPos.CENTER);\r\n    }\r\n}\r\n```","title":"jfx webview with Basic auth does not notice that it is logged in at the first attempt","body":"<p>First of all, beginner here.<br>\nGoal:<br>\nI would like to access a page of my wiki(xWiki) with basic authentication and <strong>Openjdk 8</strong>.<br><br>\nProblem:<br>\nIt doesn't recognize on the first attempt that im already logged in visually. So it doesn't load for example Buttons that are only available logged in<br>\nIf i refresh the page, it works. <br>\nIf i switch to another page, it works.<br>\nIt just doesn't work the first time you open the page.<br><br>\nWhat i've tryed:<br>\nI changed openjdk and openjfx version to 11 and it worked.<br>\nAccess the Site with firefox browser works.<br>\nAdding Webengine state listener but without success(The idea was to wait until it was fully loaded).<br><br>\nWork around:<br>\nCall the method twice or reload webengine but that doesn't feel right.<br><br>\nNote:<br>\nUsing Apache 2.4 and Tomcat 8.5<br>\nUsing Wireshark shows that bootstrap is not loaded?(not really sure)<br>\nPlaintext credentials and http just for test purposes.<br><br>\nCode:<br></p>\n<pre><code>    public static void main(String[] args) {\n        launch(args);\n    }\n    @Override \n    public void start(Stage stage) {\n        stage.setTitle(&quot;Web View&quot;);\n        Scene scene = new Scene(new Browser(), 1500, 1000, Color.web(&quot;#666970&quot;));\n        stage.setScene(scene);\n        stage.show();\n    }\n}\nclass Browser extends Region {\n\n    final WebView browser = new WebView();\n    final WebEngine webEngine = browser.getEngine();\n\n    public Browser() {\n        String login = &quot;foo&quot;;\n        String password = &quot;foo&quot;;\n        String loginPassword = login + &quot;:&quot; + password;\n        String encoded = Base64.getEncoder().encodeToString(loginPassword.getBytes());\n        webEngine.setUserAgent(webEngine.getUserAgent().concat(&quot;\\nAuthorization: Basic &quot; + encoded));\n        webEngine.load(&quot;http://localhost/foo&quot;);\n        getChildren().add(browser);\n    }\n\n    @Override\n    protected void layoutChildren() {\n        double w = getWidth();\n        double h = getHeight();\n        layoutInArea(browser, 0, 0, w, h, 0, HPos.CENTER, VPos.CENTER);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","beancreationexception"],"comments":[{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1646751420,"post_id":71396775,"comment_id":126198049,"body_markdown":"Can you share your entity class and your application.properties file?","body":"Can you share your entity class and your application.properties file?"},{"owner":{"account_id":24492156,"reputation":1,"user_id":18409079,"display_name":"Przemysław "},"score":0,"creation_date":1646752660,"post_id":71396775,"comment_id":126198552,"body_markdown":"@zawarudo :      [1]: https://i.stack.imgur.com/R8A5T.png\n  [2]: https://i.stack.imgur.com/29Yym.png\n  [3]: https://i.stack.imgur.com/u4aWt.png\n  [4]: https://i.stack.imgur.com/laAB3.png","body":"@zawarudo :      [1]: <a href=\"https://i.stack.imgur.com/R8A5T.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/R8A5T.png</a>   [2]: <a href=\"https://i.stack.imgur.com/29Yym.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/29Yym.png</a>   [3]: <a href=\"https://i.stack.imgur.com/u4aWt.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/u4aWt.png</a>   [4]: <a href=\"https://i.stack.imgur.com/laAB3.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/laAB3.png</a>"}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646754543,"creation_date":1646753090,"answer_id":71397462,"question_id":71396775,"body_markdown":"I think that you are missing a table in your users database.\r\nThe issue is that you are trying to insert the data, into your table, which is not present in your database.\r\n\r\nTry to execute this script and try again\r\n\r\n    CREATE TABLE user (\r\n        id int NOT NULL AUTO_INCREMENT,\r\n        name varchar(255),\r\n        surname varchar(255),\r\n        email varchar(255),\r\n        city varchar(255),\r\n        PRIMARY KEY (id)\r\n    );\r\n\r\nAlso don&#39;t forget to properly map your entity to your database\r\n\r\n    @Entity\r\n    @Getter @Setter @NoArgsConstructor\r\n    @Table(name=&quot;user&quot;)\r\n    public class User{\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private Integer id;\r\n        \r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name=&quot;surname&quot;)\r\n        private String surname;\r\n    \r\n        @Column(name=&quot;email&quot;)&lt;-- this email is matching value of the field in the database\r\n        private String email;&lt;-- this email is your entity field\r\n    \r\n        @Column(name=&quot;city&quot;)\r\n        private String city ;\r\n\r\n","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scriptDataSourceInitializer&#39;","body":"<p>I think that you are missing a table in your users database.\nThe issue is that you are trying to insert the data, into your table, which is not present in your database.</p>\n<p>Try to execute this script and try again</p>\n<pre><code>CREATE TABLE user (\n    id int NOT NULL AUTO_INCREMENT,\n    name varchar(255),\n    surname varchar(255),\n    email varchar(255),\n    city varchar(255),\n    PRIMARY KEY (id)\n);\n</code></pre>\n<p>Also don't forget to properly map your entity to your database</p>\n<pre><code>@Entity\n@Getter @Setter @NoArgsConstructor\n@Table(name=&quot;user&quot;)\npublic class User{\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Integer id;\n    \n    @Column(name=&quot;name&quot;)\n    private String name;\n\n    @Column(name=&quot;surname&quot;)\n    private String surname;\n\n    @Column(name=&quot;email&quot;)&lt;-- this email is matching value of the field in the database\n    private String email;&lt;-- this email is your entity field\n\n    @Column(name=&quot;city&quot;)\n    private String city ;\n</code></pre>\n"}],"owner":{"account_id":24492156,"reputation":1,"user_id":18409079,"display_name":"Przemysław "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646754543,"creation_date":1646750316,"question_id":71396775,"body_markdown":"I tried to compile very easy program with saving easy table with 3 users to http://localhost/phpmyadmin to empty database named ,,users&#39;&#39; but it still show me exceptions which you can see.\r\n\r\n\r\n1 exception org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scriptDataSourceInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceInitializationConfiguration$SharedCredentialsDataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: insert into user (name,surname,email,city) values (&#39;Przemek&#39;,&#39;Mazurek&#39;,&#39;przemyslaw.mazurek@gmail.com&#39;,&#39;Warsaw&#39;), (&#39;Anna&#39;, &#39;Grodna&#39;,&#39;anna.grodna@gmail.com&#39;,&#39;Lublin&#39;), (&#39;Zosia&#39;,&#39;Gulina&#39;,&#39;zosia.gulina@gmail.com&#39;,&#39;Praga&#39;); nested exception is java.sql.SQLSyntaxErrorException: Table &#39;users.user&#39; doesn&#39;t exist \r\n\r\n2 exception: Caused by: java.sql.SQLSyntaxErrorException: Table &#39;users.user&#39; doesn&#39;t exist\r\n\r\n3 exception: Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: insert into user (name,surname,email,city) values (&#39;Przemek&#39;,&#39;Mazurek&#39;,&#39;przemyslaw.mazurek@gmail.com&#39;,&#39;Warsaw&#39;), (&#39;Anna&#39;, &#39;Grodna&#39;,&#39;anna.grodna@gmail.com&#39;,&#39;Lublin&#39;), (&#39;Zosia&#39;,&#39;Gulina&#39;,&#39;zosia.gulina@gmail.com&#39;,&#39;Praga&#39;); nested exception is java.sql.SQLSyntaxErrorException: Table &#39;users.user&#39; doesn&#39;t exist\r\n\r\n  \r\n\r\n\r\n      [applications.properties file][1]\r\n    \r\n    [User and Entity class][2]\r\n    [data.sql file][3] \r\n    [User Repository][4]\r\n    \r\n    \r\n      [1]: https://i.stack.imgur.com/R8A5T.png\r\n      [2]: https://i.stack.imgur.com/29Yym.png\r\n      [3]: https://i.stack.imgur.com/u4aWt.png\r\n      [4]: https://i.stack.imgur.com/laAB3.png","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scriptDataSourceInitializer&#39;","body":"<p>I tried to compile very easy program with saving easy table with 3 users to http://localhost/phpmyadmin to empty database named ,,users'' but it still show me exceptions which you can see.</p>\n<p>1 exception org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scriptDataSourceInitializer' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceInitializationConfiguration$SharedCredentialsDataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: insert into user (name,surname,email,city) values ('Przemek','Mazurek','przemyslaw.mazurek@gmail.com','Warsaw'), ('Anna', 'Grodna','anna.grodna@gmail.com','Lublin'), ('Zosia','Gulina','zosia.gulina@gmail.com','Praga'); nested exception is java.sql.SQLSyntaxErrorException: Table 'users.user' doesn't exist</p>\n<p>2 exception: Caused by: java.sql.SQLSyntaxErrorException: Table 'users.user' doesn't exist</p>\n<p>3 exception: Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data.sql]: insert into user (name,surname,email,city) values ('Przemek','Mazurek','przemyslaw.mazurek@gmail.com','Warsaw'), ('Anna', 'Grodna','anna.grodna@gmail.com','Lublin'), ('Zosia','Gulina','zosia.gulina@gmail.com','Praga'); nested exception is java.sql.SQLSyntaxErrorException: Table 'users.user' doesn't exist</p>\n<pre><code>  [applications.properties file][1]\n\n[User and Entity class][2]\n[data.sql file][3] \n[User Repository][4]\n\n\n  [1]: https://i.stack.imgur.com/R8A5T.png\n  [2]: https://i.stack.imgur.com/29Yym.png\n  [3]: https://i.stack.imgur.com/u4aWt.png\n  [4]: https://i.stack.imgur.com/laAB3.png\n</code></pre>\n"},{"tags":["java","xml","spring","xsd","ehcache"],"comments":[{"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"score":0,"creation_date":1672966772,"post_id":71397802,"comment_id":132398182,"body_markdown":"I also encountered similar problem. Did you found the solution? thanks.","body":"I also encountered similar problem. Did you found the solution? thanks."}],"owner":{"account_id":2427794,"reputation":586,"user_id":2119381,"accept_rate":70,"display_name":"MABC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646754522,"creation_date":1646754522,"question_id":71397802,"body_markdown":"I have a project done with `Spring` framework that uses `ehcache`. This project has a resource file named `xxxx_ehcache.xml` . Now this project has a dependency with a library that is in turn using `ehcache` also, and this library provides a file called `yyyy_ehcache.xml` with some content that can be embedded in the main `xxxx_ehcache.xml`. \r\n\r\nI want to embed `yyyy_ehcache.xml` in `xxxx_ehcache.xml`. In `Spring` we have this tag:\r\n\r\n    &lt;import resource=&quot;classpath:/someFile.xml&quot; /&gt;\r\n\r\nBut I dont know how to do this using ehcache `XSD` grammar.","title":"Use several ehcache XML files in same project","body":"<p>I have a project done with <code>Spring</code> framework that uses <code>ehcache</code>. This project has a resource file named <code>xxxx_ehcache.xml</code> . Now this project has a dependency with a library that is in turn using <code>ehcache</code> also, and this library provides a file called <code>yyyy_ehcache.xml</code> with some content that can be embedded in the main <code>xxxx_ehcache.xml</code>.</p>\n<p>I want to embed <code>yyyy_ehcache.xml</code> in <code>xxxx_ehcache.xml</code>. In <code>Spring</code> we have this tag:</p>\n<pre><code>&lt;import resource=&quot;classpath:/someFile.xml&quot; /&gt;\n</code></pre>\n<p>But I dont know how to do this using ehcache <code>XSD</code> grammar.</p>\n"},{"tags":["java","maven","protocol-buffers","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646753868,"creation_date":1646753868,"answer_id":71397641,"question_id":71395262,"body_markdown":"The Maven and Gradle protobuf plugins include the `.proto` files in the same library `.jar` as the compiled generated files (`.class`). This allows depending on a single jar and it providing the assets for protoc and javac.\r\n\r\nI suggest making Maven libraries for your .protos and the related generated code. Treat it as a normal Java library.","title":"Transitive Dependencies on generated (gGRPC) code with java/maven","body":"<p>The Maven and Gradle protobuf plugins include the <code>.proto</code> files in the same library <code>.jar</code> as the compiled generated files (<code>.class</code>). This allows depending on a single jar and it providing the assets for protoc and javac.</p>\n<p>I suggest making Maven libraries for your .protos and the related generated code. Treat it as a normal Java library.</p>\n"}],"owner":{"account_id":5621250,"reputation":521,"user_id":4451012,"display_name":"markus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71397641,"answer_count":1,"score":1,"last_activity_date":1646753868,"creation_date":1646743391,"question_id":71395262,"body_markdown":"We have a `server` and `client` application which shall talk to each other, both written in java and built with maven.\r\n\r\nThey interact via a gRPC interface.\r\n\r\nWe have different dependency situations on `server` and `client`:\r\n\r\n```\r\nserver                         client\r\n  |                               |\r\n  --&gt; lib-a                       --&gt; *.protobuf\r\n  |   |\r\n  |   --&gt; *.protobuf\r\n  --&gt; lib-b\r\n  |   |\r\n  |   --&gt; *.protobuf\r\n  --&gt; *.protobuf\r\n```\r\n\r\nThe `server` includes libraries `lib-a` and `lib-b` which in turn need a *subset* of the messages that are defined in `*.protobuf`. The server also needs some the stuff from `*.protobuf` for himself.\r\n\r\nThe `client` needs raw the `*.protobuf`-files (not just generated java sources) to generate some more code from it (for use with mutiny). \r\n\r\nWe have the raw `*.protobuf` sources are in a separate repository and now we need to distribute them somehow. The other dependencies are all managed by maven (`server-&gt;lib-a, server-&gt;lib-b`)\r\n\r\nWe have some options how to provide this dependency.\r\n1) Generate classfiles from `*.protobuf` and **distribute them as maven artifacts**\r\n2) Include the repository that contains `*.protobuf` as a **git-submodule**\r\n\r\nbut with each variant we face some problems:\r\n\r\nproblems with 1): the `client` needs access to the raw `*.protobuf` file to generate some more stuff from it (mutiny). Is there a way to distribute the raw file via maven as well? I also heared  that it may be a bad practice to distribute generated code as maven artifacts(?)\r\n\r\nproblems with 2): we have a git-submodule in `lib-a`, that would generate all `*.class` files from `*.protobuf` and include these generated sources in it&#39;s published artifact. The same thing happens in `lib-b`. If both libraries are released independently, it may happen that they include different versions of the generated sources. This may lead to issues when the `server` includes both. In contrast to the maven-managed dependency, this is not explicit an there will be no warnings in the compile-process. Moreover, we would like to exclude `SNAPSHOT` dependencies in our releases (which we currently enforce with `maven-enforcer-plugin`). Is there some best-practice to achieve the same with git-submodules (my current best idea is to restrict allowed branch names for submodules in CI pipeline ...)\r\n\r\nI would really appreciate some advice here :)\r\n\r\nCurrently, I am also doing my own reading for:\r\n * distributing the raw `*.protobuf` files via maven (see: https://stackoverflow.com/questions/13165333/importing-protocol-buffer-definitions-between-maven-projects?rq=1)\r\n * providing the client-generated code as an artifact as well","title":"Transitive Dependencies on generated (gGRPC) code with java/maven","body":"<p>We have a <code>server</code> and <code>client</code> application which shall talk to each other, both written in java and built with maven.</p>\n<p>They interact via a gRPC interface.</p>\n<p>We have different dependency situations on <code>server</code> and <code>client</code>:</p>\n<pre><code>server                         client\n  |                               |\n  --&gt; lib-a                       --&gt; *.protobuf\n  |   |\n  |   --&gt; *.protobuf\n  --&gt; lib-b\n  |   |\n  |   --&gt; *.protobuf\n  --&gt; *.protobuf\n</code></pre>\n<p>The <code>server</code> includes libraries <code>lib-a</code> and <code>lib-b</code> which in turn need a <em>subset</em> of the messages that are defined in <code>*.protobuf</code>. The server also needs some the stuff from <code>*.protobuf</code> for himself.</p>\n<p>The <code>client</code> needs raw the <code>*.protobuf</code>-files (not just generated java sources) to generate some more code from it (for use with mutiny).</p>\n<p>We have the raw <code>*.protobuf</code> sources are in a separate repository and now we need to distribute them somehow. The other dependencies are all managed by maven (<code>server-&gt;lib-a, server-&gt;lib-b</code>)</p>\n<p>We have some options how to provide this dependency.</p>\n<ol>\n<li>Generate classfiles from <code>*.protobuf</code> and <strong>distribute them as maven artifacts</strong></li>\n<li>Include the repository that contains <code>*.protobuf</code> as a <strong>git-submodule</strong></li>\n</ol>\n<p>but with each variant we face some problems:</p>\n<p>problems with 1): the <code>client</code> needs access to the raw <code>*.protobuf</code> file to generate some more stuff from it (mutiny). Is there a way to distribute the raw file via maven as well? I also heared  that it may be a bad practice to distribute generated code as maven artifacts(?)</p>\n<p>problems with 2): we have a git-submodule in <code>lib-a</code>, that would generate all <code>*.class</code> files from <code>*.protobuf</code> and include these generated sources in it's published artifact. The same thing happens in <code>lib-b</code>. If both libraries are released independently, it may happen that they include different versions of the generated sources. This may lead to issues when the <code>server</code> includes both. In contrast to the maven-managed dependency, this is not explicit an there will be no warnings in the compile-process. Moreover, we would like to exclude <code>SNAPSHOT</code> dependencies in our releases (which we currently enforce with <code>maven-enforcer-plugin</code>). Is there some best-practice to achieve the same with git-submodules (my current best idea is to restrict allowed branch names for submodules in CI pipeline ...)</p>\n<p>I would really appreciate some advice here :)</p>\n<p>Currently, I am also doing my own reading for:</p>\n<ul>\n<li>distributing the raw <code>*.protobuf</code> files via maven (see: <a href=\"https://stackoverflow.com/questions/13165333/importing-protocol-buffer-definitions-between-maven-projects?rq=1\">Importing protocol buffer definitions between Maven projects</a>)</li>\n<li>providing the client-generated code as an artifact as well</li>\n</ul>\n"},{"tags":["java","kotlin","jvm","liquibase","pf4j"],"comments":[{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":0,"creation_date":1654118192,"post_id":71397632,"comment_id":128018465,"body_markdown":"Were you able to get unstuck? If so, can you share your solution? I found an article that may have a solution for you if you haven&#39;t resolved it already. http://www.bennybottema.com/2013/12/29/fixing-liquibase-logging-in-spring/","body":"Were you able to get unstuck? If so, can you share your solution? I found an article that may have a solution for you if you haven&#39;t resolved it already. <a href=\"http://www.bennybottema.com/2013/12/29/fixing-liquibase-logging-in-spring/\" rel=\"nofollow noreferrer\">bennybottema.com/2013/12/29/fixing-liquibase-logging-in-spri&zwnj;&#8203;ng</a>"}],"owner":{"account_id":2713542,"reputation":463,"user_id":2341393,"accept_rate":80,"display_name":"Peter McKinney"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646753830,"creation_date":1646753830,"question_id":71397632,"body_markdown":"I&#39;m writing a pf4j plugin that uses liquibase. The plugin host has dependencies on slf4j \r\n\r\n    implementation &quot;org.slf4j:slf4j-log4j12:$slf4jVersion&quot;\r\n    implementation &quot;org.slf4j:slf4j-api:$slf4jVersion&quot;\r\n\r\nAnd the plugin has these dependencies as compile only, as well liquibase core\r\n\r\n    compileOnly &quot;org.slf4j:slf4j-log4j12:$slf4jVersion&quot;\r\n    compileOnly &quot;org.slf4j:slf4j-api:$slf4jVersion&quot;\r\n    implementation &quot;org.liquibase:liquibase-core:$liquibaseVersion&quot;\r\n\r\nHowever, when the plugin is run, liquibase cannot find its default logger. and throws the following exception. \r\n\r\n    Caused by: liquibase.exception.UnexpectedLiquibaseException: Cannot find default log service\r\n        at liquibase.Scope.getCurrentScope(Scope.java:71)\r\n        at liquibase.database.core.PostgresDatabase.&lt;clinit&gt;(PostgresDatabase.java:36)\r\n\r\nI have a feeling that this is because both pf4j and liquibase use their own service loaders, and I have a feeling they may be clashing. Does anyone have any suggestions? I&#39;m really well and truly stuck. \r\n\r\nThanks,\r\nPeter","title":"Liquibase &amp; pf4j - Cannot find default log service","body":"<p>I'm writing a pf4j plugin that uses liquibase. The plugin host has dependencies on slf4j</p>\n<pre><code>implementation &quot;org.slf4j:slf4j-log4j12:$slf4jVersion&quot;\nimplementation &quot;org.slf4j:slf4j-api:$slf4jVersion&quot;\n</code></pre>\n<p>And the plugin has these dependencies as compile only, as well liquibase core</p>\n<pre><code>compileOnly &quot;org.slf4j:slf4j-log4j12:$slf4jVersion&quot;\ncompileOnly &quot;org.slf4j:slf4j-api:$slf4jVersion&quot;\nimplementation &quot;org.liquibase:liquibase-core:$liquibaseVersion&quot;\n</code></pre>\n<p>However, when the plugin is run, liquibase cannot find its default logger. and throws the following exception.</p>\n<pre><code>Caused by: liquibase.exception.UnexpectedLiquibaseException: Cannot find default log service\n    at liquibase.Scope.getCurrentScope(Scope.java:71)\n    at liquibase.database.core.PostgresDatabase.&lt;clinit&gt;(PostgresDatabase.java:36)\n</code></pre>\n<p>I have a feeling that this is because both pf4j and liquibase use their own service loaders, and I have a feeling they may be clashing. Does anyone have any suggestions? I'm really well and truly stuck.</p>\n<p>Thanks,\nPeter</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1646753834,"post_id":71397595,"comment_id":126199037,"body_markdown":"It is somewhat usual to use `ResultSetMetaData` as matter of practice.  Why are you using it?","body":"It is somewhat usual to use <code>ResultSetMetaData</code> as matter of practice.  Why are you using it?"},{"owner":{"account_id":1862996,"reputation":1,"user_id":1687179,"display_name":"Jake Mockler"},"score":0,"creation_date":1646753995,"post_id":71397595,"comment_id":126199095,"body_markdown":"I was reading through some discussion on Parsing and interpreting ResultSet and the person who wrote it used it as a conditional variable -- I am definitely as green as they come!","body":"I was reading through some discussion on Parsing and interpreting ResultSet and the person who wrote it used it as a conditional variable -- I am definitely as green as they come!"}],"owner":{"account_id":1862996,"reputation":1,"user_id":1687179,"display_name":"Jake Mockler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646753657,"creation_date":1646753657,"question_id":71397595,"body_markdown":"I am working to create for the purpose of learning OOP, Java and JDBC a small Console banking application. I have tinkered around and created a login method in my Menu object -- it creates a prepared statement and uses logical tests on the returned ResultSet object to simulate a &quot;Login&quot; environment.\r\n\r\nFor the purpose of transparency, I start soon at a train to hire consultancy and this is one of their example projects. I am working through myself with the hopes I might be able to learn the language and the environment, and practice design principles reasonable to someone of my experience level (around 4 weeks of Java, but years of Hacking around in Perl, C, web languages. Played with vb6 as a boy)\r\n\r\nMy question: is the code I am providing to perform the test wonky... terrible, or even putting me at a state of a QC evaluator to break my software with bad logic breakind inputs? Thank you all for looking\r\n\r\n```\r\nString loginAttemptSQL = &quot;SELECT * FROM USERS WHERE login = ? AND password = ?;&quot;;\r\n\t\tString userID, userPW;\r\n\t\tScanner Scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Please Enter your User ID!&quot;);\r\n\t\tuserID = Scan.nextLine();\r\n\t\tSystem.out.println(&quot;Please Enter your Password!&quot;);\r\n\t\tuserPW = Scan.nextLine();\r\n// may be passing this array for ease of access to a constructor at some point, will comment out if i don&#39;t need it\t\t\r\nString idAndPW[] = {userID, userPW};\r\n//create JDBC Objects and prepare statements. Variables are assigned via UserInput\r\n\t\t\tConnection Conn = DriverManager.getConnection(SQL_URL, SQL_USERNAME, SQL_PASSWORD);\r\n\t\t\tPreparedStatement Stmt = Conn.prepareStatement(loginAttemptSQL);\r\n\t\t\tStmt.setString(1, userID);\r\n\t\t\tStmt.setString(2, userPW);\r\n\t\t\t//declaraton of metadata for logical operator use\r\n\t\t\tResultSet rs = Stmt.executeQuery();\r\n\t\t\tResultSetMetaData rsmd = rs.getMetaData();\r\n\t\t\tint columnumber = rsmd.getColumnCount();\r\n\t\t\t//my main question here -- is this next logic bad practice? Will it break? Am i Mismanaging this pointer and in danger of breaking anything? \r\n\t\t\t\r\n\t\t\tif (rs.next() == true) {\r\n\t\t\t\tfor(int i=1; i &lt;= columnumber; i++) {\r\n             // this will be replaced with the creation of a new &#39;Main Menu&#39; object that a user sees post login. It&#39;s not visible here, and I&#39;d be happy to provide it but I am hoping to implement a command pattern for the bank &quot;operations&quot; and transactions that I log via a decorator to Prepared Statements and/or an external logging tool -- seeing as I am gleaming the project requirements from the repos of other employees I haven&#39;t been able to &quot;ask&quot; the QCs if I can use external logger APIs or just Java.Util.Logging\r\n\t\t\tSystem.out.print(rs.getString(i) + &quot; &quot; + rsmd.getColumnName(i));\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\telse {System.out.println(&quot;Login incorrect! Please try again!&quot;);\r\n\t\t\tlogin();}\r\n```\r\n\r\n\r\nI would be happy to hear feedback and already appreciate your time!","title":"Question regarding my use of ResultSet pointer and JDBC for console banking project","body":"<p>I am working to create for the purpose of learning OOP, Java and JDBC a small Console banking application. I have tinkered around and created a login method in my Menu object -- it creates a prepared statement and uses logical tests on the returned ResultSet object to simulate a &quot;Login&quot; environment.</p>\n<p>For the purpose of transparency, I start soon at a train to hire consultancy and this is one of their example projects. I am working through myself with the hopes I might be able to learn the language and the environment, and practice design principles reasonable to someone of my experience level (around 4 weeks of Java, but years of Hacking around in Perl, C, web languages. Played with vb6 as a boy)</p>\n<p>My question: is the code I am providing to perform the test wonky... terrible, or even putting me at a state of a QC evaluator to break my software with bad logic breakind inputs? Thank you all for looking</p>\n<pre><code>String loginAttemptSQL = &quot;SELECT * FROM USERS WHERE login = ? AND password = ?;&quot;;\n        String userID, userPW;\n        Scanner Scan = new Scanner(System.in);\n        System.out.println(&quot;Please Enter your User ID!&quot;);\n        userID = Scan.nextLine();\n        System.out.println(&quot;Please Enter your Password!&quot;);\n        userPW = Scan.nextLine();\n// may be passing this array for ease of access to a constructor at some point, will comment out if i don't need it     \nString idAndPW[] = {userID, userPW};\n//create JDBC Objects and prepare statements. Variables are assigned via UserInput\n            Connection Conn = DriverManager.getConnection(SQL_URL, SQL_USERNAME, SQL_PASSWORD);\n            PreparedStatement Stmt = Conn.prepareStatement(loginAttemptSQL);\n            Stmt.setString(1, userID);\n            Stmt.setString(2, userPW);\n            //declaraton of metadata for logical operator use\n            ResultSet rs = Stmt.executeQuery();\n            ResultSetMetaData rsmd = rs.getMetaData();\n            int columnumber = rsmd.getColumnCount();\n            //my main question here -- is this next logic bad practice? Will it break? Am i Mismanaging this pointer and in danger of breaking anything? \n            \n            if (rs.next() == true) {\n                for(int i=1; i &lt;= columnumber; i++) {\n             // this will be replaced with the creation of a new 'Main Menu' object that a user sees post login. It's not visible here, and I'd be happy to provide it but I am hoping to implement a command pattern for the bank &quot;operations&quot; and transactions that I log via a decorator to Prepared Statements and/or an external logging tool -- seeing as I am gleaming the project requirements from the repos of other employees I haven't been able to &quot;ask&quot; the QCs if I can use external logger APIs or just Java.Util.Logging\n            System.out.print(rs.getString(i) + &quot; &quot; + rsmd.getColumnName(i));\n                }\n                }\n            else {System.out.println(&quot;Login incorrect! Please try again!&quot;);\n            login();}\n</code></pre>\n<p>I would be happy to hear feedback and already appreciate your time!</p>\n"},{"tags":["python","java","protobuf-net","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646753355,"creation_date":1646753355,"answer_id":71397521,"question_id":71397413,"body_markdown":"The reason for the different naming is because of conventions in these respective languages:\r\n\r\n* In Python 2, a string (`str`) was a series of bytes, hence `SerializeToString`. In Python 3 we have the `bytes` type for byte strings, but the name was kept.\r\n\r\n* In Java, the returned value is a `byte[]` so the name `toByteArray` makes sense.\r\n\r\nHowever, despite the differences in API, the protobuf serialization format &quot;on the wire&quot; (or on disk) is [fully compatible](https://developers.google.com/protocol-buffers/docs/overview#cross-lang) between languages and platforms:\r\n\r\n&gt; The same messages can be read by code written in any supported programming language. You can have a Java program on one platform capture data from one software system, serialize it based on a `.proto` definition, and then extract specific values from that serialized data in a separate Python application running on another platform.","title":"what is the difference between protobuf serialize in python and java?","body":"<p>The reason for the different naming is because of conventions in these respective languages:</p>\n<ul>\n<li><p>In Python 2, a string (<code>str</code>) was a series of bytes, hence <code>SerializeToString</code>. In Python 3 we have the <code>bytes</code> type for byte strings, but the name was kept.</p>\n</li>\n<li><p>In Java, the returned value is a <code>byte[]</code> so the name <code>toByteArray</code> makes sense.</p>\n</li>\n</ul>\n<p>However, despite the differences in API, the protobuf serialization format &quot;on the wire&quot; (or on disk) is <a href=\"https://developers.google.com/protocol-buffers/docs/overview#cross-lang\" rel=\"nofollow noreferrer\">fully compatible</a> between languages and platforms:</p>\n<blockquote>\n<p>The same messages can be read by code written in any supported programming language. You can have a Java program on one platform capture data from one software system, serialize it based on a <code>.proto</code> definition, and then extract specific values from that serialized data in a separate Python application running on another platform.</p>\n</blockquote>\n"}],"owner":{"account_id":1164226,"reputation":341,"user_id":1143169,"accept_rate":55,"display_name":"uuball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646753355,"creation_date":1646752904,"question_id":71397413,"body_markdown":"I try to use java and python protobuf serialize method,such as \r\n\r\nin python, the api is \r\n```\r\nSerializeToString\r\n```\r\nin java ,the api is \r\n```\r\ntoByteArray\r\n```\r\n\r\nthe result is the same? if not , how can i translate the java result as python result?\r\n\r\n","title":"what is the difference between protobuf serialize in python and java?","body":"<p>I try to use java and python protobuf serialize method,such as</p>\n<p>in python, the api is</p>\n<pre><code>SerializeToString\n</code></pre>\n<p>in java ,the api is</p>\n<pre><code>toByteArray\n</code></pre>\n<p>the result is the same? if not , how can i translate the java result as python result?</p>\n"},{"tags":["java","android","localization","android-permissions"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1646749727,"post_id":71396525,"comment_id":126197394,"body_markdown":"It seems you are overriding the Locale / Resources / Context yourself. Where exactly in your app, and how?","body":"It seems you are overriding the Locale / Resources / Context yourself. Where exactly in your app, and how?"},{"owner":{"account_id":16027706,"reputation":150,"user_id":11567530,"display_name":"Ahmed Elsayed"},"score":0,"creation_date":1646749953,"post_id":71396525,"comment_id":126197480,"body_markdown":"I&#39;m converting it in splash screen , I will post the code in the question","body":"I&#39;m converting it in splash screen , I will post the code in the question"}],"answers":[{"tags":[],"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646749612,"creation_date":1646749612,"answer_id":71396625,"question_id":71396525,"body_markdown":"You need to check if you propperly save the language change even when the app restarts.\r\n\r\nIt is normal that the app restarts if you revoke a permission from the android settings.","title":"App restarted and the language changed when I change some permission to deny from setting in Android","body":"<p>You need to check if you propperly save the language change even when the app restarts.</p>\n<p>It is normal that the app restarts if you revoke a permission from the android settings.</p>\n"},{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646752947,"creation_date":1646752947,"answer_id":71397428,"question_id":71396525,"body_markdown":"&gt; I&#39;m changing the language in Splash screen\r\n\r\nYou need to have Locale override in all your activities. The Android framework can kill your activities (or even your app) and later restore it to the activity where it was, not going though your entry point activity such as a splash screen.","title":"App restarted and the language changed when I change some permission to deny from setting in Android","body":"<blockquote>\n<p>I'm changing the language in Splash screen</p>\n</blockquote>\n<p>You need to have Locale override in all your activities. The Android framework can kill your activities (or even your app) and later restore it to the activity where it was, not going though your entry point activity such as a splash screen.</p>\n"}],"owner":{"account_id":16027706,"reputation":150,"user_id":11567530,"display_name":"Ahmed Elsayed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71397428,"answer_count":2,"score":0,"last_activity_date":1646752947,"creation_date":1646749152,"question_id":71396525,"body_markdown":"I&#39;m developing an Android app with two languages (English - Arabic) , my app is an ``Activity`` that contains ``Fragments``\r\n I&#39;m handling changing of the language across the app correctly but guys when the app language is ``Arabic`` then change any permission to deny from setting and open the app again , my app is restarting and the app language converted to be ``English``\r\n\r\nI already save the language in the ``Sharedpreferences`` , language is saved as Arabic correctly and the app works fine in all cases  , but when changing permission from setting to deny , All strings converted to English and views directions change. \r\n\r\nI tried to change the local in the ``onRestart()`` but it doesn&#39;t work , so any suggestion to solve this problem ?\r\n\r\nIf it would help , I&#39;m changing the language in ``Splash screen`` based on the saved value from sharedpreference\r\n\r\n     public void setLocal(String lang) {\r\n    \r\n    \r\n            Resources res = this.getResources();\r\n            Configuration conf = res.getConfiguration();\r\n            conf.locale = new Locale(lang);\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n                conf.setLayoutDirection(new Locale(lang));\r\n            }\r\n            res.updateConfiguration(conf, res.getDisplayMetrics());\r\n            Consts.first_lang_choose = true;\r\n            \r\n    \r\n        }","title":"App restarted and the language changed when I change some permission to deny from setting in Android","body":"<p>I'm developing an Android app with two languages (English - Arabic) , my app is an <code>Activity</code> that contains <code>Fragments</code>\nI'm handling changing of the language across the app correctly but guys when the app language is <code>Arabic</code> then change any permission to deny from setting and open the app again , my app is restarting and the app language converted to be <code>English</code></p>\n<p>I already save the language in the <code>Sharedpreferences</code> , language is saved as Arabic correctly and the app works fine in all cases  , but when changing permission from setting to deny , All strings converted to English and views directions change.</p>\n<p>I tried to change the local in the <code>onRestart()</code> but it doesn't work , so any suggestion to solve this problem ?</p>\n<p>If it would help , I'm changing the language in <code>Splash screen</code> based on the saved value from sharedpreference</p>\n<pre><code> public void setLocal(String lang) {\n\n\n        Resources res = this.getResources();\n        Configuration conf = res.getConfiguration();\n        conf.locale = new Locale(lang);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n            conf.setLayoutDirection(new Locale(lang));\n        }\n        res.updateConfiguration(conf, res.getDisplayMetrics());\n        Consts.first_lang_choose = true;\n        \n\n    }\n</code></pre>\n"},{"tags":["java","google-drive-api"],"comments":[{"owner":{"account_id":21108153,"reputation":1525,"user_id":15516699,"display_name":"Century Tuna"},"score":0,"creation_date":1646673992,"post_id":71383026,"comment_id":126177039,"body_markdown":"Does this answer your question? [Download a specific revision of a file in google drive api](https://stackoverflow.com/questions/23930406/download-a-specific-revision-of-a-file-in-google-drive-api)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23930406/download-a-specific-revision-of-a-file-in-google-drive-api\">Download a specific revision of a file in google drive api</a>"},{"owner":{"account_id":7733855,"reputation":77,"user_id":5856042,"display_name":"Ramon"},"score":0,"creation_date":1646675568,"post_id":71383026,"comment_id":126177586,"body_markdown":"I think this solution is old and it refers to the Google Drive API 2.0 version. For some reason the downloadUrl option is no longer available on the revision Object returned by the Google Drive API 3.0 and I wonder if there is another way of getting the link","body":"I think this solution is old and it refers to the Google Drive API 2.0 version. For some reason the downloadUrl option is no longer available on the revision Object returned by the Google Drive API 3.0 and I wonder if there is another way of getting the link"}],"answers":[{"tags":[],"owner":{"account_id":7733855,"reputation":77,"user_id":5856042,"display_name":"Ramon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646752883,"creation_date":1646752883,"answer_id":71397411,"question_id":71383026,"body_markdown":"I found the solution.\r\n\r\nBasically the Google drive API 3.0 does not give you the downloadUrl any longer. Instead it gives you the possibility to just download the revision with the following code:\r\n\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    driveService.revisions().get(fileId, revisionId).executeMediaAndDownloadTo(outputStream);\r\n    \r\n    byte[] content = outputStream.toByteArray();\r\n    try (FileOutputStream fout = new FileOutputStream(filePath)) {\r\n        fout.write(content);\r\n        fout.close();\r\n    }\r\n\r\n","title":"Get Google drive Api 3 Revision download url","body":"<p>I found the solution.</p>\n<p>Basically the Google drive API 3.0 does not give you the downloadUrl any longer. Instead it gives you the possibility to just download the revision with the following code:</p>\n<pre><code>ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\ndriveService.revisions().get(fileId, revisionId).executeMediaAndDownloadTo(outputStream);\n\nbyte[] content = outputStream.toByteArray();\ntry (FileOutputStream fout = new FileOutputStream(filePath)) {\n    fout.write(content);\n    fout.close();\n}\n</code></pre>\n"}],"owner":{"account_id":7733855,"reputation":77,"user_id":5856042,"display_name":"Ramon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646752883,"creation_date":1646665339,"question_id":71383026,"body_markdown":"I am trying to get the download url for a specific revision of a google drive file, but can&#39;t find how to do it.\r\n\r\nHas anyone know a way to do it?\r\n\r\nI am using the JAVA Google drive API 3.0","title":"Get Google drive Api 3 Revision download url","body":"<p>I am trying to get the download url for a specific revision of a google drive file, but can't find how to do it.</p>\n<p>Has anyone know a way to do it?</p>\n<p>I am using the JAVA Google drive API 3.0</p>\n"},{"tags":["java","android","list","filter"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1366210499,"post_id":16063338,"comment_id":22925157,"body_markdown":"depends on the specifics of your problem. you probably have a database. in this case the best way is to filter using your queries.","body":"depends on the specifics of your problem. you probably have a database. in this case the best way is to filter using your queries."},{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":0,"creation_date":1366210624,"post_id":16063338,"comment_id":22925245,"body_markdown":"Do you mean better in terms of coding style or better in terms of efficiency ? There is no way to know if a product matches another without going through all of them.","body":"Do you mean better in terms of coding style or better in terms of efficiency ? There is no way to know if a product matches another without going through all of them."},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1366210688,"post_id":16063338,"comment_id":22925282,"body_markdown":"search on listview items?","body":"search on listview items?"},{"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"score":0,"creation_date":1366211113,"post_id":16063338,"comment_id":22925574,"body_markdown":"@DeepakBala, I&#39;m looking for something like:  newList = bigList.filter(clientName, &quot;Bob&quot;);   in essence, similar to how you can add where statements to queries... if there is no easy way to do this, I&#39;ll rely more on the db like how njzk2 suggests.","body":"@DeepakBala, I&#39;m looking for something like:  newList = bigList.filter(clientName, &quot;Bob&quot;);   in essence, similar to how you can add where statements to queries... if there is no easy way to do this, I&#39;ll rely more on the db like how njzk2 suggests."},{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":0,"creation_date":1366212429,"post_id":16063338,"comment_id":22926433,"body_markdown":"@VenomFangs Writing an API to do that should not be complicated, but if you have a DB, I&#39;d still go with that. You can save CPU and memory just getting the right information from the database the first time.","body":"@VenomFangs Writing an API to do that should not be complicated, but if you have a DB, I&#39;d still go with that. You can save CPU and memory just getting the right information from the database the first time."}],"answers":[{"tags":[],"owner":{"account_id":1530494,"reputation":6443,"user_id":1427798,"accept_rate":59,"display_name":"An-droid"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1646752512,"creation_date":1372669847,"answer_id":17400852,"question_id":16063338,"body_markdown":"If your goal is to filter a list (`List` or `ArrayList`) on a simple constraint and diplay the data in a `ListView` you can directly use the interface `Filterable` in your adapter as below: \r\n\r\n    public class AdapterFilterable extends BaseAdapter implements Filterable {\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n    \r\n        Filter filter = new Filter() {\r\n   \r\n            @Override\r\n            protected void publishResults(CharSequence constraint, FilterResults results) {\r\n\r\n                if (results != null &amp;&amp; results.values != null) {\r\n\t\r\n                    _arrayList = (List&lt;object&gt;) results.values;\r\n                }\r\n                else {\r\n                    _arrayList = ApplicationGlobal._dataManager.get_ArraylistFull();\r\n                }\r\n                notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            protected FilterResults performFiltering(CharSequence constraint) {\r\n\r\n                FilterResults results = new FilterResults();\r\n                List&lt;YourObject&gt; filteredList = new ArrayList&lt;YourObject&gt;();\r\n\r\n                //Do your filtering operation with the constraint String\r\n                //Return result for publishResults to use it\r\n           \r\n                results.count = filteredList.size();\r\n                results.values = filteredList;\r\n\r\n                return results;\r\n            }\r\n        };\r\n        return filter;\r\n    }\r\n\r\n\r\nTo use the filter, like when searching in a list or just filtering it with a constraint, you just need: \r\n\r\n    _yourAdapter.getFilter().filter(String yourConstraintString);\r\n\r\n\r\nElse if you want to filter on complex data you can simply filter with a `for` loop and then do your `notifyDataChanged();`.\r\n\r\nHope it helps.","title":"Android Filtering a List of Objects","body":"<p>If your goal is to filter a list (<code>List</code> or <code>ArrayList</code>) on a simple constraint and diplay the data in a <code>ListView</code> you can directly use the interface <code>Filterable</code> in your adapter as below:</p>\n<pre><code>public class AdapterFilterable extends BaseAdapter implements Filterable {\n\n@Override\npublic Filter getFilter() {\n\n    Filter filter = new Filter() {\n\n        @Override\n        protected void publishResults(CharSequence constraint, FilterResults results) {\n\n            if (results != null &amp;&amp; results.values != null) {\n\n                _arrayList = (List&lt;object&gt;) results.values;\n            }\n            else {\n                _arrayList = ApplicationGlobal._dataManager.get_ArraylistFull();\n            }\n            notifyDataSetChanged();\n        }\n\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n\n            FilterResults results = new FilterResults();\n            List&lt;YourObject&gt; filteredList = new ArrayList&lt;YourObject&gt;();\n\n            //Do your filtering operation with the constraint String\n            //Return result for publishResults to use it\n       \n            results.count = filteredList.size();\n            results.values = filteredList;\n\n            return results;\n        }\n    };\n    return filter;\n}\n</code></pre>\n<p>To use the filter, like when searching in a list or just filtering it with a constraint, you just need:</p>\n<pre><code>_yourAdapter.getFilter().filter(String yourConstraintString);\n</code></pre>\n<p>Else if you want to filter on complex data you can simply filter with a <code>for</code> loop and then do your <code>notifyDataChanged();</code>.</p>\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":4810073,"reputation":345,"user_id":3883811,"display_name":"SUNIL JADHAV"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1646752618,"creation_date":1485162075,"answer_id":41802441,"question_id":16063338,"body_markdown":"```\r\n// mFinalList will contain filtered data.\r\n\r\nList&lt;Object&gt; mFinalList=new ArrayList&lt;&gt;();\r\n  \r\nfor (Object person : listData) {\r\n    if (person.getNameType().equalsIgnoreCase(&quot;somename&quot;)) {\r\n        mFinalList.add(person);\r\n    }\r\n}\r\n```","title":"Android Filtering a List of Objects","body":"<pre><code>// mFinalList will contain filtered data.\n\nList&lt;Object&gt; mFinalList=new ArrayList&lt;&gt;();\n  \nfor (Object person : listData) {\n    if (person.getNameType().equalsIgnoreCase(&quot;somename&quot;)) {\n        mFinalList.add(person);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18896,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1646752618,"creation_date":1366210379,"question_id":16063338,"body_markdown":"My question is similar to: https://stackoverflow.com/questions/4215645/java-best-way-to-filter-list-of-object\r\n\r\n&gt; I have a list of objects say Sales. I want only the Sales objects\r\n&gt; whose Product matches the ones in another list, say saleProductList.\r\n&gt; \r\n&gt; Other than looping, is there a better way to do it.\r\n\r\n\r\nHowever I wish to be able to able to do the filtering with code accessible to android, e.g. The libraries would need to play nice with the android OS and run on the android OS. I&#39;m hoping to avoid making home cooked code for a problem I assume is common, any suggestions?","title":"Android Filtering a List of Objects","body":"<p>My question is similar to: <a href=\"https://stackoverflow.com/questions/4215645/java-best-way-to-filter-list-of-object\">java Best way to Filter list of object</a></p>\n\n<blockquote>\n  <p>I have a list of objects say Sales. I want only the Sales objects\n  whose Product matches the ones in another list, say saleProductList.</p>\n  \n  <p>Other than looping, is there a better way to do it.</p>\n</blockquote>\n\n<p>However I wish to be able to able to do the filtering with code accessible to android, e.g. The libraries would need to play nice with the android OS and run on the android OS. I'm hoping to avoid making home cooked code for a problem I assume is common, any suggestions?</p>\n"},{"tags":["java","arraylist","collections","java-8","hashmap"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646752505,"creation_date":1646751407,"answer_id":71397057,"question_id":71336572,"body_markdown":"The presented method does not use any of the input arguments `validationResult` and `severity` and it shows that the map contains only one entry.\r\n\r\nHowever, to simply build a list of error messages, Stream API could be used to convert the stream of map entries into the list of `ErrorMessage` where the lists in map entries are iterated by indexes provided by `IntStream` and `flatMap` is applied to join the error messages from all entries:\r\n```java\r\npublic List&lt;ErrorMessage&gt; getErrorMessageDetails(ValidationResult validationResult, String severity) {\r\n\r\n    Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; errorObjectsMap = new HashMap&lt;&gt;();\r\n\r\n    //errorCode= some values in List of strings\r\n    //errorMessage= some values in List of strings\r\n\r\n    errorObjectsMap.put(errorCode, errorMessage);\r\n    // assuming there are more entries\r\n\r\n    return errorObjectsMap.entrySet()\r\n        .stream() // Stream&lt;Map.Entry&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt;\r\n        .filter(e -&gt; e.getKey() != null &amp;&amp; e.getValue() != null\r\n            &amp;&amp; !e.getKey().isEmpty() &amp;&amp; !e.getValue().isEmpty()\r\n        )\r\n        .flatMap(e -&gt; IntStream.range(0, Math.min(e.getKey().size(), e.getValue().size()))\r\n                .mapToObj(i -&gt; new ErrorMessage(\r\n                    e.getKey().get(i), e.getValue().get(i)\r\n                )) // Stream&lt;ErrorMessage&gt;\r\n        )\r\n        .collect(Collectors.toList());\r\n}\r\n```\r\n","title":"How to iterate and assign values of List object internally when Iterating over Map in Java","body":"<p>The presented method does not use any of the input arguments <code>validationResult</code> and <code>severity</code> and it shows that the map contains only one entry.</p>\n<p>However, to simply build a list of error messages, Stream API could be used to convert the stream of map entries into the list of <code>ErrorMessage</code> where the lists in map entries are iterated by indexes provided by <code>IntStream</code> and <code>flatMap</code> is applied to join the error messages from all entries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;ErrorMessage&gt; getErrorMessageDetails(ValidationResult validationResult, String severity) {\n\n    Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; errorObjectsMap = new HashMap&lt;&gt;();\n\n    //errorCode= some values in List of strings\n    //errorMessage= some values in List of strings\n\n    errorObjectsMap.put(errorCode, errorMessage);\n    // assuming there are more entries\n\n    return errorObjectsMap.entrySet()\n        .stream() // Stream&lt;Map.Entry&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt;\n        .filter(e -&gt; e.getKey() != null &amp;&amp; e.getValue() != null\n            &amp;&amp; !e.getKey().isEmpty() &amp;&amp; !e.getValue().isEmpty()\n        )\n        .flatMap(e -&gt; IntStream.range(0, Math.min(e.getKey().size(), e.getValue().size()))\n                .mapToObj(i -&gt; new ErrorMessage(\n                    e.getKey().get(i), e.getValue().get(i)\n                )) // Stream&lt;ErrorMessage&gt;\n        )\n        .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":22804719,"reputation":21,"user_id":16956905,"display_name":"Ruturaj Shinde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71397057,"answer_count":1,"score":0,"last_activity_date":1646752505,"creation_date":1646307654,"question_id":71336572,"body_markdown":"```\r\npublic List&lt;ErrorMessage&gt; getErrorMessageDetails(ValidationResult validationResult, String severity) {\r\n\r\n        Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; errorObjectsMap = new HashMap&lt;&gt;();\r\n\r\n       //errorCode= some values in List of strings\r\n       //errorMessage= some values in List of strings\r\n\r\n        errorObjectsMap.put(errorCode, errorMessage);\r\n\r\n        List&lt;ErrorMessage&gt; errorMessageList = new ArrayList&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;List&lt;String&gt;, List&lt;String&gt;&gt; pair : errorObjectsMap.entrySet()) {\r\n            List&lt;String&gt; errorCodeMsg = pair.getKey() == null ? new ArrayList&lt;&gt;() : pair.getKey();\r\n            List&lt;String&gt; errorMsg = pair.getValue() == null ? new ArrayList&lt;&gt;() : pair.getValue();\r\n\r\n            errorMessageList.add(new ErrorMessage(errorCodeMsg.get(0), errorMsg.get(0)));\r\n\r\n// So in above line of code i want to iterate both list k,v and use its keys and values to create list of List&lt;ErrorMessage&gt; errorMessageList dynamically without using index of lists\r\n\r\n        }\r\n        return errorMessageList;\r\n    }\r\n```\r\nPlease refer above java method to suggestions.\r\n\r\nCould someone please help to write logic to iterate dynamically in most concise way in java?\r\n\r\nThank you in advance :)","title":"How to iterate and assign values of List object internally when Iterating over Map in Java","body":"<pre><code>public List&lt;ErrorMessage&gt; getErrorMessageDetails(ValidationResult validationResult, String severity) {\n\n        Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; errorObjectsMap = new HashMap&lt;&gt;();\n\n       //errorCode= some values in List of strings\n       //errorMessage= some values in List of strings\n\n        errorObjectsMap.put(errorCode, errorMessage);\n\n        List&lt;ErrorMessage&gt; errorMessageList = new ArrayList&lt;&gt;();\n\n        for (Map.Entry&lt;List&lt;String&gt;, List&lt;String&gt;&gt; pair : errorObjectsMap.entrySet()) {\n            List&lt;String&gt; errorCodeMsg = pair.getKey() == null ? new ArrayList&lt;&gt;() : pair.getKey();\n            List&lt;String&gt; errorMsg = pair.getValue() == null ? new ArrayList&lt;&gt;() : pair.getValue();\n\n            errorMessageList.add(new ErrorMessage(errorCodeMsg.get(0), errorMsg.get(0)));\n\n// So in above line of code i want to iterate both list k,v and use its keys and values to create list of List&lt;ErrorMessage&gt; errorMessageList dynamically without using index of lists\n\n        }\n        return errorMessageList;\n    }\n</code></pre>\n<p>Please refer above java method to suggestions.</p>\n<p>Could someone please help to write logic to iterate dynamically in most concise way in java?</p>\n<p>Thank you in advance :)</p>\n"},{"tags":["java","selenium","selenium-webdriver","css-selectors"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1646731192,"post_id":71390373,"comment_id":126190489,"body_markdown":"What error are you getting?","body":"What error are you getting?"}],"answers":[{"tags":[],"owner":{"account_id":17764547,"reputation":11,"user_id":12899778,"display_name":"SeekToKnowledge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646752467,"creation_date":1646752467,"answer_id":71397307,"question_id":71390373,"body_markdown":"It seems like the class name you&#39;re trying to find doesn&#39;t exist:\r\n&lt;!-- begin snippet: js hide: false console: true babel: null --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            //System.out.println(driver.findElement(By.cssSelector(&quot;*.jss5107&quot;)).getText()); \r\n\r\n&lt;!-- end snippet --&gt;\r\nthis type of gibberish names for elements usually indicates random attribute values being generated and making your automation relying on those values is a no go because we want our automation to be as solid and low maintenance as possible.\r\nInstead, try to find a better way to locate the element you&#39;re looking for.\r\nI could&#39;ve tried to give you a better locator but it seems like you pasted a part of the HTML code which I can&#39;t read it properly (for example there&#39;s a div tag that immediately gets closed right after):\r\n&lt;!-- begin snippet: js hide: false console: true babel: null --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            &lt;div class=&quot;jss7113 jss7118&quot;&gt;&lt;div&gt;&lt;/div&gt; \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nPlease provide a better snippet of this part of the HTML in order for us to help with your question.\r\n\r\nIf you want to validate the message, you can locate the element by the text within it:\r\ndriver.findElement(By.xpath(&quot;//div[contains(text(),&#39;Invalid username or password&#39;)]  \r\n","title":"Unable to get the text from div class - selenium java","body":"<p>It seems like the class name you're trying to find doesn't exist:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        //System.out.println(driver.findElement(By.cssSelector(\"*.jss5107\")).getText()); </code></pre>\r\n</div>\r\n</div>\r\n\nthis type of gibberish names for elements usually indicates random attribute values being generated and making your automation relying on those values is a no go because we want our automation to be as solid and low maintenance as possible.\nInstead, try to find a better way to locate the element you're looking for.\nI could've tried to give you a better locator but it seems like you pasted a part of the HTML code which I can't read it properly (for example there's a div tag that immediately gets closed right after):\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;div class=\"jss7113 jss7118\"&gt;&lt;div&gt;&lt;/div&gt; </code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Please provide a better snippet of this part of the HTML in order for us to help with your question.</p>\n<p>If you want to validate the message, you can locate the element by the text within it:\ndriver.findElement(By.xpath(&quot;//div[contains(text(),'Invalid username or password')]</p>\n"}],"owner":{"account_id":13720269,"reputation":1,"user_id":9900371,"display_name":"nandha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646752467,"creation_date":1646716958,"question_id":71390373,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;jss7113 jss7118&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=&quot;jss7114&quot;&gt;Invalid username or password&lt;/div&gt;&lt;button class=&quot;MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary&quot; tabindex=&quot;0&quot; type=&quot;button&quot;&gt;&lt;span class=&quot;MuiButton-label&quot;&gt;&lt;i icon=&quot;close-circle-outline&quot; title=&quot;&quot; class=&quot;mdi mdi-close-circle-outline&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;span class=&quot;MuiTouchRipple-root&quot;&gt;&lt;/span&gt;&lt;/button&gt;&lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is what  wrote\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            //System.out.println(driver.findElement(By.cssSelector(&quot;*.jss5107&quot;)).getText()); //Get the error message from the Invalid credentials\r\n            //System.out.println(driver.findElement(By.cssSelector(&quot;div[class = &#39;jss7114&#39;]&quot;)).getText().equals(&quot;Invalid username or password&quot;));\r\n            //System.out.println(driver.findElement(By.xpath(&quot;//div[@class = &#39;jss7114&#39;]&quot;)).getText().equals(&quot;Invalid username or password&quot;));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Unable to get the text from div class - selenium java","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"jss7113 jss7118\"&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=\"jss7114\"&gt;Invalid username or password&lt;/div&gt;&lt;button class=\"MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary\" tabindex=\"0\" type=\"button\"&gt;&lt;span class=\"MuiButton-label\"&gt;&lt;i icon=\"close-circle-outline\" title=\"\" class=\"mdi mdi-close-circle-outline\" aria-hidden=\"true\"&gt;&lt;/i&gt;&lt;/span&gt;&lt;span class=\"MuiTouchRipple-root\"&gt;&lt;/span&gt;&lt;/button&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This is what  wrote</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        //System.out.println(driver.findElement(By.cssSelector(\"*.jss5107\")).getText()); //Get the error message from the Invalid credentials\n        //System.out.println(driver.findElement(By.cssSelector(\"div[class = 'jss7114']\")).getText().equals(\"Invalid username or password\"));\n        //System.out.println(driver.findElement(By.xpath(\"//div[@class = 'jss7114']\")).getText().equals(\"Invalid username or password\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin14","vaadin22"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1646231435,"post_id":71322989,"comment_id":126072014,"body_markdown":"Other than the value change event?  So an explicit click (or ESC or whatever) of the user?","body":"Other than the value change event?  So an explicit click (or ESC or whatever) of the user?"},{"owner":{"account_id":22447351,"reputation":626,"user_id":16651073,"display_name":"Oliver Stahl"},"score":0,"creation_date":1646232509,"post_id":71322989,"comment_id":126072497,"body_markdown":"Yes, i wan&#39;t to get notified when the button is clicked","body":"Yes, i wan&#39;t to get notified when the button is clicked"}],"answers":[{"tags":[],"owner":{"account_id":20011551,"reputation":1338,"user_id":14668475,"display_name":"Jean-Christophe Gueriaud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646752084,"creation_date":1646752084,"answer_id":71397225,"question_id":71322989,"body_markdown":"You don&#39;t have this information on the Java side.\r\nAs a workaround you can add your own clear button as a suffix component:\r\n\r\n\ttextfield.setSuffixComponent(myClearButton);\r\n\r\nAnd use the clickListener on the button. You will also need to manually display/hide it based on the state of the textfield.","title":"Vaadin22 get notified when a user clears a textfield","body":"<p>You don't have this information on the Java side.\nAs a workaround you can add your own clear button as a suffix component:</p>\n<pre><code>textfield.setSuffixComponent(myClearButton);\n</code></pre>\n<p>And use the clickListener on the button. You will also need to manually display/hide it based on the state of the textfield.</p>\n"}],"owner":{"account_id":22447351,"reputation":626,"user_id":16651073,"display_name":"Oliver Stahl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71397225,"answer_count":1,"score":0,"last_activity_date":1646752084,"creation_date":1646225394,"question_id":71322989,"body_markdown":"In Vaadin 22 it&#39;s possible to add a clear button to a textfield by calling the following method:\r\n```java\r\nTextField textField = new TextField();\r\ntextField.setClearButtonVisible(true);\r\n```\r\n\r\nI wonder if it&#39;s possible to get notified when someone clicks the clear button.\r\n\r\nI tried to attach a click listener to it by plain javascript. But that is not that simple because the clear button is in the shadow dom.\r\n","title":"Vaadin22 get notified when a user clears a textfield","body":"<p>In Vaadin 22 it's possible to add a clear button to a textfield by calling the following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextField textField = new TextField();\ntextField.setClearButtonVisible(true);\n</code></pre>\n<p>I wonder if it's possible to get notified when someone clicks the clear button.</p>\n<p>I tried to attach a click listener to it by plain javascript. But that is not that simple because the clear button is in the shadow dom.</p>\n"},{"tags":["java","certificate","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":17769820,"reputation":93,"user_id":12903733,"display_name":"veila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646751915,"creation_date":1646751915,"answer_id":71397180,"question_id":71383128,"body_markdown":"After a number of terrible hours, I found that the best option is to setup the other code to read the sequences in a specific order, as opposed to watch for user error. It&#39;s not a foolproof solution but it&#39;s the best we&#39;ve managed to setup and it works well enough.","title":"Is there a way to name or identify a DERSequence with a String?","body":"<p>After a number of terrible hours, I found that the best option is to setup the other code to read the sequences in a specific order, as opposed to watch for user error. It's not a foolproof solution but it's the best we've managed to setup and it works well enough.</p>\n"}],"owner":{"account_id":17769820,"reputation":93,"user_id":12903733,"display_name":"veila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71397180,"answer_count":1,"score":0,"last_activity_date":1646751915,"creation_date":1646665752,"question_id":71383128,"body_markdown":"Just as the question states. With the use of the BouncyCastle library I&#39;m trying to build a number of sequences that contain an x amount of UTF8Strings within them. I have another piece of code that queries the extension (within which this structure is built) for the length of each of the nested Sequences to see how many UTF8Strings are stored within, however I don&#39;t specifically know a way to name a DERSequence which is stopping me from getting that number of stored UTF8Strings, and the documentation is rather hard to read. The structure looks something like below:\r\n\r\n```\r\nDERSequence Seq1\r\n  DERSequence Seq11\r\n    UTF8String(string1)\r\n  DERSequence Seq12\r\n    UTF8String(string2)\r\n    UTF8String(string3)\r\n  DERSequence Seq13\r\n    UTF8String(string4)\r\n    UTF8String(string5)\r\n```\r\nIs there a way to identify DERSequences with a string (in the example they are &quot;Seq11&quot;, &quot;Seq12&quot;, &quot;Seq13&quot;) or can I use another class that I can identify the specific sequence and take their value?","title":"Is there a way to name or identify a DERSequence with a String?","body":"<p>Just as the question states. With the use of the BouncyCastle library I'm trying to build a number of sequences that contain an x amount of UTF8Strings within them. I have another piece of code that queries the extension (within which this structure is built) for the length of each of the nested Sequences to see how many UTF8Strings are stored within, however I don't specifically know a way to name a DERSequence which is stopping me from getting that number of stored UTF8Strings, and the documentation is rather hard to read. The structure looks something like below:</p>\n<pre><code>DERSequence Seq1\n  DERSequence Seq11\n    UTF8String(string1)\n  DERSequence Seq12\n    UTF8String(string2)\n    UTF8String(string3)\n  DERSequence Seq13\n    UTF8String(string4)\n    UTF8String(string5)\n</code></pre>\n<p>Is there a way to identify DERSequences with a string (in the example they are &quot;Seq11&quot;, &quot;Seq12&quot;, &quot;Seq13&quot;) or can I use another class that I can identify the specific sequence and take their value?</p>\n"},{"tags":["java","number-manipulation"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1380950063,"post_id":19194257,"comment_id":28401074,"body_markdown":"Having any specific issue with the code? Have you tried anything?","body":"Having any specific issue with the code? Have you tried anything?"},{"owner":{"account_id":2229398,"reputation":45955,"user_id":1967396,"accept_rate":100,"display_name":"Floris"},"score":1,"creation_date":1380950070,"post_id":19194257,"comment_id":28401077,"body_markdown":"Keep dividing by 10 a certain number of times, then take modulo 10 at the end. Is that enough to get you going with your homework?","body":"Keep dividing by 10 a certain number of times, then take modulo 10 at the end. Is that enough to get you going with your homework?"},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1380950189,"post_id":19194257,"comment_id":28401097,"body_markdown":"what does digit(9635, 1) returns 5 means... what is the returns 5 is it from 9635?","body":"what does digit(9635, 1) returns 5 means... what is the returns 5 is it from 9635?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":3,"creation_date":1380950271,"post_id":19194257,"comment_id":28401108,"body_markdown":"I suggest that you read the description again: &quot;Create a program that uses a function called digit which returns the value of the nth digit from the right of an integer argument.&quot; explains exactly where the `5` comes from.","body":"I suggest that you read the description again: &quot;Create a program that uses a function called digit which returns the value of the nth digit from the right of an integer argument.&quot; explains exactly where the <code>5</code> comes from."},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1380950362,"post_id":19194257,"comment_id":28401122,"body_markdown":"Yes! @Code-Guru what i mean is what is returns 5 means... where does it come from.. I&#39;m presently learning Java in our school...","body":"Yes! @Code-Guru what i mean is what is returns 5 means... where does it come from.. I&#39;m presently learning Java in our school..."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1380950423,"post_id":19194257,"comment_id":28401128,"body_markdown":"In Java, &quot;`digit(9635 ,1)` returns 5&quot; means that the result of the `digits` function is 5 when the inputs are 9635 and 1. Do you understand *why* this is the result?","body":"In Java, &quot;<code>digit(9635 ,1)</code> returns 5&quot; means that the result of the <code>digits</code> function is 5 when the inputs are 9635 and 1. Do you understand <i>why</i> this is the result?"},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1380950493,"post_id":19194257,"comment_id":28401146,"body_markdown":"@Code-Guru can you please give me some examples how to code return based on my problem... so i can understand....","body":"@Code-Guru can you please give me some examples how to code return based on my problem... so i can understand...."},{"owner":{"account_id":1018968,"reputation":8079,"user_id":1029890,"accept_rate":71,"display_name":"Tesseract"},"score":0,"creation_date":1380950613,"post_id":19194257,"comment_id":28401173,"body_markdown":"You can get the last digit by dividing by 10 and look at the remainder of the division. int lastDigit = a%10;","body":"You can get the last digit by dividing by 10 and look at the remainder of the division. int lastDigit = a%10;"},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1380950626,"post_id":19194257,"comment_id":28401176,"body_markdown":"@Code-Guru no sir i really don&#39;t have any idea why... I&#39;m a bit confused....","body":"@Code-Guru no sir i really don&#39;t have any idea why... I&#39;m a bit confused...."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1380950626,"post_id":19194257,"comment_id":28401178,"body_markdown":"@Joey First, I suggest you make sure you know why the examples give the results that are stated. Then I suggest that you research how the `/` and `%` operators work. These are crucial to understanding how to write a very short function to get those results.","body":"@Joey First, I suggest you make sure you know why the examples give the results that are stated. Then I suggest that you research how the <code>&#47;</code> and <code>%</code> operators work. These are crucial to understanding how to write a very short function to get those results."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1380950681,"post_id":19194257,"comment_id":28401189,"body_markdown":"@Joey You also need to understand how numbers are represented in the decimal system that we use every day.","body":"@Joey You also need to understand how numbers are represented in the decimal system that we use every day."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1380950810,"post_id":19194257,"comment_id":28401206,"body_markdown":"@Joey What is the 1st digit from the right of 9635? What is the 3rd digit from the right of 9635?","body":"@Joey What is the 1st digit from the right of 9635? What is the 3rd digit from the right of 9635?"},{"owner":{"account_id":1018968,"reputation":8079,"user_id":1029890,"accept_rate":71,"display_name":"Tesseract"},"score":0,"creation_date":1380950850,"post_id":19194257,"comment_id":28401212,"body_markdown":"You can also think about this recursively.","body":"You can also think about this recursively."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1380951000,"post_id":19194257,"comment_id":28401235,"body_markdown":"When struggling for what to do, try writing what you know, even if it&#39;s just the statement of the problem or a definition of one of its words!","body":"When struggling for what to do, try writing what you know, even if it&#39;s just the statement of the problem or a definition of one of its words!"},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1380952964,"post_id":19194257,"comment_id":28401506,"body_markdown":"@Code-Guru: Am i going to divide or get a remainder from digits(9635, 1)? .. i just dont get why it says returns 5?","body":"@Code-Guru: Am i going to divide or get a remainder from digits(9635, 1)? .. i just dont get why it says returns 5?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1380996524,"post_id":19194257,"comment_id":28412208,"body_markdown":"What is the 1st digit from the right of 9635?","body":"What is the 1st digit from the right of 9635?"},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1381149555,"post_id":19194257,"comment_id":28452607,"body_markdown":"@Code-Guru number 5... how can i show number 5 if the user inputs 1??","body":"@Code-Guru number 5... how can i show number 5 if the user inputs 1??"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1381178456,"post_id":19194257,"comment_id":28469220,"body_markdown":"The user should input **both** numbers: 9635 and 1.","body":"The user should input <b>both</b> numbers: 9635 and 1."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1646751830,"creation_date":1380950598,"answer_id":19194322,"question_id":19194257,"body_markdown":"Without spoon-feeding you the code:\r\n\r\nThe nth digit is the remainder after dividing (`a` divided by 10&lt;sup&gt;b-1&lt;/sup&gt;) by 10.\r\n\r\n&gt;! `int digit(int a, int b) {`   \r\n&gt;! `    return a / (int)Math.pow(10, b - 1) % 10;`  \r\n&gt;! `}`  \r\n&gt;! See [live demo][1].\r\n\r\n---\r\n\r\nIf you want an iterative approach:\r\n\r\nLoop b-1 times, each time assigning to the `a` variable the result of dividing `a` by 10.   \r\nAfter looping, the nth digit is the remainder of dividing `a` by 10.\r\n\r\n&gt;! `int digit(int a, int b) {`  \r\n&gt;! `    while (--b &gt; 0) {`  \r\n&gt;! `        a /= 10;`  \r\n&gt;! `    }`  \r\n&gt;! `    return a % 10;`  \r\n&gt;! `}`  \r\n&gt;! See [live demo][2].\r\n\r\n---\r\n\r\nRelevant facts about Java:\r\n\r\n - The modulo operator `%` returns the remainder after division, eg `32 % 10` returns  `2`\r\n\r\n - Integer division drops remainders, eg `32 / 10` returns `3`.\r\n\r\n  [1]: https://ideone.com/9pc0tM\r\n  [2]: https://ideone.com/i6uO9X","title":"Return the nth digit of a number","body":"<p>Without spoon-feeding you the code:</p>\n<p>The nth digit is the remainder after dividing (<code>a</code> divided by 10<sup>b-1</sup>) by 10.</p>\n<blockquote class=\"spoiler\">\n<p> <code>int digit(int a, int b) {</code><br />\n <code>    return a / (int)Math.pow(10, b - 1) % 10;</code><br />\n <code>}</code><br />\n See <a href=\"https://ideone.com/9pc0tM\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n</blockquote>\n<hr />\n<p>If you want an iterative approach:</p>\n<p>Loop b-1 times, each time assigning to the <code>a</code> variable the result of dividing <code>a</code> by 10.<br />\nAfter looping, the nth digit is the remainder of dividing <code>a</code> by 10.</p>\n<blockquote class=\"spoiler\">\n<p> <code>int digit(int a, int b) {</code><br />\n <code>    while (--b &gt; 0) {</code><br />\n <code>        a /= 10;</code><br />\n <code>    }</code><br />\n <code>    return a % 10;</code><br />\n <code>}</code><br />\n See <a href=\"https://ideone.com/i6uO9X\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n</blockquote>\n<hr />\n<p>Relevant facts about Java:</p>\n<ul>\n<li><p>The modulo operator <code>%</code> returns the remainder after division, eg <code>32 % 10</code> returns  <code>2</code></p>\n</li>\n<li><p>Integer division drops remainders, eg <code>32 / 10</code> returns <code>3</code>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380950803,"creation_date":1380950803,"answer_id":19194339,"question_id":19194257,"body_markdown":"The other way is convert the digit into array and return the nth index\r\n\r\n    static char digit(int a,int b)\r\n    \t{\r\n    \t\tString x=a+&quot;&quot;;\r\n    \t\tchar x1[]=x.toCharArray();\r\n    \t\tint length=x1.length;\r\n    \t\tchar result=x1[length-b];\r\n    \t\treturn result;\r\n    \t}\r\n\r\nNow run from your main method like this way\r\n\r\n    System.out.println(&quot;digit answer  &quot;+digit(1254,3));\r\n\r\n**output**\r\n\r\n    digit answer  2\r\n","title":"Return the nth digit of a number","body":"<p>The other way is convert the digit into array and return the nth index</p>\n\n<pre><code>static char digit(int a,int b)\n    {\n        String x=a+\"\";\n        char x1[]=x.toCharArray();\n        int length=x1.length;\n        char result=x1[length-b];\n        return result;\n    }\n</code></pre>\n\n<p>Now run from your main method like this way</p>\n\n<pre><code>System.out.println(\"digit answer  \"+digit(1254,3));\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>digit answer  2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3376883,"reputation":201,"user_id":2834859,"display_name":"Arun Chandrasekhara Pillai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380954690,"creation_date":1380951784,"answer_id":19194435,"question_id":19194257,"body_markdown":"    static int dig(int a, int b) {\r\n        int i, digit=1;\r\n        for(i=b-1; i&gt;0; i++)\r\n            digit = digit*10;\r\n        digit = (a/digit) % 10;\r\n        return digit;\r\n     }\r\n","title":"Return the nth digit of a number","body":"<pre><code>static int dig(int a, int b) {\n    int i, digit=1;\n    for(i=b-1; i&gt;0; i++)\n        digit = digit*10;\n    digit = (a/digit) % 10;\n    return digit;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":694376,"reputation":370,"user_id":571975,"display_name":"Randa Sbeity"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380954202,"creation_date":1380954202,"answer_id":19194715,"question_id":19194257,"body_markdown":"Convert number to string and then use the **charAt**() method.\r\n\r\n    class X{   \r\n        static char digit(int a,int n)\r\n        {\r\n            String x=a+&quot;&quot;;\r\n            return x.charAt(n-1); \r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(X.digit(123, 2));\r\n        }\r\n    }\r\n\r\nYou may want to double check that the nth position is within the length of the number:\r\n\r\n    static char digit(int a, int n) {\r\n        String x = a + &quot;&quot;;\r\n\t    char digit=&#39;\\0&#39; ;\r\n\t    if (n &gt; 0 &amp;&amp; n &lt;= x.length()) {\r\n\t        digit = x.charAt(n - 1);\r\n\t    }\r\n\t    return digit;\r\n    }\r\n\r\n","title":"Return the nth digit of a number","body":"<p>Convert number to string and then use the <strong>charAt</strong>() method.</p>\n\n<pre><code>class X{   \n    static char digit(int a,int n)\n    {\n        String x=a+\"\";\n        return x.charAt(n-1); \n    }\n\n    public static void main(String[] args) {\n        System.out.println(X.digit(123, 2));\n    }\n}\n</code></pre>\n\n<p>You may want to double check that the nth position is within the length of the number:</p>\n\n<pre><code>static char digit(int a, int n) {\n    String x = a + \"\";\n    char digit='\\0' ;\n    if (n &gt; 0 &amp;&amp; n &lt;= x.length()) {\n        digit = x.charAt(n - 1);\n    }\n    return digit;\n}\n</code></pre>\n"}],"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43791,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"closed_date":1380991897,"accepted_answer_id":19194322,"answer_count":4,"score":6,"last_activity_date":1646751830,"creation_date":1380949988,"question_id":19194257,"body_markdown":"    public class Return {    \r\n        public static void main(String[] args) {       \t\r\n            int answer = digit(9635, 1);\r\n            print(&quot;The answer is &quot; + answer);\r\n        }\r\n    \r\n        static void print(String karen) {\r\n            System.out.println (karen);\r\n        }\r\n    \r\n        static int digit(int a, int b) {\r\n            int digit = a;\r\n            return digit;\r\n        }\t  \r\n    }\r\n          \r\n         \r\nCreate a program that uses a function called **digit** which returns the value of the nth \r\ndigit from the right of an integer argument. The value of n should be a second argument.\r\n\r\nFor Example: `digit(9635, 1)` returns `5` and `digit(9635, 3)` returns `6`.\r\n","title":"Return the nth digit of a number","body":"<pre><code>public class Return {    \n    public static void main(String[] args) {        \n        int answer = digit(9635, 1);\n        print(\"The answer is \" + answer);\n    }\n\n    static void print(String karen) {\n        System.out.println (karen);\n    }\n\n    static int digit(int a, int b) {\n        int digit = a;\n        return digit;\n    }     \n}\n</code></pre>\n\n<p>Create a program that uses a function called <strong>digit</strong> which returns the value of the nth \ndigit from the right of an integer argument. The value of n should be a second argument.</p>\n\n<p>For Example: <code>digit(9635, 1)</code> returns <code>5</code> and <code>digit(9635, 3)</code> returns <code>6</code>.</p>\n"},{"tags":["java","xml","stax"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646751774,"creation_date":1646751774,"answer_id":71397149,"question_id":71396957,"body_markdown":"Sturdy but viable solution is to create a small state machine, capture events as they go and mutate state accordingly\r\n\r\n 1. If entering car node - store car reference\r\n 2. If entering owner node AND you have entered car node previously, store owner of a car\r\n 3. When exiting car node return car-owner pair\r\n 4. Repeat and handle nesting and/or node level to accept only car&gt;owner.","title":"Streaming xml in java","body":"<p>Sturdy but viable solution is to create a small state machine, capture events as they go and mutate state accordingly</p>\n<ol>\n<li>If entering car node - store car reference</li>\n<li>If entering owner node AND you have entered car node previously, store owner of a car</li>\n<li>When exiting car node return car-owner pair</li>\n<li>Repeat and handle nesting and/or node level to accept only car&gt;owner.</li>\n</ol>\n"}],"owner":{"account_id":6552450,"reputation":1002,"user_id":5066389,"accept_rate":33,"display_name":"michealAtmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71397149,"answer_count":1,"score":-1,"last_activity_date":1646751774,"creation_date":1646751016,"question_id":71396957,"body_markdown":"I am trying to read large XML file, I want only to read cars owners and I can&#39;t load whole xml to memory, how to do that ? \r\n\r\nThe XML file:\r\n \r\n\r\n      &lt;root&gt;\r\n        &lt;message&gt;\r\n            &lt;car&gt;\r\n                &lt;owner&gt;adam&lt;/owner&gt;\r\n            &lt;/car&gt;\r\n            &lt;desk&gt;\r\n                &lt;owner&gt;sam&lt;/owner&gt;\r\n                &lt;game&gt;\r\n                   &lt;owner&gt;dorothy&lt;/owner&gt;\r\n                &lt;/game&gt;\r\n                &lt;pen&gt;\r\n                   &lt;owner&gt;dorothy&lt;/owner&gt;\r\n                &lt;/pen&gt;\r\n            &lt;/desk&gt;\r\n        &lt;/message&gt;\r\n    &lt;/root&gt;\r\n\r\nFor example this code does not know exactly what it reads.. how to be sure that we are reading car owners ?\r\n\r\n     XMLInputFactory xmlInputFactory = XMLInputFactory.newInstance();\r\n            XMLEventReader reader = xmlInputFactory.createXMLEventReader(new FileInputStream(entry.toFile()));\r\n    \r\n            while (reader.hasNext()) {\r\n                XMLEvent nextEvent = reader.nextEvent();\r\n    \r\n                if (nextEvent.isStartElement()) {\r\n                    StartElement startElement = nextEvent.asStartElement();\r\n                    log.info(startElement.getName().toString());\r\n    \r\n                    switch (startElement.getName().getLocalPart()) {\r\n                        case &quot;owner&quot;:\r\n                            // whose owner. .. ?","title":"Streaming xml in java","body":"<p>I am trying to read large XML file, I want only to read cars owners and I can't load whole xml to memory, how to do that ?</p>\n<p>The XML file:</p>\n<pre><code>  &lt;root&gt;\n    &lt;message&gt;\n        &lt;car&gt;\n            &lt;owner&gt;adam&lt;/owner&gt;\n        &lt;/car&gt;\n        &lt;desk&gt;\n            &lt;owner&gt;sam&lt;/owner&gt;\n            &lt;game&gt;\n               &lt;owner&gt;dorothy&lt;/owner&gt;\n            &lt;/game&gt;\n            &lt;pen&gt;\n               &lt;owner&gt;dorothy&lt;/owner&gt;\n            &lt;/pen&gt;\n        &lt;/desk&gt;\n    &lt;/message&gt;\n&lt;/root&gt;\n</code></pre>\n<p>For example this code does not know exactly what it reads.. how to be sure that we are reading car owners ?</p>\n<pre><code> XMLInputFactory xmlInputFactory = XMLInputFactory.newInstance();\n        XMLEventReader reader = xmlInputFactory.createXMLEventReader(new FileInputStream(entry.toFile()));\n\n        while (reader.hasNext()) {\n            XMLEvent nextEvent = reader.nextEvent();\n\n            if (nextEvent.isStartElement()) {\n                StartElement startElement = nextEvent.asStartElement();\n                log.info(startElement.getName().toString());\n\n                switch (startElement.getName().getLocalPart()) {\n                    case &quot;owner&quot;:\n                        // whose owner. .. ?\n</code></pre>\n"},{"tags":["java","spring","spring-boot","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646751761,"creation_date":1646751761,"answer_id":71397146,"question_id":71396773,"body_markdown":"You can get full access to the `WebTestClient` result:\r\n\r\n```\r\nwebTestClient.post()\r\n                .uri(&quot;/api/authenticate&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .bodyValue(new LoginDetails(username, password))\r\n                .exchange()\r\n                .expectHeader()\r\n                .exists(HttpHeaders.AUTHORIZATION)\r\n                .returnResult(Map.class);\r\n```\r\n","title":"Using WebClient for Spring Boot integration testing","body":"<p>You can get full access to the <code>WebTestClient</code> result:</p>\n<pre><code>webTestClient.post()\n                .uri(&quot;/api/authenticate&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(new LoginDetails(username, password))\n                .exchange()\n                .expectHeader()\n                .exists(HttpHeaders.AUTHORIZATION)\n                .returnResult(Map.class);\n</code></pre>\n"}],"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71397146,"answer_count":1,"score":0,"last_activity_date":1646751761,"creation_date":1646750311,"question_id":71396773,"body_markdown":"I&#39;m trying to migrate some integration tests of a Spring Boot application from `RestTemplate` to `WebClient`. Currently, the tests use an autowired instance of `TestRestTemplate`\r\n\r\n    @Autowired\r\n    private TestRestTemplate restTemplate;\r\n\r\nWhen the tests are run, `restTemplate` is configured to use the same base URL and (randomly chosen) port that the server runs on.\r\n\r\nIn one of my tests, I login and save the authorization response header value for use in subsequent API calls. I tried migrating this to `WebClient` like so\r\n\r\n\r\n    WebClient webClient = WebClient.create()\r\n\r\n    var authResult = webClient.post()\r\n        .uri(&quot;/api/authenticate&quot;)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .bodyValue(new LoginDetails(username, password))\r\n        .retrieve()\r\n        .toBodilessEntity()\r\n        .block();\r\n\r\n    // save the token that was issued and use it for subsequent requests\r\n    this.authHeader = authResult.getHeaders().getFirst(HttpHeaders.AUTHORIZATION);\r\n\r\nBut when I create the `WebClient` instance like this it is not configured to use the same port as the application.\r\n\r\nI tried instead to use a dependency-injected instance of `TestWebClient`\r\n\r\n    @Autowired\r\n    private WebTestClient webTestClient;\r\n\r\nThis does connect the web client to the server (same base URL and port), however the `WebTestClient` API has quite a different API to `WebClient`. Specifically, it only seems to allow the properties of the response to be asserted, e.g. you can assert that a particular response header value exists, but there&#39;s no way to save that header&#39;s value.\r\n\r\n    var authResult = webTestClient.post()\r\n        .uri(&quot;/api/authenticate&quot;)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .bodyValue(new LoginDetails(username, password))\r\n        .exchange()\r\n        .expectHeader()\r\n        .exists(HttpHeaders.AUTHORIZATION);\r\n\r\nIs there a way to either:\r\n\r\n- Create a `WebClient` instance that is configured to use the same base URL and port as the server\r\n- Create a `WebTestClient` instance and _access_ the response properties (rather than just asserting them)\r\n\r\n\r\n","title":"Using WebClient for Spring Boot integration testing","body":"<p>I'm trying to migrate some integration tests of a Spring Boot application from <code>RestTemplate</code> to <code>WebClient</code>. Currently, the tests use an autowired instance of <code>TestRestTemplate</code></p>\n<pre><code>@Autowired\nprivate TestRestTemplate restTemplate;\n</code></pre>\n<p>When the tests are run, <code>restTemplate</code> is configured to use the same base URL and (randomly chosen) port that the server runs on.</p>\n<p>In one of my tests, I login and save the authorization response header value for use in subsequent API calls. I tried migrating this to <code>WebClient</code> like so</p>\n<pre><code>WebClient webClient = WebClient.create()\n\nvar authResult = webClient.post()\n    .uri(&quot;/api/authenticate&quot;)\n    .contentType(MediaType.APPLICATION_JSON)\n    .bodyValue(new LoginDetails(username, password))\n    .retrieve()\n    .toBodilessEntity()\n    .block();\n\n// save the token that was issued and use it for subsequent requests\nthis.authHeader = authResult.getHeaders().getFirst(HttpHeaders.AUTHORIZATION);\n</code></pre>\n<p>But when I create the <code>WebClient</code> instance like this it is not configured to use the same port as the application.</p>\n<p>I tried instead to use a dependency-injected instance of <code>TestWebClient</code></p>\n<pre><code>@Autowired\nprivate WebTestClient webTestClient;\n</code></pre>\n<p>This does connect the web client to the server (same base URL and port), however the <code>WebTestClient</code> API has quite a different API to <code>WebClient</code>. Specifically, it only seems to allow the properties of the response to be asserted, e.g. you can assert that a particular response header value exists, but there's no way to save that header's value.</p>\n<pre><code>var authResult = webTestClient.post()\n    .uri(&quot;/api/authenticate&quot;)\n    .contentType(MediaType.APPLICATION_JSON)\n    .bodyValue(new LoginDetails(username, password))\n    .exchange()\n    .expectHeader()\n    .exists(HttpHeaders.AUTHORIZATION);\n</code></pre>\n<p>Is there a way to either:</p>\n<ul>\n<li>Create a <code>WebClient</code> instance that is configured to use the same base URL and port as the server</li>\n<li>Create a <code>WebTestClient</code> instance and <em>access</em> the response properties (rather than just asserting them)</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":6142953,"reputation":321,"user_id":4789766,"accept_rate":80,"display_name":"Matthew S."},"score":2,"creation_date":1646750651,"post_id":71396849,"comment_id":126197748,"body_markdown":"Please provide some code snippets","body":"Please provide some code snippets"},{"owner":{"account_id":20337795,"reputation":42,"user_id":14918035,"display_name":"Avishkar"},"score":0,"creation_date":1646750913,"post_id":71396849,"comment_id":126197861,"body_markdown":"@MatthewS. I have edited the question so that reader can have complete information about the issues I am facing. Request you to kindly re-read the question again, please.","body":"@MatthewS. I have edited the question so that reader can have complete information about the issues I am facing. Request you to kindly re-read the question again, please."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646770266,"post_id":71396849,"comment_id":126205106,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":14670261,"reputation":46,"user_id":10594918,"display_name":"Monika Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646751691,"creation_date":1646751691,"answer_id":71397133,"question_id":71396849,"body_markdown":"`services` or `settings` is not a reserved word. \r\nMost likely this seems to be an issue with resolver mapper.\r\nCan you double check if you don&#39;t have multiple resources with same resource path and also check your application logs while you make a request.","title":"Spring boot restricting some keywords in route url","body":"<p><code>services</code> or <code>settings</code> is not a reserved word.\nMost likely this seems to be an issue with resolver mapper.\nCan you double check if you don't have multiple resources with same resource path and also check your application logs while you make a request.</p>\n"}],"owner":{"account_id":20337795,"reputation":42,"user_id":14918035,"display_name":"Avishkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1646751691,"creation_date":1646750599,"question_id":71396849,"body_markdown":"I have used &quot;services&quot; and &quot;settings&quot; keyword in my route url.\r\n\r\nBut, Spring boot is restricting it.\r\n\r\nWhen trying to hit the url then it shows &quot;site taking too long to respond&quot;.\r\n\r\n**But, when I change the keywords from some else then it work well.**\r\n\r\nExample: http://localhost:4125/api/v1/settings/pg/get/{id} - Not Working\r\n\r\nWhen Changed: http://localhost:4125/api/v1/Mysettings/pg/get/{id} - Working\r\n\r\nExample: http://localhost:4125/api/v1/services/pg/get/{id} - Not Working\r\n\r\nWhen Changed: http://localhost:4125/api/v1/Myservices/pg/get/{id} - Working\r\n\r\nIf anybody can help me with this then please do help me.\r\n\r\n\r\nThanks in advance!","title":"Spring boot restricting some keywords in route url","body":"<p>I have used &quot;services&quot; and &quot;settings&quot; keyword in my route url.</p>\n<p>But, Spring boot is restricting it.</p>\n<p>When trying to hit the url then it shows &quot;site taking too long to respond&quot;.</p>\n<p><strong>But, when I change the keywords from some else then it work well.</strong></p>\n<p>Example: http://localhost:4125/api/v1/settings/pg/get/{id} - Not Working</p>\n<p>When Changed: http://localhost:4125/api/v1/Mysettings/pg/get/{id} - Working</p>\n<p>Example: http://localhost:4125/api/v1/services/pg/get/{id} - Not Working</p>\n<p>When Changed: http://localhost:4125/api/v1/Myservices/pg/get/{id} - Working</p>\n<p>If anybody can help me with this then please do help me.</p>\n<p>Thanks in advance!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8459,"page":1533,"page_size":100}
