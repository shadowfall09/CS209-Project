{"items":[{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":17132282,"reputation":23,"user_id":12398124,"display_name":"Nick Esposito"},"score":0,"creation_date":1644246381,"post_id":70733282,"comment_id":125547352,"body_markdown":"I&#39;ve been getting the same thing under the same circumstances, going from a lower SDKVersion to 31. In my case (a Wear OS watchface), it&#39;s because the user has selected a time-related complication (world clock, day countdown, alarm, or any other of options); the code then tries to pull the icon/name to display in the settings for the complication.","body":"I&#39;ve been getting the same thing under the same circumstances, going from a lower SDKVersion to 31. In my case (a Wear OS watchface), it&#39;s because the user has selected a time-related complication (world clock, day countdown, alarm, or any other of options); the code then tries to pull the icon/name to display in the settings for the complication."},{"owner":{"account_id":17132282,"reputation":23,"user_id":12398124,"display_name":"Nick Esposito"},"score":0,"creation_date":1644246766,"post_id":70733282,"comment_id":125547548,"body_markdown":"It all works fine on my actual watch (granted, it&#39;s a Wear 2.x watch), but on the emulator I get the warning and nothing appears for the icon/title.  I suspect it&#39;s either a bug in their Wear 3.0 (API 30) emulator, or an undisclosed library change in 3.0. It doesn&#39;t occur when I run the same code in an API 28 emulator.","body":"It all works fine on my actual watch (granted, it&#39;s a Wear 2.x watch), but on the emulator I get the warning and nothing appears for the icon/title.  I suspect it&#39;s either a bug in their Wear 3.0 (API 30) emulator, or an undisclosed library change in 3.0. It doesn&#39;t occur when I run the same code in an API 28 emulator."},{"owner":{"account_id":17132282,"reputation":23,"user_id":12398124,"display_name":"Nick Esposito"},"score":0,"creation_date":1644324150,"post_id":70733282,"comment_id":125571333,"body_markdown":"UPDATE: Whatever the root cause, it first appears when going to compileSdkVersion 30. I ran the Google sample complications-master and displayed it in Wear OS emulators built with API 28, 29 and 30; the error only appears when compileSdkVersion is 30 and above, and in the API 30 emulator.","body":"UPDATE: Whatever the root cause, it first appears when going to compileSdkVersion 30. I ran the Google sample complications-master and displayed it in Wear OS emulators built with API 28, 29 and 30; the error only appears when compileSdkVersion is 30 and above, and in the API 30 emulator."},{"owner":{"account_id":5760213,"reputation":203,"user_id":4546890,"display_name":"HendrikFrans"},"score":0,"creation_date":1675161558,"post_id":70733282,"comment_id":132864387,"body_markdown":"This later question seems related (https://stackoverflow.com/questions/73300846/cannot-find-complication-icon-on-galaxy-watch-4) and its answer may help you.","body":"This later question seems related (<a href=\"https://stackoverflow.com/questions/73300846/cannot-find-complication-icon-on-galaxy-watch-4\" title=\"cannot find complication icon on galaxy watch 4\">stackoverflow.com/questions/73300846/&hellip;</a>) and its answer may help you."}],"owner":{"account_id":17132282,"reputation":23,"user_id":12398124,"display_name":"Nick Esposito"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642359880,"creation_date":1642359880,"question_id":70733282,"body_markdown":"Sometime in the last month or so, when I run my project in the emulator, somewhere in the Run window this appears in red:\r\n\r\n    E/Icon: Unable to find pkg=com.google.android.deskclock for icon Icon(typ=RESOURCE pkg=com.google.android.deskclock id=0x7f0800ed)\r\n    android.content.pm.PackageManager$NameNotFoundException: com.google.android.deskclock\r\n        at android.app.ApplicationPackageManager.getApplicationInfoAsUser(ApplicationPackageManager.java:423)\r\n        at android.app.ApplicationPackageManager.getApplicationInfo(ApplicationPackageManager.java:412)\r\n        at android.graphics.drawable.Icon.loadDrawableInner(Icon.java:366)\r\n        at android.graphics.drawable.Icon.loadDrawable(Icon.java:334)\r\n        at android.graphics.drawable.Icon$LoadDrawableTask.run(Icon.java:998)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n\r\nThe app still runs without any other issue.\r\n\r\nMy project (it&#39;s a WearOS project) doesn&#39;t reference or use anything like &quot;deskclock&quot;; the only change I&#39;ve made is upping the targetSdkVersion and compileSdkVersion from 29 to 31.\r\n\r\nDoes anyone have any idea where this could be coming from?\r\n\r\nFor reference, here are my dependencies:\r\n\r\n    dependencies {\r\n    compileOnly &#39;com.google.android.wearable:wearable:2.8.1&#39;\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.google.android.gms:play-services-wearable:17.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;com.google.android.support:wearable:2.8.1&#39;\r\n\r\n    implementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.core:core:1.7.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v13:1.0.0&#39;\r\n    implementation &#39;androidx.preference:preference:1.1.1&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n    implementation &#39;androidx.wear:wear:1.2.0&#39;\r\n\r\n    implementation &#39;com.squareup.okhttp3:okhttp:5.0.0-alpha.2&#39;\r\n\r\n    implementation &quot;com.android.billingclient:billing:4.0.0&quot;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.0.3&#39;)\r\n\r\n    // Declare the dependencies for the Crashlytics and Analytics libraries\r\n    implementation &#39;com.google.firebase:firebase-crashlytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    }\r\n\r\n","title":"Strange &quot;deskclock&quot; error started appearing in my app&#39;s run log","body":"<p>Sometime in the last month or so, when I run my project in the emulator, somewhere in the Run window this appears in red:</p>\n<pre><code>E/Icon: Unable to find pkg=com.google.android.deskclock for icon Icon(typ=RESOURCE pkg=com.google.android.deskclock id=0x7f0800ed)\nandroid.content.pm.PackageManager$NameNotFoundException: com.google.android.deskclock\n    at android.app.ApplicationPackageManager.getApplicationInfoAsUser(ApplicationPackageManager.java:423)\n    at android.app.ApplicationPackageManager.getApplicationInfo(ApplicationPackageManager.java:412)\n    at android.graphics.drawable.Icon.loadDrawableInner(Icon.java:366)\n    at android.graphics.drawable.Icon.loadDrawable(Icon.java:334)\n    at android.graphics.drawable.Icon$LoadDrawableTask.run(Icon.java:998)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>The app still runs without any other issue.</p>\n<p>My project (it's a WearOS project) doesn't reference or use anything like &quot;deskclock&quot;; the only change I've made is upping the targetSdkVersion and compileSdkVersion from 29 to 31.</p>\n<p>Does anyone have any idea where this could be coming from?</p>\n<p>For reference, here are my dependencies:</p>\n<pre><code>dependencies {\ncompileOnly 'com.google.android.wearable:wearable:2.8.1'\n\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.google.android.gms:play-services-wearable:17.1.0'\nimplementation 'com.google.android.gms:play-services-location:19.0.1'\nimplementation 'com.google.android.material:material:1.4.0'\nimplementation 'com.google.android.support:wearable:2.8.1'\n\nimplementation 'androidx.annotation:annotation:1.3.0'\nimplementation 'androidx.appcompat:appcompat:1.4.0'\nimplementation 'androidx.core:core:1.7.0'\nimplementation 'androidx.legacy:legacy-support-v13:1.0.0'\nimplementation 'androidx.preference:preference:1.1.1'\nimplementation 'androidx.recyclerview:recyclerview:1.2.1'\nimplementation 'androidx.wear:wear:1.2.0'\n\nimplementation 'com.squareup.okhttp3:okhttp:5.0.0-alpha.2'\n\nimplementation &quot;com.android.billingclient:billing:4.0.0&quot;\nimplementation platform('com.google.firebase:firebase-bom:29.0.3')\n\n// Declare the dependencies for the Crashlytics and Analytics libraries\nimplementation 'com.google.firebase:firebase-crashlytics'\nimplementation 'com.google.firebase:firebase-analytics'\n}\n</code></pre>\n"},{"tags":["java","ssl","certificate","httprequest"],"answers":[{"tags":[],"owner":{"account_id":10639082,"reputation":105,"user_id":7834822,"display_name":"Petar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642358153,"creation_date":1642358153,"answer_id":70733021,"question_id":70700788,"body_markdown":"The certificate is not supposed to leave the smart card. You need to use a PKCS#11 provider to instantiate your keystore. This answer could be a good starting point:\r\nhttps://stackoverflow.com/questions/4833989/java-access-token-pkcs11-not-found-provider/40956460#40956460","title":"TaxCore - request token using a smart card certificate","body":"<p>The certificate is not supposed to leave the smart card. You need to use a PKCS#11 provider to instantiate your keystore. This answer could be a good starting point:\n<a href=\"https://stackoverflow.com/questions/4833989/java-access-token-pkcs11-not-found-provider/40956460#40956460\">Java Access Token PKCS11 Not found Provider</a></p>\n"}],"owner":{"account_id":7568888,"reputation":109,"user_id":5743452,"accept_rate":83,"display_name":"Bosko Sinobad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642358153,"creation_date":1642095357,"question_id":70700788,"body_markdown":"The app I am trying to make needs to request a token from the TaxCore server by providing it with a personal certificate acquired from a smart card.\r\nI&#39;ve exported the certificate from the smart card, and named it buisness.cer.\r\nI also have 2 more certificates that I need in order to establish the https connection (`Sandbox SUF Issuing CA 1.cer` and `Sandbox SUF RCA.cer`).\r\n\r\nThe official documentation states the following steps:\r\n1. Create HTTPS GET request object\r\n2. Add HTTP headers &quot;Accept: application/json&quot; and &quot;Content-Type: application/json&quot;\r\n3. Read certificate from the PKI Applet\r\n4. Use the certificate from the PKI Applet to establish SSL/TLS connection\r\n5. Send a request to &quot;/api/v3/sdc/token&quot; operation on TaxCore.API web service.\r\n6. Read the response as JSON structure defined below\r\n\r\nI&#39;ve lost days trying to make this work, and tested all of the examples I could find around the internet, but despite my efforts I always end up with a 401 respponse.\r\n`{&quot;Message&quot;:&quot;Authorization has been denied for this request.&quot;}`\r\n\r\nCurrently I have this (non-working):\r\n\r\n\tprivate static X509Certificate getCert(String f) {\r\n\t\tInputStream is0;\r\n\t\ttry {\r\n\t\t\tCertificateFactory cf0 = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\t\t\tis0 = new FileInputStream(f);\r\n\t\t\tvar cer = (X509Certificate) cf0.generateCertificate(is0);\r\n\t\t\tis0.close();\r\n\t\t\treturn cer;\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (CertificateException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n    public final static void main(String[] args) throws Exception {\r\n    \t\tvar buisnessCert = getCert(&quot;someplace/buisness.cer&quot;);\r\n    \t\tvar issuingCaCert = getCert(&quot;someplace/issuingCa.cer&quot;);\r\n    \t\tvar rcaCert = getCert(&quot;someplace/rca.cer&quot;);\r\n    \t\tvar tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    \t\tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \t\tks.load(null);\r\n\t\t    ks.setCertificateEntry(&quot;issuingCaCert&quot;, issuingCaCert);\r\n\t\t    ks.setCertificateEntry(&quot;rcaCert&quot;, rcaCert);\r\n\t\t    ks.setCertificateEntry(&quot;buisnessCert&quot;, buisnessCert);\r\n    \t\ttmf.init(ks);\r\n    \t\tSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \t\tsslContext.init(null, tmf.getTrustManagers(), null);\r\n    \t\tSSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslContext, null, null,\r\n\t\t\t\tSSLConnectionSocketFactory.getDefaultHostnameVerifier());\r\n    \t\tCloseableHttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\r\n    \t\ttry {\r\n    \t\t\tHttpGet httpget = new HttpGet(&quot;https://taxcoreservergoeshere/api/v3/sdc/token&quot;);\r\n\t\t\t    httpget.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t\t    httpget.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t\tCloseableHttpResponse response = httpclient.execute(httpget);\r\n    \t\t\ttry {\r\n    \t\t\t\tHttpEntity entity = response.getEntity();\r\n    \t\t\t\tSystem.out.println(EntityUtils.toString(entity));\r\n    \t\t\t\tEntityUtils.consume(entity);\r\n    \t\t\t} finally {\r\n    \t\t\t\tresponse.close();\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\thttpclient.close();\r\n    \t\t}\r\n    \t}\r\n\r\nAny help is highly appreciated. ","title":"TaxCore - request token using a smart card certificate","body":"<p>The app I am trying to make needs to request a token from the TaxCore server by providing it with a personal certificate acquired from a smart card.\nI've exported the certificate from the smart card, and named it buisness.cer.\nI also have 2 more certificates that I need in order to establish the https connection (<code>Sandbox SUF Issuing CA 1.cer</code> and <code>Sandbox SUF RCA.cer</code>).</p>\n<p>The official documentation states the following steps:</p>\n<ol>\n<li>Create HTTPS GET request object</li>\n<li>Add HTTP headers &quot;Accept: application/json&quot; and &quot;Content-Type: application/json&quot;</li>\n<li>Read certificate from the PKI Applet</li>\n<li>Use the certificate from the PKI Applet to establish SSL/TLS connection</li>\n<li>Send a request to &quot;/api/v3/sdc/token&quot; operation on TaxCore.API web service.</li>\n<li>Read the response as JSON structure defined below</li>\n</ol>\n<p>I've lost days trying to make this work, and tested all of the examples I could find around the internet, but despite my efforts I always end up with a 401 respponse.\n<code>{&quot;Message&quot;:&quot;Authorization has been denied for this request.&quot;}</code></p>\n<p>Currently I have this (non-working):</p>\n<pre><code>private static X509Certificate getCert(String f) {\n    InputStream is0;\n    try {\n        CertificateFactory cf0 = CertificateFactory.getInstance(&quot;X.509&quot;);\n        is0 = new FileInputStream(f);\n        var cer = (X509Certificate) cf0.generateCertificate(is0);\n        is0.close();\n        return cer;\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (CertificateException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\npublic final static void main(String[] args) throws Exception {\n        var buisnessCert = getCert(&quot;someplace/buisness.cer&quot;);\n        var issuingCaCert = getCert(&quot;someplace/issuingCa.cer&quot;);\n        var rcaCert = getCert(&quot;someplace/rca.cer&quot;);\n        var tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(null);\n        ks.setCertificateEntry(&quot;issuingCaCert&quot;, issuingCaCert);\n        ks.setCertificateEntry(&quot;rcaCert&quot;, rcaCert);\n        ks.setCertificateEntry(&quot;buisnessCert&quot;, buisnessCert);\n        tmf.init(ks);\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, tmf.getTrustManagers(), null);\n        SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslContext, null, null,\n            SSLConnectionSocketFactory.getDefaultHostnameVerifier());\n        CloseableHttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n        try {\n            HttpGet httpget = new HttpGet(&quot;https://taxcoreservergoeshere/api/v3/sdc/token&quot;);\n            httpget.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n            httpget.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            CloseableHttpResponse response = httpclient.execute(httpget);\n            try {\n                HttpEntity entity = response.getEntity();\n                System.out.println(EntityUtils.toString(entity));\n                EntityUtils.consume(entity);\n            } finally {\n                response.close();\n            }\n        } finally {\n            httpclient.close();\n        }\n    }\n</code></pre>\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","string","input","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":23425047,"reputation":26,"user_id":17484626,"display_name":"Pratik Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642355815,"creation_date":1642355815,"answer_id":70732687,"question_id":70732566,"body_markdown":"`scan.nextDouble()` or `scan.nextInt()` doesn&#39;t finish the line so when `scan.nextLine()` comes simple you can say that it consume the leftover blank line so the String prints nothing. To consume the leftover line put `scan.nextLine()` before `String s = scan.nextLine();`","title":"The Java Scanner is not taking my String Input","body":"<p><code>scan.nextDouble()</code> or <code>scan.nextInt()</code> doesn't finish the line so when <code>scan.nextLine()</code> comes simple you can say that it consume the leftover blank line so the String prints nothing. To consume the leftover line put <code>scan.nextLine()</code> before <code>String s = scan.nextLine();</code></p>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642357746,"creation_date":1642357389,"answer_id":70732915,"question_id":70732566,"body_markdown":"Note that for the single line input `1 1.1 done` you shall get the output:\r\n\r\n```\r\nString:  done\r\nDouble: 1.1\r\nInt: 1\r\n```\r\nThat `done` is preceded in the output by a space character hints to you that scanner is consuming one token at a time. Checkout for example the documentation for [scan.nextInt][1] and [scan.nextLine][2]  \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#nextInt()\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#nextLine()","title":"The Java Scanner is not taking my String Input","body":"<p>Note that for the single line input <code>1 1.1 done</code> you shall get the output:</p>\n<pre><code>String:  done\nDouble: 1.1\nInt: 1\n</code></pre>\n<p>That <code>done</code> is preceded in the output by a space character hints to you that scanner is consuming one token at a time. Checkout for example the documentation for <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">scan.nextInt</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">scan.nextLine</a></p>\n"}],"owner":{"account_id":23492792,"reputation":23,"user_id":17543608,"display_name":"Rhitam Chaudhury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732687,"answer_count":2,"score":0,"last_activity_date":1642357746,"creation_date":1642354855,"question_id":70732566,"body_markdown":"\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int i = scan.nextInt();\r\n        double d = scan.nextDouble();\r\n        String s = scan.nextLine();\r\n        \r\n\r\n        System.out.println(&quot;String: &quot; + s);\r\n        System.out.println(&quot;Double: &quot; + d);\r\n        System.out.println(&quot;Int: &quot; + i);\r\n    }\r\n\r\n\r\nHere is my code. It is compiled properly and no syntax error but I can&#39;t understand why my String input is not taken. As soon as I give the integer input and the double input, the output is coming as:\r\n\r\n**INPUT**\r\n\r\n42\r\n\r\n309.23\r\n\r\n**OUTPUT**\r\n\r\nString: \r\n\r\nDouble: 309.23\r\n\r\nInt: 42","title":"The Java Scanner is not taking my String Input","body":"<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    int i = scan.nextInt();\n    double d = scan.nextDouble();\n    String s = scan.nextLine();\n    \n\n    System.out.println(&quot;String: &quot; + s);\n    System.out.println(&quot;Double: &quot; + d);\n    System.out.println(&quot;Int: &quot; + i);\n}\n</code></pre>\n<p>Here is my code. It is compiled properly and no syntax error but I can't understand why my String input is not taken. As soon as I give the integer input and the double input, the output is coming as:</p>\n<p><strong>INPUT</strong></p>\n<p>42</p>\n<p>309.23</p>\n<p><strong>OUTPUT</strong></p>\n<p>String:</p>\n<p>Double: 309.23</p>\n<p>Int: 42</p>\n"},{"tags":["java","switch-statement","java.util.scanner"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1642161456,"post_id":70710157,"comment_id":125003163,"body_markdown":"Welcome to Stackoverflow. This is a good start. Consider adding some if checks which check what you are required to check. Other than that it&#39;s hard to help you as it is not clear what part causes you problems.","body":"Welcome to Stackoverflow. This is a good start. Consider adding some if checks which check what you are required to check. Other than that it&#39;s hard to help you as it is not clear what part causes you problems."},{"owner":{"account_id":23939564,"reputation":3,"user_id":17932869,"display_name":"gamespec"},"score":0,"creation_date":1642161596,"post_id":70710157,"comment_id":125003209,"body_markdown":"Well, the problem for me is how to make it remember the number after it adds or remove the customer. So it adds 1 to 6 for example and not 5 again.","body":"Well, the problem for me is how to make it remember the number after it adds or remove the customer. So it adds 1 to 6 for example and not 5 again."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1642163027,"post_id":70710157,"comment_id":125003687,"body_markdown":"I assume `a` is your current queue size. Initially it&#39;s 5. Just add 1 to it on `ADD` like `a = a + 1` and similarly remove 1 on `REMOVE`. And before doing that check if you&#39;ve reached queue limits with an if statement (`if (a == 8) // print error` for example)","body":"I assume <code>a</code> is your current queue size. Initially it&#39;s 5. Just add 1 to it on <code>ADD</code> like <code>a = a + 1</code> and similarly remove 1 on <code>REMOVE</code>. And before doing that check if you&#39;ve reached queue limits with an if statement (<code>if (a == 8) &#47;&#47; print error</code> for example)"}],"answers":[{"tags":[],"owner":{"account_id":3023551,"reputation":688,"user_id":2564032,"display_name":"Vasif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642168764,"creation_date":1642168764,"answer_id":70711727,"question_id":70710157,"body_markdown":"I think you need somehting like below:\r\n\r\n    public static void main(String[] args) {\r\n        boolean isExitRequested = false;\r\n        int queueSize = 5;\r\n        System.out.println (&quot;This queue has &quot;+queueSize+&quot; people in it at the moment.&quot;);\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        while(scan.hasNextLine()){\r\n            String input = scan.nextLine();\r\n            switch (input){\r\n                case &quot;ADD&quot;:\r\n                    System.out.println (&quot;This queue has &quot; + queueSize++ + &quot; people in it at the moment.&quot;);\r\n                    if (queueSize &gt; 8) {\r\n                        System.out.println(&quot;This queue is too big&quot;);\r\n                    }\r\n                    break;\r\n                case &quot;REMOVE&quot;:\r\n                    if (queueSize == 0){\r\n                        System.out.println(&quot;There&#39;s nobody in the queue.&quot;);\r\n                    } else {\r\n                        queueSize--;\r\n                    }\r\n                    break;\r\n                case &quot;EXIT&quot;:\r\n                    isExitRequested = true;\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Unknown input: &quot;+input);\r\n            }\r\n\r\n            if(isExitRequested)\r\n                break;\r\n        }\r\n\r\n    }","title":"How to make a simulation of a shop queue with switch statement and scan utility?","body":"<p>I think you need somehting like below:</p>\n<pre><code>public static void main(String[] args) {\n    boolean isExitRequested = false;\n    int queueSize = 5;\n    System.out.println (&quot;This queue has &quot;+queueSize+&quot; people in it at the moment.&quot;);\n    Scanner scan = new Scanner(System.in);\n\n    while(scan.hasNextLine()){\n        String input = scan.nextLine();\n        switch (input){\n            case &quot;ADD&quot;:\n                System.out.println (&quot;This queue has &quot; + queueSize++ + &quot; people in it at the moment.&quot;);\n                if (queueSize &gt; 8) {\n                    System.out.println(&quot;This queue is too big&quot;);\n                }\n                break;\n            case &quot;REMOVE&quot;:\n                if (queueSize == 0){\n                    System.out.println(&quot;There's nobody in the queue.&quot;);\n                } else {\n                    queueSize--;\n                }\n                break;\n            case &quot;EXIT&quot;:\n                isExitRequested = true;\n                break;\n            default:\n                System.out.println(&quot;Unknown input: &quot;+input);\n        }\n\n        if(isExitRequested)\n            break;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23939564,"reputation":3,"user_id":17932869,"display_name":"gamespec"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70711727,"answer_count":1,"score":0,"last_activity_date":1642356402,"creation_date":1642161132,"question_id":70710157,"body_markdown":"I have to make a Java program using scan, switch and cases in which I can add one customer with a command &quot;add&quot; and remove one customer with a command &quot;remove&quot;. \r\n\r\nThe default number of customers in queue is 5. If the count of customers gets larger than 8 it prints out &quot;This queue is too big.&quot; If there is less than 1 customer it prints out &quot;There&#39;s nobody in the queue.&quot;\r\n\r\nI tried to do some of the code, but I have no idea what to do next.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class fronta {\r\n    public static void main(String[] args) {\r\n    \r\n    System.out.println (&quot;This queue has 5 people in it at the moment.&quot;);\t\r\n    Scanner scan = new Scanner(System.in);\r\n\tboolean x = true;\r\n\tString b = &quot;ADD&quot;;\r\n\tint a = 5;\r\n\tb = scan.nextLine();\r\n    while(x){\r\n    switch (b) {\r\n    case &quot;ADD&quot;:\r\n    \t\r\n    System.out.println (&quot;This queue has &quot; + a + &quot; people in it at the moment.&quot;);\r\n    b = scan.nextLine();\r\n    System.out.println (&quot;This queue is too big&quot;);\r\n    \tbreak;\r\n    \r\n    default:\r\n\tcase &quot;EXIT&quot;:\r\n\t\tSystem.out.println(&quot;End of simulation.&quot;);\r\n\t\tx = false;\r\n\t\tbreak;\t\r\n   }\r\n  }\r\n }\r\n}\r\n```","title":"How to make a simulation of a shop queue with switch statement and scan utility?","body":"<p>I have to make a Java program using scan, switch and cases in which I can add one customer with a command &quot;add&quot; and remove one customer with a command &quot;remove&quot;.</p>\n<p>The default number of customers in queue is 5. If the count of customers gets larger than 8 it prints out &quot;This queue is too big.&quot; If there is less than 1 customer it prints out &quot;There's nobody in the queue.&quot;</p>\n<p>I tried to do some of the code, but I have no idea what to do next.</p>\n<pre><code>import java.util.Scanner;\n\npublic class fronta {\n    public static void main(String[] args) {\n    \n    System.out.println (&quot;This queue has 5 people in it at the moment.&quot;);    \n    Scanner scan = new Scanner(System.in);\n    boolean x = true;\n    String b = &quot;ADD&quot;;\n    int a = 5;\n    b = scan.nextLine();\n    while(x){\n    switch (b) {\n    case &quot;ADD&quot;:\n        \n    System.out.println (&quot;This queue has &quot; + a + &quot; people in it at the moment.&quot;);\n    b = scan.nextLine();\n    System.out.println (&quot;This queue is too big&quot;);\n        break;\n    \n    default:\n    case &quot;EXIT&quot;:\n        System.out.println(&quot;End of simulation.&quot;);\n        x = false;\n        break;  \n   }\n  }\n }\n}\n</code></pre>\n"},{"tags":["java","spring","model-view-controller","view","controller"],"comments":[{"owner":{"account_id":23750428,"reputation":11,"user_id":17767256,"display_name":"programmazione"},"score":0,"creation_date":1642376326,"post_id":70732772,"comment_id":125048098,"body_markdown":"What am I doing wrong? Because the page is visible","body":"What am I doing wrong? Because the page is visible"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1642400783,"post_id":70732772,"comment_id":125051493,"body_markdown":"You are combining the wrong things. First I would strongly suggest to stop using JSP. That is pretty legacy and not really updated anymore (only maintenace). In your JSP you are also trying to use Thymeleaf, don&#39;t either stick with proper JSP (I suggested against it) or indeed do use Thymeleaf properly. As you are learning new technologies I would also strongly advice to use Spring Boot, which will save you a ton on setup.","body":"You are combining the wrong things. First I would strongly suggest to stop using JSP. That is pretty legacy and not really updated anymore (only maintenace). In your JSP you are also trying to use Thymeleaf, don&#39;t either stick with proper JSP (I suggested against it) or indeed do use Thymeleaf properly. As you are learning new technologies I would also strongly advice to use Spring Boot, which will save you a ton on setup."},{"owner":{"account_id":23750428,"reputation":11,"user_id":17767256,"display_name":"programmazione"},"score":0,"creation_date":1642441055,"post_id":70732772,"comment_id":125066411,"body_markdown":"Very first thing Thanks that you answered me. Thymeleaf I know I wrote it wrong. Can you give me an example or if you have an example on how to set up the page? Spring Boot not now, but thanks for the advice","body":"Very first thing Thanks that you answered me. Thymeleaf I know I wrote it wrong. Can you give me an example or if you have an example on how to set up the page? Spring Boot not now, but thanks for the advice"},{"owner":{"account_id":14265505,"reputation":55,"user_id":10304806,"display_name":"Soumik"},"score":0,"creation_date":1653026362,"post_id":70732772,"comment_id":127754512,"body_markdown":"Please post the code of helloController. You posted some xml code.","body":"Please post the code of helloController. You posted some xml code."}],"owner":{"account_id":23750428,"reputation":11,"user_id":17767256,"display_name":"programmazione"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642356390,"creation_date":1642356390,"question_id":70732772,"body_markdown":"premise: sorry for my english\r\n\r\nHi everyone, I&#39;m at the beginning and I&#39;m trying to take the first steps towards the world of Spring Mvc in Java. From the different tutorials they have come to create a page in jsp, to create a page in the controller. But I can&#39;t get the message from the controller to the view.\r\n\r\nhello.jsp\r\n```\r\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;\r\n    &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;JSP Page due&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\r\n        &lt;h2&gt;${nome}&lt;/h2&gt;\r\n        &lt;h1&gt;Message : &lt;span th:text=&quot;${nome}&quot;&gt;&lt;/span&gt;&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\ndispatcher-servlet.xml\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:context = &quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\r\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd\r\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\r\n http://www.springframework.org/schema/context \r\n   http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\r\n\r\n &lt;context:component-scan base-package = &quot;controllerHello&quot; /&gt;\r\n    \r\n    &lt;!--\r\n    Most controllers will use the ControllerClassNameHandlerMapping above, but\r\n    for the index controller we are using ParameterizableViewController, so we must\r\n    define an explicit mapping for it.\r\n    --&gt;\r\n    &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\r\n        &lt;property name=&quot;mappings&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\r\n                &lt;prop key=&quot;hello.htm&quot;&gt;helloController&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n          p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\r\n\r\n    &lt;!--\r\n    The index controller.\r\n    --&gt;\r\n    &lt;bean name=&quot;indexController&quot; \r\n          class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n          p:viewName=&quot;index&quot; /&gt;\r\n&lt;bean name=&quot;helloController&quot; \r\n      class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n          p:viewName=&quot;hello&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nweb.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;\r\n            30\r\n        &lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;redirect.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;hello.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nhelloController.java\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:context = &quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\r\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd\r\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\r\n http://www.springframework.org/schema/context \r\n   http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\r\n\r\n &lt;context:component-scan base-package = &quot;controllerHello&quot; /&gt;\r\n    \r\n    &lt;!--\r\n    Most controllers will use the ControllerClassNameHandlerMapping above, but\r\n    for the index controller we are using ParameterizableViewController, so we must\r\n    define an explicit mapping for it.\r\n    --&gt;\r\n    &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\r\n        &lt;property name=&quot;mappings&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\r\n                &lt;prop key=&quot;hello.htm&quot;&gt;helloController&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n          p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\r\n\r\n    &lt;!--\r\n    The index controller.\r\n    --&gt;\r\n    &lt;bean name=&quot;indexController&quot; \r\n          class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n          p:viewName=&quot;index&quot; /&gt;\r\n&lt;bean name=&quot;helloController&quot; \r\n      class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n          p:viewName=&quot;hello&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n","title":"From controller to view hello in Java Spring Mvc 2022.0","body":"<p>premise: sorry for my english</p>\n<p>Hi everyone, I'm at the beginning and I'm trying to take the first steps towards the world of Spring Mvc in Java. From the different tutorials they have come to create a page in jsp, to create a page in the controller. But I can't get the message from the controller to the view.</p>\n<p>hello.jsp</p>\n<pre><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;\n    &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;JSP Page due&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n        &lt;h2&gt;${nome}&lt;/h2&gt;\n        &lt;h1&gt;Message : &lt;span th:text=&quot;${nome}&quot;&gt;&lt;/span&gt;&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>dispatcher-servlet.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:context = &quot;http://www.springframework.org/schema/context&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\n http://www.springframework.org/schema/context \n   http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\n\n &lt;context:component-scan base-package = &quot;controllerHello&quot; /&gt;\n    \n    &lt;!--\n    Most controllers will use the ControllerClassNameHandlerMapping above, but\n    for the index controller we are using ParameterizableViewController, so we must\n    define an explicit mapping for it.\n    --&gt;\n    &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\n        &lt;property name=&quot;mappings&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\n                &lt;prop key=&quot;hello.htm&quot;&gt;helloController&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\n          p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\n\n    &lt;!--\n    The index controller.\n    --&gt;\n    &lt;bean name=&quot;indexController&quot; \n          class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\n          p:viewName=&quot;index&quot; /&gt;\n&lt;bean name=&quot;helloController&quot; \n      class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\n          p:viewName=&quot;hello&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;redirect.jsp&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;hello.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>helloController.java</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:context = &quot;http://www.springframework.org/schema/context&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\n http://www.springframework.org/schema/context \n   http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;&gt;\n\n &lt;context:component-scan base-package = &quot;controllerHello&quot; /&gt;\n    \n    &lt;!--\n    Most controllers will use the ControllerClassNameHandlerMapping above, but\n    for the index controller we are using ParameterizableViewController, so we must\n    define an explicit mapping for it.\n    --&gt;\n    &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\n        &lt;property name=&quot;mappings&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\n                &lt;prop key=&quot;hello.htm&quot;&gt;helloController&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\n          p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\n\n    &lt;!--\n    The index controller.\n    --&gt;\n    &lt;bean name=&quot;indexController&quot; \n          class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\n          p:viewName=&quot;index&quot; /&gt;\n&lt;bean name=&quot;helloController&quot; \n      class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\n          p:viewName=&quot;hello&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","generics","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642356270,"creation_date":1642356270,"answer_id":70732751,"question_id":70731092,"body_markdown":"Just use the singleton design pattern\r\n\r\n    public class Options extends Saveable {\r\n        private String example_property;\r\n        private int example_property2;\r\n\r\n        private Options instance = new Options();\r\n\r\n        private Options() {\r\n            super(&quot;filepath.ending&quot;);\r\n        }\r\n        \r\n        public static Options getInstance(){\r\n          return this.instance;\r\n        }\r\n\r\n    }\r\n\r\nThen in saving utility call like follows\r\n\r\n    SaveManager.load(Options.getInstance());","title":"set constructor requirements or static method requirement for abstract class","body":"<p>Just use the singleton design pattern</p>\n<pre><code>public class Options extends Saveable {\n    private String example_property;\n    private int example_property2;\n\n    private Options instance = new Options();\n\n    private Options() {\n        super(&quot;filepath.ending&quot;);\n    }\n    \n    public static Options getInstance(){\n      return this.instance;\n    }\n\n}\n</code></pre>\n<p>Then in saving utility call like follows</p>\n<pre><code>SaveManager.load(Options.getInstance());\n</code></pre>\n"}],"owner":{"account_id":22631013,"reputation":81,"user_id":16808363,"display_name":"Qrashi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642356270,"creation_date":1642343988,"question_id":70731092,"body_markdown":"I have the following problem:\r\n\r\nI would like to have an abstract class or something of that type that, when extended will be able to get loaded by my FileLoader. Every class that extends this type will be loaded at startup and there should be an easy way to access this loaded instance.\r\n&lt;br&gt; What I don&#39;t want to to is to have a big hashmap with the save path for each class that extends my &quot;Saveable&quot; type.\r\n\r\nI have this abstract class\r\n```java\r\npublic abstract class Saveable {\r\n    private String path;\r\n  \r\n    public String getPath() {\r\n        return path;\r\n    }\r\n\r\n    public Saveable(String path) {\r\n        this.path = path;\r\n    }\r\n}\r\n```\r\nAnd another class that extends Saveable\r\n```java\r\npublic class Options extends Saveable {\r\n    private String example_property;\r\n    private int example_property2;\r\n\r\n    public Options() {\r\n        super(&quot;filepath.ending&quot;);\r\n    }\r\n}\r\n```\r\n\r\nNow in my saving utility, when I want to load such a class into java I use the following: ``SaveManager.load(Options.class);``. In my load method, I don&#39;t want to create a new instance of Options JUST TO get the path because calling ```new Options()``` will do a lot of other stuff and there is no guarantee that a Constructor with &quot;0 arguments&quot; exists.\r\n\r\nI could solve this problem by:\r\n* Setting a requirement for every class that extends Saveable to have a constructor that takes 1 bool arumgent (``bool generateNew``) so that I can call ``new Options(false)`` and it will make a new class without actually &quot;making a class&quot; so I can call ``new Options(false).getPath()`` and i will get the path for this Options class. &lt;br&gt; The problem is: I can&#39;t define requirements for a constructor.\r\n* Setting a requirement for every class that extends Saveable to provide a static function that returns the filepath, BUT: that&#39;s also not possible.\r\n\r\nAny ideas?","title":"set constructor requirements or static method requirement for abstract class","body":"<p>I have the following problem:</p>\n<p>I would like to have an abstract class or something of that type that, when extended will be able to get loaded by my FileLoader. Every class that extends this type will be loaded at startup and there should be an easy way to access this loaded instance.\n<br> What I don't want to to is to have a big hashmap with the save path for each class that extends my &quot;Saveable&quot; type.</p>\n<p>I have this abstract class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Saveable {\n    private String path;\n  \n    public String getPath() {\n        return path;\n    }\n\n    public Saveable(String path) {\n        this.path = path;\n    }\n}\n</code></pre>\n<p>And another class that extends Saveable</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Options extends Saveable {\n    private String example_property;\n    private int example_property2;\n\n    public Options() {\n        super(&quot;filepath.ending&quot;);\n    }\n}\n</code></pre>\n<p>Now in my saving utility, when I want to load such a class into java I use the following: <code>SaveManager.load(Options.class);</code>. In my load method, I don't want to create a new instance of Options JUST TO get the path because calling <code>new Options()</code> will do a lot of other stuff and there is no guarantee that a Constructor with &quot;0 arguments&quot; exists.</p>\n<p>I could solve this problem by:</p>\n<ul>\n<li>Setting a requirement for every class that extends Saveable to have a constructor that takes 1 bool arumgent (<code>bool generateNew</code>) so that I can call <code>new Options(false)</code> and it will make a new class without actually &quot;making a class&quot; so I can call <code>new Options(false).getPath()</code> and i will get the path for this Options class. <br> The problem is: I can't define requirements for a constructor.</li>\n<li>Setting a requirement for every class that extends Saveable to provide a static function that returns the filepath, BUT: that's also not possible.</li>\n</ul>\n<p>Any ideas?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642338433,"post_id":70729697,"comment_id":125039235,"body_markdown":"Why not just pass the Class as a literal, instead of its name as a String?","body":"Why not just pass the Class as a literal, instead of its name as a String?"},{"owner":{"account_id":21005149,"reputation":46,"user_id":15435130,"display_name":"Ryan van Vuure"},"score":0,"creation_date":1642354038,"post_id":70729697,"comment_id":125043173,"body_markdown":"This is not possible because i would need to instantiate the class with &quot;new&quot; right?\nAnd i can&#39;t do this outside of the function...","body":"This is not possible because i would need to instantiate the class with &quot;new&quot; right? And i can&#39;t do this outside of the function..."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1642356776,"post_id":70729697,"comment_id":125043821,"body_markdown":"Each class has a static member variable, named `class`, that holds a reference to the `Class` object, e.g. `us.ryphael.amongus.tasks.Download$startDownloadTaskRunnable.class`. So instead of passing the class name as a string, pass the `Class` object.","body":"Each class has a static member variable, named <code>class</code>, that holds a reference to the <code>Class</code> object, e.g. <code>us.ryphael.amongus.tasks.Download$startDownloadTaskRunnable.&zwnj;&#8203;class</code>. So instead of passing the class name as a string, pass the <code>Class</code> object."}],"owner":{"account_id":21005149,"reputation":46,"user_id":15435130,"display_name":"Ryan van Vuure"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642356097,"creation_date":1642333395,"question_id":70729697,"body_markdown":"i solved the problem with a $ instead of the . in the class path, so instead of: &quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot;\r\n&quot;us.ryphael.amongus.tasks.Download$startDownloadTaskRunnable&quot;\r\n(a &quot;$&quot; for a nested class)\r\n\r\n\r\nso i am making a amongus plugin for minecraft with java(but i don&#39;t think this matters for the question) and i want to give a class to every one of the values of an enum, but i don&#39;t want to make a new class when i &quot;instantiate&quot; the enum entry&#39;s. This is because i need to change the variables with witch i instantiate the class according to things that can change. (i don&#39;t know if anyone is going to get this explenation so please tell me if you don&#39;t)\r\nSo i tried to do this with Class.forName, so i can only give the class name to the enum entry and &quot;instantiate&quot; the class later, but the classes that i want to give to the enum are in another java class file and it gives me a ClassNotFoundException every time. (I think i am not searching for the class in the right way or it&#39;s just impossible to do this but i don&#39;t know).\r\n\r\nFor extra information:\r\n\r\n&quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot; is a class that implements the Runnable class\r\n\r\nand i only want to &quot;instantiate&quot; that class (with &quot;new&quot;) if i run the COMS_DOWNLOAD.runtask(DUMMYPLAYER) function because i need to give the class a player (&quot;DUMMYPLAYER&quot;) that can change.\r\n\r\nI hope you can help!\r\n\r\n\r\nThis is the full enum:\r\n\r\n    public enum ButtonTasks {\r\n\r\n    COMS_DOWNLOAD(&quot;coms_download&quot;, 14, 4, 30, 14, 4, 29, &quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot;);\r\n\r\n    private final Location button_location;\r\n    private final Location block_location;\r\n    private final Class runnable;\r\n    private final String naam;\r\n\r\n    ButtonTasks(String naam ,int button_x, int button_y, int button_z, int block_x, int block_y, int block_z, String runnableName){\r\n        this.naam = naam;\r\n        Class runnable1;\r\n        try {\r\n            runnable1 =Class.forName(runnableName);\r\n            Bukkit.getLogger().info(&quot;De task &quot; + naam + &quot; is geladen!&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n            runnable1 = null;\r\n            Bukkit.getLogger().warning(&quot;De class &quot; + runnableName + &quot; is niet gevonden! &quot; + naam + &quot; werkt nu niet!&quot;);\r\n        }\r\n\r\n        this.runnable = runnable1;\r\n        this.button_location = new Location(Bukkit.getWorld(&quot;world&quot;), button_x, button_y, button_z);\r\n        Block button = Bukkit.getWorld(&quot;world&quot;).getBlockAt(new Location(Bukkit.getWorld(&quot;world&quot;), button_x, button_y, button_z));\r\n        FaceAttachable fa = (FaceAttachable) button.getBlockData();\r\n        this.block_location = new Location(Bukkit.getWorld(&quot;world&quot;), block_x, block_y, block_z);\r\n    }\r\n\r\n    public void runTask(Player player){\r\n        Runnable runnable2;\r\n        if (runnable != null) {\r\n            try {\r\n                runnable2 = (Runnable) runnable.getDeclaredConstructor(Player.class).newInstance(player);\r\n            } catch (InstantiationException | IllegalAccessException | NoSuchMethodException | InvocationTargetException e) {\r\n                e.printStackTrace();\r\n                runnable2 = null;\r\n            }\r\n        }else{\r\n            runnable2 = null;\r\n        }\r\n        if (runnable2 != null) {\r\n            Bukkit.getScheduler().scheduleSyncDelayedTask(Amongus.get(), runnable2);\r\n        }else{\r\n            Bukkit.getLogger().warning(&quot;De runnable is niet gevonden! &quot; + naam + &quot; werkt nu niet!&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","title":"loading classes from other files with Class.forName (ClassNotFoundException)","body":"<p>i solved the problem with a $ instead of the . in the class path, so instead of: &quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot;\n&quot;us.ryphael.amongus.tasks.Download$startDownloadTaskRunnable&quot;\n(a &quot;$&quot; for a nested class)</p>\n<p>so i am making a amongus plugin for minecraft with java(but i don't think this matters for the question) and i want to give a class to every one of the values of an enum, but i don't want to make a new class when i &quot;instantiate&quot; the enum entry's. This is because i need to change the variables with witch i instantiate the class according to things that can change. (i don't know if anyone is going to get this explenation so please tell me if you don't)\nSo i tried to do this with Class.forName, so i can only give the class name to the enum entry and &quot;instantiate&quot; the class later, but the classes that i want to give to the enum are in another java class file and it gives me a ClassNotFoundException every time. (I think i am not searching for the class in the right way or it's just impossible to do this but i don't know).</p>\n<p>For extra information:</p>\n<p>&quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot; is a class that implements the Runnable class</p>\n<p>and i only want to &quot;instantiate&quot; that class (with &quot;new&quot;) if i run the COMS_DOWNLOAD.runtask(DUMMYPLAYER) function because i need to give the class a player (&quot;DUMMYPLAYER&quot;) that can change.</p>\n<p>I hope you can help!</p>\n<p>This is the full enum:</p>\n<pre><code>public enum ButtonTasks {\n\nCOMS_DOWNLOAD(&quot;coms_download&quot;, 14, 4, 30, 14, 4, 29, &quot;us.ryphael.amongus.tasks.Download.startDownloadTaskRunnable&quot;);\n\nprivate final Location button_location;\nprivate final Location block_location;\nprivate final Class runnable;\nprivate final String naam;\n\nButtonTasks(String naam ,int button_x, int button_y, int button_z, int block_x, int block_y, int block_z, String runnableName){\n    this.naam = naam;\n    Class runnable1;\n    try {\n        runnable1 =Class.forName(runnableName);\n        Bukkit.getLogger().info(&quot;De task &quot; + naam + &quot; is geladen!&quot;);\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n        runnable1 = null;\n        Bukkit.getLogger().warning(&quot;De class &quot; + runnableName + &quot; is niet gevonden! &quot; + naam + &quot; werkt nu niet!&quot;);\n    }\n\n    this.runnable = runnable1;\n    this.button_location = new Location(Bukkit.getWorld(&quot;world&quot;), button_x, button_y, button_z);\n    Block button = Bukkit.getWorld(&quot;world&quot;).getBlockAt(new Location(Bukkit.getWorld(&quot;world&quot;), button_x, button_y, button_z));\n    FaceAttachable fa = (FaceAttachable) button.getBlockData();\n    this.block_location = new Location(Bukkit.getWorld(&quot;world&quot;), block_x, block_y, block_z);\n}\n\npublic void runTask(Player player){\n    Runnable runnable2;\n    if (runnable != null) {\n        try {\n            runnable2 = (Runnable) runnable.getDeclaredConstructor(Player.class).newInstance(player);\n        } catch (InstantiationException | IllegalAccessException | NoSuchMethodException | InvocationTargetException e) {\n            e.printStackTrace();\n            runnable2 = null;\n        }\n    }else{\n        runnable2 = null;\n    }\n    if (runnable2 != null) {\n        Bukkit.getScheduler().scheduleSyncDelayedTask(Amongus.get(), runnable2);\n    }else{\n        Bukkit.getLogger().warning(&quot;De runnable is niet gevonden! &quot; + naam + &quot; werkt nu niet!&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","rabbitmq"],"comments":[{"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"score":0,"creation_date":1642347971,"post_id":70731363,"comment_id":125041575,"body_markdown":"What is the output of line  `System.out.println(&quot;New application has arrived &#39;&quot; + message + &quot;&#39;&quot;);` ?","body":"What is the output of line  <code>System.out.println(&quot;New application has arrived &#39;&quot; + message + &quot;&#39;&quot;);</code> ?"},{"owner":{"account_id":21597629,"reputation":66,"user_id":15926316,"display_name":"CupidONO"},"score":0,"creation_date":1642348114,"post_id":70731363,"comment_id":125041616,"body_markdown":"@Sukhmeet Sethi\nOutput is New application has arrived   stored.So basically blanco because globalmessage is also &quot;&quot;.Nothing ends up stored in it.","body":"@Sukhmeet Sethi Output is New application has arrived   stored.So basically blanco because globalmessage is also &quot;&quot;.Nothing ends up stored in it."},{"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"score":0,"creation_date":1642348446,"post_id":70731363,"comment_id":125041691,"body_markdown":"So reason I asked that because I wanted to first check if you are getting the message at all in your class or not?","body":"So reason I asked that because I wanted to first check if you are getting the message at all in your class or not?"},{"owner":{"account_id":21597629,"reputation":66,"user_id":15926316,"display_name":"CupidONO"},"score":0,"creation_date":1642348702,"post_id":70731363,"comment_id":125041752,"body_markdown":"The message arrives but i am not able to store it in that variable to use it for something else.I am only able to print it inside of delivercallback.","body":"The message arrives but i am not able to store it in that variable to use it for something else.I am only able to print it inside of delivercallback."},{"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"score":0,"creation_date":1642351908,"post_id":70731363,"comment_id":125042551,"body_markdown":"Ok then can you pls try setting it in globalMessage as following: `globalMessage=new String(arg);` in setMsg method.","body":"Ok then can you pls try setting it in globalMessage as following: <code>globalMessage=new String(arg);</code> in setMsg method."},{"owner":{"account_id":21597629,"reputation":66,"user_id":15926316,"display_name":"CupidONO"},"score":0,"creation_date":1642352950,"post_id":70731363,"comment_id":125042874,"body_markdown":"It did work, thank you a world.Could you please post an answer so i could accept it and also could you explain why it worked?","body":"It did work, thank you a world.Could you please post an answer so i could accept it and also could you explain why it worked?"}],"answers":[{"tags":[],"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642355803,"creation_date":1642355803,"answer_id":70732684,"question_id":70731363,"body_markdown":"It seems to be an issue of type pass by reference. You are passing message reference in setMsg method call and that reference points to memory location of message created in driverCallBack. That means globalMessage is just pointing to same message memory block.\r\n\r\nNow as soon as driverCallBack block is executed, the message memory block is deallocated and now globalMessage is pointing to non-existent block, hence value is lost.\r\n\r\nSo you can initialize globalMessage with new String(arg) so that value is copied to a new memory block and is no longer dependent on message memory block.\r\n\r\n```java\r\npublic static void setMsg(String arg) {\r\n        globalMessage = new String(arg);\r\n}\r\n```\r\n","title":"Java RabbitMQ storing a consumed message in local variable not working","body":"<p>It seems to be an issue of type pass by reference. You are passing message reference in setMsg method call and that reference points to memory location of message created in driverCallBack. That means globalMessage is just pointing to same message memory block.</p>\n<p>Now as soon as driverCallBack block is executed, the message memory block is deallocated and now globalMessage is pointing to non-existent block, hence value is lost.</p>\n<p>So you can initialize globalMessage with new String(arg) so that value is copied to a new memory block and is no longer dependent on message memory block.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void setMsg(String arg) {\n        globalMessage = new String(arg);\n}\n</code></pre>\n"}],"owner":{"account_id":21597629,"reputation":66,"user_id":15926316,"display_name":"CupidONO"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732684,"answer_count":1,"score":0,"last_activity_date":1642355803,"creation_date":1642345939,"question_id":70731363,"body_markdown":"The task i am trying to do consists of two classes, one class is **Student** and the other is **University student service**.The class **Student** is supposed to fill out the form and send a message through RabbitMQ queue towards the class **University student service**.Once the Student service checks if the form is valid they are supposed to send an answer to **Student** class so that it acts as some sort of RPC.  \r\n\r\nWhat i tried doing is, i tried storing the message that **University student service** received in a local variable type String and check validity of it so that i can send the message back to **Student** class letting it know what the answer is.\r\n\r\nProblem is i am not able to store the message, i tried using setter but it does not work nor does the normal operator = storing work.\r\n\r\nCode:\r\n\r\nClass **Student**\r\n\r\n```public class Student {\r\n\r\n\tpublic static void main(String[] args) throws IOException, TimeoutException {\r\n\t  \r\n\t String check = &quot;&quot;;\r\n\t \r\n\t while(!check.equals(&quot;End&quot;)) {\r\n\t\t\r\n\t  \r\n\t  Scanner input = new Scanner(System.in);\r\n\t  System.out.println(&quot;Input your name and surname:&quot;);\r\n\t  String imePrezime = input.nextLine();\r\n\t  \r\n\t  System.out.println(&quot;\\nInput your ordinal number:&quot;);\r\n\t  String redniBr = input.nextLine();\r\n\t  \r\n\t  System.out.println(&quot;\\nInput the year you applied:&quot;);\r\n\t  String godinaUpisa = input.nextLine();\r\n\t  \r\n\t  System.out.println(&quot;\\nInput the name of the subject:&quot;);\r\n\t  String nazivPredmeta = input.nextLine();\r\n\t  \r\n\t  System.out.println(&quot;\\nInput semester:&quot;);\r\n\t  String semestar = input.nextLine();\r\n\t  \r\n\t  System.out.println(&quot;\\nInput current year:&quot;);\r\n\t  String studijskaGodina = input.nextLine();\r\n\t  \r\n\t  String finalnaPoruka = imePrezime + &quot; &quot; +  redniBr + &quot; &quot; + godinaUpisa + &quot; &quot; + nazivPredmeta + &quot; &quot; + semestar + &quot; &quot; + studijskaGodina;\r\n\t  \r\n\t  \r\n\t\t\r\n      ConnectionFactory factory = new ConnectionFactory();\r\n       \r\n      try (Connection connection = factory.newConnection()){\r\n    \t  Channel channel = connection.createChannel();\r\n    \t  channel.queueDeclare(&quot;Apply&quot;,false,false,false,null);\r\n    \t  \r\n    \t  String message = finalnaPoruka;\r\n    \t  channel.basicPublish(&quot;&quot;,&quot;Apply&quot;,false,null,message.getBytes());\r\n    \t  System.out.println(&quot;The message has been delivered.\\n&quot;);\r\n      }\r\n      \r\n      \r\n       \r\n\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAs you can see above, in this class i just send a string.\r\n\r\nClass **University student service**\r\n\r\n```import com.rabbitmq.client.ConnectionFactory;\r\nimport com.rabbitmq.client.DeliverCallback;\r\nimport com.rabbitmq.client.Connection;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.time.LocalDateTime;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\nimport com.rabbitmq.client.Channel;\r\n\r\npublic class Sluzba {\r\n\tstatic String globalMessage = &quot;&quot;;\r\n\t\r\n\tpublic static void setMsg(String arg) {\r\n\t\tglobalMessage = arg;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws IOException, TimeoutException {\r\n\t\t  int check = 0;\r\n\t\t  \r\n\t\t  \r\n          ConnectionFactory factory = new ConnectionFactory();\r\n       \r\n      \t  Connection connection = factory.newConnection();\r\n    \t  Channel channel = connection.createChannel();\r\n    \t  channel.queueDeclare(&quot;Apply&quot;,false,false,false,null);\r\n    \t  \r\n    \t \r\n    \t  DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n    \t\t    String message = new String(delivery.getBody(), &quot;UTF-8&quot;);\r\n    \t\t    setMsg(message);\r\n    \t\t    System.out.println(&quot;New application has arrived &#39;&quot; + message + &quot;&#39;&quot;);\r\n    \t\t};\r\n    \t\tchannel.basicConsume(&quot;Apply&quot;, true, deliverCallback, consumerTag -&gt; { });\r\n    \t\t\r\n    \t\t\r\n\t\t    \r\n\t\t    System.out.println(&quot;Global message &quot; + globalMessage + &quot; stored&quot;);\r\n    \t\t\r\n      \r\n    \t\ttry (Connection connectionReply = factory.newConnection()){\r\n    \t    \t  Channel channelReply = connection.createChannel();\r\n    \t    \t  channelReply.queueDeclare(&quot;Answer&quot;,false,false,false,null);\r\n    \t    \t  \r\n    \t    \t  String messageReply = &quot;Test&quot;;\r\n    \t    \t  channel.basicPublish(&quot;&quot;,&quot;Answer&quot;,false,null,messageReply.getBytes());\r\n    \t    \t  System.out.println(&quot;Answer has been delivered.\\n&quot;);\r\n    \t      }\r\n    \t  \r\n    \t  \r\n    \t\r\n       \r\n\t}\r\n\r\n}\r\n```\r\n\r\nIn the class above i am trying to check if it works(I still did not finish the code), all in all i would like to save that received message, check the validity and try to send an answer back to **Student** so it can work with the result.\r\n\r\n```System.out.println(&quot;Global message &quot; + globalMessage + &quot; stored&quot;);```\r\n\r\nThis was supposed to print that same message once i store it but it does not work, and it does not give any compile errors.\r\n\r\nSide question:Is this the correct way to do this RPC simulation exchange or am i having a bad idea?\r\n\r\nThank you everyone for your time.","title":"Java RabbitMQ storing a consumed message in local variable not working","body":"<p>The task i am trying to do consists of two classes, one class is <strong>Student</strong> and the other is <strong>University student service</strong>.The class <strong>Student</strong> is supposed to fill out the form and send a message through RabbitMQ queue towards the class <strong>University student service</strong>.Once the Student service checks if the form is valid they are supposed to send an answer to <strong>Student</strong> class so that it acts as some sort of RPC.</p>\n<p>What i tried doing is, i tried storing the message that <strong>University student service</strong> received in a local variable type String and check validity of it so that i can send the message back to <strong>Student</strong> class letting it know what the answer is.</p>\n<p>Problem is i am not able to store the message, i tried using setter but it does not work nor does the normal operator = storing work.</p>\n<p>Code:</p>\n<p>Class <strong>Student</strong></p>\n<pre><code>\n    public static void main(String[] args) throws IOException, TimeoutException {\n      \n     String check = &quot;&quot;;\n     \n     while(!check.equals(&quot;End&quot;)) {\n        \n      \n      Scanner input = new Scanner(System.in);\n      System.out.println(&quot;Input your name and surname:&quot;);\n      String imePrezime = input.nextLine();\n      \n      System.out.println(&quot;\\nInput your ordinal number:&quot;);\n      String redniBr = input.nextLine();\n      \n      System.out.println(&quot;\\nInput the year you applied:&quot;);\n      String godinaUpisa = input.nextLine();\n      \n      System.out.println(&quot;\\nInput the name of the subject:&quot;);\n      String nazivPredmeta = input.nextLine();\n      \n      System.out.println(&quot;\\nInput semester:&quot;);\n      String semestar = input.nextLine();\n      \n      System.out.println(&quot;\\nInput current year:&quot;);\n      String studijskaGodina = input.nextLine();\n      \n      String finalnaPoruka = imePrezime + &quot; &quot; +  redniBr + &quot; &quot; + godinaUpisa + &quot; &quot; + nazivPredmeta + &quot; &quot; + semestar + &quot; &quot; + studijskaGodina;\n      \n      \n        \n      ConnectionFactory factory = new ConnectionFactory();\n       \n      try (Connection connection = factory.newConnection()){\n          Channel channel = connection.createChannel();\n          channel.queueDeclare(&quot;Apply&quot;,false,false,false,null);\n          \n          String message = finalnaPoruka;\n          channel.basicPublish(&quot;&quot;,&quot;Apply&quot;,false,null,message.getBytes());\n          System.out.println(&quot;The message has been delivered.\\n&quot;);\n      }\n      \n      \n       \n    }\n    }\n\n}\n</code></pre>\n<p>As you can see above, in this class i just send a string.</p>\n<p>Class <strong>University student service</strong></p>\n<pre><code>import com.rabbitmq.client.DeliverCallback;\nimport com.rabbitmq.client.Connection;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.time.LocalDateTime;\nimport java.util.Scanner;\nimport java.util.concurrent.TimeoutException;\n\nimport com.rabbitmq.client.Channel;\n\npublic class Sluzba {\n    static String globalMessage = &quot;&quot;;\n    \n    public static void setMsg(String arg) {\n        globalMessage = arg;\n    }\n    \n    public static void main(String[] args) throws IOException, TimeoutException {\n          int check = 0;\n          \n          \n          ConnectionFactory factory = new ConnectionFactory();\n       \n          Connection connection = factory.newConnection();\n          Channel channel = connection.createChannel();\n          channel.queueDeclare(&quot;Apply&quot;,false,false,false,null);\n          \n         \n          DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n                String message = new String(delivery.getBody(), &quot;UTF-8&quot;);\n                setMsg(message);\n                System.out.println(&quot;New application has arrived '&quot; + message + &quot;'&quot;);\n            };\n            channel.basicConsume(&quot;Apply&quot;, true, deliverCallback, consumerTag -&gt; { });\n            \n            \n            \n            System.out.println(&quot;Global message &quot; + globalMessage + &quot; stored&quot;);\n            \n      \n            try (Connection connectionReply = factory.newConnection()){\n                  Channel channelReply = connection.createChannel();\n                  channelReply.queueDeclare(&quot;Answer&quot;,false,false,false,null);\n                  \n                  String messageReply = &quot;Test&quot;;\n                  channel.basicPublish(&quot;&quot;,&quot;Answer&quot;,false,null,messageReply.getBytes());\n                  System.out.println(&quot;Answer has been delivered.\\n&quot;);\n              }\n          \n          \n        \n       \n    }\n\n}\n</code></pre>\n<p>In the class above i am trying to check if it works(I still did not finish the code), all in all i would like to save that received message, check the validity and try to send an answer back to <strong>Student</strong> so it can work with the result.</p>\n<p><code>System.out.println(&quot;Global message &quot; + globalMessage + &quot; stored&quot;);</code></p>\n<p>This was supposed to print that same message once i store it but it does not work, and it does not give any compile errors.</p>\n<p>Side question:Is this the correct way to do this RPC simulation exchange or am i having a bad idea?</p>\n<p>Thank you everyone for your time.</p>\n"},{"tags":["java","spring","spring-boot","security","authentication"],"comments":[{"owner":{"account_id":2583876,"reputation":1835,"user_id":2240008,"accept_rate":62,"display_name":"Almazini"},"score":0,"creation_date":1533559921,"post_id":51708076,"comment_id":90377067,"body_markdown":"try to debug, maybe username/password remain the same after first attempt","body":"try to debug, maybe username/password remain the same after first attempt"},{"owner":{"account_id":14100937,"reputation":41,"user_id":10186309,"display_name":"Thomas"},"score":0,"creation_date":1533560003,"post_id":51708076,"comment_id":90377128,"body_markdown":"Yup, it remains the same but I changed username and password in postman","body":"Yup, it remains the same but I changed username and password in postman"},{"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"score":1,"creation_date":1533560761,"post_id":51708076,"comment_id":90377656,"body_markdown":"Remove session policy from spring security config.","body":"Remove session policy from spring security config."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":1,"creation_date":1533560885,"post_id":51708076,"comment_id":90377757,"body_markdown":"`authorizationData = credentials.split(&quot;:&quot;, 2);` =&gt; Are you sure? If `credentials` contains `user:password`, I don&#39;t know what is `credentials.split(&quot;:&quot;, 2);`","body":"<code>authorizationData = credentials.split(&quot;:&quot;, 2);</code> =&gt; Are you sure? If <code>credentials</code> contains <code>user:password</code>, I don&#39;t know what is <code>credentials.split(&quot;:&quot;, 2);</code>"},{"owner":{"account_id":14100937,"reputation":41,"user_id":10186309,"display_name":"Thomas"},"score":0,"creation_date":1533625423,"post_id":51708076,"comment_id":90401965,"body_markdown":"@SumeshTG It doesn&#39;t work for me.","body":"@SumeshTG It doesn&#39;t work for me."}],"answers":[{"tags":[],"owner":{"account_id":8896004,"reputation":1,"user_id":6641047,"display_name":"HsB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533561731,"creation_date":1533561141,"answer_id":51708504,"question_id":51708076,"body_markdown":"Try to write `.deleteCookies(&quot;JSESSONID&quot;)` in your `SpringSecurityConfig` class.","title":"Spring boot security cannot log in after invalid credentials","body":"<p>Try to write <code>.deleteCookies(\"JSESSONID\")</code> in your <code>SpringSecurityConfig</code> class.</p>\n"},{"tags":[],"owner":{"account_id":4289314,"reputation":178,"user_id":3506105,"display_name":"lsantamaria"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534592309,"creation_date":1534590942,"answer_id":51908025,"question_id":51708076,"body_markdown":"The problem is that the request is stored in cache due to your sessionCreationPolicy.\r\n\r\nTo avoid this problem, you could add ```.requestCache().requestCache(new NullRequestCache())``` in your http security config to override the default request cache configuration, but be careful because this could create another side effect (it depends on your application).\r\n\r\nIn case you do not need the session, you can choose another session policy:\r\n\r\n```.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)```.\r\n\r\nAnother alternative is to relay in Spring&#39;s BasicAuthenticationFilter. This filter does all the authentication logic for you. To enable it, you only have to add ```.httpBasic()```in your http security configuration.\r\n\r\nYou may want to add a custom logic on authentication success/failure. In that case, you only have to create a custom filter (```CustomBasicAuthenticationFilter```) that extends ```BasicAuthenticationFilter``` class and overrides the methods ```onSuccessfulAuthentication()```and ```onUnsuccessfulAuthentication()```. You will not need to add ```.httpBasic()``` but you will need to insert your custom filter in the correct place: \r\n\r\n```.addFilterAfter(new CustomBasicAuthenticationFilter(authenticationManager), LogoutFilter.class)```.\r\n\r\nAny of that 3 solutions will avoid your problem.\r\n\r\n","title":"Spring boot security cannot log in after invalid credentials","body":"<p>The problem is that the request is stored in cache due to your sessionCreationPolicy.</p>\n\n<p>To avoid this problem, you could add <code>.requestCache().requestCache(new NullRequestCache())</code> in your http security config to override the default request cache configuration, but be careful because this could create another side effect (it depends on your application).</p>\n\n<p>In case you do not need the session, you can choose another session policy:</p>\n\n<p><code>.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</code>.</p>\n\n<p>Another alternative is to relay in Spring's BasicAuthenticationFilter. This filter does all the authentication logic for you. To enable it, you only have to add <code>.httpBasic()</code>in your http security configuration.</p>\n\n<p>You may want to add a custom logic on authentication success/failure. In that case, you only have to create a custom filter (<code>CustomBasicAuthenticationFilter</code>) that extends <code>BasicAuthenticationFilter</code> class and overrides the methods <code>onSuccessfulAuthentication()</code>and <code>onUnsuccessfulAuthentication()</code>. You will not need to add <code>.httpBasic()</code> but you will need to insert your custom filter in the correct place: </p>\n\n<p><code>.addFilterAfter(new CustomBasicAuthenticationFilter(authenticationManager), LogoutFilter.class)</code>.</p>\n\n<p>Any of that 3 solutions will avoid your problem.</p>\n"}],"owner":{"account_id":14100937,"reputation":41,"user_id":10186309,"display_name":"Thomas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4905,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1642355785,"creation_date":1533559792,"question_id":51708076,"body_markdown":"I have problem with validating user credentials. When I give correct credentials first time everything goes OK but giving invalid credentials first and then give correct ones I get invalid credentials error. I use Postman Basic \r\nAuth.\r\n\r\nMy config class:\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @Autowired\r\n        private CustomAuthenticationEntryPoint authenticationEntryPoint;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n               http.cors().and().csrf().disable().authorizeRequests()\r\n                    .antMatchers(HttpMethod.POST ,&quot;/login&quot;).permitAll()\r\n                    .antMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n                    .anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(authenticationEntryPoint).and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.ALWAYS).and()\r\n                    .logout()\r\n                    .deleteCookies(&quot;remove&quot;)\r\n                    .invalidateHttpSession(true);\r\n    \r\n               http.rememberMe().disable();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n                    auth.userDetailsService(this.userService)\r\n                            .and().eraseCredentials(true);\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n\r\n\r\nAnd my controller class\r\n\r\n\r\n     @PostMapping\r\n            public ResponseEntity&lt;?&gt; loginButtonClicked(HttpServletRequest request) {\r\n                HttpSession session = request.getSession();\r\n                final String authorization = request.getHeader(&quot;Authorization&quot;);\r\n                String[] authorizationData=null;\r\n                if (authorization != null &amp;&amp; authorization.startsWith(&quot;Basic&quot;)) {\r\n                    // Authorization: Basic base64credentials\r\n                    String base64Credentials = authorization.substring(&quot;Basic&quot; .length()).trim();\r\n                    String credentials = new String(Base64.getDecoder().decode(base64Credentials),\r\n                            Charset.forName(&quot;UTF-8&quot;));\r\n                    // credentials = username:password\r\n                    authorizationData = credentials.split(&quot;:&quot;, 2);\r\n                    UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(authorizationData[0], authorizationData[1],Arrays.asList(new SimpleGrantedAuthority(&quot;USER&quot;)));\r\n                    User user = userService.findUserEntityByLogin(authorizationData[0]);\r\n                    if(user != null &amp;&amp; user.getFromWhenAcceptLoginAttempts() != null &amp;&amp; (user.getFromWhenAcceptLoginAttempts()).isBefore(LocalDateTime.now())){\r\n                        // Authenticate the user\r\n                        Authentication authentication = authenticationManager.authenticate(authRequest);\r\n                        SecurityContext securityContext = SecurityContextHolder.getContext();\r\n                        securityContext.setAuthentication(authentication);\r\n        \r\n                        // Create a new session and add the security context.\r\n                        session = request.getSession();\r\n        \r\n                        session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, securityContext);\r\n        \r\n                        return new ResponseEntity&lt;&gt;(new LoginResponseObject(200,&quot;ACCESS GRANTED. YOU HAVE BEEN AUTHENTICATED&quot;), HttpStatus.OK);\r\n                    }else{\r\n                        session.getId();\r\n                        SecurityContextHolder.clearContext();\r\n                        if(session != null) {\r\n                            session.invalidate();\r\n                        }\r\n                        return new ResponseEntity&lt;&gt;(new ErrorObject(403,&quot;TOO MANY LOGIN REQUESTS&quot;,&quot;YOU HAVE ENTERED TOO MANY WRONG CREDENTIALS. YOUR ACCOUNT HAS BEEN BLOCKED FOR 15 MINUTES.&quot;, &quot;/login&quot;), HttpStatus.FORBIDDEN);\r\n                    }\r\n                }else{\r\n                    session.getId();\r\n                    SecurityContextHolder.clearContext();\r\n                    if(session != null) {\r\n                        session.invalidate();\r\n                    }\r\n                    return new ResponseEntity&lt;&gt;(new ErrorObject(401,&quot;INVALID DATA&quot;,&quot;YOU HAVE ENTERED WRONG USERNAME/PASSWORD CREDENTIALS&quot;, &quot;/login&quot;), HttpStatus.UNAUTHORIZED);\r\n                }\r\n        \r\n            } \r\n            @Bean\r\n            public AuthenticationManager authenticationManagerBean() throws Exception {\r\n                return super.authenticationManagerBean();\r\n            }\r\n        \r\n            @Bean\r\n            public ObjectMapper objectMapper(){\r\n                return new ObjectMapper();\r\n            }\r\n        \r\n            @Bean\r\n            public HttpSessionEventPublisher httpSessionEventPublisher() {\r\n                return new HttpSessionEventPublisher();\r\n            } \r\n\r\n\r\n","title":"Spring boot security cannot log in after invalid credentials","body":"<p>I have problem with validating user credentials. When I give correct credentials first time everything goes OK but giving invalid credentials first and then give correct ones I get invalid credentials error. I use Postman Basic\nAuth.</p>\n<p>My config class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private CustomAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n           http.cors().and().csrf().disable().authorizeRequests()\n                .antMatchers(HttpMethod.POST ,&quot;/login&quot;).permitAll()\n                .antMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\n                .anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(authenticationEntryPoint).and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS).and()\n                .logout()\n                .deleteCookies(&quot;remove&quot;)\n                .invalidateHttpSession(true);\n\n           http.rememberMe().disable();\n\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n                auth.userDetailsService(this.userService)\n                        .and().eraseCredentials(true);\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n</code></pre>\n<p>And my controller class</p>\n<pre><code> @PostMapping\n        public ResponseEntity&lt;?&gt; loginButtonClicked(HttpServletRequest request) {\n            HttpSession session = request.getSession();\n            final String authorization = request.getHeader(&quot;Authorization&quot;);\n            String[] authorizationData=null;\n            if (authorization != null &amp;&amp; authorization.startsWith(&quot;Basic&quot;)) {\n                // Authorization: Basic base64credentials\n                String base64Credentials = authorization.substring(&quot;Basic&quot; .length()).trim();\n                String credentials = new String(Base64.getDecoder().decode(base64Credentials),\n                        Charset.forName(&quot;UTF-8&quot;));\n                // credentials = username:password\n                authorizationData = credentials.split(&quot;:&quot;, 2);\n                UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(authorizationData[0], authorizationData[1],Arrays.asList(new SimpleGrantedAuthority(&quot;USER&quot;)));\n                User user = userService.findUserEntityByLogin(authorizationData[0]);\n                if(user != null &amp;&amp; user.getFromWhenAcceptLoginAttempts() != null &amp;&amp; (user.getFromWhenAcceptLoginAttempts()).isBefore(LocalDateTime.now())){\n                    // Authenticate the user\n                    Authentication authentication = authenticationManager.authenticate(authRequest);\n                    SecurityContext securityContext = SecurityContextHolder.getContext();\n                    securityContext.setAuthentication(authentication);\n    \n                    // Create a new session and add the security context.\n                    session = request.getSession();\n    \n                    session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, securityContext);\n    \n                    return new ResponseEntity&lt;&gt;(new LoginResponseObject(200,&quot;ACCESS GRANTED. YOU HAVE BEEN AUTHENTICATED&quot;), HttpStatus.OK);\n                }else{\n                    session.getId();\n                    SecurityContextHolder.clearContext();\n                    if(session != null) {\n                        session.invalidate();\n                    }\n                    return new ResponseEntity&lt;&gt;(new ErrorObject(403,&quot;TOO MANY LOGIN REQUESTS&quot;,&quot;YOU HAVE ENTERED TOO MANY WRONG CREDENTIALS. YOUR ACCOUNT HAS BEEN BLOCKED FOR 15 MINUTES.&quot;, &quot;/login&quot;), HttpStatus.FORBIDDEN);\n                }\n            }else{\n                session.getId();\n                SecurityContextHolder.clearContext();\n                if(session != null) {\n                    session.invalidate();\n                }\n                return new ResponseEntity&lt;&gt;(new ErrorObject(401,&quot;INVALID DATA&quot;,&quot;YOU HAVE ENTERED WRONG USERNAME/PASSWORD CREDENTIALS&quot;, &quot;/login&quot;), HttpStatus.UNAUTHORIZED);\n            }\n    \n        } \n        @Bean\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n    \n        @Bean\n        public ObjectMapper objectMapper(){\n            return new ObjectMapper();\n        }\n    \n        @Bean\n        public HttpSessionEventPublisher httpSessionEventPublisher() {\n            return new HttpSessionEventPublisher();\n        } \n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1490121008,"post_id":42935208,"comment_id":72967692,"body_markdown":"As a side note, it&#39;s usual to use something like `/resources/**` or `/public/**` for static CSS/JS resources.","body":"As a side note, it&#39;s usual to use something like <code>&#47;resources&#47;**</code> or <code>&#47;public&#47;**</code> for static CSS/JS resources."}],"answers":[{"tags":[],"owner":{"account_id":9995471,"reputation":61,"user_id":7393182,"display_name":"Raga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496039862,"creation_date":1496039862,"answer_id":44236010,"question_id":42935208,"body_markdown":"to ensure that request to your application requires the user to be authenticated use \r\n**.anyRequest().authenticated()**\r\n","title":"Spring security configure access","body":"<p>to ensure that request to your application requires the user to be authenticated use \n<strong>.anyRequest().authenticated()</strong></p>\n"}],"owner":{"account_id":4535391,"reputation":215,"user_id":3684736,"accept_rate":50,"display_name":"wizzle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642355723,"creation_date":1490120352,"question_id":42935208,"body_markdown":"I am configuring endpoint access in Spring Security. What I want to accomplish:\r\n\r\n 1. Everyone has access to resources\r\n 2. Everyone can login/register\r\n 3. Only authenticated users can access logout and all other mapped endpoints\r\n\r\nHere is my configuration, it fulfills firs two requirements and prevents access to /logout for non-logged users.\r\n\r\n\r\n```\r\nhttp.authorizeRequests()\r\n                .antMatchers(&quot;/register&quot;).permitAll()\r\n                .antMatchers(&quot;/register/*&quot;).permitAll()\r\n                .antMatchers(&quot;/favicon.ico&quot;).permitAll()\r\n                .antMatchers(&quot;**/*.html&quot;).permitAll()\r\n                .antMatchers(&quot;**/*.css&quot;).permitAll()\r\n                .antMatchers(&quot;**/*.js&quot;).permitAll()\r\n                .and()\r\n                .formLogin().loginPage(&quot;/login&quot;).failureUrl(&quot;/login-error&quot;).defaultSuccessUrl(&quot;/&quot;)\r\n                    \r\n                .usernameParameter(&quot;username&quot;).passwordParameter(&quot;password&quot;)\r\n                .and()\r\n                    \r\n                .logout().logoutSuccessUrl(&quot;/login&quot;).deleteCookies(&quot;JSESSIONID&quot;).logoutUrl(&quot;/logout&quot;);\r\n```\r\n","title":"Spring security configure access","body":"<p>I am configuring endpoint access in Spring Security. What I want to accomplish:</p>\n<ol>\n<li>Everyone has access to resources</li>\n<li>Everyone can login/register</li>\n<li>Only authenticated users can access logout and all other mapped endpoints</li>\n</ol>\n<p>Here is my configuration, it fulfills firs two requirements and prevents access to /logout for non-logged users.</p>\n<pre><code>http.authorizeRequests()\n                .antMatchers(&quot;/register&quot;).permitAll()\n                .antMatchers(&quot;/register/*&quot;).permitAll()\n                .antMatchers(&quot;/favicon.ico&quot;).permitAll()\n                .antMatchers(&quot;**/*.html&quot;).permitAll()\n                .antMatchers(&quot;**/*.css&quot;).permitAll()\n                .antMatchers(&quot;**/*.js&quot;).permitAll()\n                .and()\n                .formLogin().loginPage(&quot;/login&quot;).failureUrl(&quot;/login-error&quot;).defaultSuccessUrl(&quot;/&quot;)\n                    \n                .usernameParameter(&quot;username&quot;).passwordParameter(&quot;password&quot;)\n                .and()\n                    \n                .logout().logoutSuccessUrl(&quot;/login&quot;).deleteCookies(&quot;JSESSIONID&quot;).logoutUrl(&quot;/logout&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1533067649,"post_id":51614847,"comment_id":90208015,"body_markdown":"What is the location of the redirect (302)?","body":"What is the location of the redirect (302)?"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1533155916,"post_id":51614847,"comment_id":90248228,"body_markdown":"Your are not logged in. Hence you are redirected to the login page (`/test.html`).","body":"Your are not logged in. Hence you are redirected to the login page (<code>&#47;test.html</code>)."}],"answers":[{"tags":[],"owner":{"account_id":14064435,"reputation":11,"user_id":10159666,"display_name":"fish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533173922,"creation_date":1533173922,"answer_id":51644367,"question_id":51614847,"body_markdown":"done\r\n\r\nCross-site request forgery\r\n\r\n---\r\n&lt;pre&gt;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.formLogin()\r\n                .loginPage(&quot;/test.html&quot;).permitAll()\r\n                .loginProcessingUrl(&quot;/user/login&quot;)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/test.html&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()          +\r\n                .csrf()         +\r\n                .disable();     +\r\n\r\n    }\r\n&lt;/pre&gt;\r\n","title":"Spring-Security 5 always 302","body":"<p>done</p>\n\n<p>Cross-site request forgery</p>\n\n<hr>\n\n<pre>\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.formLogin()\n                .loginPage(\"/test.html\").permitAll()\n                .loginProcessingUrl(\"/user/login\")\n                .and()\n                .authorizeRequests()\n                .antMatchers(\"/test.html\").permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()          +\n                .csrf()         +\n                .disable();     +\n\n    }\n</pre>\n"},{"tags":[],"owner":{"account_id":13894974,"reputation":21,"user_id":11548160,"display_name":"Xavier Angeles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573758503,"creation_date":1573756234,"answer_id":58863583,"question_id":51614847,"body_markdown":"You need put after the `.hasAnyRole` and put the user&#39;s role \r\nafter put these you need put `.anyRequest().authenticated()`\r\nand that is all","title":"Spring-Security 5 always 302","body":"<p>You need put after the <code>.hasAnyRole</code> and put the user's role \nafter put these you need put <code>.anyRequest().authenticated()</code>\nand that is all</p>\n"},{"tags":[],"owner":{"account_id":6746622,"reputation":26,"user_id":5198047,"display_name":"Ruwan Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634905329,"creation_date":1634905329,"answer_id":69676825,"question_id":51614847,"body_markdown":"\r\nExclude SecurityAutoConfiguration.class and ManagementWebSecurityAutoConfiguration.class from the main class of my spring boot application works for me.\r\n\r\n      import org.springframework.boot.SpringApplication;\r\n      import org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration;\r\n      import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n      import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\n  \r\n      @SpringBootApplication(exclude = {SecurityAutoConfiguration.class, \r\n       ManagementWebSecurityAutoConfiguration.class})\r\n      public class MainApplication implements WebMvcConfigurer {\r\n      public static void main(String[] args) {\r\n      SpringApplication.run(MainApplication.class, args);\r\n        }\r\n       }\r\n\r\n","title":"Spring-Security 5 always 302","body":"<p>Exclude SecurityAutoConfiguration.class and ManagementWebSecurityAutoConfiguration.class from the main class of my spring boot application works for me.</p>\n<pre><code>  import org.springframework.boot.SpringApplication;\n  import org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration;\n  import org.springframework.boot.autoconfigure.SpringBootApplication;\n  import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\n\n  @SpringBootApplication(exclude = {SecurityAutoConfiguration.class, \n   ManagementWebSecurityAutoConfiguration.class})\n  public class MainApplication implements WebMvcConfigurer {\n  public static void main(String[] args) {\n  SpringApplication.run(MainApplication.class, args);\n    }\n   }\n</code></pre>\n"}],"owner":{"account_id":14064435,"reputation":11,"user_id":10159666,"display_name":"fish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3616,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1642355361,"creation_date":1533044569,"question_id":51614847,"body_markdown":"I am trying to test my web api thats secured using the standard Spring Security API,However whenever I login to my application the /test.html api keeps returning a 302 redirect.\r\n**username:admin /\r\npassword:admin**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n![enter image description here][2]\r\n---\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n        @RequestMapping(&quot;/hello&quot;)\r\n        public String hello() {\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class BrowserSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.formLogin()\r\n                    .loginPage(&quot;/test.html&quot;).permitAll()\r\n                    .loginProcessingUrl(&quot;/user/login&quot;)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/test.html&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated();\r\n        }\r\n    }\r\n\r\n---\r\n\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.security.core.authority.AuthorityUtils;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class UserDetailsServiceImpl implements UserDetailsService {\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\r\n            return new User(&quot;admin&quot;,\r\n               &quot;$2a$10$vs7veyVUaqeGyVlxXpp94O7BcmzcF2HGUmH2va6XDVCj2mK8uFzRi&quot;,\r\n               AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;admin&quot;));\r\n        }\r\n    }\r\n\r\n---\r\nhttps://github.com/woshituotuo/demo.git\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZpUHf.png\r\n  [2]: https://i.stack.imgur.com/3kb1d.png","title":"Spring-Security 5 always 302","body":"<p>I am trying to test my web api thats secured using the standard Spring Security API,However whenever I login to my application the /test.html api keeps returning a 302 redirect.\n<strong>username:admin /\npassword:admin</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ZpUHf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZpUHf.png\" alt=\"enter image description here\" /></a></p>\n<h2><img src=\"https://i.stack.imgur.com/3kb1d.png\" alt=\"enter image description here\" /></h2>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @RequestMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>package com.example.demo;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Configuration\n@EnableWebSecurity\npublic class BrowserSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.formLogin()\n                .loginPage(&quot;/test.html&quot;).permitAll()\n                .loginProcessingUrl(&quot;/user/login&quot;)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/test.html&quot;).permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>package com.example.demo;\n\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    @Override\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\n        return new User(&quot;admin&quot;,\n           &quot;$2a$10$vs7veyVUaqeGyVlxXpp94O7BcmzcF2HGUmH2va6XDVCj2mK8uFzRi&quot;,\n           AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;admin&quot;));\n    }\n}\n</code></pre>\n<hr />\n<p><a href=\"https://github.com/woshituotuo/demo.git\" rel=\"nofollow noreferrer\">https://github.com/woshituotuo/demo.git</a></p>\n"},{"tags":["java","spring-boot","rest","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642354660,"post_id":70732525,"comment_id":125043325,"body_markdown":"either use HTTP sessions or pass an authentication token to the API.","body":"either use HTTP sessions or pass an authentication token to the API."},{"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"score":0,"creation_date":1642354826,"post_id":70732525,"comment_id":125043376,"body_markdown":"I do use the JWT token authentication, so I have the Principal.","body":"I do use the JWT token authentication, so I have the Principal."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642354904,"post_id":70732525,"comment_id":125043399,"body_markdown":"just check if `yourPrincipal.getName()` equals the `username` from the path?","body":"just check if <code>yourPrincipal.getName()</code> equals the <code>username</code> from the path?"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1642356991,"post_id":70732525,"comment_id":125043865,"body_markdown":"See this section of our [SpringOne 2021](https://youtu.be/5tlU_Vjv8Ns?t=1731) presentation which shows how to protect an endpoint using advanced authorization scenarios like this with `@PreAuthorize` or `@PostAuthorize` annotations","body":"See this section of our <a href=\"https://youtu.be/5tlU_Vjv8Ns?t=1731\" rel=\"nofollow noreferrer\">SpringOne 2021</a> presentation which shows how to protect an endpoint using advanced authorization scenarios like this with <code>@PreAuthorize</code> or <code>@PostAuthorize</code> annotations"},{"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"score":0,"creation_date":1642359859,"post_id":70732525,"comment_id":125044626,"body_markdown":"@dan1st Yeah I thought about it, but how do it effectively without duplicating the code in each controller method.","body":"@dan1st Yeah I thought about it, but how do it effectively without duplicating the code in each controller method."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642361635,"post_id":70732525,"comment_id":125045061,"body_markdown":"What about https://stackoverflow.com/questions/13071191/spring-3-web-mvc-controller-method-pre-post-processing-functionality-thro and throwing an exception if the authentication doesn&#39;t work out?","body":"What about <a href=\"https://stackoverflow.com/questions/13071191/spring-3-web-mvc-controller-method-pre-post-processing-functionality-thro\" title=\"spring 3 web mvc controller method pre post processing functionality thro\">stackoverflow.com/questions/13071191/&hellip;</a> and throwing an exception if the authentication doesn&#39;t work out?"}],"answers":[{"tags":[],"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642355034,"creation_date":1642355034,"answer_id":70732591,"question_id":70732525,"body_markdown":"Best way is to use spring security (check [here][1])\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/securing-web/\r\n\r\nYou can add spring security to your project and then you can get user data by authorization header (or it may be a jwt token) and just change the endpoint to this\r\n\r\nPUT /api/v1/users/profile\r\n\r\nsend the updated details with the body, and get userID from auth header and then you can apply the updation. using this method only current logged in users will be updated","title":"How to secure resources of a different user","body":"<p>Best way is to use spring security (check <a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>You can add spring security to your project and then you can get user data by authorization header (or it may be a jwt token) and just change the endpoint to this</p>\n<p>PUT /api/v1/users/profile</p>\n<p>send the updated details with the body, and get userID from auth header and then you can apply the updation. using this method only current logged in users will be updated</p>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642355034,"creation_date":1642354562,"question_id":70732525,"body_markdown":"Let&#39;s say we have an endpoint:\r\n`/api/v1/users/{username}/profile` this endpoint is responsible for updating a user profile. The problem is that the current user may update a profile of a different user, so how can we prevent that? Current user should be able to update only his profile, the validation should not validate an administrator. There are many similar endpoints, so I am looking for a good way how to handle it.","title":"How to secure resources of a different user","body":"<p>Let's say we have an endpoint:\n<code>/api/v1/users/{username}/profile</code> this endpoint is responsible for updating a user profile. The problem is that the current user may update a profile of a different user, so how can we prevent that? Current user should be able to update only his profile, the validation should not validate an administrator. There are many similar endpoints, so I am looking for a good way how to handle it.</p>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1642355203,"post_id":70732588,"comment_id":125043465,"body_markdown":"You question needs more clarity. What does your `java -jar` command give you in logs? Does it say that it&#39;s listening on port 9191? Currently it feels like nothing is listening on that port.","body":"You question needs more clarity. What does your <code>java -jar</code> command give you in logs? Does it say that it&#39;s listening on port 9191? Currently it feels like nothing is listening on that port."},{"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"score":0,"creation_date":1642355213,"post_id":70732588,"comment_id":125043467,"body_markdown":"Can you please put the full error","body":"Can you please put the full error"},{"owner":{"account_id":23238140,"reputation":1,"user_id":17327884,"display_name":"ANNA"},"score":0,"creation_date":1642355534,"post_id":70732588,"comment_id":125043544,"body_markdown":"Jenkins initial setup is required. An admin user has been created and a password generated.\nPlease use the following password to proceed to installation:\n\n80b05f10cb6c46c187d36e0bc73d0262\n\nThis may also be found at: C:\\Users\\Administrator\\.jenkins\\secrets\\initialAdminPassword","body":"Jenkins initial setup is required. An admin user has been created and a password generated. Please use the following password to proceed to installation:  80b05f10cb6c46c187d36e0bc73d0262  This may also be found at: C:\\Users\\Administrator\\.jenkins\\secrets\\initialAdminPassword"},{"owner":{"account_id":23238140,"reputation":1,"user_id":17327884,"display_name":"ANNA"},"score":0,"creation_date":1642355574,"post_id":70732588,"comment_id":125043564,"body_markdown":"I was initialized jenkins server on my local machine","body":"I was initialized jenkins server on my local machine"}],"owner":{"account_id":23238140,"reputation":1,"user_id":17327884,"display_name":"ANNA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642355024,"creation_date":1642355024,"question_id":70732588,"body_markdown":"localhost refused to connect .\r\nI have initialized this connection from cmd by write java -jar jenkins.war --httpPort=9191\r\nbut when I write http://localhost:9191/ give me this error \r\n","title":"localhost refused to connect with jenkins","body":"<p>localhost refused to connect .\nI have initialized this connection from cmd by write java -jar jenkins.war --httpPort=9191\nbut when I write http://localhost:9191/ give me this error</p>\n"},{"tags":["java","maven","java-module"],"comments":[{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":1,"creation_date":1641242046,"post_id":70570564,"comment_id":124750889,"body_markdown":"@xerx593 Sorry, my mistake. The `second` module should have a test dependency on the `first` module, see corrections above.","body":"@xerx593 Sorry, my mistake. The <code>second</code> module should have a test dependency on the <code>first</code> module, see corrections above."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1641243405,"post_id":70570564,"comment_id":124751256,"body_markdown":"As it is merely a test dependency, did you add a second `module-info.java` under `src/test/java/`?","body":"As it is merely a test dependency, did you add a second <code>module-info.java</code> under <code>src&#47;test&#47;java&#47;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641245131,"creation_date":1641243115,"answer_id":70571300,"question_id":70570564,"body_markdown":"Do:\r\n```lang-java\r\nmodule com.example.second {\r\n   requires com.example.first;\r\n}\r\n```\r\n... (*additionally*) in second/**`src/test/java`**!\r\n\r\nWhereas in second/`src/main/java`, we can keep it as:\r\n\r\n```lang-java\r\nmodule com.example.second {\r\n    exports com.example.second;\r\n}\r\n```\r\nas in (second) pom (only):\r\n```lang-xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;first&lt;/artifactId&gt;\r\n  &lt;scope&gt;test&lt;/test&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**For modules to work we need `maven-compiler-plugin` &gt;= 3.6!**\r\n","title":"Compilation failure: &quot;cannot find symbol&quot; when applying module-info.java in multi module Maven project?","body":"<p>Do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.second {\n   requires com.example.first;\n}\n</code></pre>\n<p>... (<em>additionally</em>) in second/<strong><code>src/test/java</code></strong>!</p>\n<p>Whereas in second/<code>src/main/java</code>, we can keep it as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.second {\n    exports com.example.second;\n}\n</code></pre>\n<p>as in (second) pom (only):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;first&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/test&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>For modules to work we need <code>maven-compiler-plugin</code> &gt;= 3.6!</strong></p>\n"}],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1642354937,"creation_date":1641238349,"question_id":70570564,"body_markdown":"**Please disregard this question. For unknown reasons, the project started working when I took a second look at it. After reading [this page][1] in the Stack Overflow question I opt to Close it (instead of Deleting it).**\r\n\r\n---\r\n\r\nHow can I get test dependencies to work in a multi module maven project when using Java 9 modules?\r\n\r\nGiven that I have the following project structure:\r\n```bash\r\n+ pom.xml\r\n|\r\n+ first\r\n|  + pom.xml\r\n|  + src/main/java/\r\n|               + module-info.java\r\n|               + com/example/first/First.java\r\n|\r\n+ second\r\n|  + pom.xml\r\n|  + src/main/java/\r\n|               + module-info.java\r\n|               + com/example/second/Second.java\r\n|  + src/test/java/\r\n|               + com/example/second/SecondTest.java\r\n```\r\n\r\n## First module\r\nThe `module-info.java` file in the `first` project looks like this:\r\n```java\r\nmodule com.example.first {\r\n    exports com.example.first;\r\n}\r\n```\r\nand the corresponding `pom.xml` file:\r\n\r\n```xml\r\n&lt;artifactId&gt;first&lt;/artifactId&gt;\r\n&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n```\r\n\r\n## Second module\r\nI would like that the `second` module should have a test dependency on the `first` module. For this reason I have attempted the following configuration.\r\n\r\n`module-info.java` file in the `second` project:\r\n```java\r\nmodule com.example.second {\r\n    exports com.example.second;\r\n}\r\n```\r\n\r\n`pom.xml` file:\r\n\r\n```xml\r\n&lt;artifactId&gt;second&lt;/artifactId&gt;\r\n&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;artifactId&gt;first&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;scope&gt;test&lt;/test&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nAnd the `SecondTest.java` file includes `First` as a dependency:\r\n\r\n```java\r\npackage com.example.second;\r\n\r\nimport com.example.first.First;\r\n\r\npublic class SecondTest {\r\n    First first;\r\n    Second second;\r\n\r\n    // setup and test methods...\r\n}\r\n```\r\n\r\n## Problem\r\n\r\nWith the configuration above, the test compilation fails:\r\n\r\n```bash\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile (default-testCompile) on project second: Compilation failure: Compilation failure: \r\n[ERROR] [...]/src/com/example/SecondTest.java: cannot find symbol\r\n[ERROR]   symbol:   class First\r\n[ERROR]   location: package com.example.first\r\n```\r\n\r\n## Workaround\r\n\r\nI could change the scope of the `com.example.first` in the `pom.xml` file of the to `compile` and add `requires com.example.first` in the `module-info.java` file in the `second` module and the test compilation would work. However, that would also imply that the `second` module would depend on `first` when it is being used elsewhere and that is not desired.\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/what-to-do-instead-of-deleting-question","title":"Compilation failure: &quot;cannot find symbol&quot; when applying module-info.java in multi module Maven project?","body":"<p><strong>Please disregard this question. For unknown reasons, the project started working when I took a second look at it. After reading <a href=\"https://stackoverflow.com/help/what-to-do-instead-of-deleting-question\">this page</a> in the Stack Overflow question I opt to Close it (instead of Deleting it).</strong></p>\n<hr />\n<p>How can I get test dependencies to work in a multi module maven project when using Java 9 modules?</p>\n<p>Given that I have the following project structure:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>+ pom.xml\n|\n+ first\n|  + pom.xml\n|  + src/main/java/\n|               + module-info.java\n|               + com/example/first/First.java\n|\n+ second\n|  + pom.xml\n|  + src/main/java/\n|               + module-info.java\n|               + com/example/second/Second.java\n|  + src/test/java/\n|               + com/example/second/SecondTest.java\n</code></pre>\n<h2>First module</h2>\n<p>The <code>module-info.java</code> file in the <code>first</code> project looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.first {\n    exports com.example.first;\n}\n</code></pre>\n<p>and the corresponding <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;artifactId&gt;first&lt;/artifactId&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n</code></pre>\n<h2>Second module</h2>\n<p>I would like that the <code>second</code> module should have a test dependency on the <code>first</code> module. For this reason I have attempted the following configuration.</p>\n<p><code>module-info.java</code> file in the <code>second</code> project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.second {\n    exports com.example.second;\n}\n</code></pre>\n<p><code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;artifactId&gt;second&lt;/artifactId&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;first&lt;/artifactId&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;scope&gt;test&lt;/test&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>And the <code>SecondTest.java</code> file includes <code>First</code> as a dependency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.second;\n\nimport com.example.first.First;\n\npublic class SecondTest {\n    First first;\n    Second second;\n\n    // setup and test methods...\n}\n</code></pre>\n<h2>Problem</h2>\n<p>With the configuration above, the test compilation fails:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:testCompile (default-testCompile) on project second: Compilation failure: Compilation failure: \n[ERROR] [...]/src/com/example/SecondTest.java: cannot find symbol\n[ERROR]   symbol:   class First\n[ERROR]   location: package com.example.first\n</code></pre>\n<h2>Workaround</h2>\n<p>I could change the scope of the <code>com.example.first</code> in the <code>pom.xml</code> file of the to <code>compile</code> and add <code>requires com.example.first</code> in the <code>module-info.java</code> file in the <code>second</code> module and the test compilation would work. However, that would also imply that the <code>second</code> module would depend on <code>first</code> when it is being used elsewhere and that is not desired.</p>\n"},{"tags":["java","httpclient","resttemplate","connection-timeout","spring-resttemplate"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1642354066,"post_id":70732440,"comment_id":125043177,"body_markdown":"Correct. You cannot be sure what system default means. No. It will be a default on each operating system. And might change between releases of the operating system(s).","body":"Correct. You cannot be sure what system default means. No. It will be a default on each operating system. And might change between releases of the operating system(s)."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1642354427,"post_id":70732440,"comment_id":125043258,"body_markdown":"@ElliottFrisch, gr8 ++1. Your comment pushes me one step ahead. I have edited my Q based on ur comment.","body":"@ElliottFrisch, gr8 ++1. Your comment pushes me one step ahead. I have edited my Q based on ur comment."}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642354327,"creation_date":1642353943,"question_id":70732440,"body_markdown":"When I look at the source code of HttpClient which in turn uses org.apache.http.client.config.RequestConfig, I see below -\r\n\r\n-taken from org.apache.http.client.config.RequestConfig.java\r\n\r\n    /**\r\n         * Determines the timeout in milliseconds until a connection is established.\r\n         * &lt;p&gt;\r\n         * A timeout value of zero is interpreted as an infinite timeout.\r\n         * A negative value is interpreted as undefined (system default if applicable).\r\n         * &lt;/p&gt;\r\n         * &lt;p&gt;\r\n         * Default: {@code -1}\r\n         * &lt;/p&gt;\r\n         */\r\n        public int getConnectTimeout() {\r\n            return connectTimeout;\r\n        }\r\n\r\nI am not sure what `System default` here means. Does it mean that it will try to read System Properties and use that value. If this is the case then I will assume it will read `connectTimeout` system property and used the value of this property for this timeout config.\r\n\r\nIf I am wrong then kindly let me know what `System default` here means.\r\n\r\n**Edit -** like @elliott-frisch pointed. Default means OS default. But now I am wondering where i can find these values for various Operating Systems. Like for Linux (Ubuntu/CentOS etc) and for Windows.","title":"For HttpClient (org.apache.http.client), what does &quot;A negative value is interpreted as undefined (system default if applicable)&quot; mean?","body":"<p>When I look at the source code of HttpClient which in turn uses org.apache.http.client.config.RequestConfig, I see below -</p>\n<p>-taken from org.apache.http.client.config.RequestConfig.java</p>\n<pre><code>/**\n     * Determines the timeout in milliseconds until a connection is established.\n     * &lt;p&gt;\n     * A timeout value of zero is interpreted as an infinite timeout.\n     * A negative value is interpreted as undefined (system default if applicable).\n     * &lt;/p&gt;\n     * &lt;p&gt;\n     * Default: {@code -1}\n     * &lt;/p&gt;\n     */\n    public int getConnectTimeout() {\n        return connectTimeout;\n    }\n</code></pre>\n<p>I am not sure what <code>System default</code> here means. Does it mean that it will try to read System Properties and use that value. If this is the case then I will assume it will read <code>connectTimeout</code> system property and used the value of this property for this timeout config.</p>\n<p>If I am wrong then kindly let me know what <code>System default</code> here means.</p>\n<p><strong>Edit -</strong> like @elliott-frisch pointed. Default means OS default. But now I am wondering where i can find these values for various Operating Systems. Like for Linux (Ubuntu/CentOS etc) and for Windows.</p>\n"},{"tags":["java","spring","spring-boot","cron","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642347425,"creation_date":1642347425,"answer_id":70731582,"question_id":70731536,"body_markdown":"A schedule like `cron = &quot;0 30 01 * * 3,7&quot;` triggers every 3rd and 7th day of the week.","title":"How can I change di job CRON expression in order to run my Spring Batch job twice a week?","body":"<p>A schedule like <code>cron = &quot;0 30 01 * * 3,7&quot;</code> triggers every 3rd and 7th day of the week.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70731582,"answer_count":1,"score":0,"last_activity_date":1642354314,"creation_date":1642347081,"question_id":70731536,"body_markdown":"in a Spring Batch application on which I am working on I scheduled a job in this way:\r\n\r\n    @Scheduled(cron = &quot;0 30 01 * * 7&quot;)\r\n    public void runUpdateNotaryListInfoJob() {\r\n        LOGGER.info(&quot;SCHEDULED run of updateNotaryListInfoJob STARTED&quot;);\r\n        Map&lt;String, JobParameter&gt; confMap = new HashMap&lt;&gt;();\r\n        confMap.put(&quot;time&quot;, new JobParameter(System.currentTimeMillis()));\r\n        JobParameters jobParameters = new JobParameters(confMap);\r\n        try {\r\n            jobLauncher.run(updateNotaryListInfoJob, jobParameters);\r\n        }catch (Exception ex){\r\n        \tLOGGER.error(ex.getMessage());\r\n        }\r\n    }\r\n\r\nThis works fine and my job is runned every Sunday (day 7) at 01:30 of the night. Ok it is fine but now my client ask me to run it twice in a week (same time but in two different days). Is it possible to change the previous CRON expression so that my job is performed at 01:30 of every Wednesday and every Sunday?\r\n    ","title":"How can I change di job CRON expression in order to run my Spring Batch job twice a week?","body":"<p>in a Spring Batch application on which I am working on I scheduled a job in this way:</p>\n<pre><code>@Scheduled(cron = &quot;0 30 01 * * 7&quot;)\npublic void runUpdateNotaryListInfoJob() {\n    LOGGER.info(&quot;SCHEDULED run of updateNotaryListInfoJob STARTED&quot;);\n    Map&lt;String, JobParameter&gt; confMap = new HashMap&lt;&gt;();\n    confMap.put(&quot;time&quot;, new JobParameter(System.currentTimeMillis()));\n    JobParameters jobParameters = new JobParameters(confMap);\n    try {\n        jobLauncher.run(updateNotaryListInfoJob, jobParameters);\n    }catch (Exception ex){\n        LOGGER.error(ex.getMessage());\n    }\n}\n</code></pre>\n<p>This works fine and my job is runned every Sunday (day 7) at 01:30 of the night. Ok it is fine but now my client ask me to run it twice in a week (same time but in two different days). Is it possible to change the previous CRON expression so that my job is performed at 01:30 of every Wednesday and every Sunday?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642349466,"post_id":70731761,"comment_id":125041920,"body_markdown":"Can you just write your own comparator? I am sure you could wrap this functionality inside your own custom function to make it fit your needs.","body":"Can you just write your own comparator? I am sure you could wrap this functionality inside your own custom function to make it fit your needs."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1642349574,"post_id":70731761,"comment_id":125041942,"body_markdown":"https://www.baeldung.com/java-8-date-time-intro convert the dates to LocalDate using a formatter (strng to LocalDate), then getDayOfYear() and divide by 365 or some other maths to get what you want. i dont know of any ready made fn this might help https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","body":"<a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">baeldung.com/java-8-date-time-intro</a> convert the dates to LocalDate using a formatter (strng to LocalDate), then getDayOfYear() and divide by 365 or some other maths to get what you want. i dont know of any ready made fn this might help <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1642350439,"post_id":70731761,"comment_id":125042144,"body_markdown":"Why not use a count of days? That is what a decimal fraction of years between dates means: a count of days. A decimal fraction to 15 places creates the illusion of precision that is not actually present when comparing two dates.","body":"Why not use a count of days? That is what a decimal fraction of years between dates means: a count of days. A decimal fraction to 15 places creates the illusion of precision that is not actually present when comparing two dates."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1642350946,"post_id":70731761,"comment_id":125042244,"body_markdown":"You can get the days like this `long daysBetween = ChronoUnit.DAYS.between(date1, date2);`, and then divide the days by 365.00(or you can calculate it more precisely yourself by taking into account the number of leap years in the range). \n\nAlso shouldn&#39;t that function return 6.64.... years, not 7.64...?","body":"You can get the days like this <code>long daysBetween = ChronoUnit.DAYS.between(date1, date2);</code>, and then divide the days by 365.00(or you can calculate it more precisely yourself by taking into account the number of leap years in the range).   Also shouldn&#39;t that function return 6.64.... years, not 7.64...?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642351278,"post_id":70731761,"comment_id":125042349,"body_markdown":"What do you mean by “comma”? I do not see how that applies.","body":"What do you mean by “comma”? I do not see how that applies."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642352994,"post_id":70731761,"comment_id":125042892,"body_markdown":"No, that call to `ChronoUnit.YEARS.between` does not return 7, it returns 6. See [code run live at IdeOne.com](https://ideone.com/25UNHZ).","body":"No, that call to <code>ChronoUnit.YEARS.between</code> does not return 7, it returns 6. See <a href=\"https://ideone.com/25UNHZ\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642353942,"post_id":70731761,"comment_id":125043152,"body_markdown":"We shouldn&#39;t need to prove the math with code. A FULL seven years from June, 2012 MUST fall on June of 2019. January 2019 is 5 months short of 7 years. That was me doing an quick &quot;eyeball&quot; test.  Are we that dependent of calculators and software?","body":"We shouldn&#39;t need to prove the math with code. A FULL seven years from June, 2012 MUST fall on June of 2019. January 2019 is 5 months short of 7 years. That was me doing an quick &quot;eyeball&quot; test.  Are we that dependent of calculators and software?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1642354167,"post_id":70731761,"comment_id":125043206,"body_markdown":"&quot;_Days / 365 is to inaccurate. Sometimes you have a leap year sometimes not_&quot; How do you think a library will accomplish this? It will have to calculate it. There are plenty of online resources to figure out how to accomplish this accounting for leap years. If you need better precision (which I seriously doubt) than dividing elapsed time by 365.25, you can make your function as precise as you want if you spend the time researching how to do the calculation. I am willing to bet the formula is somewhere on the web. We&#39;ve given you a solid foundation to solve your problem.","body":"&quot;<i>Days / 365 is to inaccurate. Sometimes you have a leap year sometimes not</i>&quot; How do you think a library will accomplish this? It will have to calculate it. There are plenty of online resources to figure out how to accomplish this accounting for leap years. If you need better precision (which I seriously doubt) than dividing elapsed time by 365.25, you can make your function as precise as you want if you spend the time researching how to do the calculation. I am willing to bet the formula is somewhere on the web. We&#39;ve given you a solid foundation to solve your problem."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1642354371,"post_id":70731761,"comment_id":125043245,"body_markdown":"Read this and figure out how to do a super precise calculation accounting for leap years: https://www.grc.nasa.gov/www/k-12/Numbers/Math/Mathematical_Thinking/calendar_calculations.htm","body":"Read this and figure out how to do a super precise calculation accounting for leap years: <a href=\"https://www.grc.nasa.gov/www/k-12/Numbers/Math/Mathematical_Thinking/calendar_calculations.htm\" rel=\"nofollow noreferrer\">grc.nasa.gov/www/k-12/Numbers/Math/Mathematical_Thinking/&hellip;</a>"},{"owner":{"account_id":4107787,"reputation":1352,"user_id":3371251,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1642354927,"post_id":70731761,"comment_id":125043409,"body_markdown":"@hfontanez \nIn the financial sector, everything is always a bit more precise than anywhere else ;-) But that&#39;s also a solution for me. If there is no library that calculates this accurately, you just have to program your own function.","body":"@hfontanez  In the financial sector, everything is always a bit more precise than anywhere else ;-) But that&#39;s also a solution for me. If there is no library that calculates this accurately, you just have to program your own function."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642355247,"post_id":70731761,"comment_id":125043473,"body_markdown":"@Paul I have been developing software for a long time.  I am aware of that. But I am willing to bet that you don&#39;t know how precise dayjs really is. For all we know, it is doing the calculation exactly like we&#39;re showing you. I read the docs and I could not find anything about how the calculation is being made. I think that is the point you are missing here.  IN FACT, since this is an open-source library, you could crack open the library and see how the calculation is done and do the same in Java. Nothing is stopping you.","body":"@Paul I have been developing software for a long time.  I am aware of that. But I am willing to bet that you don&#39;t know how precise dayjs really is. For all we know, it is doing the calculation exactly like we&#39;re showing you. I read the docs and I could not find anything about how the calculation is being made. I think that is the point you are missing here.  IN FACT, since this is an open-source library, you could crack open the library and see how the calculation is done and do the same in Java. Nothing is stopping you."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642350721,"creation_date":1642350721,"answer_id":70731995,"question_id":70731761,"body_markdown":"I am not saying this is &quot;the answer&quot; but it should be a suggestion for you to base your solution on.\r\n\r\n```\r\npublic static void main(String[] args) {\t\t\r\n\tDate date1 = Date.from(Instant.now());\r\n\tCalendar cal = new GregorianCalendar(2021,Calendar.JANUARY, 1);\r\n\tDate date2 = cal.getTime();\r\n\t\t\r\n\tlong diffInMillies = Math.abs(date2.getTime() - date1.getTime());\r\n    long diff = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS);\r\n    System.out.println(&quot;Difference in days: &quot; + diff);\r\n    BigDecimal yDiff = new BigDecimal(diff/365.25);\r\n    System.out.println(&quot;Difference in years: &quot; + yDiff.doubleValue());\r\n}\r\n```\r\n\r\nYou could take some code like this, and wrap it in a function that manipulates the difference between two dates using standard Java libraries. As you can see in the example below, I used the Java library to calculate the difference of two dates in days, and then I just did a simple calculation to extrapolate the difference in years. I am not sure why this won&#39;t be an acceptable compromise.\r\n\r\nUsing `BigDecimal` instead of `double` gives you more precision as well as an easier way to define significant digits.","title":"Compare two dates in years with comma and leap year","body":"<p>I am not saying this is &quot;the answer&quot; but it should be a suggestion for you to base your solution on.</p>\n<pre><code>public static void main(String[] args) {        \n    Date date1 = Date.from(Instant.now());\n    Calendar cal = new GregorianCalendar(2021,Calendar.JANUARY, 1);\n    Date date2 = cal.getTime();\n        \n    long diffInMillies = Math.abs(date2.getTime() - date1.getTime());\n    long diff = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS);\n    System.out.println(&quot;Difference in days: &quot; + diff);\n    BigDecimal yDiff = new BigDecimal(diff/365.25);\n    System.out.println(&quot;Difference in years: &quot; + yDiff.doubleValue());\n}\n</code></pre>\n<p>You could take some code like this, and wrap it in a function that manipulates the difference between two dates using standard Java libraries. As you can see in the example below, I used the Java library to calculate the difference of two dates in days, and then I just did a simple calculation to extrapolate the difference in years. I am not sure why this won't be an acceptable compromise.</p>\n<p>Using <code>BigDecimal</code> instead of <code>double</code> gives you more precision as well as an easier way to define significant digits.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642353313,"creation_date":1642352158,"answer_id":70732192,"question_id":70731761,"body_markdown":"# tl;dr\r\n\r\n    ChronoUnit\r\n    .DAYS\r\n    .between( \r\n        LocalDate.parse( &quot;2012-06-05&quot; ) , \r\n        LocalDate.parse( &quot;2019-01-25&quot; )  \r\n    ) \r\n    /\r\n    365.2425d\r\n\r\nSee this [code run live at IdeOne.com](https://ideone.com/25UNHZ).\r\n\r\n&gt; 6.639424491947131\r\n\r\n\r\n# Details\r\n\r\nWhy not use a count of days? That is what a decimal fraction of years between dates means: a count of days. A decimal fraction to 15 places creates the illusion of precision that is not actually present when comparing two dates.\r\n\r\n    LocalDate start = LocalDate.parse( &quot;2012-06-05&quot; ) ;\r\n    LocalDate end = LocalDate.parse( &quot;2019-01-25&quot; ) ;\r\n   \r\n    long daysElapsed = ChronoUnit.DAYS.between( start , end ) ;\r\n\r\nIf you insist on a fraction, divide by whatever fractional count of days per year makes sense to you.\r\n\r\nThe days per year over a 400 year cycle of the Gregorian calendar is `365.2425`.\r\n\r\n    double DAYS_PER_YEAR = 365.2425d ;\r\n    double yearsElapsed = ( daysElapsed / DAYS_PER_YEAR ) ; \r\n\r\nFor accuracy, use `BigDecimal` rather than `double`. \r\n","title":"Compare two dates in years with comma and leap year","body":"<h1>tl;dr</h1>\n<pre><code>ChronoUnit\n.DAYS\n.between( \n    LocalDate.parse( &quot;2012-06-05&quot; ) , \n    LocalDate.parse( &quot;2019-01-25&quot; )  \n) \n/\n365.2425d\n</code></pre>\n<p>See this <a href=\"https://ideone.com/25UNHZ\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>6.639424491947131</p>\n</blockquote>\n<h1>Details</h1>\n<p>Why not use a count of days? That is what a decimal fraction of years between dates means: a count of days. A decimal fraction to 15 places creates the illusion of precision that is not actually present when comparing two dates.</p>\n<pre><code>LocalDate start = LocalDate.parse( &quot;2012-06-05&quot; ) ;\nLocalDate end = LocalDate.parse( &quot;2019-01-25&quot; ) ;\n\nlong daysElapsed = ChronoUnit.DAYS.between( start , end ) ;\n</code></pre>\n<p>If you insist on a fraction, divide by whatever fractional count of days per year makes sense to you.</p>\n<p>The days per year over a 400 year cycle of the Gregorian calendar is <code>365.2425</code>.</p>\n<pre><code>double DAYS_PER_YEAR = 365.2425d ;\ndouble yearsElapsed = ( daysElapsed / DAYS_PER_YEAR ) ; \n</code></pre>\n<p>For accuracy, use <code>BigDecimal</code> rather than <code>double</code>.</p>\n"}],"owner":{"account_id":4107787,"reputation":1352,"user_id":3371251,"accept_rate":100,"display_name":"Paul"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70732192,"answer_count":2,"score":3,"last_activity_date":1642353664,"creation_date":1642348857,"question_id":70731761,"body_markdown":"There are many entries on the internet how the difference between two dates can be compared. However, I still haven&#39;t found the right solution for me.\r\n\r\nIn short: I&#39;m looking for the equivalent of `dayjs` (javascript library - [dayJs][1]) function `diff` with the parameter &quot;years&quot; and a comma. So that I get the output (example): 7.645161290322581 years\r\n\r\n``` lang-js\r\nconst date1 = dayjs(&#39;2019-01-25&#39;)\r\ndate1.diff(&#39;2012-06-05&#39;, &#39;year&#39;, true) // 6.639424491947131\r\n```\r\n\r\nA nice solution would have been `between`. Unfortunately, the following code only gives me the year without a comma.\r\n\r\n``` lang-java\r\nlong diff = ChronoUnit.YEARS.between(date1, date2);\r\n```\r\n\r\nSadly, this solution gives me only 6 years and NOT 6.639424491947131.\r\n\r\nI&#39;ve found other solutions, but they don&#39;t take leap years into account.\r\n\r\nCould someone please help me here.\r\n\r\n**//EDIT**\r\n\r\nThanks for the anwers. However days is not an option. I need the years with comma.\r\nChanged 7.49 to 6.639424491947131\r\n\r\nDays / 365 is to inaccurate. Sometimes you have a leap year sometimes not.\r\n\r\n  [1]: https://day.js.org/docs/en/display/difference","title":"Compare two dates in years with comma and leap year","body":"<p>There are many entries on the internet how the difference between two dates can be compared. However, I still haven't found the right solution for me.</p>\n<p>In short: I'm looking for the equivalent of <code>dayjs</code> (javascript library - <a href=\"https://day.js.org/docs/en/display/difference\" rel=\"nofollow noreferrer\">dayJs</a>) function <code>diff</code> with the parameter &quot;years&quot; and a comma. So that I get the output (example): 7.645161290322581 years</p>\n<pre class=\"lang-js prettyprint-override\"><code>const date1 = dayjs('2019-01-25')\ndate1.diff('2012-06-05', 'year', true) // 6.639424491947131\n</code></pre>\n<p>A nice solution would have been <code>between</code>. Unfortunately, the following code only gives me the year without a comma.</p>\n<pre class=\"lang-java prettyprint-override\"><code>long diff = ChronoUnit.YEARS.between(date1, date2);\n</code></pre>\n<p>Sadly, this solution gives me only 6 years and NOT 6.639424491947131.</p>\n<p>I've found other solutions, but they don't take leap years into account.</p>\n<p>Could someone please help me here.</p>\n<p><strong>//EDIT</strong></p>\n<p>Thanks for the anwers. However days is not an option. I need the years with comma.\nChanged 7.49 to 6.639424491947131</p>\n<p>Days / 365 is to inaccurate. Sometimes you have a leap year sometimes not.</p>\n"},{"tags":["java","oop","inheritance","abstract-class"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1642242066,"post_id":70719107,"comment_id":125022140,"body_markdown":"You might want to check questions about overriding the `equals()` method like on https://stackoverflow.com/questions/8180430/how-to-override-equals-method-in-java, as the issue might be similar.","body":"You might want to check questions about overriding the <code>equals()</code> method like on <a href=\"https://stackoverflow.com/questions/8180430/how-to-override-equals-method-in-java\" title=\"how to override equals method in java\">stackoverflow.com/questions/8180430/&hellip;</a>, as the issue might be similar."}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642229148,"creation_date":1642229148,"answer_id":70719409,"question_id":70719107,"body_markdown":"Your approach is correct. \r\nFor clarification purposes, whenever you are  overriding isSimilar method, you can you this keyword to shows that the comparison will take place between the brand of the device passed and the object which is calling \r\nthe method. your implementation of isSimilar is also correct but you can optimize this by just keeping it as one liner. \r\n\r\n      @Override\r\n      public boolean isSimilar(Device d) {\r\n            return d.getBrand().equalsIgnoreCase(this.getBrand()) ;\r\n      }\r\n\r\nNow to compare them, I have created a main class where I am creating the objects of class Server and Network device and calling the isSimilar method. \r\n\r\n    public class Main \r\n     \r\n    {\r\n      public static void main(String args[]) {\r\n        Device deviceA = new Server(1,&quot;samsung&quot;,&quot;core-4&quot;,&quot;ten&quot;); \r\n        \r\n        Device deviceB = new Server(1,&quot;samsung&quot;,&quot;core-4&quot;,&quot;twenty&quot;); \r\n        \r\n        System.out.println(deviceA.isSimilar(deviceB));\r\n        \r\n        \r\n        Device deviceC = new NetworkDevice(1,&quot;samsung&quot;,4,false); \r\n        \r\n        Device deviceD = new NetworkDevice(1,&quot;galaxy&quot;,6,true); \r\n        \r\n        System.out.println(deviceC.isSimilar(deviceD));\r\n        \r\n      }\r\n    }\r\n\r\nand the output is as follows \r\n\r\n    true\r\n    false\r\n    \r\n\r\n\r\n","title":"Abstract Classes &amp; Methods In Java","body":"<p>Your approach is correct.\nFor clarification purposes, whenever you are  overriding isSimilar method, you can you this keyword to shows that the comparison will take place between the brand of the device passed and the object which is calling\nthe method. your implementation of isSimilar is also correct but you can optimize this by just keeping it as one liner.</p>\n<pre><code>  @Override\n  public boolean isSimilar(Device d) {\n        return d.getBrand().equalsIgnoreCase(this.getBrand()) ;\n  }\n</code></pre>\n<p>Now to compare them, I have created a main class where I am creating the objects of class Server and Network device and calling the isSimilar method.</p>\n<pre><code>public class Main \n \n{\n  public static void main(String args[]) {\n    Device deviceA = new Server(1,&quot;samsung&quot;,&quot;core-4&quot;,&quot;ten&quot;); \n    \n    Device deviceB = new Server(1,&quot;samsung&quot;,&quot;core-4&quot;,&quot;twenty&quot;); \n    \n    System.out.println(deviceA.isSimilar(deviceB));\n    \n    \n    Device deviceC = new NetworkDevice(1,&quot;samsung&quot;,4,false); \n    \n    Device deviceD = new NetworkDevice(1,&quot;galaxy&quot;,6,true); \n    \n    System.out.println(deviceC.isSimilar(deviceD));\n    \n  }\n}\n</code></pre>\n<p>and the output is as follows</p>\n<pre><code>true\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8298463,"reputation":1,"user_id":6237890,"display_name":"Ondrej Čičk&#225;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642231421,"creation_date":1642230791,"answer_id":70719532,"question_id":70719107,"body_markdown":"If I understand the assignment correctly, isSimilar is true only if the device has same subclass, with same properties.\r\n\r\nIn this case you can simply check Device type and cast it to the subclass. For example, for Server class\r\n\r\n    @Override\r\n    public boolean isSimilar(Device d) {\r\n        if (d == null) {\r\n            return false;\r\n        }\r\n\r\n        if (d.getClass() != this.getClass()) {\r\n            return false;\r\n        }\r\n\r\n        final Server  otherServer = (Server) d;\r\n        return this.getBrand().equalsIgnoreCase(otherServer.getBrand()) &amp;&amp;\r\n                this.getOperatingSystemType().equalsIgnoreCase(otherServer.getOperatingSystemType()) &amp;&amp;\r\n                this.getAvailableServices().equalsIgnoreCase(otherServer.getAvailableServices());\r\n\r\n    }\r\n\r\nBy the way this type of logic reminds me default java object function - equals().(https://www.baeldung.com/java-equals-hashcode-contracts)\r\n\r\n\r\n","title":"Abstract Classes &amp; Methods In Java","body":"<p>If I understand the assignment correctly, isSimilar is true only if the device has same subclass, with same properties.</p>\n<p>In this case you can simply check Device type and cast it to the subclass. For example, for Server class</p>\n<pre><code>@Override\npublic boolean isSimilar(Device d) {\n    if (d == null) {\n        return false;\n    }\n\n    if (d.getClass() != this.getClass()) {\n        return false;\n    }\n\n    final Server  otherServer = (Server) d;\n    return this.getBrand().equalsIgnoreCase(otherServer.getBrand()) &amp;&amp;\n            this.getOperatingSystemType().equalsIgnoreCase(otherServer.getOperatingSystemType()) &amp;&amp;\n            this.getAvailableServices().equalsIgnoreCase(otherServer.getAvailableServices());\n\n}\n</code></pre>\n<p>By the way this type of logic reminds me default java object function - equals().(<a href=\"https://www.baeldung.com/java-equals-hashcode-contracts\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-equals-hashcode-contracts</a>)</p>\n"}],"owner":{"account_id":20406287,"reputation":11,"user_id":14970769,"display_name":"Tareq El-Sayyed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70719409,"answer_count":2,"score":0,"last_activity_date":1642353602,"creation_date":1642224813,"question_id":70719107,"body_markdown":"I am working on a Java exercise where a parent class is abstract, and the subclasses override the `isSimilar` method. This method should take a device parameter. In the `Server` subclass, this method should compare the Brand, Operating System, and Available Services. In the `NetworkDevice` subclass, this method should compare the Brand, Number of Ports, and Power Over Ethernet.  \r\n\r\nThe problem with this method is that I can&#39;t compare the devices if it only takes in one parameter. (At least I could not find out how to do so.)\r\n\r\n-- Device Class -- \r\n\r\n```\r\npublic abstract class Device {\r\n    protected int id;\r\n    protected String brand;\r\n\r\n    // The Constructor Methods.\r\n    public Device(){}\r\n    public Device(int id, String brand){\r\n        this.id = id;\r\n        this.brand = brand;\r\n    }\r\n\r\n    // The Get Methods.\r\n    public int getId() {return id;}\r\n    public String getBrand() {return brand;}\r\n\r\n    // The Set Methods.\r\n    public void setId(int id) {this.id = id;}\r\n    public void setBrand(String brand) {this.brand = brand;}\r\n\r\n    // Returning Information.\r\n    public String toString(){\r\n        String s = &quot;Id; &quot; + brand + &quot;, Brand: &quot; + brand + &quot;. &quot;;\r\n        return s;\r\n    }\r\n\r\n    // Other Abstract Classes.\r\n    public abstract boolean isSimilar(Device d);\r\n}\r\n```\r\n\r\n-- Server Class -- \r\n\r\n```\r\npublic class Server extends Device{\r\n    private String operatingSystemType;\r\n    private String availableServices;\r\n\r\n    // The Constructor Methods.\r\n    public Server(){}\r\n    public Server(int id, String brand, String operatingSystemType, String availableServices){\r\n        super(id, brand);\r\n        this.operatingSystemType = operatingSystemType;\r\n        this.availableServices = availableServices;\r\n    }\r\n\r\n    // The Get Methods.\r\n    public String getOperatingSystemType() {return operatingSystemType;}\r\n    public String getAvailableServices() {return availableServices;}\r\n\r\n    // The Set Methods.\r\n    public void setOperatingSystemType(String operatingSystemType) {this.operatingSystemType = operatingSystemType;}\r\n    public void setAvailableServices(String availableServices) {this.availableServices = availableServices;}\r\n\r\n    // Server Related Methods.\r\n    public boolean addAService(String service){\r\n        String[] services = getAvailableServices().split(&quot;:&quot;);\r\n        for (int i = 0; i &lt; services.length; i++) {\r\n            if (services[i].equalsIgnoreCase(service))\r\n                return false;\r\n        }\r\n        setAvailableServices(getAvailableServices() + &quot;:&quot; + service);\r\n        return true;\r\n    }\r\n\r\n    public boolean findAService(String service){\r\n        String[] services = getAvailableServices().split(&quot;:&quot;);\r\n        for (int i = 0; i &lt; services.length; i++) {\r\n            if (services[i].equalsIgnoreCase(service))\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isSimilar(Device d) {\r\n        if(d.getBrand().equalsIgnoreCase(getBrand())) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // Returning Information.\r\n    @Override\r\n    public String toString() {\r\n        String s = super.toString() + &quot;, Operating System: &quot; + getOperatingSystemType() + &quot;, Services: &quot; + getAvailableServices() + &quot;.&quot;;\r\n        return s;\r\n    }\r\n}\r\n```\r\n\r\n-- Network Device Class -- \r\n\r\n```\r\npublic class NetworkDevice extends Device{\r\n    private int numberOfPorts;\r\n    private boolean poweredByEthernet;\r\n\r\n    // The Constructor Methods.\r\n    public NetworkDevice(){}\r\n    public NetworkDevice(int id, String brand, int numberOfPorts, boolean poweredByEthernet){\r\n        super(id, brand);\r\n        this.numberOfPorts = numberOfPorts;\r\n        this.poweredByEthernet = poweredByEthernet;\r\n    }\r\n\r\n    // The Get Methods.\r\n    public int getNumberOfPorts() {return numberOfPorts;}\r\n    public boolean isPoweredByEthernet() {return poweredByEthernet;}\r\n\r\n    // The Set Methods.\r\n    public void setNumberOfPorts(int numberOfPorts) {this.numberOfPorts = numberOfPorts;}\r\n    public void setPoweredByEthernet(boolean poweredByEthernet) {this.poweredByEthernet = poweredByEthernet;}\r\n\r\n    @Override\r\n    public boolean isSimilar(Device d) {\r\n        if(d.getBrand().equalsIgnoreCase(getBrand()))\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    // Returning Information.\r\n    @Override\r\n    public String toString() {\r\n        return super.toString() + &quot;NetworkDevice{&quot; +\r\n                &quot;numberOfPorts=&quot; + numberOfPorts +\r\n                &quot;, poweredByEthernet=&quot; + poweredByEthernet +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```","title":"Abstract Classes &amp; Methods In Java","body":"<p>I am working on a Java exercise where a parent class is abstract, and the subclasses override the <code>isSimilar</code> method. This method should take a device parameter. In the <code>Server</code> subclass, this method should compare the Brand, Operating System, and Available Services. In the <code>NetworkDevice</code> subclass, this method should compare the Brand, Number of Ports, and Power Over Ethernet.</p>\n<p>The problem with this method is that I can't compare the devices if it only takes in one parameter. (At least I could not find out how to do so.)</p>\n<p>-- Device Class --</p>\n<pre><code>public abstract class Device {\n    protected int id;\n    protected String brand;\n\n    // The Constructor Methods.\n    public Device(){}\n    public Device(int id, String brand){\n        this.id = id;\n        this.brand = brand;\n    }\n\n    // The Get Methods.\n    public int getId() {return id;}\n    public String getBrand() {return brand;}\n\n    // The Set Methods.\n    public void setId(int id) {this.id = id;}\n    public void setBrand(String brand) {this.brand = brand;}\n\n    // Returning Information.\n    public String toString(){\n        String s = &quot;Id; &quot; + brand + &quot;, Brand: &quot; + brand + &quot;. &quot;;\n        return s;\n    }\n\n    // Other Abstract Classes.\n    public abstract boolean isSimilar(Device d);\n}\n</code></pre>\n<p>-- Server Class --</p>\n<pre><code>public class Server extends Device{\n    private String operatingSystemType;\n    private String availableServices;\n\n    // The Constructor Methods.\n    public Server(){}\n    public Server(int id, String brand, String operatingSystemType, String availableServices){\n        super(id, brand);\n        this.operatingSystemType = operatingSystemType;\n        this.availableServices = availableServices;\n    }\n\n    // The Get Methods.\n    public String getOperatingSystemType() {return operatingSystemType;}\n    public String getAvailableServices() {return availableServices;}\n\n    // The Set Methods.\n    public void setOperatingSystemType(String operatingSystemType) {this.operatingSystemType = operatingSystemType;}\n    public void setAvailableServices(String availableServices) {this.availableServices = availableServices;}\n\n    // Server Related Methods.\n    public boolean addAService(String service){\n        String[] services = getAvailableServices().split(&quot;:&quot;);\n        for (int i = 0; i &lt; services.length; i++) {\n            if (services[i].equalsIgnoreCase(service))\n                return false;\n        }\n        setAvailableServices(getAvailableServices() + &quot;:&quot; + service);\n        return true;\n    }\n\n    public boolean findAService(String service){\n        String[] services = getAvailableServices().split(&quot;:&quot;);\n        for (int i = 0; i &lt; services.length; i++) {\n            if (services[i].equalsIgnoreCase(service))\n                return true;\n        }\n        return false;\n    }\n\n    @Override\n    public boolean isSimilar(Device d) {\n        if(d.getBrand().equalsIgnoreCase(getBrand())) {\n            return true;\n        }\n        return false;\n    }\n\n    // Returning Information.\n    @Override\n    public String toString() {\n        String s = super.toString() + &quot;, Operating System: &quot; + getOperatingSystemType() + &quot;, Services: &quot; + getAvailableServices() + &quot;.&quot;;\n        return s;\n    }\n}\n</code></pre>\n<p>-- Network Device Class --</p>\n<pre><code>public class NetworkDevice extends Device{\n    private int numberOfPorts;\n    private boolean poweredByEthernet;\n\n    // The Constructor Methods.\n    public NetworkDevice(){}\n    public NetworkDevice(int id, String brand, int numberOfPorts, boolean poweredByEthernet){\n        super(id, brand);\n        this.numberOfPorts = numberOfPorts;\n        this.poweredByEthernet = poweredByEthernet;\n    }\n\n    // The Get Methods.\n    public int getNumberOfPorts() {return numberOfPorts;}\n    public boolean isPoweredByEthernet() {return poweredByEthernet;}\n\n    // The Set Methods.\n    public void setNumberOfPorts(int numberOfPorts) {this.numberOfPorts = numberOfPorts;}\n    public void setPoweredByEthernet(boolean poweredByEthernet) {this.poweredByEthernet = poweredByEthernet;}\n\n    @Override\n    public boolean isSimilar(Device d) {\n        if(d.getBrand().equalsIgnoreCase(getBrand()))\n            return true;\n        return false;\n    }\n\n    // Returning Information.\n    @Override\n    public String toString() {\n        return super.toString() + &quot;NetworkDevice{&quot; +\n                &quot;numberOfPorts=&quot; + numberOfPorts +\n                &quot;, poweredByEthernet=&quot; + poweredByEthernet +\n                '}';\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","tomcat"],"answers":[{"tags":[],"owner":{"account_id":21172107,"reputation":34,"user_id":15568225,"display_name":"Digvijay Anand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642353555,"creation_date":1642279794,"answer_id":70725314,"question_id":70720100,"body_markdown":"**With Default Rendering with template**\r\n\r\nIf you are using default &quot;/resources/templates&quot; for rendering view.Spring Boot only includes auto-configuration support for the following templating engines:\r\n\r\n 1. FreeMarker \r\n 2. Groovy \r\n 3. Thyme-leaf \r\n 4. Velocity\r\n\r\nExample:\r\n\r\n**Step1:**\r\n\r\nFor using thymeleaf you should add dependency either with gradle and maven\r\nGradle:\r\n\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-thymeleaf&#39;, version: &#39;2.5.4&#39;\r\n\r\nOR\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Step2:**\r\nAdd below code with properties file\r\n\r\n    (Optional)spring.thymeleaf.prefix=classpath:/templates/\r\n    \r\n    spring.thymeleaf.suffix=.html\r\n\r\n**With MVC support** \r\n\r\nBy default, this handler serves static content from any of /static, /public, /resources, and /META-INF/resources directories that are on the classpath. Since src/main/resources is typically on the classpath by default, we can place any of these directories there.\r\n\r\nOnly static folder is available for rendering view.You can customise using below code with properties file.By default Spring Boot will serve static content from a folder called /static (or /public or /resources or /META-INF/resources) in the classpath or from the root of the ServletContext. It uses the ResourceHttpRequestHandler from Spring MVC so you can modify that behavior by adding your own WebMvcConfigurerAdapter and overriding the addResourceHandlers method.\r\n\r\n   \r\n\r\n    spring.mvc.static-path-pattern=/content/**\r\n    spring.web.resources.static-locations=classpath:/files/,classpath:/static-files\r\n\r\nMore information visit\r\n\r\n&lt;https://docs.spring.io/spring-boot/docs/1.1.5.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-static-content&gt;\r\n\r\n&lt;https://www.baeldung.com/spring-mvc-static-resources&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"What do spring.mvc.view.prefix and spring.mvc.view.suffix have to be?","body":"<p><strong>With Default Rendering with template</strong></p>\n<p>If you are using default &quot;/resources/templates&quot; for rendering view.Spring Boot only includes auto-configuration support for the following templating engines:</p>\n<ol>\n<li>FreeMarker</li>\n<li>Groovy</li>\n<li>Thyme-leaf</li>\n<li>Velocity</li>\n</ol>\n<p>Example:</p>\n<p><strong>Step1:</strong></p>\n<p>For using thymeleaf you should add dependency either with gradle and maven\nGradle:</p>\n<pre><code>implementation group: 'org.springframework.boot', name: 'spring-boot-starter-thymeleaf', version: '2.5.4'\n</code></pre>\n<p>OR\nMaven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Step2:</strong>\nAdd below code with properties file</p>\n<pre><code>(Optional)spring.thymeleaf.prefix=classpath:/templates/\n\nspring.thymeleaf.suffix=.html\n</code></pre>\n<p><strong>With MVC support</strong></p>\n<p>By default, this handler serves static content from any of /static, /public, /resources, and /META-INF/resources directories that are on the classpath. Since src/main/resources is typically on the classpath by default, we can place any of these directories there.</p>\n<p>Only static folder is available for rendering view.You can customise using below code with properties file.By default Spring Boot will serve static content from a folder called /static (or /public or /resources or /META-INF/resources) in the classpath or from the root of the ServletContext. It uses the ResourceHttpRequestHandler from Spring MVC so you can modify that behavior by adding your own WebMvcConfigurerAdapter and overriding the addResourceHandlers method.</p>\n<pre><code>spring.mvc.static-path-pattern=/content/**\nspring.web.resources.static-locations=classpath:/files/,classpath:/static-files\n</code></pre>\n<p>More information visit</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.1.5.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-static-content\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.1.5.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-static-content</a></p>\n<p><a href=\"https://www.baeldung.com/spring-mvc-static-resources\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-static-resources</a></p>\n"}],"owner":{"account_id":23947002,"reputation":59,"user_id":17939216,"display_name":"Irimitlad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70725314,"answer_count":1,"score":2,"last_activity_date":1642353555,"creation_date":1642237145,"question_id":70720100,"body_markdown":"I created a Spring Boot demo app with Maven using Spring Initializr (that&#39;s my almost the very first usage of Spring). It works, but for some reason doesn&#39;t show any pages besides `index.html`. If I&#39;m right, that&#39;s because of configuration in `application.properties`, but I just don&#39;t know, what have I add there.\r\n\r\nMy project&#39;s sources structure:\r\n\r\n```\r\nsrc\r\n  main\r\n    java\r\n      irimi\r\n        springbootdemo\r\n          SpringBootDemoApplication.java\r\n          SpringBootDemoApplicationController.java\r\n    resources\r\n      static\r\n        index.html\r\n      templates\r\n        test-form.html\r\n        test-page.jsp\r\n      application.properties\r\n```\r\n\r\nI tried to add different prefixes and suffixes into `application.properties`, but nothing works. Just as an example:\r\n\r\n```\r\nspring.mvc.view.prefix=/templates/\r\nspring.mvc.view.suffix=.html\r\n```\r\n\r\nAgain, `index.html` opens perfectly.\r\n\r\nMaybe, it would be good to show here my dependences too:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThat&#39;s an error page:\r\n\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nSat Jan 15 11:49:12 MSK 2022\r\nThere was an unexpected error (type=Not Found, status=404).\r\nNo message available\r\n```\r\n\r\nIf my error is really in `application.properties`, what have I put there?","title":"What do spring.mvc.view.prefix and spring.mvc.view.suffix have to be?","body":"<p>I created a Spring Boot demo app with Maven using Spring Initializr (that's my almost the very first usage of Spring). It works, but for some reason doesn't show any pages besides <code>index.html</code>. If I'm right, that's because of configuration in <code>application.properties</code>, but I just don't know, what have I add there.</p>\n<p>My project's sources structure:</p>\n<pre><code>src\n  main\n    java\n      irimi\n        springbootdemo\n          SpringBootDemoApplication.java\n          SpringBootDemoApplicationController.java\n    resources\n      static\n        index.html\n      templates\n        test-form.html\n        test-page.jsp\n      application.properties\n</code></pre>\n<p>I tried to add different prefixes and suffixes into <code>application.properties</code>, but nothing works. Just as an example:</p>\n<pre><code>spring.mvc.view.prefix=/templates/\nspring.mvc.view.suffix=.html\n</code></pre>\n<p>Again, <code>index.html</code> opens perfectly.</p>\n<p>Maybe, it would be good to show here my dependences too:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>That's an error page:</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nSat Jan 15 11:49:12 MSK 2022\nThere was an unexpected error (type=Not Found, status=404).\nNo message available\n</code></pre>\n<p>If my error is really in <code>application.properties</code>, what have I put there?</p>\n"},{"tags":["java","syntax","import","package"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1427356427,"post_id":29273362,"comment_id":46746307,"body_markdown":"I think it would be much simpler to give different classes, different names. ;) i.e. instead of aliasing the classes, rename them instead.","body":"I think it would be much simpler to give different classes, different names. ;) i.e. instead of aliasing the classes, rename them instead."}],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1427356308,"creation_date":1427356308,"answer_id":29273376,"question_id":29273362,"body_markdown":"There is no way to do this in Java.","title":"Java Package Import Alias","body":"<p>There is no way to do this in Java.</p>\n"},{"tags":[],"owner":{"account_id":2533222,"reputation":4782,"user_id":2201050,"display_name":"folkol"},"down_vote_count":6,"up_vote_count":32,"is_accepted":true,"score":26,"last_activity_date":1642353542,"creation_date":1427356443,"answer_id":29273414,"question_id":29273362,"body_markdown":"No, you can not do &quot;import x as y;&quot; in Java.\r\n\r\nWhat you CAN do is to extend the class, or write a wrapper class for it, and import that one instead.\r\n\r\n    import com.backend.mypackage.a.b.c.d.UserDto;\r\n\r\n    public class ImportAlias {\r\n        static class UserDtoAlias extends com.service.mypackage.a.b.c.d.UserDto {\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            UserDto userBackend = new UserDto();\r\n            UserDtoAlias userService = new UserDtoAlias();\r\n\r\n            mapper(userBackend, userService);\r\n        }\r\n\r\n        private static void mapper(UserDto userBackend, UserDtoAlias userService) {\r\n            // ...\r\n        }\r\n    }\r\n","title":"Java Package Import Alias","body":"<p>No, you can not do &quot;import x as y;&quot; in Java.</p>\n<p>What you CAN do is to extend the class, or write a wrapper class for it, and import that one instead.</p>\n<pre><code>import com.backend.mypackage.a.b.c.d.UserDto;\n\npublic class ImportAlias {\n    static class UserDtoAlias extends com.service.mypackage.a.b.c.d.UserDto {\n    }\n\n    public static void main(String[] args) {\n        UserDto userBackend = new UserDto();\n        UserDtoAlias userService = new UserDtoAlias();\n\n        mapper(userBackend, userService);\n    }\n\n    private static void mapper(UserDto userBackend, UserDtoAlias userService) {\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5341846,"reputation":450,"user_id":4258657,"accept_rate":83,"display_name":"Dirk Rother"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48533,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"closed_date":1442125673,"accepted_answer_id":29273414,"answer_count":2,"score":23,"last_activity_date":1642353542,"creation_date":1427356259,"question_id":29273362,"body_markdown":"Is it possible in Java to import packages and give this package import a specific name?\r\n\r\nI currently have a class, which uses some DTO&#39;s from a backend and a service package. In both packages the DTO&#39;s have the same name. And I think this isn&#39;t quite readable:\r\n\r\n    com.backend.mypackage.a.b.c.d.UserDto userBackend = new com.backend.mypackage.a.b.c.d.UserDto();\r\n    com.service.mypackage.a.b.c.d.UserDto userService = new com.service.mypackage.a.b.c.d.UserDto();\r\n\r\n    mapper(userBackend, userService);\r\n\r\nThis is a small example. The class is actually quite complex and has a lot more code in it. \r\n\r\nDoes Java have something like `import com.backend.mypackage.a.b.c.d.UserDto as userDtoBackend` so i can shorten my source code?","title":"Java Package Import Alias","body":"<p>Is it possible in Java to import packages and give this package import a specific name?</p>\n\n<p>I currently have a class, which uses some DTO's from a backend and a service package. In both packages the DTO's have the same name. And I think this isn't quite readable:</p>\n\n<pre><code>com.backend.mypackage.a.b.c.d.UserDto userBackend = new com.backend.mypackage.a.b.c.d.UserDto();\ncom.service.mypackage.a.b.c.d.UserDto userService = new com.service.mypackage.a.b.c.d.UserDto();\n\nmapper(userBackend, userService);\n</code></pre>\n\n<p>This is a small example. The class is actually quite complex and has a lot more code in it. </p>\n\n<p>Does Java have something like <code>import com.backend.mypackage.a.b.c.d.UserDto as userDtoBackend</code> so i can shorten my source code?</p>\n"},{"tags":["java","regex","string","escaping"],"comments":[{"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"score":0,"creation_date":1432299294,"post_id":30397243,"comment_id":48882228,"body_markdown":"escape the backslash one more time. And don&#39;t forget to add semicolon at the last. `stringA.replaceAll(&quot;\\\\W&quot;,&quot;&quot;);`","body":"escape the backslash one more time. And don&#39;t forget to add semicolon at the last. <code>stringA.replaceAll(&quot;\\\\W&quot;,&quot;&quot;);</code>"},{"owner":{"account_id":1341598,"reputation":4639,"user_id":1283166,"accept_rate":52,"display_name":"Davio"},"score":0,"creation_date":1432299315,"post_id":30397243,"comment_id":48882252,"body_markdown":"Escape the escaper! \\ is not only a Regex escape char, it&#39;s a Java escape char as well!","body":"Escape the escaper! \\ is not only a Regex escape char, it&#39;s a Java escape char as well!"}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1432299515,"creation_date":1432299515,"answer_id":30397360,"question_id":30397243,"body_markdown":"&gt; However, the following code could not even compile in Java \r\n\r\nJava has no idea that the string is going to regex engine. Anything in doublequotes is a string literal to Java compiler, so it tries to interpret `\\W` as a [*Java escape sequence*][1], which does not exist. This trigger a compile-time error.\r\n\r\n&gt; If I use only `\\\\W` rather than `\\W`, the above code turns out to be correct. \r\n\r\nThis is because `\\\\` is a valid escape sequence, which means &quot;a single slash&quot;. When you put two slashes inside a string literal, Java compiler removes one slash, so regex engine sees `\\W`, not `\\\\W`\r\n\r\n&gt; So, what is the differences between `\\W`, `\\\\W`, and when to use brackets like `[^a-zA-Z0-9_]`\r\n\r\nThe third one is a longer version of the second one; the first one does not compile.\r\n\r\n  [1]: https://stackoverflow.com/q/1367322/335858","title":"Differences between \\W, \\\\W, [^a-zA-Z0-9_] in regular expression","body":"<blockquote>\n  <p>However, the following code could not even compile in Java </p>\n</blockquote>\n\n<p>Java has no idea that the string is going to regex engine. Anything in doublequotes is a string literal to Java compiler, so it tries to interpret <code>\\W</code> as a <a href=\"https://stackoverflow.com/q/1367322/335858\"><em>Java escape sequence</em></a>, which does not exist. This trigger a compile-time error.</p>\n\n<blockquote>\n  <p>If I use only <code>\\\\W</code> rather than <code>\\W</code>, the above code turns out to be correct. </p>\n</blockquote>\n\n<p>This is because <code>\\\\</code> is a valid escape sequence, which means \"a single slash\". When you put two slashes inside a string literal, Java compiler removes one slash, so regex engine sees <code>\\W</code>, not <code>\\\\W</code></p>\n\n<blockquote>\n  <p>So, what is the differences between <code>\\W</code>, <code>\\\\W</code>, and when to use brackets like <code>[^a-zA-Z0-9_]</code></p>\n</blockquote>\n\n<p>The third one is a longer version of the second one; the first one does not compile.</p>\n"}],"owner":{"account_id":5355270,"reputation":709,"user_id":4268119,"accept_rate":86,"display_name":"Yao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18642,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30397360,"answer_count":1,"score":3,"last_activity_date":1642353516,"creation_date":1432299181,"question_id":30397243,"body_markdown":"  I am trying to find all characters, which are not letters(upper/lowercase), numbers, and underscore, and remove it.\r\n  \r\n```java\r\nstringA.replaceAll(&quot;[^a-zA-Z0-9_]&quot;,&quot;&quot;)   // works perfectly fine\r\n```\r\n\r\nHowever, the following code could not even compile in Java:\r\n    \r\n```java\r\nstringA.replaceAll(&quot;\\W&quot;,&quot;&quot;);\r\n// or also\r\nstringA.replaceAll(&quot;[\\W]&quot;,&quot;&quot;);\r\n// or also\r\nstringA.replaceAll(&quot;[\\\\W]&quot;,&quot;&quot;);\r\n```\r\n\r\nIf I use only `&quot;\\\\W&quot;` rather than `&quot;\\W&quot;`, the above code turns out to be correct. &lt;br /&gt;\r\nSo, what is the differences between `\\W`, `\\\\W`, and when to use brackets like `[^a-zA-Z0-9_]`","title":"Differences between \\W, \\\\W, [^a-zA-Z0-9_] in regular expression","body":"<p>I am trying to find all characters, which are not letters(upper/lowercase), numbers, and underscore, and remove it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>stringA.replaceAll(&quot;[^a-zA-Z0-9_]&quot;,&quot;&quot;)   // works perfectly fine\n</code></pre>\n<p>However, the following code could not even compile in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stringA.replaceAll(&quot;\\W&quot;,&quot;&quot;);\n// or also\nstringA.replaceAll(&quot;[\\W]&quot;,&quot;&quot;);\n// or also\nstringA.replaceAll(&quot;[\\\\W]&quot;,&quot;&quot;);\n</code></pre>\n<p>If I use only <code>&quot;\\\\W&quot;</code> rather than <code>&quot;\\W&quot;</code>, the above code turns out to be correct. <br />\nSo, what is the differences between <code>\\W</code>, <code>\\\\W</code>, and when to use brackets like <code>[^a-zA-Z0-9_]</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642342438,"post_id":70730841,"comment_id":125040190,"body_markdown":"The variable is _already_ assigned and &quot;stored&quot; before it changes. If you want to store it again somewhere else, use another variable. Please clarify what output you&#39;re expecting","body":"The variable is <i>already</i> assigned and &quot;stored&quot; before it changes. If you want to store it again somewhere else, use another variable. Please clarify what output you&#39;re expecting"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642342607,"post_id":70730841,"comment_id":125040235,"body_markdown":"Also, if I understand your code correctly, the first value of counter will be 5 since you&#39;re multiplying `1 * 5`","body":"Also, if I understand your code correctly, the first value of counter will be 5 since you&#39;re multiplying <code>1 * 5</code>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642342977,"creation_date":1642342977,"answer_id":70730955,"question_id":70730841,"body_markdown":"&gt; saved before counter changes back to 1 \r\n\r\nSure. Put code before it resets that saves it. For example, a list\r\n\r\n```\r\nList&lt;Integer&gt; counters = new ArrayList&lt;&gt;();\r\nfor (int i = input1.length() - 1; i &gt;= 0 ; i--) {\r\n        char charValueOfI = input1.charAt(i);\r\n        String StringValueofI = String.valueOf(charValueOfI);\r\n        int intValueofI = Integer.parseInt(StringValueofI);\r\n        counter = 1;\r\n\r\n        for (int j = intValueofI; j &gt;0 ; j--) {\r\n            counter = counter * j; \r\n        }\r\n        counters.add(counter);\r\n}\r\n```","title":"Storing a temporary value of a constantly changing variable","body":"<blockquote>\n<p>saved before counter changes back to 1</p>\n</blockquote>\n<p>Sure. Put code before it resets that saves it. For example, a list</p>\n<pre><code>List&lt;Integer&gt; counters = new ArrayList&lt;&gt;();\nfor (int i = input1.length() - 1; i &gt;= 0 ; i--) {\n        char charValueOfI = input1.charAt(i);\n        String StringValueofI = String.valueOf(charValueOfI);\n        int intValueofI = Integer.parseInt(StringValueofI);\n        counter = 1;\n\n        for (int j = intValueofI; j &gt;0 ; j--) {\n            counter = counter * j; \n        }\n        counters.add(counter);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19742502,"reputation":30,"user_id":14455658,"display_name":"Likewise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642344720,"creation_date":1642344720,"answer_id":70731189,"question_id":70730841,"body_markdown":"You need to have a sum variable before the for cycles, and in the first for, after the second, have the sum add the counter.","title":"Storing a temporary value of a constantly changing variable","body":"<p>You need to have a sum variable before the for cycles, and in the first for, after the second, have the sum add the counter.</p>\n"}],"owner":{"account_id":23956703,"reputation":3,"user_id":17947477,"display_name":"Valtar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70731189,"answer_count":2,"score":0,"last_activity_date":1642353375,"creation_date":1642342149,"question_id":70730841,"body_markdown":"I would like to know, is it possible to store a temporary value of a variable before it switches to another one?\r\n\r\nFollowing is the code snippet:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int input = Integer.parseInt(scanner.nextLine());\r\n        String input1 = String.valueOf(input);\r\n        int counter = 1;\r\n\r\n        for (int i = input1.length() - 1; i &gt;= 0 ; i--) {\r\n            char charValueOfI = input1.charAt(i);\r\n            String StringValueofI = String.valueOf(charValueOfI);\r\n            int intValueofI = Integer.parseInt(StringValueofI);\r\n            counter = 1;\r\n    \r\n            for (int j = intValueofI; j &gt;0 ; j--) {\r\n                counter = counter * j; // if input = 145, first value saved under counter will be 120, can that value of 120 be saved somewhere, before counter changes back to 1 under the first for loop\r\n\r\n            }\r\n        }\r\n    }","title":"Storing a temporary value of a constantly changing variable","body":"<p>I would like to know, is it possible to store a temporary value of a variable before it switches to another one?</p>\n<p>Following is the code snippet:</p>\n<pre><code>public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n\n        int input = Integer.parseInt(scanner.nextLine());\n        String input1 = String.valueOf(input);\n        int counter = 1;\n\n        for (int i = input1.length() - 1; i &gt;= 0 ; i--) {\n            char charValueOfI = input1.charAt(i);\n            String StringValueofI = String.valueOf(charValueOfI);\n            int intValueofI = Integer.parseInt(StringValueofI);\n            counter = 1;\n    \n            for (int j = intValueofI; j &gt;0 ; j--) {\n                counter = counter * j; // if input = 145, first value saved under counter will be 120, can that value of 120 be saved somewhere, before counter changes back to 1 under the first for loop\n\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","extends","superclass"],"answers":[{"tags":[],"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642353334,"creation_date":1642353334,"answer_id":70732362,"question_id":70732296,"body_markdown":"&gt; I added my own AuthenticationManager to the class\r\n\r\nSo you effectively [shadowed](https://stackoverflow.com/questions/1092099/what-is-variable-shadowing-used-for-in-a-java-class) existing `authenticationManager` instance declared in [AbstractPreAuthenticatedProcessingFilter](https://github.com/spring-projects/spring-security/blob/feff7476693e47a1b28543521dae2bb79e8a1b3e/web/src/main/java/org/springframework/security/web/authentication/preauth/AbstractPreAuthenticatedProcessingFilter.java#L93).\r\n\r\nIf you don&#39;t need to access AuthenticationManager from within your `X509AuthenticationFilter`, just don&#39;t declare it. If you do, you will have to call super setter as you&#39;re already doing. \r\n\r\nMaybe `authenticationManager` should be declared `protected` in `AbstractPreAuthenticatedProcessingFilter`, which would resolve this situation cleanly ...","title":"Why do I have to set AuthenticationManager twice","body":"<blockquote>\n<p>I added my own AuthenticationManager to the class</p>\n</blockquote>\n<p>So you effectively <a href=\"https://stackoverflow.com/questions/1092099/what-is-variable-shadowing-used-for-in-a-java-class\">shadowed</a> existing <code>authenticationManager</code> instance declared in <a href=\"https://github.com/spring-projects/spring-security/blob/feff7476693e47a1b28543521dae2bb79e8a1b3e/web/src/main/java/org/springframework/security/web/authentication/preauth/AbstractPreAuthenticatedProcessingFilter.java#L93\" rel=\"nofollow noreferrer\">AbstractPreAuthenticatedProcessingFilter</a>.</p>\n<p>If you don't need to access AuthenticationManager from within your <code>X509AuthenticationFilter</code>, just don't declare it. If you do, you will have to call super setter as you're already doing.</p>\n<p>Maybe <code>authenticationManager</code> should be declared <code>protected</code> in <code>AbstractPreAuthenticatedProcessingFilter</code>, which would resolve this situation cleanly ...</p>\n"}],"owner":{"account_id":16623950,"reputation":74,"user_id":12013522,"display_name":"Joe D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70732362,"answer_count":1,"score":0,"last_activity_date":1642353334,"creation_date":1642352850,"question_id":70732296,"body_markdown":"In my application I&#39;ve implemented X.509 authentication\r\n\r\nI created the following class named `X509AuthenticationFilter` that extends \r\n[AbstractPreAuthenticatedProcessingFilter][1] provided by spring security by default.\r\n\r\nI added my own AuthenticationManager to the class\r\n\r\n    private AuthenticationManager authenticationManager\r\n\r\nAnd also included the following setter\r\n\r\n    public void setAuthenticationManager(AuthenticationManager authenticationManager)\r\n    {\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\nThe bean is initialized in the spring-security.xml like so:\r\n\r\n\t&lt;beans:bean id=&quot;x509AuthenticationFilter&quot; class=&quot;com.example.sec.x509.X509AuthenticationFilter&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;authenticationManager&quot;/&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\nThe bean named `authenticationManager` does exist and it&#39;s present in the spring context.\r\n\r\nHowever, given such configuration I get the following startup error:\r\n\r\n    An AuthenticationManager must be set\r\n\r\nFor some reason the AuthenticationManager is deliberately set to null in the superclass. Later on `afterPropertiesSet()` gets called and unfortunately throws the exception.\r\n\r\nThe only workaround I came up with is changing the setter in my own class to the following:\r\n\r\n    public void setAuthenticationManager(AuthenticationManager authenticationManager)\r\n    {\r\n        super.setAuthenticationManager(authenticationManager);\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\nIs there a better solution?\r\n\r\n \r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/preauth/AbstractPreAuthenticatedProcessingFilter.java","title":"Why do I have to set AuthenticationManager twice","body":"<p>In my application I've implemented X.509 authentication</p>\n<p>I created the following class named <code>X509AuthenticationFilter</code> that extends\n<a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/preauth/AbstractPreAuthenticatedProcessingFilter.java\" rel=\"nofollow noreferrer\">AbstractPreAuthenticatedProcessingFilter</a> provided by spring security by default.</p>\n<p>I added my own AuthenticationManager to the class</p>\n<pre><code>private AuthenticationManager authenticationManager\n</code></pre>\n<p>And also included the following setter</p>\n<pre><code>public void setAuthenticationManager(AuthenticationManager authenticationManager)\n{\n    this.authenticationManager = authenticationManager;\n}\n</code></pre>\n<p>The bean is initialized in the spring-security.xml like so:</p>\n<pre><code>&lt;beans:bean id=&quot;x509AuthenticationFilter&quot; class=&quot;com.example.sec.x509.X509AuthenticationFilter&quot;&gt;\n    &lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;authenticationManager&quot;/&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n<p>The bean named <code>authenticationManager</code> does exist and it's present in the spring context.</p>\n<p>However, given such configuration I get the following startup error:</p>\n<pre><code>An AuthenticationManager must be set\n</code></pre>\n<p>For some reason the AuthenticationManager is deliberately set to null in the superclass. Later on <code>afterPropertiesSet()</code> gets called and unfortunately throws the exception.</p>\n<p>The only workaround I came up with is changing the setter in my own class to the following:</p>\n<pre><code>public void setAuthenticationManager(AuthenticationManager authenticationManager)\n{\n    super.setAuthenticationManager(authenticationManager);\n    this.authenticationManager = authenticationManager;\n}\n</code></pre>\n<p>Is there a better solution?</p>\n"},{"tags":["java","server","client"],"comments":[{"owner":{"account_id":22065172,"reputation":93,"user_id":16327180,"display_name":"Angela Lopez"},"score":0,"creation_date":1642349945,"post_id":70731718,"comment_id":125042020,"body_markdown":"In the error message it says two lines of your connectToServer method seem to be responsible for the issue : line 20 and line 39. Have you tried examining the code to find the cause of these errors ?","body":"In the error message it says two lines of your connectToServer method seem to be responsible for the issue : line 20 and line 39. Have you tried examining the code to find the cause of these errors ?"},{"owner":{"account_id":17043838,"reputation":3,"user_id":12331122,"display_name":"Barış Seyitoğlu"},"score":0,"creation_date":1642350779,"post_id":70731718,"comment_id":125042210,"body_markdown":"Тhe error occurs in all projects I run. He is not the only one with this code","body":"Тhe error occurs in all projects I run. He is not the only one with this code"}],"owner":{"account_id":17043838,"reputation":3,"user_id":12331122,"display_name":"Barış Seyitoğlu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642353277,"answer_count":0,"score":0,"last_activity_date":1642353268,"creation_date":1642348542,"question_id":70731718,"body_markdown":"Eclipse for Java has stopped working. All the projects I have do not running. I think I have a problem with the server. I&#39;m asking for help.\r\n\r\n    public class Test \r\n    {\r\n        private InetAddress host;\r\n        private static final int port = 2048;\r\n        \r\n        private void connectToServer() \r\n        {\r\n            Socket link=null;\r\n            Scanner input=null;\r\n            Scanner userEntry=null; \r\n            try {\r\n                link=new Socket(host , port);\r\n                input = new Scanner(link.getInputStream());\r\n                PrintWriter output = new PrintWriter(link.getOutputStream(),true);\r\n                userEntry=new Scanner(System.in);\r\n                String message,response;\r\n                do {\r\n                    System.out.println(&quot;Enter message: &quot;);\r\n                    message=userEntry.nextLine();\r\n                    output.println(message);\r\n                    response=input.nextLine();\r\n                    System.out.println(&quot;Server response: &quot;+ response);\r\n                }\r\n                while (!message.equals(&quot;Close&quot;));\r\n            } \r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            finally {\r\n                input.close();\r\n                userEntry.close();\r\n            }   }\r\n        public static void main(String[] args) throws IOException {\r\n            Test client = new Test();\r\n            client.host=InetAddress.getLocalHost();  \r\n            client.connectToServer();\r\n        }   }\r\n\r\n\r\nThe program shows this error:\r\n\r\n    java.net.ConnectException: Connection refused: connect\r\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\r\n    at java.base/sun.nio.ch.Net.connect(Net.java:493)\r\n    at java.base/sun.nio.ch.Net.connect(Net.java:482)\r\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:339)\r\n    at java.base/java.net.Socket.connect(Socket.java:603)\r\n    at java.base/java.net.Socket.connect(Socket.java:552)\r\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:475)\r\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:283)\r\n    at SerializableDemo.Test.connectToServer(Test.java:20)\r\n    at SerializableDemo.Test.main(Test.java:49)\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    at SerializableDemo.Test.connectToServer(Test.java:39)\r\n    at SerializableDemo.Test.main(Test.java:49)","title":"java.net.ConnectException: Connection refused: connect at","body":"<p>Eclipse for Java has stopped working. All the projects I have do not running. I think I have a problem with the server. I'm asking for help.</p>\n<pre><code>public class Test \n{\n    private InetAddress host;\n    private static final int port = 2048;\n    \n    private void connectToServer() \n    {\n        Socket link=null;\n        Scanner input=null;\n        Scanner userEntry=null; \n        try {\n            link=new Socket(host , port);\n            input = new Scanner(link.getInputStream());\n            PrintWriter output = new PrintWriter(link.getOutputStream(),true);\n            userEntry=new Scanner(System.in);\n            String message,response;\n            do {\n                System.out.println(&quot;Enter message: &quot;);\n                message=userEntry.nextLine();\n                output.println(message);\n                response=input.nextLine();\n                System.out.println(&quot;Server response: &quot;+ response);\n            }\n            while (!message.equals(&quot;Close&quot;));\n        } \n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        finally {\n            input.close();\n            userEntry.close();\n        }   }\n    public static void main(String[] args) throws IOException {\n        Test client = new Test();\n        client.host=InetAddress.getLocalHost();  \n        client.connectToServer();\n    }   }\n</code></pre>\n<p>The program shows this error:</p>\n<pre><code>java.net.ConnectException: Connection refused: connect\nat java.base/sun.nio.ch.Net.connect0(Native Method)\nat java.base/sun.nio.ch.Net.connect(Net.java:493)\nat java.base/sun.nio.ch.Net.connect(Net.java:482)\nat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:339)\nat java.base/java.net.Socket.connect(Socket.java:603)\nat java.base/java.net.Socket.connect(Socket.java:552)\nat java.base/java.net.Socket.&lt;init&gt;(Socket.java:475)\nat java.base/java.net.Socket.&lt;init&gt;(Socket.java:283)\nat SerializableDemo.Test.connectToServer(Test.java:20)\nat SerializableDemo.Test.main(Test.java:49)\nException in thread &quot;main&quot; java.lang.NullPointerException\nat SerializableDemo.Test.connectToServer(Test.java:39)\nat SerializableDemo.Test.main(Test.java:49)\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1642352541,"post_id":70732018,"comment_id":125042761,"body_markdown":"Hi. Could reduce your code to some base case where it&#39;s not working? I feel I can help you here, but there&#39;s so much code that I&#39;m not sure what &quot;part&quot; is not working as expected.","body":"Hi. Could reduce your code to some base case where it&#39;s not working? I feel I can help you here, but there&#39;s so much code that I&#39;m not sure what &quot;part&quot; is not working as expected."},{"owner":{"account_id":23499231,"reputation":51,"user_id":17549300,"display_name":"Sankeerthan Kasilingam"},"score":0,"creation_date":1642352921,"post_id":70732018,"comment_id":125042864,"body_markdown":"Thanks. I have edited the question. Pls let me know if anything is not clear. when(sourceYamlPipelineDataSourceConfiguration.getType()).thenReturn(&quot;JDBC&quot;); This line doesn&#39;t work. When i run test, I always get NULL for sourceYamlPipelineDataSourceConfiguration.getType().","body":"Thanks. I have edited the question. Pls let me know if anything is not clear. when(sourceYamlPipelineDataSourceConfiguration.getType()).th&zwnj;&#8203;enReturn(&quot;JDBC&quot;); This line doesn&#39;t work. When i run test, I always get NULL for sourceYamlPipelineDataSourceConfiguration.getType()."}],"owner":{"account_id":23499231,"reputation":51,"user_id":17549300,"display_name":"Sankeerthan Kasilingam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642353103,"creation_date":1642350881,"question_id":70732018,"body_markdown":"I&#39;m writing a unit test. I have to stub instance&#39;s methods and static methods. For the static methods, I use mockStatic of Mockito. After I created mockStatic for Classes, other stubs don&#39;t work. The value I returned are being null. Could you please help me to resolve the issue? \r\n\r\n    public void assertGetConnection() throws SQLException {\r\n        try (MockedStatic&lt;PipelineDataSourceConfigurationFactory&gt; mockedStatic = mockStatic(PipelineDataSourceConfigurationFactory.class, invocation -&gt; {\r\n            Method method = invocation.getMethod();\r\n            if (&quot;newInstance&quot;.equals(method.getName())) {\r\n                return invocation.getMock();\r\n            } else {\r\n                return invocation.callRealMethod();\r\n            }\r\n        })) {\r\n                     when(sourceYamlPipelineDataSourceConfiguration.getType()).thenReturn(&quot;JDBC&quot;); // NOT WORKING ; ALWAYS It&#39;s NULL\r\n    \r\n            \r\n            mockedStatic.when(() -&gt; PipelineDataSourceConfigurationFactory.newInstance(anyString(), eq(&quot;source&quot;))).thenReturn(sourceScalingDataSourceConfig);\r\n\r\n            MySQLDataSourcePreparer mySQLDataSourcePreparer = new MySQLDataSourcePreparer();\r\n            mySQLDataSourcePreparer.prepareTargetTables(prepareTargetTablesParameter);\r\n            verify(sourceDataSource).getConnection();\r\n            verify(targetDataSource).getConnection();\r\n        }\r\n       \r\n    }","title":"Stubbing doesn&#39;t work inside mockstatic block","body":"<p>I'm writing a unit test. I have to stub instance's methods and static methods. For the static methods, I use mockStatic of Mockito. After I created mockStatic for Classes, other stubs don't work. The value I returned are being null. Could you please help me to resolve the issue?</p>\n<pre><code>public void assertGetConnection() throws SQLException {\n    try (MockedStatic&lt;PipelineDataSourceConfigurationFactory&gt; mockedStatic = mockStatic(PipelineDataSourceConfigurationFactory.class, invocation -&gt; {\n        Method method = invocation.getMethod();\n        if (&quot;newInstance&quot;.equals(method.getName())) {\n            return invocation.getMock();\n        } else {\n            return invocation.callRealMethod();\n        }\n    })) {\n                 when(sourceYamlPipelineDataSourceConfiguration.getType()).thenReturn(&quot;JDBC&quot;); // NOT WORKING ; ALWAYS It's NULL\n\n        \n        mockedStatic.when(() -&gt; PipelineDataSourceConfigurationFactory.newInstance(anyString(), eq(&quot;source&quot;))).thenReturn(sourceScalingDataSourceConfig);\n\n        MySQLDataSourcePreparer mySQLDataSourcePreparer = new MySQLDataSourcePreparer();\n        mySQLDataSourcePreparer.prepareTargetTables(prepareTargetTablesParameter);\n        verify(sourceDataSource).getConnection();\n        verify(targetDataSource).getConnection();\n    }\n   \n}\n</code></pre>\n"},{"tags":["java","jar","discord","noclassdeffounderror","discord-jda"],"comments":[{"owner":{"account_id":16432809,"reputation":320,"user_id":11871203,"display_name":"Redi"},"score":0,"creation_date":1642237492,"post_id":70717490,"comment_id":125021302,"body_markdown":"Can you show us your build configuration? (Maven or Gradle)","body":"Can you show us your build configuration? (Maven or Gradle)"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1642254347,"post_id":70717490,"comment_id":125024496,"body_markdown":"https://github.com/DV8FromTheWorld/JDA/wiki/2%29-Setup","body":"<a href=\"https://github.com/DV8FromTheWorld/JDA/wiki/2%29-Setup\" rel=\"nofollow noreferrer\">github.com/DV8FromTheWorld/JDA/wiki/2%29-Setup</a>"},{"owner":{"account_id":22776477,"reputation":91,"user_id":16933054,"display_name":"ShinyDuck21"},"score":0,"creation_date":1642369223,"post_id":70717490,"comment_id":125046747,"body_markdown":"Redi I added my build.gradle to the original post","body":"Redi I added my build.gradle to the original post"}],"owner":{"account_id":22776477,"reputation":91,"user_id":16933054,"display_name":"ShinyDuck21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642353102,"creation_date":1642201580,"question_id":70717490,"body_markdown":"I have built my jda discord to a jar file and it raises the class not found error for the gateway intents class saying that its not found or this error specifically\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/api/requests/GatewayIntent\r\n        at banos.bot.Main.main(Main.java:14)\r\nCaused by: java.lang.ClassNotFoundException: net.dv8tion.jda.api.requests.GatewayIntent\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        ... 1 more\r\n```\r\n\r\nEdit: Here is my build.gradle if that helps.\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &quot;7.1.0&quot;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;banos.bot&#39;\r\nversion &#39;1.1.0-SNAPSHOT&#39;\r\n\r\next {\r\n    javaMainClass = &quot;banos.bot.Main&quot;\r\n}\r\n\r\napplication {\r\n    mainClass = &#39;banos.bot.Main&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        name &#39;m2-dv8tion&#39;\r\n        url &#39;https://m2.dv8tion.net/releases&#39;\r\n    }\r\n    maven {\r\n        name &#39;duncte123-jfrog&#39;\r\n        url &#39;https://duncte123.jfrog.io/artifactory/maven&#39;\r\n    }}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    implementation group: &#39;net.dv8tion&#39;, name: &#39;JDA&#39;, version: &#39;4.3.0_324&#39;\r\n    implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.2.3&#39;\r\n    implementation group: &#39;me.duncte123&#39;, name: &#39;botCommons&#39;, version: &#39;2.3.9&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;banos.bot.Main&#39;, &#39;Class-Path&#39;: &#39;./build/libs/Banos_Bot-1.1.0-SNAPSHOT.jar&#39;\r\n    }\r\n}\r\n```","title":"JDA cant find the gateway intents class","body":"<p>I have built my jda discord to a jar file and it raises the class not found error for the gateway intents class saying that its not found or this error specifically</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/api/requests/GatewayIntent\n        at banos.bot.Main.main(Main.java:14)\nCaused by: java.lang.ClassNotFoundException: net.dv8tion.jda.api.requests.GatewayIntent\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 1 more\n</code></pre>\n<p>Edit: Here is my build.gradle if that helps.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'com.github.johnrengelman.shadow' version &quot;7.1.0&quot;\n    id 'application'\n}\n\ngroup 'banos.bot'\nversion '1.1.0-SNAPSHOT'\n\next {\n    javaMainClass = &quot;banos.bot.Main&quot;\n}\n\napplication {\n    mainClass = 'banos.bot.Main'\n}\n\nrepositories {\n    mavenCentral()\n    maven {\n        name 'm2-dv8tion'\n        url 'https://m2.dv8tion.net/releases'\n    }\n    maven {\n        name 'duncte123-jfrog'\n        url 'https://duncte123.jfrog.io/artifactory/maven'\n    }}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n    implementation group: 'net.dv8tion', name: 'JDA', version: '4.3.0_324'\n    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'\n    implementation group: 'me.duncte123', name: 'botCommons', version: '2.3.9'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'banos.bot.Main', 'Class-Path': './build/libs/Banos_Bot-1.1.0-SNAPSHOT.jar'\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","scheduler"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1642330722,"post_id":70729389,"comment_id":125037711,"body_markdown":"Use Spring retry, sleep for 15 minutes, and then try again.","body":"Use Spring retry, sleep for 15 minutes, and then try again."}],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642352752,"creation_date":1642352752,"answer_id":70732284,"question_id":70729389,"body_markdown":"First of all, you should activate `Spring Retry` on your `App` class.\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    @EnableRetry\r\n    public class App {\r\n        // something\r\n    }\r\n\r\nThen you need to add `@Retryable` to your method that you use as `@Scheduled`.\r\n\r\n    @Scheduled(cron=&quot;0 9 19 * * *&quot;, zone = &quot;Asia/Seoul&quot;)\r\n    // Add this line\r\n    @Retryable(maxAttempts = 3, backoff = @Backoff(delay = 1000), value={ApiCallException.class})\r\n    public void callAPi() throws InterruptedException {\r\n    \r\n        swrList = new ArrayList&lt;&gt;();\r\n        List&lt;GeoInfo&gt; giList = gs.getGeoXY();\r\n        \r\n        for(GeoInfo gi : giList) {\r\n            \r\n            ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;1&quot;,gi.getX(),gi.getY());\r\n            swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\r\n            swr.setNx(gi.getX()); //x좌표값 저장\r\n            swr.setNy(gi.getY()); //y좌표값 저장\r\n            \r\n            swrList.add(swr); //list에 swr 추가\r\n        }\r\n        \r\n        for(GeoInfo gi : giList) {\r\n            \r\n            ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;2&quot;,gi.getX(),gi.getY());\r\n            swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\r\n            swr.setNx(gi.getX()); //x좌표값 저장\r\n            swr.setNy(gi.getY()); //y좌표값 저장\r\n            \r\n            swrList.add(swr); //list에 swr 추가\r\n        }\r\n        \r\n        //위 객체를 가지고 이제 API를 호출할수 있게 Service에게 전해줘야 함\r\n        sws.setSwrList(swrList);\r\n        \r\n        temperList = sws.callSW(); // API 통신 Service 호출\r\n        \r\n        \r\n        //Confirming API call failure\r\n    \r\n        if(temperList.isEmpty()) { //온도 리스트가 비어있다면 진입\r\n            // Add this line\r\n            throw new ApiCallException(&quot;API Connection Fail&quot;)\r\n        }else {\r\n            logger.info(&quot;-------------------&quot;);\r\n            \r\n            logger.info(&quot;API ConnectionSuccess&quot;);\r\n            \r\n            logger.info(&quot;-------------------&quot;);\r\n            \r\n            //List에 담긴 온도 DB에 저장\r\n            for(int i = 0;i&lt;temperList.size();i++) {\r\n                Temperature temp = temperList.get(i);\r\n                ts.saveTemp(temp);\r\n            }\r\n            \r\n            logger.info(&quot;DB Store Success&quot;);\r\n        }\r\n    }\r\n\r\nHere is to set the `backoff` parameter with `@Retryable` annotation to set the next runtime you want. In the `Spring Retry` documentation related to the `BackOffPolicies`, a definition is made as follows.\r\n\r\n&gt; When retrying after a transient failure, it often helps to wait a bit before trying again, because usually the failure is caused by some problem that can only be resolved by waiting. If a RetryCallback fails, the RetryTemplate can pause execution according to the BackoffPolicy.\r\n\r\nYou can find detailed information about `Spring Retry` [here][1].\r\n\r\nWhile my answer doesn&#39;t provide for dynamically changing cron statements, I hope it will solve your case.\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html","title":"How can I change @Scheduler cron expression dynamically in spring boot?","body":"<p>First of all, you should activate <code>Spring Retry</code> on your <code>App</code> class.</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\n@EnableRetry\npublic class App {\n    // something\n}\n</code></pre>\n<p>Then you need to add <code>@Retryable</code> to your method that you use as <code>@Scheduled</code>.</p>\n<pre><code>@Scheduled(cron=&quot;0 9 19 * * *&quot;, zone = &quot;Asia/Seoul&quot;)\n// Add this line\n@Retryable(maxAttempts = 3, backoff = @Backoff(delay = 1000), value={ApiCallException.class})\npublic void callAPi() throws InterruptedException {\n\n    swrList = new ArrayList&lt;&gt;();\n    List&lt;GeoInfo&gt; giList = gs.getGeoXY();\n    \n    for(GeoInfo gi : giList) {\n        \n        ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;1&quot;,gi.getX(),gi.getY());\n        swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\n        swr.setNx(gi.getX()); //x좌표값 저장\n        swr.setNy(gi.getY()); //y좌표값 저장\n        \n        swrList.add(swr); //list에 swr 추가\n    }\n    \n    for(GeoInfo gi : giList) {\n        \n        ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;2&quot;,gi.getX(),gi.getY());\n        swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\n        swr.setNx(gi.getX()); //x좌표값 저장\n        swr.setNy(gi.getY()); //y좌표값 저장\n        \n        swrList.add(swr); //list에 swr 추가\n    }\n    \n    //위 객체를 가지고 이제 API를 호출할수 있게 Service에게 전해줘야 함\n    sws.setSwrList(swrList);\n    \n    temperList = sws.callSW(); // API 통신 Service 호출\n    \n    \n    //Confirming API call failure\n\n    if(temperList.isEmpty()) { //온도 리스트가 비어있다면 진입\n        // Add this line\n        throw new ApiCallException(&quot;API Connection Fail&quot;)\n    }else {\n        logger.info(&quot;-------------------&quot;);\n        \n        logger.info(&quot;API ConnectionSuccess&quot;);\n        \n        logger.info(&quot;-------------------&quot;);\n        \n        //List에 담긴 온도 DB에 저장\n        for(int i = 0;i&lt;temperList.size();i++) {\n            Temperature temp = temperList.get(i);\n            ts.saveTemp(temp);\n        }\n        \n        logger.info(&quot;DB Store Success&quot;);\n    }\n}\n</code></pre>\n<p>Here is to set the <code>backoff</code> parameter with <code>@Retryable</code> annotation to set the next runtime you want. In the <code>Spring Retry</code> documentation related to the <code>BackOffPolicies</code>, a definition is made as follows.</p>\n<blockquote>\n<p>When retrying after a transient failure, it often helps to wait a bit before trying again, because usually the failure is caused by some problem that can only be resolved by waiting. If a RetryCallback fails, the RetryTemplate can pause execution according to the BackoffPolicy.</p>\n</blockquote>\n<p>You can find detailed information about <code>Spring Retry</code> <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>While my answer doesn't provide for dynamically changing cron statements, I hope it will solve your case.</p>\n"}],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732284,"answer_count":1,"score":0,"last_activity_date":1642352752,"creation_date":1642330556,"question_id":70729389,"body_markdown":"I am trying to call an API in specific time.\r\nBut sometimes api call can be failed so I made an logic to check when api call has failed.\r\n\r\nAfter confirming the api call failure, I would like to change the @Schedulercron expression from the current cron expression to 15 minutes later.\r\n\r\nHow can I change cron expression dynamically??\r\n\r\nBelow is my API call code.\r\n\r\n\t@Scheduled(cron=&quot;0 9 19 * * *&quot;, zone = &quot;Asia/Seoul&quot;)\r\n\tpublic void callAPi() throws InterruptedException {\r\n\r\n        swrList = new ArrayList&lt;&gt;();\r\n        List&lt;GeoInfo&gt; giList = gs.getGeoXY();\r\n        \r\n        for(GeoInfo gi : giList) {\r\n        \t\r\n        \tShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;1&quot;,gi.getX(),gi.getY());\r\n        \tswr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\r\n        \tswr.setNx(gi.getX()); //x좌표값 저장\r\n        \tswr.setNy(gi.getY()); //y좌표값 저장\r\n        \t\r\n        \tswrList.add(swr); //list에 swr 추가\r\n        }\r\n        \r\n        for(GeoInfo gi : giList) {\r\n        \t\r\n        \tShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;2&quot;,gi.getX(),gi.getY());\r\n        \tswr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\r\n        \tswr.setNx(gi.getX()); //x좌표값 저장\r\n        \tswr.setNy(gi.getY()); //y좌표값 저장\r\n        \t\r\n        \tswrList.add(swr); //list에 swr 추가\r\n        }\r\n        \r\n        //위 객체를 가지고 이제 API를 호출할수 있게 Service에게 전해줘야 함\r\n        sws.setSwrList(swrList);\r\n        \r\n        temperList = sws.callSW(); // API 통신 Service 호출\r\n        \r\n        \r\n        //Confirming API call failure\r\n\r\n        if(temperList.isEmpty()) { //온도 리스트가 비어있다면 진입\r\n        \tlogger.warn(&quot;TemperList is empty&quot;);\r\n        \t//이제 여기서 메일을 보내주는 서비스를 만들어서 메일 전송을 해줘야 함\r\n        \tms.sendErrorMail();\r\n            logger.info(&quot;-------------------&quot;);\r\n            \r\n            logger.info(&quot;API Connection Fail&quot;);\r\n        }else {\r\n            logger.info(&quot;-------------------&quot;);\r\n            \r\n            logger.info(&quot;API ConnectionSuccess&quot;);\r\n            \r\n            logger.info(&quot;-------------------&quot;);\r\n            \r\n            //List에 담긴 온도 DB에 저장\r\n            for(int i = 0;i&lt;temperList.size();i++) {\r\n            \tTemperature temp = temperList.get(i);\r\n            \tts.saveTemp(temp);\r\n            }\r\n            \r\n            logger.info(&quot;DB Store Success&quot;);\r\n        }\r\n\t}\r\n\r\n","title":"How can I change @Scheduler cron expression dynamically in spring boot?","body":"<p>I am trying to call an API in specific time.\nBut sometimes api call can be failed so I made an logic to check when api call has failed.</p>\n<p>After confirming the api call failure, I would like to change the @Schedulercron expression from the current cron expression to 15 minutes later.</p>\n<p>How can I change cron expression dynamically??</p>\n<p>Below is my API call code.</p>\n<pre><code>@Scheduled(cron=&quot;0 9 19 * * *&quot;, zone = &quot;Asia/Seoul&quot;)\npublic void callAPi() throws InterruptedException {\n\n    swrList = new ArrayList&lt;&gt;();\n    List&lt;GeoInfo&gt; giList = gs.getGeoXY();\n    \n    for(GeoInfo gi : giList) {\n        \n        ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;1&quot;,gi.getX(),gi.getY());\n        swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\n        swr.setNx(gi.getX()); //x좌표값 저장\n        swr.setNy(gi.getY()); //y좌표값 저장\n        \n        swrList.add(swr); //list에 swr 추가\n    }\n    \n    for(GeoInfo gi : giList) {\n        \n        ShortWeatherReq swr = new ShortWeatherReq(APK.getApiKey(),&quot;2&quot;,gi.getX(),gi.getY());\n        swr.setBaseDate(); //현재 날짜로 baseDate를 설정하는 메소드를 호출\n        swr.setNx(gi.getX()); //x좌표값 저장\n        swr.setNy(gi.getY()); //y좌표값 저장\n        \n        swrList.add(swr); //list에 swr 추가\n    }\n    \n    //위 객체를 가지고 이제 API를 호출할수 있게 Service에게 전해줘야 함\n    sws.setSwrList(swrList);\n    \n    temperList = sws.callSW(); // API 통신 Service 호출\n    \n    \n    //Confirming API call failure\n\n    if(temperList.isEmpty()) { //온도 리스트가 비어있다면 진입\n        logger.warn(&quot;TemperList is empty&quot;);\n        //이제 여기서 메일을 보내주는 서비스를 만들어서 메일 전송을 해줘야 함\n        ms.sendErrorMail();\n        logger.info(&quot;-------------------&quot;);\n        \n        logger.info(&quot;API Connection Fail&quot;);\n    }else {\n        logger.info(&quot;-------------------&quot;);\n        \n        logger.info(&quot;API ConnectionSuccess&quot;);\n        \n        logger.info(&quot;-------------------&quot;);\n        \n        //List에 담긴 온도 DB에 저장\n        for(int i = 0;i&lt;temperList.size();i++) {\n            Temperature temp = temperList.get(i);\n            ts.saveTemp(temp);\n        }\n        \n        logger.info(&quot;DB Store Success&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642351076,"creation_date":1642351076,"answer_id":70732041,"question_id":70731916,"body_markdown":"If you would like to determine whether any rows were updated, the `updateMobileVerified` method can be defined to return `int` instead of `void` to indicate the number of rows updated","title":"Update by JPA native query","body":"<p>If you would like to determine whether any rows were updated, the <code>updateMobileVerified</code> method can be defined to return <code>int</code> instead of <code>void</code> to indicate the number of rows updated</p>\n"},{"tags":[],"owner":{"account_id":23930232,"reputation":118,"user_id":17924830,"display_name":"Ali Arabat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642352669,"creation_date":1642352669,"answer_id":70732274,"question_id":70731916,"body_markdown":"It seems that you are updating an unknown entity in the database. I highly recommend looking for a `tbl_user` entity by a unique id, like user_id or something like that. If the user doesn&#39;t exist, you either throw an exception or return false. In the case the given tbl_user was found, you basically update your desired attributes. This way, you force a strong control over updating users&#39; data. I hope this might clarify your vision.","title":"Update by JPA native query","body":"<p>It seems that you are updating an unknown entity in the database. I highly recommend looking for a <code>tbl_user</code> entity by a unique id, like user_id or something like that. If the user doesn't exist, you either throw an exception or return false. In the case the given tbl_user was found, you basically update your desired attributes. This way, you force a strong control over updating users' data. I hope this might clarify your vision.</p>\n"}],"owner":{"account_id":11503332,"reputation":741,"user_id":8430441,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732041,"answer_count":2,"score":0,"last_activity_date":1642352669,"creation_date":1642350142,"question_id":70731916,"body_markdown":"I am using spring boot repository with native query. While I am trying to update few fields by query and supply wrong values it is not throwing any exception. \r\nhere is my code,\r\n\r\n    @Modifying(clearAutomatically = true)\r\n    @Query(value = &quot;update tbl_user set is_phone_Verified=true, mobile_verification_otp=&#39;XXX&#39;, updated_At=:updatedAt where &quot; +\r\n            &quot;phone_number=:registeredMobile and &quot; +\r\n            &quot;mobile_verification_otp=:phoneVerificationOtp&quot;, nativeQuery = true)\r\n    void updateMobileVerified(@Param(&quot;registeredMobile&quot;) String registeredMobile,\r\n                             @Param(&quot;phoneVerificationOtp&quot;) String phoneVerificationOtp,\r\n                             @Param(&quot;updatedAt&quot;) Date updatedAt);\r\n\r\nNow, the issue is if I supply even wrong otp value, it is not throwing any exception. From service I am calling this method. and if there is no exception then I am returning true. Please find the service method.\r\n\r\n    @Override\r\n    public Boolean mobileVerification(String registeredMobile, String phoneVerificationOtp) {\r\n        try{\r\n            Date date = new Date();\r\n            userRepository.updateMobileVerified(registeredMobile,phoneVerificationOtp, date);\r\n            return true;\r\n        } catch(Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nCan someone please suggest me some way how can I determine if the update is successful.\r\n\r\nThanks. ","title":"Update by JPA native query","body":"<p>I am using spring boot repository with native query. While I am trying to update few fields by query and supply wrong values it is not throwing any exception.\nhere is my code,</p>\n<pre><code>@Modifying(clearAutomatically = true)\n@Query(value = &quot;update tbl_user set is_phone_Verified=true, mobile_verification_otp='XXX', updated_At=:updatedAt where &quot; +\n        &quot;phone_number=:registeredMobile and &quot; +\n        &quot;mobile_verification_otp=:phoneVerificationOtp&quot;, nativeQuery = true)\nvoid updateMobileVerified(@Param(&quot;registeredMobile&quot;) String registeredMobile,\n                         @Param(&quot;phoneVerificationOtp&quot;) String phoneVerificationOtp,\n                         @Param(&quot;updatedAt&quot;) Date updatedAt);\n</code></pre>\n<p>Now, the issue is if I supply even wrong otp value, it is not throwing any exception. From service I am calling this method. and if there is no exception then I am returning true. Please find the service method.</p>\n<pre><code>@Override\npublic Boolean mobileVerification(String registeredMobile, String phoneVerificationOtp) {\n    try{\n        Date date = new Date();\n        userRepository.updateMobileVerified(registeredMobile,phoneVerificationOtp, date);\n        return true;\n    } catch(Exception e) {\n        return false;\n    }\n}\n</code></pre>\n<p>Can someone please suggest me some way how can I determine if the update is successful.</p>\n<p>Thanks.</p>\n"},{"tags":["java","tomcat","memory-leaks","garbage-collection","out-of-memory"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1642309326,"post_id":70727397,"comment_id":125034662,"body_markdown":"Update your question with which JRE you are using.","body":"Update your question with which JRE you are using."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642310963,"post_id":70727397,"comment_id":125034806,"body_markdown":"edited, indicated the versions of java and tomcat","body":"edited, indicated the versions of java and tomcat"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1642312420,"post_id":70727397,"comment_id":125034934,"body_markdown":"maybe you have some memory leak - are you using some InputStream or such that you don&#39;t close?","body":"maybe you have some memory leak - are you using some InputStream or such that you don&#39;t close?"},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642313533,"post_id":70727397,"comment_id":125035068,"body_markdown":"J Asgarov, It really looks like a leak, only the server has 20 old services with tens of thousands of lines of code. But even in this case, with classic leaks, after a piecewise restart of each service, there should be a release of memory, but this happens only after restarting Tomcat or when starting manual cleaning in visualVM. I read somewhere about a leak in ClassLoader. Maybe someone heard about it, similar to this case?","body":"J Asgarov, It really looks like a leak, only the server has 20 old services with tens of thousands of lines of code. But even in this case, with classic leaks, after a piecewise restart of each service, there should be a release of memory, but this happens only after restarting Tomcat or when starting manual cleaning in visualVM. I read somewhere about a leak in ClassLoader. Maybe someone heard about it, similar to this case?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1642315373,"post_id":70727397,"comment_id":125035282,"body_markdown":"Yes, classloader leaks are a thing.  But the solution is the same.  Find the leak, fix the leak.","body":"Yes, classloader leaks are a thing.  But the solution is the same.  Find the leak, fix the leak."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1642315982,"post_id":70727397,"comment_id":125035349,"body_markdown":"Try to configure the garbage collector to be more aggressive, or run another JRE. The default gc settings  java 8 is delaying collection quite much, and even when out of memory does not really reclaim everything it could.","body":"Try to configure the garbage collector to be more aggressive, or run another JRE. The default gc settings  java 8 is delaying collection quite much, and even when out of memory does not really reclaim everything it could."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642316175,"post_id":70727397,"comment_id":125035371,"body_markdown":"Stephen C\nif this is a leak in the program code, then why is memory freed up when manually assembling into a visualvm?","body":"Stephen C if this is a leak in the program code, then why is memory freed up when manually assembling into a visualvm?"},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642316247,"post_id":70727397,"comment_id":125035383,"body_markdown":"Just another Java programmer, Yes, I&#39;m just trying to set up the GC, thanks!","body":"Just another Java programmer, Yes, I&#39;m just trying to set up the GC, thanks!"},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642319226,"post_id":70727397,"comment_id":125035750,"body_markdown":"How can I find a leak if the dump does not show the chunk of memory occupied by the uncollected garbage?","body":"How can I find a leak if the dump does not show the chunk of memory occupied by the uncollected garbage?"},{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":1,"creation_date":1642329673,"post_id":70727397,"comment_id":125037504,"body_markdown":"Please complete the question with: **1**all memory related JVM flags (You can get the complete list from VisualVM, Overview Tab or Jconsole VM Summary tab). **2** Complete OOO Exception error message, as there are many root causes for them. Each one provides different log output **3** Some logs from an Old and Young Collection in order to see phases and time spended. Enable them using `-XX:+PrintGCDetails`. Specially relevant are the ones before the OOO. **4** Enable this Flag `-XX:+HeapDumpOnOutOfMemoryError` in order to get a Heap Dump just before OOO so you can inspect it with MAT later","body":"Please complete the question with: <b>1</b>all memory related JVM flags (You can get the complete list from VisualVM, Overview Tab or Jconsole VM Summary tab). <b>2</b> Complete OOO Exception error message, as there are many root causes for them. Each one provides different log output <b>3</b> Some logs from an Old and Young Collection in order to see phases and time spended. Enable them using <code>-XX:+PrintGCDetails</code>. Specially relevant are the ones before the OOO. <b>4</b> Enable this Flag <code>-XX:+HeapDumpOnOutOfMemoryError</code> in order to get a Heap Dump just before OOO so you can inspect it with MAT later"},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642352439,"post_id":70727397,"comment_id":125042734,"body_markdown":"@usuario\nThanks for answering\nWhen I try to upload a dump to a profiler (MAT and others), I get a message:\n Removed 15 875 439 unreachable objects using 1 700 938 414 bytes .\n That is how much memory is occupied by garbage that cannot be cleaned.","body":"@usuario Thanks for answering When I try to upload a dump to a profiler (MAT and others), I get a message:  Removed 15 875 439 unreachable objects using 1 700 938 414 bytes .  That is how much memory is occupied by garbage that cannot be cleaned."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642352527,"post_id":70727397,"comment_id":125042754,"body_markdown":"And I don’t understand until the end of the moment why the standard garbage collection does not occur (memory is released only after restarting the tomcat), and when you press the button in the profiler - garbage collect - everything happens normally?","body":"And I don’t understand until the end of the moment why the standard garbage collection does not occur (memory is released only after restarting the tomcat), and when you press the button in the profiler - garbage collect - everything happens normally?"},{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":1,"creation_date":1642352776,"post_id":70727397,"comment_id":125042824,"body_markdown":"@Thomazzz About `Removed 15 875 439 unreachable objects using 1 700 938 414 bytes` please read this [link](https://wiki.eclipse.org/MemoryAnalyzer/FAQ#How_to_analyse_unreachable_objects). They are dead objects in the heap the moment you took the heap dump. That is not related to an OOO Exception.","body":"@Thomazzz About <code>Removed 15 875 439 unreachable objects using 1 700 938 414 bytes</code> please read this <a href=\"https://wiki.eclipse.org/MemoryAnalyzer/FAQ#How_to_analyse_unreachable_objects\" rel=\"nofollow noreferrer\">link</a>. They are dead objects in the heap the moment you took the heap dump. That is not related to an OOO Exception."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642352874,"post_id":70727397,"comment_id":125042854,"body_markdown":"@usuario So the GC itself cannot clean up these objects, this is the reason OOO","body":"@usuario So the GC itself cannot clean up these objects, this is the reason OOO"},{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":1,"creation_date":1642353550,"post_id":70727397,"comment_id":125043057,"body_markdown":"Unreachable objects are always reclaimed by GC, they are not the problem. OOO Exceptions are thrown because of too much live objecs, not dead ones. Please provide some gc logs or the complete OOO Exception trace.","body":"Unreachable objects are always reclaimed by GC, they are not the problem. OOO Exceptions are thrown because of too much live objecs, not dead ones. Please provide some gc logs or the complete OOO Exception trace."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642448939,"post_id":70727397,"comment_id":125068754,"body_markdown":"@usuario, you helped me a lot in understanding the work of all this mechanics, thank you very much","body":"@usuario, you helped me a lot in understanding the work of all this mechanics, thank you very much"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1642546926,"post_id":70727397,"comment_id":125098834,"body_markdown":"If your web application(s) fail to shut-down cleanly, you can &quot;pin&quot; the web application&#39;s `ClassLoader` in memory, which will keep all of those previously-loaded classes in memory and, potentially, other data as well (static caches, etc.) forever. Restarting/deploying/etc the web application just makes the problem worse. You need to test your application in a dev environment by running it, using it, then stopping it and using the Tomcat &quot;manager&quot; application to &quot;check for leaks&quot; which will tell you if your application is leaking on shutdown. Fix anything you find.","body":"If your web application(s) fail to shut-down cleanly, you can &quot;pin&quot; the web application&#39;s <code>ClassLoader</code> in memory, which will keep all of those previously-loaded classes in memory and, potentially, other data as well (static caches, etc.) forever. Restarting/deploying/etc the web application just makes the problem worse. You need to test your application in a dev environment by running it, using it, then stopping it and using the Tomcat &quot;manager&quot; application to &quot;check for leaks&quot; which will tell you if your application is leaking on shutdown. Fix anything you find."},{"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"score":0,"creation_date":1642573548,"post_id":70727397,"comment_id":125103427,"body_markdown":"@Christopher Schultz, Thanks for your reply. But as I understand it, then the garbage collection that we call by the button in visualvm would not work?  In my case, when manually pressing the garbage cleanup button, a real cleanup occurs, i.e. as far as I understand, this is still not a leak, but the fact that the garbage collector does not have time to clean up oldgen and you need to further configure it, for example, allocate more space for youngen and increase the number of collector passes to transfer objects to the next phase","body":"@Christopher Schultz, Thanks for your reply. But as I understand it, then the garbage collection that we call by the button in visualvm would not work?  In my case, when manually pressing the garbage cleanup button, a real cleanup occurs, i.e. as far as I understand, this is still not a leak, but the fact that the garbage collector does not have time to clean up oldgen and you need to further configure it, for example, allocate more space for youngen and increase the number of collector passes to transfer objects to the next phase"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1642602067,"post_id":70727397,"comment_id":125114225,"body_markdown":"@Thomazzz I apologize if I didn&#39;t quite understand the circumstances, here. What you described sounded like a classic ClassLoader pinning problem. I was confused by this statement: *it seems to cut off the used memory, leaving only a little free that remains*. I&#39;m not sure if using VisualVM to trigger a GC run is any different than calling System.gc() or allowing the GC to run automatically when it thinks it&#39;s a good time to cleanup. What error message do you get with the OOME? Not all OOMEs are the same.","body":"@Thomazzz I apologize if I didn&#39;t quite understand the circumstances, here. What you described sounded like a classic ClassLoader pinning problem. I was confused by this statement: <i>it seems to cut off the used memory, leaving only a little free that remains</i>. I&#39;m not sure if using VisualVM to trigger a GC run is any different than calling System.gc() or allowing the GC to run automatically when it thinks it&#39;s a good time to cleanup. What error message do you get with the OOME? Not all OOMEs are the same."}],"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642352332,"creation_date":1642307590,"question_id":70727397,"body_markdown":"A strange situation,\r\n\r\ni use java: 1.8.0_271  and tomcat: 9.0.39\r\n\r\nthere are a number of services on tomcat, after a certain time I notice an OutOfMemoryError error in the logs, and indeed all the memory is used up. At the same time, if I manually start garbage collection from visualvm, then the memory is released.\r\n\r\nThe dump does not show anything, analyzed JProfiler and MAT - it seems to cut off the used memory, leaving only a little free that remains.\r\n\r\nAnd yet, after restarting all the services individually, the memory is still not released, you have to restart tomcat\r\n\r\nmy GP parameters (I have experimented with others but to no avail)\r\n```\r\n-XX:+UseG1GC\r\n-XX:+PerfDisableSharedMem\r\n-XX:+ParallelRefProcEnabled\r\n-XX:MaxGCPauseMillis=250\r\n-XX:+AlwaysPreTouch\r\n-XX:+ExplicitGCInvokesConcurrent\r\n-verbose:gc\r\n-XX:+PrintHeapAtGC\r\n-XX:+PrintGCDetails\r\n-XX:+PrintGCDateStamps\r\n-XX:+PrintGCTimeStamps\r\n-XX:+PrintTenuringDistribution\r\n-XX:+PrintGCApplicationStoppedTime\r\n-XX:+PrintGCApplicationConcurrentTime\r\n```\r\nAnd most importantly, when I try to upload a dump to a profiler (MAT and others), I get a message.\r\n```\r\nRemoved 15 875 439 unreachable objects using 1 700 938 414 bytes\r\n```\r\n\r\nWhy can&#39;t he display these objects, I need to see exactly them\r\n\r\nWhat could it be?","title":"When I manually start the garbage collector from visualvm - everything is OK, but the regular GC does not collect garbage","body":"<p>A strange situation,</p>\n<p>i use java: 1.8.0_271  and tomcat: 9.0.39</p>\n<p>there are a number of services on tomcat, after a certain time I notice an OutOfMemoryError error in the logs, and indeed all the memory is used up. At the same time, if I manually start garbage collection from visualvm, then the memory is released.</p>\n<p>The dump does not show anything, analyzed JProfiler and MAT - it seems to cut off the used memory, leaving only a little free that remains.</p>\n<p>And yet, after restarting all the services individually, the memory is still not released, you have to restart tomcat</p>\n<p>my GP parameters (I have experimented with others but to no avail)</p>\n<pre><code>-XX:+UseG1GC\n-XX:+PerfDisableSharedMem\n-XX:+ParallelRefProcEnabled\n-XX:MaxGCPauseMillis=250\n-XX:+AlwaysPreTouch\n-XX:+ExplicitGCInvokesConcurrent\n-verbose:gc\n-XX:+PrintHeapAtGC\n-XX:+PrintGCDetails\n-XX:+PrintGCDateStamps\n-XX:+PrintGCTimeStamps\n-XX:+PrintTenuringDistribution\n-XX:+PrintGCApplicationStoppedTime\n-XX:+PrintGCApplicationConcurrentTime\n</code></pre>\n<p>And most importantly, when I try to upload a dump to a profiler (MAT and others), I get a message.</p>\n<pre><code>Removed 15 875 439 unreachable objects using 1 700 938 414 bytes\n</code></pre>\n<p>Why can't he display these objects, I need to see exactly them</p>\n<p>What could it be?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642352244,"creation_date":1642350779,"answer_id":70732008,"question_id":70731981,"body_markdown":"You can use\r\n\r\n    ^(?:\\w+=\\w+!)*\\w+=\\w+!?$\r\n\r\nIn Java \r\n\r\n    String regex = &quot;^(?:\\\\w+=\\\\w+!)*\\\\w+=\\\\w+!?$&quot;;\r\n\r\nThe pattern matches:\r\n\r\n- `^` Start of string\r\n- `(?:\\w+=\\w+!)*` Optionally repeat 1+ word chars `=` 1+ word chars and `!`\r\n- `\\w+=\\w+!?` Match 1+ word chars `=` 1+ word chars and optional `!`\r\n- `$` End of string\r\n\r\n[Regex demo](https://regex101.com/r/68NMZx/1)\r\n\r\n    String[] strings = {\r\n        &quot;Name=John!Age=25!Gender=M&quot;,\r\n        &quot;Name=John!Name2=Sam!Name3=Josh&quot;,\r\n        &quot;Name=John!Name2=Sam!Name3=Josh!&quot;,\r\n        &quot;N=J!A=25!&quot;,\r\n        &quot;a=ba=b&quot;,\r\n        &quot;Name!John=Name2+Sam=&quot;,\r\n        &quot;Name=John=&quot;,\r\n        &quot;Name=John!!&quot;,\r\n        &quot;Name=John-&quot;\r\n    };\r\n    \r\n    for (String s : strings) {\r\n        if (s.matches(&quot;(?:\\\\w+=\\\\w+!)*\\\\w+=\\\\w+!?&quot;)) {\r\n            System.out.println(&quot;Match: &quot; + s);\r\n        } else {\r\n            System.out.println(&quot;No match: &quot; + s);\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    Match: Name=John!Age=25!Gender=M\r\n    Match: Name=John!Name2=Sam!Name3=Josh\r\n    Match: Name=John!Name2=Sam!Name3=Josh!\r\n    Match: N=J!A=25!\r\n    No match: a=ba=b\r\n    No match: Name!John=Name2+Sam=\r\n    No match: Name=John=\r\n    No match: Name=John!!\r\n    No match: Name=John-","title":"Java regular expression to match the pattern for equals sign between two or more words that has an exclamatory as a delimeter between the ranges","body":"<p>You can use</p>\n<pre><code>^(?:\\w+=\\w+!)*\\w+=\\w+!?$\n</code></pre>\n<p>In Java</p>\n<pre><code>String regex = &quot;^(?:\\\\w+=\\\\w+!)*\\\\w+=\\\\w+!?$&quot;;\n</code></pre>\n<p>The pattern matches:</p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(?:\\w+=\\w+!)*</code> Optionally repeat 1+ word chars <code>=</code> 1+ word chars and <code>!</code></li>\n<li><code>\\w+=\\w+!?</code> Match 1+ word chars <code>=</code> 1+ word chars and optional <code>!</code></li>\n<li><code>$</code> End of string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/68NMZx/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<pre><code>String[] strings = {\n    &quot;Name=John!Age=25!Gender=M&quot;,\n    &quot;Name=John!Name2=Sam!Name3=Josh&quot;,\n    &quot;Name=John!Name2=Sam!Name3=Josh!&quot;,\n    &quot;N=J!A=25!&quot;,\n    &quot;a=ba=b&quot;,\n    &quot;Name!John=Name2+Sam=&quot;,\n    &quot;Name=John=&quot;,\n    &quot;Name=John!!&quot;,\n    &quot;Name=John-&quot;\n};\n\nfor (String s : strings) {\n    if (s.matches(&quot;(?:\\\\w+=\\\\w+!)*\\\\w+=\\\\w+!?&quot;)) {\n        System.out.println(&quot;Match: &quot; + s);\n    } else {\n        System.out.println(&quot;No match: &quot; + s);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Match: Name=John!Age=25!Gender=M\nMatch: Name=John!Name2=Sam!Name3=Josh\nMatch: Name=John!Name2=Sam!Name3=Josh!\nMatch: N=J!A=25!\nNo match: a=ba=b\nNo match: Name!John=Name2+Sam=\nNo match: Name=John=\nNo match: Name=John!!\nNo match: Name=John-\n</code></pre>\n"}],"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732008,"answer_count":1,"score":0,"last_activity_date":1642352244,"creation_date":1642350634,"question_id":70731981,"body_markdown":"I&#39;m trying to write a regular expression that matches all the following given pattern examples - \r\n\r\n    1) Name=John!Age=25!Gender=M\r\n    2) Name=John!Name2=Sam!Name3=Josh\r\n    3) Name=John!Name2=Sam!Name3=Josh!\r\n\r\nBasically there has to be an equals to sign between two words or numbers followed by an exclamatory and then the pattern repeats. the pattern can only end with an exclamatory or any alphabets or numbers or spaces but not the &#39;equals&#39; sign or any other special characters\r\n\r\nSo these examples should not be matched - \r\n\r\n    1) Name!John=Name2+Sam=\r\n    2) Name=John=\r\n    3) Name=John!!\r\n    4) Name=John-\r\n\r\nI&#39;m very new to regular expressions and I just learnt a few basic things and I have this following regular expression written so far which doesn&#39;t fully satisfy my requirement `((?:\\w+|=)*)!`\r\n\r\nI&#39;m still trying to modify my regular expression to match my requirement, any help/guidance will be very helpful.\r\n","title":"Java regular expression to match the pattern for equals sign between two or more words that has an exclamatory as a delimeter between the ranges","body":"<p>I'm trying to write a regular expression that matches all the following given pattern examples -</p>\n<pre><code>1) Name=John!Age=25!Gender=M\n2) Name=John!Name2=Sam!Name3=Josh\n3) Name=John!Name2=Sam!Name3=Josh!\n</code></pre>\n<p>Basically there has to be an equals to sign between two words or numbers followed by an exclamatory and then the pattern repeats. the pattern can only end with an exclamatory or any alphabets or numbers or spaces but not the 'equals' sign or any other special characters</p>\n<p>So these examples should not be matched -</p>\n<pre><code>1) Name!John=Name2+Sam=\n2) Name=John=\n3) Name=John!!\n4) Name=John-\n</code></pre>\n<p>I'm very new to regular expressions and I just learnt a few basic things and I have this following regular expression written so far which doesn't fully satisfy my requirement <code>((?:\\w+|=)*)!</code></p>\n<p>I'm still trying to modify my regular expression to match my requirement, any help/guidance will be very helpful.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10932052,"reputation":12327,"user_id":8034839,"display_name":"shizhen"},"score":0,"creation_date":1554217825,"post_id":55477792,"comment_id":97666341,"body_markdown":"Possible duplicate of [Android getResources().getDrawable() deprecated API 22](https://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22\">Android getResources().getDrawable() deprecated API 22</a>"}],"answers":[{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554217453,"creation_date":1554217453,"answer_id":55477949,"question_id":55477792,"body_markdown":"Try this:\r\n```\r\n String resourceName = &quot;clouds&quot;;\r\n int resourceIdentifier = getResources().getIdentifier(resourceName, &quot;drawable&quot;, Constants.CURRENT_CONTEXT.getPackageName());\r\n```\r\n\r\nThen\r\n```\r\nimgView.setImageResource(resourceIdentifier);\r\n```","title":"How to set imageview resource from variable?","body":"<p>Try this:</p>\n\n<pre><code> String resourceName = \"clouds\";\n int resourceIdentifier = getResources().getIdentifier(resourceName, \"drawable\", Constants.CURRENT_CONTEXT.getPackageName());\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>imgView.setImageResource(resourceIdentifier);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11642595,"reputation":192,"user_id":8526518,"display_name":"Adama Traore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554217662,"creation_date":1554217662,"answer_id":55478022,"question_id":55477792,"body_markdown":"I don&#39;t know if I clearly understood your request but why don&#39;t you try to do that instead : \r\n\r\n        int my_image = R.id.my_image;\r\n        img.setImageResource(ContextCompat.getDrawable(this, my_image));\r\n\r\nhttps://stackoverflow.com/a/29146895/8526518 for more informations about ContextCompat","title":"How to set imageview resource from variable?","body":"<p>I don't know if I clearly understood your request but why don't you try to do that instead : </p>\n\n<pre><code>    int my_image = R.id.my_image;\n    img.setImageResource(ContextCompat.getDrawable(this, my_image));\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/29146895/8526518\">https://stackoverflow.com/a/29146895/8526518</a> for more informations about ContextCompat</p>\n"},{"tags":[],"owner":{"account_id":9599831,"reputation":173,"user_id":8654670,"display_name":"Amar Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554217696,"creation_date":1554217696,"answer_id":55478034,"question_id":55477792,"body_markdown":"if you can prefer assets folder rather than resource,\r\nthen you can try this code\r\n\r\ncreate sub-folder in assets directory. use getAssets().list(&lt;folder_name&gt;) for getting all file names from assets:\r\n\r\n    String[] images =getAssets().list(&quot;images&quot;);\r\n    ArrayList&lt;String&gt; listImages = new ArrayList&lt;String&gt;(Arrays.asList(images));\r\n\r\nNow to set image in imageview you first need to get bitmap using image name from assets :\r\n\r\n    InputStream inputstream=mContext.getAssets().open(&quot;images/&quot;\r\n                                          +listImages.get(position));\r\n    Drawable drawable = Drawable.createFromStream(inputstream, null);\r\n    imageView.setImageDrawable(drawable);","title":"How to set imageview resource from variable?","body":"<p>if you can prefer assets folder rather than resource,\nthen you can try this code</p>\n\n<p>create sub-folder in assets directory. use getAssets().list() for getting all file names from assets:</p>\n\n<pre><code>String[] images =getAssets().list(\"images\");\nArrayList&lt;String&gt; listImages = new ArrayList&lt;String&gt;(Arrays.asList(images));\n</code></pre>\n\n<p>Now to set image in imageview you first need to get bitmap using image name from assets :</p>\n\n<pre><code>InputStream inputstream=mContext.getAssets().open(\"images/\"\n                                      +listImages.get(position));\nDrawable drawable = Drawable.createFromStream(inputstream, null);\nimageView.setImageDrawable(drawable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9464560,"reputation":121,"user_id":7037357,"display_name":"albaspazio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642352003,"creation_date":1642352003,"answer_id":70732169,"question_id":55477792,"body_markdown":"just a convenient refactoring of the S-Sh answer if you use kotlin and like using its extensions functions:\r\n\r\n\r\n    fun ImageView.loadDrawableFromName(name:String, ctx: Context, visible:Int=View.VISIBLE){\r\n        val resId = ctx.resources.getIdentifier(name, &quot;drawable&quot;, ctx.packageName)\r\n        this.setImageResource(resId)\r\n        this.visibility = visible\r\n    }\r\n\r\nyou can call it in both ways:\r\n\r\n    imgname=&quot;IMGNAME&quot;\r\n    myimageview.loadDrawableFromName(imgname, ctx)\r\n\r\nand\r\n\r\n    imgname=&quot;IMGNAME&quot;\r\n    myimageview.loadDrawableFromName(&quot;@drawable/$imgname&quot;, ctx)\r\n\r\n","title":"How to set imageview resource from variable?","body":"<p>just a convenient refactoring of the S-Sh answer if you use kotlin and like using its extensions functions:</p>\n<pre><code>fun ImageView.loadDrawableFromName(name:String, ctx: Context, visible:Int=View.VISIBLE){\n    val resId = ctx.resources.getIdentifier(name, &quot;drawable&quot;, ctx.packageName)\n    this.setImageResource(resId)\n    this.visibility = visible\n}\n</code></pre>\n<p>you can call it in both ways:</p>\n<pre><code>imgname=&quot;IMGNAME&quot;\nmyimageview.loadDrawableFromName(imgname, ctx)\n</code></pre>\n<p>and</p>\n<pre><code>imgname=&quot;IMGNAME&quot;\nmyimageview.loadDrawableFromName(&quot;@drawable/$imgname&quot;, ctx)\n</code></pre>\n"}],"owner":{"account_id":14054569,"reputation":11,"user_id":10848982,"display_name":"Black Dragon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1180,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1642352003,"creation_date":1554216978,"question_id":55477792,"body_markdown":"I have a lot of images (hundreds) and I need to put some of them as a resource of `ImageView`, but if I would create If Then set Image to Image name, I die from these tons of code. I want to set Image resource which name is inside a variable, but I can&#39;t find out how. If I have \r\n`img.setImageResource(R.drawable.my_image);`\r\nHow can I assign variable name at `my_image` instead of true image name?\r\nPlease help.\r\nThanks.","title":"How to set imageview resource from variable?","body":"<p>I have a lot of images (hundreds) and I need to put some of them as a resource of <code>ImageView</code>, but if I would create If Then set Image to Image name, I die from these tons of code. I want to set Image resource which name is inside a variable, but I can't find out how. If I have \n<code>img.setImageResource(R.drawable.my_image);</code>\nHow can I assign variable name at <code>my_image</code> instead of true image name?\nPlease help.\nThanks.</p>\n"},{"tags":["java","spring-boot","lambda","logic","refactoring"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1640726185,"post_id":70512552,"comment_id":124644718,"body_markdown":"`item.getValue().equals(Boolean.TRUE)` should be equivalent to `item.getValue()`.","body":"<code>item.getValue().equals(Boolean.TRUE)</code> should be equivalent to <code>item.getValue()</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1640726249,"post_id":70512552,"comment_id":124644742,"body_markdown":"I do not fully understand the business use case. That being said, the fact that we have to do a second, conditional, filtering suggests to met hat this isn&#39;t something well-suited for a streamified solution. Or at least not for a solution that tries to press everything in a single stream-pipeline.","body":"I do not fully understand the business use case. That being said, the fact that we have to do a second, conditional, filtering suggests to met hat this isn&#39;t something well-suited for a streamified solution. Or at least not for a solution that tries to press everything in a single stream-pipeline."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640726728,"post_id":70512552,"comment_id":124644898,"body_markdown":"@Turing85 As I was reading the OP&#39;s question, I was thinkin the same thing.","body":"@Turing85 As I was reading the OP&#39;s question, I was thinkin the same thing."},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1640729434,"post_id":70512552,"comment_id":124645744,"body_markdown":"Both `item.getValue().equals(Boolean.TRUE)`  and `item.getValue()` are prone to NPE if the `getValue` returns `Boolean`","body":"Both <code>item.getValue().equals(Boolean.TRUE)</code>  and <code>item.getValue()</code> are prone to NPE if the <code>getValue</code> returns <code>Boolean</code>"},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":1,"creation_date":1640729862,"post_id":70512552,"comment_id":124645848,"body_markdown":"You cannot know the size of a stream unless you terminate it as it&#39;s not a data structure. So even if you manage to combine that into a single pipeline (e.g. through `Opional`) - it would still look ugly (perhaps even worse). So I agree with @Turing85 that steams may not be the best option to use","body":"You cannot know the size of a stream unless you terminate it as it&#39;s not a data structure. So even if you manage to combine that into a single pipeline (e.g. through <code>Opional</code>) - it would still look ugly (perhaps even worse). So I agree with @Turing85 that steams may not be the best option to use"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1640735478,"post_id":70512552,"comment_id":124647067,"body_markdown":"This assumption _the idea of having to check if the size of the list is less than 2 to know that it has not found the 2 path of the first one_ does not seem to be correct: the _filtered_ list may have size over 2 but this does not guarantee that _all_ entries from the `allowedPath`  set are available in the list.","body":"This assumption <i>the idea of having to check if the size of the list is less than 2 to know that it has not found the 2 path of the first one</i> does not seem to be correct: the <i>filtered</i> list may have size over 2 but this does not guarantee that <i>all</i> entries from the <code>allowedPath</code>  set are available in the list."},{"owner":{"account_id":11906823,"reputation":405,"user_id":8713172,"display_name":"AntoCode"},"score":0,"creation_date":1641375280,"post_id":70512552,"comment_id":124785983,"body_markdown":"I don&#39;t like the idea either, I even think the cost and performance is absurd. But they want to implement the logic and unfortunately I am not yet experienced enough to be able to discuss it with my superiors (although I have tried without success).\nThank you all for your help!","body":"I don&#39;t like the idea either, I even think the cost and performance is absurd. But they want to implement the logic and unfortunately I am not yet experienced enough to be able to discuss it with my superiors (although I have tried without success). Thank you all for your help!"}],"answers":[{"tags":[],"owner":{"account_id":12782866,"reputation":307,"user_id":11079979,"display_name":"Aliaksei Budavei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642351518,"creation_date":1640910893,"answer_id":70537981,"question_id":70512552,"body_markdown":"Consider filtering and collecting matched items against *both*  \r\npath sets simultaneously and paying the cost of having  \r\nanother (sometimes superfluous) list around.\r\n\r\nAdd the following `import` declarations:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.function.Function;\r\n    import java.util.function.Predicate;\r\n\r\nAssuming the unspecified `ItemObject` type is, more or less:\r\n\r\n    interface ItemObject\r\n\t{\r\n\t\tString getPath();\r\n\t\tboolean getValue();\r\n\t}\r\n\r\nImplement `filterPath` as follows:\r\n\r\n\tprivate static List&lt;ItemObject&gt; filterPath(\r\n\t\t\t\t\tfinal List&lt;ItemObject&gt; itemList)\r\n\t{\r\n\t\tclass PairCollector&lt;T, U&gt;\r\n\t\t{\r\n\t\t\tprivate final Predicate&lt;T&gt; primaryFilter;\r\n\t\t\tprivate final Predicate&lt;T&gt; secondaryFilter;\r\n\t\t\tprivate final Predicate&lt;List&lt;T&gt;&gt; selectFilter;\r\n\t\t\tprivate final List&lt;T&gt; primaryList;\r\n\t\t\tprivate final List&lt;T&gt; secondaryList;\r\n\r\n\t\t\tPairCollector(Function&lt;Set&lt;U&gt;, Predicate&lt;T&gt;&gt; pairFilter,\r\n\t\t\t\t\t\tPredicate&lt;List&lt;T&gt;&gt; selectFilter,\r\n\t\t\t\t\t\tSet&lt;U&gt; primarySet,\r\n\t\t\t\t\t\tSet&lt;U&gt; secondarySet,\r\n\t\t\t\t\t\tint listCapacity)\r\n\t\t\t{\r\n\t\t\t\tthis.primaryFilter = pairFilter.apply(\r\n\t\t\t\t\t\t\t\tprimarySet);\r\n\t\t\t\tthis.secondaryFilter = pairFilter.apply(\r\n\t\t\t\t\t\t\t\tsecondarySet);\r\n\t\t\t\tthis.selectFilter = selectFilter;\r\n\t\t\t\tthis.primaryList = new ArrayList&lt;&gt;(\r\n\t\t\t\t\t\t\t\tlistCapacity);\r\n\t\t\t\tthis.secondaryList = new ArrayList&lt;&gt;(\r\n\t\t\t\t\t\t\t\tlistCapacity);\r\n\t\t\t}\r\n\r\n\t\t\tPairCollector&lt;T, U&gt; filter(T item)\r\n\t\t\t{\r\n\t\t\t\tif (primaryFilter.test(item))\r\n\t\t\t\t\tprimaryList.add(item);\r\n\r\n\t\t\t\tif (selectFilter.test(primaryList)\r\n\t\t\t\t\t\t&amp;&amp; secondaryFilter.test(item))\r\n\t\t\t\t\tsecondaryList.add(item);\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tList&lt;T&gt; selectPrimaryElseSecondary()\r\n\t\t\t{\r\n\t\t\t\treturn selectFilter.test(primaryList)\r\n\t\t\t\t\t? secondaryList\r\n\t\t\t\t\t: primaryList;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn Collections.unmodifiableList(itemList\r\n\t\t\t.stream()\r\n\t\t\t.reduce(new PairCollector&lt;&gt;((Set&lt;String&gt; paths) -&gt;\r\n\t\t\t\t\t\t\t(ItemObject item) -&gt;\r\n\t\t\t\t\t\t\t\t\tpaths\r\n\t\t\t\t\t\t\t.stream()\r\n\t\t\t\t\t\t\t.anyMatch(path -&gt; item\r\n\t\t\t\t\t\t\t\t\t.getPath()\r\n\t\t\t\t\t\t\t\t\t.contains(path)\r\n\t\t\t\t\t\t\t\t&amp;&amp; item.getValue()),\r\n\t\t\t\t\t\tlist -&gt; list.size() &lt; 2,\r\n\t\t\t\t\t\tALLOWED_PATH,\r\n\t\t\t\t\t\tSECOND_ALLOWED_PATH,\r\n\t\t\t\t\t\titemList.size()),\r\n\t\t\t\tPairCollector::filter,\r\n\t\t\t\t(left, right) -&gt; {\r\n\t\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t\t})\r\n\t\t\t.selectPrimaryElseSecondary());\r\n\t}\r\n\r\nA variant implementation with bound-only-variables lambda  \r\nexpressions. (`Item` occurs free in the predicate argument  \r\nof `anyMatch` in the above implementation.)\r\n\r\n    private static List&lt;ItemObject&gt; filterPath(\r\n\t\t\t\t\tfinal List&lt;ItemObject&gt; itemList)\r\n\t{\r\n\t\tclass PairCollector&lt;T, U&gt;\r\n\t\t{\r\n\t\t\tprivate final Predicate&lt;Predicate&lt;U&gt;&gt; primaryFilter;\r\n\t\t\tprivate final Predicate&lt;Predicate&lt;U&gt;&gt; secondaryFilter;\r\n\t\t\tprivate final Function&lt;T, Predicate&lt;U&gt;&gt; matcher;\r\n\t\t\tprivate final Predicate&lt;List&lt;T&gt;&gt; selectFilter;\r\n\t\t\tprivate final List&lt;T&gt; primaryList;\r\n\t\t\tprivate final List&lt;T&gt; secondaryList;\r\n\r\n\t\t\tPairCollector(Function&lt;Set&lt;U&gt;, Predicate&lt;Predicate&lt;U&gt;&gt;&gt;\r\n\t\t\t\t\t\t\t\tpairFilter,\r\n\t\t\t\t\tFunction&lt;T, Predicate&lt;U&gt;&gt; matcher,\r\n\t\t\t\t\tPredicate&lt;List&lt;T&gt;&gt; selectFilter,\r\n\t\t\t\t\tSet&lt;U&gt; primarySet,\r\n\t\t\t\t\tSet&lt;U&gt; secondarySet,\r\n\t\t\t\t\tint listCapacity)\r\n\t\t\t{\r\n\t\t\t\tthis.primaryFilter = pairFilter.apply(\r\n\t\t\t\t\t\t\t\tprimarySet);\r\n\t\t\t\tthis.secondaryFilter = pairFilter.apply(\r\n\t\t\t\t\t\t\t\tsecondarySet);\r\n\t\t\t\tthis.matcher = matcher;\r\n\t\t\t\tthis.selectFilter = selectFilter;\r\n\t\t\t\tthis.primaryList = new ArrayList&lt;&gt;(\r\n\t\t\t\t\t\t\t\tlistCapacity);\r\n\t\t\t\tthis.secondaryList = new ArrayList&lt;&gt;(\r\n\t\t\t\t\t\t\t\tlistCapacity);\r\n\t\t\t}\r\n\r\n\t\t\tPairCollector&lt;T, U&gt; filter(T item)\r\n\t\t\t{\r\n\t\t\t\tfinal Predicate&lt;U&gt; matcher_ = matcher.apply(item);\r\n\r\n\t\t\t\tif (primaryFilter.test(matcher_))\r\n\t\t\t\t\tprimaryList.add(item);\r\n\r\n\t\t\t\tif (selectFilter.test(primaryList)\r\n\t\t\t\t\t\t&amp;&amp; secondaryFilter.test(matcher_))\r\n\t\t\t\t\tsecondaryList.add(item);\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tList&lt;T&gt; selectPrimaryElseSecondary()\r\n\t\t\t{\r\n\t\t\t\treturn selectFilter.test(primaryList)\r\n\t\t\t\t\t? secondaryList\r\n\t\t\t\t\t: primaryList;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn Collections.unmodifiableList(itemList\r\n\t\t\t.stream()\r\n\t\t\t.reduce(new PairCollector&lt;&gt;(\r\n\t\t\t\t\tpaths -&gt; paths.stream()::anyMatch,\r\n\t\t\t\t\t(ItemObject item) -&gt;\r\n\t\t\t\t\t\t(String path) -&gt; item\r\n\t\t\t\t\t\t\t.getPath()\r\n\t\t\t\t\t\t\t.contains(path)\r\n\t\t\t\t\t\t&amp;&amp; item.getValue(),\r\n\t\t\t\t\tlist -&gt; list.size() &lt; 2,\r\n\t\t\t\t\tALLOWED_PATH,\r\n\t\t\t\t\tSECOND_ALLOWED_PATH,\r\n\t\t\t\t\titemList.size()),\r\n\t\t\t\tPairCollector::filter,\r\n\t\t\t\t(left, right) -&gt; {\r\n\t\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t\t})\r\n\t\t\t.selectPrimaryElseSecondary());\r\n\t}\r\n","title":"Filtering a stream if the previous filter resulted in an empty stream JAVA","body":"<p>Consider filtering and collecting matched items against <em>both</em><br />\npath sets simultaneously and paying the cost of having<br />\nanother (sometimes superfluous) list around.</p>\n<p>Add the following <code>import</code> declarations:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\n</code></pre>\n<p>Assuming the unspecified <code>ItemObject</code> type is, more or less:</p>\n<pre><code>interface ItemObject\n{\n    String getPath();\n    boolean getValue();\n}\n</code></pre>\n<p>Implement <code>filterPath</code> as follows:</p>\n<pre><code>private static List&lt;ItemObject&gt; filterPath(\n                final List&lt;ItemObject&gt; itemList)\n{\n    class PairCollector&lt;T, U&gt;\n    {\n        private final Predicate&lt;T&gt; primaryFilter;\n        private final Predicate&lt;T&gt; secondaryFilter;\n        private final Predicate&lt;List&lt;T&gt;&gt; selectFilter;\n        private final List&lt;T&gt; primaryList;\n        private final List&lt;T&gt; secondaryList;\n\n        PairCollector(Function&lt;Set&lt;U&gt;, Predicate&lt;T&gt;&gt; pairFilter,\n                    Predicate&lt;List&lt;T&gt;&gt; selectFilter,\n                    Set&lt;U&gt; primarySet,\n                    Set&lt;U&gt; secondarySet,\n                    int listCapacity)\n        {\n            this.primaryFilter = pairFilter.apply(\n                            primarySet);\n            this.secondaryFilter = pairFilter.apply(\n                            secondarySet);\n            this.selectFilter = selectFilter;\n            this.primaryList = new ArrayList&lt;&gt;(\n                            listCapacity);\n            this.secondaryList = new ArrayList&lt;&gt;(\n                            listCapacity);\n        }\n\n        PairCollector&lt;T, U&gt; filter(T item)\n        {\n            if (primaryFilter.test(item))\n                primaryList.add(item);\n\n            if (selectFilter.test(primaryList)\n                    &amp;&amp; secondaryFilter.test(item))\n                secondaryList.add(item);\n\n            return this;\n        }\n\n        List&lt;T&gt; selectPrimaryElseSecondary()\n        {\n            return selectFilter.test(primaryList)\n                ? secondaryList\n                : primaryList;\n        }\n    }\n\n    return Collections.unmodifiableList(itemList\n        .stream()\n        .reduce(new PairCollector&lt;&gt;((Set&lt;String&gt; paths) -&gt;\n                        (ItemObject item) -&gt;\n                                paths\n                        .stream()\n                        .anyMatch(path -&gt; item\n                                .getPath()\n                                .contains(path)\n                            &amp;&amp; item.getValue()),\n                    list -&gt; list.size() &lt; 2,\n                    ALLOWED_PATH,\n                    SECOND_ALLOWED_PATH,\n                    itemList.size()),\n            PairCollector::filter,\n            (left, right) -&gt; {\n                throw new UnsupportedOperationException();\n            })\n        .selectPrimaryElseSecondary());\n}\n</code></pre>\n<p>A variant implementation with bound-only-variables lambda<br />\nexpressions. (<code>Item</code> occurs free in the predicate argument<br />\nof <code>anyMatch</code> in the above implementation.)</p>\n<pre><code>private static List&lt;ItemObject&gt; filterPath(\n                final List&lt;ItemObject&gt; itemList)\n{\n    class PairCollector&lt;T, U&gt;\n    {\n        private final Predicate&lt;Predicate&lt;U&gt;&gt; primaryFilter;\n        private final Predicate&lt;Predicate&lt;U&gt;&gt; secondaryFilter;\n        private final Function&lt;T, Predicate&lt;U&gt;&gt; matcher;\n        private final Predicate&lt;List&lt;T&gt;&gt; selectFilter;\n        private final List&lt;T&gt; primaryList;\n        private final List&lt;T&gt; secondaryList;\n\n        PairCollector(Function&lt;Set&lt;U&gt;, Predicate&lt;Predicate&lt;U&gt;&gt;&gt;\n                            pairFilter,\n                Function&lt;T, Predicate&lt;U&gt;&gt; matcher,\n                Predicate&lt;List&lt;T&gt;&gt; selectFilter,\n                Set&lt;U&gt; primarySet,\n                Set&lt;U&gt; secondarySet,\n                int listCapacity)\n        {\n            this.primaryFilter = pairFilter.apply(\n                            primarySet);\n            this.secondaryFilter = pairFilter.apply(\n                            secondarySet);\n            this.matcher = matcher;\n            this.selectFilter = selectFilter;\n            this.primaryList = new ArrayList&lt;&gt;(\n                            listCapacity);\n            this.secondaryList = new ArrayList&lt;&gt;(\n                            listCapacity);\n        }\n\n        PairCollector&lt;T, U&gt; filter(T item)\n        {\n            final Predicate&lt;U&gt; matcher_ = matcher.apply(item);\n\n            if (primaryFilter.test(matcher_))\n                primaryList.add(item);\n\n            if (selectFilter.test(primaryList)\n                    &amp;&amp; secondaryFilter.test(matcher_))\n                secondaryList.add(item);\n\n            return this;\n        }\n\n        List&lt;T&gt; selectPrimaryElseSecondary()\n        {\n            return selectFilter.test(primaryList)\n                ? secondaryList\n                : primaryList;\n        }\n    }\n\n    return Collections.unmodifiableList(itemList\n        .stream()\n        .reduce(new PairCollector&lt;&gt;(\n                paths -&gt; paths.stream()::anyMatch,\n                (ItemObject item) -&gt;\n                    (String path) -&gt; item\n                        .getPath()\n                        .contains(path)\n                    &amp;&amp; item.getValue(),\n                list -&gt; list.size() &lt; 2,\n                ALLOWED_PATH,\n                SECOND_ALLOWED_PATH,\n                itemList.size()),\n            PairCollector::filter,\n            (left, right) -&gt; {\n                throw new UnsupportedOperationException();\n            })\n        .selectPrimaryElseSecondary());\n}\n</code></pre>\n"}],"owner":{"account_id":11906823,"reputation":405,"user_id":8713172,"display_name":"AntoCode"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70537981,"answer_count":1,"score":0,"last_activity_date":1642351518,"creation_date":1640725903,"question_id":70512552,"body_markdown":"I have several hours trying to find an easier solution, but I have not been able to come up with an optimal answer.\r\n\r\nMy problem is that I have two `Set&lt;String&gt;` and a `List&lt;&gt;` I must apply a first filter to the list&lt;&gt; according to a set, in case the result is empty or has only 1 element, I must filter again the `List&lt;&gt;` with the missing `Set&lt;String&gt;`.\r\n\r\nI have this logic and, although it works, it seems to me a little ugly.\r\n\r\n \r\n\r\n      private static final Set&lt;String&gt; ALLOWED_PATH =\r\n          Set.of(&quot;/anto&quot;, &quot;chachi&quot;);\r\n      private static final Set&lt;String&gt; SECOD_ALLOWED_PATH =\r\n          Set.of(&quot;/jose&quot;, &quot;chuchu&quot;);\r\n    \r\n    \r\n      public void valid(final List&lt;itemObject&gt; itemList) {\r\n    \r\n        List&lt;itemObject&gt; itemFiltered = filterPath(itemList, ALLOWED_PATH);\r\n    \r\n        if (itemFiltered.size() &lt; 2) {\r\n          itemFiltered = filterPath(itemList, SECOND_ALLOWED_PATH);\r\n        }\r\n    \r\n        //Continue code\r\n      }\r\n    \r\n    \r\n      private List&lt;itemObject&gt; filterPath(\r\n          final List&lt;itemObject&gt; itemList, final Set&lt;String&gt; allowedPath) {\r\n    \r\n        return itemList\r\n            .stream()\r\n            .filter(\r\n                item -&gt;\r\n                    allowedPath\r\n                        .stream()\r\n                        .anyMatch(\r\n                            path -&gt;\r\n                                item.getPath().contains(path) &amp;&amp; item.getValue().equals(Boolean.TRUE)))\r\n            .collect(Collectors.toList());\r\n      }\r\n\r\nIn my example, it works but I don&#39;t like the idea of having to check if the size of the list is less than 2 to know that it has not found the 2 path of the first one and I must do the second filter.\r\n\r\nI am not an expert in lambda, is there any way to make it more optimal?\r\n\r\nThanks!","title":"Filtering a stream if the previous filter resulted in an empty stream JAVA","body":"<p>I have several hours trying to find an easier solution, but I have not been able to come up with an optimal answer.</p>\n<p>My problem is that I have two <code>Set&lt;String&gt;</code> and a <code>List&lt;&gt;</code> I must apply a first filter to the list&lt;&gt; according to a set, in case the result is empty or has only 1 element, I must filter again the <code>List&lt;&gt;</code> with the missing <code>Set&lt;String&gt;</code>.</p>\n<p>I have this logic and, although it works, it seems to me a little ugly.</p>\n<pre><code>  private static final Set&lt;String&gt; ALLOWED_PATH =\n      Set.of(&quot;/anto&quot;, &quot;chachi&quot;);\n  private static final Set&lt;String&gt; SECOD_ALLOWED_PATH =\n      Set.of(&quot;/jose&quot;, &quot;chuchu&quot;);\n\n\n  public void valid(final List&lt;itemObject&gt; itemList) {\n\n    List&lt;itemObject&gt; itemFiltered = filterPath(itemList, ALLOWED_PATH);\n\n    if (itemFiltered.size() &lt; 2) {\n      itemFiltered = filterPath(itemList, SECOND_ALLOWED_PATH);\n    }\n\n    //Continue code\n  }\n\n\n  private List&lt;itemObject&gt; filterPath(\n      final List&lt;itemObject&gt; itemList, final Set&lt;String&gt; allowedPath) {\n\n    return itemList\n        .stream()\n        .filter(\n            item -&gt;\n                allowedPath\n                    .stream()\n                    .anyMatch(\n                        path -&gt;\n                            item.getPath().contains(path) &amp;&amp; item.getValue().equals(Boolean.TRUE)))\n        .collect(Collectors.toList());\n  }\n</code></pre>\n<p>In my example, it works but I don't like the idea of having to check if the size of the list is less than 2 to know that it has not found the 2 path of the first one and I must do the second filter.</p>\n<p>I am not an expert in lambda, is there any way to make it more optimal?</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","user-interface","jbutton"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1366195683,"post_id":16057124,"comment_id":22915505,"body_markdown":"fix the test environment: it&#39;s broken (as you experience :-) if you are not able to test an icon-only label/button. Adding hacks just for sake of that broken test tool detoriates the code. For identification, it should use either a name or a client property","body":"fix the test environment: it&#39;s broken (as you experience :-) if you are not able to test an icon-only label/button. Adding hacks just for sake of that broken test tool detoriates the code. For identification, it should use either a name or a client property"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1366197254,"post_id":16057124,"comment_id":22916329,"body_markdown":"Rather the using the text, every JComponent can have a name","body":"Rather the using the text, every JComponent can have a name"},{"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"score":0,"creation_date":1367337912,"post_id":16057124,"comment_id":23342333,"body_markdown":"@keopatra has the trick, changed the automatic test to use the name and set an unique name for each button in system.","body":"@keopatra has the trick, changed the automatic test to use the name and set an unique name for each button in system."}],"answers":[{"tags":[],"owner":{"account_id":2637729,"reputation":21771,"user_id":2282011,"accept_rate":90,"display_name":"Devolus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366193149,"creation_date":1366193149,"answer_id":16057242,"question_id":16057124,"body_markdown":"You want to have the text only in the test environment but not in production?\r\n\r\nThen you could so something like this:\r\n\r\n    setText(&quot;&quot;);\r\n    if(test)\r\n       setText(&quot;sometext&quot;);\r\n","title":"JButton with icon and text but hide text","body":"<p>You want to have the text only in the test environment but not in production?</p>\n\n<p>Then you could so something like this:</p>\n\n<pre><code>setText(\"\");\nif(test)\n   setText(\"sometext\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1775623,"reputation":1853,"user_id":1619462,"accept_rate":60,"display_name":"jeroen_de_schutter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366193346,"creation_date":1366193346,"answer_id":16057300,"question_id":16057124,"body_markdown":"I would suggest to set the size of the Font of the button text to 0.\r\nAnd if that does not work, set the size to the lowest possible value and the color of the text equal to the background color of the button (you might have to tweak the layout a little afterwards ...)","title":"JButton with icon and text but hide text","body":"<p>I would suggest to set the size of the Font of the button text to 0.\nAnd if that does not work, set the size to the lowest possible value and the color of the text equal to the background color of the button (you might have to tweak the layout a little afterwards ...)</p>\n"},{"tags":[],"owner":{"account_id":238298,"reputation":13730,"user_id":507099,"display_name":"Costis Aivalis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366200191,"creation_date":1366200191,"answer_id":16059482,"question_id":16057124,"body_markdown":"You could avoid the text of the JButton completely if your work with the TooltipText: \r\n\r\n\r\n       jButton1.setIcon(new ImageIcon(getClass().getResource(&quot;/money.png&quot;)));\r\n       jButton1.setToolTipText(&quot;Foo&quot;);  \r\n       ....\r\n       jButton1.getToolTipText(); // use instead of getText()\r\n\r\n","title":"JButton with icon and text but hide text","body":"<p>You could avoid the text of the JButton completely if your work with the TooltipText: </p>\n\n<pre><code>   jButton1.setIcon(new ImageIcon(getClass().getResource(\"/money.png\")));\n   jButton1.setToolTipText(\"Foo\");  \n   ....\n   jButton1.getToolTipText(); // use instead of getText()\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2575725"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1446023578,"creation_date":1446023578,"answer_id":33386960,"question_id":16057124,"body_markdown":"&gt;  I need to create a JButton with text and icon but only show the icon.\r\n\r\nYou could have possibly used [setActionCommand()](http://docs.oracle.com/javase/7/docs/api/javax/swing/AbstractButton.html#setActionCommand%28java.lang.String%29)\r\n\r\n    jButton.setActionCommand(&quot;Button 1&quot;);\r\n\r\nOr, you may also use [setName()](http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#setName%28java.lang.String%29)\r\n\r\n    jButton.setName(&quot;Button 1&quot;);\r\n","title":"JButton with icon and text but hide text","body":"<blockquote>\n  <p>I need to create a JButton with text and icon but only show the icon.</p>\n</blockquote>\n\n<p>You could have possibly used <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/AbstractButton.html#setActionCommand%28java.lang.String%29\" rel=\"nofollow\">setActionCommand()</a></p>\n\n<pre><code>jButton.setActionCommand(\"Button 1\");\n</code></pre>\n\n<p>Or, you may also use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#setName%28java.lang.String%29\" rel=\"nofollow\">setName()</a></p>\n\n<pre><code>jButton.setName(\"Button 1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23957809,"reputation":1,"user_id":17948405,"display_name":"homebeaver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642351442,"creation_date":1642351442,"answer_id":70732098,"question_id":16057124,"body_markdown":"Button text not shown with painted icons!\r\n\r\nThe code:\r\n```java\r\n        Icon icon = new PlayIcon();\r\n    \tJButton play = new JButton(&quot;PlayIcon with text&quot;, icon);\r\n```\r\n\r\nYou expect a text with the button. But it is not shown!\r\nMaybe your icon paints itsself like this:\r\n\r\n```java\r\npublic class PlayIcon implements Icon ...\r\n\r\n\tpublic void paintIcon(Component c, Graphics g, int x, int y) {\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\r\n\t\tg2d.setColor(color==null ? c.getForeground() : color);\r\n\t\tGeneralPath path = new GeneralPath();\r\n\t\tpath.moveTo(x + 2, y + 2);\r\n\t\tpath.lineTo(x + width - 2, y + height / 2);\r\n\t\tpath.lineTo(x + 2, y + height - 2);\r\n\t\tpath.lineTo(x + 2, y + 2);\r\n\t\tg2d.fill(path);\r\n\t\tg2d.dispose(); // &lt;===========\r\n...\r\n```\r\nThen the problem is the `dispose()` call in the `PlayIcon` class.\r\nRemove it!\r\n\r\n\r\n[The result will be like this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1OR6P.png\r\n\r\nSee: [github issue](https://github.com/homebeaver/SwingSet/issues/19)","title":"JButton with icon and text but hide text","body":"<p>Button text not shown with painted icons!</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Icon icon = new PlayIcon();\n        JButton play = new JButton(&quot;PlayIcon with text&quot;, icon);\n</code></pre>\n<p>You expect a text with the button. But it is not shown!\nMaybe your icon paints itsself like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayIcon implements Icon ...\n\n    public void paintIcon(Component c, Graphics g, int x, int y) {\n        Graphics2D g2d = (Graphics2D) g;\n\n        g2d.setColor(color==null ? c.getForeground() : color);\n        GeneralPath path = new GeneralPath();\n        path.moveTo(x + 2, y + 2);\n        path.lineTo(x + width - 2, y + height / 2);\n        path.lineTo(x + 2, y + height - 2);\n        path.lineTo(x + 2, y + 2);\n        g2d.fill(path);\n        g2d.dispose(); // &lt;===========\n...\n</code></pre>\n<p>Then the problem is the <code>dispose()</code> call in the <code>PlayIcon</code> class.\nRemove it!</p>\n<p><a href=\"https://i.stack.imgur.com/1OR6P.png\" rel=\"nofollow noreferrer\">The result will be like this</a></p>\n<p>See: <a href=\"https://github.com/homebeaver/SwingSet/issues/19\" rel=\"nofollow noreferrer\">github issue</a></p>\n"}],"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6432,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1642351442,"creation_date":1366192822,"question_id":16057124,"body_markdown":"For automatic test purposes is a must to have the text set because is the identification used by robot to navigate though screens.\r\nI need to create a `JButton` with text and icon but only show the icon.\r\n\r\nI have tried several things:\r\n\r\n 1. use of `setHideActionText(true)`:\r\n\r\n        jButton button = new JButton(icon);\r\n        jButton.setHideActionText(true);\r\n        jButton.setText(_messageManager.getMessage(messageKey));\r\n\r\n 2. `setHoritzontalTextPosition`\r\n\r\n 3. `setVerticalAlignment`\r\n\r\nbut none worked.\r\n\r\nAnyone has any idea on how to solve this?","title":"JButton with icon and text but hide text","body":"<p>For automatic test purposes is a must to have the text set because is the identification used by robot to navigate though screens.\nI need to create a <code>JButton</code> with text and icon but only show the icon.</p>\n\n<p>I have tried several things:</p>\n\n<ol>\n<li><p>use of <code>setHideActionText(true)</code>:</p>\n\n<pre><code>jButton button = new JButton(icon);\njButton.setHideActionText(true);\njButton.setText(_messageManager.getMessage(messageKey));\n</code></pre></li>\n<li><p><code>setHoritzontalTextPosition</code></p></li>\n<li><p><code>setVerticalAlignment</code></p></li>\n</ol>\n\n<p>but none worked.</p>\n\n<p>Anyone has any idea on how to solve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1521049023,"post_id":49284331,"comment_id":85571474,"body_markdown":"https://en.wikipedia.org/wiki/Sorting_algorithm","body":"<a href=\"https://en.wikipedia.org/wiki/Sorting_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Sorting_algorithm</a>"},{"owner":{"account_id":8526746,"reputation":120,"user_id":6391974,"display_name":"p05p"},"score":0,"creation_date":1521049069,"post_id":49284331,"comment_id":85571502,"body_markdown":"https://www.cs.cmu.edu/~adamchik/15-121/lectures/Sorting%20Algorithms/sorting.html","body":"<a href=\"https://www.cs.cmu.edu/~adamchik/15-121/lectures/Sorting%20Algorithms/sorting.html\" rel=\"nofollow noreferrer\">cs.cmu.edu/~adamchik/15-121/lectures/Sorting%20Algorithms/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12972828,"reputation":433,"user_id":9377942,"accept_rate":71,"display_name":"anna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521049359,"creation_date":1521049359,"answer_id":49284446,"question_id":49284331,"body_markdown":"You can use counting sort instead of insertion sort. Because counting sort takes a linear time, but insertion sort at worst takes О(n^2)\r\nHere is example of using counting sort:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    public class Main {\r\n        public static void print(int []a){\r\n            System.out.println(Arrays.toString(a));\r\n        }\r\n        public static void countingSort(int []a, int []b, int n, int k){\r\n            int []c = new int [k];\r\n            for(int i=0; i&lt;k; i++)\r\n                c[i] = 0;\r\n            for(int j=0; j&lt;n; j++){\r\n                c[a[j]] = c[a[j]]+1;\r\n            }\r\n            for(int i=1; i&lt;k; i++){\r\n                c[i] = c[i]+c[i-1];\r\n            }\r\n            for(int j=n-1; j&gt;=0; j--){\r\n                c[a[j]] = c[a[j]]-1;\r\n                b[c[a[j]]] = a[j];\r\n            }\r\n            for(int i=0; i&lt;n; i++)\r\n                a[i] = b[i];\r\n        }\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            Random ran = new Random();\r\n            int n = Integer.parseInt(in.nextLine());\r\n            int []a = new int[n];\r\n            int []b = new int[n];\r\n            int k = 5; // max value on the array\r\n            for(int i=0; i&lt;n; i++)\r\n                a[i] = ran.nextInt(k);\r\n            print(a);\r\n            countingSort(a,b,n,k);\r\n            print(a);\r\n        }\r\n    }","title":"How to optimize the sorting algorithm?","body":"<p>You can use counting sort instead of insertion sort. Because counting sort takes a linear time, but insertion sort at worst takes О(n^2)\nHere is example of using counting sort:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\nimport java.util.Scanner;\npublic class Main {\n    public static void print(int []a){\n        System.out.println(Arrays.toString(a));\n    }\n    public static void countingSort(int []a, int []b, int n, int k){\n        int []c = new int [k];\n        for(int i=0; i&lt;k; i++)\n            c[i] = 0;\n        for(int j=0; j&lt;n; j++){\n            c[a[j]] = c[a[j]]+1;\n        }\n        for(int i=1; i&lt;k; i++){\n            c[i] = c[i]+c[i-1];\n        }\n        for(int j=n-1; j&gt;=0; j--){\n            c[a[j]] = c[a[j]]-1;\n            b[c[a[j]]] = a[j];\n        }\n        for(int i=0; i&lt;n; i++)\n            a[i] = b[i];\n    }\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        Random ran = new Random();\n        int n = Integer.parseInt(in.nextLine());\n        int []a = new int[n];\n        int []b = new int[n];\n        int k = 5; // max value on the array\n        for(int i=0; i&lt;n; i++)\n            a[i] = ran.nextInt(k);\n        print(a);\n        countingSort(a,b,n,k);\n        print(a);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12880287,"reputation":63,"user_id":9326770,"display_name":"kdorland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521051234,"creation_date":1521051234,"answer_id":49284991,"question_id":49284331,"body_markdown":"You should look into QuickSort or MergeSort if you want faster sorting algorithms. Unlike InsertionSort (and SelectionSort), they are recursive, but still fairly easy to implement. You can find many examples if you look around on the internet.","title":"How to optimize the sorting algorithm?","body":"<p>You should look into QuickSort or MergeSort if you want faster sorting algorithms. Unlike InsertionSort (and SelectionSort), they are recursive, but still fairly easy to implement. You can find many examples if you look around on the internet.</p>\n"},{"tags":[],"owner":{"account_id":13067109,"reputation":162,"user_id":9442047,"display_name":"Tejas Shetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642351323,"creation_date":1642351323,"answer_id":70732073,"question_id":49284331,"body_markdown":"As Anna stated above, counting sort can be a really good algorithm, considering you don&#39;t have a really large data set and the data is not sparse.\r\n\r\nFor example, an array of size 10k with 100 elements duplicated will have much better space efficiency than an array of size 10k with all unique elements and spread in a sparse fashion.\r\n\r\nFor example, the following array -&gt; [5,5,4,...,2,2,1,1,5,6,7,8] will need a space of an array of size 8 (1 being the minimum and 8 being the maximum) while,\r\nThis array -&gt; [5,100,6004,3248,45890,2384,128,8659,...,3892,128] will need a space of an array at least of size 45886 (5 being the minimum and 45890 being the maximum).\r\n\r\nSo, I&#39;ll suggest you use this algorithm when you know that the data set you have is evenly distributed within an acceptable range which won&#39;t make your program run out of memory. Otherwise you can go with something like quicksort or mergesort. That gets the work done just fine.\r\n\r\nThat being said, Anna&#39;s implementation of counting sort seemed a little over coded to me personally, so here&#39;s me sharing my implementation.\r\n\r\n```\r\n    public int[] countSort(int[] nums) {\r\n        int min = nums[0], max = nums[0], counterLength, start = 0;\r\n        int[] counter;\r\n        \r\n        // To dynamically allocate size to the counter.\r\n        // Also an essential step if there are negative elements in the input array.\r\n        // You can actively avoid this step if you know:\r\n        // 1. That the elements are not going to be negative.\r\n        // 2. The upper bound of the elements in the array.\r\n        for (int i : nums) {\r\n            if (i &gt; max)\r\n                max = i;\r\n            else if (i &lt; min)\r\n                min = i;\r\n        }\r\n        \r\n        counterLength = max - min + 1;\r\n        counter = new int[counterLength];\r\n        \r\n        for (int i : nums)\r\n            counter[i - min]++;\r\n        \r\n        for (int i = 0; i &lt; counterLength; i++) {\r\n            if (counter[i] &gt; 0) {\r\n                int end = start + counter[i];\r\n                Arrays.fill(nums, start, end, i + min);\r\n                start = end;\r\n            }\r\n        }\r\n\r\n        return nums;\r\n    }\r\n```","title":"How to optimize the sorting algorithm?","body":"<p>As Anna stated above, counting sort can be a really good algorithm, considering you don't have a really large data set and the data is not sparse.</p>\n<p>For example, an array of size 10k with 100 elements duplicated will have much better space efficiency than an array of size 10k with all unique elements and spread in a sparse fashion.</p>\n<p>For example, the following array -&gt; [5,5,4,...,2,2,1,1,5,6,7,8] will need a space of an array of size 8 (1 being the minimum and 8 being the maximum) while,\nThis array -&gt; [5,100,6004,3248,45890,2384,128,8659,...,3892,128] will need a space of an array at least of size 45886 (5 being the minimum and 45890 being the maximum).</p>\n<p>So, I'll suggest you use this algorithm when you know that the data set you have is evenly distributed within an acceptable range which won't make your program run out of memory. Otherwise you can go with something like quicksort or mergesort. That gets the work done just fine.</p>\n<p>That being said, Anna's implementation of counting sort seemed a little over coded to me personally, so here's me sharing my implementation.</p>\n<pre><code>    public int[] countSort(int[] nums) {\n        int min = nums[0], max = nums[0], counterLength, start = 0;\n        int[] counter;\n        \n        // To dynamically allocate size to the counter.\n        // Also an essential step if there are negative elements in the input array.\n        // You can actively avoid this step if you know:\n        // 1. That the elements are not going to be negative.\n        // 2. The upper bound of the elements in the array.\n        for (int i : nums) {\n            if (i &gt; max)\n                max = i;\n            else if (i &lt; min)\n                min = i;\n        }\n        \n        counterLength = max - min + 1;\n        counter = new int[counterLength];\n        \n        for (int i : nums)\n            counter[i - min]++;\n        \n        for (int i = 0; i &lt; counterLength; i++) {\n            if (counter[i] &gt; 0) {\n                int end = start + counter[i];\n                Arrays.fill(nums, start, end, i + min);\n                start = end;\n            }\n        }\n\n        return nums;\n    }\n</code></pre>\n"}],"owner":{"account_id":13141524,"reputation":51,"user_id":9492955,"display_name":"Sveta Tulova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1642351323,"creation_date":1521048969,"question_id":49284331,"body_markdown":"I need to sort an  array. I write code, i use insertion sort, but for big `n` this code work so slow. How optimize my code. May be there is another algorithm. \r\n\r\n     public void insertionSort(ArrayList&lt;Integer&gt; arrayList) {\r\n            int n = arrayList.size();\r\n            int in, out;\r\n            for(out = 1; out &lt; n; out++)\r\n            {\r\n                int temp = arrayList.get(out);\r\n                in = out;\r\n                while (in &gt; 0 &amp;&amp; arrayList.get(in-1) &gt; temp)\r\n                {\r\n                    arrayList.set(in, arrayList.get(in-1));\r\n                    in--;\r\n                }\r\n                arrayList.set(in,temp);\r\n            }\r\n            print(arrayList);\r\n        }","title":"How to optimize the sorting algorithm?","body":"<p>I need to sort an  array. I write code, i use insertion sort, but for big <code>n</code> this code work so slow. How optimize my code. May be there is another algorithm. </p>\n\n<pre><code> public void insertionSort(ArrayList&lt;Integer&gt; arrayList) {\n        int n = arrayList.size();\n        int in, out;\n        for(out = 1; out &lt; n; out++)\n        {\n            int temp = arrayList.get(out);\n            in = out;\n            while (in &gt; 0 &amp;&amp; arrayList.get(in-1) &gt; temp)\n            {\n                arrayList.set(in, arrayList.get(in-1));\n                in--;\n            }\n            arrayList.set(in,temp);\n        }\n        print(arrayList);\n    }\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642351161,"creation_date":1642351161,"answer_id":70732048,"question_id":70728670,"body_markdown":"Firebase doesn&#39;t support so-called update queries, where you send a condition and the new data to the database and it them writes the new data for all nodes matching the condition.\r\n\r\nInstead you will need to execute the query in your application code, loop through the results, and update each of them in turn:\r\n\r\n```\r\nrootRef\r\n  .child(&quot;ingredients&quot;)\r\n  .orderByChild(&quot;ingredient_name&quot;)\r\n  .equalTo(ingredientToBeUpdate)\r\n  .addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        for (DataSnapshot ingredientSnapshot: dataSnapshot.getChildren()) {\r\n            ingredientSnapshot.getRef().child(&quot;availability&quot;).setValue(1);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        throw databaseError.toException();\r\n    }\r\n}\r\n```\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/54814080/firebase-android-set-value-where-x-x/54814458#54814458\r\n* https://stackoverflow.com/questions/58968448/is-it-possible-to-update-a-specific-childs-value-without-id-or-key-in-firebase/58977535#58977535","title":"How to update entry in Firebase Database based on an attribute value","body":"<p>Firebase doesn't support so-called update queries, where you send a condition and the new data to the database and it them writes the new data for all nodes matching the condition.</p>\n<p>Instead you will need to execute the query in your application code, loop through the results, and update each of them in turn:</p>\n<pre><code>rootRef\n  .child(&quot;ingredients&quot;)\n  .orderByChild(&quot;ingredient_name&quot;)\n  .equalTo(ingredientToBeUpdate)\n  .addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for (DataSnapshot ingredientSnapshot: dataSnapshot.getChildren()) {\n            ingredientSnapshot.getRef().child(&quot;availability&quot;).setValue(1);\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        throw databaseError.toException();\n    }\n}\n</code></pre>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/54814080/firebase-android-set-value-where-x-x/54814458#54814458\">Firebase Android, set value where x = x?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/58968448/is-it-possible-to-update-a-specific-childs-value-without-id-or-key-in-firebase/58977535#58977535\">Is it possible to update a specific child&#39;s value without ID or key in firebase realtime database from android on button click?</a></li>\n</ul>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70732048,"answer_count":1,"score":0,"last_activity_date":1642351161,"creation_date":1642324133,"question_id":70728670,"body_markdown":"I am using the Firebase Realtime Database with Android in Java. I have the following database screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI would like to change the availability value (from 0 to 1) for the ingredient with the attribute &quot;ingredient_name = Lime&quot;. The attribute ingredient_name  is actually something like a primary key meaning that there will be no other database entry with this specific name. \r\n\r\nI tried the following code  \r\n\r\n    DatabaseReference rootRef;\r\n    rootRef = FirebaseDatabase.getInstance(&quot;https://....app&quot;).getReference();\r\n    String ingredientToBeUpdate = &quot;Lime&quot;;\r\n    \r\n    rootRef.child(&quot;ingredients&quot;).orderByChild(&quot;ingredient_name&quot;).equalTo(ingredientToBeUpdate).child(&quot;availability&quot;).setValue(1);\r\n\r\nBut I get the error &quot;Cannot resolve method &#39;child&#39; in &#39;Query&#39;&quot;. Can you tell me how to do this update properly? So I would like to update the value from the database entries who attribute  `&quot;ingredient_name&quot;` is equal to a certain string `ingredientToBeUpdate`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lde7S.png","title":"How to update entry in Firebase Database based on an attribute value","body":"<p>I am using the Firebase Realtime Database with Android in Java. I have the following database screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/lde7S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lde7S.png\" alt=\"enter image description here\" /></a></p>\n<p>I would like to change the availability value (from 0 to 1) for the ingredient with the attribute &quot;ingredient_name = Lime&quot;. The attribute ingredient_name  is actually something like a primary key meaning that there will be no other database entry with this specific name.</p>\n<p>I tried the following code</p>\n<pre><code>DatabaseReference rootRef;\nrootRef = FirebaseDatabase.getInstance(&quot;https://....app&quot;).getReference();\nString ingredientToBeUpdate = &quot;Lime&quot;;\n\nrootRef.child(&quot;ingredients&quot;).orderByChild(&quot;ingredient_name&quot;).equalTo(ingredientToBeUpdate).child(&quot;availability&quot;).setValue(1);\n</code></pre>\n<p>But I get the error &quot;Cannot resolve method 'child' in 'Query'&quot;. Can you tell me how to do this update properly? So I would like to update the value from the database entries who attribute  <code>&quot;ingredient_name&quot;</code> is equal to a certain string <code>ingredientToBeUpdate</code>.</p>\n"},{"tags":["java","spring","redhat","jmx","java-11"],"comments":[{"owner":{"account_id":3635598,"reputation":1,"user_id":3030791,"display_name":"vvitaliykuts"},"score":0,"creation_date":1642357112,"post_id":70731983,"comment_id":125043893,"body_markdown":"It looks like completely not related to jdk vendor. Checked with Eclipse Adopt openjdk. The same issue.","body":"It looks like completely not related to jdk vendor. Checked with Eclipse Adopt openjdk. The same issue."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642367894,"post_id":70731983,"comment_id":125046472,"body_markdown":"How are you building and running the application?  Spring Boot application jar?","body":"How are you building and running the application?  Spring Boot application jar?"},{"owner":{"account_id":3635598,"reputation":1,"user_id":3030791,"display_name":"vvitaliykuts"},"score":0,"creation_date":1642526962,"post_id":70731983,"comment_id":125092261,"body_markdown":"I am building via maven via spring boot maven plugin and using fat jar to start. I have found the problem. I will share soon and answer for my question.","body":"I am building via maven via spring boot maven plugin and using fat jar to start. I have found the problem. I will share soon and answer for my question."}],"owner":{"account_id":3635598,"reputation":1,"user_id":3030791,"display_name":"vvitaliykuts"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642350645,"creation_date":1642350645,"question_id":70731983,"body_markdown":"We recently migrated our app to java 11 and we are experiencing issues when using jmx to access mbeans. We used JDK Mission Control and also jmx term (https://docs.cyclopsgroup.org/welcome, it is based on jconsole) to access. MBeans are exposed via Spring (5.2.5.RELEASE).\r\n\r\nThe same functionality worked fine with java 7 and it looks like it works with java11 adoptjdk (not fully verified on the same conditions, just checked when app runs in Intellij).\r\n\r\nIt could be some problem with locale we use to run but changing of locale doesn&#39;t have any difference.\r\n\r\nEnvironment:\r\njava: \r\nopenjdk version &quot;11.0.13&quot; 2021-10-19 LTS\r\nOpenJDK Runtime Environment 18.9 (build 11.0.13+8-LTS)\r\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.13+8-LTS, mixed mode, sharing)\r\nVendor is RedHat\r\n\r\nlinux:\r\nNAME=&quot;Red Hat Enterprise Linux Server&quot;\r\nVERSION=&quot;7.9 (Maipo)&quot;\r\n\r\nlocale:\r\n```\r\nLANG=C\r\nLC_CTYPE=&quot;C&quot;\r\nLC_NUMERIC=&quot;C&quot;\r\nLC_TIME=&quot;C&quot;\r\nLC_COLLATE=&quot;C&quot;\r\nLC_MONETARY=&quot;C&quot;\r\nLC_MESSAGES=&quot;C&quot;\r\nLC_PAPER=&quot;C&quot;\r\nLC_NAME=&quot;C&quot;\r\nLC_ADDRESS=&quot;C&quot;\r\nLC_TELEPHONE=&quot;C&quot;\r\nLC_MEASUREMENT=&quot;C&quot;\r\nLC_IDENTIFICATION=&quot;C&quot;\r\nLC_ALL=\r\n```\r\n\r\n\r\nException:\r\n```\r\n\r\n    javax.management.RuntimeMBeanException: java.util.MissingResourceException: Can&#39;t find bundle for base name sun.security.util.Resources, locale en_US\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrow(DefaultMBeanServerInterceptor.java:829)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrowMaybeMBeanException(DefaultMBeanServerInterceptor.java:842)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\r\n    \tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1406)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \tat java.rmi/sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:303)\r\n    \tat java.rmi/sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:279)\r\n    \tat java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:161)\r\n    \tat jdk.remoteref/jdk.jmx.remote.internal.rmi.PRef.invoke(Unknown Source)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl_Stub.invoke(Unknown Source)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnector$RemoteMBeanServerConnection.invoke(RMIConnector.java:1021)\r\n    \tat org.openjdk.jmc.rjmx.internal.MCMBeanServerConnection.invoke(MCMBeanServerConnection.java:258)\r\n    \tat org.openjdk.jmc.rjmx.internal.MBeanOperationWrapper$1.call(MBeanOperationWrapper.java:104)\r\n    \tat org.openjdk.jmc.rjmx.ui.operations.ExecuteOperationForm$4.run(ExecuteOperationForm.java:182)\r\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n    Caused by: java.util.MissingResourceException: Can&#39;t find bundle for base name sun.security.util.Resources, locale en_US\r\n    \tat java.base/java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2055)\r\n    \tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1689)\r\n    \tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1582)\r\n    \tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1556)\r\n    \tat java.base/java.util.ResourceBundle.getBundle(ResourceBundle.java:857)\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n    \tat java.base/sun.security.util.ResourcesMgr.getBundle(ResourcesMgr.java:54)\r\n    \tat java.base/sun.security.util.ResourcesMgr.getString(ResourcesMgr.java:40)\r\n    \tat java.base/javax.security.auth.Subject.collectionNullClean(Subject.java:1004)\r\n    \tat java.base/javax.security.auth.Subject$SecureSet.containsAll(Subject.java:1279)\r\n    \tat java.base/javax.security.auth.Subject$SecureSet.equals(Subject.java:1382)\r\n    \tat java.base/java.util.Collections$SynchronizedSet.equals(Collections.java:2143)\r\n    \tat java.base/javax.security.auth.SubjectDomainCombiner.combine(SubjectDomainCombiner.java:196)\r\n    \tat java.management/com.sun.jmx.remote.security.JMXSubjectDomainCombiner.combine(JMXSubjectDomainCombiner.java:71)\r\n    \tat java.base/java.security.AccessControlContext.optimize(AccessControlContext.java:608)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.getCombinedACC(ProtectionDomain.java:109)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.management/javax.management.modelmbean.RequiredModelMBean.resolveMethod(RequiredModelMBean.java:1047)\r\n    \tat java.management/javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1005)\r\n    \tat org.springframework.jmx.export.SpringModelMBean.invoke(SpringModelMBean.java:90)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\r\n    \tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1406)\r\n    \tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.IllegalStateException: Recursive update\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1760)\r\n    \tat java.base/sun.security.util.ResourcesMgr.getBundle(ResourcesMgr.java:54)\r\n    \tat java.base/sun.security.util.ResourcesMgr.getString(ResourcesMgr.java:40)\r\n    \tat java.base/javax.security.auth.Subject.collectionNullClean(Subject.java:1004)\r\n    \tat java.base/javax.security.auth.Subject$SecureSet.containsAll(Subject.java:1279)\r\n    \tat java.base/javax.security.auth.Subject$SecureSet.equals(Subject.java:1382)\r\n    \tat java.base/java.util.Collections$SynchronizedSet.equals(Collections.java:2143)\r\n    \tat java.base/javax.security.auth.SubjectDomainCombiner.combine(SubjectDomainCombiner.java:196)\r\n    \tat java.management/com.sun.jmx.remote.security.JMXSubjectDomainCombiner.combine(JMXSubjectDomainCombiner.java:71)\r\n    \tat java.base/java.security.AccessControlContext.optimize(AccessControlContext.java:608)\r\n    \tat java.base/java.security.AccessController.getContext(AccessController.java:839)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:424)\r\n    \tat java.base/java.util.ResourceBundle$ResourceBundleProviderHelper.loadResourceBundle(ResourceBundle.java:3602)\r\n    \tat java.base/java.util.ResourceBundle.loadBundle(ResourceBundle.java:1844)\r\n    \tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1774)\r\n    \tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1728)\r\n    \tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1728)\r\n    \tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1662)\r\n    \t... 42 more\r\n\r\n```","title":"Java 11 java.util.MissingResourceException: Can&#39;t find bundle for base name sun.security.util.Resources, locale en_US when calling jmx Bean","body":"<p>We recently migrated our app to java 11 and we are experiencing issues when using jmx to access mbeans. We used JDK Mission Control and also jmx term (<a href=\"https://docs.cyclopsgroup.org/welcome\" rel=\"nofollow noreferrer\">https://docs.cyclopsgroup.org/welcome</a>, it is based on jconsole) to access. MBeans are exposed via Spring (5.2.5.RELEASE).</p>\n<p>The same functionality worked fine with java 7 and it looks like it works with java11 adoptjdk (not fully verified on the same conditions, just checked when app runs in Intellij).</p>\n<p>It could be some problem with locale we use to run but changing of locale doesn't have any difference.</p>\n<p>Environment:\njava:\nopenjdk version &quot;11.0.13&quot; 2021-10-19 LTS\nOpenJDK Runtime Environment 18.9 (build 11.0.13+8-LTS)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.13+8-LTS, mixed mode, sharing)\nVendor is RedHat</p>\n<p>linux:\nNAME=&quot;Red Hat Enterprise Linux Server&quot;\nVERSION=&quot;7.9 (Maipo)&quot;</p>\n<p>locale:</p>\n<pre><code>LANG=C\nLC_CTYPE=&quot;C&quot;\nLC_NUMERIC=&quot;C&quot;\nLC_TIME=&quot;C&quot;\nLC_COLLATE=&quot;C&quot;\nLC_MONETARY=&quot;C&quot;\nLC_MESSAGES=&quot;C&quot;\nLC_PAPER=&quot;C&quot;\nLC_NAME=&quot;C&quot;\nLC_ADDRESS=&quot;C&quot;\nLC_TELEPHONE=&quot;C&quot;\nLC_MEASUREMENT=&quot;C&quot;\nLC_IDENTIFICATION=&quot;C&quot;\nLC_ALL=\n</code></pre>\n<p>Exception:</p>\n<pre><code>\n    javax.management.RuntimeMBeanException: java.util.MissingResourceException: Can't find bundle for base name sun.security.util.Resources, locale en_US\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrow(DefaultMBeanServerInterceptor.java:829)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.rethrowMaybeMBeanException(DefaultMBeanServerInterceptor.java:842)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:811)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1406)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        at java.rmi/sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:303)\n        at java.rmi/sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:279)\n        at java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:161)\n        at jdk.remoteref/jdk.jmx.remote.internal.rmi.PRef.invoke(Unknown Source)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl_Stub.invoke(Unknown Source)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnector$RemoteMBeanServerConnection.invoke(RMIConnector.java:1021)\n        at org.openjdk.jmc.rjmx.internal.MCMBeanServerConnection.invoke(MCMBeanServerConnection.java:258)\n        at org.openjdk.jmc.rjmx.internal.MBeanOperationWrapper$1.call(MBeanOperationWrapper.java:104)\n        at org.openjdk.jmc.rjmx.ui.operations.ExecuteOperationForm$4.run(ExecuteOperationForm.java:182)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n    Caused by: java.util.MissingResourceException: Can't find bundle for base name sun.security.util.Resources, locale en_US\n        at java.base/java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2055)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1689)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1582)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1556)\n        at java.base/java.util.ResourceBundle.getBundle(ResourceBundle.java:857)\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n        at java.base/sun.security.util.ResourcesMgr.getBundle(ResourcesMgr.java:54)\n        at java.base/sun.security.util.ResourcesMgr.getString(ResourcesMgr.java:40)\n        at java.base/javax.security.auth.Subject.collectionNullClean(Subject.java:1004)\n        at java.base/javax.security.auth.Subject$SecureSet.containsAll(Subject.java:1279)\n        at java.base/javax.security.auth.Subject$SecureSet.equals(Subject.java:1382)\n        at java.base/java.util.Collections$SynchronizedSet.equals(Collections.java:2143)\n        at java.base/javax.security.auth.SubjectDomainCombiner.combine(SubjectDomainCombiner.java:196)\n        at java.management/com.sun.jmx.remote.security.JMXSubjectDomainCombiner.combine(JMXSubjectDomainCombiner.java:71)\n        at java.base/java.security.AccessControlContext.optimize(AccessControlContext.java:608)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.getCombinedACC(ProtectionDomain.java:109)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\n        at java.management/javax.management.modelmbean.RequiredModelMBean.resolveMethod(RequiredModelMBean.java:1047)\n        at java.management/javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1005)\n        at org.springframework.jmx.export.SpringModelMBean.invoke(SpringModelMBean.java:90)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1406)\n        at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n    Caused by: java.lang.IllegalStateException: Recursive update\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1760)\n        at java.base/sun.security.util.ResourcesMgr.getBundle(ResourcesMgr.java:54)\n        at java.base/sun.security.util.ResourcesMgr.getString(ResourcesMgr.java:40)\n        at java.base/javax.security.auth.Subject.collectionNullClean(Subject.java:1004)\n        at java.base/javax.security.auth.Subject$SecureSet.containsAll(Subject.java:1279)\n        at java.base/javax.security.auth.Subject$SecureSet.equals(Subject.java:1382)\n        at java.base/java.util.Collections$SynchronizedSet.equals(Collections.java:2143)\n        at java.base/javax.security.auth.SubjectDomainCombiner.combine(SubjectDomainCombiner.java:196)\n        at java.management/com.sun.jmx.remote.security.JMXSubjectDomainCombiner.combine(JMXSubjectDomainCombiner.java:71)\n        at java.base/java.security.AccessControlContext.optimize(AccessControlContext.java:608)\n        at java.base/java.security.AccessController.getContext(AccessController.java:839)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:424)\n        at java.base/java.util.ResourceBundle$ResourceBundleProviderHelper.loadResourceBundle(ResourceBundle.java:3602)\n        at java.base/java.util.ResourceBundle.loadBundle(ResourceBundle.java:1844)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1774)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1728)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1728)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1662)\n        ... 42 more\n\n</code></pre>\n"},{"tags":["java","eclipse-plugin","eclipse-rcp"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562958225,"creation_date":1270640416,"answer_id":2592048,"question_id":2590955,"body_markdown":"I did not find any recent File Explorer.\r\n\r\nThe Navigator view based on the [old ResourceNavigator][1] ([bug 268083][2]) is now based on the [CNF (Common Navigator Framework)][3], which can be adatped for all sort of trees.\r\n\r\nOther plugins exist to add explorer-like feature ([pathtools][4]: [![alt text][5]][5]  \n&lt;sub&gt;(source: [googlecode.com](http://pathtools.googlecode.com/files/PathToolsToolbar3.png))&lt;/sub&gt;  \n), but none propose directly a file explorer.\r\n\r\n\r\n  [1]: https://www.eclipse.org/lists/platform-ui-dev/msg04134.html\r\n  [2]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=268083\r\n  [3]: https://wiki.eclipse.org/Common_Navigator_Framework\r\n  [4]: https://code.google.com/archive/p/pathtools\r\n  [5]: https://i.stack.imgur.com/V0mH2.png","title":"Eclipse RCP File Explorer","body":"<p>I did not find any recent File Explorer.</p>\n\n<p>The Navigator view based on the <a href=\"https://www.eclipse.org/lists/platform-ui-dev/msg04134.html\" rel=\"nofollow noreferrer\">old ResourceNavigator</a> (<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=268083\" rel=\"nofollow noreferrer\">bug 268083</a>) is now based on the <a href=\"https://wiki.eclipse.org/Common_Navigator_Framework\" rel=\"nofollow noreferrer\">CNF (Common Navigator Framework)</a>, which can be adatped for all sort of trees.</p>\n\n<p>Other plugins exist to add explorer-like feature (<a href=\"https://code.google.com/archive/p/pathtools\" rel=\"nofollow noreferrer\">pathtools</a>: <a href=\"https://i.stack.imgur.com/V0mH2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V0mH2.png\" alt=\"alt text\"></a><br>\n<sub>(source: <a href=\"http://pathtools.googlecode.com/files/PathToolsToolbar3.png\" rel=\"nofollow noreferrer\">googlecode.com</a>)</sub><br>\n), but none propose directly a file explorer.</p>\n"},{"tags":[],"owner":{"account_id":287538,"reputation":6899,"user_id":587406,"accept_rate":88,"display_name":"Luiz E."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318510944,"creation_date":1318510944,"answer_id":7754547,"question_id":2590955,"body_markdown":"I done something like a File Explorer in college.  \r\nProtip: use CNF with Apache VFS, and you can extend it to explore a FTP, a Zip or anything you want.","title":"Eclipse RCP File Explorer","body":"<p>I done something like a File Explorer in college.<br>\nProtip: use CNF with Apache VFS, and you can extend it to explore a FTP, a Zip or anything you want.</p>\n"}],"owner":{"account_id":602663,"reputation":41,"user_id":310763,"display_name":"yournamehere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1642350189,"creation_date":1270629028,"question_id":2590955,"body_markdown":"Is there a good Eclipse RCP file explorer out there? I need a platform independent file explorer which should be extensible through plugins. I only found [File Arranger][1], which seems to be outdated.\r\n\r\nI just ask cause I want to develop such an explorer, but it wouldn&#39;t make sense if there is already a solution out there.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/filearranger/","title":"Eclipse RCP File Explorer","body":"<p>Is there a good Eclipse RCP file explorer out there? I need a platform independent file explorer which should be extensible through plugins. I only found <a href=\"http://sourceforge.net/projects/filearranger/\" rel=\"nofollow noreferrer\">File Arranger</a>, which seems to be outdated.</p>\n<p>I just ask cause I want to develop such an explorer, but it wouldn't make sense if there is already a solution out there.</p>\n"},{"tags":["java","spring-data-rest","springdoc"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642349537,"creation_date":1642349185,"answer_id":70731801,"question_id":70730619,"body_markdown":"Simplest &amp; less intrusive approach would be probably:\r\n```lang-java\r\npackage com.example.springdocdatarest;\r\n\r\nimport io.swagger.v3.oas.annotations.Parameter;\r\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\r\nimport io.swagger.v3.oas.annotations.media.ArraySchema;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Parameter(in = ParameterIn.QUERY,\r\n     description = &quot;Zero-based page index (0..N)&quot;,\r\n     name = &quot;offset&quot;, // !\r\n     schema = @Schema(type = &quot;integer&quot;, defaultValue = &quot;0&quot;))\r\n@Parameter(in = ParameterIn.QUERY,\r\n     description = &quot;The size of the page to be returned&quot;,\r\n     name = &quot;limit&quot;, // !\r\n     schema = @Schema(type = &quot;integer&quot;, defaultValue = &quot;20&quot;))\r\n@Parameter(in = ParameterIn.QUERY,\r\n     description = &quot;Sorting criteria in the format: property(,asc|desc). &quot;\r\n    + &quot;Default sort order is ascending. &quot; + &quot;Multiple sort criteria are supported.&quot;,\r\n     name = &quot;sort&quot;,\r\n     array = @ArraySchema(schema = @Schema(type = &quot;string&quot;)))\r\npublic @interface MyPageableAsQueryParam {\r\n\r\n}\r\n```\r\n1. Copying from https://github.com/springdoc/springdoc-openapi/blob/master/springdoc-openapi-common/src/main/java/org/springdoc/core/converters/models/PageableAsQueryParam.java\r\n2. Replacing with the values we want. (also description;)\r\n\r\nAnd using it:\r\n```lang-java\r\n@com.example.springdocdatarest.MyPageableAsQueryParam\r\n@Operation(summary = &quot;&quot;) // ...\r\n@GetMapping ...\r\n```\r\n\r\nTest (switching version and Pageable parameter (order;)):\r\n[![swagger-ui screenshot][1]][1]\r\n\r\n### Note\r\n\r\nThere are also:\r\n```lang-properties\r\nspring.data.rest.page-param-name=foo\r\nspring.data.rest.limit-param-name=bar\r\nspring.data.rest...\r\n```\r\n[tag:spring-data-rest] properties for &quot;these&quot;.\r\n\r\n  [1]: https://i.stack.imgur.com/YqadY.png","title":"Springdoc Data REST ignore overwrite Pageable parameters name","body":"<p>Simplest &amp; less intrusive approach would be probably:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.springdocdatarest;\n\nimport io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\nimport io.swagger.v3.oas.annotations.media.ArraySchema;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Parameter(in = ParameterIn.QUERY,\n     description = &quot;Zero-based page index (0..N)&quot;,\n     name = &quot;offset&quot;, // !\n     schema = @Schema(type = &quot;integer&quot;, defaultValue = &quot;0&quot;))\n@Parameter(in = ParameterIn.QUERY,\n     description = &quot;The size of the page to be returned&quot;,\n     name = &quot;limit&quot;, // !\n     schema = @Schema(type = &quot;integer&quot;, defaultValue = &quot;20&quot;))\n@Parameter(in = ParameterIn.QUERY,\n     description = &quot;Sorting criteria in the format: property(,asc|desc). &quot;\n    + &quot;Default sort order is ascending. &quot; + &quot;Multiple sort criteria are supported.&quot;,\n     name = &quot;sort&quot;,\n     array = @ArraySchema(schema = @Schema(type = &quot;string&quot;)))\npublic @interface MyPageableAsQueryParam {\n\n}\n</code></pre>\n<ol>\n<li>Copying from <a href=\"https://github.com/springdoc/springdoc-openapi/blob/master/springdoc-openapi-common/src/main/java/org/springdoc/core/converters/models/PageableAsQueryParam.java\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/blob/master/springdoc-openapi-common/src/main/java/org/springdoc/core/converters/models/PageableAsQueryParam.java</a></li>\n<li>Replacing with the values we want. (also description;)</li>\n</ol>\n<p>And using it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@com.example.springdocdatarest.MyPageableAsQueryParam\n@Operation(summary = &quot;&quot;) // ...\n@GetMapping ...\n</code></pre>\n<p>Test (switching version and Pageable parameter (order;)):\n<a href=\"https://i.stack.imgur.com/YqadY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YqadY.png\" alt=\"swagger-ui screenshot\" /></a></p>\n<h3>Note</h3>\n<p>There are also:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>spring.data.rest.page-param-name=foo\nspring.data.rest.limit-param-name=bar\nspring.data.rest...\n</code></pre>\n<p><a href=\"/questions/tagged/spring-data-rest\" class=\"post-tag\" title=\"show questions tagged &#39;spring-data-rest&#39;\" rel=\"tag\">spring-data-rest</a> properties for &quot;these&quot;.</p>\n"}],"owner":{"account_id":13559347,"reputation":196,"user_id":9781655,"display_name":"Oromis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2686,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70731801,"answer_count":1,"score":2,"last_activity_date":1642349537,"creation_date":1642340626,"question_id":70730619,"body_markdown":"In my application.properties, I have overwritten the name of the Pageable parameters:\r\n\r\n```yaml\r\nspring.data.web.pageable.page-parameter=offset\r\nspring.data.web.pageable.size-parameter=limit\r\n```\r\n\r\nBut when I go to the Swagger UI to check my Swagger documentation, the new name parameters are not used:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the signature of my function:\r\n\r\n```java\r\n@PageableAsQueryParam\r\n    @Operation(summary = &quot;&quot;)\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;&quot;,\r\n                    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = CustomPage.class))),\r\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;&quot;, content = @Content)\r\n    })\r\n    @GetMapping(path = &quot;/{version}/foo&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @Override\r\n    public ResponseEntity&lt;CustomPage&lt;ReducedAsset&gt;&gt; getAll(@ParameterObject Pageable pageable,\r\n                                                           @Parameter(description = &quot;Version from which to get the list&quot;)\r\n                                                           @PathVariable String version)\r\n```\r\n\r\nHow can I bind the new name to the documentation? And can I change the default description?\r\n\r\nThanks for your answer!\r\n\r\n  [1]: https://i.stack.imgur.com/HgCfJ.png","title":"Springdoc Data REST ignore overwrite Pageable parameters name","body":"<p>In my application.properties, I have overwritten the name of the Pageable parameters:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.data.web.pageable.page-parameter=offset\nspring.data.web.pageable.size-parameter=limit\n</code></pre>\n<p>But when I go to the Swagger UI to check my Swagger documentation, the new name parameters are not used:</p>\n<p><a href=\"https://i.stack.imgur.com/HgCfJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HgCfJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the signature of my function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PageableAsQueryParam\n    @Operation(summary = &quot;&quot;)\n    @ApiResponses(value = {\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;&quot;,\n                    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = CustomPage.class))),\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;&quot;, content = @Content)\n    })\n    @GetMapping(path = &quot;/{version}/foo&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    @Override\n    public ResponseEntity&lt;CustomPage&lt;ReducedAsset&gt;&gt; getAll(@ParameterObject Pageable pageable,\n                                                           @Parameter(description = &quot;Version from which to get the list&quot;)\n                                                           @PathVariable String version)\n</code></pre>\n<p>How can I bind the new name to the documentation? And can I change the default description?</p>\n<p>Thanks for your answer!</p>\n"},{"tags":["java","bit-manipulation"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1642271096,"post_id":70724172,"comment_id":125028491,"body_markdown":"I suggest `num &gt; 0 &amp;&amp; (num&amp;-num)==num` -- [bit twiddling hacks](https://graphics.stanford.edu/~seander/bithacks.html#DetermineIfPowerOf2)","body":"I suggest <code>num &gt; 0 &amp;&amp; (num&amp;-num)==num</code> -- <a href=\"https://graphics.stanford.edu/~seander/bithacks.html#DetermineIfPowerOf2\" rel=\"nofollow noreferrer\">bit twiddling hacks</a>"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1642271227,"post_id":70724172,"comment_id":125028529,"body_markdown":"That first for loop seems completely wrong. Not only does it not calculate the `loops` correctly, it also changes what you have stored in `n`","body":"That first for loop seems completely wrong. Not only does it not calculate the <code>loops</code> correctly, it also changes what you have stored in <code>n</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642276122,"creation_date":1642271663,"answer_id":70724289,"question_id":70724172,"body_markdown":"Here is one way to do it. But certainly not the most efficient.\r\n```\r\nint[] vals = {0, 1, 2, 4, 11, 13, 18, 28, 16, 46, 32 };\r\n\r\nfor (int v : vals) {\r\n\tSystem.out.printf(&quot;%2d - %s%n&quot;, v, isPowerOf2(v) ? &quot;yes&quot; : &quot;no&quot;);\r\n}\r\n```\r\nprints\r\n```\t\r\n 0 - no\r\n 1 - yes\r\n 2 - yes\r\n 4 - yes\r\n11 - no\r\n13 - no\r\n18 - no\r\n28 - no\r\n16 - yes\r\n46 - no\r\n32 - yes\r\n```\r\nThe following simply counts the bits. If the count equals 1, then the value is a power of 2.\r\n\r\n- if v &lt;= 0 return false.\r\n- initialize count\r\n- bump the count by 1 if lower order bit is set.\r\n- if greater than 1, immediately return false\r\n- else do an unsigned right shift by 1 and continue\r\n- when v == 0 terminate testing\r\n- return true since the count must be 1.\r\n```\r\npublic static boolean isPowerOf2(int v) {\r\n\tif (v &lt;= 0) {\r\n\t\treturn false;\r\n\t}\r\n\tint count = 0;\r\n\tdo {\r\n\t\tif ((count += (v &amp; 1)) &gt; 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} while ((v&gt;&gt;&gt;=1) != 0);\r\n\treturn true;\r\n}\r\n```\r\nWithout using bit manipulation one could simply use the `Integer.bitCount()` method to count the bits.\r\n ","title":"java program to check whether a number is a power of 2 or not using bit manipulation","body":"<p>Here is one way to do it. But certainly not the most efficient.</p>\n<pre><code>int[] vals = {0, 1, 2, 4, 11, 13, 18, 28, 16, 46, 32 };\n\nfor (int v : vals) {\n    System.out.printf(&quot;%2d - %s%n&quot;, v, isPowerOf2(v) ? &quot;yes&quot; : &quot;no&quot;);\n}\n</code></pre>\n<p>prints</p>\n<pre><code> 0 - no\n 1 - yes\n 2 - yes\n 4 - yes\n11 - no\n13 - no\n18 - no\n28 - no\n16 - yes\n46 - no\n32 - yes\n</code></pre>\n<p>The following simply counts the bits. If the count equals 1, then the value is a power of 2.</p>\n<ul>\n<li>if v &lt;= 0 return false.</li>\n<li>initialize count</li>\n<li>bump the count by 1 if lower order bit is set.</li>\n<li>if greater than 1, immediately return false</li>\n<li>else do an unsigned right shift by 1 and continue</li>\n<li>when v == 0 terminate testing</li>\n<li>return true since the count must be 1.</li>\n</ul>\n<pre><code>public static boolean isPowerOf2(int v) {\n    if (v &lt;= 0) {\n        return false;\n    }\n    int count = 0;\n    do {\n        if ((count += (v &amp; 1)) &gt; 1) {\n            return false;\n        }\n    } while ((v&gt;&gt;&gt;=1) != 0);\n    return true;\n}\n</code></pre>\n<p>Without using bit manipulation one could simply use the <code>Integer.bitCount()</code> method to count the bits.</p>\n"}],"owner":{"account_id":23950658,"reputation":1,"user_id":17942296,"display_name":"ananya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642272995,"answer_count":1,"score":0,"last_activity_date":1642348910,"creation_date":1642270827,"question_id":70724172,"body_markdown":"something is wrong with my first loop where i find the value of the variable loops. when i comment out that particular loop and run the rest of the code, the code runs perfectly but when i run the code with that for loop, i am getting different answers. please help.\r\n\r\ncode:\r\n```\r\npublic static void main(String [] args){\r\n        Scanner sc = new Scanner (System.in);\r\n        System.out.print(&quot;number : &quot;);\r\n        int n = sc.nextInt();\r\n        int inc = 0;\r\n        int loops = 0;\r\n        \r\n**// problem\r\n        for(int i = 0; n&gt;0; i++){\r\n\r\n            int b = n&gt;&gt;=i;\r\n            loops = i;\r\n        }**\r\n        \r\n        \r\n        \r\n\r\n        for (int i = 0; i&lt;=loops; i++){\r\n            int bit = 1&lt;&lt;i;\r\n            if((bit &amp; n) == 0){\r\n\r\n            }else{\r\n\r\n                inc = inc + 1;\r\n            }\r\n\r\n        }\r\n\r\n\r\n       if (inc==1){\r\n           System.out.println(&quot;power&quot;);\r\n       }else{\r\n           System.out.println(&quot;not power&quot;);\r\n       }\r\n\r\n    }\r\n```","title":"java program to check whether a number is a power of 2 or not using bit manipulation","body":"<p>something is wrong with my first loop where i find the value of the variable loops. when i comment out that particular loop and run the rest of the code, the code runs perfectly but when i run the code with that for loop, i am getting different answers. please help.</p>\n<p>code:</p>\n<pre><code>public static void main(String [] args){\n        Scanner sc = new Scanner (System.in);\n        System.out.print(&quot;number : &quot;);\n        int n = sc.nextInt();\n        int inc = 0;\n        int loops = 0;\n        \n**// problem\n        for(int i = 0; n&gt;0; i++){\n\n            int b = n&gt;&gt;=i;\n            loops = i;\n        }**\n        \n        \n        \n\n        for (int i = 0; i&lt;=loops; i++){\n            int bit = 1&lt;&lt;i;\n            if((bit &amp; n) == 0){\n\n            }else{\n\n                inc = inc + 1;\n            }\n\n        }\n\n\n       if (inc==1){\n           System.out.println(&quot;power&quot;);\n       }else{\n           System.out.println(&quot;not power&quot;);\n       }\n\n    }\n</code></pre>\n"},{"tags":["java","excel","ole"],"answers":[{"tags":[],"owner":{"account_id":197340,"reputation":7480,"user_id":441368,"accept_rate":100,"display_name":"Pushkar"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1301564611,"creation_date":1301564611,"answer_id":5497913,"question_id":5497681,"body_markdown":"JXL supports Excel worksheets created in Excecl 95/97 and 2000 -\r\n\r\nRead the below in the official JXL site - http://www.andykhan.com/jexcelapi/\r\n\r\n&gt; **Features**\r\n&gt; \r\n&gt; Reads data from Excel 95, 97, 2000\r\n&gt; workbooks Reads and writes formulas\r\n&gt; (Excel 97 and later only) Generates\r\n&gt; spreadsheets in Excel 2000 format\r\n\r\nYour excel sheet seems to be created after Excel 2000. That seems to be the problem.\r\n\r\nIf you want to read Excel files created after Excel 2000 then you should use Apache POI. It is also an easy to use API and supports MS Excel 97 to MS Excel 2008.","title":"&quot;Unable to recognize OLE stream&quot; excepion while connecting to Excel","body":"<p>JXL supports Excel worksheets created in Excecl 95/97 and 2000 -</p>\n\n<p>Read the below in the official JXL site - <a href=\"http://www.andykhan.com/jexcelapi/\" rel=\"noreferrer\">http://www.andykhan.com/jexcelapi/</a></p>\n\n<blockquote>\n  <p><strong>Features</strong></p>\n  \n  <p>Reads data from Excel 95, 97, 2000\n  workbooks Reads and writes formulas\n  (Excel 97 and later only) Generates\n  spreadsheets in Excel 2000 format</p>\n</blockquote>\n\n<p>Your excel sheet seems to be created after Excel 2000. That seems to be the problem.</p>\n\n<p>If you want to read Excel files created after Excel 2000 then you should use Apache POI. It is also an easy to use API and supports MS Excel 97 to MS Excel 2008.</p>\n"},{"tags":[],"owner":{"account_id":23956568,"reputation":1,"user_id":17947356,"display_name":"Sabari Nathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642348873,"creation_date":1642340466,"answer_id":70730593,"question_id":5497681,"body_markdown":"Usually testers will save the excel document in current installed version but for data driven framework - excel file need to save in 97-2003 file format.\r\n\r\nbelow is the code to call the excel sheets.\r\n\r\n    String[][] data=null;\r\n\r\n\t@DataProvider(name=&quot;loginData&quot;)\r\n\tpublic String[][] loginDataProvider() throws BiffException, IOException {\r\n\t\tdata=loginUsingExcel();\r\n\t\treturn data;\r\n\r\n\t}\r\n\t\r\n\tpublic String[][] loginUsingExcel() throws BiffException, IOException {\r\n\t\t\r\n\t\tFileInputStream excel=new FileInputStream(&quot;C:\\\\Users\\\\ME\\\\Desktop\\\\Filename.xls&quot;);\r\n\r\n\t\tWorkbook workbook=Workbook.getWorkbook(excel);\r\n\t\tSheet sheet = workbook.getSheet(0);\r\n\t\tint rows = sheet.getRows();\r\n\t\tint columns = sheet.getColumns();\r\n\t\t\r\n\t\tString[][] testData=new String[rows-1][columns];\r\n\t\tfor (int i = 1; i &lt; rows; i++) {\r\n\t\t\tfor (int j = 0; j &lt; columns; j++) {\r\n\t\t\t\ttestData[i-1][j]=sheet.getCell(j, i).getContents();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn testData;\r\n\t}\r\n\t ","title":"&quot;Unable to recognize OLE stream&quot; excepion while connecting to Excel","body":"<p>Usually testers will save the excel document in current installed version but for data driven framework - excel file need to save in 97-2003 file format.</p>\n<p>below is the code to call the excel sheets.</p>\n<pre><code>String[][] data=null;\n\n@DataProvider(name=&quot;loginData&quot;)\npublic String[][] loginDataProvider() throws BiffException, IOException {\n    data=loginUsingExcel();\n    return data;\n\n}\n\npublic String[][] loginUsingExcel() throws BiffException, IOException {\n    \n    FileInputStream excel=new FileInputStream(&quot;C:\\\\Users\\\\ME\\\\Desktop\\\\Filename.xls&quot;);\n\n    Workbook workbook=Workbook.getWorkbook(excel);\n    Sheet sheet = workbook.getSheet(0);\n    int rows = sheet.getRows();\n    int columns = sheet.getColumns();\n    \n    String[][] testData=new String[rows-1][columns];\n    for (int i = 1; i &lt; rows; i++) {\n        for (int j = 0; j &lt; columns; j++) {\n            testData[i-1][j]=sheet.getCell(j, i).getContents();\n        }\n    }\n    return testData;\n}\n \n</code></pre>\n"}],"owner":{"account_id":324050,"reputation":7464,"user_id":644420,"accept_rate":70,"display_name":"V I J E S H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61479,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5497913,"answer_count":2,"score":5,"last_activity_date":1642348873,"creation_date":1301563435,"question_id":5497681,"body_markdown":"I was trying to connect my Java program with an Excel file. I have did upto this. But it throws this excepion\r\n&gt;Unable to recognize OLE stream\r\n\r\nPlease, help me to complete this.\r\n\r\n\r\n    import jxl.*;\r\n    import java.io.*;\r\n    \r\n    public class excel\r\n    {\r\n          public static void main(String[] args)throws Exception\r\n          {\r\n    \r\n           File ex=new File(&quot;D:/worksps/test.xlsx&quot;);\r\n           Workbook w= Workbook.getWorkbook(ex);\r\n           Sheet s= w.getSheet(0);\r\n           for(int i=0;i&lt;s.getColumns();i++)\r\n           {\r\n             for(int j=0;j&lt;s.getRows();j++)\r\n             {\r\n                   Cell cell=s.getCell(i, j);\r\n                   System.out.println(&quot;     &quot;+cell.getContents());\r\n             }\r\n             System.out.println(&quot;\\n&quot;);\r\n           }\r\n          }\r\n    }\r\n\r\n","title":"&quot;Unable to recognize OLE stream&quot; excepion while connecting to Excel","body":"<p>I was trying to connect my Java program with an Excel file. I have did upto this. But it throws this excepion</p>\n\n<blockquote>\n  <p>Unable to recognize OLE stream</p>\n</blockquote>\n\n<p>Please, help me to complete this.</p>\n\n<pre><code>import jxl.*;\nimport java.io.*;\n\npublic class excel\n{\n      public static void main(String[] args)throws Exception\n      {\n\n       File ex=new File(\"D:/worksps/test.xlsx\");\n       Workbook w= Workbook.getWorkbook(ex);\n       Sheet s= w.getSheet(0);\n       for(int i=0;i&lt;s.getColumns();i++)\n       {\n         for(int j=0;j&lt;s.getRows();j++)\n         {\n               Cell cell=s.getCell(i, j);\n               System.out.println(\"     \"+cell.getContents());\n         }\n         System.out.println(\"\\n\");\n       }\n      }\n}\n</code></pre>\n"},{"tags":["java","android","opencv","computer-vision"],"answers":[{"tags":[],"owner":{"account_id":1866190,"reputation":3928,"user_id":1689698,"display_name":"B200011011"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642345491,"creation_date":1642345491,"answer_id":70731294,"question_id":70730028,"body_markdown":"You can look into `dilation` operation in opencv to enhance the edges. \r\n\r\nhttps://docs.opencv.org/4.x/db/df6/tutorial_erosion_dilatation.html\r\n\r\nAlso look into this example below with `Canny` edge detection, `approxPolyDP` and `minEnclosingCircle`. It is very close to your question.\r\n\r\nhttps://docs.opencv.org/4.x/da/d0c/tutorial_bounding_rects_circles.html\r\n\r\nhttps://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga0012a5fdaea70b8a9970165d98722b4c\r\n\r\nhttps://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga8ce13c24081bbc7151e9326f412190f1","title":"Enhance edges in OpenCV (Java) while removing noise","body":"<p>You can look into <code>dilation</code> operation in opencv to enhance the edges.</p>\n<p><a href=\"https://docs.opencv.org/4.x/db/df6/tutorial_erosion_dilatation.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.x/db/df6/tutorial_erosion_dilatation.html</a></p>\n<p>Also look into this example below with <code>Canny</code> edge detection, <code>approxPolyDP</code> and <code>minEnclosingCircle</code>. It is very close to your question.</p>\n<p><a href=\"https://docs.opencv.org/4.x/da/d0c/tutorial_bounding_rects_circles.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.x/da/d0c/tutorial_bounding_rects_circles.html</a></p>\n<p><a href=\"https://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga0012a5fdaea70b8a9970165d98722b4c\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga0012a5fdaea70b8a9970165d98722b4c</a></p>\n<p><a href=\"https://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga8ce13c24081bbc7151e9326f412190f1\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.x/d3/dc0/group__imgproc__shape.html#ga8ce13c24081bbc7151e9326f412190f1</a></p>\n"},{"tags":[],"owner":{"account_id":2567397,"reputation":2254,"user_id":2227070,"display_name":"Shamshirsaz.Navid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642348764,"creation_date":1642346819,"answer_id":70731489,"question_id":70730028,"body_markdown":"You want something like this?  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nNoise is usually present - it can be reduced - you can distinguish the circles with adaptiveThreshold and then find the circles using the method I described below. The point is, the real-world image you get from the camera may contain a whole bunch of other circles - so it might be best to find all the circles. Compare them all in size. Find the 4 circles that are most similar to your marker in terms of color, size and placement.\r\n\r\nA quick **python** code to distinguish the circles:\r\n```python\r\n# Make a gray version\r\ngry = cv2.cvtColor(im, cv2.COLOR_BGR2GRAY)\r\n\r\n# Thresh\r\nada = cv2.adaptiveThreshold(\r\n    gry, 255, cv2.ADAPTIVE_THRESH_GAUSSIAN_C, cv2.THRESH_BINARY, 11, 2\r\n)\r\n\r\n# Remove noises\r\nout = cv2.medianBlur(ada, 7)\r\n\r\n# Invert colors (Not needed)\r\nout = ~out\r\n```\r\n\r\nI tested the Python code and it works; you can find an equivalent for Java or C++. I tried to explain the Java code but I wrote it on the fly and did not test it. The Java code I wrote probably has errors, but it does get the point. With a bit change will probably work. I also wrote the code that should find the circles as the last block. Working with it is tricky and requires adjusting the parameters.\r\n\r\n**Java:**   \r\n```java\r\n...\r\nImgproc.cvtColor(im, gry, Imgproc.COLOR_RGBA2GRAY);\r\nImgproc.adaptiveThreshold(gry, ada, 255, \r\n    Imgproc.ADAPTIVE_THRESH_MEAN_C, Imgproc.THRESH_BINARY, 11, 2);\r\nImgproc.medianBlur(ada, out, 7);\r\n...\r\n```\r\n\r\nand for finding circles:   \r\n**Java:**   \r\n```java\r\n...\r\nSimpleBlobDetector_Params params = new SimpleBlobDetector_Params();\r\nparams.set_filterByCircularity(true);\r\nparams.set_minCircularity(0.01f);\r\nparams.set_maxArea(50000);//important\r\nSimpleBlobDetector detector = SimpleBlobDetector.create(params);\r\n\r\n// List of detected points \r\nMatOfKeyPoint keyPoints = new MatOfKeyPoint();\r\ndetector.detect(ada, keyPoints);\r\n\r\n// Draw circles on final image\r\nScalar color = new Scalar(127, 0, 255);\r\nfor (KeyPoint key: keyPoints.toList()) {\r\n    Imgproc.circle(im, key.pt, (int) (key.size / 2.0f), color, 3/*Thickness*/);\r\n}\r\n...\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bIpO3.jpg","title":"Enhance edges in OpenCV (Java) while removing noise","body":"<p>You want something like this?</p>\n<p><a href=\"https://i.stack.imgur.com/bIpO3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bIpO3.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Noise is usually present - it can be reduced - you can distinguish the circles with adaptiveThreshold and then find the circles using the method I described below. The point is, the real-world image you get from the camera may contain a whole bunch of other circles - so it might be best to find all the circles. Compare them all in size. Find the 4 circles that are most similar to your marker in terms of color, size and placement.</p>\n<p>A quick <strong>python</strong> code to distinguish the circles:</p>\n<pre class=\"lang-py prettyprint-override\"><code># Make a gray version\ngry = cv2.cvtColor(im, cv2.COLOR_BGR2GRAY)\n\n# Thresh\nada = cv2.adaptiveThreshold(\n    gry, 255, cv2.ADAPTIVE_THRESH_GAUSSIAN_C, cv2.THRESH_BINARY, 11, 2\n)\n\n# Remove noises\nout = cv2.medianBlur(ada, 7)\n\n# Invert colors (Not needed)\nout = ~out\n</code></pre>\n<p>I tested the Python code and it works; you can find an equivalent for Java or C++. I tried to explain the Java code but I wrote it on the fly and did not test it. The Java code I wrote probably has errors, but it does get the point. With a bit change will probably work. I also wrote the code that should find the circles as the last block. Working with it is tricky and requires adjusting the parameters.</p>\n<p><strong>Java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nImgproc.cvtColor(im, gry, Imgproc.COLOR_RGBA2GRAY);\nImgproc.adaptiveThreshold(gry, ada, 255, \n    Imgproc.ADAPTIVE_THRESH_MEAN_C, Imgproc.THRESH_BINARY, 11, 2);\nImgproc.medianBlur(ada, out, 7);\n...\n</code></pre>\n<p>and for finding circles:<br />\n<strong>Java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nSimpleBlobDetector_Params params = new SimpleBlobDetector_Params();\nparams.set_filterByCircularity(true);\nparams.set_minCircularity(0.01f);\nparams.set_maxArea(50000);//important\nSimpleBlobDetector detector = SimpleBlobDetector.create(params);\n\n// List of detected points \nMatOfKeyPoint keyPoints = new MatOfKeyPoint();\ndetector.detect(ada, keyPoints);\n\n// Draw circles on final image\nScalar color = new Scalar(127, 0, 255);\nfor (KeyPoint key: keyPoints.toList()) {\n    Imgproc.circle(im, key.pt, (int) (key.size / 2.0f), color, 3/*Thickness*/);\n}\n...\n</code></pre>\n"}],"owner":{"account_id":13790140,"reputation":385,"user_id":9952852,"display_name":"primix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70731489,"answer_count":2,"score":0,"last_activity_date":1642348764,"creation_date":1642336017,"question_id":70730028,"body_markdown":"I&#39;m trying to write an OpenCV program in Java that takes a photo of a marker with a phone and finds circular contours on the marker. I have gotten it working in the Android emulator (where the photo has perfect lighting conditions), but can&#39;t get it to work with the phone itself.\r\nThis is the marker I&#39;m trying to capture:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAfter using the combination of transforming to grayscale, a Gaussian blur and a Canny edge detector, I get this output:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIf I then try to find the contours on the image, the number of contours returned is really high (over 1000), but they aren&#39;t closed (because the edges seem to be too weak.\r\nThe contours drawn over the original image:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis is the code I use for the segmentation:\r\n\r\n    Mat processed = new Mat(original.height(), original.width(), original.type());\r\n    \r\n    Imgproc.cvtColor(original, processed, Imgproc.COLOR_RGB2GRAY);\r\n    \r\n    Imgproc.GaussianBlur(processed, processed, new Size(7, 7), 0.1);\r\n    \r\n    Imgproc.Canny(processed, processed,  50, 50*3, 3, false);\r\n\r\n\r\nI have tried tweaking the different parameters (thresholds etc.), but feel like that isn&#39;t the ideal solution. I&#39;m thinking there has to be a way to enhance the edges returned by the canny detector, but I haven&#39;t found anything myself.\r\n\r\nAny help is appreciated!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ks2NJ.jpg\r\n  [2]: https://i.stack.imgur.com/N6pDO.jpg\r\n  [3]: https://i.stack.imgur.com/fIPtx.jpg","title":"Enhance edges in OpenCV (Java) while removing noise","body":"<p>I'm trying to write an OpenCV program in Java that takes a photo of a marker with a phone and finds circular contours on the marker. I have gotten it working in the Android emulator (where the photo has perfect lighting conditions), but can't get it to work with the phone itself.\nThis is the marker I'm trying to capture:</p>\n<p><a href=\"https://i.stack.imgur.com/Ks2NJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ks2NJ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>After using the combination of transforming to grayscale, a Gaussian blur and a Canny edge detector, I get this output:</p>\n<p><a href=\"https://i.stack.imgur.com/N6pDO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N6pDO.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If I then try to find the contours on the image, the number of contours returned is really high (over 1000), but they aren't closed (because the edges seem to be too weak.\nThe contours drawn over the original image:</p>\n<p><a href=\"https://i.stack.imgur.com/fIPtx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIPtx.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is the code I use for the segmentation:</p>\n<pre><code>Mat processed = new Mat(original.height(), original.width(), original.type());\n\nImgproc.cvtColor(original, processed, Imgproc.COLOR_RGB2GRAY);\n\nImgproc.GaussianBlur(processed, processed, new Size(7, 7), 0.1);\n\nImgproc.Canny(processed, processed,  50, 50*3, 3, false);\n</code></pre>\n<p>I have tried tweaking the different parameters (thresholds etc.), but feel like that isn't the ideal solution. I'm thinking there has to be a way to enhance the edges returned by the canny detector, but I haven't found anything myself.</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1642344397,"post_id":70731078,"comment_id":125040700,"body_markdown":"When you do `Stock.size()`, what is `Stock` and why are you doing nothing with it? I assume it&#39;s a collection of elements of type `Stock` or a subtype thereof, since you call `size()` on it, but if that&#39;s the case you&#39;re not doing anything with the elements it contains.","body":"When you do <code>Stock.size()</code>, what is <code>Stock</code> and why are you doing nothing with it? I assume it&#39;s a collection of elements of type <code>Stock</code> or a subtype thereof, since you call <code>size()</code> on it, but if that&#39;s the case you&#39;re not doing anything with the elements it contains."},{"owner":{"account_id":23956864,"reputation":13,"user_id":17947610,"display_name":"Aleksandar Haralanov"},"score":0,"creation_date":1642344878,"post_id":70731078,"comment_id":125040832,"body_markdown":"The problem is that I have two stocks, but it only shows the frequency of one because of the way I have made the object above the FindMostFrequency() function. It only uses the values for one of the stock items, can I somehow make it so it uses all of the stock added. Sorry if I did not explain it well.","body":"The problem is that I have two stocks, but it only shows the frequency of one because of the way I have made the object above the FindMostFrequency() function. It only uses the values for one of the stock items, can I somehow make it so it uses all of the stock added. Sorry if I did not explain it well."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1642345070,"post_id":70731078,"comment_id":125040887,"body_markdown":"Where are you adding those stocks? Please post all of the relevant code.","body":"Where are you adding those stocks? Please post all of the relevant code."}],"answers":[{"tags":[],"owner":{"account_id":20634762,"reputation":66,"user_id":15148740,"display_name":"Joe Vienneau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642344839,"creation_date":1642344839,"answer_id":70731208,"question_id":70731078,"body_markdown":"I&#39;d use something like this ... you need a 2nd variable to capture the Stock, and a method to get the Stocks (getStocks()):\r\n\r\n```\r\npublic void FindMostFrequency()\r\n{\r\n    double temp = 0;\r\n    Stock mostFrequentStock = null;\r\n    for (Stock aStock : getStocks()) {\r\n       var frequency = aStock.frequency\r\n       if (temp &lt; frequency) {\r\n           temp = frequency;\r\n           mostFrequentStock = aStock\r\n       }\r\n    }\r\n    System.out.println(&quot;The stock with most frequency is: &quot; + mostFrequentStock);\r\n}\r\n```\r\n\r\nIt would also be better to access the variable using a getter instead of directly, ie getFrequency()","title":"Object can&#39;t access all the data from another object, but only what I&#39;ve specified. How to fix?","body":"<p>I'd use something like this ... you need a 2nd variable to capture the Stock, and a method to get the Stocks (getStocks()):</p>\n<pre><code>public void FindMostFrequency()\n{\n    double temp = 0;\n    Stock mostFrequentStock = null;\n    for (Stock aStock : getStocks()) {\n       var frequency = aStock.frequency\n       if (temp &lt; frequency) {\n           temp = frequency;\n           mostFrequentStock = aStock\n       }\n    }\n    System.out.println(&quot;The stock with most frequency is: &quot; + mostFrequentStock);\n}\n</code></pre>\n<p>It would also be better to access the variable using a getter instead of directly, ie getFrequency()</p>\n"},{"tags":[],"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642348747,"creation_date":1642348747,"answer_id":70731748,"question_id":70731078,"body_markdown":"Your code looks almost correct but it doesn&#39;t seem like you define the body of the for loop with curly braces.  As other posters have mentioned using a foreach loop is usually preferred in cases like this. \r\n\r\nLooping through each of the elements and simply invoking a getFrequency() method would be better. Then compare that with your current maxFrequency value. It&#39;s usually good practice to make the instance variables of a class private and have them only accessible through getters and setters.  ","title":"Object can&#39;t access all the data from another object, but only what I&#39;ve specified. How to fix?","body":"<p>Your code looks almost correct but it doesn't seem like you define the body of the for loop with curly braces.  As other posters have mentioned using a foreach loop is usually preferred in cases like this.</p>\n<p>Looping through each of the elements and simply invoking a getFrequency() method would be better. Then compare that with your current maxFrequency value. It's usually good practice to make the instance variables of a class private and have them only accessible through getters and setters.</p>\n"}],"owner":{"account_id":23956864,"reputation":13,"user_id":17947610,"display_name":"Aleksandar Haralanov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642348747,"creation_date":1642343896,"question_id":70731078,"body_markdown":"Before anything, I would like to say that I am entirely new to Java, I only started understanding the very basics of it a few days ago.\r\n\r\nI have a problem with objects here and I will show you what I mean.\r\n\r\nThis is the code for one of the functions, which is supposed to show me the stock item that has the most frequency:\r\n\r\n    InternalComponent ic = new InternalComponent(&quot;Intel&quot;, 4, 35.0, 3200.00);\r\n    \r\n    public void FindMostFrequency()\r\n    {\r\n        double temp = 0;\r\n        for (int i = 0; i&lt; Stock.size(); i++)\r\n           if (ic.frequency &gt; temp)\r\n               temp = ic.frequency;\r\n        System.out.println(&quot;The stock with most frequency is: &quot; + temp );\r\n    }\r\n\r\nThe problem is that it uses the information only from a specific object and I would like to make it so it uses it from all objects.\r\n\r\nOnce again, I would like to point out that, what I&#39;ve done here, is most likely wrong. Please point out any mistakes if possible, I really appreciate any help I can get.\r\n\r\nThis is the code for the InternalComponent class:\r\n\r\n    package com.company;\r\n    \r\n    public class InternalComponent extends Stock {\r\n        protected double frequency;\r\n    \r\n        public InternalComponent(String manufacturer, int count, double price,double frequency) {\r\n            super(manufacturer, count, price);\r\n            this.frequency = frequency;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;InternalComponent{&quot; +\r\n                    &quot;frequency=&quot; + frequency +\r\n                    &#39;}&#39;;\r\n        }\r\n    }","title":"Object can&#39;t access all the data from another object, but only what I&#39;ve specified. How to fix?","body":"<p>Before anything, I would like to say that I am entirely new to Java, I only started understanding the very basics of it a few days ago.</p>\n<p>I have a problem with objects here and I will show you what I mean.</p>\n<p>This is the code for one of the functions, which is supposed to show me the stock item that has the most frequency:</p>\n<pre><code>InternalComponent ic = new InternalComponent(&quot;Intel&quot;, 4, 35.0, 3200.00);\n\npublic void FindMostFrequency()\n{\n    double temp = 0;\n    for (int i = 0; i&lt; Stock.size(); i++)\n       if (ic.frequency &gt; temp)\n           temp = ic.frequency;\n    System.out.println(&quot;The stock with most frequency is: &quot; + temp );\n}\n</code></pre>\n<p>The problem is that it uses the information only from a specific object and I would like to make it so it uses it from all objects.</p>\n<p>Once again, I would like to point out that, what I've done here, is most likely wrong. Please point out any mistakes if possible, I really appreciate any help I can get.</p>\n<p>This is the code for the InternalComponent class:</p>\n<pre><code>package com.company;\n\npublic class InternalComponent extends Stock {\n    protected double frequency;\n\n    public InternalComponent(String manufacturer, int count, double price,double frequency) {\n        super(manufacturer, count, price);\n        this.frequency = frequency;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;InternalComponent{&quot; +\n                &quot;frequency=&quot; + frequency +\n                '}';\n    }\n}\n</code></pre>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1642348765,"post_id":70731738,"comment_id":125041765,"body_markdown":"Explanation: that&#39;s simply not valid Java. If you declare a variable in the constructor, then it is visible *only* within the constructor and nowhere else. You cannot declare a local variable such as this as public, private, or protected. Only class fields (variables declared at the class level) can be declared thusly. For detailed explanation, you will want to search and study the [Java Language Specification](https://docs.oracle.com/javase/specs/).","body":"Explanation: that&#39;s simply not valid Java. If you declare a variable in the constructor, then it is visible <i>only</i> within the constructor and nowhere else. You cannot declare a local variable such as this as public, private, or protected. Only class fields (variables declared at the class level) can be declared thusly. For detailed explanation, you will want to search and study the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java Language Specification</a>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1642348773,"post_id":70731738,"comment_id":125041767,"body_markdown":"Because they should be inside the class but outside the constructor (or any other method)","body":"Because they should be inside the class but outside the constructor (or any other method)"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642349065,"post_id":70731738,"comment_id":125041827,"body_markdown":"Here is a [link to the Java Language Specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.4) that covers what is allowed when declaring *local* variables (as you are doing with the variables within the constructor).","body":"Here is a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.4\" rel=\"nofollow noreferrer\">link to the Java Language Specification</a> that covers what is allowed when declaring <i>local</i> variables (as you are doing with the variables within the constructor)."},{"owner":{"account_id":22148190,"reputation":7,"user_id":16397110,"display_name":"Kishore Suresh"},"score":0,"creation_date":1642349136,"post_id":70731738,"comment_id":125041844,"body_markdown":"@HovercraftFullOfEels So it just won&#39;t help adding public keyword to a local variable? It still remains local?","body":"@HovercraftFullOfEels So it just won&#39;t help adding public keyword to a local variable? It still remains local?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642349174,"post_id":70731738,"comment_id":125041859,"body_markdown":"*&quot;So it just won&#39;t help adding public keyword to a local variable? It still remains local?&quot;* --  Won&#39;t help? No, it won&#39;t work; it won&#39;t be allowed. It&#39;s simply not legal Java and such code won&#39;t compile (which you really should be testing out yourself first).","body":"<i>&quot;So it just won&#39;t help adding public keyword to a local variable? It still remains local?&quot;</i> --  Won&#39;t help? No, it won&#39;t work; it won&#39;t be allowed. It&#39;s simply not legal Java and such code won&#39;t compile (which you really should be testing out yourself first)."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1642352281,"post_id":70731738,"comment_id":125042691,"body_markdown":"Simply because you can&#39;t have `public` inside code blocks. If you want to have instance variables, you need to write `public int a;` in your class body, i.e. outside of the constructor. Then you can assign a value to `a` inside your constructor.","body":"Simply because you can&#39;t have <code>public</code> inside code blocks. If you want to have instance variables, you need to write <code>public int a;</code> in your class body, i.e. outside of the constructor. Then you can assign a value to <code>a</code> inside your constructor."}],"owner":{"account_id":22148190,"reputation":7,"user_id":16397110,"display_name":"Kishore Suresh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1642348874,"answer_count":0,"score":0,"last_activity_date":1642348671,"creation_date":1642348671,"question_id":70731738,"body_markdown":"I&#39;m pretty new to Java so this might be a very silly question.\r\n\r\nI initialized my variables inside the constructor at first, and then learnt that the scope of those variables will be limited only to the scope\r\n\r\nSo I tried adding the PUBLIC keyword to the variables, and still doesn&#39;t work.\r\nCan someone explain why?\r\n```\r\nclass Demo{\r\n  Demo(){\r\n    public int a=3;\r\n    public int b=5;\r\n  }\r\n\r\n  int sum(int x, int y){\r\n    return x+y;\r\n  }\r\n  public static void main(String[] args){\r\n    Demo obj= new Demo();\r\n    System.out.println(obj.a);\r\n  }\r\n}\r\n```","title":"Declaring Public Variable inside Constructor","body":"<p>I'm pretty new to Java so this might be a very silly question.</p>\n<p>I initialized my variables inside the constructor at first, and then learnt that the scope of those variables will be limited only to the scope</p>\n<p>So I tried adding the PUBLIC keyword to the variables, and still doesn't work.\nCan someone explain why?</p>\n<pre><code>class Demo{\n  Demo(){\n    public int a=3;\n    public int b=5;\n  }\n\n  int sum(int x, int y){\n    return x+y;\n  }\n  public static void main(String[] args){\n    Demo obj= new Demo();\n    System.out.println(obj.a);\n  }\n}\n</code></pre>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":17279690,"reputation":68,"user_id":12542617,"display_name":"Lisa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642347557,"creation_date":1642347184,"answer_id":70731551,"question_id":70731462,"body_markdown":"A quick search should lead you to this:\r\nhttps://bukkit.org/threads/creating-a-loop.119088/\r\nhttps://www.codegrepper.com/code-examples/java/bukkit+repeating+task+every+minute+spigot\r\n\r\nThe code, without testing it:\r\n\r\n    Bukkit.getScheduler().scheduleSyncRepeatingTask(plugin, new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            Bukkit.broadcastMessage(&quot;This message is shown immediately and then repeated every second&quot;);\r\n        }\r\n    }, 0L, 20L); //0 Tick initial delay, 20 Tick (1 Second) between repeats\r\n\r\nIt seems like in Minecraft, 20 Ticks equals to one second. So you should calculate 20 x 60 x 5 to get the amount of ticks needed for 5 minutes.\r\n\r\nTry 6000.\r\n\r\nI also recommend to you to read the Javadoc of the Bukkit project.\r\n\r\nhttps://hub.spigotmc.org/javadocs/bukkit/org/bukkit/scheduler/BukkitScheduler.html#scheduleSyncRepeatingTask(org.bukkit.plugin.Plugin,org.bukkit.scheduler.BukkitRunnable,long,long) \r\n\r\nThis should lead you to the current function that is used.","title":"how do i loop an if statement on a timer in java?","body":"<p>A quick search should lead you to this:\n<a href=\"https://bukkit.org/threads/creating-a-loop.119088/\" rel=\"nofollow noreferrer\">https://bukkit.org/threads/creating-a-loop.119088/</a>\n<a href=\"https://www.codegrepper.com/code-examples/java/bukkit+repeating+task+every+minute+spigot\" rel=\"nofollow noreferrer\">https://www.codegrepper.com/code-examples/java/bukkit+repeating+task+every+minute+spigot</a></p>\n<p>The code, without testing it:</p>\n<pre><code>Bukkit.getScheduler().scheduleSyncRepeatingTask(plugin, new Runnable() {\n    @Override\n    public void run() {\n        Bukkit.broadcastMessage(&quot;This message is shown immediately and then repeated every second&quot;);\n    }\n}, 0L, 20L); //0 Tick initial delay, 20 Tick (1 Second) between repeats\n</code></pre>\n<p>It seems like in Minecraft, 20 Ticks equals to one second. So you should calculate 20 x 60 x 5 to get the amount of ticks needed for 5 minutes.</p>\n<p>Try 6000.</p>\n<p>I also recommend to you to read the Javadoc of the Bukkit project.</p>\n<p><a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/scheduler/BukkitScheduler.html#scheduleSyncRepeatingTask(org.bukkit.plugin.Plugin,org.bukkit.scheduler.BukkitRunnable,long,long)\" rel=\"nofollow noreferrer\">https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/scheduler/BukkitScheduler.html#scheduleSyncRepeatingTask(org.bukkit.plugin.Plugin,org.bukkit.scheduler.BukkitRunnable,long,long)</a></p>\n<p>This should lead you to the current function that is used.</p>\n"}],"owner":{"account_id":23957166,"reputation":11,"user_id":17947871,"display_name":"smurfexe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1642350722,"accepted_answer_id":70731551,"answer_count":1,"score":-3,"last_activity_date":1642347557,"creation_date":1642346594,"question_id":70731462,"body_markdown":"so im trying to make a minecraft plugin that sends a string of text in chat on random intervals. now im trying to make it start from line 1 every 5 minutes. i just dont know how to do this Ps: im new to java. \r\n\r\n\r\n\r\n    Random rand = new Random();\r\n    int n = rand.nextInt(3);\r\n\r\n    if (n == 1) {\r\n        Bukkit.broadcastMessage(&quot;yeet&quot;);\r\n    }\r\n","title":"how do i loop an if statement on a timer in java?","body":"<p>so im trying to make a minecraft plugin that sends a string of text in chat on random intervals. now im trying to make it start from line 1 every 5 minutes. i just dont know how to do this Ps: im new to java.</p>\n<pre><code>Random rand = new Random();\nint n = rand.nextInt(3);\n\nif (n == 1) {\n    Bukkit.broadcastMessage(&quot;yeet&quot;);\n}\n</code></pre>\n"},{"tags":["java","jackson","apache-commons-lang3"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1642344848,"post_id":70731159,"comment_id":125040825,"body_markdown":"`Result&lt;T&lt;R&gt;&gt;` If the T is intended as a generic type parameter, then this isn&#39;t java. You can&#39;t have &quot;Some unknown type but I do know that it has exactly 1 generics param, and that param will be R&quot;. You need T to be an actual type there. `List&lt;R&gt;`, `Map&lt;String, List&lt;Set&lt;Foobar&gt;&gt;&gt;` is all fine. `&lt;X, R extends Collection&lt;X&gt;&gt;` is a valid declaration of type args.","body":"<code>Result&lt;T&lt;R&gt;&gt;</code> If the T is intended as a generic type parameter, then this isn&#39;t java. You can&#39;t have &quot;Some unknown type but I do know that it has exactly 1 generics param, and that param will be R&quot;. You need T to be an actual type there. <code>List&lt;R&gt;</code>, <code>Map&lt;String, List&lt;Set&lt;Foobar&gt;&gt;&gt;</code> is all fine. <code>&lt;X, R extends Collection&lt;X&gt;&gt;</code> is a valid declaration of type args."},{"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"score":0,"creation_date":1642345402,"post_id":70731159,"comment_id":125040969,"body_markdown":"```T``` here is a substantive class like List, not a generic type placeholder. I mean how to represent ```Result&lt;List&lt;Integer&gt;&gt;``` and ```Result&lt;List, Integer&gt;```","body":"<code>T</code> here is a substantive class like List, not a generic type placeholder. I mean how to represent <code>Result&lt;List&lt;Integer&gt;&gt;</code> and <code>Result&lt;List, Integer&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642347239,"creation_date":1642347239,"answer_id":70731562,"question_id":70731159,"body_markdown":"`Map&lt;String, Integer&gt;`:\r\n\r\n```java\r\nType mapOfStringsToIntegers =\r\n  TypeUtils.parameterize(Map.class, String.class, Result.class);\r\n```\r\n\r\n`List&lt;List&lt;String&gt;&gt;`:\r\n\r\n```java\r\nType listOfStrings = TypeUtils.parameterize(List.class, String.class);\r\nType listOfListOfStrings = TypeUtils.parameterize(List.class, listOfStrings);\r\n```\r\n\r\nSeems straightforward.\r\n\r\nI think you&#39;re not using jackson optimally here. Java is highly nominal. You don&#39;t __want__ a `Map&lt;String, List&lt;List&lt;Integer&gt;&gt;&gt;`. You want to create a simple, non-parameterized class that exactly describes the XML or JSON you want to send or receive, and then just supply that. Then jackson will take care of it. If you must, have a field in that class that is e.g. a `List&lt;List&lt;String&gt;&gt;` - jackson can figure out fields with no effort on your part. No need for apache&#39;s `TypeUtils`.\r\n","title":"How can I use TypeUtils.parameterize to represent nested generic type like Result&lt;List&lt;R&gt;&gt;","body":"<p><code>Map&lt;String, Integer&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Type mapOfStringsToIntegers =\n  TypeUtils.parameterize(Map.class, String.class, Result.class);\n</code></pre>\n<p><code>List&lt;List&lt;String&gt;&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Type listOfStrings = TypeUtils.parameterize(List.class, String.class);\nType listOfListOfStrings = TypeUtils.parameterize(List.class, listOfStrings);\n</code></pre>\n<p>Seems straightforward.</p>\n<p>I think you're not using jackson optimally here. Java is highly nominal. You don't <strong>want</strong> a <code>Map&lt;String, List&lt;List&lt;Integer&gt;&gt;&gt;</code>. You want to create a simple, non-parameterized class that exactly describes the XML or JSON you want to send or receive, and then just supply that. Then jackson will take care of it. If you must, have a field in that class that is e.g. a <code>List&lt;List&lt;String&gt;&gt;</code> - jackson can figure out fields with no effort on your part. No need for apache's <code>TypeUtils</code>.</p>\n"}],"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642347239,"creation_date":1642344549,"question_id":70731159,"body_markdown":"I&#39;m using ```org.apache.commons.lang3.reflect.TypeUtils``` and jackson library to handle object deserialization。\r\n\r\nOne layer nested generic type can be handled well with the following code.\r\n```\r\n            final Result&lt;R&gt; ret = mapper.readValue(reader, new TypeReference&lt;&gt;() {\r\n                @Override\r\n                public java.lang.reflect.Type getType() {\r\n                    return TypeUtils.parameterize(Result.class, req.clazz);\r\n                }\r\n            });\r\n```\r\nBut I&#39;m not sure how to handle generic type like ```Result&lt;T&lt;R&gt;&gt;```.\r\n\r\nCan I use ```TypeUtils.parameterize(Result.class, T, R)``` to represent ```Result&lt;T, R&gt;``` and ```TypeUtils.parameterize(Result.class, TypeUtils.parameterize(T, R))``` to ```Result&lt;T&lt;R&gt;```","title":"How can I use TypeUtils.parameterize to represent nested generic type like Result&lt;List&lt;R&gt;&gt;","body":"<p>I'm using <code>org.apache.commons.lang3.reflect.TypeUtils</code> and jackson library to handle object deserialization。</p>\n<p>One layer nested generic type can be handled well with the following code.</p>\n<pre><code>            final Result&lt;R&gt; ret = mapper.readValue(reader, new TypeReference&lt;&gt;() {\n                @Override\n                public java.lang.reflect.Type getType() {\n                    return TypeUtils.parameterize(Result.class, req.clazz);\n                }\n            });\n</code></pre>\n<p>But I'm not sure how to handle generic type like <code>Result&lt;T&lt;R&gt;&gt;</code>.</p>\n<p>Can I use <code>TypeUtils.parameterize(Result.class, T, R)</code> to represent <code>Result&lt;T, R&gt;</code> and <code>TypeUtils.parameterize(Result.class, TypeUtils.parameterize(T, R))</code> to <code>Result&lt;T&lt;R&gt;</code></p>\n"},{"tags":["java","android","post"],"answers":[{"tags":[],"owner":{"account_id":17040528,"reputation":1,"user_id":12328539,"display_name":"Ahmed Awad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642340173,"creation_date":1642340173,"answer_id":70730559,"question_id":70728080,"body_markdown":"Here&#39;s an idea: save also the registration information along with the time registered on (in milliseconds for example) and in your splash screen, and if the 7 days are passed: Just resend these registration info and rewrite the customer&#39;s token.","title":"I want to create a new token for the customer in the background Android Studio application","body":"<p>Here's an idea: save also the registration information along with the time registered on (in milliseconds for example) and in your splash screen, and if the 7 days are passed: Just resend these registration info and rewrite the customer's token.</p>\n"},{"tags":[],"owner":{"account_id":7595730,"reputation":1023,"user_id":5761957,"display_name":"Prem Chand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642346877,"creation_date":1642346877,"answer_id":70731501,"question_id":70728080,"body_markdown":"Ask API developer to add an error with 403 error code when the token is expired. When you get a 403 error in API then redirect to the user on the login page.  ","title":"I want to create a new token for the customer in the background Android Studio application","body":"<p>Ask API developer to add an error with 403 error code when the token is expired. When you get a 403 error in API then redirect to the user on the login page.</p>\n"}],"owner":{"account_id":23954296,"reputation":1,"user_id":17945400,"display_name":"karnushka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642346877,"creation_date":1642317463,"question_id":70728080,"body_markdown":"As part of our Android app.\r\nAfter the registration part, we are using SharedPreferences for staying connected.\r\nso the customer will register one time and then stays connected without the login part.\r\nthe problem is i dont know how to send the registration details when i need to\r\nrenew the custome&#39;s token(We want to create the token after 7 days).\r\n\r\nIn registration we are using json(token creation happans in the backend code(C#)).\r\n\r\nPlease assist.\r\nTnx.","title":"I want to create a new token for the customer in the background Android Studio application","body":"<p>As part of our Android app.\nAfter the registration part, we are using SharedPreferences for staying connected.\nso the customer will register one time and then stays connected without the login part.\nthe problem is i dont know how to send the registration details when i need to\nrenew the custome's token(We want to create the token after 7 days).</p>\n<p>In registration we are using json(token creation happans in the backend code(C#)).</p>\n<p>Please assist.\nTnx.</p>\n"},{"tags":["java","swing","user-interface","awt"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1642280580,"post_id":70725383,"comment_id":125030661,"body_markdown":"`setLayout(null);` --  Learn the layout managers, and ***use*** the layout managers, and this will likely solve many of your layout problems.","body":"<code>setLayout(null);</code> --  Learn the layout managers, and <b><i>use</i></b> the layout managers, and this will likely solve many of your layout problems."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1642281141,"post_id":70725383,"comment_id":125030792,"body_markdown":"Also, looks like you really want to use a JList or JTable","body":"Also, looks like you really want to use a JList or JTable"},{"owner":{"account_id":18820863,"reputation":29,"user_id":13726908,"display_name":"vasll"},"score":0,"creation_date":1642281246,"post_id":70725383,"comment_id":125030817,"body_markdown":"I&#39;ll look into JLists man, thanks.","body":"I&#39;ll look into JLists man, thanks."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1642282071,"post_id":70725383,"comment_id":125031013,"body_markdown":"@JoeMama42069 when you place a component into a container _**without**_ specifying the component&#39;s _preferred_ size, you are basically delegating the responsibility or adjusting the component&#39;s size to the container. In Java Swing, the `setSize()` methods are used to define the size of a component when layout manager is set to `null` . When a component uses a layout manager (including default), you must set the preferred size of the component using the corresponding method. In general, this is how it is done in Swing.","body":"@JoeMama42069 when you place a component into a container <i><b>without</b></i> specifying the component&#39;s <i>preferred</i> size, you are basically delegating the responsibility or adjusting the component&#39;s size to the container. In Java Swing, the <code>setSize()</code> methods are used to define the size of a component when layout manager is set to <code>null</code> . When a component uses a layout manager (including default), you must set the preferred size of the component using the corresponding method. In general, this is how it is done in Swing."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642346319,"creation_date":1642284027,"answer_id":70725786,"question_id":70725383,"body_markdown":"First off, never do this:\r\n\r\n```\r\nsetLayout(null);\r\n```\r\n\r\nNext, if you want things compressed at the top of a container, then use a layout that does this. such as a BorderLayout with the compressed items placed into a JPanel (perhaps one that uses a GridLayout) that is placed BorderLayout.PAGE_START\r\n\r\nActually, it looks as if your best solution is to us a JList, one that uses a custom renderer that places your time JLabel and two text JLabels into a JPanel and displays this in the list. So let&#39;s explore that.\r\n\r\nFirst create a class to hold the data that is displayed by the JList, which looks to be a date and two lines of text:\r\n\r\n```\r\npublic class ListItem {\r\n\tprivate LocalDate date;\r\n\tprivate String text1;\r\n\tprivate String text2;\r\n\r\n\tpublic ListItem(LocalDate date, String text1, String text2) {\r\n\t\tsuper();\r\n\t\tthis.date = date;\r\n\t\tthis.text1 = text1;\r\n\t\tthis.text2 = text2;\r\n\t}\r\n\r\n\tpublic LocalDate getDate() {\r\n\t\treturn date;\r\n\t}\r\n\r\n\tpublic String getText1() {\r\n\t\treturn text1;\r\n\t}\r\n\r\n\tpublic String getText2() {\r\n\t\treturn text2;\r\n\t}\t\r\n}\r\n```\r\n\r\nThen let&#39;s create a renderer that a JList can use to display the above information in a JPanel. This is more complicated and requires that the class create a JPanel that places the labels where we want them, perhaps using a GridLayout with 1 column and 3 rows, plus some gaps between the rows: `setLayout(new GridLayout(3, 1, 2 * gap, 2 * gap));`. The class must implement the `ListCellRenderer&lt;T&gt;` interface which has one method: `public Component getListCellRendererComponent(...)`. Java will pass in the paramters into this method, including a ListItem value, and we will use that value to fill in the JLabels that we add into this JPanel. Edited to highlight selected items.\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class ListItemRenderer extends JPanel implements ListCellRenderer&lt;ListItem&gt; {\r\n\tprivate static final Color LIGHT_BLUE = new Color(204, 255, 255);\r\n\tprivate static final Color REDDISH_GREY = new Color(205, 126, 121);\r\n\tprivate DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\n\tprivate static final int GAP = 2;\r\n\tprivate Border emptyBorder = BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP);\r\n\tprivate Border blackBorder = BorderFactory.createLineBorder(Color.BLACK);\r\n\tprivate Border redBorder = BorderFactory.createLineBorder(REDDISH_GREY, 2);\r\n\tprivate JLabel dateLabel = new JLabel();\r\n\tprivate JLabel text1Label = new JLabel();\r\n\tprivate JLabel text2Label = new JLabel();\r\n\t\r\n\tpublic ListItemRenderer() {\r\n\t\tdateLabel.setFont(dateLabel.getFont().deriveFont(Font.BOLD, 14f));\r\n\t\ttext1Label.setFont(text1Label.getFont().deriveFont(Font.BOLD));\r\n\t\ttext2Label.setFont(text1Label.getFont().deriveFont(Font.ITALIC));\t\t\r\n\t\t\r\n\t\tint gap = 2;\r\n\t\tsetLayout(new GridLayout(0, 1, 2 * gap, 2 * gap));\r\n\t\t\r\n\t\tsetBorder(BorderFactory.createCompoundBorder(emptyBorder, blackBorder));\r\n\t\tadd(dateLabel);\r\n\t\tadd(text1Label);\r\n\t\tadd(text2Label);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Component getListCellRendererComponent(JList&lt;? extends ListItem&gt; list, ListItem value, int index,\r\n\t\t\tboolean isSelected, boolean cellHasFocus) {\r\n\t\tif (value != null) {\r\n\t\t\tString dateText = dateFormatter.format(value.getDate());\r\n\t\t\tdateLabel.setText(dateText);\r\n\t\t\ttext1Label.setText(value.getText1());\r\n\t\t\ttext2Label.setText(value.getText2());\r\n\t\t} else {\r\n\t\t\tdateLabel.setText(&quot;&quot;);\r\n\t\t\ttext1Label.setText(&quot;&quot;);\r\n\t\t\ttext2Label.setText(&quot;&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif (isSelected ) {\r\n\t\t\tsetBackground(LIGHT_BLUE);\r\n\t\t\tsetBorder(BorderFactory.createCompoundBorder(emptyBorder, redBorder));\r\n\t\t} else {\r\n\t\t\tsetBackground(null);\r\n\t\t\tsetBorder(BorderFactory.createCompoundBorder(emptyBorder, blackBorder));\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nAnd now the main program that puts this all together, edited to show removing items:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.KeyEvent;\r\nimport java.time.LocalDate;\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class MainPanel extends JPanel {\r\n\tDefaultListModel&lt;ListItem&gt; listModel = new DefaultListModel&lt;&gt;();\r\n\tprivate JList&lt;ListItem&gt; jList = new JList&lt;&gt;(listModel);\r\n\tprivate JScrollPane scrollPane = new JScrollPane(jList);\r\n\tprivate JButton addButton = new JButton(&quot;Add&quot;);\r\n\tprivate JButton removeButton = new JButton(&quot;Remove&quot;);\r\n\t\r\n\tpublic MainPanel() {\r\n\t\tjList.setPrototypeCellValue(new ListItem(LocalDate.now(), \r\n\t\t\t\t&quot;This is text 1 for testing.  This is text 1 for testing.   This is text 1 for testing&quot;, \r\n\t\t\t\t&quot;This is text 2 for testing.  This is text 2 for testing.   This is text 2 for testing&quot;));\r\n\t\tjList.setVisibleRowCount(4);\r\n\t\tjList.setCellRenderer(new ListItemRenderer());\r\n\t\tscrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\t\r\n\t\tJPanel buttonPanel = new JPanel(new GridLayout(0, 1, 3, 3));\r\n\t\tbuttonPanel.add(addButton);\r\n\t\tbuttonPanel.add(removeButton);\r\n\t\t\r\n\t\taddButton.setMnemonic(KeyEvent.VK_A);\r\n\t\tremoveButton.setMnemonic(KeyEvent.VK_R);\r\n\t\taddButton.addActionListener(e -&gt; addEvent());\r\n\t\tremoveButton.addActionListener(e -&gt; removeEvent());\r\n\t\t\r\n\t\tJPanel rightPanel = new JPanel();\r\n\t\trightPanel.add(buttonPanel);\r\n\t\t\r\n\t\tint gap = 5;\r\n\t\tsetBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\t\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tadd(scrollPane);\r\n\t\tadd(rightPanel, BorderLayout.LINE_END);\r\n\t}\r\n\t\r\n\tprivate void removeEvent() {\r\n\t\tint[] selectedIndices = jList.getSelectedIndices();\r\n\t\tfor (int i = selectedIndices.length - 1; i &gt;= 0; i--) {\r\n\t\t\tlistModel.remove(selectedIndices[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void addEvent() {\r\n\t\t// this adds random stuff to the JList\r\n\t\tString text1 = &quot;Some random text: &quot; + randomText();\r\n\t\tString text2 = &quot;Some random text: &quot; + randomText();\r\n\t\t\t\r\n\t\tlistModel.addElement(new ListItem(LocalDate.now(), text1, text2));\r\n\t\t\r\n\t\t// TODO: change this so that it adds *real* data to the JList\r\n\t}\r\n\t\r\n\tprivate String randomText() {\r\n\t\tRandom random = new Random();\r\n\t\tStringBuilder builder = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; 2 + random.nextInt(3); i++) {\r\n\t\t\tfor (int j = 0; j &lt; 3 + random.nextInt(5); j++) {\r\n\t\t\t\tchar c = (char) (&#39;a&#39; + random.nextInt(&#39;z&#39; - &#39;a&#39;));\r\n\t\t\t\tbuilder.append(c);\r\n\t\t\t}\r\n\t\t\tbuilder.append(&quot; &quot;);\r\n\t\t}\r\n\t\treturn builder.toString();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(new MainPanel());\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\n_________________________________\r\n\r\nOutput would look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zuxdb.jpg","title":"JScrollPane &quot;stretching&quot; out the panel that I add to it","body":"<p>First off, never do this:</p>\n<pre><code>setLayout(null);\n</code></pre>\n<p>Next, if you want things compressed at the top of a container, then use a layout that does this. such as a BorderLayout with the compressed items placed into a JPanel (perhaps one that uses a GridLayout) that is placed BorderLayout.PAGE_START</p>\n<p>Actually, it looks as if your best solution is to us a JList, one that uses a custom renderer that places your time JLabel and two text JLabels into a JPanel and displays this in the list. So let's explore that.</p>\n<p>First create a class to hold the data that is displayed by the JList, which looks to be a date and two lines of text:</p>\n<pre><code>public class ListItem {\n    private LocalDate date;\n    private String text1;\n    private String text2;\n\n    public ListItem(LocalDate date, String text1, String text2) {\n        super();\n        this.date = date;\n        this.text1 = text1;\n        this.text2 = text2;\n    }\n\n    public LocalDate getDate() {\n        return date;\n    }\n\n    public String getText1() {\n        return text1;\n    }\n\n    public String getText2() {\n        return text2;\n    }   \n}\n</code></pre>\n<p>Then let's create a renderer that a JList can use to display the above information in a JPanel. This is more complicated and requires that the class create a JPanel that places the labels where we want them, perhaps using a GridLayout with 1 column and 3 rows, plus some gaps between the rows: <code>setLayout(new GridLayout(3, 1, 2 * gap, 2 * gap));</code>. The class must implement the <code>ListCellRenderer&lt;T&gt;</code> interface which has one method: <code>public Component getListCellRendererComponent(...)</code>. Java will pass in the paramters into this method, including a ListItem value, and we will use that value to fill in the JLabels that we add into this JPanel. Edited to highlight selected items.</p>\n<pre><code>import java.awt.*;\nimport java.time.format.DateTimeFormatter;\nimport javax.swing.*;\nimport javax.swing.border.Border;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class ListItemRenderer extends JPanel implements ListCellRenderer&lt;ListItem&gt; {\n    private static final Color LIGHT_BLUE = new Color(204, 255, 255);\n    private static final Color REDDISH_GREY = new Color(205, 126, 121);\n    private DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\n    private static final int GAP = 2;\n    private Border emptyBorder = BorderFactory.createEmptyBorder(GAP, GAP, GAP, GAP);\n    private Border blackBorder = BorderFactory.createLineBorder(Color.BLACK);\n    private Border redBorder = BorderFactory.createLineBorder(REDDISH_GREY, 2);\n    private JLabel dateLabel = new JLabel();\n    private JLabel text1Label = new JLabel();\n    private JLabel text2Label = new JLabel();\n    \n    public ListItemRenderer() {\n        dateLabel.setFont(dateLabel.getFont().deriveFont(Font.BOLD, 14f));\n        text1Label.setFont(text1Label.getFont().deriveFont(Font.BOLD));\n        text2Label.setFont(text1Label.getFont().deriveFont(Font.ITALIC));       \n        \n        int gap = 2;\n        setLayout(new GridLayout(0, 1, 2 * gap, 2 * gap));\n        \n        setBorder(BorderFactory.createCompoundBorder(emptyBorder, blackBorder));\n        add(dateLabel);\n        add(text1Label);\n        add(text2Label);\n    }\n\n    @Override\n    public Component getListCellRendererComponent(JList&lt;? extends ListItem&gt; list, ListItem value, int index,\n            boolean isSelected, boolean cellHasFocus) {\n        if (value != null) {\n            String dateText = dateFormatter.format(value.getDate());\n            dateLabel.setText(dateText);\n            text1Label.setText(value.getText1());\n            text2Label.setText(value.getText2());\n        } else {\n            dateLabel.setText(&quot;&quot;);\n            text1Label.setText(&quot;&quot;);\n            text2Label.setText(&quot;&quot;);\n        }\n        \n        if (isSelected ) {\n            setBackground(LIGHT_BLUE);\n            setBorder(BorderFactory.createCompoundBorder(emptyBorder, redBorder));\n        } else {\n            setBackground(null);\n            setBorder(BorderFactory.createCompoundBorder(emptyBorder, blackBorder));\n        }\n        return this;\n    }\n    \n}\n</code></pre>\n<p>And now the main program that puts this all together, edited to show removing items:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.KeyEvent;\nimport java.time.LocalDate;\nimport java.util.Arrays;\nimport java.util.Random;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class MainPanel extends JPanel {\n    DefaultListModel&lt;ListItem&gt; listModel = new DefaultListModel&lt;&gt;();\n    private JList&lt;ListItem&gt; jList = new JList&lt;&gt;(listModel);\n    private JScrollPane scrollPane = new JScrollPane(jList);\n    private JButton addButton = new JButton(&quot;Add&quot;);\n    private JButton removeButton = new JButton(&quot;Remove&quot;);\n    \n    public MainPanel() {\n        jList.setPrototypeCellValue(new ListItem(LocalDate.now(), \n                &quot;This is text 1 for testing.  This is text 1 for testing.   This is text 1 for testing&quot;, \n                &quot;This is text 2 for testing.  This is text 2 for testing.   This is text 2 for testing&quot;));\n        jList.setVisibleRowCount(4);\n        jList.setCellRenderer(new ListItemRenderer());\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        \n        JPanel buttonPanel = new JPanel(new GridLayout(0, 1, 3, 3));\n        buttonPanel.add(addButton);\n        buttonPanel.add(removeButton);\n        \n        addButton.setMnemonic(KeyEvent.VK_A);\n        removeButton.setMnemonic(KeyEvent.VK_R);\n        addButton.addActionListener(e -&gt; addEvent());\n        removeButton.addActionListener(e -&gt; removeEvent());\n        \n        JPanel rightPanel = new JPanel();\n        rightPanel.add(buttonPanel);\n        \n        int gap = 5;\n        setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap)); \n        setLayout(new BorderLayout());\n        add(scrollPane);\n        add(rightPanel, BorderLayout.LINE_END);\n    }\n    \n    private void removeEvent() {\n        int[] selectedIndices = jList.getSelectedIndices();\n        for (int i = selectedIndices.length - 1; i &gt;= 0; i--) {\n            listModel.remove(selectedIndices[i]);\n        }\n    }\n\n    private void addEvent() {\n        // this adds random stuff to the JList\n        String text1 = &quot;Some random text: &quot; + randomText();\n        String text2 = &quot;Some random text: &quot; + randomText();\n            \n        listModel.addElement(new ListItem(LocalDate.now(), text1, text2));\n        \n        // TODO: change this so that it adds *real* data to the JList\n    }\n    \n    private String randomText() {\n        Random random = new Random();\n        StringBuilder builder = new StringBuilder();\n        for (int i = 0; i &lt; 2 + random.nextInt(3); i++) {\n            for (int j = 0; j &lt; 3 + random.nextInt(5); j++) {\n                char c = (char) ('a' + random.nextInt('z' - 'a'));\n                builder.append(c);\n            }\n            builder.append(&quot; &quot;);\n        }\n        return builder.toString();\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(new MainPanel());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<hr />\n<p>Output would look like:</p>\n<p><a href=\"https://i.stack.imgur.com/Zuxdb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zuxdb.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18820863,"reputation":29,"user_id":13726908,"display_name":"vasll"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70725786,"answer_count":1,"score":1,"last_activity_date":1642346319,"creation_date":1642280406,"question_id":70725383,"body_markdown":"I have to make a scrollable list where I can add a panel with 3 labels many times. \r\nI kind of made it work but the first panels are stretched and occupy all the area of the JScrollPane and I can&#39;t figure out how to fix this, I tried changing layouts many times but still didn&#39;t manage to fix it.\r\nI want the added panel to occupy a fixed size but I can&#39;t figure this out. Example in this picture:\r\nhttps://i.stack.imgur.com/LNznP.png\r\nThe one on the left is the one that I get and the one on the right (edited) is how I want it to work.\r\n\r\nThis is my first day of Swing so the code is very likely a mess, sorry in advance.\r\n\r\nHere is the code:\r\n\r\n```\r\npublic class MainWindow extends JFrame implements ActionListener{\r\n\tprivate JPanel viewportPanel;\r\n\tprivate JButton addButton,remButton;\r\n\tprivate JScrollPane scrollPane;\r\n\tprivate int counter = 0;\r\n\tprivate JLabel dateLabel,dateLabel_1,dateLabel_2;\r\n\t\r\n\tpublic MainWindow(boolean run) {\r\n\t\t//BUTTONS\r\n\t\taddButton = new JButton(&quot;Add&quot;);\r\n\t\taddButton.setLocation(521, 11);\r\n\t\taddButton.setSize(101, 100);\r\n\t\taddButton.addActionListener(this);\r\n\t\t\r\n\t\tremButton = new JButton(&quot;Remove&quot;);\r\n\t\tremButton.setLocation(521, 122);\r\n\t\tremButton.setSize(101, 100);\r\n\t\tremButton.addActionListener(this);\r\n\t\t\r\n\t\t//SCROLLPANE\r\n\t\tscrollPane = new JScrollPane();\r\n\t\tscrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\tscrollPane.setBounds(10, 11, 501, 211);\r\n\t\tadd(scrollPane);\r\n\t\t\r\n\t\t//PANELS\r\n\t\tviewportPanel = new JPanel(new GridLayout(0,1));\r\n\t\tscrollPane.setViewportView(viewportPanel);\r\n\t\t\r\n\t\t//FRAME\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 650, 273);\r\n\t\tsetResizable(false);\r\n\t\t//setIconImage(new ImageIcon(&quot;epic.png&quot;).getImage());\r\n\t\tsetLayout(null);\r\n\t\tif(run) setVisible(true);\r\n\t\tadd(addButton);\r\n\t\tadd(remButton);\r\n\t}\r\n\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(e.getSource() == addButton) {\r\n\t\t\t//LABELS\r\n\t\t\tdateLabel = new JLabel(&quot;DATE&quot;);\r\n\t\t\tdateLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 28));\r\n\t\t\tdateLabel.setSize(500,500);\r\n\r\n\t\t\tdateLabel_1 = new JLabel(&quot;LABEL1&quot;);\r\n\t\t\tdateLabel_1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 22));\r\n\t\t\tdateLabel_1.setBounds(10, 45, 481, 30);\r\n\t\t\t\r\n\t\t\tdateLabel_2 = new JLabel(&quot;LABEL2&quot;);\r\n\t\t\tdateLabel_2.setFont(new Font(&quot;Tahoma&quot;, Font.ITALIC, 22));\r\n\t\t\tdateLabel_2.setBounds(10, 45, 481, 30);\r\n\t\t\t\r\n\t\t\t//PANEL WITH ALL THE STUFF\r\n\t\t\tJPanel componentPanel = new JPanel();\r\n\t\t\tcomponentPanel.setLayout(new GridLayout(3, 1));\r\n\t\t\tcomponentPanel.setMaximumSize(new Dimension(50,50));\r\n\t\t\tcomponentPanel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.BLACK));\r\n\t\t\tcomponentPanel.setBackground(Color.gray);\r\n\t\t\tcomponentPanel.add(dateLabel);\r\n\t\t\tcomponentPanel.add(dateLabel_1);\r\n\t\t\tcomponentPanel.add(dateLabel_2);\r\n\t\t\t\r\n\t\t\tviewportPanel.add(componentPanel);\t//add panel with labels to viewportpanel\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t\t\r\n\t\tif(e.getSource() == remButton) {\r\n\t\t\tComponent[] componentList = viewportPanel.getComponents();\r\n\t\t\tint lastElement = (componentList.length);\r\n\t\t\tviewportPanel.remove(--lastElement);\r\n\t\t\t--counter;\r\n\t\t}\r\n\t\t\r\n\t\tviewportPanel.revalidate();\r\n\t\tviewportPanel.repaint();\r\n\t}\r\n}\r\n```\r\n\r\nSome help would be amazing!\r\n","title":"JScrollPane &quot;stretching&quot; out the panel that I add to it","body":"<p>I have to make a scrollable list where I can add a panel with 3 labels many times.\nI kind of made it work but the first panels are stretched and occupy all the area of the JScrollPane and I can't figure out how to fix this, I tried changing layouts many times but still didn't manage to fix it.\nI want the added panel to occupy a fixed size but I can't figure this out. Example in this picture:\n<a href=\"https://i.stack.imgur.com/LNznP.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/LNznP.png</a>\nThe one on the left is the one that I get and the one on the right (edited) is how I want it to work.</p>\n<p>This is my first day of Swing so the code is very likely a mess, sorry in advance.</p>\n<p>Here is the code:</p>\n<pre><code>public class MainWindow extends JFrame implements ActionListener{\n    private JPanel viewportPanel;\n    private JButton addButton,remButton;\n    private JScrollPane scrollPane;\n    private int counter = 0;\n    private JLabel dateLabel,dateLabel_1,dateLabel_2;\n    \n    public MainWindow(boolean run) {\n        //BUTTONS\n        addButton = new JButton(&quot;Add&quot;);\n        addButton.setLocation(521, 11);\n        addButton.setSize(101, 100);\n        addButton.addActionListener(this);\n        \n        remButton = new JButton(&quot;Remove&quot;);\n        remButton.setLocation(521, 122);\n        remButton.setSize(101, 100);\n        remButton.addActionListener(this);\n        \n        //SCROLLPANE\n        scrollPane = new JScrollPane();\n        scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        scrollPane.setBounds(10, 11, 501, 211);\n        add(scrollPane);\n        \n        //PANELS\n        viewportPanel = new JPanel(new GridLayout(0,1));\n        scrollPane.setViewportView(viewportPanel);\n        \n        //FRAME\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 650, 273);\n        setResizable(false);\n        //setIconImage(new ImageIcon(&quot;epic.png&quot;).getImage());\n        setLayout(null);\n        if(run) setVisible(true);\n        add(addButton);\n        add(remButton);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == addButton) {\n            //LABELS\n            dateLabel = new JLabel(&quot;DATE&quot;);\n            dateLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 28));\n            dateLabel.setSize(500,500);\n\n            dateLabel_1 = new JLabel(&quot;LABEL1&quot;);\n            dateLabel_1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 22));\n            dateLabel_1.setBounds(10, 45, 481, 30);\n            \n            dateLabel_2 = new JLabel(&quot;LABEL2&quot;);\n            dateLabel_2.setFont(new Font(&quot;Tahoma&quot;, Font.ITALIC, 22));\n            dateLabel_2.setBounds(10, 45, 481, 30);\n            \n            //PANEL WITH ALL THE STUFF\n            JPanel componentPanel = new JPanel();\n            componentPanel.setLayout(new GridLayout(3, 1));\n            componentPanel.setMaximumSize(new Dimension(50,50));\n            componentPanel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.BLACK));\n            componentPanel.setBackground(Color.gray);\n            componentPanel.add(dateLabel);\n            componentPanel.add(dateLabel_1);\n            componentPanel.add(dateLabel_2);\n            \n            viewportPanel.add(componentPanel);  //add panel with labels to viewportpanel\n            counter++;\n        }\n        \n        if(e.getSource() == remButton) {\n            Component[] componentList = viewportPanel.getComponents();\n            int lastElement = (componentList.length);\n            viewportPanel.remove(--lastElement);\n            --counter;\n        }\n        \n        viewportPanel.revalidate();\n        viewportPanel.repaint();\n    }\n}\n</code></pre>\n<p>Some help would be amazing!</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":0,"creation_date":1542711028,"post_id":53390170,"comment_id":93658075,"body_markdown":"What did you try so far?","body":"What did you try so far?"},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1542711214,"post_id":53390170,"comment_id":93658175,"body_markdown":"I found `log.cleanup.policy=compact`, but I don&#39;t know where to put it. Is it somewhere in the `Kafka` config ?","body":"I found <code>log.cleanup.policy=compact</code>, but I don&#39;t know where to put it. Is it somewhere in the <code>Kafka</code> config ?"},{"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":1,"creation_date":1542711388,"post_id":53390170,"comment_id":93658270,"body_markdown":"You should place it under `/etc/kafka/server.properties`.","body":"You should place it under <code>&#47;etc&#47;kafka&#47;server.properties</code>."},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1542711608,"post_id":53390170,"comment_id":93658395,"body_markdown":"Does it matter where I place it in this file?","body":"Does it matter where I place it in this file?"},{"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":0,"creation_date":1542711693,"post_id":53390170,"comment_id":93658442,"body_markdown":"No, it doesn&#39;t matter.","body":"No, it doesn&#39;t matter."},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1542712060,"post_id":53390170,"comment_id":93658624,"body_markdown":"Thank you. But how do I check if it is compacted. As far as I understood it, `compacted topics` are like `KTable` in the `Kafka Streams` (it only saves the last value for the key). But when I start `kafka consumer` on the topic from the terminal, it writes all the values from the beginning. I&#39;m sorry for so much questions, I started working with Kafka yesterday for the first time, also if it is easier for you, I can edit my question and add the code and the consumer output","body":"Thank you. But how do I check if it is compacted. As far as I understood it, <code>compacted topics</code> are like <code>KTable</code> in the <code>Kafka Streams</code> (it only saves the last value for the key). But when I start <code>kafka consumer</code> on the topic from the terminal, it writes all the values from the beginning. I&#39;m sorry for so much questions, I started working with Kafka yesterday for the first time, also if it is easier for you, I can edit my question and add the code and the consumer output"},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1542713437,"post_id":53390170,"comment_id":93659350,"body_markdown":"I edited the post.","body":"I edited the post."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1542727051,"post_id":53390170,"comment_id":93667469,"body_markdown":"Do you want all topics to be compacted? If so, do not put it in the server properties... You need to create your topic as compacted beforehand, and compaction only applies on closed Kafka segments, which are 1GB large by default, so with 83 simple messages, you  won&#39;t see it happening","body":"Do you want all topics to be compacted? If so, do not put it in the server properties... You need to create your topic as compacted beforehand, and compaction only applies on closed Kafka segments, which are 1GB large by default, so with 83 simple messages, you  won&#39;t see it happening"},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1542789972,"post_id":53390170,"comment_id":93691180,"body_markdown":"My goal is to have a `Key` of type` Lon`g (represents a `company ID`) and a `Value` of type `JGraph&lt;Card&gt;` (custom class with a lot of variables) and I want every time I change the `Card` values for a given `company ID`, to run the compaction for the given company ID. That way I don&#39;t have multiple Graphs for 1 key.","body":"My goal is to have a <code>Key</code> of type` Lon<code>g (represents a </code>company ID<code>) and a </code>Value` of type <code>JGraph&lt;Card&gt;</code> (custom class with a lot of variables) and I want every time I change the <code>Card</code> values for a given <code>company ID</code>, to run the compaction for the given company ID. That way I don&#39;t have multiple Graphs for 1 key."}],"answers":[{"tags":[],"owner":{"account_id":160298,"reputation":609,"user_id":380250,"display_name":"Gery"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542736307,"creation_date":1542736307,"answer_id":53398750,"question_id":53390170,"body_markdown":"When you set `log.cleanup.policy=compact` in server.properties, it will be the default policy when creating new topics. If you change server.properties after creating your topic, your topic configuration won&#39;t change.\r\n\r\nYou can alter your topic configuration to set `cleanup.policy=compact`\r\n\r\nAs compaction is made by log cleaner, you may want to set specific `delete.retention.ms` on your topic as default retention is 24 hours.\r\n\r\nLast, compaction doesn&#39;t occur on active segment.\r\nsee https://stackoverflow.com/questions/46513527/kafka-log-compaction-not-starting","title":"How to create kafka compacted topic","body":"<p>When you set <code>log.cleanup.policy=compact</code> in server.properties, it will be the default policy when creating new topics. If you change server.properties after creating your topic, your topic configuration won't change.</p>\n\n<p>You can alter your topic configuration to set <code>cleanup.policy=compact</code></p>\n\n<p>As compaction is made by log cleaner, you may want to set specific <code>delete.retention.ms</code> on your topic as default retention is 24 hours.</p>\n\n<p>Last, compaction doesn't occur on active segment.\nsee <a href=\"https://stackoverflow.com/questions/46513527/kafka-log-compaction-not-starting\">Kafka Log Compaction not starting</a></p>\n"},{"tags":[],"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1580427223,"creation_date":1580427223,"answer_id":59996061,"question_id":53390170,"body_markdown":"Just in case somebody finds this helpful, this is the actual CLI command to use if you want to make a specific topic compacted, and don&#39;t want to set all your topics to compacted at the server level.\r\n\r\n    bin/kafka-topics --alter --topic my_topic_name --zookeeper my_zookeeper:2181 --config cleanup.policy=compact\r\n\r\nAssuming the above is being run from the confluent base directory.  I believe you have to change the command to call `bin/kafka-topics.sh` if using just a regular Apache Kafka distribution.","title":"How to create kafka compacted topic","body":"<p>Just in case somebody finds this helpful, this is the actual CLI command to use if you want to make a specific topic compacted, and don't want to set all your topics to compacted at the server level.</p>\n\n<pre><code>bin/kafka-topics --alter --topic my_topic_name --zookeeper my_zookeeper:2181 --config cleanup.policy=compact\n</code></pre>\n\n<p>Assuming the above is being run from the confluent base directory.  I believe you have to change the command to call <code>bin/kafka-topics.sh</code> if using just a regular Apache Kafka distribution.</p>\n"},{"tags":[],"owner":{"account_id":20654871,"reputation":236,"user_id":15164253,"display_name":"Victor Levin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1640523068,"creation_date":1628313013,"answer_id":68689574,"question_id":53390170,"body_markdown":"Use this command:\r\n\r\n    kafka-topics --topic topic_name --bootstrap-server localhost:9092 --config &quot;cleanup.policy=compact&quot; --create\r\n\r\n","title":"How to create kafka compacted topic","body":"<p>Use this command:</p>\n<pre><code>kafka-topics --topic topic_name --bootstrap-server localhost:9092 --config &quot;cleanup.policy=compact&quot; --create\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13343717,"reputation":995,"user_id":9631158,"display_name":"sujithramanathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642345969,"creation_date":1642345969,"answer_id":70731367,"question_id":53390170,"body_markdown":"Create compact kafka topic command:\r\n\r\n```\r\nkafka-topics.sh --bootstrap-server localhost:9092 --create --topic foo --config &quot;cleanup.policy=compact&quot;\r\n```\r\n\r\nDescribe topic ( where you can see cleanup.policy=compact )\r\n\r\n```\r\nkafka-topics.sh --bootstrap-server localhost:9092 --describe --topic foo \r\n```\r\n\r\nPlease note that you should not keep cleanup.policy in server.properties.\r\n\r\n","title":"How to create kafka compacted topic","body":"<p>Create compact kafka topic command:</p>\n<pre><code>kafka-topics.sh --bootstrap-server localhost:9092 --create --topic foo --config &quot;cleanup.policy=compact&quot;\n</code></pre>\n<p>Describe topic ( where you can see cleanup.policy=compact )</p>\n<pre><code>kafka-topics.sh --bootstrap-server localhost:9092 --describe --topic foo \n</code></pre>\n<p>Please note that you should not keep cleanup.policy in server.properties.</p>\n"}],"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13968,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":68689574,"answer_count":4,"score":8,"last_activity_date":1642345969,"creation_date":1542707076,"question_id":53390170,"body_markdown":"I have a `Kafka` application that has a `producer` who produces messages to a topic. A `consumer` then takes the messages from the topic, does some logic to the given messages and then produces them to another topic.\r\nI&#39;m using `ProducerRecord` and `ConsumerRecords`. \r\n\r\nI want my app to create 2 `compacted topics` and then use them. If the `compacted topics` already exist, just display a message and continue.\r\n\r\nMy `SimpleProducer` class:\r\n\r\n  \r\n\r\n      package com.kafkatest.demo;\r\n    \r\n    import java.util.*;\r\n    \r\n    import org.apache.kafka.clients.producer.*;\r\n    public class SimpleProducer extends Thread{\r\n      \r\n       public static void main(String[] args) throws Exception{\r\n               \r\n          String topicName = &quot;nodesTopic&quot;;\r\n    \t  String key = &quot;Key1&quot;;\r\n    \t  String value = &quot;Value-1&quot;;\r\n    \t  \r\n    \t  String key1 = &quot;Key2&quot;;\r\n    \t  String value1 = &quot;Value-2&quot;;\r\n    \r\n    \r\n          \r\n          Properties props = new Properties();\r\n          props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092,localhost:9093&quot;);\r\n          props.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);         \r\n          props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \t        \r\n          Producer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props);\r\n    \t\r\n    \t  ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topicName,key,value);\r\n    \t  producer.send(record);\r\n    \r\n    \t  \r\n    \t  ProducerRecord&lt;String, String&gt; record2 = new ProducerRecord&lt;&gt;(topicName,key1,value1);\r\n    \t  producer.send(record2);\r\n    \r\n    \t  \r\n    \t  ProducerRecord&lt;String, String&gt; record3 = new ProducerRecord&lt;&gt;(topicName,key,value);\r\n    \t  producer.send(record3);\r\n    \r\n    \t  \r\n    \t  ProducerRecord&lt;String, String&gt; record4 = new ProducerRecord&lt;&gt;(topicName,key,value);\r\n    \t  producer.send(record4);\r\n    \r\n    \t  \r\n    \t  ProducerRecord&lt;String, String&gt; record5 = new ProducerRecord&lt;&gt;(topicName,key,value);\r\n    \t  producer.send(record5);\r\n    \r\n    \t  \r\n    \t  ProducerRecord&lt;String, String&gt; record6 = new ProducerRecord&lt;&gt;(topicName,key,value);\r\n    \t  producer.send(record6);\r\n    \t  producer.close();\r\n    \t  \r\n    \t  System.out.println(&quot;SimpleProducer Completed.&quot;);\r\n       }\r\n    }\r\n\r\n\r\nMy SimpleConsumer class: \r\n\r\n \r\n\r\n       package com.kafkatest.demo;\r\n    \r\n    import java.time.Duration;\r\n    import java.time.temporal.ChronoUnit;\r\n    import java.util.Arrays;\r\n    import java.util.Properties;\r\n    \r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecords;\r\n    import org.apache.kafka.clients.consumer.KafkaConsumer;\r\n    import org.apache.kafka.clients.producer.KafkaProducer;\r\n    import org.apache.kafka.clients.producer.Producer;\r\n    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    \r\n    public class SimpleConsumer extends Thread{\r\n        \r\n        public static void main(String[] args) {\r\n    \t\r\n    \tProperties props1 = new Properties();\r\n    \tprops1.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092,localhost:9093&quot;);\r\n    \tprops1.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);         \r\n    \tprops1.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n    \t\t        \r\n    \tProducer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props1);\r\n    \t\r\n    \tDuration duration = Duration.of(2, ChronoUnit.MINUTES);\r\n    \tString topicName = &quot;nodesTopic&quot;;\r\n    \t\r\n    \tProperties props = new Properties();\r\n    \tprops.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n    \tprops.put(&quot;group.id&quot;, &quot;consumer-tutorial&quot;);\r\n    \tprops.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n    \tprops.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n    \tKafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props); \r\n    \t\r\n    \tconsumer.subscribe(Arrays.asList(topicName));\r\n    \t\r\n    \ttry {\r\n    \t    while (true) {\r\n    \t\ttry {\r\n    \t\t    Thread.sleep(5000);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t    e.printStackTrace();\r\n    \t\t}\r\n    \t\tconsumer.beginningOffsets(consumer.assignment());\r\n    \t      ConsumerRecords&lt;String, String&gt; records = consumer.poll(duration);\r\n    \t      for (ConsumerRecord&lt;String, String&gt; record : records) {\r\n    \t        System.out.println(record.offset() + &quot;: &quot; + record.value());\r\n    \t        System.out.println(&quot;Record: &quot; + record.value().toLowerCase());\r\n    \t        ProducerRecord&lt;String, String&gt; record1 = new ProducerRecord&lt;&gt;(&quot;forecastTopic&quot;, &quot;Key&quot;, record.offset() + &quot;. &quot; + record.value().toLowerCase());\r\n    \t        String a = &quot;&quot; + records.count();\r\n    \t        ProducerRecord&lt;String, String&gt; record2 = new ProducerRecord&lt;&gt;(&quot;forecastTopic&quot;, &quot;Key&quot;, record.offset() + &quot;. &quot; + a);\r\n    \t        producer.send(record1);\r\n    \t        producer.send(record2);\r\n    \t      }\r\n    \t    }\r\n    \t  } finally {\r\n    \t    producer.close();\r\n    \t    consumer.close();\r\n    \t  }\r\n    \t\r\n        }\r\n        \r\n    }\r\n\r\nWhen I run `bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic forecastTopic --from-beginning` and I run my producer a couple of time, I get \r\n\r\n    0. value-1\r\n    0. 6\r\n    1. value-2\r\n    1. 6\r\n    2. value-1\r\n    2. 6\r\n    3. value-1\r\n    3. 6\r\n    4. value-1\r\n    4. 6\r\n    5. value-1\r\n    5. 6\r\n    6. value-1\r\n    6. 6\r\n    7. value-2\r\n    7. 6\r\n    8. value-1\r\n    8. 6\r\n    9. value-1\r\n    9. 6\r\n    10. value-1\r\n    10. 6\r\n    11. value-1\r\n    11. 6\r\n    12. value-1\r\n    12. 6\r\n    13. value-2\r\n    13. 6\r\n    14. value-1\r\n    14. 6\r\n    15. value-1\r\n    15. 6\r\n    16. value-1\r\n    16. 6\r\n    17. value-1\r\n    17. 6\r\n    18. value-1\r\n    18. 6\r\n    19. value-2\r\n    19. 6\r\n    20. value-1\r\n    20. 6\r\n    21. value-1\r\n    21. 6\r\n    22. value-1\r\n    22. 6\r\n    23. value-1\r\n    23. 6\r\n    24. value-1\r\n    24. 6\r\n    25. value-2\r\n    25. 6\r\n    26. value-1\r\n    26. 6\r\n    27. value-1\r\n    27. 6\r\n    28. value-1\r\n    28. 6\r\n    29. value-1\r\n    29. 6\r\n    30. value-1\r\n    30. 6\r\n    31. value-2\r\n    31. 6\r\n    32. value-1\r\n    32. 6\r\n    33. value-1\r\n    33. 6\r\n    34. value-1\r\n    34. 6\r\n    35. value-1\r\n    35. 6\r\n    36. value-1\r\n    36. 6\r\n    37. value-2\r\n    37. 6\r\n    38. value-1\r\n    38. 6\r\n    39. value-1\r\n    39. 6\r\n    40. value-1\r\n    40. 6\r\n    41. value-1\r\n    41. 6\r\n    42. value-1\r\n    42. 6\r\n    43. value-2\r\n    43. 6\r\n    44. value-1\r\n    44. 6\r\n    45. value-1\r\n    45. 6\r\n    46. value-1\r\n    46. 6\r\n    47. value-1\r\n    47. 6\r\n    48. value-1\r\n    48. 12\r\n    49. value-2\r\n    49. 12\r\n    50. value-1\r\n    50. 12\r\n    51. value-1\r\n    51. 12\r\n    52. value-1\r\n    52. 12\r\n    53. value-1\r\n    53. 12\r\n    54. value-1\r\n    54. 12\r\n    55. value-2\r\n    55. 12\r\n    56. value-1\r\n    56. 12\r\n    57. value-1\r\n    57. 12\r\n    58. value-1\r\n    58. 12\r\n    59. value-1\r\n    59. 12\r\n    60. value-1\r\n    60. 6\r\n    61. value-2\r\n    61. 6\r\n    62. value-1\r\n    62. 6\r\n    63. value-1\r\n    63. 6\r\n    64. value-1\r\n    64. 6\r\n    65. value-1\r\n    65. 6\r\n    66. value-1\r\n    66. 6\r\n    67. value-2\r\n    67. 6\r\n    68. value-1\r\n    68. 6\r\n    69. value-1\r\n    69. 6\r\n    70. value-1\r\n    70. 6\r\n    71. value-1\r\n    71. 6\r\n    72. value-1\r\n    72. 6\r\n    73. value-2\r\n    73. 6\r\n    74. value-1\r\n    74. 6\r\n    75. value-1\r\n    75. 6\r\n    76. value-1\r\n    76. 6\r\n    77. value-1\r\n    77. 6\r\n    78. value-1\r\n    78. 6\r\n    79. value-2\r\n    79. 6\r\n    80. value-1\r\n    80. 6\r\n    81. value-1\r\n    81. 6\r\n    82. value-1\r\n    82. 6\r\n    83. value-1\r\n    83. 6\r\n\r\nI put the `log.cleanup.policy=compact` in the `server.properties` file, but it doesn&#39;t seem to work, because I have all the 83 offsets in the topic.\r\n\r\nThank you.","title":"How to create kafka compacted topic","body":"<p>I have a <code>Kafka</code> application that has a <code>producer</code> who produces messages to a topic. A <code>consumer</code> then takes the messages from the topic, does some logic to the given messages and then produces them to another topic.\nI'm using <code>ProducerRecord</code> and <code>ConsumerRecords</code>. </p>\n\n<p>I want my app to create 2 <code>compacted topics</code> and then use them. If the <code>compacted topics</code> already exist, just display a message and continue.</p>\n\n<p>My <code>SimpleProducer</code> class:</p>\n\n<pre><code>  package com.kafkatest.demo;\n\nimport java.util.*;\n\nimport org.apache.kafka.clients.producer.*;\npublic class SimpleProducer extends Thread{\n\n   public static void main(String[] args) throws Exception{\n\n      String topicName = \"nodesTopic\";\n      String key = \"Key1\";\n      String value = \"Value-1\";\n\n      String key1 = \"Key2\";\n      String value1 = \"Value-2\";\n\n\n\n      Properties props = new Properties();\n      props.put(\"bootstrap.servers\", \"localhost:9092,localhost:9093\");\n      props.put(\"key.serializer\",\"org.apache.kafka.common.serialization.StringSerializer\");         \n      props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n\n      Producer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props);\n\n      ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topicName,key,value);\n      producer.send(record);\n\n\n      ProducerRecord&lt;String, String&gt; record2 = new ProducerRecord&lt;&gt;(topicName,key1,value1);\n      producer.send(record2);\n\n\n      ProducerRecord&lt;String, String&gt; record3 = new ProducerRecord&lt;&gt;(topicName,key,value);\n      producer.send(record3);\n\n\n      ProducerRecord&lt;String, String&gt; record4 = new ProducerRecord&lt;&gt;(topicName,key,value);\n      producer.send(record4);\n\n\n      ProducerRecord&lt;String, String&gt; record5 = new ProducerRecord&lt;&gt;(topicName,key,value);\n      producer.send(record5);\n\n\n      ProducerRecord&lt;String, String&gt; record6 = new ProducerRecord&lt;&gt;(topicName,key,value);\n      producer.send(record6);\n      producer.close();\n\n      System.out.println(\"SimpleProducer Completed.\");\n   }\n}\n</code></pre>\n\n<p>My SimpleConsumer class: </p>\n\n<pre><code>   package com.kafkatest.demo;\n\nimport java.time.Duration;\nimport java.time.temporal.ChronoUnit;\nimport java.util.Arrays;\nimport java.util.Properties;\n\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.Producer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\npublic class SimpleConsumer extends Thread{\n\n    public static void main(String[] args) {\n\n    Properties props1 = new Properties();\n    props1.put(\"bootstrap.servers\", \"localhost:9092,localhost:9093\");\n    props1.put(\"key.serializer\",\"org.apache.kafka.common.serialization.StringSerializer\");         \n    props1.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n\n    Producer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props1);\n\n    Duration duration = Duration.of(2, ChronoUnit.MINUTES);\n    String topicName = \"nodesTopic\";\n\n    Properties props = new Properties();\n    props.put(\"bootstrap.servers\", \"localhost:9092\");\n    props.put(\"group.id\", \"consumer-tutorial\");\n    props.put(\"key.deserializer\", \"org.apache.kafka.common.serialization.StringDeserializer\");\n    props.put(\"value.deserializer\", \"org.apache.kafka.common.serialization.StringDeserializer\");\n    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props); \n\n    consumer.subscribe(Arrays.asList(topicName));\n\n    try {\n        while (true) {\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        consumer.beginningOffsets(consumer.assignment());\n          ConsumerRecords&lt;String, String&gt; records = consumer.poll(duration);\n          for (ConsumerRecord&lt;String, String&gt; record : records) {\n            System.out.println(record.offset() + \": \" + record.value());\n            System.out.println(\"Record: \" + record.value().toLowerCase());\n            ProducerRecord&lt;String, String&gt; record1 = new ProducerRecord&lt;&gt;(\"forecastTopic\", \"Key\", record.offset() + \". \" + record.value().toLowerCase());\n            String a = \"\" + records.count();\n            ProducerRecord&lt;String, String&gt; record2 = new ProducerRecord&lt;&gt;(\"forecastTopic\", \"Key\", record.offset() + \". \" + a);\n            producer.send(record1);\n            producer.send(record2);\n          }\n        }\n      } finally {\n        producer.close();\n        consumer.close();\n      }\n\n    }\n\n}\n</code></pre>\n\n<p>When I run <code>bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic forecastTopic --from-beginning</code> and I run my producer a couple of time, I get </p>\n\n<pre><code>0. value-1\n0. 6\n1. value-2\n1. 6\n2. value-1\n2. 6\n3. value-1\n3. 6\n4. value-1\n4. 6\n5. value-1\n5. 6\n6. value-1\n6. 6\n7. value-2\n7. 6\n8. value-1\n8. 6\n9. value-1\n9. 6\n10. value-1\n10. 6\n11. value-1\n11. 6\n12. value-1\n12. 6\n13. value-2\n13. 6\n14. value-1\n14. 6\n15. value-1\n15. 6\n16. value-1\n16. 6\n17. value-1\n17. 6\n18. value-1\n18. 6\n19. value-2\n19. 6\n20. value-1\n20. 6\n21. value-1\n21. 6\n22. value-1\n22. 6\n23. value-1\n23. 6\n24. value-1\n24. 6\n25. value-2\n25. 6\n26. value-1\n26. 6\n27. value-1\n27. 6\n28. value-1\n28. 6\n29. value-1\n29. 6\n30. value-1\n30. 6\n31. value-2\n31. 6\n32. value-1\n32. 6\n33. value-1\n33. 6\n34. value-1\n34. 6\n35. value-1\n35. 6\n36. value-1\n36. 6\n37. value-2\n37. 6\n38. value-1\n38. 6\n39. value-1\n39. 6\n40. value-1\n40. 6\n41. value-1\n41. 6\n42. value-1\n42. 6\n43. value-2\n43. 6\n44. value-1\n44. 6\n45. value-1\n45. 6\n46. value-1\n46. 6\n47. value-1\n47. 6\n48. value-1\n48. 12\n49. value-2\n49. 12\n50. value-1\n50. 12\n51. value-1\n51. 12\n52. value-1\n52. 12\n53. value-1\n53. 12\n54. value-1\n54. 12\n55. value-2\n55. 12\n56. value-1\n56. 12\n57. value-1\n57. 12\n58. value-1\n58. 12\n59. value-1\n59. 12\n60. value-1\n60. 6\n61. value-2\n61. 6\n62. value-1\n62. 6\n63. value-1\n63. 6\n64. value-1\n64. 6\n65. value-1\n65. 6\n66. value-1\n66. 6\n67. value-2\n67. 6\n68. value-1\n68. 6\n69. value-1\n69. 6\n70. value-1\n70. 6\n71. value-1\n71. 6\n72. value-1\n72. 6\n73. value-2\n73. 6\n74. value-1\n74. 6\n75. value-1\n75. 6\n76. value-1\n76. 6\n77. value-1\n77. 6\n78. value-1\n78. 6\n79. value-2\n79. 6\n80. value-1\n80. 6\n81. value-1\n81. 6\n82. value-1\n82. 6\n83. value-1\n83. 6\n</code></pre>\n\n<p>I put the <code>log.cleanup.policy=compact</code> in the <code>server.properties</code> file, but it doesn't seem to work, because I have all the 83 offsets in the topic.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","optimization"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1642337822,"post_id":70730186,"comment_id":125039120,"body_markdown":"Why not use the first procedure to load into a map and then convert that map to a new map?","body":"Why not use the first procedure to load into a map and then convert that map to a new map?"},{"owner":{"account_id":15216965,"reputation":101,"user_id":10980057,"display_name":"raiton"},"score":0,"creation_date":1642343663,"post_id":70730186,"comment_id":125040510,"body_markdown":"cause that would double the complexity from n to 2n (wich is pretty much the same but it will grow twice as fast as the map grows to infinity) @RealSkeptic","body":"cause that would double the complexity from n to 2n (wich is pretty much the same but it will grow twice as fast as the map grows to infinity) @RealSkeptic"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1642353493,"post_id":70730186,"comment_id":125043045,"body_markdown":"That&#39;s not how complexity works. 2n is the same as n. Plus it&#39;s not 2. When you read the file, you are I/O bound. Disk operations take a lot longer than in-memory operations. So you could say that your file-reading procedure takes 10N, and with the additional map scan it will be 12N. Negligible.","body":"That&#39;s not how complexity works. 2n is the same as n. Plus it&#39;s not 2. When you read the file, you are I/O bound. Disk operations take a lot longer than in-memory operations. So you could say that your file-reading procedure takes 10N, and with the additional map scan it will be 12N. Negligible."},{"owner":{"account_id":15216965,"reputation":101,"user_id":10980057,"display_name":"raiton"},"score":0,"creation_date":1642353902,"post_id":70730186,"comment_id":125043139,"body_markdown":"1 operation is not 10N, that&#39;s not how it works\nnot to mentioning you would be spending twice as much memory with 2 maps\nI apreciate the input though","body":"1 operation is not 10N, that&#39;s not how it works not to mentioning you would be spending twice as much memory with 2 maps I apreciate the input though"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1642357241,"post_id":70730186,"comment_id":125043924,"body_markdown":"You don&#39;t know what I/O bound is? Look it up. Note that I have a B.Sc in Computer Science, and experience of 33 years in programming. And that experience says that you are optimizing where you shouldn&#39;t, and that you should put more effort into clean code than into saving 2 seconds of computer time.","body":"You don&#39;t know what I/O bound is? Look it up. Note that I have a B.Sc in Computer Science, and experience of 33 years in programming. And that experience says that you are optimizing where you shouldn&#39;t, and that you should put more effort into clean code than into saving 2 seconds of computer time."},{"owner":{"account_id":15216965,"reputation":101,"user_id":10980057,"display_name":"raiton"},"score":0,"creation_date":1642361678,"post_id":70730186,"comment_id":125045073,"body_markdown":"I know what I/O bound is. 1 operation is 1 operation. not 10.\nthere&#39;s no need to bring the Argumentum ad verecundiam into an argument.\nLike I said I&#39;m not gonna use that solution but thanks for the input","body":"I know what I/O bound is. 1 operation is 1 operation. not 10. there&#39;s no need to bring the Argumentum ad verecundiam into an argument. Like I said I&#39;m not gonna use that solution but thanks for the input"}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642345143,"creation_date":1642344778,"answer_id":70731201,"question_id":70730186,"body_markdown":"You can write one method and make it accept a boolean as parameter , if the boolean is true the first version will run and return a Map&lt;String,String&gt;, else the second version run and return a Map&lt;String,LocalDateTime&gt;  .\r\n\r\nSo your method should return a Map&lt;String , ?&gt; :\r\n\r\n    // if you need to return Map&lt;String, LocalDateTime&gt; \r\n\t// you should pass true\r\n\t// if you need to return Map&lt;String,String&gt; you should pass false\r\n\tMap&lt;String, ?&gt; propsLoad(boolean activeStringStringReturn) throws FileNotFoundException, IOException {\r\n\t\tProperties prop = new Properties();\r\n\t\tprop.load(new FileInputStream(&quot;Put your Path here&quot;));\r\n\t\t\r\n        if (activeStringStringReturn== false) {\r\n\t\t\tMap&lt;String, String&gt; mapProp = prop.entrySet().stream()\r\n\t\t\t\t\t.collect(Collectors.toMap(e -&gt; (String) e.getKey(), e -&gt; (String) e.getValue()));\r\n\t\t\treturn mapProp;\r\n\t\t} \r\n        else {\r\n\t\t\tMap&lt;String, LocalDateTime&gt; mapProp = prop.entrySet().stream()\r\n\t\t\t\t\t.filter(e -&gt; !((String) e.getKey()).equals(&quot;U&quot;) &amp;&amp; !((String) e.getKey()).equals(&quot;FB&quot;))\r\n\t\t\t\t\t.collect(Collectors.toMap(e -&gt; (String) e.getKey(), e -&gt; LocalDateTime.parse((CharSequence) (e.getValue()) )));\r\n\t\t\treturn mapProp;\r\n\t\t}\r\n\t}","title":"Can I reuse this duplicate function that reads a property file?","body":"<p>You can write one method and make it accept a boolean as parameter , if the boolean is true the first version will run and return a Map&lt;String,String&gt;, else the second version run and return a Map&lt;String,LocalDateTime&gt;  .</p>\n<p>So your method should return a Map&lt;String , ?&gt; :</p>\n<pre><code>// if you need to return Map&lt;String, LocalDateTime&gt; \n// you should pass true\n// if you need to return Map&lt;String,String&gt; you should pass false\nMap&lt;String, ?&gt; propsLoad(boolean activeStringStringReturn) throws FileNotFoundException, IOException {\n    Properties prop = new Properties();\n    prop.load(new FileInputStream(&quot;Put your Path here&quot;));\n    \n    if (activeStringStringReturn== false) {\n        Map&lt;String, String&gt; mapProp = prop.entrySet().stream()\n                .collect(Collectors.toMap(e -&gt; (String) e.getKey(), e -&gt; (String) e.getValue()));\n        return mapProp;\n    } \n    else {\n        Map&lt;String, LocalDateTime&gt; mapProp = prop.entrySet().stream()\n                .filter(e -&gt; !((String) e.getKey()).equals(&quot;U&quot;) &amp;&amp; !((String) e.getKey()).equals(&quot;FB&quot;))\n                .collect(Collectors.toMap(e -&gt; (String) e.getKey(), e -&gt; LocalDateTime.parse((CharSequence) (e.getValue()) )));\n        return mapProp;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15216965,"reputation":101,"user_id":10980057,"display_name":"raiton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642345143,"creation_date":1642337438,"question_id":70730186,"body_markdown":"   I created a function that reads a given property file and returns a map with the information. This has been useful as the project has multiple files.\r\nHowever 1 file in particular needs me to not only return a different type of map, but also requires an extra &quot;if&quot; clause.\r\nThis is really messing with me as I feel like there&#39;s probably a way to not duplicate all this code\r\n\r\n\r\n    /**\r\n\t * Loads the given property file and places all it&#39;s content in a map\r\n\t * @param properties\r\n\t * @param fileDirectory\r\n\t */\r\n\tpublic static Map&lt;String, String&gt; readProperties(Properties properties, String fileDirectory) {\r\n\t\tMap&lt;String, String&gt; propertiesFileContent = new HashMap&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tproperties.load(new FileInputStream(fileDirectory));\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tUseful.printTimeStampedMessage(Constants.EXCEPTION_FILE_NOT_FOUND);\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\tUseful.printTimeStampedMessage(Constants.EXCEPTION_IO);\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t\t\r\n\t\tfor (String key : properties.stringPropertyNames()) {\r\n\t\t\tpropertiesFileContent.put(key, properties.get(key).toString());\r\n\t\t}\r\n\t\treturn propertiesFileContent;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Loads the follow property file and places all it&#39;s content in a map\r\n\t * @param properties\r\n\t * @param fileDirectory\r\n\t */\r\n\tpublic static Map&lt;String, LocalDateTime&gt; readFollowProperties(Properties properties, String fileDirectory) {\r\n\t\tMap&lt;String, LocalDateTime&gt; propertiesFileContent = new HashMap&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tproperties.load(new FileInputStream(fileDirectory));\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tUseful.printTimeStampedMessage(Constants.EXCEPTION_FILE_NOT_FOUND);\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\tUseful.printTimeStampedMessage(Constants.EXCEPTION_IO);\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t\t\r\n\t\tfor (String key : properties.stringPropertyNames()) {\r\n\t\t\tif(!properties.get(key).equals(&quot;U&quot;) &amp;&amp; !properties.get(key).equals(&quot;FB&quot;)) {\r\n\t\t\t\tpropertiesFileContent.put(key, LocalDateTime.parse((CharSequence) properties.get(key)));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn propertiesFileContent;\r\n\t}\r\n\r\nAs you can see, the differences between the 2 functions are very small. \r\n 1) The type of Map changes from `Map&lt;String, String&gt;` to `Map&lt;String, LocalDateTime&gt;`\r\n 2) The second function has one extra `if` inside the `for`, to exclude certain properties from being read\r\n","title":"Can I reuse this duplicate function that reads a property file?","body":"<p>I created a function that reads a given property file and returns a map with the information. This has been useful as the project has multiple files.\nHowever 1 file in particular needs me to not only return a different type of map, but also requires an extra &quot;if&quot; clause.\nThis is really messing with me as I feel like there's probably a way to not duplicate all this code</p>\n<pre><code>/**\n * Loads the given property file and places all it's content in a map\n * @param properties\n * @param fileDirectory\n */\npublic static Map&lt;String, String&gt; readProperties(Properties properties, String fileDirectory) {\n    Map&lt;String, String&gt; propertiesFileContent = new HashMap&lt;&gt;();\n    try {\n        properties.load(new FileInputStream(fileDirectory));\n    } catch (FileNotFoundException e) {\n        Useful.printTimeStampedMessage(Constants.EXCEPTION_FILE_NOT_FOUND);\n        e.printStackTrace();\n    } catch (IOException e) {\n        Useful.printTimeStampedMessage(Constants.EXCEPTION_IO);\n        e.printStackTrace();\n    }   \n    \n    for (String key : properties.stringPropertyNames()) {\n        propertiesFileContent.put(key, properties.get(key).toString());\n    }\n    return propertiesFileContent;\n}\n\n/**\n * Loads the follow property file and places all it's content in a map\n * @param properties\n * @param fileDirectory\n */\npublic static Map&lt;String, LocalDateTime&gt; readFollowProperties(Properties properties, String fileDirectory) {\n    Map&lt;String, LocalDateTime&gt; propertiesFileContent = new HashMap&lt;&gt;();\n    try {\n        properties.load(new FileInputStream(fileDirectory));\n    } catch (FileNotFoundException e) {\n        Useful.printTimeStampedMessage(Constants.EXCEPTION_FILE_NOT_FOUND);\n        e.printStackTrace();\n    } catch (IOException e) {\n        Useful.printTimeStampedMessage(Constants.EXCEPTION_IO);\n        e.printStackTrace();\n    }   \n    \n    for (String key : properties.stringPropertyNames()) {\n        if(!properties.get(key).equals(&quot;U&quot;) &amp;&amp; !properties.get(key).equals(&quot;FB&quot;)) {\n            propertiesFileContent.put(key, LocalDateTime.parse((CharSequence) properties.get(key)));\n        }\n    }\n    return propertiesFileContent;\n}\n</code></pre>\n<p>As you can see, the differences between the 2 functions are very small.</p>\n<ol>\n<li>The type of Map changes from <code>Map&lt;String, String&gt;</code> to <code>Map&lt;String, LocalDateTime&gt;</code></li>\n<li>The second function has one extra <code>if</code> inside the <code>for</code>, to exclude certain properties from being read</li>\n</ol>\n"},{"tags":["java","android","sensors"],"comments":[{"owner":{"account_id":15249444,"reputation":479,"user_id":11003330,"display_name":"Anass ABEA"},"score":0,"creation_date":1641506903,"post_id":70614006,"comment_id":124828795,"body_markdown":"Have you tried to save both totalSteps and previousTotalSteps in sharedPreferences?","body":"Have you tried to save both totalSteps and previousTotalSteps in sharedPreferences?"},{"owner":{"account_id":23202553,"reputation":26,"user_id":17297169,"display_name":"Sachin Khatri"},"score":0,"creation_date":1641509174,"post_id":70614006,"comment_id":124829449,"body_markdown":"Even if I do that, it will again revert to Sensor event value in the calculation part which is starting from zero.","body":"Even if I do that, it will again revert to Sensor event value in the calculation part which is starting from zero."},{"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"score":0,"creation_date":1641517567,"post_id":70614006,"comment_id":124831210,"body_markdown":"I don&#39; t know what is Step Counter Sensor. I can get the event of phone restarts, do you need it?","body":"I don&#39; t know what is Step Counter Sensor. I can get the event of phone restarts, do you need it?"},{"owner":{"account_id":23202553,"reputation":26,"user_id":17297169,"display_name":"Sachin Khatri"},"score":0,"creation_date":1641572082,"post_id":70614006,"comment_id":124846638,"body_markdown":"Its one of the motion sensors on android phones, and is used to count walking steps. Yes, if you can get me event of phone restarts, I will try and see if I can make use of it to solve the issue.","body":"Its one of the motion sensors on android phones, and is used to count walking steps. Yes, if you can get me event of phone restarts, I will try and see if I can make use of it to solve the issue."}],"answers":[{"tags":[],"owner":{"account_id":23202553,"reputation":26,"user_id":17297169,"display_name":"Sachin Khatri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642344921,"creation_date":1642240685,"answer_id":70720412,"question_id":70614006,"body_markdown":"So, I have solved this problem by myself. I am posting this solution for anyone else who find themselves in this situation, so that it might help them solve it.\r\n\r\nFor this, **currentSteps** as well as **previousSteps** need to be saved to SharedPreferences after **each step**. Earlier only **previousSteps** was being saved and that too once daily. \r\n\r\nThus, **totalSteps-previousSteps** will give an increment of one step to be added to currentSteps. \r\n\r\nIn case, the phone reboots, totalSteps value is reset to zero. If that happens(or by any chance, if totalSteps is less than previousSteps), then the previousSteps value will also be set equal to totalSteps for that condition before applying both variables for current steps calculation.  \r\n\r\n```\r\n if (running) {\r\n\r\n            totalSteps = event.values[0];\r\n            loadCurrentStepsData();\r\n            loadPreviousStepsData();\r\n            if (totalSteps == 0 || totalSteps&lt;previousSteps) {\r\n                previousSteps = totalSteps;\r\n                savePreviousStepsData();\r\n            }\r\n            currentSteps = currentSteps + (totalSteps - previousSteps);\r\n            previousSteps = totalSteps;\r\n            saveCurrentStepsData();\r\n            savePreviousStepsData();\r\n        }\r\n        tv_stepsTaken.setText(String.valueOf(currentSteps));\r\n\r\n```","title":"Restore Step Counter data after phone reboot","body":"<p>So, I have solved this problem by myself. I am posting this solution for anyone else who find themselves in this situation, so that it might help them solve it.</p>\n<p>For this, <strong>currentSteps</strong> as well as <strong>previousSteps</strong> need to be saved to SharedPreferences after <strong>each step</strong>. Earlier only <strong>previousSteps</strong> was being saved and that too once daily.</p>\n<p>Thus, <strong>totalSteps-previousSteps</strong> will give an increment of one step to be added to currentSteps.</p>\n<p>In case, the phone reboots, totalSteps value is reset to zero. If that happens(or by any chance, if totalSteps is less than previousSteps), then the previousSteps value will also be set equal to totalSteps for that condition before applying both variables for current steps calculation.</p>\n<pre><code> if (running) {\n\n            totalSteps = event.values[0];\n            loadCurrentStepsData();\n            loadPreviousStepsData();\n            if (totalSteps == 0 || totalSteps&lt;previousSteps) {\n                previousSteps = totalSteps;\n                savePreviousStepsData();\n            }\n            currentSteps = currentSteps + (totalSteps - previousSteps);\n            previousSteps = totalSteps;\n            saveCurrentStepsData();\n            savePreviousStepsData();\n        }\n        tv_stepsTaken.setText(String.valueOf(currentSteps));\n\n</code></pre>\n"}],"owner":{"account_id":23202553,"reputation":26,"user_id":17297169,"display_name":"Sachin Khatri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70720412,"answer_count":1,"score":0,"last_activity_date":1642344921,"creation_date":1641505599,"question_id":70614006,"body_markdown":"I am writing an android app in java which uses Android phone&#39;s Step Counter sensor event values to record walking steps taken by the user.\r\nBasically my java code to display current Steps is as follows:\r\n\r\n```\r\nif (running) {\r\n   totalSteps = event.values[0];\r\n   currentSteps = totalSteps - previousTotalSteps;\r\n   tv_stepsTaken.setText(String.valueOf(currentSteps));\r\n}\r\n```\r\n\r\nI am using SharedPreferences to load, save and reset previousTotalSteps on a daily basis. \r\n\r\nMy problem is that when phone reboots, the **totalSteps** event value from Step Counter Sensor is reset automatically to zero, hence it turns my **currentSteps** value to negative as **previousTotalSteps** value is then being subtracted from zero. Only solution that is coming to my mind is to set previousTotalSteps to zero too. But it will defeat the purpose of recording daily steps. If the user reboots the phone in the middle of the day, then half day&#39;s data will be lost or otherwise turn negative in display. I am also recording this daily steps value to sqlite database as daily history to be shown graphically to user. So, this negative value goes to sqlite databse too and ruins the historical graph. I need suggestions to solve this problem. My reset data code is as follows:\r\n\r\n```\r\npreviousTotalSteps = totalSteps;\r\ntv_stepsTaken.setText(&quot;0&quot;);\r\nsaveStepsData();\r\nreturn true;\r\n```","title":"Restore Step Counter data after phone reboot","body":"<p>I am writing an android app in java which uses Android phone's Step Counter sensor event values to record walking steps taken by the user.\nBasically my java code to display current Steps is as follows:</p>\n<pre><code>if (running) {\n   totalSteps = event.values[0];\n   currentSteps = totalSteps - previousTotalSteps;\n   tv_stepsTaken.setText(String.valueOf(currentSteps));\n}\n</code></pre>\n<p>I am using SharedPreferences to load, save and reset previousTotalSteps on a daily basis.</p>\n<p>My problem is that when phone reboots, the <strong>totalSteps</strong> event value from Step Counter Sensor is reset automatically to zero, hence it turns my <strong>currentSteps</strong> value to negative as <strong>previousTotalSteps</strong> value is then being subtracted from zero. Only solution that is coming to my mind is to set previousTotalSteps to zero too. But it will defeat the purpose of recording daily steps. If the user reboots the phone in the middle of the day, then half day's data will be lost or otherwise turn negative in display. I am also recording this daily steps value to sqlite database as daily history to be shown graphically to user. So, this negative value goes to sqlite databse too and ruins the historical graph. I need suggestions to solve this problem. My reset data code is as follows:</p>\n<pre><code>previousTotalSteps = totalSteps;\ntv_stepsTaken.setText(&quot;0&quot;);\nsaveStepsData();\nreturn true;\n</code></pre>\n"},{"tags":["javascript","java","regex"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1642103111,"post_id":70702221,"comment_id":124989582,"body_markdown":"`if value == &quot;0000-0&quot; : print(&quot;nope&quot;)`","body":"<code>if value == &quot;0000-0&quot; : print(&quot;nope&quot;)</code>"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1642103124,"post_id":70702221,"comment_id":124989585,"body_markdown":"if there is one value to exclude, seems a regex is overkill","body":"if there is one value to exclude, seems a regex is overkill"},{"owner":{"account_id":479759,"reputation":24867,"user_id":892629,"accept_rate":81,"display_name":"Liftoff"},"score":0,"creation_date":1642103260,"post_id":70702221,"comment_id":124989630,"body_markdown":"If there&#39;s more than one value and you&#39;re literally just looking for zeros separated by a single hyphen, `.indexOf(&quot;0-0&quot;) &gt; -1` seems more fitting than a regex as well.","body":"If there&#39;s more than one value and you&#39;re literally just looking for zeros separated by a single hyphen, <code>.indexOf(&quot;0-0&quot;) &gt; -1</code> seems more fitting than a regex as well."},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1642153611,"post_id":70702221,"comment_id":125000458,"body_markdown":"I have been trying with the below format works for few cases but its failed ^(\\d)(?!\\1+$)\\d{8}-(?!\\1+$)\\d{1}$ as part of the response I will give the regex to the caller to validate the data.","body":"I have been trying with the below format works for few cases but its failed ^(\\d)(?!\\1+$)\\d{8}-(?!\\1+$)\\d{1}$ as part of the response I will give the regex to the caller to validate the data."}],"answers":[{"tags":[],"owner":{"account_id":23875762,"reputation":189,"user_id":17876941,"display_name":"Mock Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642344825,"creation_date":1642254681,"answer_id":70722043,"question_id":70702221,"body_markdown":"Using [back references](https://www.regular-expressions.info/backref.html), this problem becomes fairly easy (and thankfully js regex supports this).\r\n\r\nThe regex below matches only the invalid inputs. \r\n\r\n```\r\n^(\\d)\\1+-\\1$\r\n```\r\n\r\n[Regex Demo](https://regex101.com/r/cgykDC/1)\r\n\r\n```\r\n^     - Start of line\r\n(\\d)  - create a capturing group in the first digit (important for the next part to work)\r\n\\1+   - back reference group 1 (\\d+) and match it one or more times\r\n-     - match a hyphen\r\n\\1    - back reference group 1\r\n$     - end of line \r\n```\r\n\r\n\r\nThen for the JS side, if the regex matches you know the input was invalid.\r\n\r\n```\r\nconst inputs = [\r\n&#39;0000-0&#39;,\r\n&#39;0000-1&#39;,\r\n&#39;1111-1&#39;,\r\n&#39;1234-2&#39;\r\n];\r\n\r\nconst regex = /^(\\d)\\1+-\\1$/;\r\n\r\ninputs.forEach(item =&gt; {\r\n if (item.match(regex)) {\r\n \tconsole.log(item + &#39; - INPUT NOT ALLOWED&#39;)\r\n } else {\r\n \tconsole.log(item + &#39; - VALID INPUT&#39;)\r\n } \r\n});\r\n```\r\n\r\n[JS Demo](https://jsfiddle.net/yud6se8r/)\r\n\r\n\r\n\r\n\r\n**EDIT**\r\n\r\nTo handle the new requirements, you can just or the regex to another regex checking the entire length.\r\n\r\n```\r\n^(?:(\\d)\\1+-\\1$|.{7,})\r\n```\r\n\r\n[Demo](https://regex101.com/r/vCX15O/1)\r\n\r\nAnd since it sounds like you&#39;re using Java:\r\n\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        // String to be scanned to find the pattern.\r\n        String[] lines = {\r\n                &quot;0000-0&quot;,\r\n                &quot;0000-1&quot;,\r\n                &quot;1111-1&quot;,\r\n                &quot;1234-2&quot;,\r\n                &quot;1234567-2&quot;,\r\n                &quot;1234-26&quot;\r\n        };\r\n\r\n        String pattern = &quot;^(?:(\\\\d)\\\\1+-\\\\1$|.{7,})&quot;;\r\n        // Create a Pattern object\r\n        Pattern r = Pattern.compile(pattern);\r\n\r\n        for(String line : lines) {\r\n            System.out.print(line);\r\n            Matcher m = r.matcher(line);\r\n            if (m.find()) {\r\n                System.out.println(&quot; - INVALID&quot;);\r\n            }else {\r\n                System.out.println(&quot; - VALID&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n** Output **\r\n\r\n```\r\n0000-0 - INVALID\r\n0000-1 - VALID\r\n1111-1 - INVALID\r\n1234-2 - VALID\r\n1234567-2 - INVALID\r\n1234-26 - INVALID\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n","title":"Regular expression to not allow all same digits separated by hyphen","body":"<p>Using <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">back references</a>, this problem becomes fairly easy (and thankfully js regex supports this).</p>\n<p>The regex below matches only the invalid inputs.</p>\n<pre><code>^(\\d)\\1+-\\1$\n</code></pre>\n<p><a href=\"https://regex101.com/r/cgykDC/1\" rel=\"nofollow noreferrer\">Regex Demo</a></p>\n<pre><code>^     - Start of line\n(\\d)  - create a capturing group in the first digit (important for the next part to work)\n\\1+   - back reference group 1 (\\d+) and match it one or more times\n-     - match a hyphen\n\\1    - back reference group 1\n$     - end of line \n</code></pre>\n<p>Then for the JS side, if the regex matches you know the input was invalid.</p>\n<pre><code>const inputs = [\n'0000-0',\n'0000-1',\n'1111-1',\n'1234-2'\n];\n\nconst regex = /^(\\d)\\1+-\\1$/;\n\ninputs.forEach(item =&gt; {\n if (item.match(regex)) {\n    console.log(item + ' - INPUT NOT ALLOWED')\n } else {\n    console.log(item + ' - VALID INPUT')\n } \n});\n</code></pre>\n<p><a href=\"https://jsfiddle.net/yud6se8r/\" rel=\"nofollow noreferrer\">JS Demo</a></p>\n<p><strong>EDIT</strong></p>\n<p>To handle the new requirements, you can just or the regex to another regex checking the entire length.</p>\n<pre><code>^(?:(\\d)\\1+-\\1$|.{7,})\n</code></pre>\n<p><a href=\"https://regex101.com/r/vCX15O/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>And since it sounds like you're using Java:</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        // String to be scanned to find the pattern.\n        String[] lines = {\n                &quot;0000-0&quot;,\n                &quot;0000-1&quot;,\n                &quot;1111-1&quot;,\n                &quot;1234-2&quot;,\n                &quot;1234567-2&quot;,\n                &quot;1234-26&quot;\n        };\n\n        String pattern = &quot;^(?:(\\\\d)\\\\1+-\\\\1$|.{7,})&quot;;\n        // Create a Pattern object\n        Pattern r = Pattern.compile(pattern);\n\n        for(String line : lines) {\n            System.out.print(line);\n            Matcher m = r.matcher(line);\n            if (m.find()) {\n                System.out.println(&quot; - INVALID&quot;);\n            }else {\n                System.out.println(&quot; - VALID&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>** Output **</p>\n<pre><code>0000-0 - INVALID\n0000-1 - VALID\n1111-1 - INVALID\n1234-2 - VALID\n1234567-2 - INVALID\n1234-26 - INVALID\n\nProcess finished with exit code 0\n</code></pre>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1642344825,"creation_date":1642102987,"question_id":70702221,"body_markdown":"Using the following regex:\r\n```none\r\n^(\\d)(?!\\1+$)\\d{3}-\\d{1}$\r\n```\r\nIt works for the pattern but I need to validate all numbers not same even after hyphen (-).\r\n  \r\nExample\r\n\r\n    0000-0 not allowed (because of all are same digits)\r\n    0000-1 allowed\r\n    1111-1 not allowed (because of all are same digits)\r\n    1234-2 allowed\r\n","title":"Regular expression to not allow all same digits separated by hyphen","body":"<p>Using the following regex:</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(\\d)(?!\\1+$)\\d{3}-\\d{1}$\n</code></pre>\n<p>It works for the pattern but I need to validate all numbers not same even after hyphen (-).</p>\n<p>Example</p>\n<pre><code>0000-0 not allowed (because of all are same digits)\n0000-1 allowed\n1111-1 not allowed (because of all are same digits)\n1234-2 allowed\n</code></pre>\n"},{"tags":["java","arrays","string","utf-8"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":7,"creation_date":1641935471,"post_id":70673482,"comment_id":124937329,"body_markdown":"No. Because `String` is immutable. You could perhaps implement `CharSequence` against the `char[]` - e.g. https://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html#wrap-char:A-","body":"No. Because <code>String</code> is immutable. You could perhaps implement <code>CharSequence</code> against the <code>char[]</code> - e.g. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html#wrap-char:A-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/nio/&hellip;</a>"},{"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"score":0,"creation_date":1641935671,"post_id":70673482,"comment_id":124937396,"body_markdown":"But the constructor is right there? It&#39;s just not public. Which would mean that it&#39;s only immutable for us but not the JVM I guess.","body":"But the constructor is right there? It&#39;s just not public. Which would mean that it&#39;s only immutable for us but not the JVM I guess."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1641935967,"post_id":70673482,"comment_id":124937493,"body_markdown":"@OsirisTeam Why do you think  that is? It&#39;s &quot;the secret sauce&quot;. I can put that secret sauce on your burger, but I will never tell you how to make it. That&#39;s a package private method. Only members of `java.lang` package are privileged enough to have access to that constructor. Or, you can get the result by calling a public constructor that has access to it internally.","body":"@OsirisTeam Why do you think  that is? It&#39;s &quot;the secret sauce&quot;. I can put that secret sauce on your burger, but I will never tell you how to make it. That&#39;s a package private method. Only members of <code>java.lang</code> package are privileged enough to have access to that constructor. Or, you can get the result by calling a public constructor that has access to it internally."},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":1,"creation_date":1641936092,"post_id":70673482,"comment_id":124937525,"body_markdown":"Also worth noting that String changes significantly in Java 9 for &quot;compact strings&quot;. It now uses byte[] instead of char[] internally. My point is if you crack out the secret sauce you&#39;ll be building in problems for the future.","body":"Also worth noting that String changes significantly in Java 9 for &quot;compact strings&quot;. It now uses byte[] instead of char[] internally. My point is if you crack out the secret sauce you&#39;ll be building in problems for the future."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1641936109,"post_id":70673482,"comment_id":124937529,"body_markdown":"If you explain your situation fully, a proper solution can be suggested. No use getting hung up on a constructor that&#39;s not meant for you to use. How are you getting data, what are you using it for (i.e. do you need it as a `String` instead of for example a streaming solution).","body":"If you explain your situation fully, a proper solution can be suggested. No use getting hung up on a constructor that&#39;s not meant for you to use. How are you getting data, what are you using it for (i.e. do you need it as a <code>String</code> instead of for example a streaming solution)."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1641936450,"post_id":70673482,"comment_id":124937651,"body_markdown":"String is immutable, if this constructor were made public, you can make mutable strings, which goes against the whole idea. Actually you could use reflection to invoke the constructor, but because of the reason mentioned above, that&#39;s a very bad idea.","body":"String is immutable, if this constructor were made public, you can make mutable strings, which goes against the whole idea. Actually you could use reflection to invoke the constructor, but because of the reason mentioned above, that&#39;s a very bad idea."},{"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"score":0,"creation_date":1641936476,"post_id":70673482,"comment_id":124937654,"body_markdown":"How about creating a modified version of the JDK/JVM where that constructor is public lol.","body":"How about creating a modified version of the JDK/JVM where that constructor is public lol."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1641944643,"post_id":70673482,"comment_id":124939689,"body_markdown":"You may want to use [CharBuffer.wrap](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/CharBuffer.html#wrap(char%5B%5D)), which will not copy the array.  And CharBuffer implements CharSequence, so you can use it in a number of places where String can be used.","body":"You may want to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/CharBuffer.html#wrap(char%5B%5D)\" rel=\"nofollow noreferrer\">CharBuffer.wrap</a>, which will not copy the array.  And CharBuffer implements CharSequence, so you can use it in a number of places where String can be used."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1641977882,"post_id":70673482,"comment_id":124946656,"body_markdown":"What performance metrics have you taken which pinpoint this particular String constructor as your issue? It would be surprising if a change here made bigger difference than say more careful use of List, Map, database or file operations.","body":"What performance metrics have you taken which pinpoint this particular String constructor as your issue? It would be surprising if a change here made bigger difference than say more careful use of List, Map, database or file operations."},{"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"score":0,"creation_date":1642077754,"post_id":70673482,"comment_id":124979032,"body_markdown":"Since you all were so curious about the context, I just added the context to the question.","body":"Since you all were so curious about the context, I just added the context to the question."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1642078023,"post_id":70673482,"comment_id":124979156,"body_markdown":"Please **DON&#39;T** show us screen shots of your code.  Copy and paste the code into the question **as text**.","body":"Please <b>DON&#39;T</b> show us screen shots of your code.  Copy and paste the code into the question <b>as text</b>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1642078942,"post_id":70673482,"comment_id":124979559,"body_markdown":"If performance is so important and you can actually proof that the copying hurts you, then maybe don&#39;t create `String` objects unless you absolutely need to. You can work with raw `char[]`, a `CharBuffer` (as mentioned  before) or use some other `CharSequence` that doesn&#39;t provide immutability but also doesn&#39;t require copying. Then you only create `String` objects when you absolutely need to (for example to return it from a method call to client code). Also: what Stephen said: [Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"If performance is so important and you can actually proof that the copying hurts you, then maybe don&#39;t create <code>String</code> objects unless you absolutely need to. You can work with raw <code>char[]</code>, a <code>CharBuffer</code> (as mentioned  before) or use some other <code>CharSequence</code> that doesn&#39;t provide immutability but also doesn&#39;t require copying. Then you only create <code>String</code> objects when you absolutely need to (for example to return it from a method call to client code). Also: what Stephen said: <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1642079052,"post_id":70673482,"comment_id":124979605,"body_markdown":"Regarding the &quot;modified JVM&quot;: you *could* probably do that but a.) it&#39;s probably not easy, you need a good understanding of at least some JVM internals, b.) it&#39;s likely to make upgrading to another JVM version exponentially harder and c.) at that point you&#39;re not really writing &quot;Java code&quot; any more, if your code doesn&#39;t run on a standard JVM with all the disadvantages that has (for example new developers on your team will have a much steeper learning curve).","body":"Regarding the &quot;modified JVM&quot;: you <i>could</i> probably do that but a.) it&#39;s probably not easy, you need a good understanding of at least some JVM internals, b.) it&#39;s likely to make upgrading to another JVM version exponentially harder and c.) at that point you&#39;re not really writing &quot;Java code&quot; any more, if your code doesn&#39;t run on a standard JVM with all the disadvantages that has (for example new developers on your team will have a much steeper learning curve)."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1642229712,"post_id":70673482,"comment_id":125020240,"body_markdown":"You are claiming that _&quot;every hundredth of a millisecond is important&quot;_, yet you also make clear that your code is still a work in progress! You are wasting time by looking at this issue now, without even knowing that it is going to cause a problem. Focus on getting your code past the WIP stage first. I also find it odd that you are being very shy about sharing any metrics you have for `String` creation - show us how expensive you think it is.","body":"You are claiming that <i>&quot;every hundredth of a millisecond is important&quot;</i>, yet you also make clear that your code is still a work in progress! You are wasting time by looking at this issue now, without even knowing that it is going to cause a problem. Focus on getting your code past the WIP stage first. I also find it odd that you are being very shy about sharing any metrics you have for <code>String</code> creation - show us how expensive you think it is."},{"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"score":0,"creation_date":1642248069,"post_id":70673482,"comment_id":125023220,"body_markdown":"@skomisa it just seems logical to me that creating a string by copying the array first is more performance demanding than creating a string without copying the array first","body":"@skomisa it just seems logical to me that creating a string by copying the array first is more performance demanding than creating a string without copying the array first"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1642248503,"post_id":70673482,"comment_id":125023282,"body_markdown":"Your code contains `new BufferedReader` which is more likely performance cause. By the way you also double copy char arrays when making strings - `new String(Arrays.copyOfRange(line, indexStart, lineIndex))` should be `new String(line, indexStart, lineIndex-indexStart)`, and create a lot of mostly unnecessary SmartString wrappers per string but I doubt fixing these would be noticable even though it cuts down on memory used.","body":"Your code contains <code>new BufferedReader</code> which is more likely performance cause. By the way you also double copy char arrays when making strings - <code>new String(Arrays.copyOfRange(line, indexStart, lineIndex))</code> should be <code>new String(line, indexStart, lineIndex-indexStart)</code>, and create a lot of mostly unnecessary SmartString wrappers per string but I doubt fixing these would be noticable even though it cuts down on memory used."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1642248884,"post_id":70673482,"comment_id":125023363,"body_markdown":"I meant file IO in place of `new BufferedReader` above","body":"I meant file IO in place of <code>new BufferedReader</code> above"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1642260155,"post_id":70673482,"comment_id":125025842,"body_markdown":"@OsirisTeam In the absence of any metrics to demonstrate that you actually have a real world problem, your question is off topic on SO for two reasons: [1] _&quot;there is no actual problem to be solved...&quot;_ [2] _&quot;you are asking an open-ended, hypothetical question...&quot;_. Please see [What types of questions should I avoid asking?](https://stackoverflow.com/help/dont-ask) and [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) for more information.","body":"@OsirisTeam In the absence of any metrics to demonstrate that you actually have a real world problem, your question is off topic on SO for two reasons: [1] <i>&quot;there is no actual problem to be solved...&quot;</i> [2] <i>&quot;you are asking an open-ended, hypothetical question...&quot;</i>. Please see <a href=\"https://stackoverflow.com/help/dont-ask\">What types of questions should I avoid asking?</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> for more information."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1642260406,"post_id":70673482,"comment_id":125025900,"body_markdown":"I’m voting to close this question because _&quot;there is no actual problem to be solved...&quot;_.","body":"I’m voting to close this question because <i>&quot;there is no actual problem to be solved...&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642344730,"creation_date":1642344730,"answer_id":70731193,"question_id":70673482,"body_markdown":"Simply put the answer is no, which is a bummer.\r\n\r\nThere are however some workarounds that are **not** reasonable:\r\n- Make the private String constructor public via Javas reflection API\r\n- Create a custom JVM distro with the private constructor changed to public\r\n\r\nMore reasonable alternatives would be:\r\n- Working directly with the char[]\r\n- Using a CharSequence or CharBuffer instead\r\n\r\nThanks for all the help in the comments.","title":"Impossible to create String from char[] without copying it?","body":"<p>Simply put the answer is no, which is a bummer.</p>\n<p>There are however some workarounds that are <strong>not</strong> reasonable:</p>\n<ul>\n<li>Make the private String constructor public via Javas reflection API</li>\n<li>Create a custom JVM distro with the private constructor changed to public</li>\n</ul>\n<p>More reasonable alternatives would be:</p>\n<ul>\n<li>Working directly with the char[]</li>\n<li>Using a CharSequence or CharBuffer instead</li>\n</ul>\n<p>Thanks for all the help in the comments.</p>\n"}],"owner":{"account_id":18658382,"reputation":81,"user_id":13600212,"display_name":"Osiris Team"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":70731193,"answer_count":1,"score":-1,"last_activity_date":1642344730,"creation_date":1641935380,"question_id":70673482,"body_markdown":"Is there a way of creating a String from a char[] without copying it?\r\n\r\nAs you can see from the screenshots below (taken from the String class in JDK 1.8):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe constructor with which this would be possible is private and not accessible. Any workarounds maybe? Since I need the performance increase of not copying the char[].\r\n\r\nFor context: I am working on a YAML/DYML parser, where every hundredth of a millisecond is important. Here is the code (its WIP): https://github.com/Osiris-Team/Dream-Yaml/blob/main/src/main/java/com/osiris/dyml/DYReaderV2.java\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9P4F9.png\r\n  [2]: https://i.stack.imgur.com/OZyGy.png","title":"Impossible to create String from char[] without copying it?","body":"<p>Is there a way of creating a String from a char[] without copying it?</p>\n<p>As you can see from the screenshots below (taken from the String class in JDK 1.8):</p>\n<p><a href=\"https://i.stack.imgur.com/9P4F9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9P4F9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OZyGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OZyGy.png\" alt=\"enter image description here\" /></a></p>\n<p>The constructor with which this would be possible is private and not accessible. Any workarounds maybe? Since I need the performance increase of not copying the char[].</p>\n<p>For context: I am working on a YAML/DYML parser, where every hundredth of a millisecond is important. Here is the code (its WIP): <a href=\"https://github.com/Osiris-Team/Dream-Yaml/blob/main/src/main/java/com/osiris/dyml/DYReaderV2.java\" rel=\"nofollow noreferrer\">https://github.com/Osiris-Team/Dream-Yaml/blob/main/src/main/java/com/osiris/dyml/DYReaderV2.java</a></p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1403531335,"post_id":24367572,"comment_id":37681292,"body_markdown":"May [this](http://gal-levinsky.blogspot.de/2012/06/spring-data-jpa-limit-query-size.html) help.","body":"May <a href=\"http://gal-levinsky.blogspot.de/2012/06/spring-data-jpa-limit-query-size.html\" rel=\"nofollow noreferrer\">this</a> help."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1403531412,"post_id":24367572,"comment_id":37681349,"body_markdown":"Ok that at least works, though I though I could somehow use `LIMIT` keyword directly in the sql statement...","body":"Ok that at least works, though I though I could somehow use <code>LIMIT</code> keyword directly in the sql statement..."},{"owner":{"account_id":38769,"reputation":5488,"user_id":111489,"accept_rate":85,"display_name":"rangalo"},"score":1,"creation_date":1403531496,"post_id":24367572,"comment_id":37681405,"body_markdown":"I think LIMIT is highly vendor specific. With JPA you could do q.setMaxResults(limitVal)","body":"I think LIMIT is highly vendor specific. With JPA you could do q.setMaxResults(limitVal)"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1403633591,"post_id":24367572,"comment_id":37730115,"body_markdown":"@membersound You aren&#39;t writing SQL you are writing HQL. Very different things. If it would be a SQL query it would work, it doesn&#39;t work in HQL.","body":"@membersound You aren&#39;t writing SQL you are writing HQL. Very different things. If it would be a SQL query it would work, it doesn&#39;t work in HQL."},{"owner":{"account_id":8857535,"reputation":470,"user_id":6614803,"display_name":"Keegs"},"score":1,"creation_date":1598455566,"post_id":24367572,"comment_id":112466405,"body_markdown":"You may find your solution here: https://stackoverflow.com/questions/36255394/jpa-native-query-get-a-single-object [https://stackoverflow.com/a/63600700/6614803](https://stackoverflow.com/a/63600700/6614803)","body":"You may find your solution here: <a href=\"https://stackoverflow.com/questions/36255394/jpa-native-query-get-a-single-object\" title=\"jpa native query get a single object\">stackoverflow.com/questions/36255394/&hellip;</a> <a href=\"https://stackoverflow.com/a/63600700/6614803\">https://stackoverflow.com/a/63600700/6614803</a>"}],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1539531213,"creation_date":1403643172,"answer_id":24396062,"question_id":24367572,"body_markdown":"`LIMIT` is not part of JPQL. The mechanism available in current release version (1.6.0.RELEASE as of the time of writing) is pagination:\r\n\r\n    interface PersonRepository extends Repository&lt;Person, Long&gt; {\r\n\r\n      @Query(&quot;...&quot;)\r\n      List&lt;Person&gt; findLimited(..., Pageable pageable);\r\n    }\r\n\r\nThis can then be used as follows:\r\n\r\n    repository.findLimited(..., new PageRequest(0, 10));\r\n\r\nThis will return the first ten results of the query defined in the `@Query` annotation.\r\n\r\nThe current master branch of Spring Data JPA already contains a new feature that would allow you to rewrite above query as follows:\r\n\r\n    interface PersonRepository extends Repository&lt;Person, Long&gt; {\r\n\r\n      List&lt;Person&gt; findTop3ByCompanyOrderByName(Company company);\r\n    }\r\n\r\nAs of version 1.7.0.M1 (feature [already available][1] in [snapshots][2]) the query derivation mechanism will understand `Top` and `First` in the subject clause To limit the number of results returned.\r\n\r\n**Update**\r\nas `new PageRequest` deprecated you need to use`PageRequest.of(0, 10)` instead\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-jpa/commit/43d035fe545e8ec1f82b5b3cafeca819423feeec\r\n  [2]: http://repo.spring.io/libs-snapshot/org/springframework/data/spring-data-jpa/1.7.0.BUILD-SNAPSHOT/","title":"How to use LIMIT in spring within sql query?","body":"<p><code>LIMIT</code> is not part of JPQL. The mechanism available in current release version (1.6.0.RELEASE as of the time of writing) is pagination:</p>\n\n<pre><code>interface PersonRepository extends Repository&lt;Person, Long&gt; {\n\n  @Query(\"...\")\n  List&lt;Person&gt; findLimited(..., Pageable pageable);\n}\n</code></pre>\n\n<p>This can then be used as follows:</p>\n\n<pre><code>repository.findLimited(..., new PageRequest(0, 10));\n</code></pre>\n\n<p>This will return the first ten results of the query defined in the <code>@Query</code> annotation.</p>\n\n<p>The current master branch of Spring Data JPA already contains a new feature that would allow you to rewrite above query as follows:</p>\n\n<pre><code>interface PersonRepository extends Repository&lt;Person, Long&gt; {\n\n  List&lt;Person&gt; findTop3ByCompanyOrderByName(Company company);\n}\n</code></pre>\n\n<p>As of version 1.7.0.M1 (feature <a href=\"https://github.com/spring-projects/spring-data-jpa/commit/43d035fe545e8ec1f82b5b3cafeca819423feeec\" rel=\"noreferrer\">already available</a> in <a href=\"http://repo.spring.io/libs-snapshot/org/springframework/data/spring-data-jpa/1.7.0.BUILD-SNAPSHOT/\" rel=\"noreferrer\">snapshots</a>) the query derivation mechanism will understand <code>Top</code> and <code>First</code> in the subject clause To limit the number of results returned.</p>\n\n<p><strong>Update</strong>\nas <code>new PageRequest</code> deprecated you need to use<code>PageRequest.of(0, 10)</code> instead</p>\n"},{"tags":[],"owner":{"account_id":10536166,"reputation":261,"user_id":7763988,"display_name":"Augusto Peres"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574024119,"creation_date":1574024119,"answer_id":58905113,"question_id":24367572,"body_markdown":"An alternative is to use HQL instead of the Spring-data-jpa and then use `setMaxResults()`.\r\n\r\nFor example:\r\n```\r\nSessionFactory sessionFactory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();\r\nSession session = sessionFactory.openSession();\r\nsession.beginTransaction();\r\n\r\nQuery query = session.createQuery(&quot;FROM Person WHERE company.id = :id ORDER BY name DESC&quot;);\r\nquery.setParameter(&quot;id&quot;, id);\r\nquery.setMaxResults(3); // this replaces the LIMIT in the query\r\nList&lt;Person&gt; personList = query.getResultList();\r\n\r\nsession.getTransaction().commit();\r\nsession.close();\r\n```","title":"How to use LIMIT in spring within sql query?","body":"<p>An alternative is to use HQL instead of the Spring-data-jpa and then use <code>setMaxResults()</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>SessionFactory sessionFactory = new Configuration().configure(\"hibernate.cfg.xml\").buildSessionFactory();\nSession session = sessionFactory.openSession();\nsession.beginTransaction();\n\nQuery query = session.createQuery(\"FROM Person WHERE company.id = :id ORDER BY name DESC\");\nquery.setParameter(\"id\", id);\nquery.setMaxResults(3); // this replaces the LIMIT in the query\nList&lt;Person&gt; personList = query.getResultList();\n\nsession.getTransaction().commit();\nsession.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6093438,"reputation":493,"user_id":4755024,"display_name":"Sofiane"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1642344526,"creation_date":1580396358,"answer_id":59988808,"question_id":24367572,"body_markdown":"My response is perhaps very late, but if I can help anyone else, you can use the nativeQuery like this :\r\n\r\n    @Query(value=&quot;SELECT * from person p WHERE p.company_id = :id ORDER BY p.name DESC LIMIT 3&quot;, nativeQuery = true)","title":"How to use LIMIT in spring within sql query?","body":"<p>My response is perhaps very late, but if I can help anyone else, you can use the nativeQuery like this :</p>\n<pre><code>@Query(value=&quot;SELECT * from person p WHERE p.company_id = :id ORDER BY p.name DESC LIMIT 3&quot;, nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36380,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":24396062,"answer_count":3,"score":34,"last_activity_date":1642344526,"creation_date":1403531038,"question_id":24367572,"body_markdown":"Somehow I cannot use the `LIMIT` qualifier within a sql query using `Spring-data-jpa`:\r\n\r\n    @Query(&quot;SELECT p from Person p WHERE p.company.id = :id ORDER BY p.name DESC LIMIT 3&quot;)\r\n\r\nWhat is wrong here?\r\n\r\n    Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: Limit near line 1, column 146\r\n    \tat org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:91)\r\n    \tat org.hibernate.hql.internal.ast.ErrorCounter.throwQueryException(ErrorCounter.java:109)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:304)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:203)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:158)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:126)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:88)\r\n    \tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:190)\r\n    \tat org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:301)\r\n    \tat org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:236)\r\n    \tat org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1800)\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:328)\r\n    \t... 48 more\r\n\r\n","title":"How to use LIMIT in spring within sql query?","body":"<p>Somehow I cannot use the <code>LIMIT</code> qualifier within a sql query using <code>Spring-data-jpa</code>:</p>\n\n<pre><code>@Query(\"SELECT p from Person p WHERE p.company.id = :id ORDER BY p.name DESC LIMIT 3\")\n</code></pre>\n\n<p>What is wrong here?</p>\n\n<pre><code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: Limit near line 1, column 146\n    at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:91)\n    at org.hibernate.hql.internal.ast.ErrorCounter.throwQueryException(ErrorCounter.java:109)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:304)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:203)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:158)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:126)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:88)\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:190)\n    at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:301)\n    at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:236)\n    at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1800)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:328)\n    ... 48 more\n</code></pre>\n"},{"tags":["java","loops","while-loop","do-while"],"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":4,"creation_date":1384768750,"post_id":20044845,"comment_id":29853400,"body_markdown":"The difference is *when* the condition check occurs, of course. In a do-while, the body is always executed *at least once*. Otherwise, there really is nothing to say.","body":"The difference is <i>when</i> the condition check occurs, of course. In a do-while, the body is always executed <i>at least once</i>. Otherwise, there really is nothing to say."},{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":3,"creation_date":1384768793,"post_id":20044845,"comment_id":29853420,"body_markdown":"`while` is an *entry check loop*, whereas `do-while` is an *exit-check loop*. And **NO**, what you mentioned is not the right way to interchange the loop, while having the functionality intact.","body":"<code>while</code> is an <i>entry check loop</i>, whereas <code>do-while</code> is an <i>exit-check loop</i>. And <b>NO</b>, what you mentioned is not the right way to interchange the loop, while having the functionality intact."},{"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"score":1,"creation_date":1384768822,"post_id":20044845,"comment_id":29853439,"body_markdown":"dont compare by execution , compare by definition first , then you&#39;ll know where to expect the change","body":"dont compare by execution , compare by definition first , then you&#39;ll know where to expect the change"},{"owner":{"account_id":3600130,"reputation":385,"user_id":3003605,"accept_rate":75,"display_name":"user3003605"},"score":0,"creation_date":1384769667,"post_id":20044845,"comment_id":29853889,"body_markdown":"Thank you for explaining this so quickly guys, much appreciated.","body":"Thank you for explaining this so quickly guys, much appreciated."}],"answers":[{"tags":[],"owner":{"account_id":1994800,"reputation":18059,"user_id":1787973,"accept_rate":65,"display_name":"Maxime Ch&#233;ramy"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1384770306,"creation_date":1384768784,"answer_id":20044890,"question_id":20044845,"body_markdown":"The difference between a `do-while` and a `while` is **when** the comparison is done. With a `do-while`, you&#39;ll compare at the end and hence do at least one iteration.\r\n\r\n### Equivalent code for your example\r\n\r\n    do\r\n    { \r\n        i++; \r\n        ++j;\r\n        System.out.println( i * j );\r\n    \r\n    }\r\n    while ((i &lt; 10) &amp;&amp; (j*j != 25));\r\n\r\nis equivalent to:\r\n\r\n    i++; \r\n    ++j;\r\n    System.out.println( i * j );\r\n    while ((i &lt; 10) &amp;&amp; (j*j != 25)) {\r\n        i++; \r\n        ++j;\r\n        System.out.println( i * j );\r\n    }\r\n\r\n### General comprehension\r\n\r\nA `do-while` loop is an *exit controlled loop* which means that it exits at the end. A `while` loop is an *entry controlled loop* which means that the condition is tested at the beginning and as a consequence, the code inside the loop might not even be executed.\r\n\r\n    do {\r\n        &lt;block&gt;\r\n    } while (&lt;condition&gt;);\r\n\r\nis equivalent to:\r\n\r\n    &lt;block&gt;\r\n    while (&lt;condition&gt;) {\r\n        &lt;block&gt;\r\n    };\r\n\r\n### Use case\r\n\r\nA typical use case for a `do-while` is the following: you ask the user something and you want do repeat the operation while the input is not correct.\r\n\r\n    do {\r\n       // Ask something\r\n    } while (input is not correct);\r\n\r\nIn that case, you want to ask at least once and it&#39;s usually more elegant than using a `while` which would require either to duplicate code, or to add an extra condition or setting an arbitrary value to force entering the loop the first time.\r\n\r\nAt the opposite, `while` loops are much more commons and can easily replace a `do-while` (not all languages have both loops).","title":"do-while and while comparison","body":"<p>The difference between a <code>do-while</code> and a <code>while</code> is <strong>when</strong> the comparison is done. With a <code>do-while</code>, you'll compare at the end and hence do at least one iteration.</p>\n\n<h3>Equivalent code for your example</h3>\n\n<pre><code>do\n{ \n    i++; \n    ++j;\n    System.out.println( i * j );\n\n}\nwhile ((i &lt; 10) &amp;&amp; (j*j != 25));\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>i++; \n++j;\nSystem.out.println( i * j );\nwhile ((i &lt; 10) &amp;&amp; (j*j != 25)) {\n    i++; \n    ++j;\n    System.out.println( i * j );\n}\n</code></pre>\n\n<h3>General comprehension</h3>\n\n<p>A <code>do-while</code> loop is an <em>exit controlled loop</em> which means that it exits at the end. A <code>while</code> loop is an <em>entry controlled loop</em> which means that the condition is tested at the beginning and as a consequence, the code inside the loop might not even be executed.</p>\n\n<pre><code>do {\n    &lt;block&gt;\n} while (&lt;condition&gt;);\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>&lt;block&gt;\nwhile (&lt;condition&gt;) {\n    &lt;block&gt;\n};\n</code></pre>\n\n<h3>Use case</h3>\n\n<p>A typical use case for a <code>do-while</code> is the following: you ask the user something and you want do repeat the operation while the input is not correct.</p>\n\n<pre><code>do {\n   // Ask something\n} while (input is not correct);\n</code></pre>\n\n<p>In that case, you want to ask at least once and it's usually more elegant than using a <code>while</code> which would require either to duplicate code, or to add an extra condition or setting an arbitrary value to force entering the loop the first time.</p>\n\n<p>At the opposite, <code>while</code> loops are much more commons and can easily replace a <code>do-while</code> (not all languages have both loops).</p>\n"},{"tags":[],"owner":{"account_id":3481005,"reputation":3302,"user_id":2913064,"display_name":"kviiri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384768884,"creation_date":1384768884,"answer_id":20044926,"question_id":20044845,"body_markdown":"No, the two codes are not equivalent. `do-while` only checks the condition at the end of the loop so `i++`, `++j` and `System.out.println(i * j)` happen at least once regardless of the initial values of `i` and `j`. `while` skips the entire loop if the condition isn&#39;t `true` for the first time the loop is entered.\r\n\r\nYou can achieve the same effect with `while` by copying the loop&#39;s body once before the loop, for instance.","title":"do-while and while comparison","body":"<p>No, the two codes are not equivalent. <code>do-while</code> only checks the condition at the end of the loop so <code>i++</code>, <code>++j</code> and <code>System.out.println(i * j)</code> happen at least once regardless of the initial values of <code>i</code> and <code>j</code>. <code>while</code> skips the entire loop if the condition isn't <code>true</code> for the first time the loop is entered.</p>\n\n<p>You can achieve the same effect with <code>while</code> by copying the loop's body once before the loop, for instance.</p>\n"},{"tags":[],"owner":{"account_id":3410595,"reputation":647,"user_id":2860598,"accept_rate":100,"display_name":"Peter_James"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384768970,"creation_date":1384768970,"answer_id":20044961,"question_id":20044845,"body_markdown":"**The key difference between `do-while` and `while`, with `do-while` you are guaranteed at least one run of your code before the checks.**\r\n\r\n**It does not need to get anymore complicated than that.*","title":"do-while and while comparison","body":"<p><strong>The key difference between <code>do-while</code> and <code>while</code>, with <code>do-while</code> you are guaranteed at least one run of your code before the checks.</strong></p>\n\n<p>*<em>It does not need to get anymore complicated than that.</em></p>\n"},{"tags":[],"owner":{"account_id":10439160,"reputation":162,"user_id":7696418,"accept_rate":50,"display_name":"ViceroyFaust"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502151168,"creation_date":1502135886,"answer_id":45554771,"question_id":20044845,"body_markdown":"Do-While loops are pretty useful for cases like these, where you ask the user a question, and the user has to answer it for the program to terminate.\r\nFor example, this code:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class DoWhile {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint answer;\r\n    \t\tdo {\r\n    \t\t\tSystem.out.println(&quot;What is 5+5?&quot;);\r\n    \t\t\tScanner scan = new Scanner(System.in);\r\n    \t\t\tanswer = scan.nextInt();\r\n    \t\t} while (answer != 10);\r\n    \t}\r\n    }\r\n\r\n","title":"do-while and while comparison","body":"<p>Do-While loops are pretty useful for cases like these, where you ask the user a question, and the user has to answer it for the program to terminate.\nFor example, this code:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class DoWhile {\n\n    public static void main(String[] args) {\n        int answer;\n        do {\n            System.out.println(\"What is 5+5?\");\n            Scanner scan = new Scanner(System.in);\n            answer = scan.nextInt();\n        } while (answer != 10);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3600130,"reputation":385,"user_id":3003605,"accept_rate":75,"display_name":"user3003605"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16421,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":20044890,"answer_count":4,"score":6,"last_activity_date":1642343067,"creation_date":1384768672,"question_id":20044845,"body_markdown":"do-while:\r\n\r\n    do\r\n    { \r\n        i++; \r\n        ++j;\r\n        System.out.println( i * j );\r\n\r\n    }\r\n    while ((i &lt; 10) &amp;&amp; (j*j != 25));\r\n\r\nI am learning about do-while vs while at the moment and would like to rewrite the above java fragment (already declared and initialized) using a while instead. Are the below rewritten codes correct way to do so:\r\n\r\nwhile:\r\n\r\n    while ((i &lt; 10) &amp;&amp; (j*j != 25))\r\n    {\r\n        i++;  \r\n        ++j;\r\n        System.out.println( i * j );\r\n    }\r\n","title":"do-while and while comparison","body":"<p>do-while:</p>\n<pre><code>do\n{ \n    i++; \n    ++j;\n    System.out.println( i * j );\n\n}\nwhile ((i &lt; 10) &amp;&amp; (j*j != 25));\n</code></pre>\n<p>I am learning about do-while vs while at the moment and would like to rewrite the above java fragment (already declared and initialized) using a while instead. Are the below rewritten codes correct way to do so:</p>\n<p>while:</p>\n<pre><code>while ((i &lt; 10) &amp;&amp; (j*j != 25))\n{\n    i++;  \n    ++j;\n    System.out.println( i * j );\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642317180,"creation_date":1642317180,"answer_id":70728057,"question_id":70728002,"body_markdown":"Do you have a good guess?  There&#39;s not one standard file header that every format uses.  Some (like .txt) have no header.  The others all have their own custom header.  Sometimes even the header isn&#39;t enough-  there&#39;s multiple subheaders for different types of .wav and .bmp files.  If you have a guess you can test that guess out using whatever header that format has, but if you don&#39;t even have a guess you&#39;re not going to get anywhere.\r\n\r\nThe header of a file isn&#39;t metadata, it&#39;s just (usually) the first N bytes of the file.","title":"How to Get Raw File extension from Header in Kotlin","body":"<p>Do you have a good guess?  There's not one standard file header that every format uses.  Some (like .txt) have no header.  The others all have their own custom header.  Sometimes even the header isn't enough-  there's multiple subheaders for different types of .wav and .bmp files.  If you have a guess you can test that guess out using whatever header that format has, but if you don't even have a guess you're not going to get anywhere.</p>\n<p>The header of a file isn't metadata, it's just (usually) the first N bytes of the file.</p>\n"},{"tags":[],"owner":{"account_id":4543843,"reputation":789,"user_id":3690982,"display_name":"Katana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642342649,"creation_date":1642342649,"answer_id":70730910,"question_id":70728002,"body_markdown":"Usage:\r\n\r\n    GetFileHeader.isPDF(filename)\r\n\r\nGetFileHeader Class written in java but you can use it in kotlin \r\n \r\n    public class GetFileHeader {\r\n        private static final int PDF_MAGIC[] = new int[] { 0x25, 0x50, 0x44, 0x46};\r\n        private static final int DOC1_MAGIC[] = new int[] { 0xd0, 0xcf, 0x11, 0xe0, 0xa1, 0xb1, 0x1a, 0xe1};\r\n        private static final int DOC2_MAGIC[] = new int[] { 0x0d, 0x44, 0x4f, 0x43};\r\n        private static final int DOC3_MAGIC[] = new int[] { 0xcf, 0x11, 0xe0, 0xa1, 0xb1,0x1a, 0xe1, 0x00};\r\n        private static final int DOC4_MAGIC[] = new int[] { 0xdb, 0xa5, 0x2d, 0x00};\r\n        private static final int DOC5_MAGIC[] = new int[] { 0xec, 0xa5, 0xc1, 0x00};\r\n        private static final int DOCX1_MAGIC[] = new int[] { 0x50, 0x4b, 0x03, 0x04};\r\n        private static final int DOCX2_MAGIC[] = new int[] { 0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x06, 0x00};\r\n    \r\n        public static boolean isPDF(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; PDF_MAGIC.length; ++i) {\r\n                    if(ins.read() != PDF_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDoc1(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOC1_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOC1_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDoc2(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOC2_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOC2_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDoc3(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOC3_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOC3_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDoc4(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOC4_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOC4_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDoc5(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOC5_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOC5_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDocX1(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOCX1_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOCX1_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n        public static boolean isDocX2(File filename) throws Exception {\r\n            FileInputStream ins = new FileInputStream(filename);\r\n            try {\r\n                for(int i = 0; i &lt; DOCX2_MAGIC.length; ++i) {\r\n                    if(ins.read() != DOCX2_MAGIC[i]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                ins.close();\r\n            }\r\n        }\r\n","title":"How to Get Raw File extension from Header in Kotlin","body":"<p>Usage:</p>\n<pre><code>GetFileHeader.isPDF(filename)\n</code></pre>\n<p>GetFileHeader Class written in java but you can use it in kotlin</p>\n<pre><code>public class GetFileHeader {\n    private static final int PDF_MAGIC[] = new int[] { 0x25, 0x50, 0x44, 0x46};\n    private static final int DOC1_MAGIC[] = new int[] { 0xd0, 0xcf, 0x11, 0xe0, 0xa1, 0xb1, 0x1a, 0xe1};\n    private static final int DOC2_MAGIC[] = new int[] { 0x0d, 0x44, 0x4f, 0x43};\n    private static final int DOC3_MAGIC[] = new int[] { 0xcf, 0x11, 0xe0, 0xa1, 0xb1,0x1a, 0xe1, 0x00};\n    private static final int DOC4_MAGIC[] = new int[] { 0xdb, 0xa5, 0x2d, 0x00};\n    private static final int DOC5_MAGIC[] = new int[] { 0xec, 0xa5, 0xc1, 0x00};\n    private static final int DOCX1_MAGIC[] = new int[] { 0x50, 0x4b, 0x03, 0x04};\n    private static final int DOCX2_MAGIC[] = new int[] { 0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x06, 0x00};\n\n    public static boolean isPDF(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; PDF_MAGIC.length; ++i) {\n                if(ins.read() != PDF_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDoc1(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOC1_MAGIC.length; ++i) {\n                if(ins.read() != DOC1_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDoc2(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOC2_MAGIC.length; ++i) {\n                if(ins.read() != DOC2_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDoc3(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOC3_MAGIC.length; ++i) {\n                if(ins.read() != DOC3_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDoc4(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOC4_MAGIC.length; ++i) {\n                if(ins.read() != DOC4_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDoc5(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOC5_MAGIC.length; ++i) {\n                if(ins.read() != DOC5_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDocX1(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOCX1_MAGIC.length; ++i) {\n                if(ins.read() != DOCX1_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n    public static boolean isDocX2(File filename) throws Exception {\n        FileInputStream ins = new FileInputStream(filename);\n        try {\n            for(int i = 0; i &lt; DOCX2_MAGIC.length; ++i) {\n                if(ins.read() != DOCX2_MAGIC[i]) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            ins.close();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22239655,"reputation":157,"user_id":16474396,"display_name":"karma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70730910,"answer_count":2,"score":-1,"last_activity_date":1642342649,"creation_date":1642316450,"question_id":70728002,"body_markdown":"I have a file that extension is unknown.\r\nIs there a way to find the type of extension through the file header?","title":"How to Get Raw File extension from Header in Kotlin","body":"<p>I have a file that extension is unknown.\nIs there a way to find the type of extension through the file header?</p>\n"},{"tags":["java","mysql","jdbc","resultset"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1642342218,"post_id":70729583,"comment_id":125040124,"body_markdown":"`se` and `see` are result sets, so they are never equal to `&quot;Available&quot;` or `&quot;Cleaned&quot;`. I recommend that you read a tutorial or book on using JDBC before continuing. Also, don&#39;t concatenate values into a query string: it makes your code vulnerable to SQL injection.","body":"<code>se</code> and <code>see</code> are result sets, so they are never equal to <code>&quot;Available&quot;</code> or <code>&quot;Cleaned&quot;</code>. I recommend that you read a tutorial or book on using JDBC before continuing. Also, don&#39;t concatenate values into a query string: it makes your code vulnerable to SQL injection."}],"answers":[{"tags":[],"owner":{"account_id":1450844,"reputation":315,"user_id":1367831,"display_name":"Ratnakar Sadasyula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642335733,"creation_date":1642335733,"answer_id":70729993,"question_id":70729583,"body_markdown":"From your code **se acd see** are the respective  ResultSet obtained, I am not sure how ResultSet.equals works, but I suggest you use the following\r\n\r\n    while(see.next())\r\n    {\r\n    String clean=see.getString(&quot;clean_status&quot;);\r\n    }\r\n    while(se.next())\r\n    {\r\n    String avail=see.getString(&quot;availability&quot;);\r\n    }\r\n\r\nAnd then check the output.\r\n\r\nHowever,if the error still persists, check in the table if the values for availability and clean_status are having any leading or trailing spaces, which could be an issue at times.\r\n","title":"Not able to proceed with ResultSet","body":"<p>From your code <strong>se acd see</strong> are the respective  ResultSet obtained, I am not sure how ResultSet.equals works, but I suggest you use the following</p>\n<pre><code>while(see.next())\n{\nString clean=see.getString(&quot;clean_status&quot;);\n}\nwhile(se.next())\n{\nString avail=see.getString(&quot;availability&quot;);\n}\n</code></pre>\n<p>And then check the output.</p>\n<p>However,if the error still persists, check in the table if the values for availability and clean_status are having any leading or trailing spaces, which could be an issue at times.</p>\n"}],"owner":{"account_id":23878608,"reputation":1,"user_id":17879556,"display_name":"Mister Micron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642342135,"creation_date":1642332351,"question_id":70729583,"body_markdown":"I have MySQL database having columns named with roomno, availability, clean_status, price and room_type. Column Availability has data as either &#39;available&#39; or &#39;not available&#39; and column clean_status has data as either &#39;dirty&#39; or &#39;cleaned&#39;. I am trying to fetch data from database and if the selected room is either &#39;not available&#39; or &#39;dirty&#39;, I would like to show error message stating &#39;room should be available or cleaned before adding customer&#39;. I have used ResultSet and execute the work. Earlier it showed the error message. I modified the code and made it executable, but it doesn&#39;t give any error message neither the data in column of database has changed. I think it is because of ResultSet. Can any body help me? \r\n```   \r\ntry {\r\n    connection = new MySQLConnection();\r\n} catch (Exception ae) {\r\n    if (ae != null) {\r\n        JOptionPane.showMessageDialog(null, &quot;Error Connection To Database&quot;);\r\n    }\r\n}\r\nString avai =&quot;select availability from rooms where roomno=&#39;&quot;+roomno+&quot;&#39;&quot;;\r\nString clean =&quot;select clean_status from rooms where roomno=&#39;&quot;+roomno+&quot;&#39;&quot;;\r\n\r\n   try {\r\n       this.see = connection.s.executeQuery(clean);\r\n   }\r\n   catch (SQLException ex) {\r\n       ex.printStackTrace();\r\n   }\r\ntry {\r\n    this.conn = new MySQLConnection();\r\n  this.se = connection.s.executeQuery(avai);\r\n} catch (SQLException ex) {\r\n    ex.printStackTrace();\r\n}\r\n    if (se.equals(&quot;Available&quot;) &amp;&amp; see.equals(&quot;Cleaned&quot;)){\r\n        String str = &quot;insert into customer values(&#39;&quot; +id + &quot;&#39;,&#39;&quot; +mobileno +&quot;&#39;,&#39;&quot; +name +&quot;&#39;,&#39;&quot; +gender+&quot;&#39;,&#39;&quot;+country+&quot;&#39;,&#39;&quot; +roomno+&quot;&#39;,&#39;&quot;+checkedin+&quot;&#39;,&#39;&quot; +deposit+&quot;&#39;)&quot;;\r\n        try {\r\n            connection.s.executeUpdate(str);\r\n            JOptionPane.showMessageDialog(null, &quot;Data Added To Database&quot;);\r\n        }\r\n        catch (Exception eu) {\r\n            eu.printStackTrace();\r\n            JOptionPane.showMessageDialog(this, &quot;Error In Database Table&quot;, &quot;Message&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n    }\r\n    else if (se.equals(&quot;Not Available&quot;) || see.equals(&quot;Dirty&quot;)){\r\n        JOptionPane.showMessageDialog(null,&quot;Room Is Dirty or Not Available&quot;);\r\n    }\r\n```","title":"Not able to proceed with ResultSet","body":"<p>I have MySQL database having columns named with roomno, availability, clean_status, price and room_type. Column Availability has data as either 'available' or 'not available' and column clean_status has data as either 'dirty' or 'cleaned'. I am trying to fetch data from database and if the selected room is either 'not available' or 'dirty', I would like to show error message stating 'room should be available or cleaned before adding customer'. I have used ResultSet and execute the work. Earlier it showed the error message. I modified the code and made it executable, but it doesn't give any error message neither the data in column of database has changed. I think it is because of ResultSet. Can any body help me?</p>\n<pre><code>try {\n    connection = new MySQLConnection();\n} catch (Exception ae) {\n    if (ae != null) {\n        JOptionPane.showMessageDialog(null, &quot;Error Connection To Database&quot;);\n    }\n}\nString avai =&quot;select availability from rooms where roomno='&quot;+roomno+&quot;'&quot;;\nString clean =&quot;select clean_status from rooms where roomno='&quot;+roomno+&quot;'&quot;;\n\n   try {\n       this.see = connection.s.executeQuery(clean);\n   }\n   catch (SQLException ex) {\n       ex.printStackTrace();\n   }\ntry {\n    this.conn = new MySQLConnection();\n  this.se = connection.s.executeQuery(avai);\n} catch (SQLException ex) {\n    ex.printStackTrace();\n}\n    if (se.equals(&quot;Available&quot;) &amp;&amp; see.equals(&quot;Cleaned&quot;)){\n        String str = &quot;insert into customer values('&quot; +id + &quot;','&quot; +mobileno +&quot;','&quot; +name +&quot;','&quot; +gender+&quot;','&quot;+country+&quot;','&quot; +roomno+&quot;','&quot;+checkedin+&quot;','&quot; +deposit+&quot;')&quot;;\n        try {\n            connection.s.executeUpdate(str);\n            JOptionPane.showMessageDialog(null, &quot;Data Added To Database&quot;);\n        }\n        catch (Exception eu) {\n            eu.printStackTrace();\n            JOptionPane.showMessageDialog(this, &quot;Error In Database Table&quot;, &quot;Message&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n    }\n    else if (se.equals(&quot;Not Available&quot;) || see.equals(&quot;Dirty&quot;)){\n        JOptionPane.showMessageDialog(null,&quot;Room Is Dirty or Not Available&quot;);\n    }\n</code></pre>\n"},{"tags":["java","android-studio","runtime-error","report","google-play-console"],"owner":{"account_id":14544919,"reputation":31,"user_id":10505407,"display_name":"M K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642341007,"creation_date":1642341007,"question_id":70730667,"body_markdown":"After AAB uploaded on Google Play Console, report showing 1 Crash &amp; ANRs error related to app stability but the error is only Samsung devices (Test device is &quot;Samsung Galaxy S20 5G&quot;). I have try too much i have not get any coding error regarding this. Whats should I do to resolve the bug?\r\n\r\n**Report**\r\n\r\n    FATAL EXCEPTION: Thread-13\r\n    Process: com.shayari.meenaappstudio, PID: 5926\r\n    View{id=16908335, res-name=statusBarBackground, visibility=VISIBLE, width=1080, height=78, has-focus=false, has-focusable=false, has-window-focus=true, is-clickable=false, is-enabled=true, is-focused=false, is-focusable=false, is-layout-requested=false, is-selected=false, layout-params=android.widget.FrameLayout$LayoutParams@ca643f3, tag=null, root-is-layout-requested=false, has-input-connection=false, x=0.0, y=0.0} \r\n\tat androidx.test.espresso.NoMatchingViewException$Builder.build(NoMatchingViewException.java:5)\r\n\tat androidx.test.espresso.base.ViewFinderImpl.getView(ViewFinderImpl.java:20)\r\n\tat androidx.test.espresso.ViewInteraction.doPerform(ViewInteraction.java:4)\r\n\tat androidx.test.espresso.ViewInteraction.-$$Nest$mdoPerform(Unknown Source:0)\r\n\tat androidx.test.espresso.ViewInteraction$1.call(ViewInteraction.java:2)\r\n\tat androidx.test.espresso.ViewInteraction$1.call(ViewInteraction.java:1)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat android.os.Handler.handleCallback(Handler.java:883)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:100)\r\n\tat android.os.Looper.loop(Looper.java:237)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8154)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)","title":"Error in Samsung Devices, report of Google play console &quot;androidx.test.espresso.NoMatchingViewException: &quot;","body":"<p>After AAB uploaded on Google Play Console, report showing 1 Crash &amp; ANRs error related to app stability but the error is only Samsung devices (Test device is &quot;Samsung Galaxy S20 5G&quot;). I have try too much i have not get any coding error regarding this. Whats should I do to resolve the bug?</p>\n<p><strong>Report</strong></p>\n<pre><code>FATAL EXCEPTION: Thread-13\nProcess: com.shayari.meenaappstudio, PID: 5926\nView{id=16908335, res-name=statusBarBackground, visibility=VISIBLE, width=1080, height=78, has-focus=false, has-focusable=false, has-window-focus=true, is-clickable=false, is-enabled=true, is-focused=false, is-focusable=false, is-layout-requested=false, is-selected=false, layout-params=android.widget.FrameLayout$LayoutParams@ca643f3, tag=null, root-is-layout-requested=false, has-input-connection=false, x=0.0, y=0.0} \nat androidx.test.espresso.NoMatchingViewException$Builder.build(NoMatchingViewException.java:5)\nat androidx.test.espresso.base.ViewFinderImpl.getView(ViewFinderImpl.java:20)\nat androidx.test.espresso.ViewInteraction.doPerform(ViewInteraction.java:4)\nat androidx.test.espresso.ViewInteraction.-$$Nest$mdoPerform(Unknown Source:0)\nat androidx.test.espresso.ViewInteraction$1.call(ViewInteraction.java:2)\nat androidx.test.espresso.ViewInteraction$1.call(ViewInteraction.java:1)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat android.os.Handler.handleCallback(Handler.java:883)\nat android.os.Handler.dispatchMessage(Handler.java:100)\nat android.os.Looper.loop(Looper.java:237)\nat android.app.ActivityThread.main(ActivityThread.java:8154)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\n</code></pre>\n"},{"tags":["java","recursion","user-input","fibonacci"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":1,"creation_date":1642317584,"post_id":70728075,"comment_id":125035538,"body_markdown":"What have you tried so far? What issues do you face?","body":"What have you tried so far? What issues do you face?"}],"answers":[{"tags":[],"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642317668,"creation_date":1642317668,"answer_id":70728100,"question_id":70728075,"body_markdown":"You could just calculate the Fibonacci sequence starting from 1 to the endpoint and once you reach the start point, you can start adding the numbers to an empty array. This weeds out all the ones that aren&#39;t necessary and accomplishes the task.","title":"Can someone tell me on how to print Fibonacci series, but the user will choose the start and the endpoint","body":"<p>You could just calculate the Fibonacci sequence starting from 1 to the endpoint and once you reach the start point, you can start adding the numbers to an empty array. This weeds out all the ones that aren't necessary and accomplishes the task.</p>\n"},{"tags":[],"owner":{"account_id":14220407,"reputation":1,"user_id":13087178,"display_name":"barak.l"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642340175,"creation_date":1642321735,"answer_id":70728455,"question_id":70728075,"body_markdown":"You can use in dynamic programming approach\r\nsave the first 2 numbers in the series in this example num1 = 55, num2 = 89\r\nand sum = num1 + num2\r\nyou can get num2 by running fib on dynamic programming approach till it will get to the start value limit(starting point)\r\n\r\n    public int fibWithLimit(int start1,int start2, int end) {\r\n    int num1 = start1, num2= start2, sum;\r\n    while(sum &lt;= end) {\r\n        sum = num1+ num2;\r\n        num1= num2\r\n        num2 = sum;\r\n      }\r\n     return sum;\r\n    }","title":"Can someone tell me on how to print Fibonacci series, but the user will choose the start and the endpoint","body":"<p>You can use in dynamic programming approach\nsave the first 2 numbers in the series in this example num1 = 55, num2 = 89\nand sum = num1 + num2\nyou can get num2 by running fib on dynamic programming approach till it will get to the start value limit(starting point)</p>\n<pre><code>public int fibWithLimit(int start1,int start2, int end) {\nint num1 = start1, num2= start2, sum;\nwhile(sum &lt;= end) {\n    sum = num1+ num2;\n    num1= num2\n    num2 = sum;\n  }\n return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096651,"reputation":1,"user_id":11860681,"display_name":"Serg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642326025,"creation_date":1642326025,"answer_id":70728883,"question_id":70728075,"body_markdown":"You can use a closed form expression of the n-th Fibonacci number which is given by (sorry, because of lack of reputation I can not insert a math formula, only a link to that formula at google chart)\r\n\r\nhttps://chart.googleapis.com/chart?cht=tx&amp;chl=F_n=\\frac{1}{\\sqrt5}\\left[\\left(\\frac{1%2b\\sqrt{5}}{2}\\right)^{n}-\\left(\\frac{1-\\sqrt{5}}{2}\\right)^{n}\\right]\r\n\r\nAlso there are some details with examples in R which could be useful\r\nhttps://fabiandablander.com/r/Fibonacci.html","title":"Can someone tell me on how to print Fibonacci series, but the user will choose the start and the endpoint","body":"<p>You can use a closed form expression of the n-th Fibonacci number which is given by (sorry, because of lack of reputation I can not insert a math formula, only a link to that formula at google chart)</p>\n<p><a href=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=F_n=%5Cfrac%7B1%7D%7B%5Csqrt5%7D%5Cleft%5B%5Cleft(%5Cfrac%7B1%2b%5Csqrt%7B5%7D%7D%7B2%7D%5Cright)%5E%7Bn%7D-%5Cleft(%5Cfrac%7B1-%5Csqrt%7B5%7D%7D%7B2%7D%5Cright)%5E%7Bn%7D%5Cright%5D\" rel=\"nofollow noreferrer\">https://chart.googleapis.com/chart?cht=tx&amp;chl=F_n=\\frac{1}{\\sqrt5}\\left[\\left(\\frac{1%2b\\sqrt{5}}{2}\\right)^{n}-\\left(\\frac{1-\\sqrt{5}}{2}\\right)^{n}\\right]</a></p>\n<p>Also there are some details with examples in R which could be useful\n<a href=\"https://fabiandablander.com/r/Fibonacci.html\" rel=\"nofollow noreferrer\">https://fabiandablander.com/r/Fibonacci.html</a></p>\n"}],"owner":{"account_id":23954317,"reputation":15,"user_id":17945419,"display_name":"compsci"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1642340175,"creation_date":1642317375,"question_id":70728075,"body_markdown":"Like the user chooses 55 as the starting point and 987 as the end and the series will be like \r\nThe series is: 55, 89, 144, 233, 377, 610, 987","title":"Can someone tell me on how to print Fibonacci series, but the user will choose the start and the endpoint","body":"<p>Like the user chooses 55 as the starting point and 987 as the end and the series will be like\nThe series is: 55, 89, 144, 233, 377, 610, 987</p>\n"},{"tags":["java","server","chat"],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642340109,"creation_date":1642340109,"answer_id":70730553,"question_id":70728763,"body_markdown":"You need to call the [`flush()`](https://docs.oracle.com/javase/1.5.0/docs/api/java/io/ObjectOutputStream.html#flush()) method from the `ObjectOutputStream` object. If you don&#39;t the data to send are stored in an internal buffer. It will get only send when the buffer is full or when you explicit call the `flush()` method.","title":"Java - establish a chat between two clients","body":"<p>You need to call the <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/io/ObjectOutputStream.html#flush()\" rel=\"nofollow noreferrer\"><code>flush()</code></a> method from the <code>ObjectOutputStream</code> object. If you don't the data to send are stored in an internal buffer. It will get only send when the buffer is full or when you explicit call the <code>flush()</code> method.</p>\n"}],"owner":{"account_id":23730433,"reputation":11,"user_id":17749765,"display_name":"dan-i"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642340109,"creation_date":1642325060,"question_id":70728763,"body_markdown":"Im trying to code a simple server that creates a chat between any two clients that connect to the server. (for any two new clients the server will open a new chat thred/s and then will wait to the next two clients)\r\n\r\ni have tried the followןng solution:\r\n\r\nServer:\r\n\r\n    public class Server \r\n    {\r\n    \tpublic Server() throws IOException\r\n    \t{\r\n    \t\tServerSocket sc = new ServerSocket(7777);\r\n    \t\tSocket s1, s2;\r\n    \t\t\r\n    \t\twhile(true)\r\n    \t\t{\r\n    \t\t\ts1 = sc.accept();\r\n    \t\t\ts2 = sc.accept();\r\n    \t\t\t\r\n    \t\t\tnew ServerThread(s1, s2).start();\r\n    \t\t\tnew ServerThread(s2, s1).start();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nServer threads (two threads as explained in the comment above the class)\r\n\r\n     /*\r\n      Receives message from sender socket and pass them to the recipient socket\r\n     */\r\n    public class ServerThread extends Thread \r\n    {\r\n    \tSocket sender;\r\n    \tSocket recipient;\r\n    \t\r\n    \tpublic ServerThread(Socket sender, Socket recipient) \r\n    \t{\r\n    \t\tthis.sender = sender;\r\n    \t\tthis.recipient = recipient;\r\n    \t}\r\n    \t\r\n  \r\n    \t@Override\r\n    \tpublic void run()\r\n    \t{\r\n    \t\ttry {\r\n    \t\t\thandle();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic void handle() throws IOException \r\n    \t{\r\n    \t\t String msg;\r\n    \t\t // Create output stream for the recipient\r\n    \t\t OutputStream outputStream = recipient.getOutputStream();\r\n    \t     ObjectOutputStream objOutputStream = new ObjectOutputStream(outputStream);\r\n    \t     \r\n    \t\t // Create input stream for the recipient\r\n    \t     InputStream inputStream = sender.getInputStream();   \r\n    \t     ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\r\n    \t     \r\n    \t     while(true) //sender.isConnected())\r\n    \t     {\r\n    \t    \t msg = objectInputStream.readUTF();\r\n    \t    \t \r\n    \t    \t if(true) //recipient.isConnected())\r\n    \t    \t\t objOutputStream.writeUTF(msg);\r\n    \t    \t else\r\n    \t    \t\t break;\r\n    \t     }\r\n    \t     \r\n    \t     sender.close();\r\n    \t     recipient.close();\r\n    \t}\r\n    }\r\n\r\n(Please note that i removed the condotion in the &quot;while&quot; and &quot;if&quot; since i wanted to eliminate anything that will might appear because of it)\r\n\r\nClients main:\r\n\r\n    public class ClientMain \r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tString s;\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\t\t\r\n    \t\ttry {\r\n    \t\t\tClientChat chat = new ClientChat(&quot;localhost&quot;, 7777);\r\n\r\n                //while true gets messages if any and print them to the console\r\n    \t\t\tchat.getMessages(); \r\n    \t\t\ts = scan.nextLine();\r\n    \t\t\twhile(!s.equals(&quot;1&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tchat.sendMessage(s);\r\n    \t\t\t\ts = scan.nextLine();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\t\r\n    }\r\n\r\nClients Thread:\r\n\r\n        public class ClientChat \r\n        {\r\n    \tSocket socket;\r\n    \tString ip;\r\n    \tint  port;\r\n    \tOutputStream outputStream;\r\n    \tObjectOutputStream objOutputStream;\r\n    \tInputStream inputStream;\r\n    \tObjectInputStream objectInputStream;\r\n    \t\r\n    \tpublic ClientChat(String ip, int port)  throws UnknownHostException, IOException\r\n    \t{\r\n    \t\tthis.ip = ip;\r\n    \t\tthis.port = port;\r\n    \t\tsocket = new Socket(ip, port);\r\n    \t\t\r\n    \t\t // Create output stream for the recipient\r\n    \t\t outputStream = socket.getOutputStream();\r\n    \t     objOutputStream = new ObjectOutputStream(outputStream);\r\n    \t     \r\n    \t\t // Create input stream for the recipient\r\n    \t     inputStream = socket.getInputStream();   \r\n    \t     objectInputStream = new ObjectInputStream(inputStream);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic void getMessages() throws IOException\r\n    \t{\r\n    \t\t \r\n    \t\t Thread t = new Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\t while(true)//socket.isConnected())\r\n    \t\t\t\t {\r\n    \t\t\t\t\t String msg;\r\n    \t\t\t\t\t try {\r\n    \t\t\t\t\t\tmsg = objectInputStream.readUTF();\r\n    \t\t\t\t\t\t System.out.println(msg);\r\n    \t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t }\r\n    \t\t\t}\r\n    \t\t });\r\n    \t\t \r\n    \t\t t.start();\t \r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic void sendMessage(String message)\r\n    \t{\r\n    \t\ttry {\r\n    \t\t\tobjOutputStream.writeUTF(message);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nWell, this code doesn&#39;t work,\r\nI have run the server and two clients, the clients do connect to the server, and you can\r\nenter input to readLine() method, but nothing happen.\r\n\r\ni have tried to dubug the server, what i found is that it stack on the line:\r\n\r\n    \t    \t msg = objectInputStream.readUTF();\r\nthat all the relevant info i have, if you need some more information please comment","title":"Java - establish a chat between two clients","body":"<p>Im trying to code a simple server that creates a chat between any two clients that connect to the server. (for any two new clients the server will open a new chat thred/s and then will wait to the next two clients)</p>\n<p>i have tried the followןng solution:</p>\n<p>Server:</p>\n<pre><code>public class Server \n{\n    public Server() throws IOException\n    {\n        ServerSocket sc = new ServerSocket(7777);\n        Socket s1, s2;\n        \n        while(true)\n        {\n            s1 = sc.accept();\n            s2 = sc.accept();\n            \n            new ServerThread(s1, s2).start();\n            new ServerThread(s2, s1).start();\n        }\n    }\n}\n</code></pre>\n<p>Server threads (two threads as explained in the comment above the class)</p>\n<pre><code> /*\n  Receives message from sender socket and pass them to the recipient socket\n */\npublic class ServerThread extends Thread \n{\n    Socket sender;\n    Socket recipient;\n    \n    public ServerThread(Socket sender, Socket recipient) \n    {\n        this.sender = sender;\n        this.recipient = recipient;\n    }\n    \n\n    @Override\n    public void run()\n    {\n        try {\n            handle();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n\n    public void handle() throws IOException \n    {\n         String msg;\n         // Create output stream for the recipient\n         OutputStream outputStream = recipient.getOutputStream();\n         ObjectOutputStream objOutputStream = new ObjectOutputStream(outputStream);\n         \n         // Create input stream for the recipient\n         InputStream inputStream = sender.getInputStream();   \n         ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\n         \n         while(true) //sender.isConnected())\n         {\n             msg = objectInputStream.readUTF();\n             \n             if(true) //recipient.isConnected())\n                 objOutputStream.writeUTF(msg);\n             else\n                 break;\n         }\n         \n         sender.close();\n         recipient.close();\n    }\n}\n</code></pre>\n<p>(Please note that i removed the condotion in the &quot;while&quot; and &quot;if&quot; since i wanted to eliminate anything that will might appear because of it)</p>\n<p>Clients main:</p>\n<pre><code>public class ClientMain \n{\n    public static void main(String[] args) \n    {\n        String s;\n        Scanner scan = new Scanner(System.in);\n            \n        try {\n            ClientChat chat = new ClientChat(&quot;localhost&quot;, 7777);\n\n            //while true gets messages if any and print them to the console\n            chat.getMessages(); \n            s = scan.nextLine();\n            while(!s.equals(&quot;1&quot;))\n            {\n                chat.sendMessage(s);\n                s = scan.nextLine();\n            }\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }   \n}\n</code></pre>\n<p>Clients Thread:</p>\n<pre><code>    public class ClientChat \n    {\n    Socket socket;\n    String ip;\n    int  port;\n    OutputStream outputStream;\n    ObjectOutputStream objOutputStream;\n    InputStream inputStream;\n    ObjectInputStream objectInputStream;\n    \n    public ClientChat(String ip, int port)  throws UnknownHostException, IOException\n    {\n        this.ip = ip;\n        this.port = port;\n        socket = new Socket(ip, port);\n        \n         // Create output stream for the recipient\n         outputStream = socket.getOutputStream();\n         objOutputStream = new ObjectOutputStream(outputStream);\n         \n         // Create input stream for the recipient\n         inputStream = socket.getInputStream();   \n         objectInputStream = new ObjectInputStream(inputStream);\n    }\n    \n    \n    public void getMessages() throws IOException\n    {\n         \n         Thread t = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                 while(true)//socket.isConnected())\n                 {\n                     String msg;\n                     try {\n                        msg = objectInputStream.readUTF();\n                         System.out.println(msg);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                 }\n            }\n         });\n         \n         t.start();  \n    }\n    \n    \n    public void sendMessage(String message)\n    {\n        try {\n            objOutputStream.writeUTF(message);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Well, this code doesn't work,\nI have run the server and two clients, the clients do connect to the server, and you can\nenter input to readLine() method, but nothing happen.</p>\n<p>i have tried to dubug the server, what i found is that it stack on the line:</p>\n<pre><code>             msg = objectInputStream.readUTF();\n</code></pre>\n<p>that all the relevant info i have, if you need some more information please comment</p>\n"},{"tags":["java","user-interface","javafx","zooming","panning"],"comments":[{"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"score":3,"creation_date":1642112292,"post_id":70702920,"comment_id":124992354,"body_markdown":"Can you provide all the code as a single [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) so that it will be easy for others to directly focus on the issue.","body":"Can you provide all the code as a single <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a> so that it will be easy for others to directly focus on the issue."},{"owner":{"account_id":23933404,"reputation":23,"user_id":17927524,"display_name":"Eliot McNab"},"score":0,"creation_date":1642154364,"post_id":70702920,"comment_id":125000761,"body_markdown":"@SaiDandem thanks for the tip, did my best to clarify the example and make it runnable","body":"@SaiDandem thanks for the tip, did my best to clarify the example and make it runnable"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1642177442,"post_id":70702920,"comment_id":125009420,"body_markdown":"Well done. Please adhere to [Java Naming Conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)","body":"Well done. Please adhere to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java Naming Conventions</a>"}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642335283,"creation_date":1642177336,"answer_id":70713593,"question_id":70702920,"body_markdown":"Instead of re-centering the content after scale, use the center point of the content as the scale pivot.&lt;/br&gt;\r\nIn other words, scale around the center of the content.&lt;br/&gt;\r\nIntroduce a simple method to calculate the center: \r\n\r\n    private Point2D getContentCenter() {\r\n        Bounds contentBounds = CONTENT.getBoundsInLocal();\r\n        return new Point2D(contentBounds.getCenterX(), contentBounds.getCenterY());\r\n    }\r\n\r\nAnd scale around it: \r\n\r\n    private void zoom(ScrollEvent scrollEvent) {\r\n        // adds or subtracts to the image&#39;s scale based on\r\n        // whether user is scrolling backwards or forwards\r\n        final double dScale = scrollEvent.getDeltaY() &gt; 0 ? 0.1 : -0.1;\r\n        scale += dScale;\r\n        Point2D target\t= getContentCenter();\r\n        // applies the zoom to the image\r\n        applyZoom(1 + dScale, target);\r\n    }\r\n\r\nEDIT: \r\nThe following `ZoomController` implements scaling around mouth positions and recentering of the content when the pane is resized :\r\n\r\n\r\n    class ZoomController{\r\n    \r\n        // the plane on which the node is being dragged\r\n        private final AnchorPane PLANE;\r\n        // the node I want to zoom and drag\r\n        private final Node CONTENT;\r\n    \r\n        // the total amount of scaling  applied to the CONTENT node\r\n        private int scale = 1;\r\n    \r\n        private Point2D lastMousePosition   = new Point2D(0, 0);\r\n    \r\n        public ZoomController( AnchorPane plane, Node content ) {\r\n            PLANE = plane;\r\n            CONTENT = content;\r\n    \r\n            PLANE.heightProperty().addListener((obs, number, t1) -&gt; centerView());\r\n            PLANE.widthProperty().addListener((obs, number, t1) -&gt; centerView());\r\n    \r\n            // saves the mouse&#39;s position whenever the mouse moves\r\n            PLANE.setOnMousePressed(event -&gt; updateMousePosition(event));\r\n            PLANE.setOnMouseDragged(drag());\r\n    \r\n            PLANE.setOnScroll(handleScroll());\r\n        }\r\n    \r\n        private void updateMousePosition(MouseEvent mouseEvent) {\r\n            lastMousePosition = new Point2D(mouseEvent.getX(), mouseEvent.getY());\r\n        }\r\n    \r\n        private EventHandler&lt;ScrollEvent&gt; handleScroll() {\r\n            return scrollEvent -&gt; {\r\n                // filters out the mouse stopping to scroll\r\n                if (scrollEvent.getDeltaX() == 0 &amp;&amp; scrollEvent.getDeltaY() == 0) return;\r\n                // starts zooming\r\n                if (scrollEvent.isControlDown()) {\r\n                    zoom(scrollEvent);\r\n                }\r\n            };\r\n        }\r\n    \r\n        private void zoom(ScrollEvent scrollEvent) {\r\n    \r\n            // adds or subtracts to the image&#39;s scale based on\r\n            // whether user is scrolling backwards or forwards\r\n            final double dScale = scrollEvent.getDeltaY() &gt; 0 ? 0.1 : -0.1;\r\n            scale += dScale;\r\n    \r\n            // scale around mouse position\r\n            Point2D pivot = CONTENT.parentToLocal(new Point2D(scrollEvent.getX(), scrollEvent.getY()));\r\n    \r\n            //applies the zoom to the image\r\n            applyZoom(1 + dScale, pivot);\r\n        }\r\n    \r\n        private void applyZoom(final double zoomAmount, Point2D target) {\r\n            // applies the necessary scaling to the image...\r\n            Scale zoom = new Scale(zoomAmount, zoomAmount);\r\n            // ...and centers the scaling to the point where the mouse is located at\r\n            zoom.setPivotY(target.getY());\r\n            zoom.setPivotX(target.getX());\r\n            CONTENT.getTransforms().add(zoom);\r\n        }\r\n    \r\n        private EventHandler&lt;MouseEvent&gt; drag() {\r\n            return mouseEvent -&gt; {\r\n    \r\n                // calculates the path taken by the mouse...\r\n                Point2D newMousePosition = new Point2D(mouseEvent.getX(), mouseEvent.getY());\r\n                Point2D mouseTranslation = lastMousePosition.subtract(newMousePosition);\r\n                // ...and saves its new position\r\n                updateMousePosition(mouseEvent);\r\n    \r\n                // applies the drag\r\n                applyDrag(mouseTranslation);\r\n            };\r\n        }\r\n    \r\n        private void applyDrag(Point2D dragAmount) {\r\n            // applies the necessary translation to the image...\r\n            Translate drag = new Translate();\r\n            // ...based on the mouse&#39;s movement\r\n            drag.setX(-dragAmount.getX());\r\n            drag.setY(-dragAmount.getY());\r\n            CONTENT.getTransforms().add(drag);\r\n        }\r\n    \r\n        private void centerView() {\r\n    \r\n            // gets the coordinates we need to place the image at for it to be centered\r\n            Point2D centerPosition = CONTENT.parentToLocal(getCenterEdge());\r\n            Point2D position = getContentPosition();\r\n    \r\n            Point2D translation    = centerPosition.subtract(position);\r\n            // applies the necessary translation to the image...\r\n            Translate translateToCenter = new Translate();\r\n            translateToCenter.setX(translation.getX());\r\n            translateToCenter.setY(translation.getY());\r\n            CONTENT.getTransforms().add(translateToCenter);\r\n        }\r\n    \r\n        private Point2D getContentPosition() {\r\n            // gets the minimal coordinates of the bounds around the image\r\n            // ie: the image&#39;s coordinates\r\n            Bounds contentBounds = CONTENT.getBoundsInLocal();\r\n            return new Point2D(contentBounds.getMinX(), contentBounds.getMinY());\r\n        }\r\n    \r\n        private Point2D getCenterEdge() {\r\n            // gets the size of the image and the anchor pane it is in...\r\n            Point2D contentSize  = getContentSize();\r\n            Point2D parentSize = getParentSize();\r\n            // ...to determine the coordinates at which to place the image for it to be centered\r\n            return new Point2D(\r\n                    (parentSize.getX() - contentSize.getX()) / 2,\r\n                    (parentSize.getY() - contentSize.getY()) / 2\r\n            );\r\n        }\r\n    \r\n        private Point2D getContentSize() {\r\n            //BoundsInParent: rectangular bounds of this Node which include its transforms\r\n            Bounds contentBounds = CONTENT.getBoundsInParent();\r\n            return new Point2D(contentBounds.getWidth(), contentBounds.getHeight());\r\n        }\r\n    \r\n        private Point2D getParentSize() {//renamed from getAvailableSpace()\r\n            // gets the size of the Anchorpane the image is inn\r\n            return new Point2D(PLANE.getWidth(), PLANE.getHeight());\r\n        }\r\n    }\r\n\r\n","title":"How to re-center an image once it has been dragged and zoomed in or out","body":"<p>Instead of re-centering the content after scale, use the center point of the content as the scale pivot.\nIn other words, scale around the center of the content.<br/>\nIntroduce a simple method to calculate the center:</p>\n<pre><code>private Point2D getContentCenter() {\n    Bounds contentBounds = CONTENT.getBoundsInLocal();\n    return new Point2D(contentBounds.getCenterX(), contentBounds.getCenterY());\n}\n</code></pre>\n<p>And scale around it:</p>\n<pre><code>private void zoom(ScrollEvent scrollEvent) {\n    // adds or subtracts to the image's scale based on\n    // whether user is scrolling backwards or forwards\n    final double dScale = scrollEvent.getDeltaY() &gt; 0 ? 0.1 : -0.1;\n    scale += dScale;\n    Point2D target  = getContentCenter();\n    // applies the zoom to the image\n    applyZoom(1 + dScale, target);\n}\n</code></pre>\n<p>EDIT:\nThe following <code>ZoomController</code> implements scaling around mouth positions and recentering of the content when the pane is resized :</p>\n<pre><code>class ZoomController{\n\n    // the plane on which the node is being dragged\n    private final AnchorPane PLANE;\n    // the node I want to zoom and drag\n    private final Node CONTENT;\n\n    // the total amount of scaling  applied to the CONTENT node\n    private int scale = 1;\n\n    private Point2D lastMousePosition   = new Point2D(0, 0);\n\n    public ZoomController( AnchorPane plane, Node content ) {\n        PLANE = plane;\n        CONTENT = content;\n\n        PLANE.heightProperty().addListener((obs, number, t1) -&gt; centerView());\n        PLANE.widthProperty().addListener((obs, number, t1) -&gt; centerView());\n\n        // saves the mouse's position whenever the mouse moves\n        PLANE.setOnMousePressed(event -&gt; updateMousePosition(event));\n        PLANE.setOnMouseDragged(drag());\n\n        PLANE.setOnScroll(handleScroll());\n    }\n\n    private void updateMousePosition(MouseEvent mouseEvent) {\n        lastMousePosition = new Point2D(mouseEvent.getX(), mouseEvent.getY());\n    }\n\n    private EventHandler&lt;ScrollEvent&gt; handleScroll() {\n        return scrollEvent -&gt; {\n            // filters out the mouse stopping to scroll\n            if (scrollEvent.getDeltaX() == 0 &amp;&amp; scrollEvent.getDeltaY() == 0) return;\n            // starts zooming\n            if (scrollEvent.isControlDown()) {\n                zoom(scrollEvent);\n            }\n        };\n    }\n\n    private void zoom(ScrollEvent scrollEvent) {\n\n        // adds or subtracts to the image's scale based on\n        // whether user is scrolling backwards or forwards\n        final double dScale = scrollEvent.getDeltaY() &gt; 0 ? 0.1 : -0.1;\n        scale += dScale;\n\n        // scale around mouse position\n        Point2D pivot = CONTENT.parentToLocal(new Point2D(scrollEvent.getX(), scrollEvent.getY()));\n\n        //applies the zoom to the image\n        applyZoom(1 + dScale, pivot);\n    }\n\n    private void applyZoom(final double zoomAmount, Point2D target) {\n        // applies the necessary scaling to the image...\n        Scale zoom = new Scale(zoomAmount, zoomAmount);\n        // ...and centers the scaling to the point where the mouse is located at\n        zoom.setPivotY(target.getY());\n        zoom.setPivotX(target.getX());\n        CONTENT.getTransforms().add(zoom);\n    }\n\n    private EventHandler&lt;MouseEvent&gt; drag() {\n        return mouseEvent -&gt; {\n\n            // calculates the path taken by the mouse...\n            Point2D newMousePosition = new Point2D(mouseEvent.getX(), mouseEvent.getY());\n            Point2D mouseTranslation = lastMousePosition.subtract(newMousePosition);\n            // ...and saves its new position\n            updateMousePosition(mouseEvent);\n\n            // applies the drag\n            applyDrag(mouseTranslation);\n        };\n    }\n\n    private void applyDrag(Point2D dragAmount) {\n        // applies the necessary translation to the image...\n        Translate drag = new Translate();\n        // ...based on the mouse's movement\n        drag.setX(-dragAmount.getX());\n        drag.setY(-dragAmount.getY());\n        CONTENT.getTransforms().add(drag);\n    }\n\n    private void centerView() {\n\n        // gets the coordinates we need to place the image at for it to be centered\n        Point2D centerPosition = CONTENT.parentToLocal(getCenterEdge());\n        Point2D position = getContentPosition();\n\n        Point2D translation    = centerPosition.subtract(position);\n        // applies the necessary translation to the image...\n        Translate translateToCenter = new Translate();\n        translateToCenter.setX(translation.getX());\n        translateToCenter.setY(translation.getY());\n        CONTENT.getTransforms().add(translateToCenter);\n    }\n\n    private Point2D getContentPosition() {\n        // gets the minimal coordinates of the bounds around the image\n        // ie: the image's coordinates\n        Bounds contentBounds = CONTENT.getBoundsInLocal();\n        return new Point2D(contentBounds.getMinX(), contentBounds.getMinY());\n    }\n\n    private Point2D getCenterEdge() {\n        // gets the size of the image and the anchor pane it is in...\n        Point2D contentSize  = getContentSize();\n        Point2D parentSize = getParentSize();\n        // ...to determine the coordinates at which to place the image for it to be centered\n        return new Point2D(\n                (parentSize.getX() - contentSize.getX()) / 2,\n                (parentSize.getY() - contentSize.getY()) / 2\n        );\n    }\n\n    private Point2D getContentSize() {\n        //BoundsInParent: rectangular bounds of this Node which include its transforms\n        Bounds contentBounds = CONTENT.getBoundsInParent();\n        return new Point2D(contentBounds.getWidth(), contentBounds.getHeight());\n    }\n\n    private Point2D getParentSize() {//renamed from getAvailableSpace()\n        // gets the size of the Anchorpane the image is inn\n        return new Point2D(PLANE.getWidth(), PLANE.getHeight());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23933404,"reputation":23,"user_id":17927524,"display_name":"Eliot McNab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70713593,"answer_count":1,"score":1,"last_activity_date":1642339769,"creation_date":1642106806,"question_id":70702920,"body_markdown":"I am trying to create a class which handles zooming and panning components. The class contains references to an Anchorpane, which I am using since it does not do any aligning by default, as well as an ImageView which I want to be able to drag and zoom onto. The zooming and panning both work individually, but I am having trouble re-centering the image once it has been zoomed in or out. \r\n\r\nThe idea is that I want to be able to recenter the image when the app resizes so that dragging always appears to be relative to the center of the Anchorpane. By default any displacement in an Anchorpane is relative to the top-left corner, but that is not intuitive to the user. It would be much more logical for the content to appear to be moving relative to the center. To achieve this, the idea is to recenter the content whenever the window changes size, and then apply a translation corresponding to the amount of dragging done by the user\r\n\r\nIf you run the code I posted and zoom in, then resize the window, you&#39;ll notice that the red rectangle representing the image goes all over the place. If you shrink the window, then the square will no longer be at the same place as before. This only happens when scaling has been applied and appear to be a problem with the re-centering method.\r\n\r\nIf the centering method worked correctly, the square should return to the same position is was at before the window was expanded, which happens when the square is at 1 to 1 scale and no zooming has occured\r\n\r\nHere is the class I use to handle the zoom and dragging\r\n\r\n```java\r\npackage com.example.test;\r\n\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Bounds;\r\nimport javafx.geometry.Point2D;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.input.ScrollEvent;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.transform.Scale;\r\nimport javafx.scene.transform.Translate;\r\n\r\npublic class ZoomController{\r\n\r\n    // the plane on which the node is being dragged\r\n    private final AnchorPane PLANE;\r\n    // the node I want to zoom and drag\r\n    private final Node CONTENT;\r\n\r\n    private Point2D lastContentPosition = new Point2D(0, 0);\r\n    private Point2D lastMousePosition   = new Point2D(0, 0);\r\n    // the total amount of dragging \r\n    // applied to the CONTENT node\r\n    private Point2D dragOffset          = new Point2D(0, 0);\r\n\r\n    // the total amount of scaling\r\n    // applied to the CONTENT node\r\n    private int scale = 1;\r\n\r\n    public ZoomController(\r\n            AnchorPane plane,\r\n            Node content\r\n    ) {\r\n        this.PLANE = plane;\r\n        this.CONTENT = content;\r\n\r\n        addListeners();\r\n        \r\n        // artificially reproduces the problem\r\n        applyZoom(2, new Point2D(0, 350));\r\n        applyDrag(new Point2D(-100, 0));\r\n    }\r\n\r\n    private void addListeners() {\r\n        // tries to center the CONTENT whenever the window is resized\r\n        PLANE.heightProperty().addListener(centerContent());\r\n        PLANE.widthProperty().addListener(centerContent());\r\n\r\n        // saves the mouse&#39;s position whenever the mouse moves\r\n        PLANE.setOnMousePressed(getMousePosition());\r\n        PLANE.setOnMouseDragged(drag());\r\n\r\n        PLANE.setOnScroll(handleScroll());\r\n    }\r\n\r\n    private ChangeListener&lt;Number&gt; centerContent() {\r\n        return (observableValue, number, t1) -&gt; {\r\n            centerView();\r\n        };\r\n    }\r\n\r\n    private EventHandler&lt;MouseEvent&gt; drag() {\r\n        return mouseEvent -&gt; {\r\n\r\n            // calculates the path taken by the mouse...\r\n            Point2D newMousePosition = new Point2D(mouseEvent.getX(), mouseEvent.getY());\r\n            Point2D mouseTranslation = lastMousePosition.subtract(newMousePosition);\r\n            // ...and saves its new position\r\n            updateMousePosition(mouseEvent);\r\n\r\n            // applies the drag\r\n            applyDrag(mouseTranslation);\r\n\r\n        };\r\n    }\r\n\r\n    private EventHandler&lt;MouseEvent&gt; getMousePosition() {\r\n        return this::updateMousePosition;\r\n    }\r\n\r\n    private EventHandler&lt;ScrollEvent&gt; handleScroll() {\r\n        return scrollEvent -&gt; {\r\n\r\n            // filters out the mouse stopping to scroll\r\n            if (scrollEvent.getDeltaX() == 0 &amp;&amp; scrollEvent.getDeltaY() == 0) return;\r\n\r\n            // starts zooming\r\n            if (scrollEvent.isControlDown()) {\r\n                zoom(scrollEvent);\r\n            }\r\n\r\n        };\r\n    }\r\n\r\n    private void zoom(ScrollEvent scrollEvent) {\r\n\r\n        // adds or subtracts to the image&#39;s scale based on\r\n        // whether user is scrolling backwards or forwards\r\n        final double dScale = scrollEvent.getDeltaY() &gt; 0 ? 0.1 : -0.1;\r\n        scale += dScale;\r\n\r\n        // gets the coordinates IN THE IMAGE&#39;s FRAME OF REFERENCE\r\n        // of the point at which to zoom the image so it is centered on the mouse\r\n        Point2D target = CONTENT.parentToLocal(new Point2D(scrollEvent.getX(), scrollEvent.getY()));\r\n\r\n        // applies the zoom to the image\r\n        applyZoom(1 + dScale, target);\r\n\r\n        // saves the image&#39;s position once it has been zoomed\r\n        updateContentPosition();\r\n    }\r\n\r\n    private void applyZoom(final double zoomAmount, Point2D target) {\r\n        // applies the necessary scaling to the image...\r\n        Scale zoom = new Scale(zoomAmount, zoomAmount);\r\n        // ...and centers the scaling to the point where the mouse is located at\r\n        zoom.setPivotY(target.getY());\r\n        zoom.setPivotX(target.getX());\r\n        CONTENT.getTransforms().add(zoom);\r\n\r\n        updateContentPosition();\r\n    }\r\n\r\n    private void applyDrag(Point2D dragAmount) {\r\n        // drag amount always corresponds to the mouse&#39;s displacement\r\n        // for the moment this is a 1 to 1 mapping\r\n        // since I have not figured out how to take the scale into consideration\r\n\r\n        // updates the total displacement caused by drag (used when we re-center the image)\r\n        dragOffset = dragOffset.subtract(dragAmount);\r\n\r\n        // applies the necessary translation to the image...\r\n        Translate drag = new Translate();\r\n        // ...based on the mouse&#39;s movement\r\n        drag.setX(-dragAmount.getX());\r\n        drag.setY(-dragAmount.getY());\r\n        CONTENT.getTransforms().add(drag);\r\n\r\n        // saves the image&#39;s position after it has been dragged\r\n        updateContentPosition();\r\n    }\r\n\r\n    private void centerView() {\r\n        // gets the coordinates we need to place the image at for it to be centered\r\n        Point2D centerPosition = getCenterEdge();\r\n        // calculates the path to take from the image&#39;s current position\r\n        // to the position it has to be at to be centered\r\n        // ie: the displacement vector\r\n        Point2D translation    = centerPosition.subtract(lastContentPosition);\r\n\r\n        // applies the necessary translation to the image...\r\n        Translate translateToCenter = new Translate();\r\n        // ...while account for drag so image is not fully re-centered\r\n        translateToCenter.setX(translation.getX() + dragOffset.getX());\r\n        translateToCenter.setY(translation.getY() + dragOffset.getY());\r\n        CONTENT.getTransforms().add(translateToCenter);\r\n\r\n        // saves the image&#39;s position after it has been centered\r\n        updateContentPosition();\r\n    }\r\n\r\n    private void updateMousePosition(MouseEvent mouseEvent) {\r\n        lastMousePosition = new Point2D(mouseEvent.getX(), mouseEvent.getY());\r\n    }\r\n\r\n    private void updateContentPosition() {\r\n        // updates the image&#39;s position\r\n        lastContentPosition = getContentPosition();\r\n    }\r\n\r\n    private Point2D getContentPosition() {\r\n        // gets the minimal coordinates of the bounds around the image\r\n        // ie: the image&#39;s coordinates\r\n        Bounds contentBounds = CONTENT.getBoundsInParent();\r\n        return new Point2D(contentBounds.getMinX(), contentBounds.getMinY());\r\n    }\r\n\r\n    private Point2D getCenterEdge() {\r\n        // gets the size of the image and the anchor pane it is in...\r\n        Point2D contentSize    = getContentSize();\r\n        Point2D availableSpace = getAvailableSpace();\r\n        // ...to determine the coordinates at which to place the image for it to be centerd\r\n        return new Point2D(\r\n                (availableSpace.getX() - contentSize.getX()) / 2,\r\n                (availableSpace.getY() - contentSize.getY()) / 2\r\n        );\r\n    }\r\n\r\n    private Point2D getContentSize() {\r\n        // gets the bounds around the image\r\n        Bounds contentBounds = CONTENT.getBoundsInParent();\r\n        return new Point2D(contentBounds.getWidth(), contentBounds.getHeight());\r\n    }\r\n\r\n    private Point2D getAvailableSpace() {\r\n        // gets the size of the Anchorpane the image is inn\r\n        return new Point2D(PLANE.getWidth(), PLANE.getHeight());\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nAnd here is the main class I am using to test the zoom\r\n\r\n```java\r\npackage com.example.test;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class ZoomMain extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        // the node we want to drag &amp; zoom\r\n        Rectangle rectangle = new Rectangle(200, 100);\r\n        rectangle.setFill(Color.RED);\r\n\r\n        // the plane on which the node is being dragged\r\n        AnchorPane plane    = new AnchorPane();\r\n\r\n        // adds the node\r\n        Scene mainScene = new Scene(plane);\r\n        plane.getChildren().add(rectangle);\r\n\r\n        // handles the zoom\r\n        ZoomController zoomController = new ZoomController(\r\n            plane,\r\n            rectangle\r\n        );\r\n\r\n        stage.setTitle(&quot;Zooming test&quot;);\r\n        stage.setScene(mainScene);\r\n        stage.setMinHeight(500);\r\n        stage.setMinWidth(500);\r\n\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have already tried to group the image to drag &amp; zoom into a group, which would be useful since it would let me include multiple nodes to be dragged at once, however when I do that the contents of the group remain invisible.","title":"How to re-center an image once it has been dragged and zoomed in or out","body":"<p>I am trying to create a class which handles zooming and panning components. The class contains references to an Anchorpane, which I am using since it does not do any aligning by default, as well as an ImageView which I want to be able to drag and zoom onto. The zooming and panning both work individually, but I am having trouble re-centering the image once it has been zoomed in or out.</p>\n<p>The idea is that I want to be able to recenter the image when the app resizes so that dragging always appears to be relative to the center of the Anchorpane. By default any displacement in an Anchorpane is relative to the top-left corner, but that is not intuitive to the user. It would be much more logical for the content to appear to be moving relative to the center. To achieve this, the idea is to recenter the content whenever the window changes size, and then apply a translation corresponding to the amount of dragging done by the user</p>\n<p>If you run the code I posted and zoom in, then resize the window, you'll notice that the red rectangle representing the image goes all over the place. If you shrink the window, then the square will no longer be at the same place as before. This only happens when scaling has been applied and appear to be a problem with the re-centering method.</p>\n<p>If the centering method worked correctly, the square should return to the same position is was at before the window was expanded, which happens when the square is at 1 to 1 scale and no zooming has occured</p>\n<p>Here is the class I use to handle the zoom and dragging</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.test;\n\nimport javafx.beans.value.ChangeListener;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Bounds;\nimport javafx.geometry.Point2D;\nimport javafx.scene.Node;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.input.ScrollEvent;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.transform.Scale;\nimport javafx.scene.transform.Translate;\n\npublic class ZoomController{\n\n    // the plane on which the node is being dragged\n    private final AnchorPane PLANE;\n    // the node I want to zoom and drag\n    private final Node CONTENT;\n\n    private Point2D lastContentPosition = new Point2D(0, 0);\n    private Point2D lastMousePosition   = new Point2D(0, 0);\n    // the total amount of dragging \n    // applied to the CONTENT node\n    private Point2D dragOffset          = new Point2D(0, 0);\n\n    // the total amount of scaling\n    // applied to the CONTENT node\n    private int scale = 1;\n\n    public ZoomController(\n            AnchorPane plane,\n            Node content\n    ) {\n        this.PLANE = plane;\n        this.CONTENT = content;\n\n        addListeners();\n        \n        // artificially reproduces the problem\n        applyZoom(2, new Point2D(0, 350));\n        applyDrag(new Point2D(-100, 0));\n    }\n\n    private void addListeners() {\n        // tries to center the CONTENT whenever the window is resized\n        PLANE.heightProperty().addListener(centerContent());\n        PLANE.widthProperty().addListener(centerContent());\n\n        // saves the mouse's position whenever the mouse moves\n        PLANE.setOnMousePressed(getMousePosition());\n        PLANE.setOnMouseDragged(drag());\n\n        PLANE.setOnScroll(handleScroll());\n    }\n\n    private ChangeListener&lt;Number&gt; centerContent() {\n        return (observableValue, number, t1) -&gt; {\n            centerView();\n        };\n    }\n\n    private EventHandler&lt;MouseEvent&gt; drag() {\n        return mouseEvent -&gt; {\n\n            // calculates the path taken by the mouse...\n            Point2D newMousePosition = new Point2D(mouseEvent.getX(), mouseEvent.getY());\n            Point2D mouseTranslation = lastMousePosition.subtract(newMousePosition);\n            // ...and saves its new position\n            updateMousePosition(mouseEvent);\n\n            // applies the drag\n            applyDrag(mouseTranslation);\n\n        };\n    }\n\n    private EventHandler&lt;MouseEvent&gt; getMousePosition() {\n        return this::updateMousePosition;\n    }\n\n    private EventHandler&lt;ScrollEvent&gt; handleScroll() {\n        return scrollEvent -&gt; {\n\n            // filters out the mouse stopping to scroll\n            if (scrollEvent.getDeltaX() == 0 &amp;&amp; scrollEvent.getDeltaY() == 0) return;\n\n            // starts zooming\n            if (scrollEvent.isControlDown()) {\n                zoom(scrollEvent);\n            }\n\n        };\n    }\n\n    private void zoom(ScrollEvent scrollEvent) {\n\n        // adds or subtracts to the image's scale based on\n        // whether user is scrolling backwards or forwards\n        final double dScale = scrollEvent.getDeltaY() &gt; 0 ? 0.1 : -0.1;\n        scale += dScale;\n\n        // gets the coordinates IN THE IMAGE's FRAME OF REFERENCE\n        // of the point at which to zoom the image so it is centered on the mouse\n        Point2D target = CONTENT.parentToLocal(new Point2D(scrollEvent.getX(), scrollEvent.getY()));\n\n        // applies the zoom to the image\n        applyZoom(1 + dScale, target);\n\n        // saves the image's position once it has been zoomed\n        updateContentPosition();\n    }\n\n    private void applyZoom(final double zoomAmount, Point2D target) {\n        // applies the necessary scaling to the image...\n        Scale zoom = new Scale(zoomAmount, zoomAmount);\n        // ...and centers the scaling to the point where the mouse is located at\n        zoom.setPivotY(target.getY());\n        zoom.setPivotX(target.getX());\n        CONTENT.getTransforms().add(zoom);\n\n        updateContentPosition();\n    }\n\n    private void applyDrag(Point2D dragAmount) {\n        // drag amount always corresponds to the mouse's displacement\n        // for the moment this is a 1 to 1 mapping\n        // since I have not figured out how to take the scale into consideration\n\n        // updates the total displacement caused by drag (used when we re-center the image)\n        dragOffset = dragOffset.subtract(dragAmount);\n\n        // applies the necessary translation to the image...\n        Translate drag = new Translate();\n        // ...based on the mouse's movement\n        drag.setX(-dragAmount.getX());\n        drag.setY(-dragAmount.getY());\n        CONTENT.getTransforms().add(drag);\n\n        // saves the image's position after it has been dragged\n        updateContentPosition();\n    }\n\n    private void centerView() {\n        // gets the coordinates we need to place the image at for it to be centered\n        Point2D centerPosition = getCenterEdge();\n        // calculates the path to take from the image's current position\n        // to the position it has to be at to be centered\n        // ie: the displacement vector\n        Point2D translation    = centerPosition.subtract(lastContentPosition);\n\n        // applies the necessary translation to the image...\n        Translate translateToCenter = new Translate();\n        // ...while account for drag so image is not fully re-centered\n        translateToCenter.setX(translation.getX() + dragOffset.getX());\n        translateToCenter.setY(translation.getY() + dragOffset.getY());\n        CONTENT.getTransforms().add(translateToCenter);\n\n        // saves the image's position after it has been centered\n        updateContentPosition();\n    }\n\n    private void updateMousePosition(MouseEvent mouseEvent) {\n        lastMousePosition = new Point2D(mouseEvent.getX(), mouseEvent.getY());\n    }\n\n    private void updateContentPosition() {\n        // updates the image's position\n        lastContentPosition = getContentPosition();\n    }\n\n    private Point2D getContentPosition() {\n        // gets the minimal coordinates of the bounds around the image\n        // ie: the image's coordinates\n        Bounds contentBounds = CONTENT.getBoundsInParent();\n        return new Point2D(contentBounds.getMinX(), contentBounds.getMinY());\n    }\n\n    private Point2D getCenterEdge() {\n        // gets the size of the image and the anchor pane it is in...\n        Point2D contentSize    = getContentSize();\n        Point2D availableSpace = getAvailableSpace();\n        // ...to determine the coordinates at which to place the image for it to be centerd\n        return new Point2D(\n                (availableSpace.getX() - contentSize.getX()) / 2,\n                (availableSpace.getY() - contentSize.getY()) / 2\n        );\n    }\n\n    private Point2D getContentSize() {\n        // gets the bounds around the image\n        Bounds contentBounds = CONTENT.getBoundsInParent();\n        return new Point2D(contentBounds.getWidth(), contentBounds.getHeight());\n    }\n\n    private Point2D getAvailableSpace() {\n        // gets the size of the Anchorpane the image is inn\n        return new Point2D(PLANE.getWidth(), PLANE.getHeight());\n    }\n\n\n}\n</code></pre>\n<p>And here is the main class I am using to test the zoom</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.test;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class ZoomMain extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        // the node we want to drag &amp; zoom\n        Rectangle rectangle = new Rectangle(200, 100);\n        rectangle.setFill(Color.RED);\n\n        // the plane on which the node is being dragged\n        AnchorPane plane    = new AnchorPane();\n\n        // adds the node\n        Scene mainScene = new Scene(plane);\n        plane.getChildren().add(rectangle);\n\n        // handles the zoom\n        ZoomController zoomController = new ZoomController(\n            plane,\n            rectangle\n        );\n\n        stage.setTitle(&quot;Zooming test&quot;);\n        stage.setScene(mainScene);\n        stage.setMinHeight(500);\n        stage.setMinWidth(500);\n\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n<p>I have already tried to group the image to drag &amp; zoom into a group, which would be useful since it would let me include multiple nodes to be dragged at once, however when I do that the contents of the group remain invisible.</p>\n"},{"tags":["java","android","module","libgdx","android-module"],"answers":[{"tags":[],"owner":{"account_id":8679068,"reputation":1877,"user_id":6495579,"accept_rate":60,"display_name":"Kamil Kamili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642339464,"creation_date":1492201559,"answer_id":43418750,"question_id":43418024,"body_markdown":"Well after tons of research I figured out a solution for my problem. We can solve this problem with the help of interfaces without touching the `Gradle` part. All we have to do is create an interface in the `core module` and then implement it in some class in the `android module` and then pass that class to the `core module` through `AndroidLauncher`.\r\n\r\nFor Detailed Details refer to [lib**GDX** on *Interfacing with platform specific code*][1]\r\n\r\nI won&#39;t delete this post so that others who are also facing this problem can see this post and not waste a lot of their time on trying to fix `Gradle`.\r\n\r\n\r\n  [1]: https://libgdx.com/wiki/app/interfacing-with-platform-specific-code","title":"Access Android Module Classes From Core Module Classes in libgdx","body":"<p>Well after tons of research I figured out a solution for my problem. We can solve this problem with the help of interfaces without touching the <code>Gradle</code> part. All we have to do is create an interface in the <code>core module</code> and then implement it in some class in the <code>android module</code> and then pass that class to the <code>core module</code> through <code>AndroidLauncher</code>.</p>\n<p>For Detailed Details refer to <a href=\"https://libgdx.com/wiki/app/interfacing-with-platform-specific-code\" rel=\"nofollow noreferrer\">lib<strong>GDX</strong> on <em>Interfacing with platform specific code</em></a></p>\n<p>I won't delete this post so that others who are also facing this problem can see this post and not waste a lot of their time on trying to fix <code>Gradle</code>.</p>\n"}],"owner":{"account_id":8679068,"reputation":1877,"user_id":6495579,"accept_rate":60,"display_name":"Kamil Kamili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642339464,"creation_date":1492198102,"question_id":43418024,"body_markdown":"I was integrating my `(libgdx) core module` with `android module` to compile my whole project into one big project. However, at the end of this integration, I ran into a problem which I didn&#39;t think before.\r\n\r\nI am not able to access the functions in the `android module` from the `core module`. However, I can access from android to core. I used the default `libgdx setup.jar` to create my libgdx project for android. I tried to include the `android module` as a dependency in the `core module` but that leads to an error stating `Error: Circular reference between projects: :android -&gt; :core -&gt; :android`. So I thought why not make another java module such that `another_module` depends on `core module` and then `android module` will depend on `another_module`. But doing this led to this error stating `Error:Module &#39;:core:1.0&#39; depends on one or more Android Libraries but is a jar`. I tried making `another_module` as a `java library` but the error is the same. \r\n\r\nNow I am sure that there is a solution for this. Maybe making an Interface somehow in `android module` that `core module` can access.\r\n\r\nI am new to all this. Any suggestions, recommendations or a solution perhaps?","title":"Access Android Module Classes From Core Module Classes in libgdx","body":"<p>I was integrating my <code>(libgdx) core module</code> with <code>android module</code> to compile my whole project into one big project. However, at the end of this integration, I ran into a problem which I didn't think before.</p>\n\n<p>I am not able to access the functions in the <code>android module</code> from the <code>core module</code>. However, I can access from android to core. I used the default <code>libgdx setup.jar</code> to create my libgdx project for android. I tried to include the <code>android module</code> as a dependency in the <code>core module</code> but that leads to an error stating <code>Error: Circular reference between projects: :android -&gt; :core -&gt; :android</code>. So I thought why not make another java module such that <code>another_module</code> depends on <code>core module</code> and then <code>android module</code> will depend on <code>another_module</code>. But doing this led to this error stating <code>Error:Module ':core:1.0' depends on one or more Android Libraries but is a jar</code>. I tried making <code>another_module</code> as a <code>java library</code> but the error is the same. </p>\n\n<p>Now I am sure that there is a solution for this. Maybe making an Interface somehow in <code>android module</code> that <code>core module</code> can access.</p>\n\n<p>I am new to all this. Any suggestions, recommendations or a solution perhaps?</p>\n"},{"tags":["java","swing","graphics","overlay","scrollpane"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1334082608,"post_id":10093425,"comment_id":12928879,"body_markdown":"See also [`ScrollPanePaint`](http://stackoverflow.com/a/3518047/230513). Update: see also [*The Glass Pane*](http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html#glasspane). Either or both may help you construct an [sscce](http://sscce.org/).","body":"See also <a href=\"http://stackoverflow.com/a/3518047/230513\"><code>ScrollPanePaint</code></a>. Update: see also <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html#glasspane\" rel=\"nofollow noreferrer\"><i>The Glass Pane</i></a>. Either or both may help you construct an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce</a>."},{"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"score":1,"creation_date":1334087728,"post_id":10093425,"comment_id":12930914,"body_markdown":"That link was was just the nudge I needed in the right direction. Updated question with the solution. Thanks trashgod.","body":"That link was was just the nudge I needed in the right direction. Updated question with the solution. Thanks trashgod."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1642339269,"creation_date":1334098014,"answer_id":10097538,"question_id":10093425,"body_markdown":"Ordinarily, &quot;Swing programs should override `paintComponent()` instead of overriding `paint()`,&quot; as mentioned in [*Painting in AWT and Swing: The Paint Methods*][1]. Based on [`ScrollPanePaint`][2], which draws _below_ the scrolling content, the following example overrides `paint()` to draw _above_ the scrolling content.\r\n\r\n![ScrollPanePaint][3]\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    /**\r\n     * @see https://stackoverflow.com/a/10097538/230513\r\n     * @see https://stackoverflow.com/a/2846497/230513\r\n     * @see https://stackoverflow.com/a/3518047/230513\r\n     */\r\n    public class ScrollPanePaint extends JFrame {\r\n    \r\n        private static final int TILE = 64;\r\n    \r\n        public ScrollPanePaint() {\r\n            JViewport viewport = new MyViewport();\r\n            viewport.setView(new MyPanel());\r\n            JScrollPane scrollPane = new JScrollPane();\r\n            scrollPane.setViewport(viewport);\r\n            this.add(scrollPane);\r\n            this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n            this.pack();\r\n            this.setLocationRelativeTo(null);\r\n            this.setVisible(true);\r\n        }\r\n    \r\n        private static class MyViewport extends JViewport {\r\n    \r\n            public MyViewport() {\r\n                this.setOpaque(false);\r\n                this.setPreferredSize(new Dimension(6 * TILE, 6 * TILE));\r\n            }\r\n    \r\n            @Override\r\n            public void paint(Graphics g) {\r\n                super.paint(g);\r\n                g.setColor(Color.blue);\r\n                g.fillRect(TILE, TILE, 3 * TILE, 3 * TILE);\r\n            }\r\n        }\r\n    \r\n        private static class MyPanel extends JPanel {\r\n    \r\n            public MyPanel() {\r\n                this.setOpaque(false);\r\n                this.setPreferredSize(new Dimension(9 * TILE, 9 * TILE));\r\n            }\r\n    \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                g.setColor(Color.lightGray);\r\n                int w = this.getWidth() / TILE + 1;\r\n                int h = this.getHeight() / TILE + 1;\r\n                for (int row = 0; row &lt; h; row++) {\r\n                    for (int col = 0; col &lt; w; col++) {\r\n                        if ((row + col) % 2 == 0) {\r\n                            g.fillRect(col * TILE, row * TILE, TILE, TILE);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    new ScrollPanePaint();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n**Note:** Setting an opaque component (for instance [JTable](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html)) as a view for the scroll pane will give strange visual bugs, for instance moving the fixed blue box when scrolling. Use `setOpaque(false)` on the view component to fix that.\r\n\r\n  [1]: https://www.oracle.com/java/technologies/painting.html#callbacks\r\n  [2]: https://stackoverflow.com/a/3518047/230513\r\n  [3]: http://i.stack.imgur.com/p3gfI.png","title":"Java: How to draw non-scrolling overlay over ScrollPane Viewport?","body":"<p>Ordinarily, &quot;Swing programs should override <code>paintComponent()</code> instead of overriding <code>paint()</code>,&quot; as mentioned in <a href=\"https://www.oracle.com/java/technologies/painting.html#callbacks\" rel=\"nofollow noreferrer\"><em>Painting in AWT and Swing: The Paint Methods</em></a>. Based on <a href=\"https://stackoverflow.com/a/3518047/230513\"><code>ScrollPanePaint</code></a>, which draws <em>below</em> the scrolling content, the following example overrides <code>paint()</code> to draw <em>above</em> the scrolling content.</p>\n<p><img src=\"https://i.stack.imgur.com/p3gfI.png\" alt=\"ScrollPanePaint\" /></p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\n/**\n * @see https://stackoverflow.com/a/10097538/230513\n * @see https://stackoverflow.com/a/2846497/230513\n * @see https://stackoverflow.com/a/3518047/230513\n */\npublic class ScrollPanePaint extends JFrame {\n\n    private static final int TILE = 64;\n\n    public ScrollPanePaint() {\n        JViewport viewport = new MyViewport();\n        viewport.setView(new MyPanel());\n        JScrollPane scrollPane = new JScrollPane();\n        scrollPane.setViewport(viewport);\n        this.add(scrollPane);\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n        this.pack();\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n\n    private static class MyViewport extends JViewport {\n\n        public MyViewport() {\n            this.setOpaque(false);\n            this.setPreferredSize(new Dimension(6 * TILE, 6 * TILE));\n        }\n\n        @Override\n        public void paint(Graphics g) {\n            super.paint(g);\n            g.setColor(Color.blue);\n            g.fillRect(TILE, TILE, 3 * TILE, 3 * TILE);\n        }\n    }\n\n    private static class MyPanel extends JPanel {\n\n        public MyPanel() {\n            this.setOpaque(false);\n            this.setPreferredSize(new Dimension(9 * TILE, 9 * TILE));\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            g.setColor(Color.lightGray);\n            int w = this.getWidth() / TILE + 1;\n            int h = this.getHeight() / TILE + 1;\n            for (int row = 0; row &lt; h; row++) {\n                for (int col = 0; col &lt; w; col++) {\n                    if ((row + col) % 2 == 0) {\n                        g.fillRect(col * TILE, row * TILE, TILE, TILE);\n                    }\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new ScrollPanePaint();\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> Setting an opaque component (for instance <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html\" rel=\"nofollow noreferrer\">JTable</a>) as a view for the scroll pane will give strange visual bugs, for instance moving the fixed blue box when scrolling. Use <code>setOpaque(false)</code> on the view component to fix that.</p>\n"}],"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4011,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10097538,"answer_count":1,"score":8,"last_activity_date":1642339269,"creation_date":1334078587,"question_id":10093425,"body_markdown":"I&#39;d like to use a ScrollPane to display an image in its Viewport, and also have a grid (or box, or any other type of registration/location marker) overlay on the image. I need the overlay to remain fixed when scrolling (meaning the image seems to move &quot;under&quot; the overlay). I will be scrolling the View in the Viewport at a fixed rate to provide a smooth motion, and the overlay is to provide a reference to a certain location within the Viewport. Conceptually, think of a large map scrolling in a Viewport, and the Viewport having a rectangle that does not move (relative to the Viewport itself) that marks a region that can be zoomed into based on some user action.\r\n\r\nI presume (but have not yet confirmed) that the ScrollPane implementation handles rendering of the View efficiently (from backing store, not having to repaint the entire View (or even ViewPort) for each new partial exposure) and so would prefer not to have to Override the paint() method.\r\n\r\nI&#39;ve looked at LayerPane, and while not having mastered it, it seems that this is a brute force approach. The ScrollPane is one Component of a SplitPane and will be moved/resized. I expect that I&#39;d have to manually maintain the correct relationship between the ViewPort and the LayerPane using absolute positioning. I&#39;m far from an expert in GUI design &amp; implementation and I&#39;m sure I&#39;m missing possibilities ranging from obvious to obscure and elegant that an experienced person would know.\r\n\r\nI&#39;m open to any suggestions, not just the path I&#39;ve started down. Should I (can I) add a JPanel as one component in my SplitPane, then add a LayerPane to that containing my ScrollPane and the overlay (another JPanel) on different layers on the LayerPane? Is there functionality in ScrollPane to support this directly? I&#39;ve looked at the Java Swing Tutorials and the API documentation but haven&#39;t seen anything yet.\r\n\r\nThanks.\r\n\r\n**UPDATE:**\r\n\r\nThanks for the link, trashgod. This was much easier than I had expected. No need for LayerPane, GlassPane, xor-based compositing... I don&#39;t know why it didn&#39;t occur to me to try overriding JViewport.paint() to draw my overlay - but with the code below I validated the concept will give me what I&#39;m looking for. Just use the subclass of JViewport and it does what I wanted (in this case overlaying a rectangle in the center of the Viewport while the image scrolls underneath). I&#39;m no GUI expert, and the Java API is incredibly wide; I have no idea how you guys keep this all in your head - but thanks!\r\n\r\n    class MyViewport extends JViewport {\r\n    \t@Override\r\n    \tpublic void paint(Graphics g) {\r\n    \t\tsuper.paint(g);\r\n    \t\tGraphics2D g2 = (Graphics2D)g;\r\n    \t\tg2.setPaint(Color.BLACK);\r\n    \t\tg2.drawRect(getWidth()/4,getHeight()/4,getWidth()/2,getHeight()/2);\r\n    \t}\r\n    }","title":"Java: How to draw non-scrolling overlay over ScrollPane Viewport?","body":"<p>I'd like to use a ScrollPane to display an image in its Viewport, and also have a grid (or box, or any other type of registration/location marker) overlay on the image. I need the overlay to remain fixed when scrolling (meaning the image seems to move \"under\" the overlay). I will be scrolling the View in the Viewport at a fixed rate to provide a smooth motion, and the overlay is to provide a reference to a certain location within the Viewport. Conceptually, think of a large map scrolling in a Viewport, and the Viewport having a rectangle that does not move (relative to the Viewport itself) that marks a region that can be zoomed into based on some user action.</p>\n\n<p>I presume (but have not yet confirmed) that the ScrollPane implementation handles rendering of the View efficiently (from backing store, not having to repaint the entire View (or even ViewPort) for each new partial exposure) and so would prefer not to have to Override the paint() method.</p>\n\n<p>I've looked at LayerPane, and while not having mastered it, it seems that this is a brute force approach. The ScrollPane is one Component of a SplitPane and will be moved/resized. I expect that I'd have to manually maintain the correct relationship between the ViewPort and the LayerPane using absolute positioning. I'm far from an expert in GUI design &amp; implementation and I'm sure I'm missing possibilities ranging from obvious to obscure and elegant that an experienced person would know.</p>\n\n<p>I'm open to any suggestions, not just the path I've started down. Should I (can I) add a JPanel as one component in my SplitPane, then add a LayerPane to that containing my ScrollPane and the overlay (another JPanel) on different layers on the LayerPane? Is there functionality in ScrollPane to support this directly? I've looked at the Java Swing Tutorials and the API documentation but haven't seen anything yet.</p>\n\n<p>Thanks.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Thanks for the link, trashgod. This was much easier than I had expected. No need for LayerPane, GlassPane, xor-based compositing... I don't know why it didn't occur to me to try overriding JViewport.paint() to draw my overlay - but with the code below I validated the concept will give me what I'm looking for. Just use the subclass of JViewport and it does what I wanted (in this case overlaying a rectangle in the center of the Viewport while the image scrolls underneath). I'm no GUI expert, and the Java API is incredibly wide; I have no idea how you guys keep this all in your head - but thanks!</p>\n\n<pre><code>class MyViewport extends JViewport {\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        Graphics2D g2 = (Graphics2D)g;\n        g2.setPaint(Color.BLACK);\n        g2.drawRect(getWidth()/4,getHeight()/4,getWidth()/2,getHeight()/2);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","database","intellij-idea","mysql-workbench"],"answers":[{"tags":[],"owner":{"account_id":3456234,"reputation":28,"user_id":3675348,"display_name":"Volodymyr Prokopiv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641828079,"creation_date":1641828079,"answer_id":70654749,"question_id":70654575,"body_markdown":"It&#39;s extremely easy to do in [Idea Ultimate][1], and it&#39;s also possible in Workbench: https://dev.mysql.com/doc/workbench/en/wb-eer-diagram-editor.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ki9V5.png","title":"Creating a graphical diagram of MYSQL tables","body":"<p>It's extremely easy to do in <a href=\"https://i.stack.imgur.com/Ki9V5.png\" rel=\"nofollow noreferrer\">Idea Ultimate</a>, and it's also possible in Workbench: <a href=\"https://dev.mysql.com/doc/workbench/en/wb-eer-diagram-editor.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/workbench/en/wb-eer-diagram-editor.html</a></p>\n"}],"owner":{"account_id":13539583,"reputation":131,"user_id":12493818,"display_name":"alexhak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1641830935,"accepted_answer_id":70654749,"answer_count":1,"score":-2,"last_activity_date":1642339260,"creation_date":1641827434,"question_id":70654575,"body_markdown":"I have a MYSQL schema with a large number of tables (more than 20).\r\n\r\nIs it possible to somehow display a graphical diagram showing the relationships between tables and their fields?\r\n\r\nI want to get something like a UML diagram (which is being built, for example, for Java classes).","title":"Creating a graphical diagram of MYSQL tables","body":"<p>I have a MYSQL schema with a large number of tables (more than 20).</p>\n<p>Is it possible to somehow display a graphical diagram showing the relationships between tables and their fields?</p>\n<p>I want to get something like a UML diagram (which is being built, for example, for Java classes).</p>\n"},{"tags":["java","swing","model-view-controller","dao"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1642336792,"post_id":70729587,"comment_id":125038921,"body_markdown":"Please [edit] your question and mark the line that throws the exception (LoginController line 75). I am guessing that the exception is cause by `user` being null in `myDAO.getUserLogIn(user.getUserName()`.  If so it seems that `LoginController` was initialized with a null value (`new LoginController(null, view)`). For more help post [mre]","body":"Please <a href=\"https://stackoverflow.com/posts/70729587/edit\">edit</a> your question and mark the line that throws the exception (LoginController line 75). I am guessing that the exception is cause by <code>user</code> being null in <code>myDAO.getUserLogIn(user.getUserName()</code>.  If so it seems that <code>LoginController</code> was initialized with a null value (<code>new LoginController(null, view)</code>). For more help post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1642337318,"post_id":70729587,"comment_id":125039020,"body_markdown":"Basically, you want the controller to be the center point and orchestrate the whole thing: get user details from the `view`, use `dao` to verify it (dao should be independent of view. It should not have a reference to the view) and update the view according to the results of the verification.","body":"Basically, you want the controller to be the center point and orchestrate the whole thing: get user details from the <code>view</code>, use <code>dao</code> to verify it (dao should be independent of view. It should not have a reference to the view) and update the view according to the results of the verification."}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642338500,"creation_date":1642338500,"answer_id":70730318,"question_id":70729587,"body_markdown":"It is hard to tell from the partial code in the question, but from what I see, a `User` object can be constructed only after a successful login. so the constructor should change to:\r\n\r\n    public LoginController(LoginView view) {\r\n        this.view = view;\r\n        addListener();\r\n    }\r\n\r\nAnd \r\n\r\n    class LoginListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {    \r\n            String name = view.getUserNameTextField().getText();\r\n            String pass = view.getUserPassTextField().getText();        \r\n            DAO myDAO = new DaoImpl(view, profView);    \r\n            try {\r\n                user = myDAO.getUserLogIn(name, pass);//change getUserLogIn to return a single User, or null \r\n                //when method from DAOImpl get filled, proceed to Home\r\n                if(user != null) {                \r\n                    showHome();\r\n                }\r\n            } catch (SQLException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n","title":"How can I get data from DAO through the model and append them in the view","body":"<p>It is hard to tell from the partial code in the question, but from what I see, a <code>User</code> object can be constructed only after a successful login. so the constructor should change to:</p>\n<pre><code>public LoginController(LoginView view) {\n    this.view = view;\n    addListener();\n}\n</code></pre>\n<p>And</p>\n<pre><code>class LoginListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {    \n        String name = view.getUserNameTextField().getText();\n        String pass = view.getUserPassTextField().getText();        \n        DAO myDAO = new DaoImpl(view, profView);    \n        try {\n            user = myDAO.getUserLogIn(name, pass);//change getUserLogIn to return a single User, or null \n            //when method from DAOImpl get filled, proceed to Home\n            if(user != null) {                \n                showHome();\n            }\n        } catch (SQLException e1) {\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18063492,"reputation":191,"user_id":13130036,"display_name":"Franz Biberkopf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642339262,"accepted_answer_id":70730318,"answer_count":1,"score":1,"last_activity_date":1642339198,"creation_date":1642332381,"question_id":70729587,"body_markdown":"I am new to Java and I am trying to implement a login system and a user profile conform to MVC - DAO. I would like to enable the controller trough the method addUserDatatoView() to retrieve the user credentials from DAO, in order to add them as strings in a new JPanel (view). Anyway, I am not sure that my way to proceed is correct. First of all, I am getting all the time the NullPointerException, event though the DAO-level is getting correctly the data from the database:\r\n\r\n``````````````none\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;model.User.getUserName()&quot; because &quot;this.user&quot; is null\r\n\tat controller.LoginController.addUserDatatoView(LoginController.java:75)\r\n\tat controller.LoginController.showHome(LoginController.java:65)\r\n\tat controller.LoginController$LoginListener.actionPerformed(LoginController.java:44)\r\n```````````````````\r\nHow can I actually retrieve the data from DAO passing through the Model (User class)? What would be the best way to deploy to data as strings from the controller to the view?\r\n\r\nI am quite confused about the communication between the different classes and what is the correct procedure, in order not to contravene MVC-DAO. \r\n\r\nI am not asking you to solve the problem, but to get an hint in order to get the right direction.\r\n\r\n\r\nDAO-Implementation:\r\n`````````\r\npackage dao;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\n\r\nimport javax.swing.JOptionPane;\r\n\r\nimport controller.HomeController;\r\nimport ds.OracleDsSingleton;\r\nimport model.Event;\r\nimport model.User;\r\nimport view.HomeView;\r\nimport view.LoginView;\r\nimport view.ProfileView;\r\n\r\npublic class DaoImpl implements DAO {\r\n\r\n\tLoginView view;\r\n\tProfileView profView;\r\n\tResultSet rs;\r\n\r\n\tpublic DaoImpl(LoginView view, ProfileView profView) {\r\n\t\tthis.view = view;\r\n\t\tthis.profView = profView;\r\n\t}\r\n\t@Override\r\n\tpublic ArrayList&lt;User&gt; getUserLogIn (String userName, String userPass) throws SQLException {\r\n\t\tOracleDsSingleton ora = OracleDsSingleton.getInstance();\r\n\t\tboolean controlRecords = false;\r\n\t\ttry {\r\n\t\t\t//ArrayList type User\r\n\t\t\tArrayList&lt;User&gt; user = new ArrayList&lt;User&gt;();\r\n\t\t\tConnection con = ora.getConnection();\r\n\t\t\tStatement stmt = con.createStatement();\r\n\t\t\tString addQuery = &quot;SELECT * FROM UserList&quot;;\r\n\t\t\tResultSet rs = stmt.executeQuery(addQuery);\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tuserName = rs.getString(&quot;userName&quot;);\r\n\t\t\t\tuserPass = rs.getString(&quot;userPass&quot;);\r\n\t\t\t\tif (userName.equals(view.getUserNameTextField().getText().toString())\r\n\t\t\t\t\t\t&amp;&amp; (userPass.equals(view.getUserPassTextField().getText().toString()))) {\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontrolRecords = true;\r\n\t\t\t\t\t\tUser u = new User(userName, userPass);\r\n\t\t\t\t\t\tuser.add(u);\r\n\t\t\t\t\t\tfor(User us : user) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Directly from DAOImp: &quot; + us);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn user;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!controlRecords) {\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Not successfully logged in!&quot;);\r\n\t\t\t};\r\n\t\t\tif (con != null)\r\n\t\t\t\tcon.close();\r\n\t\t\tif (stmt != null)\r\n\t\t\t\tstmt.close();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\t\r\n\t\treturn null;\r\n\t}\r\n}\r\n``````````````````\r\nClass User: \r\n````````````````\r\npublic class User {\r\n    String userName;\r\n\tString userPass;\r\n\r\n\tpublic User(String userName, String userPass) {\r\n\t\tthis.userName = userName;\r\n\t\tthis.userPass = userPass;\r\n\t}\r\n\t\r\n\tpublic User() throws SQLException {\t\r\n\t}\r\n\t\r\n\tpublic String getUserName() {\r\n\t\treturn userName;\r\n\t}\r\n\t\r\n\tpublic String getUserPass() {\r\n\t\treturn userPass;\r\n\t}\r\n\r\n\tpublic void setUserName(String userName) {\r\n\t\tthis.userName = userName;\r\n\t}\r\n\t\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn userName + userPass;\r\n\t}\r\n}\r\n`````````````````````\r\nController\r\n````````````````````\r\npackage controller;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\n\r\nimport javax.swing.JComponent;\r\n\r\nimport controller.LoginController.LoginBACKListener;\r\nimport dao.DAO;\r\nimport dao.DaoImpl;\r\nimport model.User;\r\nimport view.HomeView;\r\nimport view.LoginView;\r\nimport view.ProfileView;\r\nimport view.StartView;\r\n\r\npublic class LoginController{\r\n\t\r\n\tprivate User user;\r\n\tprivate LoginView view;\r\n\tprivate ProfileView profView;\r\n\t\r\n\tpublic LoginController(User user, LoginView view) {\r\n\t\tthis.user = user;\r\n\t\tthis.view = view;\r\n\t\taddListener();\r\n\t}\r\n\t\r\n\tprivate void addListener() {\r\n\t\tthis.view.setLoginListener(new LoginListener());\r\n\t}\r\n\t\r\n\tclass LoginListener implements ActionListener {\r\n\t\tpublic void actionPerformed(ActionEvent e) {\t\r\n\t\t\tString name = view.getUserNameTextField().getText();\r\n\t\t\tString pass = view.getUserPassTextField().getText();\t\t\r\n\t\t\tDAO myDAO = new DaoImpl(view, profView);\t\r\n\t\t\ttry {\r\n\t\t\t\t//when method from DAOImpl get filled, proceed to Home\r\n\t\t\t\tif(myDAO.getUserLogIn(name, pass) != null) {\r\n\t\t\t\t\tshowHome();\r\n\t\t\t\t}\r\n\t\t\t} catch (SQLException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void showHome() {\r\n\t\tHomeView home = new HomeView();\r\n\t\thome.setVisible(true);\r\n\t\tHomeController h = new HomeController(home);\r\n\t\ttry {\r\n\t\t\taddUserDatatoView();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\tpublic ArrayList&lt;User&gt; addUserDatatoView() throws SQLException {\r\n\t\tDAO myDAO = new DaoImpl(view, profView);\r\n\t\tArrayList&lt;User&gt; userCredentials = myDAO.getUserLogIn(user.getUserName(), user.getUserPass());\r\n\t\tfor(User us : userCredentials) {\r\n\t\t\tSystem.out.println(&quot;Directly from Controller: &quot; + us);\r\n\t\t}\r\n\t\treturn userCredentials;\r\n\t}\r\n}\r\n````````````````````\r\n\r\n\r\n\r\n","title":"How can I get data from DAO through the model and append them in the view","body":"<p>I am new to Java and I am trying to implement a login system and a user profile conform to MVC - DAO. I would like to enable the controller trough the method addUserDatatoView() to retrieve the user credentials from DAO, in order to add them as strings in a new JPanel (view). Anyway, I am not sure that my way to proceed is correct. First of all, I am getting all the time the NullPointerException, event though the DAO-level is getting correctly the data from the database:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;model.User.getUserName()&quot; because &quot;this.user&quot; is null\n    at controller.LoginController.addUserDatatoView(LoginController.java:75)\n    at controller.LoginController.showHome(LoginController.java:65)\n    at controller.LoginController$LoginListener.actionPerformed(LoginController.java:44)\n</code></pre>\n<p>How can I actually retrieve the data from DAO passing through the Model (User class)? What would be the best way to deploy to data as strings from the controller to the view?</p>\n<p>I am quite confused about the communication between the different classes and what is the correct procedure, in order not to contravene MVC-DAO.</p>\n<p>I am not asking you to solve the problem, but to get an hint in order to get the right direction.</p>\n<p>DAO-Implementation:</p>\n<pre><code>package dao;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\n\nimport javax.swing.JOptionPane;\n\nimport controller.HomeController;\nimport ds.OracleDsSingleton;\nimport model.Event;\nimport model.User;\nimport view.HomeView;\nimport view.LoginView;\nimport view.ProfileView;\n\npublic class DaoImpl implements DAO {\n\n    LoginView view;\n    ProfileView profView;\n    ResultSet rs;\n\n    public DaoImpl(LoginView view, ProfileView profView) {\n        this.view = view;\n        this.profView = profView;\n    }\n    @Override\n    public ArrayList&lt;User&gt; getUserLogIn (String userName, String userPass) throws SQLException {\n        OracleDsSingleton ora = OracleDsSingleton.getInstance();\n        boolean controlRecords = false;\n        try {\n            //ArrayList type User\n            ArrayList&lt;User&gt; user = new ArrayList&lt;User&gt;();\n            Connection con = ora.getConnection();\n            Statement stmt = con.createStatement();\n            String addQuery = &quot;SELECT * FROM UserList&quot;;\n            ResultSet rs = stmt.executeQuery(addQuery);\n            while (rs.next()) {\n                userName = rs.getString(&quot;userName&quot;);\n                userPass = rs.getString(&quot;userPass&quot;);\n                if (userName.equals(view.getUserNameTextField().getText().toString())\n                        &amp;&amp; (userPass.equals(view.getUserPassTextField().getText().toString()))) {\n                    {\n                        controlRecords = true;\n                        User u = new User(userName, userPass);\n                        user.add(u);\n                        for(User us : user) {\n                            System.out.println(&quot;Directly from DAOImp: &quot; + us);\n                        }\n                        return user;\n                    }\n                }\n                else {\n                    continue;\n                }\n            }\n            if (!controlRecords) {\n                JOptionPane.showMessageDialog(null, &quot;Not successfully logged in!&quot;);\n            };\n            if (con != null)\n                con.close();\n            if (stmt != null)\n                stmt.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }       \n        return null;\n    }\n}\n</code></pre>\n<p>Class User:</p>\n<pre><code>public class User {\n    String userName;\n    String userPass;\n\n    public User(String userName, String userPass) {\n        this.userName = userName;\n        this.userPass = userPass;\n    }\n    \n    public User() throws SQLException { \n    }\n    \n    public String getUserName() {\n        return userName;\n    }\n    \n    public String getUserPass() {\n        return userPass;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n    \n    \n    public String toString() {\n        return userName + userPass;\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>package controller;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\n\nimport javax.swing.JComponent;\n\nimport controller.LoginController.LoginBACKListener;\nimport dao.DAO;\nimport dao.DaoImpl;\nimport model.User;\nimport view.HomeView;\nimport view.LoginView;\nimport view.ProfileView;\nimport view.StartView;\n\npublic class LoginController{\n    \n    private User user;\n    private LoginView view;\n    private ProfileView profView;\n    \n    public LoginController(User user, LoginView view) {\n        this.user = user;\n        this.view = view;\n        addListener();\n    }\n    \n    private void addListener() {\n        this.view.setLoginListener(new LoginListener());\n    }\n    \n    class LoginListener implements ActionListener {\n        public void actionPerformed(ActionEvent e) {    \n            String name = view.getUserNameTextField().getText();\n            String pass = view.getUserPassTextField().getText();        \n            DAO myDAO = new DaoImpl(view, profView);    \n            try {\n                //when method from DAOImpl get filled, proceed to Home\n                if(myDAO.getUserLogIn(name, pass) != null) {\n                    showHome();\n                }\n            } catch (SQLException e1) {\n                e1.printStackTrace();\n            }\n        }\n    }\n\n    public void showHome() {\n        HomeView home = new HomeView();\n        home.setVisible(true);\n        HomeController h = new HomeController(home);\n        try {\n            addUserDatatoView();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n\n    public ArrayList&lt;User&gt; addUserDatatoView() throws SQLException {\n        DAO myDAO = new DaoImpl(view, profView);\n        ArrayList&lt;User&gt; userCredentials = myDAO.getUserLogIn(user.getUserName(), user.getUserPass());\n        for(User us : userCredentials) {\n            System.out.println(&quot;Directly from Controller: &quot; + us);\n        }\n        return userCredentials;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10508476,"reputation":115,"user_id":7744930,"display_name":"Ankit Kathait"},"score":0,"creation_date":1642336120,"post_id":70730037,"comment_id":125038782,"body_markdown":"I had to remove some of the error code for the second one as the limit was being exceeded. If required let me know a way I can do so. Because comments is also like 500 chars only","body":"I had to remove some of the error code for the second one as the limit was being exceeded. If required let me know a way I can do so. Because comments is also like 500 chars only"}],"answers":[{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642336811,"creation_date":1642336811,"answer_id":70730116,"question_id":70730037,"body_markdown":"The query must not end with **;** , try to remove it\r\n\r\n    select * from post_table pt where post_id not in \r\n    (select pt2.post_id from post_table pt2 order by pt2.likes desc, pt2.dislikes asc limit :start) \r\n    order by pt.likes desc, pt.dislikes asc limit :end","title":"Putting limits dynamically in @query spring data jpa","body":"<p>The query must not end with <strong>;</strong> , try to remove it</p>\n<pre><code>select * from post_table pt where post_id not in \n(select pt2.post_id from post_table pt2 order by pt2.likes desc, pt2.dislikes asc limit :start) \norder by pt.likes desc, pt.dislikes asc limit :end\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23930232,"reputation":118,"user_id":17924830,"display_name":"Ali Arabat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642337727,"creation_date":1642337727,"answer_id":70730229,"question_id":70730037,"body_markdown":"You should remove `;` sign next to `end;` and it will work properly","title":"Putting limits dynamically in @query spring data jpa","body":"<p>You should remove <code>;</code> sign next to <code>end;</code> and it will work properly</p>\n"}],"owner":{"account_id":10508476,"reputation":115,"user_id":7744930,"display_name":"Ankit Kathait"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70730116,"answer_count":2,"score":0,"last_activity_date":1642337727,"creation_date":1642336071,"question_id":70730037,"body_markdown":"Please read the query carefully. It is a composite query and not a single limit.\r\n&lt;br&gt;&lt;br&gt;I am looking to put limits in a composite sql query dynamically. So I receive some inputs from the controller, the service does some calculations and then the query is to be hit but the limits are to be placed dynamically dependent on the calculations in the service. Below is my JPARepository:\r\n\r\n```\r\npublic interface PostTableRepository extends JpaRepository&lt;PostTable, Integer&gt; {\r\n    @Query(value = &quot;select * from post_table pt where post_id not in &quot; +\r\n                &quot;(select pt2.post_id from post_table pt2 order by pt2.likes desc, pt2.dislikes asc limit :start) &quot; +\r\n            &quot;order by pt.likes desc, pt.dislikes asc limit :end;&quot;, nativeQuery = true)\r\n    List&lt;PostTable&gt; findTopViewOfAllTime(@Param(&quot;start&quot;) int start, @Param(&quot;end&quot;) int end);\r\n```\r\n\r\nAt first I tried with ?1 and ?2 but that is also failing. Below are the error codes:&lt;br&gt;\r\nWith the @Param:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat com.sun.proxy.$Proxy110.findTopViewOfAllTime(Unknown Source) ~[na:na]\r\n\tat com.example.redditbackend.service.PostsService.viewDashboard(PostsService.java:402) ~[main/:na]\r\n\tat com.example.redditbackend.service.PostsService$$FastClassBySpringCGLIB$$5ddad824.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat com.example.redditbackend.service.PostsService$$EnhancerBySpringCGLIB$$2e8b2e71.viewDashboard(&lt;generated&gt;) ~[main/:na]\r\n\tat com.example.redditbackend.controller.PostsController.viewDashBoardTop(PostsController.java:98) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\nCaused by: java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\tat org.hibernate.query.internal.ParameterMetadataImpl.getNamedParameterDescriptor(ParameterMetadataImpl.java:229) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.hibernate.query.internal.ParameterMetadataImpl.getQueryParameter(ParameterMetadataImpl.java:198) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.hibernate.query.internal.QueryParameterBindingsImpl.getBinding(QueryParameterBindingsImpl.java:189) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:650) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:66) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:327) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:118) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:141) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:118) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:82) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:74) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:95) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:95) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:227) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\t... 63 common frames omitted\r\n\r\n2022-01-16 17:45:41.658 ERROR 11628 --- [nio-8080-exec-1] c.e.r.controller.PostsController         : java.lang.Exception: Unable to view dashboard because: org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\r\njava.lang.Exception: Unable to view dashboard because: org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\tat com.example.redditbackend.service.PostsService.viewDashboard(PostsService.java:405) ~[main/:na]\r\n\tat com.example.redditbackend.service.PostsService$$FastClassBySpringCGLIB$$5ddad824.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat com.example.redditbackend.service.PostsService$$EnhancerBySpringCGLIB$$2e8b2e71.viewDashboard(&lt;generated&gt;) ~[main/:na]\r\n\tat com.example.redditbackend.controller.PostsController.viewDashBoardTop(PostsController.java:98) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\nCaused by: java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n```\r\n\r\nThis is the error code with ?1 and ?2(This was tried with both primitive(int) and Wrapper data type(Integer). Both gave the same error):\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal\r\n\r\norg.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat \r\n```\r\nAny help is much appreciated.","title":"Putting limits dynamically in @query spring data jpa","body":"<p>Please read the query carefully. It is a composite query and not a single limit.\n<br><br>I am looking to put limits in a composite sql query dynamically. So I receive some inputs from the controller, the service does some calculations and then the query is to be hit but the limits are to be placed dynamically dependent on the calculations in the service. Below is my JPARepository:</p>\n<pre><code>public interface PostTableRepository extends JpaRepository&lt;PostTable, Integer&gt; {\n    @Query(value = &quot;select * from post_table pt where post_id not in &quot; +\n                &quot;(select pt2.post_id from post_table pt2 order by pt2.likes desc, pt2.dislikes asc limit :start) &quot; +\n            &quot;order by pt.likes desc, pt.dislikes asc limit :end;&quot;, nativeQuery = true)\n    List&lt;PostTable&gt; findTopViewOfAllTime(@Param(&quot;start&quot;) int start, @Param(&quot;end&quot;) int end);\n</code></pre>\n<p>At first I tried with ?1 and ?2 but that is also failing. Below are the error codes:<br>\nWith the @Param:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n\norg.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]\n    at com.sun.proxy.$Proxy110.findTopViewOfAllTime(Unknown Source) ~[na:na]\n    at com.example.redditbackend.service.PostsService.viewDashboard(PostsService.java:402) ~[main/:na]\n    at com.example.redditbackend.service.PostsService$$FastClassBySpringCGLIB$$5ddad824.invoke(&lt;generated&gt;) ~[main/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.14.jar:5.3.14]\n    at com.example.redditbackend.service.PostsService$$EnhancerBySpringCGLIB$$2e8b2e71.viewDashboard(&lt;generated&gt;) ~[main/:na]\n    at com.example.redditbackend.controller.PostsController.viewDashBoardTop(PostsController.java:98) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n    at org.hibernate.query.internal.ParameterMetadataImpl.getNamedParameterDescriptor(ParameterMetadataImpl.java:229) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.query.internal.ParameterMetadataImpl.getQueryParameter(ParameterMetadataImpl.java:198) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.query.internal.QueryParameterBindingsImpl.getBinding(QueryParameterBindingsImpl.java:189) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:650) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:66) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:327) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:118) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:141) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:118) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:82) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:74) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:95) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:95) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:227) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]\n    ... 63 common frames omitted\n\n2022-01-16 17:45:41.658 ERROR 11628 --- [nio-8080-exec-1] c.e.r.controller.PostsController         : java.lang.Exception: Unable to view dashboard because: org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n\njava.lang.Exception: Unable to view dashboard because: org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n    at com.example.redditbackend.service.PostsService.viewDashboard(PostsService.java:405) ~[main/:na]\n    at com.example.redditbackend.service.PostsService$$FastClassBySpringCGLIB$$5ddad824.invoke(&lt;generated&gt;) ~[main/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.14.jar:5.3.14]\n    at com.example.redditbackend.service.PostsService$$EnhancerBySpringCGLIB$$2e8b2e71.viewDashboard(&lt;generated&gt;) ~[main/:na]\n    at com.example.redditbackend.controller.PostsController.viewDashBoardTop(PostsController.java:98) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nCaused by: java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n<p>This is the error code with ?1 and ?2(This was tried with both primitive(int) and Wrapper data type(Integer). Both gave the same error):</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal\n\norg.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.14.jar:5.3.14]\n    at \n</code></pre>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":23934334,"reputation":346,"user_id":17928307,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642118627,"creation_date":1642118627,"answer_id":70704592,"question_id":70666515,"body_markdown":"Where are you setting the adapter to your RecyclerView?\r\n\r\nTry this:\r\n```\r\nbinding.recyclerView.adapter?.notifyDataSetChanged()\r\n```","title":"views aren&#39;t getting updated in recycler list view every time. diff util object won&#39;t detect change the first time","body":"<p>Where are you setting the adapter to your RecyclerView?</p>\n<p>Try this:</p>\n<pre><code>binding.recyclerView.adapter?.notifyDataSetChanged()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642336766,"creation_date":1642336766,"answer_id":70730111,"question_id":70666515,"body_markdown":"Instead of submitting a list of a self defined data class which comprises of multiple variables within itself, what we can do is to submit an id (integer) list and then in the onBind section of the adapter class, get the content by using a view model function and then bind the items using the content received from that function. the function can look something like -\r\n\r\n    fun getById(id:Int): Flow&lt;TasksData&gt; = tasksDao.getById(id)\r\n\r\nwhere getById is something like -\r\n\r\n    @Query(&quot;SELECT * FROM task_data where id = :id&quot;)\r\n    fun getById(id: Int): Flow&lt;TasksData&gt;\r\n\r\nthen, since it is returning a continuous flow, we can set an observer in the onBind within the adapter such that the ui is updated every time a data change is detected. something like -\r\n\r\n    taskViewmodel.getById(getItem(position)).aslivedata.observe{\r\n        holder.bind(it)\r\n    }\r\n","title":"views aren&#39;t getting updated in recycler list view every time. diff util object won&#39;t detect change the first time","body":"<p>Instead of submitting a list of a self defined data class which comprises of multiple variables within itself, what we can do is to submit an id (integer) list and then in the onBind section of the adapter class, get the content by using a view model function and then bind the items using the content received from that function. the function can look something like -</p>\n<pre><code>fun getById(id:Int): Flow&lt;TasksData&gt; = tasksDao.getById(id)\n</code></pre>\n<p>where getById is something like -</p>\n<pre><code>@Query(&quot;SELECT * FROM task_data where id = :id&quot;)\nfun getById(id: Int): Flow&lt;TasksData&gt;\n</code></pre>\n<p>then, since it is returning a continuous flow, we can set an observer in the onBind within the adapter such that the ui is updated every time a data change is detected. something like -</p>\n<pre><code>taskViewmodel.getById(getItem(position)).aslivedata.observe{\n    holder.bind(it)\n}\n</code></pre>\n"}],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70730111,"answer_count":2,"score":0,"last_activity_date":1642336766,"creation_date":1641902695,"question_id":70666515,"body_markdown":"\r\nA screen recording video [the log files were taken using the same exact actions] -\r\n\r\n[screen-recording][1]\r\n\r\n[watch the recording for context] My problem is that the diffutil object in the adapter can&#39;t detect the changes being made the first time and so, the list elements dont get updated. At the right end of the log lines, you&#39;ll see a truth value table. the left column is supposed to be all false. but, look at the first value - true. the access values are supposed to be all false when I launch the app. and they are all false when I launch the app else the video wouldn&#39;t start with all passwords hidden when I launch the app. So, the first time the comparision isn&#39;t being made to the actual olditem. but, the changed olditem.\r\n\r\n\r\nLog output for the adapter diff util object -\r\n\r\n    \t• this is from the initial access. it reads the access. but cannot identify the changes that has been applied. ----making changes the first time -\r\n    \r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \ttrue  \ttrue\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \ttrue  \ttrue\r\n    \r\n    \t• look at the first and the last entries. this is the entries they have two trues those are for the olditem and newitem from the diffutil object. lets make another change -\r\n    \r\n    2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \ttrue  \tfalse\r\n    2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \ttrue  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \ttrue\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \ttrue\r\n    2022-01-11 16:35:26.287 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.287 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \tfalse  \tfalse\r\n    \r\n    here, there are two changes occouring simultaneously. the initial access granted is being revoked and chnaged to false. then, new access is being granted. here since 2 changes are being made, they are being detected.\r\n\r\n\r\n  [1]: https://youtu.be/hPD7pshj3G4\r\n\r\n\r\nfragment code -\r\n\r\n    package com.kenetic.savepass.fragments\r\n    \r\n    import android.os.Bundle\r\n    import android.util.Log\r\n    import android.view.LayoutInflater\r\n    import android.view.View\r\n    import android.view.ViewGroup\r\n    import android.widget.Toast\r\n    import androidx.fragment.app.Fragment\r\n    import androidx.lifecycle.MutableLiveData\r\n    import androidx.lifecycle.asLiveData\r\n    import androidx.navigation.fragment.findNavController\r\n    import com.kenetic.savepass.databinding.FragmentSetPasswordBinding\r\n    import com.kenetic.savepass.password.data.AppDataStore\r\n    \r\n    class SetPasswordFragment : Fragment() {\r\n        private val TAG = &quot;SetPasswordFragmentVKP&quot;\r\n    \r\n        private lateinit var binding: FragmentSetPasswordBinding\r\n    \r\n        private lateinit var appDataStore: AppDataStore\r\n        private lateinit var storedPassword: String\r\n    \r\n        private var _symbolsVisibility = MutableLiveData(View.INVISIBLE)\r\n        val symbolsVisibility: MutableLiveData&lt;Int&gt; get() = _symbolsVisibility\r\n    \r\n        private var _passwordMatchVisibility = MutableLiveData(View.INVISIBLE)\r\n        val passwordMatchVisibility: MutableLiveData&lt;Int&gt; get() = _passwordMatchVisibility\r\n    \r\n        private var _passwordIncorrectVisibility = MutableLiveData(View.INVISIBLE)\r\n        val passwordIncorrectVisibility: MutableLiveData&lt;Int&gt; get() = _passwordIncorrectVisibility\r\n    \r\n        override fun onCreateView(\r\n            inflater: LayoutInflater, container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View? {\r\n            binding = FragmentSetPasswordBinding.inflate(inflater, container, false)\r\n            binding.setPasswordFragment = this\r\n            binding.lifecycleOwner = viewLifecycleOwner\r\n            return binding.root\r\n        }\r\n    \r\n        override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n            super.onViewCreated(view, savedInstanceState)\r\n            appDataStore = AppDataStore(requireContext())\r\n            appDataStore.userMasterPasswordFlow.asLiveData().observe(viewLifecycleOwner, {\r\n                storedPassword = it\r\n                if (it.isEmpty()) {\r\n                    binding.oldPasswordEditText.visibility = View.GONE\r\n                    _passwordIncorrectVisibility.value = View.GONE\r\n                }\r\n            })\r\n            binding.saveFab.setOnClickListener { passToNextFrag() }\r\n    \r\n        }\r\n    \r\n        private lateinit var symbolMissingText: String\r\n    \r\n        private fun getSymbolCheckWarning(temp: String): String {\r\n            symbolMissingText = &quot;&quot;\r\n            val tempTruthList = listOf&lt;Boolean&gt;(\r\n                hasUpperCase(temp),\r\n                hasLowerCase(temp),\r\n                hasSpecial(temp),\r\n                hasNumbers(temp),\r\n                temp.isNotEmpty()\r\n            )\r\n            return if (false !in tempTruthList) {\r\n                &quot;&quot;\r\n            } else {\r\n                &quot;*missing character types -${symbolMissingText} &quot;\r\n            }\r\n        }\r\n    \r\n        private fun hasLowerCase(str: String): Boolean {\r\n            for (i in str) {\r\n                if (i in &#39;a&#39;..&#39;z&#39;) {\r\n                    return true\r\n                }\r\n            }\r\n            symbolMissingText += &quot; lowercase,&quot;\r\n            return false\r\n        }\r\n    \r\n        private fun hasUpperCase(str: String): Boolean {\r\n            for (i in str) {\r\n                if (i in &#39;A&#39;..&#39;Z&#39;) {\r\n                    return true\r\n                }\r\n            }\r\n            symbolMissingText += &quot; uppercase,&quot;\r\n            return false\r\n        }\r\n    \r\n        private fun hasSpecial(str: String): Boolean {\r\n            for (i in str) {\r\n                if (i in &quot;`!@#$%^&amp;*()_-+={[}]|\\\\:;\\&quot;&#39;&lt;,&gt;.?/&quot;) {\r\n                    return true\r\n                }\r\n            }\r\n            symbolMissingText += &quot; special,&quot;\r\n            return false\r\n        }\r\n    \r\n        private fun hasNumbers(str: String): Boolean {\r\n            for (i in str) {\r\n                if (i in &#39;0&#39;..&#39;9&#39;) {\r\n                    return true\r\n                }\r\n            }\r\n            symbolMissingText += &quot; numbers,&quot;\r\n            return false\r\n        }\r\n    \r\n        private fun getLengthWarningString(str: String): String {\r\n            return if (str.length in 9..31) &quot;&quot; else {\r\n                &quot;*length should be between 8-32 characters&quot;\r\n            }\r\n        }\r\n    \r\n        private fun setNewPassWarning(): Boolean {\r\n            val str = binding.setNewPasswordEditText.text.toString()\r\n            val warningText = getSymbolCheckWarning(str) + getLengthWarningString(str)\r\n            Log.i(TAG, &quot;warningText = $warningText&quot;)\r\n            return if (warningText.isEmpty()) {\r\n                _symbolsVisibility.value = View.INVISIBLE\r\n                true\r\n            } else {\r\n                binding.setNewTextView.text = warningText\r\n                _symbolsVisibility.value = View.VISIBLE\r\n                false\r\n            }\r\n        }\r\n    \r\n        private fun matchCheck(): Boolean {\r\n            return if (binding.setNewPasswordEditText.text.toString() == binding.confirmNewPasswordEditText.text.toString()) {\r\n                _passwordMatchVisibility.value = View.INVISIBLE\r\n                true\r\n            } else {\r\n                _passwordMatchVisibility.value = View.VISIBLE\r\n                false\r\n            }\r\n        }\r\n    \r\n        private fun incorrectCheck(): Boolean {\r\n            return if (binding.oldPasswordEditText.text.toString() != storedPassword) {\r\n                _passwordIncorrectVisibility.value = View.VISIBLE\r\n                false\r\n            } else {\r\n                _passwordIncorrectVisibility.value = View.INVISIBLE\r\n                true\r\n            }\r\n        }\r\n    \r\n        private fun passToNextFrag() {\r\n            val tempTruthList = listOf(setNewPassWarning(), matchCheck(), incorrectCheck())\r\n            if (false !in tempTruthList) {\r\n                appDataStore.editMasterPassword(\r\n                    binding.setNewPasswordEditText.text.toString(),\r\n                    requireContext()\r\n                )\r\n                nextScreen()\r\n    \r\n            } else {\r\n                Toast.makeText(requireContext(), &quot;retry again&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        }\r\n    \r\n        private fun nextScreen() {\r\n            Log.i(TAG,&quot;next screen called&quot;)\r\n            this@SetPasswordFragment.findNavController()\r\n                .navigate(\r\n                    SetPasswordFragmentDirections\r\n                        .actionSetPasswordFragmentToPassListFragment()\r\n                )\r\n        }\r\n    }\r\n\r\nadapter code -\r\n\r\n\r\n    package com.kenetic.savepass.adapters\r\n    \r\n    import android.util.Log\r\n    import android.view.LayoutInflater\r\n    import android.view.ViewGroup\r\n    import androidx.recyclerview.widget.DiffUtil\r\n    import androidx.recyclerview.widget.ListAdapter\r\n    import androidx.recyclerview.widget.RecyclerView\r\n    import com.kenetic.savepass.R\r\n    import com.kenetic.savepass.databinding.PassListBinding\r\n    import com.kenetic.savepass.password.PassEnum.Access\r\n    import com.kenetic.savepass.password.PasswordData\r\n    \r\n    private const val TAG = &quot;PassAdapter&quot;\r\n    \r\n    class PassAdapter(private val fingerChecker: (PasswordData, Access) -&gt; Unit) :\r\n        ListAdapter&lt;PasswordData, PassAdapter.PassViewHolder&gt;(diffCallBack) {\r\n    \r\n    \r\n        class PassViewHolder(\r\n            private val binding: PassListBinding,\r\n            private val fingerChecker: (PasswordData, Access) -&gt; Unit\r\n        ) : RecyclerView.ViewHolder(binding.root) {\r\n    \r\n            fun bind(passwordData: PasswordData) {\r\n                Log.i(TAG, &quot;bind called&quot;)\r\n                binding.isAppOrWebImageView.setImageResource(\r\n                    if (passwordData.isAnApplication) {\r\n                        R.drawable.is_application_icon_24\r\n                    } else {\r\n                        R.drawable.is_website_icon_24\r\n                    }\r\n                )\r\n                binding.serviceNameTextView.text = passwordData.serviceName\r\n    \r\n                if (passwordData.access) {\r\n                    Log.i(TAG, &quot;access has been given&quot;)\r\n                    binding.apply {\r\n                        servicePasswordTextView.text = passwordData.servicePassword\r\n                        showImageView.setImageResource(R.drawable.ic_baseline_hide_20)\r\n                        showImageView.setOnClickListener {\r\n                            fingerChecker(passwordData, Access.HIDE)\r\n                        }\r\n                    }\r\n                } else {\r\n                    Log.i(TAG, &quot;access has been denied&quot;)\r\n                    binding.showImageView.setImageResource(R.drawable.ic_baseline_show_20)\r\n                    binding.servicePasswordTextView.text = &quot;**********&quot;\r\n                    binding.showImageView.setOnClickListener {\r\n                        fingerChecker(passwordData, Access.SHOW)\r\n                    }\r\n                }\r\n    \r\n                binding.securityTypeImageView.setImageResource(\r\n                    if (passwordData.useFingerPrint) {\r\n                        R.drawable.fingerprint_20\r\n                    } else {\r\n                        R.drawable.password_20\r\n                    }\r\n                )\r\n    \r\n                binding.deleteImageView.setOnClickListener {\r\n                    fingerChecker(passwordData, Access.DELETE)\r\n    \r\n                }\r\n                binding.editImageView.setOnClickListener {\r\n                    Log.d(TAG, &quot;edit image onClick working&quot;)\r\n                    fingerChecker(passwordData, Access.EDIT)\r\n                }\r\n            }\r\n        }\r\n    \r\n        companion object {\r\n            private val diffCallBack = object : DiffUtil.ItemCallback&lt;PasswordData&gt;() {\r\n                override fun areItemsTheSame(oldItem: PasswordData, newItem: PasswordData): Boolean {\r\n                    Log.i(\r\n                        TAG,\r\n                        &quot;id equality checked -\\t${oldItem.serviceName}\\t\\taccess value passed - \\t${oldItem.access}\\t\\t${newItem.access}&quot;\r\n                    )\r\n                    return oldItem.id == newItem.id\r\n                }\r\n    \r\n                override fun areContentsTheSame(oldItem: PasswordData, newItem: PasswordData): Boolean {\r\n                    return (oldItem == newItem &amp;&amp; oldItem.access == newItem.access)\r\n                }\r\n            }\r\n        }\r\n    \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PassViewHolder {\r\n            return PassViewHolder(\r\n                PassListBinding.inflate(LayoutInflater.from(parent.context)), fingerChecker\r\n            )\r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: PassViewHolder, position: Int) {\r\n            Log.i(TAG, &quot;access for $position = ${getItem(position).access}&quot;)\r\n            holder.bind(getItem(position))\r\n        }\r\n    }\r\n\r\n\r\ndata class used - \r\n\r\n    package com.kenetic.savepass.password\r\n    \r\n    import androidx.room.ColumnInfo\r\n    import androidx.room.Entity\r\n    import androidx.room.PrimaryKey\r\n    \r\n    @Entity(tableName = &quot;password_data&quot;)\r\n    data class PasswordData(\r\n        @PrimaryKey(autoGenerate = true) val id: Int = 0,\r\n        @ColumnInfo(name = &quot;service_name&quot;) var serviceName: String,\r\n        @ColumnInfo(name = &quot;service_password&quot;) var servicePassword: String,\r\n        @ColumnInfo(name = &quot;is_an_application&quot;) var isAnApplication: Boolean = false,\r\n        @ColumnInfo(name = &quot;use_finger_print&quot;) var useFingerPrint: Boolean = true,\r\n        @ColumnInfo(name = &quot;access&quot;) var access: Boolean = false\r\n    )\r\n\r\nI have tried converting my element list to a list then submitting that list to the adapter class, saving the value of the list to another variable and submitting that variable, changing the diffutil object functions to scan each element and then return the value, etc.","title":"views aren&#39;t getting updated in recycler list view every time. diff util object won&#39;t detect change the first time","body":"<p>A screen recording video [the log files were taken using the same exact actions] -</p>\n<p><a href=\"https://youtu.be/hPD7pshj3G4\" rel=\"nofollow noreferrer\">screen-recording</a></p>\n<p>[watch the recording for context] My problem is that the diffutil object in the adapter can't detect the changes being made the first time and so, the list elements dont get updated. At the right end of the log lines, you'll see a truth value table. the left column is supposed to be all false. but, look at the first value - true. the access values are supposed to be all false when I launch the app. and they are all false when I launch the app else the video wouldn't start with all passwords hidden when I launch the app. So, the first time the comparision isn't being made to the actual olditem. but, the changed olditem.</p>\n<p>Log output for the adapter diff util object -</p>\n<pre><code>    • this is from the initial access. it reads the access. but cannot identify the changes that has been applied. ----making changes the first time -\n\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   true    true\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   true    true\n\n    • look at the first and the last entries. this is the entries they have two trues those are for the olditem and newitem from the diffutil object. lets make another change -\n\n2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   true    false\n2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   false\n2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   true    false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   true\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   true\n2022-01-11 16:35:26.287 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:26.287 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   false   false\n\nhere, there are two changes occouring simultaneously. the initial access granted is being revoked and chnaged to false. then, new access is being granted. here since 2 changes are being made, they are being detected.\n</code></pre>\n<p>fragment code -</p>\n<pre><code>package com.kenetic.savepass.fragments\n\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.Toast\nimport androidx.fragment.app.Fragment\nimport androidx.lifecycle.MutableLiveData\nimport androidx.lifecycle.asLiveData\nimport androidx.navigation.fragment.findNavController\nimport com.kenetic.savepass.databinding.FragmentSetPasswordBinding\nimport com.kenetic.savepass.password.data.AppDataStore\n\nclass SetPasswordFragment : Fragment() {\n    private val TAG = &quot;SetPasswordFragmentVKP&quot;\n\n    private lateinit var binding: FragmentSetPasswordBinding\n\n    private lateinit var appDataStore: AppDataStore\n    private lateinit var storedPassword: String\n\n    private var _symbolsVisibility = MutableLiveData(View.INVISIBLE)\n    val symbolsVisibility: MutableLiveData&lt;Int&gt; get() = _symbolsVisibility\n\n    private var _passwordMatchVisibility = MutableLiveData(View.INVISIBLE)\n    val passwordMatchVisibility: MutableLiveData&lt;Int&gt; get() = _passwordMatchVisibility\n\n    private var _passwordIncorrectVisibility = MutableLiveData(View.INVISIBLE)\n    val passwordIncorrectVisibility: MutableLiveData&lt;Int&gt; get() = _passwordIncorrectVisibility\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        binding = FragmentSetPasswordBinding.inflate(inflater, container, false)\n        binding.setPasswordFragment = this\n        binding.lifecycleOwner = viewLifecycleOwner\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        appDataStore = AppDataStore(requireContext())\n        appDataStore.userMasterPasswordFlow.asLiveData().observe(viewLifecycleOwner, {\n            storedPassword = it\n            if (it.isEmpty()) {\n                binding.oldPasswordEditText.visibility = View.GONE\n                _passwordIncorrectVisibility.value = View.GONE\n            }\n        })\n        binding.saveFab.setOnClickListener { passToNextFrag() }\n\n    }\n\n    private lateinit var symbolMissingText: String\n\n    private fun getSymbolCheckWarning(temp: String): String {\n        symbolMissingText = &quot;&quot;\n        val tempTruthList = listOf&lt;Boolean&gt;(\n            hasUpperCase(temp),\n            hasLowerCase(temp),\n            hasSpecial(temp),\n            hasNumbers(temp),\n            temp.isNotEmpty()\n        )\n        return if (false !in tempTruthList) {\n            &quot;&quot;\n        } else {\n            &quot;*missing character types -${symbolMissingText} &quot;\n        }\n    }\n\n    private fun hasLowerCase(str: String): Boolean {\n        for (i in str) {\n            if (i in 'a'..'z') {\n                return true\n            }\n        }\n        symbolMissingText += &quot; lowercase,&quot;\n        return false\n    }\n\n    private fun hasUpperCase(str: String): Boolean {\n        for (i in str) {\n            if (i in 'A'..'Z') {\n                return true\n            }\n        }\n        symbolMissingText += &quot; uppercase,&quot;\n        return false\n    }\n\n    private fun hasSpecial(str: String): Boolean {\n        for (i in str) {\n            if (i in &quot;`!@#$%^&amp;*()_-+={[}]|\\\\:;\\&quot;'&lt;,&gt;.?/&quot;) {\n                return true\n            }\n        }\n        symbolMissingText += &quot; special,&quot;\n        return false\n    }\n\n    private fun hasNumbers(str: String): Boolean {\n        for (i in str) {\n            if (i in '0'..'9') {\n                return true\n            }\n        }\n        symbolMissingText += &quot; numbers,&quot;\n        return false\n    }\n\n    private fun getLengthWarningString(str: String): String {\n        return if (str.length in 9..31) &quot;&quot; else {\n            &quot;*length should be between 8-32 characters&quot;\n        }\n    }\n\n    private fun setNewPassWarning(): Boolean {\n        val str = binding.setNewPasswordEditText.text.toString()\n        val warningText = getSymbolCheckWarning(str) + getLengthWarningString(str)\n        Log.i(TAG, &quot;warningText = $warningText&quot;)\n        return if (warningText.isEmpty()) {\n            _symbolsVisibility.value = View.INVISIBLE\n            true\n        } else {\n            binding.setNewTextView.text = warningText\n            _symbolsVisibility.value = View.VISIBLE\n            false\n        }\n    }\n\n    private fun matchCheck(): Boolean {\n        return if (binding.setNewPasswordEditText.text.toString() == binding.confirmNewPasswordEditText.text.toString()) {\n            _passwordMatchVisibility.value = View.INVISIBLE\n            true\n        } else {\n            _passwordMatchVisibility.value = View.VISIBLE\n            false\n        }\n    }\n\n    private fun incorrectCheck(): Boolean {\n        return if (binding.oldPasswordEditText.text.toString() != storedPassword) {\n            _passwordIncorrectVisibility.value = View.VISIBLE\n            false\n        } else {\n            _passwordIncorrectVisibility.value = View.INVISIBLE\n            true\n        }\n    }\n\n    private fun passToNextFrag() {\n        val tempTruthList = listOf(setNewPassWarning(), matchCheck(), incorrectCheck())\n        if (false !in tempTruthList) {\n            appDataStore.editMasterPassword(\n                binding.setNewPasswordEditText.text.toString(),\n                requireContext()\n            )\n            nextScreen()\n\n        } else {\n            Toast.makeText(requireContext(), &quot;retry again&quot;, Toast.LENGTH_SHORT).show()\n        }\n    }\n\n    private fun nextScreen() {\n        Log.i(TAG,&quot;next screen called&quot;)\n        this@SetPasswordFragment.findNavController()\n            .navigate(\n                SetPasswordFragmentDirections\n                    .actionSetPasswordFragmentToPassListFragment()\n            )\n    }\n}\n</code></pre>\n<p>adapter code -</p>\n<pre><code>package com.kenetic.savepass.adapters\n\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.ViewGroup\nimport androidx.recyclerview.widget.DiffUtil\nimport androidx.recyclerview.widget.ListAdapter\nimport androidx.recyclerview.widget.RecyclerView\nimport com.kenetic.savepass.R\nimport com.kenetic.savepass.databinding.PassListBinding\nimport com.kenetic.savepass.password.PassEnum.Access\nimport com.kenetic.savepass.password.PasswordData\n\nprivate const val TAG = &quot;PassAdapter&quot;\n\nclass PassAdapter(private val fingerChecker: (PasswordData, Access) -&gt; Unit) :\n    ListAdapter&lt;PasswordData, PassAdapter.PassViewHolder&gt;(diffCallBack) {\n\n\n    class PassViewHolder(\n        private val binding: PassListBinding,\n        private val fingerChecker: (PasswordData, Access) -&gt; Unit\n    ) : RecyclerView.ViewHolder(binding.root) {\n\n        fun bind(passwordData: PasswordData) {\n            Log.i(TAG, &quot;bind called&quot;)\n            binding.isAppOrWebImageView.setImageResource(\n                if (passwordData.isAnApplication) {\n                    R.drawable.is_application_icon_24\n                } else {\n                    R.drawable.is_website_icon_24\n                }\n            )\n            binding.serviceNameTextView.text = passwordData.serviceName\n\n            if (passwordData.access) {\n                Log.i(TAG, &quot;access has been given&quot;)\n                binding.apply {\n                    servicePasswordTextView.text = passwordData.servicePassword\n                    showImageView.setImageResource(R.drawable.ic_baseline_hide_20)\n                    showImageView.setOnClickListener {\n                        fingerChecker(passwordData, Access.HIDE)\n                    }\n                }\n            } else {\n                Log.i(TAG, &quot;access has been denied&quot;)\n                binding.showImageView.setImageResource(R.drawable.ic_baseline_show_20)\n                binding.servicePasswordTextView.text = &quot;**********&quot;\n                binding.showImageView.setOnClickListener {\n                    fingerChecker(passwordData, Access.SHOW)\n                }\n            }\n\n            binding.securityTypeImageView.setImageResource(\n                if (passwordData.useFingerPrint) {\n                    R.drawable.fingerprint_20\n                } else {\n                    R.drawable.password_20\n                }\n            )\n\n            binding.deleteImageView.setOnClickListener {\n                fingerChecker(passwordData, Access.DELETE)\n\n            }\n            binding.editImageView.setOnClickListener {\n                Log.d(TAG, &quot;edit image onClick working&quot;)\n                fingerChecker(passwordData, Access.EDIT)\n            }\n        }\n    }\n\n    companion object {\n        private val diffCallBack = object : DiffUtil.ItemCallback&lt;PasswordData&gt;() {\n            override fun areItemsTheSame(oldItem: PasswordData, newItem: PasswordData): Boolean {\n                Log.i(\n                    TAG,\n                    &quot;id equality checked -\\t${oldItem.serviceName}\\t\\taccess value passed - \\t${oldItem.access}\\t\\t${newItem.access}&quot;\n                )\n                return oldItem.id == newItem.id\n            }\n\n            override fun areContentsTheSame(oldItem: PasswordData, newItem: PasswordData): Boolean {\n                return (oldItem == newItem &amp;&amp; oldItem.access == newItem.access)\n            }\n        }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PassViewHolder {\n        return PassViewHolder(\n            PassListBinding.inflate(LayoutInflater.from(parent.context)), fingerChecker\n        )\n    }\n\n    override fun onBindViewHolder(holder: PassViewHolder, position: Int) {\n        Log.i(TAG, &quot;access for $position = ${getItem(position).access}&quot;)\n        holder.bind(getItem(position))\n    }\n}\n</code></pre>\n<p>data class used -</p>\n<pre><code>package com.kenetic.savepass.password\n\nimport androidx.room.ColumnInfo\nimport androidx.room.Entity\nimport androidx.room.PrimaryKey\n\n@Entity(tableName = &quot;password_data&quot;)\ndata class PasswordData(\n    @PrimaryKey(autoGenerate = true) val id: Int = 0,\n    @ColumnInfo(name = &quot;service_name&quot;) var serviceName: String,\n    @ColumnInfo(name = &quot;service_password&quot;) var servicePassword: String,\n    @ColumnInfo(name = &quot;is_an_application&quot;) var isAnApplication: Boolean = false,\n    @ColumnInfo(name = &quot;use_finger_print&quot;) var useFingerPrint: Boolean = true,\n    @ColumnInfo(name = &quot;access&quot;) var access: Boolean = false\n)\n</code></pre>\n<p>I have tried converting my element list to a list then submitting that list to the adapter class, saving the value of the list to another variable and submitting that variable, changing the diffutil object functions to scan each element and then return the value, etc.</p>\n"},{"tags":["java","flutter"],"owner":{"account_id":15926642,"reputation":73,"user_id":11492112,"display_name":"Jardine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1642336701,"creation_date":1642336701,"question_id":70730103,"body_markdown":"I tried to downgrade my Java SDK as there was an error with the latest version with flutter. In doing so, I have created this issue, which I cannot fix. The issue comes up when I run Flutter run. \r\nThe image is my Environment variables. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I3Vmo.png\r\n\r\nIf i create a new flutter project it works fine, this error only comes up in my existing project","title":"Flutter Run Error: Supplied javaHome must be a valid directory. You supplied: C:\\Program Files\\Java\\jdk-17.0.1 in flutter project","body":"<p>I tried to downgrade my Java SDK as there was an error with the latest version with flutter. In doing so, I have created this issue, which I cannot fix. The issue comes up when I run Flutter run.\nThe image is my Environment variables.\n<a href=\"https://i.stack.imgur.com/I3Vmo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I3Vmo.png\" alt=\"enter image description here\" /></a></p>\n<p>If i create a new flutter project it works fine, this error only comes up in my existing project</p>\n"},{"tags":["java","class","oop","enums","refactoring"],"comments":[{"owner":{"account_id":198567,"reputation":706,"user_id":443309,"accept_rate":25,"display_name":"gkns"},"score":0,"creation_date":1642301375,"post_id":70727002,"comment_id":125033806,"body_markdown":"Thought about the possibility of using classes exclusively? i.e avoiding the Enums altogether? Also, since the flags are common to EntityA and EntityB, we can separate the flags from the Entities, only its combination needs to be kept track of, probably using a Set?\n\nAlso please note, Enums as a way to distinguish &#39;type&#39; has a C/C++ flavor to it!","body":"Thought about the possibility of using classes exclusively? i.e avoiding the Enums altogether? Also, since the flags are common to EntityA and EntityB, we can separate the flags from the Entities, only its combination needs to be kept track of, probably using a Set?  Also please note, Enums as a way to distinguish &#39;type&#39; has a C/C++ flavor to it!"},{"owner":{"account_id":7951112,"reputation":3,"user_id":6001921,"display_name":"Vivek Ranjan"},"score":0,"creation_date":1642333668,"post_id":70727002,"comment_id":125038285,"body_markdown":"Main concern is this Enum is already getting used as Enum at many places. Separating out the entities and enums completely, is definitely a solution. But would it scale, with adding more similar entities and enums?","body":"Main concern is this Enum is already getting used as Enum at many places. Separating out the entities and enums completely, is definitely a solution. But would it scale, with adding more similar entities and enums?"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642304394,"creation_date":1642304394,"answer_id":70727198,"question_id":70727002,"body_markdown":"Hard to offer specific advice without more context, but it&#39;s worth noting that enums can share interfaces, so you can try something like this:\r\n\r\n    interface Base {\r\n        String name();\r\n    }\r\n    \r\n    interface A extends Base {}\r\n    interface B extends Base {}\r\n    \r\n    public enum EnumBase implements A, B {\r\n        READ_ONLY,\r\n        READ_WRITE\r\n    }\r\n    \r\n    public enum EnumA implements A {\r\n        PERMISSION_DENIED,\r\n        COMMENT_ENABLED\r\n    }\r\n    \r\n    public enum EnumB implements B {\r\n        LIKE_ENABLED\r\n    }\r\n    \r\n    public abstract class EntityBase&lt;F extends Base&gt; {\r\n        public abstract Set&lt;F&gt; getProcessedFlags();\r\n    }\r\n    \r\n    public class EntityA extends EntityBase&lt;A&gt; {\r\n        @Override\r\n        public Set&lt;A&gt; getProcessedFlags() { ... }\r\n    }\r\n    \r\n    public class EntityB extends EntityBase&lt;B&gt; {\r\n        @Override\r\n        public Set&lt;B&gt; getProcessedFlags() { ... }\r\n    }","title":"Best way to refactor this code, if enums are not extensible","body":"<p>Hard to offer specific advice without more context, but it's worth noting that enums can share interfaces, so you can try something like this:</p>\n<pre><code>interface Base {\n    String name();\n}\n\ninterface A extends Base {}\ninterface B extends Base {}\n\npublic enum EnumBase implements A, B {\n    READ_ONLY,\n    READ_WRITE\n}\n\npublic enum EnumA implements A {\n    PERMISSION_DENIED,\n    COMMENT_ENABLED\n}\n\npublic enum EnumB implements B {\n    LIKE_ENABLED\n}\n\npublic abstract class EntityBase&lt;F extends Base&gt; {\n    public abstract Set&lt;F&gt; getProcessedFlags();\n}\n\npublic class EntityA extends EntityBase&lt;A&gt; {\n    @Override\n    public Set&lt;A&gt; getProcessedFlags() { ... }\n}\n\npublic class EntityB extends EntityBase&lt;B&gt; {\n    @Override\n    public Set&lt;B&gt; getProcessedFlags() { ... }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642336497,"creation_date":1642336497,"answer_id":70730088,"question_id":70727002,"body_markdown":"A different solution would be to use one enum for all PermissionsFlags and then add an attribute that allows you to check if the PermissionFlag can be used with this class.\r\n\r\n    public enum PermissionFlag {\r\n        READ_ONLY,\r\n        READ_WRITE,\r\n        PERMISSION_DENIED(EntityA.class),\r\n        COMMENT_ENABLED(EntityA.class),\r\n        LIKE_ENABLED(EntityB.class);\r\n    \r\n        private final Class&lt;?&gt; useForClass;\r\n    \r\n        PermissionFlag() {\r\n            this(null);\r\n        }\r\n    \r\n        PermissionFlag(Class&lt;?&gt; useForClass) {\r\n            this.useForClass = useForClass;\r\n        }\r\n    \r\n        /**\r\n         * Check if given class can be used for this PermissionFlag.\r\n         */\r\n        public boolean useForClass(Class&lt;?&gt; clazz) {\r\n            return useForClass == null || useForClass.equals(clazz);\r\n        }\r\n    \r\n        /**\r\n         * Returns a Stream consisting of all the PermissionFlags that can be used with the given class.\r\n         */\r\n        public static Stream&lt;PermissionFlag&gt; getPermissionsFlags(Class&lt;?&gt; clazz){\r\n            return Stream.of(values()).filter(flag -&gt; flag.useForClass(clazz));\r\n        }\r\n    }\r\n\r\nAnd then you can use `getPermissionFlags(EntityA.class).collect(Collectors.toList())` to get a List of all the Permissions flag for `EntityA`.","title":"Best way to refactor this code, if enums are not extensible","body":"<p>A different solution would be to use one enum for all PermissionsFlags and then add an attribute that allows you to check if the PermissionFlag can be used with this class.</p>\n<pre><code>public enum PermissionFlag {\n    READ_ONLY,\n    READ_WRITE,\n    PERMISSION_DENIED(EntityA.class),\n    COMMENT_ENABLED(EntityA.class),\n    LIKE_ENABLED(EntityB.class);\n\n    private final Class&lt;?&gt; useForClass;\n\n    PermissionFlag() {\n        this(null);\n    }\n\n    PermissionFlag(Class&lt;?&gt; useForClass) {\n        this.useForClass = useForClass;\n    }\n\n    /**\n     * Check if given class can be used for this PermissionFlag.\n     */\n    public boolean useForClass(Class&lt;?&gt; clazz) {\n        return useForClass == null || useForClass.equals(clazz);\n    }\n\n    /**\n     * Returns a Stream consisting of all the PermissionFlags that can be used with the given class.\n     */\n    public static Stream&lt;PermissionFlag&gt; getPermissionsFlags(Class&lt;?&gt; clazz){\n        return Stream.of(values()).filter(flag -&gt; flag.useForClass(clazz));\n    }\n}\n</code></pre>\n<p>And then you can use <code>getPermissionFlags(EntityA.class).collect(Collectors.toList())</code> to get a List of all the Permissions flag for <code>EntityA</code>.</p>\n"}],"owner":{"account_id":7951112,"reputation":3,"user_id":6001921,"display_name":"Vivek Ranjan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70727198,"answer_count":2,"score":0,"last_activity_date":1642336497,"creation_date":1642300844,"question_id":70727002,"body_markdown":"Consider the following class that represent a entity and has method which return data of type **EnumA**\r\n\r\n**EntityA** class:\r\n```\r\npublic class EntityA\r\n{   \r\n    public Set&lt;EnumA&gt; getProcessedFlags() { ... }\r\n}\r\n```\r\n\r\n**EnumA**:\r\n```\r\npublic enum EnumA {\r\n  READ_ONLY,\r\n  READ_WRITE,\r\n  PERMISSION_DENIED,\r\n  COMMENT_ENABLED\r\n}\r\n```\r\n\r\nNow I got the requirement to add one more **EntityB**, which is similar to **EntityA**, but logically different. (Same method signatures but different implementation:\r\n\r\nThere is one more thing, the return value which was **EnumA** in **EntityA**, is **EnumB for **EntityB**.\r\n\r\n**EnumA** and **EnumB** are two different set, which represent a collection of logically same flags, but have some exclusive values in each of them:\r\n\r\n**EnumB**\r\n```\r\npublic enum EnumB {\r\n  READ_ONLY,\r\n  READ_WRITE,\r\n  LIKE_ENABLED\r\n}\r\n```\r\n\r\nSo To refactor this, I made a abstract base class - **EntityBase**, and made both **EntityA** and **EntityB**, child of this base class.\r\n\r\nProblem is **enums are not extensible**, Is there a good way to refactor this? \r\n\r\nI thought of creating class structure something like this below:\r\n\r\n```\r\npublic enum EnumBase {}\r\n\r\npublic enum EnumA extends EnumBase {}\r\n\r\npublic enum EnumB extends EnumBase {}\r\n\r\npublic abstract class EntityBase\r\n{\r\n  public Set&lt;? extends EnumBase&gt; getProcessedFlags();\r\n}\r\n\r\npublic class EntityA extends EntityBase\r\n{   \r\n    public Set&lt;EnumA&gt; getProcessedFlags() { ... }\r\n}\r\n\r\npublic class EntityB extends EntityBase\r\n{   \r\n    public Set&lt;EnumB&gt; getProcessedFlags() { ... }\r\n}\r\n```\r\n\r\nSince Enums in java are not extensible, Can we have some better design to maintain this EntityBase class?\r\n\r\n","title":"Best way to refactor this code, if enums are not extensible","body":"<p>Consider the following class that represent a entity and has method which return data of type <strong>EnumA</strong></p>\n<p><strong>EntityA</strong> class:</p>\n<pre><code>public class EntityA\n{   \n    public Set&lt;EnumA&gt; getProcessedFlags() { ... }\n}\n</code></pre>\n<p><strong>EnumA</strong>:</p>\n<pre><code>public enum EnumA {\n  READ_ONLY,\n  READ_WRITE,\n  PERMISSION_DENIED,\n  COMMENT_ENABLED\n}\n</code></pre>\n<p>Now I got the requirement to add one more <strong>EntityB</strong>, which is similar to <strong>EntityA</strong>, but logically different. (Same method signatures but different implementation:</p>\n<p>There is one more thing, the return value which was <strong>EnumA</strong> in <strong>EntityA</strong>, is **EnumB for <strong>EntityB</strong>.</p>\n<p><strong>EnumA</strong> and <strong>EnumB</strong> are two different set, which represent a collection of logically same flags, but have some exclusive values in each of them:</p>\n<p><strong>EnumB</strong></p>\n<pre><code>public enum EnumB {\n  READ_ONLY,\n  READ_WRITE,\n  LIKE_ENABLED\n}\n</code></pre>\n<p>So To refactor this, I made a abstract base class - <strong>EntityBase</strong>, and made both <strong>EntityA</strong> and <strong>EntityB</strong>, child of this base class.</p>\n<p>Problem is <strong>enums are not extensible</strong>, Is there a good way to refactor this?</p>\n<p>I thought of creating class structure something like this below:</p>\n<pre><code>public enum EnumBase {}\n\npublic enum EnumA extends EnumBase {}\n\npublic enum EnumB extends EnumBase {}\n\npublic abstract class EntityBase\n{\n  public Set&lt;? extends EnumBase&gt; getProcessedFlags();\n}\n\npublic class EntityA extends EntityBase\n{   \n    public Set&lt;EnumA&gt; getProcessedFlags() { ... }\n}\n\npublic class EntityB extends EntityBase\n{   \n    public Set&lt;EnumB&gt; getProcessedFlags() { ... }\n}\n</code></pre>\n<p>Since Enums in java are not extensible, Can we have some better design to maintain this EntityBase class?</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":2100662,"reputation":6309,"user_id":1868384,"accept_rate":71,"display_name":"Stefan de Bruijn"},"score":0,"creation_date":1372665579,"post_id":17399763,"comment_id":25263921,"body_markdown":"I think so, as it is also a type while doing CREATE TABLE, but easy to try out and change it right?","body":"I think so, as it is also a type while doing CREATE TABLE, but easy to try out and change it right?"},{"owner":{"account_id":2100662,"reputation":6309,"user_id":1868384,"accept_rate":71,"display_name":"Stefan de Bruijn"},"score":1,"creation_date":1372665663,"post_id":17399763,"comment_id":25263959,"body_markdown":"btw, i think quoting it would solve it.","body":"btw, i think quoting it would solve it."}],"answers":[{"tags":[],"owner":{"account_id":1403075,"reputation":12629,"user_id":1331488,"accept_rate":62,"display_name":"Seraphim&#39;s"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1372667167,"creation_date":1372665597,"answer_id":17399781,"question_id":17399763,"body_markdown":"Yes it seems to be a reserved word.\r\n\r\nlook at: http://www.sqlite.org/lang_datefunc.html\r\n\r\n\r\n     date(timestring, modifier, modifier, ...) \r\n\r\nIt&#39;s strange to have a cursors form DELETE statement. Try to split the operation in \r\n\r\n    SELECT * FROM cases WHERE date &lt;= date(&#39;now&#39;,&#39;-1 day&#39;)\r\n\r\nthen execute your checks\r\n    \r\n\r\n    SQLiteDatabase db = this.getWritableDatabase(); \r\n    Cursor cursor = db.rawQuery(query, null);\r\n    boolean found = cursor.moveToFirst(); \r\n    if(found) {\r\n        int result = cursor.getCount();\r\n        Log.w(&quot;DeleteOldCases: &quot;, &quot;Result: &quot; + Integer.toString(result));\r\n        db.close();\r\n    }\r\n\r\n\r\nand then execute the DELETE part\r\n\r\n    DELETE FROM cases WHERE date &lt;= date(&#39;now&#39;,&#39;-1 day&#39;)","title":"SQLite query - date reserved word?","body":"<p>Yes it seems to be a reserved word.</p>\n\n<p>look at: <a href=\"http://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow\">http://www.sqlite.org/lang_datefunc.html</a></p>\n\n<pre><code> date(timestring, modifier, modifier, ...) \n</code></pre>\n\n<p>It's strange to have a cursors form DELETE statement. Try to split the operation in </p>\n\n<pre><code>SELECT * FROM cases WHERE date &lt;= date('now','-1 day')\n</code></pre>\n\n<p>then execute your checks</p>\n\n<pre><code>SQLiteDatabase db = this.getWritableDatabase(); \nCursor cursor = db.rawQuery(query, null);\nboolean found = cursor.moveToFirst(); \nif(found) {\n    int result = cursor.getCount();\n    Log.w(\"DeleteOldCases: \", \"Result: \" + Integer.toString(result));\n    db.close();\n}\n</code></pre>\n\n<p>and then execute the DELETE part</p>\n\n<pre><code>DELETE FROM cases WHERE date &lt;= date('now','-1 day')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642336326,"creation_date":1642336326,"answer_id":70730062,"question_id":17399763,"body_markdown":"This question is quite old but it deserves a proper answer.&lt;br/&gt;\r\n\r\nNo, `date` is **not** a reserved word.\r\n\r\nThe problem with your code is that you are using the method [`rawQuery()`][1] to delete from the table, which is not the way to do it.&lt;br/&gt; \r\n`rawQuery()` should be used to return rows from the table in the form of a `Cursor` object.&lt;br/&gt;\r\nSince your sql statement does not return any rows the method `moveToFirst()` returns `false`.&lt;br/&gt; \r\n\r\nWhat you should use is the method [`delete()`][2] which returns the number of deleted rows:\r\n\r\n    int result = db.delete(&quot;cases&quot;, &quot;date &lt;= date(&#39;now&#39;, &#39;-1 day&#39;)&quot;, null);\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#rawQuery(java.lang.String,%20java.lang.String[],%20android.os.CancellationSignal)\r\n  [2]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#delete(java.lang.String,%20java.lang.String,%20java.lang.String[])","title":"SQLite query - date reserved word?","body":"<p>This question is quite old but it deserves a proper answer.<br/></p>\n<p>No, <code>date</code> is <strong>not</strong> a reserved word.</p>\n<p>The problem with your code is that you are using the method <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#rawQuery(java.lang.String,%20java.lang.String%5B%5D,%20android.os.CancellationSignal)\" rel=\"nofollow noreferrer\"><code>rawQuery()</code></a> to delete from the table, which is not the way to do it.<br/>\n<code>rawQuery()</code> should be used to return rows from the table in the form of a <code>Cursor</code> object.<br/>\nSince your sql statement does not return any rows the method <code>moveToFirst()</code> returns <code>false</code>.<br/></p>\n<p>What you should use is the method <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#delete(java.lang.String,%20java.lang.String,%20java.lang.String%5B%5D)\" rel=\"nofollow noreferrer\"><code>delete()</code></a> which returns the number of deleted rows:</p>\n<pre><code>int result = db.delete(&quot;cases&quot;, &quot;date &lt;= date('now', '-1 day')&quot;, null);\n</code></pre>\n"}],"owner":{"account_id":444012,"reputation":8881,"user_id":835585,"accept_rate":66,"display_name":"Tobias Moe Thorstensen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":17399781,"answer_count":2,"score":1,"last_activity_date":1642336385,"creation_date":1372665488,"question_id":17399763,"body_markdown":"Am just curious, is `date` a reserved word i `SQLite`? I have a column which is named date, and trying to run this query:\r\n\r\n    DELETE FROM cases WHERE date &lt;= date(&#39;now&#39;,&#39;-1 day&#39;)\r\n\r\nBy doing this:\r\n\r\n    String query = &quot;DELETE FROM cases WHERE date &lt;= date(&#39;now&#39;,&#39;-1 day&#39;)&quot;;\r\n    \t\t\r\n    \t\tSQLiteDatabase db = this.getWritableDatabase(); \r\n    \t\t\r\n    \t\tCursor cursor = db.rawQuery(query, null);\r\n    \t\tboolean found = cursor.moveToFirst(); \r\n    \t\tif(found) {\r\n    \t\t\tint result = cursor.getCount();\r\n    \t\t\tLog.w(&quot;DeleteOldCases: &quot;, &quot;Result: &quot; + Integer.toString(result));\r\n    \t\t\tdb.close();\r\n    \t\t}\r\n\r\nBut the cursor just gives me a false back, when calling `moveToFirst`. But in my database there are actually rows that are older than one day. Can anybody explain whats wrong here? \r\n\r\nThanks!","title":"SQLite query - date reserved word?","body":"<p>Am just curious, is <code>date</code> a reserved word i <code>SQLite</code>? I have a column which is named date, and trying to run this query:</p>\n\n<pre><code>DELETE FROM cases WHERE date &lt;= date('now','-1 day')\n</code></pre>\n\n<p>By doing this:</p>\n\n<pre><code>String query = \"DELETE FROM cases WHERE date &lt;= date('now','-1 day')\";\n\n        SQLiteDatabase db = this.getWritableDatabase(); \n\n        Cursor cursor = db.rawQuery(query, null);\n        boolean found = cursor.moveToFirst(); \n        if(found) {\n            int result = cursor.getCount();\n            Log.w(\"DeleteOldCases: \", \"Result: \" + Integer.toString(result));\n            db.close();\n        }\n</code></pre>\n\n<p>But the cursor just gives me a false back, when calling <code>moveToFirst</code>. But in my database there are actually rows that are older than one day. Can anybody explain whats wrong here? </p>\n\n<p>Thanks!</p>\n"},{"tags":["java","gradle","intellij-idea","java-8","java-11"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":1,"creation_date":1638160450,"post_id":70149752,"comment_id":124005162,"body_markdown":"You need one defined in &quot;Project Structure -&gt; Project setting &quot;","body":"You need one defined in &quot;Project Structure -&gt; Project setting &quot;"}],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638161560,"creation_date":1638161560,"answer_id":70149890,"question_id":70149752,"body_markdown":"1 - Is for your OS and terminal, nothing common with the project \r\n\r\n2 - Is the JDK for running Gradle. For Gradle daemon itself, not for the project \r\n\r\n3 - Is the project&#39;s bytecode version which could be overwritten in module. \r\n\r\n4 - Is the Runtime environment for the IDE itself. \r\n\r\nSo, you need to edit **Project Structure &gt; Project setting &gt; Project &gt; Language level** See https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk","title":"How to set JRE or JDK to Java 11 for IntelliJ when I get error &quot;compiled by a more recent version of the Java Runtime (class file version 55.0)...&quot;","body":"<p>1 - Is for your OS and terminal, nothing common with the project</p>\n<p>2 - Is the JDK for running Gradle. For Gradle daemon itself, not for the project</p>\n<p>3 - Is the project's bytecode version which could be overwritten in module.</p>\n<p>4 - Is the Runtime environment for the IDE itself.</p>\n<p>So, you need to edit <strong>Project Structure &gt; Project setting &gt; Project &gt; Language level</strong> See <a href=\"https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk</a></p>\n"},{"tags":[],"owner":{"account_id":23955982,"reputation":1,"user_id":17946864,"display_name":"gwzd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642335840,"creation_date":1642335840,"answer_id":70730007,"question_id":70149752,"body_markdown":" 1. [Edit Configurations...] or [Modify Run Configuration...] menu to open the &quot;Run/Debug Configurations&quot; dialog.\r\n 2. Select the runtime version from the [JRE:] drop-down menu.","title":"How to set JRE or JDK to Java 11 for IntelliJ when I get error &quot;compiled by a more recent version of the Java Runtime (class file version 55.0)...&quot;","body":"<ol>\n<li>[Edit Configurations...] or [Modify Run Configuration...] menu to open the &quot;Run/Debug Configurations&quot; dialog.</li>\n<li>Select the runtime version from the [JRE:] drop-down menu.</li>\n</ol>\n"}],"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4116,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70149890,"answer_count":2,"score":4,"last_activity_date":1642335840,"creation_date":1638160104,"question_id":70149752,"body_markdown":"I try to compile https://github.com/CuriousNikhil/k5-compose in IntelliJ, I got the below error\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=61326:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/tools.jar:/Users/elisha.lye/Development/experiment/k5-compose/build/classes/kotlin/main:/Users/elisha.lye/Development/experiment/k5-compose/k5-compose/build/classes/kotlin/main:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.5.21/6b3de2a43405a65502728047db37a98a0c7e72f0/kotlin-stdlib-jdk8-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.5.21/f059658740a4b3a3461aba9681457615332bae1c/kotlin-stdlib-jdk7-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.5.21/2f537cad7e9eeb9da73738c8812e1e4cf9b62e4e/kotlin-stdlib-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.desktop/desktop-jvm/1.0.0-alpha3/7d2ec16f4e057de47d41ffc5c8416f9f85aeab3e/desktop-jvm-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.5.21/cc8bf3586fd2ebcf234058b9440bb406e62dfacb/kotlin-stdlib-common-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-desktop/1.0.0-alpha3/60d4a46d2ee31e82ab61342887203b23aee0ba83/material-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.foundation/foundation-desktop/1.0.0-alpha3/29c590b69d13ec16352497848d1bf05da1de062e/foundation-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-desktop/1.0.0-alpha3/7f33f2592490b6d23494c0842d6f15ac592f9bb7/ui-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-tooling-preview-desktop/1.0.0-alpha3/4676c56ea7defd68facfab054079ac1e76aba57f/ui-tooling-preview-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.runtime/runtime-desktop/1.0.0-alpha3/481c6e0d45e192d4f02f993e049262e0668f6018/runtime-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-swing/1.5.0/f9702179f0e36a0541ffe77a7a62596c4fc6ad83/kotlinx-coroutines-swing-1.5.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation/1.2.0/57136ff68ee784c6e19db34ed4a175338fadfde1/annotation-1.2.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-ripple-desktop/1.0.0-alpha3/ffc54fa1f9c6e164d6ccdd53f7411bd80ccbce6c/material-ripple-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-icons-core-desktop/1.0.0-alpha3/3e869bc14a82c27647e3719579d6acb517d2fc2a/material-icons-core-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.animation/animation-core-desktop/1.0.0-alpha3/ec648418e6980b80f376f2b0455d5e2ba74f0445/animation-core-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-text-desktop/1.0.0-alpha3/c1706e1e249c65fe08a672f3ab8f442ee864cf59/ui-text-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.animation/animation-desktop/1.0.0-alpha3/eeff15e8d42d2fab8e6fb4eb0356ae397070aa49/animation-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.runtime/runtime-saveable-desktop/1.0.0-alpha3/1b7a4801b28b5541d87cd9ae560571a77cc94dd/runtime-saveable-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-graphics-desktop/1.0.0-alpha3/f3b1bfc01b7316e6d5af522b1025fe09f7fff137/ui-graphics-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-unit-desktop/1.0.0-alpha3/5cefe80c330e154436abdb12825a828229ed950f/ui-unit-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-geometry-desktop/1.0.0-alpha3/261a169b4e2816397d8c4e22e63a2d590f99210a/ui-geometry-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core-jvm/1.5.0/d8cebccdcddd029022aa8646a5a953ff88b13ac8/kotlinx-coroutines-core-jvm-1.5.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.skiko/skiko-jvm/0.3.9/8b3108a3fb80baa30163d20d8176f108d895b44f/skiko-jvm-0.3.9.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.foundation/foundation-layout-desktop/1.0.0-alpha3/878f19bd721b99f677e959d96595573f8198eb1c/foundation-layout-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.skiko/skiko-jvm-runtime-macos-x64/0.3.9/7dd5c3ab33897ea23d4e46251a7d04515755d0dd/skiko-jvm-runtime-macos-x64-0.3.9.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-util-desktop/1.0.0-alpha3/6de31edde97babd7339e67bb1b82ebff1a805e9c/ui-util-desktop-1.0.0-alpha3.jar MainKt\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: MainKt has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\r\n```\r\n\r\nThis is clearly because it needs Java 11, and it got compiled in Java 8.\r\n\r\nHowever, when I check all places I see, they are all set to Java 11. The below is what I have checked\r\n\r\n\r\n### 1. In the Terminal environment\r\n\r\n```\r\n java -version\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20 LTS\r\nOpenJDK Runtime Environment Zulu11.50+19-CA (build 11.0.12+7-LTS)\r\nOpenJDK 64-Bit Server VM Zulu11.50+19-CA (build 11.0.12+7-LTS, mixed mode)\r\nelisha.lye@C02FF0VFQ05N k5-compose % \r\n```\r\n\r\n### 2. In the Gradle setting\r\n\r\n[![enter image description here][1]][1]\r\n\r\n### 3. In the Java Compiler\r\n\r\n[![enter image description here][2]][2]\r\n\r\n### 4. In the JRE Setting\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhere do I miss setting my Java Run Time?\r\n\r\n  [1]: https://i.stack.imgur.com/LBB4K.png\r\n  [2]: https://i.stack.imgur.com/Zo1id.png\r\n  [3]: https://i.stack.imgur.com/b4E3B.png","title":"How to set JRE or JDK to Java 11 for IntelliJ when I get error &quot;compiled by a more recent version of the Java Runtime (class file version 55.0)...&quot;","body":"<p>I try to compile <a href=\"https://github.com/CuriousNikhil/k5-compose\" rel=\"nofollow noreferrer\">https://github.com/CuriousNikhil/k5-compose</a> in IntelliJ, I got the below error</p>\n<pre><code>/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=61326:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/tools.jar:/Users/elisha.lye/Development/experiment/k5-compose/build/classes/kotlin/main:/Users/elisha.lye/Development/experiment/k5-compose/k5-compose/build/classes/kotlin/main:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.5.21/6b3de2a43405a65502728047db37a98a0c7e72f0/kotlin-stdlib-jdk8-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.5.21/f059658740a4b3a3461aba9681457615332bae1c/kotlin-stdlib-jdk7-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.5.21/2f537cad7e9eeb9da73738c8812e1e4cf9b62e4e/kotlin-stdlib-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.desktop/desktop-jvm/1.0.0-alpha3/7d2ec16f4e057de47d41ffc5c8416f9f85aeab3e/desktop-jvm-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.5.21/cc8bf3586fd2ebcf234058b9440bb406e62dfacb/kotlin-stdlib-common-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-desktop/1.0.0-alpha3/60d4a46d2ee31e82ab61342887203b23aee0ba83/material-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.foundation/foundation-desktop/1.0.0-alpha3/29c590b69d13ec16352497848d1bf05da1de062e/foundation-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-desktop/1.0.0-alpha3/7f33f2592490b6d23494c0842d6f15ac592f9bb7/ui-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-tooling-preview-desktop/1.0.0-alpha3/4676c56ea7defd68facfab054079ac1e76aba57f/ui-tooling-preview-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.runtime/runtime-desktop/1.0.0-alpha3/481c6e0d45e192d4f02f993e049262e0668f6018/runtime-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-swing/1.5.0/f9702179f0e36a0541ffe77a7a62596c4fc6ad83/kotlinx-coroutines-swing-1.5.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation/1.2.0/57136ff68ee784c6e19db34ed4a175338fadfde1/annotation-1.2.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-ripple-desktop/1.0.0-alpha3/ffc54fa1f9c6e164d6ccdd53f7411bd80ccbce6c/material-ripple-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-icons-core-desktop/1.0.0-alpha3/3e869bc14a82c27647e3719579d6acb517d2fc2a/material-icons-core-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.animation/animation-core-desktop/1.0.0-alpha3/ec648418e6980b80f376f2b0455d5e2ba74f0445/animation-core-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-text-desktop/1.0.0-alpha3/c1706e1e249c65fe08a672f3ab8f442ee864cf59/ui-text-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.animation/animation-desktop/1.0.0-alpha3/eeff15e8d42d2fab8e6fb4eb0356ae397070aa49/animation-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.runtime/runtime-saveable-desktop/1.0.0-alpha3/1b7a4801b28b5541d87cd9ae560571a77cc94dd/runtime-saveable-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-graphics-desktop/1.0.0-alpha3/f3b1bfc01b7316e6d5af522b1025fe09f7fff137/ui-graphics-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-unit-desktop/1.0.0-alpha3/5cefe80c330e154436abdb12825a828229ed950f/ui-unit-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-geometry-desktop/1.0.0-alpha3/261a169b4e2816397d8c4e22e63a2d590f99210a/ui-geometry-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core-jvm/1.5.0/d8cebccdcddd029022aa8646a5a953ff88b13ac8/kotlinx-coroutines-core-jvm-1.5.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.skiko/skiko-jvm/0.3.9/8b3108a3fb80baa30163d20d8176f108d895b44f/skiko-jvm-0.3.9.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.foundation/foundation-layout-desktop/1.0.0-alpha3/878f19bd721b99f677e959d96595573f8198eb1c/foundation-layout-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.skiko/skiko-jvm-runtime-macos-x64/0.3.9/7dd5c3ab33897ea23d4e46251a7d04515755d0dd/skiko-jvm-runtime-macos-x64-0.3.9.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-util-desktop/1.0.0-alpha3/6de31edde97babd7339e67bb1b82ebff1a805e9c/ui-util-desktop-1.0.0-alpha3.jar MainKt\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: MainKt has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\n</code></pre>\n<p>This is clearly because it needs Java 11, and it got compiled in Java 8.</p>\n<p>However, when I check all places I see, they are all set to Java 11. The below is what I have checked</p>\n<h3>1. In the Terminal environment</h3>\n<pre><code> java -version\nopenjdk version &quot;11.0.12&quot; 2021-07-20 LTS\nOpenJDK Runtime Environment Zulu11.50+19-CA (build 11.0.12+7-LTS)\nOpenJDK 64-Bit Server VM Zulu11.50+19-CA (build 11.0.12+7-LTS, mixed mode)\nelisha.lye@C02FF0VFQ05N k5-compose % \n</code></pre>\n<h3>2. In the Gradle setting</h3>\n<p><a href=\"https://i.stack.imgur.com/LBB4K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LBB4K.png\" alt=\"enter image description here\" /></a></p>\n<h3>3. In the Java Compiler</h3>\n<p><a href=\"https://i.stack.imgur.com/Zo1id.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zo1id.png\" alt=\"enter image description here\" /></a></p>\n<h3>4. In the JRE Setting</h3>\n<p><a href=\"https://i.stack.imgur.com/b4E3B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4E3B.png\" alt=\"enter image description here\" /></a></p>\n<p>Where do I miss setting my Java Run Time?</p>\n"},{"tags":["java","spring-boot","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642335191,"creation_date":1642335191,"answer_id":70729928,"question_id":70729181,"body_markdown":"try replacing: \r\n\r\n    @ContextConfiguration(classes = {MyService.class})\r\n    @EnableMongoRepositories(&quot;com.exmaple.path.to.mongorepos&quot;)\r\n\r\nto:\r\n\r\n    @Import({MyService.class})","title":"How to use MongoRepository in test?","body":"<p>try replacing:</p>\n<pre><code>@ContextConfiguration(classes = {MyService.class})\n@EnableMongoRepositories(&quot;com.exmaple.path.to.mongorepos&quot;)\n</code></pre>\n<p>to:</p>\n<pre><code>@Import({MyService.class})\n</code></pre>\n"}],"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642335191,"creation_date":1642328789,"question_id":70729181,"body_markdown":"I want to use a `MongoRepository` in a `@DataMongoTest`. I can&#39;t add it in `@ContextConfiguration` since it&#39;s an interface.\r\n\r\nI ended up doing the following:\r\n\r\n    @DataMongoTest\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes = {MyService.class})\r\n    @EnableMongoRepositories(&quot;com.exmaple.path.to.mongorepos&quot;)\r\n\r\nwhich works, but I don&#39;t like the fact that I need to set this String value of the base package. Interestingly, `@EnableMongoRepositories` alone doesn&#39;t work.\r\n\r\nIs there another method to instantiate a `MongoRepository` in a unit test?","title":"How to use MongoRepository in test?","body":"<p>I want to use a <code>MongoRepository</code> in a <code>@DataMongoTest</code>. I can't add it in <code>@ContextConfiguration</code> since it's an interface.</p>\n<p>I ended up doing the following:</p>\n<pre><code>@DataMongoTest\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {MyService.class})\n@EnableMongoRepositories(&quot;com.exmaple.path.to.mongorepos&quot;)\n</code></pre>\n<p>which works, but I don't like the fact that I need to set this String value of the base package. Interestingly, <code>@EnableMongoRepositories</code> alone doesn't work.</p>\n<p>Is there another method to instantiate a <code>MongoRepository</code> in a unit test?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":9880152,"reputation":915,"user_id":7316521,"display_name":"A_C"},"score":0,"creation_date":1580286082,"post_id":59962814,"comment_id":106043050,"body_markdown":"Your question no 1 is not clear. What are you asking?","body":"Your question no 1 is not clear. What are you asking?"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1580287399,"post_id":59962814,"comment_id":106043661,"body_markdown":"2. because you can be scheduling multiple tasks in that executor. Also, because that&#39;s how this particular schedule is defined.","body":"2. because you can be scheduling multiple tasks in that executor. Also, because that&#39;s how this particular schedule is defined."},{"owner":{"account_id":17635444,"reputation":33,"user_id":12798800,"display_name":"Dmitry_Bl"},"score":0,"creation_date":1580291404,"post_id":59962814,"comment_id":106045865,"body_markdown":"@AnkurChrungoo, I mean is the problem in &quot;sleep&quot; method, or just like documentation says threads won&#39;t go cuncurrent? Now I got the answer, thanks","body":"@AnkurChrungoo, I mean is the problem in &quot;sleep&quot; method, or just like documentation says threads won&#39;t go cuncurrent? Now I got the answer, thanks"}],"answers":[{"tags":[],"owner":{"account_id":17400617,"reputation":3680,"user_id":12609572,"display_name":"ardenit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1580286559,"creation_date":1580286559,"answer_id":59963122,"question_id":59962814,"body_markdown":"1. The answer is in the quote you provided. Executor waits until the task finishes before launching this task again. It prevents concurrent execution of many instances of one task - in most cases this behaviour is needed. In your case Executor starts a task, then waits 1 second of delay, then waits 3 more seconds until current task is done and only then starts this task again (It does not necessarily start new thread, it may start the task in the same thread).\r\n\r\n2. Your code does not use thread pool at all - you can get exactly same result using single thread executor.\r\n\r\n3. If you want to get this behaviour:\r\n    &gt; I expected that every 1 second scheduledExecutorService will try to take new thread \r\n    from the pool and start it.\r\n    \r\n    Then you may write is like this:\r\n    ``` java\r\nScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(5);\r\n\r\n    Runnable command = () -&gt; {\r\n        System.out.println(&quot;Yo&quot;);\r\n        try {\r\n            Thread.sleep(4000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    };\r\n\r\n    Runnable commandRunner = () -&gt; {\r\n        scheduledExecutorService.schedule(command, 0, TimeUnit.SECONDS);\r\n    }\r\n\r\n    scheduledExecutorService.scheduleAtFixedRate(commandRunner, 0, 1, TimeUnit.SECONDS);\r\n    ```\r\n    (It&#39;s better to create a single-threaded `ScheduledExecutorService` that runs `commandRunner` and create a thread pool based `ExecutorService` that is used by `commandRunner` to execute `command`)","title":"Java scheduleAtFixedRate + Thread.sleep","body":"<ol>\n<li><p>The answer is in the quote you provided. Executor waits until the task finishes before launching this task again. It prevents concurrent execution of many instances of one task - in most cases this behaviour is needed. In your case Executor starts a task, then waits 1 second of delay, then waits 3 more seconds until current task is done and only then starts this task again (It does not necessarily start new thread, it may start the task in the same thread).</p></li>\n<li><p>Your code does not use thread pool at all - you can get exactly same result using single thread executor.</p></li>\n<li><p>If you want to get this behaviour:</p>\n\n<blockquote>\n  <p>I expected that every 1 second scheduledExecutorService will try to take new thread \n  from the pool and start it.</p>\n</blockquote>\n\n<p>Then you may write is like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(5);\n\nRunnable command = () -&gt; {\n    System.out.println(\"Yo\");\n    try {\n        Thread.sleep(4000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n};\n\nRunnable commandRunner = () -&gt; {\n    scheduledExecutorService.schedule(command, 0, TimeUnit.SECONDS);\n}\n\nscheduledExecutorService.scheduleAtFixedRate(commandRunner, 0, 1, TimeUnit.SECONDS);\n</code></pre>\n\n<p>(It's better to create a single-threaded <code>ScheduledExecutorService</code> that runs <code>commandRunner</code> and create a thread pool based <code>ExecutorService</code> that is used by <code>commandRunner</code> to execute <code>command</code>)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9880152,"reputation":915,"user_id":7316521,"display_name":"A_C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580287163,"creation_date":1580286767,"answer_id":59963179,"question_id":59962814,"body_markdown":"&gt; What&#39;s the catch - Does Thread.sleep() stop all threads or nuance in\r\n&gt; this behavior - &quot;If any execution of this task takes longer than its\r\n&gt; period, then subsequent executions may start late, but will not\r\n&gt; concurrently execute&quot;?\r\n\r\n - I didn&#39;t quite understand what you mean here. But, essentially speaking, in the code that you have shared, Thread.sleep() is just making the thread execution take 4 seconds, which is longer than the set period of 1 second. Thus, subsequent threads will not execute after 1 second, but only after ~4 seconds of execution of the previous thread.\r\n\r\n&gt; If &quot;will not concurrently execute&quot; is true in this situation - why do\r\n&gt; we need this pool of several threads if every thread will start after\r\n&gt; execution of previous thread?\r\n\r\n - You may want to schedule some other type of threads (which do a different job) in the same executor, which may run in parallel to the code which you have shared. Your current code only needs 1 thread in the pool though, since you are scheduling only one job (Runnable).\r\n\r\n&gt; Is there any simple valid example of usage of scheduleAtFixedRate,\r\n&gt; where one thread starts while previous still executes?\r\n\r\n - As stated in the documentation, concurrent execution will not happen for the job that you scheduled at fixed rate (with the current code)","title":"Java scheduleAtFixedRate + Thread.sleep","body":"<blockquote>\n  <p>What's the catch - Does Thread.sleep() stop all threads or nuance in\n  this behavior - \"If any execution of this task takes longer than its\n  period, then subsequent executions may start late, but will not\n  concurrently execute\"?</p>\n</blockquote>\n\n<ul>\n<li>I didn't quite understand what you mean here. But, essentially speaking, in the code that you have shared, Thread.sleep() is just making the thread execution take 4 seconds, which is longer than the set period of 1 second. Thus, subsequent threads will not execute after 1 second, but only after ~4 seconds of execution of the previous thread.</li>\n</ul>\n\n<blockquote>\n  <p>If \"will not concurrently execute\" is true in this situation - why do\n  we need this pool of several threads if every thread will start after\n  execution of previous thread?</p>\n</blockquote>\n\n<ul>\n<li>You may want to schedule some other type of threads (which do a different job) in the same executor, which may run in parallel to the code which you have shared. Your current code only needs 1 thread in the pool though, since you are scheduling only one job (Runnable).</li>\n</ul>\n\n<blockquote>\n  <p>Is there any simple valid example of usage of scheduleAtFixedRate,\n  where one thread starts while previous still executes?</p>\n</blockquote>\n\n<ul>\n<li>As stated in the documentation, concurrent execution will not happen for the job that you scheduled at fixed rate (with the current code)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642334951,"creation_date":1642334951,"answer_id":70729899,"question_id":59962814,"body_markdown":"```\r\npublic class Poll {\r\n  ScheduledFuture&lt;?&gt; future;\r\n  static int INIT_DELAY = 1;\r\n  static int REPEAT_PERIOD = 2;\r\n  static int MAX_TRIES = 3;\r\n  int tries = 1;\r\n  \r\n  \r\n  Runnable task = () -&gt; {\r\n    System.out.print( tries + &quot;: &quot; + Thread.currentThread().getName() + &quot; &quot; );\r\n    \r\n    if ( ++tries &gt; MAX_TRIES ) {\r\n      future.cancel( false );\r\n    }\r\n  };\r\n  \r\n  \r\n  void poll() {\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\n    future = executor.scheduleAtFixedRate( task, INIT_DELAY, REPEAT_PERIOD, TimeUnit.SECONDS );\r\n    \r\n    System.out.println( &quot;Start: &quot; + tries + &quot;: &quot; + Thread.currentThread().getName() + &quot; &quot; );\r\n  \r\n    try {\r\n      future.get();\r\n      \r\n    } catch ( InterruptedException | ExecutionException e ) {\r\n      System.out.println( e.getMessage() );\r\n      \r\n    } catch ( CancellationException e ) {\r\n      System.out.println( &quot;Regular End Of Scheduled Task as Designed.&quot;);\r\n      \r\n    } finally {\r\n      executor.shutdown();\r\n      executor.shutdownNow();\r\n    }\r\n    \r\n    System.out.println( &quot;Return The Result.&quot; );\r\n  }\r\n  \r\n  \r\n  // The Driver\r\n  public static void main( String[] args ) {\r\n    new Poll().poll();\r\n  }\r\n}","title":"Java scheduleAtFixedRate + Thread.sleep","body":"<pre><code>public class Poll {\n  ScheduledFuture&lt;?&gt; future;\n  static int INIT_DELAY = 1;\n  static int REPEAT_PERIOD = 2;\n  static int MAX_TRIES = 3;\n  int tries = 1;\n  \n  \n  Runnable task = () -&gt; {\n    System.out.print( tries + &quot;: &quot; + Thread.currentThread().getName() + &quot; &quot; );\n    \n    if ( ++tries &gt; MAX_TRIES ) {\n      future.cancel( false );\n    }\n  };\n  \n  \n  void poll() {\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\n    future = executor.scheduleAtFixedRate( task, INIT_DELAY, REPEAT_PERIOD, TimeUnit.SECONDS );\n    \n    System.out.println( &quot;Start: &quot; + tries + &quot;: &quot; + Thread.currentThread().getName() + &quot; &quot; );\n  \n    try {\n      future.get();\n      \n    } catch ( InterruptedException | ExecutionException e ) {\n      System.out.println( e.getMessage() );\n      \n    } catch ( CancellationException e ) {\n      System.out.println( &quot;Regular End Of Scheduled Task as Designed.&quot;);\n      \n    } finally {\n      executor.shutdown();\n      executor.shutdownNow();\n    }\n    \n    System.out.println( &quot;Return The Result.&quot; );\n  }\n  \n  \n  // The Driver\n  public static void main( String[] args ) {\n    new Poll().poll();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":17635444,"reputation":33,"user_id":12798800,"display_name":"Dmitry_Bl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1843,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59963122,"answer_count":3,"score":3,"last_activity_date":1642334951,"creation_date":1580285311,"question_id":59962814,"body_markdown":"I&#39;m just exploring method **scheduleAtFixedRate** of class ScheduledExecutorService in Java.\r\n\r\nHere is my suspicious code:\r\n\r\n```\r\n\r\nScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(5);\r\n\r\n  Runnable command = () -&gt; {\r\n    System.out.println(&quot;Yo&quot;);\r\n    try {\r\n      Thread.sleep(4000);\r\n    } catch (InterruptedException e) {\r\n      e.printStackTrace();\r\n    }\r\n  };\r\n\r\n  scheduledExecutorService.scheduleAtFixedRate(command, 0, 1, TimeUnit.SECONDS);\r\n\r\n```\r\n\r\n\r\nI expected that every 1 second scheduledExecutorService will try to take new thread from the pool and start it.\r\n&gt;API says: &quot;scheduledExecutorService creates and executes a periodic action that becomes enabled first after the given initial delay, and subsequently with the given period. */(unimportant deleted)/* If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.&quot;\r\n\r\nResult - every new thread starts every 4 seconds.\r\n\r\nSo, the questions:  \r\n  \r\n1. What&#39;s the catch - Does Thread.sleep() stop all threads or nuance in this behavior - &quot;If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute&quot;?  \r\n \r\n2. If &quot;will not concurrently execute&quot; is true in this situation - why do we need this pool of several threads if every thread will start after execution of previous thread?  \r\n  \r\n3. Is there any simple valid example of usage of scheduleAtFixedRate, where one thread starts while previous still executes?","title":"Java scheduleAtFixedRate + Thread.sleep","body":"<p>I'm just exploring method <strong>scheduleAtFixedRate</strong> of class ScheduledExecutorService in Java.</p>\n\n<p>Here is my suspicious code:</p>\n\n<pre><code>\nScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(5);\n\n  Runnable command = () -&gt; {\n    System.out.println(\"Yo\");\n    try {\n      Thread.sleep(4000);\n    } catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n  };\n\n  scheduledExecutorService.scheduleAtFixedRate(command, 0, 1, TimeUnit.SECONDS);\n\n</code></pre>\n\n<p>I expected that every 1 second scheduledExecutorService will try to take new thread from the pool and start it.</p>\n\n<blockquote>\n  <p>API says: \"scheduledExecutorService creates and executes a periodic action that becomes enabled first after the given initial delay, and subsequently with the given period. <em>/(unimportant deleted)/</em> If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.\"</p>\n</blockquote>\n\n<p>Result - every new thread starts every 4 seconds.</p>\n\n<p>So, the questions:  </p>\n\n<ol>\n<li><p>What's the catch - Does Thread.sleep() stop all threads or nuance in this behavior - \"If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute\"?  </p></li>\n<li><p>If \"will not concurrently execute\" is true in this situation - why do we need this pool of several threads if every thread will start after execution of previous thread?  </p></li>\n<li><p>Is there any simple valid example of usage of scheduleAtFixedRate, where one thread starts while previous still executes?</p></li>\n</ol>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1529670732,"post_id":50984790,"comment_id":88970521,"body_markdown":"iText 5.4.1 is very old (april 13, 2013). Why don&#39;t you work with iText 7.1.2? Also: this error is not an iText exception. It&#39;s a `java.io.IOException` that you should be able to reproduce without iText. The file is either missing or access to it isn&#39;t available (e.g. the `E:` disk isn&#39;t mounted or you don&#39;t have access).","body":"iText 5.4.1 is very old (april 13, 2013). Why don&#39;t you work with iText 7.1.2? Also: this error is not an iText exception. It&#39;s a <code>java.io.IOException</code> that you should be able to reproduce without iText. The file is either missing or access to it isn&#39;t available (e.g. the <code>E:</code> disk isn&#39;t mounted or you don&#39;t have access)."},{"owner":{"account_id":13550014,"reputation":311,"user_id":9775136,"display_name":"ELIP"},"score":0,"creation_date":1530094274,"post_id":50984790,"comment_id":89110114,"body_markdown":"Thank you for your explain I can do it","body":"Thank you for your explain I can do it"}],"owner":{"account_id":13550014,"reputation":311,"user_id":9775136,"display_name":"ELIP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642334732,"creation_date":1529659442,"question_id":50984790,"body_markdown":"This code is build and worked well After some time running this was error \r\n \r\n![enter image description here][1]\r\n\r\n       public class Ax {\r\n\t   public static void main(String[] args) {\r\n\t    try {\r\n\t      PdfReader pdfReader = new PdfReader(&quot;‪‪E:\\\\HelloWorld.pdf&quot;);\r\n\r\n\t      PdfStamper pdfStamper = new PdfStamper(pdfReader,\r\n\t            new FileOutputStream(&quot;‪‪E:\\\\HelloWorld-Stamped.pdf&quot;));\r\n\r\n\t      Image image = Image.getInstance(&quot;C:\\\\Users\\\\Oliver\\\\Desktop\\\\user_access-512.png&quot;);\r\n\r\n\t      for(int i=1; i&lt;= pdfReader.getNumberOfPages(); i++){\r\n\r\n\t          PdfContentByte content = pdfStamper.getUnderContent(i);\r\n\r\n\t          image.setAbsolutePosition(10f, 70f);\r\n\r\n\t          content.addImage(image);\r\n\t      }\r\n\r\n\t      pdfStamper.close();\r\n\r\n\t    } catch (IOException e) {\r\n\t      e.printStackTrace();\r\n\t    } catch (DocumentException e) {\r\n\t      e.printStackTrace();\r\n\t    }\r\n\t  }\r\n     }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XCzL5.png\r\n\r\nI used *itextpdf-5.4.1.jar* library \r\n\r\n***How do i should solve this issue ?***\r\n\r\n\r\n","title":"Java Itext pdf - java.io.IOException ...not found as file or resource","body":"<p>This code is build and worked well After some time running this was error </p>\n\n<p><img src=\"https://i.stack.imgur.com/XCzL5.png\" alt=\"enter image description here\"></p>\n\n<pre><code>   public class Ax {\n   public static void main(String[] args) {\n    try {\n      PdfReader pdfReader = new PdfReader(\"‪‪E:\\\\HelloWorld.pdf\");\n\n      PdfStamper pdfStamper = new PdfStamper(pdfReader,\n            new FileOutputStream(\"‪‪E:\\\\HelloWorld-Stamped.pdf\"));\n\n      Image image = Image.getInstance(\"C:\\\\Users\\\\Oliver\\\\Desktop\\\\user_access-512.png\");\n\n      for(int i=1; i&lt;= pdfReader.getNumberOfPages(); i++){\n\n          PdfContentByte content = pdfStamper.getUnderContent(i);\n\n          image.setAbsolutePosition(10f, 70f);\n\n          content.addImage(image);\n      }\n\n      pdfStamper.close();\n\n    } catch (IOException e) {\n      e.printStackTrace();\n    } catch (DocumentException e) {\n      e.printStackTrace();\n    }\n  }\n }\n</code></pre>\n\n<p>I used <em>itextpdf-5.4.1.jar</em> library </p>\n\n<p><strong><em>How do i should solve this issue ?</em></strong></p>\n"},{"tags":["java","maven","xsd","jaxb"],"owner":{"account_id":7173981,"reputation":23,"user_id":5480594,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2813,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642334637,"creation_date":1460732304,"question_id":36650558,"body_markdown":"I have 4 modules in this service I&#39;m creating. There&#39;s upload, association, read, and common. The first 3 modules each have their own wsdls that import a common xsd in the common module. I have the common generate an episode for the common xsd, but each of those modules still generate the same files, so I end up with 4 of each file that is defined in the common xsd.\r\n\r\nHere is what I have in the common pom\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;efolder-model&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;episode&gt;true&lt;/episode&gt;\r\n                            &lt;schemaDirectory&gt;src/main/resources/schemas/efolder&lt;/schemaDirectory&gt;\r\n                            &lt;schemaIncludes&gt;\r\n                                &lt;include&gt;**/*.xsd&lt;/include&gt;\r\n                            &lt;/schemaIncludes&gt;\r\n                            &lt;args&gt;\r\n\r\n                            &lt;/args&gt;\r\n                            &lt;extension&gt;true&lt;/extension&gt;\r\n                            &lt;strict&gt;false&lt;/strict&gt;\r\n                            &lt;!-- breaks with schema imports --&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nAnd here&#39;s a pom from one of the other modules (they are basically the same, just referring to different wsdls)\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;cdm-model&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;schemaDirectory&gt;${project.build.directory}/classes/schemas&lt;/schemaDirectory&gt;\r\n                            &lt;schemaIncludes&gt;\r\n                                &lt;include&gt;schemas/cdm/claim/*.xsd,/cdm/common/*.xsd,/cdm/document/*.xsd,/cdm/participant/*.xsd&lt;/include&gt;\r\n                            &lt;/schemaIncludes&gt;\r\n\r\n                            &lt;bindingDirectory&gt;${project.build.directory}/classes/schemas&lt;/bindingDirectory&gt;\r\n                            &lt;bindingIncludes&gt;\r\n                                &lt;bindingInclude&gt;/cdm/mappings.xjb,/cdm/mappings-participant-v4.xsd&lt;/bindingInclude&gt;\r\n                            &lt;/bindingIncludes&gt;\r\n                            &lt;bindings&gt;\r\n                                &lt;binding&gt;\r\n                                &lt;dependencyResource&gt;\r\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;efolder-svc-web-common&lt;/artifactId&gt;\r\n                                &lt;/dependencyResource&gt;\r\n                                &lt;/binding&gt;\r\n                            &lt;/bindings&gt;\r\n\r\n                            &lt;extension&gt;true&lt;/extension&gt;\r\n                            &lt;strict&gt;false&lt;/strict&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nI also tried\r\n\r\n                            &lt;configuration&gt;\r\n                            &lt;episodes&gt;\r\n                                &lt;episode&gt;\r\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;efolder-svc-web-common&lt;/artifactId&gt;\r\n                                &lt;/episode&gt;\r\n                            &lt;/episodes&gt;\r\n                            &lt;schemaDirectory&gt;${project.build.directory}/classes/schemas&lt;/schemaDirectory&gt;\r\n                            &lt;schemaIncludes&gt;\r\n                                &lt;include&gt;schemas/cdm/claim/*.xsd,/cdm/common/*.xsd,/cdm/document/*.xsd,/cdm/participant/*.xsd&lt;/include&gt;\r\n                            &lt;/schemaIncludes&gt;\r\n\r\n                            &lt;bindingDirectory&gt;${project.build.directory}/classes/schemas&lt;/bindingDirectory&gt;\r\n                            &lt;bindingIncludes&gt;\r\n                                &lt;bindingInclude&gt;/cdm/mappings.xjb,/cdm/mappings-participant-v4.xsd&lt;/bindingInclude&gt;\r\n                            &lt;/bindingIncludes&gt;\r\n\r\n                            &lt;extension&gt;true&lt;/extension&gt;\r\n                            &lt;strict&gt;false&lt;/strict&gt;\r\n                        &lt;/configuration&gt;\r\nBut either way, I still end up with the files generated in the generated-sources/xjc/.../efolder/service/common in each module. And in the common I also have xjc/META-INF/sun-jaxb.episode which is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot; if-exists=&quot;true&quot; version=&quot;2.1&quot;&gt;\r\n      &lt;!--\r\n    \r\n    This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.11 \r\n    See &lt;a href=&quot;http://java.sun.com/xml/jaxb&quot;&gt;http://java.sun.com/xml/jaxb&lt;/a&gt; \r\n    Any modifications to this file will be lost upon recompilation of the source schema. \r\n    Generated on: 2016.04.15 at 09:56:57 AM EDT \r\n    \r\n      --&gt;\r\n      &lt;bindings xmlns:tns=&quot;http://service.efolder.url/common&quot; if-exists=&quot;true&quot; scd=&quot;x-schema::tns&quot;&gt;\r\n        &lt;schemaBindings map=&quot;false&quot;&gt;\r\n          &lt;package name=&quot;url.efolder.service.common&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;~tns:EFolderFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.EFolderFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:VersionNotFoundFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.VersionNotFoundFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:InvalidDocTypeFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.InvalidDocTypeFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:ClaimNotFoundFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.ClaimNotFoundFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:InvalidClaimFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.InvalidClaimFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:InvalidDocCategoryFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.InvalidDocCategoryFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:SeriesNotFoundFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.SeriesNotFoundFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;~tns:eFolderFaultCategory&quot;&gt;\r\n          &lt;typesafeEnumClass ref=&quot;url.efolder.service.common.EFolderFaultCategory&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n      &lt;/bindings&gt;\r\n    &lt;/bindings&gt;\r\nAny ideas on why it&#39;s still generating? Thanks","title":"Stop JaxB from generating files in an episode using maven","body":"<p>I have 4 modules in this service I'm creating. There's upload, association, read, and common. The first 3 modules each have their own wsdls that import a common xsd in the common module. I have the common generate an episode for the common xsd, but each of those modules still generate the same files, so I end up with 4 of each file that is defined in the common xsd.</p>\n\n<p>Here is what I have in the common pom</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;efolder-model&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;episode&gt;true&lt;/episode&gt;\n                        &lt;schemaDirectory&gt;src/main/resources/schemas/efolder&lt;/schemaDirectory&gt;\n                        &lt;schemaIncludes&gt;\n                            &lt;include&gt;**/*.xsd&lt;/include&gt;\n                        &lt;/schemaIncludes&gt;\n                        &lt;args&gt;\n\n                        &lt;/args&gt;\n                        &lt;extension&gt;true&lt;/extension&gt;\n                        &lt;strict&gt;false&lt;/strict&gt;\n                        &lt;!-- breaks with schema imports --&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>And here's a pom from one of the other modules (they are basically the same, just referring to different wsdls)</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;cdm-model&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;schemaDirectory&gt;${project.build.directory}/classes/schemas&lt;/schemaDirectory&gt;\n                        &lt;schemaIncludes&gt;\n                            &lt;include&gt;schemas/cdm/claim/*.xsd,/cdm/common/*.xsd,/cdm/document/*.xsd,/cdm/participant/*.xsd&lt;/include&gt;\n                        &lt;/schemaIncludes&gt;\n\n                        &lt;bindingDirectory&gt;${project.build.directory}/classes/schemas&lt;/bindingDirectory&gt;\n                        &lt;bindingIncludes&gt;\n                            &lt;bindingInclude&gt;/cdm/mappings.xjb,/cdm/mappings-participant-v4.xsd&lt;/bindingInclude&gt;\n                        &lt;/bindingIncludes&gt;\n                        &lt;bindings&gt;\n                            &lt;binding&gt;\n                            &lt;dependencyResource&gt;\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                &lt;artifactId&gt;efolder-svc-web-common&lt;/artifactId&gt;\n                            &lt;/dependencyResource&gt;\n                            &lt;/binding&gt;\n                        &lt;/bindings&gt;\n\n                        &lt;extension&gt;true&lt;/extension&gt;\n                        &lt;strict&gt;false&lt;/strict&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>I also tried</p>\n\n<pre><code>                        &lt;configuration&gt;\n                        &lt;episodes&gt;\n                            &lt;episode&gt;\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                &lt;artifactId&gt;efolder-svc-web-common&lt;/artifactId&gt;\n                            &lt;/episode&gt;\n                        &lt;/episodes&gt;\n                        &lt;schemaDirectory&gt;${project.build.directory}/classes/schemas&lt;/schemaDirectory&gt;\n                        &lt;schemaIncludes&gt;\n                            &lt;include&gt;schemas/cdm/claim/*.xsd,/cdm/common/*.xsd,/cdm/document/*.xsd,/cdm/participant/*.xsd&lt;/include&gt;\n                        &lt;/schemaIncludes&gt;\n\n                        &lt;bindingDirectory&gt;${project.build.directory}/classes/schemas&lt;/bindingDirectory&gt;\n                        &lt;bindingIncludes&gt;\n                            &lt;bindingInclude&gt;/cdm/mappings.xjb,/cdm/mappings-participant-v4.xsd&lt;/bindingInclude&gt;\n                        &lt;/bindingIncludes&gt;\n\n                        &lt;extension&gt;true&lt;/extension&gt;\n                        &lt;strict&gt;false&lt;/strict&gt;\n                    &lt;/configuration&gt;\n</code></pre>\n\n<p>But either way, I still end up with the files generated in the generated-sources/xjc/.../efolder/service/common in each module. And in the common I also have xjc/META-INF/sun-jaxb.episode which is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;bindings xmlns=\"http://java.sun.com/xml/ns/jaxb\" if-exists=\"true\" version=\"2.1\"&gt;\n  &lt;!--\n\nThis file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.11 \nSee &lt;a href=\"http://java.sun.com/xml/jaxb\"&gt;http://java.sun.com/xml/jaxb&lt;/a&gt; \nAny modifications to this file will be lost upon recompilation of the source schema. \nGenerated on: 2016.04.15 at 09:56:57 AM EDT \n\n  --&gt;\n  &lt;bindings xmlns:tns=\"http://service.efolder.url/common\" if-exists=\"true\" scd=\"x-schema::tns\"&gt;\n    &lt;schemaBindings map=\"false\"&gt;\n      &lt;package name=\"url.efolder.service.common\"/&gt;\n    &lt;/schemaBindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"~tns:EFolderFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.EFolderFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:VersionNotFoundFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.VersionNotFoundFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:InvalidDocTypeFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.InvalidDocTypeFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:ClaimNotFoundFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.ClaimNotFoundFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:InvalidClaimFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.InvalidClaimFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:InvalidDocCategoryFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.InvalidDocCategoryFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:SeriesNotFoundFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.SeriesNotFoundFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"~tns:eFolderFaultCategory\"&gt;\n      &lt;typesafeEnumClass ref=\"url.efolder.service.common.EFolderFaultCategory\"/&gt;\n    &lt;/bindings&gt;\n  &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n\n<p>Any ideas on why it's still generating? Thanks</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2967442,"reputation":1681,"user_id":9657108,"display_name":"arunkvelu"},"score":4,"creation_date":1547185226,"post_id":54140543,"comment_id":95113043,"body_markdown":"Topic you are trying to delete will be still there if a producer is up and running for that topic. Can you please check this case and update?","body":"Topic you are trying to delete will be still there if a producer is up and running for that topic. Can you please check this case and update?"}],"answers":[{"tags":[],"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609060230,"creation_date":1600186595,"answer_id":63905974,"question_id":54140543,"body_markdown":" - Make sure producer is not using that topic.\r\n - Since deleteTopics() method returns a future , wait for future task to complete ( In case if you are using on-demand tasks, Since main thread will not wait for future to complete if we don&#39;t do it manually.).\r\n\r\n       public void deleteKafkaTopics(List&lt;String&gt; kafkaTopics) {\r\n        \r\n            DeleteTopicsResult deleteTopicsResult = kafkaAdminClient.deleteTopics(kafkaTopics);\r\n\r\n            while (!deleteTopicsResult.all().isDone()) {\r\n\r\n                // Wait for future task to complete\r\n\r\n            }\r\n        }\r\n\r\n\r\n**Note:** If you are using windows machine you may face AccessDeniedException. Already ticket open in kafka issue board (Iam using kafka 2.1) for that fix.So I prefer to use Linux machines which is working fine with Kafka. Also don&#39;t forget to set `delete.topic.enable = true` in *config/server.properties* of Kafka brokers . For newer versions of kafka it is enabled by default.","title":"delete topic not working for kafka java client 2.1.0","body":"<ul>\n<li><p>Make sure producer is not using that topic.</p>\n</li>\n<li><p>Since deleteTopics() method returns a future , wait for future task to complete ( In case if you are using on-demand tasks, Since main thread will not wait for future to complete if we don't do it manually.).</p>\n<pre><code>public void deleteKafkaTopics(List&lt;String&gt; kafkaTopics) {\n\n     DeleteTopicsResult deleteTopicsResult = kafkaAdminClient.deleteTopics(kafkaTopics);\n\n     while (!deleteTopicsResult.all().isDone()) {\n\n         // Wait for future task to complete\n\n     }\n }\n</code></pre>\n</li>\n</ul>\n<p><strong>Note:</strong> If you are using windows machine you may face AccessDeniedException. Already ticket open in kafka issue board (Iam using kafka 2.1) for that fix.So I prefer to use Linux machines which is working fine with Kafka. Also don't forget to set <code>delete.topic.enable = true</code> in <em>config/server.properties</em> of Kafka brokers . For newer versions of kafka it is enabled by default.</p>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642333928,"creation_date":1642333928,"answer_id":70729759,"question_id":54140543,"body_markdown":"```java\r\n\tpublic static void delete(String name) {\r\n\t\tAdminClient client = AdminClient.create(properties());\r\n\t\tDeleteTopicsResult deleteTopicsResult = client.deleteTopics(Collections.singletonList(name));\r\n\r\n\t\twhile (!deleteTopicsResult.all().isDone()) {\r\n\t\t}\r\n\t}\r\n````","title":"delete topic not working for kafka java client 2.1.0","body":"<pre class=\"lang-java prettyprint-override\"><code>    public static void delete(String name) {\n        AdminClient client = AdminClient.create(properties());\n        DeleteTopicsResult deleteTopicsResult = client.deleteTopics(Collections.singletonList(name));\n\n        while (!deleteTopicsResult.all().isDone()) {\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":10316842,"reputation":876,"user_id":7610918,"accept_rate":38,"display_name":"ProgrammerBoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6774,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1642333928,"creation_date":1547182497,"question_id":54140543,"body_markdown":"I want to delete a kafka topic programatically and struggling a lot to make it work. Am using below maven dependency.  \r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAm using KafkaAdminClient. Here is my code, \r\n\r\n\tAdminClient admin = KafkaAdminClient.create(getProperties(configuration.getKafkaConnectionString())));\r\n\r\n\tprivate static Properties getProperties(String kafkaConnectionString) {\r\n\t\tProperties config = new Properties();\r\n\t\tconfig.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaConnectionString);\r\n\t\treturn config;\r\n\t}\r\n\r\nCode to delete topic:\r\n\r\n\tpublic void deleteTopic(final String... topicNames) {\r\n\t\tadmin.deleteTopics(Arrays.asList(topicNames));\r\n\t\tlog.info(&quot;Topics &#39;{}&#39; deleted.&quot;, topicNames);\r\n\t}\r\n\r\nI have `delete.topic.enable=true` property in server.properties for kafka. There are no exception. Not sure why its not working. Any help is appreciated. ","title":"delete topic not working for kafka java client 2.1.0","body":"<p>I want to delete a kafka topic programatically and struggling a lot to make it work. Am using below maven dependency.  </p>\n\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Am using KafkaAdminClient. Here is my code, </p>\n\n<pre><code>AdminClient admin = KafkaAdminClient.create(getProperties(configuration.getKafkaConnectionString())));\n\nprivate static Properties getProperties(String kafkaConnectionString) {\n    Properties config = new Properties();\n    config.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaConnectionString);\n    return config;\n}\n</code></pre>\n\n<p>Code to delete topic:</p>\n\n<pre><code>public void deleteTopic(final String... topicNames) {\n    admin.deleteTopics(Arrays.asList(topicNames));\n    log.info(\"Topics '{}' deleted.\", topicNames);\n}\n</code></pre>\n\n<p>I have <code>delete.topic.enable=true</code> property in server.properties for kafka. There are no exception. Not sure why its not working. Any help is appreciated. </p>\n"},{"tags":["java","apache-zookeeper","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":3512151,"reputation":3433,"user_id":2936216,"accept_rate":47,"display_name":"Jaya Ananthram"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1578038162,"creation_date":1416486717,"answer_id":27039713,"question_id":27036923,"body_markdown":"&gt; **Edit** - Zookeeper is not required in newer version of Kafka. Please see answer by [@Neeleshkumar Srinivasan Mannur](https://stackoverflow.com/a/53851426/2308683) for API version 0.11.0+\r\n\r\n---\r\n\r\n---\r\n\r\n### Original answer\r\nI fixed it.. After a long research..\r\n\r\n    ZkClient zkClient = new ZkClient(&quot;localhost:2181&quot;, 10000, 10000);\r\n    AdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\r\n\r\nFrom the above code, ZkClient will create a topic but this topic information will not have awareness for the kafka. So what we have to do is, we need to create object for ZkClient in following way,\r\n\r\nFirst import the below statement,\r\n\r\n    import kafka.utils.ZKStringSerializer$;\r\n\r\nand create object for ZkClient in the following way,\r\n\r\n    ZkClient zkClient = new ZkClient(&quot;localhost:2181&quot;, 10000, 10000, ZKStringSerializer$.MODULE$);\r\n    AdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\r\n\r\n\r\n----------\r\n\r\nEdit 1: (for @ajkret comment)\r\n---------------------\r\n\r\n&gt; The above code won&#39;t work for kafka &gt; 0.9 since the api has been changed,\r\n&gt; Use the below code for kafka &gt; 0.9\r\n\r\n------------------------------------------------------------------------\r\n\r\n    \r\n    import java.util.Properties;\r\n    import kafka.admin.AdminUtils;\r\n    import kafka.utils.ZKStringSerializer$;\r\n    import kafka.utils.ZkUtils;\r\n    import org.I0Itec.zkclient.ZkClient;\r\n    import org.I0Itec.zkclient.ZkConnection;\r\n    \r\n    public class KafkaTopicCreationInJava\r\n    {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tZkClient zkClient = null;\r\n    \t\tZkUtils zkUtils = null;\r\n    \t\ttry {\r\n    \t\t\tString zookeeperHosts = &quot;192.168.20.1:2181&quot;; // If multiple zookeeper then -&gt; String zookeeperHosts = &quot;192.168.20.1:2181,192.168.20.2:2181&quot;;\r\n    \t\t\tint sessionTimeOutInMs = 15 * 1000; // 15 secs\r\n    \t\t\tint connectionTimeOutInMs = 10 * 1000; // 10 secs\r\n    \r\n    \t\t\tzkClient = new ZkClient(zookeeperHosts, sessionTimeOutInMs, connectionTimeOutInMs, ZKStringSerializer$.MODULE$);\r\n    \t\t\tzkUtils = new ZkUtils(zkClient, new ZkConnection(zookeeperHosts), false);\r\n    \r\n    \t\t\tString topicName = &quot;testTopic&quot;;\r\n    \t\t\tint noOfPartitions = 2;\r\n    \t\t\tint noOfReplication = 3;\r\n       \t\t\tProperties topicConfiguration = new Properties();\r\n    \r\n    \t\t\tAdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplication, topicConfiguration);\r\n\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tif (zkClient != null) {\r\n    \t\t\t\tzkClient.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"How to create a Topic in Kafka through Java","body":"<blockquote>\n  <p><strong>Edit</strong> - Zookeeper is not required in newer version of Kafka. Please see answer by <a href=\"https://stackoverflow.com/a/53851426/2308683\">@Neeleshkumar Srinivasan Mannur</a> for API version 0.11.0+</p>\n</blockquote>\n\n<hr>\n\n<hr>\n\n<h3>Original answer</h3>\n\n<p>I fixed it.. After a long research..</p>\n\n<pre><code>ZkClient zkClient = new ZkClient(\"localhost:2181\", 10000, 10000);\nAdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\n</code></pre>\n\n<p>From the above code, ZkClient will create a topic but this topic information will not have awareness for the kafka. So what we have to do is, we need to create object for ZkClient in following way,</p>\n\n<p>First import the below statement,</p>\n\n<pre><code>import kafka.utils.ZKStringSerializer$;\n</code></pre>\n\n<p>and create object for ZkClient in the following way,</p>\n\n<pre><code>ZkClient zkClient = new ZkClient(\"localhost:2181\", 10000, 10000, ZKStringSerializer$.MODULE$);\nAdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\n</code></pre>\n\n<hr>\n\n<h2>Edit 1: (for @ajkret comment)</h2>\n\n<blockquote>\n  <p>The above code won't work for kafka > 0.9 since the api has been changed,\n  Use the below code for kafka > 0.9</p>\n</blockquote>\n\n<hr>\n\n<pre><code>import java.util.Properties;\nimport kafka.admin.AdminUtils;\nimport kafka.utils.ZKStringSerializer$;\nimport kafka.utils.ZkUtils;\nimport org.I0Itec.zkclient.ZkClient;\nimport org.I0Itec.zkclient.ZkConnection;\n\npublic class KafkaTopicCreationInJava\n{\n    public static void main(String[] args) throws Exception {\n        ZkClient zkClient = null;\n        ZkUtils zkUtils = null;\n        try {\n            String zookeeperHosts = \"192.168.20.1:2181\"; // If multiple zookeeper then -&gt; String zookeeperHosts = \"192.168.20.1:2181,192.168.20.2:2181\";\n            int sessionTimeOutInMs = 15 * 1000; // 15 secs\n            int connectionTimeOutInMs = 10 * 1000; // 10 secs\n\n            zkClient = new ZkClient(zookeeperHosts, sessionTimeOutInMs, connectionTimeOutInMs, ZKStringSerializer$.MODULE$);\n            zkUtils = new ZkUtils(zkClient, new ZkConnection(zookeeperHosts), false);\n\n            String topicName = \"testTopic\";\n            int noOfPartitions = 2;\n            int noOfReplication = 3;\n            Properties topicConfiguration = new Properties();\n\n            AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplication, topicConfiguration);\n\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } finally {\n            if (zkClient != null) {\n                zkClient.close();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5141727,"reputation":269,"user_id":4118896,"accept_rate":100,"display_name":"Richard G"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501084692,"creation_date":1499961196,"answer_id":45085693,"question_id":27036923,"body_markdown":"Just a pointer to anyone looking at this with a updated version of Kafka *(At the time of writing this, I was using Kafka v0.10.0.0)*.\r\n\r\nYou have to change;\r\n\r\n    AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplications, topicConfiguration);\r\n\r\nTo the following;\r\n\r\n    AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplications, true, Enforced$.MODULE$);\r\n\r\nIt is also a good idea to close the connection once finished;\r\n\r\n    zkClient.close();\r\n\r\n","title":"How to create a Topic in Kafka through Java","body":"<p>Just a pointer to anyone looking at this with a updated version of Kafka <em>(At the time of writing this, I was using Kafka v0.10.0.0)</em>.</p>\n\n<p>You have to change;</p>\n\n<pre><code>AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplications, topicConfiguration);\n</code></pre>\n\n<p>To the following;</p>\n\n<pre><code>AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplications, true, Enforced$.MODULE$);\n</code></pre>\n\n<p>It is also a good idea to close the connection once finished;</p>\n\n<pre><code>zkClient.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7472071,"reputation":1703,"user_id":5679728,"accept_rate":43,"display_name":"Saurabh Mishra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1504521497,"creation_date":1504521497,"answer_id":46035266,"question_id":27036923,"body_markdown":"For those trying to achieve this in kafka v0.10.2.1 and running into issues with serialization error &#39;`java.io.StreamCorruptedException: invalid stream header: 3139322E`&#39; following is a sample working code with the needful imports.\r\n\r\n    import org.I0Itec.zkclient.ZkClient;\r\n    import org.I0Itec.zkclient.ZkConnection;\r\n    import org.I0Itec.zkclient.exception.ZkMarshallingError;\r\n    import org.I0Itec.zkclient.serialize.ZkSerializer;\r\n    import org.apache.kafka.clients.consumer.KafkaConsumer;\r\n    import org.apache.kafka.common.PartitionInfo;\r\n    \r\n    import kafka.admin.AdminUtils;\r\n    import kafka.admin.RackAwareMode;\r\n    import kafka.utils.ZKStringSerializer;\r\n    import kafka.utils.ZkUtils;\r\n\r\n    public static void createTopic(String topicName, int numPartitions, int numReplication) {\r\n    \t\tZkClient zkClient = null;\r\n    \t\tZkUtils zkUtils = null;\r\n    \t\ttry {\r\n    \t\t\tString zookeeperHosts = &quot;199.98.916.902:2181&quot;; // If multiple zookeeper then -&gt; String zookeeperHosts = &quot;192.168.20.1:2181,192.168.20.2:2181&quot;;\r\n    \t\t\tint sessionTimeOutInMs = 15 * 1000; // 15 secs\r\n    \t\t\tint connectionTimeOutInMs = 10 * 1000; // 10 secs\r\n    \r\n    \t\t\tzkClient = new ZkClient(zookeeperHosts, sessionTimeOutInMs, connectionTimeOutInMs);\r\n    \t\t\t//Ref: https://gist.github.com/jjkoshy/3842975\r\n    \t\t\tzkClient.setZkSerializer(new ZkSerializer() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic byte[] serialize(Object o) throws ZkMarshallingError {\r\n    \t\t\t\t\treturn ZKStringSerializer.serialize(o);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic Object deserialize(byte[] bytes) throws ZkMarshallingError {\r\n    \t\t\t\t\treturn ZKStringSerializer.deserialize(bytes);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tzkUtils = new ZkUtils(zkClient, new ZkConnection(zookeeperHosts), false);\r\n    \r\n    \t\t\tint noOfPartitions = 2;\r\n    \t\t\tint noOfReplication = 3;\r\n    \t\t\tProperties topicConfiguration = new Properties();\r\n    \r\n    \t\t\tAdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplication, topicConfiguration,\r\n    \t\t\t\t\tRackAwareMode.Enforced$.MODULE$);\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tif (zkClient != null) {\r\n    \t\t\t\tzkClient.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"How to create a Topic in Kafka through Java","body":"<p>For those trying to achieve this in kafka v0.10.2.1 and running into issues with serialization error '<code>java.io.StreamCorruptedException: invalid stream header: 3139322E</code>' following is a sample working code with the needful imports.</p>\n\n<pre><code>import org.I0Itec.zkclient.ZkClient;\nimport org.I0Itec.zkclient.ZkConnection;\nimport org.I0Itec.zkclient.exception.ZkMarshallingError;\nimport org.I0Itec.zkclient.serialize.ZkSerializer;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.common.PartitionInfo;\n\nimport kafka.admin.AdminUtils;\nimport kafka.admin.RackAwareMode;\nimport kafka.utils.ZKStringSerializer;\nimport kafka.utils.ZkUtils;\n\npublic static void createTopic(String topicName, int numPartitions, int numReplication) {\n        ZkClient zkClient = null;\n        ZkUtils zkUtils = null;\n        try {\n            String zookeeperHosts = \"199.98.916.902:2181\"; // If multiple zookeeper then -&gt; String zookeeperHosts = \"192.168.20.1:2181,192.168.20.2:2181\";\n            int sessionTimeOutInMs = 15 * 1000; // 15 secs\n            int connectionTimeOutInMs = 10 * 1000; // 10 secs\n\n            zkClient = new ZkClient(zookeeperHosts, sessionTimeOutInMs, connectionTimeOutInMs);\n            //Ref: https://gist.github.com/jjkoshy/3842975\n            zkClient.setZkSerializer(new ZkSerializer() {\n                @Override\n                public byte[] serialize(Object o) throws ZkMarshallingError {\n                    return ZKStringSerializer.serialize(o);\n                }\n\n                @Override\n                public Object deserialize(byte[] bytes) throws ZkMarshallingError {\n                    return ZKStringSerializer.deserialize(bytes);\n                }\n            });\n\n            zkUtils = new ZkUtils(zkClient, new ZkConnection(zookeeperHosts), false);\n\n            int noOfPartitions = 2;\n            int noOfReplication = 3;\n            Properties topicConfiguration = new Properties();\n\n            AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplication, topicConfiguration,\n                    RackAwareMode.Enforced$.MODULE$);\n\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } finally {\n            if (zkClient != null) {\n                zkClient.close();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13112070,"reputation":638,"user_id":9472702,"display_name":"Mahesh Mogal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1530555197,"creation_date":1529750462,"answer_id":51000364,"question_id":27036923,"body_markdown":"AdminUtils API is getting deprecated. There is new API AdminZkClient which we can use to manage topics in Kafka server.\r\n\r\n\r\n    String zookeeperHost = &quot;127.0.0.1:2181&quot;;\r\n    Boolean isSucre = false;\r\n    int sessionTimeoutMs = 200000;\r\n    int connectionTimeoutMs = 15000;\r\n    int maxInFlightRequests = 10;\r\n    Time time = Time.SYSTEM;\r\n    String metricGroup = &quot;myGroup&quot;;\r\n    String metricType = &quot;myType&quot;;\r\n    KafkaZkClient zkClient = KafkaZkClient.apply(zookeeperHost,isSucre,sessionTimeoutMs,\r\n                    connectionTimeoutMs,maxInFlightRequests,time,metricGroup,metricType);\r\n\r\n    AdminZkClient adminZkClient = new AdminZkClient(zkClient);\r\n    \r\n    String topicName1 = &quot;myTopic&quot;;\r\n    int partitions = 3;\r\n    int replication = 1;\r\n    Properties topicConfig = new Properties();\r\n    \r\n    adminZkClient.createTopic(topicName1,partitions,replication,\r\n                topicConfig,RackAwareMode.Disabled$.MODULE$);\r\n\r\nYou can refer this link for details: https://www.analyticshut.com/streaming-services/kafka/create-and-list-kafka-topics-in-java/","title":"How to create a Topic in Kafka through Java","body":"<p>AdminUtils API is getting deprecated. There is new API AdminZkClient which we can use to manage topics in Kafka server.</p>\n\n<pre><code>String zookeeperHost = \"127.0.0.1:2181\";\nBoolean isSucre = false;\nint sessionTimeoutMs = 200000;\nint connectionTimeoutMs = 15000;\nint maxInFlightRequests = 10;\nTime time = Time.SYSTEM;\nString metricGroup = \"myGroup\";\nString metricType = \"myType\";\nKafkaZkClient zkClient = KafkaZkClient.apply(zookeeperHost,isSucre,sessionTimeoutMs,\n                connectionTimeoutMs,maxInFlightRequests,time,metricGroup,metricType);\n\nAdminZkClient adminZkClient = new AdminZkClient(zkClient);\n\nString topicName1 = \"myTopic\";\nint partitions = 3;\nint replication = 1;\nProperties topicConfig = new Properties();\n\nadminZkClient.createTopic(topicName1,partitions,replication,\n            topicConfig,RackAwareMode.Disabled$.MODULE$);\n</code></pre>\n\n<p>You can refer this link for details: <a href=\"https://www.analyticshut.com/streaming-services/kafka/create-and-list-kafka-topics-in-java/\" rel=\"noreferrer\">https://www.analyticshut.com/streaming-services/kafka/create-and-list-kafka-topics-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":4091426,"reputation":746,"user_id":3359310,"accept_rate":50,"display_name":"Neeleshkumar S"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1577941156,"creation_date":1545222970,"answer_id":53851426,"question_id":27036923,"body_markdown":"The process seems to be pretty much simplified in API 0.11.0+. Using that, it can be done as follows\r\n\r\n    import org.apache.kafka.clients.admin.AdminClient;\r\n    import org.apache.kafka.clients.admin.CreateTopicsResult;\r\n    import org.apache.kafka.clients.admin.NewTopic;\r\n    \r\n    Properties properties = new Properties();\r\n\tproperties.load(new FileReader(new File(&quot;kafka.properties&quot;)));\r\n\r\n    AdminClient adminClient = AdminClient.create(properties);\r\n    NewTopic newTopic = new NewTopic(&quot;topicName&quot;, 1, (short)1); //new NewTopic(topicName, numPartitions, replicationFactor)\r\n\r\n\tList&lt;NewTopic&gt; newTopics = new ArrayList&lt;NewTopic&gt;();\r\n    newTopics.add(newTopic);\r\n\r\n    adminClient.createTopics(newTopics);\r\n    adminClient.close();\r\n\r\nThe contents of `kafka.properties` file are as follows\r\n\r\n    bootstrap.servers=localhost:9092\r\n    group.id=test\r\n    enable.auto.commit=true\r\n    auto.commit.interval.ms=1000\r\n    key.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n\r\nNote that the instance of the AdminClient must be closed in order to reflect the newly created topic.","title":"How to create a Topic in Kafka through Java","body":"<p>The process seems to be pretty much simplified in API 0.11.0+. Using that, it can be done as follows</p>\n\n<pre><code>import org.apache.kafka.clients.admin.AdminClient;\nimport org.apache.kafka.clients.admin.CreateTopicsResult;\nimport org.apache.kafka.clients.admin.NewTopic;\n\nProperties properties = new Properties();\nproperties.load(new FileReader(new File(\"kafka.properties\")));\n\nAdminClient adminClient = AdminClient.create(properties);\nNewTopic newTopic = new NewTopic(\"topicName\", 1, (short)1); //new NewTopic(topicName, numPartitions, replicationFactor)\n\nList&lt;NewTopic&gt; newTopics = new ArrayList&lt;NewTopic&gt;();\nnewTopics.add(newTopic);\n\nadminClient.createTopics(newTopics);\nadminClient.close();\n</code></pre>\n\n<p>The contents of <code>kafka.properties</code> file are as follows</p>\n\n<pre><code>bootstrap.servers=localhost:9092\ngroup.id=test\nenable.auto.commit=true\nauto.commit.interval.ms=1000\nkey.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nvalue.deserializer=org.apache.kafka.common.serialization.StringDeserializer\n</code></pre>\n\n<p>Note that the instance of the AdminClient must be closed in order to reflect the newly created topic.</p>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642333716,"creation_date":1642333716,"answer_id":70729733,"question_id":27036923,"body_markdown":"```java\r\npublic static void create(String name) {\r\n   AdminClient client = AdminClient.create(properties());\r\n   NewTopic topic = new NewTopic(\r\n      name,\r\n      (int)conf().get(&quot;partition&quot;),\r\n      Short.parseShort(String.valueOf(conf().get(&quot;replication.factor&quot;))));\r\n\r\n   client.createTopics(Collections.singleton(topic));\r\n   client.close();\r\n}\r\n```","title":"How to create a Topic in Kafka through Java","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void create(String name) {\n   AdminClient client = AdminClient.create(properties());\n   NewTopic topic = new NewTopic(\n      name,\n      (int)conf().get(&quot;partition&quot;),\n      Short.parseShort(String.valueOf(conf().get(&quot;replication.factor&quot;))));\n\n   client.createTopics(Collections.singleton(topic));\n   client.close();\n}\n</code></pre>\n"}],"owner":{"account_id":3512151,"reputation":3433,"user_id":2936216,"accept_rate":47,"display_name":"Jaya Ananthram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49548,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":27039713,"answer_count":6,"score":46,"last_activity_date":1642333716,"creation_date":1416478373,"question_id":27036923,"body_markdown":"I want to create a topic in Kafka (kafka_2.8.0-0.8.1.1) through java. It is working fine if I create a topic in command prompt, and If I push message through java api. But I want to create a topic through java api. After a long search I found below code,\r\n\r\n    ZkClient zkClient = new ZkClient(&quot;localhost:2181&quot;, 10000, 10000);\r\n    AdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\r\n\r\nI tried above code and it is showing that topic is created but I am not able to push message in the topic. Any thing wrong in my code? Or any other way to achieve the above? \r\n\r\n\t\t\t\t\r\n","title":"How to create a Topic in Kafka through Java","body":"<p>I want to create a topic in Kafka (kafka_2.8.0-0.8.1.1) through java. It is working fine if I create a topic in command prompt, and If I push message through java api. But I want to create a topic through java api. After a long search I found below code,</p>\n\n<pre><code>ZkClient zkClient = new ZkClient(\"localhost:2181\", 10000, 10000);\nAdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\n</code></pre>\n\n<p>I tried above code and it is showing that topic is created but I am not able to push message in the topic. Any thing wrong in my code? Or any other way to achieve the above? </p>\n"},{"tags":["java","java-8","java-stream","cartesian-product"],"answers":[{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1440132162,"creation_date":1440131426,"answer_id":32132377,"question_id":32131987,"body_markdown":"You can solve this using the recursive `flatMap` chain. \r\n\r\nFirst as we need to move back and forth by the map values, it&#39;s better to copy them to the `ArrayList` (this is not the deep copy, in your case it&#39;s `ArrayList` of 3 elements only, so the additional memory usage is low).\r\n\r\nSecond, to maintain a prefix of previously visited elements, let&#39;s create a helper immutable `Prefix` class:\r\n\r\n\tprivate static class Prefix&lt;T&gt; {\r\n\t\tfinal T value;\r\n\t\tfinal Prefix&lt;T&gt; parent;\r\n\r\n\t\tPrefix(Prefix&lt;T&gt; parent, T value) {\r\n\t\t\tthis.parent = parent;\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n        // put the whole prefix into given collection\r\n\t\t&lt;C extends Collection&lt;T&gt;&gt; C addTo(C collection) {\r\n\t\t\tif (parent != null)\r\n\t\t\t\tparent.addTo(collection);\r\n\t\t\tcollection.add(value);\r\n\t\t\treturn collection;\r\n\t\t}\r\n\t}\r\n\r\nThis is very simple immutable linked list which can be used like this:\r\n\r\n    List&lt;String&gt; list = new Prefix&lt;&gt;(new Prefix&lt;&gt;(new Prefix&lt;&gt;(null, &quot;a&quot;), &quot;b&quot;), &quot;c&quot;)\r\n                              .addTo(new ArrayList&lt;&gt;()); // [a, b, c];\r\n\r\nNext, let&#39;s create the internal method which chains flatMaps:\r\n\r\n\tprivate static &lt;T, C extends Collection&lt;T&gt;&gt; Stream&lt;C&gt; comb(\r\n\t\t\tList&lt;? extends Collection&lt;T&gt;&gt; values, int offset, Prefix&lt;T&gt; prefix,\r\n\t\t\tSupplier&lt;C&gt; supplier) {\r\n\t\tif (offset == values.size() - 1)\r\n\t\t\treturn values.get(offset).stream()\r\n\t\t\t\t\t     .map(e -&gt; new Prefix&lt;&gt;(prefix, e).addTo(supplier.get()));\r\n\t\treturn values.get(offset).stream()\r\n\t\t\t\t.flatMap(e -&gt; comb(values, offset + 1, new Prefix&lt;&gt;(prefix, e), supplier));\r\n\t}\r\n\r\nLooks like recursion, but it&#39;s more complex: it doesn&#39;t call itself directly, but passed lambda which calls the outer method. Parameters:\r\n\r\n* values: the `List` of original values (`new ArrayList&lt;&gt;(map.values)` in your case).\r\n* offset: the current offset within this list\r\n* prefix: the current prefix of length offset (or `null` if `offset == 0`). It contains currently selected elements from the collections `list.get(0)`, `list.get(1)` up to `list.get(offset-1)`.\r\n* supplier: the factory method to create the resulting collection.\r\n\r\nWhen we reached the end of the values list (`offset == values.size() - 1`), we map the elements of the last collection from the values to the final combination using the supplier. Otherwise we use the `flatMap` which for each intermediate element enlarges the prefix and calls the `comb` method again for the next offset.\r\n\r\nFinally here&#39;s public method to use this feature:\r\n\r\n\tpublic static &lt;T, C extends Collection&lt;T&gt;&gt; Stream&lt;C&gt; ofCombinations(\r\n\t\t\tCollection&lt;? extends Collection&lt;T&gt;&gt; values, Supplier&lt;C&gt; supplier) {\r\n\t\tif (values.isEmpty())\r\n\t\t\treturn Stream.empty();\r\n\t\treturn comb(new ArrayList&lt;&gt;(values), 0, null, supplier);\r\n\t}\r\n\r\nA usage example:\r\n\r\n\tMap&lt;String, Collection&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;(); // to preserve the order\r\n\tmap.put(&quot;A&quot;, Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;));\r\n\tmap.put(&quot;B&quot;, Arrays.asList(&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;));\r\n\tmap.put(&quot;C&quot;, Arrays.asList(&quot;c1&quot;, &quot;c2&quot;));\r\n\r\n\tofCombinations(map.values(), LinkedHashSet::new).forEach(System.out::println);\r\n\r\nWe collect individual combinations to the `LinkedHashSet` again to preserve the order. You can use any other collection instead (e.g. `ArrayList::new`).","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>You can solve this using the recursive <code>flatMap</code> chain. </p>\n\n<p>First as we need to move back and forth by the map values, it's better to copy them to the <code>ArrayList</code> (this is not the deep copy, in your case it's <code>ArrayList</code> of 3 elements only, so the additional memory usage is low).</p>\n\n<p>Second, to maintain a prefix of previously visited elements, let's create a helper immutable <code>Prefix</code> class:</p>\n\n<pre><code>private static class Prefix&lt;T&gt; {\n    final T value;\n    final Prefix&lt;T&gt; parent;\n\n    Prefix(Prefix&lt;T&gt; parent, T value) {\n        this.parent = parent;\n        this.value = value;\n    }\n\n    // put the whole prefix into given collection\n    &lt;C extends Collection&lt;T&gt;&gt; C addTo(C collection) {\n        if (parent != null)\n            parent.addTo(collection);\n        collection.add(value);\n        return collection;\n    }\n}\n</code></pre>\n\n<p>This is very simple immutable linked list which can be used like this:</p>\n\n<pre><code>List&lt;String&gt; list = new Prefix&lt;&gt;(new Prefix&lt;&gt;(new Prefix&lt;&gt;(null, \"a\"), \"b\"), \"c\")\n                          .addTo(new ArrayList&lt;&gt;()); // [a, b, c];\n</code></pre>\n\n<p>Next, let's create the internal method which chains flatMaps:</p>\n\n<pre><code>private static &lt;T, C extends Collection&lt;T&gt;&gt; Stream&lt;C&gt; comb(\n        List&lt;? extends Collection&lt;T&gt;&gt; values, int offset, Prefix&lt;T&gt; prefix,\n        Supplier&lt;C&gt; supplier) {\n    if (offset == values.size() - 1)\n        return values.get(offset).stream()\n                     .map(e -&gt; new Prefix&lt;&gt;(prefix, e).addTo(supplier.get()));\n    return values.get(offset).stream()\n            .flatMap(e -&gt; comb(values, offset + 1, new Prefix&lt;&gt;(prefix, e), supplier));\n}\n</code></pre>\n\n<p>Looks like recursion, but it's more complex: it doesn't call itself directly, but passed lambda which calls the outer method. Parameters:</p>\n\n<ul>\n<li>values: the <code>List</code> of original values (<code>new ArrayList&lt;&gt;(map.values)</code> in your case).</li>\n<li>offset: the current offset within this list</li>\n<li>prefix: the current prefix of length offset (or <code>null</code> if <code>offset == 0</code>). It contains currently selected elements from the collections <code>list.get(0)</code>, <code>list.get(1)</code> up to <code>list.get(offset-1)</code>.</li>\n<li>supplier: the factory method to create the resulting collection.</li>\n</ul>\n\n<p>When we reached the end of the values list (<code>offset == values.size() - 1</code>), we map the elements of the last collection from the values to the final combination using the supplier. Otherwise we use the <code>flatMap</code> which for each intermediate element enlarges the prefix and calls the <code>comb</code> method again for the next offset.</p>\n\n<p>Finally here's public method to use this feature:</p>\n\n<pre><code>public static &lt;T, C extends Collection&lt;T&gt;&gt; Stream&lt;C&gt; ofCombinations(\n        Collection&lt;? extends Collection&lt;T&gt;&gt; values, Supplier&lt;C&gt; supplier) {\n    if (values.isEmpty())\n        return Stream.empty();\n    return comb(new ArrayList&lt;&gt;(values), 0, null, supplier);\n}\n</code></pre>\n\n<p>A usage example:</p>\n\n<pre><code>Map&lt;String, Collection&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;(); // to preserve the order\nmap.put(\"A\", Arrays.asList(\"a1\", \"a2\", \"a3\", \"a4\"));\nmap.put(\"B\", Arrays.asList(\"b1\", \"b2\", \"b3\"));\nmap.put(\"C\", Arrays.asList(\"c1\", \"c2\"));\n\nofCombinations(map.values(), LinkedHashSet::new).forEach(System.out::println);\n</code></pre>\n\n<p>We collect individual combinations to the <code>LinkedHashSet</code> again to preserve the order. You can use any other collection instead (e.g. <code>ArrayList::new</code>).</p>\n"},{"tags":[],"owner":{"account_id":5023916,"reputation":197,"user_id":4892988,"display_name":"Marin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619309699,"creation_date":1440136708,"answer_id":32133321,"question_id":32131987,"body_markdown":"Here is another solution, which does not use as many features from `Streams` as Tagir&#39;s example; however I believe it to be more straight-forward:\r\n\r\n```java\r\npublic class Permutations {\r\n    transient List&lt;Collection&lt;String&gt;&gt; perms;\r\n    public List&lt;Collection&lt;String&gt;&gt; list(Map&lt;String, Collection&lt;String&gt;&gt; map) {\r\n        SortedMap&lt;String, Collection&lt;String&gt;&gt; sortedMap = new TreeMap&lt;&gt;();\r\n        sortedMap.putAll(map);\r\n        sortedMap.values().forEach((v) -&gt; perms = expand(perms, v));\r\n        return perms;\r\n    }\r\n\r\n    private List&lt;Collection&lt;String&gt;&gt; expand(\r\n            List&lt;Collection&lt;String&gt;&gt; list, Collection&lt;String&gt; elements) {\r\n        List&lt;Collection&lt;String&gt;&gt; newList = new LinkedList&lt;&gt;();\r\n        if (list == null) {\r\n            elements.forEach((e) -&gt; {\r\n                SortedSet&lt;String&gt; set = new TreeSet&lt;&gt;();\r\n                set.add(e);\r\n                newList.add(set);\r\n            });\r\n        } else {\r\n            list.forEach((set) -&gt;\r\n                    elements.forEach((e) -&gt; {\r\n                        SortedSet&lt;String&gt; newSet = new TreeSet&lt;&gt;();\r\n                        newSet.addAll(set);\r\n                        newSet.add(e);\r\n                        newList.add(newSet);\r\n                    }));\r\n        }\r\n        return newList;\r\n    }\r\n}\r\n```\r\nYou can remove the `Sorted` prefix if you are not interested in ordering of elements; though, I think it&#39;s easier to debug if everything is sorted.\r\n\r\nUsage:\r\n```java\r\nPermutations p = new Permutations();\r\nList&lt;Collection&lt;String&gt;&gt; plist = p.list(map);\r\nplist.forEach((s) -&gt; System.out.println(s));\r\n```\r\nEnjoy!","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>Here is another solution, which does not use as many features from <code>Streams</code> as Tagir's example; however I believe it to be more straight-forward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Permutations {\n    transient List&lt;Collection&lt;String&gt;&gt; perms;\n    public List&lt;Collection&lt;String&gt;&gt; list(Map&lt;String, Collection&lt;String&gt;&gt; map) {\n        SortedMap&lt;String, Collection&lt;String&gt;&gt; sortedMap = new TreeMap&lt;&gt;();\n        sortedMap.putAll(map);\n        sortedMap.values().forEach((v) -&gt; perms = expand(perms, v));\n        return perms;\n    }\n\n    private List&lt;Collection&lt;String&gt;&gt; expand(\n            List&lt;Collection&lt;String&gt;&gt; list, Collection&lt;String&gt; elements) {\n        List&lt;Collection&lt;String&gt;&gt; newList = new LinkedList&lt;&gt;();\n        if (list == null) {\n            elements.forEach((e) -&gt; {\n                SortedSet&lt;String&gt; set = new TreeSet&lt;&gt;();\n                set.add(e);\n                newList.add(set);\n            });\n        } else {\n            list.forEach((set) -&gt;\n                    elements.forEach((e) -&gt; {\n                        SortedSet&lt;String&gt; newSet = new TreeSet&lt;&gt;();\n                        newSet.addAll(set);\n                        newSet.add(e);\n                        newList.add(newSet);\n                    }));\n        }\n        return newList;\n    }\n}\n</code></pre>\n<p>You can remove the <code>Sorted</code> prefix if you are not interested in ordering of elements; though, I think it's easier to debug if everything is sorted.</p>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Permutations p = new Permutations();\nList&lt;Collection&lt;String&gt;&gt; plist = p.list(map);\nplist.forEach((s) -&gt; System.out.println(s));\n</code></pre>\n<p>Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1619331173,"creation_date":1440177995,"answer_id":32146095,"question_id":32131987,"body_markdown":"A solution that mainly operates on lists, making things a lot simpler. It does a recursive call in `flatMap`, keeping track of the elements that have already been combined, and the collections of elements that are still missing, and offers the results of this nested recursive construction as a stream of lists: \r\n```java\r\nimport java.util.*;\r\nimport java.util.stream.Stream;\r\n\r\npublic class CartesianProduct {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Collection&lt;String&gt;&gt; map =\r\n                new LinkedHashMap&lt;String, Collection&lt;String&gt;&gt;();\r\n        map.put(&quot;A&quot;, Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;));\r\n        map.put(&quot;B&quot;, Arrays.asList(&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;));\r\n        map.put(&quot;C&quot;, Arrays.asList(&quot;c1&quot;, &quot;c2&quot;));\r\n        ofCombinations(map.values()).forEach(System.out::println);\r\n    }\r\n\r\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofCombinations(\r\n            Collection&lt;? extends Collection&lt;T&gt;&gt; collections) {\r\n        return ofCombinations(\r\n                new ArrayList&lt;Collection&lt;T&gt;&gt;(collections),\r\n                Collections.emptyList());\r\n    }\r\n\r\n    private static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofCombinations(\r\n            List&lt;? extends Collection&lt;T&gt;&gt; collections, List&lt;T&gt; current) {\r\n        return collections.isEmpty() ? Stream.of(current) :\r\n                collections.get(0).stream().flatMap(e -&gt; {\r\n                    List&lt;T&gt; list = new ArrayList&lt;T&gt;(current);\r\n                    list.add(e);\r\n                    return ofCombinations(\r\n                            collections.subList(1, collections.size()), list);\r\n                });\r\n    }\r\n}\r\n```\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>A solution that mainly operates on lists, making things a lot simpler. It does a recursive call in <code>flatMap</code>, keeping track of the elements that have already been combined, and the collections of elements that are still missing, and offers the results of this nested recursive construction as a stream of lists:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.stream.Stream;\n\npublic class CartesianProduct {\n    public static void main(String[] args) {\n        Map&lt;String, Collection&lt;String&gt;&gt; map =\n                new LinkedHashMap&lt;String, Collection&lt;String&gt;&gt;();\n        map.put(&quot;A&quot;, Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;));\n        map.put(&quot;B&quot;, Arrays.asList(&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;));\n        map.put(&quot;C&quot;, Arrays.asList(&quot;c1&quot;, &quot;c2&quot;));\n        ofCombinations(map.values()).forEach(System.out::println);\n    }\n\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofCombinations(\n            Collection&lt;? extends Collection&lt;T&gt;&gt; collections) {\n        return ofCombinations(\n                new ArrayList&lt;Collection&lt;T&gt;&gt;(collections),\n                Collections.emptyList());\n    }\n\n    private static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofCombinations(\n            List&lt;? extends Collection&lt;T&gt;&gt; collections, List&lt;T&gt; current) {\n        return collections.isEmpty() ? Stream.of(current) :\n                collections.get(0).stream().flatMap(e -&gt; {\n                    List&lt;T&gt; list = new ArrayList&lt;T&gt;(current);\n                    list.add(e);\n                    return ofCombinations(\n                            collections.subList(1, collections.size()), list);\n                });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8493728,"reputation":1,"user_id":6368999,"display_name":"Olufemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618730449,"creation_date":1469553823,"answer_id":38596267,"question_id":32131987,"body_markdown":"Use a Consumer Function Class, a `List&lt;T&gt;` and a foreach\r\n```java\r\npublic void tester() {\r\n    String[] strs1 = {&quot;2&quot;, &quot;4&quot;, &quot;9&quot;};\r\n    String[] strs2 = {&quot;9&quot;, &quot;0&quot;, &quot;5&quot;};\r\n\r\n    //Final output is {&quot;29&quot;, &quot;49, 99&quot;, &quot;20&quot;, &quot;40&quot;, &quot;90&quot;, &quot;25&quot;, &quot;45&quot;, &quot;95&quot;}\r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n    Consumer&lt;String&gt; consumer = (String str) -&gt; result.addAll(\r\n            Arrays.stream(strs1).map(s -&gt; s + str).collect(Collectors.toList()));\r\n    Arrays.stream(strs2).forEach(consumer);\r\n\r\n    System.out.println(result);\r\n}\r\n```\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>Use a Consumer Function Class, a <code>List&lt;T&gt;</code> and a foreach</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void tester() {\n    String[] strs1 = {&quot;2&quot;, &quot;4&quot;, &quot;9&quot;};\n    String[] strs2 = {&quot;9&quot;, &quot;0&quot;, &quot;5&quot;};\n\n    //Final output is {&quot;29&quot;, &quot;49, 99&quot;, &quot;20&quot;, &quot;40&quot;, &quot;90&quot;, &quot;25&quot;, &quot;45&quot;, &quot;95&quot;}\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    Consumer&lt;String&gt; consumer = (String str) -&gt; result.addAll(\n            Arrays.stream(strs1).map(s -&gt; s + str).collect(Collectors.toList()));\n    Arrays.stream(strs2).forEach(consumer);\n\n    System.out.println(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2248899,"reputation":167,"user_id":1981596,"display_name":"Miklos Toth"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1628151922,"creation_date":1489596967,"answer_id":42816106,"question_id":32131987,"body_markdown":"Cartesian product in Java 8 with forEach:\r\n\r\n    List&lt;String&gt; listA = Arrays.asList(&quot;0&quot;, &quot;1&quot;);\r\n    List&lt;String&gt; listB = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\r\n\r\n    List&lt;String&gt; cartesianProduct = new ArrayList&lt;&gt;();\r\n    listA.forEach(a -&gt; listB.forEach(b -&gt; cartesianProduct.add(a + b)));\r\n\r\n    System.out.println(cartesianProduct);\r\n    // Output: [0a, 0b, 1a, 1b]","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>Cartesian product in Java 8 with forEach:</p>\n<pre><code>List&lt;String&gt; listA = Arrays.asList(&quot;0&quot;, &quot;1&quot;);\nList&lt;String&gt; listB = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\n\nList&lt;String&gt; cartesianProduct = new ArrayList&lt;&gt;();\nlistA.forEach(a -&gt; listB.forEach(b -&gt; cartesianProduct.add(a + b)));\n\nSystem.out.println(cartesianProduct);\n// Output: [0a, 0b, 1a, 1b]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382603,"reputation":9068,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618730543,"creation_date":1522838289,"answer_id":49648914,"question_id":32131987,"body_markdown":"In loop create combined list\r\n```java\r\nList&lt;String&gt; cartesianProduct(List&lt;List&lt;String&gt;&gt; wordLists) {\r\n    List&lt;String&gt; cp = wordLists.get(0);\r\n    for (int i = 1; i &lt; wordLists.size(); i++) {\r\n        List&lt;String&gt; secondList = wordLists.get(i);\r\n        List&lt;String&gt; combinedList = cp.stream()\r\n                .flatMap(s1 -&gt; secondList.stream()\r\n                        .map(s2 -&gt; s1 + s2))\r\n                .collect(Collectors.toList());\r\n        cp = combinedList;\r\n    }\r\n    return cp;\r\n}\r\n```\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>In loop create combined list</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; cartesianProduct(List&lt;List&lt;String&gt;&gt; wordLists) {\n    List&lt;String&gt; cp = wordLists.get(0);\n    for (int i = 1; i &lt; wordLists.size(); i++) {\n        List&lt;String&gt; secondList = wordLists.get(i);\n        List&lt;String&gt; combinedList = cp.stream()\n                .flatMap(s1 -&gt; secondList.stream()\n                        .map(s2 -&gt; s1 + s2))\n                .collect(Collectors.toList());\n        cp = combinedList;\n    }\n    return cp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1902099,"reputation":1462,"user_id":1717752,"accept_rate":69,"display_name":"ominug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642332428,"creation_date":1546807064,"answer_id":54065722,"question_id":32131987,"body_markdown":"I wrote a class implementing `Iterable`, and holding only the current item in memory. [The Iterable][1] as well as [the Iterator][2] can be converted to a `Stream` if desired.\r\n\r\n```java\r\nclass CartesianProduct&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\r\n  private final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors;\r\n\r\n  public CartesianProduct(final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors) {\r\n    this.factors = factors;\r\n  }\r\n\r\n  @Override\r\n  public Iterator&lt;List&lt;T&gt;&gt; iterator() {\r\n    return new CartesianProductIterator&lt;&gt;(factors);\r\n  }\r\n}\r\n\r\nclass CartesianProductIterator&lt;T&gt; implements Iterator&lt;List&lt;T&gt;&gt; {\r\n  private final List&lt;Iterable&lt;T&gt;&gt; factors;\r\n  private final Stack&lt;Iterator&lt;T&gt;&gt; iterators;\r\n  private final Stack&lt;T&gt; current;\r\n  private List&lt;T&gt; next;\r\n  private int index = 0;\r\n\r\n  private void computeNext() {\r\n    while (true) {\r\n      if (iterators.get(index).hasNext()) {\r\n        current.add(iterators.get(index).next());\r\n        if (index == factors.size() - 1) {\r\n          next = new ArrayList&lt;&gt;(current);\r\n          current.pop();\r\n          return;\r\n        }\r\n        index++;\r\n        iterators.add(factors.get(index).iterator());\r\n      } else {\r\n        index--;\r\n        if (index &lt; 0) {\r\n          return;\r\n        }\r\n        iterators.pop();\r\n        current.pop();\r\n      }\r\n    }\r\n  }\r\n\r\n  public CartesianProductIterator(final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors) {\r\n    this.factors = StreamSupport.stream(factors.spliterator(), false)\r\n          .collect(Collectors.toList());\r\n    iterators = new Stack&lt;&gt;();\r\n    current = new Stack&lt;&gt;();\r\n    if (this.factors.size() == 0) {\r\n      index = -1;\r\n    } else {\r\n      iterators.add(this.factors.get(0).iterator());\r\n      computeNext();\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public boolean hasNext() {\r\n    if (next == null &amp;&amp; index &gt;= 0) {\r\n      computeNext();\r\n    }\r\n    return next != null;\r\n  }\r\n\r\n  @Override\r\n  public List&lt;T&gt; next() {\r\n    if (!hasNext()) {\r\n      throw new IllegalStateException();\r\n    }\r\n    var result = next;\r\n    next = null;\r\n    return result;\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/q/23932061\r\n  [2]: https://stackoverflow.com/a/24511534","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>I wrote a class implementing <code>Iterable</code>, and holding only the current item in memory. <a href=\"https://stackoverflow.com/q/23932061\">The Iterable</a> as well as <a href=\"https://stackoverflow.com/a/24511534\">the Iterator</a> can be converted to a <code>Stream</code> if desired.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CartesianProduct&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\n  private final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors;\n\n  public CartesianProduct(final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors) {\n    this.factors = factors;\n  }\n\n  @Override\n  public Iterator&lt;List&lt;T&gt;&gt; iterator() {\n    return new CartesianProductIterator&lt;&gt;(factors);\n  }\n}\n\nclass CartesianProductIterator&lt;T&gt; implements Iterator&lt;List&lt;T&gt;&gt; {\n  private final List&lt;Iterable&lt;T&gt;&gt; factors;\n  private final Stack&lt;Iterator&lt;T&gt;&gt; iterators;\n  private final Stack&lt;T&gt; current;\n  private List&lt;T&gt; next;\n  private int index = 0;\n\n  private void computeNext() {\n    while (true) {\n      if (iterators.get(index).hasNext()) {\n        current.add(iterators.get(index).next());\n        if (index == factors.size() - 1) {\n          next = new ArrayList&lt;&gt;(current);\n          current.pop();\n          return;\n        }\n        index++;\n        iterators.add(factors.get(index).iterator());\n      } else {\n        index--;\n        if (index &lt; 0) {\n          return;\n        }\n        iterators.pop();\n        current.pop();\n      }\n    }\n  }\n\n  public CartesianProductIterator(final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors) {\n    this.factors = StreamSupport.stream(factors.spliterator(), false)\n          .collect(Collectors.toList());\n    iterators = new Stack&lt;&gt;();\n    current = new Stack&lt;&gt;();\n    if (this.factors.size() == 0) {\n      index = -1;\n    } else {\n      iterators.add(this.factors.get(0).iterator());\n      computeNext();\n    }\n  }\n\n  @Override\n  public boolean hasNext() {\n    if (next == null &amp;&amp; index &gt;= 0) {\n      computeNext();\n    }\n    return next != null;\n  }\n\n  @Override\n  public List&lt;T&gt; next() {\n    if (!hasNext()) {\n      throw new IllegalStateException();\n    }\n    var result = next;\n    next = null;\n    return result;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1627687290,"creation_date":1554811289,"answer_id":55592402,"question_id":32131987,"body_markdown":"While it&#39;s not a Stream solution, Guava&#39;s [`com.google.common.collect.Sets`][1] does that for you.\r\n\r\n```java\r\nSet&lt;List&lt;String&gt;&gt; result = Sets.cartesianProduct(\r\n        Set.of(&quot;a1&quot;, &quot;a2&quot;), Set.of(&quot;b1&quot;, &quot;b2&quot;), Set.of(&quot;c1&quot;, &quot;c2&quot;));\r\n```\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Sets.html","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>While it's not a Stream solution, Guava's <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Sets.html\" rel=\"noreferrer\"><code>com.google.common.collect.Sets</code></a> does that for you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;List&lt;String&gt;&gt; result = Sets.cartesianProduct(\n        Set.of(&quot;a1&quot;, &quot;a2&quot;), Set.of(&quot;b1&quot;, &quot;b2&quot;), Set.of(&quot;c1&quot;, &quot;c2&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1969083,"reputation":6498,"user_id":1768565,"display_name":"Jurgen Vinju"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1619308565,"creation_date":1561116409,"answer_id":56702534,"question_id":32131987,"body_markdown":"A simpler answer, for a simpler situation where you just want to have the cartesian product of the elements of two collections. \r\n\r\nHere&#39;s some code which uses `flatMap` to generate the cartesian product of two short lists:\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;Integer&gt; aList = Arrays.asList(1, 2, 3);\r\n    List&lt;Integer&gt; bList = Arrays.asList(4, 5, 6);\r\n\r\n    Stream&lt;List&lt;Integer&gt;&gt; product = aList.stream().flatMap(a -&gt;\r\n            bList.stream().flatMap(b -&gt;\r\n                    Stream.of(Arrays.asList(a, b))));\r\n\r\n    product.forEach(p -&gt; { System.out.println(p); });\r\n\r\n    // prints:\r\n    // [1, 4]\r\n    // [1, 5]\r\n    // [1, 6]\r\n    // [2, 4]\r\n    // [2, 5]\r\n    // [2, 6]\r\n    // [3, 4]\r\n    // [3, 5]\r\n    // [3, 6]\r\n}\r\n```\r\nIf you want to add more collections, just nest the streams a litter further:\r\n```java\r\naList.stream().flatMap(a -&gt;\r\n    bList.stream().flatMap(b -&gt;\r\n        cList.stream().flatMap(c -&gt;\r\n            Stream.of(Arrays.asList(a, b, c)))));\r\n```\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>A simpler answer, for a simpler situation where you just want to have the cartesian product of the elements of two collections.</p>\n<p>Here's some code which uses <code>flatMap</code> to generate the cartesian product of two short lists:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;Integer&gt; aList = Arrays.asList(1, 2, 3);\n    List&lt;Integer&gt; bList = Arrays.asList(4, 5, 6);\n\n    Stream&lt;List&lt;Integer&gt;&gt; product = aList.stream().flatMap(a -&gt;\n            bList.stream().flatMap(b -&gt;\n                    Stream.of(Arrays.asList(a, b))));\n\n    product.forEach(p -&gt; { System.out.println(p); });\n\n    // prints:\n    // [1, 4]\n    // [1, 5]\n    // [1, 6]\n    // [2, 4]\n    // [2, 5]\n    // [2, 6]\n    // [3, 4]\n    // [3, 5]\n    // [3, 6]\n}\n</code></pre>\n<p>If you want to add more collections, just nest the streams a litter further:</p>\n<pre class=\"lang-java prettyprint-override\"><code>aList.stream().flatMap(a -&gt;\n    bList.stream().flatMap(b -&gt;\n        cList.stream().flatMap(c -&gt;\n            Stream.of(Arrays.asList(a, b, c)))));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15613375"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627835024,"creation_date":1618654989,"answer_id":67137084,"question_id":32131987,"body_markdown":"You can use [`Stream.reduce`][1] method as follows.\r\n\r\n[Try it online!][2]\r\n\r\n```java\r\nMap&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\nmap.put(&quot;A&quot;, List.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;));\r\nmap.put(&quot;B&quot;, List.of(&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;));\r\nmap.put(&quot;C&quot;, List.of(&quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;));\r\n```\r\n```java\r\nList&lt;List&lt;String&gt;&gt; cartesianProduct = map.values().stream()\r\n        // represent each list element as a singleton list\r\n        .map(list -&gt; list.stream().map(Collections::singletonList)\r\n                .collect(Collectors.toList()))\r\n        // reduce the stream of lists to a single list by\r\n        // sequentially summing pairs of elements of two lists\r\n        .reduce((list1, list2) -&gt; list1.stream()\r\n                // combinations of inner lists\r\n                .flatMap(first -&gt; list2.stream()\r\n                        // merge two inner lists into one\r\n                        .map(second -&gt; Stream.of(first, second)\r\n                                .flatMap(List::stream)\r\n                                .collect(Collectors.toList())))\r\n                // list of combinations\r\n                .collect(Collectors.toList()))\r\n        // List&lt;List&lt;String&gt;&gt;\r\n        .orElse(Collections.emptyList());\r\n```\r\n```java\r\n// column-wise output\r\nint rows = 9;\r\nIntStream.range(0, rows)\r\n        .mapToObj(i -&gt; IntStream.range(0, cartesianProduct.size())\r\n                .filter(j -&gt; j % rows == i)\r\n                .mapToObj(j -&gt; cartesianProduct.get(j).toString())\r\n                .collect(Collectors.joining(&quot;  &quot;)))\r\n        .forEach(System.out::println);\r\n```\r\nOutput:\r\n```\r\n[a1, b1, c1]  [a2, b1, c1]  [a3, b1, c1]\r\n[a1, b1, c2]  [a2, b1, c2]  [a3, b1, c2]\r\n[a1, b1, c3]  [a2, b1, c3]  [a3, b1, c3]\r\n[a1, b2, c1]  [a2, b2, c1]  [a3, b2, c1]\r\n[a1, b2, c2]  [a2, b2, c2]  [a3, b2, c2]\r\n[a1, b2, c3]  [a2, b2, c3]  [a3, b2, c3]\r\n[a1, b3, c1]  [a2, b3, c1]  [a3, b3, c1]\r\n[a1, b3, c2]  [a2, b3, c2]  [a3, b3, c2]\r\n[a1, b3, c3]  [a2, b3, c3]  [a3, b3, c3]\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [String permutations using recursion in Java][3]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\r\n  [2]: https://tio.run/##rVRNb9NAEL3nV4wsIa1R6tJyoqWRoEICiQqkcEMc1s4kWXe9a3bHjQLqbw@za9cYnA8h4UNi78x7b752Svkgz8rF/W6nqto6gpIPsoaUzp5fT0ZnnhzKKpgmdZNrVUChpfdwJ5WBnxPgpzv3JIn/HqxaQMVWMSenzOrrN5Bu5dPOOTx3sn7dGqfwUXnqPmYzxtVwAwY3fG7ucfFe@nXwnon0uoezU1Y3JJI3SYvP7FIk8oK/EnkZf18m6T7A2yEgj4A8AvIDgNshoIiAIgKKFtAjYhp/5lJIR@iVNJ@dXTQFcWKB90HqBr1Iu8qKtOd4es7PwWHt0KMhQFmsQTMxoMYqnEgPEjxraCRrom1EkbGSiKizWfTo1aLl1mqNBSlr/NVVTxXCH0fTUxYt6Alsnc/IBoxI0wNJcNoItEZo1cEuYzAeyPY5tMnl230MHr83nLKSWm/BN1XFCKilcj5QdQWJ77SxLfW4FG0YIpbjYhq9LtOnulwcbsMgjsJWuTIyFiyoKWPQHdDrdZdaEs@uWHK4fR8uT@sNdCt0K4y5DRT5nctnDZ5kiL32WFizCPrz9irzKMeQptCaTkcySil0nQcn8v0D/OgEHW1AnBEu/LAR/3FSx7d3PEbWvdMeh1cnw6qmbcc72AVxYHRTmbON8gi2Id4lvZW7B85uPK@DV783zgdDXXucNCsUL6bRKd17s7/YT3kpVOjpHtzfeyfz6geKI/XNlkoTOlEGwhKedeHdgDqC6cOIqJHmCkmUKZe9LehR@T3tKq0yAZYAJPt6li25HbwZxXzrCXmmG57HmpVIm26PP04ed7tf &quot;Java (JDK) – Try It Online&quot;\r\n  [3]: https://stackoverflow.com/a/67114390/15613375\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>Stream.reduce</code></a> method as follows.</p>\n<p><a href=\"https://tio.run/##rVRNb9NAEL3nV4wsIa1R6tJyoqWRoEICiQqkcEMc1s4kWXe9a3bHjQLqbw@za9cYnA8h4UNi78x7b752Svkgz8rF/W6nqto6gpIPsoaUzp5fT0ZnnhzKKpgmdZNrVUChpfdwJ5WBnxPgpzv3JIn/HqxaQMVWMSenzOrrN5Bu5dPOOTx3sn7dGqfwUXnqPmYzxtVwAwY3fG7ucfFe@nXwnon0uoezU1Y3JJI3SYvP7FIk8oK/EnkZf18m6T7A2yEgj4A8AvIDgNshoIiAIgKKFtAjYhp/5lJIR@iVNJ@dXTQFcWKB90HqBr1Iu8qKtOd4es7PwWHt0KMhQFmsQTMxoMYqnEgPEjxraCRrom1EkbGSiKizWfTo1aLl1mqNBSlr/NVVTxXCH0fTUxYt6Alsnc/IBoxI0wNJcNoItEZo1cEuYzAeyPY5tMnl230MHr83nLKSWm/BN1XFCKilcj5QdQWJ77SxLfW4FG0YIpbjYhq9LtOnulwcbsMgjsJWuTIyFiyoKWPQHdDrdZdaEs@uWHK4fR8uT@sNdCt0K4y5DRT5nctnDZ5kiL32WFizCPrz9irzKMeQptCaTkcySil0nQcn8v0D/OgEHW1AnBEu/LAR/3FSx7d3PEbWvdMeh1cnw6qmbcc72AVxYHRTmbON8gi2Id4lvZW7B85uPK@DV783zgdDXXucNCsUL6bRKd17s7/YT3kpVOjpHtzfeyfz6geKI/XNlkoTOlEGwhKedeHdgDqC6cOIqJHmCkmUKZe9LehR@T3tKq0yAZYAJPt6li25HbwZxXzrCXmmG57HmpVIm26PP04ed7tf\" rel=\"nofollow noreferrer\" title=\"Java (JDK) – Try It Online\">Try it online!</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\nmap.put(&quot;A&quot;, List.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;));\nmap.put(&quot;B&quot;, List.of(&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;));\nmap.put(&quot;C&quot;, List.of(&quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; cartesianProduct = map.values().stream()\n        // represent each list element as a singleton list\n        .map(list -&gt; list.stream().map(Collections::singletonList)\n                .collect(Collectors.toList()))\n        // reduce the stream of lists to a single list by\n        // sequentially summing pairs of elements of two lists\n        .reduce((list1, list2) -&gt; list1.stream()\n                // combinations of inner lists\n                .flatMap(first -&gt; list2.stream()\n                        // merge two inner lists into one\n                        .map(second -&gt; Stream.of(first, second)\n                                .flatMap(List::stream)\n                                .collect(Collectors.toList())))\n                // list of combinations\n                .collect(Collectors.toList()))\n        // List&lt;List&lt;String&gt;&gt;\n        .orElse(Collections.emptyList());\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// column-wise output\nint rows = 9;\nIntStream.range(0, rows)\n        .mapToObj(i -&gt; IntStream.range(0, cartesianProduct.size())\n                .filter(j -&gt; j % rows == i)\n                .mapToObj(j -&gt; cartesianProduct.get(j).toString())\n                .collect(Collectors.joining(&quot;  &quot;)))\n        .forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>[a1, b1, c1]  [a2, b1, c1]  [a3, b1, c1]\n[a1, b1, c2]  [a2, b1, c2]  [a3, b1, c2]\n[a1, b1, c3]  [a2, b1, c3]  [a3, b1, c3]\n[a1, b2, c1]  [a2, b2, c1]  [a3, b2, c1]\n[a1, b2, c2]  [a2, b2, c2]  [a3, b2, c2]\n[a1, b2, c3]  [a2, b2, c3]  [a3, b2, c3]\n[a1, b3, c1]  [a2, b3, c1]  [a3, b3, c1]\n[a1, b3, c2]  [a2, b3, c2]  [a3, b3, c2]\n[a1, b3, c3]  [a2, b3, c3]  [a3, b3, c3]\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/67114390/15613375\">String permutations using recursion in Java</a></sup></p>\n"},{"tags":[],"owner":{"display_name":"user16497917"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628079661,"creation_date":1628039432,"answer_id":68644295,"question_id":32131987,"body_markdown":"### The *map-and-reduce* approach with nested loops within one stream\r\n\r\nOne outer stream can be easily converted to [`parallel`][1] - this can reduce the computation time in some cases. Inner iterations are implemented with loops.\r\n\r\n[Try it online!][2]\r\n\r\n```java\r\n/**\r\n * @param map a map of lists\r\n * @param &lt;T&gt; the type of the elements\r\n * @return the Cartesian product of map values\r\n */\r\npublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; cartesianProduct(Map&lt;T, List&lt;T&gt;&gt; map) {\r\n    // check if incoming data is not null\r\n    if (map == null) return Collections.emptyList();\r\n    return map.values().stream().parallel()\r\n            // non-null and non-empty lists\r\n            .filter(list -&gt; list != null &amp;&amp; list.size() &gt; 0)\r\n            // represent each list element as a singleton list\r\n            .map(list -&gt; {\r\n                List&lt;List&lt;T&gt;&gt; nList = new ArrayList&lt;&gt;(list.size());\r\n                for (T e : list) nList.add(Collections.singletonList(e));\r\n                return nList;\r\n            })\r\n            // summation of pairs of inner lists\r\n            .reduce((list1, list2) -&gt; {\r\n                // number of combinations\r\n                int size = list1.size() * list2.size();\r\n                // list of combinations\r\n                List&lt;List&lt;T&gt;&gt; list = new ArrayList&lt;&gt;(size);\r\n                for (List&lt;T&gt; inner1 : list1)\r\n                    for (List&lt;T&gt; inner2 : list2) {\r\n                        List&lt;T&gt; inner = new ArrayList&lt;&gt;();\r\n                        inner.addAll(inner1);\r\n                        inner.addAll(inner2);\r\n                        list.add(inner);\r\n                    }\r\n                return list;\r\n            }).orElse(Collections.emptyList());\r\n}\r\n```\r\n```java\r\npublic static void main(String[] args) {\r\n    Map&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\n    map.put(&quot;A&quot;, Arrays.asList(&quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A4&quot;));\r\n    map.put(&quot;B&quot;, Arrays.asList(&quot;B1&quot;, &quot;B2&quot;, &quot;B3&quot;));\r\n    map.put(&quot;C&quot;, Arrays.asList(&quot;C1&quot;, &quot;C2&quot;));\r\n\r\n    List&lt;List&lt;String&gt;&gt; cp = cartesianProduct(map);\r\n    // column-wise output\r\n    int rows = 6;\r\n    for (int i = 0; i &lt; rows; i++) {\r\n        for (int j = 0; j &lt; cp.size(); j++)\r\n            System.out.print(j % rows == i ? cp.get(j) + &quot; &quot; : &quot;&quot;);\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\n[A1, B1, C1] [A2, B1, C1] [A3, B1, C1] [A4, B1, C1] \r\n[A1, B1, C2] [A2, B1, C2] [A3, B1, C2] [A4, B1, C2] \r\n[A1, B2, C1] [A2, B2, C1] [A3, B2, C1] [A4, B2, C1] \r\n[A1, B2, C2] [A2, B2, C2] [A3, B2, C2] [A4, B2, C2] \r\n[A1, B3, C1] [A2, B3, C1] [A3, B3, C1] [A4, B3, C1] \r\n[A1, B3, C2] [A2, B3, C2] [A3, B3, C2] [A4, B3, C2] \r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [How to get Cartesian product from multiple lists?][3]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#parallel--\r\n  [2]: https://tio.run/##lVVdb5swFH3Pr7iLtMqkDV3SaQ9Nmi2NJu2hkyY1b9MeXHAap8Yg27Tqqvz27PpCKAnQbSBhY59z77kfmA1/5MM0E3oTP@x2MslS42CDi2HupAoHk14vUtxaWHDjhJVc/zBpnEcOXnqA1/lgQCMM4EvGDU8g4RlweqYrUNI6ewSYLmfg1gLccyY8xs@FEonQNagRLjea9irPkJWukeTtP3KViz3lnMYsv1MyAuu4w8F7ukEFU3osZzOIjqJg33k2XZ5BBUC7QRkahXcO0VpEDyBXIHWUJlLfQ8wdB2lBpw50rlSFRhDzwq6uaD2AMopFqpSInEy1DUWSuWfvjgWTiljikBsWQbEgtM4InuDEZw35igUVviZPp3ronQHXMb2Qg3ria1e4ksoJw/wuDGeEgneFWjg5offQyt@CBTCDD60OjciMsFgsEDxaFybK8gG3WHqLOVLCpZr2mhowykrAS2PbX4c1034GKFI8wdwYTtmbzlhNbC2V9WuVGmBLEHBJUoLCVMjjmNVLUgmmsogua2WRCNVEbFuTZfMk4d6L79mMS2P9RGotTFeJjMDGFIzCG50Rahx058q3QJ7coT00jA16JzU5tK1oiUXyKcN0kv19sQeFn/J10uWJyvYvfg4rqNoL6J29VbmSX6RrVBZxFLQS2knjkjQOOrJ3oHfPapHaIfM1rUjzfTVXihVy/5sx/gtD7VuX0G@At291r@po3jA1X5UVrOOoKt1tey2n7GMqYzy6pGa3zuCn9PMXcHNv6yn3p2yxWR61xUtx3pbpvpH6QcTfuF179EHK/bmY5Y715/2zoiw25JaU9ecjXOvPx/S8oOfHftBGvm6Sr4l8TeTri3baoklbEG0xJkKv2fNVdJEPrvHP8f@YycEvJlV5oodP0uIPMXfotlf/YE36ZNHOp1cOdbrfkrj@YYLDlFA4Oz097vUKvCnAGwRH2f5Thw0yGg1x@2ydSEIUE2YYi2MbeF/quEJvn72Be4HLAZxCH@9L6PePevLYhtL1mm7Lhtrudn8A &quot;Java (OpenJDK 8) – Try It Online&quot;\r\n  [3]: https://stackoverflow.com/a/68629936/16497917\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<h3>The <em>map-and-reduce</em> approach with nested loops within one stream</h3>\n<p>One outer stream can be easily converted to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#parallel--\" rel=\"nofollow noreferrer\"><code>parallel</code></a> - this can reduce the computation time in some cases. Inner iterations are implemented with loops.</p>\n<p><a href=\"https://tio.run/##lVVdb5swFH3Pr7iLtMqkDV3SaQ9Nmi2NJu2hkyY1b9MeXHAap8Yg27Tqqvz27PpCKAnQbSBhY59z77kfmA1/5MM0E3oTP@x2MslS42CDi2HupAoHk14vUtxaWHDjhJVc/zBpnEcOXnqA1/lgQCMM4EvGDU8g4RlweqYrUNI6ewSYLmfg1gLccyY8xs@FEonQNagRLjea9irPkJWukeTtP3KViz3lnMYsv1MyAuu4w8F7ukEFU3osZzOIjqJg33k2XZ5BBUC7QRkahXcO0VpEDyBXIHWUJlLfQ8wdB2lBpw50rlSFRhDzwq6uaD2AMopFqpSInEy1DUWSuWfvjgWTiljikBsWQbEgtM4InuDEZw35igUVviZPp3ronQHXMb2Qg3ria1e4ksoJw/wuDGeEgneFWjg5offQyt@CBTCDD60OjciMsFgsEDxaFybK8gG3WHqLOVLCpZr2mhowykrAS2PbX4c1034GKFI8wdwYTtmbzlhNbC2V9WuVGmBLEHBJUoLCVMjjmNVLUgmmsogua2WRCNVEbFuTZfMk4d6L79mMS2P9RGotTFeJjMDGFIzCG50Rahx058q3QJ7coT00jA16JzU5tK1oiUXyKcN0kv19sQeFn/J10uWJyvYvfg4rqNoL6J29VbmSX6RrVBZxFLQS2knjkjQOOrJ3oHfPapHaIfM1rUjzfTVXihVy/5sx/gtD7VuX0G@At291r@po3jA1X5UVrOOoKt1tey2n7GMqYzy6pGa3zuCn9PMXcHNv6yn3p2yxWR61xUtx3pbpvpH6QcTfuF179EHK/bmY5Y715/2zoiw25JaU9ecjXOvPx/S8oOfHftBGvm6Sr4l8TeTri3baoklbEG0xJkKv2fNVdJEPrvHP8f@YycEvJlV5oodP0uIPMXfotlf/YE36ZNHOp1cOdbrfkrj@YYLDlFA4Oz097vUKvCnAGwRH2f5Thw0yGg1x@2ydSEIUE2YYi2MbeF/quEJvn72Be4HLAZxCH@9L6PePevLYhtL1mm7Lhtrudn8A\" rel=\"nofollow noreferrer\" title=\"Java (OpenJDK 8) – Try It Online\">Try it online!</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @param map a map of lists\n * @param &lt;T&gt; the type of the elements\n * @return the Cartesian product of map values\n */\npublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; cartesianProduct(Map&lt;T, List&lt;T&gt;&gt; map) {\n    // check if incoming data is not null\n    if (map == null) return Collections.emptyList();\n    return map.values().stream().parallel()\n            // non-null and non-empty lists\n            .filter(list -&gt; list != null &amp;&amp; list.size() &gt; 0)\n            // represent each list element as a singleton list\n            .map(list -&gt; {\n                List&lt;List&lt;T&gt;&gt; nList = new ArrayList&lt;&gt;(list.size());\n                for (T e : list) nList.add(Collections.singletonList(e));\n                return nList;\n            })\n            // summation of pairs of inner lists\n            .reduce((list1, list2) -&gt; {\n                // number of combinations\n                int size = list1.size() * list2.size();\n                // list of combinations\n                List&lt;List&lt;T&gt;&gt; list = new ArrayList&lt;&gt;(size);\n                for (List&lt;T&gt; inner1 : list1)\n                    for (List&lt;T&gt; inner2 : list2) {\n                        List&lt;T&gt; inner = new ArrayList&lt;&gt;();\n                        inner.addAll(inner1);\n                        inner.addAll(inner2);\n                        list.add(inner);\n                    }\n                return list;\n            }).orElse(Collections.emptyList());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Map&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\n    map.put(&quot;A&quot;, Arrays.asList(&quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A4&quot;));\n    map.put(&quot;B&quot;, Arrays.asList(&quot;B1&quot;, &quot;B2&quot;, &quot;B3&quot;));\n    map.put(&quot;C&quot;, Arrays.asList(&quot;C1&quot;, &quot;C2&quot;));\n\n    List&lt;List&lt;String&gt;&gt; cp = cartesianProduct(map);\n    // column-wise output\n    int rows = 6;\n    for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; cp.size(); j++)\n            System.out.print(j % rows == i ? cp.get(j) + &quot; &quot; : &quot;&quot;);\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[A1, B1, C1] [A2, B1, C1] [A3, B1, C1] [A4, B1, C1] \n[A1, B1, C2] [A2, B1, C2] [A3, B1, C2] [A4, B1, C2] \n[A1, B2, C1] [A2, B2, C1] [A3, B2, C1] [A4, B2, C1] \n[A1, B2, C2] [A2, B2, C2] [A3, B2, C2] [A4, B2, C2] \n[A1, B3, C1] [A2, B3, C1] [A3, B3, C1] [A4, B3, C1] \n[A1, B3, C2] [A2, B3, C2] [A3, B3, C2] [A4, B3, C2] \n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/68629936/16497917\">How to get Cartesian product from multiple lists?</a></sup></p>\n"}],"owner":{"account_id":2699110,"reputation":995,"user_id":2330285,"accept_rate":55,"display_name":"Alex Paransky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27927,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":32132377,"answer_count":11,"score":50,"last_activity_date":1642332428,"creation_date":1440128287,"question_id":32131987,"body_markdown":"I have the following collection type:\r\n\r\n    Map&lt;String, Collection&lt;String&gt;&gt; map;\r\n\r\nI would like to create unique combinations of each of `map.size()` from a single value in the collection for each Key.\r\n\r\nFor example suppose the map looks like the following:\r\n\r\n    A, {a1, a2, a3, ..., an}\r\n    B, {b1, b2, b3, ..., bn}\r\n    C, {c1, c2, c3, ..., cn}\r\n\r\nThe result I would like to get would a `List&lt;Set&lt;String&gt;&gt;` result, looking similar to (ordering is not important, it just needs to be a &#39;complete&#39; result consisting of all possible combinations):\r\n\r\n    {a1, b1, c1},\r\n    {a1, b1, c2},\r\n    {a1, b1, c3},\r\n    {a1, b2, c1},\r\n    {a1, b2, c2},\r\n    {a1, b2, c3},\r\n    ...\r\n    {a2, b1, c1},\r\n    {a2, b1, c2},\r\n    ...\r\n    {a3, b1, c1},\r\n    {a3, b1, c2},\r\n    ...\r\n    {an, bn, cn}\r\n\r\nThis is basically a counting problem, but I would like to see if a solution is possible using Java 8 streams.","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>I have the following collection type:</p>\n\n<pre><code>Map&lt;String, Collection&lt;String&gt;&gt; map;\n</code></pre>\n\n<p>I would like to create unique combinations of each of <code>map.size()</code> from a single value in the collection for each Key.</p>\n\n<p>For example suppose the map looks like the following:</p>\n\n<pre><code>A, {a1, a2, a3, ..., an}\nB, {b1, b2, b3, ..., bn}\nC, {c1, c2, c3, ..., cn}\n</code></pre>\n\n<p>The result I would like to get would a <code>List&lt;Set&lt;String&gt;&gt;</code> result, looking similar to (ordering is not important, it just needs to be a 'complete' result consisting of all possible combinations):</p>\n\n<pre><code>{a1, b1, c1},\n{a1, b1, c2},\n{a1, b1, c3},\n{a1, b2, c1},\n{a1, b2, c2},\n{a1, b2, c3},\n...\n{a2, b1, c1},\n{a2, b1, c2},\n...\n{a3, b1, c1},\n{a3, b1, c2},\n...\n{an, bn, cn}\n</code></pre>\n\n<p>This is basically a counting problem, but I would like to see if a solution is possible using Java 8 streams.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":16266791,"reputation":367,"user_id":11746588,"display_name":"wahyu eko hadi saputro"},"score":0,"creation_date":1574777185,"post_id":59052377,"comment_id":104345280,"body_markdown":"add the @Validated annotation to the controller class. Refer to https://www.baeldung.com/spring-validate-list-controller","body":"add the @Validated annotation to the controller class. Refer to <a href=\"https://www.baeldung.com/spring-validate-list-controller\" rel=\"nofollow noreferrer\">baeldung.com/spring-validate-list-controller</a>"},{"owner":{"account_id":2701846,"reputation":619,"user_id":2332409,"display_name":"sudipn"},"score":1,"creation_date":1574777702,"post_id":59052377,"comment_id":104345552,"body_markdown":"a more detailed discussion can be found on this thread: https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring","body":"a more detailed discussion can be found on this thread: <a href=\"https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring\" title=\"validation of a list of objects in spring\">stackoverflow.com/questions/28150405/&hellip;</a>"},{"owner":{"account_id":7200349,"reputation":139,"user_id":5497780,"display_name":"karthikmunna"},"score":0,"creation_date":1574778590,"post_id":59052377,"comment_id":104346084,"body_markdown":"@bullzeye Thank you, Tht works fine to me. You can add it as a solution.","body":"@bullzeye Thank you, Tht works fine to me. You can add it as a solution."}],"answers":[{"tags":[],"owner":{"account_id":12133016,"reputation":168,"user_id":8859325,"display_name":"Haris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1574776712,"creation_date":1574776335,"answer_id":59052471,"question_id":59052377,"body_markdown":"Your `@Valid` annotation is applied to the List and not the actual objects present on the list.\r\n\r\nThe annotation you have in your example validates the list and not each object of the list.\r\n\r\nTry this\r\n\r\n`public Student addStudent(@PathVariable Integer classId,@RequestBody List&lt;@Valid Student&gt; students)`\r\n\r\nYou can specify additional parameters as well for example you may need to validate each object on the list AND to make sure that the list is not empty, or has a minimum size etc. Those validations must be performed on the list.\r\n","title":"@valid annotation is not working as expected","body":"<p>Your <code>@Valid</code> annotation is applied to the List and not the actual objects present on the list.</p>\n\n<p>The annotation you have in your example validates the list and not each object of the list.</p>\n\n<p>Try this</p>\n\n<p><code>public Student addStudent(@PathVariable Integer classId,@RequestBody List&lt;@Valid Student&gt; students)</code></p>\n\n<p>You can specify additional parameters as well for example you may need to validate each object on the list AND to make sure that the list is not empty, or has a minimum size etc. Those validations must be performed on the list.</p>\n"},{"tags":[],"owner":{"account_id":12782081,"reputation":1,"user_id":9478770,"display_name":"Krishnamoorthy Sundar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574776611,"creation_date":1574776611,"answer_id":59052546,"question_id":59052377,"body_markdown":"When Spring Boot finds an argument annotated with @Valid, it automatically bootstraps the default JSR 380 implementation — Hibernate Validator — and validates the argument.\r\n\r\nJSR 380 implementation gets violated only when the Request itself is NULL. As mentioned above it cannot be used to check null values in the request body.","title":"@valid annotation is not working as expected","body":"<p>When Spring Boot finds an argument annotated with @Valid, it automatically bootstraps the default JSR 380 implementation — Hibernate Validator — and validates the argument.</p>\n\n<p>JSR 380 implementation gets violated only when the Request itself is NULL. As mentioned above it cannot be used to check null values in the request body.</p>\n"},{"tags":[],"owner":{"account_id":14233114,"reputation":765,"user_id":10281741,"display_name":"sudo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574777136,"creation_date":1574777136,"answer_id":59052722,"question_id":59052377,"body_markdown":"You cannot apply `@Valid` to a `java.util.List`\r\n\r\nsee: https://stackoverflow.com/questions/17207766/spring-mvc-valid-on-list-of-beans-in-rest-service","title":"@valid annotation is not working as expected","body":"<p>You cannot apply <code>@Valid</code> to a <code>java.util.List</code></p>\n\n<p>see: <a href=\"https://stackoverflow.com/questions/17207766/spring-mvc-valid-on-list-of-beans-in-rest-service\">Spring MVC - @Valid on list of beans in REST service</a></p>\n"},{"tags":[],"owner":{"account_id":19436623,"reputation":71,"user_id":14215959,"display_name":"Lusmilo Campos"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1599148235,"creation_date":1599148235,"answer_id":63727285,"question_id":59052377,"body_markdown":"if you use Spring boot 2.3.3.RELEASE. then add in the POM the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nExample of use:\r\n\r\n    //update audTipo\r\n\t@PutMapping(&quot;audTipo/{id}&quot;)\r\n\tpublic ResponseEntity&lt;AudTipo&gt; update(@PathVariable(value=&quot;id&quot;) Integer audTipoId, \r\n\t\t\t@Valid @RequestBody AudTipo audTipoDetils) throws ResourceNotFundException\r\n\t{\t\r\n\t\t\r\n\t\t  AudTipo audTipo = audTipoRepository.findById(audTipoId).orElseThrow(()-&gt; new\r\n\t\t  ResourceNotFundException(&quot;NF &quot; + audTipoId));\r\n\t\t  audTipo.setXdesc(audTipoDetils.getXdesc());\r\n\t\t  \r\n\t\t  return ResponseEntity.ok(this.audTipoRepository.save(audTipo));\t \r\n\t}","title":"@valid annotation is not working as expected","body":"<p>if you use Spring boot 2.3.3.RELEASE. then add in the POM the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Example of use:</p>\n<pre><code>//update audTipo\n@PutMapping(&quot;audTipo/{id}&quot;)\npublic ResponseEntity&lt;AudTipo&gt; update(@PathVariable(value=&quot;id&quot;) Integer audTipoId, \n        @Valid @RequestBody AudTipo audTipoDetils) throws ResourceNotFundException\n{   \n    \n      AudTipo audTipo = audTipoRepository.findById(audTipoId).orElseThrow(()-&gt; new\n      ResourceNotFundException(&quot;NF &quot; + audTipoId));\n      audTipo.setXdesc(audTipoDetils.getXdesc());\n      \n      return ResponseEntity.ok(this.audTipoRepository.save(audTipo));    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17432142,"reputation":287,"user_id":12635940,"display_name":"Esther"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603604799,"creation_date":1603602373,"answer_id":64520537,"question_id":59052377,"body_markdown":"If your experiencing the issue of for example: not being able to see the validation errors (default-messages) returned back to the client, this is what you could do:\r\n\r\n**Top Solution 1:**\r\nSimply add devtools. This should solve the issue. After I did this, all my binding-results were returned back to the client. I recommend you to test this out first:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Solution 2:** \r\n\r\nI found out that this is due to using Spring Boot 2.3+\r\nSo if youre using Spring Boot 2.3 or higher, add this dependency in your pom.xml file as its no longer included within the &#39;web&#39;-dependency itself.\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nNow its necessary to set &#39;include binding errors&#39; in *java/resources/application.properties* to &quot;always&quot;. Same goes for &#39;message&#39; as well although I think this is optional.\r\n\r\n    server.error.include-message=always\r\n    server.error.include-binding-errors=always\r\n\r\n\r\n**Solution 3:** (before I discovered solution 2 which could be helpful as well)\r\n\r\nSo I found out that this is due to having Spring boot 2.3+. But I could not find caution-messages on the new updated usage of @Valid in Spring Boot v2.3+.\r\n\r\nSo I ended up switching back to Spring boot v2.2.10 (latest version of 2.2) by adjusting the release version in the pom.xml file like so:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nThis worked perfectly for me by rolling back to an older version. Although id like to update my Spring Boot version some day. (Revisit solution 1 &amp; 2)","title":"@valid annotation is not working as expected","body":"<p>If your experiencing the issue of for example: not being able to see the validation errors (default-messages) returned back to the client, this is what you could do:</p>\n<p><strong>Top Solution 1:</strong>\nSimply add devtools. This should solve the issue. After I did this, all my binding-results were returned back to the client. I recommend you to test this out first:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Solution 2:</strong></p>\n<p>I found out that this is due to using Spring Boot 2.3+\nSo if youre using Spring Boot 2.3 or higher, add this dependency in your pom.xml file as its no longer included within the 'web'-dependency itself.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now its necessary to set 'include binding errors' in <em>java/resources/application.properties</em> to &quot;always&quot;. Same goes for 'message' as well although I think this is optional.</p>\n<pre><code>server.error.include-message=always\nserver.error.include-binding-errors=always\n</code></pre>\n<p><strong>Solution 3:</strong> (before I discovered solution 2 which could be helpful as well)</p>\n<p>So I found out that this is due to having Spring boot 2.3+. But I could not find caution-messages on the new updated usage of @Valid in Spring Boot v2.3+.</p>\n<p>So I ended up switching back to Spring boot v2.2.10 (latest version of 2.2) by adjusting the release version in the pom.xml file like so:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>This worked perfectly for me by rolling back to an older version. Although id like to update my Spring Boot version some day. (Revisit solution 1 &amp; 2)</p>\n"},{"tags":[],"owner":{"account_id":22052500,"reputation":11,"user_id":16316561,"display_name":"T T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626586435,"creation_date":1626554707,"answer_id":68424159,"question_id":59052377,"body_markdown":"I know you are working with a Maven built but I had encountered similar issue that tags would not work integrated in a Gradle built.\r\n\r\nI solved it by getting the right version of the dependency.\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:2.4.0&#39;\r\n\r\ninstead of\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\nIf anybody knows if this is even correct but it works now.\r\n\r\n\r\n","title":"@valid annotation is not working as expected","body":"<p>I know you are working with a Maven built but I had encountered similar issue that tags would not work integrated in a Gradle built.</p>\n<p>I solved it by getting the right version of the dependency.</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-validation:2.4.0'\n</code></pre>\n<p>instead of</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-validation'\n</code></pre>\n<p>If anybody knows if this is even correct but it works now.</p>\n"},{"tags":[],"owner":{"account_id":276629,"reputation":7322,"user_id":570168,"accept_rate":94,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642332217,"creation_date":1642332217,"answer_id":70729569,"question_id":59052377,"body_markdown":"If you&#39;re using **Kotlin**, you need to use\r\n\r\n```kotlin\r\n  @field:Email() val email: String\r\n```\r\n\r\ninstad of\r\n\r\n```\r\n  @Email() val email: String\r\n```\r\nfor the validation to work.\r\n\r\n\r\nSee https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets and https://stackoverflow.com/a/36521309/570168","title":"@valid annotation is not working as expected","body":"<p>If you're using <strong>Kotlin</strong>, you need to use</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  @field:Email() val email: String\n</code></pre>\n<p>instad of</p>\n<pre><code>  @Email() val email: String\n</code></pre>\n<p>for the validation to work.</p>\n<p>See <a href=\"https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets</a> and <a href=\"https://stackoverflow.com/a/36521309/570168\">https://stackoverflow.com/a/36521309/570168</a></p>\n"}],"owner":{"account_id":7200349,"reputation":139,"user_id":5497780,"display_name":"karthikmunna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59052471,"answer_count":7,"score":4,"last_activity_date":1642332217,"creation_date":1574775994,"question_id":59052377,"body_markdown":"I am calling an API with the array of objects in the request payload, I have added @valid annotation along the @RequestBody to check if any null properties are sending in my payload. I am expecting if any null data i&#39;m sending it should throw an error. But My code is not throwing an error\r\n\r\n**Below is my Entity Class**\r\n\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @DynamicUpdate\r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n\t\r\n\t   @Id\r\n\t   @Column(name = &quot;student_id&quot;)\r\n\t   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t   private Integer studentId;\r\n\r\n       @NotNull\r\n\t   @Column(name = &quot;name&quot;)\r\n       private String name;\r\n\r\n       @NotNull\r\n\t   @Column(name = &quot;gender&quot;)\r\n       private String gender;\r\n\r\n    }\r\n\r\n\r\n**This is my Controller Class**\r\n\r\n\r\n    @RestController\r\n    @CrossOrigin\r\n    public class StudentController {\r\n  \r\n       @PostMapping(&quot;/class/{classId}/student&quot;)\r\n\t   public Student addStudent(@PathVariable Integer classId,@Valid @RequestBody List&lt;Student&gt;  \r\n               student) {\r\n       \r\n         // My logic Comes Here\r\n         return Student;\r\n        }\r\n      }\r\n\r\n**Dependency for Validation**\r\n   \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n**My Request Payload**\r\n\r\n    [{\r\n       &quot;name&quot;:&quot;kiran&quot;,\r\n       &quot;gender&quot;:&quot;male&quot;\r\n     },\r\n     {\r\n        &quot;name&quot;:&quot;divya&quot;\r\n     } \r\n    ]\r\n\r\n    \r\nWhen i send the above payload, i expect an error need to thrown, because i&#39;m not sending gender which is not null, But spring is not throwing any error.\r\n\r\nDo i miss something for @valid to work .\r\n\r\n\r\n","title":"@valid annotation is not working as expected","body":"<p>I am calling an API with the array of objects in the request payload, I have added @valid annotation along the @RequestBody to check if any null properties are sending in my payload. I am expecting if any null data i'm sending it should throw an error. But My code is not throwing an error</p>\n\n<p><strong>Below is my Entity Class</strong></p>\n\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@DynamicUpdate\n@Entity\n@Table(name = \"student\")\npublic class Student {\n\n   @Id\n   @Column(name = \"student_id\")\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Integer studentId;\n\n   @NotNull\n   @Column(name = \"name\")\n   private String name;\n\n   @NotNull\n   @Column(name = \"gender\")\n   private String gender;\n\n}\n</code></pre>\n\n<p><strong>This is my Controller Class</strong></p>\n\n<pre><code>@RestController\n@CrossOrigin\npublic class StudentController {\n\n   @PostMapping(\"/class/{classId}/student\")\n   public Student addStudent(@PathVariable Integer classId,@Valid @RequestBody List&lt;Student&gt;  \n           student) {\n\n     // My logic Comes Here\n     return Student;\n    }\n  }\n</code></pre>\n\n<p><strong>Dependency for Validation</strong></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>My Request Payload</strong></p>\n\n<pre><code>[{\n   \"name\":\"kiran\",\n   \"gender\":\"male\"\n },\n {\n    \"name\":\"divya\"\n } \n]\n</code></pre>\n\n<p>When i send the above payload, i expect an error need to thrown, because i'm not sending gender which is not null, But spring is not throwing any error.</p>\n\n<p>Do i miss something for @valid to work .</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":20338756,"reputation":26,"user_id":14918710,"display_name":"to ad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642329752,"creation_date":1642329752,"answer_id":70729303,"question_id":70729154,"body_markdown":"Looks like the package is just for oracle key vault users.\r\n\r\n 1. Access the Oracle Key Vault management console from the endpoint on\r\n    which you wish to deploy the SDK. The login page to the Oracle Key\r\n    Vault management console appears.\r\n 2. Do not log in. Click the Endpoint\r\n    Enrollment and Software Download link below the Login button.\r\n\r\n 3. Download Software Development Kit\r\n\r\nhttps://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html#GUID-884A8A4D-7D3C-417A-8BB2-3E25F7ED55DE","title":"How to download oracle okvja library to java code - without installing okv server","body":"<p>Looks like the package is just for oracle key vault users.</p>\n<ol>\n<li><p>Access the Oracle Key Vault management console from the endpoint on\nwhich you wish to deploy the SDK. The login page to the Oracle Key\nVault management console appears.</p>\n</li>\n<li><p>Do not log in. Click the Endpoint\nEnrollment and Software Download link below the Login button.</p>\n</li>\n<li><p>Download Software Development Kit</p>\n</li>\n</ol>\n<p><a href=\"https://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html#GUID-884A8A4D-7D3C-417A-8BB2-3E25F7ED55DE\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html#GUID-884A8A4D-7D3C-417A-8BB2-3E25F7ED55DE</a></p>\n"},{"tags":[],"owner":{"account_id":23547262,"reputation":75,"user_id":17590500,"display_name":"Leonardo Manzini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642330997,"creation_date":1642329809,"answer_id":70729307,"question_id":70729154,"body_markdown":"In my research I found this oracle documentation page, speaking about the Oracle Key Vault SDK and a download page, I think this may solve your problem.\r\n\r\nhttps://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html\r\n\r\nTo found the console login screen, try this link below, I think it is very explanatory:\r\n\r\nhttps://docs.oracle.com/cd/E50341_01/doc.1210/e41361.pdf\r\n\r\nThe page 44 has some information that looks like important\r\n\r\n[![login-screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8aGzh.png","title":"How to download oracle okvja library to java code - without installing okv server","body":"<p>In my research I found this oracle documentation page, speaking about the Oracle Key Vault SDK and a download page, I think this may solve your problem.</p>\n<p><a href=\"https://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html</a></p>\n<p>To found the console login screen, try this link below, I think it is very explanatory:</p>\n<p><a href=\"https://docs.oracle.com/cd/E50341_01/doc.1210/e41361.pdf\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E50341_01/doc.1210/e41361.pdf</a></p>\n<p>The page 44 has some information that looks like important</p>\n<p><a href=\"https://i.stack.imgur.com/8aGzh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8aGzh.png\" alt=\"login-screen\" /></a></p>\n"}],"owner":{"account_id":1253725,"reputation":6634,"user_id":1213618,"accept_rate":96,"display_name":"griffon vulture"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70729303,"answer_count":2,"score":0,"last_activity_date":1642331516,"creation_date":1642328516,"question_id":70729154,"body_markdown":"I want to use this oracle package https://docs.oracle.com/en/database/oracle/key-vault/21.1/okvja/oracle/okv/kmip/package-summary.html\r\n\r\nBut cannot see anywhere a jar I can download.\r\n\r\nWhat is the way to use this package on my code?\r\n\r\nUpdate: The guide says it can be download from an oracle key vault server. but I try to found a place to download without installing the server that is not a simple installation.","title":"How to download oracle okvja library to java code - without installing okv server","body":"<p>I want to use this oracle package <a href=\"https://docs.oracle.com/en/database/oracle/key-vault/21.1/okvja/oracle/okv/kmip/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/key-vault/21.1/okvja/oracle/okv/kmip/package-summary.html</a></p>\n<p>But cannot see anywhere a jar I can download.</p>\n<p>What is the way to use this package on my code?</p>\n<p>Update: The guide says it can be download from an oracle key vault server. but I try to found a place to download without installing the server that is not a simple installation.</p>\n"},{"tags":["java","string","list","collections","set"],"comments":[{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1365089853,"post_id":15815587,"comment_id":22495086,"body_markdown":"If your app involves Spring then it has a utility method [collectionToCommaDelimitedString](http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/util/StringUtils.html#collectionToCommaDelimitedString%28java.util.Collection%29).  I wouldn&#39;t pull the library in just for that but if you&#39;re using it already...","body":"If your app involves Spring then it has a utility method <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/util/StringUtils.html#collectionToCommaDelimitedString%28java.util.Collection%29\" rel=\"nofollow noreferrer\">collectionToCommaDelimitedString</a>.  I wouldn&#39;t pull the library in just for that but if you&#39;re using it already..."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":9,"creation_date":1365089960,"post_id":15815587,"comment_id":22495156,"body_markdown":"`List.toString` does it already, just remove the last and the first characters.","body":"<code>List.toString</code> does it already, just remove the last and the first characters."},{"owner":{"account_id":181901,"reputation":25638,"user_id":416224,"accept_rate":96,"display_name":"Kijewski"},"score":0,"creation_date":1365090314,"post_id":15815587,"comment_id":22495390,"body_markdown":"Including the leading `&quot;, &quot;`?","body":"Including the leading <code>&quot;, &quot;</code>?"},{"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"score":9,"creation_date":1540423073,"post_id":15815587,"comment_id":92864792,"body_markdown":"Java 8 has [a very straightforward way to do this](https://stackoverflow.com/a/10850885/792238): ```String.join(&quot;,&quot;, slist);```","body":"Java 8 has <a href=\"https://stackoverflow.com/a/10850885/792238\">a very straightforward way to do this</a>: <code>String.join(&quot;,&quot;, slist);</code>"},{"owner":{"account_id":5408631,"reputation":4063,"user_id":4306260,"accept_rate":30,"display_name":"User"},"score":5,"creation_date":1568184717,"post_id":15815587,"comment_id":102189716,"body_markdown":"One more candidate:\n`String string = result.stream().collect(Collectors.joining(&quot;, &quot;));`","body":"One more candidate: <code>String string = result.stream().collect(Collectors.joining(&quot;, &quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"down_vote_count":1,"up_vote_count":478,"is_accepted":true,"score":477,"last_activity_date":1642330698,"creation_date":1365089794,"answer_id":15815631,"question_id":15815587,"body_markdown":"Since Java 8:\r\n\r\n    String.join(&quot;,&quot;, slist);\r\n\r\nFrom Apache Commons library:\r\n\r\n    import org.apache.commons.lang3.StringUtils\r\n\r\nUse:\r\n\r\n    StringUtils.join(slist, &#39;,&#39;);\r\n\r\nAnother similar question and answer [here][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63258/1651233","title":"Best way to convert list to comma separated string in java","body":"<p>Since Java 8:</p>\n<pre><code>String.join(&quot;,&quot;, slist);\n</code></pre>\n<p>From Apache Commons library:</p>\n<pre><code>import org.apache.commons.lang3.StringUtils\n</code></pre>\n<p>Use:</p>\n<pre><code>StringUtils.join(slist, ',');\n</code></pre>\n<p>Another similar question and answer <a href=\"https://stackoverflow.com/a/63258/1651233\">here</a></p>\n"},{"tags":[],"owner":{"account_id":633608,"reputation":32281,"user_id":391554,"accept_rate":93,"display_name":"Dan D."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365089803,"creation_date":1365089803,"answer_id":15815637,"question_id":15815587,"body_markdown":"The `Separator` you are using is a UI component. You would be better using a simple `String sep = &quot;, &quot;`.\r\n","title":"Best way to convert list to comma separated string in java","body":"<p>The <code>Separator</code> you are using is a UI component. You would be better using a simple <code>String sep = \", \"</code>.</p>\n"},{"tags":[],"owner":{"account_id":181901,"reputation":25638,"user_id":416224,"accept_rate":96,"display_name":"Kijewski"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1365090563,"creation_date":1365090563,"answer_id":15815891,"question_id":15815587,"body_markdown":"You could count the total length of the string first, and pass it to the StringBuilder constructor. And you do not need to convert the Set first.\r\n\r\n\tSet&lt;String&gt; abc = new HashSet&lt;String&gt;();\r\n\tabc.add(&quot;A&quot;);\r\n\tabc.add(&quot;B&quot;);\r\n\tabc.add(&quot;C&quot;);\r\n\r\n\tString separator = &quot;, &quot;;\r\n\tint total = abc.size() * separator.length();\r\n\tfor (String s : abc) {\r\n\t\ttotal += s.length();\r\n\t}\r\n\r\n\tStringBuilder sb = new StringBuilder(total);\r\n\tfor (String s : abc) {\r\n\t\tsb.append(separator).append(s);\r\n\t}\r\n\r\n\tString result = sb.substring(separator.length()); // remove leading separator\r\n\r\n","title":"Best way to convert list to comma separated string in java","body":"<p>You could count the total length of the string first, and pass it to the StringBuilder constructor. And you do not need to convert the Set first.</p>\n\n<pre><code>Set&lt;String&gt; abc = new HashSet&lt;String&gt;();\nabc.add(\"A\");\nabc.add(\"B\");\nabc.add(\"C\");\n\nString separator = \", \";\nint total = abc.size() * separator.length();\nfor (String s : abc) {\n    total += s.length();\n}\n\nStringBuilder sb = new StringBuilder(total);\nfor (String s : abc) {\n    sb.append(separator).append(s);\n}\n\nString result = sb.substring(separator.length()); // remove leading separator\n</code></pre>\n"}],"owner":{"account_id":895543,"reputation":4499,"user_id":932919,"accept_rate":86,"display_name":"Mad-D"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392837,"favorite_count":0,"down_vote_count":1,"up_vote_count":180,"closed_date":1365114345,"accepted_answer_id":15815631,"answer_count":3,"score":179,"last_activity_date":1642330698,"creation_date":1365089672,"question_id":15815587,"body_markdown":"I have `Set&lt;String&gt; result` &amp; would like to convert it to comma separated string. My approach would be as shown below, but looking for other opinion as well.\r\n\r\n    List&lt;String&gt; slist = new ArrayList&lt;String&gt; (result);\r\n    StringBuilder rString = new StringBuilder();\r\n    \r\n    Separator sep = new Separator(&quot;, &quot;);\r\n    //String sep = &quot;, &quot;;\r\n    for (String each : slist) {\r\n        rString.append(sep).append(each);\r\n    }\r\n    \r\n    return rString;\r\n\r\n","title":"Best way to convert list to comma separated string in java","body":"<p>I have <code>Set&lt;String&gt; result</code> &amp; would like to convert it to comma separated string. My approach would be as shown below, but looking for other opinion as well.</p>\n\n<pre><code>List&lt;String&gt; slist = new ArrayList&lt;String&gt; (result);\nStringBuilder rString = new StringBuilder();\n\nSeparator sep = new Separator(\", \");\n//String sep = \", \";\nfor (String each : slist) {\n    rString.append(sep).append(each);\n}\n\nreturn rString;\n</code></pre>\n"},{"tags":["java","spring-boot","locale","spring-webflux"],"comments":[{"owner":{"account_id":2505472,"reputation":2664,"user_id":2179336,"display_name":"Dhawal Kapil"},"score":0,"creation_date":1592745503,"post_id":62498936,"comment_id":110528321,"body_markdown":"What is the locale you are expecting and what it is returning?","body":"What is the locale you are expecting and what it is returning?"},{"owner":{"account_id":1833925,"reputation":1433,"user_id":1664664,"accept_rate":58,"display_name":"Kevin"},"score":0,"creation_date":1592745644,"post_id":62498936,"comment_id":110528367,"body_markdown":"@DhawalKapil I have `message.properties` and `messages_fr.properties` but webflux always return default locale `en` not `fr`. It&#39;s okay with mvc.","body":"@DhawalKapil I have <code>message.properties</code> and <code>messages_fr.properties</code> but webflux always return default locale <code>en</code> not <code>fr</code>. It&#39;s okay with mvc."},{"owner":{"account_id":2505472,"reputation":2664,"user_id":2179336,"display_name":"Dhawal Kapil"},"score":2,"creation_date":1592747968,"post_id":62498936,"comment_id":110529229,"body_markdown":"I think it depends on the current JVM locale. I am not sure if there is anything Webflux/Web related to it.","body":"I think it depends on the current JVM locale. I am not sure if there is anything Webflux/Web related to it."}],"answers":[{"tags":[],"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1592765944,"creation_date":1592764426,"answer_id":62502873,"question_id":62498936,"body_markdown":"Do not use `LocaleContextHolder` in WebFlux environment but add `Locale` as a method parameter instead:\r\n\r\n```java\r\n@RestController\r\npublic class LocaleController {\r\n    @GetMapping(&quot;/locale&quot;)\r\n    String getLocale(Locale locale) {\r\n        return locale.toLanguageTag();\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n\r\n```bash\r\n$ curl localhost:8080/locale -H &#39;Accept-Language: en-US&#39;\r\nen-US\r\n$ curl localhost:8080/locale -H &#39;Accept-Language: en-GB&#39;\r\nen-GB\r\n```\r\n\r\nFor more info see:\r\n* [Spring WebFlux. Annotated Controllers. Method Arguments](https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-ann-arguments)","title":"How to get locale in Spring WebFlux?","body":"<p>Do not use <code>LocaleContextHolder</code> in WebFlux environment but add <code>Locale</code> as a method parameter instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class LocaleController {\n    @GetMapping(&quot;/locale&quot;)\n    String getLocale(Locale locale) {\n        return locale.toLanguageTag();\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ curl localhost:8080/locale -H 'Accept-Language: en-US'\nen-US\n$ curl localhost:8080/locale -H 'Accept-Language: en-GB'\nen-GB\n</code></pre>\n<p>For more info see:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-ann-arguments\" rel=\"noreferrer\">Spring WebFlux. Annotated Controllers. Method Arguments</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8936587,"reputation":11,"user_id":6667224,"display_name":"Ajay Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642330410,"creation_date":1642326826,"answer_id":70728964,"question_id":62498936,"body_markdown":"Earlier I was using spring-web dependency in my project and was able to get locale from WebRequest.\r\n\r\nBut when we have migrated project from spring-web to spring-web-flux then we can get locale using LocaleContextHolder as below:\r\n```\r\nLocale locale = LocaleContextHolder.getLocale();\r\n```","title":"How to get locale in Spring WebFlux?","body":"<p>Earlier I was using spring-web dependency in my project and was able to get locale from WebRequest.</p>\n<p>But when we have migrated project from spring-web to spring-web-flux then we can get locale using LocaleContextHolder as below:</p>\n<pre><code>Locale locale = LocaleContextHolder.getLocale();\n</code></pre>\n"}],"owner":{"account_id":1833925,"reputation":1433,"user_id":1664664,"accept_rate":58,"display_name":"Kevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2972,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62502873,"answer_count":2,"score":4,"last_activity_date":1642330410,"creation_date":1592744712,"question_id":62498936,"body_markdown":"I want to get current locale but the context always return default locale. It works with MVC but not with WebFlux.\r\n\r\nThank for your help!\r\n\r\n```\r\npackage co.example.demo.controller;\r\n\r\nimport org.springframework.context.MessageSource;\r\nimport org.springframework.context.i18n.LocaleContextHolder;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.Locale;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/hello&quot;)\r\npublic class HelloController {\r\n    private final MessageSource messageSource;\r\n\r\n    public HelloController(MessageSource messageSource) {\r\n        this.messageSource = messageSource;\r\n    }\r\n\r\n    @GetMapping\r\n    public String hello() {\r\n        Locale locale = LocaleContextHolder.getLocale();\r\n        return messageSource.getMessage(&quot;hello&quot;, null, locale);\r\n    }\r\n}\r\n```","title":"How to get locale in Spring WebFlux?","body":"<p>I want to get current locale but the context always return default locale. It works with MVC but not with WebFlux.</p>\n<p>Thank for your help!</p>\n<pre><code>package co.example.demo.controller;\n\nimport org.springframework.context.MessageSource;\nimport org.springframework.context.i18n.LocaleContextHolder;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Locale;\n\n@RestController\n@RequestMapping(&quot;/hello&quot;)\npublic class HelloController {\n    private final MessageSource messageSource;\n\n    public HelloController(MessageSource messageSource) {\n        this.messageSource = messageSource;\n    }\n\n    @GetMapping\n    public String hello() {\n        Locale locale = LocaleContextHolder.getLocale();\n        return messageSource.getMessage(&quot;hello&quot;, null, locale);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","image","image-processing","convolution"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642296278,"post_id":70726723,"comment_id":125033259,"body_markdown":"As a suggestion, you could either reduce the size of the output image to compensate or scale the &quot;good part&quot; of the image up to remove the edges - but I hope there is a better solution","body":"As a suggestion, you could either reduce the size of the output image to compensate or scale the &quot;good part&quot; of the image up to remove the edges - but I hope there is a better solution"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":1,"creation_date":1642330235,"post_id":70726723,"comment_id":125037619,"body_markdown":"lots of options https://docs.opencv.org/3.4/d2/de8/group__core__array.html#ga209f2f4869e304c82d07739337eae7c5 there is no &quot;good&quot; solution, the choice depends on the situation. `replicate` or `reflect` might be the most useful on average.","body":"lots of options <a href=\"https://docs.opencv.org/3.4/d2/de8/group__core__array.html#ga209f2f4869e304c82d07739337eae7c5\" rel=\"nofollow noreferrer\">docs.opencv.org/3.4/d2/de8/&hellip;</a> there is no &quot;good&quot; solution, the choice depends on the situation. <code>replicate</code> or <code>reflect</code> might be the most useful on average."},{"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"score":0,"creation_date":1642338827,"post_id":70726723,"comment_id":125039302,"body_markdown":"Thanks guys gives me a good start for moving forward","body":"Thanks guys gives me a good start for moving forward"}],"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642330364,"creation_date":1642295956,"question_id":70726723,"body_markdown":"I&#39;m trying to tidy up some of my github projects for a portfolio and was hoping for some help.\r\n\r\nI have a basic image convolution kernel program in java to apply a filter to an input image. \r\nThe kernels are 3x3 and 5x5 2D arrays and are applied across each pixel in the image. Obviously this causes issues around the edges where 3-5 cells in the kernels will be multiplied against empty values (causing the outer pixels in the image to be black or white)\r\n\r\nBelow are some examples of what I mean (the white pixel bar, not the grey part)\r\n\r\n \r\n[![this is an example of the pixel line across the lefthand side of the image][1]][1]\r\n\r\n\r\n[![This is an example of the pixel line across the top][2]][2]\r\n\r\n\r\nThe following is the crux of the code involving the image processing. \r\n\r\n    for (int xCoord = 0; xCoord &lt; (width); xCoord++) { // -2\r\n\t\t\tfor (int yCoord = 0; yCoord &lt; (height); yCoord++) {\r\n\r\n\t\t\t\t// Output Red, Green and Blue Values\r\n\t\t\t\tint outR, outG, outB, outA;\r\n\r\n\t\t\t\t// Temp red, green, blue values that will contain the total r/g/b values after\r\n\t\t\t\t// kernel multiplication\r\n\t\t\t\tdouble red = 0, green = 0, blue = 0, alpha = 0;\r\n\t\t\t\tint outRGB = 0;\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * Loop over the Kernel (For each cell in kernel)\r\n\t\t\t\t \tThe offset is added to the xCoord and yCoord to follow the footprint of the\r\n\t\t\t\t\tkernel\r\n\t\t\t\t \tThe logic behind below is that all kernels are uneven numbers (so they can\r\n\t\t\t\t \thave a centre pixel, 3x3 5x5 etc),\r\n\t\t\t\t \tthe offset needs to run from negative half their length (rounded down) to the\r\n\t\t\t\t \tpositive of half their length (rounded down)\r\n\t\t\t\t \tThis allows us to input kernels of various sizes (5x5, 9x9 etc) and the\r\n\t\t\t\t \tcalculation should not be thrown off\r\n\t\t\t\t */\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (int xOffset = Math.negateExact(k.getKernels().length / 2); xOffset &lt;= k.getKernels().length\r\n\t\t\t\t\t\t\t/ 2; xOffset++) {\r\n\t\t\t\t\t\tfor (int yOffset = Math.negateExact(k.getKernels().length / 2); yOffset &lt;= k.getKernels().length\r\n\t\t\t\t\t\t\t\t/ 2; yOffset++) {\r\n\r\nThe first 2 loops iterate over each pixel. The second 2 loops are looping over the kernel (A 2D array enum class) The offset is used to loop across the 3x3 or 5x5 kernel at each pixel in the image. \r\n\r\nFollows is my very basic attempt to wrap the pixels sampled so edge pixels will use values at the opposite side of the image but my main question is how would be best to handle these edge cases. If anyone has any pointers of where to start solving this it would be much appreciated. \r\n\r\n    // TODO //very basic wrapping logic\r\n\t\t\t\t\t\t\tint realX = (xCoord - k.getKernels().length / 2 + xOffset + width) % width;\r\n\t\t\t\t\t\t\tint realY = (yCoord - k.getKernels().length / 2 + yOffset + height) % height;\r\n\r\n\t\t\t\t\t\t\tint RGB = image.getRGB((realX), (realY)); // The RGB value for the pixel, will be split out\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// below\r\n\t\t\t\t\t\t\tint A = (RGB &gt;&gt; 24) &amp; 0xFF; // Bitshift 24 to get alpha value\r\n\t\t\t\t\t\t\tint R = (RGB &gt;&gt; 16) &amp; 0xFF; // Bitshift 16 to get Red Value\r\n\t\t\t\t\t\t\tint G = (RGB &gt;&gt; 8) &amp; 0xFF; // Bit Shift 8 to get Green Value\r\n\t\t\t\t\t\t\tint B = (RGB) &amp; 0xFF;\r\n\r\n\t\t\t\t\t\t\t// actual rgb * kernel logic\r\n\t\t\t\t\t\t\tred += (R * (k.getKernels()[yOffset + k.getKernels().length / 2])[xOffset\r\n\t\t\t\t\t\t\t\t\t+ k.getKernels().length / 2] * multiFactor);\r\n\t\t\t\t\t\t\tgreen += (G * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\r\n\t\t\t\t\t\t\t\t\t+ k.getKernels().length / 2] * multiFactor);\r\n\t\t\t\t\t\t\tblue += (B * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\r\n\t\t\t\t\t\t\t\t\t+ k.getKernels().length / 2] * multiFactor);\r\n\t\t\t\t\t\t\talpha += (A * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\r\n\t\t\t\t\t\t\t\t\t+ k.getKernels().length / 2] * multiFactor);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Error&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Logic here prevents pixel going over 255 or under 0\r\n\t\t\t\t// The &quot;winner&quot;of the max between the Colour value or 0(min pixel value) will be\r\n\t\t\t\t// Math.min with 255 (the max value for a pixel)\r\n\t\t\t\toutR = (int) Math.min(Math.max((red + bias), 0), 255);\r\n\t\t\t\toutG = (int) Math.min(Math.max((green + bias), 0), 255);\r\n\t\t\t\toutB = (int) Math.min(Math.max((blue + bias), 0), 255);\r\n\t\t\t\toutA = (int) Math.min(Math.max((alpha + bias), 0), 255);\r\n\r\n\t\t\t\t// Reassembling the separate color channels into one variable again.\r\n\t\t\t\toutRGB = outRGB | (outA &lt;&lt; 24);\r\n\t\t\t\toutRGB = outRGB | (outR &lt;&lt; 16);\r\n\t\t\t\toutRGB = outRGB | (outG &lt;&lt; 8);\r\n\t\t\t\toutRGB = outRGB | outB;\r\n\r\n\t\t\t\t// Setting with the reassembled RGB value\r\n\t\t\t\t// output.setRGB(xCoord, yCoord, outRGB);\r\n\r\nI&#39;m a bit stumped how to proceed but if anyone can suggest efficient ways to handle these edge cases or even point me in the right direction or even some constructive criticism for how to improve any of the code. If anyone&#39;s interested the full project is [here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uXczA.png\r\n  [2]: https://i.stack.imgur.com/WIW5P.png\r\n  [3]: https://github.com/Timmyctc/ImageProcessing","title":"Handling borders when applying a filter to an image","body":"<p>I'm trying to tidy up some of my github projects for a portfolio and was hoping for some help.</p>\n<p>I have a basic image convolution kernel program in java to apply a filter to an input image.\nThe kernels are 3x3 and 5x5 2D arrays and are applied across each pixel in the image. Obviously this causes issues around the edges where 3-5 cells in the kernels will be multiplied against empty values (causing the outer pixels in the image to be black or white)</p>\n<p>Below are some examples of what I mean (the white pixel bar, not the grey part)</p>\n<p><a href=\"https://i.stack.imgur.com/uXczA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uXczA.png\" alt=\"this is an example of the pixel line across the lefthand side of the image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WIW5P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WIW5P.png\" alt=\"This is an example of the pixel line across the top\" /></a></p>\n<p>The following is the crux of the code involving the image processing.</p>\n<pre><code>for (int xCoord = 0; xCoord &lt; (width); xCoord++) { // -2\n        for (int yCoord = 0; yCoord &lt; (height); yCoord++) {\n\n            // Output Red, Green and Blue Values\n            int outR, outG, outB, outA;\n\n            // Temp red, green, blue values that will contain the total r/g/b values after\n            // kernel multiplication\n            double red = 0, green = 0, blue = 0, alpha = 0;\n            int outRGB = 0;\n\n            /*\n             * Loop over the Kernel (For each cell in kernel)\n                The offset is added to the xCoord and yCoord to follow the footprint of the\n                kernel\n                The logic behind below is that all kernels are uneven numbers (so they can\n                have a centre pixel, 3x3 5x5 etc),\n                the offset needs to run from negative half their length (rounded down) to the\n                positive of half their length (rounded down)\n                This allows us to input kernels of various sizes (5x5, 9x9 etc) and the\n                calculation should not be thrown off\n             */\n            try {\n                for (int xOffset = Math.negateExact(k.getKernels().length / 2); xOffset &lt;= k.getKernels().length\n                        / 2; xOffset++) {\n                    for (int yOffset = Math.negateExact(k.getKernels().length / 2); yOffset &lt;= k.getKernels().length\n                            / 2; yOffset++) {\n</code></pre>\n<p>The first 2 loops iterate over each pixel. The second 2 loops are looping over the kernel (A 2D array enum class) The offset is used to loop across the 3x3 or 5x5 kernel at each pixel in the image.</p>\n<p>Follows is my very basic attempt to wrap the pixels sampled so edge pixels will use values at the opposite side of the image but my main question is how would be best to handle these edge cases. If anyone has any pointers of where to start solving this it would be much appreciated.</p>\n<pre><code>// TODO //very basic wrapping logic\n                        int realX = (xCoord - k.getKernels().length / 2 + xOffset + width) % width;\n                        int realY = (yCoord - k.getKernels().length / 2 + yOffset + height) % height;\n\n                        int RGB = image.getRGB((realX), (realY)); // The RGB value for the pixel, will be split out\n                                                                    // below\n                        int A = (RGB &gt;&gt; 24) &amp; 0xFF; // Bitshift 24 to get alpha value\n                        int R = (RGB &gt;&gt; 16) &amp; 0xFF; // Bitshift 16 to get Red Value\n                        int G = (RGB &gt;&gt; 8) &amp; 0xFF; // Bit Shift 8 to get Green Value\n                        int B = (RGB) &amp; 0xFF;\n\n                        // actual rgb * kernel logic\n                        red += (R * (k.getKernels()[yOffset + k.getKernels().length / 2])[xOffset\n                                + k.getKernels().length / 2] * multiFactor);\n                        green += (G * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\n                                + k.getKernels().length / 2] * multiFactor);\n                        blue += (B * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\n                                + k.getKernels().length / 2] * multiFactor);\n                        alpha += (A * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\n                                + k.getKernels().length / 2] * multiFactor);\n\n                    }\n                }\n            } catch (ArrayIndexOutOfBoundsException e) {\n                System.out.println(&quot;Error&quot;);\n            }\n\n            // Logic here prevents pixel going over 255 or under 0\n            // The &quot;winner&quot;of the max between the Colour value or 0(min pixel value) will be\n            // Math.min with 255 (the max value for a pixel)\n            outR = (int) Math.min(Math.max((red + bias), 0), 255);\n            outG = (int) Math.min(Math.max((green + bias), 0), 255);\n            outB = (int) Math.min(Math.max((blue + bias), 0), 255);\n            outA = (int) Math.min(Math.max((alpha + bias), 0), 255);\n\n            // Reassembling the separate color channels into one variable again.\n            outRGB = outRGB | (outA &lt;&lt; 24);\n            outRGB = outRGB | (outR &lt;&lt; 16);\n            outRGB = outRGB | (outG &lt;&lt; 8);\n            outRGB = outRGB | outB;\n\n            // Setting with the reassembled RGB value\n            // output.setRGB(xCoord, yCoord, outRGB);\n</code></pre>\n<p>I'm a bit stumped how to proceed but if anyone can suggest efficient ways to handle these edge cases or even point me in the right direction or even some constructive criticism for how to improve any of the code. If anyone's interested the full project is <a href=\"https://github.com/Timmyctc/ImageProcessing\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","android","cordova"],"owner":{"account_id":23955253,"reputation":23,"user_id":17946229,"display_name":"Micha Gruber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642329650,"creation_date":1642329650,"question_id":70729287,"body_markdown":"I&#180;ve tried to setup Cordova for days now. Without success. I tried every recommended solution google. Nothing worked. And I am close to freaking out now. I hope, you can help me.\r\n\r\nWhen I type Cordova requirements, I get the following error:\r\n\r\n&quot;Android SDK: installed true\r\nAndroid target: not installed\r\nCommand failed with exit code 1: avdmanager list target&quot;\r\n\r\nIt looks like this:\r\n[Error][1]\r\n\r\nI tried the following (As recommended by other posts):\r\n\r\n1.) Set Environment variables.\r\n\r\nANDROID_HOME: C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\r\n\r\nANDROID_SDK_ROOT: C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\r\n\r\nJAVA_HOME: C:\\Program Files\\Java\\jdk-16.0.1\r\n\r\nPath:\r\n\r\n      C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\emulator\r\n      C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\gradle\\bin\r\n      C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\platform-tools\r\n      C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\tools\\bin\r\n      C:\\Program Files\\Java\\jdk-16.0.1\\bin\r\nI also tried the Path variables with %ADNROID_HOME%. Same result. \r\n\r\n\r\nThey look like this: \r\n[Path][2] [Other variables][3]\r\n\r\n2.) In Android Studio I added devices with the AVL Manager. I tried API 26, 29 and 30.\r\n\r\n3.) In Android Studio I downloaded all the SKD Tools and added a platform for API 29.\r\n\r\n3.) I downgraded the JDK Version from 17.0.0 to 16.0.1.\r\n\r\n4.) I uninstalled and installed Java 8. \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bKvmw.png\r\n  [2]: https://i.stack.imgur.com/Ha8ib.png\r\n  [3]: https://i.stack.imgur.com/S2FIN.png","title":"Cordova- Error AndroidTarget not installed","body":"<p>I´ve tried to setup Cordova for days now. Without success. I tried every recommended solution google. Nothing worked. And I am close to freaking out now. I hope, you can help me.</p>\n<p>When I type Cordova requirements, I get the following error:</p>\n<p>&quot;Android SDK: installed true\nAndroid target: not installed\nCommand failed with exit code 1: avdmanager list target&quot;</p>\n<p>It looks like this:\n<a href=\"https://i.stack.imgur.com/bKvmw.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>I tried the following (As recommended by other posts):</p>\n<p>1.) Set Environment variables.</p>\n<p>ANDROID_HOME: C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk</p>\n<p>ANDROID_SDK_ROOT: C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk</p>\n<p>JAVA_HOME: C:\\Program Files\\Java\\jdk-16.0.1</p>\n<p>Path:</p>\n<pre><code>  C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\emulator\n  C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\gradle\\bin\n  C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\platform-tools\n  C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\tools\\bin\n  C:\\Program Files\\Java\\jdk-16.0.1\\bin\n</code></pre>\n<p>I also tried the Path variables with %ADNROID_HOME%. Same result.</p>\n<p>They look like this:\n<a href=\"https://i.stack.imgur.com/Ha8ib.png\" rel=\"nofollow noreferrer\">Path</a> <a href=\"https://i.stack.imgur.com/S2FIN.png\" rel=\"nofollow noreferrer\">Other variables</a></p>\n<p>2.) In Android Studio I added devices with the AVL Manager. I tried API 26, 29 and 30.</p>\n<p>3.) In Android Studio I downloaded all the SKD Tools and added a platform for API 29.</p>\n<p>3.) I downgraded the JDK Version from 17.0.0 to 16.0.1.</p>\n<p>4.) I uninstalled and installed Java 8.</p>\n"},{"tags":["java","spring-boot","webclient"],"answers":[{"tags":[],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642329350,"creation_date":1642329350,"answer_id":70729244,"question_id":70694578,"body_markdown":"I have solve this problem by using `.doOnError()` and `.onErrorReturn()`\r\n\r\nThis is my code below\r\n\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t//여기서 API를 호출할거임\r\n        DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL); //UriBuilder를 생성하는 옵션을 설정하는 DefaultUriBuilderFactory 인스턴스 생성\r\n        factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY); //encoding 모드 설정\r\n\r\n        \r\n        HttpClient client = HttpClient.create()\r\n        \t\t.responseTimeout(Duration.ofSeconds(60)); //http response timeout 설정을 60초로 설정함\r\n        \r\n        WebClient wc = WebClient.builder()\r\n        \t\t.uriBuilderFactory(factory) //위에서 만든 uri 인코딩 설정으로 uribuilder 설정을 함\r\n        \t\t.baseUrl(BASE_URL) //baseURI 설정하고\r\n        \t\t.clientConnector(new ReactorClientHttpConnector(client)) //위에서 만든 타임아웃 설정을 적용시키고\r\n        \t\t.build(); //빌드한다.\r\n        \r\n        result = new SweatherRootRes();\r\n        \r\n        //여기서 type mismatch 되는 부분을 찾아야함\r\n        Mono&lt;SweatherRootRes&gt; response = wc.get()\r\n                .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\r\n                        .queryParam(&quot;serviceKey&quot;, 123)\r\n                        .queryParam(&quot;numOfRows&quot;, swr.getNumOfRows())\r\n                        .queryParam(&quot;pageNo&quot;, swr.getPageNo())\r\n                        .queryParam(&quot;dataType&quot;, swr.getDataType())\r\n                        .queryParam(&quot;base_date&quot;, swr.getBase_date())\r\n                        .queryParam(&quot;base_time&quot;, swr.getBase_time())\r\n                        .queryParam(&quot;nx&quot;, swr.getNx()) //지역정보\r\n                        .queryParam(&quot;ny&quot;, swr.getNy()) //지역정보\r\n                        .build()) //위 쿼리들로 uri 빌드를 하고\r\n                .retrieve() //http 요청하고\r\n    \t\t\t.onStatus(HttpStatus::is4xxClientError,\r\n    \t\t\t\t\terror -&gt; Mono.error(new RuntimeException(&quot;API not found&quot;)))\r\n    \t\t\t.onStatus(HttpStatus::is5xxServerError,\r\n    \t\t\t\t\terror -&gt; Mono.error(new RuntimeException(&quot;Server is not responding&quot;)))\r\n                .bodyToMono(SweatherRootRes.class)//Mono로 값을 받고\r\n                .doOnError(e -&gt; logger.error(&quot;ERROR OCCUR!&quot;)) //에러 발생했을때 알려줌\r\n                .onErrorReturn(new SweatherRootRes(true));//에러 발생하면 위 객체를 return 해줌\r\n        \r\n        //비동기 방식으로 약간 콜백 메소드와 같은 역할을 하는것 같다.그래서  이부분은 api 연결이 성공했을때 들어오는 부분인것 같다.\r\n        response.subscribe(res -&gt; {\r\n        \tif(res.isError()) { //에러라면 진입\r\n        \t\tcallBack.failed(null, null); //callBack.failed() 호출\r\n        \t}else {\r\n\t        \tresult.setResponse(res.getResponse()); //response 값으로 설정\r\n\t        \tif(result.getResponse().getBody()!= null) {\r\n\t        \t\tgetTemp(result.getResponse().getBody().getItems()); //온도 구해서 세팅\r\n\t        \t\tlogger.info(temp.toString());\r\n\t            \tcallBack.completed(temp, null); //온도 값을 callBack에게 전달\r\n\t            \tcdl.countDown(); //Thread 수를 센다.\r\n\t        \t}else {\r\n\t        \t\tlogger.error(&quot;http reqeust has failed&quot;);\r\n\t        \t}        \t\t\r\n        \t}\r\n\r\n        });\r\n\t}","title":"How to handle UnsupportedMediaTypeException in Spring Boot?","body":"<p>I have solve this problem by using <code>.doOnError()</code> and <code>.onErrorReturn()</code></p>\n<p>This is my code below</p>\n<pre><code>@Override\npublic void run() {\n    //여기서 API를 호출할거임\n    DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL); //UriBuilder를 생성하는 옵션을 설정하는 DefaultUriBuilderFactory 인스턴스 생성\n    factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY); //encoding 모드 설정\n\n    \n    HttpClient client = HttpClient.create()\n            .responseTimeout(Duration.ofSeconds(60)); //http response timeout 설정을 60초로 설정함\n    \n    WebClient wc = WebClient.builder()\n            .uriBuilderFactory(factory) //위에서 만든 uri 인코딩 설정으로 uribuilder 설정을 함\n            .baseUrl(BASE_URL) //baseURI 설정하고\n            .clientConnector(new ReactorClientHttpConnector(client)) //위에서 만든 타임아웃 설정을 적용시키고\n            .build(); //빌드한다.\n    \n    result = new SweatherRootRes();\n    \n    //여기서 type mismatch 되는 부분을 찾아야함\n    Mono&lt;SweatherRootRes&gt; response = wc.get()\n            .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\n                    .queryParam(&quot;serviceKey&quot;, 123)\n                    .queryParam(&quot;numOfRows&quot;, swr.getNumOfRows())\n                    .queryParam(&quot;pageNo&quot;, swr.getPageNo())\n                    .queryParam(&quot;dataType&quot;, swr.getDataType())\n                    .queryParam(&quot;base_date&quot;, swr.getBase_date())\n                    .queryParam(&quot;base_time&quot;, swr.getBase_time())\n                    .queryParam(&quot;nx&quot;, swr.getNx()) //지역정보\n                    .queryParam(&quot;ny&quot;, swr.getNy()) //지역정보\n                    .build()) //위 쿼리들로 uri 빌드를 하고\n            .retrieve() //http 요청하고\n            .onStatus(HttpStatus::is4xxClientError,\n                    error -&gt; Mono.error(new RuntimeException(&quot;API not found&quot;)))\n            .onStatus(HttpStatus::is5xxServerError,\n                    error -&gt; Mono.error(new RuntimeException(&quot;Server is not responding&quot;)))\n            .bodyToMono(SweatherRootRes.class)//Mono로 값을 받고\n            .doOnError(e -&gt; logger.error(&quot;ERROR OCCUR!&quot;)) //에러 발생했을때 알려줌\n            .onErrorReturn(new SweatherRootRes(true));//에러 발생하면 위 객체를 return 해줌\n    \n    //비동기 방식으로 약간 콜백 메소드와 같은 역할을 하는것 같다.그래서  이부분은 api 연결이 성공했을때 들어오는 부분인것 같다.\n    response.subscribe(res -&gt; {\n        if(res.isError()) { //에러라면 진입\n            callBack.failed(null, null); //callBack.failed() 호출\n        }else {\n            result.setResponse(res.getResponse()); //response 값으로 설정\n            if(result.getResponse().getBody()!= null) {\n                getTemp(result.getResponse().getBody().getItems()); //온도 구해서 세팅\n                logger.info(temp.toString());\n                callBack.completed(temp, null); //온도 값을 callBack에게 전달\n                cdl.countDown(); //Thread 수를 센다.\n            }else {\n                logger.error(&quot;http reqeust has failed&quot;);\n            }               \n        }\n\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70729244,"answer_count":1,"score":0,"last_activity_date":1642329350,"creation_date":1642067765,"question_id":70694578,"body_markdown":"Hello I&#39;m trying to call API by using Webclient in spring boot.\r\n\r\nBut I&#39;m having some issue.\r\n\r\nAlthough the response I requested is a json response, the server gives me an xml response when server error occur.\r\n\r\nSo I am getting UnsupportedMediaTypeException error when server error occur.\r\n\r\nTherefore I would like to make a buisness logic that can send me an email when UnsupportedMediaTypeException error occurs.\r\n\r\nHow can I handle UnsupportedMediaTypeException??\r\n\r\nThe code below is my api call code.\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n    \t//여기서 API를 호출할거임\r\n        DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL); //UriBuilder를 생성하는 옵션을 설정하는 DefaultUriBuilderFactory 인스턴스 생성\r\n        factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY); //encoding 모드 설정\r\n    \r\n        \r\n        HttpClient client = HttpClient.create()\r\n        \t\t.responseTimeout(Duration.ofSeconds(60)); //http response timeout 설정을 60초로 설정함\r\n        \r\n        WebClient wc = WebClient.builder()\r\n        \t\t.uriBuilderFactory(factory) //위에서 만든 uri 인코딩 설정으로 uribuilder 설정을 함\r\n        \t\t.baseUrl(BASE_URL) //baseURI 설정하고\r\n        \t\t.clientConnector(new ReactorClientHttpConnector(client)) //위에서 만든 타임아웃 설정을 적용시키고\r\n        \t\t.build(); //빌드한다.\r\n        \r\n        result = new SweatherRootRes();\r\n        \r\n        Mono&lt;SweatherRootRes&gt; response = wc.get()\r\n                .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\r\n                        .queryParam(&quot;serviceKey&quot;, swr.getServiceKey())\r\n                        .queryParam(&quot;numOfRows&quot;, swr.getNumOfRows())\r\n                        .queryParam(&quot;pageNo&quot;, swr.getPageNo())\r\n                        .queryParam(&quot;dataType&quot;, swr.getDataType())\r\n                        .queryParam(&quot;base_date&quot;, swr.getBase_date())\r\n                        .queryParam(&quot;base_time&quot;, swr.getBase_time())\r\n                        .queryParam(&quot;nx&quot;, swr.getNx()) //지역정보\r\n                        .queryParam(&quot;ny&quot;, swr.getNy()) //지역정보\r\n                        .build()) //위 쿼리들로 uri 빌드를 하고\r\n                .retrieve() //http 요청하고\r\n    \t\t\t.onStatus(HttpStatus::is4xxClientError,\r\n    \t\t\t\t\terror -&gt; Mono.error(new RuntimeException(&quot;API not found&quot;)))\r\n    \t\t\t.onStatus(HttpStatus::is5xxServerError,\r\n    \t\t\t\t\terror -&gt; Mono.error(new RuntimeException(&quot;Server is not responding&quot;)))\r\n                .bodyToMono(SweatherRootRes.class);//Mono로 값을 받고\r\n        \r\n        //여기서 type mismatch 되는 부분을 찾아야함\r\n        \r\n        //비동기 방식으로 약간 콜백 메소드와 같은 역할을 하는것 같다.그래서  이부분은 api 연결이 성공했을때 들어오는 부분인것 같다.\r\n        response.subscribe(res -&gt; {\r\n        \tresult.setResponse(res.getResponse());\r\n        \tif(result.getResponse().getBody()!= null) {\r\n        \t\tgetTemp(result.getResponse().getBody().getItems());\r\n        \t\tlogger.info(temp.toString());\r\n            \tcallBack.completed(temp, null);\r\n            \tcdl.countDown();\r\n        \t}else {\r\n        \t\tlogger.error(&quot;http reqeust has failed&quot;);\r\n        \t}\r\n        });\r\n    \t\r\n    } ","title":"How to handle UnsupportedMediaTypeException in Spring Boot?","body":"<p>Hello I'm trying to call API by using Webclient in spring boot.</p>\n<p>But I'm having some issue.</p>\n<p>Although the response I requested is a json response, the server gives me an xml response when server error occur.</p>\n<p>So I am getting UnsupportedMediaTypeException error when server error occur.</p>\n<p>Therefore I would like to make a buisness logic that can send me an email when UnsupportedMediaTypeException error occurs.</p>\n<p>How can I handle UnsupportedMediaTypeException??</p>\n<p>The code below is my api call code.</p>\n<pre><code>@Override\npublic void run() {\n    //여기서 API를 호출할거임\n    DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL); //UriBuilder를 생성하는 옵션을 설정하는 DefaultUriBuilderFactory 인스턴스 생성\n    factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY); //encoding 모드 설정\n\n    \n    HttpClient client = HttpClient.create()\n            .responseTimeout(Duration.ofSeconds(60)); //http response timeout 설정을 60초로 설정함\n    \n    WebClient wc = WebClient.builder()\n            .uriBuilderFactory(factory) //위에서 만든 uri 인코딩 설정으로 uribuilder 설정을 함\n            .baseUrl(BASE_URL) //baseURI 설정하고\n            .clientConnector(new ReactorClientHttpConnector(client)) //위에서 만든 타임아웃 설정을 적용시키고\n            .build(); //빌드한다.\n    \n    result = new SweatherRootRes();\n    \n    Mono&lt;SweatherRootRes&gt; response = wc.get()\n            .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\n                    .queryParam(&quot;serviceKey&quot;, swr.getServiceKey())\n                    .queryParam(&quot;numOfRows&quot;, swr.getNumOfRows())\n                    .queryParam(&quot;pageNo&quot;, swr.getPageNo())\n                    .queryParam(&quot;dataType&quot;, swr.getDataType())\n                    .queryParam(&quot;base_date&quot;, swr.getBase_date())\n                    .queryParam(&quot;base_time&quot;, swr.getBase_time())\n                    .queryParam(&quot;nx&quot;, swr.getNx()) //지역정보\n                    .queryParam(&quot;ny&quot;, swr.getNy()) //지역정보\n                    .build()) //위 쿼리들로 uri 빌드를 하고\n            .retrieve() //http 요청하고\n            .onStatus(HttpStatus::is4xxClientError,\n                    error -&gt; Mono.error(new RuntimeException(&quot;API not found&quot;)))\n            .onStatus(HttpStatus::is5xxServerError,\n                    error -&gt; Mono.error(new RuntimeException(&quot;Server is not responding&quot;)))\n            .bodyToMono(SweatherRootRes.class);//Mono로 값을 받고\n    \n    //여기서 type mismatch 되는 부분을 찾아야함\n    \n    //비동기 방식으로 약간 콜백 메소드와 같은 역할을 하는것 같다.그래서  이부분은 api 연결이 성공했을때 들어오는 부분인것 같다.\n    response.subscribe(res -&gt; {\n        result.setResponse(res.getResponse());\n        if(result.getResponse().getBody()!= null) {\n            getTemp(result.getResponse().getBody().getItems());\n            logger.info(temp.toString());\n            callBack.completed(temp, null);\n            cdl.countDown();\n        }else {\n            logger.error(&quot;http reqeust has failed&quot;);\n        }\n    });\n    \n} \n</code></pre>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1642329198,"post_id":70728972,"comment_id":125037421,"body_markdown":"The policy is about the file size, which is compressed, not about the uncompressed log size. I&#39;m not sure why you think it would or should do this on the uncompressed file.","body":"The policy is about the file size, which is compressed, not about the uncompressed log size. I&#39;m not sure why you think it would or should do this on the uncompressed file."},{"owner":{"account_id":19878103,"reputation":11,"user_id":14562676,"display_name":"hgxzn"},"score":0,"creation_date":1642330356,"post_id":70728972,"comment_id":125037648,"body_markdown":"My understanding is that when the log file reaches 100MB, the roll is triggered,and then the log file will be compressed,and my question is why still is 100MB after compression","body":"My understanding is that when the log file reaches 100MB, the roll is triggered,and then the log file will be compressed,and my question is why still is 100MB after compression"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1642330652,"post_id":70728972,"comment_id":125037701,"body_markdown":"That would be inefficient, I would rather think it compresses while logging (though I haven&#39;t checked if Log4J actually does that).","body":"That would be inefficient, I would rather think it compresses while logging (though I haven&#39;t checked if Log4J actually does that)."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1642372551,"post_id":70728972,"comment_id":125047426,"body_markdown":"Mark, Log4j checks the size of the current (uncompressed) file `FDI.log` so the size of the rotated ones should be smaller. My guess is that the configuration was changed many times and at one point `FDI.log` was allowed to grow much larger than 100MB.","body":"Mark, Log4j checks the size of the current (uncompressed) file <code>FDI.log</code> so the size of the rotated ones should be smaller. My guess is that the configuration was changed many times and at one point <code>FDI.log</code> was allowed to grow much larger than 100MB."}],"owner":{"account_id":19878103,"reputation":11,"user_id":14562676,"display_name":"hgxzn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642329298,"creation_date":1642326903,"question_id":70728972,"body_markdown":"The configuration file of Log4j 2 is shown below,the following XML fragment defines policies that rollover the log when the log size reaches hundred megabytes\r\n\r\n```xml\r\n&lt;RollingFile name=&quot;service&quot; fileName=&quot;${log_path}/service/FDI.log&quot;\r\n                         filePattern=&quot;${log_path}/service/$${date:yyyyMMdd}/proc-FDI-service-${env:HOST_IP}-%d{yyyyMMdd}-%i.log.zip&quot;\r\n                         filePermissions=&quot;rwxrwxrwx&quot;\r\n                         &gt;\r\n\r\n        &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d [%t] [%X{FLOWNO}] [%X{IP}] (%c.%M:%L) [%-5p] - %m%n&lt;/Pattern&gt;\r\n        &lt;/PatternLayout&gt;\r\n\r\n        &lt;Policies&gt;                               \r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;                               \r\n                &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\r\n        &lt;/Policies&gt;\r\n\r\n        &lt;DefaultRolloverStrategy max=&quot;999&quot; compressionLevel=&quot;9&quot;/&gt;\r\n&lt;/RollingFile&gt;\r\n```\r\n\r\nIndeed, a compressed file was generated.\r\n\r\nWhy still is it 100MB after compression?\r\n\r\n```none\r\n-rwxrwxrwx 1 dcits dcits 101M Jan 16 17:00 proc-FDI-service--20220116-3.log.zip\r\n```","title":"Why does Log4j SizeBasedTriggerPolicy use the compressed size as a trigger to roll-over?","body":"<p>The configuration file of Log4j 2 is shown below,the following XML fragment defines policies that rollover the log when the log size reaches hundred megabytes</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RollingFile name=&quot;service&quot; fileName=&quot;${log_path}/service/FDI.log&quot;\n                         filePattern=&quot;${log_path}/service/$${date:yyyyMMdd}/proc-FDI-service-${env:HOST_IP}-%d{yyyyMMdd}-%i.log.zip&quot;\n                         filePermissions=&quot;rwxrwxrwx&quot;\n                         &gt;\n\n        &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d [%t] [%X{FLOWNO}] [%X{IP}] (%c.%M:%L) [%-5p] - %m%n&lt;/Pattern&gt;\n        &lt;/PatternLayout&gt;\n\n        &lt;Policies&gt;                               \n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;                               \n                &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\n        &lt;/Policies&gt;\n\n        &lt;DefaultRolloverStrategy max=&quot;999&quot; compressionLevel=&quot;9&quot;/&gt;\n&lt;/RollingFile&gt;\n</code></pre>\n<p>Indeed, a compressed file was generated.</p>\n<p>Why still is it 100MB after compression?</p>\n<pre class=\"lang-none prettyprint-override\"><code>-rwxrwxrwx 1 dcits dcits 101M Jan 16 17:00 proc-FDI-service--20220116-3.log.zip\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":14931065,"reputation":111,"user_id":10780453,"display_name":"Sathishkumar G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642328557,"creation_date":1642321565,"answer_id":70728440,"question_id":70727670,"body_markdown":"Add this code on CartActivity \r\n```\r\nrecycler_cart.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n```\r\nonCreate","title":"Firebase data not displaying in Recycler view. How do I display user specific data from firebase in recyclerview?","body":"<p>Add this code on CartActivity</p>\n<pre><code>recycler_cart.setLayoutManager(new LinearLayoutManager(getActivity()));\n</code></pre>\n<p>onCreate</p>\n"}],"owner":{"account_id":21576434,"reputation":17,"user_id":15908480,"display_name":"Francis Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70728440,"answer_count":1,"score":1,"last_activity_date":1642328775,"creation_date":1642311886,"question_id":70727670,"body_markdown":"I have attached the firebase data image at the bottom for reference. I have a list of users. In that few users have a node called Cart. I need to display the data in the cart for that specific user. \r\n\r\nBelow is my Activity code\r\n\r\n````\r\npackage com.shopping.grocery_ekart.Activities;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.shopping.grocery_ekart.Adapters.AdapterOrderUser;\r\nimport com.shopping.grocery_ekart.Adapters.AdapterProductUser;\r\nimport com.shopping.grocery_ekart.Adapters.CartAdapter;\r\nimport com.shopping.grocery_ekart.Models.CartModel;\r\nimport com.shopping.grocery_ekart.Models.ModelOrderUser;\r\nimport com.shopping.grocery_ekart.Models.ModelProduct;\r\nimport com.shopping.grocery_ekart.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class CartActivity extends AppCompatActivity {\r\n\r\n    private FirebaseAuth firebaseAuth;\r\n    private RecyclerView recycler_cart;\r\n\r\n    private ArrayList&lt;CartModel&gt; cartList;\r\n    private CartAdapter cartAdapter;\r\n    \r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cart);\r\n        \r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n\r\n        recycler_cart = findViewById(R.id.recycler_cart);\r\n        \r\n        loadCartItems();\r\n    }\r\n\r\n    private void loadCartItems() {\r\n        //init list\r\n        //get orders\r\n        cartList = new ArrayList&lt;&gt;();\r\n        String timestamp = &quot;&quot;+System.currentTimeMillis();\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;Cart&quot;);\r\n        reference.orderByChild(&quot;uid&quot;).equalTo(firebaseAuth.getUid())\r\n\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        //clear list before adding item\r\n                        cartList.clear();\r\n                        for (DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                            CartModel cartModel = ds.getValue(CartModel.class);\r\n                            cartList.add(cartModel);\r\n\r\n                        }\r\n\r\n                        //setup adapter\r\n                        cartAdapter = new CartAdapter(CartActivity.this, cartList);\r\n                        //set adapter\r\n                        recycler_cart.setAdapter(cartAdapter);\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n    }\r\n}\r\n````\r\n\r\nHere is my adapter class\r\n\r\n````\r\npackage com.shopping.grocery_ekart.Adapters;\r\n\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.shopping.grocery_ekart.Models.CartModel;\r\nimport com.shopping.grocery_ekart.Models.ModelProduct;\r\nimport com.shopping.grocery_ekart.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class CartAdapter extends RecyclerView.Adapter&lt;CartAdapter.HolderCart&gt; {\r\n\r\n    private Context context;\r\n    public ArrayList&lt;CartModel&gt; cartList;\r\n\r\n    private FirebaseAuth firebaseAuth;\r\n\r\n    public CartAdapter(Context context, ArrayList&lt;CartModel&gt; cartList) {\r\n        this.context = context;\r\n        this.cartList = cartList;\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public HolderCart onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.cart_itmes, parent, false);\r\n        return new HolderCart(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull HolderCart holder, int position) {\r\n        //get data\r\n        CartModel cartModel = cartList.get(position);\r\n        String addedBy = cartModel.getAddedBy();\r\n        String itemId = cartModel.getItem_Id();\r\n        String productId = cartModel.getItem_PID();\r\n        String title = cartModel.getItem_Name();\r\n        String priceEach = cartModel.getItem_Price_Each();\r\n        String price = cartModel.getItem_Price();\r\n        String quantity = cartModel.getItem_Quantity();\r\n        String availableStock = cartModel.getAvailable_Stock();\r\n\r\n        //set data\r\n        holder.txtName.setText(title);\r\n        holder.txtQuantity.setText(quantity);\r\n        holder.txtPrice.setText(&quot;₹&quot; + price);\r\n        holder.priceEach.setText(&quot;₹&quot; + priceEach);\r\n        holder.availability.setText(availableStock);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return cartList.size();\r\n    }\r\n\r\n    class HolderCart extends RecyclerView.ViewHolder {\r\n\r\n        private TextView txtName, txtQuantity, txtPrice, priceEach, availability;\r\n        private ImageView imageView, btnMinus, btnPlus, btnDelete;\r\n\r\n        public HolderCart(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            //init ui views\r\n            txtName = itemView.findViewById(R.id.txtName);\r\n            txtQuantity = itemView.findViewById(R.id.txtQuantity);\r\n            txtPrice = itemView.findViewById(R.id.txtPrice);\r\n            priceEach = itemView.findViewById(R.id.priceEach);\r\n            imageView = itemView.findViewById(R.id.imageView);\r\n            btnMinus = itemView.findViewById(R.id.btnMinus);\r\n            btnPlus = itemView.findViewById(R.id.btnPlus);\r\n            btnDelete = itemView.findViewById(R.id.btnDelete);\r\n            availability = itemView.findViewById(R.id.availability);\r\n\r\n        }\r\n    }\r\n\r\n}\r\n````\r\n\r\nHere is my Model class\r\n````\r\npackage com.shopping.grocery_ekart.Models;\r\n\r\n\r\npublic class CartModel {\r\n\r\n    private String AddedBy, Item_Id, Item_PID, Item_Name, Item_Price_Each, Item_Price, Item_Quantity, Available_Stock;\r\n\r\n    public CartModel() {\r\n\r\n    }\r\n\r\n    public CartModel(String addedBy, String itemId, String productId, String title, String priceEach,\r\n                     String price, String quantity, String availableStock) {\r\n\r\n        AddedBy = addedBy;\r\n        Item_Id = itemId;\r\n        Item_PID = productId;\r\n        Item_Name = title;\r\n        Item_Price_Each = priceEach;\r\n        Item_Price = price;\r\n        Item_Quantity = quantity;\r\n        Available_Stock = availableStock;\r\n\r\n    }\r\n\r\n    public String getAddedBy() {\r\n        return AddedBy;\r\n    }\r\n\r\n    public void setAddedBy(String addedBy) {\r\n        AddedBy = addedBy;\r\n    }\r\n\r\n    public String getItem_Id() {\r\n        return Item_Id;\r\n    }\r\n\r\n    public void setItem_Id(String item_Id) {\r\n        Item_Id = item_Id;\r\n    }\r\n\r\n    public String getItem_PID() {\r\n        return Item_PID;\r\n    }\r\n\r\n    public void setItem_PID(String item_PID) {\r\n        Item_PID = item_PID;\r\n    }\r\n\r\n    public String getItem_Name() {\r\n        return Item_Name;\r\n    }\r\n\r\n    public void setItem_Name(String item_Name) {\r\n        Item_Name = item_Name;\r\n    }\r\n\r\n    public String getItem_Price_Each() {\r\n        return Item_Price_Each;\r\n    }\r\n\r\n    public void setItem_Price_Each(String item_Price_Each) {\r\n        Item_Price_Each = item_Price_Each;\r\n    }\r\n\r\n    public String getItem_Price() {\r\n        return Item_Price;\r\n    }\r\n\r\n    public void setItem_Price(String item_Price) {\r\n        Item_Price = item_Price;\r\n    }\r\n\r\n    public String getItem_Quantity() {\r\n        return Item_Quantity;\r\n    }\r\n\r\n    public void setItem_Quantity(String item_Quantity) {\r\n        Item_Quantity = item_Quantity;\r\n    }\r\n\r\n    public String getAvailable_Stock() {\r\n        return Available_Stock;\r\n    }\r\n\r\n    public void setAvailable_Stock(String available_Stock) {\r\n        Available_Stock = available_Stock;\r\n    }\r\n}\r\n````\r\n\r\nI have a list of users. In that few users have a node called Cart. I need to display the data in the cart for that specific user. \r\n\r\n![enter image description here][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PUsV0.png","title":"Firebase data not displaying in Recycler view. How do I display user specific data from firebase in recyclerview?","body":"<p>I have attached the firebase data image at the bottom for reference. I have a list of users. In that few users have a node called Cart. I need to display the data in the cart for that specific user.</p>\n<p>Below is my Activity code</p>\n<pre><code>package com.shopping.grocery_ekart.Activities;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.shopping.grocery_ekart.Adapters.AdapterOrderUser;\nimport com.shopping.grocery_ekart.Adapters.AdapterProductUser;\nimport com.shopping.grocery_ekart.Adapters.CartAdapter;\nimport com.shopping.grocery_ekart.Models.CartModel;\nimport com.shopping.grocery_ekart.Models.ModelOrderUser;\nimport com.shopping.grocery_ekart.Models.ModelProduct;\nimport com.shopping.grocery_ekart.R;\n\nimport java.util.ArrayList;\n\npublic class CartActivity extends AppCompatActivity {\n\n    private FirebaseAuth firebaseAuth;\n    private RecyclerView recycler_cart;\n\n    private ArrayList&lt;CartModel&gt; cartList;\n    private CartAdapter cartAdapter;\n    \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_cart);\n        \n        firebaseAuth = FirebaseAuth.getInstance();\n\n        recycler_cart = findViewById(R.id.recycler_cart);\n        \n        loadCartItems();\n    }\n\n    private void loadCartItems() {\n        //init list\n        //get orders\n        cartList = new ArrayList&lt;&gt;();\n        String timestamp = &quot;&quot;+System.currentTimeMillis();\n\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;Cart&quot;);\n        reference.orderByChild(&quot;uid&quot;).equalTo(firebaseAuth.getUid())\n\n                .addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                        //clear list before adding item\n                        cartList.clear();\n                        for (DataSnapshot ds : dataSnapshot.getChildren()) {\n                            CartModel cartModel = ds.getValue(CartModel.class);\n                            cartList.add(cartModel);\n\n                        }\n\n                        //setup adapter\n                        cartAdapter = new CartAdapter(CartActivity.this, cartList);\n                        //set adapter\n                        recycler_cart.setAdapter(cartAdapter);\n\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n    }\n}\n</code></pre>\n<p>Here is my adapter class</p>\n<pre><code>package com.shopping.grocery_ekart.Adapters;\n\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.shopping.grocery_ekart.Models.CartModel;\nimport com.shopping.grocery_ekart.Models.ModelProduct;\nimport com.shopping.grocery_ekart.R;\n\nimport java.util.ArrayList;\n\n\npublic class CartAdapter extends RecyclerView.Adapter&lt;CartAdapter.HolderCart&gt; {\n\n    private Context context;\n    public ArrayList&lt;CartModel&gt; cartList;\n\n    private FirebaseAuth firebaseAuth;\n\n    public CartAdapter(Context context, ArrayList&lt;CartModel&gt; cartList) {\n        this.context = context;\n        this.cartList = cartList;\n\n        firebaseAuth = FirebaseAuth.getInstance();\n    }\n\n\n    @NonNull\n    @Override\n    public HolderCart onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.cart_itmes, parent, false);\n        return new HolderCart(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull HolderCart holder, int position) {\n        //get data\n        CartModel cartModel = cartList.get(position);\n        String addedBy = cartModel.getAddedBy();\n        String itemId = cartModel.getItem_Id();\n        String productId = cartModel.getItem_PID();\n        String title = cartModel.getItem_Name();\n        String priceEach = cartModel.getItem_Price_Each();\n        String price = cartModel.getItem_Price();\n        String quantity = cartModel.getItem_Quantity();\n        String availableStock = cartModel.getAvailable_Stock();\n\n        //set data\n        holder.txtName.setText(title);\n        holder.txtQuantity.setText(quantity);\n        holder.txtPrice.setText(&quot;₹&quot; + price);\n        holder.priceEach.setText(&quot;₹&quot; + priceEach);\n        holder.availability.setText(availableStock);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return cartList.size();\n    }\n\n    class HolderCart extends RecyclerView.ViewHolder {\n\n        private TextView txtName, txtQuantity, txtPrice, priceEach, availability;\n        private ImageView imageView, btnMinus, btnPlus, btnDelete;\n\n        public HolderCart(@NonNull View itemView) {\n            super(itemView);\n\n            //init ui views\n            txtName = itemView.findViewById(R.id.txtName);\n            txtQuantity = itemView.findViewById(R.id.txtQuantity);\n            txtPrice = itemView.findViewById(R.id.txtPrice);\n            priceEach = itemView.findViewById(R.id.priceEach);\n            imageView = itemView.findViewById(R.id.imageView);\n            btnMinus = itemView.findViewById(R.id.btnMinus);\n            btnPlus = itemView.findViewById(R.id.btnPlus);\n            btnDelete = itemView.findViewById(R.id.btnDelete);\n            availability = itemView.findViewById(R.id.availability);\n\n        }\n    }\n\n}\n</code></pre>\n<p>Here is my Model class</p>\n<pre><code>package com.shopping.grocery_ekart.Models;\n\n\npublic class CartModel {\n\n    private String AddedBy, Item_Id, Item_PID, Item_Name, Item_Price_Each, Item_Price, Item_Quantity, Available_Stock;\n\n    public CartModel() {\n\n    }\n\n    public CartModel(String addedBy, String itemId, String productId, String title, String priceEach,\n                     String price, String quantity, String availableStock) {\n\n        AddedBy = addedBy;\n        Item_Id = itemId;\n        Item_PID = productId;\n        Item_Name = title;\n        Item_Price_Each = priceEach;\n        Item_Price = price;\n        Item_Quantity = quantity;\n        Available_Stock = availableStock;\n\n    }\n\n    public String getAddedBy() {\n        return AddedBy;\n    }\n\n    public void setAddedBy(String addedBy) {\n        AddedBy = addedBy;\n    }\n\n    public String getItem_Id() {\n        return Item_Id;\n    }\n\n    public void setItem_Id(String item_Id) {\n        Item_Id = item_Id;\n    }\n\n    public String getItem_PID() {\n        return Item_PID;\n    }\n\n    public void setItem_PID(String item_PID) {\n        Item_PID = item_PID;\n    }\n\n    public String getItem_Name() {\n        return Item_Name;\n    }\n\n    public void setItem_Name(String item_Name) {\n        Item_Name = item_Name;\n    }\n\n    public String getItem_Price_Each() {\n        return Item_Price_Each;\n    }\n\n    public void setItem_Price_Each(String item_Price_Each) {\n        Item_Price_Each = item_Price_Each;\n    }\n\n    public String getItem_Price() {\n        return Item_Price;\n    }\n\n    public void setItem_Price(String item_Price) {\n        Item_Price = item_Price;\n    }\n\n    public String getItem_Quantity() {\n        return Item_Quantity;\n    }\n\n    public void setItem_Quantity(String item_Quantity) {\n        Item_Quantity = item_Quantity;\n    }\n\n    public String getAvailable_Stock() {\n        return Available_Stock;\n    }\n\n    public void setAvailable_Stock(String available_Stock) {\n        Available_Stock = available_Stock;\n    }\n}\n</code></pre>\n<p>I have a list of users. In that few users have a node called Cart. I need to display the data in the cart for that specific user.</p>\n<p><img src=\"https://i.stack.imgur.com/PUsV0.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":49768,"reputation":1823,"user_id":148332,"accept_rate":83,"display_name":"reef"},"score":0,"creation_date":1299660459,"post_id":5243233,"comment_id":5902237,"body_markdown":"Waht you want is to call your method and if its execution time exceeds a certain amount the returning String is a constant?","body":"Waht you want is to call your method and if its execution time exceeds a certain amount the returning String is a constant?"},{"owner":{"account_id":105921,"reputation":15046,"user_id":282383,"accept_rate":83,"display_name":"London"},"score":0,"creation_date":1299660590,"post_id":5243233,"comment_id":5902261,"body_markdown":"@reef nop, when method x which returns some String reaches i.e. 6 seconds running time that it returns some error string .. or just have some kind of callback which I can use to handle the time error.","body":"@reef nop, when method x which returns some String reaches i.e. 6 seconds running time that it returns some error string .. or just have some kind of callback which I can use to handle the time error."}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1642326763,"creation_date":1299660479,"answer_id":5243249,"question_id":5243233,"body_markdown":"The [Guava library][1] has a very nice [`TimeLimiter`][2] that lets you do this on any method that&#39;s defined by an interface. It can generate a proxy for your object that has a &quot;built-in&quot; timeout.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://github.com/google/guava/blob/master/guava/src/com/google/common/util/concurrent/TimeLimiter.java","title":"Set running time limit on a method in java","body":"<p>The <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava library</a> has a very nice <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/util/concurrent/TimeLimiter.java\" rel=\"nofollow noreferrer\"><code>TimeLimiter</code></a> that lets you do this on any method that's defined by an interface. It can generate a proxy for your object that has a &quot;built-in&quot; timeout.</p>\n"},{"tags":[],"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1642328668,"creation_date":1299661074,"answer_id":5243339,"question_id":5243233,"body_markdown":"I did something similar in the past when spawning an external process with `Runtime.getRuntime().exec(command)`. I think you could do something like this within your method:\r\n\r\n```java\r\nTimer timer = new Timer(true);\r\nInterruptTimerTask interruptTimerTask = new InterruptTimerTask(Thread.currentThread());\r\ntimer.schedule(interruptTimerTask, waitTimeout);\r\ntry {\r\n    // put here the portion of code that may take more than &quot;waitTimeout&quot;\r\n}\r\ncatch (InterruptedException e) {\r\n    log.error(&quot;timeout exeeded&quot;);\r\n}\r\nfinally {\r\n    timer.cancel();\r\n}\r\n```\r\n\r\nand here is `InterruptTimerTask`\r\n\r\n```java\r\n/*\r\n * A TimerTask that interrupts the specified thread when run.\r\n */\r\nprotected class InterruptTimerTask extends TimerTask {\r\n\r\n    private Thread theTread;\r\n    \r\n    public InterruptTimerTask(Thread theTread) {\r\n        this.theTread = theTread;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        theTread.interrupt();\r\n    }\r\n}\r\n```","title":"Set running time limit on a method in java","body":"<p>I did something similar in the past when spawning an external process with <code>Runtime.getRuntime().exec(command)</code>. I think you could do something like this within your method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Timer timer = new Timer(true);\nInterruptTimerTask interruptTimerTask = new InterruptTimerTask(Thread.currentThread());\ntimer.schedule(interruptTimerTask, waitTimeout);\ntry {\n    // put here the portion of code that may take more than &quot;waitTimeout&quot;\n}\ncatch (InterruptedException e) {\n    log.error(&quot;timeout exeeded&quot;);\n}\nfinally {\n    timer.cancel();\n}\n</code></pre>\n<p>and here is <code>InterruptTimerTask</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * A TimerTask that interrupts the specified thread when run.\n */\nprotected class InterruptTimerTask extends TimerTask {\n\n    private Thread theTread;\n    \n    public InterruptTimerTask(Thread theTread) {\n        this.theTread = theTread;\n    }\n\n    @Override\n    public void run() {\n        theTread.interrupt();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108313,"reputation":861,"user_id":287566,"accept_rate":10,"display_name":"Hlex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338299072,"creation_date":1338299072,"answer_id":10800423,"question_id":5243233,"body_markdown":"As answered of @MarcoS\r\n\r\nI found timeout is not  raised if method is locking something and not release cpu time to Timer.\r\nThen Timer cannot start new thread.\r\nSo I change a bit by start Thread immediately and sleep inside thread.\r\n\r\n\t\t\tInterruptTimerTaskAddDel interruptTimerTask = new InterruptTimerTaskAddDel(\r\n\t\t\t\t\tThread.currentThread(),timeout_msec);\r\n\t\t\t\r\n\t\t\ttimer.schedule(interruptTimerTask, 0);\r\n\r\n\t\t\t/*\r\n\t * A TimerTask that interrupts the specified thread when run.\r\n\t */\r\n\tclass InterruptTimerTaskAddDel extends TimerTask {\r\n\r\n\t\tprivate Thread theTread;\r\n\t\tprivate long timeout;\r\n\r\n\t\tpublic InterruptTimerTaskAddDel(Thread theTread,long i_timeout) {\r\n\t\t\tthis.theTread = theTread;\r\n\t\t\ttimeout=i_timeout;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\ttry {\r\n\t\t\t\tThread.currentThread().sleep(timeout);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace(System.err);\r\n\t\t\t}\r\n\t\t\ttheTread.interrupt();\r\n\t\t}\r\n\r\n\t}\r\n","title":"Set running time limit on a method in java","body":"<p>As answered of @MarcoS</p>\n\n<p>I found timeout is not  raised if method is locking something and not release cpu time to Timer.\nThen Timer cannot start new thread.\nSo I change a bit by start Thread immediately and sleep inside thread.</p>\n\n<pre><code>        InterruptTimerTaskAddDel interruptTimerTask = new InterruptTimerTaskAddDel(\n                Thread.currentThread(),timeout_msec);\n\n        timer.schedule(interruptTimerTask, 0);\n\n        /*\n * A TimerTask that interrupts the specified thread when run.\n */\nclass InterruptTimerTaskAddDel extends TimerTask {\n\n    private Thread theTread;\n    private long timeout;\n\n    public InterruptTimerTaskAddDel(Thread theTread,long i_timeout) {\n        this.theTread = theTread;\n        timeout=i_timeout;\n    }\n\n    @Override\n    public void run() {\n        try {\n            Thread.currentThread().sleep(timeout);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace(System.err);\n        }\n        theTread.interrupt();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403285298,"creation_date":1365184699,"answer_id":15840448,"question_id":5243233,"body_markdown":"You can use AOP and a [`@Timeable`](http://aspects.jcabi.com/apidocs-0.7.16/com/jcabi/aspects/Timeable.html) annotation from [jcabi-aspects](http://aspects.jcabi.com/annotation-timeable.html) (I&#39;m a developer):\r\n\r\n    @Timeable(limit = 1, unit = TimeUnit.SECONDS)\r\n    String load(String resource) {\r\n      while (true) {\r\n        if (Thread.currentThread.isInterrupted()) {\r\n          throw new IllegalStateException(&quot;time out&quot;);\r\n        }\r\n        // execution as usual\r\n      }\r\n    }\r\n\r\nWhen time limit is reached your thread will get `interrupted()` flag set to `true` and it&#39;s your job to handle this situation correctly and to stop execution.\r\n\r\nAlso, check this blog post: http://www.yegor256.com/2014/06/20/limit-method-execution-time.html","title":"Set running time limit on a method in java","body":"<p>You can use AOP and a <a href=\"http://aspects.jcabi.com/apidocs-0.7.16/com/jcabi/aspects/Timeable.html\" rel=\"nofollow\"><code>@Timeable</code></a> annotation from <a href=\"http://aspects.jcabi.com/annotation-timeable.html\" rel=\"nofollow\">jcabi-aspects</a> (I'm a developer):</p>\n\n<pre><code>@Timeable(limit = 1, unit = TimeUnit.SECONDS)\nString load(String resource) {\n  while (true) {\n    if (Thread.currentThread.isInterrupted()) {\n      throw new IllegalStateException(\"time out\");\n    }\n    // execution as usual\n  }\n}\n</code></pre>\n\n<p>When time limit is reached your thread will get <code>interrupted()</code> flag set to <code>true</code> and it's your job to handle this situation correctly and to stop execution.</p>\n\n<p>Also, check this blog post: <a href=\"http://www.yegor256.com/2014/06/20/limit-method-execution-time.html\" rel=\"nofollow\">http://www.yegor256.com/2014/06/20/limit-method-execution-time.html</a></p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613750881,"creation_date":1613745966,"answer_id":66279725,"question_id":5243233,"body_markdown":"Here is an example using Guava `SimpleTimeLimiter`\r\n\r\n```\r\nimport com.google.common.util.concurrent.SimpleTimeLimiter;\r\nimport com.google.common.util.concurrent.TimeLimiter;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\nclass TimeoutExample {\r\n\r\n    public static void main(String[] args) throws InterruptedException, TimeoutException, ExecutionException {\r\n        TimeLimiter timeLimiter = SimpleTimeLimiter.create(Executors.newSingleThreadExecutor());\r\n        Duration timeout = Duration.ofMillis(500);\r\n\r\n        String result = timeLimiter.callWithTimeout(() -&gt; possiblyLongMethod(100), timeout); // will return\r\n        System.out.println(result);\r\n        String result2 = timeLimiter.callWithTimeout(() -&gt; possiblyLongMethod(1000), timeout); // will timeout\r\n        System.out.println(result2);\r\n\r\n    }\r\n\r\n    public static String possiblyLongMethod(int runtime) throws InterruptedException {\r\n        Thread.sleep(runtime);\r\n        return &quot;Ran for &quot; + runtime + &quot;ms&quot;;\r\n    }\r\n}\r\n```\r\nThe first call will return sucessfully as the call only takes 100ms, but the second will fail with a `TimeoutException` as it would take 1000ms","title":"Set running time limit on a method in java","body":"<p>Here is an example using Guava <code>SimpleTimeLimiter</code></p>\n<pre><code>import com.google.common.util.concurrent.SimpleTimeLimiter;\nimport com.google.common.util.concurrent.TimeLimiter;\n\nimport java.time.Duration;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeoutException;\n\nclass TimeoutExample {\n\n    public static void main(String[] args) throws InterruptedException, TimeoutException, ExecutionException {\n        TimeLimiter timeLimiter = SimpleTimeLimiter.create(Executors.newSingleThreadExecutor());\n        Duration timeout = Duration.ofMillis(500);\n\n        String result = timeLimiter.callWithTimeout(() -&gt; possiblyLongMethod(100), timeout); // will return\n        System.out.println(result);\n        String result2 = timeLimiter.callWithTimeout(() -&gt; possiblyLongMethod(1000), timeout); // will timeout\n        System.out.println(result2);\n\n    }\n\n    public static String possiblyLongMethod(int runtime) throws InterruptedException {\n        Thread.sleep(runtime);\n        return &quot;Ran for &quot; + runtime + &quot;ms&quot;;\n    }\n}\n</code></pre>\n<p>The first call will return sucessfully as the call only takes 100ms, but the second will fail with a <code>TimeoutException</code> as it would take 1000ms</p>\n"}],"owner":{"account_id":105921,"reputation":15046,"user_id":282383,"accept_rate":83,"display_name":"London"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22797,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":5243249,"answer_count":5,"score":10,"last_activity_date":1642328668,"creation_date":1299660350,"question_id":5243233,"body_markdown":"I have a method that returns a String.\n\nIs it possible that after a certain time, if threshold is excedeed for that method, to return some specific string? ","title":"Set running time limit on a method in java","body":"<p>I have a method that returns a String.</p>\n<p>Is it possible that after a certain time, if threshold is excedeed for that method, to return some specific string?</p>\n"},{"tags":["java","java.util.scanner","do-while"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643015962,"post_id":70719054,"comment_id":125218605,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":15008822,"reputation":105,"user_id":10833918,"display_name":"nsky80"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642224585,"creation_date":1642224585,"answer_id":70719095,"question_id":70719054,"body_markdown":"You are taking user&#39;s choice in retake variable so check while condition with retake. Like below:\r\n\r\n        // declare retake variable in outer scope\r\n        string retake;\r\n        do{\r\n\r\n           //String retake;\r\n    \r\n        /**\r\n            Put your code logic here!\r\n         */\r\n    \r\n    \r\n        System.out.println(&quot;Would you like to play again? Type in Y for yes or N for no &quot;);\r\n    \r\n        retake = kbd.nextLine();\r\n      } while ( retake.equalsIgnoreCase(&quot;Y&quot;));\r\n     }\r\n    }\r\n\r\n","title":"How can I let the user input repeat my code in java?","body":"<p>You are taking user's choice in retake variable so check while condition with retake. Like below:</p>\n<pre><code>    // declare retake variable in outer scope\n    string retake;\n    do{\n\n       //String retake;\n\n    /**\n        Put your code logic here!\n     */\n\n\n    System.out.println(&quot;Would you like to play again? Type in Y for yes or N for no &quot;);\n\n    retake = kbd.nextLine();\n  } while ( retake.equalsIgnoreCase(&quot;Y&quot;));\n }\n}\n</code></pre>\n"}],"owner":{"account_id":23841224,"reputation":1,"user_id":17846242,"display_name":"Aya Abdalla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642328332,"creation_date":1642223980,"question_id":70719054,"body_markdown":"Here is my code so far. (this is part of it, it&#39;s very long) I can&#39;t figure out what&#39;s wrong with it. I have tried searching for other answers on this website and tried something similar but still don&#39;t get it. I am not really understanding how this while loop should work since my code is, as I said, very long. I just can&#39;t figure it out and it&#39;s confusing me a lot. Please help?\r\n\r\n         \r\n     do{\r\n      String retake;\r\n\r\n      System.out.println(&quot;Would you like to play again? Type in Y for yes or N for no &quot;);\r\n\r\n      retake = kbd.nextLine();\r\n      } while ( yes.equalsIgnoreCase(&quot;yes&quot;));\r\n     }\r\n    }","title":"How can I let the user input repeat my code in java?","body":"<p>Here is my code so far. (this is part of it, it's very long) I can't figure out what's wrong with it. I have tried searching for other answers on this website and tried something similar but still don't get it. I am not really understanding how this while loop should work since my code is, as I said, very long. I just can't figure it out and it's confusing me a lot. Please help?</p>\n<pre><code> do{\n  String retake;\n\n  System.out.println(&quot;Would you like to play again? Type in Y for yes or N for no &quot;);\n\n  retake = kbd.nextLine();\n  } while ( yes.equalsIgnoreCase(&quot;yes&quot;));\n }\n}\n</code></pre>\n"},{"tags":["java","maven","jenkins","jobs"],"owner":{"account_id":23955229,"reputation":11,"user_id":17946207,"display_name":"kritika kesarwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642327257,"creation_date":1642327257,"question_id":70729010,"body_markdown":"Running as SYSTEM\r\nBuilding in workspace /Users/kritikakesarwani/.jenkins/MavenArtifactId\r\n[MavenArtifactId] $ /Users/kritikakesarwani/Documents/Selenium_Installation_eclipse/apache-maven-3.8.2/bin/mvn test -PRegression\r\n/bin/sh: /Users/kritikakesarwani/Documents/Selenium_Installation_eclipse/apache-maven-3.8.2/bin/mvn: Operation not permitted\r\nBuild step &#39;Invoke top-level Maven targets&#39; marked build as failure\r\nFinished: FAILURE\r\n\r\n\r\n","title":"I am running a job in Jenkins but getting the below error using Custom Workspace:","body":"<p>Running as SYSTEM\nBuilding in workspace /Users/kritikakesarwani/.jenkins/MavenArtifactId\n[MavenArtifactId] $ /Users/kritikakesarwani/Documents/Selenium_Installation_eclipse/apache-maven-3.8.2/bin/mvn test -PRegression\n/bin/sh: /Users/kritikakesarwani/Documents/Selenium_Installation_eclipse/apache-maven-3.8.2/bin/mvn: Operation not permitted\nBuild step 'Invoke top-level Maven targets' marked build as failure\nFinished: FAILURE</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1642336152,"post_id":70728976,"comment_id":125038786,"body_markdown":"looks like you are looking for Maven equivalent of dependency:list. Found a similar question here but unfortunately no answer for this yet - https://stackoverflow.com/questions/40636952/gradle-equivalent-to-maven-dependencylist","body":"looks like you are looking for Maven equivalent of dependency:list. Found a similar question here but unfortunately no answer for this yet - <a href=\"https://stackoverflow.com/questions/40636952/gradle-equivalent-to-maven-dependencylist\" title=\"gradle equivalent to maven dependencylist\">stackoverflow.com/questions/40636952/&hellip;</a>"}],"owner":{"account_id":11188567,"reputation":1125,"user_id":8209920,"display_name":"JavaCodeNet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642326935,"creation_date":1642326935,"question_id":70728976,"body_markdown":"I am looking for a way to display all the dependencies and their resolved versions in a Gradle project. I want the result to be flat.\r\n\r\nGradle has the `dependencies` task which prints the dependency tree, however, it is not flat and hard to read. For e.g. logback-classic has the following dependency tree.\r\n\r\n    |    |    |    +--- ch.qos.logback:logback-classic:1.2.3\r\n    |    |    |    |    +--- ch.qos.logback:logback-core:1.2.3\r\n    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\r\n\r\nInstead of this tree structure, I want the result to be following(dependencies with their resolved versions):\r\n\r\n    ch.qos.logback:logback-classic:1.2.3\r\n    ch.qos.logback:logback-core:1.2.3\r\n    org.slf4j:slf4j-api:1.7.30\r\n\r\nThis way it would be easy for me to find out the vulnerable libraries(for e.g. log4j), and it would also give me insights on dependent jars even if I don&#39;t directly use them.\r\n\r\n\r\n\r\n","title":"Find all dependencies and their resolved versions in Gradle","body":"<p>I am looking for a way to display all the dependencies and their resolved versions in a Gradle project. I want the result to be flat.</p>\n<p>Gradle has the <code>dependencies</code> task which prints the dependency tree, however, it is not flat and hard to read. For e.g. logback-classic has the following dependency tree.</p>\n<pre><code>|    |    |    +--- ch.qos.logback:logback-classic:1.2.3\n|    |    |    |    +--- ch.qos.logback:logback-core:1.2.3\n|    |    |    |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\n</code></pre>\n<p>Instead of this tree structure, I want the result to be following(dependencies with their resolved versions):</p>\n<pre><code>ch.qos.logback:logback-classic:1.2.3\nch.qos.logback:logback-core:1.2.3\norg.slf4j:slf4j-api:1.7.30\n</code></pre>\n<p>This way it would be easy for me to find out the vulnerable libraries(for e.g. log4j), and it would also give me insights on dependent jars even if I don't directly use them.</p>\n"},{"tags":["java","mysql","sql","playframework","ebean"],"comments":[{"owner":{"account_id":1355659,"reputation":1159,"user_id":1294108,"display_name":"Adil Aliyev"},"score":1,"creation_date":1418025477,"post_id":27353652,"comment_id":43160621,"body_markdown":"What DBMS are you using? Oracle?","body":"What DBMS are you using? Oracle?"}],"answers":[{"tags":[],"owner":{"account_id":1355659,"reputation":1159,"user_id":1294108,"display_name":"Adil Aliyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642326515,"creation_date":1418025681,"answer_id":27353709,"question_id":27353652,"body_markdown":"Try this:\r\n\r\n    String sql = &quot;CALL copy_lov_Countries(:param)&quot;;\r\n    CallableStatement statement = connection.prepareCall(sql);\r\n    statement.registerOutParameter(&quot;param&quot;, Types.INTEGER);\r\n    statement.execute();\r\n    connection.commit();\r\n\r\nThe code works with Oracle, should work also with MySQL. The principle is same.","title":"call sql procedure from java","body":"<p>Try this:</p>\n<pre><code>String sql = &quot;CALL copy_lov_Countries(:param)&quot;;\nCallableStatement statement = connection.prepareCall(sql);\nstatement.registerOutParameter(&quot;param&quot;, Types.INTEGER);\nstatement.execute();\nconnection.commit();\n</code></pre>\n<p>The code works with Oracle, should work also with MySQL. The principle is same.</p>\n"},{"tags":[],"owner":{"account_id":2472467,"reputation":166,"user_id":2153961,"accept_rate":40,"display_name":"Vaibhav Bhootna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418032984,"creation_date":1418025726,"answer_id":27353717,"question_id":27353652,"body_markdown":"Try this ` Integer returnValue = (Integer) cs.getObject(1); ` after `Ebean.execute(cs);`\r\nAnd post it here What it gives ?\r\n\r\n**Update**\r\n:Make the follwing changes to your code\r\n\r\n    Ebean.beginTransaction();  \r\n    try {  \r\n    String sql = &quot;call copy_lov_Countries(?)&quot;;\r\n    CallableSql cs = Ebean.createCallableSql(sql);\r\n    cs.registerOut(1, Types.INTEGER);\r\n    Ebean.execute(cs);\r\n   \r\n     } finally {  \r\n       Ebean.endTransaction();  \r\n    }  \r\n","title":"call sql procedure from java","body":"<p>Try this <code>Integer returnValue = (Integer) cs.getObject(1);</code> after <code>Ebean.execute(cs);</code>\nAnd post it here What it gives ?</p>\n\n<p><strong>Update</strong>\n:Make the follwing changes to your code</p>\n\n<pre><code>Ebean.beginTransaction();  \ntry {  \nString sql = \"call copy_lov_Countries(?)\";\nCallableSql cs = Ebean.createCallableSql(sql);\ncs.registerOut(1, Types.INTEGER);\nEbean.execute(cs);\n\n } finally {  \n   Ebean.endTransaction();  \n}  \n</code></pre>\n"}],"owner":{"account_id":4539354,"reputation":359,"user_id":3687679,"accept_rate":30,"display_name":"user3687679"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642326515,"creation_date":1418025365,"question_id":27353652,"body_markdown":"i want to call saved sql procedure from java using ebean.\r\ni am using this code:\r\n\r\n    String sql = &quot;call copy_lov_Countries(?)&quot;;\r\n    CallableSql cs = Ebean.createCallableSql(sql);\r\n    cs.registerOut(1, Types.INTEGER);\r\n    Ebean.execute(cs);\r\n\r\nIt reaches the procedure but it does not run right. it never copies any data!!\r\n\r\nany idea??","title":"call sql procedure from java","body":"<p>i want to call saved sql procedure from java using ebean.\ni am using this code:</p>\n\n<pre><code>String sql = \"call copy_lov_Countries(?)\";\nCallableSql cs = Ebean.createCallableSql(sql);\ncs.registerOut(1, Types.INTEGER);\nEbean.execute(cs);\n</code></pre>\n\n<p>It reaches the procedure but it does not run right. it never copies any data!!</p>\n\n<p>any idea??</p>\n"},{"tags":["java","mysql","spring","hibernate","thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1642433639,"post_id":70727648,"comment_id":125063654,"body_markdown":"To avoid these kinds of problems, I never use an entity directly in Thymeleaf. I use a dedicated FormData class to model the interaction with the form so I can keep my entity clean. See https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/ for detailed info on how to do that.","body":"To avoid these kinds of problems, I never use an entity directly in Thymeleaf. I use a dedicated FormData class to model the interaction with the form so I can keep my entity clean. See <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf</a> for detailed info on how to do that."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642312202,"creation_date":1642312202,"answer_id":70727691,"question_id":70727648,"body_markdown":"    Caused by: java.lang.NumberFormatException: For input string: &quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:660)\r\n\r\n\r\nThis is the causing issue - it can&#39;t parse `&quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;` into an integer.\r\n\r\nMy guess is that it is happenning because you don&#39;t have a constructor for Quote that expects 3 Strings so Thymeleaf picks the one with all arguments including Id and tries to convert the first parameter into an Integer.\r\n\r\nTry creating the right constructor:\r\n\r\n    public Quote(String quote, String quotee, String foundIn) {\r\n        this.quote = quote;\r\n        this.quotee = quotee;\r\n        this.foundIn = foundIn;\r\n    }\r\n\r\nAlso make sure all the setters are also present - important for thymeleaf\r\n\r\n","title":"Unsure of why java/spring app is not saving my entity properly to MySQL database (when it is correctly saving another)","body":"<pre><code>Caused by: java.lang.NumberFormatException: For input string: &quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:660)\n</code></pre>\n<p>This is the causing issue - it can't parse <code>&quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;</code> into an integer.</p>\n<p>My guess is that it is happenning because you don't have a constructor for Quote that expects 3 Strings so Thymeleaf picks the one with all arguments including Id and tries to convert the first parameter into an Integer.</p>\n<p>Try creating the right constructor:</p>\n<pre><code>public Quote(String quote, String quotee, String foundIn) {\n    this.quote = quote;\n    this.quotee = quotee;\n    this.foundIn = foundIn;\n}\n</code></pre>\n<p>Also make sure all the setters are also present - important for thymeleaf</p>\n"},{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642326472,"creation_date":1642326472,"answer_id":70728923,"question_id":70727648,"body_markdown":"Use `Wrapper` type for your `id` property in `Quote` entity instead of primitives. As follows\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;quote&quot;)\r\npublic class Quote {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;id&quot;)\r\n    private Long id; // &lt;--- Change from `int` to Long\r\n...\r\n...\r\n\r\n}\r\n```","title":"Unsure of why java/spring app is not saving my entity properly to MySQL database (when it is correctly saving another)","body":"<p>Use <code>Wrapper</code> type for your <code>id</code> property in <code>Quote</code> entity instead of primitives. As follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;quote&quot;)\npublic class Quote {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Long id; // &lt;--- Change from `int` to Long\n...\n...\n\n}\n</code></pre>\n"}],"owner":{"account_id":23952284,"reputation":1,"user_id":17943658,"display_name":"Erick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642326472,"creation_date":1642311348,"question_id":70727648,"body_markdown":"I&#39;ve gone through most or all the StackOverflow questions relating to this question, and I haven&#39;t seen an answer that solves my problem.\r\nI have this basic app that saves two different types of entities to a database (User and Quote). I am able to save the User entity just fine, but the Quote entity is not getting saved.\r\n\r\n**App Controller**\r\n\r\n    @Controller\r\n    public class AppController {\r\n\r\n\t    @Autowired\r\n\t    private UserRepository userRepository;\r\n\t\r\n\t    @Autowired \r\n\t    private QuoteRepository quoteRepository;\r\n\t\r\n    \t@GetMapping(&quot;/&quot;)\r\n     \tpublic String viewHomePage() {\r\n\t    \treturn &quot;index&quot;;\r\n\t    }\r\n\t\r\n    \t@GetMapping(&quot;/register&quot;)\r\n    \tpublic String viewRegistrationForm(Model model) {\r\n     \t\tUser newUser = new User();\r\n    \t\tmodel.addAttribute(&quot;user&quot;, newUser);\r\n\t    \treturn &quot;signup_form&quot;;\r\n    \t}\r\n\t\r\n    \t@PostMapping(&quot;/processRegister&quot;)\r\n    \tpublic String processRegister(User user) {\r\n    \t\tBCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n\t    \tString encodedPassword = passwordEncoder.encode(user.getPassword());\r\n\t    \tuser.setPassword(encodedPassword);\r\n\t\t\r\n\t    \tuserRepository.save(user);\r\n\t    \treturn &quot;register_success&quot;;\r\n    \t}\r\n\t\r\n    \t@GetMapping(&quot;/users&quot;)\r\n    \tpublic String listUsers(Model model) {\r\n\t    \tList&lt;User&gt; users = userRepository.findAll();\r\n    \t\tmodel.addAttribute(&quot;users&quot;, users);\r\n\t    \treturn &quot;list_users&quot;;\r\n    \t}\r\n \t\r\n        @GetMapping(&quot;/quotes&quot;)\r\n    \tpublic String listQuotes(Model model) {\r\n    \t\tList&lt;Quote&gt; quotes = quoteRepository.findAll();\r\n    \t\tmodel.addAttribute(&quot;quotes&quot;, quotes);\r\n\t    \treturn &quot;quotes/list_quotes&quot;;\r\n    \t}\r\n\t\r\n    \t@GetMapping(&quot;/showFormToAddQuote&quot;)\r\n    \tpublic String showFormToAddQuote(Model model) {\r\n\t    \tQuote quote = new Quote();\r\n    \t\tmodel.addAttribute(&quot;quote&quot;, quote);\r\n\t    \treturn &quot;quotes/add_quote&quot;;\r\n    \t}\r\n\t\r\n    \t@PostMapping(&quot;/processQuote&quot;)\r\n    \tpublic String processQuote(@ModelAttribute(&quot;quote&quot;) Quote quote) {\r\n\t    \tquoteRepository.save(quote);\r\n\t    \treturn &quot;redirect:/quotes&quot;;\r\n    \t}\r\n    }\r\n\r\n**User Class**\r\n\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class User {\r\n\t\r\n\t   @Id \r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t   @Column(name=&quot;id&quot;)\r\n       private Long id;\r\n     \r\n       @Column(nullable = false, unique = true, length = 45)\r\n       private String email;\r\n     \r\n       @Column(nullable = false, length = 64)\r\n       private String password;\r\n     \r\n       @Column(name = &quot;first_name&quot;, nullable = false, length = 20)\r\n       private String firstName;\r\n     \r\n       @Column(name = &quot;last_name&quot;, nullable = false, length = 20)\r\n       private String lastName;\r\n    \r\n       public User() {}\r\n \r\n\t   public User(Long id, String email, String password, String firstName, String lastName) {\r\n\t\t   this.id = id;\r\n\t\t   this.email = email;\r\n\t\t   this.password = password;\r\n\t\t   this.firstName = firstName;\r\n\t\t   this.lastName = lastName;\r\n\t   }\r\n\r\n\t   // getters and setters                                                                                       \r\n    }\r\n\r\n**User Repository Class**\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n    \t@Query(&quot;SELECT u FROM User u WHERE u.email = :email&quot;)\r\n    \tpublic User findByEmail(@Param(&quot;email&quot;) String email);\r\n\r\n    }\r\n\r\n**Quote Class**\r\n    \r\n    @Entity\r\n    @Table(name=&quot;quote&quot;)\r\n    public class Quote {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;quote&quot;)\r\n    \tprivate String quote;\r\n    \t\r\n    \t@Column(name=&quot;quotee&quot;)\r\n    \tprivate String quotee;\r\n    \t\r\n    \t@Column(name=&quot;found_in&quot;)\r\n    \tprivate String foundIn;\r\n    \t\r\n    \tpublic Quote() {}\r\n    \r\n    \tpublic Quote(int id, String quote, String quotee, String foundIn) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.quote = quote;\r\n    \t\tthis.quotee = quotee;\r\n    \t\tthis.foundIn = foundIn;\r\n    \t}\r\n    \r\n    \t// getters and setters\t\r\n    }\r\n\r\n**Quote Repository Class**\r\n    \r\n    public interface QuoteRepository extends JpaRepository&lt;Quote, Integer&gt; {\r\n    \r\n    }\r\n\r\nUsing Thymeleaf syntax for html forms:\r\n\r\n**List Quotes HTML**\r\n\r\n    &lt;div class=&quot;container text-center&quot;&gt;\t\r\n    \t&lt;table class=&quot;table table-striped table-bordered&quot;&gt;\r\n    \t\t&lt;thead class=&quot;table-dark&quot;&gt;\r\n    \t\t\t&lt;tr&gt;\r\n    \t\t\t\t&lt;th&gt;Quote&lt;/th&gt;\r\n    \t\t\t\t&lt;th&gt;Quotee&lt;/th&gt;\r\n    \t\t\t\t&lt;th&gt;Found In&lt;/th&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t&lt;/thead&gt;\r\n    \t\t&lt;tbody&gt;\r\n    \t\t\t&lt;tr th:each=&quot;quote: ${quotes}&quot;&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;${quote.quote}&quot;&gt;Quote&lt;/td&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;${quote.quotee}&quot;&gt;Quotee&lt;/td&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;${quote.foundIn}&quot;&gt;Found In&lt;/td&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t&lt;/tbody&gt;\r\n    \t&lt;/table&gt;\r\n    &lt;/div&gt;\r\n\r\n**Add Quote Form HTML**\r\n\r\n    &lt;form th:action=&quot;@{/processQuote}&quot; th:object=&quot;${quote}&quot;\r\n       method=&quot;POST&quot; style=&quot;max-width: 600px; margin: 0 auto;&quot;&gt;\r\n    \t\t\t\r\n       &lt;input type=&quot;text&quot; th:field=&quot;*{quote}&quot;\r\n          class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Quote&quot; required&gt;\r\n       &lt;input type=&quot;text&quot; th:field=&quot;*{quotee}&quot;\r\n          class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Quotee&quot;&gt;\r\n       &lt;input type=&quot;text&quot; th:field=&quot;*{foundIn}&quot;\r\n          class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Source (Found In)&quot;&gt;\r\n    \t\t\t\r\n       &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Save&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n\r\nI excluded imports, package names, and getters/setters. It seems that spring is trying to convert my string input corresponding to the &#39;quote&#39; column of the table into an in Integer even though the field is of type String.\r\n\r\n**Stack Trace**\r\n\r\n    There was an unexpected error (type=Bad Request, status=400).\r\n    Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.maria.springboot.quoterepo.entity.Quote&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;Life isn&#39;t about finding yourself. Life is about creating yourself.&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\r\n    org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.maria.springboot.quoterepo.entity.Quote&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;Life isn&#39;t about finding yourself. Life is about creating yourself.&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\r\n    \tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:79)\r\n    \tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)\r\n    \tat org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:700)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttributeFromRequestValue(ServletModelAttributeMethodProcessor.java:142)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:78)\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:147)\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:831)\r\n    Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;Life isn&#39;t about finding yourself. Life is about creating yourself.&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\r\n    \tat org.springframework.data.repository.support.DomainClassConverter$ToEntityConverter.convert(DomainClassConverter.java:176)\r\n    \tat org.springframework.data.repository.support.DomainClassConverter.lambda$convert$0(DomainClassConverter.java:84)\r\n    \tat java.base/java.util.Optional.map(Optional.java:260)\r\n    \tat org.springframework.data.repository.support.DomainClassConverter.convert(DomainClassConverter.java:84)\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\r\n    \tat org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:129)\r\n    \tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)\r\n    \t... 99 more\r\n    Caused by: java.lang.NumberFormatException: For input string: &quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\r\n    \tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:660)\r\n    \tat java.base/java.lang.Integer.valueOf(Integer.java:991)\r\n    \tat org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:211)\r\n    \tat org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)\r\n    \tat org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)\r\n    \tat org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:437)\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\r\n    \t... 109 more\r\n\r\n","title":"Unsure of why java/spring app is not saving my entity properly to MySQL database (when it is correctly saving another)","body":"<p>I've gone through most or all the StackOverflow questions relating to this question, and I haven't seen an answer that solves my problem.\nI have this basic app that saves two different types of entities to a database (User and Quote). I am able to save the User entity just fine, but the Quote entity is not getting saved.</p>\n<p><strong>App Controller</strong></p>\n<pre><code>@Controller\npublic class AppController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired \n    private QuoteRepository quoteRepository;\n\n    @GetMapping(&quot;/&quot;)\n    public String viewHomePage() {\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/register&quot;)\n    public String viewRegistrationForm(Model model) {\n        User newUser = new User();\n        model.addAttribute(&quot;user&quot;, newUser);\n        return &quot;signup_form&quot;;\n    }\n\n    @PostMapping(&quot;/processRegister&quot;)\n    public String processRegister(User user) {\n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n        String encodedPassword = passwordEncoder.encode(user.getPassword());\n        user.setPassword(encodedPassword);\n    \n        userRepository.save(user);\n        return &quot;register_success&quot;;\n    }\n\n    @GetMapping(&quot;/users&quot;)\n    public String listUsers(Model model) {\n        List&lt;User&gt; users = userRepository.findAll();\n        model.addAttribute(&quot;users&quot;, users);\n        return &quot;list_users&quot;;\n    }\n\n    @GetMapping(&quot;/quotes&quot;)\n    public String listQuotes(Model model) {\n        List&lt;Quote&gt; quotes = quoteRepository.findAll();\n        model.addAttribute(&quot;quotes&quot;, quotes);\n        return &quot;quotes/list_quotes&quot;;\n    }\n\n    @GetMapping(&quot;/showFormToAddQuote&quot;)\n    public String showFormToAddQuote(Model model) {\n        Quote quote = new Quote();\n        model.addAttribute(&quot;quote&quot;, quote);\n        return &quot;quotes/add_quote&quot;;\n    }\n\n    @PostMapping(&quot;/processQuote&quot;)\n    public String processQuote(@ModelAttribute(&quot;quote&quot;) Quote quote) {\n        quoteRepository.save(quote);\n        return &quot;redirect:/quotes&quot;;\n    }\n}\n</code></pre>\n<p><strong>User Class</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;users&quot;)\npublic class User {\n\n   @Id \n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name=&quot;id&quot;)\n   private Long id;\n \n   @Column(nullable = false, unique = true, length = 45)\n   private String email;\n \n   @Column(nullable = false, length = 64)\n   private String password;\n \n   @Column(name = &quot;first_name&quot;, nullable = false, length = 20)\n   private String firstName;\n \n   @Column(name = &quot;last_name&quot;, nullable = false, length = 20)\n   private String lastName;\n\n   public User() {}\n\n   public User(Long id, String email, String password, String firstName, String lastName) {\n       this.id = id;\n       this.email = email;\n       this.password = password;\n       this.firstName = firstName;\n       this.lastName = lastName;\n   }\n\n   // getters and setters                                                                                       \n}\n</code></pre>\n<p><strong>User Repository Class</strong></p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n    @Query(&quot;SELECT u FROM User u WHERE u.email = :email&quot;)\n    public User findByEmail(@Param(&quot;email&quot;) String email);\n\n}\n</code></pre>\n<p><strong>Quote Class</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;quote&quot;)\npublic class Quote {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n    \n    @Column(name=&quot;quote&quot;)\n    private String quote;\n    \n    @Column(name=&quot;quotee&quot;)\n    private String quotee;\n    \n    @Column(name=&quot;found_in&quot;)\n    private String foundIn;\n    \n    public Quote() {}\n\n    public Quote(int id, String quote, String quotee, String foundIn) {\n        super();\n        this.id = id;\n        this.quote = quote;\n        this.quotee = quotee;\n        this.foundIn = foundIn;\n    }\n\n    // getters and setters  \n}\n</code></pre>\n<p><strong>Quote Repository Class</strong></p>\n<pre><code>public interface QuoteRepository extends JpaRepository&lt;Quote, Integer&gt; {\n\n}\n</code></pre>\n<p>Using Thymeleaf syntax for html forms:</p>\n<p><strong>List Quotes HTML</strong></p>\n<pre><code>&lt;div class=&quot;container text-center&quot;&gt; \n    &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\n        &lt;thead class=&quot;table-dark&quot;&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Quote&lt;/th&gt;\n                &lt;th&gt;Quotee&lt;/th&gt;\n                &lt;th&gt;Found In&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;tr th:each=&quot;quote: ${quotes}&quot;&gt;\n                &lt;td th:text=&quot;${quote.quote}&quot;&gt;Quote&lt;/td&gt;\n                &lt;td th:text=&quot;${quote.quotee}&quot;&gt;Quotee&lt;/td&gt;\n                &lt;td th:text=&quot;${quote.foundIn}&quot;&gt;Found In&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n<p><strong>Add Quote Form HTML</strong></p>\n<pre><code>&lt;form th:action=&quot;@{/processQuote}&quot; th:object=&quot;${quote}&quot;\n   method=&quot;POST&quot; style=&quot;max-width: 600px; margin: 0 auto;&quot;&gt;\n            \n   &lt;input type=&quot;text&quot; th:field=&quot;*{quote}&quot;\n      class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Quote&quot; required&gt;\n   &lt;input type=&quot;text&quot; th:field=&quot;*{quotee}&quot;\n      class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Quotee&quot;&gt;\n   &lt;input type=&quot;text&quot; th:field=&quot;*{foundIn}&quot;\n      class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Source (Found In)&quot;&gt;\n            \n   &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Save&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>I excluded imports, package names, and getters/setters. It seems that spring is trying to convert my string input corresponding to the 'quote' column of the table into an in Integer even though the field is of type String.</p>\n<p><strong>Stack Trace</strong></p>\n<pre><code>There was an unexpected error (type=Bad Request, status=400).\nFailed to convert value of type 'java.lang.String' to required type 'com.maria.springboot.quoterepo.entity.Quote'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value 'Life isn't about finding yourself. Life is about creating yourself.'; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\norg.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'com.maria.springboot.quoterepo.entity.Quote'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value 'Life isn't about finding yourself. Life is about creating yourself.'; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:79)\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)\n    at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:700)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttributeFromRequestValue(ServletModelAttributeMethodProcessor.java:142)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:78)\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:147)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value 'Life isn't about finding yourself. Life is about creating yourself.'; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\n    at org.springframework.data.repository.support.DomainClassConverter$ToEntityConverter.convert(DomainClassConverter.java:176)\n    at org.springframework.data.repository.support.DomainClassConverter.lambda$convert$0(DomainClassConverter.java:84)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.springframework.data.repository.support.DomainClassConverter.convert(DomainClassConverter.java:84)\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\n    at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:129)\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)\n    ... 99 more\nCaused by: java.lang.NumberFormatException: For input string: &quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:660)\n    at java.base/java.lang.Integer.valueOf(Integer.java:991)\n    at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:211)\n    at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)\n    at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)\n    at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:437)\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\n    ... 109 more\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1642320768,"post_id":70728292,"comment_id":125035964,"body_markdown":"Possibly helpful: https://stackoverflow.com/questions/4897212/refresh-reload-application-scope-managed-bean","body":"Possibly helpful: <a href=\"https://stackoverflow.com/questions/4897212/refresh-reload-application-scope-managed-bean\" title=\"refresh reload application scope managed bean\">stackoverflow.com/questions/4897212/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642326337,"creation_date":1642321086,"answer_id":70728397,"question_id":70728292,"body_markdown":"It is because you do not start the Spring container yet. You have to call `ClassPathXmlApplicationContext.refresh()` to start it. \r\n\r\nAnother things is that you do not configure the location of the XML configuration file too. \r\n\r\nSo assuming the XML configuration file is called `config.xml` , please change to the following : \r\n\r\n``` java\r\nClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext();\r\napplicationContext.setConfigLocations(&quot;config.xml&quot;);\r\napplicationContext.refresh();\r\n```\r\n\r\nOr simply :\r\n\r\n``` java\r\nApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;config.xml&quot;);\r\n```\r\n\r\nwhich will call `refresh()` automatically under the cover.\r\n\r\n\r\n","title":"I am trying to run this first Spring program using XML and I am getting following error. I am novice in this, Please guide me","body":"<p>It is because you do not start the Spring container yet. You have to call <code>ClassPathXmlApplicationContext.refresh()</code> to start it.</p>\n<p>Another things is that you do not configure the location of the XML configuration file too.</p>\n<p>So assuming the XML configuration file is called <code>config.xml</code> , please change to the following :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext();\napplicationContext.setConfigLocations(&quot;config.xml&quot;);\napplicationContext.refresh();\n</code></pre>\n<p>Or simply :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;config.xml&quot;);\n</code></pre>\n<p>which will call <code>refresh()</code> automatically under the cover.</p>\n"},{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642325199,"creation_date":1642325199,"answer_id":70728786,"question_id":70728292,"body_markdown":"Your XML file is in a wrong directory. `ClassPathXmlApplicationContext` searches for it on the Java [classpath](https://en.wikipedia.org/wiki/Classpath). Java classpath purpose is to locate available compiled class files, but it became very common to place runtime configuration files there too.\r\n\r\nIf you use Maven to build your project, you can place your `Spring.xml` file into the `src/main/resources`. Maven will copy its contents into the folder which will be on classpath during execution.","title":"I am trying to run this first Spring program using XML and I am getting following error. I am novice in this, Please guide me","body":"<p>Your XML file is in a wrong directory. <code>ClassPathXmlApplicationContext</code> searches for it on the Java <a href=\"https://en.wikipedia.org/wiki/Classpath\" rel=\"nofollow noreferrer\">classpath</a>. Java classpath purpose is to locate available compiled class files, but it became very common to place runtime configuration files there too.</p>\n<p>If you use Maven to build your project, you can place your <code>Spring.xml</code> file into the <code>src/main/resources</code>. Maven will copy its contents into the folder which will be on classpath during execution.</p>\n"}],"owner":{"account_id":20979550,"reputation":9,"user_id":15414706,"display_name":"Ajay9"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1642326337,"creation_date":1642320040,"question_id":70728292,"body_markdown":"    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n    public class DrawingApp {\r\n        public static void main(String[] args) {\r\n            ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;Spring.xml&quot;);\r\n            Triangle triangle= (Triangle) applicationContext.getBean(&quot;triangle&quot;);\r\n            triangle.draw();\r\n        }\r\n    }\r\n    \r\n    public class Triangle {\r\n        public void draw()\r\n        {\r\n            System.out.println(&quot;Triangle Class&quot;);\r\n        }\r\n    }\r\n\r\n&gt; This is the Java program.\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE beans PUBLIC &quot;-//SPRING//DTD BEAN 2.0//EN&quot; &quot;http://www.springframework.org/dtd/spring-beans-2.0.dtd&quot;&gt;\r\n    &lt;beans&gt;\r\n        &lt;bean id=&quot;triangle&quot; class=&quot;Triangle&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n&gt; This is the XML File.\r\nAnd When I am trying to run this program, I am getting the following error\r\n\r\n\r\n*14:32:12.644 [main] DEBUG org.springframework.context.support.ClassPathXmlApplicationContext - Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@721e0f4f\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [Spring.xml]; nested exception is java.io.FileNotFoundException: class path resource [Spring.xml] cannot be opened because it does not exist\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:342)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:671)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n\tat practice.DrawingApp.main(DrawingApp.java:9)\r\nCaused by: java.io.FileNotFoundException: class path resource [Spring.xml] cannot be opened because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:333)\r\n\t... 13 more*\r\n\r\n&gt; I have also used this code in XML\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n           https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n        &lt;bean id=&quot;triangle&quot; class=&quot;Triangle&quot;/&gt;\r\n    &lt;/beans\r\n\r\n&gt; Then also I am getting the same error\r\n\r\nGuide me to do this spring programming perfectly.\r\n\r\n\r\n\r\n\r\n","title":"I am trying to run this first Spring program using XML and I am getting following error. I am novice in this, Please guide me","body":"<pre><code>import org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class DrawingApp {\n    public static void main(String[] args) {\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;Spring.xml&quot;);\n        Triangle triangle= (Triangle) applicationContext.getBean(&quot;triangle&quot;);\n        triangle.draw();\n    }\n}\n\npublic class Triangle {\n    public void draw()\n    {\n        System.out.println(&quot;Triangle Class&quot;);\n    }\n}\n</code></pre>\n<blockquote>\n<p>This is the Java program.</p>\n</blockquote>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE beans PUBLIC &quot;-//SPRING//DTD BEAN 2.0//EN&quot; &quot;http://www.springframework.org/dtd/spring-beans-2.0.dtd&quot;&gt;\n&lt;beans&gt;\n    &lt;bean id=&quot;triangle&quot; class=&quot;Triangle&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n<blockquote>\n<p>This is the XML File.\nAnd When I am trying to run this program, I am getting the following error</p>\n</blockquote>\n<p><em>14:32:12.644 [main] DEBUG org.springframework.context.support.ClassPathXmlApplicationContext - Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@721e0f4f\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [Spring.xml]; nested exception is java.io.FileNotFoundException: class path resource [Spring.xml] cannot be opened because it does not exist\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:342)\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\nat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\nat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\nat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\nat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:671)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:144)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:85)\nat practice.DrawingApp.main(DrawingApp.java:9)\nCaused by: java.io.FileNotFoundException: class path resource [Spring.xml] cannot be opened because it does not exist\nat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199)\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:333)\n... 13 more</em></p>\n<blockquote>\n<p>I have also used this code in XML</p>\n</blockquote>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n    &lt;bean id=&quot;triangle&quot; class=&quot;Triangle&quot;/&gt;\n&lt;/beans\n</code></pre>\n<blockquote>\n<p>Then also I am getting the same error</p>\n</blockquote>\n<p>Guide me to do this spring programming perfectly.</p>\n"},{"tags":["java","junit","junit4","junit5"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643022811,"post_id":70728735,"comment_id":125221050,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642326015,"creation_date":1642326015,"answer_id":70728881,"question_id":70728735,"body_markdown":"Try to search the internet for &quot;kata&quot;:\r\n\r\nA &quot;kata&quot;, or &quot;coding kata&quot;, is defined as an exercise in programming which helps hone your skills through practice and repetition. \r\n\r\nSearching for &quot;kata atm&quot; found this:\r\n\r\n * https://githubhelp.com/xpepper/ATM-kata-java\r\n\r\nwhich may be a good starting point.\r\n\r\nEach requerement of the kata can be translated to one or more junittests\r\n","title":"How to write a JUnit test for an atm validation program?","body":"<p>Try to search the internet for &quot;kata&quot;:</p>\n<p>A &quot;kata&quot;, or &quot;coding kata&quot;, is defined as an exercise in programming which helps hone your skills through practice and repetition.</p>\n<p>Searching for &quot;kata atm&quot; found this:</p>\n<ul>\n<li><a href=\"https://githubhelp.com/xpepper/ATM-kata-java\" rel=\"nofollow noreferrer\">https://githubhelp.com/xpepper/ATM-kata-java</a></li>\n</ul>\n<p>which may be a good starting point.</p>\n<p>Each requerement of the kata can be translated to one or more junittests</p>\n"}],"owner":{"account_id":23868381,"reputation":1,"user_id":17870417,"display_name":"laracode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642326015,"creation_date":1642324775,"question_id":70728735,"body_markdown":"I&#39;m new to java and I&#39;m writing an ATM program where **user can enter pin code three times and if they fail to enter the correct one, their card is blocked.** I&#39;ve tried to write a Junit test for the following code but I couldn&#39;t seem to figure it out. I have two classes AtmPin and AtmTester. AtmTester is where the main class is. \r\n\r\n**AtmPin.java**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class AtmPin {\r\n    \r\n       public static boolean validPIN(int user, int orignal){\r\n    \r\n          \r\n    \r\n           return user==orignal;\r\n    \r\n       }\r\n    \r\n       public static int getPin(Scanner sc){\r\n    \r\n          \r\n    \r\n           System.out.print(&quot;Enter PIN: &quot;);\r\n    \r\n           int pin = sc.nextInt();\r\n    \r\n           return pin;\r\n    \r\n       }\r\n    \r\n      \r\n    }\r\n\r\n**AtmTester.java**\r\n\r\n\r\n    package atm;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class ATMTester {\r\n    \t public static void main(String[] args) {\r\n    \r\n    \t      \r\n    \r\n    \t       Scanner keyboard = new Scanner(System.in);\r\n    \r\n    \t       int i = 0, userpin;\r\n    \r\n    \t      int PIN = 1234;\r\n    \t      while(i&lt; 3){\r\n    \r\n    \t          \r\n    \r\n    \t           userpin = AtmPin.getPin(keyboard);\r\n    \r\n    \t          \r\n    \r\n    \t           if(AtmPin.validPIN(userpin, PIN)){\r\n    \r\n    \t               System.out.println(&quot;Your PIN is correct&quot;);\r\n    \r\n    \t               System.exit(0);\r\n    \r\n    \t           }\r\n    \t           else {\r\n    \t        \t   System.out.println(&quot;Your PIN is incorrect&quot;);\r\n    \t           }\r\n    \t          \r\n    \r\n    \t           i++;\r\n    \r\n    \t       }\r\n    \r\n    \t      \r\n    \r\n    \t       System.out.println(&quot;Your Bank Card is blocked&quot;);\r\n    \r\n    \t   }\r\n    \r\n    }\r\n\r\n","title":"How to write a JUnit test for an atm validation program?","body":"<p>I'm new to java and I'm writing an ATM program where <strong>user can enter pin code three times and if they fail to enter the correct one, their card is blocked.</strong> I've tried to write a Junit test for the following code but I couldn't seem to figure it out. I have two classes AtmPin and AtmTester. AtmTester is where the main class is.</p>\n<p><strong>AtmPin.java</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class AtmPin {\n\n   public static boolean validPIN(int user, int orignal){\n\n      \n\n       return user==orignal;\n\n   }\n\n   public static int getPin(Scanner sc){\n\n      \n\n       System.out.print(&quot;Enter PIN: &quot;);\n\n       int pin = sc.nextInt();\n\n       return pin;\n\n   }\n\n  \n}\n</code></pre>\n<p><strong>AtmTester.java</strong></p>\n<pre><code>package atm;\n\nimport java.util.Scanner;\n\npublic class ATMTester {\n     public static void main(String[] args) {\n\n          \n\n           Scanner keyboard = new Scanner(System.in);\n\n           int i = 0, userpin;\n\n          int PIN = 1234;\n          while(i&lt; 3){\n\n              \n\n               userpin = AtmPin.getPin(keyboard);\n\n              \n\n               if(AtmPin.validPIN(userpin, PIN)){\n\n                   System.out.println(&quot;Your PIN is correct&quot;);\n\n                   System.exit(0);\n\n               }\n               else {\n                   System.out.println(&quot;Your PIN is incorrect&quot;);\n               }\n              \n\n               i++;\n\n           }\n\n          \n\n           System.out.println(&quot;Your Bank Card is blocked&quot;);\n\n       }\n\n}\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1642325847,"post_id":70728813,"comment_id":125036787,"body_markdown":"You should post the complete Exception message that is thrown.","body":"You should post the complete Exception message that is thrown."},{"owner":{"account_id":19713070,"reputation":1,"user_id":17945905,"display_name":"destiny"},"score":0,"creation_date":1642329835,"post_id":70728813,"comment_id":125037542,"body_markdown":"@PeterMmm Thanks for reminding， this is the exception message：org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [test] did not match expected type [java.util.Set (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [test] did not match expected type [java.util.Set (n/a)] \n  and \n detail can see https://github.com/cestdestiny/jpa/blob/main/README.md","body":"@PeterMmm Thanks for reminding， this is the exception message：org.springframework.dao.InvalidDataAccessApiUsageExc&zwnj;&#8203;eption: Parameter value [test] did not match expected type [java.util.Set (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [test] did not match expected type [java.util.Set (n/a)]    and   detail can see <a href=\"https://github.com/cestdestiny/jpa/blob/main/README.md\" rel=\"nofollow noreferrer\">github.com/cestdestiny/jpa/blob/main/README.md</a>"}],"owner":{"account_id":19713070,"reputation":1,"user_id":17945905,"display_name":"destiny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642325364,"creation_date":1642325364,"question_id":70728813,"body_markdown":"I&#39;m trying to call isMember to get all entities which contains specified productCode,but return error about Parameter value [test] did not match expected type [java.util.Set (n/a)];\r\n\r\nThe version of spring data jpa is 2.3.9.RELEASE\r\n```\r\npublic class Role {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Basic\r\n    @Column(name = &quot;name&quot;, length = 64)\r\n    private String name;\r\n\r\n    @ElementCollection\r\n    @Column(name = &quot;product_code&quot;)\r\n    @Convert(converter = StringSetConverter.class)\r\n    private Set&lt;String&gt; productCode;\r\n}\r\n\r\npublic class RoleSpec {\r\n    public static Specification&lt;Role&gt; isProductCodeMember(String productCode) {\r\n        return (root, query, cb) -&gt; {\r\n            Expression&lt;Collection&lt;String&gt;&gt; productCodes = root.get(&quot;productCode&quot;);\r\n            return cb.isNotMember(productCode , productCodes);\r\n        };\r\n    }\r\n}\r\n```","title":"parameter is not match when call isMember","body":"<p>I'm trying to call isMember to get all entities which contains specified productCode,but return error about Parameter value [test] did not match expected type [java.util.Set (n/a)];</p>\n<p>The version of spring data jpa is 2.3.9.RELEASE</p>\n<pre><code>public class Role {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Basic\n    @Column(name = &quot;name&quot;, length = 64)\n    private String name;\n\n    @ElementCollection\n    @Column(name = &quot;product_code&quot;)\n    @Convert(converter = StringSetConverter.class)\n    private Set&lt;String&gt; productCode;\n}\n\npublic class RoleSpec {\n    public static Specification&lt;Role&gt; isProductCodeMember(String productCode) {\n        return (root, query, cb) -&gt; {\n            Expression&lt;Collection&lt;String&gt;&gt; productCodes = root.get(&quot;productCode&quot;);\n            return cb.isNotMember(productCode , productCodes);\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","sni"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642087349,"post_id":70698811,"comment_id":124983326,"body_markdown":"Please try to replace `abc.com` and `xyz.com` with `my.host...` *consistently* (and not mixing;)","body":"Please try to replace <code>abc.com</code> and <code>xyz.com</code> with <code>my.host...</code> <i>consistently</i> (and not mixing;)"},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1642087929,"post_id":70698811,"comment_id":124983588,"body_markdown":"@xerx593, I replaced them with `my.hostname.com` and `my.another.hostname.com`. Didn&#39;t help.","body":"@xerx593, I replaced them with <code>my.hostname.com</code> and <code>my.another.hostname.com</code>. Didn&#39;t help."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642088008,"post_id":70698811,"comment_id":124983621,"body_markdown":"And what about defaultSSLHostConfigName?","body":"And what about defaultSSLHostConfigName?"},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":1,"creation_date":1642088340,"post_id":70698811,"comment_id":124983728,"body_markdown":"@xerx593, changed to `my.hostname.com` and `my.another.hostname.com` (tried both variants) - doesn&#39;t help. The question about this error is: what does spring verify? I didn&#39;t configure any password.","body":"@xerx593, changed to <code>my.hostname.com</code> and <code>my.another.hostname.com</code> (tried both variants) - doesn&#39;t help. The question about this error is: what does spring verify? I didn&#39;t configure any password."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1642104662,"post_id":70698811,"comment_id":124990055,"body_markdown":"What format did you use for those keystores? Try setting the correct one with `setCertificateKeystoreType`.","body":"What format did you use for those keystores? Try setting the correct one with <code>setCertificateKeystoreType</code>."}],"answers":[{"tags":[],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642325296,"creation_date":1642325296,"answer_id":70728801,"question_id":70698811,"body_markdown":"I solved the problem. Maybe my explanation will help somebody. I just followed the errors that I saw and configured all data that server missed. I don&#39;t configure certificate, because I have keystore that stores this certificate. My final server has 2 hosts that support only TLSv1.3 (for my needs):\r\n\r\n    private Connector createSSLConnectorForMultipleHosts() {\r\n        Connector connector = null;\r\n        try {\r\n            Http2Protocol http2Protocol = new Http2Protocol();\r\n            Http11NioProtocol http11Protocol = new Http11NioProtocol();\r\n            http2Protocol.setHttp11Protocol(http11Protocol);\r\n\r\n            connector = new Connector(http11Protocol);\r\n            connector.addUpgradeProtocol(http2Protocol);\r\n            connector.setScheme(&quot;https&quot;);\r\n            connector.setSecure(true);\r\n            connector.setProperty(&quot;SSLEnabled&quot;, &quot;true&quot;);\r\n            connector.setProperty(&quot;defaultSSLHostConfigName&quot;, &quot;my.hostname.com&quot;);\r\n            connector.setPort(8445);\r\n\r\n            // first\r\n            SSLHostConfig sslHostConfig = new SSLHostConfig();\r\n            sslHostConfig.setHostName(&quot;my.hostname.com&quot;);\r\n            sslHostConfig.setCertificateKeystorePassword(&quot;mypassword&quot;);\r\n            sslHostConfig.setCertificateKeystoreFile(firstKeyStore);\r\n            sslHostConfig.setProtocols(&quot;TLSv1.3&quot;);\r\n            connector.addSslHostConfig(sslHostConfig);\r\n\r\n            // second\r\n            sslHostConfig = new SSLHostConfig();\r\n            sslHostConfig.setHostName(&quot;my.another.hostname.com&quot;);\r\n            sslHostConfig.setCertificateKeystorePassword(&quot;mypassword&quot;);\r\n            sslHostConfig.setCertificateKeystoreFile(secondKeyStore);\r\n            sslHostConfig.setProtocols(&quot;TLSv1.3&quot;);\r\n            connector.addSslHostConfig(sslHostConfig);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return connector;\r\n    }","title":"How to force Spring boot embedded tomcat to use SNI (Server Name Indication)","body":"<p>I solved the problem. Maybe my explanation will help somebody. I just followed the errors that I saw and configured all data that server missed. I don't configure certificate, because I have keystore that stores this certificate. My final server has 2 hosts that support only TLSv1.3 (for my needs):</p>\n<pre><code>private Connector createSSLConnectorForMultipleHosts() {\n    Connector connector = null;\n    try {\n        Http2Protocol http2Protocol = new Http2Protocol();\n        Http11NioProtocol http11Protocol = new Http11NioProtocol();\n        http2Protocol.setHttp11Protocol(http11Protocol);\n\n        connector = new Connector(http11Protocol);\n        connector.addUpgradeProtocol(http2Protocol);\n        connector.setScheme(&quot;https&quot;);\n        connector.setSecure(true);\n        connector.setProperty(&quot;SSLEnabled&quot;, &quot;true&quot;);\n        connector.setProperty(&quot;defaultSSLHostConfigName&quot;, &quot;my.hostname.com&quot;);\n        connector.setPort(8445);\n\n        // first\n        SSLHostConfig sslHostConfig = new SSLHostConfig();\n        sslHostConfig.setHostName(&quot;my.hostname.com&quot;);\n        sslHostConfig.setCertificateKeystorePassword(&quot;mypassword&quot;);\n        sslHostConfig.setCertificateKeystoreFile(firstKeyStore);\n        sslHostConfig.setProtocols(&quot;TLSv1.3&quot;);\n        connector.addSslHostConfig(sslHostConfig);\n\n        // second\n        sslHostConfig = new SSLHostConfig();\n        sslHostConfig.setHostName(&quot;my.another.hostname.com&quot;);\n        sslHostConfig.setCertificateKeystorePassword(&quot;mypassword&quot;);\n        sslHostConfig.setCertificateKeystoreFile(secondKeyStore);\n        sslHostConfig.setProtocols(&quot;TLSv1.3&quot;);\n        connector.addSslHostConfig(sslHostConfig);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return connector;\n}\n</code></pre>\n"}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642325296,"creation_date":1642086566,"question_id":70698811,"body_markdown":"I need to make sure that my client supports SNI and it works. To do that, I want to start some dummy server (Spring boot application with it&#39;s embedded Tomcat 9) that requires hostname from client. The question is how to force Spring boot embedded Tomcat to require SNI from client? \r\nI&#39;ve read that to do that, we need to provide to server 2 (or more) certificates. \r\n\r\nI tried to follow example from this [topic][1]. But it does not work for me.\r\n\r\nI generated 2 keystores `mycompany1.keystore` and `mycompany2.keystore` with 1 certificate in each of them. And 1 truststore `mycompany.truststore` that stores both these certificates. Certificates have CN `my.hostname.com` and `my.another.hostname.com`.\r\n\r\nThis is the way how I configure embedded tomcat:\r\n\r\n    @Component\r\n    public class MultipleHostsTomcatFactory {\r\n    \r\n        @Value(&quot;${abc.com.key-store}&quot;)\r\n        String abcComKeyStore;\r\n    \r\n        @Value(&quot;${xyz.com.key-store}&quot;)\r\n        String xyzComKeyStore;\r\n    \r\n        @Value(&quot;${server.port}&quot;)\r\n        int serverPort;\r\n    \r\n        @Value(&quot;${server.http.port:8080}&quot;)\r\n        private int httpPort;\r\n    \r\n        @Bean\r\n        public ServletWebServerFactory servletContainer() throws Exception {\r\n            TomcatServletWebServerFactory factor = new TomcatServletWebServerFactory();\r\n            factor.addAdditionalTomcatConnectors(createSSLConnectorForMultipleHosts());\r\n            return factor;\r\n        }\r\n    \r\n        private Connector createSSLConnectorForMultipleHosts() {\r\n            Connector connector = null;\r\n            try {\r\n                connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n                connector.setScheme(&quot;https&quot;);\r\n                connector.setSecure(true);\r\n                connector.setProperty(&quot;SSLEnabled&quot;, &quot;true&quot;);\r\n                connector.setProperty(&quot;defaultSSLHostConfigName&quot;, /*&quot;*.abc.com&quot;*/ &quot;*.hostname.com&quot;);\r\n                connector.setPort(8444);\r\n    \r\n                // *.abc.com\r\n                SSLHostConfig sslHostConfig = new SSLHostConfig();\r\n                sslHostConfig.setHostName(&quot;*.abc.com&quot;);\r\n    \r\n                SSLHostConfigCertificate sslHostConfigCertificate = new SSLHostConfigCertificate(sslHostConfig, SSLHostConfigCertificate.Type.EC);\r\n                sslHostConfigCertificate.setCertificateKeystoreFile(abcComKeyStore);\r\n    \r\n                sslHostConfig.addCertificate(sslHostConfigCertificate);\r\n                connector.addSslHostConfig(sslHostConfig);\r\n    \r\n                // *.xyz.com\r\n                sslHostConfig = new SSLHostConfig();\r\n                sslHostConfig.setHostName(&quot;*.xyz.com&quot;);\r\n    \r\n                sslHostConfigCertificate = new SSLHostConfigCertificate(sslHostConfig, SSLHostConfigCertificate.Type.EC);\r\n                sslHostConfigCertificate.setCertificateKeystoreFile(xyzComKeyStore);\r\n    \r\n                sslHostConfig.addCertificate(sslHostConfigCertificate);\r\n                connector.addSslHostConfig(sslHostConfig);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Catched exception!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            return connector;\r\n        }\r\n    }\r\n\r\nThis code is based on this [topic][1]. \r\nBut I have an error:\r\n\r\n    2022-01-13 16:10:21.301 ERROR 22364 --- [           main] org.apache.catalina.util.LifecycleBase   : Failed to initialize component [Connector[HTTP/1.1-8444]]\r\n    \r\n    org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n    ...\r\n    Caused by: java.lang.IllegalArgumentException: Keystore was tampered with, or password was incorrect\r\n    ...\r\n    Caused by: java.io.IOException: Keystore was tampered with, or password was incorrect\r\n    ...\r\n    Caused by: java.security.UnrecoverableKeyException: Password verification failed\r\n\r\n\r\nLooks like I miss somethimg.\r\n\r\nSo, how can I force embedded Tomcat to enable SNI?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60514176/does-spring-boot-support-server-name-indication-sni","title":"How to force Spring boot embedded tomcat to use SNI (Server Name Indication)","body":"<p>I need to make sure that my client supports SNI and it works. To do that, I want to start some dummy server (Spring boot application with it's embedded Tomcat 9) that requires hostname from client. The question is how to force Spring boot embedded Tomcat to require SNI from client?\nI've read that to do that, we need to provide to server 2 (or more) certificates.</p>\n<p>I tried to follow example from this <a href=\"https://stackoverflow.com/questions/60514176/does-spring-boot-support-server-name-indication-sni\">topic</a>. But it does not work for me.</p>\n<p>I generated 2 keystores <code>mycompany1.keystore</code> and <code>mycompany2.keystore</code> with 1 certificate in each of them. And 1 truststore <code>mycompany.truststore</code> that stores both these certificates. Certificates have CN <code>my.hostname.com</code> and <code>my.another.hostname.com</code>.</p>\n<p>This is the way how I configure embedded tomcat:</p>\n<pre><code>@Component\npublic class MultipleHostsTomcatFactory {\n\n    @Value(&quot;${abc.com.key-store}&quot;)\n    String abcComKeyStore;\n\n    @Value(&quot;${xyz.com.key-store}&quot;)\n    String xyzComKeyStore;\n\n    @Value(&quot;${server.port}&quot;)\n    int serverPort;\n\n    @Value(&quot;${server.http.port:8080}&quot;)\n    private int httpPort;\n\n    @Bean\n    public ServletWebServerFactory servletContainer() throws Exception {\n        TomcatServletWebServerFactory factor = new TomcatServletWebServerFactory();\n        factor.addAdditionalTomcatConnectors(createSSLConnectorForMultipleHosts());\n        return factor;\n    }\n\n    private Connector createSSLConnectorForMultipleHosts() {\n        Connector connector = null;\n        try {\n            connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n            connector.setScheme(&quot;https&quot;);\n            connector.setSecure(true);\n            connector.setProperty(&quot;SSLEnabled&quot;, &quot;true&quot;);\n            connector.setProperty(&quot;defaultSSLHostConfigName&quot;, /*&quot;*.abc.com&quot;*/ &quot;*.hostname.com&quot;);\n            connector.setPort(8444);\n\n            // *.abc.com\n            SSLHostConfig sslHostConfig = new SSLHostConfig();\n            sslHostConfig.setHostName(&quot;*.abc.com&quot;);\n\n            SSLHostConfigCertificate sslHostConfigCertificate = new SSLHostConfigCertificate(sslHostConfig, SSLHostConfigCertificate.Type.EC);\n            sslHostConfigCertificate.setCertificateKeystoreFile(abcComKeyStore);\n\n            sslHostConfig.addCertificate(sslHostConfigCertificate);\n            connector.addSslHostConfig(sslHostConfig);\n\n            // *.xyz.com\n            sslHostConfig = new SSLHostConfig();\n            sslHostConfig.setHostName(&quot;*.xyz.com&quot;);\n\n            sslHostConfigCertificate = new SSLHostConfigCertificate(sslHostConfig, SSLHostConfigCertificate.Type.EC);\n            sslHostConfigCertificate.setCertificateKeystoreFile(xyzComKeyStore);\n\n            sslHostConfig.addCertificate(sslHostConfigCertificate);\n            connector.addSslHostConfig(sslHostConfig);\n        } catch (Exception e) {\n            System.out.println(&quot;Catched exception!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;);\n            e.printStackTrace();\n        }\n        return connector;\n    }\n}\n</code></pre>\n<p>This code is based on this <a href=\"https://stackoverflow.com/questions/60514176/does-spring-boot-support-server-name-indication-sni\">topic</a>.\nBut I have an error:</p>\n<pre><code>2022-01-13 16:10:21.301 ERROR 22364 --- [           main] org.apache.catalina.util.LifecycleBase   : Failed to initialize component [Connector[HTTP/1.1-8444]]\n\norg.apache.catalina.LifecycleException: Protocol handler initialization failed\n...\nCaused by: java.lang.IllegalArgumentException: Keystore was tampered with, or password was incorrect\n...\nCaused by: java.io.IOException: Keystore was tampered with, or password was incorrect\n...\nCaused by: java.security.UnrecoverableKeyException: Password verification failed\n</code></pre>\n<p>Looks like I miss somethimg.</p>\n<p>So, how can I force embedded Tomcat to enable SNI?</p>\n"},{"tags":["java","appium","saucelabs","appium-java"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642323956,"creation_date":1642323956,"answer_id":70728654,"question_id":70722245,"body_markdown":"I&#39;ve found that starting from `8.0.0-beta` Appium java-client forcibly converts capabilities to W3C format with adding `appium:` prefix to all unprefixed not defined in WebDriver W3C doc capability names.\r\n\r\n*8.0.0-beta2* is the latest available version which do this.\r\n\r\nhttps://mvnrepository.com/artifact/io.appium/java-client/8.0.0-beta2\r\n\r\n*8.0.0-beta* should also work.\r\n","title":"What&#39;s the version of Appium Java-client that will auto prefix &quot;Appium&quot; to follow W3C protocol","body":"<p>I've found that starting from <code>8.0.0-beta</code> Appium java-client forcibly converts capabilities to W3C format with adding <code>appium:</code> prefix to all unprefixed not defined in WebDriver W3C doc capability names.</p>\n<p><em>8.0.0-beta2</em> is the latest available version which do this.</p>\n<p><a href=\"https://mvnrepository.com/artifact/io.appium/java-client/8.0.0-beta2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.appium/java-client/8.0.0-beta2</a></p>\n<p><em>8.0.0-beta</em> should also work.</p>\n"}],"owner":{"account_id":13112265,"reputation":15,"user_id":9472836,"display_name":"Haresh Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70728654,"answer_count":1,"score":0,"last_activity_date":1642323956,"creation_date":1642256400,"question_id":70722245,"body_markdown":"I am trying to update my scripts to follow W3C Protocol for Appium tests.\r\n\r\nCan&#39;t find which version of Appium java-client will automatically prefix &quot;Appium&quot; keyword to the capabilities.\r\n\r\n","title":"What&#39;s the version of Appium Java-client that will auto prefix &quot;Appium&quot; to follow W3C protocol","body":"<p>I am trying to update my scripts to follow W3C Protocol for Appium tests.</p>\n<p>Can't find which version of Appium java-client will automatically prefix &quot;Appium&quot; keyword to the capabilities.</p>\n"},{"tags":["java","eclipse","selenium","appium"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642323072,"creation_date":1642323072,"answer_id":70728577,"question_id":70727233,"body_markdown":"There is an issue with selenium dependency.\r\n\r\nAppium 7.6 uses selenium version `3.141.59`, and you&#39;ve added selenium `4.1.1`, so they are not compatible.\r\n\r\n1 Try to remove selenium dependency from the pom.\r\n\r\n2 Leave only \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;7.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nfor appium java client.","title":"No class definition error with IOS driver creation","body":"<p>There is an issue with selenium dependency.</p>\n<p>Appium 7.6 uses selenium version <code>3.141.59</code>, and you've added selenium <code>4.1.1</code>, so they are not compatible.</p>\n<p>1 Try to remove selenium dependency from the pom.</p>\n<p>2 Leave only</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n    &lt;version&gt;7.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>for appium java client.</p>\n"}],"owner":{"account_id":2741391,"reputation":184,"user_id":2362869,"accept_rate":73,"display_name":"Joe C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70728577,"answer_count":1,"score":0,"last_activity_date":1642323072,"creation_date":1642304908,"question_id":70727233,"body_markdown":"\r\nI am getting a NoClassDefFound error for org.openqa.selenium.remote.JsonToWebElementConverter when trying to run some code to set up an IOSDriver for use with Appium.  So far all I am trying to do is set up capabilities and open a driver.  However the error occurs on the driver initialization line.\r\n\r\nSo far I have tried to import org.openqa.selenium.remote.JsonToWebElementConverter into the class but still get the same error.  My Eclipse is pointing to the right JDK and Java is installed properly.  I believe I have all dependencies as well.\r\n\r\nDependencies:\r\n\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    &lt;version&gt;4.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;7.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;7.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n \r\nDriver I am trying to set up.\r\n\r\n    \t\ttry {\r\n\t\t\tIOSDriver driver = new IOSDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;),capabilites);\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\nResulting Error\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\r\nat appiumtests.BaseIOTest.main(BaseIOTest.java:31)\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\r\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n... 1 more","title":"No class definition error with IOS driver creation","body":"<p>I am getting a NoClassDefFound error for org.openqa.selenium.remote.JsonToWebElementConverter when trying to run some code to set up an IOSDriver for use with Appium.  So far all I am trying to do is set up capabilities and open a driver.  However the error occurs on the driver initialization line.</p>\n<p>So far I have tried to import org.openqa.selenium.remote.JsonToWebElementConverter into the class but still get the same error.  My Eclipse is pointing to the right JDK and Java is installed properly.  I believe I have all dependencies as well.</p>\n<p>Dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n&lt;version&gt;4.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;io.appium&lt;/groupId&gt;\n&lt;artifactId&gt;java-client&lt;/artifactId&gt;\n&lt;version&gt;7.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;com.github.appium&lt;/groupId&gt;\n&lt;artifactId&gt;java-client&lt;/artifactId&gt;\n&lt;version&gt;7.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>Driver I am trying to set up.</p>\n<pre><code>        try {\n        IOSDriver driver = new IOSDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;),capabilites);\n    } catch (MalformedURLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Resulting Error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\n</code></pre>\n<p>at appiumtests.BaseIOTest.main(BaseIOTest.java:31)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n... 1 more</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1642323361,"post_id":70728467,"comment_id":125036369,"body_markdown":"Don&#39;t declare in subclass fields with same name as in superclass. This way you are creating separate fields but since you are giving them same name you are *shadowing* already existing fields. Anyway at `Log.d(TAG, &quot;BaseNft: &quot; + txHash); //Returns null` you are printing value of `txHash` declared in superclas, but in subclass you *overrode* setter to initialize *separate* `txHash` field (declared in subclass builder). So don&#39;t declare  same fields if they ware already declared in superclass. And don&#39;t override setters for those fields.","body":"Don&#39;t declare in subclass fields with same name as in superclass. This way you are creating separate fields but since you are giving them same name you are <i>shadowing</i> already existing fields. Anyway at <code>Log.d(TAG, &quot;BaseNft: &quot; + txHash); &#47;&#47;Returns null</code> you are printing value of <code>txHash</code> declared in superclas, but in subclass you <i>overrode</i> setter to initialize <i>separate</i> <code>txHash</code> field (declared in subclass builder). So don&#39;t declare  same fields if they ware already declared in superclass. And don&#39;t override setters for those fields."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1642323514,"post_id":70728467,"comment_id":125036400,"body_markdown":"code is not calling the methods from parent class, ergo the fields of parent class are not being set. (an (indirect) consequence of having two fields for same 8attribute* as already written in previous comment) A subclass already includes the fields of the parent class(es) no *need* to repeat these.","body":"code is not calling the methods from parent class, ergo the fields of parent class are not being set. (an (indirect) consequence of having two fields for same 8attribute* as already written in previous comment) A subclass already includes the fields of the parent class(es) no <i>need</i> to repeat these."},{"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"score":0,"creation_date":1642323782,"post_id":70728467,"comment_id":125036451,"body_markdown":"@Pshemo, user16320675 That fixed it. Honestly I wouldn&#39;t have figured it out by myself. Thank you.","body":"@Pshemo, user16320675 That fixed it. Honestly I wouldn&#39;t have figured it out by myself. Thank you."}],"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642322186,"creation_date":1642321819,"question_id":70728467,"body_markdown":"I&#39;m following the implementation of subclassing a builder class from this stackoverflow answer.\r\n\r\nhttps://stackoverflow.com/a/17165079/11110509\r\n\r\nI&#39;ve been staring at my code for an hour now comparing it to the one in that answer. I can&#39;t for the life of me figure out what I&#39;m doing incorrectly because the ```builder``` passed from my child class to my ```parent``` class is giving me null values.\r\n\r\nMy parent class:\r\n\r\n```\r\npublic class BaseNft {\r\n\r\n    private static final String TAG = &quot;BaseNft&quot;;\r\n\r\n    private final String itemName;\r\n    private final String itemDescription;\r\n    private final String ownerOf;\r\n    private final String txHash;\r\n    \r\n    protected BaseNft(Builder&lt;?&gt; builder) {\r\n        itemName = builder.itemName;\r\n        itemDescription = builder.itemDescription;\r\n        ownerOf = builder.ownerOf;\r\n        txHash = builder.txHash;\r\n\r\n        Log.d(TAG, &quot;BaseNft: &quot; + txHash); //Returns null\r\n    }\r\n\r\n    public static class Builder&lt;T extends Builder&lt;T&gt;&gt; {\r\n        private String itemName;\r\n        private String itemDescription;\r\n        private String ownerOf;\r\n        private String txHash;\r\n        \r\n        public T itemName(String itemName) {\r\n            this.itemName = itemName;\r\n            return (T) this;\r\n        }\r\n\r\n        public T itemDescription(String itemDescription) {\r\n            this.itemDescription = itemDescription;\r\n            return (T) this;\r\n        }\r\n\r\n        public T ownerOf(String ownerOf) {\r\n            this.ownerOf = ownerOf;\r\n            return (T) this;\r\n        }\r\n\r\n        public T txHash(String txHash) {\r\n            this.txHash = txHash;\r\n            return (T) this;\r\n        }\r\n\r\n        \r\n        public BaseNft build() {\r\n            return new BaseNft(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy child class:\r\n\r\n```\r\npublic class Card extends BaseNft {\r\n\r\n    protected Card(Builder builder) {\r\n        super(builder);\r\n    }\r\n\r\n    public static class Builder extends BaseNft.Builder&lt;Builder&gt; {\r\n        private String cardName;\r\n        private String cardDescription;\r\n        private String ownerOf;\r\n        private String txHash;\r\n\r\n        public Builder itemName(String itemName) {\r\n            this.cardName = itemName;\r\n            return this;\r\n        }\r\n\r\n        public Builder itemDescription(String itemDescription) {\r\n            this.cardDescription = itemDescription;\r\n            return this;\r\n        }\r\n\r\n        public Builder ownerOf(String ownerOf) {\r\n            this.ownerOf = ownerOf;\r\n            return this;\r\n        }\r\n\r\n        public Builder txHash(String txHash) {\r\n            this.txHash = txHash;\r\n            return this;\r\n        }\r\n\r\n        public Card build() {\r\n            return new Card(this);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\nCard card = new Card.Builder()\r\n                .itemName(&quot;name&quot;)\r\n                .itemDescription(&quot;description&quot;)\r\n                .ownerOf(&quot;owner name&quot;)\r\n                .txHash(&quot;test txhash&quot;)\r\n                .build();\r\n```\r\n\r\nI&#39;ve traced the card creation with logs and in the ```build()``` method for my child class\r\n\r\n```\r\npublic Card build() {\r\n    //successfully returns values\r\n    return new Card(this);\r\n}\r\n```\r\n\r\nit successfully returns the name, description, owner, and txhash.\r\nBut in the parent class&#39;s constructor ```BaseNft``` they return null. I can&#39;t figure out why. Could someone please help me figure out what I&#39;m doing incorrectly?\r\n\r\n","title":"Subclassing a builder class giving me null when passing the builder from child to parent class","body":"<p>I'm following the implementation of subclassing a builder class from this stackoverflow answer.</p>\n<p><a href=\"https://stackoverflow.com/a/17165079/11110509\">https://stackoverflow.com/a/17165079/11110509</a></p>\n<p>I've been staring at my code for an hour now comparing it to the one in that answer. I can't for the life of me figure out what I'm doing incorrectly because the <code>builder</code> passed from my child class to my <code>parent</code> class is giving me null values.</p>\n<p>My parent class:</p>\n<pre><code>public class BaseNft {\n\n    private static final String TAG = &quot;BaseNft&quot;;\n\n    private final String itemName;\n    private final String itemDescription;\n    private final String ownerOf;\n    private final String txHash;\n    \n    protected BaseNft(Builder&lt;?&gt; builder) {\n        itemName = builder.itemName;\n        itemDescription = builder.itemDescription;\n        ownerOf = builder.ownerOf;\n        txHash = builder.txHash;\n\n        Log.d(TAG, &quot;BaseNft: &quot; + txHash); //Returns null\n    }\n\n    public static class Builder&lt;T extends Builder&lt;T&gt;&gt; {\n        private String itemName;\n        private String itemDescription;\n        private String ownerOf;\n        private String txHash;\n        \n        public T itemName(String itemName) {\n            this.itemName = itemName;\n            return (T) this;\n        }\n\n        public T itemDescription(String itemDescription) {\n            this.itemDescription = itemDescription;\n            return (T) this;\n        }\n\n        public T ownerOf(String ownerOf) {\n            this.ownerOf = ownerOf;\n            return (T) this;\n        }\n\n        public T txHash(String txHash) {\n            this.txHash = txHash;\n            return (T) this;\n        }\n\n        \n        public BaseNft build() {\n            return new BaseNft(this);\n        }\n    }\n}\n</code></pre>\n<p>My child class:</p>\n<pre><code>public class Card extends BaseNft {\n\n    protected Card(Builder builder) {\n        super(builder);\n    }\n\n    public static class Builder extends BaseNft.Builder&lt;Builder&gt; {\n        private String cardName;\n        private String cardDescription;\n        private String ownerOf;\n        private String txHash;\n\n        public Builder itemName(String itemName) {\n            this.cardName = itemName;\n            return this;\n        }\n\n        public Builder itemDescription(String itemDescription) {\n            this.cardDescription = itemDescription;\n            return this;\n        }\n\n        public Builder ownerOf(String ownerOf) {\n            this.ownerOf = ownerOf;\n            return this;\n        }\n\n        public Builder txHash(String txHash) {\n            this.txHash = txHash;\n            return this;\n        }\n\n        public Card build() {\n            return new Card(this);\n        }\n    }\n\n}\n</code></pre>\n<pre><code>Card card = new Card.Builder()\n                .itemName(&quot;name&quot;)\n                .itemDescription(&quot;description&quot;)\n                .ownerOf(&quot;owner name&quot;)\n                .txHash(&quot;test txhash&quot;)\n                .build();\n</code></pre>\n<p>I've traced the card creation with logs and in the <code>build()</code> method for my child class</p>\n<pre><code>public Card build() {\n    //successfully returns values\n    return new Card(this);\n}\n</code></pre>\n<p>it successfully returns the name, description, owner, and txhash.\nBut in the parent class's constructor <code>BaseNft</code> they return null. I can't figure out why. Could someone please help me figure out what I'm doing incorrectly?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1642344263,"post_id":70728348,"comment_id":125040655,"body_markdown":"use spring-cloud-starter instead of spring-cloud-starter-config","body":"use spring-cloud-starter instead of spring-cloud-starter-config"},{"owner":{"account_id":13507264,"reputation":283,"user_id":9744855,"display_name":"Nisarg Bhagavantanavar"},"score":0,"creation_date":1642348252,"post_id":70728348,"comment_id":125041644,"body_markdown":"yes i was doing the mistake after changing to spring-cloud-starter it worked.","body":"yes i was doing the mistake after changing to spring-cloud-starter it worked."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642321957,"creation_date":1642321957,"answer_id":70728481,"question_id":70728348,"body_markdown":"You need to have the actuator enabled on your application. Then you can just call the endpoint `/actuator/refresh` of your application, to refresh the beans that need to be refreshed.\r\n\r\nThe important thing you must understand is that, the actuator must be enabled on the client application of the config server, meaning the application that connects to the config server and not the actual config server.","title":"Refresh Scope without config Server","body":"<p>You need to have the actuator enabled on your application. Then you can just call the endpoint <code>/actuator/refresh</code> of your application, to refresh the beans that need to be refreshed.</p>\n<p>The important thing you must understand is that, the actuator must be enabled on the client application of the config server, meaning the application that connects to the config server and not the actual config server.</p>\n"}],"owner":{"account_id":13507264,"reputation":283,"user_id":9744855,"display_name":"Nisarg Bhagavantanavar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642321957,"creation_date":1642320548,"question_id":70728348,"body_markdown":"i want to refresh bean when database is updated in runtime, so want to use /refresh endpoint to manually trigger it and refresh bean with new value.\r\n\r\nbut currently we are not using config server - can anyone guide how i can only make use of refresh scope \r\n\r\nI just want to make use of refresh scope without needing config server.\r\n\r\nMy bean get value from the database for example\r\n```\r\n@Configuration\r\npublic class AppConfiguration {\r\n    @Autowired\r\n    MyRepository myRepo;\r\n\r\n    @Bean\r\n    @RefreshScope\r\n    DemoWebClient getDemoWebClient() {\r\n        String currentTime = new Date().getTime() + &quot;&quot;;\r\n        return new DemoWebClient(myRepo.getTenantId());\r\n    }\r\n\r\n}\r\n```\r\n\r\ntried to use spring cloud starter\r\n- but it is trying to connect config server\r\n\r\n```\r\n2022-01-16 13:25:10.733  INFO 17884 --- [-144.54.177.213] c.c.c.ConfigServicePropertySourceLocator : Connect Timeout Exception on Url - http://localhost:8888. Will be trying the next url if available\r\n2022-01-16 13:25:10.733  WARN 17884 --- [-144.54.177.213] c.c.c.ConfigServicePropertySourceLocator : Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/application/default&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n2022-01-16 13:25:13.836  INFO 17884 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n```\r\n\r\n```\r\ntried to disable config server lookup - didn&#39;t work\r\n\r\nspring.cloud.config.enabled=false\r\nspring.cloud.config.import-check.enabled=false\r\n```\r\n\r\n\r\nbelow is my pom\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.8.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;RefreshScopeDemoApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;RefreshScopeDemoApp&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Hoxton.SR8&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n","title":"Refresh Scope without config Server","body":"<p>i want to refresh bean when database is updated in runtime, so want to use /refresh endpoint to manually trigger it and refresh bean with new value.</p>\n<p>but currently we are not using config server - can anyone guide how i can only make use of refresh scope</p>\n<p>I just want to make use of refresh scope without needing config server.</p>\n<p>My bean get value from the database for example</p>\n<pre><code>@Configuration\npublic class AppConfiguration {\n    @Autowired\n    MyRepository myRepo;\n\n    @Bean\n    @RefreshScope\n    DemoWebClient getDemoWebClient() {\n        String currentTime = new Date().getTime() + &quot;&quot;;\n        return new DemoWebClient(myRepo.getTenantId());\n    }\n\n}\n</code></pre>\n<p>tried to use spring cloud starter</p>\n<ul>\n<li>but it is trying to connect config server</li>\n</ul>\n<pre><code>2022-01-16 13:25:10.733  INFO 17884 --- [-144.54.177.213] c.c.c.ConfigServicePropertySourceLocator : Connect Timeout Exception on Url - http://localhost:8888. Will be trying the next url if available\n2022-01-16 13:25:10.733  WARN 17884 --- [-144.54.177.213] c.c.c.ConfigServicePropertySourceLocator : Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/application/default&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\n2022-01-16 13:25:13.836  INFO 17884 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n</code></pre>\n<pre><code>tried to disable config server lookup - didn't work\n\nspring.cloud.config.enabled=false\nspring.cloud.config.import-check.enabled=false\n</code></pre>\n<p>below is my pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.8.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;RefreshScopeDemoApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;RefreshScopeDemoApp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR8&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8314,"page":1678,"page_size":100}
