{"items":[{"tags":["java","logging","slf4j"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686311718,"post_id":76439960,"comment_id":134784964,"body_markdown":"Check that you&#39;ve actually added `slf4j-simple` as you are hinting at in the comment before the code block. That library provides an implementation, which is what the error message tells you is missing.","body":"Check that you&#39;ve actually added <code>slf4j-simple</code> as you are hinting at in the comment before the code block. That library provides an implementation, which is what the error message tells you is missing."},{"owner":{"account_id":5500680,"reputation":5767,"user_id":4370109,"display_name":"Brian Tompsett - 汤莱恩"},"score":0,"creation_date":1686593051,"post_id":76439960,"comment_id":134817156,"body_markdown":"Does this answer your question? [SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;](https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder\">SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686312330,"creation_date":1686311754,"answer_id":76439980,"question_id":76439960,"body_markdown":"So SLF4J by itself is _just_ an API. You need to provide an implementation on the classpath. \r\n\r\nThe quickest/easiest is the following:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nbut something like LogBack would be better suited for production.\r\n\r\n\r\nEDIT\r\n=== \r\n\r\nYou&#39;ve since edited your post to show you&#39;re including the dependency. If you are still getting that error, it means it&#39;s still not finding the implementation at runtime, which likely indicates a build setup problem. Can you post your entire gradle configuration and build log?","title":"Unable to get log and it throws error as Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder","body":"<p>So SLF4J by itself is <em>just</em> an API. You need to provide an implementation on the classpath.</p>\n<p>The quickest/easiest is the following:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but something like LogBack would be better suited for production.</p>\n<h1>EDIT</h1>\n<p>You've since edited your post to show you're including the dependency. If you are still getting that error, it means it's still not finding the implementation at runtime, which likely indicates a build setup problem. Can you post your entire gradle configuration and build log?</p>\n"}],"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686312330,"creation_date":1686311606,"question_id":76439960,"body_markdown":"I am getting below error, unable to get log statement. I haved added log config as well as in application.properties.\r\n\r\n    logging.level.com.google=TRACE\r\n    logging.level.com.example.com=TRACE\r\n\r\n**Error Log:**\r\n\r\n&gt; SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n&gt; SLF4J: Defaulting to no-operation (NOP) logger implementation SLF4J:\r\n&gt; See http://www.slf4j.org/codes.html#StaticLoggerBinder for further\r\n&gt; details.\r\n\r\n**Dependency:**\r\n\r\n    implementation(libs.slf4j.api)\r\n    implementation(libs.slf4j.simple)\r\n\r\n**Code:**\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    @Slf4j\r\n    public class Test {\r\n    \r\n      @Test\r\n        public void testSearh() throws Exception {\r\n    \t\tlog.trace(&quot;Test...........&quot;);\r\n    }\r\n    }","title":"Unable to get log and it throws error as Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder","body":"<p>I am getting below error, unable to get log statement. I haved added log config as well as in application.properties.</p>\n<pre><code>logging.level.com.google=TRACE\nlogging.level.com.example.com=TRACE\n</code></pre>\n<p><strong>Error Log:</strong></p>\n<blockquote>\n<p>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation SLF4J:\nSee <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further\ndetails.</p>\n</blockquote>\n<p><strong>Dependency:</strong></p>\n<pre><code>implementation(libs.slf4j.api)\nimplementation(libs.slf4j.simple)\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\n@Slf4j\npublic class Test {\n\n  @Test\n    public void testSearh() throws Exception {\n        log.trace(&quot;Test...........&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","spring","noclassdeffounderror"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1686287107,"post_id":76437275,"comment_id":134780977,"body_markdown":"Why not to use spring boot and initializr? https://start.spring.io/","body":"Why not to use spring boot and initializr? <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1686292045,"post_id":76437275,"comment_id":134781509,"body_markdown":"make sure that the spring-context or something releative jar is exist in your ecplise ide env?","body":"make sure that the spring-context or something releative jar is exist in your ecplise ide env?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1686294026,"post_id":76437275,"comment_id":134781813,"body_markdown":"Can you show your build path? How are you running the program?","body":"Can you show your build path? How are you running the program?"}],"owner":{"account_id":24729898,"reputation":11,"user_id":18618002,"display_name":"kaW"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686312285,"creation_date":1686285977,"question_id":76437275,"body_markdown":"When I ran this program on eclipse IDE, I&#39;m getting this error.\r\n\r\nError: Unable to initialize main class springApplication.Main\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/context/ApplicationContext\r\n\r\n\r\n\r\nhere&#39;s my HelloWorld.java class, Main.java class and beans.xml file.\r\n\r\n*HelloWorld.java*\r\n```\r\npackage springApplication;\r\n\r\npublic class HelloWorld {\r\n\t   private String message;\r\n\r\n\t   public void setMessage(String message){\r\n\t      this.message  = message;\r\n\t   }\r\n\t   public void getMessage(){\r\n\t      System.out.println(&quot;Your Message : &quot; + message);\r\n\t   }\r\n\t}\r\n\r\n```\r\n\r\n\r\n*Main.java*\r\n```\r\npackage springApplication;\r\n\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class Main {\r\n   public static void main(String[] args) {\r\n\t   \r\n//\t   System.out.println(&quot;Helloooo&quot;);\r\n\t   \r\n      ApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);\r\n      HelloWorld obj = (HelloWorld) context.getBean(&quot;helloWorld&quot;);\r\n      obj.getMessage();\r\n   }\r\n}\r\n\r\n```\r\n\r\n*beans.xml*\r\n```\r\n&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n\r\n&lt;beans xmlns = &quot;http://www.springframework.org/schema/beans&quot;\r\n   xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n   xsi:schemaLocation = &quot;http://www.springframework.org/schema/beans\r\n   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n\r\n   &lt;bean id = &quot;helloWorld&quot; class = &quot;com.springApplication.HelloWorld&quot;&gt;\r\n      &lt;property name = &quot;message&quot; value = &quot;Hello World!&quot;/&gt;\r\n   &lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n","title":"I&#39;m trying to run my first spring application on eclipse IDE. Even though I&#39;ve added the correct spring jars also, I&#39;m getting this error","body":"<p>When I ran this program on eclipse IDE, I'm getting this error.</p>\n<p>Error: Unable to initialize main class springApplication.Main\nCaused by: java.lang.NoClassDefFoundError: org/springframework/context/ApplicationContext</p>\n<p>here's my HelloWorld.java class, Main.java class and beans.xml file.</p>\n<p><em>HelloWorld.java</em></p>\n<pre><code>package springApplication;\n\npublic class HelloWorld {\n       private String message;\n\n       public void setMessage(String message){\n          this.message  = message;\n       }\n       public void getMessage(){\n          System.out.println(&quot;Your Message : &quot; + message);\n       }\n    }\n\n</code></pre>\n<p><em>Main.java</em></p>\n<pre><code>package springApplication;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class Main {\n   public static void main(String[] args) {\n       \n//     System.out.println(&quot;Helloooo&quot;);\n       \n      ApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);\n      HelloWorld obj = (HelloWorld) context.getBean(&quot;helloWorld&quot;);\n      obj.getMessage();\n   }\n}\n\n</code></pre>\n<p><em>beans.xml</em></p>\n<pre><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns = &quot;http://www.springframework.org/schema/beans&quot;\n   xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation = &quot;http://www.springframework.org/schema/beans\n   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\n\n   &lt;bean id = &quot;helloWorld&quot; class = &quot;com.springApplication.HelloWorld&quot;&gt;\n      &lt;property name = &quot;message&quot; value = &quot;Hello World!&quot;/&gt;\n   &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","timestamp"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1400848174,"post_id":23829248,"comment_id":36663467,"body_markdown":"I&#39;m not sure what the question is.  Are you saying you don&#39;t know how to use `getTime()` and then do the subtraction to give you the milliseconds?  Or are you saying  you don&#39;t know how to turn the interval into numbers and words like `&quot;15 minutes&quot;`?","body":"I&#39;m not sure what the question is.  Are you saying you don&#39;t know how to use <code>getTime()</code> and then do the subtraction to give you the milliseconds?  Or are you saying  you don&#39;t know how to turn the interval into numbers and words like <code>&quot;15 minutes&quot;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400850208,"creation_date":1400848185,"answer_id":23829307,"question_id":23829248,"body_markdown":"Here you go,\r\n\r\n    Timestamp loggedintime=rs.getTimestamp(&quot;LOGIN_TIME&quot;);\r\n    Timestamp loggedouttime=rs.getTimestamp(&quot;LOGOUT_TIME&quot;);\r\n    long interval = loggedouttime.getTime() - loggedintime.getTime();\r\n    //total hours\r\n    long hours = interval / (60 * 60 * 1000);\r\n    //time period that should be represented in minutes\r\n    long minutes = (interval % (60 * 60 * 1000)) / (60 * 1000);\r\n    //time period that should be represented in seconds\r\n    long seconds = (interval % (60 * 1000)) / 1000;\r\n    System.out.println(hours + &quot; hours &quot; + minutes + &quot; min &quot; + seconds + &quot; sec&quot;);\r\n\r\nNote : Please note that interval time is not accurate since milliseconds lesser than a Second (&lt;1000) are not considered\r\n    ","title":"Finding Time interval between two timestamps","body":"<p>Here you go,</p>\n\n<pre><code>Timestamp loggedintime=rs.getTimestamp(\"LOGIN_TIME\");\nTimestamp loggedouttime=rs.getTimestamp(\"LOGOUT_TIME\");\nlong interval = loggedouttime.getTime() - loggedintime.getTime();\n//total hours\nlong hours = interval / (60 * 60 * 1000);\n//time period that should be represented in minutes\nlong minutes = (interval % (60 * 60 * 1000)) / (60 * 1000);\n//time period that should be represented in seconds\nlong seconds = (interval % (60 * 1000)) / 1000;\nSystem.out.println(hours + \" hours \" + minutes + \" min \" + seconds + \" sec\");\n</code></pre>\n\n<p>Note : Please note that interval time is not accurate since milliseconds lesser than a Second (&lt;1000) are not considered</p>\n"},{"tags":[],"owner":{"account_id":2519746,"reputation":8347,"user_id":2190336,"display_name":"Prabhaker A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400848194,"creation_date":1400848194,"answer_id":23829314,"question_id":23829248,"body_markdown":"You can use `getTime()` method of [TimeStamp](http://docs.oracle.com/javase/7/docs/api/java/sql/Timestamp.html#getTime) class.  \r\n\r\nTry this  \r\n\r\n    long diff = loggedouttime.getTime() - loggedintime.getTime();","title":"Finding Time interval between two timestamps","body":"<p>You can use <code>getTime()</code> method of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Timestamp.html#getTime\" rel=\"nofollow\">TimeStamp</a> class.  </p>\n\n<p>Try this  </p>\n\n<pre><code>long diff = loggedouttime.getTime() - loggedintime.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1220565,"reputation":3341,"user_id":1187293,"accept_rate":88,"display_name":"SteveL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400848609,"creation_date":1400848609,"answer_id":23829485,"question_id":23829248,"body_markdown":"    long login=System.currentTimeMillis();\r\n    .\r\n    .\r\n    .\r\n    long logout=System.currentTimeMillis();\r\n    \r\n    long difInSeconds=(logout-login)/1000;\r\n    \r\n    long hours=difInSeconds/3600;\r\n    long minutes=difInSeconds%3600;\r\n    long seconds=difInSeconds-(hours*3600+minutes*60);\r\n\r\n","title":"Finding Time interval between two timestamps","body":"<pre><code>long login=System.currentTimeMillis();\n.\n.\n.\nlong logout=System.currentTimeMillis();\n\nlong difInSeconds=(logout-login)/1000;\n\nlong hours=difInSeconds/3600;\nlong minutes=difInSeconds%3600;\nlong seconds=difInSeconds-(hours*3600+minutes*60);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22704,"reputation":1611,"user_id":56280,"display_name":"Gerbrand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686312076,"creation_date":1686312076,"answer_id":76440026,"question_id":23829248,"body_markdown":"For those stumbling on this question after searching: Java now has javax.time, which includes among others ZonedDateTime and Instant, that replaces Timestamp and has a lot more nice methods to deal with time.\r\n\r\nInterval isn&#39;t included in the standard, but there&#39;s a extension: [ThreeTen-Extra][1] that does.\r\nSo you can write something like:\r\n\r\n    Instant loggedintime=rs.getTimestamp(&quot;LOGIN_TIME&quot;).toInstant();\r\n    Instant loggedouttime=rs.getTimestamp(&quot;LOGOUT_TIME&quot;).toInstant();\r\n    Interval loggedInInterval  = Interval.of(loggedintime, loggedouttime);\r\n    System.out.println(&quot;Total time logged in: &quot; + loggedInInterval);\r\n\r\n  [1]: https://www.threeten.org/threeten-extra/","title":"Finding Time interval between two timestamps","body":"<p>For those stumbling on this question after searching: Java now has javax.time, which includes among others ZonedDateTime and Instant, that replaces Timestamp and has a lot more nice methods to deal with time.</p>\n<p>Interval isn't included in the standard, but there's a extension: <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> that does.\nSo you can write something like:</p>\n<pre><code>Instant loggedintime=rs.getTimestamp(&quot;LOGIN_TIME&quot;).toInstant();\nInstant loggedouttime=rs.getTimestamp(&quot;LOGOUT_TIME&quot;).toInstant();\nInterval loggedInInterval  = Interval.of(loggedintime, loggedouttime);\nSystem.out.println(&quot;Total time logged in: &quot; + loggedInInterval);\n</code></pre>\n"}],"owner":{"account_id":4311089,"reputation":215,"user_id":3522121,"accept_rate":48,"display_name":"user3522121"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1686312076,"creation_date":1400848028,"question_id":23829248,"body_markdown":"I am having two Timestamps : \r\n\r\n    Timestamp loggedintime=rs.getTimestamp(&quot;LOGIN_TIME&quot;);\r\n    Timestamp loggedouttime=rs.getTimestamp(&quot;LOGOUT_TIME&quot;);\r\n\r\nNow,What i was trying to do is that find the interval between these two timestamps like 15 minutes or 1 hour 10 minutes etc.\r\n\r\nBut I have no ides how this can be done.So please help me ","title":"Finding Time interval between two timestamps","body":"<p>I am having two Timestamps : </p>\n\n<pre><code>Timestamp loggedintime=rs.getTimestamp(\"LOGIN_TIME\");\nTimestamp loggedouttime=rs.getTimestamp(\"LOGOUT_TIME\");\n</code></pre>\n\n<p>Now,What i was trying to do is that find the interval between these two timestamps like 15 minutes or 1 hour 10 minutes etc.</p>\n\n<p>But I have no ides how this can be done.So please help me </p>\n"},{"tags":["java","date","java-time"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1386303156,"post_id":535004,"comment_id":30491317,"body_markdown":"See [my detailed answer](http://stackoverflow.com/a/20370992/642706) to a similar question on converting between milliseconds to date-time with example code using Joda-Time library.","body":"See <a href=\"http://stackoverflow.com/a/20370992/642706\">my detailed answer</a> to a similar question on converting between milliseconds to date-time with example code using Joda-Time library."},{"owner":{"account_id":7530967,"reputation":97,"user_id":6640175,"display_name":"JVJplus"},"score":0,"creation_date":1578335625,"post_id":535004,"comment_id":105397750,"body_markdown":"`private String getDateString(long timeInMilliseconds) {\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE, d MMM yyyy &#39;at&#39; HH:mm:ss z&quot;);\n        return formatter.format(timeInMilliseconds);\n    } `","body":"<code>private String getDateString(long timeInMilliseconds) {         SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE, d MMM yyyy &#39;at&#39; HH:mm:ss z&quot;);         return formatter.format(timeInMilliseconds);     } </code>"}],"answers":[{"tags":[],"owner":{"account_id":15611,"reputation":14858,"user_id":33165,"accept_rate":80,"display_name":"tcurdt"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1331503728,"creation_date":1234313784,"answer_id":535013,"question_id":535004,"body_markdown":"    long timestamp = Long.parseLong(date)\r\n    Date expiry = new Date(timestamp * 1000)","title":"Unix epoch time to Java Date object","body":"<pre><code>long timestamp = Long.parseLong(date)\nDate expiry = new Date(timestamp * 1000)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"down_vote_count":1,"up_vote_count":150,"is_accepted":true,"score":149,"last_activity_date":1234321211,"creation_date":1234313851,"answer_id":535017,"question_id":535004,"body_markdown":"How about just:\r\n\r\n    Date expiry = new Date(Long.parseLong(date));\r\n\r\nEDIT: as per [rde6173][1]&#39;s answer and taking a closer look at the input specified in the question , &quot;1081157732&quot; appears to be a seconds-based epoch value so you&#39;d want to multiply the long from parseLong() by 1000 to convert to milliseconds, which is what Java&#39;s Date constructor uses, so:\r\n\r\n    Date expiry = new Date(Long.parseLong(date) * 1000);\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/62195/rde6173","title":"Unix epoch time to Java Date object","body":"<p>How about just:</p>\n\n<pre><code>Date expiry = new Date(Long.parseLong(date));\n</code></pre>\n\n<p>EDIT: as per <a href=\"https://stackoverflow.com/users/62195/rde6173\">rde6173</a>'s answer and taking a closer look at the input specified in the question , \"1081157732\" appears to be a seconds-based epoch value so you'd want to multiply the long from parseLong() by 1000 to convert to milliseconds, which is what Java's Date constructor uses, so:</p>\n\n<pre><code>Date expiry = new Date(Long.parseLong(date) * 1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25119,"reputation":16621,"user_id":64331,"display_name":"Varkhan"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1234313871,"creation_date":1234313871,"answer_id":535018,"question_id":535004,"body_markdown":"Hum.... if I am not mistaken, the UNIX Epoch time is actually the same thing as \r\n\r\n    System.currentTimeMillis()\r\n\r\nSo writing\r\n\r\n    try {\r\n        Date expiry = new Date(Long.parseLong(date));\r\n    }\r\n    catch(NumberFormatException e) {\r\n        // ...\r\n    }\r\n\r\nshould work (and be much faster that date parsing)","title":"Unix epoch time to Java Date object","body":"<p>Hum.... if I am not mistaken, the UNIX Epoch time is actually the same thing as </p>\n\n<pre><code>System.currentTimeMillis()\n</code></pre>\n\n<p>So writing</p>\n\n<pre><code>try {\n    Date expiry = new Date(Long.parseLong(date));\n}\ncatch(NumberFormatException e) {\n    // ...\n}\n</code></pre>\n\n<p>should work (and be much faster that date parsing)</p>\n"},{"tags":[],"owner":{"account_id":24462,"reputation":15581,"user_id":62195,"accept_rate":77,"display_name":"Ryan Emerle"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1234314530,"creation_date":1234314053,"answer_id":535026,"question_id":535004,"body_markdown":"Epoch is the number of &lt;b&gt;seconds&lt;/b&gt; since Jan 1, 1970.. \r\n\r\nSo:\r\n\r\n    String epochString = &quot;1081157732&quot;;\r\n    long epoch = Long.parseLong( epochString );\r\n    Date expiry = new Date( epoch * 1000 );\r\n\r\n\r\nFor more information:\r\n[http://www.epochconverter.com/][1]\r\n\r\n\r\n  [1]: http://www.epochconverter.com/","title":"Unix epoch time to Java Date object","body":"<p>Epoch is the number of <b>seconds</b> since Jan 1, 1970.. </p>\n\n<p>So:</p>\n\n<pre><code>String epochString = \"1081157732\";\nlong epoch = Long.parseLong( epochString );\nDate expiry = new Date( epoch * 1000 );\n</code></pre>\n\n<p>For more information:\n<a href=\"http://www.epochconverter.com/\" rel=\"noreferrer\">http://www.epochconverter.com/</a></p>\n"},{"tags":[],"owner":{"account_id":2862762,"reputation":1,"user_id":2457672,"display_name":"Dinesh Jayabalan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427328265,"creation_date":1427328265,"answer_id":29268825,"question_id":535004,"body_markdown":"To convert seconds time stamp to millisecond time stamp. You could use the TimeUnit API and neat like this.\r\n\r\n`long milliSecondTimeStamp = MILLISECONDS.convert(secondsTimeStamp, SECONDS)`","title":"Unix epoch time to Java Date object","body":"<p>To convert seconds time stamp to millisecond time stamp. You could use the TimeUnit API and neat like this.</p>\n\n<p><code>long milliSecondTimeStamp = MILLISECONDS.convert(secondsTimeStamp, SECONDS)</code></p>\n"},{"tags":[],"owner":{"account_id":2248845,"reputation":7211,"user_id":1981559,"accept_rate":100,"display_name":"Przemek"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1450985275,"creation_date":1450906989,"answer_id":34444188,"question_id":535004,"body_markdown":"# java.time\n\nUsing the [`java.time`][1] framework built into Java 8 and later.\n\n    import java.time.LocalDateTime;\n    import java.time.Instant;\n    import java.time.ZoneId;\n    \n    long epoch = Long.parseLong(&quot;1081157732&quot;);\n    Instant instant = Instant.ofEpochSecond(epoch);\n    ZonedDateTime.ofInstant(instant, ZoneOffset.UTC); # ZonedDateTime = 2004-04-05T09:35:32Z[UTC]\n\nIn this case you should better use [`ZonedDateTime`](http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html) to mark it as date in [UTC][2] time zone because Epoch is defined in UTC in [Unix time][3] used by Java.\n\n[`ZoneOffset`](http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html) contains a handy constant for the UTC time zone, as seen in last line above. Its superclass, [`ZoneId`](http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html) can be used to adjust into other time zones.\n\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\n\n\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\n  [2]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\n  [3]: https://en.wikipedia.org/wiki/Unix_time","title":"Unix epoch time to Java Date object","body":"<h1>java.time</h1>\n<p>Using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><code>java.time</code></a> framework built into Java 8 and later.</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.Instant;\nimport java.time.ZoneId;\n\nlong epoch = Long.parseLong(&quot;1081157732&quot;);\nInstant instant = Instant.ofEpochSecond(epoch);\nZonedDateTime.ofInstant(instant, ZoneOffset.UTC); # ZonedDateTime = 2004-04-05T09:35:32Z[UTC]\n</code></pre>\n<p>In this case you should better use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> to mark it as date in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> time zone because Epoch is defined in UTC in <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"noreferrer\">Unix time</a> used by Java.</p>\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a> contains a handy constant for the UTC time zone, as seen in last line above. Its superclass, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> can be used to adjust into other time zones.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\n</code></pre>\n"}],"owner":{"account_id":210,"reputation":83259,"user_id":264,"accept_rate":100,"display_name":"Xenph Yan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203869,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":535017,"answer_count":6,"score":105,"last_activity_date":1686311912,"creation_date":1234313582,"question_id":535004,"body_markdown":"I have a string containing the [UNIX Epoch time][1], and I need to convert it to a Java Date object.\r\n\r\n    String date = &quot;1081157732&quot;;\r\n    DateFormat df = new SimpleDateFormat(&quot;&quot;); // This line\r\n    try {\r\n      Date expiry = df.parse(date);\r\n     } catch (ParseException ex) {\r\n      ex.getStackTrace();\r\n    }\r\n\r\nThe marked line is where I&#39;m having trouble. I can&#39;t work out what the argument to SimpleDateFormat() should be, or even if I should be using SimpleDateFormat().\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Unix_time","title":"Unix epoch time to Java Date object","body":"<p>I have a string containing the <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"noreferrer\">UNIX Epoch time</a>, and I need to convert it to a Java Date object.</p>\n\n<pre><code>String date = \"1081157732\";\nDateFormat df = new SimpleDateFormat(\"\"); // This line\ntry {\n  Date expiry = df.parse(date);\n } catch (ParseException ex) {\n  ex.getStackTrace();\n}\n</code></pre>\n\n<p>The marked line is where I'm having trouble. I can't work out what the argument to SimpleDateFormat() should be, or even if I should be using SimpleDateFormat().</p>\n"},{"tags":["java","selenium-webdriver","jenkins","automation","cucumber"],"comments":[{"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"score":0,"creation_date":1686311723,"post_id":76439962,"comment_id":134784966,"body_markdown":"I thought of having a test with Thread.sleep(long); that waits for one hour. Can someone please give some suggestions on it?","body":"I thought of having a test with Thread.sleep(long); that waits for one hour. Can someone please give some suggestions on it?"},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":1,"creation_date":1686323378,"post_id":76439962,"comment_id":134787644,"body_markdown":"Can you split the tests into two test runs? Then you could configure a [Jenkins pipeline](https://www.jenkins.io/doc/book/pipeline/) to run the first 100 tests, and the next stage of the pipeline could be scheduled to run at a certain time of day, which would run the remaining 400 tests.","body":"Can you split the tests into two test runs? Then you could configure a <a href=\"https://www.jenkins.io/doc/book/pipeline/\" rel=\"nofollow noreferrer\">Jenkins pipeline</a> to run the first 100 tests, and the next stage of the pipeline could be scheduled to run at a certain time of day, which would run the remaining 400 tests."}],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686311618,"creation_date":1686311618,"question_id":76439962,"body_markdown":"I have 500 tests as part of my regression suite. I need to wait for 1 hour after 100 tests are executed and then process the remaining tests. How can I achieve this in Selenium Java with cucumber framework?\r\n\r\nThe reason for waiting is the rest of 400 tests will be executed only when \r\nThere is a scheduler that runs for every 30 mins. The rest of the 400 tests are dependent on initial 100 tests. Once initial 100 tests are processed by scheduler, then only I need to validate the rest of the 400 tests. Please suggest me a way to do that in jenkins. ","title":"I have 500 tests that execute in jenkins slave. How can I stop the test execution for 1 hour after 100 test case execution","body":"<p>I have 500 tests as part of my regression suite. I need to wait for 1 hour after 100 tests are executed and then process the remaining tests. How can I achieve this in Selenium Java with cucumber framework?</p>\n<p>The reason for waiting is the rest of 400 tests will be executed only when\nThere is a scheduler that runs for every 30 mins. The rest of the 400 tests are dependent on initial 100 tests. Once initial 100 tests are processed by scheduler, then only I need to validate the rest of the 400 tests. Please suggest me a way to do that in jenkins.</p>\n"},{"tags":["java","selenium-webdriver","remotewebdriver"],"answers":[{"tags":[],"owner":{"account_id":6936317,"reputation":4279,"user_id":5324105,"display_name":"Rahul L"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1566455553,"creation_date":1566455553,"answer_id":57603243,"question_id":57593369,"body_markdown":"You will have to use below hack to access the local storage in RemoteWebDriver . Tested it on chrome browser using RemoteWebdriver selenium-java - 4.0.0-alpha-2 , Chrome Version 76.0.3809.100 and ChromeDriver 76.0.3809.68 . Working fine for me.\r\n\r\nImport below classes\r\n\r\n     import org.openqa.selenium.remote.RemoteExecuteMethod;\r\n     import org.openqa.selenium.remote.html5.RemoteWebStorage;\r\n     import org.openqa.selenium.html5.LocalStorage;\r\n\r\nUse below code to access the local storage\r\n\r\n     RemoteExecuteMethod executeMethod = new RemoteExecuteMethod((RemoteWebDriver) driver);\r\n     RemoteWebStorage webStorage = new RemoteWebStorage(executeMethod);\r\n     LocalStorage storage = webStorage.getLocalStorage();\r\n     storage.setItem(&quot;test&quot;, &quot;test&quot;);","title":"WebStorage with RemoteWebDriver","body":"<p>You will have to use below hack to access the local storage in RemoteWebDriver . Tested it on chrome browser using RemoteWebdriver selenium-java - 4.0.0-alpha-2 , Chrome Version 76.0.3809.100 and ChromeDriver 76.0.3809.68 . Working fine for me.</p>\n\n<p>Import below classes</p>\n\n<pre><code> import org.openqa.selenium.remote.RemoteExecuteMethod;\n import org.openqa.selenium.remote.html5.RemoteWebStorage;\n import org.openqa.selenium.html5.LocalStorage;\n</code></pre>\n\n<p>Use below code to access the local storage</p>\n\n<pre><code> RemoteExecuteMethod executeMethod = new RemoteExecuteMethod((RemoteWebDriver) driver);\n RemoteWebStorage webStorage = new RemoteWebStorage(executeMethod);\n LocalStorage storage = webStorage.getLocalStorage();\n storage.setItem(\"test\", \"test\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5441431,"reputation":13,"user_id":4329423,"display_name":"Sim&#227;o Abreu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579604579,"creation_date":1579604579,"answer_id":59839717,"question_id":57593369,"body_markdown":"you forgot one import `import org.openqa.selenium.remote.RemoteWebDriver;\r\n`","title":"WebStorage with RemoteWebDriver","body":"<p>you forgot one import <code>import org.openqa.selenium.remote.RemoteWebDriver;\n</code></p>\n"}],"owner":{"account_id":1088745,"reputation":1549,"user_id":1083864,"accept_rate":68,"display_name":"Matthewek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3398,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57603243,"answer_count":2,"score":3,"last_activity_date":1686311598,"creation_date":1566395788,"question_id":57593369,"body_markdown":"I am trying to access WebStorage when running my tests, I am running tests locally using ChromeDriver and remotely in the pipeline using RemoteWebDriver.\r\n\r\nI am unable to access WebStorage when using RemoteWebDriver\r\n\r\n    WebStorage webStorage = (RemoteWebStorage) new Augmenter().augment(driver);\r\n\r\nI am getting:\r\n\r\n&gt; org.openqa.selenium.remote.RemoteWebDriver cannot be cast to org.openqa.selenium.remote.html5.RemoteWebStorage","title":"WebStorage with RemoteWebDriver","body":"<p>I am trying to access WebStorage when running my tests, I am running tests locally using ChromeDriver and remotely in the pipeline using RemoteWebDriver.</p>\n<p>I am unable to access WebStorage when using RemoteWebDriver</p>\n<pre><code>WebStorage webStorage = (RemoteWebStorage) new Augmenter().augment(driver);\n</code></pre>\n<p>I am getting:</p>\n<blockquote>\n<p>org.openqa.selenium.remote.RemoteWebDriver cannot be cast to org.openqa.selenium.remote.html5.RemoteWebStorage</p>\n</blockquote>\n"},{"tags":["java","for-loop","if-statement","arraylist","one-liner"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686303597,"post_id":76438992,"comment_id":134783527,"body_markdown":"Does [this](https://stackoverflow.com/a/3019388/5133585) solve your problem? If you are asking about something more general, please [edit] to show a more general situation of where you would need this.","body":"Does <a href=\"https://stackoverflow.com/a/3019388/5133585\">this</a> solve your problem? If you are asking about something more general, please <a href=\"https://stackoverflow.com/posts/76438992/edit\">edit</a> to show a more general situation of where you would need this."},{"owner":{"account_id":3492369,"reputation":6331,"user_id":2921691,"display_name":"Markus Safar"},"score":0,"creation_date":1686303700,"post_id":76438992,"comment_id":134783540,"body_markdown":"I&#39;m not a java developer and I know this is probably out of context BUT: Why would you prefer a &quot;one liner&quot; that is probably less readable instead of multiple lines that make sense the moment you look at them...","body":"I&#39;m not a java developer and I know this is probably out of context BUT: Why would you prefer a &quot;one liner&quot; that is probably less readable instead of multiple lines that make sense the moment you look at them..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1686308196,"post_id":76438992,"comment_id":134784363,"body_markdown":"Should &quot;`measure`&quot; be `complexObject`?","body":"Should &quot;<code>measure</code>&quot; be <code>complexObject</code>?"},{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1686311490,"post_id":76438992,"comment_id":134784928,"body_markdown":"@AndyTurner yes. Edited.","body":"@AndyTurner yes. Edited."},{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1686311593,"post_id":76438992,"comment_id":134784939,"body_markdown":"@MarkusSafar mostly personal. Too much boilerplate code to just create a list, add an element, and add the list to the map. In this small scope it makes sense, but in a way bigger structure (such as the one I&#39;m working on) it&#39;s really pointless code. Maybe it&#39;s subjective.","body":"@MarkusSafar mostly personal. Too much boilerplate code to just create a list, add an element, and add the list to the map. In this small scope it makes sense, but in a way bigger structure (such as the one I&#39;m working on) it&#39;s really pointless code. Maybe it&#39;s subjective."},{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1686311722,"post_id":76438992,"comment_id":134784965,"body_markdown":"@Sweeper no I don&#39;t think so. What I need is a one-liner to create a list and add an element to it without instantiating it first. It would help to keep the structure of the logic as is for readability, while adopting that solution would totally delete the structure for one line.","body":"@Sweeper no I don&#39;t think so. What I need is a one-liner to create a list and add an element to it without instantiating it first. It would help to keep the structure of the logic as is for readability, while adopting that solution would totally delete the structure for one line."}],"answers":[{"tags":[],"owner":{"account_id":22633544,"reputation":588,"user_id":16810646,"display_name":"Ananta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686303459,"creation_date":1686303459,"answer_id":76439028,"question_id":76438992,"body_markdown":"If you are using jdk8 or higher, you can use stream to achieve it:\r\n```\r\nMap&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = complexObjectsList.stream().collect(Collectors.groupingBy(ComplexObject::getZonedDateTime))\r\n```","title":"Is there a one-liner for list creation and element addition?","body":"<p>If you are using jdk8 or higher, you can use stream to achieve it:</p>\n<pre><code>Map&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = complexObjectsList.stream().collect(Collectors.groupingBy(ComplexObject::getZonedDateTime))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686303725,"creation_date":1686303725,"answer_id":76439063,"question_id":76438992,"body_markdown":"You have multiple solutions to this problem, you could use `HashMap::compute` or [`Collectors::groupingBy`][1]\r\n\r\n    class Ideone\r\n    {\r\n    \tclass ComplexObject\r\n    \t{\r\n    \t\tZonedDateTime time;\r\n    \t\tZonedDateTime getDateTime() { return time; }\r\n    \t}\r\n    \t\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\tList&lt;ComplexObject&gt; objects = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tMap&lt;ZonedDateTime, List&lt;ComplexObject&gt;&gt; map = objects.stream()\r\n    \t\t\t.collect(Collectors.groupingBy(ComplexObject::getDateTime));\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://ideone.com/oYfntC","title":"Is there a one-liner for list creation and element addition?","body":"<p>You have multiple solutions to this problem, you could use <code>HashMap::compute</code> or <a href=\"https://ideone.com/oYfntC\" rel=\"nofollow noreferrer\"><code>Collectors::groupingBy</code></a></p>\n<pre><code>class Ideone\n{\n    class ComplexObject\n    {\n        ZonedDateTime time;\n        ZonedDateTime getDateTime() { return time; }\n    }\n    \n    public static void main (String[] args) throws java.lang.Exception\n    {\n        List&lt;ComplexObject&gt; objects = new ArrayList&lt;&gt;();\n        \n        Map&lt;ZonedDateTime, List&lt;ComplexObject&gt;&gt; map = objects.stream()\n            .collect(Collectors.groupingBy(ComplexObject::getDateTime));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686308008,"creation_date":1686306302,"answer_id":76439352,"question_id":76438992,"body_markdown":"&gt; However the question is about having a one line where you can create a list, add an element to it, and return the list.\r\n\r\nDepends on the kind of list you want:\r\n\r\n* An unmodifiable, null-hostile list: `List.of(element)`.\r\n* A modifiable, non-resizable, null-tolerant list: `Arrays.asList(element)`.\r\n* A modifiable, resizable list: `new ArrayList&lt;&gt;(/* one of the above suggestions */)`, e.g. `new ArrayList&lt;&gt;(List.of(element))`.\r\n\r\nMany other ways also exist, e.g. `Stream.of(element).collect(toList())`, many other list implementations exist, e.g. `ImmutableList.of(element)` with Guava.\r\n\r\n----\r\n\r\nAnother way of approaching the problem outlined in the question, which is basically creating a new list and adding an element to it would be:\r\n\r\n```\r\nmap.computeIfAbsent(complexObject.getZonedDateTime(), k -&gt; new ArrayList&lt;&gt;()).add(complexObject);\r\n```\r\n\r\n----\r\n\r\nI challenge your preference towards omitting `{}` and doing things in one-liners: neither of these are good general approaches:\r\n\r\n* `{}` are useful visual cues, which help people reading the code to identify the start and end of blocks. They also guard against some kinds of mistakes when the code is modified in the future, for example intending to add something in the block, but not in fact doing so, because the braces are omitted.\r\n\r\n  Note that some style guides, e.g. [Google&#39;s Java style guide](https://google.github.io/styleguide/javaguide.html#s4.1-braces) require the use of optional braces, to improve readability of the code.\r\n\r\n* One-liners can, in certain circumstances, be the best way to write things; in many circumstances they can make things much harder to express.\r\n\r\n  I would probably choose `List.of(element)` or `Array.asList(element)` if I needed an unmodifiable list - that&#39;s nice and easy, clear. But once you start using `new ArrayList&lt;&gt;(List.of(element))`, that starts getting quite a bit harder to read, because there&#39;s a lot of burden imposed by the API - why the diamond brackets, why create a list and then create another list? You can hide some of this burden by extracting a method; but then, isn&#39;t a method more verbose than a variable?\r\n\r\n  So, you have to declare a variable if you write something as a not-one-liner. Does that matter? It doesn&#39;t make the code slower; it may make it easier to read, because you&#39;re given the opportunity to provide type information (unless you&#39;ve used `var`) and a name to indicate the purpose.\r\n\r\nUltimately, you should optimize for _readable_ code. Far more time is (or should be) spent reading code than writing code. The poor person who has to read your code next might be you - it&#39;s easy to forget what you meant when you return to the code a week, a month, a year later.\r\n\r\nBe kind, take the time to help future you.","title":"Is there a one-liner for list creation and element addition?","body":"<blockquote>\n<p>However the question is about having a one line where you can create a list, add an element to it, and return the list.</p>\n</blockquote>\n<p>Depends on the kind of list you want:</p>\n<ul>\n<li>An unmodifiable, null-hostile list: <code>List.of(element)</code>.</li>\n<li>A modifiable, non-resizable, null-tolerant list: <code>Arrays.asList(element)</code>.</li>\n<li>A modifiable, resizable list: <code>new ArrayList&lt;&gt;(/* one of the above suggestions */)</code>, e.g. <code>new ArrayList&lt;&gt;(List.of(element))</code>.</li>\n</ul>\n<p>Many other ways also exist, e.g. <code>Stream.of(element).collect(toList())</code>, many other list implementations exist, e.g. <code>ImmutableList.of(element)</code> with Guava.</p>\n<hr />\n<p>Another way of approaching the problem outlined in the question, which is basically creating a new list and adding an element to it would be:</p>\n<pre><code>map.computeIfAbsent(complexObject.getZonedDateTime(), k -&gt; new ArrayList&lt;&gt;()).add(complexObject);\n</code></pre>\n<hr />\n<p>I challenge your preference towards omitting <code>{}</code> and doing things in one-liners: neither of these are good general approaches:</p>\n<ul>\n<li><p><code>{}</code> are useful visual cues, which help people reading the code to identify the start and end of blocks. They also guard against some kinds of mistakes when the code is modified in the future, for example intending to add something in the block, but not in fact doing so, because the braces are omitted.</p>\n<p>Note that some style guides, e.g. <a href=\"https://google.github.io/styleguide/javaguide.html#s4.1-braces\" rel=\"nofollow noreferrer\">Google's Java style guide</a> require the use of optional braces, to improve readability of the code.</p>\n</li>\n<li><p>One-liners can, in certain circumstances, be the best way to write things; in many circumstances they can make things much harder to express.</p>\n<p>I would probably choose <code>List.of(element)</code> or <code>Array.asList(element)</code> if I needed an unmodifiable list - that's nice and easy, clear. But once you start using <code>new ArrayList&lt;&gt;(List.of(element))</code>, that starts getting quite a bit harder to read, because there's a lot of burden imposed by the API - why the diamond brackets, why create a list and then create another list? You can hide some of this burden by extracting a method; but then, isn't a method more verbose than a variable?</p>\n<p>So, you have to declare a variable if you write something as a not-one-liner. Does that matter? It doesn't make the code slower; it may make it easier to read, because you're given the opportunity to provide type information (unless you've used <code>var</code>) and a name to indicate the purpose.</p>\n</li>\n</ul>\n<p>Ultimately, you should optimize for <em>readable</em> code. Far more time is (or should be) spent reading code than writing code. The poor person who has to read your code next might be you - it's easy to forget what you meant when you return to the code a week, a month, a year later.</p>\n<p>Be kind, take the time to help future you.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686307492,"creation_date":1686307492,"answer_id":76439493,"question_id":76438992,"body_markdown":"You can use [computeIfAbsent][1] and achieve what you want and also get rid of the if-else block\r\n\r\n    Map&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = new HashMap&lt;&gt;();\r\n        \r\n    for(var complexObject : complexObjectsList)\r\n        map.computeIfAbsent(complexObject.getZonedDateTime(), k -&gt; new ArrayList&lt;&gt;()).add(complexObject);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-","title":"Is there a one-liner for list creation and element addition?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\">computeIfAbsent</a> and achieve what you want and also get rid of the if-else block</p>\n<pre><code>Map&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = new HashMap&lt;&gt;();\n    \nfor(var complexObject : complexObjectsList)\n    map.computeIfAbsent(complexObject.getZonedDateTime(), k -&gt; new ArrayList&lt;&gt;()).add(complexObject);\n</code></pre>\n"}],"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439352,"answer_count":4,"score":0,"last_activity_date":1686311457,"creation_date":1686303157,"question_id":76438992,"body_markdown":"Say we have to iterate over a list of complex object, and &quot;group&quot; them in a map where a key is (for example) a date and the relative value is a list of complex objects that share that same date.\r\n\r\nI&#39;m a sucker for elegant and readable code, in my way though.\r\n\r\n1. I love one liners after loops and conditional constructs as they do not require &quot;{&quot; &amp; &quot;}&quot;;\r\n2. I hate declaring variables I will not re-use;\r\n\r\n\r\n```\r\nMap&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = new HashMap&lt;&gt;();\r\n\t\t\r\nfor(var complexObject : complexObjectsList)\r\n\t\t\t\r\n\tif (map.containsKey(complexObject.getZonedDateTime()))\r\n\r\n\t\tmap.get(complexObject.getZonedDateTime()).add(complexObject);\r\n\r\n\telse\r\n\r\n\t\tmap.put(complexObject.getZonedDateTime(), new ArrayList&lt;ComplexObject&gt;().add(complexObject));\r\n\t\t\t\r\n```\r\n\r\nAs you can see, for and if/else constructs do not need {} nor additional lines.\r\n\r\nThe problem here, is:\r\n\r\nin the case of a date not present yet in the map, I would love to add it in a one-liner, also creating the list with the first element inside. However, since ArrayList&#39;s &quot;.add&quot; method does not return a List (which is what the map value expects) and, instead, returns a boolean, I cannot do so.\r\n\r\nI&#39;m forced to declare a new List a few lines higher, add the element in another line, and then pass it. Consequentially, I will have to use &quot;{}&quot;, multiple lines and a variable declaration that is not going to be used anymore.\r\n\r\nIs there a way to achieve this? Thanks a lot!","title":"Is there a one-liner for list creation and element addition?","body":"<p>Say we have to iterate over a list of complex object, and &quot;group&quot; them in a map where a key is (for example) a date and the relative value is a list of complex objects that share that same date.</p>\n<p>I'm a sucker for elegant and readable code, in my way though.</p>\n<ol>\n<li>I love one liners after loops and conditional constructs as they do not require &quot;{&quot; &amp; &quot;}&quot;;</li>\n<li>I hate declaring variables I will not re-use;</li>\n</ol>\n<pre><code>Map&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = new HashMap&lt;&gt;();\n        \nfor(var complexObject : complexObjectsList)\n            \n    if (map.containsKey(complexObject.getZonedDateTime()))\n\n        map.get(complexObject.getZonedDateTime()).add(complexObject);\n\n    else\n\n        map.put(complexObject.getZonedDateTime(), new ArrayList&lt;ComplexObject&gt;().add(complexObject));\n            \n</code></pre>\n<p>As you can see, for and if/else constructs do not need {} nor additional lines.</p>\n<p>The problem here, is:</p>\n<p>in the case of a date not present yet in the map, I would love to add it in a one-liner, also creating the list with the first element inside. However, since ArrayList's &quot;.add&quot; method does not return a List (which is what the map value expects) and, instead, returns a boolean, I cannot do so.</p>\n<p>I'm forced to declare a new List a few lines higher, add the element in another line, and then pass it. Consequentially, I will have to use &quot;{}&quot;, multiple lines and a variable declaration that is not going to be used anymore.</p>\n<p>Is there a way to achieve this? Thanks a lot!</p>\n"},{"tags":["java","dependency-injection","cdi","java-7"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1375349307,"post_id":17989771,"comment_id":26302606,"body_markdown":"Searching for &quot;CDI without container&quot; directly revealed some very interesting articles for your topic.","body":"Searching for &quot;CDI without container&quot; directly revealed some very interesting articles for your topic."},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1375349481,"post_id":17989771,"comment_id":26302728,"body_markdown":"Not for me @Seelenvirtuose can you give any reference?","body":"Not for me @Seelenvirtuose can you give any reference?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1375352805,"post_id":17989771,"comment_id":26304770,"body_markdown":"First hit was [Bootstrapping CDI](http://antoniogoncalves.org/2011/01/12/bootstrapping-cdi-in-several-environments/). Second hit was [Control CDI containers](http://struberg.wordpress.com/2012/03/17/controlling-cdi-containers-in-se-and-ee/). Maybe these links help you.","body":"First hit was <a href=\"http://antoniogoncalves.org/2011/01/12/bootstrapping-cdi-in-several-environments/\" rel=\"nofollow noreferrer\">Bootstrapping CDI</a>. Second hit was <a href=\"http://struberg.wordpress.com/2012/03/17/controlling-cdi-containers-in-se-and-ee/\" rel=\"nofollow noreferrer\">Control CDI containers</a>. Maybe these links help you."}],"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5772,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"closed_date":1686315334,"answer_count":0,"score":11,"last_activity_date":1686310558,"creation_date":1375348259,"question_id":17989771,"body_markdown":"I want to write a simple Java Desktop Application using Java Swing. Usually I use **Spring Framework** to do the dependency injection and build the whole class structure. However, I&#39;ve seen that **CDI** is becoming more and more popular and want to give it a try. \r\n\r\nI would like to do the Dependency Injection of my project using CDI, but I don&#39;t know if this is possible without a Servlet container (as it is using Spring). Every single tutorial seems to be related with servlet containers or application servers.","title":"Using CDI without a Servlet Container","body":"<p>I want to write a simple Java Desktop Application using Java Swing. Usually I use <strong>Spring Framework</strong> to do the dependency injection and build the whole class structure. However, I've seen that <strong>CDI</strong> is becoming more and more popular and want to give it a try. </p>\n\n<p>I would like to do the Dependency Injection of my project using CDI, but I don't know if this is possible without a Servlet container (as it is using Spring). Every single tutorial seems to be related with servlet containers or application servers.</p>\n"},{"tags":["java","hook","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660504682,"creation_date":1660504682,"answer_id":73354492,"question_id":73321061,"body_markdown":"The method in question returns [a `MessageListenerContainer`](https://docs.spring.io/spring-kafka/api/org/springframework/kafka/config/KafkaListenerContainerFactory.html#createListenerContainer(org.springframework.kafka.config.KafkaListenerEndpoint)), not a smart life cycle.\r\n\r\nInterceptors can only return an assignable type, that&#39;s why your possible interceptor is not considered. ","title":"ByteBuddy AgentBuilder Problems setting a Hook to KafkaListenerContainerFactory","body":"<p>The method in question returns <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/config/KafkaListenerContainerFactory.html#createListenerContainer(org.springframework.kafka.config.KafkaListenerEndpoint)\" rel=\"nofollow noreferrer\">a <code>MessageListenerContainer</code></a>, not a smart life cycle.</p>\n<p>Interceptors can only return an assignable type, that's why your possible interceptor is not considered.</p>\n"}],"owner":{"account_id":26037970,"reputation":3,"user_id":19743191,"display_name":"Amitai Talmon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73354492,"answer_count":1,"score":0,"last_activity_date":1686310498,"creation_date":1660222707,"question_id":73321061,"body_markdown":"I am trying to set a method Hook to KafkaListenerContainerFactory.KafkaListenerContainerFactory()\r\nI am having problems defining the method signature and always get the error:\r\n\r\njava.lang.IllegalArgumentException: None of \r\n[private static net.bytebuddy.dynamic.DynamicType$Builder CompanyURL.KafkaListenerAnnotationBeanPostProcessorHook.lambda$install$0(net.bytebuddy.dynamic.DynamicType$Builder,net.bytebuddy.description.type.TypeDescription,java.lang.ClassLoader,net.bytebuddy.utility.JavaModule), \r\npublic static java.lang.Object CompanyURL.KafkaListenerAnnotationBeanPostProcessorHook.createListenerContainer(java.lang.Object,java.util.concurrent.Callable) \r\nthrows java.lang.Exception, INSTANCE] allows for delegation from public abstract org.springframework.kafka.listener.MessageListenerContainer org.springframework.kafka.config.KafkaListenerContainerFactory.createListenerContainer(org.springframework.kafka.config.KafkaListenerEndpoint)\r\n","title":"ByteBuddy AgentBuilder Problems setting a Hook to KafkaListenerContainerFactory","body":"<p>I am trying to set a method Hook to KafkaListenerContainerFactory.KafkaListenerContainerFactory()\nI am having problems defining the method signature and always get the error:</p>\n<p>java.lang.IllegalArgumentException: None of\n[private static net.bytebuddy.dynamic.DynamicType$Builder CompanyURL.KafkaListenerAnnotationBeanPostProcessorHook.lambda$install$0(net.bytebuddy.dynamic.DynamicType$Builder,net.bytebuddy.description.type.TypeDescription,java.lang.ClassLoader,net.bytebuddy.utility.JavaModule),\npublic static java.lang.Object CompanyURL.KafkaListenerAnnotationBeanPostProcessorHook.createListenerContainer(java.lang.Object,java.util.concurrent.Callable)\nthrows java.lang.Exception, INSTANCE] allows for delegation from public abstract org.springframework.kafka.listener.MessageListenerContainer org.springframework.kafka.config.KafkaListenerContainerFactory.createListenerContainer(org.springframework.kafka.config.KafkaListenerEndpoint)</p>\n"},{"tags":["java","spring-boot","aop","aspectj"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1561503991,"post_id":56763066,"comment_id":100083160,"body_markdown":"On a somewhat related note, have you looked into the Spring [PerformanceMonitorInterceptor](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/aop/interceptor/PerformanceMonitorInterceptor.html) which seems to already do what you&#39;re attempting to implement?","body":"On a somewhat related note, have you looked into the Spring <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/aop/interceptor/PerformanceMonitorInterceptor.html\" rel=\"nofollow noreferrer\">PerformanceMonitorInterceptor</a> which seems to already do what you&#39;re attempting to implement?"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1561504129,"post_id":56763066,"comment_id":100083191,"body_markdown":"Otherwise, have you attempted using `@SpringBootTest` without restricting it to specific classes?","body":"Otherwise, have you attempted using <code>@SpringBootTest</code> without restricting it to specific classes?"},{"owner":{"account_id":129909,"reputation":1515,"user_id":328808,"accept_rate":80,"display_name":"Natan Cox"},"score":0,"creation_date":1561506371,"post_id":56763066,"comment_id":100083646,"body_markdown":"K. The real case is a bit difficult so I used it as an example. Remove &quot;classes&quot; on the annotation does not help.","body":"K. The real case is a bit difficult so I used it as an example. Remove &quot;classes&quot; on the annotation does not help."}],"answers":[{"tags":[],"owner":{"account_id":13559789,"reputation":1287,"user_id":9781957,"display_name":"DCTID"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561513039,"creation_date":1561513039,"answer_id":56764020,"question_id":56763066,"body_markdown":"You need to start an `@SpringBootApplication`. However, it does not have to be the one you use to start your app in production. It can be a special one for this test only and can be in your test sources root not your src.\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackageClasses = {DemoComponent.class, TimeLoggerAspect.class})\r\n    public class SpringBootTestMain {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringBootTestMain.class, args);\r\n        }\r\n\r\n    }\r\n\r\nThen in your test this is the only class you need to list.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes = SpringBootTestMain.class)\r\n    public class DemoComponentFailTest {","title":"How to test an aspect with SpringBootTest?","body":"<p>You need to start an <code>@SpringBootApplication</code>. However, it does not have to be the one you use to start your app in production. It can be a special one for this test only and can be in your test sources root not your src.</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackageClasses = {DemoComponent.class, TimeLoggerAspect.class})\npublic class SpringBootTestMain {\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootTestMain.class, args);\n    }\n\n}\n</code></pre>\n\n<p>Then in your test this is the only class you need to list.</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = SpringBootTestMain.class)\npublic class DemoComponentFailTest {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129909,"reputation":1515,"user_id":328808,"accept_rate":80,"display_name":"Natan Cox"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1562059252,"creation_date":1562059252,"answer_id":56849190,"question_id":56763066,"body_markdown":"Another solution that seems to work is adding **`AnnotationAwareAspectJAutoProxyCreator`** in `classes` of `@SpringBootTest`, although I am not quite certain why.\r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    \r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes = { DemoComponent.class, \r\n                                TimeLoggerAspect.class,\r\n                                AnnotationAwareAspectJAutoProxyCreator.class })\r\n    public class DemoComponentFailTest {\r\n    \r\n      @Autowired\r\n      private DemoComponent demoComponent;\r\n    \r\n      @Test\r\n      public void shouldLogMethodTiming() {\r\n          demoComponent.sayHello();\r\n      }\r\n    }","title":"How to test an aspect with SpringBootTest?","body":"<p>Another solution that seems to work is adding <strong><code>AnnotationAwareAspectJAutoProxyCreator</code></strong> in <code>classes</code> of <code>@SpringBootTest</code>, although I am not quite certain why.</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = { DemoComponent.class, \n                            TimeLoggerAspect.class,\n                            AnnotationAwareAspectJAutoProxyCreator.class })\npublic class DemoComponentFailTest {\n\n  @Autowired\n  private DemoComponent demoComponent;\n\n  @Test\n  public void shouldLogMethodTiming() {\n      demoComponent.sayHello();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4745627,"reputation":5635,"user_id":3837078,"accept_rate":73,"display_name":"Michael Hegner"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1573836179,"creation_date":1573836179,"answer_id":58881327,"question_id":56763066,"body_markdown":"I had similar problem. My Aspect is listening on controller methods. To get it activated, importing the ```AnnotationAwareAspectJAutoProxyCreator``` made the trick:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @Import(AnnotationAwareAspectJAutoProxyCreator.class) // activate aspect\r\n    @WebMvcTest(MyController.class)\r\n    public class MyControllerTest {\r\n  \r\n        ...\r\n\r\n    }\r\n\r\n","title":"How to test an aspect with SpringBootTest?","body":"<p>I had similar problem. My Aspect is listening on controller methods. To get it activated, importing the <code>AnnotationAwareAspectJAutoProxyCreator</code> made the trick:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@Import(AnnotationAwareAspectJAutoProxyCreator.class) // activate aspect\n@WebMvcTest(MyController.class)\npublic class MyControllerTest {\n\n    ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17520654,"reputation":96,"user_id":12706786,"display_name":"Raphael Costa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1582123053,"creation_date":1582122467,"answer_id":60302575,"question_id":56763066,"body_markdown":"You have to put @EnableAspectJAutoProxy with your file @Configuration that declares the bean with @Aspect.\r\n\r\n    @Aspect\r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    public class TimeLoggerAspect {\r\n    \r\n      private static final Logger log = LoggerFactory.getLogger(TimeLoggerAspect.class);\r\n    \r\n      @Around(&quot;@annotation(demo.TimeLogger)&quot;)\r\n      public Object methodTimeLogger(ProceedingJoinPoint joinPoint) \r\n              throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n    \r\n        Object proceed = joinPoint.proceed();\r\n    \r\n        long totalTime = System.currentTimeMillis() - startTime;\r\n        log.info(&quot;Method &quot; + joinPoint.getSignature() + &quot;: &quot; + totalTime + &quot;ms&quot;);\r\n    \r\n        return proceed;\r\n      }\r\n    }\r\n\r\nI think that will do the work.","title":"How to test an aspect with SpringBootTest?","body":"<p>You have to put @EnableAspectJAutoProxy with your file @Configuration that declares the bean with @Aspect.</p>\n\n<pre><code>@Aspect\n@Configuration\n@EnableAspectJAutoProxy\npublic class TimeLoggerAspect {\n\n  private static final Logger log = LoggerFactory.getLogger(TimeLoggerAspect.class);\n\n  @Around(\"@annotation(demo.TimeLogger)\")\n  public Object methodTimeLogger(ProceedingJoinPoint joinPoint) \n          throws Throwable {\n    long startTime = System.currentTimeMillis();\n\n    Object proceed = joinPoint.proceed();\n\n    long totalTime = System.currentTimeMillis() - startTime;\n    log.info(\"Method \" + joinPoint.getSignature() + \": \" + totalTime + \"ms\");\n\n    return proceed;\n  }\n}\n</code></pre>\n\n<p>I think that will do the work.</p>\n"},{"tags":[],"owner":{"account_id":2159802,"reputation":493,"user_id":1914243,"accept_rate":33,"display_name":"juckky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674727351,"creation_date":1674727351,"answer_id":75244612,"question_id":56763066,"body_markdown":"When I had to test an aspect, I used the approach below.\r\n\r\n    @SpringBootTest\r\n    @ContextConfiguration(classes = {MyAspectImpl.class, MyAspectTest.TestConfiguration.class})\r\n    @EnableAspectJAutoProxy\r\n    public class MyAspectTest {\r\n\r\n      @org.springframework.boot.test.context.TestConfiguration\r\n    static class TestConfiguration {\r\n        @Bean\r\n        public MyAspectTestClass myAspectTestClass() {\r\n          return new MyAspectTestClass();\r\n        }\r\n      }\r\n\r\n      @Autowired\r\n      private MyAspectTestClass target;\r\n\r\n      @Test\r\n      public void testCorrectlySetsPoolNameUsingMethodParameter() {\r\n        target.testMethod();\r\n      }\r\n\r\n      @NoArgsConstructor\r\n      private static class MyAspectTestClass {\r\n        @MyAspect\r\n        public void testMethod() {\r\n         //Add some logic here\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"How to test an aspect with SpringBootTest?","body":"<p>When I had to test an aspect, I used the approach below.</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes = {MyAspectImpl.class, MyAspectTest.TestConfiguration.class})\n@EnableAspectJAutoProxy\npublic class MyAspectTest {\n\n  @org.springframework.boot.test.context.TestConfiguration\nstatic class TestConfiguration {\n    @Bean\n    public MyAspectTestClass myAspectTestClass() {\n      return new MyAspectTestClass();\n    }\n  }\n\n  @Autowired\n  private MyAspectTestClass target;\n\n  @Test\n  public void testCorrectlySetsPoolNameUsingMethodParameter() {\n    target.testMethod();\n  }\n\n  @NoArgsConstructor\n  private static class MyAspectTestClass {\n    @MyAspect\n    public void testMethod() {\n     //Add some logic here\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8774392,"reputation":21,"user_id":6560125,"display_name":"Srinivas Rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686310461,"creation_date":1686310461,"answer_id":76439825,"question_id":56763066,"body_markdown":" `@Import (AnnotationAwareAspectJAutoProxyCreator.class)` This alone did not work for me.\r\n\r\nI had to Include my aspect class and controller class in ContextConfiguration. And then Autowire them in the test class.\r\n\r\n`@ContextConfiguration (classes = {MyController.class, MyAspect.class})`\r\n\r\n```\r\n@Autowired\r\nMyController myController;\r\n\r\n@Autowired\r\nMyAspect myAspect;\r\n```\r\nLeaving it here. Thought this might help somebody someday.\r\n\r\n","title":"How to test an aspect with SpringBootTest?","body":"<p><code>@Import (AnnotationAwareAspectJAutoProxyCreator.class)</code> This alone did not work for me.</p>\n<p>I had to Include my aspect class and controller class in ContextConfiguration. And then Autowire them in the test class.</p>\n<p><code>@ContextConfiguration (classes = {MyController.class, MyAspect.class})</code></p>\n<pre><code>@Autowired\nMyController myController;\n\n@Autowired\nMyAspect myAspect;\n</code></pre>\n<p>Leaving it here. Thought this might help somebody someday.</p>\n"}],"owner":{"account_id":129909,"reputation":1515,"user_id":328808,"accept_rate":80,"display_name":"Natan Cox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21895,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":60302575,"answer_count":6,"score":19,"last_activity_date":1686310461,"creation_date":1561503753,"question_id":56763066,"body_markdown":"I created a simple aspect in Spring using Spring Boot 2.1.6.RELEASE.\r\nIt basically logs the total time spent on a method.\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class TimeLoggerAspect {\r\n\r\n  private static final Logger log = LoggerFactory.getLogger(TimeLoggerAspect.class);\r\n\r\n  @Around(&quot;@annotation(demo.TimeLogger)&quot;)\r\n  public Object methodTimeLogger(ProceedingJoinPoint joinPoint) \r\n          throws Throwable {\r\n    long startTime = System.currentTimeMillis();\r\n\r\n    Object proceed = joinPoint.proceed();\r\n\r\n    long totalTime = System.currentTimeMillis() - startTime;\r\n    log.info(&quot;Method &quot; + joinPoint.getSignature() + &quot;: &quot; + totalTime + &quot;ms&quot;);\r\n\r\n    return proceed;\r\n  }\r\n}\r\n```\r\n\r\nthe aspect is triggered by a `TimeLogger` annotation\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface TimeLogger {\r\n}\r\n```\r\n\r\nand is used in a component like this\r\n\r\n```\r\n@Component\r\npublic class DemoComponent {\r\n  @TimeLogger\r\n  public void sayHello() {\r\n    System.out.println(&quot;hello&quot;);\r\n  }\r\n}\r\n```\r\n\r\nA spring boot demo application will invoke `sayHello` via the `run` method of the `CommandLineRunner` interface.\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n  @Autowired\r\n  private DemoComponent demoComponent;\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(DemoApplication.class, args);\r\n  }\r\n\r\n  @Override\r\n  public void run(String... args) throws Exception {\r\n    demoComponent.sayHello();\r\n  }\r\n}\r\n```\r\n\r\nFor completeness, I add my modifications in `build.gradle`: adding libraries for aop, spring test and jupiter (junit).\r\n\r\n```\r\n\tcompile(&quot;org.springframework.boot:spring-boot-starter-aop&quot;)\r\n\r\n    testCompile(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n\ttestCompile(&quot;org.junit.jupiter:junit-jupiter-api&quot;)\r\n\ttestRuntime(&quot;org.junit.jupiter:junit-jupiter-engine&quot;)\r\n```\r\n\r\nRunning the application will output (trimmed for readability)\r\n\r\n```\r\nhello\r\n... TimeLoggerAspect : Method void demo.DemoComponent.sayHello(): 4ms\r\n\r\n```\r\n\r\nSo far, so good. Now I create a test based on `@SpringBootTest` annotation and jupiter.\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = {DemoComponent.class, TimeLoggerAspect.class})\r\npublic class DemoComponentFailTest {\r\n\r\n  @Autowired\r\n  private DemoComponent demoComponent;\r\n\r\n  @Test\r\n  public void shouldLogMethodTiming() {\r\n      demoComponent.sayHello();\r\n  }\r\n}\r\n```\r\n\r\nand here I get the output\r\n\r\n```\r\nhello\r\n```\r\n\r\nNo output from the `TimeLoggerAspect`, since it seems it is not being triggered.\r\n\r\nIs something missing to trigger the aspect in the test? Or are there other ways of testing the aspect in spring boot?","title":"How to test an aspect with SpringBootTest?","body":"<p>I created a simple aspect in Spring using Spring Boot 2.1.6.RELEASE.\nIt basically logs the total time spent on a method.</p>\n\n<pre><code>@Aspect\n@Component\npublic class TimeLoggerAspect {\n\n  private static final Logger log = LoggerFactory.getLogger(TimeLoggerAspect.class);\n\n  @Around(\"@annotation(demo.TimeLogger)\")\n  public Object methodTimeLogger(ProceedingJoinPoint joinPoint) \n          throws Throwable {\n    long startTime = System.currentTimeMillis();\n\n    Object proceed = joinPoint.proceed();\n\n    long totalTime = System.currentTimeMillis() - startTime;\n    log.info(\"Method \" + joinPoint.getSignature() + \": \" + totalTime + \"ms\");\n\n    return proceed;\n  }\n}\n</code></pre>\n\n<p>the aspect is triggered by a <code>TimeLogger</code> annotation</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface TimeLogger {\n}\n</code></pre>\n\n<p>and is used in a component like this</p>\n\n<pre><code>@Component\npublic class DemoComponent {\n  @TimeLogger\n  public void sayHello() {\n    System.out.println(\"hello\");\n  }\n}\n</code></pre>\n\n<p>A spring boot demo application will invoke <code>sayHello</code> via the <code>run</code> method of the <code>CommandLineRunner</code> interface.</p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n  @Autowired\n  private DemoComponent demoComponent;\n\n  public static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n  }\n\n  @Override\n  public void run(String... args) throws Exception {\n    demoComponent.sayHello();\n  }\n}\n</code></pre>\n\n<p>For completeness, I add my modifications in <code>build.gradle</code>: adding libraries for aop, spring test and jupiter (junit).</p>\n\n<pre><code>    compile(\"org.springframework.boot:spring-boot-starter-aop\")\n\n    testCompile(\"org.springframework.boot:spring-boot-starter-test\")\n    testCompile(\"org.junit.jupiter:junit-jupiter-api\")\n    testRuntime(\"org.junit.jupiter:junit-jupiter-engine\")\n</code></pre>\n\n<p>Running the application will output (trimmed for readability)</p>\n\n<pre><code>hello\n... TimeLoggerAspect : Method void demo.DemoComponent.sayHello(): 4ms\n\n</code></pre>\n\n<p>So far, so good. Now I create a test based on <code>@SpringBootTest</code> annotation and jupiter.</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = {DemoComponent.class, TimeLoggerAspect.class})\npublic class DemoComponentFailTest {\n\n  @Autowired\n  private DemoComponent demoComponent;\n\n  @Test\n  public void shouldLogMethodTiming() {\n      demoComponent.sayHello();\n  }\n}\n</code></pre>\n\n<p>and here I get the output</p>\n\n<pre><code>hello\n</code></pre>\n\n<p>No output from the <code>TimeLoggerAspect</code>, since it seems it is not being triggered.</p>\n\n<p>Is something missing to trigger the aspect in the test? Or are there other ways of testing the aspect in spring boot?</p>\n"},{"tags":["java","android","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686310354,"creation_date":1686310354,"answer_id":76439817,"question_id":76416341,"body_markdown":"\r\nchange your code like as follow\r\n\r\n     tv = nav.findViewById(R.id.tvusername);\r\n\r\nPlease accept this answer if it solved your problem or was the most helpful in finding your solution","title":"NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.view.View.findViewById(int)&#39; on a null object reference","body":"<p>change your code like as follow</p>\n<pre><code> tv = nav.findViewById(R.id.tvusername);\n</code></pre>\n<p>Please accept this answer if it solved your problem or was the most helpful in finding your solution</p>\n"}],"owner":{"account_id":28766078,"reputation":1,"user_id":22030966,"display_name":"Nauman Qureshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686310354,"creation_date":1686066525,"question_id":76416341,"body_markdown":"i am getting this NullPointerException Error in Java trying to run my app in android Studio.\r\nBelow is my JavaFile\r\n\r\n```\r\npackage com.example.app;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.Manifest;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.database.Cursor;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport com.example.app.AboutusFragment;\r\nimport com.example.app.AddProductFragment;\r\nimport com.example.app.AllProductsFragment;\r\nimport com.example.app.CartFragment;\r\nimport com.example.app.CategoryFragment;\r\nimport com.example.app.CatlistFragment;\r\nimport com.example.app.ChangePwdFragment;\r\nimport com.example.app.ContactusFragment;\r\nimport com.example.app.HomeFragment;\r\nimport com.example.app.LoginFragment;\r\nimport com.example.app.MediMartDbHelper;\r\nimport com.example.app.MediMartUtils;\r\nimport com.example.app.OrderHistoryFragment;\r\nimport com.example.app.OrdersFragment;\r\nimport com.example.app.R;\r\nimport com.example.app.RegisterFragment;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.android.material.snackbar.BaseTransientBottomBar;\r\nimport com.google.android.material.snackbar.Snackbar;\r\n\r\nimport java.util.List;\r\n\r\npublic class HomeActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n\r\n    private DrawerLayout dlayout;\r\n    private NavigationView nav;\r\n    private ActionBarDrawerToggle drawerToggle;\r\n    private Toolbar toolbar;\r\n    private SharedPreferences sp;\r\n    private MediMartDbHelper db;\r\n    private TextView tv;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n        init();\r\n        drawerToggle=new ActionBarDrawerToggle(this.getParent(),dlayout,toolbar,R.string.on,R.string.Off);\r\n        dlayout.addDrawerListener(drawerToggle);\r\n        drawerToggle.syncState();\r\n        nav.setNavigationItemSelectedListener(this);\r\n        permissions();\r\n        MediMartUtils.loadFragment(this,new CategoryFragment());\r\n        loadmenu();\r\n    }\r\n\r\n    public void init(){\r\n        dlayout=findViewById(R.id.dlayout);\r\n        nav= findViewById(R.id.nav_view);\r\n        toolbar= findViewById(R.id.toolbar);\r\n        tv= nav.getHeaderView(0).findViewById(R.id.tvusername);\r\n        sp=getSharedPreferences(&quot;users&quot;,MODE_PRIVATE);\r\n        db=new MediMartDbHelper(this);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setTitle(&quot;My Shop&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.search_menu,menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        if(item.getItemId()==R.id.mcart){\r\n            String user=sp.getString(&quot;userid&quot;,&quot;guest&quot;);\r\n            if(user.equals(&quot;guest&quot;)) {\r\n                MediMartUtils.loadFragment(this, new LoginFragment());\r\n                Snackbar.make(getCurrentFocus(),&quot;Please Login First&quot;,BaseTransientBottomBar.LENGTH_LONG).show();\r\n            }else{\r\n                MediMartUtils.loadFragment(this, new CartFragment());\r\n            }\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    public void loadmenu(){\r\n        String user=sp.getString(&quot;userid&quot;,&quot;guest&quot;);\r\n        Menu menu=nav.getMenu();\r\n        switch(user) {\r\n            case &quot;guest&quot;:\r\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\r\n                menu.setGroupVisible(R.id.gadmin, false);\r\n                menu.setGroupVisible(R.id.guser, false);\r\n                menu.setGroupVisible(R.id.gcustomer, false);\r\n                tv.setText(&quot;Welcome Guest&quot;);\r\n                break;\r\n            case &quot;admin&quot;:\r\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\r\n                menu.setGroupVisible(R.id.gadmin, true);\r\n                menu.setGroupVisible(R.id.guser, true);\r\n                menu.setGroupVisible(R.id.gcustomer, false);\r\n                tv.setText(&quot;Welcome Administrator&quot;);\r\n                break;\r\n            default:\r\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\r\n                menu.setGroupVisible(R.id.guser, true);\r\n                menu.setGroupVisible(R.id.gcustomer, true);\r\n                menu.setGroupVisible(R.id.gadmin, false);\r\n                Cursor c=db.findcustomer(user);\r\n                c.moveToNext();\r\n                tv.setText(&quot;Welcome &quot;+c.getString(1));\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void permissions(){\r\n        if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\r\n            if(checkSelfPermission(Manifest.permission.CALL_PHONE)!= PackageManager.PERMISSION_GRANTED){\r\n                requestPermissions(new String[]{Manifest.permission.CALL_PHONE},100);\r\n            }\r\n            if(checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED){\r\n                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},200);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        Fragment f=null;\r\n        switch (item.getItemId()){\r\n            case R.id.mhome:\r\n                f=new HomeFragment();\r\n                break;\r\n            case R.id.mcat:\r\n                f=new CatlistFragment();\r\n                break;\r\n            case R.id.mnoti:\r\n                f=new OrderHistoryFragment();\r\n                break;\r\n            case R.id.mproducts:\r\n                f=new CategoryFragment();\r\n                break;\r\n            case R.id.morders:\r\n                f=new OrdersFragment();\r\n                break;\r\n            case R.id.mchangepwd:\r\n                f=new ChangePwdFragment();\r\n                break;\r\n            case  R.id.maddpro:\r\n                f=new AddProductFragment();\r\n                break;\r\n            case R.id.mshowall:\r\n                f=new AllProductsFragment();\r\n                break;\r\n            case R.id.mlogout:\r\n                SharedPreferences.Editor edit=sp.edit();\r\n                edit.remove(&quot;userid&quot;);\r\n                edit.remove(&quot;role&quot;);\r\n                edit.commit();\r\n                f=new CategoryFragment();\r\n                Toast.makeText(this, &quot;Sign out successfully..&quot;, Toast.LENGTH_SHORT).show();\r\n                dlayout.closeDrawer(GravityCompat.START);\r\n                return MediMartUtils.loadwithoutHistoryFragment(this,f);\r\n            case  R.id.mcart:\r\n                f=new CartFragment();\r\n                break;\r\n        }\r\n        dlayout.closeDrawer(GravityCompat.START);\r\n        return MediMartUtils.loadFragment(this,f);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        if(dlayout.isDrawerOpen(GravityCompat.START)){\r\n            dlayout.closeDrawer(GravityCompat.START);\r\n        }\r\n        if(getSupportFragmentManager().getBackStackEntryCount()==0) {\r\n            super.onBackPressed();\r\n        }else{\r\n            getSupportFragmentManager().popBackStack();\r\n        }\r\n    }\r\n\r\n    public void login(View view) {\r\n        MediMartUtils.loadFragment(this,new LoginFragment());\r\n    }\r\n\r\n    public void register(View view) {\r\n        MediMartUtils.loadFragment(this,new RegisterFragment());\r\n    }\r\n\r\n    public void contactus(View view) {\r\n        MediMartUtils.loadFragment(this,new ContactusFragment());\r\n    }\r\n\r\n    public void aboutus(View view) {\r\n        MediMartUtils.loadFragment(this,new AboutusFragment());\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is my activity home layout file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.come/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:id=&quot;@+id/dlayout&quot;&gt;\r\n\r\n    &lt;include\r\n        layout=&quot;@layout/main_content&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        /&gt;\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        app:headerLayout=&quot;@layout/drawer_header&quot;\r\n        app:menu=&quot;@menu/drawer_menu&quot;\r\n    /&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\n\r\nAnd here, where the id tvusername is assigned\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;220dp&quot;\r\n    android:background=&quot;#ffffff&quot;\r\n    android:layout_gravity=&quot;top&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;10dp&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:id=&quot;@+id/imageView14&quot;\r\n        app:srcCompat=&quot;@drawable/grocerrylogo&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView28&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;4dp&quot;\r\n            android:text=&quot;Shopify Cart&quot;\r\n            android:textColor=&quot;#8F10a5&quot;\r\n            android:textSize=&quot;25dp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvusername&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            android:text=&quot;Welcome Guest&quot;\r\n            android:textColor=&quot;#640873&quot;\r\n            android:textSize=&quot;18dp&quot;\r\n            android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\nI have seen plenty of similiar post but and i tried to learn from them but it doesnt resonate within me. I truly do not understand why this error is thrown in line 75 which is this one:\r\n\r\n\r\n```\r\ntv= nav.getHeaderView(0).findViewById(R.id.tvusername);\r\n```\r\n\r\nAnd Line 61 which is this one: (probably because the error first comes from within the method)\r\n\r\n\r\n```\r\ninit();\r\n```\r\n\r\nI can imagine that the error is pretty obvious and im just unable to see it :D\r\nThanks alot!\r\n\r\nIf i have to provide any more information please let me know, this is my first posts on here.\r\n\r\n\r\n\r\nI am trying to assign a ressource id to TextView tv; \r\nAnd i am getting the error: \r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.view.View.findViewById(int)&#39; on a null object reference\r\n                                                                                                    \tat com.example.app.HomeActivity.init(HomeActivity.java:75)\r\n                                                                                                    \tat com.example.app.HomeActivity.onCreate(HomeActivity.java:61)\r\n```\r\n\r\nI am not sure why its not working and where the error seems to be","title":"NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.view.View.findViewById(int)&#39; on a null object reference","body":"<p>i am getting this NullPointerException Error in Java trying to run my app in android Studio.\nBelow is my JavaFile</p>\n<pre><code>package com.example.app;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\n\nimport android.Manifest;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.database.Cursor;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n\nimport com.example.app.AboutusFragment;\nimport com.example.app.AddProductFragment;\nimport com.example.app.AllProductsFragment;\nimport com.example.app.CartFragment;\nimport com.example.app.CategoryFragment;\nimport com.example.app.CatlistFragment;\nimport com.example.app.ChangePwdFragment;\nimport com.example.app.ContactusFragment;\nimport com.example.app.HomeFragment;\nimport com.example.app.LoginFragment;\nimport com.example.app.MediMartDbHelper;\nimport com.example.app.MediMartUtils;\nimport com.example.app.OrderHistoryFragment;\nimport com.example.app.OrdersFragment;\nimport com.example.app.R;\nimport com.example.app.RegisterFragment;\nimport com.google.android.material.navigation.NavigationView;\nimport com.google.android.material.snackbar.BaseTransientBottomBar;\nimport com.google.android.material.snackbar.Snackbar;\n\nimport java.util.List;\n\npublic class HomeActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n\n    private DrawerLayout dlayout;\n    private NavigationView nav;\n    private ActionBarDrawerToggle drawerToggle;\n    private Toolbar toolbar;\n    private SharedPreferences sp;\n    private MediMartDbHelper db;\n    private TextView tv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n        init();\n        drawerToggle=new ActionBarDrawerToggle(this.getParent(),dlayout,toolbar,R.string.on,R.string.Off);\n        dlayout.addDrawerListener(drawerToggle);\n        drawerToggle.syncState();\n        nav.setNavigationItemSelectedListener(this);\n        permissions();\n        MediMartUtils.loadFragment(this,new CategoryFragment());\n        loadmenu();\n    }\n\n    public void init(){\n        dlayout=findViewById(R.id.dlayout);\n        nav= findViewById(R.id.nav_view);\n        toolbar= findViewById(R.id.toolbar);\n        tv= nav.getHeaderView(0).findViewById(R.id.tvusername);\n        sp=getSharedPreferences(&quot;users&quot;,MODE_PRIVATE);\n        db=new MediMartDbHelper(this);\n        setSupportActionBar(toolbar);\n        getSupportActionBar().setTitle(&quot;My Shop&quot;);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.search_menu,menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        if(item.getItemId()==R.id.mcart){\n            String user=sp.getString(&quot;userid&quot;,&quot;guest&quot;);\n            if(user.equals(&quot;guest&quot;)) {\n                MediMartUtils.loadFragment(this, new LoginFragment());\n                Snackbar.make(getCurrentFocus(),&quot;Please Login First&quot;,BaseTransientBottomBar.LENGTH_LONG).show();\n            }else{\n                MediMartUtils.loadFragment(this, new CartFragment());\n            }\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    public void loadmenu(){\n        String user=sp.getString(&quot;userid&quot;,&quot;guest&quot;);\n        Menu menu=nav.getMenu();\n        switch(user) {\n            case &quot;guest&quot;:\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\n                menu.setGroupVisible(R.id.gadmin, false);\n                menu.setGroupVisible(R.id.guser, false);\n                menu.setGroupVisible(R.id.gcustomer, false);\n                tv.setText(&quot;Welcome Guest&quot;);\n                break;\n            case &quot;admin&quot;:\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\n                menu.setGroupVisible(R.id.gadmin, true);\n                menu.setGroupVisible(R.id.guser, true);\n                menu.setGroupVisible(R.id.gcustomer, false);\n                tv.setText(&quot;Welcome Administrator&quot;);\n                break;\n            default:\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\n                menu.setGroupVisible(R.id.guser, true);\n                menu.setGroupVisible(R.id.gcustomer, true);\n                menu.setGroupVisible(R.id.gadmin, false);\n                Cursor c=db.findcustomer(user);\n                c.moveToNext();\n                tv.setText(&quot;Welcome &quot;+c.getString(1));\n                break;\n        }\n    }\n\n    private void permissions(){\n        if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\n            if(checkSelfPermission(Manifest.permission.CALL_PHONE)!= PackageManager.PERMISSION_GRANTED){\n                requestPermissions(new String[]{Manifest.permission.CALL_PHONE},100);\n            }\n            if(checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED){\n                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},200);\n            }\n        }\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        Fragment f=null;\n        switch (item.getItemId()){\n            case R.id.mhome:\n                f=new HomeFragment();\n                break;\n            case R.id.mcat:\n                f=new CatlistFragment();\n                break;\n            case R.id.mnoti:\n                f=new OrderHistoryFragment();\n                break;\n            case R.id.mproducts:\n                f=new CategoryFragment();\n                break;\n            case R.id.morders:\n                f=new OrdersFragment();\n                break;\n            case R.id.mchangepwd:\n                f=new ChangePwdFragment();\n                break;\n            case  R.id.maddpro:\n                f=new AddProductFragment();\n                break;\n            case R.id.mshowall:\n                f=new AllProductsFragment();\n                break;\n            case R.id.mlogout:\n                SharedPreferences.Editor edit=sp.edit();\n                edit.remove(&quot;userid&quot;);\n                edit.remove(&quot;role&quot;);\n                edit.commit();\n                f=new CategoryFragment();\n                Toast.makeText(this, &quot;Sign out successfully..&quot;, Toast.LENGTH_SHORT).show();\n                dlayout.closeDrawer(GravityCompat.START);\n                return MediMartUtils.loadwithoutHistoryFragment(this,f);\n            case  R.id.mcart:\n                f=new CartFragment();\n                break;\n        }\n        dlayout.closeDrawer(GravityCompat.START);\n        return MediMartUtils.loadFragment(this,f);\n    }\n\n    @Override\n    public void onBackPressed() {\n\n        if(dlayout.isDrawerOpen(GravityCompat.START)){\n            dlayout.closeDrawer(GravityCompat.START);\n        }\n        if(getSupportFragmentManager().getBackStackEntryCount()==0) {\n            super.onBackPressed();\n        }else{\n            getSupportFragmentManager().popBackStack();\n        }\n    }\n\n    public void login(View view) {\n        MediMartUtils.loadFragment(this,new LoginFragment());\n    }\n\n    public void register(View view) {\n        MediMartUtils.loadFragment(this,new RegisterFragment());\n    }\n\n    public void contactus(View view) {\n        MediMartUtils.loadFragment(this,new ContactusFragment());\n    }\n\n    public void aboutus(View view) {\n        MediMartUtils.loadFragment(this,new AboutusFragment());\n    }\n\n}\n</code></pre>\n<p>Here is my activity home layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.come/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/dlayout&quot;&gt;\n\n    &lt;include\n        layout=&quot;@layout/main_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        /&gt;\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:headerLayout=&quot;@layout/drawer_header&quot;\n        app:menu=&quot;@menu/drawer_menu&quot;\n    /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>And here, where the id tvusername is assigned</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;220dp&quot;\n    android:background=&quot;#ffffff&quot;\n    android:layout_gravity=&quot;top&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;10dp&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;100dp&quot;\n        android:id=&quot;@+id/imageView14&quot;\n        app:srcCompat=&quot;@drawable/grocerrylogo&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView28&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;4dp&quot;\n            android:text=&quot;Shopify Cart&quot;\n            android:textColor=&quot;#8F10a5&quot;\n            android:textSize=&quot;25dp&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tvusername&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;8dp&quot;\n            android:text=&quot;Welcome Guest&quot;\n            android:textColor=&quot;#640873&quot;\n            android:textSize=&quot;18dp&quot;\n            android:textStyle=&quot;bold&quot;/&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I have seen plenty of similiar post but and i tried to learn from them but it doesnt resonate within me. I truly do not understand why this error is thrown in line 75 which is this one:</p>\n<pre><code>tv= nav.getHeaderView(0).findViewById(R.id.tvusername);\n</code></pre>\n<p>And Line 61 which is this one: (probably because the error first comes from within the method)</p>\n<pre><code>init();\n</code></pre>\n<p>I can imagine that the error is pretty obvious and im just unable to see it :D\nThanks alot!</p>\n<p>If i have to provide any more information please let me know, this is my first posts on here.</p>\n<p>I am trying to assign a ressource id to TextView tv;\nAnd i am getting the error:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View android.view.View.findViewById(int)' on a null object reference\n                                                                                                        at com.example.app.HomeActivity.init(HomeActivity.java:75)\n                                                                                                        at com.example.app.HomeActivity.onCreate(HomeActivity.java:61)\n</code></pre>\n<p>I am not sure why its not working and where the error seems to be</p>\n"},{"tags":["java","selenium-grid","qaf"],"owner":{"account_id":28787216,"reputation":1,"user_id":22047438,"display_name":"Shravan Jessu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686310120,"creation_date":1686310120,"question_id":76439792,"body_markdown":"I&#39;m executing tests in selenium HQ with few capabilities, even though the capabilities are correct few times instead of selecting browser based on the capability&#39;s client send it is attempting the tests in a different browser. The actual capability after driver gets created are with a different browser than what client requested for.\r\n\r\nThe redirecting of browser is happening after connection to selenium hq is happened. So, I&#39;m thinking it&#39;s not our code issue because the same code works fine at times. but when we run multiple tests (capabilities client passes looks good) instead of desired browser other browser is being set for execution. And getting hung from there.\r\n\r\nWhen execution started with on Selenium HQ remote Microsoft Edge browser, test should start on the same browser. Could someone please assist with this?","title":"Execution on Selenium HQ Remote browser redirecting to a different than requested","body":"<p>I'm executing tests in selenium HQ with few capabilities, even though the capabilities are correct few times instead of selecting browser based on the capability's client send it is attempting the tests in a different browser. The actual capability after driver gets created are with a different browser than what client requested for.</p>\n<p>The redirecting of browser is happening after connection to selenium hq is happened. So, I'm thinking it's not our code issue because the same code works fine at times. but when we run multiple tests (capabilities client passes looks good) instead of desired browser other browser is being set for execution. And getting hung from there.</p>\n<p>When execution started with on Selenium HQ remote Microsoft Edge browser, test should start on the same browser. Could someone please assist with this?</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686233672,"post_id":76432757,"comment_id":134773594,"body_markdown":"You&#39;ll need to create some thread-safe way to collect those requests, executes a query every so often, then lets the callers know their answer is ready. Such a system can be designed in many ways, which is why I voted to close as Too broad.","body":"You&#39;ll need to create some thread-safe way to collect those requests, executes a query every so often, then lets the callers know their answer is ready. Such a system can be designed in many ways, which is why I voted to close as Too broad."},{"owner":{"account_id":3779737,"reputation":572,"user_id":3139567,"display_name":"Goikiu"},"score":0,"creation_date":1686239399,"post_id":76432757,"comment_id":134774938,"body_markdown":"A solution may also be to put all the request in a database and have a scheduled job that run each X time and collect a lot of request from db to be taken and worked. Needs other hacks also.","body":"A solution may also be to put all the request in a database and have a scheduled job that run each X time and collect a lot of request from db to be taken and worked. Needs other hacks also."}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686310094,"creation_date":1686310094,"answer_id":76439789,"question_id":76432757,"body_markdown":"Well, there are multiple possible solutions, however, anyway the general approach is to store requests in a thread-safe manner; schedule a job in a separate thread at a desired rate capable of bulk load stored data; notify a request handler in some way when bulk load is complete.\r\n\r\nIn some more details it could be done as follows:\r\n1. For each request create a `CompletableFuture` and put in along with received data in an a thread-safe collection. For example, `ArrayBlockingQueue&lt;DataAndFutureContainer&gt;` or `ConcurrentHashMap&lt;DataToLoad, CompletableFuture&gt;`\r\n2. Schedule a job at a desired rate via `@Scheduled` (if using Spring) or `Executors.newSingleThreadScheduledExecutor().scheduleAtFixedRate()` \r\n3. That job should retrieve (for example via `ArrayBlockingQueue.poll()` or `ConcurrentHashMap.remove()`) all data **available at the moment**, do bulk load (or whatever you want), and fulfil the related `CompletableFuture` via `.complete()` with result of bulk load (or whatever)\r\n4. Request handler, which have created that futures in step 1 waits on it by `future.get()`, thus gets the result of a bulk load.\r\n\r\nAlso, some optimisations is available depending on your framework. For example, with Spring you could return [DeferredResult][1] from request handler and use instead of `CompletableFuture`. If you are using Spring WebFlux, you could return `Mono.fromFuture()`\r\n\r\nThats a brief description of a approach, be careful in details.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-deferred-result","title":"REST Request from multiple clients, collect all requests per second basis, process them in bulk &amp; send response back to each clients","body":"<p>Well, there are multiple possible solutions, however, anyway the general approach is to store requests in a thread-safe manner; schedule a job in a separate thread at a desired rate capable of bulk load stored data; notify a request handler in some way when bulk load is complete.</p>\n<p>In some more details it could be done as follows:</p>\n<ol>\n<li>For each request create a <code>CompletableFuture</code> and put in along with received data in an a thread-safe collection. For example, <code>ArrayBlockingQueue&lt;DataAndFutureContainer&gt;</code> or <code>ConcurrentHashMap&lt;DataToLoad, CompletableFuture&gt;</code></li>\n<li>Schedule a job at a desired rate via <code>@Scheduled</code> (if using Spring) or <code>Executors.newSingleThreadScheduledExecutor().scheduleAtFixedRate()</code></li>\n<li>That job should retrieve (for example via <code>ArrayBlockingQueue.poll()</code> or <code>ConcurrentHashMap.remove()</code>) all data <strong>available at the moment</strong>, do bulk load (or whatever you want), and fulfil the related <code>CompletableFuture</code> via <code>.complete()</code> with result of bulk load (or whatever)</li>\n<li>Request handler, which have created that futures in step 1 waits on it by <code>future.get()</code>, thus gets the result of a bulk load.</li>\n</ol>\n<p>Also, some optimisations is available depending on your framework. For example, with Spring you could return <a href=\"https://www.baeldung.com/spring-deferred-result\" rel=\"nofollow noreferrer\">DeferredResult</a> from request handler and use instead of <code>CompletableFuture</code>. If you are using Spring WebFlux, you could return <code>Mono.fromFuture()</code></p>\n<p>Thats a brief description of a approach, be careful in details.</p>\n"}],"owner":{"account_id":6871209,"reputation":1370,"user_id":5281471,"accept_rate":100,"display_name":"SOWMITHRA KUMAR G M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439789,"answer_count":1,"score":0,"last_activity_date":1686310094,"creation_date":1686233563,"question_id":76432757,"body_markdown":"We are having a web server which receives 100s of client requests every seconds.\r\n\r\n1. Need to collect all REST request from clients per second basis. \r\n2. For collected requests, prepare bulk request to Elasticsearch &amp; get the response.\r\n3. Parse Elasticsearch response &amp; prepare individual responses for each REST clients.\r\n4. Send each response to REST clients.\r\n\r\nI can take care of Elasticsearch bulk request &amp; need help in creating a REST API which solves above stated problem.\r\n\r\nCurrently, for each client request, server is making a single Elasticsearch call would be very expensive and to avoid it, needed a solution.\r\n","title":"REST Request from multiple clients, collect all requests per second basis, process them in bulk &amp; send response back to each clients","body":"<p>We are having a web server which receives 100s of client requests every seconds.</p>\n<ol>\n<li>Need to collect all REST request from clients per second basis.</li>\n<li>For collected requests, prepare bulk request to Elasticsearch &amp; get the response.</li>\n<li>Parse Elasticsearch response &amp; prepare individual responses for each REST clients.</li>\n<li>Send each response to REST clients.</li>\n</ol>\n<p>I can take care of Elasticsearch bulk request &amp; need help in creating a REST API which solves above stated problem.</p>\n<p>Currently, for each client request, server is making a single Elasticsearch call would be very expensive and to avoid it, needed a solution.</p>\n"},{"tags":["java","oauth-2.0","playframework","google-drive-api","google-oauth"],"owner":{"account_id":21769145,"reputation":1,"user_id":16072500,"display_name":"George Middletown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686309850,"creation_date":1686309850,"question_id":76439756,"body_markdown":"Here is the method I wrote in Java:\r\n\r\n      public static String uploadToDrive(String directoryPath) throws IOException, GeneralSecurityException {\r\n\t    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n\t    Drive service = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n\t            .setApplicationName(APPLICATION_NAME)\r\n\t            .build();\r\n\r\n\t    // Create a new file.\r\n\t    File fileMetadata = new File();\r\n\t    fileMetadata.setName(&quot;My Spreadsheet&quot;);\r\n\t    fileMetadata.setMimeType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n\r\n\t    java.io.File filePath = new java.io.File(directoryPath);\r\n\t    FileContent mediaContent = new FileContent(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;, filePath);\r\n\t    File file = service.files().create(fileMetadata, mediaContent)\r\n\t            .setFields(&quot;id&quot;)\r\n\t            .execute();\r\n\r\n\t    // Share the file with the authorized user.\r\n\t    \r\n\t    String userEmail = service.about().get().setFields(&quot;user(emailAddress)&quot;).execute().getUser().getEmailAddress();\r\n\r\n\r\n\t    Permission userPermission = new Permission()\r\n\t            .setType(&quot;anyone&quot;)\r\n\t            .setRole(&quot;reader&quot;);\r\n\t    \r\n\t    service.permissions().create(file.getId(), userPermission).execute();\r\n\r\n\t    return &quot;https://docs.google.com/spreadsheets/d/&quot; + file.getId();\r\n\t}\r\n\r\nI want the file in the given path to be uploaded to Google Drive. The problem is that the file is uploaded to the account of the user in the credentials file. I want the file to be uploaded to the drive of the user authenticated in that browser session. How can I achieve this?","title":"Google Drive API upload file to the currently authenticated user on browser","body":"<p>Here is the method I wrote in Java:</p>\n<pre><code>  public static String uploadToDrive(String directoryPath) throws IOException, GeneralSecurityException {\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n    Drive service = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n            .setApplicationName(APPLICATION_NAME)\n            .build();\n\n    // Create a new file.\n    File fileMetadata = new File();\n    fileMetadata.setName(&quot;My Spreadsheet&quot;);\n    fileMetadata.setMimeType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\n\n    java.io.File filePath = new java.io.File(directoryPath);\n    FileContent mediaContent = new FileContent(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;, filePath);\n    File file = service.files().create(fileMetadata, mediaContent)\n            .setFields(&quot;id&quot;)\n            .execute();\n\n    // Share the file with the authorized user.\n    \n    String userEmail = service.about().get().setFields(&quot;user(emailAddress)&quot;).execute().getUser().getEmailAddress();\n\n\n    Permission userPermission = new Permission()\n            .setType(&quot;anyone&quot;)\n            .setRole(&quot;reader&quot;);\n    \n    service.permissions().create(file.getId(), userPermission).execute();\n\n    return &quot;https://docs.google.com/spreadsheets/d/&quot; + file.getId();\n}\n</code></pre>\n<p>I want the file in the given path to be uploaded to Google Drive. The problem is that the file is uploaded to the account of the user in the credentials file. I want the file to be uploaded to the drive of the user authenticated in that browser session. How can I achieve this?</p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler","scheduler"],"owner":{"account_id":25376019,"reputation":135,"user_id":19189151,"display_name":"Deepak Samria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1686309789,"creation_date":1686309789,"question_id":76439749,"body_markdown":"I got stuck in one problem about quartz schedular. Actually, the requirement is we have to schedule the job like monthly, half yearly and yearly. Now, the twist is we have to change the trigger time if the trigger time on any job falls on Holiday. So there are two thing, first we can schedule the job on next day and the other one to schedule on the job on previous day. I didn&#39;t find anything which can help me on this.\r\n\r\nIf my requirement is only to schdeule the job after the trigger day then it is pretty simple to write logic on the job itself. But we need to satisfy the previous day condition as well.\r\n\r\nIt would be great for me if anyone can help on this.","title":"Re-schedule the speific trigger of quartz job","body":"<p>I got stuck in one problem about quartz schedular. Actually, the requirement is we have to schedule the job like monthly, half yearly and yearly. Now, the twist is we have to change the trigger time if the trigger time on any job falls on Holiday. So there are two thing, first we can schedule the job on next day and the other one to schedule on the job on previous day. I didn't find anything which can help me on this.</p>\n<p>If my requirement is only to schdeule the job after the trigger day then it is pretty simple to write logic on the job itself. But we need to satisfy the previous day condition as well.</p>\n<p>It would be great for me if anyone can help on this.</p>\n"},{"tags":["java","spring-boot","kotlin","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686309281,"creation_date":1686309281,"answer_id":76439696,"question_id":76438998,"body_markdown":"&gt; I am confused where is the border between ValueObjects and Primitive types. \r\n\r\nFor information coming _into_ the system, where the information is represented as general purpose data structures, the usual guidance is to parse that information into a fit-for-purpose data structure as early as possible.\r\n\r\nBut as early as possible is a balance of trade-offs; on the one hand the sooner we wrap the data the longer we accrue the advantages of wrapping the data, but on the other hand we&#39;re introducing coupling.\r\n\r\nIn other words, we want to think about potential re-usability of parts that are coupled to a particular domain model.\r\n\r\nFor information _leaving_ the system, this is mostly about copying the information from the domain model&#39;s representation to a general purpose representation, and as a rule we don&#39;t normally need to worry about data constraints or parsing, so the advantages of the fit-for-purpose representation are reduced.\r\n\r\nIn the case of &quot;queries&quot;, we might never see the information in its domain representation at all -- there are plenty of cases where we might take the representation provided by our persistence store and copying it into an HTTP response without ever introducing a &quot;ValueObject&quot;.\r\n\r\nRecommended reading:\r\n\r\n- [Parse Don&#39;t Validate][1]\r\n- [At the Boundaries, Applications are not Object Oriented][2]\r\n\r\n\r\n  [1]: https://lexi-lambda.github.io/blog/2019/11/05/parse-don-t-validate/\r\n  [2]: https://blog.ploeh.dk/2011/05/31/AttheBoundaries,ApplicationsareNotObject-Oriented/","title":"Border between ValueObjects and Primitives - DDD and Clean Architecture","body":"<blockquote>\n<p>I am confused where is the border between ValueObjects and Primitive types.</p>\n</blockquote>\n<p>For information coming <em>into</em> the system, where the information is represented as general purpose data structures, the usual guidance is to parse that information into a fit-for-purpose data structure as early as possible.</p>\n<p>But as early as possible is a balance of trade-offs; on the one hand the sooner we wrap the data the longer we accrue the advantages of wrapping the data, but on the other hand we're introducing coupling.</p>\n<p>In other words, we want to think about potential re-usability of parts that are coupled to a particular domain model.</p>\n<p>For information <em>leaving</em> the system, this is mostly about copying the information from the domain model's representation to a general purpose representation, and as a rule we don't normally need to worry about data constraints or parsing, so the advantages of the fit-for-purpose representation are reduced.</p>\n<p>In the case of &quot;queries&quot;, we might never see the information in its domain representation at all -- there are plenty of cases where we might take the representation provided by our persistence store and copying it into an HTTP response without ever introducing a &quot;ValueObject&quot;.</p>\n<p>Recommended reading:</p>\n<ul>\n<li><a href=\"https://lexi-lambda.github.io/blog/2019/11/05/parse-don-t-validate/\" rel=\"nofollow noreferrer\">Parse Don't Validate</a></li>\n<li><a href=\"https://blog.ploeh.dk/2011/05/31/AttheBoundaries,ApplicationsareNotObject-Oriented/\" rel=\"nofollow noreferrer\">At the Boundaries, Applications are not Object Oriented</a></li>\n</ul>\n"}],"owner":{"display_name":"user19111862"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686309281,"creation_date":1686303199,"question_id":76438998,"body_markdown":"I am confused where is the border between ValueObjects and Primitive types.\r\nShould Application services takes as arguments ValueObjects or primitive types?\r\nSame in communication between Infrastructure adapters from Application services:\r\nFor e.g.:\r\n\r\nApplication Service/CQRS layer (Examples in kotlin - Spring boot application)\r\n```\r\ndata class RegisterNewUserCommand(\r\n    val username: String,\r\n    val rawPassword: String,\r\n    val email: String)\r\n```\r\nor\r\n```\r\ndata class RegisterNewUserCommand(\r\n    val username: Username,\r\n    val rawPassword: RawPassword,\r\n    val email: Email)\r\n```\r\n\r\nand Application Ports to communicate with Infrastructure Layer:\r\n```\r\ninterface CouponsRepository {\r\n    fun findByCode(couponCode: CouponCode): Coupon?\r\n}\r\n```\r\nor\r\n```\r\ninterface CouponsRepository {\r\n    fun findByCode(couponCode: String): Coupon?\r\n}\r\n```\r\n\r\nI tried to find some examples of code but there are no clear answer for my problem.\r\nFinal question is: Should Application (and Domain) layer operate only on ValueObjects and Entities? ","title":"Border between ValueObjects and Primitives - DDD and Clean Architecture","body":"<p>I am confused where is the border between ValueObjects and Primitive types.\nShould Application services takes as arguments ValueObjects or primitive types?\nSame in communication between Infrastructure adapters from Application services:\nFor e.g.:</p>\n<p>Application Service/CQRS layer (Examples in kotlin - Spring boot application)</p>\n<pre><code>data class RegisterNewUserCommand(\n    val username: String,\n    val rawPassword: String,\n    val email: String)\n</code></pre>\n<p>or</p>\n<pre><code>data class RegisterNewUserCommand(\n    val username: Username,\n    val rawPassword: RawPassword,\n    val email: Email)\n</code></pre>\n<p>and Application Ports to communicate with Infrastructure Layer:</p>\n<pre><code>interface CouponsRepository {\n    fun findByCode(couponCode: CouponCode): Coupon?\n}\n</code></pre>\n<p>or</p>\n<pre><code>interface CouponsRepository {\n    fun findByCode(couponCode: String): Coupon?\n}\n</code></pre>\n<p>I tried to find some examples of code but there are no clear answer for my problem.\nFinal question is: Should Application (and Domain) layer operate only on ValueObjects and Entities?</p>\n"},{"tags":["java","arrays","spring","spring-boot","byte"],"comments":[{"owner":{"account_id":15999524,"reputation":178,"user_id":11546605,"display_name":"Dominik21"},"score":0,"creation_date":1686309138,"post_id":76439185,"comment_id":134784494,"body_markdown":"Is there a need to load 5GB file into memory ? Save it, load as InputStream (or don&#39;t save and take inputstream from request) and read with buffer, or if it&#39;s character file, use java&#39;s built-in FileReader (or find inputstream parser for your use-case)","body":"Is there a need to load 5GB file into memory ? Save it, load as InputStream (or don&#39;t save and take inputstream from request) and read with buffer, or if it&#39;s character file, use java&#39;s built-in FileReader (or find inputstream parser for your use-case)"},{"owner":{"account_id":10323494,"reputation":7,"user_id":7615629,"display_name":"CoderAkki"},"score":0,"creation_date":1686312491,"post_id":76439185,"comment_id":134785158,"body_markdown":"Only issue with streaming is it will hold on to the instance and might not work in concurrent request or microservice architecture","body":"Only issue with streaming is it will hold on to the instance and might not work in concurrent request or microservice architecture"},{"owner":{"account_id":15999524,"reputation":178,"user_id":11546605,"display_name":"Dominik21"},"score":0,"creation_date":1686326653,"post_id":76439185,"comment_id":134788337,"body_markdown":"What concurrent request do you mean ? when it comes to uploading file ? or microservice ? don&#39;t know how that is related. I think biggest issue here is that you want to hold 5 GB of data in memory. If your problem is architecture here, you might have done some bad decisions. Describing your exact use-case might be more explanatory","body":"What concurrent request do you mean ? when it comes to uploading file ? or microservice ? don&#39;t know how that is related. I think biggest issue here is that you want to hold 5 GB of data in memory. If your problem is architecture here, you might have done some bad decisions. Describing your exact use-case might be more explanatory"}],"answers":[{"tags":[],"owner":{"account_id":27994772,"reputation":111,"user_id":21380272,"display_name":"Dario Arena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686307629,"creation_date":1686307629,"answer_id":76439515,"question_id":76439185,"body_markdown":"I think this is not really a problem in Spring or in the ByteArray itself but it is a limitation of the java language itself. Historically the size of an array is tracked by an int value which is 32 bit so the maximum theoretical elements in an array could be 2^32 -1 ~= 2B elements. So, unfortunately, large files cannot be easily kept in memory to access them as a array of bytes. One solution could be to save them as a file on disk once they are uploaded and access their content via a Scanner or the NIO APIs (or with an external library such as Apache Commons I/O)","title":"Increase the size of byte array in Java","body":"<p>I think this is not really a problem in Spring or in the ByteArray itself but it is a limitation of the java language itself. Historically the size of an array is tracked by an int value which is 32 bit so the maximum theoretical elements in an array could be 2^32 -1 ~= 2B elements. So, unfortunately, large files cannot be easily kept in memory to access them as a array of bytes. One solution could be to save them as a file on disk once they are uploaded and access their content via a Scanner or the NIO APIs (or with an external library such as Apache Commons I/O)</p>\n"},{"tags":[],"owner":{"account_id":9716378,"reputation":1,"user_id":7206641,"display_name":"M. Mhlanga"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686308767,"creation_date":1686308767,"answer_id":76439646,"question_id":76439185,"body_markdown":"You might wanna look at this article: Spring and Apache FileUpload\r\n\r\n[Spring and Apache FileUpload][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-apache-file-upload","title":"Increase the size of byte array in Java","body":"<p>You might wanna look at this article: Spring and Apache FileUpload</p>\n<p><a href=\"https://www.baeldung.com/spring-apache-file-upload\" rel=\"nofollow noreferrer\">Spring and Apache FileUpload</a></p>\n"},{"tags":[],"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686309121,"creation_date":1686309121,"answer_id":76439680,"question_id":76439185,"body_markdown":"When dealing with large file uploads in Spring Boot, relying solely on in-memory storage may not be the most efficient approach. Uploading files of 2GB to 5GB can quickly exhaust the available memory and cause issues like the one you encountered.\r\n\r\nTo handle large file uploads in Spring Boot, it&#39;s recommended to use streaming techniques instead of storing the entire file in memory. One way to achieve this is by utilizing Spring&#39;s MultipartFile API combined with streaming libraries like Apache Commons IO or Java NIO.\r\n\r\nHere&#39;s an example of how you can handle large file uploads using streaming with Spring Boot:\r\n\r\nAdd the necessary dependencies to your project. For Apache Commons IO, you can include the following dependency in your pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n2. Modify your Spring controller to handle the file upload using streaming techniques. Instead of using file.getBytes(), you can process the file in chunks using a BufferedInputStream and write it to a temporary file or directly to a desired location.\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    @RestController\r\n    public class FileUploadController {\r\n    \r\n        @PostMapping(&quot;/upload&quot;)\r\n        public ResponseEntity&lt;String&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n            try (BufferedInputStream inputStream = new BufferedInputStream(file.getInputStream())) {\r\n                // Specify the desired location or create a temporary file\r\n                File outputFile = new File(&quot;/path/to/save/file.ext&quot;);\r\n    \r\n                try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\r\n                    // Buffer size for reading from input stream\r\n                    byte[] buffer = new byte[8192];\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                        outputStream.write(buffer, 0, bytesRead);\r\n                    }\r\n                }\r\n    \r\n                return ResponseEntity.ok(&quot;File uploaded successfully.&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error uploading file.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nBy using streaming techniques, you can avoid loading the entire file into memory and process it in smaller chunks, making it feasible to handle large file uploads in Spring Boot.","title":"Increase the size of byte array in Java","body":"<p>When dealing with large file uploads in Spring Boot, relying solely on in-memory storage may not be the most efficient approach. Uploading files of 2GB to 5GB can quickly exhaust the available memory and cause issues like the one you encountered.</p>\n<p>To handle large file uploads in Spring Boot, it's recommended to use streaming techniques instead of storing the entire file in memory. One way to achieve this is by utilizing Spring's MultipartFile API combined with streaming libraries like Apache Commons IO or Java NIO.</p>\n<p>Here's an example of how you can handle large file uploads using streaming with Spring Boot:</p>\n<p>Add the necessary dependencies to your project. For Apache Commons IO, you can include the following dependency in your pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>Modify your Spring controller to handle the file upload using streaming techniques. Instead of using file.getBytes(), you can process the file in chunks using a BufferedInputStream and write it to a temporary file or directly to a desired location.</p>\n<p>import org.apache.commons.io.IOUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;</p>\n<p>import java.io.BufferedInputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;</p>\n<p>@RestController\npublic class FileUploadController {</p>\n<pre><code> @PostMapping(&quot;/upload&quot;)\n public ResponseEntity&lt;String&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\n     try (BufferedInputStream inputStream = new BufferedInputStream(file.getInputStream())) {\n         // Specify the desired location or create a temporary file\n         File outputFile = new File(&quot;/path/to/save/file.ext&quot;);\n\n         try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\n             // Buffer size for reading from input stream\n             byte[] buffer = new byte[8192];\n             int bytesRead;\n             while ((bytesRead = inputStream.read(buffer)) != -1) {\n                 outputStream.write(buffer, 0, bytesRead);\n             }\n         }\n\n         return ResponseEntity.ok(&quot;File uploaded successfully.&quot;);\n     } catch (IOException e) {\n         e.printStackTrace();\n         return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error uploading file.&quot;);\n     }\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>By using streaming techniques, you can avoid loading the entire file into memory and process it in smaller chunks, making it feasible to handle large file uploads in Spring Boot.</p>\n"}],"owner":{"account_id":10323494,"reputation":7,"user_id":7615629,"display_name":"CoderAkki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686309121,"creation_date":1686304764,"question_id":76439185,"body_markdown":"I having a spring multipart controller, I am trying to upload files of 2GB - 5GB. Spring multipart resolves get the whole file in memory when i try to do file.getBytes() I get an error Required array length 2147483639 + 9 is too large. \r\n\r\nIt works well with file size of 2,147,483,647 bytes which is the max size of integer.\r\n\r\nAny way to increase the capacity of byte array or any other way to handle large file using spring boot.\r\n\r\nUsing Java 17 and Spring boot 3 so Commons fileupload is not supported as its using javax ","title":"Increase the size of byte array in Java","body":"<p>I having a spring multipart controller, I am trying to upload files of 2GB - 5GB. Spring multipart resolves get the whole file in memory when i try to do file.getBytes() I get an error Required array length 2147483639 + 9 is too large.</p>\n<p>It works well with file size of 2,147,483,647 bytes which is the max size of integer.</p>\n<p>Any way to increase the capacity of byte array or any other way to handle large file using spring boot.</p>\n<p>Using Java 17 and Spring boot 3 so Commons fileupload is not supported as its using javax</p>\n"},{"tags":["java","java-8","nio"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1686309171,"post_id":76439632,"comment_id":134784497,"body_markdown":"Please post, *as text* the name you want, and tell us what OS you&#39;re using, and the output of `System.out.println(java.nio.charset.Charset.defaultCharset());`","body":"Please post, <i>as text</i> the name you want, and tell us what OS you&#39;re using, and the output of <code>System.out.println(java.nio.charset.Charset.defaultCharset()&zwnj;&#8203;);</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1686309470,"post_id":76439632,"comment_id":134784541,"body_markdown":"I suggest that you post a [mcve]. Post code that calls method `addEntry`. Then post the result that you want to get after running method `addEntry` and also post the result that you are getting now.","body":"I suggest that you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Post code that calls method <code>addEntry</code>. Then post the result that you want to get after running method <code>addEntry</code> and also post the result that you are getting now."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686314903,"post_id":76439632,"comment_id":134785695,"body_markdown":"@Abra sorry, but I can&#39;t write code that run method `addEntry` here.","body":"@Abra sorry, but I can&#39;t write code that run method <code>addEntry</code> here."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686315130,"post_id":76439632,"comment_id":134785738,"body_markdown":"@g00se I use windows. The output of `System.out.println(java.nio.charset.Charset.defaultCharset());` is `UTF-8`","body":"@g00se I use windows. The output of <code>System.out.println(java.nio.charset.Charset.defaultCharset()&zwnj;&#8203;);</code> is <code>UTF-8</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686315249,"post_id":76439632,"comment_id":134785768,"body_markdown":"And the name as text is..?","body":"And the name as text is..?"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686317066,"post_id":76439632,"comment_id":134786176,"body_markdown":"@g00se _/test_тестовая_папка/test1.jpg_","body":"@g00se <i>/test_тестовая_папка/test1.jpg</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686321064,"post_id":76439632,"comment_id":134787127,"body_markdown":"OK. Why in fact are you using `FileSystems.newFileSystem`? Is it not your regular file system you want to use?","body":"OK. Why in fact are you using <code>FileSystems.newFileSystem</code>? Is it not your regular file system you want to use?"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686331792,"post_id":76439632,"comment_id":134789285,"body_markdown":"@g00se I use it because i download file. And when download this code create folder and parent folders for the file that i download. For example, in my UI i have folder _test_тестовая_папка_ and file in it _test1.jpg_. I click download on folder and then this code is executed. And folders was created on my computer as in the screen.","body":"@g00se I use it because i download file. And when download this code create folder and parent folders for the file that i download. For example, in my UI i have folder <i>test_тестовая_папка</i> and file in it <i>test1.jpg</i>. I click download on folder and then this code is executed. And folders was created on my computer as in the screen."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686332600,"post_id":76439632,"comment_id":134789430,"body_markdown":"Apologies for no formatting in comments, but why not just: `public static void saveInputStreamAsFile(Path targetDir, InputStream in, String fileName) throws IOException {Path target = Path.of(targetDir.toString(), fileName);Files.copy(in, target);}` ?","body":"Apologies for no formatting in comments, but why not just: <code>public static void saveInputStreamAsFile(Path targetDir, InputStream in, String fileName) throws IOException {Path target = Path.of(targetDir.toString(), fileName);Files.copy(in, target);}</code> ?"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686565944,"post_id":76439632,"comment_id":134811044,"body_markdown":"@g00se actually, I download a folder with files. So, if I have _/test_dir/test1.img_,  _/test_dir/test2.img_, I click download on _test_dir_, I should get on my computer dir with name  _test_dir_ and 2 files in it.","body":"@g00se actually, I download a folder with files. So, if I have <i>/test_dir/test1.img</i>,  <i>/test_dir/test2.img</i>, I click download on <i>test_dir</i>, I should get on my computer dir with name  <i>test_dir</i> and 2 files in it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686567857,"post_id":76439632,"comment_id":134811430,"body_markdown":"Well it&#39;s pretty easy to fix up what I gave you to cope with that","body":"Well it&#39;s pretty easy to fix up what I gave you to cope with that"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686574054,"post_id":76439632,"comment_id":134812789,"body_markdown":"@g00se is copy create folder too? I mean if I have _/test_1/test_2/test_3/test.png_ and on my computer I don&#39;t have any of this folder, will I have them all after use method `copy`?","body":"@g00se is copy create folder too? I mean if I have <i>/test_1/test_2/test_3/test.png</i> and on my computer I don&#39;t have any of this folder, will I have them all after use method <code>copy</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686576085,"post_id":76439632,"comment_id":134813299,"body_markdown":"It’s impossible to match your code with the task you’re describing in the comments. This code doesn’t “download a folder with files”. It receives *a single `InputStream`* as input. Then, it creates a new filesystem at `_uri`. It’s still not clear why or what `_uri` is pointing to.","body":"It’s impossible to match your code with the task you’re describing in the comments. This code doesn’t “download a folder with files”. It receives <i>a single <code>InputStream</code></i> as input. Then, it creates a new filesystem at <code>_uri</code>. It’s still not clear why or what <code>_uri</code> is pointing to."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686576560,"post_id":76439632,"comment_id":134813413,"body_markdown":"You can make this the first line of the code I gave you: `if (!Files.exists(targetDir)) { Files.createDirectories(targetDir); }`","body":"You can make this the first line of the code I gave you: <code>if (!Files.exists(targetDir)) { Files.createDirectories(targetDir); }</code>"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686633733,"post_id":76439632,"comment_id":134821842,"body_markdown":"@g00se I have this in my code. It works fine for English letters, but not correctly for Cyrillic letters.","body":"@g00se I have this in my code. It works fine for English letters, but not correctly for Cyrillic letters."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686633856,"post_id":76439632,"comment_id":134821855,"body_markdown":"@Holger uri - it is where my jar file is exist on server. So I get folder with file from server to my computer.","body":"@Holger uri - it is where my jar file is exist on server. So I get folder with file from server to my computer."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686640903,"post_id":76439632,"comment_id":134822918,"body_markdown":"So, this code is *running on the server* and *copying a file into a jar file*? And all the stuff about “download a folder with files” you’re talking about, is entirely irrelevant to this code? And we had to ask for five days, to eventually get the actual purpose of the code you have problems with?","body":"So, this code is <i>running on the server</i> and <i>copying a file into a jar file</i>? And all the stuff about “download a folder with files” you’re talking about, is entirely irrelevant to this code? And we had to ask for five days, to eventually get the actual purpose of the code you have problems with?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686645130,"post_id":76439632,"comment_id":134823716,"body_markdown":"If the main problem is that you are having difficulty creating a file/folder with Cyrillic letters, then you should be testing using code that&#39;s even simpler. Probably just the single line `Files.createDirectories(pathWithCyrillicName);`","body":"If the main problem is that you are having difficulty creating a file/folder with Cyrillic letters, then you should be testing using code that&#39;s even simpler. Probably just the single line <code>Files.createDirectories(pathWithCyrillicName);</code>"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686649141,"post_id":76439632,"comment_id":134824609,"body_markdown":"@g00se yes, if I did this code I get 1 directory with wrong name.","body":"@g00se yes, if I did this code I get 1 directory with wrong name."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686649192,"post_id":76439632,"comment_id":134824620,"body_markdown":"@g00se I use `zipfilesystem` proveder for create this directory.","body":"@g00se I use <code>zipfilesystem</code> proveder for create this directory."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686654052,"post_id":76439632,"comment_id":134825621,"body_markdown":"Out of interest, what is the value of system property `sun.jnu.encoding`? Obviously, a significant matter in your screenshot is that evidently paths with Cyrillic letters are fine as far as your OS is concerned, but one of them is looking very wrong. You should probably post *in your question* the one-liner we just discussed showing the problem of creating such a path. And possibly the result in the file manager as screenshot","body":"Out of interest, what is the value of system property <code>sun.jnu.encoding</code>? Obviously, a significant matter in your screenshot is that evidently paths with Cyrillic letters are fine as far as your OS is concerned, but one of them is looking very wrong. You should probably post <i>in your question</i> the one-liner we just discussed showing the problem of creating such a path. And possibly the result in the file manager as screenshot"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686658571,"post_id":76439632,"comment_id":134826611,"body_markdown":"You create a zip/jar file, add entries to it, transfer it to another computer, extract it there, to find that the *end result* is wrong and do *not* actually know which step in this chain causes the error. In fact, the lack of a binding standard regarding file name encoding in zip files implies that a disagreement between creator and extractor does not indicate an error on either side. The zip fs provider [supports specifying a name encoding](https://docs.oracle.com/en/java/javase/20/docs/api/jdk.zipfs/module-summary.html#zip-file-system-properties-heading) but you need to know which you need.","body":"You create a zip/jar file, add entries to it, transfer it to another computer, extract it there, to find that the <i>end result</i> is wrong and do <i>not</i> actually know which step in this chain causes the error. In fact, the lack of a binding standard regarding file name encoding in zip files implies that a disagreement between creator and extractor does not indicate an error on either side. The zip fs provider <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/jdk.zipfs/module-summary.html#zip-file-system-properties-heading\" rel=\"nofollow noreferrer\">supports specifying a name encoding</a> but you need to know which you need."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686661511,"post_id":76439632,"comment_id":134827334,"body_markdown":"That&#39;s all good @Holger, but seemingly we are being told that the simple `Files.createDirectories` is failing irrespective of zip files","body":"That&#39;s all good @Holger, but seemingly we are being told that the simple <code>Files.createDirectories</code> is failing irrespective of zip files"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686670514,"post_id":76439632,"comment_id":134829589,"body_markdown":"@g00se Are you sure that the OP tested whether `Files.createDirectories(…)` is “failing irrespective of zip files”? You seem to assume that when you say “simple”, the OP understands that you mean “with a `Path` belonging to the local filesystem rather than zip filesystem”.","body":"@g00se Are you sure that the OP tested whether <code>Files.createDirectories(…)</code> is “failing irrespective of zip files”? You seem to assume that when you say “simple”, the OP understands that you mean “with a <code>Path</code> belonging to the local filesystem rather than zip filesystem”."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686671872,"post_id":76439632,"comment_id":134829924,"body_markdown":"Yes, we&#39;d better check that. Please comment @AnnKont","body":"Yes, we&#39;d better check that. Please comment @AnnKont"}],"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"comment_count":25,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686308620,"creation_date":1686308620,"question_id":76439632,"body_markdown":"I want create directory with cyrillic name. But when I did it, I get normal folder and folder with not correct name.\r\nHow I can fix it? I need only 1 folder with correct name.\r\n\r\n```\r\n public void addEntry(String name, InputStream inputStream)\r\n    throws IOException {\r\n\r\n    if (inputStream == null) {\r\n      return;\r\n    }\r\n\r\n    try (FileSystem fileSystem = FileSystems.newFileSystem(\r\n        _uri, Collections.emptyMap())) {\r\n\r\n      Path path = fileSystem.getPath(name);\r\n\r\n      Path parentPath = path.getParent();\r\n\r\n      if (parentPath != null) {\r\n        Files.createDirectories(parentPath); //here is creating \r\n      }\r\n\r\n      Files.copy(inputStream, path, StandardCopyOption.REPLACE_EXISTING);\r\n    }\r\n  }\r\n```\r\n\r\n[![2 folders][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G2W61.jpg","title":"java nio create directory cyrillic name","body":"<p>I want create directory with cyrillic name. But when I did it, I get normal folder and folder with not correct name.\nHow I can fix it? I need only 1 folder with correct name.</p>\n<pre><code> public void addEntry(String name, InputStream inputStream)\n    throws IOException {\n\n    if (inputStream == null) {\n      return;\n    }\n\n    try (FileSystem fileSystem = FileSystems.newFileSystem(\n        _uri, Collections.emptyMap())) {\n\n      Path path = fileSystem.getPath(name);\n\n      Path parentPath = path.getParent();\n\n      if (parentPath != null) {\n        Files.createDirectories(parentPath); //here is creating \n      }\n\n      Files.copy(inputStream, path, StandardCopyOption.REPLACE_EXISTING);\n    }\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G2W61.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G2W61.jpg\" alt=\"2 folders\" /></a></p>\n"},{"tags":["java","spring","spring-boot","jakarta-migration"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1686153875,"post_id":76424906,"comment_id":134761167,"body_markdown":"Look closer at this part in your stack trace `spring-plugin-core-2.0.0.RELEASE`. It is indeed not remotely related to Swagger and SpringFox.","body":"Look closer at this part in your stack trace <code>spring-plugin-core-2.0.0.RELEASE</code>. It is indeed not remotely related to Swagger and SpringFox."},{"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"score":0,"creation_date":1686218922,"post_id":76424906,"comment_id":134770248,"body_markdown":"@BalusC , Got that, But you can also see that I have the Spring Core 6.0.6 Jar, Hope you&#39;ve noticed it. Looked for Spring Plugin Jar why its being 2.0.0 even if I have Spring Core 6, Spring Boot 3+ etc. Could you please provide some solution to this?","body":"@BalusC , Got that, But you can also see that I have the Spring Core 6.0.6 Jar, Hope you&#39;ve noticed it. Looked for Spring Plugin Jar why its being 2.0.0 even if I have Spring Core 6, Spring Boot 3+ etc. Could you please provide some solution to this?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1686219020,"post_id":76424906,"comment_id":134770258,"body_markdown":"Sorry, I don&#39;t do Spring. First step for you would be to carefully check dependency tree.","body":"Sorry, I don&#39;t do Spring. First step for you would be to carefully check dependency tree."}],"answers":[{"tags":[],"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686220226,"creation_date":1686220226,"answer_id":76430942,"question_id":76424906,"body_markdown":"The solution to fix the problem would be to add javax.servlet api dependency , But still the question remains as to what might have caused Spring Boot 6 jar to look out for javax namespace instead of Jakarta namespace!!!.\r\n\r\nHere is the solution , [link][1]\r\n\r\n\r\n  [1]: https://howtodoinjava.com/java/exception-handling/solved-the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build-path-in-eclipse/","title":"Getting java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present in Spring boot latest migrated application","body":"<p>The solution to fix the problem would be to add javax.servlet api dependency , But still the question remains as to what might have caused Spring Boot 6 jar to look out for javax namespace instead of Jakarta namespace!!!.</p>\n<p>Here is the solution , <a href=\"https://howtodoinjava.com/java/exception-handling/solved-the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build-path-in-eclipse/\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76430942,"answer_count":1,"score":0,"last_activity_date":1686308601,"creation_date":1686151798,"question_id":76424906,"body_markdown":"I have recently started the migration of our application from Spring Web version 5.x.x to 6.0.6 \r\nIt progressively took to upgrade of Java 8 to 17 and Spring Boot version 2.x.x to 3 and  which are the necessary libraries for this upgrade to be successful\r\n\r\nAnd in such process I have resolved many errors with help of beautiful platforms like Stackoverflow, Spring docs and many wonderful bloggers sites. However I am stumbled upon this as to why this contradictory behaviour is happening where as spring docs apparently says [here][1] that spring core has migrated from javax to Jakarta namespace. \r\n\r\nNow I am getting this exception. My question is why is still Spring Core(6.0) library referring to javax namespace when it says in documentation it refers to Jakarta namespace, where it must have referred to this \r\n\r\n&gt; jakarta.servlet.http.HttpServletRequest\r\n\r\nHere&#39;s the exception. \r\n&gt; java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present\r\n\tat sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[?:?]\r\n\tat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[?:?]\r\n\tat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[?:?]\r\n\tat sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[?:?]\r\n\tat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[?:?]\r\n\tat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[?:?]\r\n\tat sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[?:?]\r\n\tat sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[?:?]\r\n\tat java.lang.Class.getGenericInterfaces(Class.java:1211) ~[?:?]\r\n\tat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:500) ~[spring-core-6.0.6.jar:6.0.6]\r\n\tat org.springframework.core.ResolvableType.as(ResolvableType.java:448) ~[spring-core-6.0.6.jar:6.0.6]\r\n\tat org.springframework.core.ResolvableType.forClass(ResolvableType.java:1048) ~[spring-core-6.0.6.jar:6.0.6]\r\n\tat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.getTargetType(PluginRegistriesBeanDefinitionRegistrar.java:101) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n\tat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.registerBeanDefinitions(PluginRegistriesBeanDefinitionRegistrar.java:71) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n\tat org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\r\n\r\nCan someone elaborate, why this might be happening why the latest core library is referring to old javax HttpServletRequest??\r\n\r\nI have already gone through relevant questions, But they don&#39;t answer my query to the point and they talk about Swagger and SpringFox dependency fixes!! Check [here][2] an example.\r\n\r\n  \r\n\r\n\r\n  [1]: https://spring.io/blog/2022/11/16/spring-framework-6-0-goes-ga\r\n  [2]: https://stackoverflow.com/questions/75718156/type-javax-servlet-http-httpservletrequest-not-present-how-to-solve-this-in-spri","title":"Getting java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present in Spring boot latest migrated application","body":"<p>I have recently started the migration of our application from Spring Web version 5.x.x to 6.0.6\nIt progressively took to upgrade of Java 8 to 17 and Spring Boot version 2.x.x to 3 and  which are the necessary libraries for this upgrade to be successful</p>\n<p>And in such process I have resolved many errors with help of beautiful platforms like Stackoverflow, Spring docs and many wonderful bloggers sites. However I am stumbled upon this as to why this contradictory behaviour is happening where as spring docs apparently says <a href=\"https://spring.io/blog/2022/11/16/spring-framework-6-0-goes-ga\" rel=\"nofollow noreferrer\">here</a> that spring core has migrated from javax to Jakarta namespace.</p>\n<p>Now I am getting this exception. My question is why is still Spring Core(6.0) library referring to javax namespace when it says in documentation it refers to Jakarta namespace, where it must have referred to this</p>\n<blockquote>\n<p>jakarta.servlet.http.HttpServletRequest</p>\n</blockquote>\n<p>Here's the exception.</p>\n<blockquote>\n<p>java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present\nat sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[?:?]\nat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[?:?]\nat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[?:?]\nat sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[?:?]\nat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[?:?]\nat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[?:?]\nat sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[?:?]\nat sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[?:?]\nat java.lang.Class.getGenericInterfaces(Class.java:1211) ~[?:?]\nat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:500) ~[spring-core-6.0.6.jar:6.0.6]\nat org.springframework.core.ResolvableType.as(ResolvableType.java:448) ~[spring-core-6.0.6.jar:6.0.6]\nat org.springframework.core.ResolvableType.forClass(ResolvableType.java:1048) ~[spring-core-6.0.6.jar:6.0.6]\nat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.getTargetType(PluginRegistriesBeanDefinitionRegistrar.java:101) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.registerBeanDefinitions(PluginRegistriesBeanDefinitionRegistrar.java:71) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nat org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-6.0.6.jar:6.0.6]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373) ~[spring-context-6.0.6.jar:6.0.6]\nat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]</p>\n</blockquote>\n<p>Can someone elaborate, why this might be happening why the latest core library is referring to old javax HttpServletRequest??</p>\n<p>I have already gone through relevant questions, But they don't answer my query to the point and they talk about Swagger and SpringFox dependency fixes!! Check <a href=\"https://stackoverflow.com/questions/75718156/type-javax-servlet-http-httpservletrequest-not-present-how-to-solve-this-in-spri\">here</a> an example.</p>\n"},{"tags":["java","gradle","testing","automated-tests","junit5"],"answers":[{"tags":[],"owner":{"account_id":9431,"reputation":9825,"user_id":17428,"accept_rate":80,"display_name":"Eduard Wirch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686308478,"creation_date":1686308478,"answer_id":76439618,"question_id":75669754,"body_markdown":"Since your build failed, you cannot be sure the report was generated. You could be looking at a stale report of a previous run.","title":"Gradle Test report is giving incorrect duration in Test Summary","body":"<p>Since your build failed, you cannot be sure the report was generated. You could be looking at a stale report of a previous run.</p>\n"}],"owner":{"account_id":14399098,"reputation":952,"user_id":10401397,"display_name":"O_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686308478,"creation_date":1678254415,"question_id":75669754,"body_markdown":"Can someone help me with fixing duration of Test Summary for gradle test report. When I run tests, the gradle report gives incorrect test duration information. In console, I can see that gradle test task took 1m 35s(the correct execution time), but the report says 13min 26 seconds. \r\nP.S I am running tests in parallel mode using gradle test --parallel command\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nyAJ9.png","title":"Gradle Test report is giving incorrect duration in Test Summary","body":"<p>Can someone help me with fixing duration of Test Summary for gradle test report. When I run tests, the gradle report gives incorrect test duration information. In console, I can see that gradle test task took 1m 35s(the correct execution time), but the report says 13min 26 seconds.\nP.S I am running tests in parallel mode using gradle test --parallel command\n<a href=\"https://i.stack.imgur.com/nyAJ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nyAJ9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","oracle","jpa","jdbc","spring-batch"],"comments":[{"owner":{"account_id":7089996,"reputation":319,"user_id":5425515,"display_name":"nabeel"},"score":0,"creation_date":1446822706,"post_id":33569623,"comment_id":54917618,"body_markdown":"looks OS IP layer or firewall or network device that detects inactive connections for more than specific time and force closes them..\nSo either to configure your connection pool to close idle connections before that network layer does it, or configure &quot;keep alive&quot; in it.","body":"looks OS IP layer or firewall or network device that detects inactive connections for more than specific time and force closes them.. So either to configure your connection pool to close idle connections before that network layer does it, or configure &quot;keep alive&quot; in it."},{"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"score":0,"creation_date":1446822965,"post_id":33569623,"comment_id":54917784,"body_markdown":"thank you for your answer. could you please help me how to configure this in my case ?","body":"thank you for your answer. could you please help me how to configure this in my case ?"},{"owner":{"account_id":7089996,"reputation":319,"user_id":5425515,"display_name":"nabeel"},"score":0,"creation_date":1446824681,"post_id":33569623,"comment_id":54918926,"body_markdown":"i&#39;m not sure i can help since i never done that, but is this connection (user/pass@url) working for other processes ? or exception occurs only after some time ?","body":"i&#39;m not sure i can help since i never done that, but is this connection (user/pass@url) working for other processes ? or exception occurs only after some time ?"},{"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"score":0,"creation_date":1446825076,"post_id":33569623,"comment_id":54919170,"body_markdown":"this exception happens only for batches. I could connect easly to database when I deploy my web application","body":"this exception happens only for batches. I could connect easly to database when I deploy my web application"},{"owner":{"account_id":7089996,"reputation":319,"user_id":5425515,"display_name":"nabeel"},"score":0,"creation_date":1446826815,"post_id":33569623,"comment_id":54920243,"body_markdown":"why do you have &quot;/old3804a&quot; at the end of the url ? after look at it again and at the exception, your process not able to connect so issue in configurations","body":"why do you have &quot;/old3804a&quot; at the end of the url ? after look at it again and at the exception, your process not able to connect so issue in configurations"},{"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"score":0,"creation_date":1446826916,"post_id":33569623,"comment_id":54920301,"body_markdown":"it is the url we use to connect to database. This is not the cause of the issue.","body":"it is the url we use to connect to database. This is not the cause of the issue."}],"answers":[{"tags":[],"owner":{"account_id":7089996,"reputation":319,"user_id":5425515,"display_name":"nabeel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446835665,"creation_date":1446835665,"answer_id":33573596,"question_id":33569623,"body_markdown":"might be missing the &quot;//&quot; in the Service Name format ?\r\n\r\n\r\nOracle JDBC Thin Driver Formats\r\n\r\n\r\nOracle JDBC Thin using a Service Name:\r\n\r\n\r\n    jdbc:oracle:thin:@//&lt;host&gt;:&lt;port&gt;/&lt;service_name&gt;\r\n    \r\n    Example: jdbc:oracle:thin:@//192.168.2.1:1521/XE\r\n\r\nOracle JDBC Thin using an SID:\r\n\r\n    jdbc:oracle:thin:@&lt;host&gt;:&lt;port&gt;:&lt;SID&gt;\r\n    \r\n    Example: jdbc:oracle:thin:192.168.2.1:1521:X01A\r\n\r\nNote: Support for SID is being phased out. Oracle recommends that users switch over to using service names.\r\n\r\n\r\nOracle JDBC Thin using a TNSName:\r\n\r\n    jdbc:oracle:thin:@&lt;TNSName&gt;\r\n    \r\n    Example: jdbc:oracle:thin:@GL\r\n\r\nNote: Support for TNSNames was added in the driver release 10.2.0.1 \r\n\r\n","title":"oracle.net.ns.NetException: Socket read timed out","body":"<p>might be missing the \"//\" in the Service Name format ?</p>\n\n<p>Oracle JDBC Thin Driver Formats</p>\n\n<p>Oracle JDBC Thin using a Service Name:</p>\n\n<pre><code>jdbc:oracle:thin:@//&lt;host&gt;:&lt;port&gt;/&lt;service_name&gt;\n\nExample: jdbc:oracle:thin:@//192.168.2.1:1521/XE\n</code></pre>\n\n<p>Oracle JDBC Thin using an SID:</p>\n\n<pre><code>jdbc:oracle:thin:@&lt;host&gt;:&lt;port&gt;:&lt;SID&gt;\n\nExample: jdbc:oracle:thin:192.168.2.1:1521:X01A\n</code></pre>\n\n<p>Note: Support for SID is being phased out. Oracle recommends that users switch over to using service names.</p>\n\n<p>Oracle JDBC Thin using a TNSName:</p>\n\n<pre><code>jdbc:oracle:thin:@&lt;TNSName&gt;\n\nExample: jdbc:oracle:thin:@GL\n</code></pre>\n\n<p>Note: Support for TNSNames was added in the driver release 10.2.0.1 </p>\n"},{"tags":[],"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447171074,"creation_date":1447171074,"answer_id":33634196,"question_id":33569623,"body_markdown":"I resolved the problem. I was using the bad JRE version. I used jdk1.7 instead of WASD8 JRE. To do this change, you must go to run configuration --&gt; JRE --&gt; tick &#39;Alternate JRE&#39; and choose in the list WASD8 JRE (maybe in your case it should be diffrent)","title":"oracle.net.ns.NetException: Socket read timed out","body":"<p>I resolved the problem. I was using the bad JRE version. I used jdk1.7 instead of WASD8 JRE. To do this change, you must go to run configuration --> JRE --> tick 'Alternate JRE' and choose in the list WASD8 JRE (maybe in your case it should be diffrent)</p>\n"},{"tags":[],"owner":{"account_id":1007051,"reputation":477,"user_id":1020512,"display_name":"Kambaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686307909,"creation_date":1686307909,"answer_id":76439555,"question_id":33569623,"body_markdown":"these errors are most likely about connection problems, usually wrong/missing configuration, dependency or network connection, which can be fixed. But just fyi, for anyone who had an exception like this: \r\n\r\n`Error oracle.net.ns.NetException: Undefined Error`\r\n\r\nafter some googling, it is some issue about directory or OS username containing spaces, it turned out that you had to enter this JVM argument: \r\n\r\n`-Duser.name=somenamewithoutspaces`\r\n\r\nAfter that it worked.\r\nFound [this][1] comment: \r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/DBE-9823/Oracle-JDBC-driver-doesnt-work-when-username-contains-non-ascii-characters-IO-Error-Undefined-Error-oracle.net.ns.NetException#focus=Comments-27-3912478.0-0","title":"oracle.net.ns.NetException: Socket read timed out","body":"<p>these errors are most likely about connection problems, usually wrong/missing configuration, dependency or network connection, which can be fixed. But just fyi, for anyone who had an exception like this:</p>\n<p><code>Error oracle.net.ns.NetException: Undefined Error</code></p>\n<p>after some googling, it is some issue about directory or OS username containing spaces, it turned out that you had to enter this JVM argument:</p>\n<p><code>-Duser.name=somenamewithoutspaces</code></p>\n<p>After that it worked.\nFound <a href=\"https://youtrack.jetbrains.com/issue/DBE-9823/Oracle-JDBC-driver-doesnt-work-when-username-contains-non-ascii-characters-IO-Error-Undefined-Error-oracle.net.ns.NetException#focus=Comments-27-3912478.0-0\" rel=\"nofollow noreferrer\">this</a> comment:</p>\n"}],"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23380,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686307909,"creation_date":1446822004,"question_id":33569623,"body_markdown":"I have this error after executing my batch :\r\n\r\n    2015-11-06 15:45:32,179 [SchemaValidator                         ] ERROR | could not get database metadata\r\n    java.sql.SQLRecoverableException: Erreur d&#39;E/S: Socket read timed out\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:419)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:536)\r\n    \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:228)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:521)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:571)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:187)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)\r\n    \tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:149)\r\n    \tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)\r\n    \tat org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:46)\r\n    \tat org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:130)\r\n    \tat org.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:349)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1327)\r\n    \tat org.hibernate.cfg.AnnotationConfiguration.buildSessionFactory(AnnotationConfiguration.java:867)\r\n    \tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:669)\r\n    \tat org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:132)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:225)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:308)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:580)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\r\n    \tat org.springframework.batch.core.launch.support.CommandLineJobRunner.start(CommandLineJobRunner.java:282)\r\n    \tat org.springframework.batch.core.launch.support.CommandLineJobRunner.main(CommandLineJobRunner.java:574)\r\n    Caused by: oracle.net.ns.NetException: Socket read timed out\r\n    \tat oracle.net.ns.Packet.receive(Packet.java:321)\r\n    \tat oracle.net.ns.DataPacket.receive(DataPacket.java:103)\r\n    \tat oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:230)\r\n    \tat oracle.net.ns.NetInputStream.read(NetInputStream.java:175)\r\n    \tat oracle.net.ns.NetInputStream.read(NetInputStream.java:100)\r\n    \tat oracle.net.ns.Packet.extractData(Packet.java:423)\r\n    \tat oracle.net.ns.AcceptPacket.&lt;init&gt;(AcceptPacket.java:136)\r\n    \tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:312)\r\n    \tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1054)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:308)\r\n\r\nThis my DB configuration from a .properties :\r\n\r\n    batch.jdbc.driver=oracle.jdbc.driver.OracleDriver\r\n    batch.jdbc.url=jdbc:oracle:thin:@*********:****/*****\r\n    batch.jdbc.user=*****\r\n    batch.jdbc.pwd=*****\r\nand this is the config.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \thttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;dataSourceCredentialsProvider&quot;\r\n    \t\tclass=&quot;com.natixis.sphinx.security.credentials.AlcasarCredentialsProvider&quot;&gt;\r\n    \t\t&lt;property name=&quot;ldapEntry&quot; value=&quot;${batch.jdbc.ldapEntry}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;application&quot; ref=&quot;application&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot;\r\n    \t\t\tvalue=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;${batch.jdbc.url}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${batch.jdbc.user}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${batch.jdbc.pwd}&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Transaction manager for a single JPA EntityManagerFactory (alternative to JTA) --&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot;\r\n    \t\t\tref=&quot;entityManagerFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Spring Configuration Entity Manager Factory --&gt;\r\n    \t&lt;bean id=&quot;entityManagerFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t\r\n    \t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n    \t\t\t&lt;bean\r\n    \t\t\t\tclass=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;jpaPropertyMap&quot;&gt;\r\n    \t\t\t&lt;map&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.cache.use_second_level_cache&quot;\r\n    \t\t\t\t\tvalue=&quot;true&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.cache.use_query_cache&quot;\r\n    \t\t\t\t\tvalue=&quot;true&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.cache.provider_class&quot;\r\n    \t\t\t\t\tvalue=&quot;net.sf.ehcache.hibernate.SingletonEhCacheProvider&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.use_sql_comments&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.format_sql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.dialect&quot;\r\n    \t\t\t\t\tvalue=&quot;org.hibernate.dialect.Oracle10gDialect&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;\r\n    \t\t\t\t\tvalue=&quot;false&quot; /&gt;\r\n    \t\t\t&lt;/map&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;namedParameterJdbcTemplate&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate&quot;&gt;\r\n    \t\t&lt;constructor-arg ref=&quot;template&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;template&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;!-- &lt;property name=&quot;fetchSize&quot; value=&quot;#{pageSize+1}&quot; /&gt; --&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    &lt;/beans&gt;\r\n\r\nActually I could access easily to our local web application, and I could see in logs the connection trace to DB, but it is not the case for the batch.\r\n\r\nWhat I notice in the logs before throwing the error, it get stuck some seconds at this log level : \r\n\r\n    2015-11-09 09:56:55,728 [DozerBeanMapper                         ] INFO  | Initializing a new instance of the dozer bean mapper.\r\n\r\nAnd after I have this :\r\n\r\n    2015-11-09 09:57:59,227 [JDBCExceptionReporter                   ] WARN  | SQL Error: 17002, SQLState: 08006\r\n    2015-11-09 09:57:59,227 [JDBCExceptionReporter                   ] ERROR | Erreur d&#39;E/S: Socket read timed out\r\n    2015-11-09 09:57:59,232 [CommandLineJobRunner                    ] ERROR | Job Terminated in error: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\r\n\r\nAny help ?","title":"oracle.net.ns.NetException: Socket read timed out","body":"<p>I have this error after executing my batch :</p>\n\n<pre><code>2015-11-06 15:45:32,179 [SchemaValidator                         ] ERROR | could not get database metadata\njava.sql.SQLRecoverableException: Erreur d'E/S: Socket read timed out\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:419)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:536)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:228)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:521)\n    at java.sql.DriverManager.getConnection(DriverManager.java:571)\n    at java.sql.DriverManager.getConnection(DriverManager.java:187)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:149)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)\n    at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:46)\n    at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)\n    at org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:130)\n    at org.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:349)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1327)\n    at org.hibernate.cfg.AnnotationConfiguration.buildSessionFactory(AnnotationConfiguration.java:867)\n    at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:669)\n    at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:132)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:225)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:308)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:580)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\n    at org.springframework.batch.core.launch.support.CommandLineJobRunner.start(CommandLineJobRunner.java:282)\n    at org.springframework.batch.core.launch.support.CommandLineJobRunner.main(CommandLineJobRunner.java:574)\nCaused by: oracle.net.ns.NetException: Socket read timed out\n    at oracle.net.ns.Packet.receive(Packet.java:321)\n    at oracle.net.ns.DataPacket.receive(DataPacket.java:103)\n    at oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:230)\n    at oracle.net.ns.NetInputStream.read(NetInputStream.java:175)\n    at oracle.net.ns.NetInputStream.read(NetInputStream.java:100)\n    at oracle.net.ns.Packet.extractData(Packet.java:423)\n    at oracle.net.ns.AcceptPacket.&lt;init&gt;(AcceptPacket.java:136)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:312)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1054)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:308)\n</code></pre>\n\n<p>This my DB configuration from a .properties :</p>\n\n<pre><code>batch.jdbc.driver=oracle.jdbc.driver.OracleDriver\nbatch.jdbc.url=jdbc:oracle:thin:@*********:****/*****\nbatch.jdbc.user=*****\nbatch.jdbc.pwd=*****\n</code></pre>\n\n<p>and this is the config.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:util=\"http://www.springframework.org/schema/util\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\"&gt;\n\n    &lt;bean id=\"dataSourceCredentialsProvider\"\n        class=\"com.natixis.sphinx.security.credentials.AlcasarCredentialsProvider\"&gt;\n        &lt;property name=\"ldapEntry\" value=\"${batch.jdbc.ldapEntry}\" /&gt;\n        &lt;property name=\"application\" ref=\"application\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\"\n            value=\"oracle.jdbc.driver.OracleDriver\" /&gt;\n        &lt;property name=\"url\" value=\"${batch.jdbc.url}\" /&gt;\n        &lt;property name=\"username\" value=\"${batch.jdbc.user}\" /&gt;\n        &lt;property name=\"password\" value=\"${batch.jdbc.pwd}\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Transaction manager for a single JPA EntityManagerFactory (alternative to JTA) --&gt;\n    &lt;bean id=\"transactionManager\"\n        class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\"\n            ref=\"entityManagerFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Spring Configuration Entity Manager Factory --&gt;\n    &lt;bean id=\"entityManagerFactory\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n\n        &lt;property name=\"jpaVendorAdapter\"&gt;\n            &lt;bean\n                class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"jpaPropertyMap\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"hibernate.cache.use_second_level_cache\"\n                    value=\"true\" /&gt;\n                &lt;entry key=\"hibernate.cache.use_query_cache\"\n                    value=\"true\" /&gt;\n                &lt;entry key=\"hibernate.cache.provider_class\"\n                    value=\"net.sf.ehcache.hibernate.SingletonEhCacheProvider\" /&gt;\n                &lt;entry key=\"hibernate.show_sql\" value=\"true\" /&gt;\n                &lt;entry key=\"hibernate.use_sql_comments\" value=\"false\" /&gt;\n                &lt;entry key=\"hibernate.format_sql\" value=\"false\" /&gt;\n                &lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"validate\" /&gt;\n                &lt;entry key=\"hibernate.dialect\"\n                    value=\"org.hibernate.dialect.Oracle10gDialect\" /&gt;\n                &lt;entry key=\"hibernate.temp.use_jdbc_metadata_defaults\"\n                    value=\"false\" /&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"namedParameterJdbcTemplate\"\n        class=\"org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate\"&gt;\n        &lt;constructor-arg ref=\"template\" /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"template\"\n        class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;!-- &lt;property name=\"fetchSize\" value=\"#{pageSize+1}\" /&gt; --&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Actually I could access easily to our local web application, and I could see in logs the connection trace to DB, but it is not the case for the batch.</p>\n\n<p>What I notice in the logs before throwing the error, it get stuck some seconds at this log level : </p>\n\n<pre><code>2015-11-09 09:56:55,728 [DozerBeanMapper                         ] INFO  | Initializing a new instance of the dozer bean mapper.\n</code></pre>\n\n<p>And after I have this :</p>\n\n<pre><code>2015-11-09 09:57:59,227 [JDBCExceptionReporter                   ] WARN  | SQL Error: 17002, SQLState: 08006\n2015-11-09 09:57:59,227 [JDBCExceptionReporter                   ] ERROR | Erreur d'E/S: Socket read timed out\n2015-11-09 09:57:59,232 [CommandLineJobRunner                    ] ERROR | Job Terminated in error: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n</code></pre>\n\n<p>Any help ?</p>\n"},{"tags":["java","android","scrollview","pinchzoom"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684933907,"creation_date":1684933907,"answer_id":76323923,"question_id":76323315,"body_markdown":"Your `ScrollView`&#39;s height can&#39;t be `wrap_content` - the whole point is to have a window that&#39;s smaller than its content, so the content can scroll up and down behind it. I&#39;m guessing you want a height of `match_parent` (so the scrollable area fills the screen) but you can make it any size you want, so long as it&#39;s not `wrap_content`. If you do that, it&#39;ll just expand off the bottom of the screen, and won&#39;t be scrollable (because it&#39;s the same size as its contents).\r\n\r\nI&#39;m assuming your `TextView`s handle re-laying out when you change their text size, but if not you might need to call `requestLayout()` on them","title":"Android studio : issue using Zoom &amp; scrollview together","body":"<p>Your <code>ScrollView</code>'s height can't be <code>wrap_content</code> - the whole point is to have a window that's smaller than its content, so the content can scroll up and down behind it. I'm guessing you want a height of <code>match_parent</code> (so the scrollable area fills the screen) but you can make it any size you want, so long as it's not <code>wrap_content</code>. If you do that, it'll just expand off the bottom of the screen, and won't be scrollable (because it's the same size as its contents).</p>\n<p>I'm assuming your <code>TextView</code>s handle re-laying out when you change their text size, but if not you might need to call <code>requestLayout()</code> on them</p>\n"}],"owner":{"account_id":28670002,"reputation":1,"user_id":21953250,"display_name":"Alain-Ren&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686307597,"creation_date":1684929754,"question_id":76323315,"body_markdown":"I use this code to pinch zoom screen then it works fine. But when i add scrollview in XML then scroll view works fine but pinch zoom screen doesn&#39;t work any more.\r\nactually i need both features\r\nmy question is how to use scrollview and pinch zoom in the same time because i really need scrollview ?\r\nThanks fo help\r\n\r\n```\r\n//Bellow is my java code Regle_du_jeu.java`\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\npackage com.yiking.openspirit.oracle_yi_king2;\r\n//zoom is working text field by text field - they are 4 of them\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.view.View;\r\nimport android.view.MotionEvent;\r\nimport android.widget.TextView;\r\n\r\npublic class Regle_du_jeu extends Activity implements View.OnTouchListener {\r\n\r\n    TextView text;TextView text1;TextView text2;\r\n    TextView text3;TextView text4;\r\n    TextView ScrollView;\r\n    final static float move = 200;\r\n    float ratio = 1.0f;\r\n    int bastDst;\r\n    float baseratio;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.regle_du_jeu);\r\n    \r\n        text1 = findViewById(R.id.regle_jeu1);\r\n        text1.setTextSize(ratio + 15);\r\n        text2 = findViewById(R.id.regle_jeu2);\r\n        text2.setTextSize(ratio + 15);\r\n        text3 = findViewById(R.id.regle_jeu3);\r\n        text3.setTextSize(ratio + 15);\r\n        text4 = findViewById(R.id.regle_jeu4);\r\n        text4.setTextSize(ratio + 15);\r\n    }\r\n    \r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        if (event.getPointerCount() == 2) {\r\n            int action = event.getAction();\r\n            int mainaction = action &amp; MotionEvent.ACTION_MASK;\r\n            if (mainaction == MotionEvent.ACTION_POINTER_DOWN) {\r\n                bastDst = getDistance(event);\r\n                baseratio = ratio;\r\n            } else {\r\n\r\n// if ACTION_POINTER_UP then after finding the distance\r\n// we will increase the text size by 15\r\nfloat scale = (getDistance(event) - bastDst) / move;\r\nfloat factor = (float) Math.pow(2, scale);\r\nratio = Math.min(1024.0f, Math.max(0.1f, baseratio \\* factor));\r\n//     text.setTextSize(ratio + 15);\r\ntext1.setTextSize(ratio + 15);\r\ntext2.setTextSize(ratio + 15);\r\ntext3.setTextSize(ratio + 15);\r\ntext4.setTextSize(ratio + 15);\r\n}\r\n}\r\nreturn true;\r\n}\r\n\r\n    // get distance between the touch event\r\n    private int getDistance(MotionEvent event) {\r\n        int dx = (int) (event.getX(0) - event.getX(1));\r\n        int dy = (int) (event.getY(0) - event.getY(1));\r\n        return (int) Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n    \r\n    @Override\r\n    public boolean onTouch(View v, MotionEvent event) {\r\n        return false;\r\n    }\r\n\r\n}\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nbelow is XML =\\&gt; regle_du_jeu.xml\r\n\r\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?\\&gt;\r\n\r\n   &lt;ScrollView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    style=&quot;@style/monlayout_blanc&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_gravity=&quot;left&quot;\r\n    android:background=&quot;#792B82&quot;\r\n    tools:context=&quot;com.yiking.openspirit.oracle_yi_king2.Regle_du_jeu&quot;\r\n    android:id=&quot;@+id/scrollView&quot;\r\n    \\&gt;\r\n\r\n    &lt;LinearLayout\r\n        style=&quot;@style/monlayout_blanc&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;left&quot;\r\n            &gt;              \r\n        &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                style=&quot;@style/titre_bleu&quot;\r\n                android:layout_height=&quot;20dp&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/regle_jeu_layout&quot;\r\n            &gt;\r\n            &lt;TextView\r\n                android:text=&quot;@string/m_expli2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;left&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:justificationMode=&quot;inter_word&quot;\r\n                style=&quot;@style/aff_std_gris_sp&quot;\r\n                android:id=&quot;@+id/regle_jeu1&quot;\r\n                /&gt;\r\n             &lt;TextView\r\n                android:text=&quot;@string/m_expli2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;left&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:justificationMode=&quot;inter_word&quot;\r\n                style=&quot;@style/aff_std_gris_sp&quot;\r\n                android:id=&quot;@+id/regle_jeu2&quot;\r\n                /&gt;\r\n             &lt;TextView\r\n                android:text=&quot;@string/m_expli2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;left&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:justificationMode=&quot;inter_word&quot;\r\n                style=&quot;@style/aff_std_gris_sp&quot;\r\n                android:id=&quot;@+id/regle_jeu3&quot;\r\n                /&gt;\r\n             &lt;TextView\r\n                android:text=&quot;@string/m_expli2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;left&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:justificationMode=&quot;inter_word&quot;\r\n                style=&quot;@style/aff_std_gris_sp&quot;\r\n                android:id=&quot;@+id/regle_jeu4&quot;\r\n                /&gt;\r\n          &lt;/LinearLayout&gt;\r\n\r\n```\r\n","title":"Android studio : issue using Zoom &amp; scrollview together","body":"<p>I use this code to pinch zoom screen then it works fine. But when i add scrollview in XML then scroll view works fine but pinch zoom screen doesn't work any more.\nactually i need both features\nmy question is how to use scrollview and pinch zoom in the same time because i really need scrollview ?\nThanks fo help</p>\n<pre><code>//Bellow is my java code Regle_du_jeu.java`\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\npackage com.yiking.openspirit.oracle_yi_king2;\n//zoom is working text field by text field - they are 4 of them\nimport android.app.Activity;\nimport android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.view.View;\nimport android.view.MotionEvent;\nimport android.widget.TextView;\n\npublic class Regle_du_jeu extends Activity implements View.OnTouchListener {\n\n    TextView text;TextView text1;TextView text2;\n    TextView text3;TextView text4;\n    TextView ScrollView;\n    final static float move = 200;\n    float ratio = 1.0f;\n    int bastDst;\n    float baseratio;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.regle_du_jeu);\n    \n        text1 = findViewById(R.id.regle_jeu1);\n        text1.setTextSize(ratio + 15);\n        text2 = findViewById(R.id.regle_jeu2);\n        text2.setTextSize(ratio + 15);\n        text3 = findViewById(R.id.regle_jeu3);\n        text3.setTextSize(ratio + 15);\n        text4 = findViewById(R.id.regle_jeu4);\n        text4.setTextSize(ratio + 15);\n    }\n    \n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        if (event.getPointerCount() == 2) {\n            int action = event.getAction();\n            int mainaction = action &amp; MotionEvent.ACTION_MASK;\n            if (mainaction == MotionEvent.ACTION_POINTER_DOWN) {\n                bastDst = getDistance(event);\n                baseratio = ratio;\n            } else {\n\n// if ACTION_POINTER_UP then after finding the distance\n// we will increase the text size by 15\nfloat scale = (getDistance(event) - bastDst) / move;\nfloat factor = (float) Math.pow(2, scale);\nratio = Math.min(1024.0f, Math.max(0.1f, baseratio \\* factor));\n//     text.setTextSize(ratio + 15);\ntext1.setTextSize(ratio + 15);\ntext2.setTextSize(ratio + 15);\ntext3.setTextSize(ratio + 15);\ntext4.setTextSize(ratio + 15);\n}\n}\nreturn true;\n}\n\n    // get distance between the touch event\n    private int getDistance(MotionEvent event) {\n        int dx = (int) (event.getX(0) - event.getX(1));\n        int dy = (int) (event.getY(0) - event.getY(1));\n        return (int) Math.sqrt(dx * dx + dy * dy);\n    }\n    \n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        return false;\n    }\n\n}\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nbelow is XML =\\&gt; regle_du_jeu.xml\n\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?\\&gt;\n\n   &lt;ScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    style=&quot;@style/monlayout_blanc&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_gravity=&quot;left&quot;\n    android:background=&quot;#792B82&quot;\n    tools:context=&quot;com.yiking.openspirit.oracle_yi_king2.Regle_du_jeu&quot;\n    android:id=&quot;@+id/scrollView&quot;\n    \\&gt;\n\n    &lt;LinearLayout\n        style=&quot;@style/monlayout_blanc&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;left&quot;\n            &gt;              \n        &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                style=&quot;@style/titre_bleu&quot;\n                android:layout_height=&quot;20dp&quot;\n                android:layout_gravity=&quot;center_vertical&quot;/&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/regle_jeu_layout&quot;\n            &gt;\n            &lt;TextView\n                android:text=&quot;@string/m_expli2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;left&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:justificationMode=&quot;inter_word&quot;\n                style=&quot;@style/aff_std_gris_sp&quot;\n                android:id=&quot;@+id/regle_jeu1&quot;\n                /&gt;\n             &lt;TextView\n                android:text=&quot;@string/m_expli2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;left&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:justificationMode=&quot;inter_word&quot;\n                style=&quot;@style/aff_std_gris_sp&quot;\n                android:id=&quot;@+id/regle_jeu2&quot;\n                /&gt;\n             &lt;TextView\n                android:text=&quot;@string/m_expli2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;left&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:justificationMode=&quot;inter_word&quot;\n                style=&quot;@style/aff_std_gris_sp&quot;\n                android:id=&quot;@+id/regle_jeu3&quot;\n                /&gt;\n             &lt;TextView\n                android:text=&quot;@string/m_expli2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;left&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:justificationMode=&quot;inter_word&quot;\n                style=&quot;@style/aff_std_gris_sp&quot;\n                android:id=&quot;@+id/regle_jeu4&quot;\n                /&gt;\n          &lt;/LinearLayout&gt;\n\n</code></pre>\n"},{"tags":["java","classloader","javadoc","java-11","java-9"],"owner":{"account_id":16136962,"reputation":11,"user_id":11649187,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686306908,"creation_date":1610470498,"question_id":65688394,"body_markdown":"I want to modify the Javadoc output, for this purpose I create a custom Doclet that reuse the default one and wrap DocletEnvironment in my proxy class that contains my custom filtering logic.\r\n\r\n**NOTE: java 11 javadoc API used**\r\n\r\nMy Doclet class:\r\n```\r\npublic class MyDoclet implements Doclet {\r\n    private final HtmlDoclet htmlDoclet;\r\n\r\n    public MyDoclet() {\r\n        htmlDoclet = new HtmlDoclet(this);\r\n    }\r\n\r\n    @Override\r\n    public boolean run(DocletEnvironment docEnv) {\r\n        var proxy = new DocletEnvironmentProxy(docEnv);\r\n        return htmlDoclet.run(proxy);\r\n    }\r\n\r\n//other code...\r\n}\r\n```    \r\nMy DocletEnvironment proxy class:\r\n``` \r\npublic class DocletEnvironmentProxy implements DocletEnvironment  {\r\n    public static final String TAG = &quot;peek_me&quot;;\r\n    private final DocletEnvironment environment;\r\n    private Set&lt;? extends Element&gt; filteredElements;\r\n\r\n    public DocletEnvironmentProxy(DocletEnvironment environment) {\r\n        this.environment = environment;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;? extends Element&gt; getIncludedElements() {\r\n        if (filteredElements == null) {\r\n            filteredElements = filterElements(environment.getIncludedElements());\r\n        }\r\n        return filteredElements;\r\n    }\r\n//other code...\r\n}\r\n```\r\n\r\nBut when I try to run it I get:\r\n*java.lang.ClassCastException: class mypackage.DocletEnvironmentProxy cannot be cast to class jdk.javadoc.internal.tool. DocEnvImpl (mypackage.DocletEnvironmentProxy is in unnamed module of loader java.net.URLClassLoader @3dfc5fb8; jdk.javadoc.internal.tool.DocEnvImpl is in module jdk.javadoc of loader &#39;app&#39;)*\r\n\r\nI found the [bug][1] related to it and interesting [comment][2] for it, which says &quot;this is not a recognized way to perform customization&quot; \r\n\r\nI spent a lot of time looking for the &quot;correct&quot; description of the customization approach but did not find anything related to it. Only some guides from Oracle on the basic [Doclet API][3] usages.\r\n\r\nMaybe someone knows where I can find the &quot;correct&quot; approach or already solved the Doclet customization issue?\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8224092\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8224092?focusedCommentId=14306030&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14306030\r\n  [3]: https://openjdk.java.net/groups/compiler/using-new-doclet.html","title":"How to customize Javadoc output for the Java 9+","body":"<p>I want to modify the Javadoc output, for this purpose I create a custom Doclet that reuse the default one and wrap DocletEnvironment in my proxy class that contains my custom filtering logic.</p>\n<p><strong>NOTE: java 11 javadoc API used</strong></p>\n<p>My Doclet class:</p>\n<pre><code>public class MyDoclet implements Doclet {\n    private final HtmlDoclet htmlDoclet;\n\n    public MyDoclet() {\n        htmlDoclet = new HtmlDoclet(this);\n    }\n\n    @Override\n    public boolean run(DocletEnvironment docEnv) {\n        var proxy = new DocletEnvironmentProxy(docEnv);\n        return htmlDoclet.run(proxy);\n    }\n\n//other code...\n}\n</code></pre>\n<p>My DocletEnvironment proxy class:</p>\n<pre><code>public class DocletEnvironmentProxy implements DocletEnvironment  {\n    public static final String TAG = &quot;peek_me&quot;;\n    private final DocletEnvironment environment;\n    private Set&lt;? extends Element&gt; filteredElements;\n\n    public DocletEnvironmentProxy(DocletEnvironment environment) {\n        this.environment = environment;\n    }\n\n    @Override\n    public Set&lt;? extends Element&gt; getIncludedElements() {\n        if (filteredElements == null) {\n            filteredElements = filterElements(environment.getIncludedElements());\n        }\n        return filteredElements;\n    }\n//other code...\n}\n</code></pre>\n<p>But when I try to run it I get:\n<em>java.lang.ClassCastException: class mypackage.DocletEnvironmentProxy cannot be cast to class jdk.javadoc.internal.tool. DocEnvImpl (mypackage.DocletEnvironmentProxy is in unnamed module of loader java.net.URLClassLoader @3dfc5fb8; jdk.javadoc.internal.tool.DocEnvImpl is in module jdk.javadoc of loader 'app')</em></p>\n<p>I found the <a href=\"https://bugs.openjdk.java.net/browse/JDK-8224092\" rel=\"nofollow noreferrer\">bug</a> related to it and interesting <a href=\"https://bugs.openjdk.java.net/browse/JDK-8224092?focusedCommentId=14306030&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14306030\" rel=\"nofollow noreferrer\">comment</a> for it, which says &quot;this is not a recognized way to perform customization&quot;</p>\n<p>I spent a lot of time looking for the &quot;correct&quot; description of the customization approach but did not find anything related to it. Only some guides from Oracle on the basic <a href=\"https://openjdk.java.net/groups/compiler/using-new-doclet.html\" rel=\"nofollow noreferrer\">Doclet API</a> usages.</p>\n<p>Maybe someone knows where I can find the &quot;correct&quot; approach or already solved the Doclet customization issue?</p>\n"},{"tags":["java","spring-boot","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1686229542,"post_id":76430213,"comment_id":134772486,"body_markdown":"What JDBC driver and version are you using? Can you reproduce the problem using JDBC directly (using `PreparedStatement.addBatch()` and `PreparedStatement.executeBatch()`)?","body":"What JDBC driver and version are you using? Can you reproduce the problem using JDBC directly (using <code>PreparedStatement.addBatch()</code> and <code>PreparedStatement.executeBatch()</code>)?"},{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1686297716,"post_id":76430213,"comment_id":134782433,"body_markdown":"I am using MariaDB JDBC driver version `3.0.10` (`org.mariadb.jdbc:mariadb-java-client:3.0.10`). I reproduced the problem using `PreparedStatement` directly as you explained, the results are the same: `executeBatch()` inserts only 1 row without any exceptions when there is a trigger, if I drop the trigger and execute batch all the rows are inserted correctly.","body":"I am using MariaDB JDBC driver version <code>3.0.10</code> (<code>org.mariadb.jdbc:mariadb-java-client:3.0.10</code>). I reproduced the problem using <code>PreparedStatement</code> directly as you explained, the results are the same: <code>executeBatch()</code> inserts only 1 row without any exceptions when there is a trigger, if I drop the trigger and execute batch all the rows are inserted correctly."},{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1686297838,"post_id":76430213,"comment_id":134782450,"body_markdown":"Maybe I should try with other JDBC drivers","body":"Maybe I should try with other JDBC drivers"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1686298716,"post_id":76430213,"comment_id":134782621,"body_markdown":"I&#39;d use the official driver. Does the issue reproduce with the latest version (currently `3.1.4`)? Perhaps you can report this here (ideally with the JDBC reproducer, removing jOOQ if it&#39;s not related to jOOQ)? https://github.com/mariadb-corporation/mariadb-connector-j","body":"I&#39;d use the official driver. Does the issue reproduce with the latest version (currently <code>3.1.4</code>)? Perhaps you can report this here (ideally with the JDBC reproducer, removing jOOQ if it&#39;s not related to jOOQ)? <a href=\"https://github.com/mariadb-corporation/mariadb-connector-j\" rel=\"nofollow noreferrer\">github.com/mariadb-corporation/mariadb-connector-j</a>"},{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1686300203,"post_id":76430213,"comment_id":134782881,"body_markdown":"Isn&#39;t the one I am using official driver? I will try with latest version. I will update the question(and maybe answer if I find the underlying issue) and remove jOOQ.","body":"Isn&#39;t the one I am using official driver? I will try with latest version. I will update the question(and maybe answer if I find the underlying issue) and remove jOOQ."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1686303591,"post_id":76430213,"comment_id":134783525,"body_markdown":"Yes it&#39;s the official one. I just replied to your idea of *&quot;I should try iwth other JDBC drivers&quot;*. I wouldn&#39;t use a non-official driver.","body":"Yes it&#39;s the official one. I just replied to your idea of <i>&quot;I should try iwth other JDBC drivers&quot;</i>. I wouldn&#39;t use a non-official driver."}],"answers":[{"tags":[],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686306721,"creation_date":1686306721,"answer_id":76439400,"question_id":76430213,"body_markdown":"After helpful guidance from [Lukas Eder][1], I&#39;ve discovered the issue I was experiencing is not a bug with jOOQ itself but with the [MariaDB JDBC driver][2].\r\nI am documenting steps to take before asking jOOQ related questions for the sake of public knowledge. It may assist others(or myself) who encounter similar problem in the future.\r\n\r\n 1. Check for side effects when you think jOOQ is not working as expected. Side effects can be anything from application level `VisitListener`s to database level triggers. I spent hours trying to solve the problem until I found it was because of a trigger.\r\n 2. Reproduce the problem using JDBC directly. If the same problem occurs then most likely it&#39;s not the problem with the jOOQ\r\n 3. It&#39;s always best to use the official driver but for the sake of identifying the problem try switching the JDBC driver if you can. For example from MariaDB Connector/J to MySQL Connector/J.\r\n\r\nI followed above steps and resolved the problem after switching from [MariaDB Connector/J][2] to [MySQL Connector/J][3]. This confirms that the issue is not with jOOQ itself, but with the specific MariaDB JDBC driver I was using. I think I can continue using MySQL driver since it&#39;s compatible with the JDBC 4.2 specification according to the documentation.\r\n\r\n&gt; MySQL Connector/J 8.0 is a JDBC Type 4 driver that is compatible with the JDBC 4.2 specification. \r\n\r\n   \r\n\r\n  [1]: https://stackoverflow.com/users/521799/lukas-eder\r\n  [2]: https://github.com/mariadb-corporation/mariadb-connector-j\r\n  [3]: https://github.com/mysql/mysql-connector-j","title":"jOOQ&#39;s batchInsert() doesn&#39;t behave as expected with &quot;after insert&quot; trigger","body":"<p>After helpful guidance from <a href=\"https://stackoverflow.com/users/521799/lukas-eder\">Lukas Eder</a>, I've discovered the issue I was experiencing is not a bug with jOOQ itself but with the <a href=\"https://github.com/mariadb-corporation/mariadb-connector-j\" rel=\"nofollow noreferrer\">MariaDB JDBC driver</a>.\nI am documenting steps to take before asking jOOQ related questions for the sake of public knowledge. It may assist others(or myself) who encounter similar problem in the future.</p>\n<ol>\n<li>Check for side effects when you think jOOQ is not working as expected. Side effects can be anything from application level <code>VisitListener</code>s to database level triggers. I spent hours trying to solve the problem until I found it was because of a trigger.</li>\n<li>Reproduce the problem using JDBC directly. If the same problem occurs then most likely it's not the problem with the jOOQ</li>\n<li>It's always best to use the official driver but for the sake of identifying the problem try switching the JDBC driver if you can. For example from MariaDB Connector/J to MySQL Connector/J.</li>\n</ol>\n<p>I followed above steps and resolved the problem after switching from <a href=\"https://github.com/mariadb-corporation/mariadb-connector-j\" rel=\"nofollow noreferrer\">MariaDB Connector/J</a> to <a href=\"https://github.com/mysql/mysql-connector-j\" rel=\"nofollow noreferrer\">MySQL Connector/J</a>. This confirms that the issue is not with jOOQ itself, but with the specific MariaDB JDBC driver I was using. I think I can continue using MySQL driver since it's compatible with the JDBC 4.2 specification according to the documentation.</p>\n<blockquote>\n<p>MySQL Connector/J 8.0 is a JDBC Type 4 driver that is compatible with the JDBC 4.2 specification.</p>\n</blockquote>\n"}],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76439400,"answer_count":1,"score":1,"last_activity_date":1686306721,"creation_date":1686214737,"question_id":76430213,"body_markdown":"### Description\r\nI have a trigger that inserts into `sku_price_history` table after inserting into `sku` table:\r\n```sql\r\nDELIMITER $$\r\nCREATE TRIGGER trig_after_sku_insert\r\n    AFTER INSERT\r\nON sku FOR EACH ROW\r\nBEGIN\r\n    INSERT INTO sku_price_history(sku_id, action_type, purchase_price, selling_price, base_margin_rate,\r\n                                  vat, vat_type, tax_type, selling_price_started_at, updated_by)\r\n    VALUES (NEW.id, &#39;CREATE&#39;, NEW.purchase_price, NEW.selling_price, NEW.base_margin_rate,\r\n            NEW.vat, NEW.vat_type, NEW.tax_type, NOW(), NEW.created_by);\r\nEND $$\r\nDELIMITER ;\r\n```\r\n\r\nThen, I am trying to do a simple batch insert using jOOQ&#39;s [DSLContext.batchInsert()](https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#batchInsert(java.util.Collection)):\r\n```java\r\nvoid saveMany(List&lt;SkuDto.SaveBody&gt; skus) {\r\n    List&lt;SkuRecord&gt; skuRecords = new ArrayList&lt;&gt;();\r\n    for(SkuDto.SaveBody sku : skus) {\r\n        SkuRecord skuRecord = ctx.newRecord(SKU, sku);\r\n        skuRecords.add(skuRecord);\r\n    }\r\n    ctx.batchInsert(skuRecords).execute();\r\n}\r\n```\r\n### Problem\r\nAbove statement inserts only the first row into `sku` table even though there are many records. No exception is thrown and batch size is correct according to `LoggerListener`:\r\n\r\n```java\r\nDEBUG 65174 --- [nio-9292-exec-1] org.jooq.tools.LoggerListener : Executing batch query : sql query\r\nDEBUG 65174 --- [nio-9292-exec-1] org.jooq.tools.LoggerListener : Batch size            : 3\r\n```\r\n\r\n\r\n### What I tried\r\n1. I executed the same code after dropping the trigger and it worked. So the trigger seems to be a main reason here.\r\n2. Then, I tried to simulate the problem using an SQL client, run multiple insert statements in transaction:\r\n```sql\r\nSET autocommit = OFF;\r\nSTART TRANSACTION;\r\nINSERT INTO sku (fields) VALUES (values);\r\nINSERT INTO sku (fields) VALUES (values);\r\nINSERT INTO sku (fields) VALUES (values);\r\nCOMMIT;\r\n```\r\nAbove SQL statement worked as expected, records were inserted into both `sku` and `sku_price_history` tables. \r\n\r\nI may be missing some points about triggers and batch insert but I couldn&#39;t find relevant information. I am using Spring Boot with default configurations.\r\n\r\n#### Versions:\r\n- jOOQ: 3.18.2\r\n- Java: 17\r\n- Spring Boot: 3.0.5\r\n- Database (include vendor): MariaDB 10.6 (RDS)","title":"jOOQ&#39;s batchInsert() doesn&#39;t behave as expected with &quot;after insert&quot; trigger","body":"<h3>Description</h3>\n<p>I have a trigger that inserts into <code>sku_price_history</code> table after inserting into <code>sku</code> table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>DELIMITER $$\nCREATE TRIGGER trig_after_sku_insert\n    AFTER INSERT\nON sku FOR EACH ROW\nBEGIN\n    INSERT INTO sku_price_history(sku_id, action_type, purchase_price, selling_price, base_margin_rate,\n                                  vat, vat_type, tax_type, selling_price_started_at, updated_by)\n    VALUES (NEW.id, 'CREATE', NEW.purchase_price, NEW.selling_price, NEW.base_margin_rate,\n            NEW.vat, NEW.vat_type, NEW.tax_type, NOW(), NEW.created_by);\nEND $$\nDELIMITER ;\n</code></pre>\n<p>Then, I am trying to do a simple batch insert using jOOQ's <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#batchInsert(java.util.Collection)\" rel=\"nofollow noreferrer\">DSLContext.batchInsert()</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void saveMany(List&lt;SkuDto.SaveBody&gt; skus) {\n    List&lt;SkuRecord&gt; skuRecords = new ArrayList&lt;&gt;();\n    for(SkuDto.SaveBody sku : skus) {\n        SkuRecord skuRecord = ctx.newRecord(SKU, sku);\n        skuRecords.add(skuRecord);\n    }\n    ctx.batchInsert(skuRecords).execute();\n}\n</code></pre>\n<h3>Problem</h3>\n<p>Above statement inserts only the first row into <code>sku</code> table even though there are many records. No exception is thrown and batch size is correct according to <code>LoggerListener</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DEBUG 65174 --- [nio-9292-exec-1] org.jooq.tools.LoggerListener : Executing batch query : sql query\nDEBUG 65174 --- [nio-9292-exec-1] org.jooq.tools.LoggerListener : Batch size            : 3\n</code></pre>\n<h3>What I tried</h3>\n<ol>\n<li>I executed the same code after dropping the trigger and it worked. So the trigger seems to be a main reason here.</li>\n<li>Then, I tried to simulate the problem using an SQL client, run multiple insert statements in transaction:</li>\n</ol>\n<pre class=\"lang-sql prettyprint-override\"><code>SET autocommit = OFF;\nSTART TRANSACTION;\nINSERT INTO sku (fields) VALUES (values);\nINSERT INTO sku (fields) VALUES (values);\nINSERT INTO sku (fields) VALUES (values);\nCOMMIT;\n</code></pre>\n<p>Above SQL statement worked as expected, records were inserted into both <code>sku</code> and <code>sku_price_history</code> tables.</p>\n<p>I may be missing some points about triggers and batch insert but I couldn't find relevant information. I am using Spring Boot with default configurations.</p>\n<h4>Versions:</h4>\n<ul>\n<li>jOOQ: 3.18.2</li>\n<li>Java: 17</li>\n<li>Spring Boot: 3.0.5</li>\n<li>Database (include vendor): MariaDB 10.6 (RDS)</li>\n</ul>\n"},{"tags":["java","spring-boot","gemfire","spring-data-gemfire"],"owner":{"account_id":16605836,"reputation":1,"user_id":12000349,"display_name":"Nina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686306617,"creation_date":1686294681,"question_id":76437999,"body_markdown":"I’m creating a gemfire region using spring data geode. I have used the @Region annotation on my entity class. \r\n\r\nI need to create this region based on a property from my application properties file.\r\n\r\nIs there a way to achieve this ? \r\n\r\nI tried to use @ConditionalOnExpression along with the @Region annotation. The region is never created.\r\n\r\nPFB source code.\r\n\r\n\r\n```\r\n@ConditionalOnExpression(value=“${cache.enable.user}”)\r\n@Region(“Users”)\r\nPublic class User {\r\n     String name;\r\n     int age;\r\n}\r\n```\r\n\r\nThe property is available and the same conditional expression is working on other beans annotated with @Component. \r\n\r\nPlease help to let me know if we can conditionally create regions based on the property.\r\n\r\nThanks !\r\n","title":"Using @Region with conditionals","body":"<p>I’m creating a gemfire region using spring data geode. I have used the @Region annotation on my entity class.</p>\n<p>I need to create this region based on a property from my application properties file.</p>\n<p>Is there a way to achieve this ?</p>\n<p>I tried to use @ConditionalOnExpression along with the @Region annotation. The region is never created.</p>\n<p>PFB source code.</p>\n<pre><code>@ConditionalOnExpression(value=“${cache.enable.user}”)\n@Region(“Users”)\nPublic class User {\n     String name;\n     int age;\n}\n</code></pre>\n<p>The property is available and the same conditional expression is working on other beans annotated with @Component.</p>\n<p>Please help to let me know if we can conditionally create regions based on the property.</p>\n<p>Thanks !</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1686303310,"post_id":76438987,"comment_id":134783449,"body_markdown":"`RandomGenerator` was introduced in Java 17 (and in Java 17 your code works for me). What Java version are you using?","body":"<code>RandomGenerator</code> was introduced in Java 17 (and in Java 17 your code works for me). What Java version are you using?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686304285,"post_id":76438987,"comment_id":134783661,"body_markdown":"`javac -version` will show you that you&#39;re using &lt; 17","body":"<code>javac -version</code> will show you that you&#39;re using &lt; 17"},{"owner":{"account_id":2469905,"reputation":23,"user_id":2152073,"display_name":"maverick_xinwei"},"score":0,"creation_date":1686338292,"post_id":76438987,"comment_id":134790348,"body_markdown":"Thanks for all the help. Indeed, the older version was configured in pom.xml.","body":"Thanks for all the help. Indeed, the older version was configured in pom.xml."}],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686305552,"creation_date":1686305552,"answer_id":76439264,"question_id":76438987,"body_markdown":"=&gt; java.util.random package and the RandomGenerator interface were introduced in Java 17, so you need to be using Java 17 or a later version to utilize this feature. If you are using version of Java which is lower than 17, you won&#39;t have access to the nextInt(int, int) method through the Random class.\r\n\r\n=&gt; Using Java - 17 you can try below code snippet :\r\n\r\n    import java.util.Random;\r\n    import java.util.random.RandomGenerator;\r\n    import java.util.random.RandomGeneratorFactory;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            RandomGenerator generator = RandomGeneratorFactory.getDefault().create();\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                int b = generator.nextInt(5, 10);\r\n                System.out.println(b);\r\n            }\r\n        }\r\n    }","title":"nextInt(int, int) symbol cannot be found when it&#39;s called from a java.util.Random object","body":"<p>=&gt; java.util.random package and the RandomGenerator interface were introduced in Java 17, so you need to be using Java 17 or a later version to utilize this feature. If you are using version of Java which is lower than 17, you won't have access to the nextInt(int, int) method through the Random class.</p>\n<p>=&gt; Using Java - 17 you can try below code snippet :</p>\n<pre><code>import java.util.Random;\nimport java.util.random.RandomGenerator;\nimport java.util.random.RandomGeneratorFactory;\n\npublic class Main {\n    public static void main(String[] args) {\n        RandomGenerator generator = RandomGeneratorFactory.getDefault().create();\n        for (int i = 0; i &lt; 10; i++) {\n            int b = generator.nextInt(5, 10);\n            System.out.println(b);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27687294,"reputation":45,"user_id":21134798,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686306425,"creation_date":1686306425,"answer_id":76439367,"question_id":76438987,"body_markdown":"I ran your code fine using JDK 17 and reproduced your error using an early JDK (JDK 12, I think).\r\n\r\njava.util.Random appears to exist in JDK 12 (maybe earlier but I didn&#39;t check). But the nextInt(int, int) method did not appear until JDK 17 (as the other poster has mentioned). Whereas the earlier JDK does have nextInt(int).\r\n\r\nI therefore suggest checking your JRE / JDK settings.","title":"nextInt(int, int) symbol cannot be found when it&#39;s called from a java.util.Random object","body":"<p>I ran your code fine using JDK 17 and reproduced your error using an early JDK (JDK 12, I think).</p>\n<p>java.util.Random appears to exist in JDK 12 (maybe earlier but I didn't check). But the nextInt(int, int) method did not appear until JDK 17 (as the other poster has mentioned). Whereas the earlier JDK does have nextInt(int).</p>\n<p>I therefore suggest checking your JRE / JDK settings.</p>\n"}],"owner":{"account_id":2469905,"reputation":23,"user_id":2152073,"display_name":"maverick_xinwei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439264,"answer_count":2,"score":0,"last_activity_date":1686306425,"creation_date":1686303135,"question_id":76438987,"body_markdown":"I am new to JAVA and trying to generate some pseudo random integers.\r\n\r\n\r\n\r\nI tried the following code snippet which complained \r\n&gt; no suitable method found for nextInt(int,int)\r\n\r\n```\r\n        java.util.Random rnd = new java.util.Random();\r\n        for(int i =0; i&lt;10; i++) {\r\n            int b = rnd.nextInt(5, 10);\r\n            System.out.println(b);\r\n        }\r\n```\r\n\r\nI am aware of the alternative way to call nextInt by only providing one argument as the range. But what I don&#39;t understand is why nextInt(int, int) cannot be resolved in the case above given that the class java.util.Random implements java.util.random.RandomGenerator which has a default implementation of nextInt(int, int) ? ","title":"nextInt(int, int) symbol cannot be found when it&#39;s called from a java.util.Random object","body":"<p>I am new to JAVA and trying to generate some pseudo random integers.</p>\n<p>I tried the following code snippet which complained</p>\n<blockquote>\n<p>no suitable method found for nextInt(int,int)</p>\n</blockquote>\n<pre><code>        java.util.Random rnd = new java.util.Random();\n        for(int i =0; i&lt;10; i++) {\n            int b = rnd.nextInt(5, 10);\n            System.out.println(b);\n        }\n</code></pre>\n<p>I am aware of the alternative way to call nextInt by only providing one argument as the range. But what I don't understand is why nextInt(int, int) cannot be resolved in the case above given that the class java.util.Random implements java.util.random.RandomGenerator which has a default implementation of nextInt(int, int) ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1673453984,"post_id":75086008,"comment_id":132504027,"body_markdown":"Why dont you use a custom view?","body":"Why dont you use a custom view?"},{"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"score":0,"creation_date":1673454615,"post_id":75086008,"comment_id":132504302,"body_markdown":"Problem is I dont know how, because dimensions width and height are very precisely determined, I could not find how. And mobile phones are each diffenet...","body":"Problem is I dont know how, because dimensions width and height are very precisely determined, I could not find how. And mobile phones are each diffenet..."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1673454851,"post_id":75086008,"comment_id":132504410,"body_markdown":"You dont have to bother about the width. It&#39;ll be full my default. And the height can be `wrap-content`.","body":"You dont have to bother about the width. It&#39;ll be full my default. And the height can be <code>wrap-content</code>."},{"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"score":0,"creation_date":1673455610,"post_id":75086008,"comment_id":132504692,"body_markdown":"I saw on more apps with same button on right side, so it must be some piece of code...This I would appreciate :)","body":"I saw on more apps with same button on right side, so it must be some piece of code...This I would appreciate :)"},{"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"score":0,"creation_date":1673514631,"post_id":75086008,"comment_id":132517774,"body_markdown":"You can see recommendation with Caution on bottom of this page! &gt;  https://developer.android.com/develop/ui/views/notifications/custom-notification","body":"You can see recommendation with Caution on bottom of this page! &gt;  <a href=\"https://developer.android.com/develop/ui/views/notifications/custom-notification\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/notifications/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8894236,"reputation":764,"user_id":6643946,"accept_rate":86,"display_name":"DanMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686306039,"creation_date":1686306039,"answer_id":76439315,"question_id":75086008,"body_markdown":"To show this play/pause control you should create a media session and use PlaybackState.\r\nSomething like this\r\n\r\n  \r\n\r\n      override fun onCreate() {\r\n            super.onCreate()\r\n            initVideoPlayer()\r\n            initMediaSession()\r\n        }\r\n        private fun initMediaSession() {\r\n            mediaSession = MediaSessionCompat(this, &quot;PlayVideoSession&quot;)\r\n            mediaSession?.setCallback(object : MediaSessionCompat.Callback() {\r\n                override fun onPlay() {\r\n                    audioManager?.requestAudioFocus(\r\n                        audioFocusChangeListener,\r\n                        AudioManager.STREAM_MUSIC,\r\n                        AudioManager.AUDIOFOCUS_GAIN\r\n                    )\r\n                    exoPlayer?.play()\r\n                    showNotification()\r\n                }\r\n    \r\n                override fun onPause() {\r\n                    exoPlayer?.pause()\r\n                }\r\n            })\r\n            mediaSession?.isActive = true\r\n        }\r\n    \r\n        private fun createNotification(): Notification? {\r\n            if (mediaSession == null) return null\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                val channel = NotificationChannel(\r\n                    NotificationHelper.NOTIFICATION_CHANNEL_ID_PLAYER_CONTROLS,\r\n                    getString(R.string.notification_name_player_controls),\r\n                    NotificationManager.IMPORTANCE_LOW\r\n                )\r\n                channel.description = getString(R.string.notification_description_player_controls)\r\n                val notificationManager = getSystemService(\r\n                    NotificationManager::class.java\r\n                )\r\n                notificationManager.createNotificationChannel(channel)\r\n            }\r\n    \r\n            val mediaStyle = androidx.media.app.NotificationCompat.MediaStyle()\r\n                .setMediaSession(mediaSession!!.sessionToken)\r\n                .setShowActionsInCompactView()\r\n    \r\n            val notificationBuilder = NotificationCompat.Builder(\r\n                this,\r\n                NotificationHelper.NOTIFICATION_CHANNEL_ID_PLAYER_CONTROLS\r\n            )\r\n                .setStyle(mediaStyle)\r\n                .setSmallIcon(R.drawable.ic_play_notification)\r\n                .setAutoCancel(false)\r\n                .setOngoing(true)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n    \r\n            return notificationBuilder.build()\r\n    \r\n        }\r\n    \r\n      private fun getActions(): Long {\r\n            return if (exoPlayer?.isPlaying == true) PlaybackStateCompat.ACTION_PAUSE else PlaybackStateCompat.ACTION_PLAY\r\n    \r\n        }\r\n\r\n\r\n\r\nI strongly recommend you to read this [post][1] \r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2020/08/playing-nicely-with-media-controls.html","title":"Android notification how to create play /pause button?","body":"<p>To show this play/pause control you should create a media session and use PlaybackState.\nSomething like this</p>\n<pre><code>  override fun onCreate() {\n        super.onCreate()\n        initVideoPlayer()\n        initMediaSession()\n    }\n    private fun initMediaSession() {\n        mediaSession = MediaSessionCompat(this, &quot;PlayVideoSession&quot;)\n        mediaSession?.setCallback(object : MediaSessionCompat.Callback() {\n            override fun onPlay() {\n                audioManager?.requestAudioFocus(\n                    audioFocusChangeListener,\n                    AudioManager.STREAM_MUSIC,\n                    AudioManager.AUDIOFOCUS_GAIN\n                )\n                exoPlayer?.play()\n                showNotification()\n            }\n\n            override fun onPause() {\n                exoPlayer?.pause()\n            }\n        })\n        mediaSession?.isActive = true\n    }\n\n    private fun createNotification(): Notification? {\n        if (mediaSession == null) return null\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val channel = NotificationChannel(\n                NotificationHelper.NOTIFICATION_CHANNEL_ID_PLAYER_CONTROLS,\n                getString(R.string.notification_name_player_controls),\n                NotificationManager.IMPORTANCE_LOW\n            )\n            channel.description = getString(R.string.notification_description_player_controls)\n            val notificationManager = getSystemService(\n                NotificationManager::class.java\n            )\n            notificationManager.createNotificationChannel(channel)\n        }\n\n        val mediaStyle = androidx.media.app.NotificationCompat.MediaStyle()\n            .setMediaSession(mediaSession!!.sessionToken)\n            .setShowActionsInCompactView()\n\n        val notificationBuilder = NotificationCompat.Builder(\n            this,\n            NotificationHelper.NOTIFICATION_CHANNEL_ID_PLAYER_CONTROLS\n        )\n            .setStyle(mediaStyle)\n            .setSmallIcon(R.drawable.ic_play_notification)\n            .setAutoCancel(false)\n            .setOngoing(true)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n\n        return notificationBuilder.build()\n\n    }\n\n  private fun getActions(): Long {\n        return if (exoPlayer?.isPlaying == true) PlaybackStateCompat.ACTION_PAUSE else PlaybackStateCompat.ACTION_PLAY\n\n    }\n</code></pre>\n<p>I strongly recommend you to read this <a href=\"https://android-developers.googleblog.com/2020/08/playing-nicely-with-media-controls.html\" rel=\"nofollow noreferrer\">post</a></p>\n"}],"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686306039,"creation_date":1673453643,"question_id":75086008,"body_markdown":"I am not able to create bigger play/pause button in Decorated notification.\r\nHow can I do it?\r\nHere is what I have:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n\r\n            if (statusPlay){\r\n                notification = new NotificationCompat.Builder(this,FOREGROUND_CHANNEL_ID)\r\n                        .setSmallIcon(R.drawable.ic_books_mini2)\r\n                        .setContentTitle(tmpTitle)\r\n                        .setContentText(&quot;&quot;+notificationPercentage + &quot;%  &quot; + tmpAuthor)\r\n                        .setLargeIcon(artwork)\r\n                        .setCategory(NotificationCompat.CATEGORY_TRANSPORT) //CATEGORY_SERVICE\r\n                        .addAction(R.drawable.prev10w,&quot;prev10&quot;,lPendingSeekPrevIntent)\r\n                        .addAction(R.drawable.ic_pause_white,&quot;pause&quot;,lPendingPauseIntent)\r\n                        .addAction(R.drawable.next10w,&quot;next10&quot;,lPendingSeekNextIntent)\r\n                        .setStyle(new androidx.media.app.NotificationCompat.DecoratedMediaCustomViewStyle()\r\n                                .setShowActionsInCompactView(0,1,2)\r\n                                .setMediaSession(mediaSession.getSessionToken())\r\n                        )\r\n                        .setPriority(NotificationCompat.PRIORITY_LOW)\r\n                        .setColorized(true)\r\n                        .setContentIntent(pendingIntent) \r\n                        .setAutoCancel(true)\r\n                        .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n                        .setOngoing(true);\r\n\r\n            }else {\r\n                notification = new NotificationCompat.Builder(this, FOREGROUND_CHANNEL_ID)\r\n                        .setSmallIcon(R.drawable.ic_books_mini2)\r\n                        .setContentTitle(tmpTitle)\r\n                        .setContentText(&quot;&quot; + notificationPercentage + &quot;%  &quot; + tmpAuthor)\r\n                        .setLargeIcon(artwork)\r\n                        .setCategory(NotificationCompat.CATEGORY_TRANSPORT)\r\n                        .addAction(R.drawable.prev10w,&quot;prev10&quot;,lPendingSeekPrevIntent)\r\n                        .addAction(R.drawable.ic_play_arrow_white,&quot;play&quot;,lPendingPlayIntent)\r\n                        .addAction(R.drawable.next10w,&quot;next10&quot;,lPendingSeekNextIntent)\r\n                        .setStyle(new androidx.media.app.NotificationCompat.DecoratedMediaCustomViewStyle()\r\n                                .setShowActionsInCompactView(0,1,2)\r\n                                .setMediaSession(mediaSession.getSessionToken())\r\n                        )\r\n                        .setPriority(NotificationCompat.PRIORITY_LOW)\r\n                        .setColorized(true)\r\n                        .setContentIntent(pendingIntent) \r\n                        .setAutoCancel(true)\r\n                        .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n                        .setOngoing(true)\r\n                        ;\r\n\r\n                ;\r\n            }\r\n\r\n\r\n        }\r\n\r\nThis looks like this with small buttons on bottom:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut required is this bigger button:\r\n[![enter image description here][2]][2]\r\n\r\nIn official poages of android development ,they recommend to use this Decorated Media Custom View in notifications due to restricted space and colors to be visible with texts. Many thanks for help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sdwc0.jpg\r\n  [2]: https://i.stack.imgur.com/uyZ6L.jpg","title":"Android notification how to create play /pause button?","body":"<p>I am not able to create bigger play/pause button in Decorated notification.\nHow can I do it?\nHere is what I have:</p>\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n\n        if (statusPlay){\n            notification = new NotificationCompat.Builder(this,FOREGROUND_CHANNEL_ID)\n                    .setSmallIcon(R.drawable.ic_books_mini2)\n                    .setContentTitle(tmpTitle)\n                    .setContentText(&quot;&quot;+notificationPercentage + &quot;%  &quot; + tmpAuthor)\n                    .setLargeIcon(artwork)\n                    .setCategory(NotificationCompat.CATEGORY_TRANSPORT) //CATEGORY_SERVICE\n                    .addAction(R.drawable.prev10w,&quot;prev10&quot;,lPendingSeekPrevIntent)\n                    .addAction(R.drawable.ic_pause_white,&quot;pause&quot;,lPendingPauseIntent)\n                    .addAction(R.drawable.next10w,&quot;next10&quot;,lPendingSeekNextIntent)\n                    .setStyle(new androidx.media.app.NotificationCompat.DecoratedMediaCustomViewStyle()\n                            .setShowActionsInCompactView(0,1,2)\n                            .setMediaSession(mediaSession.getSessionToken())\n                    )\n                    .setPriority(NotificationCompat.PRIORITY_LOW)\n                    .setColorized(true)\n                    .setContentIntent(pendingIntent) \n                    .setAutoCancel(true)\n                    .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n                    .setOngoing(true);\n\n        }else {\n            notification = new NotificationCompat.Builder(this, FOREGROUND_CHANNEL_ID)\n                    .setSmallIcon(R.drawable.ic_books_mini2)\n                    .setContentTitle(tmpTitle)\n                    .setContentText(&quot;&quot; + notificationPercentage + &quot;%  &quot; + tmpAuthor)\n                    .setLargeIcon(artwork)\n                    .setCategory(NotificationCompat.CATEGORY_TRANSPORT)\n                    .addAction(R.drawable.prev10w,&quot;prev10&quot;,lPendingSeekPrevIntent)\n                    .addAction(R.drawable.ic_play_arrow_white,&quot;play&quot;,lPendingPlayIntent)\n                    .addAction(R.drawable.next10w,&quot;next10&quot;,lPendingSeekNextIntent)\n                    .setStyle(new androidx.media.app.NotificationCompat.DecoratedMediaCustomViewStyle()\n                            .setShowActionsInCompactView(0,1,2)\n                            .setMediaSession(mediaSession.getSessionToken())\n                    )\n                    .setPriority(NotificationCompat.PRIORITY_LOW)\n                    .setColorized(true)\n                    .setContentIntent(pendingIntent) \n                    .setAutoCancel(true)\n                    .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n                    .setOngoing(true)\n                    ;\n\n            ;\n        }\n\n\n    }\n</code></pre>\n<p>This looks like this with small buttons on bottom:\n<a href=\"https://i.stack.imgur.com/Sdwc0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sdwc0.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But required is this bigger button:\n<a href=\"https://i.stack.imgur.com/uyZ6L.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uyZ6L.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In official poages of android development ,they recommend to use this Decorated Media Custom View in notifications due to restricted space and colors to be visible with texts. Many thanks for help.</p>\n"},{"tags":["java","android","in-app-purchase","google-play"],"comments":[{"owner":{"account_id":1291782,"reputation":6791,"user_id":1243753,"accept_rate":89,"display_name":"Ifrit"},"score":1,"creation_date":1411674755,"post_id":22668528,"comment_id":40803695,"body_markdown":"Did you find an answer to this?","body":"Did you find an answer to this?"},{"owner":{"account_id":1513044,"reputation":391,"user_id":1414683,"display_name":"Pierre Merienne"},"score":0,"creation_date":1411817491,"post_id":22668528,"comment_id":40853333,"body_markdown":"I did not find any solution to consumes in app product. I think this might be design like this on purpose.","body":"I did not find any solution to consumes in app product. I think this might be design like this on purpose."},{"owner":{"account_id":1592566,"reputation":3223,"user_id":1475574,"accept_rate":78,"display_name":"Khalid Taha"},"score":0,"creation_date":1510963926,"post_id":22668528,"comment_id":81675175,"body_markdown":"Did you find any answer for this ?\nI need it","body":"Did you find any answer for this ? I need it"}],"answers":[{"tags":[],"owner":{"account_id":1812955,"reputation":1242,"user_id":1648645,"accept_rate":0,"display_name":"sibaz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1413458463,"creation_date":1413458463,"answer_id":26403130,"question_id":22668528,"body_markdown":"I&#39;m trying to implement something that sounds similar to your approach.  In our case our target audience is children, hence we&#39;re not expecting the consumer to be the person paying, and that the parent might buy several copies, one for each child.  Hence the normal model (of one thing per customer) doesn&#39;t work.\r\n \r\nAs licencing (per child) is actually dealt with by our servers, any payments (we&#39;re handling them as a consumables), have to be actioned on the app, then the token passed to the server to be verified, then the server updates the licenses, and the next time the child concerned interrogates their licences, they perceive the payment to have been actioned.  The app then has to mark them as consumed, even though activation is not something it has direct control of.  Instead it seems the only option is to manage a table of all of the purchaseTokens, and mark them internally as consumed, and so the app has to periodically ask if any of the tokens pending for the current (google) user, need consuming, and tick them off when they do.  As an extension to this, we have to over complicate the payment process by checking ourselves if the child requesting (or the google user that&#39;s paying) should be blocked from proceeding, in case they have payments that might be pending from another child.  \r\n\r\nIt would be so much simpler, if google were to allow the server to mark the consumable as used, but I&#39;ve yet to find a solution.  Lets hope APIv4 has it.  \r\n","title":"Is there a way to consume google play in-app products from backend server?","body":"<p>I'm trying to implement something that sounds similar to your approach.  In our case our target audience is children, hence we're not expecting the consumer to be the person paying, and that the parent might buy several copies, one for each child.  Hence the normal model (of one thing per customer) doesn't work.</p>\n\n<p>As licencing (per child) is actually dealt with by our servers, any payments (we're handling them as a consumables), have to be actioned on the app, then the token passed to the server to be verified, then the server updates the licenses, and the next time the child concerned interrogates their licences, they perceive the payment to have been actioned.  The app then has to mark them as consumed, even though activation is not something it has direct control of.  Instead it seems the only option is to manage a table of all of the purchaseTokens, and mark them internally as consumed, and so the app has to periodically ask if any of the tokens pending for the current (google) user, need consuming, and tick them off when they do.  As an extension to this, we have to over complicate the payment process by checking ourselves if the child requesting (or the google user that's paying) should be blocked from proceeding, in case they have payments that might be pending from another child.  </p>\n\n<p>It would be so much simpler, if google were to allow the server to mark the consumable as used, but I've yet to find a solution.  Lets hope APIv4 has it.  </p>\n"},{"tags":[],"owner":{"account_id":178698,"reputation":918,"user_id":410855,"display_name":"mdi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1588244941,"creation_date":1588152246,"answer_id":61498428,"question_id":22668528,"body_markdown":"It&#39;s now possible to at least Acknowledge using the Android Publisher V3 API, see:\r\n\r\nhttps://developers.google.com/android-publisher/getting_started\r\n\r\nhttps://developers.google.com/android-publisher/api-ref/purchases/products/acknowledge\r\n\r\nLooks like Consume is still only possible from the client.","title":"Is there a way to consume google play in-app products from backend server?","body":"<p>It's now possible to at least Acknowledge using the Android Publisher V3 API, see:</p>\n\n<p><a href=\"https://developers.google.com/android-publisher/getting_started\" rel=\"noreferrer\">https://developers.google.com/android-publisher/getting_started</a></p>\n\n<p><a href=\"https://developers.google.com/android-publisher/api-ref/purchases/products/acknowledge\" rel=\"noreferrer\">https://developers.google.com/android-publisher/api-ref/purchases/products/acknowledge</a></p>\n\n<p>Looks like Consume is still only possible from the client.</p>\n"},{"tags":[],"owner":{"account_id":3610250,"reputation":44872,"user_id":3011380,"accept_rate":48,"display_name":"zangw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678866928,"creation_date":1678866928,"answer_id":75741866,"question_id":22668528,"body_markdown":"The `purchases.products.consume` of the Android Publisher V3 API could consume a purchase for an inapp item.\r\n\r\nhttps://developers.google.com/android-publisher/api-ref/rest/v3/purchases.products/consume\r\n\r\n```\r\nPOST https://androidpublisher.googleapis.com/androidpublisher/v3/applications/{packageName}/purchases/products/{productId}/tokens/{token}:consume\r\n```\r\n\r\n","title":"Is there a way to consume google play in-app products from backend server?","body":"<p>The <code>purchases.products.consume</code> of the Android Publisher V3 API could consume a purchase for an inapp item.</p>\n<p><a href=\"https://developers.google.com/android-publisher/api-ref/rest/v3/purchases.products/consume\" rel=\"nofollow noreferrer\">https://developers.google.com/android-publisher/api-ref/rest/v3/purchases.products/consume</a></p>\n<pre><code>POST https://androidpublisher.googleapis.com/androidpublisher/v3/applications/{packageName}/purchases/products/{productId}/tokens/{token}:consume\n</code></pre>\n"}],"owner":{"account_id":1513044,"reputation":391,"user_id":1414683,"display_name":"Pierre Merienne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4940,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":3,"score":24,"last_activity_date":1686305179,"creation_date":1395854491,"question_id":22668528,"body_markdown":"Consuming google play in-app products can easily be done from the client application (http://developer.android.com/google/play/billing/api.html#consume).\r\n\r\nHowever I can&#39;t find any information about doing this consume request from a backend server. The Purchase Status API (http://developer.android.com/google/play/billing/gp-purchase-status-api.html) is designed to be used from backend servers, however it doesn&#39;t provide any methods to consumes in-app products.\r\n\r\nIs there a way to consume google play in-app products from backend server?","title":"Is there a way to consume google play in-app products from backend server?","body":"<p>Consuming google play in-app products can easily be done from the client application (<a href=\"http://developer.android.com/google/play/billing/api.html#consume\">http://developer.android.com/google/play/billing/api.html#consume</a>).</p>\n\n<p>However I can't find any information about doing this consume request from a backend server. The Purchase Status API (<a href=\"http://developer.android.com/google/play/billing/gp-purchase-status-api.html\">http://developer.android.com/google/play/billing/gp-purchase-status-api.html</a>) is designed to be used from backend servers, however it doesn't provide any methods to consumes in-app products.</p>\n\n<p>Is there a way to consume google play in-app products from backend server?</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":16330540,"reputation":51,"user_id":11794001,"display_name":"PauAL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686304870,"creation_date":1686304870,"answer_id":76439198,"question_id":75362802,"body_markdown":"I was struggling with this until I read the method&#39;s documentation:\r\n\r\n&gt; Sets an additional predicate that should be true before the onException is triggered. &lt;p&gt;\r\nTo be used for fine grained controlling whether a thrown exception should be intercepted by this exception typeor not.\r\n\r\nThat may explain why you are able to see the exception details in the processor and not in the &quot;onWhen&quot; clause.\r\n\r\nHope it helps.\r\n\r\nRegards.","title":"Apache Camel - onWhen() predicate cannot retrieve EXCEPTION_CAUGHT, but in the processor it is present","body":"<p>I was struggling with this until I read the method's documentation:</p>\n<blockquote>\n<p>Sets an additional predicate that should be true before the onException is triggered. <p>\nTo be used for fine grained controlling whether a thrown exception should be intercepted by this exception typeor not.</p>\n</blockquote>\n<p>That may explain why you are able to see the exception details in the processor and not in the &quot;onWhen&quot; clause.</p>\n<p>Hope it helps.</p>\n<p>Regards.</p>\n"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439198,"answer_count":1,"score":0,"last_activity_date":1686304870,"creation_date":1675694687,"question_id":75362802,"body_markdown":"I cannot access caught exception in `onWhen(predicate)` after `doCatch()`, but I can see it in the processor in `doCatch()`. This is inconvenient when I want to define a finer-grained predicate in `onWhen()`. \r\n\r\n```java\r\ndoCatch(ProcessingException.class).onWhen(predicate) // &lt;&lt;&lt; here I cannot see exception\r\n    .process(MyProcessor.class) // &lt;&lt;&lt; here I see exception\r\n    ...\r\n```\r\n\r\n`exchange.getProperty(Exchange.EXCEPTION_CAUGHT, Exception.class)` returns null in the predicate. I see `exchange.getAllProperties()` does not contain the key. \r\n\r\nAny idea? Is it by design? Now I cannot decide enter catch processor or not depending on exception message. \r\n\r\n","title":"Apache Camel - onWhen() predicate cannot retrieve EXCEPTION_CAUGHT, but in the processor it is present","body":"<p>I cannot access caught exception in <code>onWhen(predicate)</code> after <code>doCatch()</code>, but I can see it in the processor in <code>doCatch()</code>. This is inconvenient when I want to define a finer-grained predicate in <code>onWhen()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>doCatch(ProcessingException.class).onWhen(predicate) // &lt;&lt;&lt; here I cannot see exception\n    .process(MyProcessor.class) // &lt;&lt;&lt; here I see exception\n    ...\n</code></pre>\n<p><code>exchange.getProperty(Exchange.EXCEPTION_CAUGHT, Exception.class)</code> returns null in the predicate. I see <code>exchange.getAllProperties()</code> does not contain the key.</p>\n<p>Any idea? Is it by design? Now I cannot decide enter catch processor or not depending on exception message.</p>\n"},{"tags":["java","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1686305834,"post_id":76439194,"comment_id":134783951,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1686305857,"post_id":76439194,"comment_id":134783955,"body_markdown":"Besides that, please also show us how `myRef` is defined.","body":"Besides that, please also show us how <code>myRef</code> is defined."}],"owner":{"account_id":28786530,"reputation":1,"user_id":22046875,"display_name":"nanamogus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686304846,"creation_date":1686304846,"question_id":76439194,"body_markdown":"I connected Firebase DataBase to my app via Firebase tool, and it has no problem writing data to database. However, I am facing a problem of not being able to read it. \r\n\r\nArrayList&lt;Event&gt; events is used to fill ListView, but hen using getValue(Event.class),event is null.\r\n\r\n```\r\n   myRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    Event event = dataSnapshot.getValue(Event.class);\r\n                    events.add(event);\r\n                }\r\n            }\r\n```\r\nEvent class\r\n\r\n```\r\npackage com.example.volunteer.classes;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class Event implements Serializable {\r\n    protected String title;\r\n    protected String location;\r\n    protected String desc;\r\n    private String host_username;\r\n    protected String reqs;\r\n    protected String event_img;\r\n    protected long date;\r\n    private String key;\r\n    public Event(){};\r\n\r\n    public void setKey(String key) {\r\n        this.key = key;\r\n    }\r\n\r\n    public Event(String title, String location, String desc, String host_username, String reqs, long date){\r\n        this.title = title;\r\n        this.location = location;\r\n        this.desc = desc;\r\n        this.host_username = host_username;\r\n        this.reqs = reqs;\r\n        this.date = date;\r\n    }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n It was supposed to fill ArrayList&lt;Event&gt; events with objects from Firebase, however debugger shows that it is empty.","title":"Firebase DataBase snapshot.getValue(.class) return null","body":"<p>I connected Firebase DataBase to my app via Firebase tool, and it has no problem writing data to database. However, I am facing a problem of not being able to read it.</p>\n<p>ArrayList events is used to fill ListView, but hen using getValue(Event.class),event is null.</p>\n<pre><code>   myRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\n                    Event event = dataSnapshot.getValue(Event.class);\n                    events.add(event);\n                }\n            }\n</code></pre>\n<p>Event class</p>\n<pre><code>package com.example.volunteer.classes;\n\nimport java.io.Serializable;\n\npublic class Event implements Serializable {\n    protected String title;\n    protected String location;\n    protected String desc;\n    private String host_username;\n    protected String reqs;\n    protected String event_img;\n    protected long date;\n    private String key;\n    public Event(){};\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    public Event(String title, String location, String desc, String host_username, String reqs, long date){\n        this.title = title;\n        this.location = location;\n        this.desc = desc;\n        this.host_username = host_username;\n        this.reqs = reqs;\n        this.date = date;\n    }\n\n    }\n}\n\n</code></pre>\n<p>It was supposed to fill ArrayList events with objects from Firebase, however debugger shows that it is empty.</p>\n"},{"tags":["java","build","eclipse-plugin","eclipse-pde","buckminster"],"answers":[{"tags":[],"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249209904,"creation_date":1249209904,"answer_id":1218643,"question_id":1211468,"body_markdown":"Buckminster sits on top of PDE build, so there&#39;s no getting away from PDE build in the near future.\r\n\r\nYou could try another free plug-in that sits on top of PDE build: [Plugin Builder][1] as it does the generation of the ANT XML and the nasty map file that PDE build requires.  It even has the extension for SVN-based map files as opposed to CSV.  I successfully setup Plugin Builder running from Hudson for my team&#39;s build needs.\r\n\r\nAnother alternative is to look at [Tycho][2] (Tycho is the OSGi/Eclipse related bit of the next version of Maven).  It is a work-in-progress and it does use PDE build under the covers.  I tried and failed with some experiments with Tycho, but they do have a recent new alpha/beta build, so you may have more success (and there are other people who are successfully using it).\r\n\r\n\r\n  [1]: http://www.pluginbuilder.org/\r\n  [2]: http://docs.codehaus.org/display/M2ECLIPSE/Tycho+user+docs","title":"Headless build of eclipse features - PDE Tools or Buckminster?","body":"<p>Buckminster sits on top of PDE build, so there's no getting away from PDE build in the near future.</p>\n\n<p>You could try another free plug-in that sits on top of PDE build: <a href=\"http://www.pluginbuilder.org/\" rel=\"nofollow noreferrer\">Plugin Builder</a> as it does the generation of the ANT XML and the nasty map file that PDE build requires.  It even has the extension for SVN-based map files as opposed to CSV.  I successfully setup Plugin Builder running from Hudson for my team's build needs.</p>\n\n<p>Another alternative is to look at <a href=\"http://docs.codehaus.org/display/M2ECLIPSE/Tycho+user+docs\" rel=\"nofollow noreferrer\">Tycho</a> (Tycho is the OSGi/Eclipse related bit of the next version of Maven).  It is a work-in-progress and it does use PDE build under the covers.  I tried and failed with some experiments with Tycho, but they do have a recent new alpha/beta build, so you may have more success (and there are other people who are successfully using it).</p>\n"},{"tags":[],"owner":{"account_id":1710,"reputation":18740,"user_id":2309,"accept_rate":79,"display_name":"Mario Orteg&#243;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249286153,"creation_date":1249286153,"answer_id":1221123,"question_id":1211468,"body_markdown":"The only problem I&#39;ve had with PDE build is the map file for checking out.  I wrote my own ant task to do the checkout for me using SVN, based on conventions on where the plugins are located, instead of having to explicitly state in the map file all the file paths.  Worked wonders and now I can just add plugins to my svn repository and refer to them in the feature.xml and it just works.","title":"Headless build of eclipse features - PDE Tools or Buckminster?","body":"<p>The only problem I've had with PDE build is the map file for checking out.  I wrote my own ant task to do the checkout for me using SVN, based on conventions on where the plugins are located, instead of having to explicitly state in the map file all the file paths.  Worked wonders and now I can just add plugins to my svn repository and refer to them in the feature.xml and it just works.</p>\n"},{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249287752,"creation_date":1249286960,"answer_id":1221162,"question_id":1211468,"body_markdown":"We&#39;re building using buckminster(check out, compiling, testing and byte obfuscation). I haven&#39;t tried a PDE-script, but if you have a complicated setup with a lot of dependencies on other libraries/projects I think buckminster will scale better.  ","title":"Headless build of eclipse features - PDE Tools or Buckminster?","body":"<p>We're building using buckminster(check out, compiling, testing and byte obfuscation). I haven't tried a PDE-script, but if you have a complicated setup with a lot of dependencies on other libraries/projects I think buckminster will scale better.  </p>\n"},{"tags":[],"owner":{"account_id":7492,"reputation":63517,"user_id":13051,"accept_rate":68,"display_name":"JesperE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273819068,"creation_date":1273819068,"answer_id":2832281,"question_id":1211468,"body_markdown":"I&#39;ve recently started to move our entire Eclipse build-infrastructure from PDE build to Buckminster, and I have mostly good things to say about Buckminster. While builds based on the PDE build scripts/templates tend to be very brittle and requires a large amount of surrounding infrastructure to work, Buckminster feels quite robust and does not require any significant additional scripting around it. Buckminster does take a while to get into, but thanks to the excellent documentation and the very helpful newsgroup, I was able to get a full build to work in a few days.\r\n\r\nBuckminster is what Eclipse should&#39;ve had from the very beginning to handle headless builds.\r\n","title":"Headless build of eclipse features - PDE Tools or Buckminster?","body":"<p>I've recently started to move our entire Eclipse build-infrastructure from PDE build to Buckminster, and I have mostly good things to say about Buckminster. While builds based on the PDE build scripts/templates tend to be very brittle and requires a large amount of surrounding infrastructure to work, Buckminster feels quite robust and does not require any significant additional scripting around it. Buckminster does take a while to get into, but thanks to the excellent documentation and the very helpful newsgroup, I was able to get a full build to work in a few days.</p>\n\n<p>Buckminster is what Eclipse should've had from the very beginning to handle headless builds.</p>\n"}],"owner":{"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2504,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1686304801,"creation_date":1249031447,"question_id":1211468,"body_markdown":"I am trying to set up a headless build for a big eclipse feature, containing other features and plugins. \r\n\r\nAs some needed plugins are generated using GMF and EMF, the build workflow must be something like this: \r\n\r\n 1. SVN Check-out\r\n 2. Invoke Generation\r\n 3. Run Tests\r\n 4. Build all\r\n 5. Publish update-site\r\n\r\nOver the last couple of weeks, i played around with PDE Headless Build and Buckminster. Anyhow i still got problems with both and can&#39;t decide on which i should spent my effort.\r\n\r\nSo what would you prefer? What experience you made? Anybody out there who needed to set up  a similiar workflow before?\r\n\r\nThank you for all answers :)","title":"Headless build of eclipse features - PDE Tools or Buckminster?","body":"<p>I am trying to set up a headless build for a big eclipse feature, containing other features and plugins. </p>\n\n<p>As some needed plugins are generated using GMF and EMF, the build workflow must be something like this: </p>\n\n<ol>\n<li>SVN Check-out</li>\n<li>Invoke Generation</li>\n<li>Run Tests</li>\n<li>Build all</li>\n<li>Publish update-site</li>\n</ol>\n\n<p>Over the last couple of weeks, i played around with PDE Headless Build and Buckminster. Anyhow i still got problems with both and can't decide on which i should spent my effort.</p>\n\n<p>So what would you prefer? What experience you made? Anybody out there who needed to set up  a similiar workflow before?</p>\n\n<p>Thank you for all answers :)</p>\n"},{"tags":["java","optaplanner","timefold"],"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1685551847,"post_id":76373547,"comment_id":134677366,"body_markdown":"If you can run the solver once, what prevents you running it a second time? If you can run it in one thread, what prevents you from running two threads? I probably do not understand the question well enough.","body":"If you can run the solver once, what prevents you running it a second time? If you can run it in one thread, what prevents you from running two threads? I probably do not understand the question well enough."},{"owner":{"account_id":8982434,"reputation":11,"user_id":10404707,"display_name":"meisner97"},"score":0,"creation_date":1686255641,"post_id":76373547,"comment_id":134777897,"body_markdown":"@Luk&#225;šPetrovick&#253; I want to provide end user with recommendations to tweak some variables so that the planner can give them acceptable results.","body":"@Luk&#225;šPetrovick&#253; I want to provide end user with recommendations to tweak some variables so that the planner can give them acceptable results."}],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686303673,"creation_date":1686303673,"answer_id":76439054,"question_id":76373547,"body_markdown":"There is no functionality for this in OptaPlanner or [Timefold][1] (yet).\r\n\r\nThat said, nothing prevents you from making the change to the data set and running the solver again. You can use [SolverManager][2] to execute multiple solvers at the same time. It is then up to you how you present the results to the user.\r\n\r\n\r\n  [1]: https://timefold.ai/blog/2023/optaplanner-fork/\r\n  [2]: https://timefold.ai/docs/timefold-solver/latest/configuration/configuration.html#solverManager","title":"Is there any way to modify a problem with change in variables in opta planner and run it in parallel with the original one","body":"<p>There is no functionality for this in OptaPlanner or <a href=\"https://timefold.ai/blog/2023/optaplanner-fork/\" rel=\"nofollow noreferrer\">Timefold</a> (yet).</p>\n<p>That said, nothing prevents you from making the change to the data set and running the solver again. You can use <a href=\"https://timefold.ai/docs/timefold-solver/latest/configuration/configuration.html#solverManager\" rel=\"nofollow noreferrer\">SolverManager</a> to execute multiple solvers at the same time. It is then up to you how you present the results to the user.</p>\n"}],"owner":{"account_id":8982434,"reputation":11,"user_id":10404707,"display_name":"meisner97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439054,"answer_count":1,"score":0,"last_activity_date":1686303694,"creation_date":1685536503,"question_id":76373547,"body_markdown":"For instance if we have a problem statement to schedule number of rooms to a group of people for a specific time(in minutes) for a given length of day(in hours).\r\n\r\nI&#39;m setting the configuration so as to say that the perfect job would result in 0 hard score. Let&#39;s say due to some complications the scheduler could not find a perfect solution with 0 hard score, is it possible for me to run a parallel scheduling job with some change in variables i.e. increasing the length of the day by 1 hour or reducing the time 1 group can have the room for or increasing the number of rooms.\r\n\r\nIs it possible to run parallel scheduling jobs in case the original job cannot provide a solution with 0 hard score?\r\n\r\nThanks.","title":"Is there any way to modify a problem with change in variables in opta planner and run it in parallel with the original one","body":"<p>For instance if we have a problem statement to schedule number of rooms to a group of people for a specific time(in minutes) for a given length of day(in hours).</p>\n<p>I'm setting the configuration so as to say that the perfect job would result in 0 hard score. Let's say due to some complications the scheduler could not find a perfect solution with 0 hard score, is it possible for me to run a parallel scheduling job with some change in variables i.e. increasing the length of the day by 1 hour or reducing the time 1 group can have the room for or increasing the number of rooms.</p>\n<p>Is it possible to run parallel scheduling jobs in case the original job cannot provide a solution with 0 hard score?</p>\n<p>Thanks.</p>\n"},{"tags":["java","mongodb","spring-boot","query-by-example"],"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1624441796,"post_id":68095404,"comment_id":120358096,"body_markdown":"Can you add an example how you perform the search now?","body":"Can you add an example how you perform the search now?"},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1624442200,"post_id":68095404,"comment_id":120358260,"body_markdown":"at your service.","body":"at your service."}],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624442728,"creation_date":1624442728,"answer_id":68097721,"question_id":68095404,"body_markdown":"This should work by definining ExampleMatcher of your own:\r\n\r\n    ExampleMatcher exampleMatcher = ExampleMatcher.matchingAll();\r\n\r\nThen query would be like:\r\n\r\n    repository.findAll(\r\n        Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, null, null)), exampleMatcher));\r\n\r\nSee [API docs](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html#matchingAll--):\r\n\r\n&gt; Create a new ExampleMatcher _**including all non-null properties**_ by default matching all predicates derived from the example.","title":"How to use Example Matcher with nested fields not fully filled","body":"<p>This should work by definining ExampleMatcher of your own:</p>\n<pre><code>ExampleMatcher exampleMatcher = ExampleMatcher.matchingAll();\n</code></pre>\n<p>Then query would be like:</p>\n<pre><code>repository.findAll(\n    Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, null, null)), exampleMatcher));\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html#matchingAll--\" rel=\"nofollow noreferrer\">API docs</a>:</p>\n<blockquote>\n<p>Create a new ExampleMatcher <em><strong>including all non-null properties</strong></em> by default matching all predicates derived from the example.</p>\n</blockquote>\n"}],"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68097721,"answer_count":1,"score":0,"last_activity_date":1686303238,"creation_date":1624433326,"question_id":68095404,"body_markdown":"I&#39;ve got the following structure:\r\n\r\n    @Document\r\n    class A {\r\n    String value1;\r\n    B b;\r\n    }\r\n    \r\n    class B {\r\n    String value1;\r\n    String value2;\r\n    Integer value3;\r\n    }\r\n\r\nThen I save a document with the following values:\r\n\r\n    {\r\n    value1: &quot;val&quot;,\r\n    b: {\r\n    value1: &quot;val1&quot;,\r\n    value2: &quot;val2&quot;\r\n    value3: 156\r\n    }\r\n    }\r\n\r\nWhen I create an example with both values in B filled I get a match, when I fill only A.value1 and B.value1 I don&#39;t get a match. How can I make the match ingore null values in nested fields?\r\n\r\nSearch:\r\n\r\n    repository.findAll(Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, null, null)))\r\n\r\nDoesn&#39;t match because some of the B fields are not filled.\r\n\r\nSearch:\r\n\r\n    repository.findAll(Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, &quot;val2&quot;, 156)))\r\n\r\nMatches as all the fields are filled.","title":"How to use Example Matcher with nested fields not fully filled","body":"<p>I've got the following structure:</p>\n<pre><code>@Document\nclass A {\nString value1;\nB b;\n}\n\nclass B {\nString value1;\nString value2;\nInteger value3;\n}\n</code></pre>\n<p>Then I save a document with the following values:</p>\n<pre><code>{\nvalue1: &quot;val&quot;,\nb: {\nvalue1: &quot;val1&quot;,\nvalue2: &quot;val2&quot;\nvalue3: 156\n}\n}\n</code></pre>\n<p>When I create an example with both values in B filled I get a match, when I fill only A.value1 and B.value1 I don't get a match. How can I make the match ingore null values in nested fields?</p>\n<p>Search:</p>\n<pre><code>repository.findAll(Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, null, null)))\n</code></pre>\n<p>Doesn't match because some of the B fields are not filled.</p>\n<p>Search:</p>\n<pre><code>repository.findAll(Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, &quot;val2&quot;, 156)))\n</code></pre>\n<p>Matches as all the fields are filled.</p>\n"},{"tags":["java","android","kotlin","permissions"],"comments":[{"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"score":1,"creation_date":1545482653,"post_id":53895647,"comment_id":94637288,"body_markdown":"use this for request permission its awesome  https://stackoverflow.com/a/49201404/9130109","body":"use this for request permission its awesome  <a href=\"https://stackoverflow.com/a/49201404/9130109\">stackoverflow.com/a/49201404/9130109</a>"}],"answers":[{"tags":[],"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545482109,"creation_date":1545482109,"answer_id":53895707,"question_id":53895647,"body_markdown":"The method `shouldShowRequestPermissionRationale` returns true if it is required to explain the user why the permission is required. In the first time the permission is requested, this method returns **false**.\r\n\r\nBut if the user denies the permission once, when the permission is requested another time, this method returns **true** because it might be a good idea to explain the user why this permission is required for the app.\r\n\r\nWhen the permission is already granted, this method will return **false**.\r\n\r\nSo a good practice would be to first check what this method returns and if it is required to explain to the user, explain it using a dialog or something followed by requesting the permission, otherwise ask the permission directly.\r\n\r\nYou can also have a look at my [library][1] which ease up this whole process and other processes regarding run-time permissions. \r\n\r\n\r\n  [1]: https://github.com/nabinbhandari/Android-Permissions","title":"why shouldShowRequestPermissionRationale not work?","body":"<p>The method <code>shouldShowRequestPermissionRationale</code> returns true if it is required to explain the user why the permission is required. In the first time the permission is requested, this method returns <strong>false</strong>.</p>\n\n<p>But if the user denies the permission once, when the permission is requested another time, this method returns <strong>true</strong> because it might be a good idea to explain the user why this permission is required for the app.</p>\n\n<p>When the permission is already granted, this method will return <strong>false</strong>.</p>\n\n<p>So a good practice would be to first check what this method returns and if it is required to explain to the user, explain it using a dialog or something followed by requesting the permission, otherwise ask the permission directly.</p>\n\n<p>You can also have a look at my <a href=\"https://github.com/nabinbhandari/Android-Permissions\" rel=\"nofollow noreferrer\">library</a> which ease up this whole process and other processes regarding run-time permissions. </p>\n"},{"tags":[],"owner":{"account_id":4783927,"reputation":13,"user_id":3864976,"display_name":"cracktichi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686303092,"creation_date":1686303092,"answer_id":76438980,"question_id":53895647,"body_markdown":"Addition info:\r\n*Some case must use correct mapping permission requested and permission use to check shouldShowRequestPermissionRationale.*\r\n\r\nIn my case, I had used permission &quot;granular media permissions&quot; of Android 13 (READ_MEDIA_IMAGES/READ_MEDIA_AUDIO/READ_MEDIA_VIDEO) on device Android 10 and function **shouldShowRequestPermissionRationale** alway return **false**.\r\n\r\nWhen i try use READ_EXTERNAL_STORAGE, it&#39; working and return true when use not have choose &quot;Never ask again&quot;\r\n\r\nSo let try old basicly permission before try another permission.\r\n\r\nGood luck!","title":"why shouldShowRequestPermissionRationale not work?","body":"<p>Addition info:\n<em>Some case must use correct mapping permission requested and permission use to check shouldShowRequestPermissionRationale.</em></p>\n<p>In my case, I had used permission &quot;granular media permissions&quot; of Android 13 (READ_MEDIA_IMAGES/READ_MEDIA_AUDIO/READ_MEDIA_VIDEO) on device Android 10 and function <strong>shouldShowRequestPermissionRationale</strong> alway return <strong>false</strong>.</p>\n<p>When i try use READ_EXTERNAL_STORAGE, it' working and return true when use not have choose &quot;Never ask again&quot;</p>\n<p>So let try old basicly permission before try another permission.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":6153574,"reputation":11374,"user_id":4797289,"display_name":"Rasoul Miri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686303092,"creation_date":1545481694,"question_id":53895647,"body_markdown":"how can use **shouldShowRequestPermissionRationale** before call permission and use in Activity. \r\n\r\nbecause before ActivityCompat.requestPermissions this return false\r\n\r\n    if(ActivityCompat.shouldShowRequestPermissionRationale(context,permission)){\r\n        // true\r\n    }else{\r\n        // false (always false)\r\n    }","title":"why shouldShowRequestPermissionRationale not work?","body":"<p>how can use <strong>shouldShowRequestPermissionRationale</strong> before call permission and use in Activity. </p>\n\n<p>because before ActivityCompat.requestPermissions this return false</p>\n\n<pre><code>if(ActivityCompat.shouldShowRequestPermissionRationale(context,permission)){\n    // true\n}else{\n    // false (always false)\n}\n</code></pre>\n"},{"tags":["java","spring-boot","user-interface","vaadin","footer"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686288041,"creation_date":1686283190,"answer_id":76437121,"question_id":76434788,"body_markdown":"Footer is not a feature in AppLayout. You have two options.\r\n\r\n1. Do not use AppLayout, but create your own custom layout by composing layout components to achieve the desired result. I.e. implement RouterLayout interface and showRouterLayoutContent methods. This approach will allow you to do what ever you want.\r\n\r\n2. You can also do the above so that you use AppLayout in the composition as a building block instead of extending it.\r\n\r\nSee also: https://stackoverflow.com/questions/72543362/vaadin-14-adding-footer-application-wide-to-applayout\r\n","title":"Add footer using Vaadin framework","body":"<p>Footer is not a feature in AppLayout. You have two options.</p>\n<ol>\n<li><p>Do not use AppLayout, but create your own custom layout by composing layout components to achieve the desired result. I.e. implement RouterLayout interface and showRouterLayoutContent methods. This approach will allow you to do what ever you want.</p>\n</li>\n<li><p>You can also do the above so that you use AppLayout in the composition as a building block instead of extending it.</p>\n</li>\n</ol>\n<p>See also: <a href=\"https://stackoverflow.com/questions/72543362/vaadin-14-adding-footer-application-wide-to-applayout\">Vaadin 14: Adding Footer application-wide to AppLayout</a></p>\n"},{"tags":[],"owner":{"account_id":17267487,"reputation":3,"user_id":12503874,"display_name":"Juergen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302907,"creation_date":1686302762,"answer_id":76438939,"question_id":76434788,"body_markdown":"I had the same issue. You can try this:\r\n\r\n    public class CustomLayout extends VerticalLayout implements AfterNavigationObserver, RouterLayout {\r\n    AppLayout navigation;\r\n    Div container = new Div();\r\n    Div footer = new Div();\r\n\r\n    public CustomLayout(AuthenticatedUser authenticatedUser, AccessAnnotationChecker accessChecker) {\r\n        setSpacing(false);\r\n        navigation = new Navigation(authenticatedUser, accessChecker);\r\n\r\n        container.setSizeFull();\r\n\r\n        add(navigation, container, footer);\r\n        footer.add(new Text(&quot;I&#39;m a fixed footer!&quot;));\r\n    }\r\n\r\n    public void showRouterLayoutContent(HasElement content) {\r\n        container.removeAll();\r\n        container.getElement().setChild(0, content.getElement());\r\n    }\r\n\r\n    @Override\r\n    public void afterNavigation(AfterNavigationEvent event) {\r\n        getElement().scrollIntoView();\r\n    }\r\n}\r\n\r\n\r\nAnd then inside your Views just add this:\r\n\r\n    @Route(value = &quot;your-route-path&quot;, layout = CustomLayout.class)\r\n","title":"Add footer using Vaadin framework","body":"<p>I had the same issue. You can try this:</p>\n<pre><code>public class CustomLayout extends VerticalLayout implements AfterNavigationObserver, RouterLayout {\nAppLayout navigation;\nDiv container = new Div();\nDiv footer = new Div();\n\npublic CustomLayout(AuthenticatedUser authenticatedUser, AccessAnnotationChecker accessChecker) {\n    setSpacing(false);\n    navigation = new Navigation(authenticatedUser, accessChecker);\n\n    container.setSizeFull();\n\n    add(navigation, container, footer);\n    footer.add(new Text(&quot;I'm a fixed footer!&quot;));\n}\n\npublic void showRouterLayoutContent(HasElement content) {\n    container.removeAll();\n    container.getElement().setChild(0, content.getElement());\n}\n\n@Override\npublic void afterNavigation(AfterNavigationEvent event) {\n    getElement().scrollIntoView();\n}\n</code></pre>\n<p>}</p>\n<p>And then inside your Views just add this:</p>\n<pre><code>@Route(value = &quot;your-route-path&quot;, layout = CustomLayout.class)\n</code></pre>\n"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686302907,"creation_date":1686249331,"question_id":76434788,"body_markdown":"I want to add a footer using vaadin framework, and I don&#39;t want to add it for all pages. With header everything was easy to set, but I don&#39;t find any up-to-date documentation on how to add also a footer on all pages.\r\n\r\n\r\n```\r\npublic class MainLayout extends AppLayout {\r\n\r\n    public MainLayout() {\r\n        addHeader();\r\n        addFooter();\r\n    }\r\n\r\n    private void addHeader() {\r\n        Text text = new Text(&quot;This is a header&quot;);\r\n\r\n        HorizontalLayout header = new HorizontalLayout(text);\r\n        header.setWidth(&quot;100%&quot;);\r\n        header.setDefaultVerticalComponentAlignment(FlexComponent.Alignment.CENTER);\r\n\r\n        addToNavbar(header);\r\n    }\r\n\r\n    private void addFooter() {\r\n        Text text = new Text(&quot;This is a footer&quot;);\r\n\r\n        HorizontalLayout footer = new HorizontalLayout(text);\r\n        footer.setWidth(&quot;100%&quot;);\r\n        footer.setDefaultVerticalComponentAlignment(FlexComponent.Alignment.CENTER);\r\n        \r\n        // Missing method to add footer like for header\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI also tried implementing it as an extension for MainLayout and still doesn&#39;t show the footer\r\n\r\n\r\n```\r\n@ParentLayout(MainLayout.class)\r\npublic class FooterLayout extends VerticalLayout implements RouterLayout {\r\n\r\n    private final Div container = new Div();\r\n\r\n    public FooterLayout() {\r\n        Div footer = new Div();\r\n        add(container, footer);\r\n        footer.add(new Text(&quot;I&#39;m a fixed footer!&quot;));\r\n        add(footer);\r\n    }\r\n\r\n    public void showRouterLayoutContent(HasElement content) {\r\n        container.removeAll();\r\n        container.getElement().setChild(0, content.getElement());\r\n    }\r\n}\r\n```\r\n\r\nAre there any solutions for my problem ? The main idea is that header and footer should be on every page that uses MainLayout\r\n","title":"Add footer using Vaadin framework","body":"<p>I want to add a footer using vaadin framework, and I don't want to add it for all pages. With header everything was easy to set, but I don't find any up-to-date documentation on how to add also a footer on all pages.</p>\n<pre><code>public class MainLayout extends AppLayout {\n\n    public MainLayout() {\n        addHeader();\n        addFooter();\n    }\n\n    private void addHeader() {\n        Text text = new Text(&quot;This is a header&quot;);\n\n        HorizontalLayout header = new HorizontalLayout(text);\n        header.setWidth(&quot;100%&quot;);\n        header.setDefaultVerticalComponentAlignment(FlexComponent.Alignment.CENTER);\n\n        addToNavbar(header);\n    }\n\n    private void addFooter() {\n        Text text = new Text(&quot;This is a footer&quot;);\n\n        HorizontalLayout footer = new HorizontalLayout(text);\n        footer.setWidth(&quot;100%&quot;);\n        footer.setDefaultVerticalComponentAlignment(FlexComponent.Alignment.CENTER);\n        \n        // Missing method to add footer like for header\n    }\n    \n}\n</code></pre>\n<p>I also tried implementing it as an extension for MainLayout and still doesn't show the footer</p>\n<pre><code>@ParentLayout(MainLayout.class)\npublic class FooterLayout extends VerticalLayout implements RouterLayout {\n\n    private final Div container = new Div();\n\n    public FooterLayout() {\n        Div footer = new Div();\n        add(container, footer);\n        footer.add(new Text(&quot;I'm a fixed footer!&quot;));\n        add(footer);\n    }\n\n    public void showRouterLayoutContent(HasElement content) {\n        container.removeAll();\n        container.getElement().setChild(0, content.getElement());\n    }\n}\n</code></pre>\n<p>Are there any solutions for my problem ? The main idea is that header and footer should be on every page that uses MainLayout</p>\n"},{"tags":["java","spring-boot","hibernate","stored-procedures","error-handling"],"owner":{"account_id":28786128,"reputation":1,"user_id":22046551,"display_name":"Steve Bang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686302705,"creation_date":1686301592,"question_id":76438799,"body_markdown":"My store procedure will request is:\r\n\r\n- @USER_ID BIGINT,\r\n- @Country_Name VARCHAR(15)= NULL,\r\n- @ZONE BIT= NULL,\r\n- @STATUS BIT= 1,\r\n- @All_Rows INT OUTPUT\r\n\r\nAnd result is:\r\n\r\n     COUNTRY_ID | CONTRY_NAME | ZONE | STATUS | CACULATE_FIELD |\r\n\r\nAnd a output\r\n\r\nI call this function is:\r\n`DECLARE @All_Rows INT; usp_GetALLByUser_Id @User_ID = 201, @All_Rows = @All_Rows OUTPUT, SELECT @All_Rows;`\r\n\r\nWhen I get result in java code:\r\n\r\n    public List&lt;Contry&gt; getAllCommunitiesByUserId(Long userId) {\r\n    \r\n        StoredProcedureQuery storedProcedure = entityManager\r\n                .createStoredProcedureQuery(&quot;usp_GetAllCountry);\r\n    \r\n            storedProcedure.registerStoredProcedureParameter(&quot;User_ID&quot;, Long.class,  ParameterMode.IN);\r\n            storedProcedure.registerStoredProcedureParameter(&quot;All_Rows&quot;, Integer.class,     ParameterMode.OUT);\r\n            // Set input parameter values\r\n           storedProcedure.setParameter(&quot;User_ID&quot;, userId);\r\n            // Execute the stored procedure\r\n            storedProcedure.execute();\r\n            Object object = storedProcedure.getOutputParameterValue(&quot;All_Rows&quot;);\r\n    \r\n            // Get the output parameter value\r\n            List&lt;Object[]&gt; list = storedProcedure.getResultList();\r\n    \r\n    \r\n            return null;\r\n    }\r\n\r\nWhen I run the application, and call this function, this error is:\r\n*com.microsoft.sqlserver.jdbc.SQLServerException: The index 5 is out of range.*\r\n*Error preparing registered callable parameter*\r\n\r\nI hope any one can see this post and help me to resolve for this isue. Thannks for all.","title":"How to handle the multiple result and get the output paramater from a Store Procedure in java?","body":"<p>My store procedure will request is:</p>\n<ul>\n<li>@USER_ID BIGINT,</li>\n<li>@Country_Name VARCHAR(15)= NULL,</li>\n<li>@ZONE BIT= NULL,</li>\n<li>@STATUS BIT= 1,</li>\n<li>@All_Rows INT OUTPUT</li>\n</ul>\n<p>And result is:</p>\n<pre><code> COUNTRY_ID | CONTRY_NAME | ZONE | STATUS | CACULATE_FIELD |\n</code></pre>\n<p>And a output</p>\n<p>I call this function is:\n<code>DECLARE @All_Rows INT; usp_GetALLByUser_Id @User_ID = 201, @All_Rows = @All_Rows OUTPUT, SELECT @All_Rows;</code></p>\n<p>When I get result in java code:</p>\n<pre><code>public List&lt;Contry&gt; getAllCommunitiesByUserId(Long userId) {\n\n    StoredProcedureQuery storedProcedure = entityManager\n            .createStoredProcedureQuery(&quot;usp_GetAllCountry);\n\n        storedProcedure.registerStoredProcedureParameter(&quot;User_ID&quot;, Long.class,  ParameterMode.IN);\n        storedProcedure.registerStoredProcedureParameter(&quot;All_Rows&quot;, Integer.class,     ParameterMode.OUT);\n        // Set input parameter values\n       storedProcedure.setParameter(&quot;User_ID&quot;, userId);\n        // Execute the stored procedure\n        storedProcedure.execute();\n        Object object = storedProcedure.getOutputParameterValue(&quot;All_Rows&quot;);\n\n        // Get the output parameter value\n        List&lt;Object[]&gt; list = storedProcedure.getResultList();\n\n\n        return null;\n}\n</code></pre>\n<p>When I run the application, and call this function, this error is:\n<em>com.microsoft.sqlserver.jdbc.SQLServerException: The index 5 is out of range.</em>\n<em>Error preparing registered callable parameter</em></p>\n<p>I hope any one can see this post and help me to resolve for this isue. Thannks for all.</p>\n"},{"tags":["java","pdf","itext","pdfbox","itext7"],"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686302485,"creation_date":1686294961,"question_id":76438025,"body_markdown":"I have a requirement where I need to flatten all the annotations present in the PDF. I&#39;m trying to loop through all the stamp annotations and then adding that annotation as an image in PDF directly. The code I&#39;m using is working fine for normal PDFs, but it is failing for rotated page PDFs. \r\nBelow is the code I&#39;m using to add stamp annotations to the PDF :\r\n\r\n``` \r\n        String dest = &quot;ITEXT_NEW_DOC.pdf&quot;;       \r\n\t      PdfWriter writer = new PdfWriter(dest); \r\n\t      PdfDocument pdfDoc = new PdfDocument(writer);              \r\n\t      PdfPage page = pdfDoc.addNewPage();               \r\n\t      page.setRotation(0);\r\n\t      Document document = new Document(pdfDoc);               \r\n\t      document.add(new Paragraph(&quot;Hello world, this is a test pdf file.&quot;));\r\n\t      document.close();\r\n\r\n\t\tPdfReader reader1 = new PdfReader(new File(dest));\r\n\t\tPdfDocument doc = new PdfDocument(reader1, new PdfWriter(&quot;ITEXT_STAMP_ADDED.pdf&quot;), new StampingProperties().useAppendMode());\r\n\t\tString filePath = &quot;new_rectangle.png&quot;;\r\n\r\n\t\tImageData img = ImageDataFactory.create(filePath);\r\n        PdfFormXObject xObj = new PdfFormXObject(new Rectangle(img.getWidth(), img.getHeight()));\r\n        if (rotation == 90) \r\n\t\t{\r\n\t\t\txObj.put(PdfName.Matrix, new PdfArray(new int[]{0, 1, -1, 0, 0, 0}));\r\n\t\t}\r\n\t\telse if(rotation == 270)\r\n\t\t{\r\n\t\t\txObj.put(PdfName.Matrix, new PdfArray(new int[]{0,  -1, 1, 0, 0, 0}));\r\n\t\t}\r\n\t\telse if (rotation == 180) \r\n\t\t{\r\n\t\t\txObj.put(PdfName.Matrix, new PdfArray(new int[]{-1, 0, 0, -1, 0, 0}));\r\n\t\t}\r\n\t\tRectangle rect = new Rectangle(0,0,300,250);\r\n        PdfCanvas canvas = new PdfCanvas(xObj, doc);\r\n        canvas.addImageAt(img, 0, 0,false);\r\n        PdfStampAnnotation stamp = new PdfStampAnnotation(rect);\r\n        stamp.setNormalAppearance(xObj.getPdfObject());\r\n        int flag = PdfAnnotation.LOCKED_CONTENTS | PdfAnnotation.READ_ONLY\r\n                | PdfAnnotation.LOCKED | PdfAnnotation.PRINT ;\r\n        stamp.setFlags(flag);\r\n        stamp.setName(new PdfString(&quot;TestStamp1&quot;));\r\n        doc.getPage(1).addAnnotation(stamp);\r\n\r\n\t\tImageData img1 = ImageDataFactory.create(filePath);\r\n        PdfFormXObject xObj1 = new PdfFormXObject(new Rectangle(img1.getWidth(), img1.getHeight()));\r\n        if (rotation == 90) \r\n\t\t{\r\n        \txObj1.put(PdfName.Matrix, new PdfArray(new int[]{0, 1, -1, 0, 0, 0}));\r\n\t\t}\r\n\t\telse if(rotation == 270)\r\n\t\t{\r\n\t\t\txObj1.put(PdfName.Matrix, new PdfArray(new int[]{0,  -1, 1, 0, 0, 0}));\r\n\t\t}\r\n\t\telse if (rotation == 180) \r\n\t\t{\r\n\t\t\txObj1.put(PdfName.Matrix, new PdfArray(new int[]{-1, 0, 0, -1, 0, 0}));\r\n\t\t}\r\n\t\tRectangle rect1 = new Rectangle(100,400,300,250);\r\n        PdfCanvas canvas1 = new PdfCanvas(xObj1, doc);\r\n        canvas1.addImageAt(img1, 0, 0,false);\r\n        PdfStampAnnotation stamp1 = new PdfStampAnnotation(rect1);\r\n        stamp1.setNormalAppearance(xObj1.getPdfObject());\r\n        int flag1 = PdfAnnotation.LOCKED_CONTENTS | PdfAnnotation.READ_ONLY\r\n                | PdfAnnotation.LOCKED | PdfAnnotation.PRINT ;\r\n        stamp1.setFlags(flag1);\r\n        stamp1.setName(new PdfString(&quot;TestStamp2&quot;));\r\n        doc.getPage(1).addAnnotation(stamp1);\r\n\r\n        \r\n        doc.close();\r\n\t\r\n        System.out.println(&quot;COMPLETED&quot;);\r\n```\r\n\r\nOnce the stamp added PDF is created, I&#39;m using the below code to flatten them:\r\n\r\n```\r\n\r\n\t\t  String src=&quot;ITEXT_STAMP_ADDED.pdf&quot;;\r\n\t\t  String dest=&quot;ITEXT_STAMP_FLATTENED.pdf&quot;;\r\n\t        PdfDocument pdfDocument = new PdfDocument(new PdfReader(src), new PdfWriter(dest));\r\n\t        Document document = new Document(pdfDocument);\r\n\r\n\t        for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) \r\n\t        {\r\n\t            PdfPage page = pdfDocument.getPage(i);\r\n\t            PdfCanvas canvas = new PdfCanvas(page);\r\n\t            List&lt;PdfAnnotation&gt; annotations = page.getAnnotations();\r\n\t            for (PdfAnnotation annot : annotations) \r\n\t            {\r\n\t            \tif(annot instanceof PdfStampAnnotation)\r\n\t            \t{\r\n\t            \t\tPdfDictionary appearanceObject = annot.getAppearanceObject(PdfName.N);\r\n\t            \t\tif (appearanceObject != null) \r\n\t            \t\t{\r\n\t            \t\t\tPdfFormXObject appearanceXObj = new PdfFormXObject((PdfStream) appearanceObject.clone());\r\n\t            \t\t\tRectangle rect = annot.getRectangle().toRectangle();\r\n\t            \t\t\tcanvas.addXObjectFittedIntoRectangle(appearanceXObj, rect);\r\n//using addXObject was not working at all, so used fit into rectangle.\r\n//\t                    canvas.addXObject(appearanceXObj, rect.getX(), rect.getY());\r\n\t            \t\t\tpage.removeAnnotation(annot);\r\n\t            \t\t}\r\n\t            \t}\r\n\t            }\r\n\t        }\r\n\t        //Flatten the acroform\r\n\t        PdfAcroForm form = PdfAcroForm.getAcroForm(pdfDocument, true);\r\n\t        form.flattenFields();\r\n\t        document.close();\r\n\t        System.out.println(&quot;COMPLETED&quot;);\t  \r\n```\r\n\r\nThe above code is fine for normal pdfs, but for rotated PDFs this isn&#39;t working fine. I&#39;m getting the rotated images in the resulting PDF. Can anyone let us know what can be done so that the input PDF and the resulting PDF should looks same?\r\n\r\nI&#39;m even ok with using PDFBox to achieve this.\r\n\r\nAttaching the files generated and images used:\r\n\r\n[new_rectangle.png][1]\r\n\r\n[ITEXT_0_STAMP_ADDED.pdf][4]\r\n\r\n[ITEXT_0_STAMP_FLATTENED.pdf][3]\r\n\r\n[ITEXT_180_STAMP_ADDED.pdf][7]\r\n\r\n[ITEXT_180_STAMP_FLATTENED.pdf][5]\r\n\r\n[ITEXT_270_STAMP_ADDED.pdf][2]\r\n\r\n[ITEXT_270_STAMP_FLATTENED.pdf][6]\r\n\r\n\r\nAll the above code is in IText-7.2.3 version.\r\n\r\n  [1]: https://drive.google.com/file/d/1IDHzR3Qkao99B0XjHeodPNTKhLxegBtx/view?usp=sharing\r\n  [2]: https://drive.google.com/file/d/1KXy29tm-wkGQs5Kt81a5aAlk9MQRxkSm/view?usp=sharing\r\n  [3]: https://drive.google.com/file/d/1MZNxmXe2gYZTcfjVJ02hGAyhOO2RdsSL/view?usp=sharing\r\n  [4]: https://drive.google.com/file/d/1QqxVf_wRePpJxDyq8vhQxUH83e7bP1zS/view?usp=sharing\r\n  [5]: https://drive.google.com/file/d/1XPd0TZQTFrwUSUcUiEPRI4E7tVTIoG5f/view?usp=sharing\r\n  [6]: https://drive.google.com/file/d/1aoBxTVaxTk_0OVHmq5ZA4QeEbV--hioU/view?usp=sharing\r\n  [7]: https://drive.google.com/file/d/1lhzDjoLclP2BgcgdiH07MJES3JxfCXL9/view?usp=sharing","title":"Issue while flattening annotations in a pdf using Itext or PDFBox. Currently I&#39;m trying using IText 7.2.3","body":"<p>I have a requirement where I need to flatten all the annotations present in the PDF. I'm trying to loop through all the stamp annotations and then adding that annotation as an image in PDF directly. The code I'm using is working fine for normal PDFs, but it is failing for rotated page PDFs.\nBelow is the code I'm using to add stamp annotations to the PDF :</p>\n<pre><code>        String dest = &quot;ITEXT_NEW_DOC.pdf&quot;;       \n          PdfWriter writer = new PdfWriter(dest); \n          PdfDocument pdfDoc = new PdfDocument(writer);              \n          PdfPage page = pdfDoc.addNewPage();               \n          page.setRotation(0);\n          Document document = new Document(pdfDoc);               \n          document.add(new Paragraph(&quot;Hello world, this is a test pdf file.&quot;));\n          document.close();\n\n        PdfReader reader1 = new PdfReader(new File(dest));\n        PdfDocument doc = new PdfDocument(reader1, new PdfWriter(&quot;ITEXT_STAMP_ADDED.pdf&quot;), new StampingProperties().useAppendMode());\n        String filePath = &quot;new_rectangle.png&quot;;\n\n        ImageData img = ImageDataFactory.create(filePath);\n        PdfFormXObject xObj = new PdfFormXObject(new Rectangle(img.getWidth(), img.getHeight()));\n        if (rotation == 90) \n        {\n            xObj.put(PdfName.Matrix, new PdfArray(new int[]{0, 1, -1, 0, 0, 0}));\n        }\n        else if(rotation == 270)\n        {\n            xObj.put(PdfName.Matrix, new PdfArray(new int[]{0,  -1, 1, 0, 0, 0}));\n        }\n        else if (rotation == 180) \n        {\n            xObj.put(PdfName.Matrix, new PdfArray(new int[]{-1, 0, 0, -1, 0, 0}));\n        }\n        Rectangle rect = new Rectangle(0,0,300,250);\n        PdfCanvas canvas = new PdfCanvas(xObj, doc);\n        canvas.addImageAt(img, 0, 0,false);\n        PdfStampAnnotation stamp = new PdfStampAnnotation(rect);\n        stamp.setNormalAppearance(xObj.getPdfObject());\n        int flag = PdfAnnotation.LOCKED_CONTENTS | PdfAnnotation.READ_ONLY\n                | PdfAnnotation.LOCKED | PdfAnnotation.PRINT ;\n        stamp.setFlags(flag);\n        stamp.setName(new PdfString(&quot;TestStamp1&quot;));\n        doc.getPage(1).addAnnotation(stamp);\n\n        ImageData img1 = ImageDataFactory.create(filePath);\n        PdfFormXObject xObj1 = new PdfFormXObject(new Rectangle(img1.getWidth(), img1.getHeight()));\n        if (rotation == 90) \n        {\n            xObj1.put(PdfName.Matrix, new PdfArray(new int[]{0, 1, -1, 0, 0, 0}));\n        }\n        else if(rotation == 270)\n        {\n            xObj1.put(PdfName.Matrix, new PdfArray(new int[]{0,  -1, 1, 0, 0, 0}));\n        }\n        else if (rotation == 180) \n        {\n            xObj1.put(PdfName.Matrix, new PdfArray(new int[]{-1, 0, 0, -1, 0, 0}));\n        }\n        Rectangle rect1 = new Rectangle(100,400,300,250);\n        PdfCanvas canvas1 = new PdfCanvas(xObj1, doc);\n        canvas1.addImageAt(img1, 0, 0,false);\n        PdfStampAnnotation stamp1 = new PdfStampAnnotation(rect1);\n        stamp1.setNormalAppearance(xObj1.getPdfObject());\n        int flag1 = PdfAnnotation.LOCKED_CONTENTS | PdfAnnotation.READ_ONLY\n                | PdfAnnotation.LOCKED | PdfAnnotation.PRINT ;\n        stamp1.setFlags(flag1);\n        stamp1.setName(new PdfString(&quot;TestStamp2&quot;));\n        doc.getPage(1).addAnnotation(stamp1);\n\n        \n        doc.close();\n    \n        System.out.println(&quot;COMPLETED&quot;);\n</code></pre>\n<p>Once the stamp added PDF is created, I'm using the below code to flatten them:</p>\n<pre><code>\n          String src=&quot;ITEXT_STAMP_ADDED.pdf&quot;;\n          String dest=&quot;ITEXT_STAMP_FLATTENED.pdf&quot;;\n            PdfDocument pdfDocument = new PdfDocument(new PdfReader(src), new PdfWriter(dest));\n            Document document = new Document(pdfDocument);\n\n            for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) \n            {\n                PdfPage page = pdfDocument.getPage(i);\n                PdfCanvas canvas = new PdfCanvas(page);\n                List&lt;PdfAnnotation&gt; annotations = page.getAnnotations();\n                for (PdfAnnotation annot : annotations) \n                {\n                    if(annot instanceof PdfStampAnnotation)\n                    {\n                        PdfDictionary appearanceObject = annot.getAppearanceObject(PdfName.N);\n                        if (appearanceObject != null) \n                        {\n                            PdfFormXObject appearanceXObj = new PdfFormXObject((PdfStream) appearanceObject.clone());\n                            Rectangle rect = annot.getRectangle().toRectangle();\n                            canvas.addXObjectFittedIntoRectangle(appearanceXObj, rect);\n//using addXObject was not working at all, so used fit into rectangle.\n//                      canvas.addXObject(appearanceXObj, rect.getX(), rect.getY());\n                            page.removeAnnotation(annot);\n                        }\n                    }\n                }\n            }\n            //Flatten the acroform\n            PdfAcroForm form = PdfAcroForm.getAcroForm(pdfDocument, true);\n            form.flattenFields();\n            document.close();\n            System.out.println(&quot;COMPLETED&quot;);      \n</code></pre>\n<p>The above code is fine for normal pdfs, but for rotated PDFs this isn't working fine. I'm getting the rotated images in the resulting PDF. Can anyone let us know what can be done so that the input PDF and the resulting PDF should looks same?</p>\n<p>I'm even ok with using PDFBox to achieve this.</p>\n<p>Attaching the files generated and images used:</p>\n<p><a href=\"https://drive.google.com/file/d/1IDHzR3Qkao99B0XjHeodPNTKhLxegBtx/view?usp=sharing\" rel=\"nofollow noreferrer\">new_rectangle.png</a></p>\n<p><a href=\"https://drive.google.com/file/d/1QqxVf_wRePpJxDyq8vhQxUH83e7bP1zS/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_0_STAMP_ADDED.pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1MZNxmXe2gYZTcfjVJ02hGAyhOO2RdsSL/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_0_STAMP_FLATTENED.pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1lhzDjoLclP2BgcgdiH07MJES3JxfCXL9/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_180_STAMP_ADDED.pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1XPd0TZQTFrwUSUcUiEPRI4E7tVTIoG5f/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_180_STAMP_FLATTENED.pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1KXy29tm-wkGQs5Kt81a5aAlk9MQRxkSm/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_270_STAMP_ADDED.pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1aoBxTVaxTk_0OVHmq5ZA4QeEbV--hioU/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_270_STAMP_FLATTENED.pdf</a></p>\n<p>All the above code is in IText-7.2.3 version.</p>\n"},{"tags":["java","mockito","deprecated"],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":159,"is_accepted":true,"score":159,"last_activity_date":1539168178,"creation_date":1485605132,"answer_id":41909594,"question_id":41909538,"body_markdown":"[`org.mockito.runners.MockitoJUnitRunner`][1] is now indeed deprecated, you are supposed to use [`org.mockito.junit.MockitoJUnitRunner`][2] instead. As you can see only the package name has changed, the simple name of the class is still **`MockitoJUnitRunner`**.\r\n\r\nExcerpt from the javadoc of `org.mockito.runners.MockitoJUnitRunner`:\r\n\r\n&gt; Moved to [`MockitoJUnitRunner`][2], this class will be removed with\r\n&gt; Mockito 3\r\n\r\n\r\n  [1]: http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/runners/MockitoJUnitRunner.html\r\n  [2]: http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/junit/MockitoJUnitRunner.html","title":"MockitoJUnitRunner is deprecated","body":"<p><a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/runners/MockitoJUnitRunner.html\" rel=\"noreferrer\"><code>org.mockito.runners.MockitoJUnitRunner</code></a> is now indeed deprecated, you are supposed to use <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/junit/MockitoJUnitRunner.html\" rel=\"noreferrer\"><code>org.mockito.junit.MockitoJUnitRunner</code></a> instead. As you can see only the package name has changed, the simple name of the class is still <strong><code>MockitoJUnitRunner</code></strong>.</p>\n\n<p>Excerpt from the javadoc of <code>org.mockito.runners.MockitoJUnitRunner</code>:</p>\n\n<blockquote>\n  <p>Moved to <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/junit/MockitoJUnitRunner.html\" rel=\"noreferrer\"><code>MockitoJUnitRunner</code></a>, this class will be removed with\n  Mockito 3</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1512766763,"creation_date":1485606595,"answer_id":41909801,"question_id":41909538,"body_markdown":"You can try this:\r\n\r\n    @Before\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\nBecause you add `@Before` annotation, Your mock objects can be new and recorded many times, and in all test you can give objects new properties. But, if you want one time record behavior for mock object please add `@BeforeCLass`\r\n","title":"MockitoJUnitRunner is deprecated","body":"<p>You can try this:</p>\n\n<pre><code>@Before\npublic void setup() {\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>Because you add <code>@Before</code> annotation, Your mock objects can be new and recorded many times, and in all test you can give objects new properties. But, if you want one time record behavior for mock object please add <code>@BeforeCLass</code></p>\n"},{"tags":[],"owner":{"account_id":9605894,"reputation":373,"user_id":7131969,"display_name":"git pull origin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1510063423,"creation_date":1510063423,"answer_id":47159903,"question_id":41909538,"body_markdown":"There is also a `@Rule` option:\r\n\r\n    @Rule \r\n    public MockitoRule rule = MockitoJUnit.rule();\r\n\r\nOr in Kotlin:\r\n\r\n    @get:Rule\r\n    var rule = MockitoJUnit.rule()","title":"MockitoJUnitRunner is deprecated","body":"<p>There is also a <code>@Rule</code> option:</p>\n\n<pre><code>@Rule \npublic MockitoRule rule = MockitoJUnit.rule();\n</code></pre>\n\n<p>Or in Kotlin:</p>\n\n<pre><code>@get:Rule\nvar rule = MockitoJUnit.rule()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13035163,"reputation":1085,"user_id":9420335,"display_name":"Akshay Chopra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574068084,"creation_date":1573206006,"answer_id":58763984,"question_id":41909538,"body_markdown":"You can try importing the following:\r\n\r\n    import org.mockito.runners.MockitoJUnitRunner;\r\n\r\nAlso, if you are using ***Eclipse***, just press **Ctrl + Shift + O** and it will auto import it.","title":"MockitoJUnitRunner is deprecated","body":"<p>You can try importing the following:</p>\n\n<pre><code>import org.mockito.runners.MockitoJUnitRunner;\n</code></pre>\n\n<p>Also, if you are using <strong><em>Eclipse</em></strong>, just press <strong>Ctrl + Shift + O</strong> and it will auto import it.</p>\n"},{"tags":[],"owner":{"account_id":4456117,"reputation":3177,"user_id":3626353,"accept_rate":100,"display_name":"MeLean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610009502,"creation_date":1610004486,"answer_id":65608188,"question_id":41909538,"body_markdown":"I managed to fix this when I updated the dependencies to the latest versions in my case:\r\n\r\n    def mockito_version = &#39;2.28.2&#39;\r\n\r\n    // For local unit tests on your development machine\r\n    testImplementation &quot;org.mockito:mockito-core:$mockito_version&quot;\r\n\r\n    // For instrumentation tests on Android devices and emulators\r\n    androidTestImplementation &quot;org.mockito:mockito-android:$mockito_version&quot;\r\n\r\nThen I changed the imports by the replace command (Mac: cmd+Shift+R Windows: Ctrl+Shift+R)\r\nfrom \r\n\r\n    import org.mockito.runners.MockitoJUnitRunner; \r\n\r\nto\r\n\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n","title":"MockitoJUnitRunner is deprecated","body":"<p>I managed to fix this when I updated the dependencies to the latest versions in my case:</p>\n<pre><code>def mockito_version = '2.28.2'\n\n// For local unit tests on your development machine\ntestImplementation &quot;org.mockito:mockito-core:$mockito_version&quot;\n\n// For instrumentation tests on Android devices and emulators\nandroidTestImplementation &quot;org.mockito:mockito-android:$mockito_version&quot;\n</code></pre>\n<p>Then I changed the imports by the replace command (Mac: cmd+Shift+R Windows: Ctrl+Shift+R)\nfrom</p>\n<pre><code>import org.mockito.runners.MockitoJUnitRunner; \n</code></pre>\n<p>to</p>\n<pre><code>import org.mockito.junit.MockitoJUnitRunner;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20071835,"reputation":127,"user_id":14716403,"display_name":"Bartek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302380,"creation_date":1686302380,"answer_id":76438898,"question_id":41909538,"body_markdown":"JunitRunner worked, thank you all","title":"MockitoJUnitRunner is deprecated","body":"<p>JunitRunner worked, thank you all</p>\n"}],"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61237,"favorite_count":0,"down_vote_count":1,"up_vote_count":82,"accepted_answer_id":41909594,"answer_count":6,"score":81,"last_activity_date":1686302380,"creation_date":1485604725,"question_id":41909538,"body_markdown":"I&#39;m trying to make a unit test with `@InjectMocks` and `@Mock`.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ProblemDefinitionTest {\r\n    \r\n        @InjectMocks\r\n        ProblemDefinition problemDefinition;\r\n    \r\n        @Mock\r\n        Matrix matrixMock;    \r\n       \r\n        @Test\r\n        public void sanityCheck() {\r\n            Assert.assertNotNull(problemDefinition);\r\n            Assert.assertNotNull(matrixMock);\r\n        }\r\n    }\r\n\r\nWhen I don&#39;t include the `@RunWith` annotation, the test fails. But\r\n\r\n&gt; The type MockitoJUnitRunner is deprecated\r\n\r\nI&#39;m using Mockito 2.6.9. How should I go about this?","title":"MockitoJUnitRunner is deprecated","body":"<p>I'm trying to make a unit test with <code>@InjectMocks</code> and <code>@Mock</code>.</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ProblemDefinitionTest {\n\n    @InjectMocks\n    ProblemDefinition problemDefinition;\n\n    @Mock\n    Matrix matrixMock;    \n\n    @Test\n    public void sanityCheck() {\n        Assert.assertNotNull(problemDefinition);\n        Assert.assertNotNull(matrixMock);\n    }\n}\n</code></pre>\n\n<p>When I don't include the <code>@RunWith</code> annotation, the test fails. But</p>\n\n<blockquote>\n  <p>The type MockitoJUnitRunner is deprecated</p>\n</blockquote>\n\n<p>I'm using Mockito 2.6.9. How should I go about this?</p>\n"},{"tags":["java","annotations","mapstruct","annotation-processing","feign"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686258201,"post_id":76435326,"comment_id":134778304,"body_markdown":"Are you asking how an implementation of [`java.lang.annotation.Annotation`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/annotation/Annotation.html) is created? Or are you asking how the functionality &quot;around&quot; the annotation is implemented (e.g., how does `@Inject` from CDI allow dependencies to be injected)?","body":"Are you asking how an implementation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/annotation/Annotation.html\" rel=\"nofollow noreferrer\"><code>java.lang.annotation.Annotation</code></a> is created? Or are you asking how the functionality &quot;around&quot; the annotation is implemented (e.g., how does <code>@Inject</code> from CDI allow dependencies to be injected)?"},{"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"score":0,"creation_date":1686319563,"post_id":76435326,"comment_id":134786757,"body_markdown":"I&#39;m looking for the funcitonality around the annotation. I&#39;ve tried to find the implementation of some annotations in Eclipse but using Ctrl + Click for go to implementation does nothing.","body":"I&#39;m looking for the funcitonality around the annotation. I&#39;ve tried to find the implementation of some annotations in Eclipse but using Ctrl + Click for go to implementation does nothing."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686340322,"post_id":76435326,"comment_id":134790696,"body_markdown":"Then as noted by Renis in his answer, it&#39;s not &quot;Java&quot; that creates the implementation. If it&#39;s an annotation processed at _compile-time_, then an implementation of [`Processor`](https://docs.oracle.com/en/java/javase/20/docs/api/java.compiler/javax/annotation/processing/Processor.html) must be present during compilation. If it&#39;s an annotation processed at _run-time_, then some code somewhere is calling methods like [`getAnnotation(Class)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/AnnotatedElement.html#getAnnotation(java.lang.Class)) and acting accordingly.","body":"Then as noted by Renis in his answer, it&#39;s not &quot;Java&quot; that creates the implementation. If it&#39;s an annotation processed at <i>compile-time</i>, then an implementation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.compiler/javax/annotation/processing/Processor.html\" rel=\"nofollow noreferrer\"><code>Processor</code></a> must be present during compilation. If it&#39;s an annotation processed at <i>run-time</i>, then some code somewhere is calling methods like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/AnnotatedElement.html#getAnnotation(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>getAnnotation(Class)</code></a> and acting accordingly."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686340506,"post_id":76435326,"comment_id":134790729,"body_markdown":"And if it&#39;s [an agent](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html) that processes the annotations (e.g., an AOP library), then some kind of byte-code manipulation library is likely being used. All that said, &quot;Ctrl + Click&quot;-ing on the annotation should only take you to the annotation definition (even with third-party libraries, assuming they&#39;re a dependency of your project). If you want to try and find the code that processes the annotation, see if using the &quot;Find Usages&quot; action of your IDE on the annotation helps.","body":"And if it&#39;s <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">an agent</a> that processes the annotations (e.g., an AOP library), then some kind of byte-code manipulation library is likely being used. All that said, &quot;Ctrl + Click&quot;-ing on the annotation should only take you to the annotation definition (even with third-party libraries, assuming they&#39;re a dependency of your project). If you want to try and find the code that processes the annotation, see if using the &quot;Find Usages&quot; action of your IDE on the annotation helps."},{"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"score":0,"creation_date":1686689541,"post_id":76435326,"comment_id":134833313,"body_markdown":"OK. I will try to check &quot;Find Usages&quot;. Thanks for your answer.","body":"OK. I will try to check &quot;Find Usages&quot;. Thanks for your answer."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302216,"creation_date":1686258287,"answer_id":76435682,"question_id":76435326,"body_markdown":"Java does not do anything when it comes to Annotation-based class generation. The magic behind these generations is the libraries themselves.\r\n\r\nFor example, MapStruct goes through all the classes and handles those with a `@Mapper` Annotation. This is achieved through annotation processing and the Java Annotation Processing API. You can also configure how you want to make your generated classes available to the application (e.g. `@Mapper(componentModel = &quot;spring&quot;)`). In Spring the generated Mapper will be turned into a Spring Bean and will be associated with the Mapper (Interface) you autowire/inject in your other Spring Beans.\r\n\r\nIn JavaEE Context, it is basically the same thing, it&#39;s just that the injection is achieved a bit differently (e.g. CDI).\r\n\r\nI have no experience with `feign`, but I think it should use a similar approach.","title":"Java annotation implementation logic","body":"<p>Java does not do anything when it comes to Annotation-based class generation. The magic behind these generations is the libraries themselves.</p>\n<p>For example, MapStruct goes through all the classes and handles those with a <code>@Mapper</code> Annotation. This is achieved through annotation processing and the Java Annotation Processing API. You can also configure how you want to make your generated classes available to the application (e.g. <code>@Mapper(componentModel = &quot;spring&quot;)</code>). In Spring the generated Mapper will be turned into a Spring Bean and will be associated with the Mapper (Interface) you autowire/inject in your other Spring Beans.</p>\n<p>In JavaEE Context, it is basically the same thing, it's just that the injection is achieved a bit differently (e.g. CDI).</p>\n<p>I have no experience with <code>feign</code>, but I think it should use a similar approach.</p>\n"}],"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686302216,"creation_date":1686254473,"question_id":76435326,"body_markdown":"I want to know how Java generates annotation implementation like @Mapper and @FeignClient. Does It generates an implementation class in runtime?\r\n\r\nThanks.\r\n\r\nKnow how Java generates an implementation for an interface in runtime.","title":"Java annotation implementation logic","body":"<p>I want to know how Java generates annotation implementation like @Mapper and @FeignClient. Does It generates an implementation class in runtime?</p>\n<p>Thanks.</p>\n<p>Know how Java generates an implementation for an interface in runtime.</p>\n"},{"tags":["java","spring-boot","drools"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686143819,"post_id":76423457,"comment_id":134758612,"body_markdown":"Because apparently internally it does use a database (like H2 or HSQLDB perhaps) or you configured drools somehow to use that.","body":"Because apparently internally it does use a database (like H2 or HSQLDB perhaps) or you configured drools somehow to use that."},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1686151834,"post_id":76423457,"comment_id":134760712,"body_markdown":"@M.Deinum so is there any way to provide this class to Drools without using spring-jpa dependency? As this dependency is causing my application to crash as datasource is not configured","body":"@M.Deinum so is there any way to provide this class to Drools without using spring-jpa dependency? As this dependency is causing my application to crash as datasource is not configured"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1686162823,"post_id":76423457,"comment_id":134762897,"body_markdown":"This question cannot be answered without, at minimum, sharing what dependencies specifically you&#39;re using from drools because I have never needed to import this particular library. You don&#39;t even share what version of drools we&#39;re discussing.","body":"This question cannot be answered without, at minimum, sharing what dependencies specifically you&#39;re using from drools because I have never needed to import this particular library. You don&#39;t even share what version of drools we&#39;re discussing."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686203558,"post_id":76423457,"comment_id":134767540,"body_markdown":"What makes you think you even need jpa? you need the spring-jdbc dependency and if that library depends on it I would expect it to be pulled in automatically (unless, as stated, you did something in your configuration to optionally enable something that requires it).","body":"What makes you think you even need jpa? you need the spring-jdbc dependency and if that library depends on it I would expect it to be pulled in automatically (unless, as stated, you did something in your configuration to optionally enable something that requires it)."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1686229687,"post_id":76423457,"comment_id":134772541,"body_markdown":"Drools doesn&#39;t internally use a database: it uses an in-memory rete tree (or similar; depends on what specific version we&#39;re talking about but it&#39;s in-memory.) There&#39;s something non-standard about how it&#39;s being set up, but we&#39;ve nothing to go on here so nothing more can be said","body":"Drools doesn&#39;t internally use a database: it uses an in-memory rete tree (or similar; depends on what specific version we&#39;re talking about but it&#39;s in-memory.) There&#39;s something non-standard about how it&#39;s being set up, but we&#39;ve nothing to go on here so nothing more can be said"},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1686246297,"post_id":76423457,"comment_id":134776309,"body_markdown":"I have added the drools dependencies, can you all please help me now?","body":"I have added the drools dependencies, can you all please help me now?"}],"answers":[{"tags":[],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302140,"creation_date":1686302140,"answer_id":76438865,"question_id":76423457,"body_markdown":"Understood the issue. In my DRL file, I was setting a global object that is a part of another library. When I opened the code of this object, it was annotated with `@Entity` and other JPA related annotations. This was causing ths issue.","title":"Drools need org.springframework.jdbc.core.RowMapper to run?","body":"<p>Understood the issue. In my DRL file, I was setting a global object that is a part of another library. When I opened the code of this object, it was annotated with <code>@Entity</code> and other JPA related annotations. This was causing ths issue.</p>\n"}],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686302140,"creation_date":1686141943,"question_id":76423457,"body_markdown":"I am using drools in my project. For some reason, drools is expecing the class `org.springframework.jdbc.core.RowMapper`. This solves if I include `spring-jdbc` depencency, but I don&#39;t have any database configured so my app doesn&#39;t start. \r\nWhy does drools need `spring-jdbc`? Please help\r\n\r\nUPDATE: I tried this with an older version of drools by using `drools-compiler` dependency (from [this][1] tutorial). I got the same exception. \r\n\r\nBelow are my drools dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;\r\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;\r\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis is how I am setting it up:\r\n\r\n```\r\npublic class DroolsBeanFactory {\r\n    private KieServices kieServices = KieServices.Factory.get();\r\n\r\n    private void getKieRepository() {\r\n        final KieRepository kieRepository = kieServices.getRepository();\r\n        kieRepository.addKieModule(() -&gt; kieRepository.getDefaultReleaseId());\r\n    }\r\n\r\n    public KieSession getKieSession(String droolsFilePath){\r\n        getKieRepository();\r\n        KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\r\n\r\n        kieFileSystem.write(ResourceFactory.newClassPathResource(droolsFilePath));\r\n\r\n        KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);\r\n        kb.buildAll();\r\n        KieModule kieModule = kb.getKieModule();\r\n\r\n        KieContainer kContainer = kieServices.newKieContainer(kieModule.getReleaseId());\r\n\r\n        return kContainer.newKieSession();\r\n    }\r\n}\r\n```\r\n\r\nBelow is the exception I am getting\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;someService&#39; defined in file [/Users/ps/workspace/forks/Project/target/classes/com/walmart/project/service/SomeService.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat com.walmart.project.ProjectApplication.main(ProjectApplication.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 16 common frames omitted\r\nCaused by: java.lang.RuntimeException: Rules compilation failed or interrupted\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:285) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.process(ImmutableRuleCompilationPhase.java:82) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4390) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.compileKnowledgePackages(KnowledgeBuilderImpl.java:456) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.buildRules(KnowledgeBuilderImpl.java:1015) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.doFirstBuildStep(KnowledgeBuilderImpl.java:989) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:114) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:104) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:270) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:216) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.AbstractKieProject.verify(AbstractKieProject.java:80) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildKieProject(KieBuilderImpl.java:282) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:248) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:195) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat com.walmart.project.config.DroolsBeanFactory.getKieSession(DroolsBeanFactory.java:24) ~[classes/:na]\r\n\tat com.walmart.project.service.SomeService.&lt;init&gt;(SomeService.java:59) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 18 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError\r\n\tat java.base/java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1006) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:283) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\t... 38 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: null\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603) ~[na:na]\r\n\t... 40 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/jdbc/core/RowMapper\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2309) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationUtils.processModifiedProps(TypeDeclarationUtils.java:302) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationCache.initTypeDeclaration(TypeDeclarationCache.java:158) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationCache.getAndRegisterTypeDeclaration(TypeDeclarationCache.java:93) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationBuilder.getAndRegisterTypeDeclaration(TypeDeclarationBuilder.java:69) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationManagerImpl.getAndRegisterTypeDeclaration(TypeDeclarationManagerImpl.java:53) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.getAndRegisterTypeDeclaration(KnowledgeBuilderImpl.java:676) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.processClassObjectType(PatternBuilder.java:309) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:173) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:142) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:124) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.GroupElementBuilder.build(GroupElementBuilder.java:66) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.RuleBuilder.build(RuleBuilder.java:98) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.internalAddRule(ImmutableRuleCompilationPhase.java:339) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.addRule(ImmutableRuleCompilationPhase.java:334) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$3(ImmutableRuleCompilationPhase.java:276) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290) ~[na:na]\r\n\tat java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:746) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:408) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:736) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$4(ImmutableRuleCompilationPhase.java:272) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat java.base/java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1407) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[na:na]\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.core.RowMapper\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n\t... 40 common frames omitted\r\n```\r\n\r\n\r\n  [1]: https://www.javainuse.com/drools_hello","title":"Drools need org.springframework.jdbc.core.RowMapper to run?","body":"<p>I am using drools in my project. For some reason, drools is expecing the class <code>org.springframework.jdbc.core.RowMapper</code>. This solves if I include <code>spring-jdbc</code> depencency, but I don't have any database configured so my app doesn't start.\nWhy does drools need <code>spring-jdbc</code>? Please help</p>\n<p>UPDATE: I tried this with an older version of drools by using <code>drools-compiler</code> dependency (from <a href=\"https://www.javainuse.com/drools_hello\" rel=\"nofollow noreferrer\">this</a> tutorial). I got the same exception.</p>\n<p>Below are my drools dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.kie&lt;/groupId&gt;\n    &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.drools&lt;/groupId&gt;\n    &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is how I am setting it up:</p>\n<pre><code>public class DroolsBeanFactory {\n    private KieServices kieServices = KieServices.Factory.get();\n\n    private void getKieRepository() {\n        final KieRepository kieRepository = kieServices.getRepository();\n        kieRepository.addKieModule(() -&gt; kieRepository.getDefaultReleaseId());\n    }\n\n    public KieSession getKieSession(String droolsFilePath){\n        getKieRepository();\n        KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\n\n        kieFileSystem.write(ResourceFactory.newClassPathResource(droolsFilePath));\n\n        KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);\n        kb.buildAll();\n        KieModule kieModule = kb.getKieModule();\n\n        KieContainer kContainer = kieServices.newKieContainer(kieModule.getReleaseId());\n\n        return kContainer.newKieSession();\n    }\n}\n</code></pre>\n<p>Below is the exception I am getting</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'someService' defined in file [/Users/ps/workspace/forks/Project/target/classes/com/walmart/project/service/SomeService.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.walmart.project.ProjectApplication.main(ProjectApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 16 common frames omitted\nCaused by: java.lang.RuntimeException: Rules compilation failed or interrupted\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:285) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.process(ImmutableRuleCompilationPhase.java:82) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4390) ~[na:na]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.compileKnowledgePackages(KnowledgeBuilderImpl.java:456) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.buildRules(KnowledgeBuilderImpl.java:1015) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.doFirstBuildStep(KnowledgeBuilderImpl.java:989) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:114) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:104) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:270) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:216) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.AbstractKieProject.verify(AbstractKieProject.java:80) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildKieProject(KieBuilderImpl.java:282) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:248) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:195) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at com.walmart.project.config.DroolsBeanFactory.getKieSession(DroolsBeanFactory.java:24) ~[classes/:na]\n    at com.walmart.project.service.SomeService.&lt;init&gt;(SomeService.java:59) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 18 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError\n    at java.base/java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1006) ~[na:na]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:283) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    ... 38 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: null\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603) ~[na:na]\n    ... 40 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/jdbc/core/RowMapper\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2309) ~[na:na]\n    at org.drools.compiler.builder.impl.TypeDeclarationUtils.processModifiedProps(TypeDeclarationUtils.java:302) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationCache.initTypeDeclaration(TypeDeclarationCache.java:158) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationCache.getAndRegisterTypeDeclaration(TypeDeclarationCache.java:93) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationBuilder.getAndRegisterTypeDeclaration(TypeDeclarationBuilder.java:69) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationManagerImpl.getAndRegisterTypeDeclaration(TypeDeclarationManagerImpl.java:53) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.getAndRegisterTypeDeclaration(KnowledgeBuilderImpl.java:676) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.processClassObjectType(PatternBuilder.java:309) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:173) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:142) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:124) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.GroupElementBuilder.build(GroupElementBuilder.java:66) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.RuleBuilder.build(RuleBuilder.java:98) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.internalAddRule(ImmutableRuleCompilationPhase.java:339) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.addRule(ImmutableRuleCompilationPhase.java:334) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$3(ImmutableRuleCompilationPhase.java:276) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290) ~[na:na]\n    at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:746) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:408) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:736) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[na:na]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$4(ImmutableRuleCompilationPhase.java:272) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at java.base/java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1407) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[na:na]\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.core.RowMapper\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 40 common frames omitted\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":21977509,"reputation":11,"user_id":16253098,"display_name":"Didier Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686302118,"creation_date":1686302118,"question_id":76438862,"body_markdown":"I&#39;ve these classes :\r\n\r\n\r\n```\r\npublic class InventoryItemTbEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;UUID&quot;)\r\n    private UUID uuid;\r\n    ....\r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;LOCATION_CHANGE_USERID&quot;)),\r\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;LOCATION_CHANGE_DATE&quot;)),\r\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;LOCATION_CHANGE_PROGRAM&quot;)),\r\n    })\r\n    private RowAuditEntity locationChangeAudit;\r\n\r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_USERID&quot;)),\r\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_DATE&quot;)),\r\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_PROGRAM&quot;)),\r\n    })\r\n    private RowAuditEntity dispositionChangeAudit;\r\n\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;ROW_CHANGE_USERID&quot;)),\r\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;ROW_CHANGE_DATE&quot;)),\r\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;ROW_CHANGE_PROGRAM&quot;))\r\n    })    @Embedded\r\n    private RowAuditEntity changeAudit;\r\n```\r\nand\r\n```\r\n@Embeddable\r\npublic class RowAuditEntity {\r\n\r\n    @Nonnull\r\n    protected String program;\r\n\r\n    @Nonnull\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    protected OffsetDateTime date;\r\n\r\n    @Nonnull\r\n    protected String userid;\r\n```\r\n\r\nBut I get an issue when the EntityManagerFactory is initialized. \r\nIssue is ``` Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column &#39;userid&#39; is duplicated in mapping for entity &#39;xxx.jpa.inventory.item.InventoryItemTbEntity&#39; (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column) ```\r\n\r\nI&#39;m using Hibernate ORM core version 6.1.6.Final.\r\nIt seems Hibernate don&#39;t recognise @AttributeOverrides/@AttributeOverride annotation.\r\n\r\nI already browsed a lot of forums, sites, ... for a solution or to found the reason, but unfortunately I found nothing.\r\n\r\nCan someone help me with ? \r\n\r\n@AttributeOverrides/@AttributeOverride should be interpreted by hibernate","title":"duplicated column in jpa mapping when using @AttributeOverride for embeddedClasses","body":"<p>I've these classes :</p>\n<pre><code>public class InventoryItemTbEntity {\n\n    @Id\n    @Column(name = &quot;UUID&quot;)\n    private UUID uuid;\n    ....\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;LOCATION_CHANGE_USERID&quot;)),\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;LOCATION_CHANGE_DATE&quot;)),\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;LOCATION_CHANGE_PROGRAM&quot;)),\n    })\n    private RowAuditEntity locationChangeAudit;\n\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_USERID&quot;)),\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_DATE&quot;)),\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_PROGRAM&quot;)),\n    })\n    private RowAuditEntity dispositionChangeAudit;\n\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;ROW_CHANGE_USERID&quot;)),\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;ROW_CHANGE_DATE&quot;)),\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;ROW_CHANGE_PROGRAM&quot;))\n    })    @Embedded\n    private RowAuditEntity changeAudit;\n</code></pre>\n<p>and</p>\n<pre><code>@Embeddable\npublic class RowAuditEntity {\n\n    @Nonnull\n    protected String program;\n\n    @Nonnull\n    @Temporal(TemporalType.TIMESTAMP)\n    protected OffsetDateTime date;\n\n    @Nonnull\n    protected String userid;\n</code></pre>\n<p>But I get an issue when the EntityManagerFactory is initialized.\nIssue is <code>Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'userid' is duplicated in mapping for entity 'xxx.jpa.inventory.item.InventoryItemTbEntity' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)</code></p>\n<p>I'm using Hibernate ORM core version 6.1.6.Final.\nIt seems Hibernate don't recognise @AttributeOverrides/@AttributeOverride annotation.</p>\n<p>I already browsed a lot of forums, sites, ... for a solution or to found the reason, but unfortunately I found nothing.</p>\n<p>Can someone help me with ?</p>\n<p>@AttributeOverrides/@AttributeOverride should be interpreted by hibernate</p>\n"},{"tags":["java","maven","junit","jacoco","jacoco-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":15229857,"reputation":27,"user_id":10989294,"display_name":"charlyne"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1564129293,"creation_date":1564129293,"answer_id":57215946,"question_id":53983849,"body_markdown":"maybe you can try this:\r\nadd &lt;dependency&gt; child3 itself in child3&#39;s pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;XXXX&lt;/groupId&gt;\r\n    &lt;artifactId&gt;child3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>maybe you can try this:\nadd  child3 itself in child3's pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;XXXX&lt;/groupId&gt;\n&lt;artifactId&gt;child3&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1331177,"reputation":91,"user_id":8890369,"display_name":"Omar.R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566385480,"creation_date":1566385480,"answer_id":57590204,"question_id":53983849,"body_markdown":"I&#39;ve encounter the same issue when implementing Jacoco for a Maven project.\r\nUnfortunately, I&#39;m afraid that the only solution is adding a new child module to the Maven project. \r\nYou should put in it dependecies to your 3 child modules and the report-aggregate goal.\r\nSo, you should have something like below configuration:\r\n\r\n    parent --&gt; Goal: Prepare agent\r\n       child1 --&gt; Goal: report\r\n       child2 --&gt; Goal: report\r\n       child3-report --&gt; Goal: report\r\n       child4-Aggregator --&gt; Goal: report-aggregate\r\n\r\nIn your parent pom.xml, you should add child4-Aggregator module as the last module to be runned.\r\n\r\n\r\n\r\n","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>I've encounter the same issue when implementing Jacoco for a Maven project.\nUnfortunately, I'm afraid that the only solution is adding a new child module to the Maven project. \nYou should put in it dependecies to your 3 child modules and the report-aggregate goal.\nSo, you should have something like below configuration:</p>\n\n<pre><code>parent --&gt; Goal: Prepare agent\n   child1 --&gt; Goal: report\n   child2 --&gt; Goal: report\n   child3-report --&gt; Goal: report\n   child4-Aggregator --&gt; Goal: report-aggregate\n</code></pre>\n\n<p>In your parent pom.xml, you should add child4-Aggregator module as the last module to be runned.</p>\n"},{"tags":[],"owner":{"account_id":1100999,"reputation":11,"user_id":1093400,"display_name":"user1093400"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591747070,"creation_date":1591732420,"answer_id":62290791,"question_id":53983849,"body_markdown":"What I did is adding a report goal to include the report of the module itself.\r\n\r\n    &lt;execution&gt;\r\n      &lt;id&gt;report-unit-tests&lt;/id&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;report&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>What I did is adding a report goal to include the report of the module itself.</p>\n\n<pre><code>&lt;execution&gt;\n  &lt;id&gt;report-unit-tests&lt;/id&gt;\n  &lt;goals&gt;\n    &lt;goal&gt;report&lt;/goal&gt;\n  &lt;/goals&gt;\n&lt;/execution&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1591809425,"creation_date":1591809425,"answer_id":62309382,"question_id":53983849,"body_markdown":"There are multiple issues raised (https://github.com/jacoco/jacoco/issues/812) on jacoco github repo related to this feature. Having separate module just for reports might be acceptable for few, but better approach would be to fix this with some configurable flag. \r\n\r\nThere is also a pending PR (https://github.com/jacoco/jacoco/pull/1007). ","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>There are multiple issues raised (<a href=\"https://github.com/jacoco/jacoco/issues/812\" rel=\"nofollow noreferrer\">https://github.com/jacoco/jacoco/issues/812</a>) on jacoco github repo related to this feature. Having separate module just for reports might be acceptable for few, but better approach would be to fix this with some configurable flag. </p>\n\n<p>There is also a pending PR (<a href=\"https://github.com/jacoco/jacoco/pull/1007\" rel=\"nofollow noreferrer\">https://github.com/jacoco/jacoco/pull/1007</a>). </p>\n"},{"tags":[],"owner":{"account_id":493973,"reputation":33,"user_id":1103591,"display_name":"imsandli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686302090,"creation_date":1686302090,"answer_id":76438856,"question_id":53983849,"body_markdown":"The [PR](https://github.com/jacoco/jacoco/pull/1007) @sidgate mentioned is merged. Now you can configure it in maven like:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report-aggregate&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;includeCurrentProject&gt;true&lt;/includeCurrentProject&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nConsider also the [documentation](https://www.eclemma.org/jacoco/trunk/doc/report-aggregate-mojo.html#includeCurrentProject).","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>The <a href=\"https://github.com/jacoco/jacoco/pull/1007\" rel=\"nofollow noreferrer\">PR</a> @sidgate mentioned is merged. Now you can configure it in maven like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-aggregate&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;includeCurrentProject&gt;true&lt;/includeCurrentProject&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Consider also the <a href=\"https://www.eclemma.org/jacoco/trunk/doc/report-aggregate-mojo.html#includeCurrentProject\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6864,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62309382,"answer_count":5,"score":2,"last_activity_date":1686302090,"creation_date":1546233474,"question_id":53983849,"body_markdown":"I have a multi-module maven project. \r\n\r\n    parent\r\n       child1\r\n       child2\r\n       child3-report\r\n\r\nAll child projects have unit tests, and `child3` depends on `child1` and `child2`. Following the pom for child3\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;0.8.2&lt;/version&gt;\r\n         &lt;executions&gt;\r\n            &lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;report-aggregate&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nThe jacoco aggregate report generated just include report for child1 and child2, but not for child3. How to fix this?\r\n\r\nDon&#39;t want to create fourth submodule just for reports.\r\n","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>I have a multi-module maven project. </p>\n\n<pre><code>parent\n   child1\n   child2\n   child3-report\n</code></pre>\n\n<p>All child projects have unit tests, and <code>child3</code> depends on <code>child1</code> and <code>child2</code>. Following the pom for child3</p>\n\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n     &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n     &lt;version&gt;0.8.2&lt;/version&gt;\n     &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-aggregate&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The jacoco aggregate report generated just include report for child1 and child2, but not for child3. How to fix this?</p>\n\n<p>Don't want to create fourth submodule just for reports.</p>\n"},{"tags":["java","mongodb","micronaut"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":1,"creation_date":1686382895,"post_id":76438362,"comment_id":134793890,"body_markdown":"you need to specify the collection name on the entity `Recipe` class and annotate it with `@MappedEntity` and specify the collection name in the annotation","body":"you need to specify the collection name on the entity <code>Recipe</code> class and annotate it with <code>@MappedEntity</code> and specify the collection name in the annotation"},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":0,"creation_date":1686516058,"post_id":76438362,"comment_id":134805468,"body_markdown":"@deadshot i sadly rewrote the whole repo but ill give it a try. Thanks for the info!","body":"@deadshot i sadly rewrote the whole repo but ill give it a try. Thanks for the info!"},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":0,"creation_date":1686595256,"post_id":76438362,"comment_id":134817560,"body_markdown":"@deadshot I treid annotate the ```@MappedEntity``` annotation with my collection name but I&#39;m not sure how you do this? Do you have an example i can refer to?","body":"@deadshot I treid annotate the <code>@MappedEntity</code> annotation with my collection name but I&#39;m not sure how you do this? Do you have an example i can refer to?"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1686634028,"post_id":76438362,"comment_id":134821874,"body_markdown":"you can provide collection name like this `@MappedEntity(value = &quot;&lt;collection_name&gt;&quot;)`","body":"you can provide collection name like this <code>@MappedEntity(value = &quot;&lt;collection_name&gt;&quot;)</code>"}],"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686302062,"creation_date":1686297971,"question_id":76438362,"body_markdown":"I&#39;m trying to connect a MongoDb Atlas Db to my Micronaut app but it doesn&#39;t return my saved items.\r\nI&#39;m using the @MongoRepository annotation to extend the supplied CrudRepository by micronaut. \r\nMicronaut is able to connect to the MongoDb shards and after some testing the MongoClient connects to the right Database.\r\n\r\nThe Problem, I think, is that Micronaut doesn&#39;t fetch the right collection so it never returns anything.\r\n\r\nI tried extending the @MongoRepository annotation with the dot-notation for collections (i.e. @MongoRepository(databaseName = &quot;database.colletion&quot;)) but that didnt work either.\r\n\r\nI don&#39;t really want to use the bare MongoClient and write the whole Repository myself, thats why I&#39;m looking for a way to pass the collection name into the auto-generated repository.\r\n\r\nMy Repo Looks like this, I&#39;m passing the connection string via application.yml:\r\n```\r\n@MongoRepository(databaseName = &quot;recipes&quot;)\r\npublic interface RecipeRepository extends CrudRepository&lt;Recipe, String&gt; {\r\n\r\n    //case-insensitive search using collations\r\n    @MongoCollation(&quot;{locale: &#39;en&#39;, strength: 1}&quot;)\r\n    @MongoFindQuery(filter = &quot;{name: name}&quot;)\r\n    List&lt;Recipe&gt; findByName(String name);\r\n\r\n    @MongoCollation(&quot;{locale: &#39;en&#39;, strength: 1}&quot;)\r\n    @MongoFindQuery(filter = &quot;{ingredients.name: {$all: :ingredientNames}}&quot;)\r\n    List&lt;Recipe&gt; findByIngredientsNames(List&lt;String&gt; ingredientNames);\r\n}\r\n```\r\n\r\nAfter some research I found this class on Micronauts GitHub repo:\r\n\r\n```\r\n@Experimental\r\npublic interface MongoCollectionNameProvider {\r\n\r\n    /**\r\n     * Provides the MongoDB collection name based on the {@link PersistentEntity}.\r\n     * @param persistentEntity The persistent entity that is associated to the collection\r\n     * @return The collection name\r\n     */\r\n    @NonNull\r\n    String provide(@NonNull PersistentEntity persistentEntity);\r\n\r\n}\r\n```\r\n\r\nBut I&#39;m not sure how I can use it","title":"Setting MongoDb collection name with Micronaut Annotation","body":"<p>I'm trying to connect a MongoDb Atlas Db to my Micronaut app but it doesn't return my saved items.\nI'm using the @MongoRepository annotation to extend the supplied CrudRepository by micronaut.\nMicronaut is able to connect to the MongoDb shards and after some testing the MongoClient connects to the right Database.</p>\n<p>The Problem, I think, is that Micronaut doesn't fetch the right collection so it never returns anything.</p>\n<p>I tried extending the @MongoRepository annotation with the dot-notation for collections (i.e. @MongoRepository(databaseName = &quot;database.colletion&quot;)) but that didnt work either.</p>\n<p>I don't really want to use the bare MongoClient and write the whole Repository myself, thats why I'm looking for a way to pass the collection name into the auto-generated repository.</p>\n<p>My Repo Looks like this, I'm passing the connection string via application.yml:</p>\n<pre><code>@MongoRepository(databaseName = &quot;recipes&quot;)\npublic interface RecipeRepository extends CrudRepository&lt;Recipe, String&gt; {\n\n    //case-insensitive search using collations\n    @MongoCollation(&quot;{locale: 'en', strength: 1}&quot;)\n    @MongoFindQuery(filter = &quot;{name: name}&quot;)\n    List&lt;Recipe&gt; findByName(String name);\n\n    @MongoCollation(&quot;{locale: 'en', strength: 1}&quot;)\n    @MongoFindQuery(filter = &quot;{ingredients.name: {$all: :ingredientNames}}&quot;)\n    List&lt;Recipe&gt; findByIngredientsNames(List&lt;String&gt; ingredientNames);\n}\n</code></pre>\n<p>After some research I found this class on Micronauts GitHub repo:</p>\n<pre><code>@Experimental\npublic interface MongoCollectionNameProvider {\n\n    /**\n     * Provides the MongoDB collection name based on the {@link PersistentEntity}.\n     * @param persistentEntity The persistent entity that is associated to the collection\n     * @return The collection name\n     */\n    @NonNull\n    String provide(@NonNull PersistentEntity persistentEntity);\n\n}\n</code></pre>\n<p>But I'm not sure how I can use it</p>\n"},{"tags":["java","apache-flink","serviceloader","shardingsphere"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686301596,"post_id":76438793,"comment_id":134783137,"body_markdown":"Show us the code and the error you&#39;re getting","body":"Show us the code and the error you&#39;re getting"},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1686302010,"post_id":76438793,"comment_id":134783203,"body_markdown":"@Jorn edited question, added some context","body":"@Jorn edited question, added some context"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686302429,"post_id":76438793,"comment_id":134783275,"body_markdown":"Doesn&#39;t really look like a class access issue to me. The exception message gives you something concrete to look at. I&#39;m not familiar with ShardingSphere, but it seems to be an issue with the TrafficRule you haven&#39;t shown.","body":"Doesn&#39;t really look like a class access issue to me. The exception message gives you something concrete to look at. I&#39;m not familiar with ShardingSphere, but it seems to be an issue with the TrafficRule you haven&#39;t shown."},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1686302936,"post_id":76438793,"comment_id":134783375,"body_markdown":"@Jorn TrafficRules is one of the many Classes ShardingSphere uses the SPI to load, I have looked at how the rules are loaded in the ShardingSphere source code and the rules and the problem starts with load() in the ShardingSphereServiceLoader class.","body":"@Jorn TrafficRules is one of the many Classes ShardingSphere uses the SPI to load, I have looked at how the rules are loaded in the ShardingSphere source code and the rules and the problem starts with load() in the ShardingSphereServiceLoader class."}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686301969,"creation_date":1686301547,"question_id":76438793,"body_markdown":"When I try to obtain an instance of a Class through ServiceLoader on a TaskManager node the class cannot be loaded, basically I cannot access the classes declared in META-INF/services via ServiceLoader at Runtime.\r\n\r\nI am using ShardignSphere to broadcast some data from the database, but the framework relies on some dependencies being loaded by the Java SPI, is there any way to solve the problem？ In previous versions (4.x.x) I used to do it with Reflection but with the new version of ShardingSphere (5.3.1) there would be too many things that need to be loaded and it wouldn&#39;t be feasible, what&#39;s the correct way to do this?\r\n\r\nEDIT:\r\n\r\nShardingSphere stackTrace: this is the first occurrence of a precontition check where a Class that is supposed to be loaded via SPI isn&#39;t loaded.\r\n```\r\n Collection&lt;T&gt; foundRules = findRules(clazz);\r\n        Preconditions.checkState(1 == foundRules.size(), &quot;Rule `%s` should have and only have one instance.&quot;, clazz.getSimpleName());\r\n        return foundRules.iterator().next(); \r\n```\r\n```\r\njava.lang.IllegalStateException: Rule `TrafficRule` should have and only have one instance.\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:591)\r\n\tat org.apache.shardingsphere.infra.metadata.database.rule.ShardingSphereRuleMetaData.getSingleRule(ShardingSphereRuleMetaData.java:91)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.getTrafficDataSourceMap(ConnectionManager.java:88)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.&lt;init&gt;(ConnectionManager.java:82)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.connection.ShardingSphereConnection.&lt;init&gt;(ShardingSphereConnection.java:71)\r\n\tat org.apache.shardingsphere.driver.state.ok.OKDriverState.getConnection(OKDriverState.java:34)\r\n\tat org.apache.shardingsphere.driver.state.DriverStateContext.getConnection(DriverStateContext.java:44)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.datasource.ShardingSphereDataSource.getConnection(ShardingSphereDataSource.java:86)\r\n\tat com.huawei.networkops.flink.monitor.pingmesh.broadcast.PingmeshDataResolver.update(PingmeshDataResolver.java:77)\r\n\tat com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:39)\r\n\tat com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:30)\r\n\tat com.huawei.networkops.flink.monitor.common.broadcast.AbstractDataBroadcastStreamProcessor$DataBroadcastFunction.run(AbstractDataBroadcastStreamProcessor.java:166)\r\n\tat org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:94)\r\n\tat org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:58)\r\n\tat org.apache.flink.streaming.runtime.tasks.SourceStreamTask.run(SourceStreamTask.java:99)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:300)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:704)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nThis is how ShardignSphere SPI loads its dependencies:\r\n```\r\n    private Collection&lt;T&gt; load() {\r\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\r\n        for (T each : ServiceLoader.load(serviceInterface)) {\r\n            result.add(each);\r\n        }\r\n        return result;\r\n    }\r\n```\r\n```\r\npublic final class ShardingSphereServiceLoader&lt;T&gt; {\r\n    \r\n    private static final Map&lt;Class&lt;?&gt;, ShardingSphereServiceLoader&lt;?&gt;&gt; LOADERS = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    private final Class&lt;T&gt; serviceInterface;\r\n    \r\n    @Getter\r\n    private final Collection&lt;T&gt; services;\r\n    \r\n    private ShardingSphereServiceLoader(final Class&lt;T&gt; serviceInterface) {\r\n        this.serviceInterface = serviceInterface;\r\n        validate();\r\n        services = load();\r\n    }\r\n    \r\n    private void validate() {\r\n        Preconditions.checkNotNull(serviceInterface, &quot;SPI interface is null.&quot;);\r\n        Preconditions.checkArgument(serviceInterface.isInterface(), &quot;SPI interface `%s` is not interface.&quot;, serviceInterface);\r\n    }\r\n    \r\n    private Collection&lt;T&gt; load() {\r\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\r\n        for (T each : ServiceLoader.load(serviceInterface)) {\r\n            result.add(each);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    /**\r\n     * Get service instances.\r\n     *\r\n     * @param serviceInterface service interface\r\n     * @param &lt;T&gt; type of service interface\r\n     * @return service instances\r\n     * @see &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8161372&quot;&gt;JDK-8161372&lt;/a&gt;\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; Collection&lt;T&gt; getServiceInstances(final Class&lt;T&gt; serviceInterface) {\r\n        ShardingSphereServiceLoader&lt;?&gt; result = LOADERS.get(serviceInterface);\r\n        return (Collection&lt;T&gt;) (null != result ? result.getServiceInstances() : LOADERS.computeIfAbsent(serviceInterface, ShardingSphereServiceLoader::new).getServiceInstances());\r\n    }\r\n    \r\n    private Collection&lt;T&gt; getServiceInstances() {\r\n        return null == serviceInterface.getAnnotation(SingletonSPI.class) ? createNewServiceInstances() : getSingletonServiceInstances();\r\n    }\r\n    \r\n    @SneakyThrows(ReflectiveOperationException.class)\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private Collection&lt;T&gt; createNewServiceInstances() {\r\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\r\n        for (Object each : services) {\r\n            result.add((T) each.getClass().getDeclaredConstructor().newInstance());\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private Collection&lt;T&gt; getSingletonServiceInstances() {\r\n        return services;\r\n    }\r\n}\r\n\r\n","title":"Can&#39;t access ServiceLoader from Flink Taskmanager Node","body":"<p>When I try to obtain an instance of a Class through ServiceLoader on a TaskManager node the class cannot be loaded, basically I cannot access the classes declared in META-INF/services via ServiceLoader at Runtime.</p>\n<p>I am using ShardignSphere to broadcast some data from the database, but the framework relies on some dependencies being loaded by the Java SPI, is there any way to solve the problem？ In previous versions (4.x.x) I used to do it with Reflection but with the new version of ShardingSphere (5.3.1) there would be too many things that need to be loaded and it wouldn't be feasible, what's the correct way to do this?</p>\n<p>EDIT:</p>\n<p>ShardingSphere stackTrace: this is the first occurrence of a precontition check where a Class that is supposed to be loaded via SPI isn't loaded.</p>\n<pre><code> Collection&lt;T&gt; foundRules = findRules(clazz);\n        Preconditions.checkState(1 == foundRules.size(), &quot;Rule `%s` should have and only have one instance.&quot;, clazz.getSimpleName());\n        return foundRules.iterator().next(); \n</code></pre>\n<pre><code>java.lang.IllegalStateException: Rule `TrafficRule` should have and only have one instance.\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:591)\n    at org.apache.shardingsphere.infra.metadata.database.rule.ShardingSphereRuleMetaData.getSingleRule(ShardingSphereRuleMetaData.java:91)\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.getTrafficDataSourceMap(ConnectionManager.java:88)\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.&lt;init&gt;(ConnectionManager.java:82)\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ShardingSphereConnection.&lt;init&gt;(ShardingSphereConnection.java:71)\n    at org.apache.shardingsphere.driver.state.ok.OKDriverState.getConnection(OKDriverState.java:34)\n    at org.apache.shardingsphere.driver.state.DriverStateContext.getConnection(DriverStateContext.java:44)\n    at org.apache.shardingsphere.driver.jdbc.core.datasource.ShardingSphereDataSource.getConnection(ShardingSphereDataSource.java:86)\n    at com.huawei.networkops.flink.monitor.pingmesh.broadcast.PingmeshDataResolver.update(PingmeshDataResolver.java:77)\n    at com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:39)\n    at com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:30)\n    at com.huawei.networkops.flink.monitor.common.broadcast.AbstractDataBroadcastStreamProcessor$DataBroadcastFunction.run(AbstractDataBroadcastStreamProcessor.java:166)\n    at org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:94)\n    at org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:58)\n    at org.apache.flink.streaming.runtime.tasks.SourceStreamTask.run(SourceStreamTask.java:99)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:300)\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:704)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>This is how ShardignSphere SPI loads its dependencies:</p>\n<pre><code>    private Collection&lt;T&gt; load() {\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\n        for (T each : ServiceLoader.load(serviceInterface)) {\n            result.add(each);\n        }\n        return result;\n    }\n</code></pre>\n<pre><code>public final class ShardingSphereServiceLoader&lt;T&gt; {\n    \n    private static final Map&lt;Class&lt;?&gt;, ShardingSphereServiceLoader&lt;?&gt;&gt; LOADERS = new ConcurrentHashMap&lt;&gt;();\n    \n    private final Class&lt;T&gt; serviceInterface;\n    \n    @Getter\n    private final Collection&lt;T&gt; services;\n    \n    private ShardingSphereServiceLoader(final Class&lt;T&gt; serviceInterface) {\n        this.serviceInterface = serviceInterface;\n        validate();\n        services = load();\n    }\n    \n    private void validate() {\n        Preconditions.checkNotNull(serviceInterface, &quot;SPI interface is null.&quot;);\n        Preconditions.checkArgument(serviceInterface.isInterface(), &quot;SPI interface `%s` is not interface.&quot;, serviceInterface);\n    }\n    \n    private Collection&lt;T&gt; load() {\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\n        for (T each : ServiceLoader.load(serviceInterface)) {\n            result.add(each);\n        }\n        return result;\n    }\n    \n    /**\n     * Get service instances.\n     *\n     * @param serviceInterface service interface\n     * @param &lt;T&gt; type of service interface\n     * @return service instances\n     * @see &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8161372&quot;&gt;JDK-8161372&lt;/a&gt;\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; Collection&lt;T&gt; getServiceInstances(final Class&lt;T&gt; serviceInterface) {\n        ShardingSphereServiceLoader&lt;?&gt; result = LOADERS.get(serviceInterface);\n        return (Collection&lt;T&gt;) (null != result ? result.getServiceInstances() : LOADERS.computeIfAbsent(serviceInterface, ShardingSphereServiceLoader::new).getServiceInstances());\n    }\n    \n    private Collection&lt;T&gt; getServiceInstances() {\n        return null == serviceInterface.getAnnotation(SingletonSPI.class) ? createNewServiceInstances() : getSingletonServiceInstances();\n    }\n    \n    @SneakyThrows(ReflectiveOperationException.class)\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private Collection&lt;T&gt; createNewServiceInstances() {\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\n        for (Object each : services) {\n            result.add((T) each.getClass().getDeclaredConstructor().newInstance());\n        }\n        return result;\n    }\n    \n    private Collection&lt;T&gt; getSingletonServiceInstances() {\n        return services;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","apache-zookeeper"],"comments":[{"owner":{"account_id":5946027,"reputation":692,"user_id":4675501,"accept_rate":85,"display_name":"Jayram Kumar"},"score":0,"creation_date":1686226099,"post_id":39347665,"comment_id":134771633,"body_markdown":"Kafka is primarily used to build real-time streaming data pipelines and applications that adapt to the data streams. It combines messaging, storage, and stream processing to allow storage and analysis of both historical and real-time data.","body":"Kafka is primarily used to build real-time streaming data pipelines and applications that adapt to the data streams. It combines messaging, storage, and stream processing to allow storage and analysis of both historical and real-time data."}],"answers":[{"tags":[],"owner":{"account_id":352422,"reputation":3179,"user_id":689500,"accept_rate":33,"display_name":"Shawn Guo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1473215417,"creation_date":1473215417,"answer_id":39360395,"question_id":39347665,"body_markdown":"You can check how `$KAFKA_HOME/bin/kafka-consumer-groups.sh` works and integrate its implementation into your `kafka manager tool`, this tool will show you detailed group owner information(for example, partition assignment, lag, IP).\r\n\r\nGROUP                          TOPIC                          **PARTITION**  CURRENT-OFFSET  LOG-END-OFFSET  LAG             **OWNER**  \r\n&lt;consumer group&gt; page_visits_10k                **0**          500             3333            2833            **consumer-1_/10.139.176.190**  \r\n&lt;consumer group&gt; page_visits_10k                **1**          0               3334            3334            **consumer-1_/10.139.176.190**  \r\n&lt;consumer group&gt; page_visits_10k                **2**          0               3333            3333            **consumer-1_/10.139.176.190**  ","title":"How to find which consumer is assigned to which partition of a topic in kafka?","body":"<p>You can check how <code>$KAFKA_HOME/bin/kafka-consumer-groups.sh</code> works and integrate its implementation into your <code>kafka manager tool</code>, this tool will show you detailed group owner information(for example, partition assignment, lag, IP).</p>\n\n<p>GROUP                          TOPIC                          <strong>PARTITION</strong>  CURRENT-OFFSET  LOG-END-OFFSET  LAG             <strong>OWNER</strong><br>\n page_visits_10k                <strong>0</strong>          500             3333            2833            <strong>consumer-1_/10.139.176.190</strong><br>\n page_visits_10k                <strong>1</strong>          0               3334            3334            <strong>consumer-1_/10.139.176.190</strong><br>\n page_visits_10k                <strong>2</strong>          0               3333            3333            <strong>consumer-1_/10.139.176.190</strong>  </p>\n"},{"tags":[],"owner":{"account_id":1783732,"reputation":11618,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686301873,"creation_date":1686210040,"answer_id":76429621,"question_id":39347665,"body_markdown":"I know it does not directly answer the question, but still relevant.\r\n\r\nIf you want to see the IP address of the consumer that is currently connected to a partition use the following command \r\n```\r\nkafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --describe --members\r\n```\r\n\r\nE.g.\r\n```\r\n# kafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --members --describe --verbose | grep name-of-topic\r\nmy-consumer-group consumer-my-consumer-group-1-40adb273-fd3d-46a3-9cd4-9c8c4a4da486  /10.8.36.66     consumer-my-consumer-group-1  1               name-of-topic(1)\r\nmy-consumer-group consumer-my-consumer-group-1-47fc5618-7f07-4b3e-a2a9-cf3c26ee3536  /10.8.9.79      consumer-my-consumer-group-1  1               name-of-topic(2)\r\nmy-consumer-group consumer-my-consumer-group-1-005da938-7c59-44c3-8d4c-4371fa222d15  /10.8.36.22     consumer-pmy-consumer-group-1  1               name-of-topic(0)\r\n```","title":"How to find which consumer is assigned to which partition of a topic in kafka?","body":"<p>I know it does not directly answer the question, but still relevant.</p>\n<p>If you want to see the IP address of the consumer that is currently connected to a partition use the following command</p>\n<pre><code>kafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --describe --members\n</code></pre>\n<p>E.g.</p>\n<pre><code># kafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --members --describe --verbose | grep name-of-topic\nmy-consumer-group consumer-my-consumer-group-1-40adb273-fd3d-46a3-9cd4-9c8c4a4da486  /10.8.36.66     consumer-my-consumer-group-1  1               name-of-topic(1)\nmy-consumer-group consumer-my-consumer-group-1-47fc5618-7f07-4b3e-a2a9-cf3c26ee3536  /10.8.9.79      consumer-my-consumer-group-1  1               name-of-topic(2)\nmy-consumer-group consumer-my-consumer-group-1-005da938-7c59-44c3-8d4c-4371fa222d15  /10.8.36.22     consumer-pmy-consumer-group-1  1               name-of-topic(0)\n</code></pre>\n"}],"owner":{"account_id":4289870,"reputation":366,"user_id":3506539,"display_name":"Himanshu Sahu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6359,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":39360395,"answer_count":2,"score":9,"last_activity_date":1686301873,"creation_date":1473160359,"question_id":39347665,"body_markdown":"I am building a `kafka manager tool` and I need to check which topic-partition is assigned to which consumer in a consumer group.\r\n\r\nSuppose there is consumer-Group `group-A` consuming topic `topic-A` with `n partitions`, so there can be multiple consumers in `group-A` hosted in `different VM&#39;s`. So how to find which partitioned is assigned to which consumer host? Is it possible in `kafka 0.9.1`?\r\n\r\nThanks in advance.","title":"How to find which consumer is assigned to which partition of a topic in kafka?","body":"<p>I am building a <code>kafka manager tool</code> and I need to check which topic-partition is assigned to which consumer in a consumer group.</p>\n\n<p>Suppose there is consumer-Group <code>group-A</code> consuming topic <code>topic-A</code> with <code>n partitions</code>, so there can be multiple consumers in <code>group-A</code> hosted in <code>different VM's</code>. So how to find which partitioned is assigned to which consumer host? Is it possible in <code>kafka 0.9.1</code>?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","timer","push-notification"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686294503,"post_id":76431519,"comment_id":134781884,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":9965924,"reputation":101,"user_id":7373632,"display_name":"Jie Xu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686225985,"creation_date":1686225985,"answer_id":76431699,"question_id":76431519,"body_markdown":"suggest use `ticker`\r\n```\r\nval tickerChannel = ticker(delayMillis = 15 * 1000)\r\n```","title":"android studio timer not canceling","body":"<p>suggest use <code>ticker</code></p>\n<pre><code>val tickerChannel = ticker(delayMillis = 15 * 1000)\n</code></pre>\n"}],"owner":{"account_id":27832473,"reputation":11,"user_id":21250633,"display_name":"Avenger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686301631,"creation_date":1686224611,"question_id":76431519,"body_markdown":"i&#39;m writing a task app where you can upload tasks with reminders through notification that will be send if you dont check the task as done. but even though i check the task it still pushes the notification.\r\n\r\ni found other questions on stackoverflow like this one but none of the solutions helped me.\r\n\r\nhere is the code\r\n\r\n`           \r\n\r\n    @Override           \r\n    public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\r\n                if(isChecked){\r\n                    //if item is checked update status to 1 and stop timer\r\n                    myDB.updateStatus(item.getId(), 1);\r\n                    Reminder_stopTimer();\r\n                }else{\r\n                    //if item is not checked update status to 0 and start timer\r\n                    myDB.updateStatus(item.getId(), 0);\r\n                    Reminder_startTimer();\r\n\r\n                }\r\n\r\n            }\r\n\r\n\r\n        });\r\n\r\n    }\r\n\r\n    public void setTasks(List&lt;ToDoModel&gt; mList){\r\n        this.mList = mList;\r\n        notifyDataSetChanged();\r\n        Reminder_startTimer();\r\n    }\r\n\r\n\r\n\r\n    //method to delete Task\r\n    public void deleteTask(int position){\r\n        ToDoModel item = mList.get(position);\r\n        //delete task from database\r\n        myDB.deleteTask(item.getId());\r\n        //delete task from list\r\n        mList.remove(position);\r\n        notifyItemRemoved(position);\r\n        Reminder_stopTimer();\r\n    }\r\n\r\n    \r\n    public void startStop(){\r\n        if (timerRunning){\r\n            Reminder_stopTimer();\r\n        }else {\r\n            Reminder_startTimer();\r\n        }\r\n    }\r\n    //timer for task reminder\r\n    public void Reminder_startTimer(){\r\n        countDownTimer = new CountDownTimer(TimeLeftInMilliseconds, 1000) {\r\n            @Override\r\n            public void onTick(long l) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                activity.makeNotification();\r\n            }\r\n        }.start();\r\n\r\n        timerRunning = true;\r\n    }\r\n\r\n    public void Reminder_stopTimer(){\r\n        timerRunning = false;\r\n        countDownTimer.cancel();\r\n\r\n    }\r\n    }\r\n`","title":"android studio timer not canceling","body":"<p>i'm writing a task app where you can upload tasks with reminders through notification that will be send if you dont check the task as done. but even though i check the task it still pushes the notification.</p>\n<p>i found other questions on stackoverflow like this one but none of the solutions helped me.</p>\n<p>here is the code</p>\n<p>`</p>\n<pre><code>@Override           \npublic void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\n            if(isChecked){\n                //if item is checked update status to 1 and stop timer\n                myDB.updateStatus(item.getId(), 1);\n                Reminder_stopTimer();\n            }else{\n                //if item is not checked update status to 0 and start timer\n                myDB.updateStatus(item.getId(), 0);\n                Reminder_startTimer();\n\n            }\n\n        }\n\n\n    });\n\n}\n\npublic void setTasks(List&lt;ToDoModel&gt; mList){\n    this.mList = mList;\n    notifyDataSetChanged();\n    Reminder_startTimer();\n}\n\n\n\n//method to delete Task\npublic void deleteTask(int position){\n    ToDoModel item = mList.get(position);\n    //delete task from database\n    myDB.deleteTask(item.getId());\n    //delete task from list\n    mList.remove(position);\n    notifyItemRemoved(position);\n    Reminder_stopTimer();\n}\n\n\npublic void startStop(){\n    if (timerRunning){\n        Reminder_stopTimer();\n    }else {\n        Reminder_startTimer();\n    }\n}\n//timer for task reminder\npublic void Reminder_startTimer(){\n    countDownTimer = new CountDownTimer(TimeLeftInMilliseconds, 1000) {\n        @Override\n        public void onTick(long l) {\n\n        }\n\n        @Override\n        public void onFinish() {\n            activity.makeNotification();\n        }\n    }.start();\n\n    timerRunning = true;\n}\n\npublic void Reminder_stopTimer(){\n    timerRunning = false;\n    countDownTimer.cancel();\n\n}\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":0,"creation_date":1686208153,"post_id":76427861,"comment_id":134768265,"body_markdown":"Scala&#39;s `List` is on a separate type hierarchy. This is by design, so that Scala can have its own Collection API regardless of the compilation target (Scala can also compile to JS and LLVM/native). When interacting with Java APIs, Scala developers are used to convert to the standard library collections. Note that Scala&#39;s `List` is also inherently immutable, whereas Java&#39;s isn&#39;t (I believe you can have an immutable implementation, but it would need to throw at runtime when you call destructive methods, making it clunky to use).","body":"Scala&#39;s <code>List</code> is on a separate type hierarchy. This is by design, so that Scala can have its own Collection API regardless of the compilation target (Scala can also compile to JS and LLVM/native). When interacting with Java APIs, Scala developers are used to convert to the standard library collections. Note that Scala&#39;s <code>List</code> is also inherently immutable, whereas Java&#39;s isn&#39;t (I believe you can have an immutable implementation, but it would need to throw at runtime when you call destructive methods, making it clunky to use)."}],"answers":[{"tags":[],"owner":{"account_id":31167,"reputation":10838,"user_id":85381,"accept_rate":80,"display_name":"iain"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686301509,"creation_date":1686184109,"answer_id":76427894,"question_id":76427861,"body_markdown":"You don&#39;t need an implicit conversion to do this. In fact implicit conversions are generally regarded as a bad thing now.\r\n\r\nJust create your Scala list and convert it explicitly when required by the interface.\r\n\r\n    import scala.jdk.CollectionConverters._\r\n    class Implementation[T] extends Interface[T] {\r\n      def makeScalaList(): List[T]\r\n      override def makeList(): java.util.List[T] = makeScalaList().asJava\r\n    }\r\n\r\n@Igor asked:\r\n\r\n&gt; Thanks. I understand I can do that. The point is to make it seemless to the users of the Scala implementation, yet make the scala implementation work where the java type Interface is expected.\r\n\r\nThis will not wont work automatically. To understand Java/Scala interop (and binary compatibility) it is important to understand how Scala maps syntactic sugar like implicit conversions or named parameters to jvm bytecode. The jvm is designed to run Java so lacks these Scala concepts. To get around this Scala injects code at the call site not the definition site.\r\n\r\nWhen you write the following Scala.\r\n\r\n    implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava\r\n    val list: List[String] = ...\r\n    val javaSubList = list.subList(0, 3)\r\n\r\nThe Scala compiler notices that `subList` is not a member of `scala.collection.List`. Then it looks for conversions to convert it to a type where the method is defined then chains to two method calls together at the call site. The Java would look like:\r\n\r\n    public &lt;V&gt; java.util.List&lt;V&gt; s2j(list: scala.collection.List[V]) {\r\n        new scala.jdk.CollectionConverter.SeqHasJava(list).asJava()\r\n    }\r\n    \r\n    scala.collection.List&lt;String&gt; list = ...\r\n    java.util.List&lt;String&gt; javaSubList = s2j(list).subList(0, 3)\r\n\r\n    \r\nSo while it feels like implicit conversions are adding extra functionality to a type, really the compiler is inserting code every time the caller requires it. Since Java and the JVM do not support these features, the only way this would work is if the Scala compiler injected the code into the definition site. Since it does not you must create the code in the definition site yourself which is what the proxy/bridge in @Ga&#235;l&#39;s answer does.\r\n\r\nIf you look closely you will see that all it does is put half of my code into an abstract class to separate the interop code from the Scala code.","title":"Can Scala class implement Java interface with automatic type conversion","body":"<p>You don't need an implicit conversion to do this. In fact implicit conversions are generally regarded as a bad thing now.</p>\n<p>Just create your Scala list and convert it explicitly when required by the interface.</p>\n<pre><code>import scala.jdk.CollectionConverters._\nclass Implementation[T] extends Interface[T] {\n  def makeScalaList(): List[T]\n  override def makeList(): java.util.List[T] = makeScalaList().asJava\n}\n</code></pre>\n<p>@Igor asked:</p>\n<blockquote>\n<p>Thanks. I understand I can do that. The point is to make it seemless to the users of the Scala implementation, yet make the scala implementation work where the java type Interface is expected.</p>\n</blockquote>\n<p>This will not wont work automatically. To understand Java/Scala interop (and binary compatibility) it is important to understand how Scala maps syntactic sugar like implicit conversions or named parameters to jvm bytecode. The jvm is designed to run Java so lacks these Scala concepts. To get around this Scala injects code at the call site not the definition site.</p>\n<p>When you write the following Scala.</p>\n<pre><code>implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava\nval list: List[String] = ...\nval javaSubList = list.subList(0, 3)\n</code></pre>\n<p>The Scala compiler notices that <code>subList</code> is not a member of <code>scala.collection.List</code>. Then it looks for conversions to convert it to a type where the method is defined then chains to two method calls together at the call site. The Java would look like:</p>\n<pre><code>public &lt;V&gt; java.util.List&lt;V&gt; s2j(list: scala.collection.List[V]) {\n    new scala.jdk.CollectionConverter.SeqHasJava(list).asJava()\n}\n\nscala.collection.List&lt;String&gt; list = ...\njava.util.List&lt;String&gt; javaSubList = s2j(list).subList(0, 3)\n</code></pre>\n<p>So while it feels like implicit conversions are adding extra functionality to a type, really the compiler is inserting code every time the caller requires it. Since Java and the JVM do not support these features, the only way this would work is if the Scala compiler injected the code into the definition site. Since it does not you must create the code in the definition site yourself which is what the proxy/bridge in @Gaël's answer does.</p>\n<p>If you look closely you will see that all it does is put half of my code into an abstract class to separate the interop code from the Scala code.</p>\n"},{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686199895,"creation_date":1686199895,"answer_id":76428702,"question_id":76427861,"body_markdown":"You can create a &quot;proxy layer&quot; with an abstract class:\r\n\r\n```scala\r\nimport scala.jdk.CollectionConverters._\r\n\r\nabstract class ScalaInterface[T] extends Interface[T] {\r\n  def makeScalaList(): List[T]\r\n  override def makeList(): java.util.List[T] = makeScalaList().asJava\r\n}\r\n\r\nclass Implementation[T] extends ScalaInterface[T] {\r\n  override def makeScalaList(): List[T] = ???\r\n}\r\n```\r\n\r\nInstead of implementing `Interface`, you implement `ScalaInterface`.","title":"Can Scala class implement Java interface with automatic type conversion","body":"<p>You can create a &quot;proxy layer&quot; with an abstract class:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.jdk.CollectionConverters._\n\nabstract class ScalaInterface[T] extends Interface[T] {\n  def makeScalaList(): List[T]\n  override def makeList(): java.util.List[T] = makeScalaList().asJava\n}\n\nclass Implementation[T] extends ScalaInterface[T] {\n  override def makeScalaList(): List[T] = ???\n}\n</code></pre>\n<p>Instead of implementing <code>Interface</code>, you implement <code>ScalaInterface</code>.</p>\n"}],"owner":{"account_id":8476974,"reputation":777,"user_id":6357920,"display_name":"Igor Urisman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686301509,"creation_date":1686183639,"question_id":76427861,"body_markdown":"This Java interface is defined in a library:\r\n```\r\npublic interface Interface&lt;T&gt; {\r\n  List&lt;T&gt; makeList();\r\n}\r\n```\r\n\r\nI&#39;d like to have a Scala class that implements it, but returns a Scala list instead of `java.util.List`. This is the best I could think of but it&#39;s not working:\r\n```\r\nimport scala.jdk.CollectionConverters._\r\nclass Implementation[T] extends Interface[T] {\r\n  implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava // This doesn&#39;t seem to do anything\r\n  override def makeList(): List[T] = ???\r\n}\r\n```\r\n`error overriding method makeList in trait Interface of type (): java.util.List[T]; method makeList of type (): List[T] has incompatible type`. Clearly, I can make each user of `Implementation` do its own conversion, but I was hoping for something neater.\r\n\r\n**EDIT:** From the responses, it appears that this is not possible.","title":"Can Scala class implement Java interface with automatic type conversion","body":"<p>This Java interface is defined in a library:</p>\n<pre><code>public interface Interface&lt;T&gt; {\n  List&lt;T&gt; makeList();\n}\n</code></pre>\n<p>I'd like to have a Scala class that implements it, but returns a Scala list instead of <code>java.util.List</code>. This is the best I could think of but it's not working:</p>\n<pre><code>import scala.jdk.CollectionConverters._\nclass Implementation[T] extends Interface[T] {\n  implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava // This doesn't seem to do anything\n  override def makeList(): List[T] = ???\n}\n</code></pre>\n<p><code>error overriding method makeList in trait Interface of type (): java.util.List[T]; method makeList of type (): List[T] has incompatible type</code>. Clearly, I can make each user of <code>Implementation</code> do its own conversion, but I was hoping for something neater.</p>\n<p><strong>EDIT:</strong> From the responses, it appears that this is not possible.</p>\n"},{"tags":["java","unix","ms-word","aspose","aspose.words"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686299168,"post_id":76438431,"comment_id":134782690,"body_markdown":"I don&#39;t know this api but maybe something to do with different line separators in Unix? (`\\n` instead of `\\r\\n`)","body":"I don&#39;t know this api but maybe something to do with different line separators in Unix? (<code>\\n</code> instead of <code>\\r\\n</code>)"},{"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"score":0,"creation_date":1686299599,"post_id":76438431,"comment_id":134782773,"body_markdown":"I am not using any logic to extract paragraphs on my own i am using inbuilt method to get paragraph text and page number. It is absolutely working fine in my windows machine but not in UNIX server. I am using same jar in both","body":"I am not using any logic to extract paragraphs on my own i am using inbuilt method to get paragraph text and page number. It is absolutely working fine in my windows machine but not in UNIX server. I am using same jar in both"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686299882,"post_id":76438431,"comment_id":134782823,"body_markdown":"Even so, that&#39;s the reason that first springs to mind. Maybe there&#39;s a setting in the api you haven&#39;t noticed... If you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) I&#39;ll test it on my (Unix) machine","body":"Even so, that&#39;s the reason that first springs to mind. Maybe there&#39;s a setting in the api you haven&#39;t noticed... If you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I&#39;ll test it on my (Unix) machine"}],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686300768,"creation_date":1686300436,"answer_id":76438663,"question_id":76438431,"body_markdown":"The problem in Unix environment might occur because the fonts used in the source document are not available in the environment where the document is processed. To calculate page number of the node Aspose.Words need to build document layout. Upon building document layout, if Aspose.Words cannot find the fonts used in the document the [fonts are substituted][1]. This might lead into the layout difference, since substitution fonts might have different font metrics. In turn, this might lead to incorrect page numbers detection by `LayoutCollector`. You can implement [IWarningCallback][2] to get a notification when font substitution is performed.\r\n\r\nThe following articles can be useful for you:\r\n\r\n&lt;https://docs.aspose.com/words/java/specify-truetype-fonts-location/&gt;\r\n\r\n&lt;https://docs.aspose.com/words/java/install-truetype-fonts-on-linux/&gt;\r\n\r\n\r\n  [1]: https://docs.aspose.com/words/java/manipulate-and-substitute-truetype-fonts/\r\n  [2]: https://reference.aspose.com/words/java/com.aspose.words/iwarningcallback/","title":"I am using aspose-words library in java to read word document and to report page number. It is working fine in windows but not in UNIX how can i fix?","body":"<p>The problem in Unix environment might occur because the fonts used in the source document are not available in the environment where the document is processed. To calculate page number of the node Aspose.Words need to build document layout. Upon building document layout, if Aspose.Words cannot find the fonts used in the document the <a href=\"https://docs.aspose.com/words/java/manipulate-and-substitute-truetype-fonts/\" rel=\"nofollow noreferrer\">fonts are substituted</a>. This might lead into the layout difference, since substitution fonts might have different font metrics. In turn, this might lead to incorrect page numbers detection by <code>LayoutCollector</code>. You can implement <a href=\"https://reference.aspose.com/words/java/com.aspose.words/iwarningcallback/\" rel=\"nofollow noreferrer\">IWarningCallback</a> to get a notification when font substitution is performed.</p>\n<p>The following articles can be useful for you:</p>\n<p><a href=\"https://docs.aspose.com/words/java/specify-truetype-fonts-location/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/words/java/specify-truetype-fonts-location/</a></p>\n<p><a href=\"https://docs.aspose.com/words/java/install-truetype-fonts-on-linux/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/words/java/install-truetype-fonts-on-linux/</a></p>\n"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76438663,"answer_count":1,"score":1,"last_activity_date":1686300768,"creation_date":1686298619,"question_id":76438431,"body_markdown":"I am using LayoutCollector in aspose-words library to get the page number of a node.\r\n```\r\nDocument document=new Document(filePath);\r\nLayoutCollector layoutCollector=new LayoutCollector(doc);\r\nNodeCollection paragraphNodes=document.getChildNodes(NodeType.Paragraph,true);\r\nfor(Node node:paragraphNodes)\r\n{\r\n if(node.getType==NodeType.PARAGRAPH){\r\n int pageNumber=layoutCollector.getStartPageIndex(node);\r\nSystem.out.println(pageNumber);\r\n}\r\n```\r\n\r\nWhile i am getting the exact page number in my local windows system but not in UNIX server. it is wrongly reporting the page numbers. Any reason for such behaviour, How can i fix this issue?","title":"I am using aspose-words library in java to read word document and to report page number. It is working fine in windows but not in UNIX how can i fix?","body":"<p>I am using LayoutCollector in aspose-words library to get the page number of a node.</p>\n<pre><code>Document document=new Document(filePath);\nLayoutCollector layoutCollector=new LayoutCollector(doc);\nNodeCollection paragraphNodes=document.getChildNodes(NodeType.Paragraph,true);\nfor(Node node:paragraphNodes)\n{\n if(node.getType==NodeType.PARAGRAPH){\n int pageNumber=layoutCollector.getStartPageIndex(node);\nSystem.out.println(pageNumber);\n}\n</code></pre>\n<p>While i am getting the exact page number in my local windows system but not in UNIX server. it is wrongly reporting the page numbers. Any reason for such behaviour, How can i fix this issue?</p>\n"},{"tags":["java","ios","katalon"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686304836,"post_id":76438658,"comment_id":134783757,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28786211,"reputation":1,"user_id":22046619,"display_name":"Hmimida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686300385,"creation_date":1686300385,"question_id":76438658,"body_markdown":"What could be causing the &quot;unknown server cannot find chrome binary&quot; error when using Katalon Studio&#39;s web recorder to record test cases on iOS Ventura 13.4, while using JDK 1.8? Can anyone provide assistance with this issue, please?\r\n\r\nsame problem when i change navigateur ","title":"Katalon web recorder erreur IOS","body":"<p>What could be causing the &quot;unknown server cannot find chrome binary&quot; error when using Katalon Studio's web recorder to record test cases on iOS Ventura 13.4, while using JDK 1.8? Can anyone provide assistance with this issue, please?</p>\n<p>same problem when i change navigateur</p>\n"},{"tags":["java","spring-boot","stored-procedures","spring-data-jpa","illegalargumentexception"],"owner":{"account_id":3007310,"reputation":434,"user_id":2551561,"accept_rate":25,"display_name":"Gurpreet Kaur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686299778,"creation_date":1686286151,"question_id":76437285,"body_markdown":"There is a stored procedure being called using Prepared statement. I need to call the same using Spring data JPA. I tried with the following solution but it&#39;s giving me exception: java.lang.IllegalArgumentException: Type cannot be null\r\n\r\nProcedure call using prepared statement:\r\n   \r\n\r\n    declare p_transaction_header \r\n    transaction_header_rec := NULL; x_voucher_id NUMBER; x_return_status varchar2(200); x_rejection_reason varchar2(4000); begin p_transaction_header.source := ? ; p_transaction_header.total_amount := ? ; p_transaction_header.total_records := ? ; p_transaction_header.external_key_identifier := ? ; open_transaction(p_transaction_header, ?, ?, ?); end;\r\n\r\n    prepareCall.setString(1, &quot;test&quot;);\r\n            prepareCall.setBigDecimal(2, traxFileAggregationInfo.getL_TOTAL_ENTERED_DEBIT_AMOUNT());\r\n            prepareCall.setBigDecimal(3, traxFileAggregationInfo.getL_TOTAL_RECORDS());\r\n            prepareCall.setString(4, fileId);\r\n            prepareCall.registerOutParameter(5,java.sql.Types.VARCHAR);\r\n            prepareCall.registerOutParameter(6, java.sql.Types.VARCHAR);\r\n            prepareCall.registerOutParameter(7,java.sql.Types.VARCHAR);\r\n            prepareCall.executeQuery();\r\n\r\n            vocherId = prepareCall.getString(5);\r\n            rejStatus = prepareCall.getString(6);\r\n            rejReason = prepareCall.getString(7);\r\n\r\n            openTransactionBo = new OpenTransactionBo(vocherId, rejStatus, rejReason);\r\n\r\n\r\n\r\nSolution I am trying:\r\n  \r\n\r\n    @Procedure(name = &quot;open_transaction&quot;)\r\n    OpenTransactionBo openTransaction(String source, double totalAmount, int totalRecords, String externalKeyIdentifier);\r\n\r\n    public class OpenTransactionBo {\r\n\r\n    private String vocherId;\r\n\r\n    private String rejStatus;\r\n\r\n    private String rejReason;\r\n}\r\n\r\n","title":"Call stored procedure using spring data jpa where procedure is","body":"<p>There is a stored procedure being called using Prepared statement. I need to call the same using Spring data JPA. I tried with the following solution but it's giving me exception: java.lang.IllegalArgumentException: Type cannot be null</p>\n<p>Procedure call using prepared statement:</p>\n<pre><code>declare p_transaction_header \ntransaction_header_rec := NULL; x_voucher_id NUMBER; x_return_status varchar2(200); x_rejection_reason varchar2(4000); begin p_transaction_header.source := ? ; p_transaction_header.total_amount := ? ; p_transaction_header.total_records := ? ; p_transaction_header.external_key_identifier := ? ; open_transaction(p_transaction_header, ?, ?, ?); end;\n\nprepareCall.setString(1, &quot;test&quot;);\n        prepareCall.setBigDecimal(2, traxFileAggregationInfo.getL_TOTAL_ENTERED_DEBIT_AMOUNT());\n        prepareCall.setBigDecimal(3, traxFileAggregationInfo.getL_TOTAL_RECORDS());\n        prepareCall.setString(4, fileId);\n        prepareCall.registerOutParameter(5,java.sql.Types.VARCHAR);\n        prepareCall.registerOutParameter(6, java.sql.Types.VARCHAR);\n        prepareCall.registerOutParameter(7,java.sql.Types.VARCHAR);\n        prepareCall.executeQuery();\n\n        vocherId = prepareCall.getString(5);\n        rejStatus = prepareCall.getString(6);\n        rejReason = prepareCall.getString(7);\n\n        openTransactionBo = new OpenTransactionBo(vocherId, rejStatus, rejReason);\n</code></pre>\n<p>Solution I am trying:</p>\n<pre><code>@Procedure(name = &quot;open_transaction&quot;)\nOpenTransactionBo openTransaction(String source, double totalAmount, int totalRecords, String externalKeyIdentifier);\n\npublic class OpenTransactionBo {\n\nprivate String vocherId;\n\nprivate String rejStatus;\n\nprivate String rejReason;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","servlets","netbeans","tomcat7"],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595676987,"creation_date":1595676581,"answer_id":63087795,"question_id":63087693,"body_markdown":"&gt; Deploying application with war file &#39;test.war&#39; to context &#39;/hello&#39; to server &#39;http://localhost:8080/manager/&#39;\r\nApplication failed to deploy: FAIL - Unable to delete [D:\\Program Files\\Apache\\Tomcat 9.0\\webapps\\hello]. The continued presence of this file may cause problems.\r\nFAIL - Application already exists at path /hello\r\n\r\nTomcat locks files or directory location. In most cases, this happens after the first successful deployment and subsequent ones will be blocked.\r\n\r\n**Resolution**\r\nThis can be fixed by adding \r\n\r\n&gt;     &lt;Context antiResourceLocking=&quot;true&quot;&gt;\r\n\r\n to tomcat context. The **antiResourceLocking** is by default set to false. More details can be read at http://tomcat.apache.org/tomcat-9.0-doc/config/context.html","title":"How do I fix this : FAIL - Application already exists at path /second","body":"<blockquote>\n<p>Deploying application with war file 'test.war' to context '/hello' to server 'http://localhost:8080/manager/'\nApplication failed to deploy: FAIL - Unable to delete [D:\\Program Files\\Apache\\Tomcat 9.0\\webapps\\hello]. The continued presence of this file may cause problems.\nFAIL - Application already exists at path /hello</p>\n</blockquote>\n<p>Tomcat locks files or directory location. In most cases, this happens after the first successful deployment and subsequent ones will be blocked.</p>\n<p><strong>Resolution</strong>\nThis can be fixed by adding</p>\n<blockquote>\n<pre><code>&lt;Context antiResourceLocking=&quot;true&quot;&gt;\n</code></pre>\n</blockquote>\n<p>to tomcat context. The <strong>antiResourceLocking</strong> is by default set to false. More details can be read at <a href=\"http://tomcat.apache.org/tomcat-9.0-doc/config/context.html\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/tomcat-9.0-doc/config/context.html</a></p>\n"},{"tags":[],"owner":{"account_id":21291742,"reputation":1,"user_id":18284091,"display_name":"Raf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686299469,"creation_date":1686299329,"answer_id":76438528,"question_id":63087693,"body_markdown":"helped for me\r\n`antiResourceLocking=&quot;true&quot;`\r\n`mvn cargo:redeploy`\r\n","title":"How do I fix this : FAIL - Application already exists at path /second","body":"<p>helped for me\n<code>antiResourceLocking=&quot;true&quot;</code>\n<code>mvn cargo:redeploy</code></p>\n"}],"owner":{"account_id":17804748,"reputation":416,"user_id":12930670,"display_name":"harili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3829,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63087795,"answer_count":2,"score":1,"last_activity_date":1686299469,"creation_date":1595675912,"question_id":63087693,"body_markdown":"I&#39;m having a problem that I don&#39;t know how to fix it. This the first time I have this problem. I tried to change the path in context.xml but it works the first time and remake the same problem.\r\n\r\nHere the error :\r\n```\r\nDeploying on Apache Tomcat or TomEE\r\n    profile mode: false\r\n    debug mode: false\r\n    force redeploy: true\r\nIn-place deployment at C:\\Users\\chafy\\Documents\\NetBeansProjects\\firstapp\\target\\firstapp-1.0-SNAPCHOT\r\nDeployment is in progress...\r\ndeploy?config=file%3A%2FC%3A%2FUsers%2Fchafy%2FAppData%2FLocal%2FTemp%2Fcontext5856041917942518665.xml&amp;path=/secondapp\r\nECHEC - l&#39;application existe d&#233;j&#224; dans le chemin [/secondapp]\r\n\r\n```\r\n","title":"How do I fix this : FAIL - Application already exists at path /second","body":"<p>I'm having a problem that I don't know how to fix it. This the first time I have this problem. I tried to change the path in context.xml but it works the first time and remake the same problem.</p>\n<p>Here the error :</p>\n<pre><code>Deploying on Apache Tomcat or TomEE\n    profile mode: false\n    debug mode: false\n    force redeploy: true\nIn-place deployment at C:\\Users\\chafy\\Documents\\NetBeansProjects\\firstapp\\target\\firstapp-1.0-SNAPCHOT\nDeployment is in progress...\ndeploy?config=file%3A%2FC%3A%2FUsers%2Fchafy%2FAppData%2FLocal%2FTemp%2Fcontext5856041917942518665.xml&amp;path=/secondapp\nECHEC - l'application existe déjà dans le chemin [/secondapp]\n\n</code></pre>\n"},{"tags":["java","mysql","mybatis"],"answers":[{"tags":[],"owner":{"account_id":184171,"reputation":2746,"user_id":420047,"accept_rate":79,"display_name":"Daniel Novak"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1323169338,"creation_date":1291126222,"answer_id":4314627,"question_id":4283159,"body_markdown":"The `&lt;insert&gt;`, `&lt;update&gt;`and `&lt;delete&gt;` statements return the number of affected rows, as is common with database APIs.\r\n\r\nIf a new ID is generated for the inserted row, it is reflected in the object you passed as a parameter. So for example, if you call mapper.insert(someObject) inside your annotated insert method, after inserting, you can call someObject.getId (or similar) to retrieve it.\r\n\r\nUsing the options of `&lt;insert&gt;`, you can tweak how (by providing an SQL statement) and when (before or after the actual insertion) the id is generated or retrieved, and where in the object it is put.\r\n\r\nIt may be instructive to use the [MyBatis generator][mbg] to generate classes from a database schema and have a look at how inserts and updates are handled. Specifically, the generator produces &quot;example&quot; classes that are used as temporary containers to pass around data.\r\n\r\n[mbg]: http://code.google.com/p/mybatis/wiki/Generator","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>The <code>&lt;insert&gt;</code>, <code>&lt;update&gt;</code>and <code>&lt;delete&gt;</code> statements return the number of affected rows, as is common with database APIs.</p>\n\n<p>If a new ID is generated for the inserted row, it is reflected in the object you passed as a parameter. So for example, if you call mapper.insert(someObject) inside your annotated insert method, after inserting, you can call someObject.getId (or similar) to retrieve it.</p>\n\n<p>Using the options of <code>&lt;insert&gt;</code>, you can tweak how (by providing an SQL statement) and when (before or after the actual insertion) the id is generated or retrieved, and where in the object it is put.</p>\n\n<p>It may be instructive to use the <a href=\"http://code.google.com/p/mybatis/wiki/Generator\" rel=\"noreferrer\">MyBatis generator</a> to generate classes from a database schema and have a look at how inserts and updates are handled. Specifically, the generator produces \"example\" classes that are used as temporary containers to pass around data.</p>\n"},{"tags":[],"owner":{"account_id":225702,"reputation":64,"user_id":1543136,"display_name":"edwinkun"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1292232255,"creation_date":1292232255,"answer_id":4427362,"question_id":4283159,"body_markdown":"you can get your generated ids from save methods,\r\nlets say a bean with ID and name properties,\r\n\r\n    bean.setName(&quot;xxx&quot;);\r\n    mapper.save(bean);\r\n    // here is your id\r\n    logger.debug(bean.getID);","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>you can get your generated ids from save methods,\nlets say a bean with ID and name properties,</p>\n\n<pre><code>bean.setName(\"xxx\");\nmapper.save(bean);\n// here is your id\nlogger.debug(bean.getID);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13345,"reputation":8533,"user_id":26737,"accept_rate":83,"display_name":"Manur"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1310141684,"creation_date":1308835908,"answer_id":6454886,"question_id":4283159,"body_markdown":"Actually, it&#39;s possible to do it, with the `@Options` annotation (provided you&#39;re using auto_increment or something similar in your database) :\r\n\r\n    @Insert(&quot;insert into table3 (id, name) values(null, #{name})&quot;) \r\n    @Options(useGeneratedKeys=true, keyProperty=&quot;idName&quot;)\r\n    int insertTable3(SomeBean myBean); \r\n\r\nNote that the `keyProperty=&quot;idName&quot;` part is not necessary if the key property in SomeBean is named &quot;id&quot;. There&#39;s also a `keyColumn` attribute available, for the rare cases when MyBatis can&#39;t find the primary key column by himself. Please also note that by using `@Options`, you&#39;re submitting your method to some default parameters ; it&#39;s important to consult the doc (linked below -- page 60 in the current version) !\r\n\r\n**(Old answer)** The (quite recent) `@SelectKey` annotation can be used for more complex key retrieval (sequences, identity() function...). Here&#39;s what the [MyBatis 3 User Guide][1] (pdf) offers as examples :\r\n\r\n&gt; This example shows using the @SelectKey annotation to retrieve a value from a sequence before an\r\n&gt; insert: \r\n\r\n    @Insert(&quot;insert into table3 (id, name) values(#{nameId}, #{name})&quot;) \r\n    @SelectKey(statement=&quot;call next value for TestSequence&quot;, keyProperty=&quot;nameId&quot;, before=true, resultType=int.class) \r\n    int insertTable3(Name name); \r\n\r\n&gt; This example shows using the @SelectKey annotation to retrieve an identity value after an insert: \r\n\r\n    @Insert(&quot;insert into table2 (name) values(#{name})&quot;)\r\n    @SelectKey(statement=&quot;call identity()&quot;, keyProperty=&quot;nameId&quot;, before=false, resultType=int.class)\r\n    int insertTable2(Name name);\r\n\r\n  [1]: http://code.google.com/p/mybatis/downloads/detail?name=MyBatis-3-User-Guide.pdf&amp;can=3&amp;q=Docs","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>Actually, it's possible to do it, with the <code>@Options</code> annotation (provided you're using auto_increment or something similar in your database) :</p>\n\n<pre><code>@Insert(\"insert into table3 (id, name) values(null, #{name})\") \n@Options(useGeneratedKeys=true, keyProperty=\"idName\")\nint insertTable3(SomeBean myBean); \n</code></pre>\n\n<p>Note that the <code>keyProperty=\"idName\"</code> part is not necessary if the key property in SomeBean is named \"id\". There's also a <code>keyColumn</code> attribute available, for the rare cases when MyBatis can't find the primary key column by himself. Please also note that by using <code>@Options</code>, you're submitting your method to some default parameters ; it's important to consult the doc (linked below -- page 60 in the current version) !</p>\n\n<p><strong>(Old answer)</strong> The (quite recent) <code>@SelectKey</code> annotation can be used for more complex key retrieval (sequences, identity() function...). Here's what the <a href=\"http://code.google.com/p/mybatis/downloads/detail?name=MyBatis-3-User-Guide.pdf&amp;can=3&amp;q=Docs\" rel=\"noreferrer\">MyBatis 3 User Guide</a> (pdf) offers as examples :</p>\n\n<blockquote>\n  <p>This example shows using the @SelectKey annotation to retrieve a value from a sequence before an\n  insert: </p>\n</blockquote>\n\n<pre><code>@Insert(\"insert into table3 (id, name) values(#{nameId}, #{name})\") \n@SelectKey(statement=\"call next value for TestSequence\", keyProperty=\"nameId\", before=true, resultType=int.class) \nint insertTable3(Name name); \n</code></pre>\n\n<blockquote>\n  <p>This example shows using the @SelectKey annotation to retrieve an identity value after an insert: </p>\n</blockquote>\n\n<pre><code>@Insert(\"insert into table2 (name) values(#{name})\")\n@SelectKey(statement=\"call identity()\", keyProperty=\"nameId\", before=false, resultType=int.class)\nint insertTable2(Name name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686299335,"creation_date":1630061024,"answer_id":68952069,"question_id":4283159,"body_markdown":"I didn&#39;t like most of the answers I found online for returning generated keys because\r\n\r\n1. All of the solutions I found called a &quot;setter&quot; on the inbound object\r\n2. None of the solutions returned the generated column from the method\r\n\r\nI came up with the following solution which addresses points 1 &amp; 2 above which\r\n\r\n1. Passes two parameters to mybatis &quot;in&quot; &amp; &quot;out&quot; (mybatis does not mutate &quot;in&quot;, it calls a setter on &quot;out&quot;)\r\n2. Requires an additional [default method](https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html) on the interface to return the value\r\n\r\n```\r\npublic interface MyMapper {\r\n   /**\r\n    * this method is used by the mybatis mapper\r\n    * I don&#39;t call this method directly in my application code   \r\n    */\r\n   @Insert(&quot;INSERT INTO MY_TABLE (FOO) VALUES (#{in.foo})&quot;)\r\n   @Options(useGeneratedKeys=true, keyColumn=&quot;ID&quot;, keyProperty = &quot;out.value&quot;)\r\n   void insert(@Param(&quot;in&quot;) MyTable in, @Param(&quot;out&quot;) LongReference out);\r\n\r\n   /**\r\n     * this &quot;default method&quot; is called in my application code and returns the generated id.\r\n     */\r\n   default long insert(MyTable tableBean) {\r\n      LongReference idReference = new LongReference();\r\n      insert(tableBean, idReference);\r\n      return idReference.getValue();\r\n   }\r\n}\r\n```\r\n\r\nThis requires an additional class which can be re-used on similar methods in future\r\n```\r\npublic class LongReference {\r\n    private Long value;\r\n\r\n    // getter &amp; setter\r\n}\r\n\r\n```\r\n   \r\n    ","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>I didn't like most of the answers I found online for returning generated keys because</p>\n<ol>\n<li>All of the solutions I found called a &quot;setter&quot; on the inbound object</li>\n<li>None of the solutions returned the generated column from the method</li>\n</ol>\n<p>I came up with the following solution which addresses points 1 &amp; 2 above which</p>\n<ol>\n<li>Passes two parameters to mybatis &quot;in&quot; &amp; &quot;out&quot; (mybatis does not mutate &quot;in&quot;, it calls a setter on &quot;out&quot;)</li>\n<li>Requires an additional <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">default method</a> on the interface to return the value</li>\n</ol>\n<pre><code>public interface MyMapper {\n   /**\n    * this method is used by the mybatis mapper\n    * I don't call this method directly in my application code   \n    */\n   @Insert(&quot;INSERT INTO MY_TABLE (FOO) VALUES (#{in.foo})&quot;)\n   @Options(useGeneratedKeys=true, keyColumn=&quot;ID&quot;, keyProperty = &quot;out.value&quot;)\n   void insert(@Param(&quot;in&quot;) MyTable in, @Param(&quot;out&quot;) LongReference out);\n\n   /**\n     * this &quot;default method&quot; is called in my application code and returns the generated id.\n     */\n   default long insert(MyTable tableBean) {\n      LongReference idReference = new LongReference();\n      insert(tableBean, idReference);\n      return idReference.getValue();\n   }\n}\n</code></pre>\n<p>This requires an additional class which can be re-used on similar methods in future</p>\n<pre><code>public class LongReference {\n    private Long value;\n\n    // getter &amp; setter\n}\n\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39253,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":4,"score":22,"last_activity_date":1686299335,"creation_date":1290755255,"question_id":4283159,"body_markdown":"- [See this related question][1] for Postgres. For some reason, the solution doesn&#39;t work for me - the return value of the insert statement is always &quot;1&quot;.\r\n- See this other question for an [XML based solution][2]. I would like to do the same without XML - insert a record and find the new auto-generated id of the record I just insreted.\r\n\r\nI didn&#39;t find a matching annotation to `&lt;selectkey&gt;` (see this [open issue][3])\r\nHow do I proceed?\r\n\r\nExamining mybatis code reveals that `INSERT` is implemented via `UPDATE`, and always returns the number of inserted rows! So ... unless I&#39;m completely missing something here, there&#39;s no way to do this using the current (3.0.3) implementation.\r\n\r\n  [1]: https://stackoverflow.com/questions/4260428/mybatis-how-to-return-the-id-of-the-inserted-object-under-postgres\r\n  [2]: https://stackoverflow.com/questions/1769688/howto-return-ids-on-inserts-with-ibatis-with-returning-keyword\r\n  [3]: http://code.google.com/p/mybatis/issues/detail?id=10","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<ul>\n<li><a href=\"https://stackoverflow.com/questions/4260428/mybatis-how-to-return-the-id-of-the-inserted-object-under-postgres\">See this related question</a> for Postgres. For some reason, the solution doesn't work for me - the return value of the insert statement is always \"1\".</li>\n<li>See this other question for an <a href=\"https://stackoverflow.com/questions/1769688/howto-return-ids-on-inserts-with-ibatis-with-returning-keyword\">XML based solution</a>. I would like to do the same without XML - insert a record and find the new auto-generated id of the record I just insreted.</li>\n</ul>\n\n<p>I didn't find a matching annotation to <code>&lt;selectkey&gt;</code> (see this <a href=\"http://code.google.com/p/mybatis/issues/detail?id=10\" rel=\"noreferrer\">open issue</a>)\nHow do I proceed?</p>\n\n<p>Examining mybatis code reveals that <code>INSERT</code> is implemented via <code>UPDATE</code>, and always returns the number of inserted rows! So ... unless I'm completely missing something here, there's no way to do this using the current (3.0.3) implementation.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686298847,"creation_date":1685647263,"answer_id":76385060,"question_id":76383728,"body_markdown":"To handle the &quot;tel:&quot; link in an Android WebView, you need to override the WebView&#39;s URL loading behavior and intercept the &quot;tel:&quot; URL scheme to open the phone dialer.\r\n\r\nCreate a Custom WebViewClient and implement as below-\r\n\r\n    val webView = findViewById&lt;WebView&gt;(R.id.webView)\r\n    webView.webViewClient = CustomWebViewClient()\r\n    val htmlContent = &quot;&lt;html&gt;&lt;a href=\\&quot;tel:8806288365\\&quot; &gt;phone&lt;/a&gt;&lt;/html&gt;&quot;\r\n    webView.loadDataWithBaseURL(null, htmlContent, &quot;text/html&quot;, &quot;UTF-8&quot;, null)\r\n\r\n    class CustomWebViewClient : WebViewClient() {\r\n        override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\r\n    //        return super.shouldOverrideUrlLoading(view, request)\r\n            val url = request?.url?.toString()\r\n            if (url?.startsWith(&quot;tel:&quot;) == true) {\r\n                val intent = Intent(Intent.ACTION_DIAL)\r\n                intent.data = Uri.parse(url)\r\n                view?.context?.startActivity(intent)\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }\r\n","title":"How to open app for &quot;tel:111111111&quot; link in android webview","body":"<p>To handle the &quot;tel:&quot; link in an Android WebView, you need to override the WebView's URL loading behavior and intercept the &quot;tel:&quot; URL scheme to open the phone dialer.</p>\n<p>Create a Custom WebViewClient and implement as below-</p>\n<pre><code>val webView = findViewById&lt;WebView&gt;(R.id.webView)\nwebView.webViewClient = CustomWebViewClient()\nval htmlContent = &quot;&lt;html&gt;&lt;a href=\\&quot;tel:8806288365\\&quot; &gt;phone&lt;/a&gt;&lt;/html&gt;&quot;\nwebView.loadDataWithBaseURL(null, htmlContent, &quot;text/html&quot;, &quot;UTF-8&quot;, null)\n\nclass CustomWebViewClient : WebViewClient() {\n    override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\n//        return super.shouldOverrideUrlLoading(view, request)\n        val url = request?.url?.toString()\n        if (url?.startsWith(&quot;tel:&quot;) == true) {\n            val intent = Intent(Intent.ACTION_DIAL)\n            intent.data = Uri.parse(url)\n            view?.context?.startActivity(intent)\n            return true\n        }\n        return false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686299230,"creation_date":1685635045,"question_id":76383728,"body_markdown":"I have problem to open direct contact link in android webview \r\nError : &quot;\r\n\r\nWebpage not available\r\n\r\nThe webpage at tel:8806288365 could not be loaded because:\r\n\r\nnet::ERR_UNKNOWN_URL_SCHEME&quot; \r\nPlease help .. \r\nThnaks \r\n\r\nIf any link like tel:, whatsapp: open in android webview , then I want to open dialer and whatsapp like this \r\n\r\nMy Code:\r\n```\r\nclass WebViewClientDemo extends WebViewClient {\r\n    @Override\r\n    //Keep webview in app when clicking links\r\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n//        view.loadUrl(url);\r\n//        return true;\r\n\r\n        if (url.startsWith(&quot;tel:&quot;)) {\r\n            // Handle telephone URLs\r\n            Intent intent = new Intent(Intent.ACTION_DIAL);\r\n            intent.setData(Uri.parse(url));\r\n            view.getContext().startActivity(intent);\r\n            return true;\r\n        } else if (url.startsWith(&quot;mailto:&quot;)) {\r\n            // Handle email URLs\r\n            Intent intent = new Intent(Intent.ACTION_SENDTO);\r\n            intent.setData(Uri.parse(url));\r\n            view.getContext().startActivity(intent);\r\n            return true;\r\n        } else {\r\n            // Load all other URLs within the WebView\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```","title":"How to open app for &quot;tel:111111111&quot; link in android webview","body":"<p>I have problem to open direct contact link in android webview\nError : &quot;</p>\n<p>Webpage not available</p>\n<p>The webpage at 8806288365 could not be loaded because:</p>\n<p>net::ERR_UNKNOWN_URL_SCHEME&quot;\nPlease help ..\nThnaks</p>\n<p>If any link like , whatsapp: open in android webview , then I want to open dialer and whatsapp like this</p>\n<p>My Code:</p>\n<pre><code>class WebViewClientDemo extends WebViewClient {\n    @Override\n    //Keep webview in app when clicking links\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n//        view.loadUrl(url);\n//        return true;\n\n        if (url.startsWith(&quot;tel:&quot;)) {\n            // Handle telephone URLs\n            Intent intent = new Intent(Intent.ACTION_DIAL);\n            intent.setData(Uri.parse(url));\n            view.getContext().startActivity(intent);\n            return true;\n        } else if (url.startsWith(&quot;mailto:&quot;)) {\n            // Handle email URLs\n            Intent intent = new Intent(Intent.ACTION_SENDTO);\n            intent.setData(Uri.parse(url));\n            view.getContext().startActivity(intent);\n            return true;\n        } else {\n            // Load all other URLs within the WebView\n            view.loadUrl(url);\n            return true;\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","list","for-loop","arraylist","addition"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686297439,"post_id":76438204,"comment_id":134782374,"body_markdown":"you already are adding elements to a list in that code.","body":"you already are adding elements to a list in that code."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686298717,"creation_date":1686298717,"answer_id":76438440,"question_id":76438204,"body_markdown":"You update a single object `tampon` of type `Terme[]`. That means that the list will end up with several references to that same object. What you need to do is create a new array inside the loop, and add that:\r\n\r\n```java\r\nfor(Terme element : right) {\r\n    Terme[] newElement = { element, left.get(i), };\r\n    System.out.println(&quot;liste de newElement[&quot;+i+&quot;]: &quot;+newElement[0].getNomC()+&quot;, &quot;+newElement[1].getNomC());\r\n    res.add(newElement);\r\n    this.printPair(res);\r\n    i++;\r\n}\r\n```\r\nIf the `tampon` field is now unused, you can remove it, and rename my `newElement` to `tampon` again.","title":"How to add an element to a list in Java?","body":"<p>You update a single object <code>tampon</code> of type <code>Terme[]</code>. That means that the list will end up with several references to that same object. What you need to do is create a new array inside the loop, and add that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(Terme element : right) {\n    Terme[] newElement = { element, left.get(i), };\n    System.out.println(&quot;liste de newElement[&quot;+i+&quot;]: &quot;+newElement[0].getNomC()+&quot;, &quot;+newElement[1].getNomC());\n    res.add(newElement);\n    this.printPair(res);\n    i++;\n}\n</code></pre>\n<p>If the <code>tampon</code> field is now unused, you can remove it, and rename my <code>newElement</code> to <code>tampon</code> again.</p>\n"}],"owner":{"account_id":6100446,"reputation":9,"user_id":4759646,"display_name":"louberlu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76438440,"answer_count":1,"score":-2,"last_activity_date":1686298717,"creation_date":1686296595,"question_id":76438204,"body_markdown":"I&#39;m not a english native. If you found any error , please correct me.\r\nI am creating an algo which maniplulates lists. But i have a problem in one of my method.\r\nHere it is:\r\n\r\n```\r\nprivate List&lt;Terme[]&gt; pairing(List&lt;Terme&gt; right, List&lt;Terme&gt; left) {\r\n\t\tList&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\r\n\t\tint i = 0;\r\n\t\t\r\n\t\tfor(Terme element : right) {\r\n\t\t\ttampon[0] = element;\r\n\t\t\ttampon[1] = left.get(i);\r\n\t\t\tSystem.out.println(&quot;liste de tampon[&quot;+i+&quot;]: &quot;+tampon[0].getNomC()+&quot;, &quot;+tampon[1].getNomC());\r\n\t\t\tres.add(tampon);\r\n\t\t\tthis.printPair(res);\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n```\r\n\r\nI have add the println to find the problem. Here what it prints:\r\n\r\n```\r\nP(x,x,f(t)), P(y,a,u)\r\nliste de tampon[0]: x, y\r\nPairing: {{x,y}}\r\nliste de tampon[1]: x, a\r\nPairing: {{x,a},{x,a}}\r\nliste de tampon[2]: f(t), u\r\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\r\n```\r\n\r\nThis method is used in this method of class:\r\n\r\n```\r\npublic void setDiff(Predicat[] couple) {\r\n\t\tList&lt;Terme[]&gt; liste = new ArrayList&lt;Terme[]&gt;();\r\n\t\tList&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\r\n\t\tliste = this.pairing(couple[0].getPredicatDe(), couple[1].getPredicatDe());\r\n\t\tthis.printPair(liste);\r\n\t\tboolean simple;\r\n\t\t\r\n\t\tdo{\r\n\t\t\tres = new ArrayList&lt;Terme[]&gt;();\r\n\t\t\tfor(Terme[] element : liste) {\r\n\t\t\t\tif(element[0].isEquals(element[1]) == false) {\r\n\t\t\t\t\tres.add(element);\r\n\t\t\t\t}else if((element[0].isType(&quot;Fonction&quot;)==true) &amp;&amp; (element[1].isType(&quot;Fonction&quot;)==true)) {\r\n\t\t\t\t\tfor(Terme[] litt : this.pairing(((Fonction) element[0]).getFonctionDe(), ((Fonction) element[1]).getFonctionDe())) {\r\n\t\t\t\t\t\tres.add(litt);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(\r\n\t\t\t}\r\n\t\t\tliste = res;\r\n\t\t\tdiff = liste;\r\n\t\t\tthis.printDiff();\r\n\t\t\tsimple = this.isSimple();\r\n\t\t}while(simple == false);\r\n\t\tdiff = liste;\r\n\t}\r\n```\r\n\r\n\r\nHere what it shows when called:\r\n\r\n```\r\nP(x,x,f(t)), P(y,a,u)\r\nliste de tampon[0]: x, y\r\nPairing: {{x,y}}\r\nliste de tampon[1]: x, a\r\nPairing: {{x,a},{x,a}}\r\nliste de tampon[2]: f(t), u\r\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\r\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\r\nDiff: {{f(t),u},{f(t),u},{f(t),u}}\r\n```\r\n\r\nWhat I want is the following results:\r\n```\r\nPairing: {{x,y},{x,a},{f(t),u}}\r\nDiff: {{x,y},{x,a},{f(t),u}}\r\n```\r\n\r\nFor those who are curious about the program i&#39;m writing just tell me how to share it.\r\n\r\nThanks in advance.","title":"How to add an element to a list in Java?","body":"<p>I'm not a english native. If you found any error , please correct me.\nI am creating an algo which maniplulates lists. But i have a problem in one of my method.\nHere it is:</p>\n<pre><code>private List&lt;Terme[]&gt; pairing(List&lt;Terme&gt; right, List&lt;Terme&gt; left) {\n        List&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\n        int i = 0;\n        \n        for(Terme element : right) {\n            tampon[0] = element;\n            tampon[1] = left.get(i);\n            System.out.println(&quot;liste de tampon[&quot;+i+&quot;]: &quot;+tampon[0].getNomC()+&quot;, &quot;+tampon[1].getNomC());\n            res.add(tampon);\n            this.printPair(res);\n            i++;\n        }\n        \n        return res;\n    }\n</code></pre>\n<p>I have add the println to find the problem. Here what it prints:</p>\n<pre><code>P(x,x,f(t)), P(y,a,u)\nliste de tampon[0]: x, y\nPairing: {{x,y}}\nliste de tampon[1]: x, a\nPairing: {{x,a},{x,a}}\nliste de tampon[2]: f(t), u\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\n</code></pre>\n<p>This method is used in this method of class:</p>\n<pre><code>public void setDiff(Predicat[] couple) {\n        List&lt;Terme[]&gt; liste = new ArrayList&lt;Terme[]&gt;();\n        List&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\n        liste = this.pairing(couple[0].getPredicatDe(), couple[1].getPredicatDe());\n        this.printPair(liste);\n        boolean simple;\n        \n        do{\n            res = new ArrayList&lt;Terme[]&gt;();\n            for(Terme[] element : liste) {\n                if(element[0].isEquals(element[1]) == false) {\n                    res.add(element);\n                }else if((element[0].isType(&quot;Fonction&quot;)==true) &amp;&amp; (element[1].isType(&quot;Fonction&quot;)==true)) {\n                    for(Terme[] litt : this.pairing(((Fonction) element[0]).getFonctionDe(), ((Fonction) element[1]).getFonctionDe())) {\n                        res.add(litt);\n                    }\n                }\n                System.out.println(\n            }\n            liste = res;\n            diff = liste;\n            this.printDiff();\n            simple = this.isSimple();\n        }while(simple == false);\n        diff = liste;\n    }\n</code></pre>\n<p>Here what it shows when called:</p>\n<pre><code>P(x,x,f(t)), P(y,a,u)\nliste de tampon[0]: x, y\nPairing: {{x,y}}\nliste de tampon[1]: x, a\nPairing: {{x,a},{x,a}}\nliste de tampon[2]: f(t), u\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\nDiff: {{f(t),u},{f(t),u},{f(t),u}}\n</code></pre>\n<p>What I want is the following results:</p>\n<pre><code>Pairing: {{x,y},{x,a},{f(t),u}}\nDiff: {{x,y},{x,a},{f(t),u}}\n</code></pre>\n<p>For those who are curious about the program i'm writing just tell me how to share it.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","mysql-5.5"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686299739,"post_id":76438359,"comment_id":134782798,"body_markdown":"You don&#39;t &quot;parse the byte array&quot; at all. What you do is issue your select query then get the appropriate date column from the `ResultSet`. `getTimestamp(int)` will do that for you but it might be better to use a class from `java.time`","body":"You don&#39;t &quot;parse the byte array&quot; at all. What you do is issue your select query then get the appropriate date column from the <code>ResultSet</code>. <code>getTimestamp(int)</code> will do that for you but it might be better to use a class from <code>java.time</code>"},{"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"score":0,"creation_date":1686300986,"post_id":76438359,"comment_id":134783028,"body_markdown":"i am trying to develop a software to subscribe the binlog of mysql, as a replica of a mysql, so my question is to parse the data of type datetime(3) in the binlog","body":"i am trying to develop a software to subscribe the binlog of mysql, as a replica of a mysql, so my question is to parse the data of type datetime(3) in the binlog"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686304094,"post_id":76438359,"comment_id":134783622,"body_markdown":"Ah I see sorry. I think I&#39;d need to look at an example binlog file","body":"Ah I see sorry. I think I&#39;d need to look at an example binlog file"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686305575,"post_id":76438359,"comment_id":134783894,"body_markdown":"afaics they are in Unix time (seconds since the epoch) so for string timestamp &#39;s&#39;: `Instant i = Instant.ofEpochSecond(Long.valueOf(s));`","body":"afaics they are in Unix time (seconds since the epoch) so for string timestamp &#39;s&#39;: <code>Instant i = Instant.ofEpochSecond(Long.valueOf(s));</code>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1686307243,"post_id":76438359,"comment_id":134784192,"body_markdown":"@gee Please [edit] your question to include the binlog format you are using. Also [edit] your question to include the source code you have so far.","body":"@gee Please <a href=\"https://stackoverflow.com/posts/76438359/edit\">edit</a> your question to include the binlog format you are using. Also <a href=\"https://stackoverflow.com/posts/76438359/edit\">edit</a> your question to include the source code you have so far."},{"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"score":0,"creation_date":1686538255,"post_id":76438359,"comment_id":134807144,"body_markdown":"i used mariadb which version is &#39;5.5.64-MariaDB-1~trusty&#39;, i get the method to parse the byte array of type datetime(3) after test,  it is different with the datetime type;","body":"i used mariadb which version is &#39;5.5.64-MariaDB-1~trusty&#39;, i get the method to parse the byte array of type datetime(3) after test,  it is different with the datetime type;"},{"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"score":0,"creation_date":1686538353,"post_id":76438359,"comment_id":134807149,"body_markdown":"the byte array of the type datetime(3) you get through subscribing the binlog is the micros from the time 0000-00-00 00:00:00.000000","body":"the byte array of the type datetime(3) you get through subscribing the binlog is the micros from the time 0000-00-00 00:00:00.000000"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686555850,"post_id":76438359,"comment_id":134808924,"body_markdown":"No, afaics microseconds would be datatime(6). datetime(3) is milliseconds","body":"No, afaics microseconds would be datatime(6). datetime(3) is milliseconds"}],"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686297921,"creation_date":1686297921,"question_id":76438359,"body_markdown":"how to parse the byte array of type datetime(3)  in the binlog of mysql5.5;\r\ni have known the length of the byte array of type datetime(3) is 8, but i don&#39;t know how to parse it to Timestamp\r\n\r\nthe way to parse the byte array to Timestamp","title":"how to parse the byte array of type datetime(3) in the binlog of mysql5.5","body":"<p>how to parse the byte array of type datetime(3)  in the binlog of mysql5.5;\ni have known the length of the byte array of type datetime(3) is 8, but i don't know how to parse it to Timestamp</p>\n<p>the way to parse the byte array to Timestamp</p>\n"},{"tags":["java","docker","networking","docker-compose"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686297902,"post_id":76438328,"comment_id":134782463,"body_markdown":"Are you sure your Java app listens to those `java.net` proxy options? Not all Java networking libraries will do that. You may have to make configuration for those libraries specifically.","body":"Are you sure your Java app listens to those <code>java.net</code> proxy options? Not all Java networking libraries will do that. You may have to make configuration for those libraries specifically."}],"owner":{"account_id":13669231,"reputation":21,"user_id":10907449,"display_name":"Nikolay Debolsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686297680,"creation_date":1686297680,"question_id":76438328,"body_markdown":"I have container with java app and i try to force use proxy for this app. In docker container proxy is work right (i checked via curl). But when i send my request in requestbin, i see server ip, but not proxy ip (server ip ends 37, proxy 18).\r\n\r\nThis is curl from container:\r\n\r\n```\r\ncurl 2ip.ru\r\nx.x.x.18\r\n```\r\nAnd in requestbin i get this ip:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/su5Yz.jpg)](https://i.stack.imgur.com/su5Yz.jpg)\r\n\r\nThis is my JAVA_OPTS:\r\n\r\n```\r\n-Xms512M -Xmx2048M -XX:MaxMetaspaceSize=256m -XX:+UseParallelGC -Djava.util.prefs.systemRoot=/app/.java -Djava.util.prefs.userRoot=/app/.java/.userPrefs -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Dcom.sun.security.enableCRLDP=true -Dcom.ibm.security.enableCRLDP=true -Dtls_prohibit_disabled_validation=false -Djava.util.prefs.syncInterval=9999 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Djava.net.useSystemProxies=true -Dhttp.proxyHost=10.0.1.13 -Dhttp.proxyPort=8081\r\n```\r\nAnd in docker-compose i use following envs:\r\n\r\n```\r\nhttp_proxy=&quot;http://10.0.1.13:8081&quot;\r\nhttps_proxy=&quot;http://10.0.1.13:8081&quot;\r\n```\r\nHow can i fix this? \r\n","title":"Java via proxy in docker container","body":"<p>I have container with java app and i try to force use proxy for this app. In docker container proxy is work right (i checked via curl). But when i send my request in requestbin, i see server ip, but not proxy ip (server ip ends 37, proxy 18).</p>\n<p>This is curl from container:</p>\n<pre><code>curl 2ip.ru\nx.x.x.18\n</code></pre>\n<p>And in requestbin i get this ip:</p>\n<p><a href=\"https://i.stack.imgur.com/su5Yz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/su5Yz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is my JAVA_OPTS:</p>\n<pre><code>-Xms512M -Xmx2048M -XX:MaxMetaspaceSize=256m -XX:+UseParallelGC -Djava.util.prefs.systemRoot=/app/.java -Djava.util.prefs.userRoot=/app/.java/.userPrefs -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Dcom.sun.security.enableCRLDP=true -Dcom.ibm.security.enableCRLDP=true -Dtls_prohibit_disabled_validation=false -Djava.util.prefs.syncInterval=9999 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Djava.net.useSystemProxies=true -Dhttp.proxyHost=10.0.1.13 -Dhttp.proxyPort=8081\n</code></pre>\n<p>And in docker-compose i use following envs:</p>\n<pre><code>http_proxy=&quot;http://10.0.1.13:8081&quot;\nhttps_proxy=&quot;http://10.0.1.13:8081&quot;\n</code></pre>\n<p>How can i fix this?</p>\n"},{"tags":["java","android","google-maps","sdk","fatal-error"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1686295859,"post_id":76437933,"comment_id":134782106,"body_markdown":"Caused by: com.google.android.gms.common.GooglePlayServicesMissingManifestValueException: A required meta-data tag in your app&#39;s AndroidManifest.xml does not exist.  You must have the following declaration within the &lt;application&gt; element:     &lt;meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt; \n$","body":"Caused by: com.google.android.gms.common.GooglePlayServicesMissingManif&zwnj;&#8203;estValueException: A required meta-data tag in your app&#39;s AndroidManifest.xml does not exist.  You must have the following declaration within the &lt;application&gt; element:     &lt;meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt;  $"}],"owner":{"account_id":27074305,"reputation":1,"user_id":20624511,"display_name":"Vidu Gajadeera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686297547,"creation_date":1686294016,"question_id":76437933,"body_markdown":"My app that uses Google Maps SDK just started crashing with this exception:\r\n\r\n    FATAL EXCEPTION: main                         \r\n    Process: com.example.newspaperdelivery, PID: 29598\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.newspaperdelivery/com.example.newspaperdelivery.DeliveryMapActivity}: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n    Caused by: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\r\n    Caused by: android.view.InflateException: Binary XML file line #11: Error inflating class fragment\r\n    Caused by: com.google.android.gms.common.GooglePlayServicesMissingManifestValueException: A required meta-data tag in your app&#39;s AndroidManifest.xml does not exist.  \r\n\t    You must have the following declaration within the &lt;application&gt; element:     \r\n\t    meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt; \r\n        at com.google.android.gms.common.GooglePlayServicesUtilLight.isGooglePlayServicesAvailable(com.google.android.gms:play-services-basement@@18.0.0:8)                                                                                                        \tat com.google.android.gms.common.GooglePlayServicesUtil.isGooglePlayServicesAvailable(com.google.android.gms:play-services-base@@18.0.1:2)                                                                                                        \tat com.google.android.gms.maps.internal.zzca.zza(com.google.android.gms:play-services-maps@@18.0.0:3)                                                                                                        \tat com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:4)                                                                                                        \tat com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                        \tat com.google.android.gms.maps.zzav.zzc(com.google.android.gms:play-services-maps@@18.0.0:2)                                                                                                        \tat com.google.android.gms.maps.zzav.createDelegate(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                        \tat com.google.android.gms.dynamic.DeferredLifecycleHelper.zaf(com.google.android.gms:play-services-base@@18.0.1:6)                                                                                                        \tat com.google.android.gms.dynamic.DeferredLifecycleHelper.onInflate(com.google.android.gms:play-services-base@@18.0.1:1)                                                                                                        \tat com.google.android.gms.maps.SupportMapFragment.onInflate(com.google.android.gms:play-services-maps@@18.0.0:9)                                                                                                        \tat androidx.fragment.app.Fragment.onInflate(Fragment.java:1731)\r\n        at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:103)\r\n        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\r\n        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:319)\r\n        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:298)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:777)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:495)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\r\n        at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:36)\r\n        at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:30)\r\n        at com.example.newspaperdelivery.DeliveryMapActivity.onCreate(DeliveryMapActivity.java:69)\r\n        at android.app.Activity.performCreate(Activity.java:6662)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\r\n    2023-06-09 12:11:26.705 29598-29598 AndroidRuntime          com.example.newspaperdelivery        E  \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n","title":"Android runtime fatal exception","body":"<p>My app that uses Google Maps SDK just started crashing with this exception:</p>\n<pre><code>FATAL EXCEPTION: main                         \nProcess: com.example.newspaperdelivery, PID: 29598\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.newspaperdelivery/com.example.newspaperdelivery.DeliveryMapActivity}: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\nCaused by: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\nCaused by: android.view.InflateException: Binary XML file line #11: Error inflating class fragment\nCaused by: com.google.android.gms.common.GooglePlayServicesMissingManifestValueException: A required meta-data tag in your app's AndroidManifest.xml does not exist.  \n    You must have the following declaration within the &lt;application&gt; element:     \n    meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt; \n    at com.google.android.gms.common.GooglePlayServicesUtilLight.isGooglePlayServicesAvailable(com.google.android.gms:play-services-basement@@18.0.0:8)                                                                                                         at com.google.android.gms.common.GooglePlayServicesUtil.isGooglePlayServicesAvailable(com.google.android.gms:play-services-base@@18.0.1:2)                                                                                                          at com.google.android.gms.maps.internal.zzca.zza(com.google.android.gms:play-services-maps@@18.0.0:3)                                                                                                           at com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:4)                                                                                                          at com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                          at com.google.android.gms.maps.zzav.zzc(com.google.android.gms:play-services-maps@@18.0.0:2)                                                                                                            at com.google.android.gms.maps.zzav.createDelegate(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                         at com.google.android.gms.dynamic.DeferredLifecycleHelper.zaf(com.google.android.gms:play-services-base@@18.0.1:6)                                                                                                          at com.google.android.gms.dynamic.DeferredLifecycleHelper.onInflate(com.google.android.gms:play-services-base@@18.0.1:1)                                                                                                            at com.google.android.gms.maps.SupportMapFragment.onInflate(com.google.android.gms:play-services-maps@@18.0.0:9)                                                                                                            at androidx.fragment.app.Fragment.onInflate(Fragment.java:1731)\n    at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:103)\n    at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\n    at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:319)\n    at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:298)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:777)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:495)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\n    at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:36)\n    at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:30)\n    at com.example.newspaperdelivery.DeliveryMapActivity.onCreate(DeliveryMapActivity.java:69)\n    at android.app.Activity.performCreate(Activity.java:6662)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n2023-06-09 12:11:26.705 29598-29598 AndroidRuntime          com.example.newspaperdelivery        E      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n"},{"tags":["java","bash","shell"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1686242844,"post_id":76433994,"comment_id":134775619,"body_markdown":"Have you checked args with `System.out.println(args[0]);` ?","body":"Have you checked args with <code>System.out.println(args[0]);</code> ?"},{"owner":{"account_id":5425221,"reputation":32111,"user_id":7366100,"display_name":"markp-fuso"},"score":2,"creation_date":1686243279,"post_id":76433994,"comment_id":134775719,"body_markdown":"do those input lines have windows/dos line endings (`\\r\\n`)? the error message a) references the last number in the line (`6228865`) and b) appears to be missing the trailing double quote; (NOTE: I don&#39;t work with `java` so making a guess at this point ...) I&#39;m wondering if a trailing `\\r` would cause the trailing double quote to show up at the front of the string (ie, overprint the leading double quote)?  what is the output from running (`bash` command): `typeset -p output`?","body":"do those input lines have windows/dos line endings (<code>\\r\\n</code>)? the error message a) references the last number in the line (<code>6228865</code>) and b) appears to be missing the trailing double quote; (NOTE: I don&#39;t work with <code>java</code> so making a guess at this point ...) I&#39;m wondering if a trailing <code>\\r</code> would cause the trailing double quote to show up at the front of the string (ie, overprint the leading double quote)?  what is the output from running (<code>bash</code> command): <code>typeset -p output</code>?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1686243505,"post_id":76433994,"comment_id":134775767,"body_markdown":"Note: An easier way to omit the first line is with `sed 1d`. I agree that there is probably undesired whitespace that is causing problems. Printing the string length would help identify it as would printing the code points in hex, and a judicious use of `String::trim` would likely fix it.","body":"Note: An easier way to omit the first line is with <code>sed 1d</code>. I agree that there is probably undesired whitespace that is causing problems. Printing the string length would help identify it as would printing the code points in hex, and a judicious use of <code>String::trim</code> would likely fix it."},{"owner":{"account_id":5425221,"reputation":32111,"user_id":7366100,"display_name":"markp-fuso"},"score":1,"creation_date":1686243745,"post_id":76433994,"comment_id":134775813,"body_markdown":"ah, yeah, the trailing double quote is actually at the start of the line (see lambda-larry&#39;s answer) ... definitely an issue with a `\\r` at the end of the line (ie, end of the 2nd number)","body":"ah, yeah, the trailing double quote is actually at the start of the line (see lambda-larry&#39;s answer) ... definitely an issue with a <code>\\r</code> at the end of the line (ie, end of the 2nd number)"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1686245556,"post_id":76433994,"comment_id":134776150,"body_markdown":"You can eliminate your second Java program and use other unix tools to split the output onto separate lines as another step in the pipeline - `sed` and `awk` immediately come to mind... for example `echo &quot;$output&quot; | head -2 | tail -1 | sed &#39;s/,/\\r\\n/g&#39;`","body":"You can eliminate your second Java program and use other unix tools to split the output onto separate lines as another step in the pipeline - <code>sed</code> and <code>awk</code> immediately come to mind... for example <code>echo &quot;$output&quot; | head -2 | tail -1 | sed &#39;s&#47;,&#47;\\r\\n&#47;g&#39;</code>"},{"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"score":0,"creation_date":1686364385,"post_id":76433994,"comment_id":134792770,"body_markdown":"Thank you, I already checked the args[0] and printed without additional either `\\r`or `\\n`. I believe those characters exists in my args. And solved by using `trim()`.","body":"Thank you, I already checked the args[0] and printed without additional either <code>\\r</code>or <code>\\n</code>. I believe those characters exists in my args. And solved by using <code>trim()</code>."}],"answers":[{"tags":[],"owner":{"account_id":28551451,"reputation":343,"user_id":21856268,"display_name":"lambda-larry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686252634,"creation_date":1686242934,"answer_id":76434089,"question_id":76433994,"body_markdown":"I suspect that there is a `\\r` at the end of the last argument, which explains why `Exception` is spelled `&quot;xception`.\r\n\r\nYou can confirm that it is the case by pipe the output to a hex dump.\r\n\r\n```\r\njava -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1 | xxd\r\n```\r\n\r\n\r\nYou can trim the `\\r` of with `tr -d &#39;\\r&#39;` in the bash part or strip the argument in the Java part.\r\n\r\n```java\r\nString[] values = args[0].strip().split(&quot;,&quot;);\r\n```","title":"Bash script command output error when splitting up and convert to int","body":"<p>I suspect that there is a <code>\\r</code> at the end of the last argument, which explains why <code>Exception</code> is spelled <code>&quot;xception</code>.</p>\n<p>You can confirm that it is the case by pipe the output to a hex dump.</p>\n<pre><code>java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1 | xxd\n</code></pre>\n<p>You can trim the <code>\\r</code> of with <code>tr -d '\\r'</code> in the bash part or strip the argument in the Java part.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] values = args[0].strip().split(&quot;,&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686250959,"creation_date":1686250959,"answer_id":76434960,"question_id":76433994,"body_markdown":"If there is a _[non-printing character](https://en.wikipedia.org/wiki/Control_character)_ there, typically the _[String#strip](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#strip())_ method will remove it.  \r\n_[String#trim](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#trim())_ may work, also.\r\n\r\nTry the following.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String[] values = args[0].split(&quot;,&quot;);\r\n\r\n    System.out.println(Integer.parseInt(values[0].strip()));\r\n    System.out.println(Integer.parseInt(values[1].strip()));\r\n}\r\n```","title":"Bash script command output error when splitting up and convert to int","body":"<p>If there is a <em><a href=\"https://en.wikipedia.org/wiki/Control_character\" rel=\"nofollow noreferrer\">non-printing character</a></em> there, typically the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#strip()\" rel=\"nofollow noreferrer\">String#strip</a></em> method will remove it.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\">String#trim</a></em> may work, also.</p>\n<p>Try the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String[] values = args[0].split(&quot;,&quot;);\n\n    System.out.println(Integer.parseInt(values[0].strip()));\n    System.out.println(Integer.parseInt(values[1].strip()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686296940,"creation_date":1686296940,"answer_id":76438242,"question_id":76433994,"body_markdown":"Since you mentioned that your `bundletool.jar` produces a carriage return as line ending, I would (if you can not change the Java program to produce reasonable line endings) simply do a\r\n\r\n    nums=( $(java .... bundletool.jar ... |dos2unix|awk -F , &#39;{print $1, $2}&#39;) )\r\n\r\nYou then have the first number in `${nums[0]}` and the second one in `${nums[1]}`\r\n\r\n","title":"Bash script command output error when splitting up and convert to int","body":"<p>Since you mentioned that your <code>bundletool.jar</code> produces a carriage return as line ending, I would (if you can not change the Java program to produce reasonable line endings) simply do a</p>\n<pre><code>nums=( $(java .... bundletool.jar ... |dos2unix|awk -F , '{print $1, $2}') )\n</code></pre>\n<p>You then have the first number in <code>${nums[0]}</code> and the second one in <code>${nums[1]}</code></p>\n"}],"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1686364485,"accepted_answer_id":76434960,"answer_count":3,"score":-2,"last_activity_date":1686296940,"creation_date":1686242166,"question_id":76433994,"body_markdown":"I create a bash script to read the output from another command (`java -jar ...`).\r\n\r\nThe result from the command is like below:\r\n```txt\r\nMIN,MAX\r\n6165350,6228865\r\n```\r\n\r\nI omit the first line using `head -2 | tail -1` so the output will become\r\n```txt\r\n6165350,6228865\r\n```\r\n\r\nAnd i save it to the variable called `output`\r\n```sh\r\noutput=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\r\n```\r\n\r\nLast, I create java file to split the output results\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Demo {\r\n    public static void main(String[] args) {\r\n        String[] values = args[0].split(&quot;,&quot;);\r\n\r\n        System.out.println(Integer.parseInt(values[0]));\r\n        System.out.println(Integer.parseInt(values[1]));\r\n    }\r\n}\r\n```\r\n\r\nAnd below is the final bash script\r\n```sh\r\n#!bin/bash\r\noutput=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\r\njava Demo $output\r\n```\r\n\r\nWhen i run the bash, why i&#39;m getting the error\r\n```txt\r\n6165350\r\n&quot;xception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;6228865\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n        at Demo.main(Demo.java:8)\r\n```\r\n\r\nI get the correct results when i try to change the `output`\r\n```\r\noutput=&quot;6165350,6228865&quot;\r\n```\r\n\r\nThank you","title":"Bash script command output error when splitting up and convert to int","body":"<p>I create a bash script to read the output from another command (<code>java -jar ...</code>).</p>\n<p>The result from the command is like below:</p>\n<pre><code>MIN,MAX\n6165350,6228865\n</code></pre>\n<p>I omit the first line using <code>head -2 | tail -1</code> so the output will become</p>\n<pre><code>6165350,6228865\n</code></pre>\n<p>And i save it to the variable called <code>output</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>output=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\n</code></pre>\n<p>Last, I create java file to split the output results</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Demo {\n    public static void main(String[] args) {\n        String[] values = args[0].split(&quot;,&quot;);\n\n        System.out.println(Integer.parseInt(values[0]));\n        System.out.println(Integer.parseInt(values[1]));\n    }\n}\n</code></pre>\n<p>And below is the final bash script</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!bin/bash\noutput=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\njava Demo $output\n</code></pre>\n<p>When i run the bash, why i'm getting the error</p>\n<pre><code>6165350\n&quot;xception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;6228865\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\n        at Demo.main(Demo.java:8)\n</code></pre>\n<p>I get the correct results when i try to change the <code>output</code></p>\n<pre><code>output=&quot;6165350,6228865&quot;\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","api","sonarqube","metrics","sonarqube-scan"],"owner":{"account_id":28785840,"reputation":1,"user_id":22046321,"display_name":"irfan basha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686296611,"creation_date":1686296611,"question_id":76438210,"body_markdown":"Needed Sonar API to get the metrics from last analysed branch \r\n\r\nI am fetching the sonar metrics using this api call. https://hostname.com/api/measures/component?component=projectkey&amp;metricKeys=coverage,new_coverage\r\n\r\nThis gives me the coverage and new code coverage from the branch configured as main branch in the sonar. But I want the metrics from the branch which is last analysed branch. and I need this without specifying the branch names in the api call and I want it to fetch automatically from the latest analysed branch Can anyone help please.","title":"Sonar API Metrics","body":"<p>Needed Sonar API to get the metrics from last analysed branch</p>\n<p>I am fetching the sonar metrics using this api call. <a href=\"https://hostname.com/api/measures/component?component=projectkey&amp;metricKeys=coverage,new_coverage\" rel=\"nofollow noreferrer\">https://hostname.com/api/measures/component?component=projectkey&amp;metricKeys=coverage,new_coverage</a></p>\n<p>This gives me the coverage and new code coverage from the branch configured as main branch in the sonar. But I want the metrics from the branch which is last analysed branch. and I need this without specifying the branch names in the api call and I want it to fetch automatically from the latest analysed branch Can anyone help please.</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1686244645,"post_id":76433481,"comment_id":134775986,"body_markdown":"How did you install the CLI? What&#39;s the output of `java -version` on your box?","body":"How did you install the CLI? What&#39;s the output of <code>java -version</code> on your box?"},{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686246641,"post_id":76433481,"comment_id":134776368,"body_markdown":"The CLI was installed using homebrew. Java version is openjdk version &quot;17.0.7&quot; 2023-04-18. I also upgrade the CLI using brew upgrade quarkus.","body":"The CLI was installed using homebrew. Java version is openjdk version &quot;17.0.7&quot; 2023-04-18. I also upgrade the CLI using brew upgrade quarkus."},{"owner":{"account_id":15842985,"reputation":308,"user_id":11430945,"display_name":"Alexey Loubyansky"},"score":0,"creation_date":1686247324,"post_id":76433481,"comment_id":134776519,"body_markdown":"Could you try `mvn quarkus:dev` w/o `compile`, it&#39;ll probably fail in the same way as the CLI. But would be good to confirm. Thanks.","body":"Could you try <code>mvn quarkus:dev</code> w/o <code>compile</code>, it&#39;ll probably fail in the same way as the CLI. But would be good to confirm. Thanks."},{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686250290,"post_id":76433481,"comment_id":134777038,"body_markdown":"No, this does not fail like the CLI. It starts up Dev mode as expected.","body":"No, this does not fail like the CLI. It starts up Dev mode as expected."},{"owner":{"account_id":15842985,"reputation":308,"user_id":11430945,"display_name":"Alexey Loubyansky"},"score":0,"creation_date":1686254855,"post_id":76433481,"comment_id":134777779,"body_markdown":"Thanks for checking. Do you have `mvnw` in the project? Could you check whether using `mvnw` vs `mvn` makes a difference? The CLI would prefer `mvnw` if it exists. Thanks.","body":"Thanks for checking. Do you have <code>mvnw</code> in the project? Could you check whether using <code>mvnw</code> vs <code>mvn</code> makes a difference? The CLI would prefer <code>mvnw</code> if it exists. Thanks."},{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686400141,"post_id":76433481,"comment_id":134795250,"body_markdown":"With `mvnw` the same problem occurs. It must be my local Java or Maven configuration and not related to Quarkus I suppose.","body":"With <code>mvnw</code> the same problem occurs. It must be my local Java or Maven configuration and not related to Quarkus I suppose."}],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686296476,"creation_date":1686296476,"answer_id":76438187,"question_id":76433481,"body_markdown":"The CLI Homebrew packaging is using the following script to determine the `java` binary that will be executed:\r\n\r\n```bash\r\n# OS specific support.  $var _must_ be set to either true or false.\r\ncygwin=false;\r\ndarwin=false;\r\ncase &quot;`uname`&quot; in\r\n  CYGWIN*) cygwin=true ;;\r\n  Darwin*) darwin=true\r\n           if [ -z &quot;$JAVA_VERSION&quot; ] ; then\r\n             JAVA_VERSION=&quot;CurrentJDK&quot;\r\n           else\r\n             echo &quot;Using Java version: $JAVA_VERSION&quot;\r\n           fi\r\n\t\t   if [ -z &quot;$JAVA_HOME&quot; ]; then\r\n\t\t      if [ -x &quot;/usr/libexec/java_home&quot; ]; then\r\n\t\t\t      JAVA_HOME=`/usr/libexec/java_home`\r\n\t\t\t  else\r\n\t\t\t      JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/${JAVA_VERSION}/Home\r\n\t\t\t  fi\r\n           fi       \r\n           ;;\r\nesac\r\n\r\nif [ -z &quot;$JAVA_HOME&quot; ] ; then\r\n  if [ -r /etc/gentoo-release ] ; then\r\n    JAVA_HOME=`java-config --jre-home`\r\n  fi\r\nfi\r\n\r\n# For Cygwin, ensure paths are in UNIX format before anything is touched\r\nif $cygwin ; then\r\n  [ -n &quot;$JAVA_HOME&quot; ] &amp;&amp; JAVA_HOME=`cygpath --unix &quot;$JAVA_HOME&quot;`\r\n  [ -n &quot;$CLASSPATH&quot; ] &amp;&amp; CLASSPATH=`cygpath --path --unix &quot;$CLASSPATH&quot;`\r\nfi\r\n\r\n# If a specific java binary isn&#39;t specified search for the standard &#39;java&#39; binary\r\nif [ -z &quot;$JAVACMD&quot; ] ; then\r\n  if [ -n &quot;$JAVA_HOME&quot;  ] ; then\r\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\r\n      # IBM&#39;s JDK on AIX uses strange locations for the executables\r\n      JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\r\n    else\r\n      JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\r\n    fi\r\n  else\r\n    JAVACMD=`which java`\r\n  fi\r\nfi\r\n```\r\n\r\nIf you go through it with your OS in mind and checking the various paths, I think you should have your answer as to why the CLI is using a different JDK than the `java` from your `$PATH` than Maven is using.\r\n\r\nIt&#39;s very environment-dependent so it&#39;s hard to help more without having the environment at hand.","title":"Quarkus CLI picks wrong Java version for dev mode","body":"<p>The CLI Homebrew packaging is using the following script to determine the <code>java</code> binary that will be executed:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># OS specific support.  $var _must_ be set to either true or false.\ncygwin=false;\ndarwin=false;\ncase &quot;`uname`&quot; in\n  CYGWIN*) cygwin=true ;;\n  Darwin*) darwin=true\n           if [ -z &quot;$JAVA_VERSION&quot; ] ; then\n             JAVA_VERSION=&quot;CurrentJDK&quot;\n           else\n             echo &quot;Using Java version: $JAVA_VERSION&quot;\n           fi\n           if [ -z &quot;$JAVA_HOME&quot; ]; then\n              if [ -x &quot;/usr/libexec/java_home&quot; ]; then\n                  JAVA_HOME=`/usr/libexec/java_home`\n              else\n                  JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/${JAVA_VERSION}/Home\n              fi\n           fi       \n           ;;\nesac\n\nif [ -z &quot;$JAVA_HOME&quot; ] ; then\n  if [ -r /etc/gentoo-release ] ; then\n    JAVA_HOME=`java-config --jre-home`\n  fi\nfi\n\n# For Cygwin, ensure paths are in UNIX format before anything is touched\nif $cygwin ; then\n  [ -n &quot;$JAVA_HOME&quot; ] &amp;&amp; JAVA_HOME=`cygpath --unix &quot;$JAVA_HOME&quot;`\n  [ -n &quot;$CLASSPATH&quot; ] &amp;&amp; CLASSPATH=`cygpath --path --unix &quot;$CLASSPATH&quot;`\nfi\n\n# If a specific java binary isn't specified search for the standard 'java' binary\nif [ -z &quot;$JAVACMD&quot; ] ; then\n  if [ -n &quot;$JAVA_HOME&quot;  ] ; then\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\n      # IBM's JDK on AIX uses strange locations for the executables\n      JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\n    else\n      JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\n    fi\n  else\n    JAVACMD=`which java`\n  fi\nfi\n</code></pre>\n<p>If you go through it with your OS in mind and checking the various paths, I think you should have your answer as to why the CLI is using a different JDK than the <code>java</code> from your <code>$PATH</code> than Maven is using.</p>\n<p>It's very environment-dependent so it's hard to help more without having the environment at hand.</p>\n"}],"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76438187,"answer_count":1,"score":1,"last_activity_date":1686296476,"creation_date":1686238230,"question_id":76433481,"body_markdown":"In my Quarkus 3.1.1.Final application I am using Java 17, which is configured in the POM file.   \r\nNormally I use the Quarkus CLI and execute `quarkus dev` or `quarkus test` while developing.   \r\n\r\nAfter upgrading I noticed that these commands no longer work and give the following error:    \r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:137)\r\n\tat io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\r\nCaused by: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:398)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1210)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1221)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\r\n\tat java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\r\n\tat java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\r\n\tat io.quarkus.deployment.dev.IsolatedTestModeMain.setupRuntimeCompilation(IsolatedTestModeMain.java:73)\r\n\tat io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:123)\r\n\tat io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:34)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\r\n```\r\n\r\nIt seems that the Quarkus CLI uses Java 11 (55.0) for its execution, even though I have configured Java 17 (61.0).    \r\nI have verified my configuration using `mvn clean verify`, `mvn compile quarkus:dev` and `mvn compile quarkus:test` which all build successfully.    \r\nAlso in IntelliJ I am able to run all tests or individual tests successfully using Java 17.   \r\nThe application runs in a Java 17 based Docker container without any problems.   \r\nThe problem here is that Quarkus CLI seems to choose a different Java version.   \r\n\r\nWhat is the reason Quarkus CLI choses Java 11 instead of Java 17?   \r\nHow can I configure Quarkus CLI to use the same Java version as Maven?   \r\nIs there anything to learn about the difference between the Maven commands and Quarkus CLI?    ","title":"Quarkus CLI picks wrong Java version for dev mode","body":"<p>In my Quarkus 3.1.1.Final application I am using Java 17, which is configured in the POM file.<br />\nNormally I use the Quarkus CLI and execute <code>quarkus dev</code> or <code>quarkus test</code> while developing.</p>\n<p>After upgrading I noticed that these commands no longer work and give the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n    at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:137)\n    at io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\nCaused by: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1210)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1221)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\n    at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\n    at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\n    at io.quarkus.deployment.dev.IsolatedTestModeMain.setupRuntimeCompilation(IsolatedTestModeMain.java:73)\n    at io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:123)\n    at io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:34)\n    at io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\n    at io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\n    at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\n</code></pre>\n<p>It seems that the Quarkus CLI uses Java 11 (55.0) for its execution, even though I have configured Java 17 (61.0).<br />\nI have verified my configuration using <code>mvn clean verify</code>, <code>mvn compile quarkus:dev</code> and <code>mvn compile quarkus:test</code> which all build successfully.<br />\nAlso in IntelliJ I am able to run all tests or individual tests successfully using Java 17.<br />\nThe application runs in a Java 17 based Docker container without any problems.<br />\nThe problem here is that Quarkus CLI seems to choose a different Java version.</p>\n<p>What is the reason Quarkus CLI choses Java 11 instead of Java 17?<br />\nHow can I configure Quarkus CLI to use the same Java version as Maven?<br />\nIs there anything to learn about the difference between the Maven commands and Quarkus CLI?</p>\n"},{"tags":["java","android","svg"],"answers":[{"tags":[],"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1686295959,"creation_date":1289367825,"answer_id":4141570,"question_id":4141544,"body_markdown":"Getting Batik to run on Android would involve a significant porting effort. There are easier ways to work with SVG on Android. See [this answer][3] and [this post][4] for details.\r\n\r\nBatik uses Java2D to render SVG. Android does not support Java2D, and has its own custom graphics API instead. Batik likely won&#39;t work out-of-the-box on Android.\r\n\r\n\r\n  [3]: https://stackoverflow.com/questions/4517388/svg-processing-under-java-on-android-and-desktop/4644781#4644781\r\n  [4]: https://www.codeproject.com/Articles/130791/Android-ImageView-with-SVG-Support\r\n","title":"svg files rendering in android","body":"<p>Getting Batik to run on Android would involve a significant porting effort. There are easier ways to work with SVG on Android. See <a href=\"https://stackoverflow.com/questions/4517388/svg-processing-under-java-on-android-and-desktop/4644781#4644781\">this answer</a> and <a href=\"https://www.codeproject.com/Articles/130791/Android-ImageView-with-SVG-Support\" rel=\"nofollow noreferrer\">this post</a> for details.</p>\n<p>Batik uses Java2D to render SVG. Android does not support Java2D, and has its own custom graphics API instead. Batik likely won't work out-of-the-box on Android.</p>\n"},{"tags":[],"owner":{"account_id":152374,"reputation":12714,"user_id":366856,"accept_rate":69,"display_name":"jbeard4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316024829,"creation_date":1316024829,"answer_id":7421159,"question_id":4141544,"body_markdown":"If you can afford to only support Android versions greater than 3, then you could use a Webkit instance to render SVG, as the Android Webkit browser finally has SVG support compiled in.\r\n\r\nAlternatively, if you do not require support for scripting or animation, you try using this library: http://code.google.com/p/svg-android/","title":"svg files rendering in android","body":"<p>If you can afford to only support Android versions greater than 3, then you could use a Webkit instance to render SVG, as the Android Webkit browser finally has SVG support compiled in.</p>\n\n<p>Alternatively, if you do not require support for scripting or animation, you try using this library: <a href=\"http://code.google.com/p/svg-android/\" rel=\"nofollow\">http://code.google.com/p/svg-android/</a></p>\n"},{"tags":[],"owner":{"account_id":1354077,"reputation":98666,"user_id":1292848,"accept_rate":50,"display_name":"Paul LeBeau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359982476,"creation_date":1359982476,"answer_id":14687238,"question_id":4141544,"body_markdown":"Another alternative is AndroidSVG (http://code.google.com/p/androidsvg/).\r\n","title":"svg files rendering in android","body":"<p>Another alternative is AndroidSVG (<a href=\"http://code.google.com/p/androidsvg/\" rel=\"nofollow\">http://code.google.com/p/androidsvg/</a>).</p>\n"}],"owner":{"account_id":229944,"reputation":909,"user_id":493244,"accept_rate":47,"display_name":"user493244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9122,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":4141570,"answer_count":3,"score":5,"last_activity_date":1686295959,"creation_date":1289367544,"question_id":4141544,"body_markdown":"I wrote a program in Android for setting different kinds of images as my background image, but it is not working with svg files. I am not getting any errors, it is not displaying any image and I&#39;m getting a blank screen in my emulator when using svg files. Can any one suggest how to read and display svg files in Android with some code? Or should I convert xml code?","title":"svg files rendering in android","body":"<p>I wrote a program in Android for setting different kinds of images as my background image, but it is not working with svg files. I am not getting any errors, it is not displaying any image and I'm getting a blank screen in my emulator when using svg files. Can any one suggest how to read and display svg files in Android with some code? Or should I convert xml code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686245051,"post_id":76434242,"comment_id":134776064,"body_markdown":"Is there some reason the pojo needs to allow nulls? It would be easier to forbid them when the record is created with e.g. `Objects::requireNonNull`.","body":"Is there some reason the pojo needs to allow nulls? It would be easier to forbid them when the record is created with e.g. <code>Objects::requireNonNull</code>."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1686245342,"creation_date":1686245342,"answer_id":76434329,"question_id":76434242,"body_markdown":"You can chain your optional with .map() calls, the advantage of this approach is that it chains the operations together in a readable way and eliminates the need for explicit null checks:\r\n```java\r\nprivate static String question(final MyPojo mypojo) {\r\n    return Optional.ofNullable(mypojo)\r\n              .map(MyPojo::someField)\r\n              .map(String::toLowerCase)\r\n              .orElse(null);\r\n}\r\n```","title":"Use Java Optional to refactor null check","body":"<p>You can chain your optional with .map() calls, the advantage of this approach is that it chains the operations together in a readable way and eliminates the need for explicit null checks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String question(final MyPojo mypojo) {\n    return Optional.ofNullable(mypojo)\n              .map(MyPojo::someField)\n              .map(String::toLowerCase)\n              .orElse(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686246813,"creation_date":1686246813,"answer_id":76434513,"question_id":76434242,"body_markdown":"The old fashioned way is with the `? :` operators:\r\n```\r\n    private static String question(final MyPojo mypojo) {\r\n        return (null == mypojo) ? null\r\n            : (null == mypojo.someField()) ? null\r\n            : mypojo.someField().toLowerCase();\r\n    }\r\n```","title":"Use Java Optional to refactor null check","body":"<p>The old fashioned way is with the <code>? :</code> operators:</p>\n<pre><code>    private static String question(final MyPojo mypojo) {\n        return (null == mypojo) ? null\n            : (null == mypojo.someField()) ? null\n            : mypojo.someField().toLowerCase();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686295908,"creation_date":1686247476,"answer_id":76434581,"question_id":76434242,"body_markdown":"First change the record:\r\n```\r\npublic record MyPojo( String someField, String someOtherField )\r\n{\r\n    public MyPojo\r\n    {\r\n        Objects.requireNonNull( someField );\r\n        Objects.requireNonNull( someOtherField );\r\n    }\r\n}\r\n```\r\nThis ensures that the attributes are never `null`.\r\n\r\nThen `question()` can look like this:\r\n```Java\r\nprivate static String question( final MyPojo mypojo ) \r\n{\r\n    return Objects.nonNull( myPojo ) \r\n        ? myPojo.someField().toLowerCase() \r\n        : null;\r\n}\r\n```\r\n\r\nIf `null` should be allowed and you insist to use `Optional`, you need to modify the Pojo like this:\r\n```\r\npublic final class MyPojo\r\n{\r\n    private final String m_SomeField;\r\n    private final String m_SomeOtherField;\r\n    public MyPojo( String someField, String someOtherField )\r\n    {\r\n        m_SomeField = someField;\r\n        m_SomeOtherField = someOtherField;\r\n    }\r\n\r\n    public final Optional&lt;String&gt; someField() {return Optional.ofNullable( m_SomeField ); }\r\n    …\r\n}\r\n```\r\n\r\n`question()` would look like this afterwards:\r\n```Java\r\nprivate static String question( final MyPojo mypojo ) \r\n{\r\n    return Objects.nonNull( myPojo ) \r\n        ? myPojo.someField().map( String::toLowerCase() ).orElse( null ) \r\n        : null;\r\n}\r\n```\r\nThe approach suggested in [this answer][1] works, but it is strongly discouraged to abuse `Optional` in this way as a replacement for `if-then-else` or `?-:`. See [here][2] as one reference:\r\n\r\n&gt; Another mistake is misusing `Optional` and treating it as a replacement  for conditional statements. Although `Optional` provides convenient methods like `orElse()` and `orElseGet()` to handle the absence of a value, using them excessively can lead to less readable code. It is important to remember that `Optional` is not intended to replace traditional `if-else` statements. Instead, it should be used when the absence of a value is a valid and expected outcome.\r\n&gt;\r\n&gt; […]\r\n&gt; \r\n&gt; […] Adhering to best practices such as preferring `Optional` as a method return type […] will enhance the readability and maintainability of your code.\r\n\r\n  [1]: https://stackoverflow.com/a/76434329/1554195\r\n  [2]: https://dzone.com/articles/avoiding-pitfalls-with-java-optional-common-mistak?edition=816391&amp;utm_campaign=&amp;utm_content=Avoiding%20pitfalls%20with%20Java%20Optional&amp;utm_medium=email&amp;utm_source=dzone&amp;utm_term=","title":"Use Java Optional to refactor null check","body":"<p>First change the record:</p>\n<pre><code>public record MyPojo( String someField, String someOtherField )\n{\n    public MyPojo\n    {\n        Objects.requireNonNull( someField );\n        Objects.requireNonNull( someOtherField );\n    }\n}\n</code></pre>\n<p>This ensures that the attributes are never <code>null</code>.</p>\n<p>Then <code>question()</code> can look like this:</p>\n<pre><code>private static String question( final MyPojo mypojo ) \n{\n    return Objects.nonNull( myPojo ) \n        ? myPojo.someField().toLowerCase() \n        : null;\n}\n</code></pre>\n<p>If <code>null</code> should be allowed and you insist to use <code>Optional</code>, you need to modify the Pojo like this:</p>\n<pre><code>public final class MyPojo\n{\n    private final String m_SomeField;\n    private final String m_SomeOtherField;\n    public MyPojo( String someField, String someOtherField )\n    {\n        m_SomeField = someField;\n        m_SomeOtherField = someOtherField;\n    }\n\n    public final Optional&lt;String&gt; someField() {return Optional.ofNullable( m_SomeField ); }\n    …\n}\n</code></pre>\n<p><code>question()</code> would look like this afterwards:</p>\n<pre><code>private static String question( final MyPojo mypojo ) \n{\n    return Objects.nonNull( myPojo ) \n        ? myPojo.someField().map( String::toLowerCase() ).orElse( null ) \n        : null;\n}\n</code></pre>\n<p>The approach suggested in <a href=\"https://stackoverflow.com/a/76434329/1554195\">this answer</a> works, but it is strongly discouraged to abuse <code>Optional</code> in this way as a replacement for <code>if-then-else</code> or <code>?-:</code>. See <a href=\"https://dzone.com/articles/avoiding-pitfalls-with-java-optional-common-mistak?edition=816391&amp;utm_campaign=&amp;utm_content=Avoiding%20pitfalls%20with%20Java%20Optional&amp;utm_medium=email&amp;utm_source=dzone&amp;utm_term=\" rel=\"nofollow noreferrer\">here</a> as one reference:</p>\n<blockquote>\n<p>Another mistake is misusing <code>Optional</code> and treating it as a replacement  for conditional statements. Although <code>Optional</code> provides convenient methods like <code>orElse()</code> and <code>orElseGet()</code> to handle the absence of a value, using them excessively can lead to less readable code. It is important to remember that <code>Optional</code> is not intended to replace traditional <code>if-else</code> statements. Instead, it should be used when the absence of a value is a valid and expected outcome.</p>\n<p>[…]</p>\n<p>[…] Adhering to best practices such as preferring <code>Optional</code> as a method return type […] will enhance the readability and maintainability of your code.</p>\n</blockquote>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76434329,"answer_count":3,"score":0,"last_activity_date":1686295908,"creation_date":1686244347,"question_id":76434242,"body_markdown":"What I am trying to achieve:\r\n\r\nUse Java Optional to refactor null check.\r\n\r\nBackground:\r\n\r\nI have a straightforward POJO class:\r\n\r\n```\r\npublic record MyPojo(String someField, String someOtherField)\r\n```\r\n\r\nAnd this method:\r\n\r\n```\r\n    private static String question(final MyPojo mypojo) {\r\n        if (null == mypojo) {\r\n            return null;\r\n        } else if (null == mypojo.someField()) {\r\n            return null;\r\n        } else {\r\n            return mypojo.someField().toLowerCase();\r\n        }\r\n    }\r\n```\r\n\r\nIssue:\r\n\r\nAs you can see, while super easy to understand, this code is very verbose and lengthy.\r\nMyPojo can be bull, and so can MyPojo.someField.\r\nI need to check those two preconditions before applying my business logic (here lower case just for example)\r\n\r\nQuestion:\r\n\r\nIs there a smarter way, either using Optional, or something smarter, to refactor this?\r\n","title":"Use Java Optional to refactor null check","body":"<p>What I am trying to achieve:</p>\n<p>Use Java Optional to refactor null check.</p>\n<p>Background:</p>\n<p>I have a straightforward POJO class:</p>\n<pre><code>public record MyPojo(String someField, String someOtherField)\n</code></pre>\n<p>And this method:</p>\n<pre><code>    private static String question(final MyPojo mypojo) {\n        if (null == mypojo) {\n            return null;\n        } else if (null == mypojo.someField()) {\n            return null;\n        } else {\n            return mypojo.someField().toLowerCase();\n        }\n    }\n</code></pre>\n<p>Issue:</p>\n<p>As you can see, while super easy to understand, this code is very verbose and lengthy.\nMyPojo can be bull, and so can MyPojo.someField.\nI need to check those two preconditions before applying my business logic (here lower case just for example)</p>\n<p>Question:</p>\n<p>Is there a smarter way, either using Optional, or something smarter, to refactor this?</p>\n"},{"tags":["java","spring","spring-boot","algorithm"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1686295620,"post_id":76438047,"comment_id":134782071,"body_markdown":"idk about adding routes dynamically (shuld be totally possible on route matching level) but you can always have wildcard route like @GetMapping(/myApi/*) and do the routing yourself for incoming requests.","body":"idk about adding routes dynamically (shuld be totally possible on route matching level) but you can always have wildcard route like @GetMapping(/myApi/*) and do the routing yourself for incoming requests."},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1686295791,"post_id":76438047,"comment_id":134782098,"body_markdown":"Have you considered Spring Cloud Gateway as a solution? Its main purpose is routing to multiple microservices and your validation logic can be implemented in the form of filters.","body":"Have you considered Spring Cloud Gateway as a solution? Its main purpose is routing to multiple microservices and your validation logic can be implemented in the form of filters."},{"owner":{"account_id":13870783,"reputation":351,"user_id":10013975,"display_name":"Mukul Bindal"},"score":0,"creation_date":1686296981,"post_id":76438047,"comment_id":134782295,"body_markdown":"@birca123 No I need to read about it. Thanks for the suggestion.","body":"@birca123 No I need to read about it. Thanks for the suggestion."},{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1686304222,"post_id":76438047,"comment_id":134783649,"body_markdown":"Maybe you can think of some of the gateways in this? You can write your own or use the spring cloud gateway.","body":"Maybe you can think of some of the gateways in this? You can write your own or use the spring cloud gateway."}],"owner":{"account_id":13870783,"reputation":351,"user_id":10013975,"display_name":"Mukul Bindal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686295191,"creation_date":1686295191,"question_id":76438047,"body_markdown":"I have an application which has two layers of service code in Spring. UI sends request to controller-A and controller-A sends request to multiple microservices in Spring boot. This is implemented in this way to do some basic validation before sending the request to the actual microservices and for some security purpose. Now since the application is growing, I am facing one issue that for every new end point, I need to add that to my controller-A application so that UI can use it. I want to reduce this effort and want to store the end point in Database or some static configuration. \r\n\r\nIs there any way to do it in Spring boot so that a single controller method can take all the requests and divert it to the correct microservice based on some static configuration?","title":"Dynamically adding the endpoints in Spring Controller","body":"<p>I have an application which has two layers of service code in Spring. UI sends request to controller-A and controller-A sends request to multiple microservices in Spring boot. This is implemented in this way to do some basic validation before sending the request to the actual microservices and for some security purpose. Now since the application is growing, I am facing one issue that for every new end point, I need to add that to my controller-A application so that UI can use it. I want to reduce this effort and want to store the end point in Database or some static configuration.</p>\n<p>Is there any way to do it in Spring boot so that a single controller method can take all the requests and divert it to the correct microservice based on some static configuration?</p>\n"},{"tags":["java","ssl","postman","okhttp","client-certificates"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1686297209,"post_id":76438038,"comment_id":134782332,"body_markdown":"Most likely the server is misconfigured and does not send the complete certificate chain (which is supposed to do except for the root CA cert). If the server is public you can test it using https://www.ssllabs.com/ssltest/ for certificate chain and other problems.","body":"Most likely the server is misconfigured and does not send the complete certificate chain (which is supposed to do except for the root CA cert). If the server is public you can test it using <a href=\"https://www.ssllabs.com/ssltest/\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest</a> for certificate chain and other problems."},{"owner":{"account_id":6446456,"reputation":556,"user_id":4994813,"display_name":"kaushik"},"score":0,"creation_date":1686301369,"post_id":76438038,"comment_id":134783098,"body_markdown":"@Robert But it was successful in postman","body":"@Robert But it was successful in postman"},{"owner":{"account_id":6446456,"reputation":556,"user_id":4994813,"display_name":"kaushik"},"score":0,"creation_date":1686302468,"post_id":76438038,"comment_id":134783283,"body_markdown":"@Robert and also there are no problems in ssltest","body":"@Robert and also there are no problems in ssltest"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1686309047,"post_id":76438038,"comment_id":134784482,"body_markdown":"**client != server:** The **cert&amp;key configured in postman** authenticate the _client_ (aka mutual auth), which **corresponds to KeyManager in JSSE**; this client cert CANNOT be used to validate the server, which corresponds to TrustManager in JSSE or okhttp3, and if ssllabs approves of the server cert it&#39;s using a &#39;normal&#39; CA so **you need not and should not customize your TrustManager**.","body":"<b>client != server:</b> The <b>cert&amp;key configured in postman</b> authenticate the <i>client</i> (aka mutual auth), which <b>corresponds to KeyManager in JSSE</b>; this client cert CANNOT be used to validate the server, which corresponds to TrustManager in JSSE or okhttp3, and if ssllabs approves of the server cert it&#39;s using a &#39;normal&#39; CA so <b>you need not and should not customize your TrustManager</b>."}],"owner":{"account_id":6446456,"reputation":556,"user_id":4994813,"display_name":"kaushik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686295127,"creation_date":1686295127,"question_id":76438038,"body_markdown":"Postman request with certificate, key is working, But relevant code for Java - Okhttp client is failing \r\n\r\nAdding crt, key in the postman is working\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G3zeG.png\r\n\r\n\r\nRelevant code for Java \r\n```\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport javax.net.ssl.X509TrustManager;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.security.*;\r\nimport java.security.cert.*;\r\nimport java.security.spec.PKCS8EncodedKeySpec;\r\nimport java.util.Base64;\r\n\r\npublic class Main {\r\n\r\n  private static X509Certificate loadCertificateFromFile(File file)\r\n      throws CertificateException, IOException {\r\n    FileInputStream inputStream = new FileInputStream(file);\r\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    X509Certificate certificate =\r\n        (X509Certificate) certificateFactory.generateCertificate(inputStream);\r\n    inputStream.close();\r\n    return certificate;\r\n  }\r\n\r\n  private static PrivateKey loadPrivateKeyFromFile(File file)\r\n      throws GeneralSecurityException, IOException {\r\n    FileInputStream inputStream = new FileInputStream(file);\r\n    byte[] keyBytes = new byte[inputStream.available()];\r\n    inputStream.read(keyBytes);\r\n    inputStream.close();\r\n    String keyBytesStr =\r\n        new String(keyBytes)\r\n            .replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;)\r\n            .replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;)\r\n            .replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n\r\n    // Assuming the private key is in PKCS#8 format\r\n    PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(keyBytesStr));\r\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    return keyFactory.generatePrivate(keySpec);\r\n  }\r\n\r\n  public static void main(String[] args) throws GeneralSecurityException, IOException {\r\n\r\n    File crtFile = new File(&quot;/oath/chain.crt&quot;);\r\n    File keyFile = new File(&quot;/path/private.key&quot;);\r\n    File serverFile = new File(&quot;/path/abc.com.pem&quot;);\r\n    X509Certificate certificate = loadCertificateFromFile(crtFile);\r\n    X509Certificate serverCertificate = loadCertificateFromFile(serverFile);\r\n    // Load the private key from KEY file\r\n    PrivateKey privateKey = loadPrivateKeyFromFile(keyFile);\r\n\r\n    // Load the certificate and private key into KeyStore\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    keyStore.load(null, null);\r\n    keyStore.setKeyEntry(&quot;alias&quot;, privateKey, null, new X509Certificate[] {certificate});\r\n    keyStore.setCertificateEntry(&quot;server&quot;, serverCertificate);\r\n\r\n    TrustManagerFactory trustManagerFactory =\r\n        TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    trustManagerFactory.init(keyStore);\r\n\r\n    // Create SSLContext and configure it with KeyManager and TrustManager\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n\r\n    // Create OkHttpClient with the configured SSLContext\r\n    OkHttpClient client =\r\n        new OkHttpClient.Builder()\r\n            .sslSocketFactory(\r\n                sslContext.getSocketFactory(),\r\n                (X509TrustManager) trustManagerFactory.getTrustManagers()[0])\r\n            .build();\r\n\r\n    // Make a request using the OkHttpClient\r\n    Request request = new Request.Builder().url(&quot;&lt;URL&gt;&quot;).build();\r\n\r\n    try (Response response = client.newCall(request).execute()) {\r\n      // Process the response\r\n      System.out.println(response.code());\r\n      System.out.println(response.body().string());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nError \r\n&gt;Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n\r\n\r\n\r\n","title":"Java OkhttpClient sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>Postman request with certificate, key is working, But relevant code for Java - Okhttp client is failing</p>\n<p>Adding crt, key in the postman is working\n<a href=\"https://i.stack.imgur.com/G3zeG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G3zeG.png\" alt=\"enter image description here\" /></a></p>\n<p>Relevant code for Java</p>\n<pre><code>import okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.net.ssl.X509TrustManager;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.security.*;\nimport java.security.cert.*;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.util.Base64;\n\npublic class Main {\n\n  private static X509Certificate loadCertificateFromFile(File file)\n      throws CertificateException, IOException {\n    FileInputStream inputStream = new FileInputStream(file);\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n    X509Certificate certificate =\n        (X509Certificate) certificateFactory.generateCertificate(inputStream);\n    inputStream.close();\n    return certificate;\n  }\n\n  private static PrivateKey loadPrivateKeyFromFile(File file)\n      throws GeneralSecurityException, IOException {\n    FileInputStream inputStream = new FileInputStream(file);\n    byte[] keyBytes = new byte[inputStream.available()];\n    inputStream.read(keyBytes);\n    inputStream.close();\n    String keyBytesStr =\n        new String(keyBytes)\n            .replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;)\n            .replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;)\n            .replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\n\n    // Assuming the private key is in PKCS#8 format\n    PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(keyBytesStr));\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n    return keyFactory.generatePrivate(keySpec);\n  }\n\n  public static void main(String[] args) throws GeneralSecurityException, IOException {\n\n    File crtFile = new File(&quot;/oath/chain.crt&quot;);\n    File keyFile = new File(&quot;/path/private.key&quot;);\n    File serverFile = new File(&quot;/path/abc.com.pem&quot;);\n    X509Certificate certificate = loadCertificateFromFile(crtFile);\n    X509Certificate serverCertificate = loadCertificateFromFile(serverFile);\n    // Load the private key from KEY file\n    PrivateKey privateKey = loadPrivateKeyFromFile(keyFile);\n\n    // Load the certificate and private key into KeyStore\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    keyStore.load(null, null);\n    keyStore.setKeyEntry(&quot;alias&quot;, privateKey, null, new X509Certificate[] {certificate});\n    keyStore.setCertificateEntry(&quot;server&quot;, serverCertificate);\n\n    TrustManagerFactory trustManagerFactory =\n        TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    trustManagerFactory.init(keyStore);\n\n    // Create SSLContext and configure it with KeyManager and TrustManager\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n    sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n\n    // Create OkHttpClient with the configured SSLContext\n    OkHttpClient client =\n        new OkHttpClient.Builder()\n            .sslSocketFactory(\n                sslContext.getSocketFactory(),\n                (X509TrustManager) trustManagerFactory.getTrustManagers()[0])\n            .build();\n\n    // Make a request using the OkHttpClient\n    Request request = new Request.Builder().url(&quot;&lt;URL&gt;&quot;).build();\n\n    try (Response response = client.newCall(request).execute()) {\n      // Process the response\n      System.out.println(response.code());\n      System.out.println(response.body().string());\n    }\n  }\n}\n</code></pre>\n<p>Error</p>\n<blockquote>\n<p>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n</blockquote>\n"},{"tags":["java","ip"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1686289121,"post_id":76437479,"comment_id":134781153,"body_markdown":"If you want a unique identifier for a user, just *ask for that*, and not how to get a user&#39;s IP, which is clearly an [XY Problem](http://xyproblem.info/).","body":"If you want a unique identifier for a user, just <i>ask for that</i>, and not how to get a user&#39;s IP, which is clearly an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1686298395,"post_id":76437479,"comment_id":134782561,"body_markdown":"Internal LAN addresses are never available from the outside world. That&#39;s because NAT transforms these into the WAN address and vice versa. For the outside world only one IP address is available for everybody inside the LAN. That can indeed lead to issues like throttling if only the IP address is used, especially for large LANs, which you often see at companies.","body":"Internal LAN addresses are never available from the outside world. That&#39;s because NAT transforms these into the WAN address and vice versa. For the outside world only one IP address is available for everybody inside the LAN. That can indeed lead to issues like throttling if only the IP address is used, especially for large LANs, which you often see at companies."}],"answers":[{"tags":[],"owner":{"account_id":23776493,"reputation":1,"user_id":17789863,"display_name":"Yawriter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686294977,"creation_date":1686294977,"answer_id":76438027,"question_id":76437479,"body_markdown":"The IP address of a normal user is not fixed and may change in a short time, so I think there are some problems in using IP address to limit, MAC address should be better, but the web side can not obtain.\r\nSecondly, under normal circumstances, only LANIp or WANIp can be obtained, and most of the same router will have only one public IP and it is still variable.","title":"How to get users&#39; ip address by java?","body":"<p>The IP address of a normal user is not fixed and may change in a short time, so I think there are some problems in using IP address to limit, MAC address should be better, but the web side can not obtain.\nSecondly, under normal circumstances, only LANIp or WANIp can be obtained, and most of the same router will have only one public IP and it is still variable.</p>\n"}],"owner":{"account_id":16588824,"reputation":1,"user_id":11987473,"display_name":"xiaoalex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686294977,"creation_date":1686289003,"question_id":76437479,"body_markdown":"As we java developer known, it&#39;s generally we get users&#39; ip address by following codes.My question is, by this way, what we get is LAN ip or WAN ip. if two users are from the same LAN, what we get is two different LAN ip or one the same WAN ip.\r\n\r\n\r\n        String ip = request.getHeader(&quot;X-Forwarded-For&quot;);\r\n        log.info(&quot;X-Forwarded-For: {}&quot;, ip);\r\n        if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n            ip = request.getHeader(&quot;X-Real-IP&quot;);\r\n            log.info(&quot;X-Real-IP: {}&quot;, ip);\r\n        }\r\n        if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n            ip = request.getHeader(&quot;Cdn-Src-Ip&quot;);\r\n            log.info(&quot;Cdn-Src-Ip: {}&quot;, ip);\r\n        }\r\n        if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n            ip = request.getHeader(&quot;Proxy-Client-IP&quot;);\r\n            log.info(&quot;Proxy-Client-IP: {}&quot;, ip);\r\n        }\r\n        if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n            ip = request.getHeader(&quot;WL-Proxy-Client-IP&quot;);\r\n            log.info(&quot;WL-Proxy-Client-IP: {}&quot;, ip);\r\n        }\r\n        if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n            ip = request.getRemoteAddr();\r\n            log.info(&quot;RemoteAddr: {}&quot;, ip);\r\n        }\r\n\r\nFunctions what I&#39;m developing need to distinguish users, so I have to make sure the ip I get from different users is unique whether they are from same LAN or different LAN.Please info me if you understand it.","title":"How to get users&#39; ip address by java?","body":"<p>As we java developer known, it's generally we get users' ip address by following codes.My question is, by this way, what we get is LAN ip or WAN ip. if two users are from the same LAN, what we get is two different LAN ip or one the same WAN ip.</p>\n<pre><code>    String ip = request.getHeader(&quot;X-Forwarded-For&quot;);\n    log.info(&quot;X-Forwarded-For: {}&quot;, ip);\n    if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\n        ip = request.getHeader(&quot;X-Real-IP&quot;);\n        log.info(&quot;X-Real-IP: {}&quot;, ip);\n    }\n    if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\n        ip = request.getHeader(&quot;Cdn-Src-Ip&quot;);\n        log.info(&quot;Cdn-Src-Ip: {}&quot;, ip);\n    }\n    if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\n        ip = request.getHeader(&quot;Proxy-Client-IP&quot;);\n        log.info(&quot;Proxy-Client-IP: {}&quot;, ip);\n    }\n    if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\n        ip = request.getHeader(&quot;WL-Proxy-Client-IP&quot;);\n        log.info(&quot;WL-Proxy-Client-IP: {}&quot;, ip);\n    }\n    if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\n        ip = request.getRemoteAddr();\n        log.info(&quot;RemoteAddr: {}&quot;, ip);\n    }\n</code></pre>\n<p>Functions what I'm developing need to distinguish users, so I have to make sure the ip I get from different users is unique whether they are from same LAN or different LAN.Please info me if you understand it.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1548245092,"post_id":54326829,"comment_id":95471847,"body_markdown":"What type is ids collection?","body":"What type is ids collection?"},{"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"score":0,"creation_date":1548245140,"post_id":54326829,"comment_id":95471872,"body_markdown":"the type of ids list is **String**","body":"the type of ids list is <b>String</b>"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1548259058,"creation_date":1548245147,"answer_id":54326904,"question_id":54326829,"body_markdown":"     List&lt;Employe&gt; listEmploye = ids.stream()\r\n              .mapToLong(Long::parseLong)\r\n              .mapToObj(BigDecimal::valueOf)\r\n              .map(this::findByIdPointage)\r\n              .collect(Collectors.toList());\r\n\r\nWell there is a `BigDecimal` constructor that takes a `String`, thus this can be simplified to :\r\n\r\n\r\n    List&lt;Employe&gt; listEmploye = ids.stream()\r\n               .map(BigDecimal::new) \r\n               .map(this::findByIdPointage)\r\n               .collect(Collectors.toList())   ","title":"How to loop list object and getting it&#39;s element by index?","body":"<pre><code> List&lt;Employe&gt; listEmploye = ids.stream()\n          .mapToLong(Long::parseLong)\n          .mapToObj(BigDecimal::valueOf)\n          .map(this::findByIdPointage)\n          .collect(Collectors.toList());\n</code></pre>\n\n<p>Well there is a <code>BigDecimal</code> constructor that takes a <code>String</code>, thus this can be simplified to :</p>\n\n<pre><code>List&lt;Employe&gt; listEmploye = ids.stream()\n           .map(BigDecimal::new) \n           .map(this::findByIdPointage)\n           .collect(Collectors.toList())   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548245151,"creation_date":1548245151,"answer_id":54326905,"question_id":54326829,"body_markdown":"There is nothing wrong with your current approach, just because Java 8 introduce lambdas and new methods it doesn&#39;t mean you must use them.\r\n\r\nIf you want ti use streams you can do below. `Long.valueOf()` mapping is potentially redundant:\r\n\r\n    List&lt;Employe&gt; listEmploye = ids.stream()\r\n       .map(Long::valueOf)\r\n       .map(BigDecimal::valueOf)\r\n       .map(this::findByIdPointage)\r\n       .collect(Collectors.toList())","title":"How to loop list object and getting it&#39;s element by index?","body":"<p>There is nothing wrong with your current approach, just because Java 8 introduce lambdas and new methods it doesn't mean you must use them.</p>\n\n<p>If you want ti use streams you can do below. <code>Long.valueOf()</code> mapping is potentially redundant:</p>\n\n<pre><code>List&lt;Employe&gt; listEmploye = ids.stream()\n   .map(Long::valueOf)\n   .map(BigDecimal::valueOf)\n   .map(this::findByIdPointage)\n   .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1686294920,"creation_date":1548245244,"answer_id":54326938,"question_id":54326829,"body_markdown":"You can use Stream API to map your collection:\r\n\r\n    List&lt;Employe&gt; listEmploye  = ids.stream()\r\n    .map(Long::valueOf)\r\n    .map(BigDecimal::valueOf)\r\n    .map(this::findByIdPointage)\r\n    .collect(Collectors.toList());\r\n\r\nBut this approach would be very slow with larger data collections. This code should never see the production. You should first find all identifiers:\r\n\r\n    Set&lt;BigDecimal&gt; employeIdentifiers  = ids.stream()\r\n    .map(Long::valueOf)\r\n    .map(BigDecimal::valueOf)\r\n    .collect(Collectors.toList());\r\n\r\nThen use a single repository call to fetch them all at once:\r\n\r\n    List&lt;Employe&gt; listEmploye = findByIdPointageIn(employeIdentifiers);\r\n\r\n","title":"How to loop list object and getting it&#39;s element by index?","body":"<p>You can use Stream API to map your collection:</p>\n<pre><code>List&lt;Employe&gt; listEmploye  = ids.stream()\n.map(Long::valueOf)\n.map(BigDecimal::valueOf)\n.map(this::findByIdPointage)\n.collect(Collectors.toList());\n</code></pre>\n<p>But this approach would be very slow with larger data collections. This code should never see the production. You should first find all identifiers:</p>\n<pre><code>Set&lt;BigDecimal&gt; employeIdentifiers  = ids.stream()\n.map(Long::valueOf)\n.map(BigDecimal::valueOf)\n.collect(Collectors.toList());\n</code></pre>\n<p>Then use a single repository call to fetch them all at once:</p>\n<pre><code>List&lt;Employe&gt; listEmploye = findByIdPointageIn(employeIdentifiers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548245733,"creation_date":1548245733,"answer_id":54327055,"question_id":54326829,"body_markdown":"    public List&lt;Employee&gt; getEmployees(Set&lt;String&gt; ids) {\r\n        return ids.stream()\r\n                  .map(id -&gt; BigDecimal.valueOf(Long.parseLong(id)))\r\n                  .map(this::findByIdPointage)\r\n                  .collect(Collectors.toList());\r\n    }","title":"How to loop list object and getting it&#39;s element by index?","body":"<pre><code>public List&lt;Employee&gt; getEmployees(Set&lt;String&gt; ids) {\n    return ids.stream()\n              .map(id -&gt; BigDecimal.valueOf(Long.parseLong(id)))\n              .map(this::findByIdPointage)\n              .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548255454,"creation_date":1548255454,"answer_id":54330014,"question_id":54326829,"body_markdown":"You don&#39;t need to use streams for this task, but you could improve your `for` loop if you want:\r\n\r\n    List&lt;Employe&gt; listEmploye = new ArrayList&lt;&gt;();\r\n    ids.forEach(id -&gt; listEmploye.add(findByIdPointage(new BigDecimal(id))));\r\n","title":"How to loop list object and getting it&#39;s element by index?","body":"<p>You don't need to use streams for this task, but you could improve your <code>for</code> loop if you want:</p>\n\n<pre><code>List&lt;Employe&gt; listEmploye = new ArrayList&lt;&gt;();\nids.forEach(id -&gt; listEmploye.add(findByIdPointage(new BigDecimal(id))));\n</code></pre>\n"}],"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":54326904,"answer_count":5,"score":6,"last_activity_date":1686294920,"creation_date":1548244924,"question_id":54326829,"body_markdown":"I&#39;m trying to migrate a function from java 7 to java8 but i&#39;m stucked over getting the value of the indexed element while looping a list. What is the good way to do this ?\r\n\r\nhere is the code that i&#39;m trying to migrate:\r\n\r\n    List&lt;Employe&gt; listEmploye = new ArrayList&lt;&gt;();\r\n    for(int i=0; i&lt; ids.size();i++)\r\n    {\r\n      Long idLong = Long.valueOf(ids.get(i));\r\n      BigDecimal idBig= BigDecimal.valueOf(idLong);\r\n      listEmploye.add(findByIdPointage(idBig));\r\n    }\r\n\r\n","title":"How to loop list object and getting it&#39;s element by index?","body":"<p>I'm trying to migrate a function from java 7 to java8 but i'm stucked over getting the value of the indexed element while looping a list. What is the good way to do this ?</p>\n\n<p>here is the code that i'm trying to migrate:</p>\n\n<pre><code>List&lt;Employe&gt; listEmploye = new ArrayList&lt;&gt;();\nfor(int i=0; i&lt; ids.size();i++)\n{\n  Long idLong = Long.valueOf(ids.get(i));\n  BigDecimal idBig= BigDecimal.valueOf(idLong);\n  listEmploye.add(findByIdPointage(idBig));\n}\n</code></pre>\n"},{"tags":["java","image","spring-mvc","multipartform-data","javax.imageio"],"comments":[{"owner":{"account_id":1774490,"reputation":495,"user_id":1618536,"accept_rate":40,"display_name":"kp_ping"},"score":0,"creation_date":1365795880,"post_id":15978809,"comment_id":22779694,"body_markdown":"I have found similar question now, http://stackoverflow.com/questions/9453367/is-javax-imageio-imageio-broken-it-imports-some-images-as-rotated?rq=1. So, my problem is not what a bug of ImageIO but it is the API specification that ImageIO can not read image detail (EXIF-orientation). THX.","body":"I have found similar question now, <a href=\"http://stackoverflow.com/questions/9453367/is-javax-imageio-imageio-broken-it-imports-some-images-as-rotated?rq=1\" title=\"is javax imageio imageio broken it imports some images as rotated\">stackoverflow.com/questions/9453367/&hellip;</a>. So, my problem is not what a bug of ImageIO but it is the API specification that ImageIO can not read image detail (EXIF-orientation). THX."}],"answers":[{"tags":[],"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365794955,"creation_date":1365794955,"answer_id":15979408,"question_id":15978809,"body_markdown":"Quite interesting issue... you can try to fix it by introducing a check on the image width and height to be larger than  2448 and 3264 respectively and then just swap its width and height\r\n \r\nUse below piece of code:\r\n\r\n    BufferedImage oldImage = ImageIO.read(file.getInputStream());\r\n\r\n\tif (oldImage.getWidth() &gt; 2448 || oldImage.getHeight() &gt; 3264) {\r\n\t\t\t\r\n     \tBufferedImage newImage = new BufferedImage(oldImage.getWidth(),\r\n\t\t\t\t\toldImage.getHeight(), oldImage.getType());\r\n\r\n\t\tGraphics2D graphics = (Graphics2D) newImage.getGraphics();\r\n\r\n\t\tgraphics.drawImage(oldImage, 0, 0, oldImage.getHeight(),\r\n\t\t\t\t\toldImage.getWidth(), null);\r\n\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n\t\t\r\n\t\tImageIO.write(newImage, &quot;JPG&quot;, bos);\r\n\t}","title":"ImageIO.read( ) always rotates my uploaded picture","body":"<p>Quite interesting issue... you can try to fix it by introducing a check on the image width and height to be larger than  2448 and 3264 respectively and then just swap its width and height</p>\n\n<p>Use below piece of code:</p>\n\n<pre><code>BufferedImage oldImage = ImageIO.read(file.getInputStream());\n\nif (oldImage.getWidth() &gt; 2448 || oldImage.getHeight() &gt; 3264) {\n\n    BufferedImage newImage = new BufferedImage(oldImage.getWidth(),\n                oldImage.getHeight(), oldImage.getType());\n\n    Graphics2D graphics = (Graphics2D) newImage.getGraphics();\n\n    graphics.drawImage(oldImage, 0, 0, oldImage.getHeight(),\n                oldImage.getWidth(), null);\n\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n\n    ImageIO.write(newImage, \"JPG\", bos);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1516166,"reputation":646,"user_id":1417125,"accept_rate":100,"display_name":"Paolo Biavati"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1427560841,"creation_date":1427560841,"answer_id":29319713,"question_id":15978809,"body_markdown":"ImageIO.read( ) can&#39;t read the orientation of the image if it was taken with mobile device.\r\n\r\nI used metadata-extractor to read metadata, i think it&#39;s a good solution: \r\n[github.com/drewnoakes/metadata-extractor/wiki][1] \r\n\r\n    &lt;dependency&gt; \r\n      &lt;groupId&gt;com.drewnoakes&lt;/groupId&gt; \r\n      &lt;artifactId&gt;metadata-extractor&lt;/artifactId&gt; \r\n      &lt;version&gt;2.7.2&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n\r\n\r\nRead orientation filed in exif directory:\r\n\r\n\r\n    ExifIFD0Directory exifIFD0 = metadata.getDirectory(ExifIFD0Directory.class);\r\n    int orientation = exifIFD0.getInt(ExifIFD0Directory.TAG_ORIENTATION);\r\n    \r\n    switch (orientation) {\r\n      case 1: // [Exif IFD0] Orientation - Top, left side (Horizontal / normal)\r\n    \treturn null;\r\n      case 6: // [Exif IFD0] Orientation - Right side, top (Rotate 90 CW)\r\n    \treturn Rotation.CW_90;\r\n      case 3: // [Exif IFD0] Orientation - Bottom, right side (Rotate 180)\r\n    \treturn Rotation.CW_180;\r\n      case 8: // [Exif IFD0] Orientation - Left side, bottom (Rotate 270 CW)\r\n    \treturn Rotation.CW_270;\r\n    }\r\n\r\n  [1]: http://github.com/drewnoakes/metadata-extractor/wiki\r\n\r\n(Rotation is a class from the org.imgscalr.Scalr framework I use ti rotate image).","title":"ImageIO.read( ) always rotates my uploaded picture","body":"<p>ImageIO.read( ) can't read the orientation of the image if it was taken with mobile device.</p>\n\n<p>I used metadata-extractor to read metadata, i think it's a good solution: \n<a href=\"http://github.com/drewnoakes/metadata-extractor/wiki\" rel=\"noreferrer\">github.com/drewnoakes/metadata-extractor/wiki</a> </p>\n\n<pre><code>&lt;dependency&gt; \n  &lt;groupId&gt;com.drewnoakes&lt;/groupId&gt; \n  &lt;artifactId&gt;metadata-extractor&lt;/artifactId&gt; \n  &lt;version&gt;2.7.2&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n\n<p>Read orientation filed in exif directory:</p>\n\n<pre><code>ExifIFD0Directory exifIFD0 = metadata.getDirectory(ExifIFD0Directory.class);\nint orientation = exifIFD0.getInt(ExifIFD0Directory.TAG_ORIENTATION);\n\nswitch (orientation) {\n  case 1: // [Exif IFD0] Orientation - Top, left side (Horizontal / normal)\n    return null;\n  case 6: // [Exif IFD0] Orientation - Right side, top (Rotate 90 CW)\n    return Rotation.CW_90;\n  case 3: // [Exif IFD0] Orientation - Bottom, right side (Rotate 180)\n    return Rotation.CW_180;\n  case 8: // [Exif IFD0] Orientation - Left side, bottom (Rotate 270 CW)\n    return Rotation.CW_270;\n}\n</code></pre>\n\n<p>(Rotation is a class from the org.imgscalr.Scalr framework I use ti rotate image).</p>\n"},{"tags":[],"owner":{"account_id":9159125,"reputation":193,"user_id":6811102,"accept_rate":33,"display_name":"Saleh Rezq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686294794,"creation_date":1686294794,"answer_id":76438014,"question_id":15978809,"body_markdown":"A little update on **Paolo Biavati** [answer][1].\r\n\r\nI did not find method `metadata.getDirectory(ExifIFD0Directory.class)`; instead what is available is `metadata.getFirstDirectoryOfType(ExifIFD0Directory.class)`. May be it was in old versions. Now the code goes like this:\r\n\r\n        Metadata metadata = ImageMetadataReader.readMetadata(file);\r\n        ExifIFD0Directory exifIFD0 = metadata.getFirstDirectoryOfType(ExifIFD0Directory.class);\r\n        int orientation = exifIFD0.getInt(ExifIFD0Directory.TAG_ORIENTATION);\r\n        \r\n        switch (orientation) {\r\n          case 1: // [Exif IFD0] Orientation - Top, left side (Horizontal / normal)\r\n            return null;\r\n          case 6: // [Exif IFD0] Orientation - Right side, top (Rotate 90 CW)\r\n            return Rotation.CW_90;\r\n          case 3: // [Exif IFD0] Orientation - Bottom, right side (Rotate 180)\r\n            return Rotation.CW_180;\r\n          case 8: // [Exif IFD0] Orientation - Left side, bottom (Rotate 270 CW)\r\n            return Rotation.CW_270;\r\n        }\r\n\r\n  [1]: https://stackoverflow.com/a/29319713/6811102","title":"ImageIO.read( ) always rotates my uploaded picture","body":"<p>A little update on <strong>Paolo Biavati</strong> <a href=\"https://stackoverflow.com/a/29319713/6811102\">answer</a>.</p>\n<p>I did not find method <code>metadata.getDirectory(ExifIFD0Directory.class)</code>; instead what is available is <code>metadata.getFirstDirectoryOfType(ExifIFD0Directory.class)</code>. May be it was in old versions. Now the code goes like this:</p>\n<pre><code>    Metadata metadata = ImageMetadataReader.readMetadata(file);\n    ExifIFD0Directory exifIFD0 = metadata.getFirstDirectoryOfType(ExifIFD0Directory.class);\n    int orientation = exifIFD0.getInt(ExifIFD0Directory.TAG_ORIENTATION);\n    \n    switch (orientation) {\n      case 1: // [Exif IFD0] Orientation - Top, left side (Horizontal / normal)\n        return null;\n      case 6: // [Exif IFD0] Orientation - Right side, top (Rotate 90 CW)\n        return Rotation.CW_90;\n      case 3: // [Exif IFD0] Orientation - Bottom, right side (Rotate 180)\n        return Rotation.CW_180;\n      case 8: // [Exif IFD0] Orientation - Left side, bottom (Rotate 270 CW)\n        return Rotation.CW_270;\n    }\n</code></pre>\n"}],"owner":{"account_id":1774490,"reputation":495,"user_id":1618536,"accept_rate":40,"display_name":"kp_ping"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9260,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1686294794,"creation_date":1365792836,"question_id":15978809,"body_markdown":"I want to create a web application that allow users to upload their image to the server. When  they click send, their image will be uploaded to the server (multipart). Before saving, I want to make some operation with the image, so I decided to use ..\r\n\r\n&gt; ImageIO.read(InputStream)\r\n\r\n to get BufferedImage object\r\n\r\nhere is the code:\r\n\r\n    public static BufferedImage getBufferedImageFromMultipartFile(MultipartFile file) \r\n    throws APIException\r\n\t{\r\n\t\tBufferedImage bi = null;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tbi = ImageIO.read(file.getInputStream());\r\n\t\t}\r\n\t\tcatch (IOException e)\r\n\t\t{\r\n\t\t\tthrow new APIException(ErrorCode.SERVER_ERROR, e);\r\n\t\t}\r\n\r\n\t\treturn bi;\r\n\t}\r\n\r\nThe problem is when I try to upload a picture that has height more than width such as\r\n3264 x 2448 (height x width), the result always an image that has been rotated (2448 x 3264).\r\n\r\nIs there any solution to solve this problem ? \r\n\r\nIs this a bug or any defined API specification ?\r\n\r\nThx.\r\n\r\nPS. sorry for my english :D","title":"ImageIO.read( ) always rotates my uploaded picture","body":"<p>I want to create a web application that allow users to upload their image to the server. When  they click send, their image will be uploaded to the server (multipart). Before saving, I want to make some operation with the image, so I decided to use ..</p>\n\n<blockquote>\n  <p>ImageIO.read(InputStream)</p>\n</blockquote>\n\n<p>to get BufferedImage object</p>\n\n<p>here is the code:</p>\n\n<pre><code>public static BufferedImage getBufferedImageFromMultipartFile(MultipartFile file) \nthrows APIException\n{\n    BufferedImage bi = null;\n\n    try\n    {\n        bi = ImageIO.read(file.getInputStream());\n    }\n    catch (IOException e)\n    {\n        throw new APIException(ErrorCode.SERVER_ERROR, e);\n    }\n\n    return bi;\n}\n</code></pre>\n\n<p>The problem is when I try to upload a picture that has height more than width such as\n3264 x 2448 (height x width), the result always an image that has been rotated (2448 x 3264).</p>\n\n<p>Is there any solution to solve this problem ? </p>\n\n<p>Is this a bug or any defined API specification ?</p>\n\n<p>Thx.</p>\n\n<p>PS. sorry for my english :D</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686293814,"post_id":76437861,"comment_id":134781774,"body_markdown":"What do you mean with Sdcard? I asked that before. Why are you still writing Action_open_Document_Tree where you have been asked not to do so? What do you learn of comments you get?","body":"What do you mean with Sdcard? I asked that before. Why are you still writing Action_open_Document_Tree where you have been asked not to do so? What do you learn of comments you get?"},{"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"score":0,"creation_date":1686294239,"post_id":76437861,"comment_id":134781846,"body_markdown":"sdcard is a removable storage(micro sdcard) , I see this caution in Android developer website, I need clarification of this caution issue. I tried with media store in that i can&#39;t able to get media content from removable storage, so only I moved with Action_open_document_tree method","body":"sdcard is a removable storage(micro sdcard) , I see this caution in Android developer website, I need clarification of this caution issue. I tried with media store in that i can&#39;t able to get media content from removable storage, so only I moved with Action_open_document_tree method"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686294865,"post_id":76437861,"comment_id":134781951,"body_markdown":"I see. You learned nothing.","body":"I see. You learned nothing."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1686295025,"post_id":76437861,"comment_id":134781976,"body_markdown":"What is your problem? It is just a caution, i.e. a warning. That doesn&#39;t it wouldn&#39;t work. You can still do it, just keep that in mind when you are feeling lack in performance this may be the cause.","body":"What is your problem? It is just a caution, i.e. a warning. That doesn&#39;t it wouldn&#39;t work. You can still do it, just keep that in mind when you are feeling lack in performance this may be the cause."},{"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"score":0,"creation_date":1686297550,"post_id":76437861,"comment_id":134782402,"body_markdown":"@RickyMo No problem just I am asking of this caution issue because I am going  to release one music app in that i need sdcard media content so, I get the removable(sdcard) media content from Action_open_Document_tree method , but se this caution issue in future if any problem came or not of this caution issue","body":"@RickyMo No problem just I am asking of this caution issue because I am going  to release one music app in that i need sdcard media content so, I get the removable(sdcard) media content from Action_open_Document_tree method , but se this caution issue in future if any problem came or not of this caution issue"}],"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686294503,"creation_date":1686293412,"question_id":76437861,"body_markdown":"I am get the Sdcard data(media,video,Images) through Action_Open_Document_Tree method in that they mention one Caution issue.\r\n\r\nCaution issue: If you iterate through a large number of files within the directory that&#39;s accessed using ACTION_OPEN_DOCUMENT_TREE, your app&#39;s performance might be reduced.\r\n\r\nBut I need to read Large number of media files in sdcard.\r\n\r\nsdcard is a removable storage(micro sdcard) , The above mention caution is mentioned  in Android developer website, I need clarification of this caution issue. I tried with media store in that i can&#39;t able to get media content from removable storage, so only I moved with Action_open_document_tree method\r\n\r\nso i confused because of this issue it is any thing serious of this caution issue,or any other alternative method is there.","title":"Caution Issue in Action_open_Document_Tree","body":"<p>I am get the Sdcard data(media,video,Images) through Action_Open_Document_Tree method in that they mention one Caution issue.</p>\n<p>Caution issue: If you iterate through a large number of files within the directory that's accessed using ACTION_OPEN_DOCUMENT_TREE, your app's performance might be reduced.</p>\n<p>But I need to read Large number of media files in sdcard.</p>\n<p>sdcard is a removable storage(micro sdcard) , The above mention caution is mentioned  in Android developer website, I need clarification of this caution issue. I tried with media store in that i can't able to get media content from removable storage, so only I moved with Action_open_document_tree method</p>\n<p>so i confused because of this issue it is any thing serious of this caution issue,or any other alternative method is there.</p>\n"},{"tags":["java","sorting","collections","java-8"],"comments":[{"owner":{"account_id":9558279,"reputation":788,"user_id":7328984,"accept_rate":0,"display_name":"android_jain"},"score":0,"creation_date":1523517535,"post_id":49790236,"comment_id":86595398,"body_markdown":"see this answer may be helpfull\nhttps://stackoverflow.com/a/3705372/7328984","body":"see this answer may be helpfull <a href=\"https://stackoverflow.com/a/3705372/7328984\">stackoverflow.com/a/3705372/7328984</a>"},{"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"score":0,"creation_date":1523517545,"post_id":49790236,"comment_id":86595403,"body_markdown":"1. Comparator of Profile is comparing Emp1 and Emp2 class objects 2. What is the experience attribute type is not specificed.","body":"1. Comparator of Profile is comparing Emp1 and Emp2 class objects 2. What is the experience attribute type is not specificed."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1523517557,"post_id":49790236,"comment_id":86595406,"body_markdown":"How will that be a `Comparator&lt;Profile&gt;` when you&#39;re comparing `Employee`s?","body":"How will that be a <code>Comparator&lt;Profile&gt;</code> when you&#39;re comparing <code>Employee</code>s?"},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1523517586,"post_id":49790236,"comment_id":86595424,"body_markdown":"@HimanshuBhardwaj I mentioned in last line it is of type float","body":"@HimanshuBhardwaj I mentioned in last line it is of type float"},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1523517614,"post_id":49790236,"comment_id":86595436,"body_markdown":"@daniu Sorry it&#39;s by mistaken, updated now check","body":"@daniu Sorry it&#39;s by mistaken, updated now check"},{"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"score":1,"creation_date":1523517862,"post_id":49790236,"comment_id":86595577,"body_markdown":"java.lang.Float already implements Comparable, any reason you want to do it this way. And not reverse compare the two values?","body":"java.lang.Float already implements Comparable, any reason you want to do it this way. And not reverse compare the two values?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1523518432,"post_id":49790236,"comment_id":86595928,"body_markdown":"`Math.round(t.getExperience() - t1.getExperience())` does not work because it will consider `5.3` and `5.0` equal, due to rounding. This trick only works with integers.","body":"<code>Math.round(t.getExperience() - t1.getExperience())</code> does not work because it will consider <code>5.3</code> and <code>5.0</code> equal, due to rounding. This trick only works with integers."},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1523518527,"post_id":49790236,"comment_id":86595979,"body_markdown":"Yep finally, I found it the mistake is `-` should be replaced with &#39;,&#39;","body":"Yep finally, I found it the mistake is <code>-</code> should be replaced with &#39;,&#39;"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1523518178,"creation_date":1523517356,"answer_id":49790255,"question_id":49790236,"body_markdown":"`Math.round(t.getExperience() - t1.getExperience())` doesn&#39;t compare the two numbers, so I don&#39;t know what you were expecting to achieve.\r\n\r\nYou are supposed to use:\r\n\r\n    Collections.sort(employeeList, new Comparator&lt;Emp&gt;() {\r\n        @Override\r\n        public int compare(Emp t, Emp t1) {\r\n            return Float.compare(t1.getExperience(), t.getExperience());\r\n        }\r\n    });\r\n    \r\nNote that the parameters passed to `Float.compare` are in the opposite order compared to the parameters of the wrapping `compare` method, which will produce sorting by **descending** order.","title":"Java 8 sort float values","body":"<p><code>Math.round(t.getExperience() - t1.getExperience())</code> doesn't compare the two numbers, so I don't know what you were expecting to achieve.</p>\n\n<p>You are supposed to use:</p>\n\n<pre><code>Collections.sort(employeeList, new Comparator&lt;Emp&gt;() {\n    @Override\n    public int compare(Emp t, Emp t1) {\n        return Float.compare(t1.getExperience(), t.getExperience());\n    }\n});\n</code></pre>\n\n<p>Note that the parameters passed to <code>Float.compare</code> are in the opposite order compared to the parameters of the wrapping <code>compare</code> method, which will produce sorting by <strong>descending</strong> order.</p>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1686294465,"creation_date":1523517568,"answer_id":49790318,"question_id":49790236,"body_markdown":"You can use [Comparator.comparing][1]\r\n\r\n\r\n     employeeList.sort(Comparator. comparingDouble(Employee::getExperience).reversed());\r\n\r\nBut it is advised not to mutate existing collections, but to create a new one instead. So with a stream, as an example:\r\n\r\n    Comparator&lt;Employee&gt; byExperience = Comparator. comparingDouble(Employee::getExperience).reversed(); \r\n    List&lt;Employee&gt; employeeList = ...;\r\n    List&lt;Employee&gt; sortedByExperienceEmployeeList =\r\n     employeeList.sorted(byExperience)\r\n    .toList();\r\n\r\nIt will produce:\r\n\r\n&gt; 5.6\r\n&gt; 5.5\r\n&gt; 5.0\r\n&gt; 4.5\r\n&gt; 3.3\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"Java 8 sort float values","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator.comparing</a></p>\n<pre><code> employeeList.sort(Comparator. comparingDouble(Employee::getExperience).reversed());\n</code></pre>\n<p>But it is advised not to mutate existing collections, but to create a new one instead. So with a stream, as an example:</p>\n<pre><code>Comparator&lt;Employee&gt; byExperience = Comparator. comparingDouble(Employee::getExperience).reversed(); \nList&lt;Employee&gt; employeeList = ...;\nList&lt;Employee&gt; sortedByExperienceEmployeeList =\n employeeList.sorted(byExperience)\n.toList();\n</code></pre>\n<p>It will produce:</p>\n<blockquote>\n<p>5.6\n5.5\n5.0\n4.5\n3.3</p>\n</blockquote>\n"}],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2879,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":49790255,"answer_count":2,"score":0,"last_activity_date":1686294465,"creation_date":1523517288,"question_id":49790236,"body_markdown":"I have a list of employees which had different experiences like\r\n\r\n&gt; 5.0,3.3,5.5,5.6,4.5 etc..\r\n\r\nWhen I am trying to sort max to min experience by using `Math.round` it&#39;s giving the wrong result like:\r\n\r\n&gt; 5.6,5.0,5.5,5.3,4.5 etc..\r\n\r\nI want the result like:\r\n\r\n&gt; 5.6,5.5,5.3,5.0,4.5 etc..\r\n\r\nHere I used `Collections.sort` like:\r\n\r\n    Collections.sort(employeeList, new Comparator&lt;Emp&gt;() {\r\n    \t\t@Override\r\n    \t\tpublic int compare(Emp t, Emp t1) {\r\n                return Math.round(t.getExperience() - t1.getExperience()); // which giving wrong results\r\n    //\t\t\treturn Float.compare(t.getExperience() - t1.getExperience()); // which is not working\r\n    \t\t}\r\n    \t});\r\n\r\nHere `t1.getExperience()` will give you float result.\r\n\r\n","title":"Java 8 sort float values","body":"<p>I have a list of employees which had different experiences like</p>\n\n<blockquote>\n  <p>5.0,3.3,5.5,5.6,4.5 etc..</p>\n</blockquote>\n\n<p>When I am trying to sort max to min experience by using <code>Math.round</code> it's giving the wrong result like:</p>\n\n<blockquote>\n  <p>5.6,5.0,5.5,5.3,4.5 etc..</p>\n</blockquote>\n\n<p>I want the result like:</p>\n\n<blockquote>\n  <p>5.6,5.5,5.3,5.0,4.5 etc..</p>\n</blockquote>\n\n<p>Here I used <code>Collections.sort</code> like:</p>\n\n<pre><code>Collections.sort(employeeList, new Comparator&lt;Emp&gt;() {\n        @Override\n        public int compare(Emp t, Emp t1) {\n            return Math.round(t.getExperience() - t1.getExperience()); // which giving wrong results\n//          return Float.compare(t.getExperience() - t1.getExperience()); // which is not working\n        }\n    });\n</code></pre>\n\n<p>Here <code>t1.getExperience()</code> will give you float result.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":211497,"reputation":11114,"user_id":463693,"display_name":"ITroubs"},"score":2,"creation_date":1421748971,"post_id":28042705,"comment_id":44468482,"body_markdown":"Basically there is no difference. one is shorthand the other is not. They are interchangable BUT the long version has the possebility to create an array that can contain more than 6 strings","body":"Basically there is no difference. one is shorthand the other is not. They are interchangable BUT the long version has the possebility to create an array that can contain more than 6 strings"},{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":1,"creation_date":1421748971,"post_id":28042705,"comment_id":44468483,"body_markdown":"I like your solution better although both are correct and produce the exact same result.","body":"I like your solution better although both are correct and produce the exact same result."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":10,"creation_date":1421749246,"post_id":28042705,"comment_id":44468665,"body_markdown":"Apparently you knew things that you weren&#39;t supposed to know by that point, both are correct and the result will be the same :)","body":"Apparently you knew things that you weren&#39;t supposed to know by that point, both are correct and the result will be the same :)"},{"owner":{"account_id":74658,"reputation":4237,"user_id":214416,"accept_rate":50,"display_name":"mcv"},"score":2,"creation_date":1421764496,"post_id":28042705,"comment_id":44477976,"body_markdown":"Both are correct, but @javapalava&#39;s answer is better than the official one. Well done!","body":"Both are correct, but @javapalava&#39;s answer is better than the official one. Well done!"},{"owner":{"account_id":1168964,"reputation":4060,"user_id":1146585,"accept_rate":100,"display_name":"Pierre Arlaud"},"score":1,"creation_date":1421781810,"post_id":28042705,"comment_id":44488884,"body_markdown":"Bringing my two cents to say that singers aren&#39;t String. You need a singer class with a name field and a gender field. Or you can call the array sSingers, with a hideous use of the hungarian notation ; see: good naming is also an important part of readability :))","body":"Bringing my two cents to say that singers aren&#39;t String. You need a singer class with a name field and a gender field. Or you can call the array sSingers, with a hideous use of the hungarian notation ; see: good naming is also an important part of readability :))"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1421796393,"post_id":28042705,"comment_id":44495857,"body_markdown":"How is this not a duplicate more than 6 years after Stack Overflow launched?","body":"How is this not a duplicate more than 6 years after Stack Overflow launched?"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1421810525,"post_id":28042705,"comment_id":44499616,"body_markdown":"The compiler converts your answer into the provided answer automatically - it&#39;s only syntactic sugar.","body":"The compiler converts your answer into the provided answer automatically - it&#39;s only syntactic sugar."}],"answers":[{"tags":[],"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1421748967,"creation_date":1421748967,"answer_id":28042763,"question_id":28042705,"body_markdown":"Your answer is equivalent but more readable and less error-prone because you don&#39;t need any &quot;magic numbers&quot; for each array element with the &quot;fear&quot; of accessing an element out of the array definition and therefore creating an `IndexOutOfBoundsException`.","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>Your answer is equivalent but more readable and less error-prone because you don't need any \"magic numbers\" for each array element with the \"fear\" of accessing an element out of the array definition and therefore creating an <code>IndexOutOfBoundsException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1421748967,"creation_date":1421748967,"answer_id":28042764,"question_id":28042705,"body_markdown":"Both are valid ways to initialize an array.\r\n\r\nYour way of initializing the array can only be done in the same expression that defines the array variable, though it can later be done in a similar way :\r\n\r\n    String[] names = null;\r\n    names = new String[] {&quot;Beyonce (f)&quot;, &quot;David Bowie (m)&quot;, &quot;Elvis Costello (m)&quot;, &quot;Madonna (f)&quot;, &quot;Elton John (m)&quot;, &quot;Charles Aznavour (m)&quot;};\r\n\r\nThe provided answer explicitly creates an array of Strings, specifies the number of Strings that this array can store, and assigns values to the indices of the array.","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>Both are valid ways to initialize an array.</p>\n\n<p>Your way of initializing the array can only be done in the same expression that defines the array variable, though it can later be done in a similar way :</p>\n\n<pre><code>String[] names = null;\nnames = new String[] {\"Beyonce (f)\", \"David Bowie (m)\", \"Elvis Costello (m)\", \"Madonna (f)\", \"Elton John (m)\", \"Charles Aznavour (m)\"};\n</code></pre>\n\n<p>The provided answer explicitly creates an array of Strings, specifies the number of Strings that this array can store, and assigns values to the indices of the array.</p>\n"},{"tags":[],"owner":{"account_id":4086265,"reputation":17487,"user_id":3355476,"accept_rate":78,"display_name":"Codor"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1421749001,"creation_date":1421749001,"answer_id":28042780,"question_id":28042705,"body_markdown":"Both solutions are correct. The first one uses an array initializer, the second one first instantiates the array and then populates it with values. One could argue that the first solution is more robust, since in the second solution the length of the array must be explicitly given before the entries are provided and it is possible to use indices beond the capacity of the array, which will be only detected at runtime.","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>Both solutions are correct. The first one uses an array initializer, the second one first instantiates the array and then populates it with values. One could argue that the first solution is more robust, since in the second solution the length of the array must be explicitly given before the entries are provided and it is possible to use indices beond the capacity of the array, which will be only detected at runtime.</p>\n"},{"tags":[],"owner":{"display_name":"user4050065"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1421749052,"creation_date":1421749052,"answer_id":28042796,"question_id":28042705,"body_markdown":"The &#39;new&#39; operator in java is responsible for the creation of new object or we can say instance of a class.\r\nActually, it dynamically allocates memory in the heap with the reference we define pointed from the stack.","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>The 'new' operator in java is responsible for the creation of new object or we can say instance of a class.\nActually, it dynamically allocates memory in the heap with the reference we define pointed from the stack.</p>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1686294258,"creation_date":1421749361,"answer_id":28042897,"question_id":28042705,"body_markdown":"Both are doing the same thing.\r\n\r\nFirst approach is more dynamic. You are telling java compiler that those elements will create an array. Compiler knows in compilation time their length, so it creates an array to fit them all, secondly this is a single line declaration - so it takes less space and sets all values at once.\r\n\r\nIn your second attempt, you are first creating an array with length of 6. And then put in every slot one object.\r\n\r\n\r\nFirst approach is better when:\r\n\r\n - if you know from the start what elements will be in the array - it is cleaner, shorter\r\n\r\n - it is also safer, because compiler created the array based on input length. Adding new element in code will change array size. In the second aproach you would have to change size manually, or ArrayOutOfBoundException will be thrown when adding singers[6].\r\n\r\nSecond approach is better wehen:\r\n\r\n - But if there is some sort of logic that would determine order or values **in the runtime**.\r\n\r\nBut if you don&#39;t know the length of array, and you are expecting it to grow in the runtime, then you must use List or other dynamic structure (Set, List)\r\n\r\nYou can [find here][1].\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/arrays-in-java/","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>Both are doing the same thing.</p>\n<p>First approach is more dynamic. You are telling java compiler that those elements will create an array. Compiler knows in compilation time their length, so it creates an array to fit them all, secondly this is a single line declaration - so it takes less space and sets all values at once.</p>\n<p>In your second attempt, you are first creating an array with length of 6. And then put in every slot one object.</p>\n<p>First approach is better when:</p>\n<ul>\n<li><p>if you know from the start what elements will be in the array - it is cleaner, shorter</p>\n</li>\n<li><p>it is also safer, because compiler created the array based on input length. Adding new element in code will change array size. In the second aproach you would have to change size manually, or ArrayOutOfBoundException will be thrown when adding singers[6].</p>\n</li>\n</ul>\n<p>Second approach is better wehen:</p>\n<ul>\n<li>But if there is some sort of logic that would determine order or values <strong>in the runtime</strong>.</li>\n</ul>\n<p>But if you don't know the length of array, and you are expecting it to grow in the runtime, then you must use List or other dynamic structure (Set, List)</p>\n<p>You can <a href=\"https://www.geeksforgeeks.org/arrays-in-java/\" rel=\"nofollow noreferrer\">find here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1886487,"reputation":396547,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1421796701,"creation_date":1421770121,"answer_id":28049975,"question_id":28042705,"body_markdown":"A new array can be created with the `new` operator followed by the array element type and the array size between the `[` `]` characters - this is called the [Array Creation Expression][1]. Or when you declare a variable, you can also use an _array literal_ which is called [Array Initializers][2] (but this cannot be used to assign a value to an array later on just when it is declared).\r\n\r\nWhen you write\r\n\r\n    String names[] = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\r\n\r\nIt is just a short form and is equivalent to\r\n\r\n    String[] names = new String[] {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\r\n\r\nNote that to indicate that an array of the specified type is to be declared, both `String[] names` and `String names[]` forms can be used and they are equivalent, altough:\r\n\r\n    String names[], names2; // Only names is an array, names2 is just a String\r\n\r\nWhile\r\n\r\n    String[] names, names2; // Both names and names2 are arrays!\r\n\r\nIt is recommended to use the second form to avoid confusion and accidents if later you add more variable names to the declaration.\r\n\r\nLet&#39;s take a closer look of what happens in the 2 cases:\r\n--\r\n\r\n    // &quot;Slow&quot; filling\r\n    String[] names = new String[3]; // Filled with null values by default\r\n    names[0] = &quot;A&quot;; // Explicit index, index range check!\r\n    names[1] = &quot;B&quot;; // Explicit index, index range check!\r\n    names[2] = &quot;C&quot;; // Explicit index, index range check!\r\n\r\n    // &quot;Fast&quot; filling at creation time, implicit indices and array length,\r\n    // No index checks!\r\n    String[] names = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\r\n\r\nAdvantages of creating and initializing the array in one step\r\n--\r\n\r\nThere are several advantages of creating and initializing an array in one step:\r\n\r\n- Doing so is less error-prone: the compiler will determine the length of the array, and also the compiler will initialize the elements of the array based on the list you provide. No such thing as using a wrong index value or getting an `ArrayIndexOutOfBoundsException`.\r\n- It will be faster because the JVM (Java Virtual Machine) will not initialize the array with `null` values.\r\n- It will be faster because you don&#39;t have to specify explicit index values and the JVM does not have to work with them. Also the JVM does not have to check if indices are in the valid range (that is `0..length-1`).\r\n- Less maintenance/overhead when later you want to add another element in the middle of the array, you just have to insert it where you want it. Would you have initialized your array the other way, you would have to update all subsequent indices.\r\n- The Java source code will be shorter, more compact and also the compiled byte code will be shorter.\r\n\r\nYou can read more about arrays in the [Java Language Specification: Chapter 10. Arrays][3]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.10\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.6\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>A new array can be created with the <code>new</code> operator followed by the array element type and the array size between the <code>[</code> <code>]</code> characters - this is called the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.10\" rel=\"nofollow\">Array Creation Expression</a>. Or when you declare a variable, you can also use an <em>array literal</em> which is called <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.6\" rel=\"nofollow\">Array Initializers</a> (but this cannot be used to assign a value to an array later on just when it is declared).</p>\n\n<p>When you write</p>\n\n<pre><code>String names[] = {\"A\", \"B\", \"C\"};\n</code></pre>\n\n<p>It is just a short form and is equivalent to</p>\n\n<pre><code>String[] names = new String[] {\"A\", \"B\", \"C\"};\n</code></pre>\n\n<p>Note that to indicate that an array of the specified type is to be declared, both <code>String[] names</code> and <code>String names[]</code> forms can be used and they are equivalent, altough:</p>\n\n<pre><code>String names[], names2; // Only names is an array, names2 is just a String\n</code></pre>\n\n<p>While</p>\n\n<pre><code>String[] names, names2; // Both names and names2 are arrays!\n</code></pre>\n\n<p>It is recommended to use the second form to avoid confusion and accidents if later you add more variable names to the declaration.</p>\n\n<h2>Let's take a closer look of what happens in the 2 cases:</h2>\n\n<pre><code>// \"Slow\" filling\nString[] names = new String[3]; // Filled with null values by default\nnames[0] = \"A\"; // Explicit index, index range check!\nnames[1] = \"B\"; // Explicit index, index range check!\nnames[2] = \"C\"; // Explicit index, index range check!\n\n// \"Fast\" filling at creation time, implicit indices and array length,\n// No index checks!\nString[] names = {\"A\", \"B\", \"C\"};\n</code></pre>\n\n<h2>Advantages of creating and initializing the array in one step</h2>\n\n<p>There are several advantages of creating and initializing an array in one step:</p>\n\n<ul>\n<li>Doing so is less error-prone: the compiler will determine the length of the array, and also the compiler will initialize the elements of the array based on the list you provide. No such thing as using a wrong index value or getting an <code>ArrayIndexOutOfBoundsException</code>.</li>\n<li>It will be faster because the JVM (Java Virtual Machine) will not initialize the array with <code>null</code> values.</li>\n<li>It will be faster because you don't have to specify explicit index values and the JVM does not have to work with them. Also the JVM does not have to check if indices are in the valid range (that is <code>0..length-1</code>).</li>\n<li>Less maintenance/overhead when later you want to add another element in the middle of the array, you just have to insert it where you want it. Would you have initialized your array the other way, you would have to update all subsequent indices.</li>\n<li>The Java source code will be shorter, more compact and also the compiled byte code will be shorter.</li>\n</ul>\n\n<p>You can read more about arrays in the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html\" rel=\"nofollow\">Java Language Specification: Chapter 10. Arrays</a></p>\n"}],"owner":{"account_id":5565916,"reputation":711,"user_id":4413241,"accept_rate":43,"display_name":"javapalava"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2638,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"answer_count":6,"score":24,"last_activity_date":1686294258,"creation_date":1421748765,"question_id":28042705,"body_markdown":"I&#39;ve been undertaking some basic tutorials. One of which has asked me to set up an array to hold the following string values:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Beyonce (f)\r\n    David Bowie (m)\r\n    Elvis Costello (m)\r\n    Madonna (f)\r\n    Elton John (m)\r\n    Charles Aznavour (m)\r\n\r\nWrite a program to loop round, count how many are male vocalists and how many are female, and display my answer in the console.\r\n\r\nI managed to complete it, but the way I set up my array was different to the answer provided.\r\n\r\nMine is as follows:\r\n\r\n    String names[] = {&quot;Beyonce (f)&quot;, &quot;David Bowie (m)&quot;, &quot;Elvis Costello (m)&quot;, &quot;Madonna (f)&quot;, &quot;Elton John (m)&quot;, &quot;Charles Aznavour (m)&quot;};\r\n\r\nAnd the provided answer is as such:\r\n\r\n    String[] singers = new String[6];\r\n    singers[0] = &quot;Beyonce (f)&quot;;\r\n    singers[1] = &quot;David Bowie (m)&quot;;\r\n    singers[2] = &quot;Elvis Costello (m)&quot;;\r\n    singers[3] = &quot;Madonna (f)&quot;;\r\n    singers[4] = &quot;Elton John (m)&quot;;\r\n    singers[5] = &quot;Charles Aznavour (m)&quot;;\r\n\r\nShould I be creating a &quot;new&quot; array? If so, why? And what is the difference between the two?\r\n\r\n","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>I've been undertaking some basic tutorials. One of which has asked me to set up an array to hold the following string values:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Beyonce (f)\nDavid Bowie (m)\nElvis Costello (m)\nMadonna (f)\nElton John (m)\nCharles Aznavour (m)\n</code></pre>\n\n<p>Write a program to loop round, count how many are male vocalists and how many are female, and display my answer in the console.</p>\n\n<p>I managed to complete it, but the way I set up my array was different to the answer provided.</p>\n\n<p>Mine is as follows:</p>\n\n<pre><code>String names[] = {\"Beyonce (f)\", \"David Bowie (m)\", \"Elvis Costello (m)\", \"Madonna (f)\", \"Elton John (m)\", \"Charles Aznavour (m)\"};\n</code></pre>\n\n<p>And the provided answer is as such:</p>\n\n<pre><code>String[] singers = new String[6];\nsingers[0] = \"Beyonce (f)\";\nsingers[1] = \"David Bowie (m)\";\nsingers[2] = \"Elvis Costello (m)\";\nsingers[3] = \"Madonna (f)\";\nsingers[4] = \"Elton John (m)\";\nsingers[5] = \"Charles Aznavour (m)\";\n</code></pre>\n\n<p>Should I be creating a \"new\" array? If so, why? And what is the difference between the two?</p>\n"},{"tags":["java","android","android-intent","event-listener"],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686294160,"creation_date":1686294160,"answer_id":76437942,"question_id":76437824,"body_markdown":"you can modify your code to include the Context parameter in the constructor\r\n\r\n```\r\npublic class PaymentConnectorListener implements IPaymentConnectorListener {\r\n    private Context context;\r\n\r\n    public PaymentConnectorListener(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public void onSaleResponse(SaleResponse response) {\r\n        String result;\r\n        if (response.getSuccess()) {\r\n            result = &quot;Sale was successful&quot;;\r\n        } else {\r\n            result = &quot;Sale was unsuccessful&quot; + response.getReason() + &quot;:&quot; + response.getMessage();\r\n        }\r\n\r\n        // Use the context to start a new activity or create a new intent\r\n        Intent intent = new Intent(context, YourActivity.class);\r\n        intent.putExtra(&quot;result&quot;, result);\r\n        context.startActivity(intent);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen initializing the PaymentConnectorListener, pass the appropriate Context object to its constructor\r\n\r\n```\r\nfinal IPaymentConnectorListener ccListener = new PaymentConnectorListener(this);\r\n\r\n```\r\nMake sure that this refers to a valid Context object within the scope where you are initializing the PaymentConnectorListener","title":"Android Context Unavailable In Listener Class Preventing New Intent Creation","body":"<p>you can modify your code to include the Context parameter in the constructor</p>\n<pre><code>public class PaymentConnectorListener implements IPaymentConnectorListener {\n    private Context context;\n\n    public PaymentConnectorListener(Context context) {\n        this.context = context;\n    }\n\n    @Override\n    public void onSaleResponse(SaleResponse response) {\n        String result;\n        if (response.getSuccess()) {\n            result = &quot;Sale was successful&quot;;\n        } else {\n            result = &quot;Sale was unsuccessful&quot; + response.getReason() + &quot;:&quot; + response.getMessage();\n        }\n\n        // Use the context to start a new activity or create a new intent\n        Intent intent = new Intent(context, YourActivity.class);\n        intent.putExtra(&quot;result&quot;, result);\n        context.startActivity(intent);\n    }\n}\n\n</code></pre>\n<p>When initializing the PaymentConnectorListener, pass the appropriate Context object to its constructor</p>\n<pre><code>final IPaymentConnectorListener ccListener = new PaymentConnectorListener(this);\n\n</code></pre>\n<p>Make sure that this refers to a valid Context object within the scope where you are initializing the PaymentConnectorListener</p>\n"}],"owner":{"account_id":10366733,"reputation":335,"user_id":10302721,"display_name":"z123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76437942,"answer_count":1,"score":0,"last_activity_date":1686294160,"creation_date":1686292873,"question_id":76437824,"body_markdown":"I am new to android development and while working with intents, I have a payment intent and a payment listener and I am trying to fire another activity or intent when the listener picks up a payment response. The issue is, I am unable to get context int listener class implementation. \r\n\r\n  \r\nThe class that I am trying to create a new intent in is:\r\n\r\n    public class PaymentConnectorListener implements IPaymentConnectorListener {\r\n        @Override\r\n        public void onSaleResponse(SaleResponse response) {\r\n            String result;\r\n            if (response.getSuccess()) {\r\n                result = &quot;Sale was successful&quot;;\r\n            } else {\r\n                result = &quot;Sale was unsuccessful&quot; + response.getReason() + &quot;:&quot; + response.getMessage();\r\n            }\r\n        }\r\n}\r\n\r\n \r\nHow I initialize the listener class is:\r\n\r\n        final IPaymentConnectorListener ccListener = new PaymentConnectorListener();\r\n\r\nand where I use the listener is:\r\n\r\n    paymentConnector =  new PaymentConnector(this, account, ccListener, remoteApplicationId);\r\n                paymentConnector.initializeConnection();\r\n\r\nI want to fire an intent on payment response but the onSaleResponse() method does not have context. Also, switching from angular, can you explain a bit more of what context is.","title":"Android Context Unavailable In Listener Class Preventing New Intent Creation","body":"<p>I am new to android development and while working with intents, I have a payment intent and a payment listener and I am trying to fire another activity or intent when the listener picks up a payment response. The issue is, I am unable to get context int listener class implementation.</p>\n<p>The class that I am trying to create a new intent in is:</p>\n<pre><code>public class PaymentConnectorListener implements IPaymentConnectorListener {\n    @Override\n    public void onSaleResponse(SaleResponse response) {\n        String result;\n        if (response.getSuccess()) {\n            result = &quot;Sale was successful&quot;;\n        } else {\n            result = &quot;Sale was unsuccessful&quot; + response.getReason() + &quot;:&quot; + response.getMessage();\n        }\n    }\n</code></pre>\n<p>}</p>\n<p>How I initialize the listener class is:</p>\n<pre><code>    final IPaymentConnectorListener ccListener = new PaymentConnectorListener();\n</code></pre>\n<p>and where I use the listener is:</p>\n<pre><code>paymentConnector =  new PaymentConnector(this, account, ccListener, remoteApplicationId);\n            paymentConnector.initializeConnection();\n</code></pre>\n<p>I want to fire an intent on payment response but the onSaleResponse() method does not have context. Also, switching from angular, can you explain a bit more of what context is.</p>\n"},{"tags":["java","windows","hyperledger"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1582384027,"post_id":60353491,"comment_id":106762724,"body_markdown":"`--add-opens` is part of [project jigsaw](https://openjdk.java.net/projects/jigsaw/), which was released with Java 9.","body":"<code>--add-opens</code> is part of <a href=\"https://openjdk.java.net/projects/jigsaw/\" rel=\"nofollow noreferrer\">project jigsaw</a>, which was released with Java 9."},{"owner":{"account_id":17822183,"reputation":98,"user_id":12944298,"display_name":"Charbel Tabet"},"score":0,"creation_date":1582384402,"post_id":60353491,"comment_id":106762834,"body_markdown":"I see, thank you for the info @Turing85 . Then why I&#39;m getting ```Unrecognized option: --add-opens```, what shoul I do?","body":"I see, thank you for the info @Turing85 . Then why I&#39;m getting <code>Unrecognized option: --add-opens</code>, what shoul I do?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1582385213,"post_id":60353491,"comment_id":106763065,"body_markdown":".. update to at least Java 9. Or - as the software&#39;s websiets states, Java 11.","body":".. update to at least Java 9. Or - as the software&#39;s websiets states, Java 11."}],"answers":[{"tags":[],"owner":{"account_id":5025978,"reputation":998,"user_id":4037954,"accept_rate":67,"display_name":"It Assistors"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1582384945,"creation_date":1582384945,"answer_id":60353640,"question_id":60353491,"body_markdown":"I have no prior experience with the library which is in discussion, but I have just had a look at the [official docs][1] of the library which you are trying to use, and the installation instructions state that you require Java 11+ to complie\n\n&gt; Hyperledger Besu requires:\n&gt;\n&gt; MacOS High Sierra **10.13** or **later** versions\n&gt;\n&gt; **Java 11+ to compile**; earlier versions are not supported. \n\nFrom your question, it looks like your system is running Java8. Trying bumping it up to java 11 and try starting the binary again. \n\n\n  [1]: https://besu.hyperledger.org/en/stable/HowTo/Get-Started/Install-Binaries/","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<p>I have no prior experience with the library which is in discussion, but I have just had a look at the <a href=\"https://besu.hyperledger.org/en/stable/HowTo/Get-Started/Install-Binaries/\" rel=\"noreferrer\">official docs</a> of the library which you are trying to use, and the installation instructions state that you require Java 11+ to complie</p>\n<blockquote>\n<p>Hyperledger Besu requires:</p>\n<p>MacOS High Sierra <strong>10.13</strong> or <strong>later</strong> versions</p>\n<p><strong>Java 11+ to compile</strong>; earlier versions are not supported.</p>\n</blockquote>\n<p>From your question, it looks like your system is running Java8. Trying bumping it up to java 11 and try starting the binary again.</p>\n"},{"tags":[],"owner":{"account_id":5090573,"reputation":107,"user_id":4083779,"display_name":"Moebius-Rex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585193006,"creation_date":1585193006,"answer_id":60860573,"question_id":60353491,"body_markdown":"The script you&#39;re running adds `--add-opens java.base/sun.security.provider=ALL-UNNAMED` to the java command line that starts Besu. As others have noted, the `--add-opens` parameter was made available in Java 9; all it does is prevent a warning from being issued when any class uses reflection to access an internal JDK class (in this case, the Sun security package). I&#39;ve been starting Besu *without* this parameter for weeks with no problems, so you could have simply removed the parameter from the Besu start script or -- better -- upgraded to at least the Java 11 or higher version that Besu expects. According to Oracle, this command line parameter will be removed eventually, but that&#39;s a problem for the Besu maintainers, not you.","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<p>The script you're running adds <code>--add-opens java.base/sun.security.provider=ALL-UNNAMED</code> to the java command line that starts Besu. As others have noted, the <code>--add-opens</code> parameter was made available in Java 9; all it does is prevent a warning from being issued when any class uses reflection to access an internal JDK class (in this case, the Sun security package). I've been starting Besu <em>without</em> this parameter for weeks with no problems, so you could have simply removed the parameter from the Besu start script or -- better -- upgraded to at least the Java 11 or higher version that Besu expects. According to Oracle, this command line parameter will be removed eventually, but that's a problem for the Besu maintainers, not you.</p>\n"},{"tags":[],"owner":{"account_id":15262350,"reputation":11,"user_id":11012008,"display_name":"nagaraju kailasa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637136675,"creation_date":1637136675,"answer_id":70000815,"question_id":60353491,"body_markdown":"change the java home version path from jdk8 path to jdk11 in environment variable\r\nas\r\nJAVA_HOME : {jdk11 directory path}","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<p>change the java home version path from jdk8 path to jdk11 in environment variable\nas\nJAVA_HOME : {jdk11 directory path}</p>\n"},{"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677843844,"creation_date":1677843844,"answer_id":75626665,"question_id":60353491,"body_markdown":"&gt; Simple Solution if one is using Tomcat to deploy their project. Go to\r\n&gt; the Run Configuration of Tomcat. Find this argument and remove the\r\n&gt; same. No need to change the Java path if you still want to use Java 8.\r\n\r\n","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<blockquote>\n<p>Simple Solution if one is using Tomcat to deploy their project. Go to\nthe Run Configuration of Tomcat. Find this argument and remove the\nsame. No need to change the Java path if you still want to use Java 8.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23556064,"reputation":1,"user_id":17598073,"display_name":"Hamza"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686294131,"creation_date":1685698575,"answer_id":76388967,"question_id":60353491,"body_markdown":"1)You can change the JAVA_HOME variable to at least Java 9 but official document says &quot;Java 11+ to compile; earlier versions are not supported.&quot;\r\n\r\n**To set JAVA_HOME, do the following:**  \r\nRight click My Computer and select Properties.  \r\nOn the Advanced tab, select Environment Variables   \r\nThen edit JAVA_HOME to point to where the JDK software is located,  \r\nfor example, C:\\Program Files\\Java\\jre1.8.0_341\r\n\r\n2)Or You can change the version of the JRE used by the local tomcat server from the Server runtime environment section.","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<p>1)You can change the JAVA_HOME variable to at least Java 9 but official document says &quot;Java 11+ to compile; earlier versions are not supported.&quot;</p>\n<p><strong>To set JAVA_HOME, do the following:</strong><br />\nRight click My Computer and select Properties.<br />\nOn the Advanced tab, select Environment Variables<br />\nThen edit JAVA_HOME to point to where the JDK software is located,<br />\nfor example, C:\\Program Files\\Java\\jre1.8.0_341</p>\n<p>2)Or You can change the version of the JRE used by the local tomcat server from the Server runtime environment section.</p>\n"}],"owner":{"account_id":17822183,"reputation":98,"user_id":12944298,"display_name":"Charbel Tabet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51310,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":60353640,"answer_count":5,"score":6,"last_activity_date":1686294131,"creation_date":1582383936,"question_id":60353491,"body_markdown":"I want to get started with Hyperledger Besu, after following the steps of the [official documentation here](https://besu.hyperledger.org/en/stable/HowTo/Get-Started/Starting-node/) and running the following command:\r\n\r\n```bin\\besu --help```\r\n\r\nI get the following error:\r\n\r\n```\r\nC:\\Users\\user\\Desktop\\besu-1.3.9&gt;bin\\besu --help\r\nUnrecognized option: --add-opens\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\nI get the same thing when running ```bin\\besu``` or ```bin\\besu -help```.\r\n\r\nI don&#39;t know if the problem is with java&#39;s installation or with hyperledger besu trying to run unvalid/unrecognised option ```bin\\besu --add-opens```. I tried uninstalling then reinstalling java but this did not solve the issue, here is java&#39;s version:\r\n```\r\nC:\\Users\\user&gt;java -version\r\nPicked up _JAVA_OPTIONS: -Xmx512m\r\njava version &quot;1.8.0_241&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_241-b07)\r\nJava HotSpot(TM) Client VM (build 25.241-b07, mixed mode)\r\n```\r\nAny help would be appreciated!","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<p>I want to get started with Hyperledger Besu, after following the steps of the <a href=\"https://besu.hyperledger.org/en/stable/HowTo/Get-Started/Starting-node/\" rel=\"noreferrer\">official documentation here</a> and running the following command:</p>\n\n<p><code>bin\\besu --help</code></p>\n\n<p>I get the following error:</p>\n\n<pre><code>C:\\Users\\user\\Desktop\\besu-1.3.9&gt;bin\\besu --help\nUnrecognized option: --add-opens\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>I get the same thing when running <code>bin\\besu</code> or <code>bin\\besu -help</code>.</p>\n\n<p>I don't know if the problem is with java's installation or with hyperledger besu trying to run unvalid/unrecognised option <code>bin\\besu --add-opens</code>. I tried uninstalling then reinstalling java but this did not solve the issue, here is java's version:</p>\n\n<pre><code>C:\\Users\\user&gt;java -version\nPicked up _JAVA_OPTIONS: -Xmx512m\njava version \"1.8.0_241\"\nJava(TM) SE Runtime Environment (build 1.8.0_241-b07)\nJava HotSpot(TM) Client VM (build 25.241-b07, mixed mode)\n</code></pre>\n\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","google-chrome","selenium","mobile","emulation"],"comments":[{"owner":{"account_id":12928626,"reputation":2074,"user_id":9348376,"display_name":"Sean Breckenridge"},"score":0,"creation_date":1521240420,"post_id":49328454,"comment_id":85663051,"body_markdown":"I think the issue is that chromedriver doesn&#39;t have support for iPhone 7.\n\nYou can look [here](https://cs.chromium.org/chromium/src/third_party/WebKit/Source/devtools/front_end/emulated_devices/) for the list of emulated devices, and [here](https://cs.chromium.org/chromium/src/third_party/WebKit/Source/devtools/front_end/emulated_devices/module.json) for the device preset names.","body":"I think the issue is that chromedriver doesn&#39;t have support for iPhone 7.  You can look <a href=\"https://cs.chromium.org/chromium/src/third_party/WebKit/Source/devtools/front_end/emulated_devices/\" rel=\"nofollow noreferrer\">here</a> for the list of emulated devices, and <a href=\"https://cs.chromium.org/chromium/src/third_party/WebKit/Source/devtools/front_end/emulated_devices/module.json\" rel=\"nofollow noreferrer\">here</a> for the device preset names."},{"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"score":0,"creation_date":1521245054,"post_id":49328454,"comment_id":85664160,"body_markdown":"Thanks! I&#39;ve reached before to the 2nd link you provided, and I see there is __&quot;title&quot;: &quot;iPhone 6/7/8&quot;, and also for iPhone X...","body":"Thanks! I&#39;ve reached before to the 2nd link you provided, and I see there is __&quot;title&quot;: &quot;iPhone 6/7/8&quot;, and also for iPhone X..."},{"owner":{"account_id":12928626,"reputation":2074,"user_id":9348376,"display_name":"Sean Breckenridge"},"score":0,"creation_date":1521245264,"post_id":49328454,"comment_id":85664194,"body_markdown":"Yeah, I saw that as well, not sure what its about. The one for `iPhone 6/7/8 Plus` has `iPhone6Plus-landscape.svg` as its image, so maybe its just there as placeholder?","body":"Yeah, I saw that as well, not sure what its about. The one for <code>iPhone 6&#47;7&#47;8 Plus</code> has <code>iPhone6Plus-landscape.svg</code> as its image, so maybe its just there as placeholder?"},{"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"score":0,"creation_date":1521245403,"post_id":49328454,"comment_id":85664232,"body_markdown":"Thanks! that&#39;s explains alot. But still, I&#39;m confused. I&#39;ve reached before to the 2nd link you provided, and I saw there are &quot;title&quot;: &quot;iPhone 6/7/8&quot;, and also for iPhone X and more...so what is that means? it lists here all the devices. even the new ones","body":"Thanks! that&#39;s explains alot. But still, I&#39;m confused. I&#39;ve reached before to the 2nd link you provided, and I saw there are &quot;title&quot;: &quot;iPhone 6/7/8&quot;, and also for iPhone X and more...so what is that means? it lists here all the devices. even the new ones"},{"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"score":0,"creation_date":1521245485,"post_id":49328454,"comment_id":85664245,"body_markdown":"mmm...placeholder might be the reason. well Thanks a lot again!","body":"mmm...placeholder might be the reason. well Thanks a lot again!"},{"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"score":0,"creation_date":1521246027,"post_id":49328454,"comment_id":85664369,"body_markdown":"Wait, I don&#39;t think what you wrote about the first link is correct, because I CAN use &quot;Galaxy S5&quot; which is not on that list.","body":"Wait, I don&#39;t think what you wrote about the first link is correct, because I CAN use &quot;Galaxy S5&quot; which is not on that list."},{"owner":{"account_id":12928626,"reputation":2074,"user_id":9348376,"display_name":"Sean Breckenridge"},"score":0,"creation_date":1521246343,"post_id":49328454,"comment_id":85664432,"body_markdown":"Yeah, I&#39;m not really sure. I can&#39;t find documentation on this so a lot of it is just presumptions.","body":"Yeah, I&#39;m not really sure. I can&#39;t find documentation on this so a lot of it is just presumptions."}],"answers":[{"tags":[],"owner":{"account_id":13025468,"reputation":1,"user_id":9413725,"display_name":"user9413725"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521714863,"creation_date":1521714863,"answer_id":49426420,"question_id":49328454,"body_markdown":"Why not use [Dimension][1] class? \n\nDefine an enum EmulatedDevices and use following style:\n\n    driver.manage().window().setSize(new Dimension(EmulatedDevices.IPHONE7.getWidth(),EmulatedDevices.IPHONE7.getHeight()));\n\n\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/Dimension.html","title":"Chrome mobile emulator for Selenium testing- can&#39;t use all devices","body":"<p>Why not use <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/Dimension.html\" rel=\"nofollow noreferrer\">Dimension</a> class? </p>\n\n<p>Define an enum EmulatedDevices and use following style:</p>\n\n<pre><code>driver.manage().window().setSize(new Dimension(EmulatedDevices.IPHONE7.getWidth(),EmulatedDevices.IPHONE7.getHeight()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1529993132,"creation_date":1529993132,"answer_id":51035873,"question_id":49328454,"body_markdown":"I&#39;ve found the solution and it is now working properly. I had to set the Device Metrics object first:\r\n\r\n    ...else if(browser.equalsIgnoreCase(&quot;iPhone678&quot;)){\r\n          String exePathChromeDriver = Consts.chromeDriverPath;\r\n          System.setProperty(&quot;webdriver.chrome.driver&quot;, exePathChromeDriver);\r\n\r\n          Map&lt;String, Object&gt; deviceMetrics = new HashMap&lt;&gt;();\r\n          deviceMetrics.put(&quot;width&quot;, 375);\r\n          deviceMetrics.put(&quot;height&quot;, 667);\r\n          deviceMetrics.put(&quot;pixelRatio&quot;, 2.0);\r\n\r\n          Map&lt;String, Object&gt; mobileEmulation = new HashMap&lt;&gt;();\r\n          mobileEmulation.put(&quot;deviceMetrics&quot;, deviceMetrics);\r\n          mobileEmulation.put(&quot;userAgent&quot;, &quot;Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1&quot;);\r\n\r\n          ChromeOptions chromeOptions = new ChromeOptions();\r\n          chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n          driver = new ChromeDriver(chromeOptions); }","title":"Chrome mobile emulator for Selenium testing- can&#39;t use all devices","body":"<p>I've found the solution and it is now working properly. I had to set the Device Metrics object first:</p>\n\n<pre><code>...else if(browser.equalsIgnoreCase(\"iPhone678\")){\n      String exePathChromeDriver = Consts.chromeDriverPath;\n      System.setProperty(\"webdriver.chrome.driver\", exePathChromeDriver);\n\n      Map&lt;String, Object&gt; deviceMetrics = new HashMap&lt;&gt;();\n      deviceMetrics.put(\"width\", 375);\n      deviceMetrics.put(\"height\", 667);\n      deviceMetrics.put(\"pixelRatio\", 2.0);\n\n      Map&lt;String, Object&gt; mobileEmulation = new HashMap&lt;&gt;();\n      mobileEmulation.put(\"deviceMetrics\", deviceMetrics);\n      mobileEmulation.put(\"userAgent\", \"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1\");\n\n      ChromeOptions chromeOptions = new ChromeOptions();\n      chromeOptions.setExperimentalOption(\"mobileEmulation\", mobileEmulation);\n      driver = new ChromeDriver(chromeOptions); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14584114,"reputation":90,"user_id":10533549,"display_name":"Pushparaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617387480,"creation_date":1617387480,"answer_id":66923564,"question_id":49328454,"body_markdown":"This should work:\r\n        \r\n        Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;&gt;();\r\n        mobileEmulation.put(&quot;deviceName&quot;, &quot;iPhone 6&quot;);\r\n\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n\r\n        driver = new ChromeDriver(chromeOptions);\r\n        driver.get(&quot;https://www.google.co.uk&quot;);","title":"Chrome mobile emulator for Selenium testing- can&#39;t use all devices","body":"<p>This should work:</p>\n<pre><code>    Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;&gt;();\n    mobileEmulation.put(&quot;deviceName&quot;, &quot;iPhone 6&quot;);\n\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\n\n    driver = new ChromeDriver(chromeOptions);\n    driver.get(&quot;https://www.google.co.uk&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28699995,"reputation":1,"user_id":21977348,"display_name":"Rohan Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686293925,"creation_date":1686293925,"answer_id":76437925,"question_id":49328454,"body_markdown":"You can use all the devices mentioned in the &#39;Emulated Devices&#39; list within Chrome devtools &gt; Devices. If the desired device is not present within the list you can &#39;Add custom device&#39; ([screenshot][2])- providing basic information, and use the `deviceName` within your code. In another way, you can directly provide your desired device&#39;s basic information (`width, height, pixelRatio`) within your automation code to use that device for testing. You can get the details code with explanation [here][1].\r\n\r\n\r\n  [1]: https://youtu.be/UOwEcGr3P9A\r\n  [2]: https://i.stack.imgur.com/Crg4r.png","title":"Chrome mobile emulator for Selenium testing- can&#39;t use all devices","body":"<p>You can use all the devices mentioned in the 'Emulated Devices' list within Chrome devtools &gt; Devices. If the desired device is not present within the list you can 'Add custom device' (<a href=\"https://i.stack.imgur.com/Crg4r.png\" rel=\"nofollow noreferrer\">screenshot</a>)- providing basic information, and use the <code>deviceName</code> within your code. In another way, you can directly provide your desired device's basic information (<code>width, height, pixelRatio</code>) within your automation code to use that device for testing. You can get the details code with explanation <a href=\"https://youtu.be/UOwEcGr3P9A\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3243,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51035873,"answer_count":4,"score":2,"last_activity_date":1686293925,"creation_date":1521229594,"question_id":49328454,"body_markdown":"I&#39;m doing Selenium JAVA tests for mobile using the Chrome driver with its emulator. The problem is that I can&#39;t use the most advanced mobile devices like iPhone 7,8 etc even-though its in my drop-down list when manually testing in the devtools. \r\nThis is the driver init. that works perfectly with many mobile devices:\r\n\r\n    if(browser.equalsIgnoreCase(&quot;mobileIPhone6&quot;)){\r\n              Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\r\n              mobileEmulation.put(&quot;deviceName&quot;, &quot;iPhone 6&quot;);\r\n              String exePathChromeDriver = Consts.chromeDriverPath;\r\n              System.setProperty(&quot;webdriver.chrome.driver&quot;, exePathChromeDriver);\r\n              PropertyLoader.loadCapabilities();\r\n              ChromeOptions chromeOptions = new ChromeOptions();\r\n              chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n              driver = new ChromeDriver(chromeOptions);\r\n\r\nBUT, When I change line 3 to &quot;iPhone 7&quot; I&#39;m getting this error:\r\n\r\n    2018-03-16 21:25:49 INFO  LogLog4j:210 - org.openqa.selenium.WebDriverException: unknown error: cannot parse capability: chromeOptions\r\n    from unknown error: cannot parse mobileEmulation\r\n    from unknown error: &#39;iPhone 7&#39; must be a valid device\r\n    from unknown error: must be a valid device\r\n\r\nAny idea why? many thanks\r\n\r\n","title":"Chrome mobile emulator for Selenium testing- can&#39;t use all devices","body":"<p>I'm doing Selenium JAVA tests for mobile using the Chrome driver with its emulator. The problem is that I can't use the most advanced mobile devices like iPhone 7,8 etc even-though its in my drop-down list when manually testing in the devtools. \nThis is the driver init. that works perfectly with many mobile devices:</p>\n\n<pre><code>if(browser.equalsIgnoreCase(\"mobileIPhone6\")){\n          Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\n          mobileEmulation.put(\"deviceName\", \"iPhone 6\");\n          String exePathChromeDriver = Consts.chromeDriverPath;\n          System.setProperty(\"webdriver.chrome.driver\", exePathChromeDriver);\n          PropertyLoader.loadCapabilities();\n          ChromeOptions chromeOptions = new ChromeOptions();\n          chromeOptions.setExperimentalOption(\"mobileEmulation\", mobileEmulation);\n          driver = new ChromeDriver(chromeOptions);\n</code></pre>\n\n<p>BUT, When I change line 3 to \"iPhone 7\" I'm getting this error:</p>\n\n<pre><code>2018-03-16 21:25:49 INFO  LogLog4j:210 - org.openqa.selenium.WebDriverException: unknown error: cannot parse capability: chromeOptions\nfrom unknown error: cannot parse mobileEmulation\nfrom unknown error: 'iPhone 7' must be a valid device\nfrom unknown error: must be a valid device\n</code></pre>\n\n<p>Any idea why? many thanks</p>\n"},{"tags":["java","swing","word-wrap","java-7","jtextpane"],"comments":[{"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"score":0,"creation_date":1325169412,"post_id":8666727,"comment_id":10774613,"body_markdown":"Does using [`invokeLater()`](http://download.oracle.com/javase/tutorial/uiswing/concurrency/initial.html) help?","body":"Does using <a href=\"http://download.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\"><code>invokeLater()</code></a> help?"},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":0,"creation_date":1338463274,"post_id":8666727,"comment_id":14103024,"body_markdown":"I have exactly the same problem. Related: https://forums.oracle.com/forums/thread.jspa?threadID=2374090 (no answers...) The poster there already created a bug report, but it was closed as &quot;not a bug&quot;, without a word of explanation...","body":"I have exactly the same problem. Related: <a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=2374090\" rel=\"nofollow noreferrer\">forums.oracle.com/forums/thread.jspa?threadID=2374090</a> (no answers...) The poster there already created a bug report, but it was closed as &quot;not a bug&quot;, without a word of explanation..."}],"answers":[{"tags":[],"owner":{"account_id":352848,"reputation":4513,"user_id":690164,"accept_rate":50,"display_name":"Dimitry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325171959,"creation_date":1325171959,"answer_id":8669605,"question_id":8666727,"body_markdown":"Take a look at this bug:\r\n\r\n[https://bugs.java.com/bugdatabase/view_bug?bug_id=6539700][1]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6539700","title":"Wrap long words in JTextPane (Java 7)","body":"<p>Take a look at this bug:</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6539700\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6539700</a></p>\n"},{"tags":[],"owner":{"account_id":1143324,"reputation":11,"user_id":1126661,"display_name":"Thomwiesel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325529333,"creation_date":1325529333,"answer_id":8704165,"question_id":8666727,"body_markdown":"Hi I&#39;ve had the same problem but found a work-around:\r\n\r\njust create an extended class of JTextPane e.g.\r\n\r\n            MyWrapJTextPane extends JTextPane\r\n\r\nand overwrite the following method - it works ;-)\r\n\r\n            public boolean getScrollableTracksViewportWidth() {\r\n                return true;\r\n            }","title":"Wrap long words in JTextPane (Java 7)","body":"<p>Hi I've had the same problem but found a work-around:</p>\n\n<p>just create an extended class of JTextPane e.g.</p>\n\n<pre><code>        MyWrapJTextPane extends JTextPane\n</code></pre>\n\n<p>and overwrite the following method - it works ;-)</p>\n\n<pre><code>        public boolean getScrollableTracksViewportWidth() {\n            return true;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1340808681,"creation_date":1340808681,"answer_id":11229003,"question_id":8666727,"body_markdown":"Good catch from @dk89, but alas the given workarounds don&#39;t work: JDK 7 apparently still doesn&#39;t offer a wait to set a custom BreakIterator on a JTextComponent; not even on a GlyphView, where the generation of the BreakIterator is private. And if we insert the string char by char, it still doesn&#39;t work: I suppose the consecutive runs of text with identical style (AttributeSet) are collapsed together.\r\n\r\nI have spent two days trying to do a custom EditorKit, as advised elsewhere, but it doesn&#39;t work well (with JDK 1.7.0_4 at least) as the text.\r\n\r\nI tried the solution given at https://stackoverflow.com/questions/6866627/how-to-word-wrap-text-stored-in-jtextpanes-which-are-cells-in-a-jlist and a variant found at http://www.experts-exchange.com/Programming/Languages/Java/Q_20393892.html\r\n\r\nBut I found out that the breakView is no longer called when the JTextPane is smaller than the longest word in the sentence. So it doesn&#39;t work at all when there is only one (long) word. That&#39;s our case, as we display user-provided, identifier-like strings, often without spaces, in rather small spaces.\r\n\r\nI finally found a simple solution, derived from the suggestion in the bug report: indeed, insert the string char by char, but alternate styles! Thus, we have as many segments as we have chars, and the string is wrapped at char bounds. Until the next &quot;bug fix&quot;?\r\n\r\nCode snippets:\r\n\r\n    private JTextPane tp;\r\n    private SimpleAttributeSet sas = new SimpleAttributeSet();\r\n\r\n    tp= new JTextPane();\r\n    sas.addAttribute( &quot;A&quot;, &quot;C&quot; ); // Arbitrary attribute names and value, not used actually\r\n\r\n        // Set the global attributes (italics, etc.)\r\n        tp.setParagraphAttributes(styleParagraphAttributes, true);\r\n\r\n        Document doc = tp.getDocument();\r\n        try\r\n        {\r\n            doc.remove(0, doc.getLength()); // Clear\r\n            for (int i = 0; i &lt; textToDisplay.length(); i++)\r\n            {\r\n                doc.insertString(doc.getLength(), textToDisplay.substring(i, i+1),\r\n                        // Change attribute every other char\r\n                        i % 2 == 0 ? null : sas);\r\n            }\r\n        }\r\n        catch (BadLocationException ble)\r\n        {\r\n            log.warn(&quot;Cannot happen...&quot;, ble);\r\n        }\r\n\r\nAs stated in the bug, they should have provided an easy way (some property perhaps, or some injectable stuff) to revert to the old behavior.","title":"Wrap long words in JTextPane (Java 7)","body":"<p>Good catch from @dk89, but alas the given workarounds don't work: JDK 7 apparently still doesn't offer a wait to set a custom BreakIterator on a JTextComponent; not even on a GlyphView, where the generation of the BreakIterator is private. And if we insert the string char by char, it still doesn't work: I suppose the consecutive runs of text with identical style (AttributeSet) are collapsed together.</p>\n\n<p>I have spent two days trying to do a custom EditorKit, as advised elsewhere, but it doesn't work well (with JDK 1.7.0_4 at least) as the text.</p>\n\n<p>I tried the solution given at <a href=\"https://stackoverflow.com/questions/6866627/how-to-word-wrap-text-stored-in-jtextpanes-which-are-cells-in-a-jlist\">How to word wrap text stored in JTextPanes which are cells in a JList</a> and a variant found at <a href=\"http://www.experts-exchange.com/Programming/Languages/Java/Q_20393892.html\" rel=\"nofollow noreferrer\">http://www.experts-exchange.com/Programming/Languages/Java/Q_20393892.html</a></p>\n\n<p>But I found out that the breakView is no longer called when the JTextPane is smaller than the longest word in the sentence. So it doesn't work at all when there is only one (long) word. That's our case, as we display user-provided, identifier-like strings, often without spaces, in rather small spaces.</p>\n\n<p>I finally found a simple solution, derived from the suggestion in the bug report: indeed, insert the string char by char, but alternate styles! Thus, we have as many segments as we have chars, and the string is wrapped at char bounds. Until the next \"bug fix\"?</p>\n\n<p>Code snippets:</p>\n\n<pre><code>private JTextPane tp;\nprivate SimpleAttributeSet sas = new SimpleAttributeSet();\n\ntp= new JTextPane();\nsas.addAttribute( \"A\", \"C\" ); // Arbitrary attribute names and value, not used actually\n\n    // Set the global attributes (italics, etc.)\n    tp.setParagraphAttributes(styleParagraphAttributes, true);\n\n    Document doc = tp.getDocument();\n    try\n    {\n        doc.remove(0, doc.getLength()); // Clear\n        for (int i = 0; i &lt; textToDisplay.length(); i++)\n        {\n            doc.insertString(doc.getLength(), textToDisplay.substring(i, i+1),\n                    // Change attribute every other char\n                    i % 2 == 0 ? null : sas);\n        }\n    }\n    catch (BadLocationException ble)\n    {\n        log.warn(\"Cannot happen...\", ble);\n    }\n</code></pre>\n\n<p>As stated in the bug, they should have provided an easy way (some property perhaps, or some injectable stuff) to revert to the old behavior.</p>\n"},{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1352884093,"creation_date":1352884093,"answer_id":13375811,"question_id":8666727,"body_markdown":"For me the fix works (tested under 1.7.0_09)\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.text.*;\r\n    import java.awt.*;\r\n    \r\n    public class WrapTestApp extends JFrame {\r\n    \r\n        public static void main ( String[] args ) {\r\n            new WrapTestApp();\r\n        }\r\n    \r\n        public WrapTestApp () {\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setSize(200,200);\r\n            getContentPane().setLayout(new BorderLayout());\r\n            JTextPane jtp = new JTextPane();\r\n            jtp.setEditorKit(new WrapEditorKit());\r\n            JScrollPane jsp = new JScrollPane(jtp);\r\n            jsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n            getContentPane().add(jsp, BorderLayout.CENTER);\r\n            jtp.setText(&quot;ExampleOfTheWrapLongWordWithoutSpaces&quot;);\r\n            setVisible(true);\r\n        }\r\n    \r\n        class WrapEditorKit extends StyledEditorKit {\r\n            ViewFactory defaultFactory=new WrapColumnFactory();\r\n            public ViewFactory getViewFactory() {\r\n                return defaultFactory;\r\n            }\r\n    \r\n        }\r\n    \r\n        class WrapColumnFactory implements ViewFactory {\r\n            public View create(Element elem) {\r\n                String kind = elem.getName();\r\n                if (kind != null) {\r\n                    if (kind.equals(AbstractDocument.ContentElementName)) {\r\n                        return new WrapLabelView(elem);\r\n                    } else if (kind.equals(AbstractDocument.ParagraphElementName)) {\r\n                        return new ParagraphView(elem);\r\n                    } else if (kind.equals(AbstractDocument.SectionElementName)) {\r\n                        return new BoxView(elem, View.Y_AXIS);\r\n                    } else if (kind.equals(StyleConstants.ComponentElementName)) {\r\n                        return new ComponentView(elem);\r\n                    } else if (kind.equals(StyleConstants.IconElementName)) {\r\n                        return new IconView(elem);\r\n                    }\r\n                }\r\n    \r\n                // default to text display\r\n                return new LabelView(elem);\r\n            }\r\n        }\r\n        \r\n        class WrapLabelView extends LabelView {\r\n            public WrapLabelView(Element elem) {\r\n                super(elem);\r\n            }\r\n    \r\n            public float getMinimumSpan(int axis) {\r\n                switch (axis) {\r\n                    case View.X_AXIS:\r\n                        return 0;\r\n                    case View.Y_AXIS:\r\n                        return super.getMinimumSpan(axis);\r\n                    default:\r\n                        throw new IllegalArgumentException(&quot;Invalid axis: &quot; + axis);\r\n                }\r\n            }\r\n    \r\n        }\r\n    }","title":"Wrap long words in JTextPane (Java 7)","body":"<p>For me the fix works (tested under 1.7.0_09)</p>\n\n<pre><code>import javax.swing.*;\nimport javax.swing.text.*;\nimport java.awt.*;\n\npublic class WrapTestApp extends JFrame {\n\n    public static void main ( String[] args ) {\n        new WrapTestApp();\n    }\n\n    public WrapTestApp () {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(200,200);\n        getContentPane().setLayout(new BorderLayout());\n        JTextPane jtp = new JTextPane();\n        jtp.setEditorKit(new WrapEditorKit());\n        JScrollPane jsp = new JScrollPane(jtp);\n        jsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        getContentPane().add(jsp, BorderLayout.CENTER);\n        jtp.setText(\"ExampleOfTheWrapLongWordWithoutSpaces\");\n        setVisible(true);\n    }\n\n    class WrapEditorKit extends StyledEditorKit {\n        ViewFactory defaultFactory=new WrapColumnFactory();\n        public ViewFactory getViewFactory() {\n            return defaultFactory;\n        }\n\n    }\n\n    class WrapColumnFactory implements ViewFactory {\n        public View create(Element elem) {\n            String kind = elem.getName();\n            if (kind != null) {\n                if (kind.equals(AbstractDocument.ContentElementName)) {\n                    return new WrapLabelView(elem);\n                } else if (kind.equals(AbstractDocument.ParagraphElementName)) {\n                    return new ParagraphView(elem);\n                } else if (kind.equals(AbstractDocument.SectionElementName)) {\n                    return new BoxView(elem, View.Y_AXIS);\n                } else if (kind.equals(StyleConstants.ComponentElementName)) {\n                    return new ComponentView(elem);\n                } else if (kind.equals(StyleConstants.IconElementName)) {\n                    return new IconView(elem);\n                }\n            }\n\n            // default to text display\n            return new LabelView(elem);\n        }\n    }\n\n    class WrapLabelView extends LabelView {\n        public WrapLabelView(Element elem) {\n            super(elem);\n        }\n\n        public float getMinimumSpan(int axis) {\n            switch (axis) {\n                case View.X_AXIS:\n                    return 0;\n                case View.Y_AXIS:\n                    return super.getMinimumSpan(axis);\n                default:\n                    throw new IllegalArgumentException(\"Invalid axis: \" + axis);\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1425961,"reputation":770,"user_id":1349479,"display_name":"legendmohe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686293009,"creation_date":1686293009,"answer_id":76437834,"question_id":8666727,"body_markdown":"Overriding getMinimumSpan and return 0 for X_AXIS makes text breaking by whitespace. If you want a character based breaking, try this:\r\n\r\n``` kotlin\r\n\r\n    internal class WhitespaceBasedWrapLabelView(elem: Element?) : LabelView(elem) {\r\n        override fun getMinimumSpan(axis: Int): Float {\r\n            return when (axis) {\r\n                X_AXIS -&gt; 0f\r\n                Y_AXIS -&gt; super.getMinimumSpan(axis)\r\n                else -&gt; throw IllegalArgumentException(&quot;Invalid axis: $axis&quot;)\r\n            }\r\n        }\r\n    }\r\n    \r\n    internal class CharacterBasedWrapLabelView(elem: Element?) : LabelView(elem) {\r\n        override fun getMinimumSpan(axis: Int): Float {\r\n            return when (axis) {\r\n                X_AXIS -&gt; 0f\r\n                Y_AXIS -&gt; super.getMinimumSpan(axis)\r\n                else -&gt; throw IllegalArgumentException(&quot;Invalid axis: $axis&quot;)\r\n            }\r\n        }\r\n    \r\n        override fun breakView(axis: Int, p0: Int, pos: Float, len: Float): View {\r\n            if (axis == X_AXIS) {\r\n                checkPainter()\r\n                val p1 = glyphPainter.getBoundedPosition(this, p0, pos, len)\r\n                // bounded region.\r\n                if (p0 == startOffset &amp;&amp; p1 == endOffset) {\r\n                    return this\r\n                }\r\n                val v = createFragment(p0, p1) as GlyphView\r\n                // v.x = pos\r\n                getTabbedSpan(pos, tabExpander)\r\n                return v\r\n            }\r\n            return super.breakView(axis, p0, pos, len)\r\n        }\r\n    \r\n        override fun getBreakWeight(axis: Int, pos: Float, len: Float): Int {\r\n            if (axis == X_AXIS) {\r\n                checkPainter()\r\n                val p0 = startOffset\r\n                val p1 = glyphPainter.getBoundedPosition(this, p0, pos, len)\r\n                return if (p1 == p0) BadBreakWeight else GoodBreakWeight\r\n            }\r\n            return super.getBreakWeight(axis, pos, len)\r\n        }\r\n    }\r\n\r\n```","title":"Wrap long words in JTextPane (Java 7)","body":"<p>Overriding getMinimumSpan and return 0 for X_AXIS makes text breaking by whitespace. If you want a character based breaking, try this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n    internal class WhitespaceBasedWrapLabelView(elem: Element?) : LabelView(elem) {\n        override fun getMinimumSpan(axis: Int): Float {\n            return when (axis) {\n                X_AXIS -&gt; 0f\n                Y_AXIS -&gt; super.getMinimumSpan(axis)\n                else -&gt; throw IllegalArgumentException(&quot;Invalid axis: $axis&quot;)\n            }\n        }\n    }\n    \n    internal class CharacterBasedWrapLabelView(elem: Element?) : LabelView(elem) {\n        override fun getMinimumSpan(axis: Int): Float {\n            return when (axis) {\n                X_AXIS -&gt; 0f\n                Y_AXIS -&gt; super.getMinimumSpan(axis)\n                else -&gt; throw IllegalArgumentException(&quot;Invalid axis: $axis&quot;)\n            }\n        }\n    \n        override fun breakView(axis: Int, p0: Int, pos: Float, len: Float): View {\n            if (axis == X_AXIS) {\n                checkPainter()\n                val p1 = glyphPainter.getBoundedPosition(this, p0, pos, len)\n                // bounded region.\n                if (p0 == startOffset &amp;&amp; p1 == endOffset) {\n                    return this\n                }\n                val v = createFragment(p0, p1) as GlyphView\n                // v.x = pos\n                getTabbedSpan(pos, tabExpander)\n                return v\n            }\n            return super.breakView(axis, p0, pos, len)\n        }\n    \n        override fun getBreakWeight(axis: Int, pos: Float, len: Float): Int {\n            if (axis == X_AXIS) {\n                checkPainter()\n                val p0 = startOffset\n                val p1 = glyphPainter.getBoundedPosition(this, p0, pos, len)\n                return if (p1 == p0) BadBreakWeight else GoodBreakWeight\n            }\n            return super.getBreakWeight(axis, pos, len)\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":288533,"reputation":463,"user_id":589004,"display_name":"Al-Khwarizmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5522,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1686293009,"creation_date":1325154818,"question_id":8666727,"body_markdown":"In all versions of Java up to 6, the default behaviour of a JTextPane put inside a JScrollPane was: wrap lines at word boundaries if possible. If not, then wrap them anyway.\r\n\r\nIn JDK 7, the default behaviour seems to be: wrap lines at word boundaries if possible. If not, just expand the width of the JTextPane (never wrap long words).\r\n\r\nIt is easy to reproduce this, here is a SSCCE:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\npublic class WrappingTest extends JFrame\r\n{\r\n\r\n\tpublic static void main ( String[] args )\r\n\t{\r\n\t\tnew WrappingTest();\t\r\n\t}\r\n\t\r\n\tpublic WrappingTest ()\r\n\t{\r\n\t\tsetSize(200,200);\r\n\t\tgetContentPane().setLayout(new BorderLayout());\r\n\t\tJTextPane jtp = new JTextPane();\r\n\t\tJScrollPane jsp = new JScrollPane(jtp);\r\n\t\tjsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n\t\tgetContentPane().add(jsp,BorderLayout.CENTER);\r\n\t\tsetVisible(true);\r\n\t}\r\n\t\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nJust run it in JDK 6 and in JDK 7, write some small words, and write a long word, and you will see the difference.\r\n\r\nMy question is simple... the new default behaviour in JDK 7 totally messes a program of mine (they should be more careful at Oracle with changing this kind of defaults... they seem unimportant but when you&#39;re using a JTextPane to display data that usually contains very long strings of letters, they&#39;re not so unimportant - in fact I&#39;m going to file a bug report, but I&#39;d like to have a workaround while/if they don&#39;t resolve it). Any way to go back to the previous behaviour?\r\n\r\nNote that I have checked the answer to the related question https://stackoverflow.com/questions/7036543/how-is-word-wrapping-implemented-in-jtextpane-and-how-do-i-make-it-wrap-a-strin but it doesn&#39;t answer this question - it provides a way of making the JTextPane wrap without any regard at all for whitespace, but for me the desired behaviour is split lines at whitespace if possible, and elsewhere if not possible (as in previous Java versions).","title":"Wrap long words in JTextPane (Java 7)","body":"<p>In all versions of Java up to 6, the default behaviour of a JTextPane put inside a JScrollPane was: wrap lines at word boundaries if possible. If not, then wrap them anyway.</p>\n\n<p>In JDK 7, the default behaviour seems to be: wrap lines at word boundaries if possible. If not, just expand the width of the JTextPane (never wrap long words).</p>\n\n<p>It is easy to reproduce this, here is a SSCCE:</p>\n\n<pre><code>\npublic class WrappingTest extends JFrame\n{\n\n    public static void main ( String[] args )\n    {\n        new WrappingTest(); \n    }\n\n    public WrappingTest ()\n    {\n        setSize(200,200);\n        getContentPane().setLayout(new BorderLayout());\n        JTextPane jtp = new JTextPane();\n        JScrollPane jsp = new JScrollPane(jtp);\n        jsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        getContentPane().add(jsp,BorderLayout.CENTER);\n        setVisible(true);\n    }\n\n}\n</code></pre>\n\n<p>Just run it in JDK 6 and in JDK 7, write some small words, and write a long word, and you will see the difference.</p>\n\n<p>My question is simple... the new default behaviour in JDK 7 totally messes a program of mine (they should be more careful at Oracle with changing this kind of defaults... they seem unimportant but when you're using a JTextPane to display data that usually contains very long strings of letters, they're not so unimportant - in fact I'm going to file a bug report, but I'd like to have a workaround while/if they don't resolve it). Any way to go back to the previous behaviour?</p>\n\n<p>Note that I have checked the answer to the related question <a href=\"https://stackoverflow.com/questions/7036543/how-is-word-wrapping-implemented-in-jtextpane-and-how-do-i-make-it-wrap-a-strin\">How is word-wrapping implemented in JTextPane, and how do I make it wrap a string without spaces?</a> but it doesn't answer this question - it provides a way of making the JTextPane wrap without any regard at all for whitespace, but for me the desired behaviour is split lines at whitespace if possible, and elsewhere if not possible (as in previous Java versions).</p>\n"},{"tags":["java","spring-webflux","project-reactor","reactive-streams"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1686229373,"post_id":76431962,"comment_id":134772442,"body_markdown":"From my understanding or the [doc](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#repeat--), `Repeat` operation wraps the original `Mono` to do `onSubscribe` as soon as the original `Mono` does its `onComplete`. The `Empty` mono only ever calls `onComplete`. So what you get then is something which never calls `onNext`, but constantly and repeatedly calls `onSubscribe`.","body":"From my understanding or the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#repeat--\" rel=\"nofollow noreferrer\">doc</a>, <code>Repeat</code> operation wraps the original <code>Mono</code> to do <code>onSubscribe</code> as soon as the original <code>Mono</code> does its <code>onComplete</code>. The <code>Empty</code> mono only ever calls <code>onComplete</code>. So what you get then is something which never calls <code>onNext</code>, but constantly and repeatedly calls <code>onSubscribe</code>."}],"answers":[{"tags":[],"owner":{"account_id":2157438,"reputation":1216,"user_id":1912318,"display_name":"ishimwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686229674,"creation_date":1686229674,"answer_id":76432184,"question_id":76431962,"body_markdown":"Repeat does not emit the response, it keeps subscription active which makes flux endless. To achieve what you described, you can change your code to be like this:\r\n\r\n    void emptyFluxZip() {\r\n      Flux.zip(\r\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\r\n        Mono.empty().flatMapMany(value -&gt; Mono.just(value).repeat())\r\n      ).subscribe(System.out::println);\r\n      try {\r\n        Thread.sleep(1000);\r\n      } catch (InterruptedException e) {\r\n        Thread.currentThread().interrupt();\r\n      }\r\n    }\r\n\r\n","title":"Flux.zip with repeated empty Mono leads to endless Flux instead of empty Flux","body":"<p>Repeat does not emit the response, it keeps subscription active which makes flux endless. To achieve what you described, you can change your code to be like this:</p>\n<pre><code>void emptyFluxZip() {\n  Flux.zip(\n    Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\n    Mono.empty().flatMapMany(value -&gt; Mono.just(value).repeat())\n  ).subscribe(System.out::println);\n  try {\n    Thread.sleep(1000);\n  } catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11370348,"reputation":908,"user_id":8336060,"display_name":"Ogod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686292186,"creation_date":1686228032,"question_id":76431962,"body_markdown":"What is the reason that the following code produces an endless Flux instead of an empty Flux?\r\nIf I replace .repeat() on the empty Mono with the code in the comments it works as expected (a Flux which does not emit any value).\r\n\r\n```java\r\nvoid endlessFluxZipBecauseOfEmptyMonoRepeat() {\r\n  Flux.zip(\r\n    Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\r\n    Mono.empty().repeat() // .flatMapMany(value -&gt; Mono.just(value).repeat())\r\n  ).subscribe(System.out::println);\r\n  try {\r\n    Thread.sleep(1000);\r\n  } catch (InterruptedException e) {\r\n    Thread.currentThread().interrupt();\r\n  }\r\n}\r\n```\r\n\r\n**Update 20230609:**\r\n\r\nThis example with an non empty Mono will terminate as expected when the Flux completes.\r\n```\r\nvoid finiteFluxZipBecauseOfNonEmptyMonoRepeat() {\r\n  Flux.zip(\r\n    Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\r\n    Mono.just(1).repeat()\r\n  ).subscribe(x -&gt; System.out.println(&quot;value: &quot; + x));\r\n  try {\r\n    Thread.sleep(1000);\r\n  } catch (InterruptedException e) {\r\n    Thread.currentThread().interrupt();\r\n  }\r\n}\r\n```\r\n\r\nThe result looks like this:\r\n```\r\n| Flux | Mono |\r\n| -----| ---- |\r\n| A    | 1    |\r\n| B    | 1    |\r\n| C    | 1    |\r\n| D    | 1    |\r\n| E    | 1    |\r\n```\r\n\r\n---\r\n\r\nSo why does the first examle runs endlessly while the second example terminates just fine? The Mono completes in both cases, the only difference is that in the non empty case it also emits a value (onNext signal).\r\n\r\nFrom the doc of `Flux.zip`:\r\n`Zip two sources together, that is to say wait for all the sources to emit one element and combine these elements once into a Tuple2. The operator will continue doing so until any of the sources completes.`\r\nFrom my understanding the empty Mono completes directly and I would expect that this should end the `Flux.zip` immediately resulting in an empty Flux.\r\nOr the `Flux.zip` should end when the inner Flux has emitted all it&#39;s values (A, B, C, D, E) but the resulting Flux must still be empty as there is no value to zip with in the Mono.","title":"Flux.zip with repeated empty Mono leads to endless Flux instead of empty Flux","body":"<p>What is the reason that the following code produces an endless Flux instead of an empty Flux?\nIf I replace .repeat() on the empty Mono with the code in the comments it works as expected (a Flux which does not emit any value).</p>\n<pre class=\"lang-java prettyprint-override\"><code>void endlessFluxZipBecauseOfEmptyMonoRepeat() {\n  Flux.zip(\n    Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\n    Mono.empty().repeat() // .flatMapMany(value -&gt; Mono.just(value).repeat())\n  ).subscribe(System.out::println);\n  try {\n    Thread.sleep(1000);\n  } catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n  }\n}\n</code></pre>\n<p><strong>Update 20230609:</strong></p>\n<p>This example with an non empty Mono will terminate as expected when the Flux completes.</p>\n<pre><code>void finiteFluxZipBecauseOfNonEmptyMonoRepeat() {\n  Flux.zip(\n    Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\n    Mono.just(1).repeat()\n  ).subscribe(x -&gt; System.out.println(&quot;value: &quot; + x));\n  try {\n    Thread.sleep(1000);\n  } catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n  }\n}\n</code></pre>\n<p>The result looks like this:</p>\n<pre><code>| Flux | Mono |\n| -----| ---- |\n| A    | 1    |\n| B    | 1    |\n| C    | 1    |\n| D    | 1    |\n| E    | 1    |\n</code></pre>\n<hr />\n<p>So why does the first examle runs endlessly while the second example terminates just fine? The Mono completes in both cases, the only difference is that in the non empty case it also emits a value (onNext signal).</p>\n<p>From the doc of <code>Flux.zip</code>:\n<code>Zip two sources together, that is to say wait for all the sources to emit one element and combine these elements once into a Tuple2. The operator will continue doing so until any of the sources completes.</code>\nFrom my understanding the empty Mono completes directly and I would expect that this should end the <code>Flux.zip</code> immediately resulting in an empty Flux.\nOr the <code>Flux.zip</code> should end when the inner Flux has emitted all it's values (A, B, C, D, E) but the resulting Flux must still be empty as there is no value to zip with in the Mono.</p>\n"},{"tags":["java","jpa","liquibase"],"answers":[{"tags":[],"owner":{"account_id":19497,"reputation":15503,"user_id":45756,"accept_rate":87,"display_name":"Nathan Voxland"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1384805500,"creation_date":1384805500,"answer_id":20056907,"question_id":20031317,"body_markdown":"The problem is that you are calling liquibase with &quot;java -jar&quot;. The Class-path line in the jar can&#39;t pick up additional jars from the lib directory and so the liquibase-hibernate.jar is not being included in the classpath.\r\n\r\nRun liquibase using the sh/bat file included in the liquibase jar: `real_path/liquibase[.bat] diffChangeLog`","title":"Liquibase JPA configuration of the referenceUrl","body":"<p>The problem is that you are calling liquibase with \"java -jar\". The Class-path line in the jar can't pick up additional jars from the lib directory and so the liquibase-hibernate.jar is not being included in the classpath.</p>\n\n<p>Run liquibase using the sh/bat file included in the liquibase jar: <code>real_path/liquibase[.bat] diffChangeLog</code></p>\n"}],"owner":{"account_id":1483766,"reputation":5172,"user_id":1392463,"accept_rate":100,"display_name":"Ioan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4237,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20056907,"answer_count":1,"score":2,"last_activity_date":1686291955,"creation_date":1384695474,"question_id":20031317,"body_markdown":"I am struggling to build the `JPA` annotated classes diff changesets against my database, using **liquibase**.\r\nStill, I am very confused about few things.\r\n\r\nI use the following : \r\n\r\n    liquibase.properties\r\n    \r\n    #liquibase.properties\r\n    driver:                 org.postgresql.Driver\r\n    classpath:              real_path/.m2/repository/org/postgresql/postgresql/9.2-1002-jdbc4/postgresql-9.2-1002-jdbc4.jar\r\n    url:                    jdbc:postgresql://localhost:5432/diquiz\r\n    username:               postgres\r\n    password:               postgres\r\n    referenceUrl:           hibernate:ejb3:diQuiz\r\n    referenceUsername:      postgres\r\n    referencePassword:      postgres\r\n    changeLogFile:          changelog-master.xml\r\n\r\nand \r\n\r\n    java -jar real_path\\liquibase-core-3.0.6.jar diffChangeLog\r\n\r\nand a normal `persistence.xml` file with standard JPA configuration.\r\n\r\nI get an error which says : `Liquibase diffChangeLog Failed: java.lang.RuntimeException: Cannot find database driver: Driver class was not specified and could not be determined from the url (hibernate:ejb3:unit)`\r\n\r\nI am confused because the below answer says that we need a `hibernate.cfg.xml` file (even I have `persistence.xml` instead), but then he says that we can use some url&#39;s which are defined on wiki page. \r\nhttps://stackoverflow.com/questions/776787/hibernate-using-jpa-annotated-entities-and-liquibase\r\n\r\nWiki page says that if we need to use JPA, we can choose between three types of URL&#39;s.\r\n\r\n    hibernate:ejb3:myPersistenceUnit\r\n    hibernate:ejb3:com.example.MyConfigFactory\r\n    hibernate:ejb3:myPersistenceUnit?hibernate.ejb.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy\r\n\r\nSo, I choose the first one, and I&#39;ve set in the liquidbase.properties this as `referenceUrl`.\r\n\r\nAlso, on the wiki page it is mentioned : (https://github.com/liquibase/liquibase-hibernate/wiki)\r\n\r\n&gt; If you are using the command line version of Liquibase, you simply\r\n&gt; have to add the liquibase-hibernate[3|4].jar file to the\r\n&gt; LIQUIBASE_HOME/lib directory.\r\n\r\nI did this too.\r\nStill, doesnt work. Can someone explain me somewhow what am I missing ?\r\n\r\nThanks a lot!\r\n","title":"Liquibase JPA configuration of the referenceUrl","body":"<p>I am struggling to build the <code>JPA</code> annotated classes diff changesets against my database, using <strong>liquibase</strong>.\nStill, I am very confused about few things.</p>\n\n<p>I use the following : </p>\n\n<pre><code>liquibase.properties\n\n#liquibase.properties\ndriver:                 org.postgresql.Driver\nclasspath:              real_path/.m2/repository/org/postgresql/postgresql/9.2-1002-jdbc4/postgresql-9.2-1002-jdbc4.jar\nurl:                    jdbc:postgresql://localhost:5432/diquiz\nusername:               postgres\npassword:               postgres\nreferenceUrl:           hibernate:ejb3:diQuiz\nreferenceUsername:      postgres\nreferencePassword:      postgres\nchangeLogFile:          changelog-master.xml\n</code></pre>\n\n<p>and </p>\n\n<pre><code>java -jar real_path\\liquibase-core-3.0.6.jar diffChangeLog\n</code></pre>\n\n<p>and a normal <code>persistence.xml</code> file with standard JPA configuration.</p>\n\n<p>I get an error which says : <code>Liquibase diffChangeLog Failed: java.lang.RuntimeException: Cannot find database driver: Driver class was not specified and could not be determined from the url (hibernate:ejb3:unit)</code></p>\n\n<p>I am confused because the below answer says that we need a <code>hibernate.cfg.xml</code> file (even I have <code>persistence.xml</code> instead), but then he says that we can use some url's which are defined on wiki page. \n<a href=\"https://stackoverflow.com/questions/776787/hibernate-using-jpa-annotated-entities-and-liquibase\">Hibernate using JPA (annotated Entities) and liquibase</a></p>\n\n<p>Wiki page says that if we need to use JPA, we can choose between three types of URL's.</p>\n\n<pre><code>hibernate:ejb3:myPersistenceUnit\nhibernate:ejb3:com.example.MyConfigFactory\nhibernate:ejb3:myPersistenceUnit?hibernate.ejb.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy\n</code></pre>\n\n<p>So, I choose the first one, and I've set in the liquidbase.properties this as <code>referenceUrl</code>.</p>\n\n<p>Also, on the wiki page it is mentioned : (<a href=\"https://github.com/liquibase/liquibase-hibernate/wiki\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase-hibernate/wiki</a>)</p>\n\n<blockquote>\n  <p>If you are using the command line version of Liquibase, you simply\n  have to add the liquibase-hibernate[3|4].jar file to the\n  LIQUIBASE_HOME/lib directory.</p>\n</blockquote>\n\n<p>I did this too.\nStill, doesnt work. Can someone explain me somewhow what am I missing ?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","eclipse","maven","protocol-buffers"],"comments":[{"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"score":0,"creation_date":1402524444,"post_id":24156244,"comment_id":37312110,"body_markdown":"What is the output of `protoc`? Presumably it printed an error.","body":"What is the output of <code>protoc</code>? Presumably it printed an error."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1483632890,"post_id":24156244,"comment_id":70184822,"body_markdown":"Where did you download the **protoc** binary from?","body":"Where did you download the <b>protoc</b> binary from?"}],"answers":[{"tags":[],"owner":{"account_id":3066499,"reputation":285,"user_id":2598063,"accept_rate":80,"display_name":"hack4m"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1402587041,"creation_date":1402587041,"answer_id":24188327,"question_id":24156244,"body_markdown":"Problem solved by change maven3.2 to maven3.0.5!","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>Problem solved by change maven3.2 to maven3.0.5!</p>\n"},{"tags":[],"owner":{"account_id":11373092,"reputation":1,"user_id":8338158,"display_name":"Leo Hua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500553507,"creation_date":1500553507,"answer_id":45214644,"question_id":24156244,"body_markdown":"The plugin com.google.protobuf.tools:maven-protoc-plugin:0.3.2 &#39;s repository is invalid. so need change the repository url.\r\n\r\nthe pom pluginRepositories segement is follow:\r\n\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;protoc-plugin&lt;/id&gt;\r\n\t\t\t&lt;url&gt;https://repo1.maven.org/maven2/org/xolstice/maven/plugins/protobuf-maven-plugin/&lt;/url&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\nthe pom plugin segement is follow:\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.3.2&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;protocExecutable&gt;E:\\Program\\protoc-2.5.0\\protoc.exe&lt;/protocExecutable&gt;\r\n\t\t\t\t\t&lt;protoSourceRoot&gt;${project.basedir}/src/main/protobuf/&lt;/protoSourceRoot&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/protobuf/java/&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>The plugin com.google.protobuf.tools:maven-protoc-plugin:0.3.2 's repository is invalid. so need change the repository url.</p>\n\n<p>the pom pluginRepositories segement is follow:</p>\n\n<pre><code>&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;protoc-plugin&lt;/id&gt;\n        &lt;url&gt;https://repo1.maven.org/maven2/org/xolstice/maven/plugins/protobuf-maven-plugin/&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n<p>the pom plugin segement is follow:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.3.2&lt;/version&gt;\n\n            &lt;configuration&gt;\n                &lt;protocExecutable&gt;E:\\Program\\protoc-2.5.0\\protoc.exe&lt;/protocExecutable&gt;\n                &lt;protoSourceRoot&gt;${project.basedir}/src/main/protobuf/&lt;/protoSourceRoot&gt;\n                &lt;outputDirectory&gt;${project.basedir}/src/main/protobuf/java/&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8334821,"reputation":331,"user_id":6262124,"display_name":"Nfff3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599853866,"creation_date":1599853866,"answer_id":63853473,"question_id":24156244,"body_markdown":"I had this error thanks to my antivirus (BitDefender). It blocked protoc-windows.exe. The funny part is that even adding the executable to the exception list, it still didn&#39;t recognize it as an exception, it recognized it as a new executable...This is so frustrating.","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>I had this error thanks to my antivirus (BitDefender). It blocked protoc-windows.exe. The funny part is that even adding the executable to the exception list, it still didn't recognize it as an exception, it recognized it as a new executable...This is so frustrating.</p>\n"},{"tags":[],"owner":{"account_id":10914885,"reputation":41,"user_id":8023023,"display_name":"hahahaha123567"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623930600,"creation_date":1623930600,"answer_id":68018750,"question_id":24156244,"body_markdown":"Check if your proto files are valid\r\n\r\nThe error solved when I delete generated java files and unfinished proto file","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>Check if your proto files are valid</p>\n<p>The error solved when I delete generated java files and unfinished proto file</p>\n"},{"tags":[],"owner":{"account_id":19564760,"reputation":83,"user_id":18011833,"display_name":"MarkKush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665573398,"creation_date":1665573398,"answer_id":74040914,"question_id":24156244,"body_markdown":"In my case, the problem arose due to the fact that on the path to the folder in which my project was located in the tree there were folders not in English and the path was not clear. After I put my project in a folder on the &quot;C&quot; drive C:\\Projects , everything immediately started working","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>In my case, the problem arose due to the fact that on the path to the folder in which my project was located in the tree there were folders not in English and the path was not clear. After I put my project in a folder on the &quot;C&quot; drive C:\\Projects , everything immediately started working</p>\n"},{"tags":[],"owner":{"account_id":15813290,"reputation":85,"user_id":11508174,"display_name":"Ker Laeda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686291288,"creation_date":1686291288,"answer_id":76437664,"question_id":24156244,"body_markdown":"I solverd this problem by updating version of &quot;pluginArtifact&quot; in the configuration of plugin. The version of &quot;pluginArtifact&quot; didn&#39;t meet to the version of the grpc dependencies.\r\nMy grpc dependencies have version 1.53.0 but my pluginArtifact was 1.23.0\r\nSo I updated pluginArtifact to 1.53.0 and it solved this problem.\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;grpc-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.53.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;grpc-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.53.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n            &lt;version&gt;1.53.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.53.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.53.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n     &lt;plugin&gt;\r\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.6.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;protocArtifact&gt;com.google.protobuf:protoc:3.9.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\r\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n                    &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.53.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>I solverd this problem by updating version of &quot;pluginArtifact&quot; in the configuration of plugin. The version of &quot;pluginArtifact&quot; didn't meet to the version of the grpc dependencies.\nMy grpc dependencies have version 1.53.0 but my pluginArtifact was 1.23.0\nSo I updated pluginArtifact to 1.53.0 and it solved this problem.</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-core&lt;/artifactId&gt;\n            &lt;version&gt;1.53.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-api&lt;/artifactId&gt;\n            &lt;version&gt;1.53.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n        &lt;version&gt;1.53.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n        &lt;version&gt;1.53.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n        &lt;version&gt;1.53.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n &lt;plugin&gt;\n            &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.6.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;protocArtifact&gt;com.google.protobuf:protoc:3.9.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\n                &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.53.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;goal&gt;compile-custom&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3066499,"reputation":285,"user_id":2598063,"accept_rate":80,"display_name":"hack4m"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18790,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24188327,"answer_count":6,"score":3,"last_activity_date":1686291288,"creation_date":1402469018,"question_id":24156244,"body_markdown":"I am compiling this project [googleplaycrawler][1]\r\n\r\n\r\n  [1]: https://github.com/Akdeniz/google-play-crawler\r\n\r\nbut Eclipse keep complaining \r\n\r\n&gt; protoc did not exit cleanly. Review output for more information. (com.google.protobuf.tools:maven-protoc-plugin:0.3.1:compile:default:generate-sources)\r\n\r\n\r\nBELOW is `pom.xml`\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.akdeniz&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;googleplaycrawler&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.3&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;Google Play Crawler&lt;/name&gt;\r\n\t&lt;url&gt;https://github.com/Akdeniz/google-play-crawler&lt;/url&gt;\r\n\r\n\t&lt;description&gt;Play with Google Play API :)&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.argparse4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;argparse4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient-cache&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.mina&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mina-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;protoc-plugin&lt;/id&gt;\r\n\t\t\t&lt;url&gt;http://sergei-ivanov.github.com/maven-protoc-plugin/repo/releases/&lt;/url&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;attached&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;mainClass&gt;com.akdeniz.googleplaycrawler.cli.googleplay&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.3.1&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;protocExecutable&gt;protoc&lt;/protocExecutable&gt;\r\n\t\t\t\t\t&lt;protoSourceRoot&gt;${project.basedir}/src/main/protobuf/&lt;/protoSourceRoot&gt;\r\n\t\t\t\t\t&lt;languageSpecifications&gt;\r\n\t\t\t\t\t\t&lt;LanguageSpecification&gt;\r\n\t\t\t\t\t\t\t&lt;language&gt;JAVA&lt;/language&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/LanguageSpecification&gt;\r\n\t\t\t\t\t&lt;/languageSpecifications&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\nThe Error Message:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:165)\r\n\t... 20 more\r\n    Caused by: java.lang.NoClassDefFoundError: Lorg/sonatype/aether/RepositorySystem;\r\n    \tat java.lang.Class.getDeclaredFields0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredFields(Class.java:2397)\r\n    \tat java.lang.Class.getDeclaredFields(Class.java:1806)\r\n    \tat com.google.inject.spi.InjectionPoint.getInjectionPoints(InjectionPoint.java:661)\r\n    \tat com.google.inject.spi.InjectionPoint.forInstanceMethodsAndFields(InjectionPoint.java:366)\r\n    \tat com.google.inject.internal.ConstructorBindingImpl.getInternalDependencies(ConstructorBindingImpl.java:165)\r\n    \tat com.google.inject.internal.InjectorImpl.getInternalDependencies(InjectorImpl.java:609)\r\n    \tat com.google.inject.internal.InjectorImpl.cleanup(InjectorImpl.java:565)\r\n    \tat com.google.inject.internal.InjectorImpl.initializeJitBinding(InjectorImpl.java:551)\r\n    \tat com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:865)\r\n    \tat com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:790)\r\n    \tat com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:278)\r\n    \tat com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:210)\r\n    \tat com.google.inject.internal.InjectorImpl.getProviderOrThrow(InjectorImpl.java:986)\r\n    \tat com.google.inject.internal.InjectorImpl.getProvider(InjectorImpl.java:1019)\r\n    \tat com.google.inject.internal.InjectorImpl.getProvider(InjectorImpl.java:982)\r\n    \tat com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1032)\r\n    \tat org.eclipse.sisu.space.AbstractDeferredClass.get(AbstractDeferredClass.java:48)\r\n    \tat com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\r\n    \tat com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:55)\r\n    \tat com.google.inject.internal.ProviderInternalFactory$1.call(ProviderInternalFactory.java:70)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:100)\r\n    \tat org.eclipse.sisu.plexus.PlexusLifecycleManager.onProvision(PlexusLifecycleManager.java:133)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:109)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:55)\r\n    \tat com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:68)\r\n    \tat com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\r\n    \tat com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:997)\r\n    \tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1047)\r\n    \tat com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:993)\r\n    \tat com.google.inject.Scopes$1$1.get(Scopes.java:59)\r\n    \tat org.eclipse.sisu.inject.LazyBeanEntry.getValue(LazyBeanEntry.java:82)\r\n    \tat org.eclipse.sisu.plexus.LazyPlexusBean.getValue(LazyPlexusBean.java:51)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:260)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:252)\r\n    \tat org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo(DefaultMavenPluginManager.java:462)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:120)\r\n    \t... 20 more\r\n    Caused by: java.lang.ClassNotFoundException: org.sonatype.aether.RepositorySystem\r\n    \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:259)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:235)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:227)\r\n    \t... 57 more","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>I am compiling this project <a href=\"https://github.com/Akdeniz/google-play-crawler\" rel=\"nofollow\">googleplaycrawler</a></p>\n\n<p>but Eclipse keep complaining </p>\n\n<blockquote>\n  <p>protoc did not exit cleanly. Review output for more information. (com.google.protobuf.tools:maven-protoc-plugin:0.3.1:compile:default:generate-sources)</p>\n</blockquote>\n\n<p>BELOW is <code>pom.xml</code></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.akdeniz&lt;/groupId&gt;\n&lt;artifactId&gt;googleplaycrawler&lt;/artifactId&gt;\n&lt;version&gt;0.3&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;Google Play Crawler&lt;/name&gt;\n&lt;url&gt;https://github.com/Akdeniz/google-play-crawler&lt;/url&gt;\n\n&lt;description&gt;Play with Google Play API :)&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.argparse4j&lt;/groupId&gt;\n        &lt;artifactId&gt;argparse4j&lt;/artifactId&gt;\n        &lt;version&gt;0.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient-cache&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.mina&lt;/groupId&gt;\n        &lt;artifactId&gt;mina-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n        &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;protoc-plugin&lt;/id&gt;\n        &lt;url&gt;http://sergei-ivanov.github.com/maven-protoc-plugin/repo/releases/&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;attached&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;com.akdeniz.googleplaycrawler.cli.googleplay&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.3.1&lt;/version&gt;\n\n            &lt;configuration&gt;\n                &lt;protocExecutable&gt;protoc&lt;/protocExecutable&gt;\n                &lt;protoSourceRoot&gt;${project.basedir}/src/main/protobuf/&lt;/protoSourceRoot&gt;\n                &lt;languageSpecifications&gt;\n                    &lt;LanguageSpecification&gt;\n                        &lt;language&gt;JAVA&lt;/language&gt;\n                        &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\n                    &lt;/LanguageSpecification&gt;\n                &lt;/languageSpecifications&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>The Error Message:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:165)\n... 20 more\nCaused by: java.lang.NoClassDefFoundError: Lorg/sonatype/aether/RepositorySystem;\n    at java.lang.Class.getDeclaredFields0(Native Method)\n    at java.lang.Class.privateGetDeclaredFields(Class.java:2397)\n    at java.lang.Class.getDeclaredFields(Class.java:1806)\n    at com.google.inject.spi.InjectionPoint.getInjectionPoints(InjectionPoint.java:661)\n    at com.google.inject.spi.InjectionPoint.forInstanceMethodsAndFields(InjectionPoint.java:366)\n    at com.google.inject.internal.ConstructorBindingImpl.getInternalDependencies(ConstructorBindingImpl.java:165)\n    at com.google.inject.internal.InjectorImpl.getInternalDependencies(InjectorImpl.java:609)\n    at com.google.inject.internal.InjectorImpl.cleanup(InjectorImpl.java:565)\n    at com.google.inject.internal.InjectorImpl.initializeJitBinding(InjectorImpl.java:551)\n    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:865)\n    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:790)\n    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:278)\n    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:210)\n    at com.google.inject.internal.InjectorImpl.getProviderOrThrow(InjectorImpl.java:986)\n    at com.google.inject.internal.InjectorImpl.getProvider(InjectorImpl.java:1019)\n    at com.google.inject.internal.InjectorImpl.getProvider(InjectorImpl.java:982)\n    at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1032)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get(AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:55)\n    at com.google.inject.internal.ProviderInternalFactory$1.call(ProviderInternalFactory.java:70)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:100)\n    at org.eclipse.sisu.plexus.PlexusLifecycleManager.onProvision(PlexusLifecycleManager.java:133)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:109)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:55)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:68)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:997)\n    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1047)\n    at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:993)\n    at com.google.inject.Scopes$1$1.get(Scopes.java:59)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue(LazyBeanEntry.java:82)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue(LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:260)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:252)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo(DefaultMavenPluginManager.java:462)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:120)\n    ... 20 more\nCaused by: java.lang.ClassNotFoundException: org.sonatype.aether.RepositorySystem\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:259)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:235)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:227)\n    ... 57 more\n</code></pre>\n"},{"tags":["java","zkoss"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1686295856,"post_id":76437585,"comment_id":134782105,"body_markdown":"Tomcat 10 moved from the `javax.*` packages to the new `jakarta.*` packages. The simplest solutions is probably to use Tomcat 9 instead. The alternative would be to update *each* piece of software you use that interacts with these package to a version that *also* uses the new packages (such versions are often not yet available).","body":"Tomcat 10 moved from the <code>javax.*</code> packages to the new <code>jakarta.*</code> packages. The simplest solutions is probably to use Tomcat 9 instead. The alternative would be to update <i>each</i> piece of software you use that interacts with these package to a version that <i>also</i> uses the new packages (such versions are often not yet available)."}],"owner":{"account_id":28777205,"reputation":1,"user_id":22039551,"display_name":"Nguyen Vu Cuong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686291241,"creation_date":1686290485,"question_id":76437585,"body_markdown":"I&#39;m very new to this Zkoss framework and web developing\r\nThe problem I&#39;m facing is that when I run the &quot;index.zul&quot; file on my Apache Tomcat server, it always result in a 404 error despite following every tutorial I found.\r\nThe details of the error is:\r\n_____________________________________\r\nHTTP Status 404 – Not Found\r\nStatus Report Type\r\n\r\nmessage The requested resource [/test2/index.zul] is not available\r\n\r\ndescription The requested resource is not available.\r\n\r\nApache Tomcat/10.1.9\r\n_____________________________________\r\nI&#39;m using zk studio version 9.6.0.1, Apache Tomcat version 10.1.9\r\nThis is what appears in the console:\r\n\r\n```\r\nSEVERE: Error configuring application listener of class [org.zkoss.zk.ui.http.HttpSessionListener]\r\njava.lang.NoClassDefFoundError: javax/servlet/ServletRequestAttributeListener\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2487)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:865)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1401)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:490)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:472)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:142)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4381)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:910)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletRequestAttributeListener\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245)\r\n\t... 40 more\r\n```\r\n\r\n\r\nI appreciate you all!","title":"Zkoss Hello World example 404 not found error","body":"<p>I'm very new to this Zkoss framework and web developing\nThe problem I'm facing is that when I run the &quot;index.zul&quot; file on my Apache Tomcat server, it always result in a 404 error despite following every tutorial I found.\nThe details of the error is:</p>\n<hr />\n<p>HTTP Status 404 – Not Found\nStatus Report Type</p>\n<p>message The requested resource [/test2/index.zul] is not available</p>\n<p>description The requested resource is not available.</p>\n<p>Apache Tomcat/10.1.9</p>\n<hr />\n<p>I'm using zk studio version 9.6.0.1, Apache Tomcat version 10.1.9\nThis is what appears in the console:</p>\n<pre><code>SEVERE: Error configuring application listener of class [org.zkoss.zk.ui.http.HttpSessionListener]\njava.lang.NoClassDefFoundError: javax/servlet/ServletRequestAttributeListener\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2487)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:865)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1401)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:490)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:472)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:142)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4381)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:910)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletRequestAttributeListener\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245)\n    ... 40 more\n</code></pre>\n<p>I appreciate you all!</p>\n"},{"tags":["java","selenium","annotations","testng"],"answers":[{"tags":[],"owner":{"account_id":7932983,"reputation":1434,"user_id":5990117,"display_name":"Petr Aleksandrov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1614073743,"creation_date":1614023510,"answer_id":66322499,"question_id":66322398,"body_markdown":"There is no way to skip `@BeforeMethod`. \r\n\r\nA workaround here could be moving those two methods to the subclass of your Test and overriding the `goHome` method. \r\n\r\nExample:\r\n```java\r\npublic abstract class LoginTest {\r\n    @BeforeMethod(alwaysRun = true)\r\n    public void goHome() {\r\n        System.out.println(&quot;Going Home...&quot;);\r\n    }\r\n}\r\n\r\nclass NegativeLoginTest extends LoginTest {\r\n    @Override\r\n    public void goHome() {\r\n        // do nothing\r\n    }\r\n\r\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\r\n    public void lockedCredentials() {\r\n        System.out.println(&quot;Locked Credentials&quot;);\r\n    }\r\n\r\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\r\n    public void invalidCredentials() {\r\n        System.out.println(&quot;Invalid Credentials&quot;);\r\n    }\r\n}\r\n\r\n\r\nclass PositiveLoginTest extends LoginTest {\r\n    @Test(groups = {&quot;Login&quot;, &quot;Positive&quot; })\r\n    public void correctCredentials(){\r\n        System.out.println(&quot;Correct Credentials&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThere are three classes in the example:  \r\n* LoginTest - base class for Login tests\r\n* PositiveLoginTest - all the tests call `LoginTest#goHome` before each method\r\n* NegativeLoginTest - owerrides `goHome` method, so `LoginTest#goHome` won&#39;t be called","title":"How do I skip a before method in a specific test?","body":"<p>There is no way to skip <code>@BeforeMethod</code>.</p>\n<p>A workaround here could be moving those two methods to the subclass of your Test and overriding the <code>goHome</code> method.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class LoginTest {\n    @BeforeMethod(alwaysRun = true)\n    public void goHome() {\n        System.out.println(&quot;Going Home...&quot;);\n    }\n}\n\nclass NegativeLoginTest extends LoginTest {\n    @Override\n    public void goHome() {\n        // do nothing\n    }\n\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\n    public void lockedCredentials() {\n        System.out.println(&quot;Locked Credentials&quot;);\n    }\n\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\n    public void invalidCredentials() {\n        System.out.println(&quot;Invalid Credentials&quot;);\n    }\n}\n\n\nclass PositiveLoginTest extends LoginTest {\n    @Test(groups = {&quot;Login&quot;, &quot;Positive&quot; })\n    public void correctCredentials(){\n        System.out.println(&quot;Correct Credentials&quot;);\n    }\n}\n</code></pre>\n<p>There are three classes in the example:</p>\n<ul>\n<li>LoginTest - base class for Login tests</li>\n<li>PositiveLoginTest - all the tests call <code>LoginTest#goHome</code> before each method</li>\n<li>NegativeLoginTest - owerrides <code>goHome</code> method, so <code>LoginTest#goHome</code> won't be called</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19850090,"reputation":17,"user_id":14540755,"display_name":"Amit Bhalla"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686290965,"creation_date":1686290965,"answer_id":76437634,"question_id":66322398,"body_markdown":"In TestNG, you can exclude specific @BeforeMethod annotations from running for a particular @Test method by using the @Test&#39;s dependsOnMethods attribute. Here&#39;s an example:\r\n\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class TestClass {\r\n    \r\n        @BeforeMethod\r\n        public void setup() {\r\n            // This method will run before every test method\r\n            System.out.println(&quot;Setup&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test1() {\r\n            // Test 1 code here\r\n            System.out.println(&quot;Test 1&quot;);\r\n        }\r\n    \r\n        @Test(dependsOnMethods = &quot;test1&quot;)\r\n        public void test2() {\r\n            // This method depends on test1, so @BeforeMethod won&#39;t run for this method\r\n            System.out.println(&quot;Test 2&quot;);\r\n        }\r\n    }\r\n\r\nIn the example above, the setup() method is annotated with @BeforeMethod, which means it will run before every test method. However, the test2() method has dependsOnMethods = &quot;test1&quot; attribute in its @Test annotation, indicating that it depends on test1. This means that test2() will only run if test1() passes, and the setup() method won&#39;t be executed before test2().\r\n\r\nBy specifying the dependencies in this way, you can exclude the @BeforeMethod annotation from running for specific @Test methods in TestNG.","title":"How do I skip a before method in a specific test?","body":"<p>In TestNG, you can exclude specific @BeforeMethod annotations from running for a particular @Test method by using the @Test's dependsOnMethods attribute. Here's an example:</p>\n<pre><code>import org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\n\npublic class TestClass {\n\n    @BeforeMethod\n    public void setup() {\n        // This method will run before every test method\n        System.out.println(&quot;Setup&quot;);\n    }\n\n    @Test\n    public void test1() {\n        // Test 1 code here\n        System.out.println(&quot;Test 1&quot;);\n    }\n\n    @Test(dependsOnMethods = &quot;test1&quot;)\n    public void test2() {\n        // This method depends on test1, so @BeforeMethod won't run for this method\n        System.out.println(&quot;Test 2&quot;);\n    }\n}\n</code></pre>\n<p>In the example above, the setup() method is annotated with @BeforeMethod, which means it will run before every test method. However, the test2() method has dependsOnMethods = &quot;test1&quot; attribute in its @Test annotation, indicating that it depends on test1. This means that test2() will only run if test1() passes, and the setup() method won't be executed before test2().</p>\n<p>By specifying the dependencies in this way, you can exclude the @BeforeMethod annotation from running for specific @Test methods in TestNG.</p>\n"}],"owner":{"account_id":20782034,"reputation":21,"user_id":15262224,"display_name":"Brayan Ulloa Martinez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686290965,"creation_date":1614022992,"question_id":66322398,"body_markdown":"I have a POM framework. In the BaseTest class I have the following @BeforeMethod\r\n\r\n    @BeforeMethod(alwaysRun = true)\r\n    @Parameters(&quot;url&quot;)\r\n    public void goHome(String URL) {\r\n        driver.get(URL);\r\n        this.setInventoryPage(\r\n                new LoginPage(driver)\r\n                        .setUsername(this.getSauceUserName())\r\n                        .setPassword(this.getSaucePassword())\r\n                        .clickLoginButton());\r\n    }\r\n\r\nThat method includes the login steps so I don&#39;t have to add the same line of code in all the tests. Now, the issue is that I have the following 2 test scenarios in the LoginTests class (locked account and wrong credentials). My LoginTests class extends BaseTests class.\r\n\r\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot; })\r\n    public void lockedCredentials(){\r\n        LoginPage loginPage = new LoginPage(driver);\r\n        loginPage.setUsername(&quot;wrong_user&quot;);\r\n        loginPage.setPassword(&quot;secret_sauce&quot;);\r\n        loginPage.clickLoginButton();\r\n        assertTrue(loginPage.getErrorMessageText()\r\n                        .contains(&quot;Epic sadface: Sorry, this user has been locked out.&quot;),\r\n                &quot;Credentials are not locked!&quot;);\r\n    }\r\n\r\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\r\n    public void invalidCredentials(){\r\n        LoginPage loginPage = new LoginPage(driver);\r\n        loginPage.setUsername(&quot;wrong_user&quot;);\r\n        loginPage.setPassword(&quot;wrong_pass&quot;);\r\n        loginPage.clickLoginButton();\r\n        assertTrue(loginPage.getErrorMessageText()\r\n                        .contains(&quot;Epic sadface: Username and password do not match any user in this service&quot;),\r\n                &quot;The credentials entered are valid!&quot;);\r\n    }\r\n\r\nMy question is how do I ignore the above @BeforeMethod for the above 2 tests scenarios (just for locked account and wrong credentials)?\r\n\r\nNote: I&#39;m using TestNG. ","title":"How do I skip a before method in a specific test?","body":"<p>I have a POM framework. In the BaseTest class I have the following @BeforeMethod</p>\n<pre><code>@BeforeMethod(alwaysRun = true)\n@Parameters(&quot;url&quot;)\npublic void goHome(String URL) {\n    driver.get(URL);\n    this.setInventoryPage(\n            new LoginPage(driver)\n                    .setUsername(this.getSauceUserName())\n                    .setPassword(this.getSaucePassword())\n                    .clickLoginButton());\n}\n</code></pre>\n<p>That method includes the login steps so I don't have to add the same line of code in all the tests. Now, the issue is that I have the following 2 test scenarios in the LoginTests class (locked account and wrong credentials). My LoginTests class extends BaseTests class.</p>\n<pre><code>@Test(groups = {&quot;Login&quot;, &quot;Negative&quot; })\npublic void lockedCredentials(){\n    LoginPage loginPage = new LoginPage(driver);\n    loginPage.setUsername(&quot;wrong_user&quot;);\n    loginPage.setPassword(&quot;secret_sauce&quot;);\n    loginPage.clickLoginButton();\n    assertTrue(loginPage.getErrorMessageText()\n                    .contains(&quot;Epic sadface: Sorry, this user has been locked out.&quot;),\n            &quot;Credentials are not locked!&quot;);\n}\n\n@Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\npublic void invalidCredentials(){\n    LoginPage loginPage = new LoginPage(driver);\n    loginPage.setUsername(&quot;wrong_user&quot;);\n    loginPage.setPassword(&quot;wrong_pass&quot;);\n    loginPage.clickLoginButton();\n    assertTrue(loginPage.getErrorMessageText()\n                    .contains(&quot;Epic sadface: Username and password do not match any user in this service&quot;),\n            &quot;The credentials entered are valid!&quot;);\n}\n</code></pre>\n<p>My question is how do I ignore the above @BeforeMethod for the above 2 tests scenarios (just for locked account and wrong credentials)?</p>\n<p>Note: I'm using TestNG.</p>\n"},{"tags":["java","ms-word","aspose","aspose.words"],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686290570,"creation_date":1686290570,"answer_id":76437595,"question_id":76437423,"body_markdown":"As you know there is no concept of page or line in MS Word documents due to their flow nature. The consumer applications build document layout on the fly, the same does Aspose.Words using it’s own layout engine. [LayoutCollector][1] and [LayoutEnumerator][2] classes provides a limited access to document layout information.\r\n\r\nIf you would like to determine on which page part of the paragraph is located you should loop through paragraph&#39;s child nodes and and use `LayoutCollector.getStartPageIndex` or `LayoutCollector.getEndPageIndex`. But you should note, that even the &quot;smallest&quot; text node - `Run` can span several pages. So if you need exactly determine position where paragraph flows to the next page, it is required to split content in the paragraph into smaller peeces, for example into words. \r\n\r\nFor example the following code demonstrates a basic technique to read document content line by line:\r\n```java\r\nDocument doc = new Document(&quot;C:\\\\Temp\\\\in.docx&quot;);\r\n    \r\n// Split all Run nodes in the document to make them not more than one word.\r\nIterable&lt;Run&gt; runs = doc.getChildNodes(NodeType.RUN, true);\r\nfor (Run r : runs)\r\n{\r\n    Run current = r;\r\n    while (current.getText().indexOf(&#39; &#39;) &gt;= 0)\r\n        current = SplitRun(current, current.getText().indexOf(&#39; &#39;) + 1);\r\n}\r\n    \r\n// Wrap all runs in the document with bookmarks to make it possible to work with LayoutCollector and LayoutEnumerator\r\nruns = doc.getChildNodes(NodeType.RUN, true);\r\n    \r\nArrayList&lt;String&gt; tmpBookmakrs = new ArrayList&lt;String&gt;();\r\nint bkIndex = 0;\r\nfor (Run r : runs)\r\n{\r\n    // LayoutCollector and LayoutEnumerator does not work with nodes in header/footer or in textboxes.\r\n    if (r.getAncestor(NodeType.HEADER_FOOTER) != null || r.getAncestor(NodeType.SHAPE) != null)\r\n        continue;\r\n        \r\n    String bkName = &quot;r&quot; + bkIndex;\r\n    r.getParentNode().insertBefore(new BookmarkStart(doc, bkName), r);\r\n    r.getParentNode().insertAfter(new BookmarkEnd(doc, bkName), r);\r\n        \r\n    tmpBookmakrs.add(bkName);\r\n    bkIndex++;\r\n}\r\n    \r\n// Now we can use collector and enumerator to get runs per line in MS Word document.\r\nLayoutCollector collector = new LayoutCollector(doc);\r\nLayoutEnumerator enumerator = new LayoutEnumerator(doc);\r\n    \r\nObject currentLine = null;\r\nint pageIndex = -1;\r\nfor (String bkName : tmpBookmakrs)\r\n{\r\n    Bookmark bk = doc.getRange().getBookmarks().get(bkName);\r\n        \r\n    enumerator.setCurrent(collector.getEntity(bk.getBookmarkStart()));\r\n    while (enumerator.getType() != LayoutEntityType.LINE)\r\n        enumerator.moveParent();\r\n        \r\n    if (currentLine != enumerator.getCurrent())\r\n    {\r\n        currentLine = enumerator.getCurrent();\r\n            \r\n        System.out.println();\r\n        if(pageIndex!=enumerator.getPageIndex())\r\n        {\r\n            pageIndex = enumerator.getPageIndex();\r\n            System.out.println(&quot;-------=========Start Of Page &quot; + pageIndex + &quot;=========-------&quot;);\r\n        }\r\n        System.out.println(&quot;-------=========Start Of Line=========-------&quot;);\r\n    }\r\n        \r\n    Node node = bk.getBookmarkStart().getNextSibling();\r\n    if (node != null &amp;&amp; node.getNodeType() == NodeType.RUN)\r\n        System.out.print(((Run)node).getText());\r\n}\r\n```\r\n```java\r\nprivate static Run SplitRun(Run run, int position)\r\n{\r\n    Run afterRun = (Run)run.deepClone(true);\r\n    run.getParentNode().insertAfter(afterRun, run);\r\n    afterRun.setText(run.getText().substring(position));\r\n    run.setText(run.getText().substring(0, position));\r\n    return afterRun;\r\n}\r\n```\r\n\r\n  [1]: https://reference.aspose.com/words/java/com.aspose.words/layoutcollector/\r\n  [2]: https://reference.aspose.com/words/java/com.aspose.words/layoutenumerator/","title":"how can i get page number of a string with is part of paragraph in word document using java","body":"<p>As you know there is no concept of page or line in MS Word documents due to their flow nature. The consumer applications build document layout on the fly, the same does Aspose.Words using it’s own layout engine. <a href=\"https://reference.aspose.com/words/java/com.aspose.words/layoutcollector/\" rel=\"nofollow noreferrer\">LayoutCollector</a> and <a href=\"https://reference.aspose.com/words/java/com.aspose.words/layoutenumerator/\" rel=\"nofollow noreferrer\">LayoutEnumerator</a> classes provides a limited access to document layout information.</p>\n<p>If you would like to determine on which page part of the paragraph is located you should loop through paragraph's child nodes and and use <code>LayoutCollector.getStartPageIndex</code> or <code>LayoutCollector.getEndPageIndex</code>. But you should note, that even the &quot;smallest&quot; text node - <code>Run</code> can span several pages. So if you need exactly determine position where paragraph flows to the next page, it is required to split content in the paragraph into smaller peeces, for example into words.</p>\n<p>For example the following code demonstrates a basic technique to read document content line by line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document doc = new Document(&quot;C:\\\\Temp\\\\in.docx&quot;);\n    \n// Split all Run nodes in the document to make them not more than one word.\nIterable&lt;Run&gt; runs = doc.getChildNodes(NodeType.RUN, true);\nfor (Run r : runs)\n{\n    Run current = r;\n    while (current.getText().indexOf(' ') &gt;= 0)\n        current = SplitRun(current, current.getText().indexOf(' ') + 1);\n}\n    \n// Wrap all runs in the document with bookmarks to make it possible to work with LayoutCollector and LayoutEnumerator\nruns = doc.getChildNodes(NodeType.RUN, true);\n    \nArrayList&lt;String&gt; tmpBookmakrs = new ArrayList&lt;String&gt;();\nint bkIndex = 0;\nfor (Run r : runs)\n{\n    // LayoutCollector and LayoutEnumerator does not work with nodes in header/footer or in textboxes.\n    if (r.getAncestor(NodeType.HEADER_FOOTER) != null || r.getAncestor(NodeType.SHAPE) != null)\n        continue;\n        \n    String bkName = &quot;r&quot; + bkIndex;\n    r.getParentNode().insertBefore(new BookmarkStart(doc, bkName), r);\n    r.getParentNode().insertAfter(new BookmarkEnd(doc, bkName), r);\n        \n    tmpBookmakrs.add(bkName);\n    bkIndex++;\n}\n    \n// Now we can use collector and enumerator to get runs per line in MS Word document.\nLayoutCollector collector = new LayoutCollector(doc);\nLayoutEnumerator enumerator = new LayoutEnumerator(doc);\n    \nObject currentLine = null;\nint pageIndex = -1;\nfor (String bkName : tmpBookmakrs)\n{\n    Bookmark bk = doc.getRange().getBookmarks().get(bkName);\n        \n    enumerator.setCurrent(collector.getEntity(bk.getBookmarkStart()));\n    while (enumerator.getType() != LayoutEntityType.LINE)\n        enumerator.moveParent();\n        \n    if (currentLine != enumerator.getCurrent())\n    {\n        currentLine = enumerator.getCurrent();\n            \n        System.out.println();\n        if(pageIndex!=enumerator.getPageIndex())\n        {\n            pageIndex = enumerator.getPageIndex();\n            System.out.println(&quot;-------=========Start Of Page &quot; + pageIndex + &quot;=========-------&quot;);\n        }\n        System.out.println(&quot;-------=========Start Of Line=========-------&quot;);\n    }\n        \n    Node node = bk.getBookmarkStart().getNextSibling();\n    if (node != null &amp;&amp; node.getNodeType() == NodeType.RUN)\n        System.out.print(((Run)node).getText());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static Run SplitRun(Run run, int position)\n{\n    Run afterRun = (Run)run.deepClone(true);\n    run.getParentNode().insertAfter(afterRun, run);\n    afterRun.setText(run.getText().substring(position));\n    run.setText(run.getText().substring(0, position));\n    return afterRun;\n}\n</code></pre>\n"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686290570,"creation_date":1686288180,"question_id":76437423,"body_markdown":"I am using aspose-words library&#39;s node collection to read a word document node by node if a node is a paragraph and length is more that 8000 characters i am dividing it into sub-strings. The paragraphs exceeding one page most of the times.How can i get page number of the sub-string which i divided from that paragraph.\r\n```\r\nDocument document=new Document(filePath);\r\nLayoutCollector layoutCollector=new LayoutCollector(doc);\r\nNodeCollection paragraphNodes=document.getChildNodes(NodeType.Paragraph,true);\r\nfor(Node node:paragraphNodes)\r\n{\r\n if(node.getType==NodeType.PARAGRAPH){\r\n int pageNumber=layoutCollector.getStartPageIndex(node);\r\n List&lt;String&gt; subStrings=new ArrayList();\r\n Paragraph paragraph=(Paragraph) node;\r\n String text=paragraph.getText();\r\n if(text.length()&gt;8000){\r\n  //divideParagraph(String text) takes a string and returns ArrayList&lt;Strings&gt; each \r\n  String less than 8000 length\r\n  subStrings.addAll(divideParagraph(text));\r\n }\r\n for(String subString:subStrings)\r\n {\r\n System.out.println(&quot;need the page number of each substring &quot;);\r\n }\r\n}\r\n```\r\n\r\ncurrently i am able to get start page and end page of a specific paragraph using layoutCollector but looking for sub-string&#39;s page number which i divide from paragraph because i have to report it in log. Is there any other library with which i can read all elements like paragraph, table , wordart etc having tract of pagenumber and line number where it starts.","title":"how can i get page number of a string with is part of paragraph in word document using java","body":"<p>I am using aspose-words library's node collection to read a word document node by node if a node is a paragraph and length is more that 8000 characters i am dividing it into sub-strings. The paragraphs exceeding one page most of the times.How can i get page number of the sub-string which i divided from that paragraph.</p>\n<pre><code>Document document=new Document(filePath);\nLayoutCollector layoutCollector=new LayoutCollector(doc);\nNodeCollection paragraphNodes=document.getChildNodes(NodeType.Paragraph,true);\nfor(Node node:paragraphNodes)\n{\n if(node.getType==NodeType.PARAGRAPH){\n int pageNumber=layoutCollector.getStartPageIndex(node);\n List&lt;String&gt; subStrings=new ArrayList();\n Paragraph paragraph=(Paragraph) node;\n String text=paragraph.getText();\n if(text.length()&gt;8000){\n  //divideParagraph(String text) takes a string and returns ArrayList&lt;Strings&gt; each \n  String less than 8000 length\n  subStrings.addAll(divideParagraph(text));\n }\n for(String subString:subStrings)\n {\n System.out.println(&quot;need the page number of each substring &quot;);\n }\n}\n</code></pre>\n<p>currently i am able to get start page and end page of a specific paragraph using layoutCollector but looking for sub-string's page number which i divide from paragraph because i have to report it in log. Is there any other library with which i can read all elements like paragraph, table , wordart etc having tract of pagenumber and line number where it starts.</p>\n"},{"tags":["java","eclipse","osgi","java-11"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686305214,"post_id":76432914,"comment_id":134783825,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28781013,"reputation":1,"user_id":22042641,"display_name":"nilesh vadar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686290019,"creation_date":1686234619,"question_id":76432914,"body_markdown":"-We are upgrading our application from java 8 to Java 11\r\nFor multiple jetty org.eclipse.jetty 9.4.30v  plugins giving dependency issue missing constraint import package javax.servlet version &quot;[3.1.0,4.00)&quot;.\r\n\r\n\r\n-javax.servlet version 3.1.0 is already present and selected.\r\n\r\nStill why it is giving missing import error?","title":"org.eclipse.jetty 9.4.30v plugins giving issue missing constraint import package javax.servlet version &quot;[3.1.0,4.00)&quot; in Java 11","body":"<p>-We are upgrading our application from java 8 to Java 11\nFor multiple jetty org.eclipse.jetty 9.4.30v  plugins giving dependency issue missing constraint import package javax.servlet version &quot;[3.1.0,4.00)&quot;.</p>\n<p>-javax.servlet version 3.1.0 is already present and selected.</p>\n<p>Still why it is giving missing import error?</p>\n"},{"tags":["java","linux","log4j","log4j2"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1686230465,"post_id":76432278,"comment_id":134772749,"body_markdown":"put the logfile in a user specific directory","body":"put the logfile in a user specific directory"},{"owner":{"account_id":9322379,"reputation":11,"user_id":6920760,"display_name":"şent&#252;rk şimşek"},"score":0,"creation_date":1686230544,"post_id":76432278,"comment_id":134772767,"body_markdown":"that is not possible","body":"that is not possible"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1686230590,"post_id":76432278,"comment_id":134772779,"body_markdown":"Why it is not possible?","body":"Why it is not possible?"},{"owner":{"account_id":9322379,"reputation":11,"user_id":6920760,"display_name":"şent&#252;rk şimşek"},"score":0,"creation_date":1686231281,"post_id":76432278,"comment_id":134772954,"body_markdown":"All logs should be in same file.","body":"All logs should be in same file."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1686232582,"post_id":76432278,"comment_id":134773302,"body_markdown":"What operating system are you using?   Because it appears that the `filePermission` attribute is only understood if the default file system supports posix permissions.  If not, it appears that value of the attribute is ignored ... with a log warning.  See https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/FileManager.java#L130.","body":"What operating system are you using?   Because it appears that the <code>filePermission</code> attribute is only understood if the default file system supports posix permissions.  If not, it appears that value of the attribute is ignored ... with a log warning.  See <a href=\"https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/FileManager.java#L130\" rel=\"nofollow noreferrer\">github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/mai&zwnj;&#8203;n/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686232329,"creation_date":1686232329,"answer_id":76432578,"question_id":76432278,"body_markdown":"You have far bigger problems.\r\n\r\nIf you solve the access rights issue, which is easy enough, you have multiple separate processes all writing to the same file. This will result in:\r\n\r\nHeHelloo, WWoorrldld\r\n\r\nstyle craziness in that file, with log strings interleaving and logs just missing entirely.\r\n\r\nIn the comments you say: &quot;It has to be one file&quot;. Okay. This will take you weeks of hardship to build, that is an _incredibly_ costly requirement. Still convinced you want it? Well, hold on to your seat then:\r\n\r\n## The usual way: Separate process\r\n\r\nHave all apps send data concurrently to a &#39;logging process&#39;, which is an entirely separate JVM that is started on boot and runs forever. Processes can e.g. do that by connecting to them using TCP/IP connections (there are also pipes but java makes that rather difficult).\r\n\r\nThat separate process can simply write to the log file, and can do its own queueing and can ensure logs are written in receipt order and without log messages mixing together into long gobbledygook.\r\n\r\nOf course, if that log service is down or crashes, all apps will just have to crash on boot and say &#39;no can do, start the log service first&#39;.\r\n\r\n## Lock files\r\n\r\nAn alternative is to involve lock files - to log a message, first, atomically create `mylogfile.log.lock`. If this succeeds, open the log file, append the log message, close the log file, then delete the lock file.\r\n\r\nIf this fails, throw some dice (call `rnd.nextInt()`) to determine a random amount of milliseconds to wait, then try again. (the randomness is CRUCIAL. Ever walk on the street and you&#39;re about to bump into someone, so you hang left but they also hang left, then you hang right and they also hang right? Computers can do that too, except because computers do the exact same thing if given the exact same inputs, they are wont to do it forever. You MUST introduce chaos or this is not solvable!)\r\n\r\nThis is quite inefficient and means any attempt to log something is potentially very very slow.\r\n\r\nIt also means if one of the apps is hard-killed or hard-crashes, the log lock file remains, so all processes need to check how often they retry to acquire the lock, and after 4 seconds or so, should report: Hmm, hey, user? Maybe that lock file is an orphan, here it is - if you have determined it is, please delete the lock file and only then will I continue operation.\r\n\r\nThis is all highly complex, of course.\r\n\r\n## The same principles, but pre-bundled\r\n\r\nThese concepts are already exist: __Databases__. Require that users have a concurrency-capable database (So, __you cannot__ just run H2 or some other in-java-process DB in each app and have them all attempt to open the same DB, that will fail - it needs to be a separate process), and write logs to the database. There is no file _at all_ in this scenario, there&#39;s a database (which will be stored as a bunch of binary files, of course).\r\n\r\n## Ad-hoc server\r\n\r\nThe OS will only let one process open a TCP/IP server port and will close it if that process dies, even if it is hard-killed. Any app can do the following trick:\r\n\r\n* On boot, attempt to open a ServerSocket on port 14525 (something between 1024-40000, pick any number, pray it doesn&#39;t clash with any other software&#39;s choice).\r\n* If it works, great, start listening for &#39;log push&#39; messages on that port, and open the log file. You write your logs, as well as any received on the port, to it.\r\n* If it does not work, connect to it instead. As long as it continues to accept connections, don&#39;t write logs, instead send them to that process. If this fails, try to open the port (hey, maybe the &#39;log hoster&#39; app has been quit).\r\n\r\nThese things are all __extremely__ complicated.\r\n\r\n## Script it\r\n\r\nMake a dir, each user gets their own log file, some separate cronjob flies by, and concats them all to a central log file.\r\n\r\nThis doesn&#39;t work well if you want a guarantee that log messages are properly interleaved (if log message A is in the log file before B, that this means A must have happened before B). Strict interleaving __is interprocess communication__ and therefore is not possible without locks. Hence why this is vastly more complicated than &#39;everybody opens the same file and writes to the same place&#39;.\r\n\r\n## Sidenote: Access rights\r\n\r\nIf multiple processes need to be able to write to the same file, you need to create the log file with the appropriate access rights. Check the `java.nio.file.Files` API for how to do that.\r\n","title":"Log4j2 throws file permission exception when multiple users run the program","body":"<p>You have far bigger problems.</p>\n<p>If you solve the access rights issue, which is easy enough, you have multiple separate processes all writing to the same file. This will result in:</p>\n<p>HeHelloo, WWoorrldld</p>\n<p>style craziness in that file, with log strings interleaving and logs just missing entirely.</p>\n<p>In the comments you say: &quot;It has to be one file&quot;. Okay. This will take you weeks of hardship to build, that is an <em>incredibly</em> costly requirement. Still convinced you want it? Well, hold on to your seat then:</p>\n<h2>The usual way: Separate process</h2>\n<p>Have all apps send data concurrently to a 'logging process', which is an entirely separate JVM that is started on boot and runs forever. Processes can e.g. do that by connecting to them using TCP/IP connections (there are also pipes but java makes that rather difficult).</p>\n<p>That separate process can simply write to the log file, and can do its own queueing and can ensure logs are written in receipt order and without log messages mixing together into long gobbledygook.</p>\n<p>Of course, if that log service is down or crashes, all apps will just have to crash on boot and say 'no can do, start the log service first'.</p>\n<h2>Lock files</h2>\n<p>An alternative is to involve lock files - to log a message, first, atomically create <code>mylogfile.log.lock</code>. If this succeeds, open the log file, append the log message, close the log file, then delete the lock file.</p>\n<p>If this fails, throw some dice (call <code>rnd.nextInt()</code>) to determine a random amount of milliseconds to wait, then try again. (the randomness is CRUCIAL. Ever walk on the street and you're about to bump into someone, so you hang left but they also hang left, then you hang right and they also hang right? Computers can do that too, except because computers do the exact same thing if given the exact same inputs, they are wont to do it forever. You MUST introduce chaos or this is not solvable!)</p>\n<p>This is quite inefficient and means any attempt to log something is potentially very very slow.</p>\n<p>It also means if one of the apps is hard-killed or hard-crashes, the log lock file remains, so all processes need to check how often they retry to acquire the lock, and after 4 seconds or so, should report: Hmm, hey, user? Maybe that lock file is an orphan, here it is - if you have determined it is, please delete the lock file and only then will I continue operation.</p>\n<p>This is all highly complex, of course.</p>\n<h2>The same principles, but pre-bundled</h2>\n<p>These concepts are already exist: <strong>Databases</strong>. Require that users have a concurrency-capable database (So, <strong>you cannot</strong> just run H2 or some other in-java-process DB in each app and have them all attempt to open the same DB, that will fail - it needs to be a separate process), and write logs to the database. There is no file <em>at all</em> in this scenario, there's a database (which will be stored as a bunch of binary files, of course).</p>\n<h2>Ad-hoc server</h2>\n<p>The OS will only let one process open a TCP/IP server port and will close it if that process dies, even if it is hard-killed. Any app can do the following trick:</p>\n<ul>\n<li>On boot, attempt to open a ServerSocket on port 14525 (something between 1024-40000, pick any number, pray it doesn't clash with any other software's choice).</li>\n<li>If it works, great, start listening for 'log push' messages on that port, and open the log file. You write your logs, as well as any received on the port, to it.</li>\n<li>If it does not work, connect to it instead. As long as it continues to accept connections, don't write logs, instead send them to that process. If this fails, try to open the port (hey, maybe the 'log hoster' app has been quit).</li>\n</ul>\n<p>These things are all <strong>extremely</strong> complicated.</p>\n<h2>Script it</h2>\n<p>Make a dir, each user gets their own log file, some separate cronjob flies by, and concats them all to a central log file.</p>\n<p>This doesn't work well if you want a guarantee that log messages are properly interleaved (if log message A is in the log file before B, that this means A must have happened before B). Strict interleaving <strong>is interprocess communication</strong> and therefore is not possible without locks. Hence why this is vastly more complicated than 'everybody opens the same file and writes to the same place'.</p>\n<h2>Sidenote: Access rights</h2>\n<p>If multiple processes need to be able to write to the same file, you need to create the log file with the appropriate access rights. Check the <code>java.nio.file.Files</code> API for how to do that.</p>\n"}],"owner":{"account_id":9322379,"reputation":11,"user_id":6920760,"display_name":"şent&#252;rk şimşek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1686289769,"creation_date":1686230364,"question_id":76432278,"body_markdown":"The current implementation of our application uses Log4j2 for logging. The application is designed to be run by different users.\r\n\r\nWe&#39;ve observed an issue where if one user runs the program and a log file is created, subsequent users are not able to run the program and a file permission exception is encountered. It appears the log file, once created by the first user, cannot be accessed by other users due to permission restrictions.\r\n\r\nThis behavior prevents multiple users from running the application concurrently, which is a required functionality.\r\n\r\n\r\n1. User A runs the program, triggering the creation of a new log file. \r\n2. User B attempts to run the program.\r\n3. User B encounters a file permission exception.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;console_log_file&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss} [%t] - %msg%n&quot;/&gt;\r\n            &lt;/Console&gt;\r\n    \r\n            &lt;RollingFile name=&quot;log_file&quot;\r\n                         fileName=&quot;/var/applog/myapp/aggregator/aggregator_rest.log&quot;\r\n                         filePattern=&quot;/var/applog/myapp/aggregator/aggregator_rest.%i.log.gz&quot; \r\n                         filePermissions=&quot;rwxrwxrwx&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n                    &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p - %m%n&lt;/Pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;OnStartupTriggeringPolicy /&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot; /&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;debug&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;log_file&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n","title":"Log4j2 throws file permission exception when multiple users run the program","body":"<p>The current implementation of our application uses Log4j2 for logging. The application is designed to be run by different users.</p>\n<p>We've observed an issue where if one user runs the program and a log file is created, subsequent users are not able to run the program and a file permission exception is encountered. It appears the log file, once created by the first user, cannot be accessed by other users due to permission restrictions.</p>\n<p>This behavior prevents multiple users from running the application concurrently, which is a required functionality.</p>\n<ol>\n<li><p>User A runs the program, triggering the creation of a new log file.</p>\n</li>\n<li><p>User B attempts to run the program.</p>\n</li>\n<li><p>User B encounters a file permission exception.</p>\n \n \n     \n         \n             \n         \n<pre><code>     &lt;RollingFile name=&quot;log_file&quot;\n                  fileName=&quot;/var/applog/myapp/aggregator/aggregator_rest.log&quot;\n                  filePattern=&quot;/var/applog/myapp/aggregator/aggregator_rest.%i.log.gz&quot; \n                  filePermissions=&quot;rwxrwxrwx&quot;&gt;\n         &lt;PatternLayout&gt;\n             &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p - %m%n&lt;/Pattern&gt;\n         &lt;/PatternLayout&gt;\n         &lt;Policies&gt;\n             &lt;OnStartupTriggeringPolicy /&gt;\n             &lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot; /&gt;\n         &lt;/Policies&gt;\n         &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n     &lt;/RollingFile&gt;\n\n &lt;/Appenders&gt;\n\n &lt;Loggers&gt;\n     &lt;Root level=&quot;debug&quot;&gt;\n         &lt;AppenderRef ref=&quot;log_file&quot;/&gt;\n     &lt;/Root&gt;\n &lt;/Loggers&gt;\n</code></pre>\n \n</li>\n</ol>\n"},{"tags":["java","amazon-sns"],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1614210162,"creation_date":1461077634,"answer_id":36722020,"question_id":36721014,"body_markdown":"I&#39;ve done this one of two ways.  The ARN is always the same pattern.  So, you could just subscribe to &quot;arn:aws:sns:\\&lt;region&gt;:\\&lt;account&gt;:\\&lt;name&gt;&quot; where:\r\n\r\nregion is from Regions.getCurrentRegion().  Be careful with this as it is a bit expensive of a call and you&#39;ll need to handle not being on an EC2/Elastic Beanstalk instance.\r\n\r\naccount is from AmazonIdentityManagementClient.getUser().getUser().getArn().  You&#39;ll have to parse the account number from that.  Same warning about not being in an EC2 environment.\r\n\r\nname is what you have.\r\n\r\nA simpler way is loop through the the topics and look for the name you want in the ARN.  You will use the AmazonSNSClient listTopics method to do this.  Remember that that method only returns the first 100 topics - you&#39;ll want to properly loop over the entire topic list.","title":"AWS SNS - How to get topic arn by topic name","body":"<p>I've done this one of two ways.  The ARN is always the same pattern.  So, you could just subscribe to &quot;arn:aws:sns:&lt;region&gt;:&lt;account&gt;:&lt;name&gt;&quot; where:</p>\n<p>region is from Regions.getCurrentRegion().  Be careful with this as it is a bit expensive of a call and you'll need to handle not being on an EC2/Elastic Beanstalk instance.</p>\n<p>account is from AmazonIdentityManagementClient.getUser().getUser().getArn().  You'll have to parse the account number from that.  Same warning about not being in an EC2 environment.</p>\n<p>name is what you have.</p>\n<p>A simpler way is loop through the the topics and look for the name you want in the ARN.  You will use the AmazonSNSClient listTopics method to do this.  Remember that that method only returns the first 100 topics - you'll want to properly loop over the entire topic list.</p>\n"},{"tags":[],"owner":{"account_id":3823090,"reputation":290,"user_id":3170677,"display_name":"tainos"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1472438964,"creation_date":1472438964,"answer_id":39197859,"question_id":36721014,"body_markdown":"What you can do, is to create a table that contains topic and its topicArn.\r\n\r\nThe topic arn can be retrieve by the console or using the api when you create a topic.\r\n\r\nThis way no need to loop or try to match a pattern.","title":"AWS SNS - How to get topic arn by topic name","body":"<p>What you can do, is to create a table that contains topic and its topicArn.</p>\n\n<p>The topic arn can be retrieve by the console or using the api when you create a topic.</p>\n\n<p>This way no need to loop or try to match a pattern.</p>\n"},{"tags":[],"owner":{"account_id":3916649,"reputation":387,"user_id":3240320,"display_name":"Bryn"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1490864463,"creation_date":1490864463,"answer_id":43113128,"question_id":36721014,"body_markdown":"As stated in this [answer][1] using createTopic(topicName) is more direct approach. In case topic have been created before, it will just return you topic ARN.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38088028/3240320","title":"AWS SNS - How to get topic arn by topic name","body":"<p>As stated in this <a href=\"https://stackoverflow.com/a/38088028/3240320\">answer</a> using createTopic(topicName) is more direct approach. In case topic have been created before, it will just return you topic ARN.</p>\n"},{"tags":[],"owner":{"account_id":19581982,"reputation":11,"user_id":14330834,"display_name":"Sebastian Muah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600939092,"creation_date":1600910056,"answer_id":64038239,"question_id":36721014,"body_markdown":"This might be what you need.  Supply the topic and get it from available topics.\r\n\r\n```python\r\nimport json\r\nimport boto3\r\n\r\ndef lambda_handler(event, context):\r\n    try:\r\n\r\n        topic =  event[&#39;topic&#39;] \r\n        subject = event[&#39;subject&#39;]\r\n        body = event[&#39;body&#39;]\r\n        subscriber = event[&#39;subscriber&#39;]\r\n        \r\n        sns_client = boto3.client(&#39;sns&#39;)\r\n        \r\n        sns_topic_arn = [tp[&#39;TopicArn&#39;] for tp in sns_client.list_topics()[&#39;Topics&#39;] if topic in tp[&#39;TopicArn&#39;]]\r\n        \r\n        sns_client.publish(TopicArn = sns_topic_arn[0], Message=body,\r\n            Subject=subject)\r\n        \r\n    except Exception as e:\r\n        print(e)\r\n```","title":"AWS SNS - How to get topic arn by topic name","body":"<p>This might be what you need.  Supply the topic and get it from available topics.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import json\nimport boto3\n\ndef lambda_handler(event, context):\n    try:\n\n        topic =  event['topic'] \n        subject = event['subject']\n        body = event['body']\n        subscriber = event['subscriber']\n        \n        sns_client = boto3.client('sns')\n        \n        sns_topic_arn = [tp['TopicArn'] for tp in sns_client.list_topics()['Topics'] if topic in tp['TopicArn']]\n        \n        sns_client.publish(TopicArn = sns_topic_arn[0], Message=body,\n            Subject=subject)\n        \n    except Exception as e:\n        print(e)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18621587,"reputation":61,"user_id":13571626,"display_name":"markhuang1994"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686289227,"creation_date":1686289227,"answer_id":76437494,"question_id":36721014,"body_markdown":"If you have create topic permission, you can try this:\r\n[link][1]\r\n\r\nIf you don&#39;t have permission, you can try this:\r\n\r\n    private static Optional&lt;Topic&gt; getTopicByName(SnsClient snsClient, \r\n                                                  String topicName) {\r\n        for (val topicsResponse : snsClient.listTopicsPaginator()) {\r\n            if (topicsResponse.hasTopics()) {\r\n                for (val topic : topicsResponse.topics()) {\r\n                    // Arn format =&gt; arn:aws:sns:region:account-id:topic-name\r\n                    val arn = topic.topicArn();\r\n                    val sp = arn.split(&quot;:&quot;);\r\n                    if (topicName.equals(sp[sp.length - 1])) {\r\n                        return Optional.of(topic);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/38088028/3240320","title":"AWS SNS - How to get topic arn by topic name","body":"<p>If you have create topic permission, you can try this:\n<a href=\"https://stackoverflow.com/a/38088028/3240320\">link</a></p>\n<p>If you don't have permission, you can try this:</p>\n<pre><code>private static Optional&lt;Topic&gt; getTopicByName(SnsClient snsClient, \n                                              String topicName) {\n    for (val topicsResponse : snsClient.listTopicsPaginator()) {\n        if (topicsResponse.hasTopics()) {\n            for (val topic : topicsResponse.topics()) {\n                // Arn format =&gt; arn:aws:sns:region:account-id:topic-name\n                val arn = topic.topicArn();\n                val sp = arn.split(&quot;:&quot;);\n                if (topicName.equals(sp[sp.length - 1])) {\n                    return Optional.of(topic);\n                }\n            }\n        }\n    }\n    return Optional.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":2070102,"reputation":5601,"user_id":2260426,"accept_rate":24,"display_name":"Gowsikan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22115,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1686289227,"creation_date":1461075316,"question_id":36721014,"body_markdown":"In my application i need to send messages to the given topic name. The topic is already created by other person and in a config file they give only the topic Name. My work is to push the messages in the given topic Name. Is there any way to get topic ARN by topic NAME in java?\r\n\r\n","title":"AWS SNS - How to get topic arn by topic name","body":"<p>In my application i need to send messages to the given topic name. The topic is already created by other person and in a config file they give only the topic Name. My work is to push the messages in the given topic Name. Is there any way to get topic ARN by topic NAME in java?</p>\n"},{"tags":["java","eclipse","swing","layout-manager"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1409881345,"post_id":25677479,"comment_id":40129356,"body_markdown":"Learn about how the Swing layout managers work and you&#39;ll see why your button fills the screen. To get the link, hover over the swing tag I&#39;ve added to your question and click on &quot;info&quot; and then the layout manager tutorial. Note that JFrame contentPanes use BorderLayout. You may want to read on GridLayout, and you may wish to get rid of those useless calls to `setLocation(...)`. They&#39;re not going to help you, and right now are only fooling you into thinking that they&#39;re doing something when they&#39;re not, and are not even needed.","body":"Learn about how the Swing layout managers work and you&#39;ll see why your button fills the screen. To get the link, hover over the swing tag I&#39;ve added to your question and click on &quot;info&quot; and then the layout manager tutorial. Note that JFrame contentPanes use BorderLayout. You may want to read on GridLayout, and you may wish to get rid of those useless calls to <code>setLocation(...)</code>. They&#39;re not going to help you, and right now are only fooling you into thinking that they&#39;re doing something when they&#39;re not, and are not even needed."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1409881457,"post_id":25677479,"comment_id":40129372,"body_markdown":"Your link is [here](http://stackoverflow.com/tags/swing/info).","body":"Your link is <a href=\"http://stackoverflow.com/tags/swing/info\">here</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1409881847,"post_id":25677479,"comment_id":40129455,"body_markdown":"Other suggestions going forward -- don&#39;t setSize or setBounds either. Let the components and the layout managers set the sizes. Avoid putting the whole GUI together in the static main method. That method should be just for creating an object and starting it up, and that&#39;s about it, and this should take just a few lines of code. Also you&#39;ll want to learn and follow Java naming rules, including giving classes names that begin with a capital letter. This way others will more easily understand your code.","body":"Other suggestions going forward -- don&#39;t setSize or setBounds either. Let the components and the layout managers set the sizes. Avoid putting the whole GUI together in the static main method. That method should be just for creating an object and starting it up, and that&#39;s about it, and this should take just a few lines of code. Also you&#39;ll want to learn and follow Java naming rules, including giving classes names that begin with a capital letter. This way others will more easily understand your code."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1409888223,"post_id":25677479,"comment_id":40130764,"body_markdown":"BTW - the code example probably would have failed with just 2 buttons, so there&#39;s no need for the other seven.","body":"BTW - the code example probably would have failed with just 2 buttons, so there&#39;s no need for the other seven."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1409905268,"post_id":25677479,"comment_id":40136454,"body_markdown":"You have taken a `JPanel` __p__ in this case, and added all `JButton`s to it, now it&#39;s time to add this `JPanel` to some container. But you starting adding those `JButton`s again to some other place. Just try this, take a `JPanel`. Change it&#39;s layout to `GridLayout` by `p.setLayout(new GridLayout(3, 3, 5, 5))`, now add all `JButton`s to it, like `p.add(b1)` and so on. Now add this `JPanel` to `JFrame` by `frame.setContentPane(p)`, now call `pack()`, and then call `frame.setVisible(true)`. Do not call `setVisible()` before adding needed components to the container.","body":"You have taken a <code>JPanel</code> <b>p</b> in this case, and added all <code>JButton</code>s to it, now it&#39;s time to add this <code>JPanel</code> to some container. But you starting adding those <code>JButton</code>s again to some other place. Just try this, take a <code>JPanel</code>. Change it&#39;s layout to <code>GridLayout</code> by <code>p.setLayout(new GridLayout(3, 3, 5, 5))</code>, now add all <code>JButton</code>s to it, like <code>p.add(b1)</code> and so on. Now add this <code>JPanel</code> to <code>JFrame</code> by <code>frame.setContentPane(p)</code>, now call <code>pack()</code>, and then call <code>frame.setVisible(true)</code>. Do not call <code>setVisible()</code> before adding needed components to the container."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1409881829,"creation_date":1409881829,"answer_id":25677564,"question_id":25677479,"body_markdown":"1. A component may only reside within a single parent, adding a component to another container will remove it from the first, so basically, nothing resides within your `JPanel` anymore...\r\n2. `JFrame` by default, uses a `BorderLayout`, which means that only one component can occupy any of the five available spaces it provides.  What&#39;s happening with your code is `b9`, been the last component added to your frame, is the only component been displayed.  `BorderLayout` is providing `b9` with the full available space to it.\r\n\r\nStart by taking a look at [Laying Out Components Within a Container](http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html).  You may need to use multiple layouts in order to achieve what you want, but this allows you to separate responsibility and isolate the individual requirements of each section of your interface","title":"Button Takes Up My Whole Screen","body":"<ol>\n<li>A component may only reside within a single parent, adding a component to another container will remove it from the first, so basically, nothing resides within your <code>JPanel</code> anymore...</li>\n<li><code>JFrame</code> by default, uses a <code>BorderLayout</code>, which means that only one component can occupy any of the five available spaces it provides.  What's happening with your code is <code>b9</code>, been the last component added to your frame, is the only component been displayed.  <code>BorderLayout</code> is providing <code>b9</code> with the full available space to it.</li>\n</ol>\n\n<p>Start by taking a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow\">Laying Out Components Within a Container</a>.  You may need to use multiple layouts in order to achieve what you want, but this allows you to separate responsibility and isolate the individual requirements of each section of your interface</p>\n"},{"tags":[],"owner":{"account_id":4987850,"reputation":274,"user_id":4010928,"display_name":"Cristian Sulea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409927663,"creation_date":1409927663,"answer_id":25688314,"question_id":25677479,"body_markdown":"Replace this:\r\n\r\n        JPanel p = new JPanel();\r\nwith:\r\n\r\n        JPanel p = new JPanel(new GridLayout(3, 3));\r\n\r\n\r\nAnd this:\r\n\r\n        frame.add(p);\r\n        frame.add(b1);\r\n        frame.add(b2);\r\n        frame.add(b3);\r\n        frame.add(b4);\r\n        frame.add(b5);\r\n        frame.add(b6);\r\n        frame.add(b7);\r\n        frame.add(b8);\r\n        frame.add(b9);\r\n\r\nwith this:\r\n\r\n        frame.setContentPane(p);\r\n\r\n\r\n----------\r\n\r\n\r\nThis will make your code &quot;work&quot;.\r\nBut you have to play more with the containers to learn how to &quot;layout&quot; components. I suggest you this:\r\nhttp://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html","title":"Button Takes Up My Whole Screen","body":"<p>Replace this:</p>\n\n<pre><code>    JPanel p = new JPanel();\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>    JPanel p = new JPanel(new GridLayout(3, 3));\n</code></pre>\n\n<p>And this:</p>\n\n<pre><code>    frame.add(p);\n    frame.add(b1);\n    frame.add(b2);\n    frame.add(b3);\n    frame.add(b4);\n    frame.add(b5);\n    frame.add(b6);\n    frame.add(b7);\n    frame.add(b8);\n    frame.add(b9);\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>    frame.setContentPane(p);\n</code></pre>\n\n<hr>\n\n<p>This will make your code \"work\".\nBut you have to play more with the containers to learn how to \"layout\" components. I suggest you this:\n<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html</a></p>\n"},{"tags":[],"owner":{"account_id":11789675,"reputation":56,"user_id":8626230,"display_name":"yoav shiloah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506683580,"creation_date":1506683580,"answer_id":46487649,"question_id":25677479,"body_markdown":"i had a problem just like that if its the last button that fill your window you can &quot;cheat&quot; by adding another button at the end of your code and then disable him and make him invisible like this.\r\n`cheater.setVisible(false);\r\n cheater.setEnabled(false);`","title":"Button Takes Up My Whole Screen","body":"<p>i had a problem just like that if its the last button that fill your window you can \"cheat\" by adding another button at the end of your code and then disable him and make him invisible like this.\n<code>cheater.setVisible(false);\n cheater.setEnabled(false);</code></p>\n"},{"tags":[],"owner":{"account_id":28785087,"reputation":1,"user_id":22045752,"display_name":"JMORG23"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686288288,"creation_date":1686288288,"answer_id":76437432,"question_id":25677479,"body_markdown":"you can also fix this by setting your layout to null so panel.setLayout(null);\r\n","title":"Button Takes Up My Whole Screen","body":"<p>you can also fix this by setting your layout to null so panel.setLayout(null);</p>\n"}],"owner":{"account_id":4981216,"reputation":33,"user_id":4006109,"display_name":"benbylife"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3820,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25677564,"answer_count":4,"score":3,"last_activity_date":1686288288,"creation_date":1409881139,"question_id":25677479,"body_markdown":"    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class box{\r\n    \tpublic static String b1state = &quot;A&quot;;\r\n    \tpublic static String b2state = &quot;S&quot;;\r\n    \tpublic static String b3state = &quot;D&quot;;\r\n    \tpublic static String b4state = &quot;F&quot;;\r\n    \tpublic static String b5state = &quot;G&quot;;\r\n    \tpublic static String b6state = &quot;H&quot;;\r\n    \tpublic static String b7state = &quot;J&quot;;\r\n    \tpublic static String b8state = &quot;K&quot;;\r\n    \tpublic static String b9state = &quot;Q&quot;;\r\n    \t\r\n        public static void main(String[] args){\r\n        \tJFrame frame = new JFrame(&quot;Tic Tac Toe&quot;);\r\n        \tframe.setSize(500,500);\r\n        \tframe.setResizable(false);\r\n        \tframe.setVisible(true);\r\n        \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \t\r\n        \tJPanel p = new JPanel();\r\n\r\n        \tJButton b1 = new JButton(b1state);\r\n        \tb1.setLocation(100,  50);\r\n        \tJButton b2 = new JButton(b2state);\r\n        \tb2.setLocation(150, 50);\r\n        \tJButton b3 = new JButton(b3state);\r\n        \tb3.setLocation(200, 50);\r\n        \tJButton b4 = new JButton(b4state);\r\n        \tb4.setLocation(100, 100);\r\n        \tJButton b5 = new JButton(b5state);\r\n        \tb5.setLocation(150, 100);\r\n        \tJButton b6 = new JButton(b6state);\r\n        \tb6.setLocation(200, 100);\r\n        \tJButton b7 = new JButton(b7state);\r\n        \tb7.setLocation(100, 150);\r\n        \tJButton b8 = new JButton(b8state);\r\n        \tb8.setLocation(150, 150);\r\n        \tJButton b9 = new JButton(b9state);\r\n        \tb9.setLocation(200, 150);\r\n        \t\r\n        \tb1.setSize(50, 50);\r\n        \tb2.setSize(50, 50);\r\n        \tb3.setSize(50, 50);\r\n        \tb4.setSize(50, 50);\r\n        \tb5.setSize(50, 50);\r\n        \tb6.setSize(50, 50);\r\n        \tb7.setSize(50, 50);\r\n        \tb8.setSize(50, 50);\r\n        \tb9.setSize(50, 50);\r\n        \t\r\n        \tp.add(b1);\r\n        \tp.add(b2);\r\n        \tp.add(b3);\r\n        \tp.add(b4);\r\n        \tp.add(b5);\r\n        \tp.add(b6);\r\n        \tp.add(b7);\r\n        \tp.add(b8);\r\n        \tp.add(b9);\r\n\r\n        \tframe.add(p);\r\n        \tframe.add(b1);\r\n        \tframe.add(b2);\r\n        \tframe.add(b3);\r\n        \tframe.add(b4);\r\n        \tframe.add(b5);\r\n        \tframe.add(b6);\r\n        \tframe.add(b7);\r\n        \tframe.add(b8);\r\n        \tframe.add(b9);\r\n        }\r\n\r\nWhen ever I run this sometimes it works but other times it just opens the window with a whole button taking up the screen! Please Help!\r\n","title":"Button Takes Up My Whole Screen","body":"<pre><code>import javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class box{\n    public static String b1state = \"A\";\n    public static String b2state = \"S\";\n    public static String b3state = \"D\";\n    public static String b4state = \"F\";\n    public static String b5state = \"G\";\n    public static String b6state = \"H\";\n    public static String b7state = \"J\";\n    public static String b8state = \"K\";\n    public static String b9state = \"Q\";\n\n    public static void main(String[] args){\n        JFrame frame = new JFrame(\"Tic Tac Toe\");\n        frame.setSize(500,500);\n        frame.setResizable(false);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel p = new JPanel();\n\n        JButton b1 = new JButton(b1state);\n        b1.setLocation(100,  50);\n        JButton b2 = new JButton(b2state);\n        b2.setLocation(150, 50);\n        JButton b3 = new JButton(b3state);\n        b3.setLocation(200, 50);\n        JButton b4 = new JButton(b4state);\n        b4.setLocation(100, 100);\n        JButton b5 = new JButton(b5state);\n        b5.setLocation(150, 100);\n        JButton b6 = new JButton(b6state);\n        b6.setLocation(200, 100);\n        JButton b7 = new JButton(b7state);\n        b7.setLocation(100, 150);\n        JButton b8 = new JButton(b8state);\n        b8.setLocation(150, 150);\n        JButton b9 = new JButton(b9state);\n        b9.setLocation(200, 150);\n\n        b1.setSize(50, 50);\n        b2.setSize(50, 50);\n        b3.setSize(50, 50);\n        b4.setSize(50, 50);\n        b5.setSize(50, 50);\n        b6.setSize(50, 50);\n        b7.setSize(50, 50);\n        b8.setSize(50, 50);\n        b9.setSize(50, 50);\n\n        p.add(b1);\n        p.add(b2);\n        p.add(b3);\n        p.add(b4);\n        p.add(b5);\n        p.add(b6);\n        p.add(b7);\n        p.add(b8);\n        p.add(b9);\n\n        frame.add(p);\n        frame.add(b1);\n        frame.add(b2);\n        frame.add(b3);\n        frame.add(b4);\n        frame.add(b5);\n        frame.add(b6);\n        frame.add(b7);\n        frame.add(b8);\n        frame.add(b9);\n    }\n</code></pre>\n\n<p>When ever I run this sometimes it works but other times it just opens the window with a whole button taking up the screen! Please Help!</p>\n"},{"tags":["java","pdf","pdfbox"],"owner":{"account_id":3898905,"reputation":1525,"user_id":3227213,"accept_rate":38,"display_name":"Abhijeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686288165,"creation_date":1686288165,"question_id":76437418,"body_markdown":"I&#39;m trying to remove the text that appears on an image in a PDF file. To accomplish this, I&#39;m using the pdfbox library to obtain the image and character coordinates. \r\n\r\nInitially, I attempted to retrieve the image coordinates using the code snippet provided below. Since the image coordinate system and text coordinate system differ in PDF files, I converted the image coordinates to the text coordinate system. However, I&#39;m uncertain about the accuracy of the conversion formula. I stored all the image coordinates in an array called &quot;coordinates&quot;.\r\n\r\n    @Override\r\n    protected void processOperator(Operator operator, List&lt;COSBase&gt; operands) throws IOException {\r\n        String operation = operator.getName();\r\n        if (&quot;Do&quot;.equals(operation)) {\r\n            COSName objectName = (COSName) operands.get(0);\r\n            PDXObject xobject = getResources().getXObject(objectName);\r\n            if (xobject instanceof PDImageXObject) {\r\n                PDImageXObject image = (PDImageXObject) xobject;\r\n                int imageWidth = image.getWidth();\r\n                int imageHeight = image.getHeight();\r\n                \r\n                // Print image information\r\n                System.out.println(&quot;\\nImage [&quot; + objectName.getName() + &quot;]&quot;);\r\n                \r\n                Matrix ctmNew = getGraphicsState().getCurrentTransformationMatrix();\r\n                float imageXScale = ctmNew.getScalingFactorX();\r\n                float imageYScale = ctmNew.getScalingFactorY();\r\n                \r\n                // Print position of image in the PDF in terms of user space units\r\n                System.out.println(&quot;position in PDF = &quot; + ctmNew.getTranslateX() + &quot;, &quot; + ctmNew.getTranslateY() + &quot; in user space units&quot;);\r\n                // Print raw size of the image in pixels\r\n                System.out.println(&quot;raw image size  = &quot; + imageWidth + &quot;, &quot; + imageHeight + &quot; in pixels&quot;);\r\n                // Print displayed size of the image in user space units\r\n                System.out.println(&quot;displayed size  = &quot; + imageXScale + &quot;, &quot; + imageYScale + &quot; in user space units&quot;);\r\n                \r\n                PDRectangle pdRectangle = getCurrentPage().getMediaBox();\r\n                int pageHeight = (int) pdRectangle.getHeight();\r\n                int pageWidth = (int) pdRectangle.getWidth();\r\n                \r\n                // Convert the image coordinates to text coordinates\r\n                int x1 = (int) (ctmNew.getTranslateX() + ctmNew.getShearX() - ctmNew.getScalingFactorX());\r\n                int x2 = (int) (ctmNew.getTranslateX() + imageWidth);\r\n                int y2 = (int) (pageHeight - ctmNew.getTranslateY());\r\n                int y1 = (int) (pageHeight - (ctmNew.getTranslateY() + ctmNew.getShearY() + imageHeight));\r\n                \r\n                Coordinate coordinate = new Coordinate(x1, y1, x2, y2, pageNum);\r\n                coordinates.add(coordinate);\r\n            } else if (xobject instanceof PDFormXObject) {\r\n                PDFormXObject form = (PDFormXObject) xobject;\r\n                showForm(form);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nLater, I obtained the character coordinates using the following code and checked if the character lies within the image coordinates.\r\n\r\n\r\n    @Override\r\n    \tprotected void processTextPosition(TextPosition text) \r\n    \t{\r\n    \t\tPDPage pdpage = getCurrentPage() ;\r\n    \t\tint pageno = getCurrentPageNo() ;\r\n    \t\tsuper.processTextPosition(text) ;\r\n    \r\n    \t\tPDColor pdcolor = getGraphicsState().getStrokingColor() ;\r\n    \t\tColor jcolor = null ;\r\n    \t\ttry {  jcolor = new Color(pdcolor.toRGB()) ;  } catch (IOException e) { e.printStackTrace() ; }\r\n    \t\tjcolor = jcolor == null ? Color.BLACK : jcolor ;\r\n    \t\tPColor fontcolor = new PColor(jcolor.getRed(), jcolor.getGreen(), jcolor.getBlue(), jcolor.getAlpha()) ;\r\n    \t\t\r\n    \t\tString unicode = text.getUnicode() ;\r\n    \t\t\r\n    \t\tfloat angle = text.getDir() ;\r\n    \t\tfloat x1 = text.getX() ;\r\n    \t\tfloat y1 = text.getY() ;\r\n    \t\tfloat height = text.getHeight() ;\r\n    \t\t// float height = ( text.getFont().getFontDescriptor().getCapHeight()) / 1000 * text.getFontSize() ;\r\n    \t\tfloat width = text.getUnicode().trim().equalsIgnoreCase(&quot;&quot;) ? text.getWidthOfSpace() : text.getWidth() ;\r\n    \t\tPDFont font = text.getFont() ;\r\n    \t\tfloat fontsize = text.getFontSize() ;\r\n    \t\tfloat ptfontsize = text.getFontSizeInPt() ;\r\n    \t\t\r\n    \t\tfloat x2 = x1 + width ;\r\n    \t\tfloat y2 = y1 + height ;\r\n    \t\t// System.out.println(&quot;Height=&quot; + height) ;\r\n    \t\t\r\n    \t\tString fontname = font.getFontDescriptor().getFontName().toUpperCase() ;\r\n    \t\tboolean bold = fontname.toUpperCase().contains(&quot;BOLD&quot;) ;\r\n    \t\tboolean italics = fontname.toUpperCase().contains(&quot;ITALIC&quot;) ;\r\n    \t\tfontname = fontname.replaceAll(&quot;BOLD&quot;, &quot;&quot;).replaceAll(&quot;ITALICS&quot;, &quot;&quot;).replaceAll(&quot;ITALIC&quot;, &quot;&quot;).replaceAll(&quot;REGULAR&quot;, &quot;&quot;).replaceAll(&quot;\\\\-&quot;, &quot;&quot;).trim().toUpperCase() ; \r\n    \t\t\r\n    \t\t\r\n    \t\tPPage page = pages().containsKey(pageno) ? pages().get(pageno) : null ;\r\n    \t\tif ( page == null )\r\n    \t\t\tpage = new PPage(0.0f, 0.0f, pdpage.getCropBox().getWidth(), pdpage.getCropBox().getHeight(), pageno, 0.0f, new PColor(255, 255, 255, 0), new ArrayList&lt;PCharacter&gt;()) ;\r\n    \t\t\r\n    \t\tPCharacter pchar = new PCharacter(pageno, angle, x1, y1, x2, y2, new PColor(255, 255, 255, 0), unicode, fontname, fontsize, ptfontsize, fontcolor, bold, italics, false, false) ;\r\n    \r\n    \r\n    \t\tboolean isPresentWithinCoordinate = PSVGReader.coordinates.stream().anyMatch(coordinate -&gt; x1 &gt;= coordinate.getX1()\r\n    \t\t\t\t&amp;&amp; x2&lt;=coordinate.getX2() &amp;&amp; y1 &gt;=coordinate.getY1()\r\n    \t\t\t\t&amp;&amp; y2 &lt;= coordinate.getY2() &amp;&amp; pageno == coordinate.getPageNo());\r\n    \r\n    \t\tif(!isPresentWithinCoordinate) {\r\n    \t\t\tpage.rawCharacters().add(pchar);\r\n    \t\t\tSystem.out.println(&quot;\\n pageno=&quot;+ pageno + &quot;  pchar=&quot;+ pchar + &quot; X1=&quot;+ x1 + &quot; X2=&quot; + x2 + &quot; Y1=&quot;+ y1 + &quot; Y2=&quot; + y2);\t\t\r\n    \t\t}else {\r\n    \t\t\tpage.rawCharacters().add(pchar) ;\r\n    \t\t}\r\n    \r\n    \t\tpages().put(pageno, page) ;\r\n    \r\n    \r\n    \t} \r\n\r\nHowever, I noticed that the character coordinates and image coordinates do not match. I suspect that my method of converting the image coordinates to the text coordinate system is incorrect. Could you please assist me in accurately converting the image coordinate system to the character coordinate system?","title":"How to get the image &amp; text coordinates of pdf with respect to page using pdfbox?","body":"<p>I'm trying to remove the text that appears on an image in a PDF file. To accomplish this, I'm using the pdfbox library to obtain the image and character coordinates.</p>\n<p>Initially, I attempted to retrieve the image coordinates using the code snippet provided below. Since the image coordinate system and text coordinate system differ in PDF files, I converted the image coordinates to the text coordinate system. However, I'm uncertain about the accuracy of the conversion formula. I stored all the image coordinates in an array called &quot;coordinates&quot;.</p>\n<pre><code>@Override\nprotected void processOperator(Operator operator, List&lt;COSBase&gt; operands) throws IOException {\n    String operation = operator.getName();\n    if (&quot;Do&quot;.equals(operation)) {\n        COSName objectName = (COSName) operands.get(0);\n        PDXObject xobject = getResources().getXObject(objectName);\n        if (xobject instanceof PDImageXObject) {\n            PDImageXObject image = (PDImageXObject) xobject;\n            int imageWidth = image.getWidth();\n            int imageHeight = image.getHeight();\n            \n            // Print image information\n            System.out.println(&quot;\\nImage [&quot; + objectName.getName() + &quot;]&quot;);\n            \n            Matrix ctmNew = getGraphicsState().getCurrentTransformationMatrix();\n            float imageXScale = ctmNew.getScalingFactorX();\n            float imageYScale = ctmNew.getScalingFactorY();\n            \n            // Print position of image in the PDF in terms of user space units\n            System.out.println(&quot;position in PDF = &quot; + ctmNew.getTranslateX() + &quot;, &quot; + ctmNew.getTranslateY() + &quot; in user space units&quot;);\n            // Print raw size of the image in pixels\n            System.out.println(&quot;raw image size  = &quot; + imageWidth + &quot;, &quot; + imageHeight + &quot; in pixels&quot;);\n            // Print displayed size of the image in user space units\n            System.out.println(&quot;displayed size  = &quot; + imageXScale + &quot;, &quot; + imageYScale + &quot; in user space units&quot;);\n            \n            PDRectangle pdRectangle = getCurrentPage().getMediaBox();\n            int pageHeight = (int) pdRectangle.getHeight();\n            int pageWidth = (int) pdRectangle.getWidth();\n            \n            // Convert the image coordinates to text coordinates\n            int x1 = (int) (ctmNew.getTranslateX() + ctmNew.getShearX() - ctmNew.getScalingFactorX());\n            int x2 = (int) (ctmNew.getTranslateX() + imageWidth);\n            int y2 = (int) (pageHeight - ctmNew.getTranslateY());\n            int y1 = (int) (pageHeight - (ctmNew.getTranslateY() + ctmNew.getShearY() + imageHeight));\n            \n            Coordinate coordinate = new Coordinate(x1, y1, x2, y2, pageNum);\n            coordinates.add(coordinate);\n        } else if (xobject instanceof PDFormXObject) {\n            PDFormXObject form = (PDFormXObject) xobject;\n            showForm(form);\n        }\n    }\n}\n</code></pre>\n<p>Later, I obtained the character coordinates using the following code and checked if the character lies within the image coordinates.</p>\n<pre><code>@Override\n    protected void processTextPosition(TextPosition text) \n    {\n        PDPage pdpage = getCurrentPage() ;\n        int pageno = getCurrentPageNo() ;\n        super.processTextPosition(text) ;\n\n        PDColor pdcolor = getGraphicsState().getStrokingColor() ;\n        Color jcolor = null ;\n        try {  jcolor = new Color(pdcolor.toRGB()) ;  } catch (IOException e) { e.printStackTrace() ; }\n        jcolor = jcolor == null ? Color.BLACK : jcolor ;\n        PColor fontcolor = new PColor(jcolor.getRed(), jcolor.getGreen(), jcolor.getBlue(), jcolor.getAlpha()) ;\n        \n        String unicode = text.getUnicode() ;\n        \n        float angle = text.getDir() ;\n        float x1 = text.getX() ;\n        float y1 = text.getY() ;\n        float height = text.getHeight() ;\n        // float height = ( text.getFont().getFontDescriptor().getCapHeight()) / 1000 * text.getFontSize() ;\n        float width = text.getUnicode().trim().equalsIgnoreCase(&quot;&quot;) ? text.getWidthOfSpace() : text.getWidth() ;\n        PDFont font = text.getFont() ;\n        float fontsize = text.getFontSize() ;\n        float ptfontsize = text.getFontSizeInPt() ;\n        \n        float x2 = x1 + width ;\n        float y2 = y1 + height ;\n        // System.out.println(&quot;Height=&quot; + height) ;\n        \n        String fontname = font.getFontDescriptor().getFontName().toUpperCase() ;\n        boolean bold = fontname.toUpperCase().contains(&quot;BOLD&quot;) ;\n        boolean italics = fontname.toUpperCase().contains(&quot;ITALIC&quot;) ;\n        fontname = fontname.replaceAll(&quot;BOLD&quot;, &quot;&quot;).replaceAll(&quot;ITALICS&quot;, &quot;&quot;).replaceAll(&quot;ITALIC&quot;, &quot;&quot;).replaceAll(&quot;REGULAR&quot;, &quot;&quot;).replaceAll(&quot;\\\\-&quot;, &quot;&quot;).trim().toUpperCase() ; \n        \n        \n        PPage page = pages().containsKey(pageno) ? pages().get(pageno) : null ;\n        if ( page == null )\n            page = new PPage(0.0f, 0.0f, pdpage.getCropBox().getWidth(), pdpage.getCropBox().getHeight(), pageno, 0.0f, new PColor(255, 255, 255, 0), new ArrayList&lt;PCharacter&gt;()) ;\n        \n        PCharacter pchar = new PCharacter(pageno, angle, x1, y1, x2, y2, new PColor(255, 255, 255, 0), unicode, fontname, fontsize, ptfontsize, fontcolor, bold, italics, false, false) ;\n\n\n        boolean isPresentWithinCoordinate = PSVGReader.coordinates.stream().anyMatch(coordinate -&gt; x1 &gt;= coordinate.getX1()\n                &amp;&amp; x2&lt;=coordinate.getX2() &amp;&amp; y1 &gt;=coordinate.getY1()\n                &amp;&amp; y2 &lt;= coordinate.getY2() &amp;&amp; pageno == coordinate.getPageNo());\n\n        if(!isPresentWithinCoordinate) {\n            page.rawCharacters().add(pchar);\n            System.out.println(&quot;\\n pageno=&quot;+ pageno + &quot;  pchar=&quot;+ pchar + &quot; X1=&quot;+ x1 + &quot; X2=&quot; + x2 + &quot; Y1=&quot;+ y1 + &quot; Y2=&quot; + y2);     \n        }else {\n            page.rawCharacters().add(pchar) ;\n        }\n\n        pages().put(pageno, page) ;\n\n\n    } \n</code></pre>\n<p>However, I noticed that the character coordinates and image coordinates do not match. I suspect that my method of converting the image coordinates to the text coordinate system is incorrect. Could you please assist me in accurately converting the image coordinate system to the character coordinate system?</p>\n"},{"tags":["java","interface","static-methods"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1686254991,"post_id":76435230,"comment_id":134777803,"body_markdown":"The object you store in there is not &#39;an interface&#39;. The __variable type__ is, but an object obviously cannot possibly be (`new SomeInterface()` is not legal java). The mutable state-ness of an object and &#39;its type implements at least one interface&#39; are completely unrelated. The warning is fair, you should heed it or intentionally choose to ignore it. &quot;It implements an interface&quot; is entirely irrelevant.","body":"The object you store in there is not &#39;an interface&#39;. The <b>variable type</b> is, but an object obviously cannot possibly be (<code>new SomeInterface()</code> is not legal java). The mutable state-ness of an object and &#39;its type implements at least one interface&#39; are completely unrelated. The warning is fair, you should heed it or intentionally choose to ignore it. &quot;It implements an interface&quot; is entirely irrelevant."}],"owner":{"account_id":20544317,"reputation":3,"user_id":21406289,"display_name":"Luisian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686287724,"creation_date":1686253459,"question_id":76435230,"body_markdown":"There is some legacy code.. The class A has a static field, and a static method in which it&#39;s nesessary to assign a value to a static variable. spotbugs advises to store a copy of the object, not the object itself.\r\nBut what if the variable type being assigned is an interface?\r\n\r\nCalling a static method of class A comes from the constructor of class C\r\n\r\n```\r\npublic class A {\r\n\r\n  private static SomeInterface someInterface;\r\n\r\n  public static void setSomeInterface(SomeInterface someInterface) {\r\n        A.someInterface = someInterface;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic interface SomeInterface { \r\n\r\n  ...\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class B implements SomeInterface {\r\n\r\n  ...\r\n\r\n} \r\n```\r\n\r\n```\r\npublic class C { \r\n\r\n  public C(final SomeInterface someInterface) {\r\n\r\n    A.setSomeInterface(someInterface);\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nIf it were a class rather than an interface, I could instantiate the object and assign the value of the reference to it, but the input parameter is the interface.\r\n\r\nI tried to mark the static method with synchronized, but the bug is still there.\r\nI tried to implement interfaces cloneable and override the clone method in class B also, but i think this is not good idea.\r\n\r\n\r\n```\r\npublic class A {\r\n\r\n  private static SomeInterface someInterface;\r\n\r\n  public static void setSomeInterface(SomeInterface someInterface) {\r\n        A.someInterface = someInterface.makeClone();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic interface SomeInterface { \r\n\r\n  ...\r\n\r\n  SomeInterface  makeClone();\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class B implements SomeInterface, Clonable {\r\n\r\n  ...\r\n\r\n  @Override\r\n  public SomeInterface makeClone() {\r\n      return clone();\r\n  }\r\n\r\n  @Override\r\n  public B clone() {\r\n      try {\r\n          return (B) super.clone();\r\n      } catch (CloneNotSupportedException e) {\r\n          throw new AssertionError();\r\n      }\r\n  }\r\n\r\n} \r\n```\r\n\r\nWhat would you advise?\r\n","title":"May expose internal static state by storing a mutable object into a static field","body":"<p>There is some legacy code.. The class A has a static field, and a static method in which it's nesessary to assign a value to a static variable. spotbugs advises to store a copy of the object, not the object itself.\nBut what if the variable type being assigned is an interface?</p>\n<p>Calling a static method of class A comes from the constructor of class C</p>\n<pre><code>public class A {\n\n  private static SomeInterface someInterface;\n\n  public static void setSomeInterface(SomeInterface someInterface) {\n        A.someInterface = someInterface;\n    }\n\n}\n</code></pre>\n<pre><code>public interface SomeInterface { \n\n  ...\n\n}\n</code></pre>\n<pre><code>public class B implements SomeInterface {\n\n  ...\n\n} \n</code></pre>\n<pre><code>public class C { \n\n  public C(final SomeInterface someInterface) {\n\n    A.setSomeInterface(someInterface);\n\n  }\n\n}\n</code></pre>\n<p>If it were a class rather than an interface, I could instantiate the object and assign the value of the reference to it, but the input parameter is the interface.</p>\n<p>I tried to mark the static method with synchronized, but the bug is still there.\nI tried to implement interfaces cloneable and override the clone method in class B also, but i think this is not good idea.</p>\n<pre><code>public class A {\n\n  private static SomeInterface someInterface;\n\n  public static void setSomeInterface(SomeInterface someInterface) {\n        A.someInterface = someInterface.makeClone();\n    }\n\n}\n</code></pre>\n<pre><code>public interface SomeInterface { \n\n  ...\n\n  SomeInterface  makeClone();\n\n}\n</code></pre>\n<pre><code>public class B implements SomeInterface, Clonable {\n\n  ...\n\n  @Override\n  public SomeInterface makeClone() {\n      return clone();\n  }\n\n  @Override\n  public B clone() {\n      try {\n          return (B) super.clone();\n      } catch (CloneNotSupportedException e) {\n          throw new AssertionError();\n      }\n  }\n\n} \n</code></pre>\n<p>What would you advise?</p>\n"},{"tags":["java","networking","multicast"],"comments":[{"owner":{"account_id":1839599,"reputation":209304,"user_id":1687119,"accept_rate":75,"display_name":"dbush"},"score":0,"creation_date":1686490063,"post_id":76437388,"comment_id":134802564,"body_markdown":"Rather than code snippets, please show a [mcve].  Also, the stack trace you show is incomplete.  Please show the *entire* error message.","body":"Rather than code snippets, please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Also, the stack trace you show is incomplete.  Please show the <i>entire</i> error message."},{"owner":{"account_id":1709870,"reputation":4053,"user_id":1568138,"display_name":"Daniel"},"score":0,"creation_date":1689936519,"post_id":76437388,"comment_id":135286937,"body_markdown":"What @dbush said and do you really want to join the group `224.0.0.1`, which is [reserved](https://www.iana.org/assignments/multicast-addresses/multicast-addresses.xhtml#multicast-addresses-1)? Even though your port might not clash with other traffic. Moreover, which network interface are you trying to bind to? Your problem might be related to the program binding to an interface not eligible for multicast. In any case, more information is needed.","body":"What @dbush said and do you really want to join the group <code>224.0.0.1</code>, which is <a href=\"https://www.iana.org/assignments/multicast-addresses/multicast-addresses.xhtml#multicast-addresses-1\" rel=\"nofollow noreferrer\">reserved</a>? Even though your port might not clash with other traffic. Moreover, which network interface are you trying to bind to? Your problem might be related to the program binding to an interface not eligible for multicast. In any case, more information is needed."}],"owner":{"account_id":5028983,"reputation":553,"user_id":14561199,"display_name":"Akila Uyanwatta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686287450,"creation_date":1686287450,"question_id":76437388,"body_markdown":"I get the following exception whem I&#39;m joining a multicast group using Java\r\n\r\n```Caused by: java.net.SocketException: error setting options\r\nat java.net.TwoStacksPlainDatagramSocketImpl.join(Native Method) ~[?:1.8.0_211]\r\nat java.net.AbstractPlainDatagramSocketImpl.join(AbstractPlainDatagramSocketImpl.java:178) ~[?:1.8.0_211]\r\nat java.net.MulticastSocket.joinGroup(MulticastSocket.java:323) ~[?:1.8.0_211]\r\n```\r\n\r\nThis feature worked earlier but suddenly stopped working \r\n\r\n**My code**\r\n- Variables\r\n```/** address to broadcast over */\r\nprivate String address = null;\r\n\r\n/** group */\r\nprivate InetAddress group = null;\r\n\t\r\n/** port to broadcast over */\r\nprivate int port = -1;\r\n\r\n/** connected multicast socket */\r\nMulticastSocket socket = null;\r\n```\r\n\r\n- Attempting to join\r\n\r\n```\r\n\r\ngroup = InetAddress.getByName(address);\r\nsocket = new MulticastSocket(port);\r\nsocket.joinGroup(group);\r\n```\r\n\r\n- Values\r\n\r\n  port = 4580\r\n\r\n  address = 224.0.0.1\r\n\r\n**Specs**\r\n\r\n- \\-OS - Windows 10 Home\r\n- \\-OS version - 10.0.19044 Build 19044\r\n- \\-Ram - 40GB (32GB + 8GB)\r\n- \\-Processor - i7-10510U\r\n- \\-Java version - 1.8.0_211\r\n- \\-IDE - Eclipse\r\n- \\-IDE Version - 2021-03 (4.19.0)\r\n- \\-IDE Build id - 20210312-0638\r\n- \\-Tomcat version - 9.0\r\n\r\nI have tried following things to resolve the issue\r\n\r\n- Added `-Djava.net.preferIPv4Stack=true` to JVM\r\n- Added `System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;true&quot;);` to my code\r\n- Disconnecting my laptop from the internet\r\n\r\n**Other information**\r\nI have VM wear and wireshark installed (not sure if they affect the behaviour). This exact code worked fine for months even with those programs\r\n","title":"java.net.SocketException: error setting options when setting up multicast on Windows","body":"<p>I get the following exception whem I'm joining a multicast group using Java</p>\n<pre><code>at java.net.TwoStacksPlainDatagramSocketImpl.join(Native Method) ~[?:1.8.0_211]\nat java.net.AbstractPlainDatagramSocketImpl.join(AbstractPlainDatagramSocketImpl.java:178) ~[?:1.8.0_211]\nat java.net.MulticastSocket.joinGroup(MulticastSocket.java:323) ~[?:1.8.0_211]\n</code></pre>\n<p>This feature worked earlier but suddenly stopped working</p>\n<p><strong>My code</strong></p>\n<ul>\n<li>Variables</li>\n</ul>\n<pre><code>private String address = null;\n\n/** group */\nprivate InetAddress group = null;\n    \n/** port to broadcast over */\nprivate int port = -1;\n\n/** connected multicast socket */\nMulticastSocket socket = null;\n</code></pre>\n<ul>\n<li>Attempting to join</li>\n</ul>\n<pre><code>\ngroup = InetAddress.getByName(address);\nsocket = new MulticastSocket(port);\nsocket.joinGroup(group);\n</code></pre>\n<ul>\n<li><p>Values</p>\n<p>port = 4580</p>\n<p>address = 224.0.0.1</p>\n</li>\n</ul>\n<p><strong>Specs</strong></p>\n<ul>\n<li>-OS - Windows 10 Home</li>\n<li>-OS version - 10.0.19044 Build 19044</li>\n<li>-Ram - 40GB (32GB + 8GB)</li>\n<li>-Processor - i7-10510U</li>\n<li>-Java version - 1.8.0_211</li>\n<li>-IDE - Eclipse</li>\n<li>-IDE Version - 2021-03 (4.19.0)</li>\n<li>-IDE Build id - 20210312-0638</li>\n<li>-Tomcat version - 9.0</li>\n</ul>\n<p>I have tried following things to resolve the issue</p>\n<ul>\n<li>Added <code>-Djava.net.preferIPv4Stack=true</code> to JVM</li>\n<li>Added <code>System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;true&quot;);</code> to my code</li>\n<li>Disconnecting my laptop from the internet</li>\n</ul>\n<p><strong>Other information</strong>\nI have VM wear and wireshark installed (not sure if they affect the behaviour). This exact code worked fine for months even with those programs</p>\n"},{"tags":["java","string","mybatis"],"owner":{"account_id":14115569,"reputation":1,"user_id":10681926,"display_name":"Dehedero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686287127,"creation_date":1686280418,"question_id":76436979,"body_markdown":"Im getting several rows, from my query result, which consist of several column values, some column values are string type, other is Long. I want all of them in string map, but getting class cast exception. Long cant be casted to String.\r\n\r\n    &lt;select id=&quot;someId&quot; resultType=&quot;HashMap&quot;&gt;\r\n\r\nand\r\n\r\n    LinkedList&lt;HashMap&lt;String, String&gt;&gt; someId(@Param(&quot;clientsIdsStr&quot;) String clientsIdsStr);\r\n\r\nI want to get all the columns values as string values in a result HashMap, how can i achieve it?\r\n\r\n[This is what returned map contains][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LxEw9.png","title":"Is it possible to autoconvert all values that mybatis get from db to strings?","body":"<p>Im getting several rows, from my query result, which consist of several column values, some column values are string type, other is Long. I want all of them in string map, but getting class cast exception. Long cant be casted to String.</p>\n<pre><code>&lt;select id=&quot;someId&quot; resultType=&quot;HashMap&quot;&gt;\n</code></pre>\n<p>and</p>\n<pre><code>LinkedList&lt;HashMap&lt;String, String&gt;&gt; someId(@Param(&quot;clientsIdsStr&quot;) String clientsIdsStr);\n</code></pre>\n<p>I want to get all the columns values as string values in a result HashMap, how can i achieve it?</p>\n<p><a href=\"https://i.stack.imgur.com/LxEw9.png\" rel=\"nofollow noreferrer\">This is what returned map contains</a></p>\n"},{"tags":["java","eclipse","junit5"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1535449266,"post_id":52054577,"comment_id":91059592,"body_markdown":"Can you tell if the result says no tests were skipped? It should be working as desired but maybe it looks like the disabled test was executed. When I run a test class containing one disabled of **n** test cases, the result looks like **Runs: n/n (1 skipped)**","body":"Can you tell if the result says no tests were skipped? It should be working as desired but maybe it looks like the disabled test was executed. When I run a test class containing one disabled of <b>n</b> test cases, the result looks like <b>Runs: n/n (1 skipped)</b>"},{"owner":{"account_id":10199714,"reputation":822,"user_id":7530402,"display_name":"staszko032"},"score":0,"creation_date":1535451316,"post_id":52054577,"comment_id":91060869,"body_markdown":"Tested with maven 3.5.3 and junit-jupiter-engine 5.0.1, works fine, test is skipped.","body":"Tested with maven 3.5.3 and junit-jupiter-engine 5.0.1, works fine, test is skipped."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1535452584,"post_id":52054577,"comment_id":91061686,"body_markdown":"@staszko032 can you please paste your POM configuration? Probably I&#39;m missing something.","body":"@staszko032 can you please paste your POM configuration? Probably I&#39;m missing something."},{"owner":{"account_id":10199714,"reputation":822,"user_id":7530402,"display_name":"staszko032"},"score":0,"creation_date":1535452975,"post_id":52054577,"comment_id":91061942,"body_markdown":"Before that, could you check if you configure maven-surefire-plugin in POM?","body":"Before that, could you check if you configure maven-surefire-plugin in POM?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1535453240,"post_id":52054577,"comment_id":91062118,"body_markdown":"Yes - I was missing maven-surefire-plugin in POM. Thanks!","body":"Yes - I was missing maven-surefire-plugin in POM. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":10199714,"reputation":822,"user_id":7530402,"display_name":"staszko032"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1535453328,"creation_date":1535453328,"answer_id":52056043,"question_id":52054577,"body_markdown":"Check your configuration of surefire plugin for junit-jupiter-engine dependency. I am not sure, but I believe it should be configured in order to load all features from engine artifact, including Disabled annotation.\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                        &lt;version&gt;${junit.platform.surefire.provider.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                        &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;","title":"@Disabled is not working in JUnit5","body":"<p>Check your configuration of surefire plugin for junit-jupiter-engine dependency. I am not sure, but I believe it should be configured in order to load all features from engine artifact, including Disabled annotation.</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                    &lt;version&gt;${junit.platform.surefire.provider.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                    &lt;version&gt;${junit.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9940511,"reputation":595,"user_id":7357291,"display_name":"Jens Vagts"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1556271707,"creation_date":1556271707,"answer_id":55864867,"question_id":52054577,"body_markdown":"This is caused by incompatibilities betweeen ``maven-surefire-plugin`` and ``junit5``. Your either have to define a version with at least ``2.22.0`` for the ``maven-surefire-plugin`` (see [codefx blog - junit 5 setup][1]) or just use maven ``3.6.0``.\r\nAdditionally you have to have the dependency to the jupiter-engine defined as already stated in the very first lines of this question above:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n       &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n       &lt;version&gt;5.4.0&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you defined a dependency to the artifact ``junit-jupiter-api`` only, which is sufficient to get the test compiled and run with junit5, the ``@Disabled`` annotation will be silently ignored and the particular test will get run as well.\r\n\r\n\r\n  [1]: https://blog.codefx.org/libraries/junit-5-setup/","title":"@Disabled is not working in JUnit5","body":"<p>This is caused by incompatibilities betweeen <code>maven-surefire-plugin</code> and <code>junit5</code>. Your either have to define a version with at least <code>2.22.0</code> for the <code>maven-surefire-plugin</code> (see <a href=\"https://blog.codefx.org/libraries/junit-5-setup/\" rel=\"noreferrer\">codefx blog - junit 5 setup</a>) or just use maven <code>3.6.0</code>.\nAdditionally you have to have the dependency to the jupiter-engine defined as already stated in the very first lines of this question above:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n   &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n   &lt;version&gt;5.4.0&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you defined a dependency to the artifact <code>junit-jupiter-api</code> only, which is sufficient to get the test compiled and run with junit5, the <code>@Disabled</code> annotation will be silently ignored and the particular test will get run as well.</p>\n"},{"tags":[],"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572103955,"creation_date":1572103955,"answer_id":58572192,"question_id":52054577,"body_markdown":"@staszko032\r\nThe xml code in POM you described is the era of 2018. In 2019 we adopted JUnit5 provider to Apache project and the code https://stackoverflow.com/a/52056043/2758738 is no more legal.\r\n\r\n@Jens Vagts\r\nThere are no incompatibilities between JUnit5 and Surefire/Failsafe because Apache plugin uses JUnit5 platform launcher which does all this trick.Surefire and Failsafe plugin does not execute your tests. So there is nothing to be incompatible, since all the work is done by JUnit5 engines and not plugin&#39;s code. It is the real engine defined in your POM which executes the tests. The plugin only triggers the engine which does all the work and sends the events back to plugin.\r\n\r\nPlease see Apache documentation:\r\n\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\r\n\r\nhttps://maven.apache.org/surefire/maven-failsafe-plugin/examples/junit-platform.html","title":"@Disabled is not working in JUnit5","body":"<p>@staszko032\nThe xml code in POM you described is the era of 2018. In 2019 we adopted JUnit5 provider to Apache project and the code <a href=\"https://stackoverflow.com/a/52056043/2758738\">https://stackoverflow.com/a/52056043/2758738</a> is no more legal.</p>\n\n<p>@Jens Vagts\nThere are no incompatibilities between JUnit5 and Surefire/Failsafe because Apache plugin uses JUnit5 platform launcher which does all this trick.Surefire and Failsafe plugin does not execute your tests. So there is nothing to be incompatible, since all the work is done by JUnit5 engines and not plugin's code. It is the real engine defined in your POM which executes the tests. The plugin only triggers the engine which does all the work and sends the events back to plugin.</p>\n\n<p>Please see Apache documentation:</p>\n\n<p><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html</a></p>\n\n<p><a href=\"https://maven.apache.org/surefire/maven-failsafe-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-failsafe-plugin/examples/junit-platform.html</a></p>\n"},{"tags":[],"owner":{"account_id":3965245,"reputation":4105,"user_id":3271406,"accept_rate":25,"display_name":"lu_ko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670330994,"creation_date":1670330994,"answer_id":74702831,"question_id":52054577,"body_markdown":"Maybe check if Jupiter conditions (`@Disabled` in your case) are deactivated via configuration parameter `junit.jupiter.conditions.deactivate`.\r\n\r\nPlease see JUnit5 documentation for more details: https://junit.org/junit5/docs/current/user-guide/#extensions-conditions-deactivation","title":"@Disabled is not working in JUnit5","body":"<p>Maybe check if Jupiter conditions (<code>@Disabled</code> in your case) are deactivated via configuration parameter <code>junit.jupiter.conditions.deactivate</code>.</p>\n<p>Please see JUnit5 documentation for more details: <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-conditions-deactivation\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#extensions-conditions-deactivation</a></p>\n"},{"tags":[],"owner":{"account_id":8625831,"reputation":720,"user_id":6459098,"display_name":"U_R_Naveen UR_Naveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686285109,"creation_date":1686285109,"answer_id":76437226,"question_id":52054577,"body_markdown":"this might be problem with improper imports. i solved it by removing all junit import statements and re-imported all junit classes properly.","title":"@Disabled is not working in JUnit5","body":"<p>this might be problem with improper imports. i solved it by removing all junit import statements and re-imported all junit classes properly.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12793,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1686285109,"creation_date":1535448736,"question_id":52054577,"body_markdown":"I want to use Junit 5 in Maven project:\r\n\r\n   \r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.2.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI want currently to disable the test:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Disabled;\r\n    \r\n    import static java.util.stream.Collectors.joining;\r\n    import static java.util.stream.Collectors.toMap;\r\n    \r\n    @Disabled\r\n    public class DatabaseFeaturesBitStringTest {\r\n        .... \r\n    }\r\n\r\nBut it&#39;s not working. Tests are executed after mvn clean build. Can you advise what I&#39;m missing?","title":"@Disabled is not working in JUnit5","body":"<p>I want to use Junit 5 in Maven project:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I want currently to disable the test:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Disabled;\n\nimport static java.util.stream.Collectors.joining;\nimport static java.util.stream.Collectors.toMap;\n\n@Disabled\npublic class DatabaseFeaturesBitStringTest {\n    .... \n}\n</code></pre>\n\n<p>But it's not working. Tests are executed after mvn clean build. Can you advise what I'm missing?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1686034603,"post_id":76412115,"comment_id":134739930,"body_markdown":"store your patterns in a map. Pattern is the key, link to solution is the value. iterate over it, to find the first match","body":"store your patterns in a map. Pattern is the key, link to solution is the value. iterate over it, to find the first match"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686034660,"post_id":76412115,"comment_id":134739942,"body_markdown":"Switch to Kotlin and use `when` ;-)","body":"Switch to Kotlin and use <code>when</code> ;-)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1686034715,"post_id":76412115,"comment_id":134739952,"body_markdown":"As an aside, `if(mat.matches())` is more idiomatic and less error-prone than `if(mat.matches() == true)`.","body":"As an aside, <code>if(mat.matches())</code> is more idiomatic and less error-prone than <code>if(mat.matches() == true)</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686044164,"post_id":76412115,"comment_id":134741802,"body_markdown":"`switch(str) { case &quot;abc&quot;: … case &quot;def&quot;: … case &quot;ghi&quot;: … }` What is “parsing the string before evaluating” supposed to mean?","body":"<code>switch(str) { case &quot;abc&quot;: … case &quot;def&quot;: … case &quot;ghi&quot;: … }</code> What is “parsing the string before evaluating” supposed to mean?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686283946,"creation_date":1686283946,"answer_id":76437158,"question_id":76412115,"body_markdown":"You can use a more complex regular expression.\r\n\r\nTo match more than one set of characters, you can use the _|_, vertical-bar character.\r\n\r\n_[Wikipedia &amp;ndash; Regular expression &amp;ndash; POSIX extended](https://en.wikipedia.org/wiki/Regular_expression#POSIX_extended)_.\r\n\r\n&gt; _&quot;The choice (also known as alternation or set union) operator matches either the expression before or the expression after the operator. For example, abc|def matches &quot;abc&quot; or &quot;def&quot;.&quot;_\r\n\r\n```java\r\nString string = &quot;whatever&quot;;\r\nPattern pattern = Pattern.compile(&quot;abc|def|ghi&quot;);\r\nMatcher matcher = pattern.matcher(string);\r\nif (matcher.find()) System.out.println(&quot;matched:  &quot; + matcher.group());\r\n```\r\n\r\nFurthermore, if you have an array of strings, you can utilize the _[String#join](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...))_ method to concatenate them, by a vertical-bar character.\r\n\r\n```java\r\nString string = &quot;whatever&quot;;\r\nString[] strings = {\r\n    &quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jkl&quot;, &quot;mno&quot;, &quot;pqr&quot;, &quot;stu&quot;, &quot;vwx&quot;, &quot;yz&quot;\r\n};\r\nPattern pattern = Pattern.compile(String.join(&quot;|&quot;, strings));\r\nMatcher matcher = pattern.matcher(string);\r\nif (matcher.find()) System.out.println(&quot;matched:  &quot; + matcher.group());\r\n```","title":"How to design a cascading regex matching the best way?","body":"<p>You can use a more complex regular expression.</p>\n<p>To match more than one set of characters, you can use the <em>|</em>, vertical-bar character.</p>\n<p><em><a href=\"https://en.wikipedia.org/wiki/Regular_expression#POSIX_extended\" rel=\"nofollow noreferrer\">Wikipedia – Regular expression – POSIX extended</a></em>.</p>\n<blockquote>\n<p><em>&quot;The choice (also known as alternation or set union) operator matches either the expression before or the expression after the operator. For example, abc|def matches &quot;abc&quot; or &quot;def&quot;.&quot;</em></p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;whatever&quot;;\nPattern pattern = Pattern.compile(&quot;abc|def|ghi&quot;);\nMatcher matcher = pattern.matcher(string);\nif (matcher.find()) System.out.println(&quot;matched:  &quot; + matcher.group());\n</code></pre>\n<p>Furthermore, if you have an array of strings, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\">String#join</a></em> method to concatenate them, by a vertical-bar character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;whatever&quot;;\nString[] strings = {\n    &quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jkl&quot;, &quot;mno&quot;, &quot;pqr&quot;, &quot;stu&quot;, &quot;vwx&quot;, &quot;yz&quot;\n};\nPattern pattern = Pattern.compile(String.join(&quot;|&quot;, strings));\nMatcher matcher = pattern.matcher(string);\nif (matcher.find()) System.out.println(&quot;matched:  &quot; + matcher.group());\n</code></pre>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686283946,"creation_date":1686034486,"question_id":76412115,"body_markdown":"I think there must be a better design for something like this.\r\n\r\n    Pattern pat1 = Pattern.compile (&quot;abc&quot;);\r\n    Pattern pat2 = Pattern.compile (&quot;def&quot;);\r\n    Pattern pat3 = Pattern.compile (&quot;ghi&quot;);\r\n    \r\n    String str = &quot;whatever&quot;;\r\n    \r\n    Matcher mat = pat1.matcher (str);\r\n    if (mat.matches () == true)\r\n    {\r\n    \t// ...\r\n    }\r\n    else\r\n    {\r\n    \tmat = pat2.matcher (str);\r\n    \tif (mat.matches () == true)\r\n    \t{\r\n    \t\t// ...\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\tmat = pat3.matcher (str);\r\n    \t\tif (mat.matches () == true)\r\n    \t\t{\r\n    \t\t\t...\r\n\r\nI do not like the nested ifs at all.\r\n\r\nBut I also try to avaid parsing the string for every pattern BEFORE evaluating it because of performance/efficiency.\r\n\r\nAny idea how to make this more pretty/elegant?\r\n\r\n","title":"How to design a cascading regex matching the best way?","body":"<p>I think there must be a better design for something like this.</p>\n<pre><code>Pattern pat1 = Pattern.compile (&quot;abc&quot;);\nPattern pat2 = Pattern.compile (&quot;def&quot;);\nPattern pat3 = Pattern.compile (&quot;ghi&quot;);\n\nString str = &quot;whatever&quot;;\n\nMatcher mat = pat1.matcher (str);\nif (mat.matches () == true)\n{\n    // ...\n}\nelse\n{\n    mat = pat2.matcher (str);\n    if (mat.matches () == true)\n    {\n        // ...\n    }\n    else\n    {\n        mat = pat3.matcher (str);\n        if (mat.matches () == true)\n        {\n            ...\n</code></pre>\n<p>I do not like the nested ifs at all.</p>\n<p>But I also try to avaid parsing the string for every pattern BEFORE evaluating it because of performance/efficiency.</p>\n<p>Any idea how to make this more pretty/elegant?</p>\n"},{"tags":["java","xlsx","xssf"],"answers":[{"tags":[],"owner":{"account_id":1428147,"reputation":667,"user_id":1351175,"accept_rate":100,"display_name":"betatester07"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1467240887,"creation_date":1467240887,"answer_id":38111348,"question_id":37724642,"body_markdown":"## PROBLEM ##\r\n\r\nThe problem could lie in MS Excel itself (once you are sure that all formulas were calculated and saved in the .xlsx file). According to my testing, Excel will recalculate all formulas during opening if it finds out that the file was last saved by older version of Excel or other application (the point is that the version numbers doesn&#39;t match and/or are lower than current version of Excel opening the file) to maintain good compatibility.\r\n\r\n\r\n## SOLUTION ##\r\n\r\n(making Excel think that the .xlsx file was generated by the same Excel version to avoid recalculation)\r\n\r\nExcel reads all file versioning info from `workbook.xml` file located in `xl` directory inside .xlsx archive (.xlsx is just a zipped archive).\r\n\r\nworkbook.xml file generated by Apache POI could look like this:\r\n\r\n    &lt;workbook xmlns=&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot; xmlns:r=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships&quot;&gt;\r\n      &lt;workbookPr date1904=&quot;false&quot;/&gt;\r\n      &lt;bookViews&gt;&lt;workbookView activeTab=&quot;0&quot;/&gt;&lt;/bookViews&gt;\r\n      &lt;sheets&gt;\r\n        &lt;sheet name=&quot;new sheet&quot; r:id=&quot;rId3&quot; sheetId=&quot;1&quot;/&gt;\r\n      &lt;/sheets&gt;\r\n      &lt;calcPr calcId=&quot;0&quot;/&gt;\r\n    &lt;/workbook&gt;\r\n\r\nThe file generated by Excel 2010 looks like this:\r\n\r\n    &lt;workbook xmlns=&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot; xmlns:r=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships&quot;&gt;\r\n      &lt;fileVersion appName=&quot;xl&quot; lastEdited=&quot;5&quot; lowestEdited=&quot;5&quot; rupBuild=&quot;9303&quot;/&gt;\r\n      &lt;workbookPr defaultThemeVersion=&quot;124226&quot;/&gt;\r\n      &lt;bookViews&gt;&lt;workbookView xWindow=&quot;630&quot; yWindow=&quot;510&quot; windowWidth=&quot;27495&quot; windowHeight=&quot;14505&quot;/&gt;&lt;/bookViews&gt;\r\n      &lt;sheets&gt;\r\n        &lt;sheet name=&quot;new sheet&quot; sheetId=&quot;1&quot; r:id=&quot;rId1&quot;/&gt;\r\n      &lt;/sheets&gt;\r\n      &lt;calcPr calcId=&quot;145621&quot;/&gt;\r\n    &lt;/workbook&gt;\r\n\r\nNotice the `&lt;fileVersion&gt;` tag completely missing in POI generated file and `&lt;calcPr&gt;` tag with `calcId` set to some real value in Excel generated file. \r\n\r\n**I was able to avoid Excel 2010 automatic formula recalculation (and annoying &quot;Save changes&quot; dialog) by inserting correlated `&lt;fileVersion&gt;` tag and setting `calcId` to equal or greater number than the number generated by my current version of Excel to the `workbook.xml` generated by POI.**\r\n\r\nMore information regarding the `workbook.xml` format can be found on [MSDN  Open XML SDK documentation][1].\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/documentformat.openxml.spreadsheet.fileversion(v=office.14).aspx","title":"How to get rid of &quot;Save changes?&quot; prompt on xlsx-files created with Apache POI XSSF","body":"<h2>PROBLEM</h2>\n\n<p>The problem could lie in MS Excel itself (once you are sure that all formulas were calculated and saved in the .xlsx file). According to my testing, Excel will recalculate all formulas during opening if it finds out that the file was last saved by older version of Excel or other application (the point is that the version numbers doesn't match and/or are lower than current version of Excel opening the file) to maintain good compatibility.</p>\n\n<h2>SOLUTION</h2>\n\n<p>(making Excel think that the .xlsx file was generated by the same Excel version to avoid recalculation)</p>\n\n<p>Excel reads all file versioning info from <code>workbook.xml</code> file located in <code>xl</code> directory inside .xlsx archive (.xlsx is just a zipped archive).</p>\n\n<p>workbook.xml file generated by Apache POI could look like this:</p>\n\n<pre><code>&lt;workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\"&gt;\n  &lt;workbookPr date1904=\"false\"/&gt;\n  &lt;bookViews&gt;&lt;workbookView activeTab=\"0\"/&gt;&lt;/bookViews&gt;\n  &lt;sheets&gt;\n    &lt;sheet name=\"new sheet\" r:id=\"rId3\" sheetId=\"1\"/&gt;\n  &lt;/sheets&gt;\n  &lt;calcPr calcId=\"0\"/&gt;\n&lt;/workbook&gt;\n</code></pre>\n\n<p>The file generated by Excel 2010 looks like this:</p>\n\n<pre><code>&lt;workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\"&gt;\n  &lt;fileVersion appName=\"xl\" lastEdited=\"5\" lowestEdited=\"5\" rupBuild=\"9303\"/&gt;\n  &lt;workbookPr defaultThemeVersion=\"124226\"/&gt;\n  &lt;bookViews&gt;&lt;workbookView xWindow=\"630\" yWindow=\"510\" windowWidth=\"27495\" windowHeight=\"14505\"/&gt;&lt;/bookViews&gt;\n  &lt;sheets&gt;\n    &lt;sheet name=\"new sheet\" sheetId=\"1\" r:id=\"rId1\"/&gt;\n  &lt;/sheets&gt;\n  &lt;calcPr calcId=\"145621\"/&gt;\n&lt;/workbook&gt;\n</code></pre>\n\n<p>Notice the <code>&lt;fileVersion&gt;</code> tag completely missing in POI generated file and <code>&lt;calcPr&gt;</code> tag with <code>calcId</code> set to some real value in Excel generated file. </p>\n\n<p><strong>I was able to avoid Excel 2010 automatic formula recalculation (and annoying \"Save changes\" dialog) by inserting correlated <code>&lt;fileVersion&gt;</code> tag and setting <code>calcId</code> to equal or greater number than the number generated by my current version of Excel to the <code>workbook.xml</code> generated by POI.</strong></p>\n\n<p>More information regarding the <code>workbook.xml</code> format can be found on <a href=\"https://msdn.microsoft.com/en-us/library/documentformat.openxml.spreadsheet.fileversion(v=office.14).aspx\" rel=\"nofollow\">MSDN  Open XML SDK documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":3775094,"reputation":248,"user_id":3136136,"accept_rate":0,"display_name":"Raghav2580"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476336718,"creation_date":1476335983,"answer_id":40012851,"question_id":37724642,"body_markdown":"Even I was facing the same issue but after adding the below line, the issue has been resolved.\r\n\r\n    wb.getCreationHelper().createFormulaEvaluator().evaluateAll();","title":"How to get rid of &quot;Save changes?&quot; prompt on xlsx-files created with Apache POI XSSF","body":"<p>Even I was facing the same issue but after adding the below line, the issue has been resolved.</p>\n\n<pre><code>wb.getCreationHelper().createFormulaEvaluator().evaluateAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652085212,"creation_date":1651761342,"answer_id":72129008,"question_id":37724642,"body_markdown":"I am using `Apache POI 5.2.2`, open `template.xlsx` file with just one sheet, clone 1..n new sheets, write cells, delete 1st template sheet, save .xlsx file.\r\n\r\nOpening a file in Excel and close gives `Save changes?` prompt even if did nothing, no @formula cells, no external links or objects in a workbook. I realized if the number of worksheets is different than the original file then prompt is shown.\r\n\r\nAll sheets had `xl/worksheets/sheet1.xml@xr:uid={00000000-0001-0000-0000-000000000000}` zero guid. \r\n\r\nText editing `sheetX.xml@xr:uid` values to `{11111111-1111-1111-1111-112233440001}, {11111111-1111-1111-1111-112233440002}, {11111111-1111-1111-1111-112233440003}, ..` unique guids fixed a problem. \r\n\r\nUsing @sobrino&#39;s answer this is a modified unzip-zip fix.\r\n\r\n    public void fixFile(File inputFile, File outputFile) throws IOException {\r\n    \tint count=0;\r\n    \tZipFile zipFile = new ZipFile(inputFile);\t\t\r\n    \tfinal ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(outputFile));\r\n    \tfor (Enumeration&lt;? extends ZipEntry&gt; en = zipFile.entries(); en.hasMoreElements();) {\r\n    \t    ZipEntry entryIn = (ZipEntry)en.nextElement();\r\n    \t    String name = entryIn.getName();\r\n\t\t    if(!( name.startsWith(&quot;xl/worksheets/&quot;) &amp;&amp; name.endsWith(&quot;.xml&quot;)\r\n\t\t    \t\t&amp;&amp; name.indexOf(&#39;/&#39;, 14)&lt;0 ))  {\r\n    \t        zos.putNextEntry(entryIn);\r\n    \t        InputStream is = zipFile.getInputStream(entryIn);\r\n    \t        byte[] buf = new byte[2*1024];\r\n    \t        int len;\r\n    \t        while ((len = (is.read(buf))) &gt; 0) {\r\n    \t            zos.write(buf, 0, len);\r\n    \t        }\r\n    \t    } else {\r\n    \t    \t// fix xr:uid=&quot;{00000000-0001-0000-0000-000000000000}&quot; zero GUID to avoid &quot;save changes&quot; prompt\r\n    \t    \t// &lt;worksheet ... xr:uid=&quot;{11111111-1111-1111-1111-112233440001&quot; ...\r\n    \t    \tcount++;\r\n    \t    \tzos.putNextEntry(new ZipEntry(name));\r\n    \t        InputStream is = zipFile.getInputStream(entryIn);\r\n    \t        byte[] buf = new byte[2*1024];\r\n    \t        int len;\r\n    \t        boolean firstRead=true;\r\n    \t        while ( (len=is.read(buf)) &gt; 0) {\r\n    \t        \tif(firstRead) {\r\n\t\t        \t\tfirstRead=false;\r\n\t\t        \t\tString sData=new String(buf,0,len, &quot;UTF-8&quot;);\r\n\t\t\t\t        int delimS=sData.indexOf(&quot;xr:uid=\\&quot;&quot;);\r\n\t\t\t\t        int delimE=sData.indexOf(&#39;&quot;&#39;, delimS+8);\r\n\t\t\t\t        int delimG=sData.indexOf(&quot;-000000000000}&quot;, delimS+8);\r\n\t\t\t\t        if(delimG&gt;0 &amp;&amp; delimG&lt;=delimE &amp;&amp; delimS&gt;0) {\r\n\t\t\t\t        \t// found zero GUID, replace value\r\n\t\t\t\t\t        sData=sData.substring(0, delimS+8)\r\n\t\t\t\t\t        \t+ String.format(&quot;{11111111-1111-1111-1111-11223344%04x}&quot;, count)\r\n\t\t\t\t\t        \t+ sData.substring(delimE);\r\n\t\t\t\t        \tzos.write(sData.getBytes(&quot;UTF-8&quot;));\r\n\t\t\t\t        } else {\r\n\t\t\t\t        \tzos.write(buf, 0, len);\r\n\t\t\t\t        }\r\n    \t        \t} else {\r\n    \t        \t\tzos.write(buf, 0, len);\r\n    \t        \t}\r\n    \t        }\r\n    \t    }\r\n    \t    zos.closeEntry();\r\n    \t}\r\n    \tzos.close();\r\n    \tzipFile.close();\r\n    }","title":"How to get rid of &quot;Save changes?&quot; prompt on xlsx-files created with Apache POI XSSF","body":"<p>I am using <code>Apache POI 5.2.2</code>, open <code>template.xlsx</code> file with just one sheet, clone 1..n new sheets, write cells, delete 1st template sheet, save .xlsx file.</p>\n<p>Opening a file in Excel and close gives <code>Save changes?</code> prompt even if did nothing, no @formula cells, no external links or objects in a workbook. I realized if the number of worksheets is different than the original file then prompt is shown.</p>\n<p>All sheets had <code>xl/worksheets/sheet1.xml@xr:uid={00000000-0001-0000-0000-000000000000}</code> zero guid.</p>\n<p>Text editing <code>sheetX.xml@xr:uid</code> values to <code>{11111111-1111-1111-1111-112233440001}, {11111111-1111-1111-1111-112233440002}, {11111111-1111-1111-1111-112233440003}, ..</code> unique guids fixed a problem.</p>\n<p>Using @sobrino's answer this is a modified unzip-zip fix.</p>\n<pre><code>public void fixFile(File inputFile, File outputFile) throws IOException {\n    int count=0;\n    ZipFile zipFile = new ZipFile(inputFile);       \n    final ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(outputFile));\n    for (Enumeration&lt;? extends ZipEntry&gt; en = zipFile.entries(); en.hasMoreElements();) {\n        ZipEntry entryIn = (ZipEntry)en.nextElement();\n        String name = entryIn.getName();\n        if(!( name.startsWith(&quot;xl/worksheets/&quot;) &amp;&amp; name.endsWith(&quot;.xml&quot;)\n                &amp;&amp; name.indexOf('/', 14)&lt;0 ))  {\n            zos.putNextEntry(entryIn);\n            InputStream is = zipFile.getInputStream(entryIn);\n            byte[] buf = new byte[2*1024];\n            int len;\n            while ((len = (is.read(buf))) &gt; 0) {\n                zos.write(buf, 0, len);\n            }\n        } else {\n            // fix xr:uid=&quot;{00000000-0001-0000-0000-000000000000}&quot; zero GUID to avoid &quot;save changes&quot; prompt\n            // &lt;worksheet ... xr:uid=&quot;{11111111-1111-1111-1111-112233440001&quot; ...\n            count++;\n            zos.putNextEntry(new ZipEntry(name));\n            InputStream is = zipFile.getInputStream(entryIn);\n            byte[] buf = new byte[2*1024];\n            int len;\n            boolean firstRead=true;\n            while ( (len=is.read(buf)) &gt; 0) {\n                if(firstRead) {\n                    firstRead=false;\n                    String sData=new String(buf,0,len, &quot;UTF-8&quot;);\n                    int delimS=sData.indexOf(&quot;xr:uid=\\&quot;&quot;);\n                    int delimE=sData.indexOf('&quot;', delimS+8);\n                    int delimG=sData.indexOf(&quot;-000000000000}&quot;, delimS+8);\n                    if(delimG&gt;0 &amp;&amp; delimG&lt;=delimE &amp;&amp; delimS&gt;0) {\n                        // found zero GUID, replace value\n                        sData=sData.substring(0, delimS+8)\n                            + String.format(&quot;{11111111-1111-1111-1111-11223344%04x}&quot;, count)\n                            + sData.substring(delimE);\n                        zos.write(sData.getBytes(&quot;UTF-8&quot;));\n                    } else {\n                        zos.write(buf, 0, len);\n                    }\n                } else {\n                    zos.write(buf, 0, len);\n                }\n            }\n        }\n        zos.closeEntry();\n    }\n    zos.close();\n    zipFile.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4490476,"reputation":426,"user_id":3651687,"display_name":"Feng Dihai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686283645,"creation_date":1686283331,"answer_id":76437128,"question_id":37724642,"body_markdown":"I have a simple resolution for XSSF user model:\r\n\r\n    public static void fixXSSFSheetUid(XSSFSheet sheet) {\r\n        Node node = (Node) ((CTWorksheetImpl) sheet.getCTWorksheet()).get_store();\r\n        node = node.getAttributes().getNamedItem(&quot;xr:uid&quot;);\r\n        if (node instanceof Attr) {\r\n            ((Attr) node).setValue(&quot;{&quot; + UUID.randomUUID().toString().toUpperCase() + &quot;}&quot;);\r\n        }        \r\n    }\r\n\r\nI expect that POI will include similar logic in Workbook#cloneSheet(int sheetNum, String newName) to avoid the anoyance.","title":"How to get rid of &quot;Save changes?&quot; prompt on xlsx-files created with Apache POI XSSF","body":"<p>I have a simple resolution for XSSF user model:</p>\n<pre><code>public static void fixXSSFSheetUid(XSSFSheet sheet) {\n    Node node = (Node) ((CTWorksheetImpl) sheet.getCTWorksheet()).get_store();\n    node = node.getAttributes().getNamedItem(&quot;xr:uid&quot;);\n    if (node instanceof Attr) {\n        ((Attr) node).setValue(&quot;{&quot; + UUID.randomUUID().toString().toUpperCase() + &quot;}&quot;);\n    }        \n}\n</code></pre>\n<p>I expect that POI will include similar logic in Workbook#cloneSheet(int sheetNum, String newName) to avoid the anoyance.</p>\n"}],"owner":{"account_id":5363989,"reputation":153,"user_id":4274477,"display_name":"sobrino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2007,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38111348,"answer_count":4,"score":4,"last_activity_date":1686283645,"creation_date":1465471543,"question_id":37724642,"body_markdown":"After opening and immediately closing an xlsx-file, created with Apache POI XSSF, I get prompted to save unsaved changes. As far as i can tell, this is happening because I am using formulas within the xlsx-file.\r\n\r\nAccording to the javadoc, this should be bypassed by setting `XSSFWorkbook.setForceFormulaRecalculation(true)`\r\nHowever, this doesn&#39;t solve the problem.\r\n\r\nI also tried to manually recalculate the formulas before saving the file without success.\r\n\r\nSSCCE:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFFormulaEvaluator;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class XSSFExample {\r\n    \r\n        public static void main(String[] args) {\r\n            // Create workbook and sheet\r\n            Workbook wb = new XSSFWorkbook();\r\n            Sheet sheet = wb.createSheet(&quot;Sheet 1&quot;);\r\n    \r\n            // Create a row and put some cells in it.\r\n            Row row = sheet.createRow((short) 0);\r\n            row.createCell(0).setCellValue(5.0);\r\n            row.createCell(1).setCellValue(5.0);\r\n            row.createCell(2).setCellFormula(&quot;A1/B1&quot;);\r\n    \r\n    \r\n            // Write the output to a file\r\n            try (FileOutputStream fileOut = new FileOutputStream(&quot;XSSFExample.xlsx&quot;)) {\r\n                wb.setForceFormulaRecalculation(false);\r\n                System.out.println(wb.getForceFormulaRecalculation()); // prints &quot;false&quot;\r\n                XSSFFormulaEvaluator.evaluateAllFormulaCells((XSSFWorkbook) wb); // this doesn&#39;t seem to make any difference\r\n                wb.write(fileOut);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(XSSFExample.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nWhat can I do to create the file and not get prompted to save it after I opened it the first time?\r\n\r\n**Update:**  \r\nAs stated [here (https://poi.apache.org/spreadsheet/eval.html#recalculation)][1] I also tried another method to manually recalculate with no success. Even re-reading the file after save, recalc and save as a second file doesn&#39;t work.\r\n\r\n\r\n  [1]: https://poi.apache.org/spreadsheet/eval.html#recalculation\r\n\r\n**Update 2:**  \r\nConsidering the accepted answer, I was able to solve the problem by adding following lines of code to the above SSCCE:  \r\n(Please note that this was just a &quot;quick and dirty&quot; attempt to solve the problem. There are probably a lot of improvements possible).\r\n\r\n    ZipFile zipFile = new ZipFile(&quot;XSSFExample.xlsx&quot;);\r\n    final ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(&quot;XSSFExample_NoSave.xlsx&quot;));\r\n    for (Enumeration e = zipFile.entries(); e.hasMoreElements();) {\r\n    \tZipEntry entryIn = (ZipEntry) e.nextElement();\r\n    \tif (!entryIn.getName().equalsIgnoreCase(&quot;xl/workbook.xml&quot;)) {\r\n    \t\tzos.putNextEntry(entryIn);\r\n    \t\tInputStream is = zipFile.getInputStream(entryIn);\r\n    \t\tbyte[] buf = new byte[1024];\r\n    \t\tint len;\r\n    \t\twhile ((len = (is.read(buf))) &gt; 0) {\r\n    \t\t\tzos.write(buf, 0, len);\r\n    \t\t}\r\n    \t} else {\r\n    \t\tzos.putNextEntry(new ZipEntry(&quot;xl/workbook.xml&quot;));\r\n    \t\tInputStream is = zipFile.getInputStream(entryIn);\r\n    \t\tbyte[] buf = new byte[1024];\r\n    \t\tint len;\r\n    \t\twhile (is.read(buf) &gt; 0) {\r\n    \t\t\tString s = new String(buf);\r\n    \t\t\tString searchFileVersion = &quot;/relationships\\&quot;&gt;&lt;workbookPr&quot;;\r\n    \t\t\tString replaceFileVersion = &quot;/relationships\\&quot;&gt;&lt;fileVersion appName=\\&quot;xl\\&quot; lastEdited=\\&quot;5\\&quot; lowestEdited=\\&quot;5\\&quot; rupBuild=\\&quot;9303\\&quot;/&gt;&lt;workbookPr&quot;;\r\n    \t\t\tString searchCalcId = &quot;&lt;calcPr calcId=\\&quot;0\\&quot;/&gt;&quot;;\r\n    \t\t\tString replaceCalcId = &quot;&lt;calcPr calcId=\\&quot;&quot; + String.valueOf(Integer.MAX_VALUE) + &quot;\\&quot;/&gt;&quot;;\r\n    \t\t\tif (s.contains(searchFileVersion)) {\r\n    \t\t\t\ts = s.replaceAll(searchFileVersion, replaceFileVersion);\r\n    \t\t\t}\r\n    \t\t\tif (s.contains(searchCalcId)) {\r\n    \t\t\t\ts = s.replaceAll(searchCalcId, replaceCalcId);\r\n    \t\t\t}\r\n    \t\t\tlen = s.trim().length();\r\n    \t\t\tbuf = s.getBytes();\r\n    \t\t\tzos.write(buf, 0, (len &lt; buf.length) ? len : buf.length);\r\n    \t\t}\r\n    \t}\r\n    \tzos.closeEntry();\r\n    }\r\n    zos.close();\r\n\r\n","title":"How to get rid of &quot;Save changes?&quot; prompt on xlsx-files created with Apache POI XSSF","body":"<p>After opening and immediately closing an xlsx-file, created with Apache POI XSSF, I get prompted to save unsaved changes. As far as i can tell, this is happening because I am using formulas within the xlsx-file.</p>\n\n<p>According to the javadoc, this should be bypassed by setting <code>XSSFWorkbook.setForceFormulaRecalculation(true)</code>\nHowever, this doesn't solve the problem.</p>\n\n<p>I also tried to manually recalculate the formulas before saving the file without success.</p>\n\n<p>SSCCE:</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFFormulaEvaluator;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class XSSFExample {\n\n    public static void main(String[] args) {\n        // Create workbook and sheet\n        Workbook wb = new XSSFWorkbook();\n        Sheet sheet = wb.createSheet(\"Sheet 1\");\n\n        // Create a row and put some cells in it.\n        Row row = sheet.createRow((short) 0);\n        row.createCell(0).setCellValue(5.0);\n        row.createCell(1).setCellValue(5.0);\n        row.createCell(2).setCellFormula(\"A1/B1\");\n\n\n        // Write the output to a file\n        try (FileOutputStream fileOut = new FileOutputStream(\"XSSFExample.xlsx\")) {\n            wb.setForceFormulaRecalculation(false);\n            System.out.println(wb.getForceFormulaRecalculation()); // prints \"false\"\n            XSSFFormulaEvaluator.evaluateAllFormulaCells((XSSFWorkbook) wb); // this doesn't seem to make any difference\n            wb.write(fileOut);\n        } catch (IOException ex) {\n            Logger.getLogger(XSSFExample.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n\n<p>What can I do to create the file and not get prompted to save it after I opened it the first time?</p>\n\n<p><strong>Update:</strong><br>\nAs stated <a href=\"https://poi.apache.org/spreadsheet/eval.html#recalculation\" rel=\"nofollow\">here (https://poi.apache.org/spreadsheet/eval.html#recalculation)</a> I also tried another method to manually recalculate with no success. Even re-reading the file after save, recalc and save as a second file doesn't work.</p>\n\n<p><strong>Update 2:</strong><br>\nConsidering the accepted answer, I was able to solve the problem by adding following lines of code to the above SSCCE:<br>\n(Please note that this was just a \"quick and dirty\" attempt to solve the problem. There are probably a lot of improvements possible).</p>\n\n<pre><code>ZipFile zipFile = new ZipFile(\"XSSFExample.xlsx\");\nfinal ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(\"XSSFExample_NoSave.xlsx\"));\nfor (Enumeration e = zipFile.entries(); e.hasMoreElements();) {\n    ZipEntry entryIn = (ZipEntry) e.nextElement();\n    if (!entryIn.getName().equalsIgnoreCase(\"xl/workbook.xml\")) {\n        zos.putNextEntry(entryIn);\n        InputStream is = zipFile.getInputStream(entryIn);\n        byte[] buf = new byte[1024];\n        int len;\n        while ((len = (is.read(buf))) &gt; 0) {\n            zos.write(buf, 0, len);\n        }\n    } else {\n        zos.putNextEntry(new ZipEntry(\"xl/workbook.xml\"));\n        InputStream is = zipFile.getInputStream(entryIn);\n        byte[] buf = new byte[1024];\n        int len;\n        while (is.read(buf) &gt; 0) {\n            String s = new String(buf);\n            String searchFileVersion = \"/relationships\\\"&gt;&lt;workbookPr\";\n            String replaceFileVersion = \"/relationships\\\"&gt;&lt;fileVersion appName=\\\"xl\\\" lastEdited=\\\"5\\\" lowestEdited=\\\"5\\\" rupBuild=\\\"9303\\\"/&gt;&lt;workbookPr\";\n            String searchCalcId = \"&lt;calcPr calcId=\\\"0\\\"/&gt;\";\n            String replaceCalcId = \"&lt;calcPr calcId=\\\"\" + String.valueOf(Integer.MAX_VALUE) + \"\\\"/&gt;\";\n            if (s.contains(searchFileVersion)) {\n                s = s.replaceAll(searchFileVersion, replaceFileVersion);\n            }\n            if (s.contains(searchCalcId)) {\n                s = s.replaceAll(searchCalcId, replaceCalcId);\n            }\n            len = s.trim().length();\n            buf = s.getBytes();\n            zos.write(buf, 0, (len &lt; buf.length) ? len : buf.length);\n        }\n    }\n    zos.closeEntry();\n}\nzos.close();\n</code></pre>\n"},{"tags":["java","html","spring","spring-boot","controller"],"comments":[{"owner":{"account_id":204434,"reputation":895,"user_id":452647,"accept_rate":90,"display_name":"meadlai"},"score":0,"creation_date":1583451810,"post_id":38700790,"comment_id":107131703,"body_markdown":"try to add a servlet to direct to index.html ```@ServletComponentScan```  then add @WebSevlet(urlPatterns = &quot;&quot;) MainIndex","body":"try to add a servlet to direct to index.html <code>@ServletComponentScan</code>  then add @WebSevlet(urlPatterns = &quot;&quot;) MainIndex"}],"answers":[{"tags":[],"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505909028,"creation_date":1470060007,"answer_id":38700842,"question_id":38700790,"body_markdown":"The `String` you return here:\r\n\r\n     return &quot;login&quot;;\r\n\r\nIs actually the **whole content** what you send back to the browser.\r\n\r\nIf you want to have the content of a file to be sent back, one way is:\r\n\r\n 1. Open file\r\n 1. Read contents into String\r\n 1. Return the value\r\n\r\nYou can go by with this [answer on the question Spring boot service to download a file](https://stackoverflow.com/a/28451523/1667004)","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>The <code>String</code> you return here:</p>\n\n<pre><code> return \"login\";\n</code></pre>\n\n<p>Is actually the <strong>whole content</strong> what you send back to the browser.</p>\n\n<p>If you want to have the content of a file to be sent back, one way is:</p>\n\n<ol>\n<li>Open file</li>\n<li>Read contents into String</li>\n<li>Return the value</li>\n</ol>\n\n<p>You can go by with this <a href=\"https://stackoverflow.com/a/28451523/1667004\">answer on the question Spring boot service to download a file</a></p>\n"},{"tags":[],"owner":{"account_id":1776193,"reputation":2542,"user_id":1619950,"display_name":"Aleksandr Podkutin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1556596444,"creation_date":1470060262,"answer_id":38700928,"question_id":38700790,"body_markdown":"You get only the name because you return only the name `return &quot;login&quot;;`. It&#39;s `@RestController` and this controller returns data rather than a view; because of this, you get only content that you return from method.\r\n\r\nIf you want to show view with this name you need to use Spring MVC, [see this example][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/serving-web-content/","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>You get only the name because you return only the name <code>return \"login\";</code>. It's <code>@RestController</code> and this controller returns data rather than a view; because of this, you get only content that you return from method.</p>\n\n<p>If you want to show view with this name you need to use Spring MVC, <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"nofollow noreferrer\">see this example</a>.</p>\n"},{"tags":[],"owner":{"account_id":8288794,"reputation":41656,"user_id":6231153,"accept_rate":89,"display_name":"kukkuz"},"down_vote_count":10,"up_vote_count":55,"is_accepted":true,"score":45,"last_activity_date":1554044146,"creation_date":1470060930,"answer_id":38701146,"question_id":38700790,"body_markdown":"When using `@RestController` like this:\r\n\r\n    @RestController\r\n    public class HomeController {\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        public String welcome() {\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\nThis is the same as you do like this in a normal controller:\r\n\r\n    @Controller\r\n    public class HomeController {\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        @ResponseBody\r\n        public String welcome() {\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\nUsing `@ResponseBody` returns `return &quot;login&quot;;` as a String object. Any object you return will be attached as `payload` in the HTTP body as JSON.\r\n\r\nThis is why you are getting just `login` in the response.\r\n","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>When using <code>@RestController</code> like this:</p>\n\n<pre><code>@RestController\npublic class HomeController {\n\n    @RequestMapping(\"/\")\n    public String welcome() {\n        return \"login\";\n    }\n}\n</code></pre>\n\n<p>This is the same as you do like this in a normal controller:</p>\n\n<pre><code>@Controller\npublic class HomeController {\n\n    @RequestMapping(\"/\")\n    @ResponseBody\n    public String welcome() {\n        return \"login\";\n    }\n}\n</code></pre>\n\n<p>Using <code>@ResponseBody</code> returns <code>return \"login\";</code> as a String object. Any object you return will be attached as <code>payload</code> in the HTTP body as JSON.</p>\n\n<p>This is why you are getting just <code>login</code> in the response.</p>\n"},{"tags":[],"owner":{"account_id":12169295,"reputation":297,"user_id":8884543,"display_name":"Happy Nguyen"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1510114975,"creation_date":1510109081,"answer_id":47170750,"question_id":38700790,"body_markdown":"You can try using `ModelAndView`:\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    public ModelAndView index () {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;index&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>You can try using <code>ModelAndView</code>:</p>\n\n<pre><code>@RequestMapping(\"/\")\npublic ModelAndView index () {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(\"index\");\n    return modelAndView;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11301613,"reputation":67,"user_id":8287372,"display_name":"Noshin"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1550417092,"creation_date":1515573920,"answer_id":48183421,"question_id":38700790,"body_markdown":"Replace `@RestController` with `@Controller`.\r\n","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>Replace <code>@RestController</code> with <code>@Controller</code>.</p>\n"},{"tags":[],"owner":{"account_id":3657397,"reputation":1107,"user_id":3048005,"display_name":"Prasad"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1554912843,"creation_date":1517977461,"answer_id":48655997,"question_id":38700790,"body_markdown":"Replace `@Restcontroller` with `@controller`. `@Restcontroller` returns only content not html and jsp pages. ","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>Replace <code>@Restcontroller</code> with <code>@controller</code>. <code>@Restcontroller</code> returns only content not html and jsp pages. </p>\n"},{"tags":[],"owner":{"account_id":3210569,"reputation":718,"user_id":2710675,"display_name":"Kairat"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1544782961,"creation_date":1524023894,"answer_id":49890955,"question_id":38700790,"body_markdown":"You should use `login.html`. And replace `RestController` with `Controller`","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>You should use <code>login.html</code>. And replace <code>RestController</code> with <code>Controller</code></p>\n"},{"tags":[],"owner":{"account_id":2892194,"reputation":6142,"user_id":2480714,"accept_rate":67,"display_name":"PGMacDesign"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1534883001,"creation_date":1534883001,"answer_id":51956187,"question_id":38700790,"body_markdown":"The answer from Kukkuz did not work for me until I added in this dependency into the pom file:\r\n\r\n    &lt;!-- Spring boot Thymeleaf --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\t\t\r\nFrom the guide [here][1].\r\n\r\nAs well as updating the registry resources as outlined [here][2]. \r\n\t\t\r\nIt then started working just fine. If anyone in the future runs into the same issue and following the first answer does not solve your problem, follow these 2 other steps after utilizing the code in @Kukkuz&#39;s answer and see if that makes a difference.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/serving-web-content/\r\n  [2]: https://stackoverflow.com/a/17013442/2480714/","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>The answer from Kukkuz did not work for me until I added in this dependency into the pom file:</p>\n\n<pre><code>&lt;!-- Spring boot Thymeleaf --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>From the guide <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>As well as updating the registry resources as outlined <a href=\"https://stackoverflow.com/a/17013442/2480714/\">here</a>. </p>\n\n<p>It then started working just fine. If anyone in the future runs into the same issue and following the first answer does not solve your problem, follow these 2 other steps after utilizing the code in @Kukkuz's answer and see if that makes a difference.</p>\n"},{"tags":[],"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1544144040,"creation_date":1544144040,"answer_id":53661807,"question_id":38700790,"body_markdown":"The most correct and modern form is to use `IoC` to put dependencies into the endpoint method, like the *thymeleaf* `Model` instance...\r\n\r\n     @Controller \r\n     public class GreetingController {\r\n     \t\t@GetMapping(&quot;/greeting&quot;) \r\n     \t\tpublic String greeting(\r\n     \t\t\t@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\r\n                 model.addAttribute(&quot;name&quot;, name); \r\n                 return &quot;greeting&quot;; \r\n                 // returns the already proccessed model from src/main/resources/templates/greeting.html \r\n          }\r\n     }\r\n\r\nSee complete example at: https://spring.io/guides/gs/serving-web-content/","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>The most correct and modern form is to use <code>IoC</code> to put dependencies into the endpoint method, like the <em>thymeleaf</em> <code>Model</code> instance...</p>\n\n<pre><code> @Controller \n public class GreetingController {\n        @GetMapping(\"/greeting\") \n        public String greeting(\n            @RequestParam(name=\"name\", required=false, defaultValue=\"World\") String name, Model model) {\n             model.addAttribute(\"name\", name); \n             return \"greeting\"; \n             // returns the already proccessed model from src/main/resources/templates/greeting.html \n      }\n }\n</code></pre>\n\n<p>See complete example at: <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/serving-web-content/</a></p>\n"},{"tags":[],"owner":{"account_id":4316093,"reputation":3757,"user_id":3525886,"accept_rate":75,"display_name":"Johnny Willer"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1551145988,"creation_date":1551145988,"answer_id":54877332,"question_id":38700790,"body_markdown":"I&#39;m not using Thymeleaf and the only way it worked for me was with `@Controller`\r\nin the class and \r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\r\n    public String index() {\r\n        return &quot;index.html&quot;;\r\n    }","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>I'm not using Thymeleaf and the only way it worked for me was with <code>@Controller</code>\nin the class and </p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = \"/\")\npublic String index() {\n    return \"index.html\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9086895,"reputation":1116,"user_id":6764504,"display_name":"Chandan Kumar"},"down_vote_count":3,"up_vote_count":50,"is_accepted":false,"score":47,"last_activity_date":1597161086,"creation_date":1553192600,"answer_id":55286922,"question_id":38700790,"body_markdown":"Follow below steps:\r\n\r\n 1. Must put the html files in resources/templates/\r\n 2. Replace the `@RestController` with `@Controller`\r\n 3. Remove if you are using any view resolvers.\r\n 4. Your controller method should return file name of view without extension like `return &quot;index&quot;`\r\n 5. Include the below dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;`\r\n\r\n \r\n\r\n      \r\n    ","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>Follow below steps:</p>\n<ol>\n<li><p>Must put the html files in resources/templates/</p>\n</li>\n<li><p>Replace the <code>@RestController</code> with <code>@Controller</code></p>\n</li>\n<li><p>Remove if you are using any view resolvers.</p>\n</li>\n<li><p>Your controller method should return file name of view without extension like <code>return &quot;index&quot;</code></p>\n</li>\n<li><p>Include the below dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n&lt;/dependency&gt;`\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14877782,"reputation":1,"user_id":10743372,"display_name":"Yasin Mowlavezada"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1572719187,"creation_date":1572719187,"answer_id":58674038,"question_id":38700790,"body_markdown":"You can solve this in two ways:\r\n\r\n**First way:** If you wish to keep using REST you have to you a `ModelAndView` object to render a HTML page. An example is being posted by Happy Nguyen and I am posting it once more here:\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    public ModelAndView index () {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;index&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n\r\n**Second Way:** If it is not important weather you keep using REST or not, so you can just change the `@RestController` to `@Controller` and make sure that you have already added **Thymeleaf** template engine.\r\n","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>You can solve this in two ways:</p>\n\n<p><strong>First way:</strong> If you wish to keep using REST you have to you a <code>ModelAndView</code> object to render a HTML page. An example is being posted by Happy Nguyen and I am posting it once more here:</p>\n\n<pre><code>@RequestMapping(\"/\")\npublic ModelAndView index () {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(\"index\");\n    return modelAndView;\n}\n</code></pre>\n\n<p><strong>Second Way:</strong> If it is not important weather you keep using REST or not, so you can just change the <code>@RestController</code> to <code>@Controller</code> and make sure that you have already added <strong>Thymeleaf</strong> template engine.</p>\n"},{"tags":[],"owner":{"account_id":11574190,"reputation":1,"user_id":8480065,"display_name":"Loy Misquith"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1574413884,"creation_date":1574403293,"answer_id":58988497,"question_id":38700790,"body_markdown":"    @Controller\r\n    public class WebController {\r\n    @GetMapping(&quot;/&quot;)\r\n\r\n    public String homePage() {\r\n        return &quot;index&quot;;\r\n      }\r\n    }","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<pre><code>@Controller\npublic class WebController {\n@GetMapping(\"/\")\n\npublic String homePage() {\n    return \"index\";\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":203953,"reputation":5113,"user_id":451894,"accept_rate":53,"display_name":"upog"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593573568,"creation_date":1593573568,"answer_id":62669149,"question_id":38700790,"body_markdown":"    @Controller\r\n    public class HomeController {\r\n    \r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\r\n        public ModelAndView welcome() {\r\n            ModelAndView modelAndView = new ModelAndView();\r\n            modelAndView.setViewName(&quot;login.html&quot;);\r\n            return modelAndView;\r\n        }\r\n    }\r\n    \r\n\r\nThis will return the Login.html File. The Login.html should be inside the static Folder.\r\n\r\nNote: thymeleaf dependency is not added\r\n\r\n    @RestController\r\n    public class HomeController {\r\n    \r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\r\n        public String welcome() {\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\nThis will return the String login","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<pre><code>@Controller\npublic class HomeController {\n\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\n    public ModelAndView welcome() {\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;login.html&quot;);\n        return modelAndView;\n    }\n}\n</code></pre>\n<p>This will return the Login.html File. The Login.html should be inside the static Folder.</p>\n<p>Note: thymeleaf dependency is not added</p>\n<pre><code>@RestController\npublic class HomeController {\n\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\n    public String welcome() {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>This will return the String login</p>\n"},{"tags":[],"owner":{"account_id":13727147,"reputation":77,"user_id":9905626,"display_name":"Ahmad Bayan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602428301,"creation_date":1602428301,"answer_id":64305446,"question_id":38700790,"body_markdown":"I know this is old but maybe it helps someone. To do this in a RestController, return a String that is the actual HTML code, then the browser will know what to display.","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>I know this is old but maybe it helps someone. To do this in a RestController, return a String that is the actual HTML code, then the browser will know what to display.</p>\n"},{"tags":[],"owner":{"account_id":20145936,"reputation":472,"user_id":14774446,"display_name":"Davide Calarco"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1613325369,"creation_date":1613325369,"answer_id":66198387,"question_id":38700790,"body_markdown":"I did three things:\r\n- Put the HTML page in {project.basedir}/resources/static/myPage.html;\r\n- Switch @RestController to @Controller;\r\n- This is my controller:\r\n```\r\n@RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\r\npublic String aName() {\r\n\treturn &quot;myPage.html&quot;;\r\n}\r\n```\r\n\r\n**No particular dependency** is needed.","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>I did three things:</p>\n<ul>\n<li>Put the HTML page in {project.basedir}/resources/static/myPage.html;</li>\n<li>Switch @RestController to @Controller;</li>\n<li>This is my controller:</li>\n</ul>\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\npublic String aName() {\n    return &quot;myPage.html&quot;;\n}\n</code></pre>\n<p><strong>No particular dependency</strong> is needed.</p>\n"},{"tags":[],"owner":{"account_id":7966072,"reputation":381,"user_id":6012267,"display_name":"Robby"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1617801034,"creation_date":1617801034,"answer_id":66986791,"question_id":38700790,"body_markdown":"@kukkuz pretty much answered to the question &#39;why?&#39;. For those who are still looking into  &#39;how&#39;, accumulating what others have answered.\r\n \r\nUsing a RestController:\r\n\r\n    @RestController\r\n    public class MyRestController {\r\n        @RequestMapping(&quot;/&quot;)\r\n        public ModelAndView welcome() {\r\n            ModelAndView modelAndView = new ModelAndView();\r\n            modelAndView.setViewName(&quot;login.html&quot;);\r\n            return modelAndView;\r\n        }  \r\n    }\r\n\r\n - pay attention that view name is: &#39;login.html&#39; (full file name). \r\n - also it is important where the file is located, by default login.html must be in resources/static or resources/public\r\n\r\n\r\nYou may set up an application parameter for a default suffix like:  \r\n\r\n     spring.mvc.view.suffix=.html\r\n\r\nin this case view name must be without extension like &#39;login&#39;.\r\n\r\n\r\nSome suggested thymeleaf can be used.\r\nmeans you have in your pom.xml dependencies something like this: \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn that scenario login.html by default must sit in: resources/templates folder, and the call is similar only difference now is in a view name, since [.html][1] is used by tymeleaf as a default value.\r\n \r\n\r\n    //  fails by default\r\n    //  NO fail if spring mvc view suffix is set in properties e.g.: spring.mvc.view.suffix=.html\r\n    //  NO fail if thymeleaf is added, and there is a file login.html in a resources/templates folder.\r\n    @RequestMapping(&quot;/loginTest&quot;)\r\n    public ModelAndView loginTest () {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;login&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n\r\nUsing a Controller:\r\n \r\n\r\n    @Controller\r\n    public class MyController {\r\n\r\n      //gets html from a default &#39;resources/public&#39; or &#39;resources/static&#39; folder\r\n      @RequestMapping(path=&quot;/welcome&quot;)\r\n      public String getWelcomePage(){\r\n          return &quot;login.html&quot;;\r\n      }\r\n\r\n      //gets html from a default &#39;resources/public&#39; or &#39;resources/static&#39; folder\r\n      @RequestMapping(&quot;/welcome1&quot;)\r\n      public ModelAndView getWelcomePageAsModel() {\r\n          ModelAndView modelAndView = new ModelAndView();\r\n          modelAndView.setViewName(&quot;login.html&quot;);\r\n          return modelAndView;\r\n      }\r\n\r\n      //  fails with 404 resource not found by default\r\n      //  NO fail, if spring mvc view suffix is set in properties e.g.: spring.mvc.view.suffix=.html\r\n      //  NO fail, if thymeleaf is added, and there is a file login.html in a resources/templates folder\r\n      @RequestMapping(path=&quot;/welcome2&quot;)\r\n      public String thisFails(){\r\n          return &quot;login&quot;;\r\n      }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#spring.thymeleaf.suffix","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>@kukkuz pretty much answered to the question 'why?'. For those who are still looking into  'how', accumulating what others have answered.</p>\n<p>Using a RestController:</p>\n<pre><code>@RestController\npublic class MyRestController {\n    @RequestMapping(&quot;/&quot;)\n    public ModelAndView welcome() {\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;login.html&quot;);\n        return modelAndView;\n    }  \n}\n</code></pre>\n<ul>\n<li>pay attention that view name is: 'login.html' (full file name).</li>\n<li>also it is important where the file is located, by default login.html must be in resources/static or resources/public</li>\n</ul>\n<p>You may set up an application parameter for a default suffix like:</p>\n<pre><code> spring.mvc.view.suffix=.html\n</code></pre>\n<p>in this case view name must be without extension like 'login'.</p>\n<p>Some suggested thymeleaf can be used.\nmeans you have in your pom.xml dependencies something like this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n  &lt;version&gt;2.4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In that scenario login.html by default must sit in: resources/templates folder, and the call is similar only difference now is in a view name, since <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#spring.thymeleaf.suffix\" rel=\"noreferrer\">.html</a> is used by tymeleaf as a default value.</p>\n<pre><code>//  fails by default\n//  NO fail if spring mvc view suffix is set in properties e.g.: spring.mvc.view.suffix=.html\n//  NO fail if thymeleaf is added, and there is a file login.html in a resources/templates folder.\n@RequestMapping(&quot;/loginTest&quot;)\npublic ModelAndView loginTest () {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(&quot;login&quot;);\n    return modelAndView;\n}\n</code></pre>\n<p>Using a Controller:</p>\n<pre><code>@Controller\npublic class MyController {\n\n  //gets html from a default 'resources/public' or 'resources/static' folder\n  @RequestMapping(path=&quot;/welcome&quot;)\n  public String getWelcomePage(){\n      return &quot;login.html&quot;;\n  }\n\n  //gets html from a default 'resources/public' or 'resources/static' folder\n  @RequestMapping(&quot;/welcome1&quot;)\n  public ModelAndView getWelcomePageAsModel() {\n      ModelAndView modelAndView = new ModelAndView();\n      modelAndView.setViewName(&quot;login.html&quot;);\n      return modelAndView;\n  }\n\n  //  fails with 404 resource not found by default\n  //  NO fail, if spring mvc view suffix is set in properties e.g.: spring.mvc.view.suffix=.html\n  //  NO fail, if thymeleaf is added, and there is a file login.html in a resources/templates folder\n  @RequestMapping(path=&quot;/welcome2&quot;)\n  public String thisFails(){\n      return &quot;login&quot;;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14605352,"reputation":151,"user_id":10548414,"display_name":"Subham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623302882,"creation_date":1623302882,"answer_id":67915248,"question_id":38700790,"body_markdown":"Methods annotated with **@GetMapping** in classes annotated with **@RestController** may return views (JSP,HTML etc) in two ways \r\n\r\n    @GetMapping(&quot;/dummy&quot;)\r\n    public String renderDummyWebPage() {\r\n        return &quot;dummy.jsp&quot;;\r\n    }\r\n\r\nHowever, this method has two **LIMITATIONS**\r\n\r\n 1. That JSP Page has to be present in **src/main/webapp** directory, otherwise if the view is present in sub-directory the return type has to be modified accordingly. For example, if the JSP page is present in **src/main/webapp/views** directory - it should return **views/dummy.jsp** as String instead.\r\n\r\n 2. If you have already configured ViewResolver of the application returning a simple String will not work and the String will be interpreted as a normal String instead of JSP view name.\r\n\r\n\r\n----------\r\n\r\n\r\nTo overcome these two limitations, you can return a ModelAndView instead.\r\n\r\n    @GetMapping(&quot;/dummy&quot;)\r\n    public ModelAndView renderDummyWebPage() {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;dummy&quot;);\r\n        return modelAndView;\r\n    }\r\n-----------------------\r\n\r\nI hope this answer would be helpful, thanks.","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>Methods annotated with <strong>@GetMapping</strong> in classes annotated with <strong>@RestController</strong> may return views (JSP,HTML etc) in two ways</p>\n<pre><code>@GetMapping(&quot;/dummy&quot;)\npublic String renderDummyWebPage() {\n    return &quot;dummy.jsp&quot;;\n}\n</code></pre>\n<p>However, this method has two <strong>LIMITATIONS</strong></p>\n<ol>\n<li><p>That JSP Page has to be present in <strong>src/main/webapp</strong> directory, otherwise if the view is present in sub-directory the return type has to be modified accordingly. For example, if the JSP page is present in <strong>src/main/webapp/views</strong> directory - it should return <strong>views/dummy.jsp</strong> as String instead.</p>\n</li>\n<li><p>If you have already configured ViewResolver of the application returning a simple String will not work and the String will be interpreted as a normal String instead of JSP view name.</p>\n</li>\n</ol>\n<hr />\n<p>To overcome these two limitations, you can return a ModelAndView instead.</p>\n<pre><code>@GetMapping(&quot;/dummy&quot;)\npublic ModelAndView renderDummyWebPage() {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(&quot;dummy&quot;);\n    return modelAndView;\n}\n</code></pre>\n<hr />\n<p>I hope this answer would be helpful, thanks.</p>\n"},{"tags":[],"owner":{"account_id":4811437,"reputation":31,"user_id":3884815,"display_name":"Vukkum Sai Prakash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634920469,"creation_date":1634920469,"answer_id":69680332,"question_id":38700790,"body_markdown":"Already answered by @kukkuz &amp; @Robby with @RequestMapping annotation \r\nbut we can also use with @GetMapping annotation. \r\n\r\n    @GetMapping(&quot;/index&quot;)\r\n    public ModelAndView welcome() {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;index.html&quot;);\r\n        return modelAndView;\r\n    }","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>Already answered by @kukkuz &amp; @Robby with @RequestMapping annotation\nbut we can also use with @GetMapping annotation.</p>\n<pre><code>@GetMapping(&quot;/index&quot;)\npublic ModelAndView welcome() {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(&quot;index.html&quot;);\n    return modelAndView;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23136040,"reputation":59,"user_id":17240268,"display_name":"ujjwal dixit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635220777,"creation_date":1635220777,"answer_id":69717327,"question_id":38700790,"body_markdown":"You can specify GET or POST method inside RequestMapping like this:-\r\n\r\n    @RestController\r\n    public class HomeController {\r\n\r\n    @RequestMapping(value=&quot;/&quot;, Method=&quot;GET&quot;)  //or Method=&quot;POST&quot;\r\n    public String welcome() {\r\n        return &quot;/login&quot;;\r\n    }\r\n    }\r\n\r\n\r\nNow if you request on this page it will return login.html page","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>You can specify GET or POST method inside RequestMapping like this:-</p>\n<pre><code>@RestController\npublic class HomeController {\n\n@RequestMapping(value=&quot;/&quot;, Method=&quot;GET&quot;)  //or Method=&quot;POST&quot;\npublic String welcome() {\n    return &quot;/login&quot;;\n}\n}\n</code></pre>\n<p>Now if you request on this page it will return login.html page</p>\n"},{"tags":[],"owner":{"account_id":19997868,"reputation":1,"user_id":14657513,"display_name":"Batman-exe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676067872,"creation_date":1676067872,"answer_id":75416673,"question_id":38700790,"body_markdown":"I had the same issue in Spring boot 3.0.7 and this worked for me: \r\n\r\nChange your controller annotations to `@Controller` and `@RequestMapping`. The welcome method should use `@GetMapping` annotation.\r\n```\r\n@Controller\r\n@RequestMapping\r\npublic class HomeController {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String welcome() {\r\n        return &quot;login&quot;;\r\n    }\r\n}\r\n```","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>I had the same issue in Spring boot 3.0.7 and this worked for me:</p>\n<p>Change your controller annotations to <code>@Controller</code> and <code>@RequestMapping</code>. The welcome method should use <code>@GetMapping</code> annotation.</p>\n<pre><code>@Controller\n@RequestMapping\npublic class HomeController {\n\n    @GetMapping(&quot;/&quot;)\n    public String welcome() {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8372605,"reputation":3511,"user_id":6287214,"accept_rate":62,"display_name":"Gustavo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227882,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":38701146,"answer_count":21,"score":61,"last_activity_date":1686281679,"creation_date":1470059861,"question_id":38700790,"body_markdown":"I want to return a simple HTML page from a controller, but I get only the name of the file not its content. Why?\r\n\r\n### This is my controller code:\r\n\r\n    @RestController\r\n    public class HomeController {\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        public String welcome() {\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\n### This is my project structure:\r\n\r\n[![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/MHaaq.png","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>I want to return a simple HTML page from a controller, but I get only the name of the file not its content. Why?</p>\n<h3>This is my controller code:</h3>\n<pre><code>@RestController\npublic class HomeController {\n\n    @RequestMapping(&quot;/&quot;)\n    public String welcome() {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<h3>This is my project structure:</h3>\n<p>[<img src=\"https://i.stack.imgur.com/MHaaq.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","sql","hibernate","jpa"],"comments":[{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1383148707,"post_id":19686941,"comment_id":59693198,"body_markdown":"I think the answer above only covers Hibernate managed Cascade however I think this is what you are looking for: http://stackoverflow.com/questions/16502481/on-cascade-delete-on-jpa2-many-to-many-relationship","body":"I think the answer above only covers Hibernate managed Cascade however I think this is what you are looking for: <a href=\"http://stackoverflow.com/questions/16502481/on-cascade-delete-on-jpa2-many-to-many-relationship\" title=\"on cascade delete on jpa2 many to many relationship\">stackoverflow.com/questions/16502481/&hellip;</a>"},{"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"score":0,"creation_date":1383149341,"post_id":19686941,"comment_id":59693199,"body_markdown":"The answer is about DDL creation which is not important to me. I want to know whether CASCADE at the DB level is OK for Hibernate. The fact that there is an `@OnDelete` annotation _may_ be proof that it is.","body":"The answer is about DDL creation which is not important to me. I want to know whether CASCADE at the DB level is OK for Hibernate. The fact that there is an <code>@OnDelete</code> annotation <i>may</i> be proof that it is."},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1383173905,"post_id":19686941,"comment_id":59693200,"body_markdown":"Well that was just a starting point. I&#39;m not sure agree it&#39;s just about DDL. Some further research may have led you to some comments here by Gavin King hiself: http://www.mail-archive.com/hibernate-devel@lists.sourceforge.net/msg03803.html","body":"Well that was just a starting point. I&#39;m not sure agree it&#39;s just about DDL. Some further research may have led you to some comments here by Gavin King hiself: <a href=\"http://www.mail-archive.com/hibernate-devel@lists.sourceforge.net/msg03803.html\" rel=\"nofollow noreferrer\">mail-archive.com/hibernate-devel@lists.sourceforge.net/&hellip;</a>"},{"owner":{"account_id":217966,"reputation":12429,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"score":1,"creation_date":1520331977,"post_id":19686941,"comment_id":85261549,"body_markdown":"Might be related: https://stackoverflow.com/questions/22286649/jpa-hibernate-cascade-delete-in-both-database-and-annotation","body":"Might be related: <a href=\"https://stackoverflow.com/questions/22286649/jpa-hibernate-cascade-delete-in-both-database-and-annotation\" title=\"jpa hibernate cascade delete in both database and annotation\">stackoverflow.com/questions/22286649/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3090566,"reputation":11682,"user_id":2616755,"accept_rate":50,"display_name":"cmd"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1383153450,"creation_date":1383153450,"answer_id":19689592,"question_id":19686941,"body_markdown":"You can use `CascadeType.DELETE`, however this annotation only applies to the objects in the `EntityManager`, not the database. You want to be sure that `ON DELETE CASCADE` is added to the database constraint. To verify, you can configure JPA to generate a ddl file. Take a look at the `ddl` file, you&#39;ll notice that `ON DELETE CASCADE` is not part of the constraint. Add `ON DELETE CASCADE` to actual SQL in the `ddl` file, then update your database schema from the ddl. This will fix your problem .\r\n\r\nThis [link][1] shows how to use `ON DELETE CASCADE` on for `CONSTRAINT` in MySQL. You do this on the constraint. You can also do it in a `CREATE TABLE` or `ALTER TABLE` statement. It&#39;s likely that JPA creates the constraint in an `ALTER TABLE` statement. Simply add `ON DELETE CASCADE` to that statement.\r\n\r\nNote that some JPA implementors do provide a means for this functionality.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html\r\n\r\nHibernate does supply this functionality using the `@OnDelete` annotation, thus it is preferred to use this or simply update the ddl file if you would like to stick with standard JPA functionality.","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>You can use <code>CascadeType.DELETE</code>, however this annotation only applies to the objects in the <code>EntityManager</code>, not the database. You want to be sure that <code>ON DELETE CASCADE</code> is added to the database constraint. To verify, you can configure JPA to generate a ddl file. Take a look at the <code>ddl</code> file, you'll notice that <code>ON DELETE CASCADE</code> is not part of the constraint. Add <code>ON DELETE CASCADE</code> to actual SQL in the <code>ddl</code> file, then update your database schema from the ddl. This will fix your problem .</p>\n\n<p>This <a href=\"http://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html\" rel=\"noreferrer\">link</a> shows how to use <code>ON DELETE CASCADE</code> on for <code>CONSTRAINT</code> in MySQL. You do this on the constraint. You can also do it in a <code>CREATE TABLE</code> or <code>ALTER TABLE</code> statement. It's likely that JPA creates the constraint in an <code>ALTER TABLE</code> statement. Simply add <code>ON DELETE CASCADE</code> to that statement.</p>\n\n<p>Note that some JPA implementors do provide a means for this functionality.</p>\n\n<p>Hibernate does supply this functionality using the <code>@OnDelete</code> annotation, thus it is preferred to use this or simply update the ddl file if you would like to stick with standard JPA functionality.</p>\n"},{"tags":[],"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383156517,"creation_date":1383156517,"answer_id":19690634,"question_id":19686941,"body_markdown":"You can use the native database functionality to delete the child records upon deletion of parent record. \r\n\r\nBe aware of bi-directional relationships and to be sure, ensure you just specify insert and update in cascade (to be on safer side). ","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>You can use the native database functionality to delete the child records upon deletion of parent record. </p>\n\n<p>Be aware of bi-directional relationships and to be sure, ensure you just specify insert and update in cascade (to be on safer side). </p>\n"},{"tags":[],"owner":{"account_id":12944998,"reputation":156,"user_id":9359607,"display_name":"Muthu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1519754205,"creation_date":1519754205,"answer_id":49015046,"question_id":19686941,"body_markdown":"  Don&#39;t use cascade = CascadeType.REMOVE [Documentation here][1]\r\n\r\n\r\n  [1]: https://www.thoughts-on-java.org/avoid-cascadetype-delete-many-assocations/\r\n   \r\n  Because of your db may be destroyed. You can use formal order. Delete sub stable \r\n  and then remove master table\r\n\r\n","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>Don't use cascade = CascadeType.REMOVE <a href=\"https://www.thoughts-on-java.org/avoid-cascadetype-delete-many-assocations/\" rel=\"nofollow noreferrer\">Documentation here</a></p>\n\n<p>Because of your db may be destroyed. You can use formal order. Delete sub stable \n  and then remove master table</p>\n"},{"tags":[],"owner":{"account_id":4915498,"reputation":958,"user_id":3959535,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519915305,"creation_date":1519914076,"answer_id":49051709,"question_id":19686941,"body_markdown":"You mention for testing purposes. I&#39;m guessing, execute some test, delete data, replay test...\r\n\r\nWhen using second-level caching or query cache, the cache will and up being stale if you directly remove the data from the database.\r\nThis might result in unexpected test results.\r\n\r\nSo yes, this will conflict with Hibernate if you use second-level / query caching as the entity&#39;s will not get evicted from cache. Make sure all caches get cleared after you directly deleted any data. [See this question on how to clear cache.][1]\r\n\r\n\r\nThe official Hibernate [docs][2] also mention this:\r\n\r\n&gt; Be aware that caches are not aware of changes made to the persistent store by other applications. They can, however, be configured to regularly expire cached data.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40302097/clear-hibernate-2nd-level-cache-after-manually-db-update\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#caching","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>You mention for testing purposes. I'm guessing, execute some test, delete data, replay test...</p>\n\n<p>When using second-level caching or query cache, the cache will and up being stale if you directly remove the data from the database.\nThis might result in unexpected test results.</p>\n\n<p>So yes, this will conflict with Hibernate if you use second-level / query caching as the entity's will not get evicted from cache. Make sure all caches get cleared after you directly deleted any data. <a href=\"https://stackoverflow.com/questions/40302097/clear-hibernate-2nd-level-cache-after-manually-db-update\">See this question on how to clear cache.</a></p>\n\n<p>The official Hibernate <a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#caching\" rel=\"nofollow noreferrer\">docs</a> also mention this:</p>\n\n<blockquote>\n  <p>Be aware that caches are not aware of changes made to the persistent store by other applications. They can, however, be configured to regularly expire cached data.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6093107,"reputation":23142,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519938335,"creation_date":1519938335,"answer_id":49058679,"question_id":19686941,"body_markdown":"I see two potential issues:\r\n\r\n 1. If an entity that represents the table to which you cascade operations directly in the database is versioned, then it would not work because when Hibernate tries to delete records on its own, the version check would fail (Hibernate would assume concurrent thread already updated or deleted the corresponding records).\r\n 2. If there are use cases in which your business logic re-persists such entity instances after removal has been cascaded to them from the parent (for example, you are deleting old parent and migrating associated children to a new one, although for better clarity I would not cascade removal at all if such a use case exists for an association, but it&#39;s up to you as it is allowed by the JPA spec), then Hibernate would just [un-schedule][1] the deletion of children and delete only the parent, so you would still end up with deleted children if you cascade deletion in the database.\r\n\r\nProbably there are some other situations that could be problematic in some scenarios, so I would recommend **not** to do it. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34840903/silently-ignored-remove","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>I see two potential issues:</p>\n\n<ol>\n<li>If an entity that represents the table to which you cascade operations directly in the database is versioned, then it would not work because when Hibernate tries to delete records on its own, the version check would fail (Hibernate would assume concurrent thread already updated or deleted the corresponding records).</li>\n<li>If there are use cases in which your business logic re-persists such entity instances after removal has been cascaded to them from the parent (for example, you are deleting old parent and migrating associated children to a new one, although for better clarity I would not cascade removal at all if such a use case exists for an association, but it's up to you as it is allowed by the JPA spec), then Hibernate would just <a href=\"https://stackoverflow.com/questions/34840903/silently-ignored-remove\">un-schedule</a> the deletion of children and delete only the parent, so you would still end up with deleted children if you cascade deletion in the database.</li>\n</ol>\n\n<p>Probably there are some other situations that could be problematic in some scenarios, so I would recommend <strong>not</strong> to do it. </p>\n"},{"tags":[],"owner":{"account_id":5230492,"reputation":3451,"user_id":4181015,"display_name":"Bohdan Levchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589807656,"creation_date":1589807656,"answer_id":61870411,"question_id":19686941,"body_markdown":"You can safely use `ON DELETE CASCADE` as long as you do not have `CascadeType.REMOVE` or `orphanRemoval` enabled to prevent propagation of the entity removal event.\r\n\r\nHaving `@OnDelete(action = OnDeleteAction.CASCADE)` on your relation will force Hibernate to generate `ON DELETE CASCADE` for related foreign keys. However your `Dialect` has to indicate that such relation are supported by returning `true` in `supportsCascadeDelete` method.\r\n\r\n[Dialect.supportsCascadeDelete()][1]\r\n\r\n[OnDelete][2]\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/dialect/Dialect.java#L2346\r\n  [2]: https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/annotations/OnDelete.html","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>You can safely use <code>ON DELETE CASCADE</code> as long as you do not have <code>CascadeType.REMOVE</code> or <code>orphanRemoval</code> enabled to prevent propagation of the entity removal event.</p>\n\n<p>Having <code>@OnDelete(action = OnDeleteAction.CASCADE)</code> on your relation will force Hibernate to generate <code>ON DELETE CASCADE</code> for related foreign keys. However your <code>Dialect</code> has to indicate that such relation are supported by returning <code>true</code> in <code>supportsCascadeDelete</code> method.</p>\n\n<p><a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/dialect/Dialect.java#L2346\" rel=\"noreferrer\">Dialect.supportsCascadeDelete()</a></p>\n\n<p><a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/annotations/OnDelete.html\" rel=\"noreferrer\">OnDelete</a></p>\n"},{"tags":[],"owner":{"account_id":286046,"reputation":3010,"user_id":585080,"accept_rate":100,"display_name":"Fabian Pijcke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642625185,"creation_date":1642625185,"answer_id":70777527,"question_id":19686941,"body_markdown":"From my experiments, since I have struggled with this for a couple hours, using `updatable = false` in the @JoinColumn will prevent Hibernate from doing\r\n\r\n    update theTable set theReference = null where theIdentifier = ?\r\n\r\nFor example (in Kotlin):\r\n\r\n    @Entity\r\n    @Table(name = &quot;course&quot;)\r\n    class Course(\r\n        @Column(name = &quot;title&quot;)\r\n        var title: String? = null,\r\n        @OneToMany(cascade = [CascadeType.PERSIST])\r\n        @JoinColumn(name = &quot;course_id&quot;, updatable = false)\r\n        val reviews: MutableList&lt;Review&gt; = mutableListOf()\r\n    ) {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        var id: Int? = null\r\n\r\n    }","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>From my experiments, since I have struggled with this for a couple hours, using <code>updatable = false</code> in the @JoinColumn will prevent Hibernate from doing</p>\n<pre><code>update theTable set theReference = null where theIdentifier = ?\n</code></pre>\n<p>For example (in Kotlin):</p>\n<pre><code>@Entity\n@Table(name = &quot;course&quot;)\nclass Course(\n    @Column(name = &quot;title&quot;)\n    var title: String? = null,\n    @OneToMany(cascade = [CascadeType.PERSIST])\n    @JoinColumn(name = &quot;course_id&quot;, updatable = false)\n    val reviews: MutableList&lt;Review&gt; = mutableListOf()\n) {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    var id: Int? = null\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21662503,"reputation":69,"user_id":15981431,"display_name":"Jonathan Mark Mwigo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686281148,"creation_date":1686281148,"answer_id":76437016,"question_id":19686941,"body_markdown":"A few days back I was looking for solutions here about deleting child rows on deleting parent row(Casacading Deletes), I seem to have solved it on a project am currently working on. I use Casade.ALL for my bidirectional many-to-one relationship.\r\nSolution:\r\n```\r\n// Parent Entity.\r\n@Entity\r\npublic class Parent implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;)\r\n    private List&lt;RequisitionDetail&gt; children = new LinkedList&lt;&gt;();\r\n    ...\r\n    // Getters &amp; Setters.\r\n    ...\r\n}\r\n\r\n// Child Entity.\r\n@Entity\r\npublic class Child implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;parent_id&quot;)\r\n    private Parent parent;\r\n    ...\r\n    // Getters &amp; Setters.\r\n    ...\r\n}\r\n\r\n// Save your entities as below.\r\npublic void requisitionInsert() {\r\n    try {\r\n        Parent parent = new Parent();\r\n        Child child = new Child();\r\n        List&lt;Child&gt; children = new LinkedList&lt;&gt;();\r\n        ...\r\n        // Add parent to child\r\n        child.setParent(parent);\r\n        // Add child to list\r\n        children.add(child);\r\n        // Add children list to parent \r\n        parent.setChilds(children);\r\n        // Save parent entity\r\n        ParentDao.saveParent(parent);\r\n    } catch (Exception e) {\r\n        throw new RuntimeException();\r\n    }\r\n}\r\n```\r\n\r\nMy cascading deletes failed at first since my parent rows had no child rows and doing it this way sloved my errors and cascading deletes work fine too.","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>A few days back I was looking for solutions here about deleting child rows on deleting parent row(Casacading Deletes), I seem to have solved it on a project am currently working on. I use Casade.ALL for my bidirectional many-to-one relationship.\nSolution:</p>\n<pre><code>// Parent Entity.\n@Entity\npublic class Parent implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;)\n    private List&lt;RequisitionDetail&gt; children = new LinkedList&lt;&gt;();\n    ...\n    // Getters &amp; Setters.\n    ...\n}\n\n// Child Entity.\n@Entity\npublic class Child implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;parent_id&quot;)\n    private Parent parent;\n    ...\n    // Getters &amp; Setters.\n    ...\n}\n\n// Save your entities as below.\npublic void requisitionInsert() {\n    try {\n        Parent parent = new Parent();\n        Child child = new Child();\n        List&lt;Child&gt; children = new LinkedList&lt;&gt;();\n        ...\n        // Add parent to child\n        child.setParent(parent);\n        // Add child to list\n        children.add(child);\n        // Add children list to parent \n        parent.setChilds(children);\n        // Save parent entity\n        ParentDao.saveParent(parent);\n    } catch (Exception e) {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>My cascading deletes failed at first since my parent rows had no child rows and doing it this way sloved my errors and cascading deletes work fine too.</p>\n"}],"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23477,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":8,"score":22,"last_activity_date":1686281148,"creation_date":1383146737,"question_id":19686941,"body_markdown":"I have some tables managed by Hibernate with various foreign key constraints. Cascade on delete is currently managed by Hibernate alone. For playing around with test data I often create and remove some rows by hand. It would help me a lot if I could add ON DELETE CASCADE to the foreign key constraints but I don&#39;t know if Hibernate trips over this because the database removes stuff before Hibernate does.\r\n\r\n&lt;hr&gt;\r\n\r\nA lot of people seem to concentrate on DDL. My intention is __not__ to instruct Hibernate to create DDL with SQL DELETE CASCADES. I just want to know if it does any harm if I specify an ON DELETE CASCADE in the database __in addition__ to having JPA&#39;s `cascade = CascadeType.REMOVE` on the reference annotation, e.g., `@ManyToOne`.","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>I have some tables managed by Hibernate with various foreign key constraints. Cascade on delete is currently managed by Hibernate alone. For playing around with test data I often create and remove some rows by hand. It would help me a lot if I could add ON DELETE CASCADE to the foreign key constraints but I don't know if Hibernate trips over this because the database removes stuff before Hibernate does.</p>\n\n<hr>\n\n<p>A lot of people seem to concentrate on DDL. My intention is <strong>not</strong> to instruct Hibernate to create DDL with SQL DELETE CASCADES. I just want to know if it does any harm if I specify an ON DELETE CASCADE in the database <strong>in addition</strong> to having JPA's <code>cascade = CascadeType.REMOVE</code> on the reference annotation, e.g., <code>@ManyToOne</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1686280113,"post_id":76436886,"comment_id":134780413,"body_markdown":"I have a feeling that this question is going to be closed for being too broad, but you might be able to save it by specifying exactly what it is that is confusing you about JDK. The more specific a question you ask on this site, the better the chance of getting a good answer. If you ask for a definition, people are just going to tell you to google it, which you have already done. This only leaves the question of why you&#39;re not happy with what you already researched.","body":"I have a feeling that this question is going to be closed for being too broad, but you might be able to save it by specifying exactly what it is that is confusing you about JDK. The more specific a question you ask on this site, the better the chance of getting a good answer. If you ask for a definition, people are just going to tell you to google it, which you have already done. This only leaves the question of why you&#39;re not happy with what you already researched."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686283878,"post_id":76436886,"comment_id":134780705,"body_markdown":"*&quot;Please tell me your opinions.&quot;* - Also, note that questions that ask for opinion-based answers are off-topic.  As per the closure reason given above.","body":"<i>&quot;Please tell me your opinions.&quot;</i> - Also, note that questions that ask for opinion-based answers are off-topic.  As per the closure reason given above."},{"owner":{"account_id":28784332,"reputation":3,"user_id":22045205,"display_name":"Joon Lim"},"score":0,"creation_date":1686283989,"post_id":76436886,"comment_id":134780721,"body_markdown":"Thank you! And, yes, I do agree with you that my question is too broad(or ambiguous). Maybe this is first time to make a question by stack overflow, I made mistakes. Thank you for recommend me how to ask questions, I&#39;d better follow your suggestion.","body":"Thank you! And, yes, I do agree with you that my question is too broad(or ambiguous). Maybe this is first time to make a question by stack overflow, I made mistakes. Thank you for recommend me how to ask questions, I&#39;d better follow your suggestion."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686284013,"post_id":76436886,"comment_id":134780725,"body_markdown":"*&quot;... why developers usually use jdk1.8?&quot;* - Usually because they are too lazy to learn newer stuff, or they are too lazy to update their old project dependencies.  (In my opinion :-) )","body":"<i>&quot;... why developers usually use jdk1.8?&quot;</i> - Usually because they are too lazy to learn newer stuff, or they are too lazy to update their old project dependencies.  (In my opinion :-) )"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686284080,"post_id":76436886,"comment_id":134780734,"body_markdown":"There are articles in the [Help Center](https://stackoverflow.com/help) that directly answer that.","body":"There are articles in the <a href=\"https://stackoverflow.com/help\">Help Center</a> that directly answer that."}],"answers":[{"tags":[],"owner":{"account_id":16588824,"reputation":1,"user_id":11987473,"display_name":"xiaoalex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686280107,"creation_date":1686280107,"answer_id":76436957,"question_id":76436886,"body_markdown":"There came up a lot of changes and new features when jdk1.7 upgraded to jdk1.8. Such as lamda and funtional programming.Also, there are a lot of optimizations on jdk utilities like implementation of hashmap.Coding with jkd1.8 can be a big convinience comparing to with jdk1.7.","title":"What is the jdk1.8 and why developers usually use the jdk1.8?","body":"<p>There came up a lot of changes and new features when jdk1.7 upgraded to jdk1.8. Such as lamda and funtional programming.Also, there are a lot of optimizations on jdk utilities like implementation of hashmap.Coding with jkd1.8 can be a big convinience comparing to with jdk1.7.</p>\n"},{"tags":[],"owner":{"account_id":6111489,"reputation":117,"user_id":16221865,"display_name":"rioswarawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686280151,"creation_date":1686280151,"answer_id":76436963,"question_id":76436886,"body_markdown":"It&#39;s a Java version 8. But it&#39;s deprecated now, here&#39;s the list of [java versions][1]. The why developers use java 8, maybe when you looking for tutorials they created it when java 8 is still exists.\r\n\r\nI suggest to use minimum version 11 or 17 LTS instead. For the features, Java 11 is similar to Java 8. But Java 17 has much more features.\r\n\r\n\r\n  [1]: https://www.java.com/releases/","title":"What is the jdk1.8 and why developers usually use the jdk1.8?","body":"<p>It's a Java version 8. But it's deprecated now, here's the list of <a href=\"https://www.java.com/releases/\" rel=\"nofollow noreferrer\">java versions</a>. The why developers use java 8, maybe when you looking for tutorials they created it when java 8 is still exists.</p>\n<p>I suggest to use minimum version 11 or 17 LTS instead. For the features, Java 11 is similar to Java 8. But Java 17 has much more features.</p>\n"},{"tags":[],"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686281078,"creation_date":1686281078,"answer_id":76437011,"question_id":76436886,"body_markdown":"The concepts\r\n------------\r\n\r\n**JRE (Java Runtime Environment)** provides basic/standard libraries, JVM and other basic components that run your compiled code in the machine.\r\n\r\n**JDK (Java Development Kit)** can be seen as an extended version of the JRE which in addition to what the JRE provides is also capable to compile your source code into byte-code understandable by the JVM, debugging tools and other things that are helpful during development phase.\r\n\r\nWhat is JDK1.8\r\n---\r\nIt is just one of the many versions of the JDK. Having big improvements from It&#39;s predecessor JDK1.7 with new features such as lambda expressions, Streams support, among others it impulse the language towards a more friendly approach to functional programming style, among other improvements.\r\n\r\nWhy JDK1.8\r\n---\r\nA few years back it became &quot;the new thing&quot;, to the point that many frameworks started cutting support for older versions of Java, and it became the preferred environment to use. \r\n\r\nHowever it **should not be seen as an standard** since technology is a fast evolving environment, and newer versions will always boost performance, have more interesting features that boost your productivity, etc.\r\n\r\nCurrent status (2023)\r\n---\r\nJava 8 (and JDK 1.8) do not receive any new features, or patches for security updates, so that is one of the reasons I wouldn&#39;t call it an standard, even though is probably still largely used.\r\n\r\nAlways keep an eye to the end of life dates of versions and also the newer versions releases: https://en.wikipedia.org/wiki/Java_version_history\r\n\r\nEspecially look at the LTS (Long Term Support) releases as those will receive support for extended periods, while other versions will test-out new features.","title":"What is the jdk1.8 and why developers usually use the jdk1.8?","body":"<h2>The concepts</h2>\n<p><strong>JRE (Java Runtime Environment)</strong> provides basic/standard libraries, JVM and other basic components that run your compiled code in the machine.</p>\n<p><strong>JDK (Java Development Kit)</strong> can be seen as an extended version of the JRE which in addition to what the JRE provides is also capable to compile your source code into byte-code understandable by the JVM, debugging tools and other things that are helpful during development phase.</p>\n<h2>What is JDK1.8</h2>\n<p>It is just one of the many versions of the JDK. Having big improvements from It's predecessor JDK1.7 with new features such as lambda expressions, Streams support, among others it impulse the language towards a more friendly approach to functional programming style, among other improvements.</p>\n<h2>Why JDK1.8</h2>\n<p>A few years back it became &quot;the new thing&quot;, to the point that many frameworks started cutting support for older versions of Java, and it became the preferred environment to use.</p>\n<p>However it <strong>should not be seen as an standard</strong> since technology is a fast evolving environment, and newer versions will always boost performance, have more interesting features that boost your productivity, etc.</p>\n<h2>Current status (2023)</h2>\n<p>Java 8 (and JDK 1.8) do not receive any new features, or patches for security updates, so that is one of the reasons I wouldn't call it an standard, even though is probably still largely used.</p>\n<p>Always keep an eye to the end of life dates of versions and also the newer versions releases: <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Java_version_history</a></p>\n<p>Especially look at the LTS (Long Term Support) releases as those will receive support for extended periods, while other versions will test-out new features.</p>\n"}],"owner":{"account_id":28784332,"reputation":3,"user_id":22045205,"display_name":"Joon Lim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1686281741,"accepted_answer_id":76437011,"answer_count":3,"score":-2,"last_activity_date":1686281078,"creation_date":1686279045,"question_id":76436886,"body_markdown":"As a beginner of backend developer, there are many senior developers ask me what is the jdk. I simply answerd the jdk is java development kit, it helps developer to make java-based program and includes jre and jvm that can run java program on computer.\r\n\r\nBefore ask question at Stack Overflow, I&#39;ve looked up what is jdk and why we usually use jdk1.8. However, I cannot find clear answer(maybe I&#39;m not enough clever to understand what I found). Also, there are some answers that jdk is Java8 or some other version of Java. These kind of answers make me confused a lot.\r\n\r\nAnyway, would you kindly answer me what is jdk and why developers usually use jdk1.8? Please tell me your opinions.\r\n\r\np.s) I&#39;m a junior developer and I&#39;ve been worked as a backend developer about an year. \r\n\r\nI googled the jdk and looked up some information about jdk at oracle.net and the wikipedia. After understanding the definition of jdk, I hope to listen more clear answers from senior developers.","title":"What is the jdk1.8 and why developers usually use the jdk1.8?","body":"<p>As a beginner of backend developer, there are many senior developers ask me what is the jdk. I simply answerd the jdk is java development kit, it helps developer to make java-based program and includes jre and jvm that can run java program on computer.</p>\n<p>Before ask question at Stack Overflow, I've looked up what is jdk and why we usually use jdk1.8. However, I cannot find clear answer(maybe I'm not enough clever to understand what I found). Also, there are some answers that jdk is Java8 or some other version of Java. These kind of answers make me confused a lot.</p>\n<p>Anyway, would you kindly answer me what is jdk and why developers usually use jdk1.8? Please tell me your opinions.</p>\n<p>p.s) I'm a junior developer and I've been worked as a backend developer about an year.</p>\n<p>I googled the jdk and looked up some information about jdk at oracle.net and the wikipedia. After understanding the definition of jdk, I hope to listen more clear answers from senior developers.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":896531,"reputation":171,"user_id":933666,"display_name":"frijj2k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352762216,"creation_date":1352762216,"answer_id":13353215,"question_id":12175259,"body_markdown":"You could use VideoView on it&#39;s own and call it&#39;s methods to control playback such as **start()**, **stopPlayback()**, **pause()**, **resume()**, **seekTo()** etc. (*See class reference here:* [http://developer.android.com/reference/android/widget/VideoView.html][1])\r\n\r\nJust create your on-screen controls however you want (buttons/images) and bind your playback control code code to their events.\r\n\r\nYou will also want to disable the inbuilt VideoView controls by removing the touchable property in the layout.xml...\r\n\r\n    &lt;VideoView \r\n        android:id=&quot;@+id/myVideoView&quot; \r\n        android:layout_width=&quot;fill_parent&quot; \r\n        android:layout_height=&quot;wrap_content&quot; \r\n        android:clickable=&quot;false&quot; &gt;\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/VideoView.html","title":"Custom MediaPlayer class in android","body":"<p>You could use VideoView on it's own and call it's methods to control playback such as <strong>start()</strong>, <strong>stopPlayback()</strong>, <strong>pause()</strong>, <strong>resume()</strong>, <strong>seekTo()</strong> etc. (<em>See class reference here:</em> <a href=\"http://developer.android.com/reference/android/widget/VideoView.html\" rel=\"nofollow\">http://developer.android.com/reference/android/widget/VideoView.html</a>)</p>\n\n<p>Just create your on-screen controls however you want (buttons/images) and bind your playback control code code to their events.</p>\n\n<p>You will also want to disable the inbuilt VideoView controls by removing the touchable property in the layout.xml...</p>\n\n<pre><code>&lt;VideoView \n    android:id=\"@+id/myVideoView\" \n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"wrap_content\" \n    android:clickable=\"false\" &gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7422340,"reputation":2446,"user_id":5646176,"accept_rate":50,"display_name":"RonTLV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530705458,"creation_date":1530705458,"answer_id":51173144,"question_id":12175259,"body_markdown":"I recommend using VLC as it support nearly all video formats, and of-course streaming.\r\nYou can try to pick up on a pre-compiled libvlc AAR file from github or compile VLC by yourself: [AndroidCompile](https://wiki.videolan.org/AndroidCompile/).\r\n\r\nExample of pre-compiled libvlc you can find here:\r\nhttps://github.com/mrmaffen/vlc-android-sdk\r\n\r\nThis is not the latest version by I believe it will be good for your needs. Next you will will need to create the code around the library. Example:\r\nhttps://github.com/Ivshti/libvlc-android-sample","title":"Custom MediaPlayer class in android","body":"<p>I recommend using VLC as it support nearly all video formats, and of-course streaming.\nYou can try to pick up on a pre-compiled libvlc AAR file from github or compile VLC by yourself: <a href=\"https://wiki.videolan.org/AndroidCompile/\" rel=\"nofollow noreferrer\">AndroidCompile</a>.</p>\n\n<p>Example of pre-compiled libvlc you can find here:\n<a href=\"https://github.com/mrmaffen/vlc-android-sdk\" rel=\"nofollow noreferrer\">https://github.com/mrmaffen/vlc-android-sdk</a></p>\n\n<p>This is not the latest version by I believe it will be good for your needs. Next you will will need to create the code around the library. Example:\n<a href=\"https://github.com/Ivshti/libvlc-android-sample\" rel=\"nofollow noreferrer\">https://github.com/Ivshti/libvlc-android-sample</a></p>\n"},{"tags":[],"owner":{"account_id":26066873,"reputation":22,"user_id":19767189,"display_name":"Will Shaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686280243,"creation_date":1686280243,"answer_id":76436968,"question_id":12175259,"body_markdown":"This may not help but you can I know for music players you just create java class, and create your mediaplayer, name public your name extends mediaplayer. Refer to Vanilla music github, search for vanilla music player and copy class to your app and Change a few things like requesting audio effects, for equaliser I put custom stuff in onprepared for my class, and incompletetion listener, then simply change the Mediaplayer player = new Mediaplayer, with For e.g. my name I used from vanilla mediaplayer so then say VanillaMediaplayer player or variable = new VanillaMediaplayer it helps also do less work, then use as you wish, hope this helps.","title":"Custom MediaPlayer class in android","body":"<p>This may not help but you can I know for music players you just create java class, and create your mediaplayer, name public your name extends mediaplayer. Refer to Vanilla music github, search for vanilla music player and copy class to your app and Change a few things like requesting audio effects, for equaliser I put custom stuff in onprepared for my class, and incompletetion listener, then simply change the Mediaplayer player = new Mediaplayer, with For e.g. my name I used from vanilla mediaplayer so then say VanillaMediaplayer player or variable = new VanillaMediaplayer it helps also do less work, then use as you wish, hope this helps.</p>\n"}],"owner":{"account_id":1628094,"reputation":22417,"user_id":1503155,"accept_rate":80,"display_name":"Lazy Ninja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2231,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1686280243,"creation_date":1346234101,"question_id":12175259,"body_markdown":"I have just finished a project where I use a webwiew for video playback. Now I am asked to replace the webview part with a custom player. The player should be capable to handle HLS.\r\n\r\nIf I use VideoView and MediaController, I can play live stream. But unfortunately, the MediaController has its own controls. I want my own controls and thats where I am stuck.\r\n\r\nSo far I tried:\r\n\r\n 1. To write the MediaController class all over again and try to change\r\n    the layout. It didnt work because I could not clear all the errors\r\n    due to the dependencies.\r\n 2. I tried using vidtry code (http://github.com/commonsguy/vidtry) for\r\n    reference but no luck.\r\n 3. I tried to build a class that extends MediaController but that didnt\r\n    work either.\r\n\r\nI have been in almost every thread on Stackoverflow regarding custom media player but couldnt find information to get me started.&lt;br&gt;\r\nIs it possible to create a custom media player class without using NDK?&lt;br&gt;\r\nIf someone knows how to create a custom media player class, please help me.&lt;br&gt;","title":"Custom MediaPlayer class in android","body":"<p>I have just finished a project where I use a webwiew for video playback. Now I am asked to replace the webview part with a custom player. The player should be capable to handle HLS.</p>\n\n<p>If I use VideoView and MediaController, I can play live stream. But unfortunately, the MediaController has its own controls. I want my own controls and thats where I am stuck.</p>\n\n<p>So far I tried:</p>\n\n<ol>\n<li>To write the MediaController class all over again and try to change\nthe layout. It didnt work because I could not clear all the errors\ndue to the dependencies.</li>\n<li>I tried using vidtry code (<a href=\"http://github.com/commonsguy/vidtry\" rel=\"nofollow noreferrer\">http://github.com/commonsguy/vidtry</a>) for\nreference but no luck.</li>\n<li>I tried to build a class that extends MediaController but that didnt\nwork either.</li>\n</ol>\n\n<p>I have been in almost every thread on Stackoverflow regarding custom media player but couldnt find information to get me started.<br>\nIs it possible to create a custom media player class without using NDK?<br>\nIf someone knows how to create a custom media player class, please help me.<br></p>\n"},{"tags":["java","memory","garbage-collection","g1gc"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1686271366,"post_id":76436415,"comment_id":134779765,"body_markdown":"Use `-XX:+PrintFlagsFinal` to print out the actual flags ... and to confirm your assumptions about the defaults.","body":"Use <code>-XX:+PrintFlagsFinal</code> to print out the actual flags ... and to confirm your assumptions about the defaults."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686271426,"post_id":76436415,"comment_id":134779772,"body_markdown":"Also, note that running the GC periodically won&#39;t cure a (real) memory leak.","body":"Also, note that running the GC periodically won&#39;t cure a (real) memory leak."}],"answers":[{"tags":[],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686279449,"creation_date":1686279449,"answer_id":76436916,"question_id":76436415,"body_markdown":"Thanks @StephenC for the comment to my question! I have tried `-XX:+PrintFlagsFinal` and it confirms your suspicion:\r\n\r\n```\r\n$ journalctl -u myapp|grep Periodic\r\n 6月 09 11:48:27 filinux01 start-nnd[86668]: uintx G1PeriodicGCInterval                     = 600000                                 {manageable} {command line}\r\n 6月 09 11:48:27 filinux01 start-nnd[86668]: bool G1PeriodicGCInvokesConcurrent            = true                                      {product} {default}\r\n 6月 09 11:48:27 filinux01 start-nnd[86668]: double G1PeriodicGCSystemLoadThreshold          = 0.900000                               {manageable} {command line}\r\n```\r\n\r\nSo I added `-XX:-G1PeriodicGCInvokesConcurrent` to the jvm arguments and now it works as expected:\r\n```\r\n[0.006s][info][gc] Using G1\r\n[0.527s][info][gc] GC(0) Pause Young (Normal) (G1 Evacuation Pause) 39M-&gt;13M(776M) 3.500ms\r\n[12.049s][info][gc] GC(1) Pause Full (G1 Periodic Collection) 24M-&gt;13M(136M) 15.156ms\r\n[18.075s][info][gc] GC(2) Pause Full (G1 Periodic Collection) 13M-&gt;13M(80M) 25.214ms\r\n[24.098s][info][gc] GC(3) Pause Full (G1 Periodic Collection) 13M-&gt;13M(80M) 20.581ms\r\n```","title":"How to make G1 do periodic full GCs?","body":"<p>Thanks @StephenC for the comment to my question! I have tried <code>-XX:+PrintFlagsFinal</code> and it confirms your suspicion:</p>\n<pre><code>$ journalctl -u myapp|grep Periodic\n 6月 09 11:48:27 filinux01 start-nnd[86668]: uintx G1PeriodicGCInterval                     = 600000                                 {manageable} {command line}\n 6月 09 11:48:27 filinux01 start-nnd[86668]: bool G1PeriodicGCInvokesConcurrent            = true                                      {product} {default}\n 6月 09 11:48:27 filinux01 start-nnd[86668]: double G1PeriodicGCSystemLoadThreshold          = 0.900000                               {manageable} {command line}\n</code></pre>\n<p>So I added <code>-XX:-G1PeriodicGCInvokesConcurrent</code> to the jvm arguments and now it works as expected:</p>\n<pre><code>[0.006s][info][gc] Using G1\n[0.527s][info][gc] GC(0) Pause Young (Normal) (G1 Evacuation Pause) 39M-&gt;13M(776M) 3.500ms\n[12.049s][info][gc] GC(1) Pause Full (G1 Periodic Collection) 24M-&gt;13M(136M) 15.156ms\n[18.075s][info][gc] GC(2) Pause Full (G1 Periodic Collection) 13M-&gt;13M(80M) 25.214ms\n[24.098s][info][gc] GC(3) Pause Full (G1 Periodic Collection) 13M-&gt;13M(80M) 20.581ms\n</code></pre>\n"},{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686279975,"creation_date":1686279975,"answer_id":76436951,"question_id":76436415,"body_markdown":"You don&#39;t have a memory leak, otherwise it would not fully shrunk and you would have an Out of Memory error and/or high CPU usage in the collector. \r\n\r\nYou should not try to change the default configuration of the garbage collector. Increasing the number of full GCs will impact performance for no reason or gain. The garbage collector algorithm is complex and runs full GC only if it is needed. Nothing that you mention indicates a need. Most improvements in Java GC algorithms are to reduce the need for full GC, which impacts performance. Changing the configurations needs to be done with understanding of each configuration and fully testing performance of each change.\r\n\r\nInstead analyze the heap dumps you are taking to understand what may be using that memory. Note that heap dump analysis requires understanding of Java heap memory use by objects and references. ","title":"How to make G1 do periodic full GCs?","body":"<p>You don't have a memory leak, otherwise it would not fully shrunk and you would have an Out of Memory error and/or high CPU usage in the collector.</p>\n<p>You should not try to change the default configuration of the garbage collector. Increasing the number of full GCs will impact performance for no reason or gain. The garbage collector algorithm is complex and runs full GC only if it is needed. Nothing that you mention indicates a need. Most improvements in Java GC algorithms are to reduce the need for full GC, which impacts performance. Changing the configurations needs to be done with understanding of each configuration and fully testing performance of each change.</p>\n<p>Instead analyze the heap dumps you are taking to understand what may be using that memory. Note that heap dump analysis requires understanding of Java heap memory use by objects and references.</p>\n"}],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76436916,"answer_count":2,"score":1,"last_activity_date":1686279975,"creation_date":1686269250,"question_id":76436415,"body_markdown":"The allocated memory of our Java app (as verified using `top`) continuously grows as days pass, to 8 GB and more.\r\n\r\nWhen taking a heap dump to figure out whether there was a leak like so:\r\n```\r\njmap -dump:live,format=b,file=/tmp/myapp.hprof 17393\r\n```\r\nI noticed that after taking the dump, memory allocation shrunk considerably. The reason was found in the gc log. See the second line here:\r\n```\r\n[781944.122s][info][gc] GC(412) Pause Young (Normal) (G1 Evacuation Pause) 3948M-&gt;1021M(5256M) 38.430ms\r\n[782877.123s][info][gc] GC(413) Pause Full (Heap Dump Initiated GC) 3929M-&gt;471M(1712M) 200.948ms\r\n```\r\n\r\nSo my idea was to make G1 do a full heap dump periodically (1 minute interval for testing only), like so:\r\n```\r\njava -XX:G1PeriodicGCInterval=60000 -XX:G1PeriodicGCSystemLoadThreshold=0.9 ...\r\n```\r\n\r\nNow when I check the logs, periodic GCs are being done when conditions are met, but they aren&#39;t full GCs:\r\n```\r\n[240.042s][info][gc] GC(12) Pause Young (Concurrent Start) (G1 Periodic Collection) 405M-&gt;404M(2328M) 16.047ms\r\n[240.042s][info][gc] GC(13) Concurrent Mark Cycle\r\n[240.343s][info][gc] GC(13) Pause Remark 404M-&gt;388M(1360M) 2.564ms\r\n[240.479s][info][gc] GC(13) Pause Cleanup 389M-&gt;389M(1360M) 0.106ms\r\n[240.485s][info][gc] GC(13) Concurrent Mark Cycle 442.918ms\r\n\r\n[300.043s][info][gc] GC(14) Pause Young (Prepare Mixed) (G1 Periodic Collection) 392M-&gt;386M(1360M) 0.882ms\r\n\r\n[360.047s][info][gc] GC(15) Pause Young (Mixed) (G1 Periodic Collection) 390M-&gt;378M(1360M) 1.824ms\r\n\r\n[420.049s][info][gc] GC(16) Pause Young (Concurrent Start) (G1 Periodic Collection) 383M-&gt;378M(1360M) 1.144ms\r\n[420.049s][info][gc] GC(17) Concurrent Mark Cycle\r\n[420.382s][info][gc] GC(17) Pause Remark 378M-&gt;378M(1360M) 1.080ms\r\n[420.489s][info][gc] GC(17) Pause Cleanup 378M-&gt;378M(1360M) 0.105ms\r\n[420.495s][info][gc] GC(17) Concurrent Mark Cycle 445.553ms\r\n```\r\n\r\nThe [G1 tuning docs](https://docs.oracle.com/en/java/javase/17/gctuning/garbage-first-garbage-collector-tuning.html#GUID-379B3888-FE24-4C3F-9E38-26434EB04F89) state:\r\n&gt; -XX:+G1PeriodicGCInvokesConcurrent \t\r\n&gt; \r\n&gt; If set, periodic garbage collections trigger a concurrent marking or continue the existing collection cycle, otherwise trigger a Full GC.\r\n\r\nAs I am not setting `G1PeriodicGCInvokesConcurrent`, I would expect full GCs. What am I missing?\r\n\r\nN.B. This is Java 17:\r\n```\r\n$ java -version\r\nopenjdk version &quot;17.0.7&quot; 2023-04-18 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.7.7.1 (build 17.0.7+7-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.7.7.1 (build 17.0.7+7-LTS, mixed mode, sharing)\r\n```","title":"How to make G1 do periodic full GCs?","body":"<p>The allocated memory of our Java app (as verified using <code>top</code>) continuously grows as days pass, to 8 GB and more.</p>\n<p>When taking a heap dump to figure out whether there was a leak like so:</p>\n<pre><code>jmap -dump:live,format=b,file=/tmp/myapp.hprof 17393\n</code></pre>\n<p>I noticed that after taking the dump, memory allocation shrunk considerably. The reason was found in the gc log. See the second line here:</p>\n<pre><code>[781944.122s][info][gc] GC(412) Pause Young (Normal) (G1 Evacuation Pause) 3948M-&gt;1021M(5256M) 38.430ms\n[782877.123s][info][gc] GC(413) Pause Full (Heap Dump Initiated GC) 3929M-&gt;471M(1712M) 200.948ms\n</code></pre>\n<p>So my idea was to make G1 do a full heap dump periodically (1 minute interval for testing only), like so:</p>\n<pre><code>java -XX:G1PeriodicGCInterval=60000 -XX:G1PeriodicGCSystemLoadThreshold=0.9 ...\n</code></pre>\n<p>Now when I check the logs, periodic GCs are being done when conditions are met, but they aren't full GCs:</p>\n<pre><code>[240.042s][info][gc] GC(12) Pause Young (Concurrent Start) (G1 Periodic Collection) 405M-&gt;404M(2328M) 16.047ms\n[240.042s][info][gc] GC(13) Concurrent Mark Cycle\n[240.343s][info][gc] GC(13) Pause Remark 404M-&gt;388M(1360M) 2.564ms\n[240.479s][info][gc] GC(13) Pause Cleanup 389M-&gt;389M(1360M) 0.106ms\n[240.485s][info][gc] GC(13) Concurrent Mark Cycle 442.918ms\n\n[300.043s][info][gc] GC(14) Pause Young (Prepare Mixed) (G1 Periodic Collection) 392M-&gt;386M(1360M) 0.882ms\n\n[360.047s][info][gc] GC(15) Pause Young (Mixed) (G1 Periodic Collection) 390M-&gt;378M(1360M) 1.824ms\n\n[420.049s][info][gc] GC(16) Pause Young (Concurrent Start) (G1 Periodic Collection) 383M-&gt;378M(1360M) 1.144ms\n[420.049s][info][gc] GC(17) Concurrent Mark Cycle\n[420.382s][info][gc] GC(17) Pause Remark 378M-&gt;378M(1360M) 1.080ms\n[420.489s][info][gc] GC(17) Pause Cleanup 378M-&gt;378M(1360M) 0.105ms\n[420.495s][info][gc] GC(17) Concurrent Mark Cycle 445.553ms\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/garbage-first-garbage-collector-tuning.html#GUID-379B3888-FE24-4C3F-9E38-26434EB04F89\" rel=\"nofollow noreferrer\">G1 tuning docs</a> state:</p>\n<blockquote>\n<p>-XX:+G1PeriodicGCInvokesConcurrent</p>\n<p>If set, periodic garbage collections trigger a concurrent marking or continue the existing collection cycle, otherwise trigger a Full GC.</p>\n</blockquote>\n<p>As I am not setting <code>G1PeriodicGCInvokesConcurrent</code>, I would expect full GCs. What am I missing?</p>\n<p>N.B. This is Java 17:</p>\n<pre><code>$ java -version\nopenjdk version &quot;17.0.7&quot; 2023-04-18 LTS\nOpenJDK Runtime Environment Corretto-17.0.7.7.1 (build 17.0.7+7-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.7.7.1 (build 17.0.7+7-LTS, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","exception","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683727465,"creation_date":1683727465,"answer_id":76219377,"question_id":76218851,"body_markdown":"To produce an error you can use `Mono.error(throwable)`.\r\n\r\nBut the another problem in your code that you do the validation in `doOnNext`, which is not supposed to change the flow. Better to use `flatMap`.\r\n\r\nYou can do something like:\r\n\r\n    userService.getUser()\r\n                .flatMap(response -&gt; {\r\n                   try {\r\n                      validate(response.getData());\r\n                      return Mono.just(response);\r\n                   } catch (Throwable t) {\r\n                      return Mono.error(t);\r\n                   }\r\n                })","title":"How to throw an Error explicitly while processing Mono","body":"<p>To produce an error you can use <code>Mono.error(throwable)</code>.</p>\n<p>But the another problem in your code that you do the validation in <code>doOnNext</code>, which is not supposed to change the flow. Better to use <code>flatMap</code>.</p>\n<p>You can do something like:</p>\n<pre><code>userService.getUser()\n            .flatMap(response -&gt; {\n               try {\n                  validate(response.getData());\n                  return Mono.just(response);\n               } catch (Throwable t) {\n                  return Mono.error(t);\n               }\n            })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683744631,"creation_date":1683744631,"answer_id":76221722,"question_id":76218851,"body_markdown":"The simplest way would be the following:\r\n```java\r\ngetUser()\r\n    .map(response -&gt; {\r\n        validate(response);\r\n        return response;\r\n    })\r\n```\r\n\r\nIf it&#39;s possible for you to make changes to the `validate` method, I would suggest doing it in the following manner:\r\n\r\n```java\r\ngetUser()\r\n    .handle((response, sink) -&gt; {\r\n        if (isValid(response)) {\r\n            sink.next(response);\r\n        } else {\r\n            sink.error(new RuntimeException(&quot;...&quot;));\r\n        }\r\n    })\r\n\r\n// where\r\npublic boolean isValid(User user) {\r\n    //...\r\n}\r\n```","title":"How to throw an Error explicitly while processing Mono","body":"<p>The simplest way would be the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getUser()\n    .map(response -&gt; {\n        validate(response);\n        return response;\n    })\n</code></pre>\n<p>If it's possible for you to make changes to the <code>validate</code> method, I would suggest doing it in the following manner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getUser()\n    .handle((response, sink) -&gt; {\n        if (isValid(response)) {\n            sink.next(response);\n        } else {\n            sink.error(new RuntimeException(&quot;...&quot;));\n        }\n    })\n\n// where\npublic boolean isValid(User user) {\n    //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28759342,"reputation":11,"user_id":22025617,"display_name":"migueljacuinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686279430,"creation_date":1686279430,"answer_id":76436915,"question_id":76218851,"body_markdown":"What if you try something like this:\r\n\r\n```java\r\n    public Mono&lt;Response&gt; handleResponse() {\r\n            return Mono.fromFuture(userService.getUser()\r\n                    .doOnNext(response -&gt; validate(response.getData()))\r\n                    .handle((response, throwable) -&gt; {\r\n                          if (throwable == null) {\r\n                              return response;\r\n                          } else {\r\n                              throw new RuntimeException();\r\n                          }\r\n                     });\r\n    }","title":"How to throw an Error explicitly while processing Mono","body":"<p>What if you try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;Response&gt; handleResponse() {\n            return Mono.fromFuture(userService.getUser()\n                    .doOnNext(response -&gt; validate(response.getData()))\n                    .handle((response, throwable) -&gt; {\n                          if (throwable == null) {\n                              return response;\n                          } else {\n                              throw new RuntimeException();\n                          }\n                     });\n    }\n</code></pre>\n"}],"owner":{"account_id":25024249,"reputation":1,"user_id":18882632,"display_name":"Mihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686279430,"creation_date":1683724269,"question_id":76218851,"body_markdown":"I need to know how to throw an exception explicitly while executing the Mono. I&#39;m not able to subscribe, block Mono because it has end (down-stream) subscriber. Just need to validate the data and throw exception explicitly to perform retry.\r\n```\r\n    public Mono&lt;Response&gt; handleResponse() {\r\n\t\treturn userService.getUser()\r\n\t\t\t\t.doOnNext(response -&gt; validate(response.getData()))\r\n\t\t\t\t.onErrorResume(ex -&gt; {\r\n                    // not working\r\n\t\t\t\t\tthrow Exceptions.propagete(ex);\r\n\t\t\t\t});\r\n\t}\r\n\t\r\n\tprivate void validate() {\r\n        .....\r\n\t\tthrow new RuntimeException();\r\n\t}\r\n```\r\n\r\n```\r\n@Retyable(value = {RuntimeException.class})\r\n```\r\n\r\nIf no exception, it will return Mono to next level. I can use Mono retry itself but need to know is there any way to solve this. ","title":"How to throw an Error explicitly while processing Mono","body":"<p>I need to know how to throw an exception explicitly while executing the Mono. I'm not able to subscribe, block Mono because it has end (down-stream) subscriber. Just need to validate the data and throw exception explicitly to perform retry.</p>\n<pre><code>    public Mono&lt;Response&gt; handleResponse() {\n        return userService.getUser()\n                .doOnNext(response -&gt; validate(response.getData()))\n                .onErrorResume(ex -&gt; {\n                    // not working\n                    throw Exceptions.propagete(ex);\n                });\n    }\n    \n    private void validate() {\n        .....\n        throw new RuntimeException();\n    }\n</code></pre>\n<pre><code>@Retyable(value = {RuntimeException.class})\n</code></pre>\n<p>If no exception, it will return Mono to next level. I can use Mono retry itself but need to know is there any way to solve this.</p>\n"},{"tags":["java","android","android-recyclerview","runtime-error","searchview"],"comments":[{"owner":{"account_id":28784156,"reputation":1,"user_id":22045079,"display_name":"Adchayan Sivakumar"},"score":0,"creation_date":1686278459,"post_id":76436739,"comment_id":134780297,"body_markdown":"UPDATE: I also have one as home_fragment.java. it&#39;s in home fragment so DO I need to transfer code from MainActivity.java to home_fragment.java","body":"UPDATE: I also have one as home_fragment.java. it&#39;s in home fragment so DO I need to transfer code from MainActivity.java to home_fragment.java"}],"owner":{"account_id":28784156,"reputation":1,"user_id":22045079,"display_name":"Adchayan Sivakumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686278497,"creation_date":1686276154,"question_id":76436739,"body_markdown":"I have putted a search bar in homescreen, For that I need to place recyclerView only when a search happened, I haven&#39;t hide it in code, But it&#39;s not showing. I don&#39;t know why. also, I need to make it only visible when searching, So that my otherbuttons can stay there.\r\n\r\nAdapter class:\r\n\r\n```\r\npackage com.jhc.ygc;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.List;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\r\nprivate List&lt;SearchItems&gt; results;\r\n\r\n    public MyAdapter(List&lt;SearchItems&gt; results) {\r\n        this.results = results;\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_search, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n    \r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        SearchItems item = results.get(position);\r\n        holder.nameTextView.setText(item.getName());\r\n    \r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Perform action when the item is clicked\r\n                // You can access the selected item using the position parameter\r\n                SearchItems selectedItem = results.get(position);\r\n                String selectedName = selectedItem.getName();\r\n    \r\n                // Call your desired method or perform the necessary action with the selected item\r\n                performAction(selectedItem);\r\n            }\r\n        });\r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return results.size();\r\n    }\r\n    \r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView nameTextView;\r\n    \r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            nameTextView = itemView.findViewById(R.id.text_name);\r\n        }\r\n    }\r\n    \r\n    private void performAction(SearchItems item) {\r\n        // Implement your desired action here\r\n        // This method will be called when an item is clicked\r\n        String link = item.getLink();\r\n        Character type = item.getType();\r\n        switch (type) {\r\n            case &#39;v&#39;:\r\n                // Video\r\n                // Add your video action here\r\n                break;\r\n            case &#39;a&#39;:\r\n                // Audio\r\n                // Add your audio action here\r\n                break;\r\n            case &#39;q&#39;:\r\n                // Quiz\r\n                // Add your quiz action here\r\n                break;\r\n            case &#39;e&#39;:\r\n                // Ebook\r\n                // Add your ebook action here\r\n                break;\r\n            default:\r\n                // Error or fallback action\r\n                break;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nDatabase class:\r\n\r\n```\r\npackage com.jhc.ygc;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Database {\r\n    private List&lt;SearchItems&gt; myObjects;\r\n\r\n    public Database() {\r\n        myObjects = new ArrayList&lt;&gt;();\r\n        // Add objects to the database\r\n        //Grade 6 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 6 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 6 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 6 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 6 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 6 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 6 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=ict&quot;,&#39;v&#39;));\r\n        //Grade 7 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 7 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 7 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 7 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 7 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 7 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 7 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=ict&quot;,&#39;v&#39;));\r\n        //Grade 8 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 8 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 8 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 8 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 8 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 8 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 8 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=ict&quot;,&#39;v&#39;));\r\n        //Grade 9 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 9 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 9 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 9 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 9 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 9 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 9 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=ict&quot;,&#39;v&#39;));\r\n        //Grade 10 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 10 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 10 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 10 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 10 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 10 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 10 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=ict&quot;,&#39;v&#39;));\r\n        //Grade 11 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 11 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 11 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 11 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 11 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 11 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 11 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=ict&quot;,&#39;v&#39;));\r\n    }\r\n\r\n    public List&lt;SearchItems&gt; searchObjects(String query) {\r\n        List&lt;SearchItems&gt; results = new ArrayList&lt;&gt;();\r\n\r\n        for (SearchItems object : myObjects) {\r\n            if (object.getName().toLowerCase().contains(query.toLowerCase())) {\r\n                results.add(object);\r\n            }\r\n        }\r\n\r\n        return results;\r\n    }\r\n}\r\n```\r\n\r\nSearchItems Class:\r\n\r\n```\r\npackage com.jhc.ygc;\r\n\r\npublic class SearchItems {\r\n    private String name;\r\n    private String link;\r\n    private Character type; // AudioBook = a,Video = v, quiz=q,ebook=e (ONLY a,v,q,e)\r\n\r\n    public SearchItems(String name, String link,Character type) {\r\n        this.name = name;\r\n        this.link = link;\r\n        this.type = type;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getLink() {\r\n        return link;\r\n    }\r\n\r\n    public Character getType() {\r\n        return type;\r\n    }\r\n}\r\n```\r\n\r\nitem_search.xml:\r\n\r\n```\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;200dp&quot;\r\n    android:gravity=&quot;center_vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text_name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Item&quot;\r\n        android:textSize=&quot;20dp&quot;/&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nPart of activity_main.xml:\r\n\r\n```\r\n&lt;SearchView\r\n        android:id=&quot;@+id/search_bar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/search&quot;\r\n        android:orientation=&quot;vertical&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recycler&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        /&gt;\r\n```\r\n\r\nI tried to make many changes like LinearLayout manager, many suggestions in Stackoverflow and ChatGPT. Nothing worked.\r\n\r\nUPDATE: I also have one as home_fragment.java. it&#39;s in home fragment so DO I need to transfer code from MainActivity.java to home_fragment.java","title":"I want to show a recycler bar. But, it&#39;s not showing","body":"<p>I have putted a search bar in homescreen, For that I need to place recyclerView only when a search happened, I haven't hide it in code, But it's not showing. I don't know why. also, I need to make it only visible when searching, So that my otherbuttons can stay there.</p>\n<p>Adapter class:</p>\n<pre><code>package com.jhc.ygc;\n\nimport android.annotation.SuppressLint;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\nprivate List&lt;SearchItems&gt; results;\n\n    public MyAdapter(List&lt;SearchItems&gt; results) {\n        this.results = results;\n    }\n    \n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_search, parent, false);\n        return new ViewHolder(view);\n    }\n    \n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        SearchItems item = results.get(position);\n        holder.nameTextView.setText(item.getName());\n    \n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Perform action when the item is clicked\n                // You can access the selected item using the position parameter\n                SearchItems selectedItem = results.get(position);\n                String selectedName = selectedItem.getName();\n    \n                // Call your desired method or perform the necessary action with the selected item\n                performAction(selectedItem);\n            }\n        });\n    }\n    \n    @Override\n    public int getItemCount() {\n        return results.size();\n    }\n    \n    public class ViewHolder extends RecyclerView.ViewHolder {\n        TextView nameTextView;\n    \n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            nameTextView = itemView.findViewById(R.id.text_name);\n        }\n    }\n    \n    private void performAction(SearchItems item) {\n        // Implement your desired action here\n        // This method will be called when an item is clicked\n        String link = item.getLink();\n        Character type = item.getType();\n        switch (type) {\n            case 'v':\n                // Video\n                // Add your video action here\n                break;\n            case 'a':\n                // Audio\n                // Add your audio action here\n                break;\n            case 'q':\n                // Quiz\n                // Add your quiz action here\n                break;\n            case 'e':\n                // Ebook\n                // Add your ebook action here\n                break;\n            default:\n                // Error or fallback action\n                break;\n        }\n    }\n\n}\n</code></pre>\n<p>Database class:</p>\n<pre><code>package com.jhc.ygc;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Database {\n    private List&lt;SearchItems&gt; myObjects;\n\n    public Database() {\n        myObjects = new ArrayList&lt;&gt;();\n        // Add objects to the database\n        //Grade 6 Video\n        myObjects.add(new SearchItems(&quot;Grade 6 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 6 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 6 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 6 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 6 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 6 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=ict&quot;,'v'));\n        //Grade 7 Video\n        myObjects.add(new SearchItems(&quot;Grade 7 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 7 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 7 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 7 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 7 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 7 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=ict&quot;,'v'));\n        //Grade 8 Video\n        myObjects.add(new SearchItems(&quot;Grade 8 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 8 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 8 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 8 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 8 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 8 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=ict&quot;,'v'));\n        //Grade 9 Video\n        myObjects.add(new SearchItems(&quot;Grade 9 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 9 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 9 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 9 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 9 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 9 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=ict&quot;,'v'));\n        //Grade 10 Video\n        myObjects.add(new SearchItems(&quot;Grade 10 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 10 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 10 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 10 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 10 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 10 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=ict&quot;,'v'));\n        //Grade 11 Video\n        myObjects.add(new SearchItems(&quot;Grade 11 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 11 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 11 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 11 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 11 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 11 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=ict&quot;,'v'));\n    }\n\n    public List&lt;SearchItems&gt; searchObjects(String query) {\n        List&lt;SearchItems&gt; results = new ArrayList&lt;&gt;();\n\n        for (SearchItems object : myObjects) {\n            if (object.getName().toLowerCase().contains(query.toLowerCase())) {\n                results.add(object);\n            }\n        }\n\n        return results;\n    }\n}\n</code></pre>\n<p>SearchItems Class:</p>\n<pre><code>package com.jhc.ygc;\n\npublic class SearchItems {\n    private String name;\n    private String link;\n    private Character type; // AudioBook = a,Video = v, quiz=q,ebook=e (ONLY a,v,q,e)\n\n    public SearchItems(String name, String link,Character type) {\n        this.name = name;\n        this.link = link;\n        this.type = type;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getLink() {\n        return link;\n    }\n\n    public Character getType() {\n        return type;\n    }\n}\n</code></pre>\n<p>item_search.xml:</p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;200dp&quot;\n    android:gravity=&quot;center_vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Item&quot;\n        android:textSize=&quot;20dp&quot;/&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Part of activity_main.xml:</p>\n<pre><code>&lt;SearchView\n        android:id=&quot;@+id/search_bar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/search&quot;\n        android:orientation=&quot;vertical&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recycler&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:visibility=&quot;visible&quot;\n        /&gt;\n</code></pre>\n<p>I tried to make many changes like LinearLayout manager, many suggestions in Stackoverflow and ChatGPT. Nothing worked.</p>\n<p>UPDATE: I also have one as home_fragment.java. it's in home fragment so DO I need to transfer code from MainActivity.java to home_fragment.java</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686264084,"post_id":76435217,"comment_id":134779013,"body_markdown":"we have no idea what is going on. this is impossible to answer, you must include all annotations above the class, your security configuration and your FULL trace logs. This is WAY too little information. Voted to close","body":"we have no idea what is going on. this is impossible to answer, you must include all annotations above the class, your security configuration and your FULL trace logs. This is WAY too little information. Voted to close"}],"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686277953,"creation_date":1686253269,"question_id":76435217,"body_markdown":"I am trying to implement spring security with authentication in spring boot ,i have a filter in which i am trying to authenticate request manually ,note that i do not want to use requestMatcher to permit request,this is my customFilter\r\n\r\n    public class AuthTokenFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private ObjectMapper mapper;\r\n\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    public AuthTokenFilter(AuthenticationManager authenticationManager) {\r\n        this.authenticationManager= authenticationManager;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        filterChain.doFilter(request,response);\r\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(&quot;Amit47@Gmail.com&quot;,&quot;ABC@!@#&quot;);\r\n        SecurityContext sc= SecurityContextHolder.getContext();\r\n        Authentication authentication = authenticationManager.authenticate(authenticationToken);\r\n        sc.setAuthentication(authentication);\r\n    }}\r\n\r\nbut i am encountering following issue while a request is made from postman \r\n\r\n    java.lang.StackOverflowError: null\r\n\tat org.springframework.aop.support.AopUtils.isEqualsMethod(AopUtils.java:151) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:175) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.1.0.jar:6.1.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.1.0.jar:6.1.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\r\n\r\nPlease find Below SecurityConfig FilterChain Bean\r\n\r\n     @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public DefaultSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n\r\n                .csrf().disable()\r\n                .formLogin().disable()\r\n                .httpBasic().disable()\r\n                .exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint())\r\n                .and()\r\n                .authorizeRequests()\r\n                .and()\r\n                .addFilterBefore(new CorsFilter(), ChannelProcessingFilter.class)\r\n                .addFilterBefore(authTokenFilter(http), UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n\r\n    @Bean\r\n        public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n            AuthenticationManagerBuilder authenticationManagerBuilder =\r\n                    http.getSharedObject(AuthenticationManagerBuilder.class);;\r\n            return authenticationManagerBuilder.build();\r\n        }\r\n\r\n\r\n","title":"authenticate request manually in Filter with SecurityContext","body":"<p>I am trying to implement spring security with authentication in spring boot ,i have a filter in which i am trying to authenticate request manually ,note that i do not want to use requestMatcher to permit request,this is my customFilter</p>\n<pre><code>public class AuthTokenFilter extends OncePerRequestFilter {\n\n@Autowired\nprivate ObjectMapper mapper;\n\nprivate AuthenticationManager authenticationManager;\n\n@Autowired\npublic AuthTokenFilter(AuthenticationManager authenticationManager) {\n    this.authenticationManager= authenticationManager;\n}\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    filterChain.doFilter(request,response);\n    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(&quot;Amit47@Gmail.com&quot;,&quot;ABC@!@#&quot;);\n    SecurityContext sc= SecurityContextHolder.getContext();\n    Authentication authentication = authenticationManager.authenticate(authenticationToken);\n    sc.setAuthentication(authentication);\n}}\n</code></pre>\n<p>but i am encountering following issue while a request is made from postman</p>\n<pre><code>java.lang.StackOverflowError: null\nat org.springframework.aop.support.AopUtils.isEqualsMethod(AopUtils.java:151) ~[spring-aop-6.0.9.jar:6.0.9]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:175) ~[spring-aop-6.0.9.jar:6.0.9]\nat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.1.0.jar:6.1.0]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.9.jar:6.0.9]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216) ~[spring-aop-6.0.9.jar:6.0.9]\nat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.1.0.jar:6.1.0]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.9.jar:6.0.9]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216) ~[spring-aop-6.0.9.jar:6.0.9]\nat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\n</code></pre>\n<p>Please find Below SecurityConfig FilterChain Bean</p>\n<pre><code> @Bean\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic DefaultSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n    http\n\n            .csrf().disable()\n            .formLogin().disable()\n            .httpBasic().disable()\n            .exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint())\n            .and()\n            .authorizeRequests()\n            .and()\n            .addFilterBefore(new CorsFilter(), ChannelProcessingFilter.class)\n            .addFilterBefore(authTokenFilter(http), UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n}\n\n\n@Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);;\n        return authenticationManagerBuilder.build();\n    }\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1686297716,"post_id":76436765,"comment_id":134782432,"body_markdown":"Apache POI is open source, so you absolutely have the ability to modify the source code! See https://poi.apache.org/devel/subversion.html for the various ways to download or checkout a copy","body":"Apache POI is open source, so you absolutely have the ability to modify the source code! See <a href=\"https://poi.apache.org/devel/subversion.html\" rel=\"nofollow noreferrer\">poi.apache.org/devel/subversion.html</a> for the various ways to download or checkout a copy"}],"owner":{"account_id":28784224,"reputation":1,"user_id":22045133,"display_name":"mapeifang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686276678,"creation_date":1686276678,"question_id":76436765,"body_markdown":"How to resolve the issue of POI not being able to retrieve automatically generated heading numbers in Word?\r\ne.g.The automatically generated Chinese heading numbers &#39;一&#39; are converted to Arabic numerals &#39;1&#39; after parsing with POI. How can I maintain their original format?\r\n\r\n\r\nI want to modify the source code, but I don&#39;t have the ability.","title":"How to resolve the issue of POI not being able to retrieve automatically generated heading numbers in Word?","body":"<p>How to resolve the issue of POI not being able to retrieve automatically generated heading numbers in Word?\ne.g.The automatically generated Chinese heading numbers '一' are converted to Arabic numerals '1' after parsing with POI. How can I maintain their original format?</p>\n<p>I want to modify the source code, but I don't have the ability.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9612,"page":380,"page_size":100}
