{"items":[{"tags":["java","mysql","database","triggers"],"answers":[{"tags":[],"owner":{"account_id":7462577,"reputation":463,"user_id":5673438,"display_name":"DaveTheRave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450906882,"creation_date":1450906882,"answer_id":34444168,"question_id":34442892,"body_markdown":"Ive seen this in another post. That claimed to work. Is this what yours looks like?\r\n\r\n    Statement stmt = db.prepareStatement(query,  Statement.RETURN_GENERATED_KEYS);\r\n    numero = stmt.executeUpdate();\r\n\r\n    ResultSet rs = stmt.getGeneratedKeys();\r\n    if (rs.next()){\r\n        risultato=rs.getInt(1);\r\n    }\r\n\r\nI have used SP&#39;s and here is an example of what I did.  I used an in/out parm to get it back...\r\n\r\n\tCREATE DEFINER=`scaha`@`localhost` PROCEDURE `updateprofile`(\r\n\t\tIN in_idprofile INT(10),\r\n\t\tIN in_usercode VARCHAR(50),\r\n\t\tIN in_pwd VARCHAR(50),\r\n\t\tIN in_nickname VARCHAR(50),\r\n\t\tIN in_isactive tinyint,\r\n\t\tIN in_updated timestamp,\r\n\t\tOUT out_idprofile INT(10))\r\n\tBEGIN\r\n\r\n\t/*  If the idprofile is &lt; 1 then we insert a new record.. */\r\n\t/*  otherwise its an update */\r\n\r\n\tif (in_idprofile &lt; 1) then\r\n\t\t\r\n\t\tinsert into scaha.profile (usercode, pwd, nickname, isactive,updated) values (in_usercode,in_pwd,in_nickname,in_isactive,in_updated);\r\n\t\tSET out_idprofile = LAST_INSERT_ID();\r\n\r\n\telse \r\n\t\tupdate scaha.profile set usercode = in_usercode, pwd = in_pwd, nickname = in_nickname, isactive = in_isactive, updated = in_updated \r\n\t\twhere idprofile = in_idprofile;\r\n\t\tSET out_idprofile = in_idprofile;\r\n\r\n\tend if;\r\n\r\n\tEND\r\n\r\n","title":"Retrieving Primary Key Generated By Trigger (Java)","body":"<p>Ive seen this in another post. That claimed to work. Is this what yours looks like?</p>\n\n<pre><code>Statement stmt = db.prepareStatement(query,  Statement.RETURN_GENERATED_KEYS);\nnumero = stmt.executeUpdate();\n\nResultSet rs = stmt.getGeneratedKeys();\nif (rs.next()){\n    risultato=rs.getInt(1);\n}\n</code></pre>\n\n<p>I have used SP's and here is an example of what I did.  I used an in/out parm to get it back...</p>\n\n<pre><code>CREATE DEFINER=`scaha`@`localhost` PROCEDURE `updateprofile`(\n    IN in_idprofile INT(10),\n    IN in_usercode VARCHAR(50),\n    IN in_pwd VARCHAR(50),\n    IN in_nickname VARCHAR(50),\n    IN in_isactive tinyint,\n    IN in_updated timestamp,\n    OUT out_idprofile INT(10))\nBEGIN\n\n/*  If the idprofile is &lt; 1 then we insert a new record.. */\n/*  otherwise its an update */\n\nif (in_idprofile &lt; 1) then\n\n    insert into scaha.profile (usercode, pwd, nickname, isactive,updated) values (in_usercode,in_pwd,in_nickname,in_isactive,in_updated);\n    SET out_idprofile = LAST_INSERT_ID();\n\nelse \n    update scaha.profile set usercode = in_usercode, pwd = in_pwd, nickname = in_nickname, isactive = in_isactive, updated = in_updated \n    where idprofile = in_idprofile;\n    SET out_idprofile = in_idprofile;\n\nend if;\n\nEND\n</code></pre>\n"}],"owner":{"account_id":162734,"reputation":1911,"user_id":384386,"accept_rate":74,"display_name":"celestialorb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646992834,"creation_date":1450900955,"question_id":34442892,"body_markdown":"Here&#39;s what I&#39;m attempting to do.  I have a Java program that decomms a telemetry stream into the individual raw fields.  I am passing these raw fields values into a MySQL table where each column is one of the fields.  In this database I also have a view that grabs all the telemetry data and calculates a few new derived columns based on raw data (e.g. raw counts to engineering units).  In my Java program, after insertion I would like to grab the corresponding row from the VIEW (raw + derived) and pass that data along elsewhere.\r\n\r\nOriginally I thought I could simply insert the raw data into the VIEW and have the row returned to me in a ResultSet in the Java program.  Unfortunately the data isn&#39;t returned in a ResultSet.\r\n\r\nWhat I&#39;m attempting to do now is insert the raw data into the table (this part works), get the primary key, then lookup the row from the VIEW.  The part I&#39;m struggling with is retrieving the primary key from the INSERT.  I&#39;m using a PreparedStatement generated from my Connection object and have supplied it with Statement.RETURN_GENERATED_KEYS.  However, when I call getGeneratedKeys() on my statement after I call executeUpdate() my ResultSet is always empty.  I can watch it insert the rows into the table while it&#39;s running...what am I doing wrong?\r\n\r\nCan I not retrieve the generated primary key in this fashion if the primary key is generated via a trigger?\r\n\r\nUPDATE: I&#39;ve tried swapping out the Statement.RETURN_GENERATED_KEYS for a String array with the name of the primary key column, but that doesn&#39;t seem to work either.\r\n\r\nI apologize for not including my code, but it would be difficult for me to do so.  I&#39;ve attempted to describe what I&#39;m doing to the best of my abilities.","title":"Retrieving Primary Key Generated By Trigger (Java)","body":"<p>Here's what I'm attempting to do.  I have a Java program that decomms a telemetry stream into the individual raw fields.  I am passing these raw fields values into a MySQL table where each column is one of the fields.  In this database I also have a view that grabs all the telemetry data and calculates a few new derived columns based on raw data (e.g. raw counts to engineering units).  In my Java program, after insertion I would like to grab the corresponding row from the VIEW (raw + derived) and pass that data along elsewhere.</p>\n\n<p>Originally I thought I could simply insert the raw data into the VIEW and have the row returned to me in a ResultSet in the Java program.  Unfortunately the data isn't returned in a ResultSet.</p>\n\n<p>What I'm attempting to do now is insert the raw data into the table (this part works), get the primary key, then lookup the row from the VIEW.  The part I'm struggling with is retrieving the primary key from the INSERT.  I'm using a PreparedStatement generated from my Connection object and have supplied it with Statement.RETURN_GENERATED_KEYS.  However, when I call getGeneratedKeys() on my statement after I call executeUpdate() my ResultSet is always empty.  I can watch it insert the rows into the table while it's running...what am I doing wrong?</p>\n\n<p>Can I not retrieve the generated primary key in this fashion if the primary key is generated via a trigger?</p>\n\n<p>UPDATE: I've tried swapping out the Statement.RETURN_GENERATED_KEYS for a String array with the name of the primary key column, but that doesn't seem to work either.</p>\n\n<p>I apologize for not including my code, but it would be difficult for me to do so.  I've attempted to describe what I'm doing to the best of my abilities.</p>\n"},{"tags":["java","jwt","jwk","nimbus-jose-jwt"],"answers":[{"tags":[],"owner":{"account_id":1798288,"reputation":590,"user_id":1637197,"accept_rate":75,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630514127,"creation_date":1630513816,"answer_id":69017569,"question_id":68926941,"body_markdown":"The answer is to use  `String` for (de)serialization for those facing this problem. Why, you ask? According to the [RFC][1], JWK is a string in the JSON format. While `nimbusds:nimbus-jose-jwt` defines a JWK object, any APIs that return valid JWK (or `JWKSet`) can assume that it&#39;s a string.\r\n\r\nI also raised this [issue][2] with the developers of this package, and they recommended using `String` or `Map&lt;String, Object&gt;` for (de)serialization.\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc7517\r\n  [2]: https://bitbucket.org/connect2id/nimbus-jose-jwt/issues/441/unable-to-parse-jwk-in-java","title":"Unable to parse JWK in Java","body":"<p>The answer is to use  <code>String</code> for (de)serialization for those facing this problem. Why, you ask? According to the <a href=\"https://datatracker.ietf.org/doc/html/rfc7517\" rel=\"nofollow noreferrer\">RFC</a>, JWK is a string in the JSON format. While <code>nimbusds:nimbus-jose-jwt</code> defines a JWK object, any APIs that return valid JWK (or <code>JWKSet</code>) can assume that it's a string.</p>\n<p>I also raised this <a href=\"https://bitbucket.org/connect2id/nimbus-jose-jwt/issues/441/unable-to-parse-jwk-in-java\" rel=\"nofollow noreferrer\">issue</a> with the developers of this package, and they recommended using <code>String</code> or <code>Map&lt;String, Object&gt;</code> for (de)serialization.</p>\n"},{"tags":[],"owner":{"account_id":5203808,"reputation":632,"user_id":4179032,"display_name":"Leponzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646992623,"creation_date":1646983079,"answer_id":71434913,"question_id":68926941,"body_markdown":"According to a developer of the package [here](https://bitbucket.org/connect2id/nimbus-jose-jwt/issues/234/how-to-handle-when-single-key-is-returned#comment-39287308), a JWK set, not individual JWK, should be exposed through the endpoint (see https://connect2id.com/products/nimbus-jose-jwt/examples/validating-jwt-access-tokens):\r\n\r\n&gt; Publishing a JWK set (JSON array) of multiple keys, instead of just one key at the URL is intended to facilitate smooth key roll-over. With a single key being published switching to a new key can lead to errors on the client side.\r\n&gt; \r\n&gt; Anyway, if you want to keep the one-key-per URL, I suggest you override the existing `com.nimbusds.jose.jwk.source.RemoteJWKSet`, or implement your own single JWK source with `com.nimbusds.jose.jwk.source.JWKSource` (possibly copying code where needed from `RemoteJWKSet`).\r\n\r\n---\r\n**UPDATE**: Just found out that the same serialization issue in the question exists for `JWKSet` too &#128532;","title":"Unable to parse JWK in Java","body":"<p>According to a developer of the package <a href=\"https://bitbucket.org/connect2id/nimbus-jose-jwt/issues/234/how-to-handle-when-single-key-is-returned#comment-39287308\" rel=\"nofollow noreferrer\">here</a>, a JWK set, not individual JWK, should be exposed through the endpoint (see <a href=\"https://connect2id.com/products/nimbus-jose-jwt/examples/validating-jwt-access-tokens\" rel=\"nofollow noreferrer\">https://connect2id.com/products/nimbus-jose-jwt/examples/validating-jwt-access-tokens</a>):</p>\n<blockquote>\n<p>Publishing a JWK set (JSON array) of multiple keys, instead of just one key at the URL is intended to facilitate smooth key roll-over. With a single key being published switching to a new key can lead to errors on the client side.</p>\n<p>Anyway, if you want to keep the one-key-per URL, I suggest you override the existing <code>com.nimbusds.jose.jwk.source.RemoteJWKSet</code>, or implement your own single JWK source with <code>com.nimbusds.jose.jwk.source.JWKSource</code> (possibly copying code where needed from <code>RemoteJWKSet</code>).</p>\n</blockquote>\n<hr />\n<p><strong>UPDATE</strong>: Just found out that the same serialization issue in the question exists for <code>JWKSet</code> too ðŸ˜”</p>\n"}],"owner":{"account_id":1798288,"reputation":590,"user_id":1637197,"accept_rate":75,"display_name":"Bhushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3798,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69017569,"answer_count":2,"score":3,"last_activity_date":1646992623,"creation_date":1629910155,"question_id":68926941,"body_markdown":"I implemented a rest authorization server that returns the public-key for a given keyId in the JWK format using the `com.nimbusds:nimbus-jose-jwt:9.13` package. The code looks something like this:\r\n\r\n    @RequestMapping(value = &quot;/oauth2&quot;, produces = APPLICATION_JSON_VALUE)\r\n    public interface Rest {\r\n    ...\r\n        @GetMapping(&quot;/public-key/{keyId}&quot;)\r\n        @Operation(summary = &quot;Return the public key corresponding to the key id&quot;)\r\n        JWK getPublicKey(@PathVariable String keyId);\r\n    }\r\n    \r\n    public class RestController implements Rest {\r\n    .....\r\n     public JWK getPublicKey(String keyId) {\r\n             byte[] publicKeyBytes = ....\r\n             RSAPublicKey publicKey = (RSAPublicKey) keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\r\n             JWK jwk = new RSAKey.Builder(publicKey)\r\n                    .keyID(keyId)\r\n                    .algorithm(new Algorithm(publicKey.getAlgorithm()))\r\n                    .keyUse(KeyUse.SIGNATURE)\r\n                    .build();\r\n             return jwk;\r\n        }\r\n    }\r\nThis code returns a JWK key in the following format:\r\n\r\n    {\r\n        &quot;keyStore&quot;: null,\r\n        &quot;private&quot;: false,\r\n        &quot;publicExponent&quot;: {},\r\n        &quot;modulus&quot;: {},\r\n        &quot;firstPrimeFactor&quot;: null,\r\n        &quot;secondPrimeFactor&quot;: null,\r\n        &quot;firstFactorCRTExponent&quot;: null,\r\n        &quot;secondFactorCRTExponent&quot;: null,\r\n        &quot;firstCRTCoefficient&quot;: null,\r\n        &quot;otherPrimes&quot;: [],\r\n        &quot;requiredParams&quot;: {\r\n            &quot;e&quot;: &quot;some-valid-exponent&quot;,\r\n            &quot;kty&quot;: &quot;RSA&quot;,\r\n            &quot;n&quot;: &quot;some-valid-modulus&quot;\r\n        },\r\n        &quot;privateExponent&quot;: null,\r\n        &quot;x509CertChain&quot;: null,\r\n        &quot;algorithm&quot;: {\r\n            &quot;name&quot;: &quot;RSA&quot;,\r\n            &quot;requirement&quot;: null\r\n        },\r\n        &quot;keyOperations&quot;: null,\r\n        &quot;keyID&quot;: &quot;some-valid-key-id&quot;,\r\n        &quot;x509CertURL&quot;: null,\r\n        &quot;x509CertThumbprint&quot;: null,\r\n        &quot;x509CertSHA256Thumbprint&quot;: null,\r\n        &quot;parsedX509CertChain&quot;: null,\r\n        &quot;keyUse&quot;: {\r\n            &quot;value&quot;: &quot;sig&quot;\r\n        },\r\n        &quot;keyType&quot;: {\r\n            &quot;value&quot;: &quot;RSA&quot;,\r\n            &quot;requirement&quot;: &quot;REQUIRED&quot;\r\n        }\r\n    }\r\n\r\nOn the client side (java), I try to parse the jwk with the following code:\r\n\r\n    public JWK getPublicKey(String keyId) {\r\n     String json = restTemplate.getForObject(publicUrl + &quot;/oauth2/public-key/&quot; + keyId, String.class);\r\n            try {\r\n                return JWK.parse(json);\r\n            } catch (ParseException e) {\r\n                log.error(&quot;Unable to parse JWK&quot;, e);\r\n                return null;\r\n            }\r\n    }\r\n\r\nHowever, the client is unable to parse the key since `parse` throws an exception (`Missing parameter &quot;kty&quot;`). I see that `JWK.parse` requires a `kty` key in main JWT josn body, while the default serialization of `JWK` embeds the `kty` key within `requiredParams` key. When I try `jwk.toString()`, I do see the `kty` key in the main json body.\r\n\r\nWhy doesn&#39;t serialization/deserialization of the native JWK object work in a straight-forward manner? What would be the best way to fix this without implementing a custom jwt structure or a serializer/deserializer?\r\n\r\n**Update 1**: This code will work if we change the return type from `JWK` to `Map&lt;String, Object&gt;` or `String` and handle deserialization on the client-side. However, it would be better if the package natively does the (de)serialization for us.","title":"Unable to parse JWK in Java","body":"<p>I implemented a rest authorization server that returns the public-key for a given keyId in the JWK format using the <code>com.nimbusds:nimbus-jose-jwt:9.13</code> package. The code looks something like this:</p>\n<pre><code>@RequestMapping(value = &quot;/oauth2&quot;, produces = APPLICATION_JSON_VALUE)\npublic interface Rest {\n...\n    @GetMapping(&quot;/public-key/{keyId}&quot;)\n    @Operation(summary = &quot;Return the public key corresponding to the key id&quot;)\n    JWK getPublicKey(@PathVariable String keyId);\n}\n\npublic class RestController implements Rest {\n.....\n public JWK getPublicKey(String keyId) {\n         byte[] publicKeyBytes = ....\n         RSAPublicKey publicKey = (RSAPublicKey) keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\n         JWK jwk = new RSAKey.Builder(publicKey)\n                .keyID(keyId)\n                .algorithm(new Algorithm(publicKey.getAlgorithm()))\n                .keyUse(KeyUse.SIGNATURE)\n                .build();\n         return jwk;\n    }\n}\n</code></pre>\n<p>This code returns a JWK key in the following format:</p>\n<pre><code>{\n    &quot;keyStore&quot;: null,\n    &quot;private&quot;: false,\n    &quot;publicExponent&quot;: {},\n    &quot;modulus&quot;: {},\n    &quot;firstPrimeFactor&quot;: null,\n    &quot;secondPrimeFactor&quot;: null,\n    &quot;firstFactorCRTExponent&quot;: null,\n    &quot;secondFactorCRTExponent&quot;: null,\n    &quot;firstCRTCoefficient&quot;: null,\n    &quot;otherPrimes&quot;: [],\n    &quot;requiredParams&quot;: {\n        &quot;e&quot;: &quot;some-valid-exponent&quot;,\n        &quot;kty&quot;: &quot;RSA&quot;,\n        &quot;n&quot;: &quot;some-valid-modulus&quot;\n    },\n    &quot;privateExponent&quot;: null,\n    &quot;x509CertChain&quot;: null,\n    &quot;algorithm&quot;: {\n        &quot;name&quot;: &quot;RSA&quot;,\n        &quot;requirement&quot;: null\n    },\n    &quot;keyOperations&quot;: null,\n    &quot;keyID&quot;: &quot;some-valid-key-id&quot;,\n    &quot;x509CertURL&quot;: null,\n    &quot;x509CertThumbprint&quot;: null,\n    &quot;x509CertSHA256Thumbprint&quot;: null,\n    &quot;parsedX509CertChain&quot;: null,\n    &quot;keyUse&quot;: {\n        &quot;value&quot;: &quot;sig&quot;\n    },\n    &quot;keyType&quot;: {\n        &quot;value&quot;: &quot;RSA&quot;,\n        &quot;requirement&quot;: &quot;REQUIRED&quot;\n    }\n}\n</code></pre>\n<p>On the client side (java), I try to parse the jwk with the following code:</p>\n<pre><code>public JWK getPublicKey(String keyId) {\n String json = restTemplate.getForObject(publicUrl + &quot;/oauth2/public-key/&quot; + keyId, String.class);\n        try {\n            return JWK.parse(json);\n        } catch (ParseException e) {\n            log.error(&quot;Unable to parse JWK&quot;, e);\n            return null;\n        }\n}\n</code></pre>\n<p>However, the client is unable to parse the key since <code>parse</code> throws an exception (<code>Missing parameter &quot;kty&quot;</code>). I see that <code>JWK.parse</code> requires a <code>kty</code> key in main JWT josn body, while the default serialization of <code>JWK</code> embeds the <code>kty</code> key within <code>requiredParams</code> key. When I try <code>jwk.toString()</code>, I do see the <code>kty</code> key in the main json body.</p>\n<p>Why doesn't serialization/deserialization of the native JWK object work in a straight-forward manner? What would be the best way to fix this without implementing a custom jwt structure or a serializer/deserializer?</p>\n<p><strong>Update 1</strong>: This code will work if we change the return type from <code>JWK</code> to <code>Map&lt;String, Object&gt;</code> or <code>String</code> and handle deserialization on the client-side. However, it would be better if the package natively does the (de)serialization for us.</p>\n"},{"tags":["java","android","android-studio","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1646941933,"post_id":71427989,"comment_id":126254868,"body_markdown":"This could help https://stackoverflow.com/questions/46168245/recyclerview-reverse-order","body":"This could help <a href=\"https://stackoverflow.com/questions/46168245/recyclerview-reverse-order\" title=\"recyclerview reverse order\">stackoverflow.com/questions/46168245/recyclerview-reverse-or&zwnj;&#8203;der</a>"}],"answers":[{"tags":[],"owner":{"account_id":6764827,"reputation":61,"user_id":5210138,"display_name":"RAMCODER"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646970196,"creation_date":1646970196,"answer_id":71433404,"question_id":71427989,"body_markdown":"solution 1- reverse list of input data \r\n\r\n    fun &lt;T&gt; reverseList(list: List&lt;T&gt;): ArrayList&lt;T&gt; {\r\n    return (list.indices)\r\n        .map { i: Int -&gt; list[list.size - 1 - i] }\r\n        .toCollection(ArrayList())\r\n    }\r\n\r\nfollow- https://www.techiedelight.com/reverse-copy-list-kotlin/\r\n\r\nSolution 2 \r\n\r\n    LinearLayoutManager mLayoutManager = new LinearLayoutManager(this);\r\n    mLayoutManager.setReverseLayout(true);\r\n    mLayoutManager.setStackFromEnd(true);\r\n    recyclerView.setLayoutManager(mLayoutManager);\r\n\r\n","title":"How to reverse recyclerView items with CoordinatorLayout as root layout?","body":"<p>solution 1- reverse list of input data</p>\n<pre><code>fun &lt;T&gt; reverseList(list: List&lt;T&gt;): ArrayList&lt;T&gt; {\nreturn (list.indices)\n    .map { i: Int -&gt; list[list.size - 1 - i] }\n    .toCollection(ArrayList())\n}\n</code></pre>\n<p>follow- <a href=\"https://www.techiedelight.com/reverse-copy-list-kotlin/\" rel=\"nofollow noreferrer\">https://www.techiedelight.com/reverse-copy-list-kotlin/</a></p>\n<p>Solution 2</p>\n<pre><code>LinearLayoutManager mLayoutManager = new LinearLayoutManager(this);\nmLayoutManager.setReverseLayout(true);\nmLayoutManager.setStackFromEnd(true);\nrecyclerView.setLayoutManager(mLayoutManager);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646992547,"creation_date":1646974911,"answer_id":71433856,"question_id":71427989,"body_markdown":"The best solution is to reverse the list. You can do this:\r\n```\r\nCollections.reverse(mList); // enter your list here\r\n```\r\n\r\nIn your xml add this -&gt; \r\n```\r\napp:stackFromEnd=&quot;true&quot;\r\n```\r\n\r\n**NOTE:** if you are doing some operations with the adapter position and the list in the adapter, then first reverse and then pass it to the adapter. Or else you gotta face and issue\r\n","title":"How to reverse recyclerView items with CoordinatorLayout as root layout?","body":"<p>The best solution is to reverse the list. You can do this:</p>\n<pre><code>Collections.reverse(mList); // enter your list here\n</code></pre>\n<p>In your xml add this -&gt;</p>\n<pre><code>app:stackFromEnd=&quot;true&quot;\n</code></pre>\n<p><strong>NOTE:</strong> if you are doing some operations with the adapter position and the list in the adapter, then first reverse and then pass it to the adapter. Or else you gotta face and issue</p>\n"}],"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646992547,"creation_date":1646931584,"question_id":71427989,"body_markdown":"How to reverse recyclerView items with CoordinatorLayout as root layout?\r\n\r\n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/rv_main_students&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:clipToPadding=&quot;true&quot;\r\n            android:scrollbars=&quot;vertical&quot;\r\n             /&gt;\r\n    \r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n\r\n   \r\n\r\n and `app:reverseLayout=&quot;true&quot;` not working for recyclerview.\r\n\r\n Note: I want reverse recyclerView not reverese collection\r\n","title":"How to reverse recyclerView items with CoordinatorLayout as root layout?","body":"<p>How to reverse recyclerView items with CoordinatorLayout as root layout?</p>\n<pre><code>    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/rv_main_students&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:clipToPadding=&quot;true&quot;\n        android:scrollbars=&quot;vertical&quot;\n         /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>and <code>app:reverseLayout=&quot;true&quot;</code> not working for recyclerview.</p>\n<p>Note: I want reverse recyclerView not reverese collection</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1646990595,"post_id":71436209,"comment_id":126265102,"body_markdown":"With `ConstraintLayout` you need to Set `Constraints` also . The default position is top left .. See https://stackoverflow.com/questions/45263159/constraintlayout-change-constraints-programmatically","body":"With <code>ConstraintLayout</code> you need to Set <code>Constraints</code> also . The default position is top left .. See <a href=\"https://stackoverflow.com/questions/45263159/constraintlayout-change-constraints-programmatically\" title=\"constraintlayout change constraints programmatically\">stackoverflow.com/questions/45263159/&hellip;</a>"},{"owner":{"account_id":23148647,"reputation":99,"user_id":17251059,"display_name":"Pedro Montesinos Navarro"},"score":0,"creation_date":1646991449,"post_id":71436209,"comment_id":126265402,"body_markdown":"That solved it, thanks a lot for pointing it out :-)","body":"That solved it, thanks a lot for pointing it out :-)"}],"answers":[{"tags":[],"owner":{"account_id":23148647,"reputation":99,"user_id":17251059,"display_name":"Pedro Montesinos Navarro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646992302,"creation_date":1646992302,"answer_id":71436642,"question_id":71436209,"body_markdown":"I found the solution thanks to the first comment on the post. The solution was applying the constraints I was setting like so:\r\n\r\n\r\n    ConstraintSet constraintSet = new ConstraintSet();            \r\n    ConstraintLayout constraintLayout = (ConstraintLayout) includeExteriorFrame.getParent();\r\n    constraintSet.clone(constraintLayout);\r\n    constraintSet.connect(includeExteriorFrame.getId(),ConstraintSet.BOTTOM,includeFrame.getId(),ConstraintSet.TOP);\r\n    constraintSet.connect(includeExteriorFrame.getId(),ConstraintSet.TOP,includeExteriorFrameParent.getId(),ConstraintSet.TOP);\r\n    constraintSet.applyTo(constraintLayout);","title":"Using setLayoutParams on an element sticks it to the top of the screen","body":"<p>I found the solution thanks to the first comment on the post. The solution was applying the constraints I was setting like so:</p>\n<pre><code>ConstraintSet constraintSet = new ConstraintSet();            \nConstraintLayout constraintLayout = (ConstraintLayout) includeExteriorFrame.getParent();\nconstraintSet.clone(constraintLayout);\nconstraintSet.connect(includeExteriorFrame.getId(),ConstraintSet.BOTTOM,includeFrame.getId(),ConstraintSet.TOP);\nconstraintSet.connect(includeExteriorFrame.getId(),ConstraintSet.TOP,includeExteriorFrameParent.getId(),ConstraintSet.TOP);\nconstraintSet.applyTo(constraintLayout);\n</code></pre>\n"}],"owner":{"account_id":23148647,"reputation":99,"user_id":17251059,"display_name":"Pedro Montesinos Navarro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647000056,"accepted_answer_id":71436642,"answer_count":1,"score":0,"last_activity_date":1646992302,"creation_date":1646990155,"question_id":71436209,"body_markdown":"I&#39;m trying to set the height of an element to be longer on 18:9 screens and its working funny. This line of code\r\n\r\n    includeExteriorFrame.setLayoutParams(new ConstraintLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT, getResources().getDimensionPixelSize(R.dimen._420sdp)));\r\n\r\nis giving me some trouble. I&#39;ll unpack it point by point:\r\n\r\n1 - The function setLayoutParams threw an exception at first because I was using FrameLayout.LayoutParams instead of ConstraintLayout.LayoutParams. I remark this because on the declaration of includeExteriorFrame I&#39;m declaring it to be a FrameLayout, but as you can see, the LayoutParams are declared as ConstraintLayout. Why does this work? Is it because the FrameLayout is inside a ConstraintLayout?\r\n\r\n2.- When I resize the elements they stick to the top of the screen. This I suppose has to do with how the resize updates the element. I&#39;ve tried setting the element constraints afterwards, but to no avail, they are really stuck to the top.\r\n\r\n   I&#39;ve tested many solutions to this problem, like setting both dimensions using pure int variables, setting other components aswell as the one I&#39;m trying to resize and I&#39;ve looked for a better function that won&#39;t get the element stuck, but I couldn&#39;t find anything, so I&#39;ve decided to ask this. More info can be provided if needed.\r\n\r\nThank you so much for your attention.","title":"Using setLayoutParams on an element sticks it to the top of the screen","body":"<p>I'm trying to set the height of an element to be longer on 18:9 screens and its working funny. This line of code</p>\n<pre><code>includeExteriorFrame.setLayoutParams(new ConstraintLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT, getResources().getDimensionPixelSize(R.dimen._420sdp)));\n</code></pre>\n<p>is giving me some trouble. I'll unpack it point by point:</p>\n<p>1 - The function setLayoutParams threw an exception at first because I was using FrameLayout.LayoutParams instead of ConstraintLayout.LayoutParams. I remark this because on the declaration of includeExteriorFrame I'm declaring it to be a FrameLayout, but as you can see, the LayoutParams are declared as ConstraintLayout. Why does this work? Is it because the FrameLayout is inside a ConstraintLayout?</p>\n<p>2.- When I resize the elements they stick to the top of the screen. This I suppose has to do with how the resize updates the element. I've tried setting the element constraints afterwards, but to no avail, they are really stuck to the top.</p>\n<p>I've tested many solutions to this problem, like setting both dimensions using pure int variables, setting other components aswell as the one I'm trying to resize and I've looked for a better function that won't get the element stuck, but I couldn't find anything, so I've decided to ask this. More info can be provided if needed.</p>\n<p>Thank you so much for your attention.</p>\n"},{"tags":["java","spring","resttemplate","http-message-converter"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646582621,"post_id":71360130,"comment_id":126154152,"body_markdown":"Ditch your customizations, as those are already there. You aren&#39;t receiving a resource but you will get an array of bytes (on the client side) so trying to shoehorn that into a `Resource` won&#39;t work.","body":"Ditch your customizations, as those are already there. You aren&#39;t receiving a resource but you will get an array of bytes (on the client side) so trying to shoehorn that into a <code>Resource</code> won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":11762400,"reputation":23,"user_id":8608053,"display_name":"arslandinho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646992138,"creation_date":1646987972,"answer_id":71435767,"question_id":71360130,"body_markdown":"Ended up encoding byte array to base64 string then sent it as \r\n\r\n    return ResponseEntity.ok().body(Base64Utils.encodeToString(baos.toByteArray()));\r\n\r\nThen in my receiving microservice I added the following to my restTemplate config:\r\n\r\n    // idk if it&#39;s need to put StringHttpMessageConverter first in the list, but I did it just in case\r\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n    messageConverters.add(new StringHttpMessageConverter());\r\n    messageConverters.add(new MappingJackson2HttpMessageConverter());\r\n    restTemplate.setMessageConverters(messageConverters);\r\n\r\nAnd it worked!\r\n\r\nDon&#39;t know if it&#39;s right, but maybe someone will find it helpful\r\n \r\n\r\n","title":"How do I retrieve Resource object using restTemplate in Spring Boot?","body":"<p>Ended up encoding byte array to base64 string then sent it as</p>\n<pre><code>return ResponseEntity.ok().body(Base64Utils.encodeToString(baos.toByteArray()));\n</code></pre>\n<p>Then in my receiving microservice I added the following to my restTemplate config:</p>\n<pre><code>// idk if it's need to put StringHttpMessageConverter first in the list, but I did it just in case\nList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\nmessageConverters.add(new StringHttpMessageConverter());\nmessageConverters.add(new MappingJackson2HttpMessageConverter());\nrestTemplate.setMessageConverters(messageConverters);\n</code></pre>\n<p>And it worked!</p>\n<p>Don't know if it's right, but maybe someone will find it helpful</p>\n"}],"owner":{"account_id":11762400,"reputation":23,"user_id":8608053,"display_name":"arslandinho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71435767,"answer_count":1,"score":0,"last_activity_date":1646992138,"creation_date":1646463489,"question_id":71360130,"body_markdown":"So, basically the title.\r\n\r\nI got 2 microservices. One generates and sends a zip file and the other one receives it, then does some magic, converts it to an array[] of bytes and then sends it somewhere else. But it&#39;s just in theory - I coldn&#39;t make it work.\r\n\r\nI need to download a Resource (https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/resources.html) that contains InputStream that my generated zip archive is wrapped into. Writing it inside OutputStream of a HttpServletResponse doesn&#39;t work for me since I can&#39;t use it - later on I need to manipulate the file and this approach is for browser download only (?)\r\n\r\nSo I did this in the first microservice:\r\n\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            BufferedOutputStream bos = new BufferedOutputStream(baos);\r\n            ZipOutputStream zos = new ZipOutputStream(bos);\r\n            try {\r\n                zos = service.generateZip(blablabla, zos);\r\n\r\n                baos.close();\r\n                bos.close();\r\n                zos.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            ByteArrayResource resource = new ByteArrayResource(baos.toByteArray());    \r\n    \r\n            ResponseEntity&lt;Resource&gt; response = ResponseEntity.ok()\r\n                        .contentType(MediaType.parseMediaType(&quot;application/zip;charset=UTF-8&quot;))\r\n                        .contentLength(resource.contentLength())\r\n                        .header(HttpHeaders.CONTENT_DISPOSITION,\r\n                                ContentDisposition.parse(format(&quot;attachment; filename=\\&quot;doc_%s.zip\\&quot;&quot;, id)).toString())\r\n                        .body(resource); \r\n\r\nAnd this in second:\r\n\r\n        public byte[] getZip(DocRequest request) throws IOException {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.parseMediaType(&quot;application/zip;charset=UTF-8&quot;));\r\n            headers.setAccept(Collections.singletonList(MediaType.parseMediaType(&quot;application/zip;charset=UTF-8&quot;)));\r\n            // headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n            // headers.setAccept(Collections.singletonList(MediaType.APPLICATION_OCTET_STREAM));\r\n    \r\n            Resource response = restTemplate.exchange(\r\n                            apiUrl + &quot;/doc/get-zip/&quot; + request.getId(),\r\n                            HttpMethod.GET,\r\n                            new HttpEntity&lt;&gt;(null, headers),\r\n                            Resource.class)\r\n                    .getBody();\r\n    \r\n            return (response != null) ? IOUtils.toByteArray(response.getInputStream()) : null;\r\n        }\r\n\r\nalso added **ResourceHttpMessageConverter** to a restTemplate to configs of both microservices:\r\n\r\n            MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n            converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n            converter.setObjectMapper(objectMapper);\r\n    \r\n            ResourceHttpMessageConverter resourceConverter = new ResourceHttpMessageConverter();\r\n            resourceConverter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n    \r\n            return builder.interceptors(...)\r\n                    .messageConverters(resourceConverter, converter)\r\n                    .configure(restTemplate);\r\n\r\nWithout them I get an error which looks like this:\r\n\r\n    {&quot;method&quot;:&quot;POST&quot;,&quot;exceptionName&quot;:&quot;RestClientException&quot;,&quot;detail&quot;:&quot;Error while extracting response for type [interface org.springframework.core.io.Resource] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Invalid UTF-8 middle byte 0x59; nested exception is com.fasterxml.jackson.core.JsonParseException: Invalid UTF-8 middle byte 0x59\\n at [Source: (ByteArrayInputStream); line: 1, column: 13]&quot;}\r\n\r\nor\r\n\r\n    {&quot;method&quot;:&quot;POST&quot;,&quot;exceptionName&quot;:&quot;RestClientException&quot;,&quot;detail&quot;:&quot;Error while extracting response for type [interface org.springframework.core.io.Resource] and content type [application/zip;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Invalid UTF-8 start byte 0x91; nested exception is com.fasterxml.jackson.core.JsonParseException: Invalid UTF-8 start byte 0x91\\n at [Source: (ByteArrayInputStream); line: 1, column: 12]&quot;}\r\n\r\ndepending on contentType (application/octet-stream and application/zip (application/zip;charset=UTF-8) respectively).\r\n\r\nAfter I added **ResourceHttpMessageConverter** it now gives me \r\n\r\n    {&quot;method&quot;:&quot;POST&quot;,&quot;exceptionName&quot;:&quot;RestClientException&quot;,&quot;detail&quot;:&quot;Error while extracting response for type [interface org.springframework.core.io.Resource] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unrecognized token &#39;PK\\u0003..&#39;: was expecting (&#39;true&#39;, &#39;false&#39; or &#39;null&#39;); nested exception is com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;PK\\u0003...&#39;: was expecting (&#39;true&#39;, &#39;false&#39; or &#39;null&#39;)\\n at [Source: (ByteArrayInputStream); line: 1, column: 28]&quot;}\r\n\r\nMaybe I am using something wrong?\r\nAny advice would be appreciated. Thank you in advance","title":"How do I retrieve Resource object using restTemplate in Spring Boot?","body":"<p>So, basically the title.</p>\n<p>I got 2 microservices. One generates and sends a zip file and the other one receives it, then does some magic, converts it to an array[] of bytes and then sends it somewhere else. But it's just in theory - I coldn't make it work.</p>\n<p>I need to download a Resource (<a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/resources.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/resources.html</a>) that contains InputStream that my generated zip archive is wrapped into. Writing it inside OutputStream of a HttpServletResponse doesn't work for me since I can't use it - later on I need to manipulate the file and this approach is for browser download only (?)</p>\n<p>So I did this in the first microservice:</p>\n<pre><code>        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        BufferedOutputStream bos = new BufferedOutputStream(baos);\n        ZipOutputStream zos = new ZipOutputStream(bos);\n        try {\n            zos = service.generateZip(blablabla, zos);\n\n            baos.close();\n            bos.close();\n            zos.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        ByteArrayResource resource = new ByteArrayResource(baos.toByteArray());    \n\n        ResponseEntity&lt;Resource&gt; response = ResponseEntity.ok()\n                    .contentType(MediaType.parseMediaType(&quot;application/zip;charset=UTF-8&quot;))\n                    .contentLength(resource.contentLength())\n                    .header(HttpHeaders.CONTENT_DISPOSITION,\n                            ContentDisposition.parse(format(&quot;attachment; filename=\\&quot;doc_%s.zip\\&quot;&quot;, id)).toString())\n                    .body(resource); \n</code></pre>\n<p>And this in second:</p>\n<pre><code>    public byte[] getZip(DocRequest request) throws IOException {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.parseMediaType(&quot;application/zip;charset=UTF-8&quot;));\n        headers.setAccept(Collections.singletonList(MediaType.parseMediaType(&quot;application/zip;charset=UTF-8&quot;)));\n        // headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n        // headers.setAccept(Collections.singletonList(MediaType.APPLICATION_OCTET_STREAM));\n\n        Resource response = restTemplate.exchange(\n                        apiUrl + &quot;/doc/get-zip/&quot; + request.getId(),\n                        HttpMethod.GET,\n                        new HttpEntity&lt;&gt;(null, headers),\n                        Resource.class)\n                .getBody();\n\n        return (response != null) ? IOUtils.toByteArray(response.getInputStream()) : null;\n    }\n</code></pre>\n<p>also added <strong>ResourceHttpMessageConverter</strong> to a restTemplate to configs of both microservices:</p>\n<pre><code>        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n        converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n        converter.setObjectMapper(objectMapper);\n\n        ResourceHttpMessageConverter resourceConverter = new ResourceHttpMessageConverter();\n        resourceConverter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n\n        return builder.interceptors(...)\n                .messageConverters(resourceConverter, converter)\n                .configure(restTemplate);\n</code></pre>\n<p>Without them I get an error which looks like this:</p>\n<pre><code>{&quot;method&quot;:&quot;POST&quot;,&quot;exceptionName&quot;:&quot;RestClientException&quot;,&quot;detail&quot;:&quot;Error while extracting response for type [interface org.springframework.core.io.Resource] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Invalid UTF-8 middle byte 0x59; nested exception is com.fasterxml.jackson.core.JsonParseException: Invalid UTF-8 middle byte 0x59\\n at [Source: (ByteArrayInputStream); line: 1, column: 13]&quot;}\n</code></pre>\n<p>or</p>\n<pre><code>{&quot;method&quot;:&quot;POST&quot;,&quot;exceptionName&quot;:&quot;RestClientException&quot;,&quot;detail&quot;:&quot;Error while extracting response for type [interface org.springframework.core.io.Resource] and content type [application/zip;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Invalid UTF-8 start byte 0x91; nested exception is com.fasterxml.jackson.core.JsonParseException: Invalid UTF-8 start byte 0x91\\n at [Source: (ByteArrayInputStream); line: 1, column: 12]&quot;}\n</code></pre>\n<p>depending on contentType (application/octet-stream and application/zip (application/zip;charset=UTF-8) respectively).</p>\n<p>After I added <strong>ResourceHttpMessageConverter</strong> it now gives me</p>\n<pre><code>{&quot;method&quot;:&quot;POST&quot;,&quot;exceptionName&quot;:&quot;RestClientException&quot;,&quot;detail&quot;:&quot;Error while extracting response for type [interface org.springframework.core.io.Resource] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unrecognized token 'PK\\u0003..': was expecting ('true', 'false' or 'null'); nested exception is com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'PK\\u0003...': was expecting ('true', 'false' or 'null')\\n at [Source: (ByteArrayInputStream); line: 1, column: 28]&quot;}\n</code></pre>\n<p>Maybe I am using something wrong?\nAny advice would be appreciated. Thank you in advance</p>\n"},{"tags":["java","web-services"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1646992109,"post_id":71436571,"comment_id":126265630,"body_markdown":"Can we? Yes, through some means. Should we? No, that sounds like a terrible idea. Why are you even allowing unencrypted connections in the year 2022?","body":"Can we? Yes, through some means. Should we? No, that sounds like a terrible idea. Why are you even allowing unencrypted connections in the year 2022?"},{"owner":{"account_id":6349182,"reputation":3625,"user_id":4928801,"accept_rate":71,"display_name":"Gaurav"},"score":0,"creation_date":1646992431,"post_id":71436571,"comment_id":126265733,"body_markdown":"`request.getServerPort()` can be used","body":"<code>request.getServerPort()</code> can be used"},{"owner":{"account_id":9617550,"reputation":21,"user_id":7139788,"display_name":"shjee hyder"},"score":0,"creation_date":1646992505,"post_id":71436571,"comment_id":126265755,"body_markdown":"We need to identify the clients and tell them (selected clients) to upgrade to HTTPS. @Kayaman","body":"We need to identify the clients and tell them (selected clients) to upgrade to HTTPS. @Kayaman"}],"owner":{"account_id":9617550,"reputation":21,"user_id":7139788,"display_name":"shjee hyder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646991959,"creation_date":1646991959,"question_id":71436571,"body_markdown":"I have java web services that are consuming by many external clients. web service is available on both HTTP(9090) and HTTPS(443). \r\n\r\nMy question is that, Can we identify whether the traffic is coming from HTTP(9090) or HTTPS(443) through java code?","title":"Web Service incoming data traffic from HTTP(9090) or HTTPS(443)","body":"<p>I have java web services that are consuming by many external clients. web service is available on both HTTP(9090) and HTTPS(443).</p>\n<p>My question is that, Can we identify whether the traffic is coming from HTTP(9090) or HTTPS(443) through java code?</p>\n"},{"tags":["python","java","integer","long-integer","radix"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1646754851,"post_id":71397736,"comment_id":126199473,"body_markdown":"You can never get 3992613786 as an &quot;int result&quot; in java because that number is simply out of range of the data type int. (Hence why when you convert your Long to int you get a wrong result). Do you really need an `int` as a result? Otherwise just use `long`","body":"You can never get 3992613786 as an &quot;int result&quot; in java because that number is simply out of range of the data type int. (Hence why when you convert your Long to int you get a wrong result). Do you really need an <code>int</code> as a result? Otherwise just use <code>long</code>"},{"owner":{"account_id":10026091,"reputation":21,"user_id":7414224,"display_name":"theonewhodidnotknow"},"score":0,"creation_date":1646814763,"post_id":71397736,"comment_id":126214500,"body_markdown":"Actually I do not know. I am not supposed to change the java code, only write it in python, but since there is no comment in the original java code, I am not sure what the calcul is about. I edited my message and added the following line in the java code : I get that it is about reversing bytes, but I have no idea how to do this in pyhton. I can&#39;t even figure out how to get the &quot;int&quot; result in python, so...","body":"Actually I do not know. I am not supposed to change the java code, only write it in python, but since there is no comment in the original java code, I am not sure what the calcul is about. I edited my message and added the following line in the java code : I get that it is about reversing bytes, but I have no idea how to do this in pyhton. I can&#39;t even figure out how to get the &quot;int&quot; result in python, so..."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646754774,"creation_date":1646754774,"answer_id":71397857,"question_id":71397736,"body_markdown":"The parseLong() method of Java Long class is used to parse the CharSequence argument as a signed **long** with the specified radix , beginning at a specified beginIndex and extending to endIndex-1, with observing the emthod signuture you will find out the **parseLong** will return **long** and it need to be cast to **integer** if you need it as **integer**.\r\n\r\n    public static long parseLong(CharSequence s, int beginIndex, int endIndex, int radix)\r\n\r\n`(Integer)`, `(int)` or generally `(T)` is for casting to required class type.\r\n","title":"Parsing string long to int with java and python","body":"<p>The parseLong() method of Java Long class is used to parse the CharSequence argument as a signed <strong>long</strong> with the specified radix , beginning at a specified beginIndex and extending to endIndex-1, with observing the emthod signuture you will find out the <strong>parseLong</strong> will return <strong>long</strong> and it need to be cast to <strong>integer</strong> if you need it as <strong>integer</strong>.</p>\n<pre><code>public static long parseLong(CharSequence s, int beginIndex, int endIndex, int radix)\n</code></pre>\n<p><code>(Integer)</code>, <code>(int)</code> or generally <code>(T)</code> is for casting to required class type.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646756823,"creation_date":1646755960,"answer_id":71398114,"question_id":71397736,"body_markdown":"    Long.parseLong(&quot;11101101111110100111001110011010&quot;,2) = 3992613786\r\n\r\nThe previous line takes the binary in the form of string, and evaluates the binary into a 10base number which then is assigned into a long variable.\r\n\r\nThe following line\r\n\r\n    (int)Long.parseLong(&quot;11101101111110100111001110011010&quot;,2)\r\n\r\njust casts the assigned value which exists inside the `long` variable into an `int` value.\r\n\r\nKeep in mind though that this is not a safe operation, since the `long` variable consists of **8 bytes** of information and is able to hold a number in the range of `(-9,223,372,036,854,775,808 to 9,223,372,036,854,775,807)`\r\n\r\nOn the other side `int` variable consists of **4 bytes** of information and is able to hold a number in the range of `(-2,147,483,648 to 2,147,483,647)`\r\n\r\nYou can use the following to understand why this is not safe\r\n\r\n        long a = Long.MAX_VALUE;\r\n        System.out.println(a); // Prints 9223372036854775807\r\n        int b = (int) a;\r\n        System.out.println(b);  // Prints -1\r\n\r\nThe biggest positive long value when casted to `int` variable, it becomes the negative `-1`","title":"Parsing string long to int with java and python","body":"<pre><code>Long.parseLong(&quot;11101101111110100111001110011010&quot;,2) = 3992613786\n</code></pre>\n<p>The previous line takes the binary in the form of string, and evaluates the binary into a 10base number which then is assigned into a long variable.</p>\n<p>The following line</p>\n<pre><code>(int)Long.parseLong(&quot;11101101111110100111001110011010&quot;,2)\n</code></pre>\n<p>just casts the assigned value which exists inside the <code>long</code> variable into an <code>int</code> value.</p>\n<p>Keep in mind though that this is not a safe operation, since the <code>long</code> variable consists of <strong>8 bytes</strong> of information and is able to hold a number in the range of <code>(-9,223,372,036,854,775,808 to 9,223,372,036,854,775,807)</code></p>\n<p>On the other side <code>int</code> variable consists of <strong>4 bytes</strong> of information and is able to hold a number in the range of <code>(-2,147,483,648 to 2,147,483,647)</code></p>\n<p>You can use the following to understand why this is not safe</p>\n<pre><code>    long a = Long.MAX_VALUE;\n    System.out.println(a); // Prints 9223372036854775807\n    int b = (int) a;\n    System.out.println(b);  // Prints -1\n</code></pre>\n<p>The biggest positive long value when casted to <code>int</code> variable, it becomes the negative <code>-1</code></p>\n"},{"tags":[],"owner":{"account_id":10026091,"reputation":21,"user_id":7414224,"display_name":"theonewhodidnotknow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646991954,"creation_date":1646989041,"answer_id":71435986,"question_id":71397736,"body_markdown":"In the end, I used the answer from *gengkev* [here][1].\r\n\r\n&gt; By playing around, I found something similar to BreizhGatch&#39;s function, but that doesn&#39;t require a conditional statement. n &amp; 0x80000000 extracts the 32-bit sign bit; then, the - keeps the same 32-bit representation but sign-extends it; finally, the extended sign bits are set on n.\r\n&gt; \r\n&gt; \r\n&gt; `def toSigned32(n):`\r\n&gt;&gt; `   n = n &amp; 0xffffffff`\r\n&gt;&gt; `   return n | (-(n &amp; 0x80000000))`\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1375897/how-to-get-the-signed-integer-value-of-a-long-in-python","title":"Parsing string long to int with java and python","body":"<p>In the end, I used the answer from <em>gengkev</em> <a href=\"https://stackoverflow.com/questions/1375897/how-to-get-the-signed-integer-value-of-a-long-in-python\">here</a>.</p>\n<blockquote>\n<p>By playing around, I found something similar to BreizhGatch's function, but that doesn't require a conditional statement. n &amp; 0x80000000 extracts the 32-bit sign bit; then, the - keeps the same 32-bit representation but sign-extends it; finally, the extended sign bits are set on n.</p>\n<p><code>def toSigned32(n):</code></p>\n<blockquote>\n<p><code>   n = n &amp; 0xffffffff</code>\n<code>   return n | (-(n &amp; 0x80000000))</code></p>\n</blockquote>\n</blockquote>\n"}],"owner":{"account_id":10026091,"reputation":21,"user_id":7414224,"display_name":"theonewhodidnotknow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71435986,"answer_count":3,"score":0,"last_activity_date":1646991954,"creation_date":1646754274,"question_id":71397736,"body_markdown":"I am trying to convert some java code to python. I have a problem with the following java lines :\r\n\r\n    int toto = (int)Long.parseLong(&quot;11101101111110100111001110011010&quot;,2);\r\n    String result = Integer.reverseBytes(toto);\r\n\r\nIn java, i get those results :\r\n\r\n    Long.parseLong(&quot;11101101111110100111001110011010&quot;,2) = 3992613786\r\n    (int)Long.parseLong(&quot;11101101111110100111001110011010&quot;,2) = -302353510\r\n    Integer.reverseBytes(toto) = -1703675155\r\n\r\nI think I understand the first line, but why is there a &quot;(int)&quot; here ? What is it supposed to do ? (I&#39;m a beginner in java and in byte management, and I couldn&#39;t find any documentation that I understand regarding that point).\r\n\r\nIn python, I managed to get the first result by converting to base 2 (I found this out totally by chance) : \r\n\r\n    int(&quot;11101101111110100111001110011010&quot;,2) = 3992613786\r\n\r\nBut how can I obtain the &quot;int&quot; result, and then the &quot;reverse byte&quot; result in python ?\r\n\r\n(By the way, I use Python 3)\r\n\r\n","title":"Parsing string long to int with java and python","body":"<p>I am trying to convert some java code to python. I have a problem with the following java lines :</p>\n<pre><code>int toto = (int)Long.parseLong(&quot;11101101111110100111001110011010&quot;,2);\nString result = Integer.reverseBytes(toto);\n</code></pre>\n<p>In java, i get those results :</p>\n<pre><code>Long.parseLong(&quot;11101101111110100111001110011010&quot;,2) = 3992613786\n(int)Long.parseLong(&quot;11101101111110100111001110011010&quot;,2) = -302353510\nInteger.reverseBytes(toto) = -1703675155\n</code></pre>\n<p>I think I understand the first line, but why is there a &quot;(int)&quot; here ? What is it supposed to do ? (I'm a beginner in java and in byte management, and I couldn't find any documentation that I understand regarding that point).</p>\n<p>In python, I managed to get the first result by converting to base 2 (I found this out totally by chance) :</p>\n<pre><code>int(&quot;11101101111110100111001110011010&quot;,2) = 3992613786\n</code></pre>\n<p>But how can I obtain the &quot;int&quot; result, and then the &quot;reverse byte&quot; result in python ?</p>\n<p>(By the way, I use Python 3)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1485003207,"post_id":41779579,"comment_id":70749528,"body_markdown":"What is `ItemListener` and `ItemEvent`? Are you missing their import statements and / or their actual definition?","body":"What is <code>ItemListener</code> and <code>ItemEvent</code>? Are you missing their import statements and / or their actual definition?"}],"answers":[{"tags":[],"owner":{"account_id":8751952,"reputation":187,"user_id":6544849,"accept_rate":75,"display_name":"wosker4yan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646991526,"creation_date":1485003663,"answer_id":41779680,"question_id":41779579,"body_markdown":"You have to import ItemEvent class.\r\n\r\n```java\r\nimport java.awt.event.ItemEvent;\r\n```","title":"Cannot be resolved to a type?","body":"<p>You have to import ItemEvent class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.event.ItemEvent;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4695136,"reputation":4605,"user_id":3800170,"accept_rate":60,"display_name":"alayor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485004617,"creation_date":1485004119,"answer_id":41779754,"question_id":41779579,"body_markdown":"You should change `ItemListener` to `ActionListener` and `ItemEvent` to `ActionEvent`.\r\n\r\nIt should look like this:\r\n\r\n    private class HandlerClass implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent event) {\r\n            Font font = null;\r\n            if (boldbox.isSelected() &amp;&amp; italicbox.isSelected()) \r\n                font = new Font(&quot;Serif&quot;, Font.BOLD + Font.ITALIC, 14);\r\n            else if(boldbox.isSelected()) \r\n                font = new Font(&quot;Serif&quot;, Font.BOLD, 14);\r\n            else if(italicbox.isSelected())\r\n                font = new Font(&quot;Serif&quot;, Font.ITALIC, 14);\r\n            else font = new Font(&quot;Serif&quot;, Font.PLAIN, 14);\r\n                tf.setFont(font);\r\n          }\r\n       }            \r\n    }","title":"Cannot be resolved to a type?","body":"<p>You should change <code>ItemListener</code> to <code>ActionListener</code> and <code>ItemEvent</code> to <code>ActionEvent</code>.</p>\n\n<p>It should look like this:</p>\n\n<pre><code>private class HandlerClass implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent event) {\n        Font font = null;\n        if (boldbox.isSelected() &amp;&amp; italicbox.isSelected()) \n            font = new Font(\"Serif\", Font.BOLD + Font.ITALIC, 14);\n        else if(boldbox.isSelected()) \n            font = new Font(\"Serif\", Font.BOLD, 14);\n        else if(italicbox.isSelected())\n            font = new Font(\"Serif\", Font.ITALIC, 14);\n        else font = new Font(\"Serif\", Font.PLAIN, 14);\n            tf.setFont(font);\n      }\n   }            \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7527936,"reputation":11,"user_id":5717366,"display_name":"deep learning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534860349,"creation_date":1534860349,"answer_id":51950547,"question_id":41779579,"body_markdown":"There were 2 Mistakes at your code. 1st is that you should&#39;ve imported `java.awt.event.ItemListener &amp; ItemEvent` instead of `ActionListener/ActionEvent`. Therefore in your `HandlerClass` declaration you should&#39;ve implemented `ItemListener` and your event object must be of type `ItemEvent` (at your `itemStateChanged` method)\r\n\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.event.ItemListener;\r\n    import java.awt.event.ItemEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.Icon;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JTextField;\r\n    \r\n    \r\n    public class gui extends JFrame {\r\n    \r\n    private JTextField tf;\r\n    private JCheckBox boldbox;\r\n    private JCheckBox italicbox;\r\n    \r\n    public gui() {\r\n        super(&quot;The title&quot;);\r\n        setLayout(new FlowLayout());\r\n    \r\n        tf = new JTextField(&quot;This is a sentence&quot;, 20);\r\n        tf.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 14));\r\n        add(tf);\r\n    \r\n        boldbox = new JCheckBox(&quot;bold&quot;);\r\n        italicbox = new JCheckBox(&quot;italic&quot;);\r\n        add(boldbox);\r\n        add(italicbox);\r\n    \r\n        HandlerClass handler = new HandlerClass();\r\n        boldbox.addItemListener(handler);\r\n        italicbox.addItemListener(handler);\r\n    }\r\n    \r\n    private class HandlerClass implements ItemListener {\r\n        public void itemStateChanged(ItemEvent event) {\r\n            Font font = null;\r\n    \r\n            if (boldbox.isSelected()&amp;&amp; italicbox.isSelected()) \r\n                font = new Font(&quot;Serif&quot;, Font.BOLD + Font.ITALIC, 14);\r\n            else if(boldbox.isSelected()) \r\n                    font = new Font(&quot;Serif&quot;, Font.BOLD, 14);\r\n            else if(italicbox.isSelected())\r\n                        font = new Font(&quot;Serif&quot;, Font.ITALIC, 14);\r\n            else font = new Font(&quot;Serif&quot;, Font.PLAIN, 14);\r\n    \r\n                            tf.setFont(font);\r\n          }\r\n       }            \r\n    }\r\n\r\nThis code is what TheNewBoston wrote in his 65th tutorial of Java programming. ","title":"Cannot be resolved to a type?","body":"<p>There were 2 Mistakes at your code. 1st is that you should've imported <code>java.awt.event.ItemListener &amp; ItemEvent</code> instead of <code>ActionListener/ActionEvent</code>. Therefore in your <code>HandlerClass</code> declaration you should've implemented <code>ItemListener</code> and your event object must be of type <code>ItemEvent</code> (at your <code>itemStateChanged</code> method)</p>\n\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.event.ItemListener;\nimport java.awt.event.ItemEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextField;\n\n\npublic class gui extends JFrame {\n\nprivate JTextField tf;\nprivate JCheckBox boldbox;\nprivate JCheckBox italicbox;\n\npublic gui() {\n    super(\"The title\");\n    setLayout(new FlowLayout());\n\n    tf = new JTextField(\"This is a sentence\", 20);\n    tf.setFont(new Font(\"Serif\", Font.PLAIN, 14));\n    add(tf);\n\n    boldbox = new JCheckBox(\"bold\");\n    italicbox = new JCheckBox(\"italic\");\n    add(boldbox);\n    add(italicbox);\n\n    HandlerClass handler = new HandlerClass();\n    boldbox.addItemListener(handler);\n    italicbox.addItemListener(handler);\n}\n\nprivate class HandlerClass implements ItemListener {\n    public void itemStateChanged(ItemEvent event) {\n        Font font = null;\n\n        if (boldbox.isSelected()&amp;&amp; italicbox.isSelected()) \n            font = new Font(\"Serif\", Font.BOLD + Font.ITALIC, 14);\n        else if(boldbox.isSelected()) \n                font = new Font(\"Serif\", Font.BOLD, 14);\n        else if(italicbox.isSelected())\n                    font = new Font(\"Serif\", Font.ITALIC, 14);\n        else font = new Font(\"Serif\", Font.PLAIN, 14);\n\n                        tf.setFont(font);\n      }\n   }            \n}\n</code></pre>\n\n<p>This code is what TheNewBoston wrote in his 65th tutorial of Java programming. </p>\n"}],"owner":{"account_id":8907050,"reputation":125,"user_id":6648552,"accept_rate":40,"display_name":"Mark Alexa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5234,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1646991526,"creation_date":1485003088,"question_id":41779579,"body_markdown":"I&#39;m getting this error for lines with ItemListener and ItemEvent. I put ** where I&#39;m getting it.\r\n\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ActionEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.Icon;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JTextField;\r\n    \r\n\r\n    public class gui extends JFrame {\r\n\t\r\n\tprivate JTextField tf;\r\n\tprivate JCheckBox boldbox;\r\n\tprivate JCheckBox italicbox;\r\n\t\r\n\tpublic gui() {\r\n\t\tsuper(&quot;The title&quot;);\r\n\t\tsetLayout(new FlowLayout());\r\n\t\t\r\n\t\ttf = new JTextField(&quot;This is a sentence&quot;, 20);\r\n\t\ttf.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 14));\r\n\t\tadd(tf);\r\n\t\t\r\n\t\tboldbox = new JCheckBox(&quot;bold&quot;);\r\n\t\titalicbox = new JCheckBox(&quot;italic&quot;);\r\n\t\tadd(boldbox);\r\n\t\tadd(italicbox);\r\n\t\t\r\n\t\tHandlerClass handler = new HandlerClass();\r\n\t\tboldbox.addItemListener(handler);\r\n\t\titalicbox.addItemListener(handler);\r\n\t}\r\n\r\n   \tprivate class HandlerClass implements *ActionListener* {\r\n   \t\tpublic void itemStateChanged(*ActionEvent* event) {\r\n\t\t\tFont font = null;\r\n\t\t\t\r\n\t\t\tif (boldbox.isSelected()&amp;&amp; italicbox.isSelected()) \r\n\t\t\t\tfont = new Font(&quot;Serif&quot;, Font.BOLD + Font.ITALIC, 14);\r\n\t\t\telse if(boldbox.isSelected()) \r\n\t\t\t\t\tfont = new Font(&quot;Serif&quot;, Font.BOLD, 14);\r\n\t\t\telse if(italicbox.isSelected())\r\n\t\t\t\t\t\tfont = new Font(&quot;Serif&quot;, Font.ITALIC, 14);\r\n\t\t\telse font = new Font(&quot;Serif&quot;, Font.PLAIN, 14);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttf.setFont(font);\r\n\t\t  }\r\n\t   }\t\t\t\r\n    }\r\n\r\nWould you help me understand why I&#39;m getting that error ? Person who leads that tutorial don&#39;t get these errors.\r\n\r\nEDIT:\r\n\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ActionEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.Icon;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JTextField;\r\n\r\n\r\n\r\n\r\n    public class gui extends JFrame {\r\n\t\r\n\tprivate JTextField tf;\r\n\tprivate JCheckBox boldbox;\r\n\tprivate JCheckBox italicbox;\r\n\t\r\n\tpublic gui() {\r\n\t\tsuper(&quot;The title&quot;);\r\n\t\tsetLayout(new FlowLayout());\r\n\t\t\r\n\t\ttf = new JTextField(&quot;This is a sentence&quot;, 20);\r\n\t\ttf.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 14));\r\n\t\tadd(tf);\r\n\t\t\r\n\t\tboldbox = new JCheckBox(&quot;bold&quot;);\r\n\t\titalicbox = new JCheckBox(&quot;italic&quot;);\r\n\t\tadd(boldbox);\r\n\t\tadd(italicbox);\r\n\t\t\r\n\t\tHandlerClass handler = new HandlerClass();\r\n\t\tboldbox.addActionListener(handler);\r\n\t\titalicbox.addActionListener(handler);\r\n\t}\r\n\r\n\tprivate class HandlerClass implements ActionListener {\r\n\t\t@Override\r\n\t\tpublic void ActionPerformed(ActionEvent event) {\r\n\t\t\tFont font = null;\r\n\t\t\t\r\n\t\t\tif (boldbox.isSelected()&amp;&amp; italicbox.isSelected()) \r\n\t\t\t\tfont = new Font(&quot;Serif&quot;, Font.BOLD + Font.ITALIC, 14);\r\n\t\t\telse if(boldbox.isSelected()) \r\n\t\t\t\t\tfont = new Font(&quot;Serif&quot;, Font.BOLD, 14);\r\n\t\t\telse if(italicbox.isSelected())\r\n\t\t\t\t\t\tfont = new Font(&quot;Serif&quot;, Font.ITALIC, 14);\r\n\t\t\telse font = new Font(&quot;Serif&quot;, Font.PLAIN, 14);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttf.setFont(font);\r\n\t\t}\r\n\t}\t\t\t\r\n    }","title":"Cannot be resolved to a type?","body":"<p>I'm getting this error for lines with ItemListener and ItemEvent. I put ** where I'm getting it.</p>\n\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextField;\n\n\npublic class gui extends JFrame {\n\nprivate JTextField tf;\nprivate JCheckBox boldbox;\nprivate JCheckBox italicbox;\n\npublic gui() {\n    super(\"The title\");\n    setLayout(new FlowLayout());\n\n    tf = new JTextField(\"This is a sentence\", 20);\n    tf.setFont(new Font(\"Serif\", Font.PLAIN, 14));\n    add(tf);\n\n    boldbox = new JCheckBox(\"bold\");\n    italicbox = new JCheckBox(\"italic\");\n    add(boldbox);\n    add(italicbox);\n\n    HandlerClass handler = new HandlerClass();\n    boldbox.addItemListener(handler);\n    italicbox.addItemListener(handler);\n}\n\nprivate class HandlerClass implements *ActionListener* {\n    public void itemStateChanged(*ActionEvent* event) {\n        Font font = null;\n\n        if (boldbox.isSelected()&amp;&amp; italicbox.isSelected()) \n            font = new Font(\"Serif\", Font.BOLD + Font.ITALIC, 14);\n        else if(boldbox.isSelected()) \n                font = new Font(\"Serif\", Font.BOLD, 14);\n        else if(italicbox.isSelected())\n                    font = new Font(\"Serif\", Font.ITALIC, 14);\n        else font = new Font(\"Serif\", Font.PLAIN, 14);\n\n                        tf.setFont(font);\n      }\n   }            \n}\n</code></pre>\n\n<p>Would you help me understand why I'm getting that error ? Person who leads that tutorial don't get these errors.</p>\n\n<p>EDIT:</p>\n\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextField;\n\n\n\n\npublic class gui extends JFrame {\n\nprivate JTextField tf;\nprivate JCheckBox boldbox;\nprivate JCheckBox italicbox;\n\npublic gui() {\n    super(\"The title\");\n    setLayout(new FlowLayout());\n\n    tf = new JTextField(\"This is a sentence\", 20);\n    tf.setFont(new Font(\"Serif\", Font.PLAIN, 14));\n    add(tf);\n\n    boldbox = new JCheckBox(\"bold\");\n    italicbox = new JCheckBox(\"italic\");\n    add(boldbox);\n    add(italicbox);\n\n    HandlerClass handler = new HandlerClass();\n    boldbox.addActionListener(handler);\n    italicbox.addActionListener(handler);\n}\n\nprivate class HandlerClass implements ActionListener {\n    @Override\n    public void ActionPerformed(ActionEvent event) {\n        Font font = null;\n\n        if (boldbox.isSelected()&amp;&amp; italicbox.isSelected()) \n            font = new Font(\"Serif\", Font.BOLD + Font.ITALIC, 14);\n        else if(boldbox.isSelected()) \n                font = new Font(\"Serif\", Font.BOLD, 14);\n        else if(italicbox.isSelected())\n                    font = new Font(\"Serif\", Font.ITALIC, 14);\n        else font = new Font(\"Serif\", Font.PLAIN, 14);\n\n                        tf.setFont(font);\n    }\n}           \n}\n</code></pre>\n"},{"tags":["java","rabbitmq","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646991482,"creation_date":1646991482,"answer_id":71436468,"question_id":71431918,"body_markdown":"I figured it out. I found out that the message carries information about the queue it comes from.\r\n\r\n```java\r\nclass MyGlobalErrorHandler implements ErrorHandler {\r\n  \r\n  public void handleError(Throwable t) {\r\n    String queueName = ((ListenerExecutionFailedException) t)\r\n        .getFailedMessage()\r\n        .getMessageProperties()\r\n        .getConsumerQueue();\r\n    // ...\r\n  }\r\n  \r\n}\r\n```","title":"Retrieve amqp queue name within global error handler","body":"<p>I figured it out. I found out that the message carries information about the queue it comes from.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyGlobalErrorHandler implements ErrorHandler {\n  \n  public void handleError(Throwable t) {\n    String queueName = ((ListenerExecutionFailedException) t)\n        .getFailedMessage()\n        .getMessageProperties()\n        .getConsumerQueue();\n    // ...\n  }\n  \n}\n</code></pre>\n"}],"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646991482,"creation_date":1646954459,"question_id":71431918,"body_markdown":"I am implementing a global error handler in a complex system (many queues, many listeners). Inside the handling method, I need to retrieve the name of the queue the message was consumed from. Is that even possible?\r\n\r\n**My scenario** (for full context, but feel free to ignore what follows and focus on the question only)\r\n\r\nI want to use the global error handler to catch any non-fatal exception and enqueue the message into a &quot;retry&quot; exchange bound to a &quot;retry&quot; queue with an `x-message-ttl` of, say, a few seconds and a `x-dead-letter-exchange` set to the default exchange. I want to set the message&#39;s routing key to the queue the message came from so the default exchange will resend it to its original queue. This way all consumers will retry consuming any failed message with a delay, preventing the infamous infinite-retry loop. Hardcoding each queue manually on each consumer is obviously not suitable because there are so many consumers that the solution would be unmaintainable.\r\n\r\n**EDIT:** if not within the error handler, is there any other amqp construct that I can use to intercept the listener and add the queue name to, for example, the message headers so that the error handler would have access to it?","title":"Retrieve amqp queue name within global error handler","body":"<p>I am implementing a global error handler in a complex system (many queues, many listeners). Inside the handling method, I need to retrieve the name of the queue the message was consumed from. Is that even possible?</p>\n<p><strong>My scenario</strong> (for full context, but feel free to ignore what follows and focus on the question only)</p>\n<p>I want to use the global error handler to catch any non-fatal exception and enqueue the message into a &quot;retry&quot; exchange bound to a &quot;retry&quot; queue with an <code>x-message-ttl</code> of, say, a few seconds and a <code>x-dead-letter-exchange</code> set to the default exchange. I want to set the message's routing key to the queue the message came from so the default exchange will resend it to its original queue. This way all consumers will retry consuming any failed message with a delay, preventing the infamous infinite-retry loop. Hardcoding each queue manually on each consumer is obviously not suitable because there are so many consumers that the solution would be unmaintainable.</p>\n<p><strong>EDIT:</strong> if not within the error handler, is there any other amqp construct that I can use to intercept the listener and add the queue name to, for example, the message headers so that the error handler would have access to it?</p>\n"},{"tags":["java","rest","quarkus","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646991300,"creation_date":1646991300,"answer_id":71436436,"question_id":71432898,"body_markdown":"Please refer to https://stackoverflow.com/questions/40789739/how-to-send-a-query-params-map-using-resteasy-proxy-client, similar issue is being discussed.\r\n\r\nYou can define your client similar to below:\r\n```\r\n@RegisterRestClient\r\n  public interface BarService {\r\n  @GET\r\n  @Path(&quot;/xpto&quot;)\r\n  Response get(Map&lt;String, String&gt; queryParamMap);\r\n}\r\n```\r\n\r\nAnd you can define ClientRequestFilter for converting the Map to Query Parameters:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\nimport javax.ws.rs.HttpMethod;\r\nimport javax.ws.rs.client.ClientRequestContext;\r\nimport javax.ws.rs.client.ClientRequestFilter;\r\nimport javax.ws.rs.core.UriBuilder;\r\nimport javax.ws.rs.ext.Provider;\r\n\r\n@Provider\r\npublic class QueryParamBuildingFilter implements ClientRequestFilter {\r\n\r\n\t@Override\r\n\tpublic void filter(ClientRequestContext requestContext) throws IOException {\r\n        if (requestContext.getEntity() instanceof Map &amp;&amp; requestContext.getMethod().equals(HttpMethod.GET)) {\r\n            UriBuilder uriBuilder = UriBuilder.fromUri(requestContext.getUri());\r\n            Map allParam = (Map)requestContext.getEntity();\r\n            for (Object key : allParam.keySet()) {\r\n                uriBuilder.queryParam(key.toString(), allParam.get(key));\r\n            }\r\n            requestContext.setUri(uriBuilder.build());\r\n            requestContext.setEntity(null);\r\n        }\r\n\t}\r\n\r\n}\r\n```","title":"How can I receive dynamically number of query params in Rest Client - Quarkus?","body":"<p>Please refer to <a href=\"https://stackoverflow.com/questions/40789739/how-to-send-a-query-params-map-using-resteasy-proxy-client\">How to send a query params map using RESTEasy proxy client</a>, similar issue is being discussed.</p>\n<p>You can define your client similar to below:</p>\n<pre><code>@RegisterRestClient\n  public interface BarService {\n  @GET\n  @Path(&quot;/xpto&quot;)\n  Response get(Map&lt;String, String&gt; queryParamMap);\n}\n</code></pre>\n<p>And you can define ClientRequestFilter for converting the Map to Query Parameters:</p>\n<pre><code>import java.io.IOException;\nimport java.util.Map;\n\nimport javax.ws.rs.HttpMethod;\nimport javax.ws.rs.client.ClientRequestContext;\nimport javax.ws.rs.client.ClientRequestFilter;\nimport javax.ws.rs.core.UriBuilder;\nimport javax.ws.rs.ext.Provider;\n\n@Provider\npublic class QueryParamBuildingFilter implements ClientRequestFilter {\n\n    @Override\n    public void filter(ClientRequestContext requestContext) throws IOException {\n        if (requestContext.getEntity() instanceof Map &amp;&amp; requestContext.getMethod().equals(HttpMethod.GET)) {\n            UriBuilder uriBuilder = UriBuilder.fromUri(requestContext.getUri());\n            Map allParam = (Map)requestContext.getEntity();\n            for (Object key : allParam.keySet()) {\n                uriBuilder.queryParam(key.toString(), allParam.get(key));\n            }\n            requestContext.setUri(uriBuilder.build());\n            requestContext.setEntity(null);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6709809,"reputation":150,"user_id":5173611,"display_name":"J.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71436436,"answer_count":1,"score":0,"last_activity_date":1646991300,"creation_date":1646964572,"question_id":71432898,"body_markdown":"I need create a rest client to access a URI that can receive 0 or n query params. \r\n\r\nExample: \r\n\r\n    https://xpto?page=0&amp;size=10&amp;brand=abc&amp;color=blue or\r\n    https://xpto?page=0&amp;size=10&amp;brand=abc or\r\n    https://xpto?page=0&amp;size=10 or\r\n    https://xpto\r\n\r\n\r\nhow could i do this here?\r\n\r\n    @RegisterRestClient\r\n      public interface BarService {\r\n      @GET\r\n      @Path(&quot;/xpto&quot;)\r\n      Response get(@QueryParam ...);\r\n    }\r\n","title":"How can I receive dynamically number of query params in Rest Client - Quarkus?","body":"<p>I need create a rest client to access a URI that can receive 0 or n query params.</p>\n<p>Example:</p>\n<pre><code>https://xpto?page=0&amp;size=10&amp;brand=abc&amp;color=blue or\nhttps://xpto?page=0&amp;size=10&amp;brand=abc or\nhttps://xpto?page=0&amp;size=10 or\nhttps://xpto\n</code></pre>\n<p>how could i do this here?</p>\n<pre><code>@RegisterRestClient\n  public interface BarService {\n  @GET\n  @Path(&quot;/xpto&quot;)\n  Response get(@QueryParam ...);\n}\n</code></pre>\n"},{"tags":["java","switch-statement","boolean"],"comments":[{"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"score":2,"creation_date":1646979713,"post_id":71434371,"comment_id":126261962,"body_markdown":"You can&#39;t not use switch with this statement. Change it to `if else` statement.","body":"You can&#39;t not use switch with this statement. Change it to <code>if else</code> statement."},{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":1,"creation_date":1646979912,"post_id":71434371,"comment_id":126262008,"body_markdown":"Would be good idea to show why you come up with this syntax, link similar to https://docs.oracle.com/en/java/javase/17/language/pattern-matching-switch-expressions-and-statements.html would make question better.","body":"Would be good idea to show why you come up with this syntax, link similar to <a href=\"https://docs.oracle.com/en/java/javase/17/language/pattern-matching-switch-expressions-and-statements.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/language/&hellip;</a> would make question better."}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646991136,"creation_date":1646983127,"answer_id":71434923,"question_id":71434371,"body_markdown":"Change it to:\r\n\r\n```Java\r\n{\r\n    public static void main( String... args ) \r\n    {\r\n        compare( 8, 22 );\r\n    }\r\n\r\n    static void compare( final int a, final int b )\r\n    {\r\n        switch( Integer.signum( Integer.compare( a, b ) ) ) \r\n        {\r\n            case 1 -&gt; System.out.println( a + &quot; &gt; &quot; + b );\r\n            case -1 -&gt; System.out.println( a + &quot; &lt; &quot; + b );\r\n            case 0 -&gt; System.out.println( a + &quot; = &quot; + b );\r\n            default -&gt; System.out.println( &quot;Something is wrong !&quot; );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd it should work!\r\n\r\n`case` requires distinct constant expressions, and the terms that you use (`(a &gt; b)`, `(b &lt; a)` and `(a == b)`) are no constants (not to mention that `(a &gt; b)` and `(b &lt; a)` are equivalent). They also return a boolean. `switch` does not handle a boolean switch selector directly.\r\n\r\nIn JShell, (only) this works for `switch` with &quot;boolean&quot;:\r\n\r\n```Java\r\nboolean flag = â€¦\r\n\r\nswitch( Boolean.toString( flag ) )\r\n{\r\n  case &quot;true&quot; -&gt; â€¦\r\n  case &quot;false&quot; -&gt; â€¦\r\n  default -&gt; throw new Error( &quot;H&#228;?&quot; ); \r\n}\r\n```","title":"Why switch statement in not comparing the int values?","body":"<p>Change it to:</p>\n<pre><code>{\n    public static void main( String... args ) \n    {\n        compare( 8, 22 );\n    }\n\n    static void compare( final int a, final int b )\n    {\n        switch( Integer.signum( Integer.compare( a, b ) ) ) \n        {\n            case 1 -&gt; System.out.println( a + &quot; &gt; &quot; + b );\n            case -1 -&gt; System.out.println( a + &quot; &lt; &quot; + b );\n            case 0 -&gt; System.out.println( a + &quot; = &quot; + b );\n            default -&gt; System.out.println( &quot;Something is wrong !&quot; );\n        }\n    }\n}\n</code></pre>\n<p>And it should work!</p>\n<p><code>case</code> requires distinct constant expressions, and the terms that you use (<code>(a &gt; b)</code>, <code>(b &lt; a)</code> and <code>(a == b)</code>) are no constants (not to mention that <code>(a &gt; b)</code> and <code>(b &lt; a)</code> are equivalent). They also return a boolean. <code>switch</code> does not handle a boolean switch selector directly.</p>\n<p>In JShell, (only) this works for <code>switch</code> with &quot;boolean&quot;:</p>\n<pre><code>boolean flag = â€¦\n\nswitch( Boolean.toString( flag ) )\n{\n  case &quot;true&quot; -&gt; â€¦\n  case &quot;false&quot; -&gt; â€¦\n  default -&gt; throw new Error( &quot;HÃ¤?&quot; ); \n}\n</code></pre>\n"}],"owner":{"account_id":21606474,"reputation":15,"user_id":16909643,"display_name":"shaxa 2000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1646991136,"creation_date":1646979473,"question_id":71434371,"body_markdown":"**I wrote a simple code that have to compare to numbers, but when I run it compiler say me that has a error with boolean values. I dont understand why it doesnt work **\r\n\r\n```public class Main\r\n{\r\n    public static void main(String[] args) {\r\n        compare(8,22);\r\n    }\r\n\r\n    static void compare(int a, int b){\r\n        switch (a) {\r\n            case (a &gt; b) -&gt; System.out.println(a + &quot; &gt; &quot; + b);\r\n            case (b &lt; a) -&gt; System.out.println(a + &quot; &lt; &quot; + b);\r\n            case (a == b) -&gt; System.out.println(a + &quot; = &quot; + b);\r\n            default -&gt; System.out.println(&quot;Something is wrong !&quot;);\r\n        }\r\n    }\r\n}```","title":"Why switch statement in not comparing the int values?","body":"<p>**I wrote a simple code that have to compare to numbers, but when I run it compiler say me that has a error with boolean values. I dont understand why it doesnt work **</p>\n<pre><code>{\n    public static void main(String[] args) {\n        compare(8,22);\n    }\n\n    static void compare(int a, int b){\n        switch (a) {\n            case (a &gt; b) -&gt; System.out.println(a + &quot; &gt; &quot; + b);\n            case (b &lt; a) -&gt; System.out.println(a + &quot; &lt; &quot; + b);\n            case (a == b) -&gt; System.out.println(a + &quot; = &quot; + b);\n            default -&gt; System.out.println(&quot;Something is wrong !&quot;);\n        }\n    }\n}```\n</code></pre>\n"},{"tags":["java","android","android-volley"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646886165,"post_id":71418783,"comment_id":126235860,"body_markdown":"Your code does not even compile as a void function cannot return a value.","body":"Your code does not even compile as a void function cannot return a value."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646886227,"post_id":71418783,"comment_id":126235875,"body_markdown":"The void function has ended long before onResponse is triggered or the request has started. Its only in the queue then.","body":"The void function has ended long before onResponse is triggered or the request has started. Its only in the queue then."},{"owner":{"account_id":16740979,"reputation":2260,"user_id":12100652,"display_name":"Karunesh Palekar"},"score":0,"creation_date":1646886274,"post_id":71418783,"comment_id":126235881,"body_markdown":"Implementing a callback will work for you in this case above","body":"Implementing a callback will work for you in this case above"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646886352,"post_id":71418783,"comment_id":126235890,"body_markdown":"onResponse() is the callback.","body":"onResponse() is the callback."}],"answers":[{"tags":[],"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646991077,"creation_date":1646990151,"answer_id":71436208,"question_id":71418783,"body_markdown":"set first parameter in `new StringRequest()` your request method.\r\nexample `Request.Method.GET`\r\n\r\n\r\nAnd initialize a interface for return your string\r\n\r\n    public interface NumberCallback{\r\n        void onSuccess(Int number);\r\n\r\n        void onError(VolleyError error);\r\n    }\r\n\r\nAnd You can&#39;t have a void function with return value.so delete return and replace this code into onResponse() method\r\n\r\n    NumberCallback.onSuccess(number);\r\n\r\nthen into Destination receive callback. ask if you don&#39;t how receive callback.\r\n\r\n\r\n","title":"Passing back data after onResponse with volley","body":"<p>set first parameter in <code>new StringRequest()</code> your request method.\nexample <code>Request.Method.GET</code></p>\n<p>And initialize a interface for return your string</p>\n<pre><code>public interface NumberCallback{\n    void onSuccess(Int number);\n\n    void onError(VolleyError error);\n}\n</code></pre>\n<p>And You can't have a void function with return value.so delete return and replace this code into onResponse() method</p>\n<pre><code>NumberCallback.onSuccess(number);\n</code></pre>\n<p>then into Destination receive callback. ask if you don't how receive callback.</p>\n"}],"owner":{"account_id":10795621,"reputation":41,"user_id":7941501,"display_name":"Brooksay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646991077,"creation_date":1646885855,"question_id":71418783,"body_markdown":"I need to get some data that is returned from the api call (where the &#39;Get something and set.. comment is) to be returned by the api_call function. How do I do this, since everything I&#39;ve tried doesn&#39;t seem to allow me to move data from inside the &#39;onResponse&#39; to be returned from the &#39;api_call&#39; \r\n\r\n    public void api_call(String Location){\r\n        RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\r\n        String api_key = &quot;xxxxxx&quot;;\r\n        String url = &quot;https://api.openweathermap.org./data/2.5/weather?q=&quot; + Location + &quot;&amp;appid=&quot; + api_key + &quot;&amp;units=metric&quot;;\r\n        String Number;\r\n\r\n        StringRequest stringRequest = new StringRequest(url, new Response.Listener&lt;String&gt;(){\r\n            @Override\r\n            public void onResponse(String response){\r\n                //Get something and set it to the number variable\r\n            }\r\n        }, new Response.ErrorListener(){\r\n            @Override\r\n            public void onErrorResponse(VolleyError error){\r\n                ;\r\n            }\r\n        });\r\n\r\n        requestQueue.add(stringRequest);\r\n        return Number\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Passing back data after onResponse with volley","body":"<p>I need to get some data that is returned from the api call (where the 'Get something and set.. comment is) to be returned by the api_call function. How do I do this, since everything I've tried doesn't seem to allow me to move data from inside the 'onResponse' to be returned from the 'api_call'</p>\n<pre><code>public void api_call(String Location){\n    RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\n    String api_key = &quot;xxxxxx&quot;;\n    String url = &quot;https://api.openweathermap.org./data/2.5/weather?q=&quot; + Location + &quot;&amp;appid=&quot; + api_key + &quot;&amp;units=metric&quot;;\n    String Number;\n\n    StringRequest stringRequest = new StringRequest(url, new Response.Listener&lt;String&gt;(){\n        @Override\n        public void onResponse(String response){\n            //Get something and set it to the number variable\n        }\n    }, new Response.ErrorListener(){\n        @Override\n        public void onErrorResponse(VolleyError error){\n            ;\n        }\n    });\n\n    requestQueue.add(stringRequest);\n    return Number\n}\n</code></pre>\n"},{"tags":["java","swing","keyevent"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1646983825,"post_id":71434953,"comment_id":126262892,"body_markdown":"I suggest that you post your code and also post what you want your code to do and what it is actually doing. I assume that what your code is actually doing is not what you want it to do.","body":"I suggest that you post your code and also post what you want your code to do and what it is actually doing. I assume that what your code is actually doing is not what you want it to do."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1646991702,"post_id":71434953,"comment_id":126265487,"body_markdown":"Using the inputmap and keystrokes is using key bindings. Some components will handle the events by default when they have focus. You can make them non-focusable or set their inputmap to handle the events. What components are you using.","body":"Using the inputmap and keystrokes is using key bindings. Some components will handle the events by default when they have focus. You can make them non-focusable or set their inputmap to handle the events. What components are you using."}],"owner":{"account_id":23316868,"reputation":9,"user_id":17395367,"display_name":"PRINCE KUMAR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646990995,"creation_date":1646983267,"question_id":71434953,"body_markdown":"So I am having problem with InputMap and Keystrokes as they are not working. So I want to capture all keyevent pressed inside frame doesn&#39;t matter on which component they are generated.\r\n\r\nPlease don&#39;t give suggestions about key binding as I had already used and found it useless :(\r\n\r\nThanks for help in advance :)","title":"Capture all key strokes from JFrame","body":"<p>So I am having problem with InputMap and Keystrokes as they are not working. So I want to capture all keyevent pressed inside frame doesn't matter on which component they are generated.</p>\n<p>Please don't give suggestions about key binding as I had already used and found it useless :(</p>\n<p>Thanks for help in advance :)</p>\n"},{"tags":["java","maven","testng","maven-surefire-plugin"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646900494,"creation_date":1646900494,"answer_id":71420864,"question_id":71407004,"body_markdown":"`-DxmlSuiteFile=test.xml` is not required if it already defined in pom.xml.\r\n\r\nTry to define surefire testNG provider explicitly:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;suiteXmlFiles&gt;\r\n\t\t\t&lt;suiteXmlFile&gt;test.xml&lt;/suiteXmlFile&gt;\r\n\t\t&lt;/suiteXmlFiles&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n`test.xml` file should be in the project root.\r\n\r\n---\r\nSee also:\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html","title":"maven surfire testng execution not working","body":"<p><code>-DxmlSuiteFile=test.xml</code> is not required if it already defined in pom.xml.</p>\n<p>Try to define surefire testNG provider explicitly:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;suiteXmlFiles&gt;\n            &lt;suiteXmlFile&gt;test.xml&lt;/suiteXmlFile&gt;\n        &lt;/suiteXmlFiles&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n            &lt;artifactId&gt;surefire-testng&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><code>test.xml</code> file should be in the project root.</p>\n<hr />\n<p>See also:\n<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/providers.html</a></p>\n"}],"owner":{"account_id":1250747,"reputation":12431,"user_id":1640490,"accept_rate":92,"display_name":"nano_nano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71420864,"answer_count":1,"score":1,"last_activity_date":1646990778,"creation_date":1646817926,"question_id":71407004,"body_markdown":"I have problems setting up my project for testng usage.\r\nBackground is that I want to execute my test.xml with maven command line.\r\nI use this plugin within the build section of my pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n         &lt;suiteXmlFiles&gt;\r\n            &lt;suiteXmlFile&gt;test.xml&lt;/suiteXmlFile&gt;\r\n         &lt;/suiteXmlFiles&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nHowever... when I call `mvn clean test -DxmlSuiteFile=test.xml`\r\nall my unit tests are executed but the test.xml is untouched.\r\n\r\nwhen I change the version of surefire to `2.22.2` everything works fine.\r\nBUT I get the message: `testSuiteXmlFiles0 has null value`\r\nwhen running only `mvn test`\r\n\r\nI am confused how to get that to run with the surefire 3.0.0-M5 ?","title":"maven surfire testng execution not working","body":"<p>I have problems setting up my project for testng usage.\nBackground is that I want to execute my test.xml with maven command line.\nI use this plugin within the build section of my pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.0.0-M5&lt;/version&gt;\n   &lt;configuration&gt;\n     &lt;suiteXmlFiles&gt;\n        &lt;suiteXmlFile&gt;test.xml&lt;/suiteXmlFile&gt;\n     &lt;/suiteXmlFiles&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>However... when I call <code>mvn clean test -DxmlSuiteFile=test.xml</code>\nall my unit tests are executed but the test.xml is untouched.</p>\n<p>when I change the version of surefire to <code>2.22.2</code> everything works fine.\nBUT I get the message: <code>testSuiteXmlFiles0 has null value</code>\nwhen running only <code>mvn test</code></p>\n<p>I am confused how to get that to run with the surefire 3.0.0-M5 ?</p>\n"},{"tags":["java","import","builder"],"answers":[{"tags":[],"owner":{"account_id":14318904,"reputation":385,"user_id":10342912,"display_name":"eckad158"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646990775,"creation_date":1646990775,"answer_id":71436321,"question_id":71436252,"body_markdown":"Make sure that the **ImportUtil from jackcess** is on your classpath.\r\nThere are tons of Tutorials on how to add a library to your project out there.\r\n\r\nIn case you use f.e. Maven just import this into your pom.xml file as a dependency.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.healthmarketscience.jackcess&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackcess&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOtherwise please provide more details which ide you use and how you want to build your application.","title":"package ImportUtil does not exist","body":"<p>Make sure that the <strong>ImportUtil from jackcess</strong> is on your classpath.\nThere are tons of Tutorials on how to add a library to your project out there.</p>\n<p>In case you use f.e. Maven just import this into your pom.xml file as a dependency.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.healthmarketscience.jackcess&lt;/groupId&gt;\n&lt;artifactId&gt;jackcess&lt;/artifactId&gt;\n&lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Otherwise please provide more details which ide you use and how you want to build your application.</p>\n"}],"owner":{"account_id":17008308,"reputation":2964,"user_id":12304000,"display_name":"x89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646990775,"creation_date":1646990378,"question_id":71436252,"body_markdown":"  I want to use this code snippet from here https://jackcess.sourceforge.io:\r\n```\r\nDatabase db = DatabaseBuilder.open(new File(&quot;my.mdb&quot;));\r\nnew ImportUtil.Builder(db, &quot;Imported&quot;).importResultSet(resultSet);\r\ndb.close();\r\n```\r\nlike this:\r\n```\r\nimport java.io.File;\r\n// import java.util.Builder;\r\npublic class ReadFile {\r\n    public static void main(String[] args) {\r\n        Database db = DatabaseBuilder.open(new File(&quot;blank.mdb&quot;));\r\n        new ImportUtil.Builder(db, &quot;Imported2&quot;).setDelimiter(&quot;,&quot;).importFile(new File(&quot;testDf.csv&quot;));\r\n        db.close();\r\n    }\r\n  }\r\n```\r\nI am new to java so not so sure about how to import libraries. Currently, I get an error that:\r\n```\r\njava:9: error: cannot find symbol\r\n        Database db = DatabaseBuilder.open(new File(&quot;blank.mdb&quot;));\r\n    symbol:   variable DatabaseBuilder\r\n    location: class ReadFile\r\n\r\njava:10: error: package ImportUtil does not exist\r\n    new ImportUtil.Builder(db, &quot;Imported2&quot;).setDelimiter(&quot;,&quot;).importFile(new File(&quot;testDf.csv&quot;));\r\n```\r\nI also tried ```import java.util.Builder;```but i would still get the same error","title":"package ImportUtil does not exist","body":"<p>I want to use this code snippet from here <a href=\"https://jackcess.sourceforge.io\" rel=\"nofollow noreferrer\">https://jackcess.sourceforge.io</a>:</p>\n<pre><code>Database db = DatabaseBuilder.open(new File(&quot;my.mdb&quot;));\nnew ImportUtil.Builder(db, &quot;Imported&quot;).importResultSet(resultSet);\ndb.close();\n</code></pre>\n<p>like this:</p>\n<pre><code>import java.io.File;\n// import java.util.Builder;\npublic class ReadFile {\n    public static void main(String[] args) {\n        Database db = DatabaseBuilder.open(new File(&quot;blank.mdb&quot;));\n        new ImportUtil.Builder(db, &quot;Imported2&quot;).setDelimiter(&quot;,&quot;).importFile(new File(&quot;testDf.csv&quot;));\n        db.close();\n    }\n  }\n</code></pre>\n<p>I am new to java so not so sure about how to import libraries. Currently, I get an error that:</p>\n<pre><code>java:9: error: cannot find symbol\n        Database db = DatabaseBuilder.open(new File(&quot;blank.mdb&quot;));\n    symbol:   variable DatabaseBuilder\n    location: class ReadFile\n\njava:10: error: package ImportUtil does not exist\n    new ImportUtil.Builder(db, &quot;Imported2&quot;).setDelimiter(&quot;,&quot;).importFile(new File(&quot;testDf.csv&quot;));\n</code></pre>\n<p>I also tried <code>import java.util.Builder;</code>but i would still get the same error</p>\n"},{"tags":["java","tic-tac-toe"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1646988297,"post_id":71435814,"comment_id":126264224,"body_markdown":"`buttons[i].getText() == &quot;&quot;` is not how you compare Strings in Java","body":"<code>buttons[i].getText() == &quot;&quot;</code> is not how you compare Strings in Java"},{"owner":{"account_id":22792287,"reputation":11,"user_id":16946429,"display_name":"Yigit148"},"score":0,"creation_date":1646988587,"post_id":71435814,"comment_id":126264336,"body_markdown":"@scary-wombat i figured, ide gave a warning too but thats how it was done in the video so i didnt wanna mess with cause it worked. How should i change it ?","body":"@scary-wombat i figured, ide gave a warning too but thats how it was done in the video so i didnt wanna mess with cause it worked. How should i change it ?"},{"owner":{"account_id":15152392,"reputation":147,"user_id":10934377,"display_name":"Heiko Ribberink"},"score":0,"creation_date":1646988977,"post_id":71435814,"comment_id":126264488,"body_markdown":"use `buttons[i].getText().equals(&quot;&quot;)`","body":"use <code>buttons[i].getText().equals(&quot;&quot;)</code>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646990809,"post_id":71435814,"comment_id":126265185,"body_markdown":"Unrelated: learn about java naming conventions. In java we use camelCase for variables and method names. &quot;_&quot; is only for SOME_CONSTANT. Also: only make those variables fields that are needed in more than one method. After creation, none of your methods uses the two panel fields. So there is no need to make them members of your class. Create them, add them, forget about them.","body":"Unrelated: learn about java naming conventions. In java we use camelCase for variables and method names. &quot;_&quot; is only for SOME_CONSTANT. Also: only make those variables fields that are needed in more than one method. After creation, none of your methods uses the two panel fields. So there is no need to make them members of your class. Create them, add them, forget about them."}],"answers":[{"tags":[],"owner":{"account_id":16003908,"reputation":31,"user_id":11549881,"display_name":"cookie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646990556,"creation_date":1646990556,"answer_id":71436285,"question_id":71435814,"body_markdown":"For good practice, the only thing between your loops different is the X and the O.\r\nYou could put it in a separate function and call it twice: didWin(&quot;X&quot;); didWin(&quot;O&quot;);\r\n\r\n\r\n&gt;I tried a for loop which would increase a count variable according to how many places in the grid is filled but it didnt work well. \r\n\r\nThat would exactly be what i do. What did not work?\r\n\r\n\r\n```\r\n        private int[][] win = {{0,1,2}, {3,4,5}, {6,7,8}, {0,4,8}, {2,4,6}, {0,3,6}, {1,4,7}, {2,5,8}}; // either can be init like that or filled in constructor\r\n\r\n public void check_x(){\r\n\r\n\r\n        while (true) {\r\nif(didWin(&quot;X&quot;) || didWin(&quot;O&quot;) || isDraw()) break;\r\n}\r\n}\r\n\r\nprivate boolean didWin(string playerToken){\r\n            for (int i = 0; i &lt; win.length; i++) {\r\n\r\n                int q = win[i][0];\r\n                int w = win[i][1];\r\n                int e = win[i][2];\r\n\r\n                if ((buttons[q].getText().equals(playerToken)) &amp;&amp; (buttons[w].getText().equals(playerToken)) &amp;&amp; (buttons[e].getText().equals(playerToken))) {\r\n\r\n                    endGame(playerToken+&quot; wins&quot;); // more useful to end the game with a separate function, so we can use it for the draw again.\r\nreturn true;\r\n                }\r\n\r\n            }\r\nreturn false;\r\n}\r\nprivate void endGame(string message){\r\n                    textfield.setText(message);\r\n\r\n                    buttons[q].setBackground(Color.GREEN);\r\n                    buttons[w].setBackground(Color.GREEN);\r\n                    buttons[e].setBackground(Color.GREEN);\r\n\r\n                    for(int s=0;s&lt;9;s++) {\r\n                        buttons[s].setEnabled(false);\r\n                    }\r\n}\r\nprivate boolean isDraw(){\r\n int usedFields = 0;\r\n for(int i=0;i&lt;9;i++){\r\n   if(buttons[i].getText().equals(&quot;&quot;)) usedFields++;\r\n }\r\n  if( usedFields==9){\r\n   endGame(&quot;its a draw&quot;);\r\nreturn true;\r\n  }\r\nreturn false;\r\n}\r\n```\r\n\r\nIf you want, put the whole while(true) away, rename it to checkGameEnd() and call it each time in actionPerformed.\r\n\r\nAdd another variable player1_symbol and you can change between X and O for player 1 and play more rounds.","title":"How to check if it&#39;s a tie in &quot;Tic-Tac-Toe&quot;?","body":"<p>For good practice, the only thing between your loops different is the X and the O.\nYou could put it in a separate function and call it twice: didWin(&quot;X&quot;); didWin(&quot;O&quot;);</p>\n<blockquote>\n<p>I tried a for loop which would increase a count variable according to how many places in the grid is filled but it didnt work well.</p>\n</blockquote>\n<p>That would exactly be what i do. What did not work?</p>\n<pre><code>        private int[][] win = {{0,1,2}, {3,4,5}, {6,7,8}, {0,4,8}, {2,4,6}, {0,3,6}, {1,4,7}, {2,5,8}}; // either can be init like that or filled in constructor\n\n public void check_x(){\n\n\n        while (true) {\nif(didWin(&quot;X&quot;) || didWin(&quot;O&quot;) || isDraw()) break;\n}\n}\n\nprivate boolean didWin(string playerToken){\n            for (int i = 0; i &lt; win.length; i++) {\n\n                int q = win[i][0];\n                int w = win[i][1];\n                int e = win[i][2];\n\n                if ((buttons[q].getText().equals(playerToken)) &amp;&amp; (buttons[w].getText().equals(playerToken)) &amp;&amp; (buttons[e].getText().equals(playerToken))) {\n\n                    endGame(playerToken+&quot; wins&quot;); // more useful to end the game with a separate function, so we can use it for the draw again.\nreturn true;\n                }\n\n            }\nreturn false;\n}\nprivate void endGame(string message){\n                    textfield.setText(message);\n\n                    buttons[q].setBackground(Color.GREEN);\n                    buttons[w].setBackground(Color.GREEN);\n                    buttons[e].setBackground(Color.GREEN);\n\n                    for(int s=0;s&lt;9;s++) {\n                        buttons[s].setEnabled(false);\n                    }\n}\nprivate boolean isDraw(){\n int usedFields = 0;\n for(int i=0;i&lt;9;i++){\n   if(buttons[i].getText().equals(&quot;&quot;)) usedFields++;\n }\n  if( usedFields==9){\n   endGame(&quot;its a draw&quot;);\nreturn true;\n  }\nreturn false;\n}\n</code></pre>\n<p>If you want, put the whole while(true) away, rename it to checkGameEnd() and call it each time in actionPerformed.</p>\n<p>Add another variable player1_symbol and you can change between X and O for player 1 and play more rounds.</p>\n"}],"owner":{"account_id":22792287,"reputation":11,"user_id":16946429,"display_name":"Yigit148"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646990556,"creation_date":1646988213,"question_id":71435814,"body_markdown":"I was following a tutorial and changed the winner check code and it works fine (it was all if statements in the tutorial) but couldn&#39;t figure out how to check if it&#39;s a tie. I tried a for loop which would increase a count variable according to how many places in the grid is filled but it didnt work well. Also in some games the person gets 2 rounds. e.g. X plays but it doesnt switch to O. Im new to java, we learned python last semester so im sorry if this is a dumb question. (https://codeshare.io/eV4Bwx this is the tutors code to check the winner)\r\n```\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.util.*;\r\nimport javax.swing.*;\r\n\r\n\r\npublic class TicTacToe implements ActionListener{\r\n\r\n    Random random = new Random();\r\n    JFrame frame = new JFrame();\r\n    JPanel title_panel = new JPanel();\r\n    JPanel button_panel = new JPanel();\r\n    JLabel textfield = new JLabel();\r\n    JButton[] buttons = new JButton[9];\r\n    boolean player1_turn;\r\n\r\n\r\n\r\n    TicTacToe(){\r\n\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(800,800);\r\n        frame.getContentPane().setBackground(new Color(50,50,50));\r\n        frame.setLayout(new BorderLayout());\r\n        frame.setVisible(true);\r\n\r\n        textfield.setBackground(new Color(25, 25, 25));\r\n        textfield.setForeground(new Color(40,23,50));\r\n        textfield.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD,75));\r\n        textfield.setHorizontalAlignment(JLabel.CENTER);\r\n        textfield.setText(&quot;Tic-Tac-Toe&quot;);\r\n        textfield.setOpaque(true);\r\n\r\n        title_panel.setLayout(new BorderLayout());\r\n        title_panel.setBounds(0, 0, 800, 100);\r\n\r\n        button_panel.setLayout(new GridLayout(3,3));\r\n        textfield.setBackground(new Color(50, 100, 150));\r\n\r\n        for (int i = 0; i &lt; 9; i++){\r\n            buttons[i] = new JButton();\r\n            button_panel.add(buttons[i]);\r\n            buttons[i].setFont(new Font(&quot;MV Boli&quot;, Font.BOLD,120));\r\n            buttons[i].setFocusable(false);\r\n            buttons[i].addActionListener(this);\r\n        }\r\n\r\n        title_panel.add(textfield);\r\n        frame.add(title_panel, BorderLayout.NORTH);\r\n        frame.add(button_panel);\r\n\r\n\r\n        firstTurn();\r\n\r\n        check_x();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e){\r\n\r\n        for (int i = 0; i &lt; 9; i++){\r\n            if (e.getSource() == buttons[i]){\r\n                if (player1_turn){\r\n                    if (buttons[i].getText() == &quot;&quot;){\r\n                        buttons[i].setForeground(new Color(25,50,55));\r\n                        buttons[i].setText(&quot;X&quot;);\r\n                        player1_turn = false;\r\n                        textfield.setText(&quot;O turn&quot;);\r\n                    }\r\n                }else {\r\n                    if (buttons[i].getText() == &quot;&quot;){\r\n                        buttons[i].setForeground(new Color(55,0,25));\r\n                        buttons[i].setText(&quot;O&quot;);\r\n                        player1_turn = true;\r\n                        textfield.setText(&quot;X turn&quot;);\r\n                }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public void firstTurn(){\r\n\r\n        try{\r\n            Thread.sleep(2000);\r\n        } catch (InterruptedException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if (random.nextInt(2) == 0){\r\n            player1_turn = true;\r\n            textfield.setText(&quot;X turn&quot;);\r\n        }else{\r\n            player1_turn = false;\r\n            textfield.setText(&quot;O turn&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public void check_x(){\r\n\r\n        int[][] win = {{0,1,2}, {3,4,5}, {6,7,8}, {0,4,8}, {2,4,6}, {0,3,6}, {1,4,7}, {2,5,8}};\r\n\r\n        while (true) {\r\n\r\n            //Check Y\r\n            boolean t = false;\r\n            for (int i = 0; i &lt; win.length; i++) {\r\n\r\n                int q = win[i][0];\r\n                int w = win[i][1];\r\n                int e = win[i][2];\r\n\r\n                if ((buttons[q].getText() == &quot;O&quot;) &amp;&amp; (buttons[w].getText() == &quot;O&quot;) &amp;&amp; (buttons[e].getText() == &quot;O&quot;)) {\r\n                    textfield.setText(&quot;O wins&quot;);\r\n\r\n                    t = true;\r\n\r\n                    buttons[q].setBackground(Color.GREEN);\r\n                    buttons[w].setBackground(Color.GREEN);\r\n                    buttons[e].setBackground(Color.GREEN);\r\n\r\n                    for(int s=0;s&lt;9;s++) {\r\n                        buttons[s].setEnabled(false);\r\n                    }\r\n                }\r\n\r\n            }if(t){break;}\r\n\r\n            //Check X\r\n            boolean n = false;\r\n            for (int i = 0; i &lt; win.length; i++) {\r\n\r\n                int w = win[i][1];\r\n                int q = win[i][0];\r\n                int e = win[i][2];\r\n\r\n                if ((buttons[q].getText() == &quot;X&quot;) &amp;&amp; (buttons[w].getText() == &quot;X&quot;) &amp;&amp; (buttons[e].getText() == &quot;X&quot;)) {\r\n                    textfield.setText(&quot;X wins&quot;);\r\n\r\n                    n = true;\r\n\r\n                    buttons[q].setBackground(Color.GREEN);\r\n                    buttons[w].setBackground(Color.GREEN);\r\n                    buttons[e].setBackground(Color.GREEN);\r\n\r\n                    for(int s=0;s&lt;9;s++) {\r\n                        buttons[s].setEnabled(false);\r\n                    }\r\n                }\r\n            }if (n){break;}\r\n\r\n\r\n\r\n\r\n\r\n}\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to check if it&#39;s a tie in &quot;Tic-Tac-Toe&quot;?","body":"<p>I was following a tutorial and changed the winner check code and it works fine (it was all if statements in the tutorial) but couldn't figure out how to check if it's a tie. I tried a for loop which would increase a count variable according to how many places in the grid is filled but it didnt work well. Also in some games the person gets 2 rounds. e.g. X plays but it doesnt switch to O. Im new to java, we learned python last semester so im sorry if this is a dumb question. (<a href=\"https://codeshare.io/eV4Bwx\" rel=\"nofollow noreferrer\">https://codeshare.io/eV4Bwx</a> this is the tutors code to check the winner)</p>\n<pre><code>\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\nimport javax.swing.*;\n\n\npublic class TicTacToe implements ActionListener{\n\n    Random random = new Random();\n    JFrame frame = new JFrame();\n    JPanel title_panel = new JPanel();\n    JPanel button_panel = new JPanel();\n    JLabel textfield = new JLabel();\n    JButton[] buttons = new JButton[9];\n    boolean player1_turn;\n\n\n\n    TicTacToe(){\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800,800);\n        frame.getContentPane().setBackground(new Color(50,50,50));\n        frame.setLayout(new BorderLayout());\n        frame.setVisible(true);\n\n        textfield.setBackground(new Color(25, 25, 25));\n        textfield.setForeground(new Color(40,23,50));\n        textfield.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD,75));\n        textfield.setHorizontalAlignment(JLabel.CENTER);\n        textfield.setText(&quot;Tic-Tac-Toe&quot;);\n        textfield.setOpaque(true);\n\n        title_panel.setLayout(new BorderLayout());\n        title_panel.setBounds(0, 0, 800, 100);\n\n        button_panel.setLayout(new GridLayout(3,3));\n        textfield.setBackground(new Color(50, 100, 150));\n\n        for (int i = 0; i &lt; 9; i++){\n            buttons[i] = new JButton();\n            button_panel.add(buttons[i]);\n            buttons[i].setFont(new Font(&quot;MV Boli&quot;, Font.BOLD,120));\n            buttons[i].setFocusable(false);\n            buttons[i].addActionListener(this);\n        }\n\n        title_panel.add(textfield);\n        frame.add(title_panel, BorderLayout.NORTH);\n        frame.add(button_panel);\n\n\n        firstTurn();\n\n        check_x();\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e){\n\n        for (int i = 0; i &lt; 9; i++){\n            if (e.getSource() == buttons[i]){\n                if (player1_turn){\n                    if (buttons[i].getText() == &quot;&quot;){\n                        buttons[i].setForeground(new Color(25,50,55));\n                        buttons[i].setText(&quot;X&quot;);\n                        player1_turn = false;\n                        textfield.setText(&quot;O turn&quot;);\n                    }\n                }else {\n                    if (buttons[i].getText() == &quot;&quot;){\n                        buttons[i].setForeground(new Color(55,0,25));\n                        buttons[i].setText(&quot;O&quot;);\n                        player1_turn = true;\n                        textfield.setText(&quot;X turn&quot;);\n                }\n                }\n            }\n        }\n\n    }\n\n    public void firstTurn(){\n\n        try{\n            Thread.sleep(2000);\n        } catch (InterruptedException e){\n            e.printStackTrace();\n        }\n\n        if (random.nextInt(2) == 0){\n            player1_turn = true;\n            textfield.setText(&quot;X turn&quot;);\n        }else{\n            player1_turn = false;\n            textfield.setText(&quot;O turn&quot;);\n        }\n\n    }\n\n    public void check_x(){\n\n        int[][] win = {{0,1,2}, {3,4,5}, {6,7,8}, {0,4,8}, {2,4,6}, {0,3,6}, {1,4,7}, {2,5,8}};\n\n        while (true) {\n\n            //Check Y\n            boolean t = false;\n            for (int i = 0; i &lt; win.length; i++) {\n\n                int q = win[i][0];\n                int w = win[i][1];\n                int e = win[i][2];\n\n                if ((buttons[q].getText() == &quot;O&quot;) &amp;&amp; (buttons[w].getText() == &quot;O&quot;) &amp;&amp; (buttons[e].getText() == &quot;O&quot;)) {\n                    textfield.setText(&quot;O wins&quot;);\n\n                    t = true;\n\n                    buttons[q].setBackground(Color.GREEN);\n                    buttons[w].setBackground(Color.GREEN);\n                    buttons[e].setBackground(Color.GREEN);\n\n                    for(int s=0;s&lt;9;s++) {\n                        buttons[s].setEnabled(false);\n                    }\n                }\n\n            }if(t){break;}\n\n            //Check X\n            boolean n = false;\n            for (int i = 0; i &lt; win.length; i++) {\n\n                int w = win[i][1];\n                int q = win[i][0];\n                int e = win[i][2];\n\n                if ((buttons[q].getText() == &quot;X&quot;) &amp;&amp; (buttons[w].getText() == &quot;X&quot;) &amp;&amp; (buttons[e].getText() == &quot;X&quot;)) {\n                    textfield.setText(&quot;X wins&quot;);\n\n                    n = true;\n\n                    buttons[q].setBackground(Color.GREEN);\n                    buttons[w].setBackground(Color.GREEN);\n                    buttons[e].setBackground(Color.GREEN);\n\n                    for(int s=0;s&lt;9;s++) {\n                        buttons[s].setEnabled(false);\n                    }\n                }\n            }if (n){break;}\n\n\n\n\n\n}\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1599932298,"creation_date":1599932298,"answer_id":63863139,"question_id":63860926,"body_markdown":"File -&gt; Settings -&gt; Plugins there is the Spring Boot Plugin ... when i deactivate it, spring boot template is missing. \r\n\r\nMaybe you use the community edition? It doesnt support spring boot intellij features. \r\n\r\nhttps://www.jetbrains.com/idea/features/editions_comparison_matrix.html\r\n\r\nYou can use https://start.spring.io/ and download a gradle/maven project.","title":"can not find the spring boot plugin in intellij idea","body":"<p>File -&gt; Settings -&gt; Plugins there is the Spring Boot Plugin ... when i deactivate it, spring boot template is missing.</p>\n<p>Maybe you use the community edition? It doesnt support spring boot intellij features.</p>\n<p><a href=\"https://www.jetbrains.com/idea/features/editions_comparison_matrix.html\" rel=\"noreferrer\">https://www.jetbrains.com/idea/features/editions_comparison_matrix.html</a></p>\n<p>You can use <a href=\"https://start.spring.io/\" rel=\"noreferrer\">https://start.spring.io/</a> and download a gradle/maven project.</p>\n"},{"tags":[],"owner":{"account_id":14188550,"reputation":103,"user_id":10249879,"display_name":"ABD"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1603959752,"creation_date":1603959752,"answer_id":64587335,"question_id":63860926,"body_markdown":"**Intellij Community edition does not support Springboot projects. It is available only in Ultimate edition. This is the reason I switched back to Eclipse (or STS).** \r\n\r\nThere are few workarounds that will help you to run Springboot projects in Intellij Community edition:-\r\n\r\n- By running Main class .\r\n- By executing spring-boot:run command in terminal or cmd. \r\n- You may need to change some settings to make spring-dev-tools work Intellij Community edition.\r\n\r\n*My recommendation: If you are planning to use spring and spring-dev-tools then you should either switch to Intellij Ultimate edition or Eclipse STS.*\r\n\r\nReference:\r\nhttps://www.jetbrains.com/idea/download/#section=windows \r\n","title":"can not find the spring boot plugin in intellij idea","body":"<p><strong>Intellij Community edition does not support Springboot projects. It is available only in Ultimate edition. This is the reason I switched back to Eclipse (or STS).</strong></p>\n<p>There are few workarounds that will help you to run Springboot projects in Intellij Community edition:-</p>\n<ul>\n<li>By running Main class .</li>\n<li>By executing spring-boot:run command in terminal or cmd.</li>\n<li>You may need to change some settings to make spring-dev-tools work Intellij Community edition.</li>\n</ul>\n<p><em>My recommendation: If you are planning to use spring and spring-dev-tools then you should either switch to Intellij Ultimate edition or Eclipse STS.</em></p>\n<p>Reference:\n<a href=\"https://www.jetbrains.com/idea/download/#section=windows\" rel=\"noreferrer\">https://www.jetbrains.com/idea/download/#section=windows</a></p>\n"},{"tags":[],"owner":{"account_id":13994441,"reputation":31,"user_id":10107632,"display_name":"arjun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607942571,"creation_date":1607942571,"answer_id":65287548,"question_id":63860926,"body_markdown":"I did everything still didnt work ... But the solution was actually simple. \r\nThe problem was my JDK was 9 . So you can update your jdk to latest one and try, it will definitely work out. Use the latest intellij too.","title":"can not find the spring boot plugin in intellij idea","body":"<p>I did everything still didnt work ... But the solution was actually simple.\nThe problem was my JDK was 9 . So you can update your jdk to latest one and try, it will definitely work out. Use the latest intellij too.</p>\n"},{"tags":[],"owner":{"account_id":10315036,"reputation":347,"user_id":7609594,"display_name":"sunil karki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646990553,"creation_date":1646990553,"answer_id":71436284,"question_id":63860926,"body_markdown":"&quot;spring boot&quot; plugin is supported in IntelliJ Idea Ultimate version, not the Community version.\r\n\r\nIn Community version, there is another way to do this.\r\n\r\n**Step 1:** Click &quot;Add Configuration&quot; on top right of the IDE. Then click &quot;+&quot; icon on the &#39;Run/Debug Configurations&quot; window.\r\nThere you will see plugin as &quot;Application&quot;. Click it\r\n\r\n**Step 2:** Add the Main Class. Also add Environment variables and Program arguments if required.\r\n\r\n(If need to add VM options as in Spring boot plugin in Idea Ultimate, follow step 3)\r\n\r\n**Step 3:** Go to &quot;modify options&quot; on top right of the window(in blue lines). Then select &quot;Add VM options&quot; from the list. [Note: You can even select &quot;include dependencies with &#39;Provided&#39; scope&quot;. Helps in some projects.]\r\n\r\n**Step 4:** Click &#39;Apply&#39; and &#39;OK&#39;. This will run the project as in Spring Boot plugin.","title":"can not find the spring boot plugin in intellij idea","body":"<p>&quot;spring boot&quot; plugin is supported in IntelliJ Idea Ultimate version, not the Community version.</p>\n<p>In Community version, there is another way to do this.</p>\n<p><strong>Step 1:</strong> Click &quot;Add Configuration&quot; on top right of the IDE. Then click &quot;+&quot; icon on the 'Run/Debug Configurations&quot; window.\nThere you will see plugin as &quot;Application&quot;. Click it</p>\n<p><strong>Step 2:</strong> Add the Main Class. Also add Environment variables and Program arguments if required.</p>\n<p>(If need to add VM options as in Spring boot plugin in Idea Ultimate, follow step 3)</p>\n<p><strong>Step 3:</strong> Go to &quot;modify options&quot; on top right of the window(in blue lines). Then select &quot;Add VM options&quot; from the list. [Note: You can even select &quot;include dependencies with 'Provided' scope&quot;. Helps in some projects.]</p>\n<p><strong>Step 4:</strong> Click 'Apply' and 'OK'. This will run the project as in Spring Boot plugin.</p>\n"}],"owner":{"account_id":18657122,"reputation":177,"user_id":13599256,"display_name":"ben624"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22834,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":63863139,"answer_count":4,"score":9,"last_activity_date":1646990553,"creation_date":1599918156,"question_id":63860926,"body_markdown":"I&#39;m following a tutorial where the guy shows how to create a configuration using th &quot;spring boot&quot; support plugin but this pluugin is not available for me, neither in the list of templates nor in the Marketplace where i tried to add it, the tutorial is on a MAC and i&#39;am on a windows is that the cause or there is something else ?\r\n\r\n[![run/debug configurations][1]][1]\r\n\r\n[![Marketplace][2]][2]\r\n\r\n\r\nthis is a screenshot from the tutorial :\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kwzZu.png\r\n  [2]: https://i.stack.imgur.com/Q6mPT.png\r\n  [3]: https://i.stack.imgur.com/2Uuip.png","title":"can not find the spring boot plugin in intellij idea","body":"<p>I'm following a tutorial where the guy shows how to create a configuration using th &quot;spring boot&quot; support plugin but this pluugin is not available for me, neither in the list of templates nor in the Marketplace where i tried to add it, the tutorial is on a MAC and i'am on a windows is that the cause or there is something else ?</p>\n<p><a href=\"https://i.stack.imgur.com/kwzZu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kwzZu.png\" alt=\"run/debug configurations\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Q6mPT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q6mPT.png\" alt=\"Marketplace\" /></a></p>\n<p>this is a screenshot from the tutorial :</p>\n<p><a href=\"https://i.stack.imgur.com/2Uuip.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2Uuip.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":2900596,"reputation":1882,"user_id":2487403,"accept_rate":76,"display_name":"Everv0id"},"score":0,"creation_date":1443218763,"post_id":32791244,"comment_id":53421510,"body_markdown":"Looks like you forgot to create primary keys on your tables.","body":"Looks like you forgot to create primary keys on your tables."}],"answers":[{"tags":[],"owner":{"account_id":7017180,"reputation":124,"user_id":5378092,"display_name":"shad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1443227417,"creation_date":1443224154,"answer_id":32792063,"question_id":32791244,"body_markdown":"Your problem is that you try to use `stock_detail.STOCK_ID` both as `PRIMARY KEY` for `stock_detail` and as `FOREIGN KEY` from stock and you assign different auto-increment values for them.\r\n\r\nWhen Hibernate saves them it tries to save stock with `STOCK_ID =86` and `stock_detail` with `STOCK_ID=72` which breaks the foreign key contract.\r\n\r\nInstead make a separate primary key in your `stock_detail` table  E.g `stock_detail_id` and leave `stock_id` as a separate column.\r\n ","title":"Hibernate @OneToOne cannot add or update a child row: a foreign key constraint","body":"<p>Your problem is that you try to use <code>stock_detail.STOCK_ID</code> both as <code>PRIMARY KEY</code> for <code>stock_detail</code> and as <code>FOREIGN KEY</code> from stock and you assign different auto-increment values for them.</p>\n\n<p>When Hibernate saves them it tries to save stock with <code>STOCK_ID =86</code> and <code>stock_detail</code> with <code>STOCK_ID=72</code> which breaks the foreign key contract.</p>\n\n<p>Instead make a separate primary key in your <code>stock_detail</code> table  E.g <code>stock_detail_id</code> and leave <code>stock_id</code> as a separate column.</p>\n"},{"tags":[],"owner":{"account_id":5122022,"reputation":2427,"user_id":4105260,"accept_rate":0,"display_name":"Lovababu Padala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443255756,"creation_date":1443255756,"answer_id":32795098,"question_id":32791244,"body_markdown":"Agree with accepted answer. \r\n\r\nStill if you want to stick with Foreign key as primary key in child table, Go with `Foreign Key Generator` on child table. This way we can reduce the overhead to DB engine for creating too many unique ids.\r\n\r\nRefer: [ForeignKeyGeneratorUsage][1] \r\n\r\n\r\n  [1]: https://github.com/lovababu/HibernateForeignKeyGenerator","title":"Hibernate @OneToOne cannot add or update a child row: a foreign key constraint","body":"<p>Agree with accepted answer. </p>\n\n<p>Still if you want to stick with Foreign key as primary key in child table, Go with <code>Foreign Key Generator</code> on child table. This way we can reduce the overhead to DB engine for creating too many unique ids.</p>\n\n<p>Refer: <a href=\"https://github.com/lovababu/HibernateForeignKeyGenerator\" rel=\"nofollow\">ForeignKeyGeneratorUsage</a> </p>\n"},{"tags":[],"owner":{"account_id":14915763,"reputation":26,"user_id":10769628,"display_name":"StackOverFlower"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646990495,"creation_date":1646987398,"answer_id":71435646,"question_id":32791244,"body_markdown":"The accepted answer doesn&#39;t provide an optimal solution. The approach to use `stock.STOCK_ID` as the primary/foreign key of `stock_detail` should be kept for reasons outlined [here][1]. And in JPA, this approach is supported as well, just use the `@PrimaryKeyJoinColumn` and `@MapsId` annotations as outlined in section 4 of [this tutorial][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13645562/10769628\r\n  [2]: https://www.baeldung.com/jpa-one-to-one","title":"Hibernate @OneToOne cannot add or update a child row: a foreign key constraint","body":"<p>The accepted answer doesn't provide an optimal solution. The approach to use <code>stock.STOCK_ID</code> as the primary/foreign key of <code>stock_detail</code> should be kept for reasons outlined <a href=\"https://stackoverflow.com/a/13645562/10769628\">here</a>. And in JPA, this approach is supported as well, just use the <code>@PrimaryKeyJoinColumn</code> and <code>@MapsId</code> annotations as outlined in section 4 of <a href=\"https://www.baeldung.com/jpa-one-to-one\" rel=\"nofollow noreferrer\">this tutorial</a></p>\n"}],"owner":{"account_id":3653496,"reputation":37,"user_id":3045067,"accept_rate":43,"display_name":"Davidto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32792063,"answer_count":3,"score":0,"last_activity_date":1646990495,"creation_date":1443218401,"question_id":32791244,"body_markdown":"I am using JPA, Hibernate, Spring and MySQL\r\n\r\n&gt; Cannot add or update a child row: a foreign key constraint fails (`db1`.`stock_detail`, CONSTRAINT `FK_STOCK_ID` FOREIGN KEY (`STOCK_ID`) REFERENCES `stock` (`STOCK_ID`))\r\n\r\n\r\n\r\n   Create script \r\n\r\n     CREATE TABLE IF NOT EXISTS `stock` (\r\n      `STOCK_ID` int(10) unsigned NOT NULL,\r\n      `STOCK_CODE` varchar(10) NOT NULL,\r\n      `STOCK_NAME` varchar(20) NOT NULL\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=86 DEFAULT CHARSET=utf8;\r\n    \r\n    CREATE TABLE IF NOT EXISTS `stock_detail` (\r\n      `STOCK_ID` int(10) unsigned NOT NULL,\r\n      `COMP_NAME` varchar(100) NOT NULL,\r\n      `COMP_DESC` varchar(255) NOT NULL\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=72 DEFAULT CHARSET=utf8;\r\n    \r\n    ALTER TABLE `stock`\r\n      ADD PRIMARY KEY (`STOCK_ID`) USING BTREE,\r\n      ADD UNIQUE KEY `UNI_STOCK_NAME` (`STOCK_NAME`),\r\n      ADD UNIQUE KEY `UNI_STOCK_CODE` (`STOCK_CODE`) USING BTREE;\r\n    \r\n    ALTER TABLE `stock_detail`\r\n      ADD PRIMARY KEY (`STOCK_ID`) USING BTREE;\r\n    \r\n    ALTER TABLE `stock`\r\n      MODIFY `STOCK_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=86;\r\n    \r\n    ALTER TABLE `stock_detail`\r\n      MODIFY `STOCK_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=72;\r\n    \r\n    ALTER TABLE `stock_detail`\r\n      ADD CONSTRAINT `FK_STOCK_ID` FOREIGN KEY (`STOCK_ID`) REFERENCES `stock` (`STOCK_ID`);\r\n\r\nStock entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;stock&quot;)\r\n    @XmlRootElement\r\n    @Component(&quot;astock&quot;)\r\n    @NamedQueries({\r\n        @NamedQuery(name = &quot;Stock.findAll&quot;, query = &quot;SELECT s FROM Stock s&quot;),\r\n        @NamedQuery(name = &quot;Stock.findByStockId&quot;, query = &quot;SELECT s FROM Stock s WHERE s.stockId = :stockId&quot;),\r\n        @NamedQuery(name = &quot;Stock.findByStockCode&quot;, query = &quot;SELECT s FROM Stock s WHERE s.stockCode = :stockCode&quot;),\r\n        @NamedQuery(name = &quot;Stock.findByStockName&quot;, query = &quot;SELECT s FROM Stock s WHERE s.stockName = :stockName&quot;)})\r\n    public class Stock implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;STOCK_ID&quot;)\r\n        private Integer stockId;\r\n        @Basic(optional = false)\r\n    \r\n        @Size(min = 1, max = 10)\r\n        @Column(name = &quot;STOCK_CODE&quot;)\r\n        private String stockCode;\r\n        @Basic(optional = false)\r\n    \r\n        @Size(min = 1, max = 20)\r\n        @Column(name = &quot;STOCK_NAME&quot;)\r\n        private String stockName;\r\n        @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;stock&quot;)\r\n        private StockDetail stockDetail;\r\n\r\nStockDetail entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;stock_detail&quot;)\r\n    @XmlRootElement\r\n    @NamedQueries({\r\n        @NamedQuery(name = &quot;StockDetail.findAll&quot;, query = &quot;SELECT s FROM StockDetail s&quot;),\r\n        @NamedQuery(name = &quot;StockDetail.findByStockId&quot;, query = &quot;SELECT s FROM StockDetail s WHERE s.stockId = :stockId&quot;),\r\n        @NamedQuery(name = &quot;StockDetail.findByCompName&quot;, query = &quot;SELECT s FROM StockDetail s WHERE s.compName = :compName&quot;),\r\n        @NamedQuery(name = &quot;StockDetail.findByCompDesc&quot;, query = &quot;SELECT s FROM StockDetail s WHERE s.compDesc = :compDesc&quot;)})\r\n    public class StockDetail implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;STOCK_ID&quot;)\r\n        private Integer stockId;\r\n        @Basic(optional = false)\r\n    \r\n        @Size(min = 1, max = 100)\r\n        @Column(name = &quot;COMP_NAME&quot;)\r\n        private String compName;\r\n        \r\n        @Basic(optional = false)\r\n        @Size(min = 1, max = 255)\r\n        @Column(name = &quot;COMP_DESC&quot;)\r\n        private String compDesc;\r\n        @JoinColumn(name = &quot;STOCK_ID&quot;, referencedColumnName = &quot;STOCK_ID&quot;)\r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        private Stock stock;\r\n\r\n\r\nHow I am trying to save it.\r\n\r\n        Stock StockServices = (Stock) applicationContext.getBean(&quot;astock&quot;);\r\n\r\n        Stock stock = new Stock();\r\n        stock.setStockCode(&quot;123&quot;);\r\n        stock.setStockName(&quot;AAPL&quot;);\r\n\r\n        StockDetail stockDetail = new StockDetail();\r\n        stockDetail.setCompName(&quot;Apple&quot;);\r\n        stockDetail.setCompDesc(&quot;A hardware and software company&quot;);\r\n\r\n        stockDetail.setStock(stock);\r\n        stock.setStockDetail(stockDetail);\r\n\r\n        sessionFactory.getCurrentSession().saveOrUpdate(stock);","title":"Hibernate @OneToOne cannot add or update a child row: a foreign key constraint","body":"<p>I am using JPA, Hibernate, Spring and MySQL</p>\n\n<blockquote>\n  <p>Cannot add or update a child row: a foreign key constraint fails (<code>db1</code>.<code>stock_detail</code>, CONSTRAINT <code>FK_STOCK_ID</code> FOREIGN KEY (<code>STOCK_ID</code>) REFERENCES <code>stock</code> (<code>STOCK_ID</code>))</p>\n</blockquote>\n\n<p>Create script </p>\n\n<pre><code> CREATE TABLE IF NOT EXISTS `stock` (\n  `STOCK_ID` int(10) unsigned NOT NULL,\n  `STOCK_CODE` varchar(10) NOT NULL,\n  `STOCK_NAME` varchar(20) NOT NULL\n) ENGINE=InnoDB AUTO_INCREMENT=86 DEFAULT CHARSET=utf8;\n\nCREATE TABLE IF NOT EXISTS `stock_detail` (\n  `STOCK_ID` int(10) unsigned NOT NULL,\n  `COMP_NAME` varchar(100) NOT NULL,\n  `COMP_DESC` varchar(255) NOT NULL\n) ENGINE=InnoDB AUTO_INCREMENT=72 DEFAULT CHARSET=utf8;\n\nALTER TABLE `stock`\n  ADD PRIMARY KEY (`STOCK_ID`) USING BTREE,\n  ADD UNIQUE KEY `UNI_STOCK_NAME` (`STOCK_NAME`),\n  ADD UNIQUE KEY `UNI_STOCK_CODE` (`STOCK_CODE`) USING BTREE;\n\nALTER TABLE `stock_detail`\n  ADD PRIMARY KEY (`STOCK_ID`) USING BTREE;\n\nALTER TABLE `stock`\n  MODIFY `STOCK_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=86;\n\nALTER TABLE `stock_detail`\n  MODIFY `STOCK_ID` int(10) unsigned NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=72;\n\nALTER TABLE `stock_detail`\n  ADD CONSTRAINT `FK_STOCK_ID` FOREIGN KEY (`STOCK_ID`) REFERENCES `stock` (`STOCK_ID`);\n</code></pre>\n\n<p>Stock entity</p>\n\n<pre><code>@Entity\n@Table(name = \"stock\")\n@XmlRootElement\n@Component(\"astock\")\n@NamedQueries({\n    @NamedQuery(name = \"Stock.findAll\", query = \"SELECT s FROM Stock s\"),\n    @NamedQuery(name = \"Stock.findByStockId\", query = \"SELECT s FROM Stock s WHERE s.stockId = :stockId\"),\n    @NamedQuery(name = \"Stock.findByStockCode\", query = \"SELECT s FROM Stock s WHERE s.stockCode = :stockCode\"),\n    @NamedQuery(name = \"Stock.findByStockName\", query = \"SELECT s FROM Stock s WHERE s.stockName = :stockName\")})\npublic class Stock implements Serializable {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"STOCK_ID\")\n    private Integer stockId;\n    @Basic(optional = false)\n\n    @Size(min = 1, max = 10)\n    @Column(name = \"STOCK_CODE\")\n    private String stockCode;\n    @Basic(optional = false)\n\n    @Size(min = 1, max = 20)\n    @Column(name = \"STOCK_NAME\")\n    private String stockName;\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = \"stock\")\n    private StockDetail stockDetail;\n</code></pre>\n\n<p>StockDetail entity</p>\n\n<pre><code>@Entity\n@Table(name = \"stock_detail\")\n@XmlRootElement\n@NamedQueries({\n    @NamedQuery(name = \"StockDetail.findAll\", query = \"SELECT s FROM StockDetail s\"),\n    @NamedQuery(name = \"StockDetail.findByStockId\", query = \"SELECT s FROM StockDetail s WHERE s.stockId = :stockId\"),\n    @NamedQuery(name = \"StockDetail.findByCompName\", query = \"SELECT s FROM StockDetail s WHERE s.compName = :compName\"),\n    @NamedQuery(name = \"StockDetail.findByCompDesc\", query = \"SELECT s FROM StockDetail s WHERE s.compDesc = :compDesc\")})\npublic class StockDetail implements Serializable {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"STOCK_ID\")\n    private Integer stockId;\n    @Basic(optional = false)\n\n    @Size(min = 1, max = 100)\n    @Column(name = \"COMP_NAME\")\n    private String compName;\n\n    @Basic(optional = false)\n    @Size(min = 1, max = 255)\n    @Column(name = \"COMP_DESC\")\n    private String compDesc;\n    @JoinColumn(name = \"STOCK_ID\", referencedColumnName = \"STOCK_ID\")\n    @OneToOne(cascade = CascadeType.ALL)\n    private Stock stock;\n</code></pre>\n\n<p>How I am trying to save it.</p>\n\n<pre><code>    Stock StockServices = (Stock) applicationContext.getBean(\"astock\");\n\n    Stock stock = new Stock();\n    stock.setStockCode(\"123\");\n    stock.setStockName(\"AAPL\");\n\n    StockDetail stockDetail = new StockDetail();\n    stockDetail.setCompName(\"Apple\");\n    stockDetail.setCompDesc(\"A hardware and software company\");\n\n    stockDetail.setStock(stock);\n    stock.setStockDetail(stockDetail);\n\n    sessionFactory.getCurrentSession().saveOrUpdate(stock);\n</code></pre>\n"},{"tags":["java","maven","dependencies","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1646992187,"post_id":71436257,"comment_id":126265650,"body_markdown":"Using http instead of https....upgrading Maven etc....","body":"Using http instead of https....upgrading Maven etc...."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1647091241,"post_id":71436257,"comment_id":126289067,"body_markdown":"Start with upgrading to newest version of Maven.","body":"Start with upgrading to newest version of Maven."}],"owner":{"account_id":24524855,"reputation":1,"user_id":18437428,"display_name":"Szczepan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646990395,"creation_date":1646990395,"question_id":71436257,"body_markdown":"I&#39;ve generated files from WSDL, and right now I&#39;ve it on my remote repository. \r\n\r\nNow if I have added dependencies to my project poms and reload maven I have errors like this\r\n\r\n[Blocked mirror][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2OBI9.png\r\nOr if I run mvn -U clean install i get error like below:\r\nCould not find artifact ....webservices:pom:1.0.0  \r\n\r\nHow can I fix it ?\r\n","title":"Blocked mirror for repositories: [centralhttp (http://....maven.org/maven2/, default, releases+snapshots)]","body":"<p>I've generated files from WSDL, and right now I've it on my remote repository.</p>\n<p>Now if I have added dependencies to my project poms and reload maven I have errors like this</p>\n<p><a href=\"https://i.stack.imgur.com/2OBI9.png\" rel=\"nofollow noreferrer\">Blocked mirror</a></p>\n<p>Or if I run mvn -U clean install i get error like below:\nCould not find artifact ....webservices:pom:1.0.0</p>\n<p>How can I fix it ?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646983378,"creation_date":1646983378,"answer_id":71434968,"question_id":71432564,"body_markdown":"Your current REST-Design for basic input/output posts is well designed. If I try to give it a name I would call it the Posts-Service.\r\n\r\nI suggest to create a second REST-Microservice for that aggregation issue (let me call it Aggregation-Service) because:\r\n\r\n1. I think you need lower performance on the Posts-Service than on the Aggregation-Service. Because `ALL existing Posts of ALL Users` and `GET ALL CHILDRENS OF ALL PARENTS` might return hughe data and looks to be read-only. So they have different performance requirements than your `Posts-Service` and you might balance them differently. \r\n\r\n2. I think the aggregation might have changes (i.e.: new ordering/filtering-functionality) that can be compleatly detached from the development of the `Posts-Service`. You can release changes from Aggregation-Service and Posts-Service seperatly or at least be able to make different A/B tests.\r\n\r\n3. Posts-Service require a security-concpet. Aggregation Service might not need a security-concept.\r\n\r\nKind Regards","title":"How do I separate my controllers If I have nested resources? (JAVA Spring)","body":"<p>Your current REST-Design for basic input/output posts is well designed. If I try to give it a name I would call it the Posts-Service.</p>\n<p>I suggest to create a second REST-Microservice for that aggregation issue (let me call it Aggregation-Service) because:</p>\n<ol>\n<li><p>I think you need lower performance on the Posts-Service than on the Aggregation-Service. Because <code>ALL existing Posts of ALL Users</code> and <code>GET ALL CHILDRENS OF ALL PARENTS</code> might return hughe data and looks to be read-only. So they have different performance requirements than your <code>Posts-Service</code> and you might balance them differently.</p>\n</li>\n<li><p>I think the aggregation might have changes (i.e.: new ordering/filtering-functionality) that can be compleatly detached from the development of the <code>Posts-Service</code>. You can release changes from Aggregation-Service and Posts-Service seperatly or at least be able to make different A/B tests.</p>\n</li>\n<li><p>Posts-Service require a security-concpet. Aggregation Service might not need a security-concept.</p>\n</li>\n</ol>\n<p>Kind Regards</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646990231,"creation_date":1646990231,"answer_id":71436229,"question_id":71432564,"body_markdown":"You could create such an DashboardController (your words) and create a path having so-called Matrix-Parameters. They seperate pre-questionmark-requests using the `;` as part of the URL.\r\n\r\nMatrix parameters are designed exactly for your case but not well-accepted in the REST-Community. Anyway, this is the Matrix-Solution:\r\n\r\nhttp://www.example.com/api/v1/dashboard/all;parentId=123\r\n\r\nhttp://www.example.com/api/v1/dashboard/all","title":"How do I separate my controllers If I have nested resources? (JAVA Spring)","body":"<p>You could create such an DashboardController (your words) and create a path having so-called Matrix-Parameters. They seperate pre-questionmark-requests using the <code>;</code> as part of the URL.</p>\n<p>Matrix parameters are designed exactly for your case but not well-accepted in the REST-Community. Anyway, this is the Matrix-Solution:</p>\n<p><a href=\"http://www.example.com/api/v1/dashboard/all;parentId=123\" rel=\"nofollow noreferrer\">http://www.example.com/api/v1/dashboard/all;parentId=123</a></p>\n<p><a href=\"http://www.example.com/api/v1/dashboard/all\" rel=\"nofollow noreferrer\">http://www.example.com/api/v1/dashboard/all</a></p>\n"}],"owner":{"account_id":24521001,"reputation":31,"user_id":18434027,"display_name":"AFrequentVisitor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646990231,"creation_date":1646960896,"question_id":71432564,"body_markdown":"I&#39;m developing a forum API in JAVA using Spring and I been refactoring my URLS so they are nested using a maximum of 2 levels.\r\n\r\n**For example I have the following endpoints in UserPostController:**&lt;br /&gt;\r\n(GET) /api/v1/users/{username}/posts&lt;br /&gt;\r\n(GET) /api/v1/users/{username}/posts/{postId}&lt;br /&gt;\r\n(POST) /api/v1/users/{username}/posts&lt;br /&gt;\r\n(PUT) /api/v1/users/{username}/posts/{postId}&lt;br /&gt;\r\n(DELETE) /api/v1/users/{username}/posts/{postId}&lt;br /&gt;\r\n\r\n(The posts cannot exists if they aren&#39;t linked to an existing user)\r\n\r\n**But I also wanted an endpoint that let me get ALL existing Posts of ALL Users so I figure I&#39;t will be something like:**&lt;br /&gt;\r\n(GET) /api/v1/posts\r\n\r\nI created another controller called **&quot;PostController&quot;** for that but only with that endpoint.\r\n\r\nThe problem is that I have another relationships like this one, for example between Post and Comments, and I will end up creating a lot of Controllers for the cases when I want to GET ALL CHILDRENS OF ALL PARENTS. I&#39;m sure there is another better way.\r\n\r\nEdit:\r\nI also have to mention that the base path for the UserPostController is &quot;/api/v1/users/{username}/posts&quot;.","title":"How do I separate my controllers If I have nested resources? (JAVA Spring)","body":"<p>I'm developing a forum API in JAVA using Spring and I been refactoring my URLS so they are nested using a maximum of 2 levels.</p>\n<p><strong>For example I have the following endpoints in UserPostController:</strong><br />\n(GET) /api/v1/users/{username}/posts<br />\n(GET) /api/v1/users/{username}/posts/{postId}<br />\n(POST) /api/v1/users/{username}/posts<br />\n(PUT) /api/v1/users/{username}/posts/{postId}<br />\n(DELETE) /api/v1/users/{username}/posts/{postId}<br /></p>\n<p>(The posts cannot exists if they aren't linked to an existing user)</p>\n<p><strong>But I also wanted an endpoint that let me get ALL existing Posts of ALL Users so I figure I't will be something like:</strong><br />\n(GET) /api/v1/posts</p>\n<p>I created another controller called <strong>&quot;PostController&quot;</strong> for that but only with that endpoint.</p>\n<p>The problem is that I have another relationships like this one, for example between Post and Comments, and I will end up creating a lot of Controllers for the cases when I want to GET ALL CHILDRENS OF ALL PARENTS. I'm sure there is another better way.</p>\n<p>Edit:\nI also have to mention that the base path for the UserPostController is &quot;/api/v1/users/{username}/posts&quot;.</p>\n"},{"tags":["java","android","menu"],"answers":[{"tags":[],"owner":{"account_id":21316656,"reputation":2206,"user_id":15690398,"display_name":"che10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646990221,"creation_date":1646987199,"answer_id":71435602,"question_id":71435530,"body_markdown":"The thing which I feel is wrong is your menu XML file. For some reason you have a menu tag inside a menu tag. So there is sort of a sub menu if you get my point? But you&#39;re not inflating that actually.\r\n\r\nModify the XML as follows\r\n\r\n```xml\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    tools:context=&quot;.YourActivityName&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n            &lt;item\r\n                android:id=&quot;@+id/change_name&quot;\r\n                android:title=&quot;Change name&quot;\r\n                app:showAsAction=&quot;always|withText&quot;\r\n                android:icon=&quot;@drawable/ic_baseline_edit_24&quot;\r\n                /&gt;\r\n\r\n            &lt;item\r\n                android:id=&quot;@+id/new_photo&quot;\r\n                android:title=&quot;New photo&quot;\r\n                app:showAsAction=&quot;always|withText&quot;\r\n                android:icon=&quot;@drawable/ic_baseline_add_a_photo_24&quot;\r\n                /&gt;\r\n\r\n            &lt;item\r\n                android:id=&quot;@+id/log_out&quot;\r\n                android:title=&quot;Log out&quot;\r\n                app:showAsAction=&quot;always|withText&quot;\r\n                android:icon=&quot;@drawable/ic_baseline_login_purp_24&quot;\r\n                /&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\nI have updated your menu as per you code. If you need, add more items to it.","title":"I cant click on item inside my menu. My menu opens and everything is displayed normally, but nothing happens when I click","body":"<p>The thing which I feel is wrong is your menu XML file. For some reason you have a menu tag inside a menu tag. So there is sort of a sub menu if you get my point? But you're not inflating that actually.</p>\n<p>Modify the XML as follows</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:context=&quot;.YourActivityName&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n            &lt;item\n                android:id=&quot;@+id/change_name&quot;\n                android:title=&quot;Change name&quot;\n                app:showAsAction=&quot;always|withText&quot;\n                android:icon=&quot;@drawable/ic_baseline_edit_24&quot;\n                /&gt;\n\n            &lt;item\n                android:id=&quot;@+id/new_photo&quot;\n                android:title=&quot;New photo&quot;\n                app:showAsAction=&quot;always|withText&quot;\n                android:icon=&quot;@drawable/ic_baseline_add_a_photo_24&quot;\n                /&gt;\n\n            &lt;item\n                android:id=&quot;@+id/log_out&quot;\n                android:title=&quot;Log out&quot;\n                app:showAsAction=&quot;always|withText&quot;\n                android:icon=&quot;@drawable/ic_baseline_login_purp_24&quot;\n                /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>I have updated your menu as per you code. If you need, add more items to it.</p>\n"}],"owner":{"account_id":24520320,"reputation":3,"user_id":18436971,"display_name":"Valery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71435602,"answer_count":1,"score":0,"last_activity_date":1646990221,"creation_date":1646986782,"question_id":71435530,"body_markdown":"I cant click on item inside my menu. My menu opens and everything is displayed normally, but nothing happens when I click. I don&#39;t know why and searched for information but it doesn&#39;t help me.\r\nThis my XML code profile__detail_menu.\r\n```\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;item\r\n        app:showAsAction=&quot;always&quot;\r\n        android:icon=&quot;@drawable/ic_baseline_more_vert_24&quot;\r\n        android:title=&quot;&quot;&gt;\r\n    &lt;menu&gt;\r\n            &lt;item\r\n                android:id=&quot;@+id/change_name&quot;\r\n                android:title=&quot;Change name&quot;\r\n                android:icon=&quot;@drawable/ic_baseline_edit_24&quot;\r\n                /&gt;\r\n\r\n            &lt;item\r\n                android:id=&quot;@+id/new_photo&quot;\r\n                android:title=&quot;New photo&quot;\r\n                android:icon=&quot;@drawable/ic_baseline_add_a_photo_24&quot;\r\n                /&gt;\r\n\r\n            &lt;item\r\n                android:id=&quot;@+id/log_out&quot;\r\n                android:title=&quot;Log out&quot;\r\n                android:icon=&quot;@drawable/ic_baseline_login_purp_24&quot;\r\n                /&gt;\r\n    &lt;/menu&gt;\r\n    &lt;/item&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\nThis my Java code.\r\n```\r\npublic boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.profile__detail_menu, menu);\r\n\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        Toast.makeText(Profile.this,&quot;Something&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n        switch (item.getItemId()) {\r\n            case R.id.change_name:\r\n                Toast.makeText(this, &quot;change_name selected&quot;, Toast.LENGTH_SHORT).show();\r\n                return true;\r\n            case R.id.new_photo:\r\n                Toast.makeText(this, &quot;new_photo selected&quot;, Toast.LENGTH_SHORT).show();\r\n                return true;\r\n            case R.id.log_out:\r\n                Toast.makeText(this, &quot;log_out selected&quot;, Toast.LENGTH_SHORT).show();\r\n                return true;\r\n\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n\r\n\r\n    }\r\n```","title":"I cant click on item inside my menu. My menu opens and everything is displayed normally, but nothing happens when I click","body":"<p>I cant click on item inside my menu. My menu opens and everything is displayed normally, but nothing happens when I click. I don't know why and searched for information but it doesn't help me.\nThis my XML code profile__detail_menu.</p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item\n        app:showAsAction=&quot;always&quot;\n        android:icon=&quot;@drawable/ic_baseline_more_vert_24&quot;\n        android:title=&quot;&quot;&gt;\n    &lt;menu&gt;\n            &lt;item\n                android:id=&quot;@+id/change_name&quot;\n                android:title=&quot;Change name&quot;\n                android:icon=&quot;@drawable/ic_baseline_edit_24&quot;\n                /&gt;\n\n            &lt;item\n                android:id=&quot;@+id/new_photo&quot;\n                android:title=&quot;New photo&quot;\n                android:icon=&quot;@drawable/ic_baseline_add_a_photo_24&quot;\n                /&gt;\n\n            &lt;item\n                android:id=&quot;@+id/log_out&quot;\n                android:title=&quot;Log out&quot;\n                android:icon=&quot;@drawable/ic_baseline_login_purp_24&quot;\n                /&gt;\n    &lt;/menu&gt;\n    &lt;/item&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>This my Java code.</p>\n<pre><code>public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.profile__detail_menu, menu);\n\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n        Toast.makeText(Profile.this,&quot;Something&quot;, Toast.LENGTH_SHORT).show();\n\n\n        switch (item.getItemId()) {\n            case R.id.change_name:\n                Toast.makeText(this, &quot;change_name selected&quot;, Toast.LENGTH_SHORT).show();\n                return true;\n            case R.id.new_photo:\n                Toast.makeText(this, &quot;new_photo selected&quot;, Toast.LENGTH_SHORT).show();\n                return true;\n            case R.id.log_out:\n                Toast.makeText(this, &quot;log_out selected&quot;, Toast.LENGTH_SHORT).show();\n                return true;\n\n            default:\n                return super.onOptionsItemSelected(item);\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1646606599,"post_id":71345754,"comment_id":126159212,"body_markdown":"So ok, I guess I see one test...the `if` statement., right?  And I see from there that you define an object that will match up with the test.  That&#39;s good.  If you have a whole bunch of tests, I could see this method getting you back some amount of the entrypoint definitions (the API).  But that&#39;s as far as I see you being able to take this.  The unit tests would usually tell you almost nothing about the business logic, or how the code interacted with the outside world...with the net, with databases, with other services and APIs.  I don&#39;t see this being of much value.","body":"So ok, I guess I see one test...the <code>if</code> statement., right?  And I see from there that you define an object that will match up with the test.  That&#39;s good.  If you have a whole bunch of tests, I could see this method getting you back some amount of the entrypoint definitions (the API).  But that&#39;s as far as I see you being able to take this.  The unit tests would usually tell you almost nothing about the business logic, or how the code interacted with the outside world...with the net, with databases, with other services and APIs.  I don&#39;t see this being of much value."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1646606879,"post_id":71345754,"comment_id":126159262,"body_markdown":"As Gonzalo points out in his answer., if you have a lot of good tests, you&#39;re all set to start rewriting the code using Test Driven Development.","body":"As Gonzalo points out in his answer., if you have a lot of good tests, you&#39;re all set to start rewriting the code using Test Driven Development."}],"answers":[{"tags":[],"owner":{"account_id":246243,"reputation":9164,"user_id":520275,"accept_rate":83,"display_name":"Gonzalo Matheu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646605668,"creation_date":1646605668,"answer_id":71374702,"question_id":71345754,"body_markdown":"Depends on how strong your coverage of that part of the code was.\r\n\r\nIf it had high coverage, you can follow a [TDD][1] like approach doing Red-Green-Refactor cycles. \r\n\r\nTo start I would comment all failing tests but one (the simplest one) [first red] an then do the implementation to make it pass [first green].\r\n\r\nThen uncomment the next test and implement again.\r\n\r\nRinse and repeat until all test are uncommented and passing.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Test-driven_development","title":"Implement logic from JUnit tests","body":"<p>Depends on how strong your coverage of that part of the code was.</p>\n<p>If it had high coverage, you can follow a <a href=\"https://en.wikipedia.org/wiki/Test-driven_development\" rel=\"nofollow noreferrer\">TDD</a> like approach doing Red-Green-Refactor cycles.</p>\n<p>To start I would comment all failing tests but one (the simplest one) [first red] an then do the implementation to make it pass [first green].</p>\n<p>Then uncomment the next test and implement again.</p>\n<p>Rinse and repeat until all test are uncommented and passing.</p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646990188,"creation_date":1646990188,"answer_id":71436216,"question_id":71345754,"body_markdown":"This is testing [HMAC-SHA-256](https://datatracker.ietf.org/doc/html/rfc4868) and there are countless Java implementations of it. The strange thing just is, that no signature is being passed - neither when hashing, nor when comparing the hashes. I don&#39;t think that the code has any real purpose alike this.","title":"Implement logic from JUnit tests","body":"<p>This is testing <a href=\"https://datatracker.ietf.org/doc/html/rfc4868\" rel=\"nofollow noreferrer\">HMAC-SHA-256</a> and there are countless Java implementations of it. The strange thing just is, that no signature is being passed - neither when hashing, nor when comparing the hashes. I don't think that the code has any real purpose alike this.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71436216,"answer_count":2,"score":-2,"last_activity_date":1646990188,"creation_date":1646358510,"question_id":71345754,"body_markdown":"I lost some Java code. I keep only several JUnit tests for hashing. I tried to implement this:\r\n\r\n    public interface HmacService {\r\n        String hash(final String number);\r\n    \r\n        String getCheckhash(final String hash);\r\n    }\r\n    ...\r\n    class HmacServiceImpl implements HmacService {\r\n    \r\n        public String hash(String number) {\r\n            try {\r\n                return Hashing.sha256().hashString(plainCardNumber, StandardCharsets.UTF_8).toString();\r\n            } catch (Exception var3) {            \r\n            }\r\n        }\r\n    \r\n        public String getNonCreditCardSha1Hmac(String hash) {\r\n            try {\r\n              return Hashing.sha1().hashString(hash, StandardCharsets.UTF_8).toString();\r\n            } catch (Exception var3) {            \r\n            }\r\n        }\r\n    \r\n    \r\n       final class HashPair{\r\n            String firstHash;\r\n            String secondHash;\r\n    \r\n            public HashPair(String firstHash, String secondHash) {\r\n                this.firstHash = firstHash;\r\n                this.secondHash = secondHash;\r\n            }\r\n            \r\n            // perform hash comparison here\r\n        }\r\n    }\r\n\r\nJUnit tests:\r\n\r\n    public HmacService.HashPair generateQuickHash(final String cardNum) {\r\n        return cryptoService.generateHashPair(cardNum);\r\n    }\r\n    \r\n    if(new HmacService.HashPair(oldHash, oldHash)) == null){\r\n    // some error message\r\n    }\r\n\r\nDo you know how I can implement the code based on the JUnit tests?","title":"Implement logic from JUnit tests","body":"<p>I lost some Java code. I keep only several JUnit tests for hashing. I tried to implement this:</p>\n<pre><code>public interface HmacService {\n    String hash(final String number);\n\n    String getCheckhash(final String hash);\n}\n...\nclass HmacServiceImpl implements HmacService {\n\n    public String hash(String number) {\n        try {\n            return Hashing.sha256().hashString(plainCardNumber, StandardCharsets.UTF_8).toString();\n        } catch (Exception var3) {            \n        }\n    }\n\n    public String getNonCreditCardSha1Hmac(String hash) {\n        try {\n          return Hashing.sha1().hashString(hash, StandardCharsets.UTF_8).toString();\n        } catch (Exception var3) {            \n        }\n    }\n\n\n   final class HashPair{\n        String firstHash;\n        String secondHash;\n\n        public HashPair(String firstHash, String secondHash) {\n            this.firstHash = firstHash;\n            this.secondHash = secondHash;\n        }\n        \n        // perform hash comparison here\n    }\n}\n</code></pre>\n<p>JUnit tests:</p>\n<pre><code>public HmacService.HashPair generateQuickHash(final String cardNum) {\n    return cryptoService.generateHashPair(cardNum);\n}\n\nif(new HmacService.HashPair(oldHash, oldHash)) == null){\n// some error message\n}\n</code></pre>\n<p>Do you know how I can implement the code based on the JUnit tests?</p>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":1,"creation_date":1402073559,"post_id":24086946,"comment_id":37148641,"body_markdown":"You&#39;re encountering the try-with-resources java 7 feature. Read the [tutorial article](http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) that describes it and how to work around it.","body":"You&#39;re encountering the try-with-resources java 7 feature. Read the <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">tutorial article</a> that describes it and how to work around it."},{"owner":{"account_id":1339113,"reputation":1550,"user_id":1281182,"accept_rate":59,"display_name":"Atul"},"score":0,"creation_date":1402073850,"post_id":24086946,"comment_id":37148820,"body_markdown":"one more article for easy understanding http://technicalmumbojumbo.wordpress.com/2013/02/15/back-to-basics-java-7-autocloseable-tutorial-overview/.","body":"one more article for easy understanding <a href=\"http://technicalmumbojumbo.wordpress.com/2013/02/15/back-to-basics-java-7-autocloseable-tutorial-overview/\" rel=\"nofollow noreferrer\">technicalmumbojumbo.wordpress.com/2013/02/15/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius MeÅ¡kauskas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402074738,"creation_date":1402074738,"answer_id":24087288,"question_id":24086946,"body_markdown":"Replace the new `try` construct with the classic `finally` clause:\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(fileName));\r\n    try {\r\n    \r\n    } catch(IOException e) {\r\n    \r\n    } finally {\r\n       br.close();\r\n    }\r\n\r\nThis will close the reader in any case, also if an exception has been thrown from the inside try block. Only [AutoCloseable][1] classes can be used in try-with-resources construct, and java 6 `BufferedReader` is not (java 7 `BufferedReader` is).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html","title":"JRE6 compatibility issue with the BufferedReader","body":"<p>Replace the new <code>try</code> construct with the classic <code>finally</code> clause:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(fileName));\ntry {\n\n} catch(IOException e) {\n\n} finally {\n   br.close();\n}\n</code></pre>\n\n<p>This will close the reader in any case, also if an exception has been thrown from the inside try block. Only <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow\">AutoCloseable</a> classes can be used in try-with-resources construct, and java 6 <code>BufferedReader</code> is not (java 7 <code>BufferedReader</code> is).</p>\n"},{"tags":[],"owner":{"account_id":3797724,"reputation":175,"user_id":3152207,"display_name":"MAD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646990036,"creation_date":1402079535,"answer_id":24088489,"question_id":24086946,"body_markdown":"You as using the try-with-resources statement. All objects implementing java.lang.AutoCloseable can be used as a resource. BufferedReader is not extending from AutoCloseble in Java 6. That&#39;s why you are seeing this error.\r\n\r\nThere is a good tutorial explaining the difference [here][1].\r\n\r\n\r\n  [1]: https://www.stackstalk.com/2014/05/java-7-try-with-resources.html","title":"JRE6 compatibility issue with the BufferedReader","body":"<p>You as using the try-with-resources statement. All objects implementing java.lang.AutoCloseable can be used as a resource. BufferedReader is not extending from AutoCloseble in Java 6. That's why you are seeing this error.</p>\n<p>There is a good tutorial explaining the difference <a href=\"https://www.stackstalk.com/2014/05/java-7-try-with-resources.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1962334,"reputation":2696,"user_id":1763507,"accept_rate":20,"display_name":"Karibasappa G C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402079874,"creation_date":1402079874,"answer_id":24088568,"question_id":24086946,"body_markdown":"the below code uses `try` with resource of type `AutoClosable`\r\n\r\n    try (BufferedReader br = new BufferedReader(new FileReader(fileName))) {\r\n    \r\n    } catch(IOException e) {\r\n    \r\n    }\r\n\r\nwhich is the feature added in Java7, so it works well in Java7.\r\n\r\nbut same will not work in Java 6 or below.\r\n\r\nJava 6 or below support simple try without autoclose type resource.\r\n\r\nso your code should be like below in java 6\r\n\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(fileName));\r\n    try{\r\n    //do whatever you want\r\n    \r\n    } catch(IOException e) {\r\n    \r\n    }","title":"JRE6 compatibility issue with the BufferedReader","body":"<p>the below code uses <code>try</code> with resource of type <code>AutoClosable</code></p>\n\n<pre><code>try (BufferedReader br = new BufferedReader(new FileReader(fileName))) {\n\n} catch(IOException e) {\n\n}\n</code></pre>\n\n<p>which is the feature added in Java7, so it works well in Java7.</p>\n\n<p>but same will not work in Java 6 or below.</p>\n\n<p>Java 6 or below support simple try without autoclose type resource.</p>\n\n<p>so your code should be like below in java 6</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(fileName));\ntry{\n//do whatever you want\n\n} catch(IOException e) {\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user3483494"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1646990036,"creation_date":1402073297,"question_id":24086946,"body_markdown":"My code works with jre7 and not jre6. Is there a possibility to make it compatible with jre6:\r\n\r\n    try (BufferedReader br = new BufferedReader(new FileReader(fileName))) {\r\n\r\n    } catch(IOException e) {\r\n\r\n    }\r\n\r\nEclipse prompts an error stating:\r\n    \r\n    The resource type BufferedReader does not implement java.lang.AutoCloseable\r\n\r\nCould you explain the problem here? What is the solution? Thanks\r\n\r\n\r\n\r\n\r\n","title":"JRE6 compatibility issue with the BufferedReader","body":"<p>My code works with jre7 and not jre6. Is there a possibility to make it compatible with jre6:</p>\n\n<pre><code>try (BufferedReader br = new BufferedReader(new FileReader(fileName))) {\n\n} catch(IOException e) {\n\n}\n</code></pre>\n\n<p>Eclipse prompts an error stating:</p>\n\n<pre><code>The resource type BufferedReader does not implement java.lang.AutoCloseable\n</code></pre>\n\n<p>Could you explain the problem here? What is the solution? Thanks</p>\n"},{"tags":["java","multithreading","singleton","lazy-initialization"],"comments":[{"owner":{"account_id":1649804,"reputation":2396,"user_id":1520617,"accept_rate":100,"display_name":"Ian Knight"},"score":1,"creation_date":1403796858,"post_id":24434566,"comment_id":37806578,"body_markdown":"You could also make the entire ```getSynchronizedInstance()``` method ```synchronized```, rather than explicitly getting the lock yourself.","body":"You could also make the entire <code>getSynchronizedInstance()</code> method <code>synchronized</code>, rather than explicitly getting the lock yourself."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1403797275,"post_id":24434566,"comment_id":37806840,"body_markdown":"Of course an `enum` would be much simpler, and faster ;)","body":"Of course an <code>enum</code> would be much simpler, and faster ;)"},{"owner":{"account_id":4172428,"reputation":2097,"user_id":3419894,"display_name":"JonK"},"score":1,"creation_date":1403797344,"post_id":24434566,"comment_id":37806881,"body_markdown":"@PeterLawrey Not to mention that it&#39;s the recommended way to implement the Singleton pattern!","body":"@PeterLawrey Not to mention that it&#39;s the recommended way to implement the Singleton pattern!"}],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403798863,"creation_date":1403797157,"answer_id":24434783,"question_id":24434566,"body_markdown":"The simplest thing will probably be as lazy as you need it:\r\n\r\n    private static ThreadSafeLazySynchronizedSingleton instance\r\n        = new ThreadSafeLazySynchronizedSingleton();\r\n\r\n    public static ThreadSafeLazySynchronizedSingleton instance() {\r\n        return instance;\r\n    }\r\n\r\nTrue, `instance` will be created as soon as the class is loaded. But the class won&#39;t be loaded until it&#39;s used, and at that point you probably need to get the instance, anyway.\r\n\r\nThe only time this wouldn&#39;t be as lazy as you need is if the `ThreadSafeLazySynchronizedSingleton` class also had static helper methods that don&#39;t use `instance`, but that would suggest they don&#39;t have much to do with the rest of the class and should probably be moved to their own class.\r\n\r\nA lot of people also use a single-value `enum` for singletons. Personally I find it ugly, but it does have some advantages (handles the private constructor and `instance` for you, and the singleton-ness is enforced even if your class is serializable, which is otherwise not trivial).\r\n\r\n[1]: http://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java","title":"Is this a good implementation for a Thread Safe Lazily Loaded Singleton in Java?","body":"<p>The simplest thing will probably be as lazy as you need it:</p>\n\n<pre><code>private static ThreadSafeLazySynchronizedSingleton instance\n    = new ThreadSafeLazySynchronizedSingleton();\n\npublic static ThreadSafeLazySynchronizedSingleton instance() {\n    return instance;\n}\n</code></pre>\n\n<p>True, <code>instance</code> will be created as soon as the class is loaded. But the class won't be loaded until it's used, and at that point you probably need to get the instance, anyway.</p>\n\n<p>The only time this wouldn't be as lazy as you need is if the <code>ThreadSafeLazySynchronizedSingleton</code> class also had static helper methods that don't use <code>instance</code>, but that would suggest they don't have much to do with the rest of the class and should probably be moved to their own class.</p>\n\n<p>A lot of people also use a single-value <code>enum</code> for singletons. Personally I find it ugly, but it does have some advantages (handles the private constructor and <code>instance</code> for you, and the singleton-ness is enforced even if your class is serializable, which is otherwise not trivial).</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1403797232,"creation_date":1403797232,"answer_id":24434807,"question_id":24434566,"body_markdown":"A better design would be\r\n\r\n    public final class ThreadSafeLazySynchronizedSingleton {\r\n        \r\n        private ThreadSafeLazySynchronizedSingleton(){}\r\n        \r\n        private static volatile ThreadSafeLazySynchronizedSingleton instance;\r\n        \r\n        public static ThreadSafeLazySynchronizedSingleton getSynchronizedInstance(){\r\n            if (instance==null)\r\n                synchronized(ThreadSafeLazySynchronizedSingleton.class){ \r\n                    if (instance==null){\r\n                        instance = new ThreadSafeLazySynchronizedSingleton();\r\n                    }\r\n            return instance;\r\n            }\r\n        }\r\n    }\r\n\r\nHowever, the best design IMHO is\r\n\r\n    public enum ThreadSafeLazySynchronizedSingleton {\r\n        INSTANCE;\r\n    }\r\n","title":"Is this a good implementation for a Thread Safe Lazily Loaded Singleton in Java?","body":"<p>A better design would be</p>\n\n<pre><code>public final class ThreadSafeLazySynchronizedSingleton {\n\n    private ThreadSafeLazySynchronizedSingleton(){}\n\n    private static volatile ThreadSafeLazySynchronizedSingleton instance;\n\n    public static ThreadSafeLazySynchronizedSingleton getSynchronizedInstance(){\n        if (instance==null)\n            synchronized(ThreadSafeLazySynchronizedSingleton.class){ \n                if (instance==null){\n                    instance = new ThreadSafeLazySynchronizedSingleton();\n                }\n        return instance;\n        }\n    }\n}\n</code></pre>\n\n<p>However, the best design IMHO is</p>\n\n<pre><code>public enum ThreadSafeLazySynchronizedSingleton {\n    INSTANCE;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403807430,"creation_date":1403797255,"answer_id":24434814,"question_id":24434566,"body_markdown":"If you wanted a true lock-free implementation  it would require some spinning.  Otherwise @yshavit or @Peter Lawrey are the best possible answers.\r\n\r\nLock Free:\r\n\r\n    private static final AtomicBoolean created = new AtomicBoolean(false);\r\n    private static volatile LazySingleton instance = null;\r\n    \r\n    public static ThreadSafeLazySynchronizedSingleton getIntsance(){\r\n       if(instance != null) return instance.get();\r\n\r\n       if(created.compareAndSet(false, true)){\r\n          //only one thread can try and create\r\n          instance = new LazySingleton();\r\n       } else {\r\n          //other thread is creating, spin until ready\r\n          while(instance == null);\r\n       }\r\n       return instance;\r\n    }\r\n","title":"Is this a good implementation for a Thread Safe Lazily Loaded Singleton in Java?","body":"<p>If you wanted a true lock-free implementation  it would require some spinning.  Otherwise @yshavit or @Peter Lawrey are the best possible answers.</p>\n\n<p>Lock Free:</p>\n\n<pre><code>private static final AtomicBoolean created = new AtomicBoolean(false);\nprivate static volatile LazySingleton instance = null;\n\npublic static ThreadSafeLazySynchronizedSingleton getIntsance(){\n   if(instance != null) return instance.get();\n\n   if(created.compareAndSet(false, true)){\n      //only one thread can try and create\n      instance = new LazySingleton();\n   } else {\n      //other thread is creating, spin until ready\n      while(instance == null);\n   }\n   return instance;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3797724,"reputation":175,"user_id":3152207,"display_name":"MAD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646989955,"creation_date":1403799779,"answer_id":24435637,"question_id":24434566,"body_markdown":"The recommended approach to implementing Singleton design pattern in Java is using the Enum approach. The Enum approach is very simple and thread safe implicitly. \r\n\r\n    public enum EnumTest {\r\n      INSTANCE;\r\n \r\n      // Test code\r\n      public static void main(String[] args) {\r\n  \r\n          // First thread\r\n          Thread t1 = new Thread(new Runnable() {\r\n             @Override\r\n             public void run() {\r\n                 EnumTest obj = EnumTest.INSTANCE;\r\n             }   \r\n          });\r\n          t1.start();\r\n  \r\n          // Second thread\r\n          Thread t2 = new Thread(new Runnable() {\r\n             @Override\r\n             public void run() {\r\n                 EnumTest obj = EnumTest.INSTANCE;\r\n             }   \r\n          });  \r\n          t2.start();\r\n       }\r\n     }\r\n\r\nNice tutorial [here][1].\r\n\r\n\r\n  [1]: https://www.stackstalk.com/2013/11/singleton-pattern-in-java.html","title":"Is this a good implementation for a Thread Safe Lazily Loaded Singleton in Java?","body":"<p>The recommended approach to implementing Singleton design pattern in Java is using the Enum approach. The Enum approach is very simple and thread safe implicitly.</p>\n<pre><code>public enum EnumTest {\n  INSTANCE;\n\n  // Test code\n  public static void main(String[] args) {\n\n      // First thread\n      Thread t1 = new Thread(new Runnable() {\n         @Override\n         public void run() {\n             EnumTest obj = EnumTest.INSTANCE;\n         }   \n      });\n      t1.start();\n\n      // Second thread\n      Thread t2 = new Thread(new Runnable() {\n         @Override\n         public void run() {\n             EnumTest obj = EnumTest.INSTANCE;\n         }   \n      });  \n      t2.start();\n   }\n }\n</code></pre>\n<p>Nice tutorial <a href=\"https://www.stackstalk.com/2013/11/singleton-pattern-in-java.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1029041,"reputation":807,"user_id":1037729,"accept_rate":0,"display_name":"newlogic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1646989955,"creation_date":1403796575,"question_id":24434566,"body_markdown":"I want to implement Thread Safe Lazily Loaded Singleton in Java.\r\n\r\nIs this a good design?\r\n\r\n    public final class ThreadSafeLazySynchronizedSingleton {\r\n\t\r\n\tprivate ThreadSafeLazySynchronizedSingleton(){}\r\n\t\r\n\tprivate static ThreadSafeLazySynchronizedSingleton instance;\r\n\t\r\n\tpublic static ThreadSafeLazySynchronizedSingleton getSynchronizedInstance(){\r\n\t\tsynchronized(ThreadSafeLazySynchronizedSingleton.class){ \r\n\t\t\tif (instance==null){\r\n\t\t\t\tinstance = new ThreadSafeLazySynchronizedSingleton();\r\n\t\t\t}\r\n\t\t\treturn instance;\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\nI also want to create a lock-less version for use in a scenario where one thread accesses the Singleton many more times than the other threads, how would I achieve this using the atomic objects in Java, ie AtomicBoolean or AtomicReference etc. Could you provide a code example please?","title":"Is this a good implementation for a Thread Safe Lazily Loaded Singleton in Java?","body":"<p>I want to implement Thread Safe Lazily Loaded Singleton in Java.</p>\n\n<p>Is this a good design?</p>\n\n<pre><code>public final class ThreadSafeLazySynchronizedSingleton {\n\nprivate ThreadSafeLazySynchronizedSingleton(){}\n\nprivate static ThreadSafeLazySynchronizedSingleton instance;\n\npublic static ThreadSafeLazySynchronizedSingleton getSynchronizedInstance(){\n    synchronized(ThreadSafeLazySynchronizedSingleton.class){ \n        if (instance==null){\n            instance = new ThreadSafeLazySynchronizedSingleton();\n        }\n        return instance;\n    }\n}\n\n}\n</code></pre>\n\n<p>I also want to create a lock-less version for use in a scenario where one thread accesses the Singleton many more times than the other threads, how would I achieve this using the atomic objects in Java, ie AtomicBoolean or AtomicReference etc. Could you provide a code example please?</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":1,"creation_date":1405385740,"post_id":24748082,"comment_id":38395550,"body_markdown":"I&#39;m beginning to think the Java designers blew it by calling this method `replace`.  We seem to get this same question constantly.  Maybe a different name would have made it clearer that it&#39;s returning a new string by transforming the old one.  Oh well... too late...","body":"I&#39;m beginning to think the Java designers blew it by calling this method <code>replace</code>.  We seem to get this same question constantly.  Maybe a different name would have made it clearer that it&#39;s returning a new string by transforming the old one.  Oh well... too late..."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1405389354,"post_id":24748082,"comment_id":38396313,"body_markdown":"@ajb: as long as Java students repeat to themselves over and over, &quot;Strings are immutable, Strings are immutable&quot;, then this shouldn&#39;t be a problem.","body":"@ajb: as long as Java students repeat to themselves over and over, &quot;Strings are immutable, Strings are immutable&quot;, then this shouldn&#39;t be a problem."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1405384646,"creation_date":1405383667,"answer_id":24748096,"question_id":24748082,"body_markdown":"Strings are immutable -- you cannot change them once they have been created. There are exceptions of course, if you use reflective magic, but for the most part, they should be treated as invariants. So therefore the method `replace(...)` does not *change* the String, it can&#39;t, but rather it **creates and returns a *new* String**. So to be able to use that new String, you have to get access to its reference, and that can be done by assigning it to a String variable or even to the original String variable. This discussion gets to the heart of what is the difference between an *object* and a *reference variable*.","title":"Why do I need to redefine a String if I use the method replace?","body":"<p>Strings are immutable -- you cannot change them once they have been created. There are exceptions of course, if you use reflective magic, but for the most part, they should be treated as invariants. So therefore the method <code>replace(...)</code> does not <em>change</em> the String, it can't, but rather it <strong>creates and returns a <em>new</em> String</strong>. So to be able to use that new String, you have to get access to its reference, and that can be done by assigning it to a String variable or even to the original String variable. This discussion gets to the heart of what is the difference between an <em>object</em> and a <em>reference variable</em>.</p>\n"},{"tags":[],"owner":{"account_id":2485637,"reputation":17240,"user_id":2164109,"display_name":"morgano"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1405383671,"creation_date":1405383671,"answer_id":24748097,"question_id":24748082,"body_markdown":"Because String objects are, by design, immutable, so you need to create a new String to contain your changes","title":"Why do I need to redefine a String if I use the method replace?","body":"<p>Because String objects are, by design, immutable, so you need to create a new String to contain your changes</p>\n"},{"tags":[],"owner":{"account_id":4748195,"reputation":126,"user_id":3838927,"display_name":"Nicholas Hornback"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1405384535,"creation_date":1405384535,"answer_id":24748221,"question_id":24748082,"body_markdown":"The posted answers mention the technical reason (strings are immutable) but neglect to mention why it is that way. See this: https://stackoverflow.com/questions/9544182/why-are-strings-immutable-in-many-programming-languages\r\n","title":"Why do I need to redefine a String if I use the method replace?","body":"<p>The posted answers mention the technical reason (strings are immutable) but neglect to mention why it is that way. See this: <a href=\"https://stackoverflow.com/questions/9544182/why-are-strings-immutable-in-many-programming-languages\">Why are strings immutable in many programming languages?</a></p>\n"},{"tags":[],"owner":{"account_id":3797724,"reputation":175,"user_id":3152207,"display_name":"MAD"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646989843,"creation_date":1405386453,"answer_id":24748456,"question_id":24748082,"body_markdown":"Taken from this [link][1]\r\n\r\nIn Java, String is not implemented as character arrays as in other programming languages. Instead string is implemented as instance of String class.\r\n\r\nStrings are constants/ immutable and their values cannot be changed after they are created. If any operations that results in the string being altered are performed a new instance of String object is created and returned. This approach is done for implementation efficiency by Java.\r\n\r\nIt is recommended to use StringBuffer or StringBuilder when many changes need to be performed on the String. StringBuffer is like a String but can be modified. StringBuffer is thread safe and all the methods are synchronized. StringBuilder is equivalent to StringBuffer and is for use by single thread. Since the methods are not synchronized it is faster.\r\n\r\n\r\n  [1]: https://www.stackstalk.com/2014/07/java-string-introduction.html","title":"Why do I need to redefine a String if I use the method replace?","body":"<p>Taken from this <a href=\"https://www.stackstalk.com/2014/07/java-string-introduction.html\" rel=\"nofollow noreferrer\">link</a></p>\n<p>In Java, String is not implemented as character arrays as in other programming languages. Instead string is implemented as instance of String class.</p>\n<p>Strings are constants/ immutable and their values cannot be changed after they are created. If any operations that results in the string being altered are performed a new instance of String object is created and returned. This approach is done for implementation efficiency by Java.</p>\n<p>It is recommended to use StringBuffer or StringBuilder when many changes need to be performed on the String. StringBuffer is like a String but can be modified. StringBuffer is thread safe and all the methods are synchronized. StringBuilder is equivalent to StringBuffer and is for use by single thread. Since the methods are not synchronized it is faster.</p>\n"}],"owner":{"display_name":"user3838784"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":24748096,"answer_count":4,"score":2,"last_activity_date":1646989843,"creation_date":1405383590,"question_id":24748082,"body_markdown":"Why do I need to redefine the variable `theString` if I use the method replace in this code :\r\n\r\n    String theString = &quot;I w@nt to h@ve the regul@r \\&quot;A\\&quot;!&quot;;\r\n    theString = theString.replace(&quot;@&quot;, &quot;a&quot;);\r\n    System.out.println(theString);\r\n\r\nWhy can&#39;t I do :\r\n\r\n    theString.replace(&quot;@&quot;, &quot;a&quot;);\r\n\r\nand that&#39;s it?\r\n","title":"Why do I need to redefine a String if I use the method replace?","body":"<p>Why do I need to redefine the variable <code>theString</code> if I use the method replace in this code :</p>\n\n<pre><code>String theString = \"I w@nt to h@ve the regul@r \\\"A\\\"!\";\ntheString = theString.replace(\"@\", \"a\");\nSystem.out.println(theString);\n</code></pre>\n\n<p>Why can't I do :</p>\n\n<pre><code>theString.replace(\"@\", \"a\");\n</code></pre>\n\n<p>and that's it?</p>\n"},{"tags":["java","multithreading","concurrency","signals","semaphore"],"comments":[{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1415446953,"post_id":26816706,"comment_id":42203964,"body_markdown":"You will get a better response if you rework the question to a minimal test case that clearly focuses on a specific question about semaphores.  As it is you have included your entire program, and not made it clear a) what should happen and b) what is happening.","body":"You will get a better response if you rework the question to a minimal test case that clearly focuses on a specific question about semaphores.  As it is you have included your entire program, and not made it clear a) what should happen and b) what is happening."},{"owner":{"account_id":3639848,"reputation":45,"user_id":3034262,"accept_rate":33,"display_name":"user3034262"},"score":0,"creation_date":1415447193,"post_id":26816706,"comment_id":42204038,"body_markdown":"I just edited it and reduced it down and did explain where my problem was and why it was wrong.","body":"I just edited it and reduced it down and did explain where my problem was and why it was wrong."},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1415447611,"post_id":26816706,"comment_id":42204149,"body_markdown":"better, thank you.  However I am still unclear on your goal.  Are you for the teller thread to wait for a customer to make a deposit request, and then and only then for the teller thread to action?","body":"better, thank you.  However I am still unclear on your goal.  Are you for the teller thread to wait for a customer to make a deposit request, and then and only then for the teller thread to action?"},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1415447766,"post_id":26816706,"comment_id":42204190,"body_markdown":"if yes, then you have both semaphores set to accept the first request.  Teller would start without having any customer at all.  Remember that a semaphore decrements on acquire (blocking if the semaphore is at zero) and increments on release.","body":"if yes, then you have both semaphores set to accept the first request.  Teller would start without having any customer at all.  Remember that a semaphore decrements on acquire (blocking if the semaphore is at zero) and increments on release."},{"owner":{"account_id":3639848,"reputation":45,"user_id":3034262,"accept_rate":33,"display_name":"user3034262"},"score":0,"creation_date":1415448879,"post_id":26816706,"comment_id":42204451,"body_markdown":"Yes ,that is my goal right now which I am doing with print line statements then I will add actions, customer requests and teller waits for it. I followed the other answer from eric but my threads hang. However in the future there will be actions that will make the customer thread wait for the teller but for now you are correct.","body":"Yes ,that is my goal right now which I am doing with print line statements then I will add actions, customer requests and teller waits for it. I followed the other answer from eric but my threads hang. However in the future there will be actions that will make the customer thread wait for the teller but for now you are correct."},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1415449803,"post_id":26816706,"comment_id":42204652,"body_markdown":"in that case, you are close.  Your problem is that you are letting both threads start too early.  Start the semaphores at zero, and only release the semaphore for the thread that you want to wake up.  I will follow with a close example, but not one so close that you can submit it for your homework ;)","body":"in that case, you are close.  Your problem is that you are letting both threads start too early.  Start the semaphores at zero, and only release the semaphore for the thread that you want to wake up.  I will follow with a close example, but not one so close that you can submit it for your homework ;)"}],"answers":[{"tags":[],"owner":{"account_id":4278,"reputation":19605,"user_id":6367,"accept_rate":73,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415449175,"creation_date":1415447626,"answer_id":26816830,"question_id":26816706,"body_markdown":"You are not using semaphores correctly for what you want to do. As I get it, you want to start the customer thread, then block until the teller threads finishes then finish the customer thread.\r\n\r\nRight now your semaphore do close to nothing. They will prevent multiple customer threads from running at the same time, but within your acquire / release block, nothing happens.\r\n\r\nIf you want to synchronize between customer and teller, both classes need to use the same Semaphore\r\n\r\nWhat I would suggest is this :\r\n\r\n    remove the join operation for now\r\n    create the depositTransaction semaphore with count 0, so the first acquire will block.\r\n    Start a customer thread\r\n    The thread will block waiting for a deposit\r\n    Start a teller thread\r\n    make the deposit and release the depositTransaction semaphore\r\n    the customer thread will unblock\r\n    you can now join both threads\r\n\r\nEdit :\r\n\r\nI don&#39;t think that your idea of adding tons of semaphore for every action is a good idea. You will end up with complex locking and deadlocks all over the place. What I would suggest is to limit the number of semaphore and implement messages between the threads. The semaphore will tell the other one (Client tells Teller and vice-versa) to check the messages after pushing one. \r\n\r\n    Start customer thread\r\n    push message that customer is waiting\r\n    signal for new customer request\r\n    wait for teller signal\r\n    Start teller thread\r\n    acquire sem for new customer request\r\n    check message\r\n    do stuff\r\n    signal customer that stuff is done\r\n\r\nmessages will then be &quot;withdrawal customer 0&quot; or any other action you want to implement","title":"Semaphores used for signaling in threads not working(concurrency issue)","body":"<p>You are not using semaphores correctly for what you want to do. As I get it, you want to start the customer thread, then block until the teller threads finishes then finish the customer thread.</p>\n\n<p>Right now your semaphore do close to nothing. They will prevent multiple customer threads from running at the same time, but within your acquire / release block, nothing happens.</p>\n\n<p>If you want to synchronize between customer and teller, both classes need to use the same Semaphore</p>\n\n<p>What I would suggest is this :</p>\n\n<pre><code>remove the join operation for now\ncreate the depositTransaction semaphore with count 0, so the first acquire will block.\nStart a customer thread\nThe thread will block waiting for a deposit\nStart a teller thread\nmake the deposit and release the depositTransaction semaphore\nthe customer thread will unblock\nyou can now join both threads\n</code></pre>\n\n<p>Edit :</p>\n\n<p>I don't think that your idea of adding tons of semaphore for every action is a good idea. You will end up with complex locking and deadlocks all over the place. What I would suggest is to limit the number of semaphore and implement messages between the threads. The semaphore will tell the other one (Client tells Teller and vice-versa) to check the messages after pushing one. </p>\n\n<pre><code>Start customer thread\npush message that customer is waiting\nsignal for new customer request\nwait for teller signal\nStart teller thread\nacquire sem for new customer request\ncheck message\ndo stuff\nsignal customer that stuff is done\n</code></pre>\n\n<p>messages will then be \"withdrawal customer 0\" or any other action you want to implement</p>\n"},{"tags":[],"owner":{"account_id":3797724,"reputation":175,"user_id":3152207,"display_name":"MAD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646989793,"creation_date":1415449259,"answer_id":26817073,"question_id":26816706,"body_markdown":"Would suggest you to look at one of the standard examples and rework your code. Semaphore is very easy to use and all we need to do is acquire the lock when a thread accesses the shared resource and release the lock when it it is done.\r\n\r\nThere is nice example with a producer and a consumer thread protecting a shared resource here. \r\n[Semaphore Example with a Producer and Consumer thread][1]\r\n\r\n\r\n  [1]: https://www.stackstalk.com/2014/09/java-semaphore.html","title":"Semaphores used for signaling in threads not working(concurrency issue)","body":"<p>Would suggest you to look at one of the standard examples and rework your code. Semaphore is very easy to use and all we need to do is acquire the lock when a thread accesses the shared resource and release the lock when it it is done.</p>\n<p>There is nice example with a producer and a consumer thread protecting a shared resource here.\n<a href=\"https://www.stackstalk.com/2014/09/java-semaphore.html\" rel=\"nofollow noreferrer\">Semaphore Example with a Producer and Consumer thread</a></p>\n"},{"tags":[],"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415450546,"creation_date":1415449467,"answer_id":26817109,"question_id":26816706,"body_markdown":"Here is a program that uses a semaphore to play ping pong.  It is very similar to what you need for your goal.  This program has one thread that will print PING, and the other prints PONG.  It uses a semaphore to ensure that PING is printed first, then PONG, then PING and so on.\r\n\r\nNotice how this program uses two semaphores, and that it starts both semaphores at zero.  This means that when the threads call acquire() on it, they will block.  You have been using the value of one, which means that neither thread would block and that both would rush ahead.\r\n\r\nNow that all threads have blocked, we need to get one of them to start.  We send a &#39;release()&#39; signal to the semaphore that the thread that we want to start up on.  That will increment the semaphore by one, and the thread blocked in acquire() will wake up and decrement it again before proceeding with its all important job of printing PING or PONG. \r\n\r\nRemember the following about semaphores:\r\n\r\n* A semaphore contains an integer value (called a permit count)\r\n* acquire() will block until the integer value is greater than zero; when greater than zero the count will be decremented by one before exiting\r\n* release() never blocks.  It only ever increments the integer value by one, and as a side effect wakes up any method that were blocked in a call to acquire().\r\n\r\n\r\nThus for a game of ping pong to work:  (ascii art below scrolls to the right)\r\n\r\n&lt;pre&gt;            \r\n   s1=0             -- release() --&gt;  s1=1                                          s1=0\r\n   s2=0                               s2=0                                          s2=1\r\n   thread1=blocked                    thread1 runs      -- calls s2.release() --&gt;   thread1 blocked\r\n   thread2=blocked                    thread2=blocked                               thread2 runs\r\n&lt;/pre&gt;\r\n\r\nNotice how the values of s1 and s2 oscilate between 0 and 1, but we do not allow them both to have the value of 1 at the same time.  If they were ever to both equal 1, then both thread1 and thread2 would be able to run at the same time.  Which would be known as a race condition, as the order of their execution would be unpredictable.\r\n\r\n\r\n    public class PingPong {\r\n    \r\n        public static void main( String[] args ) throws InterruptedException {\r\n            final Semaphore s1 = new Semaphore(0);\r\n            final Semaphore s2 = new Semaphore(0);\r\n    \r\n            final AtomicInteger countDown = new AtomicInteger( 10 );\r\n            Thread threadA = new Thread() {\r\n                public void run() {\r\n                    try {\r\n                        System.out.println(&quot;threadA started&quot;);\r\n                        while (countDown.get() &gt; 0) {\r\n                            s1.acquire();\r\n    \r\n                            System.out.println( &quot;PING&quot; );\r\n    \r\n                            s2.release();\r\n    \r\n                            countDown.decrementAndGet();\r\n                        }\r\n                    } catch ( InterruptedException e ) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    System.out.println(&quot;threadA finished&quot;);\r\n                }\r\n            };\r\n    \r\n            Thread threadB = new Thread() {\r\n                public void run() {\r\n                    try {\r\n                        System.out.println(&quot;threadB started&quot;);\r\n                        while (countDown.get() &gt; 0) {\r\n                            s2.acquire();\r\n    \r\n                            System.out.println( &quot;PONG&quot; );\r\n    \r\n                            s1.release();\r\n    \r\n                            countDown.decrementAndGet();\r\n                        }\r\n                    } catch ( InterruptedException e ) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    System.out.println(&quot;threadb finished&quot;);\r\n                }\r\n            };\r\n    \r\n            threadA.start();\r\n            threadB.start();\r\n    \r\n    \r\n            s1.release();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Semaphores used for signaling in threads not working(concurrency issue)","body":"<p>Here is a program that uses a semaphore to play ping pong.  It is very similar to what you need for your goal.  This program has one thread that will print PING, and the other prints PONG.  It uses a semaphore to ensure that PING is printed first, then PONG, then PING and so on.</p>\n\n<p>Notice how this program uses two semaphores, and that it starts both semaphores at zero.  This means that when the threads call acquire() on it, they will block.  You have been using the value of one, which means that neither thread would block and that both would rush ahead.</p>\n\n<p>Now that all threads have blocked, we need to get one of them to start.  We send a 'release()' signal to the semaphore that the thread that we want to start up on.  That will increment the semaphore by one, and the thread blocked in acquire() will wake up and decrement it again before proceeding with its all important job of printing PING or PONG. </p>\n\n<p>Remember the following about semaphores:</p>\n\n<ul>\n<li>A semaphore contains an integer value (called a permit count)</li>\n<li>acquire() will block until the integer value is greater than zero; when greater than zero the count will be decremented by one before exiting</li>\n<li>release() never blocks.  It only ever increments the integer value by one, and as a side effect wakes up any method that were blocked in a call to acquire().</li>\n</ul>\n\n<p>Thus for a game of ping pong to work:  (ascii art below scrolls to the right)</p>\n\n<pre>            \n   s1=0             -- release() -->  s1=1                                          s1=0\n   s2=0                               s2=0                                          s2=1\n   thread1=blocked                    thread1 runs      -- calls s2.release() -->   thread1 blocked\n   thread2=blocked                    thread2=blocked                               thread2 runs\n</pre>\n\n<p>Notice how the values of s1 and s2 oscilate between 0 and 1, but we do not allow them both to have the value of 1 at the same time.  If they were ever to both equal 1, then both thread1 and thread2 would be able to run at the same time.  Which would be known as a race condition, as the order of their execution would be unpredictable.</p>\n\n<pre><code>public class PingPong {\n\n    public static void main( String[] args ) throws InterruptedException {\n        final Semaphore s1 = new Semaphore(0);\n        final Semaphore s2 = new Semaphore(0);\n\n        final AtomicInteger countDown = new AtomicInteger( 10 );\n        Thread threadA = new Thread() {\n            public void run() {\n                try {\n                    System.out.println(\"threadA started\");\n                    while (countDown.get() &gt; 0) {\n                        s1.acquire();\n\n                        System.out.println( \"PING\" );\n\n                        s2.release();\n\n                        countDown.decrementAndGet();\n                    }\n                } catch ( InterruptedException e ) {\n                    e.printStackTrace();\n                }\n\n                System.out.println(\"threadA finished\");\n            }\n        };\n\n        Thread threadB = new Thread() {\n            public void run() {\n                try {\n                    System.out.println(\"threadB started\");\n                    while (countDown.get() &gt; 0) {\n                        s2.acquire();\n\n                        System.out.println( \"PONG\" );\n\n                        s1.release();\n\n                        countDown.decrementAndGet();\n                    }\n                } catch ( InterruptedException e ) {\n                    e.printStackTrace();\n                }\n\n                System.out.println(\"threadb finished\");\n            }\n        };\n\n        threadA.start();\n        threadB.start();\n\n\n        s1.release();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3639848,"reputation":45,"user_id":3034262,"accept_rate":33,"display_name":"user3034262"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646989793,"creation_date":1415446643,"question_id":26816706,"body_markdown":"in this project I am trying to do some concurrency among threads using semaphores as signaling, however the concurrency is not working at all. I can only use acquire and release and no synchronized keyword methods allowed. I read countless webpages and it says that \r\n\r\n// do something\r\n\r\nacquire() \r\n\r\n\r\nrelease() \r\n\r\n//do something \r\n\r\nWhich I understand but in this program I am trying to test signals with a semaphore between threads, for example user requests deposit and teller should say deposit completed.However my signals(semaphores) are not working as I want to print in order for example\r\n\r\nI need to deposit \r\nDeposit is complete \r\n\r\ninstead I get this \r\n\r\nCustomer0created\r\n\r\nI need to deposit\r\n\r\nI have withdrawn &lt;---\r\n\r\nCustomer0joined from main\r\n\r\nTeller0created\r\n\r\nYou wanna withdrawal? &lt;---- (out of order)\r\n\r\nDeposit is complete\r\n\r\n\r\nRegardless how i reorder them or how much i read the semaphore signaling to comm threads is not working.\r\n\r\n     [code]import java.util.concurrent.Semaphore;\r\n\r\n     public class Threads {\r\n\r\n \r\n     private static Semaphore depositTransaction = new Semaphore (1, true);\r\n     private static Semaphore withdrawal = new Semaphore (1, true);\r\n    \r\n     public static void main(String[] args) \r\n    \r\n       {\r\n        final int customerThreads = 1;\r\n        final int tellerThreads = 1;\r\n        final int loanThreads = 1;\r\n        \r\n        Customer thr[] = new Customer[customerThreads]; //  \r\n       Thread cThread[] = new Thread[customerThreads]; //         \r\n        for (int i= 0; i &lt; customerThreads; i++)\r\n        {\r\n            thr[i]= new Customer(i);\r\n            cThread[i] = new Thread(thr [i]);\r\n            cThread[i].start();\r\n                       \r\n        }\r\n        for ( int i = 0; i &lt; customerThreads; i++ )\r\n        {\r\n            try {\r\n                cThread[i].join();\r\n                System.out.println(&quot;Customer&quot;+i + &quot;joined from main&quot;);\r\n                \r\n            }\r\n            catch (InterruptedException e)\r\n            {\r\n                \r\n            }\r\n        }\r\n        \r\n        Teller thr1[] = new Teller[tellerThreads];\r\n        Thread tThread[] = new Thread[tellerThreads];\r\n        for (int b = 0; b&lt; tellerThreads; b++)\r\n        {\r\n            thr1[b] = new Teller(B)/&gt;;\r\n            tThread[b]= new Thread(thr1 [b]);\r\n            tThread[b].start();\r\n        }              \r\n    }   \r\n\r\n    static class Customer implements Runnable\r\n     {\r\n    private int customerNumber = 0;\r\n    private int balance = 0;\r\n    \r\n    Customer(int cn)\r\n    {\r\n       this.customerNumber = cn;\r\n       balance = 1000;\r\n       System.out.println(&quot;Customer&quot;+ customerNumber + &quot;created&quot;);\r\n    }\r\n    \r\n    public void run()\r\n    {\r\n        \r\n        try\r\n        {\r\n         \r\n         System.out.println(&quot;I need to deposit&quot;);\r\n        depositTransaction.acquire();// signal\r\n        \r\n        }\r\n        catch(InterruptedException e)\r\n        {\r\n            Thread.currentThread().interrupt();\r\n            e.printStackTrace();\r\n        }\r\n       \r\n       withdrawal.release();\r\n       System.out.println(&quot;I have withdrawn&quot;);\r\n    }       \r\n    }\r\n\r\n    static class Teller implements Runnable \r\n    {\r\n    private int tellerNumber = 0;\r\n    \r\n    Teller(int tn)\r\n    {\r\n        this.tellerNumber = tn;\r\n        System.out.println(&quot;Teller&quot;+ tellerNumber +&quot;created&quot;);\r\n    }\r\n \r\n    public void run()\r\n    {\r\n        try \r\n        {\r\n\r\n        System.out.println(&quot;You wanna withdrawal?&quot;); \r\n        withdrawal.acquire();\r\n         \r\n        }\r\n        catch(InterruptedException e)\r\n        {\r\n            Thread.currentThread().interrupt();\r\n           \r\n        }\r\n        depositTransaction.release();\r\n        System.out.println(&quot;Deposit is complete&quot;);\r\n    }\r\n\r\n    } \r\n\r\n    }[/code]","title":"Semaphores used for signaling in threads not working(concurrency issue)","body":"<p>in this project I am trying to do some concurrency among threads using semaphores as signaling, however the concurrency is not working at all. I can only use acquire and release and no synchronized keyword methods allowed. I read countless webpages and it says that </p>\n\n<p>// do something</p>\n\n<p>acquire() </p>\n\n<p>release() </p>\n\n<p>//do something </p>\n\n<p>Which I understand but in this program I am trying to test signals with a semaphore between threads, for example user requests deposit and teller should say deposit completed.However my signals(semaphores) are not working as I want to print in order for example</p>\n\n<p>I need to deposit \nDeposit is complete </p>\n\n<p>instead I get this </p>\n\n<p>Customer0created</p>\n\n<p>I need to deposit</p>\n\n<p>I have withdrawn &lt;---</p>\n\n<p>Customer0joined from main</p>\n\n<p>Teller0created</p>\n\n<p>You wanna withdrawal? &lt;---- (out of order)</p>\n\n<p>Deposit is complete</p>\n\n<p>Regardless how i reorder them or how much i read the semaphore signaling to comm threads is not working.</p>\n\n<pre><code> [code]import java.util.concurrent.Semaphore;\n\n public class Threads {\n\n\n private static Semaphore depositTransaction = new Semaphore (1, true);\n private static Semaphore withdrawal = new Semaphore (1, true);\n\n public static void main(String[] args) \n\n   {\n    final int customerThreads = 1;\n    final int tellerThreads = 1;\n    final int loanThreads = 1;\n\n    Customer thr[] = new Customer[customerThreads]; //  \n   Thread cThread[] = new Thread[customerThreads]; //         \n    for (int i= 0; i &lt; customerThreads; i++)\n    {\n        thr[i]= new Customer(i);\n        cThread[i] = new Thread(thr [i]);\n        cThread[i].start();\n\n    }\n    for ( int i = 0; i &lt; customerThreads; i++ )\n    {\n        try {\n            cThread[i].join();\n            System.out.println(\"Customer\"+i + \"joined from main\");\n\n        }\n        catch (InterruptedException e)\n        {\n\n        }\n    }\n\n    Teller thr1[] = new Teller[tellerThreads];\n    Thread tThread[] = new Thread[tellerThreads];\n    for (int b = 0; b&lt; tellerThreads; b++)\n    {\n        thr1[b] = new Teller(B)/&gt;;\n        tThread[b]= new Thread(thr1 [b]);\n        tThread[b].start();\n    }              \n}   \n\nstatic class Customer implements Runnable\n {\nprivate int customerNumber = 0;\nprivate int balance = 0;\n\nCustomer(int cn)\n{\n   this.customerNumber = cn;\n   balance = 1000;\n   System.out.println(\"Customer\"+ customerNumber + \"created\");\n}\n\npublic void run()\n{\n\n    try\n    {\n\n     System.out.println(\"I need to deposit\");\n    depositTransaction.acquire();// signal\n\n    }\n    catch(InterruptedException e)\n    {\n        Thread.currentThread().interrupt();\n        e.printStackTrace();\n    }\n\n   withdrawal.release();\n   System.out.println(\"I have withdrawn\");\n}       \n}\n\nstatic class Teller implements Runnable \n{\nprivate int tellerNumber = 0;\n\nTeller(int tn)\n{\n    this.tellerNumber = tn;\n    System.out.println(\"Teller\"+ tellerNumber +\"created\");\n}\n\npublic void run()\n{\n    try \n    {\n\n    System.out.println(\"You wanna withdrawal?\"); \n    withdrawal.acquire();\n\n    }\n    catch(InterruptedException e)\n    {\n        Thread.currentThread().interrupt();\n\n    }\n    depositTransaction.release();\n    System.out.println(\"Deposit is complete\");\n}\n\n} \n\n}[/code]\n</code></pre>\n"},{"tags":["java","jvm","java-module"],"comments":[{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1574536604,"post_id":58994386,"comment_id":104270400,"body_markdown":"The error seems to be pointing to the fact that you do not have that module on the module path","body":"The error seems to be pointing to the fact that you do not have that module on the module path"}],"answers":[{"tags":[],"owner":{"account_id":23727547,"reputation":1,"user_id":17747249,"display_name":"Stepan Trefilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646989736,"creation_date":1646989736,"answer_id":71436129,"question_id":58994386,"body_markdown":"I met with a similar problem and here is my solution:\r\n\r\n1. Rename `module A` to `module jdk.internal.vm.compiler`. You will get something like this:\r\n```\r\nmodule jdk.internal.vm.compiler {\r\n  requires jdk.internal.vm.ci;\r\n  opens pkg;\r\n\r\n  provides jdk.vm.ci.services.JVMCIServiceLocator with\r\n        pkg.AServiceLocator;\r\n}\r\n```\r\n2. Package your module in `.jar`, i named it `MyEmptyCompiler.jar`\r\n3. Try start your java with such parameters:\r\n&lt;pre&gt;$JAVA_HOME/bin/java --upgrade-module-path &amp;lt;path-to-your-jar&amp;gt;/MyEmptyCompiler.jar -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCI -XX:+UseJVMCICompiler -Djvmci.Compiler=&amp;lt;your-compiler-name&amp;gt; -version&lt;/pre&gt;\r\n`&lt;your-compiler-name&gt;` it is name which you define in `JVMCICompilerFactory` successor `public String getCompilerName()` method. In my particular case it looks like this:\r\n```\r\npublic class MyEmptyCompilerFactory extends HotSpotJVMCICompilerFactory {\r\n\r\n    public MyEmptyCompilerFactory() {\r\n    }\r\n\r\n    @Override\r\n    public String getCompilerName() {\r\n        return &quot;MyEmptyCompilerFactory&quot;;\r\n    }\r\n\r\n    @Override\r\n    public JVMCICompiler createCompiler(JVMCIRuntime rt) {\r\n        return new MyEmptyCompiler();\r\n    }\r\n\r\n}\r\n```\r\nAnd my command-line looks like this:\r\n&lt;pre&gt;$JAVA_HOME/bin/java --upgrade-module-path ~/ct/MyEmptyCompiler.jar -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCI -XX:+UseJVMCICompiler -Djvmci.Compiler=MyEmptyCompilerFactory -version       &lt;/pre&gt;\r\n\r\nResult of work of this cmd:\r\n```\r\nopenjdk version &quot;17.0.2&quot; 2022-01-18 LTS\r\nOpenJDK Runtime Environment Zulu17.32+13-CA (build 17.0.2+8-LTS)\r\nOpenJDK 64-Bit Server VM Zulu17.32+13-CA (build 17.0.2+8-LTS, compiled mode)\r\n```","title":"Java module ResolutionException module A does not read a module that exports B","body":"<p>I met with a similar problem and here is my solution:</p>\n<ol>\n<li>Rename <code>module A</code> to <code>module jdk.internal.vm.compiler</code>. You will get something like this:</li>\n</ol>\n<pre><code>module jdk.internal.vm.compiler {\n  requires jdk.internal.vm.ci;\n  opens pkg;\n\n  provides jdk.vm.ci.services.JVMCIServiceLocator with\n        pkg.AServiceLocator;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Package your module in <code>.jar</code>, i named it <code>MyEmptyCompiler.jar</code></li>\n<li>Try start your java with such parameters:</li>\n</ol>\n<pre>$JAVA_HOME/bin/java --upgrade-module-path &lt;path-to-your-jar&gt;/MyEmptyCompiler.jar -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCI -XX:+UseJVMCICompiler -Djvmci.Compiler=&lt;your-compiler-name&gt; -version</pre>\n<p><code>&lt;your-compiler-name&gt;</code> it is name which you define in <code>JVMCICompilerFactory</code> successor <code>public String getCompilerName()</code> method. In my particular case it looks like this:</p>\n<pre><code>public class MyEmptyCompilerFactory extends HotSpotJVMCICompilerFactory {\n\n    public MyEmptyCompilerFactory() {\n    }\n\n    @Override\n    public String getCompilerName() {\n        return &quot;MyEmptyCompilerFactory&quot;;\n    }\n\n    @Override\n    public JVMCICompiler createCompiler(JVMCIRuntime rt) {\n        return new MyEmptyCompiler();\n    }\n\n}\n</code></pre>\n<p>And my command-line looks like this:</p>\n<pre>$JAVA_HOME/bin/java --upgrade-module-path ~/ct/MyEmptyCompiler.jar -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCI -XX:+UseJVMCICompiler -Djvmci.Compiler=MyEmptyCompilerFactory -version       </pre>\n<p>Result of work of this cmd:</p>\n<pre><code>openjdk version &quot;17.0.2&quot; 2022-01-18 LTS\nOpenJDK Runtime Environment Zulu17.32+13-CA (build 17.0.2+8-LTS)\nOpenJDK 64-Bit Server VM Zulu17.32+13-CA (build 17.0.2+8-LTS, compiled mode)\n</code></pre>\n"}],"owner":{"account_id":12049339,"reputation":21,"user_id":8813003,"display_name":"Yi Yangyijk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646989736,"creation_date":1574425939,"question_id":58994386,"body_markdown":"I want to write a `JVMCI` based compiler, but I am getting some problems. I have a module A:\r\n\r\n    module A {\r\n      requires jdk.internal.vm.ci;\r\n      opens pkg;\r\n\r\n      provides jdk.vm.ci.services.JVMCIServiceLocator with\r\n            pkg.AServiceLocator;\r\n    }\r\n`AServiceLocator` extends `JVMCIServiceLocator` so that, it could locate `JVMCI service`. When I tried to pack A into a jar, JVM throws an exception -\r\n\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.ResolutionException: Module A does not read a module that exports jdk.vm.ci.services\r\n\r\nI was confused, what should I do? Is there any `JVMCI` tutorial or documentation?","title":"Java module ResolutionException module A does not read a module that exports B","body":"<p>I want to write a <code>JVMCI</code> based compiler, but I am getting some problems. I have a module A:</p>\n\n<pre><code>module A {\n  requires jdk.internal.vm.ci;\n  opens pkg;\n\n  provides jdk.vm.ci.services.JVMCIServiceLocator with\n        pkg.AServiceLocator;\n}\n</code></pre>\n\n<p><code>AServiceLocator</code> extends <code>JVMCIServiceLocator</code> so that, it could locate <code>JVMCI service</code>. When I tried to pack A into a jar, JVM throws an exception -</p>\n\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.ResolutionException: Module A does not read a module that exports jdk.vm.ci.services\n</code></pre>\n\n<p>I was confused, what should I do? Is there any <code>JVMCI</code> tutorial or documentation?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1415444105,"post_id":26816313,"comment_id":42203296,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/package-summary.html","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomi&zwnj;&#8203;c/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":287767,"reputation":793,"user_id":587789,"accept_rate":59,"display_name":"ovdsrn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1415444163,"creation_date":1415444163,"answer_id":26816340,"question_id":26816313,"body_markdown":"Atomic means that the update operations done on that type are ensured to be done atomically (in one step, in one goal). Atomic types are valuable to use in a concurrent context (as &quot;better volatiles&quot;)","title":"Java: What is an atomic number?","body":"<p>Atomic means that the update operations done on that type are ensured to be done atomically (in one step, in one goal). Atomic types are valuable to use in a concurrent context (as \"better volatiles\")</p>\n"},{"tags":[],"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415445101,"creation_date":1415445101,"answer_id":26816472,"question_id":26816313,"body_markdown":"If more than one thread executes a code like this, the counter can end up fewer than it should be.\r\n\r\n    int count\r\n    void increment() {\r\n        int previous = count;\r\n        count = previous + 1;\r\n    }\r\n    \r\nThis is because it takes two steps to increment the counter, and a thread can read the count before another thread can store the new value (note that re-writing this into a one-liner doesn&#39;t change this fact; the JVM has to perform two steps regardless of how you write it). Forcing multiple steps to always happen in one unit (e.g. the read of the count and storing of the new count) is called &quot;making the operation atomic&quot;.  \r\n\r\n&quot;Atomic&quot; values are objects that wrap values and exposes methods that conveniently provide common atomic operations, such as `AtomicInteger#increment()`.","title":"Java: What is an atomic number?","body":"<p>If more than one thread executes a code like this, the counter can end up fewer than it should be.</p>\n\n<pre><code>int count\nvoid increment() {\n    int previous = count;\n    count = previous + 1;\n}\n</code></pre>\n\n<p>This is because it takes two steps to increment the counter, and a thread can read the count before another thread can store the new value (note that re-writing this into a one-liner doesn't change this fact; the JVM has to perform two steps regardless of how you write it). Forcing multiple steps to always happen in one unit (e.g. the read of the count and storing of the new count) is called \"making the operation atomic\".  </p>\n\n<p>\"Atomic\" values are objects that wrap values and exposes methods that conveniently provide common atomic operations, such as <code>AtomicInteger#increment()</code>.</p>\n"},{"tags":[],"owner":{"account_id":3797724,"reputation":175,"user_id":3152207,"display_name":"MAD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646989735,"creation_date":1415449740,"answer_id":26817146,"question_id":26816313,"body_markdown":"Reference: [Java Atomic Variables][1]\r\n\r\nTraditional multi-threading approaches use locks to protect shared resources.  Synchronization objects like Semaphores provide mechanisms for the programmer to write code that doesn&#39;t modify a shared resource concurrently. The synchronization approaches block other threads when one of the thread is modifying a shared resource. Obviously blocked threads are not doing meaningful work waiting for the lock to be released.\r\n\r\nAtomic operations on the contrast are based on non-blocking algorithms in which threads waiting for shared resources don&#39;t get postponed. Atomic operations are implemented using hardware primitives like compare and swap (CAS) which are atomic instructions used in multi-threading for synchronization.\r\n\r\nJava supports atomic classes that support lock free, thread safe programming on single variables. These classes are defined in java.util.concurrent.atomic package. Some of the key classes include AtomicBoolean, AtomicInteger, AtomicLong, AtomicIntegerArray, AtomicLongArray and AtomicReference.\r\n\r\n\r\n  [1]: https://www.stackstalk.com/2014/09/java-atomic-variables.html","title":"Java: What is an atomic number?","body":"<p>Reference: <a href=\"https://www.stackstalk.com/2014/09/java-atomic-variables.html\" rel=\"nofollow noreferrer\">Java Atomic Variables</a></p>\n<p>Traditional multi-threading approaches use locks to protect shared resources.  Synchronization objects like Semaphores provide mechanisms for the programmer to write code that doesn't modify a shared resource concurrently. The synchronization approaches block other threads when one of the thread is modifying a shared resource. Obviously blocked threads are not doing meaningful work waiting for the lock to be released.</p>\n<p>Atomic operations on the contrast are based on non-blocking algorithms in which threads waiting for shared resources don't get postponed. Atomic operations are implemented using hardware primitives like compare and swap (CAS) which are atomic instructions used in multi-threading for synchronization.</p>\n<p>Java supports atomic classes that support lock free, thread safe programming on single variables. These classes are defined in java.util.concurrent.atomic package. Some of the key classes include AtomicBoolean, AtomicInteger, AtomicLong, AtomicIntegerArray, AtomicLongArray and AtomicReference.</p>\n"}],"owner":{"account_id":3960974,"reputation":12651,"user_id":3268003,"accept_rate":60,"display_name":"chopper draw lion4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1901,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":26816340,"answer_count":3,"score":2,"last_activity_date":1646989735,"creation_date":1415444033,"question_id":26816313,"body_markdown":"I started going through [Spring tutorial][1] and it has me initialize an atomic number. I wasn&#39;t sure what an atomic number was, so I googled around and could not find a straight forward answer. What is an atomic number in Java?\r\n\r\n\r\n  [1]: http://spring.io/guides/gs/rest-service/","title":"Java: What is an atomic number?","body":"<p>I started going through <a href=\"http://spring.io/guides/gs/rest-service/\" rel=\"nofollow\">Spring tutorial</a> and it has me initialize an atomic number. I wasn't sure what an atomic number was, so I googled around and could not find a straight forward answer. What is an atomic number in Java?</p>\n"},{"tags":["java","oracle","jdbc","savepoints"],"answers":[{"tags":[],"owner":{"account_id":3797724,"reputation":175,"user_id":3152207,"display_name":"MAD"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646989644,"creation_date":1407065207,"answer_id":25104191,"question_id":25104028,"body_markdown":"Would view this as multiple transactions. Hence you could handle this with multiple try/ catch blocks. You also seem to be overwriting the savepoint objects hence it would be not feasible to rollback.\r\n\r\nMore info.\r\nJDBC also supports to set save points and then rollback to the specified save point. The following method could be used to define save points.\r\n\r\n    SavePoint savePoint1 = connection.setSavePoint();\r\n\r\nRollback a transaction to an already defined save point using rollback call with an argument.\r\n\r\n    connection.rollback(savePoint1);\r\n\r\nReference.\r\n[https://www.stackstalk.com/2014/08/jdbc-handling-transactions.html][1]\r\n\r\n\r\n  [1]: https://www.stackstalk.com/2014/08/jdbc-handling-transactions.html","title":"Savepoint on JDBC","body":"<p>Would view this as multiple transactions. Hence you could handle this with multiple try/ catch blocks. You also seem to be overwriting the savepoint objects hence it would be not feasible to rollback.</p>\n<p>More info.\nJDBC also supports to set save points and then rollback to the specified save point. The following method could be used to define save points.</p>\n<pre><code>SavePoint savePoint1 = connection.setSavePoint();\n</code></pre>\n<p>Rollback a transaction to an already defined save point using rollback call with an argument.</p>\n<pre><code>connection.rollback(savePoint1);\n</code></pre>\n<p>Reference.\n<a href=\"https://www.stackstalk.com/2014/08/jdbc-handling-transactions.html\" rel=\"nofollow noreferrer\">https://www.stackstalk.com/2014/08/jdbc-handling-transactions.html</a></p>\n"},{"tags":[],"owner":{"account_id":3474201,"reputation":93,"user_id":2907842,"display_name":"atul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1419797312,"creation_date":1419797312,"answer_id":27680155,"question_id":25104028,"body_markdown":"In such cases, I&#39;ve found out the tricky part is to make sure you commit the transaction only if all inserts succeed, but rollback all updates if any insert fails. I&#39;ve used a savepoint stack to handle such situations. The highly simplified code is as follows:\r\n\r\nA connection wrapper class:\r\n\r\n    public class MyConnection {\r\n\t\tConnection conn;\r\n\t\tstatic DataSource ds;\r\n\t\tStack&lt;Savepoint&gt; savePoints = null;\r\n\r\n\t\tstatic {\r\n\t\t\t//... stuff to initialize datasource.\r\n\t\t}\r\n\r\n\t\tpublic MyConnection() {\r\n\t\t\tconn = ds.getConnection();\r\n\t\t}\r\n\r\n\t\tpublic void beginTransaction() {\r\n\t\t\tif (savePoints == null) {\r\n\t\t\t\tsavePoints = new Stack&lt;Savepoint&gt;();\r\n\t\t\t\tconn.setAutoCommit(false);\r\n\t\t\t\tconn.setTransactionIsolation(Connection.TRANSACTION_SERIALIZABLE);\r\n\t\t\t} else {\r\n\t\t\t\tsavePoints.push(conn.setSavepoint());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void commit() throws SQLException {\r\n\t\t\tif (savePoints == null || savePoints.empty()) {\r\n\t\t\t\tconn.commit();\r\n\t\t\t} else {\r\n\t\t\t\tSavepoint sp = savePoints.pop();\r\n\t\t\t\tconn.releaseSavepoint(sp);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic void rollback() throws SQLException {\r\n\t\t\tif (savePoints == null || savePoints.empty()) {\r\n\t\t\t\tconn.rollback();\r\n\t\t\t} else {\r\n\t\t\t\tSavepoint sp = savePoints.pop();\r\n\t\t\t\tconn.rollback(sp);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void releaseConnection() {\r\n\t\t\tconn.close();\r\n\t\t}\r\n\t}\r\n\r\nThen you can have various methods that may be called independently or in combination. In the example below, methodA may be called on its own, or as a result of calling methodB.\r\n\r\n    public class AccessDb {\r\n\t\t\r\n\t\tpublic void methodA(MyConnection myConn) throws Exception {\r\n\t\t\tmyConn.beginTransaction();\r\n\t\t\ttry {\r\n\t\t\t\t// update table A\r\n\t\t\t\t// update table B\r\n\t\t\t\tmyConn.commit();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tmyConn.rollback();\r\n\t\t\t\tthrow e;\r\n\t\t\t} finally {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void methodB(MyConnection myConn) throws Exception {\r\n\t\t\tmyConn.beginTransaction();\r\n\t\t\ttry {\r\n\t\t\t\tmethodA(myConn);\r\n\t\t\t\t// update table C\r\n\t\t\t\tmyConn.commit();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tmyConn.rollback();\r\n\t\t\t\tthrow e;\r\n\t\t\t} finally {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThis way, if anything goes wrong, it rolls back fully (as a result of the exception handling), but it will only commit the entire transaction instead of committing a partially completed transaction.\r\n","title":"Savepoint on JDBC","body":"<p>In such cases, I've found out the tricky part is to make sure you commit the transaction only if all inserts succeed, but rollback all updates if any insert fails. I've used a savepoint stack to handle such situations. The highly simplified code is as follows:</p>\n\n<p>A connection wrapper class:</p>\n\n<pre><code>public class MyConnection {\n    Connection conn;\n    static DataSource ds;\n    Stack&lt;Savepoint&gt; savePoints = null;\n\n    static {\n        //... stuff to initialize datasource.\n    }\n\n    public MyConnection() {\n        conn = ds.getConnection();\n    }\n\n    public void beginTransaction() {\n        if (savePoints == null) {\n            savePoints = new Stack&lt;Savepoint&gt;();\n            conn.setAutoCommit(false);\n            conn.setTransactionIsolation(Connection.TRANSACTION_SERIALIZABLE);\n        } else {\n            savePoints.push(conn.setSavepoint());\n        }\n    }\n\n    public void commit() throws SQLException {\n        if (savePoints == null || savePoints.empty()) {\n            conn.commit();\n        } else {\n            Savepoint sp = savePoints.pop();\n            conn.releaseSavepoint(sp);\n        }\n    }\n\n    public void rollback() throws SQLException {\n        if (savePoints == null || savePoints.empty()) {\n            conn.rollback();\n        } else {\n            Savepoint sp = savePoints.pop();\n            conn.rollback(sp);\n        }\n    }\n\n    public void releaseConnection() {\n        conn.close();\n    }\n}\n</code></pre>\n\n<p>Then you can have various methods that may be called independently or in combination. In the example below, methodA may be called on its own, or as a result of calling methodB.</p>\n\n<pre><code>public class AccessDb {\n\n    public void methodA(MyConnection myConn) throws Exception {\n        myConn.beginTransaction();\n        try {\n            // update table A\n            // update table B\n            myConn.commit();\n        } catch (Exception e) {\n            myConn.rollback();\n            throw e;\n        } finally {\n\n        }\n    }\n\n    public void methodB(MyConnection myConn) throws Exception {\n        myConn.beginTransaction();\n        try {\n            methodA(myConn);\n            // update table C\n            myConn.commit();\n        } catch (Exception e) {\n            myConn.rollback();\n            throw e;\n        } finally {\n\n        }\n    }\n}\n</code></pre>\n\n<p>This way, if anything goes wrong, it rolls back fully (as a result of the exception handling), but it will only commit the entire transaction instead of committing a partially completed transaction.</p>\n"}],"owner":{"account_id":1385658,"reputation":7967,"user_id":1317840,"accept_rate":87,"display_name":"user182944"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25104191,"answer_count":2,"score":4,"last_activity_date":1646989644,"creation_date":1407063808,"question_id":25104028,"body_markdown":"I have a JDBC code where there are multiple `Savepoints` present; something like this:\r\n\r\n    1st insert statement\r\n    2nd insert statement\r\n    savepoint = conn.setSavepoint(&quot;S1&quot;);\r\n    1st insert statement\r\n    2nd update statement\r\n    savepoint = conn.setSavepoint(&quot;S2&quot;);\r\n    1st delete statement\r\n    2nd delete statement\r\n    savepoint = conn.setSavepoint(&quot;S3&quot;);\r\n    1st insert statement\r\n    2nd delete statement\r\n    savepoint = conn.setSavepoint(&quot;S4&quot;);\r\n\r\nNow in the catch block, I am catching the exception and checking whether the `Savepoint` is `null` or not; if yes then rollback the entire connection else rollback till a `Savepoint`. But I am not able to understand till which `Savepoint` shall I roll back.\r\n\r\nWill it be fine if I change all the savepoint names to &quot;S1&quot; ? In that case how will I understand how many till `Savepoint` did work correctly?\r\n\r\nPlease advise how to understand until what `Savepoint` the work was performed correctly?\r\n\r\n\r\n","title":"Savepoint on JDBC","body":"<p>I have a JDBC code where there are multiple <code>Savepoints</code> present; something like this:</p>\n\n<pre><code>1st insert statement\n2nd insert statement\nsavepoint = conn.setSavepoint(\"S1\");\n1st insert statement\n2nd update statement\nsavepoint = conn.setSavepoint(\"S2\");\n1st delete statement\n2nd delete statement\nsavepoint = conn.setSavepoint(\"S3\");\n1st insert statement\n2nd delete statement\nsavepoint = conn.setSavepoint(\"S4\");\n</code></pre>\n\n<p>Now in the catch block, I am catching the exception and checking whether the <code>Savepoint</code> is <code>null</code> or not; if yes then rollback the entire connection else rollback till a <code>Savepoint</code>. But I am not able to understand till which <code>Savepoint</code> shall I roll back.</p>\n\n<p>Will it be fine if I change all the savepoint names to \"S1\" ? In that case how will I understand how many till <code>Savepoint</code> did work correctly?</p>\n\n<p>Please advise how to understand until what <code>Savepoint</code> the work was performed correctly?</p>\n"},{"tags":["java","spring-boot","rest","zip4j"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646900557,"post_id":71419759,"comment_id":126239026,"body_markdown":"Use the contructor of `ZipFile` using a `File`, then return the `File` instead of `ZipFile` and stream that to the client.","body":"Use the contructor of <code>ZipFile</code> using a <code>File</code>, then return the <code>File</code> instead of <code>ZipFile</code> and stream that to the client."},{"owner":{"account_id":4053389,"reputation":7,"user_id":3332171,"accept_rate":50,"display_name":"user3332171"},"score":0,"creation_date":1646905076,"post_id":71419759,"comment_id":126240664,"body_markdown":"@M.Deinum Thanks for your comment. I have no idea how to use the constructor of net.lingala.zip4j.ZipFile using java.io.File . Could you please write the code ?","body":"@M.Deinum Thanks for your comment. I have no idea how to use the constructor of net.lingala.zip4j.ZipFile using java.io.File . Could you please write the code ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646905102,"post_id":71419759,"comment_id":126240670,"body_markdown":"You are now using the String based one, first create a `File` instead of `String`.","body":"You are now using the String based one, first create a <code>File</code> instead of <code>String</code>."}],"answers":[{"tags":[],"owner":{"account_id":4053389,"reputation":7,"user_id":3332171,"accept_rate":50,"display_name":"user3332171"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646989595,"creation_date":1646989265,"answer_id":71436039,"question_id":71419759,"body_markdown":"The below code worked for me.\r\n```\r\nimport net.lingala.zip4j.ZipFile;\r\n\r\n@GetMapping(value = &quot;/v1/downloadZipFileWithPassword&quot;)\r\nResponseEntity&lt;StreamingResponseBody&gt; downloadZipFileWithPassword(@RequestParam(&quot;password&quot;) String password) {\r\n\r\n\tZipFile zipFile = service.downloadZipFileWithPassword(password);\r\n\treturn ResponseEntity.ok().contentType(MediaType.parseMediaType(&quot;application/zip&quot;))\r\n\t\t.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;Test.zip\\&quot;&quot;)\r\n\t\t.body(outputStream -&gt; {\r\n\r\n\t\t\ttry (OutputStream os = outputStream; InputStream inputStream = new FileInputStream(zipFile.getFile())) {\r\n\t\t\t\tIOUtils.copy(inputStream, os);\r\n\t\t\t}\r\n\t\t});\r\n\r\n}\r\n```\r\n\t\t\t","title":"How to return an encrypted zip file using Java Spring boot zip4j","body":"<p>The below code worked for me.</p>\n<pre><code>import net.lingala.zip4j.ZipFile;\n\n@GetMapping(value = &quot;/v1/downloadZipFileWithPassword&quot;)\nResponseEntity&lt;StreamingResponseBody&gt; downloadZipFileWithPassword(@RequestParam(&quot;password&quot;) String password) {\n\n    ZipFile zipFile = service.downloadZipFileWithPassword(password);\n    return ResponseEntity.ok().contentType(MediaType.parseMediaType(&quot;application/zip&quot;))\n        .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;Test.zip\\&quot;&quot;)\n        .body(outputStream -&gt; {\n\n            try (OutputStream os = outputStream; InputStream inputStream = new FileInputStream(zipFile.getFile())) {\n                IOUtils.copy(inputStream, os);\n            }\n        });\n\n}\n</code></pre>\n"}],"owner":{"account_id":4053389,"reputation":7,"user_id":3332171,"accept_rate":50,"display_name":"user3332171"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71436039,"answer_count":1,"score":0,"last_activity_date":1646989595,"creation_date":1646893911,"question_id":71419759,"body_markdown":"I want to generate a password protected zip file and then return to frontend. I am using spring boot and zip4j library. Able to generate  zip file in backend service,but not able to send to frontend.\r\n\r\n**Service**\r\n\r\n    import net.lingala.zip4j.ZipFile;\r\n\timport net.lingala.zip4j.model.ZipParameters;\r\n\timport net.lingala.zip4j.model.enums.CompressionLevel;\r\n\timport net.lingala.zip4j.model.enums.EncryptionMethod;\r\n\t\r\n\tpublic ZipFile downloadZipFileWithPassword(String password){\r\n\t\t\r\n\t\tString filePath=&quot;Sample.csv&quot;;\r\n\t\t\r\n\t\tZipParameters zipParameters = new ZipParameters();\r\n\t\tzipParameters.setEncryptFiles(true);\r\n\t\tzipParameters.setCompressionLevel(CompressionLevel.HIGHER);\r\n\t\tzipParameters.setEncryptionMethod(EncryptionMethod.AES);\r\n\t\tZipFile zipFile = new ZipFile(&quot;Test.zip&quot;, password.toCharArray());\r\n\t\tzipFile.addFile(new File(filePath), zipParameters);\r\n\t\t\r\n\t\treturn zipFile;\r\n\t}\r\n\r\n**Controller**\r\n\r\n    import net.lingala.zip4j.ZipFile;\r\n\r\n\t@GetMapping(value = &quot;/v1/downloadZipFileWithPassword&quot;)\r\n\tResponseEntity&lt;ZipFile&gt; downloadZipFileWithPassword(@RequestParam(&quot;password&quot;)String password){\r\n\t\t\r\n\t\t    ZipFile zipFile = service.downloadZipFileWithPassword(password);\r\n\t\t\treturn ResponseEntity.ok().contentType(MediaType.parseMediaType(&quot;application/zip&quot;))\r\n\t\t\t\t\t.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;Test.zip\\&quot;&quot;)\r\n\t\t\t\t\t.body(zipFile);\r\n\t\t\r\n\t} \r\n\r\nIn controller How can I convert this ZipFile (net.lingala.zip4j.ZipFile) to outputstream and send it to client  ?","title":"How to return an encrypted zip file using Java Spring boot zip4j","body":"<p>I want to generate a password protected zip file and then return to frontend. I am using spring boot and zip4j library. Able to generate  zip file in backend service,but not able to send to frontend.</p>\n<p><strong>Service</strong></p>\n<pre><code>import net.lingala.zip4j.ZipFile;\nimport net.lingala.zip4j.model.ZipParameters;\nimport net.lingala.zip4j.model.enums.CompressionLevel;\nimport net.lingala.zip4j.model.enums.EncryptionMethod;\n\npublic ZipFile downloadZipFileWithPassword(String password){\n    \n    String filePath=&quot;Sample.csv&quot;;\n    \n    ZipParameters zipParameters = new ZipParameters();\n    zipParameters.setEncryptFiles(true);\n    zipParameters.setCompressionLevel(CompressionLevel.HIGHER);\n    zipParameters.setEncryptionMethod(EncryptionMethod.AES);\n    ZipFile zipFile = new ZipFile(&quot;Test.zip&quot;, password.toCharArray());\n    zipFile.addFile(new File(filePath), zipParameters);\n    \n    return zipFile;\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>import net.lingala.zip4j.ZipFile;\n\n@GetMapping(value = &quot;/v1/downloadZipFileWithPassword&quot;)\nResponseEntity&lt;ZipFile&gt; downloadZipFileWithPassword(@RequestParam(&quot;password&quot;)String password){\n    \n        ZipFile zipFile = service.downloadZipFileWithPassword(password);\n        return ResponseEntity.ok().contentType(MediaType.parseMediaType(&quot;application/zip&quot;))\n                .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;Test.zip\\&quot;&quot;)\n                .body(zipFile);\n    \n} \n</code></pre>\n<p>In controller How can I convert this ZipFile (net.lingala.zip4j.ZipFile) to outputstream and send it to client  ?</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1415314982,"post_id":26791074,"comment_id":42157919,"body_markdown":"ConsoleAppender should help u","body":"ConsoleAppender should help u"},{"owner":{"account_id":969298,"reputation":24123,"user_id":992151,"accept_rate":82,"display_name":"cowls"},"score":1,"creation_date":1415315017,"post_id":26791074,"comment_id":42157939,"body_markdown":"First you need to post your log4j properties","body":"First you need to post your log4j properties"},{"owner":{"account_id":4631069,"reputation":310,"user_id":3753574,"accept_rate":70,"display_name":"BombSite_A"},"score":0,"creation_date":1415315534,"post_id":26791074,"comment_id":42158111,"body_markdown":"I don&#39;t have a log4j.properties in my eclipse project, but I posted my log4j.xml.","body":"I don&#39;t have a log4j.properties in my eclipse project, but I posted my log4j.xml."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1415315555,"post_id":26791074,"comment_id":42158118,"body_markdown":"Are you getting any Log4J errors that indicate that it has not been properly initialized; such as:\n\n    `log4j:WARN No appenders could be found for logger`","body":"Are you getting any Log4J errors that indicate that it has not been properly initialized; such as:      <code>log4j:WARN No appenders could be found for logger</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1415315733,"post_id":26791074,"comment_id":42158179,"body_markdown":"Check out this [posting](http://stackoverflow.com/questions/1140358/how-to-initialize-log4j-properly). It should help you figure out your problem.","body":"Check out this <a href=\"http://stackoverflow.com/questions/1140358/how-to-initialize-log4j-properly\">posting</a>. It should help you figure out your problem."},{"owner":{"account_id":4631069,"reputation":310,"user_id":3753574,"accept_rate":70,"display_name":"BombSite_A"},"score":0,"creation_date":1415316113,"post_id":26791074,"comment_id":42158318,"body_markdown":"I used one of those solutions. The errors went away but it&#39;s still not logging to my file","body":"I used one of those solutions. The errors went away but it&#39;s still not logging to my file"}],"answers":[{"tags":[],"owner":{"account_id":3797724,"reputation":175,"user_id":3152207,"display_name":"MAD"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646989514,"creation_date":1415318383,"answer_id":26791734,"question_id":26791074,"body_markdown":"Example taken from this link [Using Log4j for debugging in Java][1]. You might be missing BasicConfigurator.configure();\r\n\r\n    public class Log4jTest {\r\n      // Initialize logger for instance Log4jTest\r\n      static Logger log  = Logger.getLogger(Log4jTest.class);\r\n    \r\n      public static void main (String[] args) {\r\n         // Basic configurator to log debug messages to the console\r\n         BasicConfigurator.configure();         \r\n          \r\n         // Add some log messages\r\n         log.debug(&quot;This is a debug message&quot;);\r\n         log.trace(&quot;This is a trace message&quot;);         \r\n     }\r\n    }\r\n\r\n\r\n  [1]: https://www.stackstalk.com/2014/02/using-log4j-for-debugging-in-java.html","title":"How to get Log4j to use stdout?","body":"<p>Example taken from this link <a href=\"https://www.stackstalk.com/2014/02/using-log4j-for-debugging-in-java.html\" rel=\"nofollow noreferrer\">Using Log4j for debugging in Java</a>. You might be missing BasicConfigurator.configure();</p>\n<pre><code>public class Log4jTest {\n  // Initialize logger for instance Log4jTest\n  static Logger log  = Logger.getLogger(Log4jTest.class);\n\n  public static void main (String[] args) {\n     // Basic configurator to log debug messages to the console\n     BasicConfigurator.configure();         \n      \n     // Add some log messages\n     log.debug(&quot;This is a debug message&quot;);\n     log.trace(&quot;This is a trace message&quot;);         \n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415335505,"creation_date":1415335505,"answer_id":26794218,"question_id":26791074,"body_markdown":"The file `log4j.properties` or `log4j.xml` must be in the default package. e.g.:\r\n\r\n![Default package][1]\r\n\r\nOf if you are using Maven, in &quot;src/main/resources&quot;:\r\n\r\n![resources][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/XOqur.png\r\n  [2]: http://i.stack.imgur.com/R59JV.png","title":"How to get Log4j to use stdout?","body":"<p>The file <code>log4j.properties</code> or <code>log4j.xml</code> must be in the default package. e.g.:</p>\n\n<p><img src=\"https://i.stack.imgur.com/XOqur.png\" alt=\"Default package\"></p>\n\n<p>Of if you are using Maven, in \"src/main/resources\":</p>\n\n<p><img src=\"https://i.stack.imgur.com/R59JV.png\" alt=\"resources\"></p>\n"},{"tags":[],"owner":{"account_id":5172494,"reputation":1069,"user_id":4140583,"accept_rate":75,"display_name":"Naresh kumar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1415335749,"creation_date":1415335749,"answer_id":26794259,"question_id":26791074,"body_markdown":"please add this into your log4j.properties file\r\n\r\n    # Direct log messages to stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n\r\n\r\n    \r\n\r\n","title":"How to get Log4j to use stdout?","body":"<p>please add this into your log4j.properties file</p>\n\n<pre><code># Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n</code></pre>\n"}],"owner":{"account_id":4631069,"reputation":310,"user_id":3753574,"accept_rate":70,"display_name":"BombSite_A"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33077,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":26791734,"answer_count":3,"score":8,"last_activity_date":1646989514,"creation_date":1415314941,"question_id":26791074,"body_markdown":"I&#39;m currently using log4j in some code I&#39;m working on for debugging purposes. I&#39;ve been running my code with `java -jar test.jar | tee file.txt` to log to a file but now I want to be able to switch the file I&#39;m logging to while it&#39;s still running, something that `tee` can&#39;t do. Right now I&#39;m doing this\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(Test.class);\r\n    \r\n    public void main() {\r\n    File file = new File(/path/to/file);\r\n    System.setOut(new PrintStream(file));\r\n    System.out.println(&quot;hello world&quot;); //This works.\r\n    log.info(&quot;hello world&quot;); //this doesn&#39;t.\r\n\r\nFor some reason the Logger output isn&#39;t going to my file, it&#39;s going to my console, but `println()` works fine. Does anyone have any idea why this is happening and how to fix this?\r\n\r\nThanks.\r\n\r\nEdit: Here&#39;s my log4j.xml:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n    \r\n        &lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n                &lt;!--&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p [%c] %m%n&quot; /&gt;--&gt;\r\n                &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p [%c:%L] %m%n&quot; /&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n        &lt;logger name=&quot;com.company&quot;&gt;\r\n            &lt;level value=&quot;trace&quot; /&gt;\r\n        &lt;/logger&gt;\r\n        &lt;logger name=&quot;org.springframework&quot;&gt;\r\n            &lt;level value=&quot;debug&quot; /&gt;\r\n        &lt;/logger&gt;\r\n        &lt;logger name=&quot;com.company.Selenium&quot;&gt;\r\n            &lt;level value=&quot;debug&quot; /&gt;\r\n        &lt;/logger&gt;    \r\n        &lt;logger name=&quot;org.springframework&quot;&gt;\r\n            &lt;level value=&quot;warn&quot; /&gt;\r\n        &lt;/logger&gt;\r\n        &lt;root&gt;\r\n            &lt;priority value=&quot;warn&quot; /&gt;\r\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\r\n        &lt;/root&gt;\r\n    &lt;/log4j:configuration&gt;\r\n\r\nAlso I&#39;m getting the following error when I run my project\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    log4j:WARN No appenders could be found for logger (org.eclipse.jetty.util.log).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n","title":"How to get Log4j to use stdout?","body":"<p>I'm currently using log4j in some code I'm working on for debugging purposes. I've been running my code with <code>java -jar test.jar | tee file.txt</code> to log to a file but now I want to be able to switch the file I'm logging to while it's still running, something that <code>tee</code> can't do. Right now I'm doing this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final Logger log = LoggerFactory.getLogger(Test.class);\n\npublic void main() {\nFile file = new File(/path/to/file);\nSystem.setOut(new PrintStream(file));\nSystem.out.println(\"hello world\"); //This works.\nlog.info(\"hello world\"); //this doesn't.\n</code></pre>\n\n<p>For some reason the Logger output isn't going to my file, it's going to my console, but <code>println()</code> works fine. Does anyone have any idea why this is happening and how to fix this?</p>\n\n<p>Thanks.</p>\n\n<p>Edit: Here's my log4j.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\"&gt;\n\n    &lt;appender name=\"console\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;!--&lt;param name=\"ConversionPattern\" value=\"%d %-5p [%c] %m%n\" /&gt;--&gt;\n            &lt;param name=\"ConversionPattern\" value=\"%d %-5p [%c:%L] %m%n\" /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n    &lt;logger name=\"com.company\"&gt;\n        &lt;level value=\"trace\" /&gt;\n    &lt;/logger&gt;\n    &lt;logger name=\"org.springframework\"&gt;\n        &lt;level value=\"debug\" /&gt;\n    &lt;/logger&gt;\n    &lt;logger name=\"com.company.Selenium\"&gt;\n        &lt;level value=\"debug\" /&gt;\n    &lt;/logger&gt;    \n    &lt;logger name=\"org.springframework\"&gt;\n        &lt;level value=\"warn\" /&gt;\n    &lt;/logger&gt;\n    &lt;root&gt;\n        &lt;priority value=\"warn\" /&gt;\n        &lt;appender-ref ref=\"console\" /&gt;\n    &lt;/root&gt;\n&lt;/log4j:configuration&gt;\n</code></pre>\n\n<p>Also I'm getting the following error when I run my project</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>log4j:WARN No appenders could be found for logger (org.eclipse.jetty.util.log).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n</code></pre>\n"},{"tags":["java","scala","apache-spark-sql","delta-lake"],"comments":[{"owner":{"account_id":14318904,"reputation":385,"user_id":10342912,"display_name":"eckad158"},"score":0,"creation_date":1646990132,"post_id":71436032,"comment_id":126264938,"body_markdown":"check if the spark sql library in your jar file. if not change (or remove the &quot;provided&quot; build scope from f.e. maven.\n\nIf you do not use maven, tell us which build tool you use.","body":"check if the spark sql library in your jar file. if not change (or remove the &quot;provided&quot; build scope from f.e. maven.  If you do not use maven, tell us which build tool you use."},{"owner":{"account_id":7338021,"reputation":89,"user_id":5588666,"display_name":"Yogesh"},"score":0,"creation_date":1646993235,"post_id":71436032,"comment_id":126265988,"body_markdown":"yes i have that in my pom","body":"yes i have that in my pom"},{"owner":{"account_id":14318904,"reputation":385,"user_id":10342912,"display_name":"eckad158"},"score":0,"creation_date":1646994015,"post_id":71436032,"comment_id":126266235,"body_markdown":"remove the scope tag from the pom file. Maven should then package the libary into the jar file.","body":"remove the scope tag from the pom file. Maven should then package the libary into the jar file."},{"owner":{"account_id":1369786,"reputation":73221,"user_id":1305344,"accept_rate":70,"display_name":"Jacek Laskowski"},"score":0,"creation_date":1647202967,"post_id":71436032,"comment_id":126306511,"body_markdown":"How do you run the Spark app? How do you run the query? Edit your question and add the answers. Thank you.","body":"How do you run the Spark app? How do you run the query? Edit your question and add the answers. Thank you."}],"owner":{"account_id":7338021,"reputation":89,"user_id":5588666,"display_name":"Yogesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646989239,"creation_date":1646989239,"question_id":71436032,"body_markdown":"i am trying to alter the delta table using spark sql query in java code.\r\nbut when i am excuting my jar at cluster i am getting error like :\r\norg.spark_project.guava.util.concurrent.ExecutionError: java.lang.NoClassDefFoundError: org/apache/spark/sql/connector/catalog/TableProvider","title":"java.lang.NoClassDefFoundError: org/apache/spark/sql/connector/catalog/TableProvider","body":"<p>i am trying to alter the delta table using spark sql query in java code.\nbut when i am excuting my jar at cluster i am getting error like :\norg.spark_project.guava.util.concurrent.ExecutionError: java.lang.NoClassDefFoundError: org/apache/spark/sql/connector/catalog/TableProvider</p>\n"},{"tags":["java","date","datepicker","range","vaadin"],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646989018,"creation_date":1646989018,"answer_id":71435983,"question_id":71412231,"body_markdown":"DatePicker doesn&#39;t have that kind of functionality, at least at the moment. Probably the easiest way to implement a popup for a year and a month would be a Dialog with two Select components. \r\n```java\r\n        Dialog dialog = new Dialog();\r\n        List&lt;String&gt; collect = IntStream.rangeClosed(2000, 2022).boxed()\r\n                .map(integer -&gt; integer.toString()).collect(Collectors.toList());\r\n        Select&lt;String&gt; yearSelect = new Select&lt;String&gt;(collect.toArray(new String[0]));\r\n        Select&lt;String&gt; monthSelect = new Select&lt;&gt;(&quot;Jan&quot;, &quot;Feb&quot;, &quot;...&quot;);\r\n        dialog.add(yearSelect, monthSelect);\r\n        dialog.open();\r\n\r\n```","title":"How to display only years and months without days in a pop-up window in Vaadin datepicker?","body":"<p>DatePicker doesn't have that kind of functionality, at least at the moment. Probably the easiest way to implement a popup for a year and a month would be a Dialog with two Select components.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Dialog dialog = new Dialog();\n        List&lt;String&gt; collect = IntStream.rangeClosed(2000, 2022).boxed()\n                .map(integer -&gt; integer.toString()).collect(Collectors.toList());\n        Select&lt;String&gt; yearSelect = new Select&lt;String&gt;(collect.toArray(new String[0]));\n        Select&lt;String&gt; monthSelect = new Select&lt;&gt;(&quot;Jan&quot;, &quot;Feb&quot;, &quot;...&quot;);\n        dialog.add(yearSelect, monthSelect);\n        dialog.open();\n\n</code></pre>\n"}],"owner":{"account_id":22489799,"reputation":79,"user_id":16687691,"display_name":"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€ Ð¥Ð²Ð¾Ñ€Ð¾ÑÑ‚ÐµÐ½ÐºÐ¾"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71435983,"answer_count":1,"score":1,"last_activity_date":1646989018,"creation_date":1646841313,"question_id":71412231,"body_markdown":"How to display only years and months without days in a pop-up window in Vaadin datepicker?\r\nIs there such a possibility?\r\nSee the example in the [screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rj3Cz.png","title":"How to display only years and months without days in a pop-up window in Vaadin datepicker?","body":"<p>How to display only years and months without days in a pop-up window in Vaadin datepicker?\nIs there such a possibility?\nSee the example in the <a href=\"https://i.stack.imgur.com/rj3Cz.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8485011,"reputation":1190,"user_id":6363493,"display_name":"Maddy Blacklisted"},"score":0,"creation_date":1592386335,"post_id":62425649,"comment_id":110404368,"body_markdown":"Can you add code where you&#39;re loading image from Glide. I would like to look into the configurations you&#39;re supplying to Glide.","body":"Can you add code where you&#39;re loading image from Glide. I would like to look into the configurations you&#39;re supplying to Glide."},{"owner":{"account_id":14444169,"reputation":161,"user_id":11841659,"display_name":"Danila says Reinstate Monica"},"score":0,"creation_date":1592386632,"post_id":62425649,"comment_id":110404493,"body_markdown":"@MaddyBlacklisted, added code","body":"@MaddyBlacklisted, added code"},{"owner":{"account_id":8485011,"reputation":1190,"user_id":6363493,"display_name":"Maddy Blacklisted"},"score":0,"creation_date":1592386997,"post_id":62425649,"comment_id":110404646,"body_markdown":"Possible issue related\nhttps://github.com/bumptech/glide/issues/3065\n\nLooks like you&#39;re also stuck with some cookie or memory issue with OkHttp inside Glide","body":"Possible issue related <a href=\"https://github.com/bumptech/glide/issues/3065\" rel=\"nofollow noreferrer\">github.com/bumptech/glide/issues/3065</a>  Looks like you&#39;re also stuck with some cookie or memory issue with OkHttp inside Glide"}],"answers":[{"tags":[],"owner":{"account_id":8485011,"reputation":1190,"user_id":6363493,"display_name":"Maddy Blacklisted"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1592387414,"creation_date":1592387414,"answer_id":62426188,"question_id":62425649,"body_markdown":"This issue is related to User-Agent header parameter. It&#39;s not related to Glide, it&#39;s all about https://via.placeholder.com. You can workaround this by creating the URL by GlideUrl and adding User-Agent header.\r\n\r\n    GlideUrl url = new GlideUrl(&quot;https://your-url.com&quot;, new LazyHeaders.Builder()\r\n                .addHeader(&quot;User-Agent&quot;, &quot;your-user-agent&quot;)\r\n                .build());","title":"Can&#39;t load image by placeholder.com url","body":"<p>This issue is related to User-Agent header parameter. It's not related to Glide, it's all about <a href=\"https://via.placeholder.com\" rel=\"noreferrer\">https://via.placeholder.com</a>. You can workaround this by creating the URL by GlideUrl and adding User-Agent header.</p>\n\n<pre><code>GlideUrl url = new GlideUrl(\"https://your-url.com\", new LazyHeaders.Builder()\n            .addHeader(\"User-Agent\", \"your-user-agent\")\n            .build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10901090,"reputation":11,"user_id":8013329,"display_name":"Amee Joshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646988968,"creation_date":1646908188,"answer_id":71422603,"question_id":62425649,"body_markdown":"Use [coil](https://github.com/coil-kt/coil) library for image loading.\r\nAdd the following dependecny in your app level `build.gradle` : \r\n```\r\nimplementation(&quot;io.coil-kt:coil:0.9.1&quot;)\r\n```\r\n\r\nTo load from an URL:\r\n```\r\nimageView.load(&quot;https://via.placeholder.com/600/92c952&quot;)\r\n```\r\n\r\n","title":"Can&#39;t load image by placeholder.com url","body":"<p>Use <a href=\"https://github.com/coil-kt/coil\" rel=\"nofollow noreferrer\">coil</a> library for image loading.\nAdd the following dependecny in your app level <code>build.gradle</code> :</p>\n<pre><code>implementation(&quot;io.coil-kt:coil:0.9.1&quot;)\n</code></pre>\n<p>To load from an URL:</p>\n<pre><code>imageView.load(&quot;https://via.placeholder.com/600/92c952&quot;)\n</code></pre>\n"}],"owner":{"account_id":14444169,"reputation":161,"user_id":11841659,"display_name":"Danila says Reinstate Monica"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5438,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62426188,"answer_count":2,"score":4,"last_activity_date":1646988968,"creation_date":1592385671,"question_id":62425649,"body_markdown":"got a strange problem, trying to download any photo by url inside model from here -&gt; https://jsonplaceholder.typicode.com/photos, for example this &quot;https://via.placeholder.com/150/92c952&quot; but getting error:\r\n\r\n    Glide: Load failed for https://via.placeholder.com/600/92c952 with size [788x788]\r\n    class com.bumptech.glide.load.engine.GlideException: Failed to load resource\r\n    There was 1 cause:\r\n    java.io.FileNotFoundException(https://via.placeholder.com/600/92c952)\r\n     call GlideException#logRootCauses(String) for more detail\r\n      Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.io.InputStream, REMOTE\r\n    There was 1 cause:\r\n    java.io.FileNotFoundException(https://via.placeholder.com/600/92c952)\r\n     call GlideException#logRootCauses(String) for more detail\r\n        Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetch failed\r\n    There was 1 cause:\r\n    java.io.FileNotFoundException(https://via.placeholder.com/600/92c952)\r\n     call GlideException#logRootCauses(String) for more detail\r\n          Cause (1 of 1): class java.io.FileNotFoundException: https://via.placeholder.com/600/92c952\r\n\r\nbtw if I&#39;m trying to load images from other links, for example this -&gt; https://avatars.mds.yandex.net/get-pdb/1088712/8b19d278-0b9b-46f8-89e4-66f5541efc55/s1200?webp=false\r\n\r\neverything is working fine. Also I would like to mention that image isn&#39;t loading with Picasso, Fresco and etc. Using \r\n\r\n    InputStream inputStream = new URL(urlLik).openStream();\r\n    bitmap = BitmapFactory.decodeStream(inputStream);\r\n\r\ndoesn&#39;t help neither.  \r\nThanks in advance, really stack at this prob.\r\n\r\n\r\nCode with loading image using glide:\r\n\r\n   \r\n\r\n     RequestOptions requestOptions = RequestOption.placeholderOf(R.drawable.white_background).timeout(15000)\r\n                        .error(R.color.grey);\r\n            Glide.with(application)\r\n                        .setDefaultRequestOptions(requestOptions).load(&quot;https://via.placeholder.com/150/92c952&quot;)\r\n    .placeholder(R.drawable.white_background).dontAnimate().into(image);\r\n     ","title":"Can&#39;t load image by placeholder.com url","body":"<p>got a strange problem, trying to download any photo by url inside model from here -> <a href=\"https://jsonplaceholder.typicode.com/photos\" rel=\"nofollow noreferrer\">https://jsonplaceholder.typicode.com/photos</a>, for example this \"<a href=\"https://via.placeholder.com/150/92c952\" rel=\"nofollow noreferrer\">https://via.placeholder.com/150/92c952</a>\" but getting error:</p>\n\n<pre><code>Glide: Load failed for https://via.placeholder.com/600/92c952 with size [788x788]\nclass com.bumptech.glide.load.engine.GlideException: Failed to load resource\nThere was 1 cause:\njava.io.FileNotFoundException(https://via.placeholder.com/600/92c952)\n call GlideException#logRootCauses(String) for more detail\n  Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.io.InputStream, REMOTE\nThere was 1 cause:\njava.io.FileNotFoundException(https://via.placeholder.com/600/92c952)\n call GlideException#logRootCauses(String) for more detail\n    Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetch failed\nThere was 1 cause:\njava.io.FileNotFoundException(https://via.placeholder.com/600/92c952)\n call GlideException#logRootCauses(String) for more detail\n      Cause (1 of 1): class java.io.FileNotFoundException: https://via.placeholder.com/600/92c952\n</code></pre>\n\n<p>btw if I'm trying to load images from other links, for example this -> <a href=\"https://avatars.mds.yandex.net/get-pdb/1088712/8b19d278-0b9b-46f8-89e4-66f5541efc55/s1200?webp=false\" rel=\"nofollow noreferrer\">https://avatars.mds.yandex.net/get-pdb/1088712/8b19d278-0b9b-46f8-89e4-66f5541efc55/s1200?webp=false</a></p>\n\n<p>everything is working fine. Also I would like to mention that image isn't loading with Picasso, Fresco and etc. Using </p>\n\n<pre><code>InputStream inputStream = new URL(urlLik).openStream();\nbitmap = BitmapFactory.decodeStream(inputStream);\n</code></pre>\n\n<p>doesn't help neither.<br>\nThanks in advance, really stack at this prob.</p>\n\n<p>Code with loading image using glide:</p>\n\n<pre><code> RequestOptions requestOptions = RequestOption.placeholderOf(R.drawable.white_background).timeout(15000)\n                    .error(R.color.grey);\n        Glide.with(application)\n                    .setDefaultRequestOptions(requestOptions).load(\"https://via.placeholder.com/150/92c952\")\n.placeholder(R.drawable.white_background).dontAnimate().into(image);\n</code></pre>\n"},{"tags":["java","keycloak"],"owner":{"account_id":16674913,"reputation":124,"user_id":12051567,"display_name":"Aceccop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1646988574,"creation_date":1568193763,"question_id":57885975,"body_markdown":"I&#39;m writing custom REST endpoint. \r\nWhen I call my Resource I trying to update some users in keycloak by getting instanse of UserResource class.\r\nBut after updating first one user transaction in KeycloakTransactionManager is closing and after what im getting exception java.lang.IllegalStateException: cannot access delegate without a transaction.\r\n\r\nI tried to begin transaction by:\r\n(for example)\r\n```java\r\nKeycloakSession session = ... ; //got it from context\r\nif(!session.getTransactionManager().isActive()){\r\nsession.getTransactionManager().begin();\r\n}\r\n```\r\nBut got &quot;java.lang.IllegalStateException: Transaction in illegal state for rolleback: FINISHED&quot; and after that &quot;java.lang.IllegalStateException: No transaction associated with the current thread&quot;.\r\n\r\n\r\n\r\n```java\r\n// custom resource class\r\npublic class MyResource {\r\n\r\n    @Context\r\n    private HttpHeaders headers;\r\n\r\n    private MyAdminAuth auth;\r\n    private MyHelper helper;\r\n    private AppAuthManager authManager;\r\n// I&#39;ve correctly getting session and with open/active transaction\r\n    private KeycloakSession session;\r\n\r\n    public MyResource(KeycloakSession session) {\r\n        this.authManager = new AppAuthManager();\r\n        this.session = session;\r\n    }\r\n\r\n@Path(&quot;sync-users-run&quot;)\r\n    @POST\r\n    @NoCache\r\n    @ResponseObject\r\n    public String syncUsersRun(String json) {\r\n        Gson gson = new Gson();\r\n        helper = new MyHelper(authManager, session, headers);\r\n        SyncMain sync = new SyncMain(params, helper);\r\n        String response = gson.toJson(sync.run());\r\n        return response;\r\n    }\r\n}\r\n\r\n\r\nprivate boolean updateUserInKeycloak(UserRepresentation existingUser, User newData) {\r\n        existingUser.setEmail(newData.getEmail());\r\n        existingUser.setEnabled(newData.isActive());\r\n        existingUser.setFirstName(newData.getName());\r\n        existingUser.setLastName(newData.getLastName());\r\n        try {\r\n            KeycloakSession session = helper.getSession();\r\n\r\n            UserModel user = session.users().getUserById(existingUser.getId(), helper.getRealmFromSession(session));\r\n            UserResource userResource = helper.getInstanceOfUserResource(user, MyAdminAuth.ROLE_ALLOW_SYNC_USERS);\r\n\r\n//trying to update user but it works only for the first one\r\n            Response response = userResource.updateUser(existingUser);\r\n            if (response.getStatus() != NO_CONTENT_CODE) {\r\n                return false;\r\n            }\r\n        } catch (IllegalStateException | WebApplicationException e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n```\r\n\r\nHow can I update users without keycloak admin client corretly? \r\nMaybe exist more easy and right way?","title":"How to update keycloak user without keycloak admin client?","body":"<p>I'm writing custom REST endpoint.\nWhen I call my Resource I trying to update some users in keycloak by getting instanse of UserResource class.\nBut after updating first one user transaction in KeycloakTransactionManager is closing and after what im getting exception java.lang.IllegalStateException: cannot access delegate without a transaction.</p>\n<p>I tried to begin transaction by:\n(for example)</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeycloakSession session = ... ; //got it from context\nif(!session.getTransactionManager().isActive()){\nsession.getTransactionManager().begin();\n}\n</code></pre>\n<p>But got &quot;java.lang.IllegalStateException: Transaction in illegal state for rolleback: FINISHED&quot; and after that &quot;java.lang.IllegalStateException: No transaction associated with the current thread&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// custom resource class\npublic class MyResource {\n\n    @Context\n    private HttpHeaders headers;\n\n    private MyAdminAuth auth;\n    private MyHelper helper;\n    private AppAuthManager authManager;\n// I've correctly getting session and with open/active transaction\n    private KeycloakSession session;\n\n    public MyResource(KeycloakSession session) {\n        this.authManager = new AppAuthManager();\n        this.session = session;\n    }\n\n@Path(&quot;sync-users-run&quot;)\n    @POST\n    @NoCache\n    @ResponseObject\n    public String syncUsersRun(String json) {\n        Gson gson = new Gson();\n        helper = new MyHelper(authManager, session, headers);\n        SyncMain sync = new SyncMain(params, helper);\n        String response = gson.toJson(sync.run());\n        return response;\n    }\n}\n\n\nprivate boolean updateUserInKeycloak(UserRepresentation existingUser, User newData) {\n        existingUser.setEmail(newData.getEmail());\n        existingUser.setEnabled(newData.isActive());\n        existingUser.setFirstName(newData.getName());\n        existingUser.setLastName(newData.getLastName());\n        try {\n            KeycloakSession session = helper.getSession();\n\n            UserModel user = session.users().getUserById(existingUser.getId(), helper.getRealmFromSession(session));\n            UserResource userResource = helper.getInstanceOfUserResource(user, MyAdminAuth.ROLE_ALLOW_SYNC_USERS);\n\n//trying to update user but it works only for the first one\n            Response response = userResource.updateUser(existingUser);\n            if (response.getStatus() != NO_CONTENT_CODE) {\n                return false;\n            }\n        } catch (IllegalStateException | WebApplicationException e) {\n            return false;\n        }\n        return true;\n    }\n\n</code></pre>\n<p>How can I update users without keycloak admin client corretly?\nMaybe exist more easy and right way?</p>\n"},{"tags":["java","json","jackson","jackson-databind","pretty-print"],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646925711,"creation_date":1646925129,"answer_id":71426455,"question_id":71426073,"body_markdown":"Maybe with the following code your test will pass :\r\n\r\n    Object json = mapper.readValue(input, Object.class);\r\n    String indented = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(json);\r\n\r\n\r\nYou can check that stackoverflow question and its own answers from which the code I have written upper was coming from, from the accepted answer :\r\nhttps://stackoverflow.com/questions/14515994/convert-json-string-to-pretty-print-json-output-using-jackson","title":"Does Jackson not pretty print values annotated by @JsonRawValue?","body":"<p>Maybe with the following code your test will pass :</p>\n<pre><code>Object json = mapper.readValue(input, Object.class);\nString indented = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(json);\n</code></pre>\n<p>You can check that stackoverflow question and its own answers from which the code I have written upper was coming from, from the accepted answer :\n<a href=\"https://stackoverflow.com/questions/14515994/convert-json-string-to-pretty-print-json-output-using-jackson\">Convert JSON String to Pretty Print JSON output using Jackson</a></p>\n"}],"owner":{"account_id":1138229,"reputation":1491,"user_id":1122834,"accept_rate":100,"display_name":"Lolmewn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71426455,"answer_count":1,"score":1,"last_activity_date":1646988445,"creation_date":1646923547,"question_id":71426073,"body_markdown":"I store JSON in my database and want to include this JSON in an API response as-is, without de-serializing before serializing the data. \r\nThe data itself resides in a wrapper object. When serializing this wrapper, it appears the JSON from my database isn&#39;t pretty-printed alongside the rest of the data, giving really weird-looking responses.\r\n\r\nI have written some example code to outline my issue:\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonRawValue;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\npublic class JacksonTest {\r\n\r\n    private static final String EXPECTED_OUTPUT = &quot;{\\n&quot; +\r\n            &quot;  \\&quot;wrapper\\&quot; : {\\n&quot; +\r\n            &quot;    \\&quot;data\\&quot; : {\\n&quot; +\r\n            &quot;      \\&quot;raw\\&quot; : \\&quot;test\\&quot;\\n&quot; +\r\n            &quot;    }\\n&quot; +\r\n            &quot;  }\\n&quot; +\r\n            &quot;}&quot;;\r\n    private static final String RAW_JSON = &quot;{\\n&quot; +\r\n            &quot;  \\&quot;raw\\&quot; : \\&quot;test\\&quot;\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n    static class Pojo {\r\n\r\n        @JsonRawValue\r\n        private final String data;\r\n\r\n        public Pojo(String data) {\r\n            this.data = data;\r\n        }\r\n\r\n        public String getData() {\r\n            return data;\r\n        }\r\n\r\n    }\r\n\r\n    static class Wrapper {\r\n        private final Pojo wrapper;\r\n\r\n        public Wrapper() {\r\n            wrapper = new Pojo(RAW_JSON);\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public Pojo getWrapper() {\r\n            return wrapper;\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void shouldEqual() throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\r\n        String output = mapper.writeValueAsString(new Wrapper());\r\n        assertThat(output).isEqualTo(EXPECTED_OUTPUT);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis test fails with the following output:\r\n```json\r\n{\r\n  &quot;wrapper&quot; : {\r\n    &quot;data&quot; : {\r\n  &quot;raw&quot; : &quot;test&quot;\r\n}\r\n  }\r\n}\r\n```\r\nWhile I expect jackson to give me the following output:\r\n```json\r\n{\r\n  &quot;wrapper&quot; : {\r\n    &quot;data&quot; : {\r\n      &quot;raw&quot; : &quot;test&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIs there any way to &quot;fix&quot; the indenting of the raw data that&#39;s annotated with `@JsonRawValue`?","title":"Does Jackson not pretty print values annotated by @JsonRawValue?","body":"<p>I store JSON in my database and want to include this JSON in an API response as-is, without de-serializing before serializing the data.\nThe data itself resides in a wrapper object. When serializing this wrapper, it appears the JSON from my database isn't pretty-printed alongside the rest of the data, giving really weird-looking responses.</p>\n<p>I have written some example code to outline my issue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonRawValue;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport org.junit.jupiter.api.Test;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class JacksonTest {\n\n    private static final String EXPECTED_OUTPUT = &quot;{\\n&quot; +\n            &quot;  \\&quot;wrapper\\&quot; : {\\n&quot; +\n            &quot;    \\&quot;data\\&quot; : {\\n&quot; +\n            &quot;      \\&quot;raw\\&quot; : \\&quot;test\\&quot;\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  }\\n&quot; +\n            &quot;}&quot;;\n    private static final String RAW_JSON = &quot;{\\n&quot; +\n            &quot;  \\&quot;raw\\&quot; : \\&quot;test\\&quot;\\n&quot; +\n            &quot;}&quot;;\n\n    static class Pojo {\n\n        @JsonRawValue\n        private final String data;\n\n        public Pojo(String data) {\n            this.data = data;\n        }\n\n        public String getData() {\n            return data;\n        }\n\n    }\n\n    static class Wrapper {\n        private final Pojo wrapper;\n\n        public Wrapper() {\n            wrapper = new Pojo(RAW_JSON);\n        }\n\n        @SuppressWarnings(&quot;unused&quot;)\n        public Pojo getWrapper() {\n            return wrapper;\n        }\n    }\n\n    @Test\n    void shouldEqual() throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\n        String output = mapper.writeValueAsString(new Wrapper());\n        assertThat(output).isEqualTo(EXPECTED_OUTPUT);\n    }\n\n}\n</code></pre>\n<p>This test fails with the following output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;wrapper&quot; : {\n    &quot;data&quot; : {\n  &quot;raw&quot; : &quot;test&quot;\n}\n  }\n}\n</code></pre>\n<p>While I expect jackson to give me the following output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;wrapper&quot; : {\n    &quot;data&quot; : {\n      &quot;raw&quot; : &quot;test&quot;\n    }\n  }\n}\n</code></pre>\n<p>Is there any way to &quot;fix&quot; the indenting of the raw data that's annotated with <code>@JsonRawValue</code>?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646900266,"creation_date":1646900266,"answer_id":71420811,"question_id":71419436,"body_markdown":"In MainActivity.java you should initialize your value into onCreate() method\r\n\r\n    ImageView s;\r\n    float x;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n        s = findViewById(R.id.slideBar);\r\n        x = s.getX();\r\n    }","title":"Getting error in changing co-ordinates of imageview in android studio","body":"<p>In MainActivity.java you should initialize your value into onCreate() method</p>\n<pre><code>ImageView s;\nfloat x;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n    s = findViewById(R.id.slideBar);\n    x = s.getX();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646988296,"creation_date":1646988296,"answer_id":71435833,"question_id":71419436,"body_markdown":"Well, I found my own mistake. The thing what hossein answered earlier was right but the application was still crashing. Actually the problem was coming that I was triggering the methods `hitLeft` and `hitRight` which were not initialized as `public`. That was the mistake and now it is working alright...","title":"Getting error in changing co-ordinates of imageview in android studio","body":"<p>Well, I found my own mistake. The thing what hossein answered earlier was right but the application was still crashing. Actually the problem was coming that I was triggering the methods <code>hitLeft</code> and <code>hitRight</code> which were not initialized as <code>public</code>. That was the mistake and now it is working alright...</p>\n"}],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71420811,"answer_count":2,"score":1,"last_activity_date":1646988296,"creation_date":1646891795,"question_id":71419436,"body_markdown":"I am a beginner to android. I want to slide a slidebar in a horizontal linear layout but when I run the code, the application ends giving error `FallingBall keeps stopping`\r\n\r\nMy xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearLayout2&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:weightSum=&quot;100&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;72&quot;\r\n            android:orientation=&quot;horizontal&quot; &gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;Hello&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;8&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/slideBar&quot;\r\n                android:layout_width=&quot;100dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:srcCompat=&quot;@android:drawable/bottom_bar&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;20&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/leftBut&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:background=&quot;@android:color/white&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:srcCompat=&quot;@drawable/left_but&quot;\r\n                    android:onClick=&quot;hitLeft&quot;/&gt;\r\n\r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/rightBut&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:background=&quot;@android:color/white&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:srcCompat=&quot;@drawable/right_but&quot;\r\n                    android:onClick=&quot;hitRight&quot;/&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nMy java file is like this:\r\n\r\n        package com.example.fallingball;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.pm.ActivityInfo;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.ImageButton;\r\n    import android.widget.ImageView;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    ImageView s = findViewById(R.id.slideBar);\r\n    float x = s.getX();\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n    }\r\n\r\n\r\n    void hitLeft(View view){\r\n        x--;\r\n        s.setX(30);\r\n    }\r\n\r\n    void hitRight(View view){\r\n        x++;\r\n        s.setX(40);\r\n    }\r\n    }\r\n\r\nNote: `leftBut` and `rightBut` are two Image button and I have copied the images to the drawable folder so if you are trying this code on your system, make sure you adjust this else it will show you Image not found or so...","title":"Getting error in changing co-ordinates of imageview in android studio","body":"<p>I am a beginner to android. I want to slide a slidebar in a horizontal linear layout but when I run the code, the application ends giving error <code>FallingBall keeps stopping</code></p>\n<p>My xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n&lt;LinearLayout\n    android:id=&quot;@+id/linearLayout2&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:orientation=&quot;vertical&quot;\n    android:weightSum=&quot;100&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;72&quot;\n        android:orientation=&quot;horizontal&quot; &gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView2&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:text=&quot;Hello&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;8&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/slideBar&quot;\n            android:layout_width=&quot;100dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:srcCompat=&quot;@android:drawable/bottom_bar&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;20&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;ImageButton\n                android:id=&quot;@+id/leftBut&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@android:color/white&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:srcCompat=&quot;@drawable/left_but&quot;\n                android:onClick=&quot;hitLeft&quot;/&gt;\n\n            &lt;ImageButton\n                android:id=&quot;@+id/rightBut&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@android:color/white&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:srcCompat=&quot;@drawable/right_but&quot;\n                android:onClick=&quot;hitRight&quot;/&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>My java file is like this:</p>\n<pre><code>    package com.example.fallingball;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.pm.ActivityInfo;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\n\npublic class MainActivity extends AppCompatActivity {\n\nImageView s = findViewById(R.id.slideBar);\nfloat x = s.getX();\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n}\n\n\nvoid hitLeft(View view){\n    x--;\n    s.setX(30);\n}\n\nvoid hitRight(View view){\n    x++;\n    s.setX(40);\n}\n}\n</code></pre>\n<p>Note: <code>leftBut</code> and <code>rightBut</code> are two Image button and I have copied the images to the drawable folder so if you are trying this code on your system, make sure you adjust this else it will show you Image not found or so...</p>\n"},{"tags":["java","gradle","wsdl","java-11"],"answers":[{"tags":[],"owner":{"account_id":8613567,"reputation":263,"user_id":6451286,"display_name":"pufface"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1646987807,"creation_date":1586297633,"answer_id":61090230,"question_id":57460321,"body_markdown":"Wsinport and wsgen tools were removed from Java 11 - [JEP 320](http://openjdk.java.net/jeps/320), but they can be found in [Metro JAX-WS](https://javaee.github.io/metro-jax-ws/) which is now part of [EE4J initiative](https://github.com/eclipse-ee4j/metro-jax-ws).\r\n\r\nCommand line tool like `wsimport` was nothing else but wrapper around calling  Java class `com.sun.tools.ws.WsImport`. This class is included in Metro JAX-WS (available in maven artifacts [**jaxws-rt**](https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt/2.3.2-1) or [**jaxws-tools**](https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-tools) or others)\r\n\r\n**Classes can be generated directly from Java**:\r\n\r\n```java\r\n// SomeClass.java\r\nString[] args = new String[]{\r\n    &quot;-target&quot;, &quot;2.1&quot;,\r\n    &quot;-s&quot;, &quot;src/main/java&quot;,\r\n    &quot;-keep&quot;,\r\n    &quot;-Xnocompile&quot;,\r\n    &quot;-extension&quot;,\r\n    &quot;-encoding&quot;, &quot;UTF-8&quot;,\r\n    &quot;-wsdllocation&quot;, &quot;http://localhost/wsdl&quot;,\r\n    &quot;src/main/resources/META-INF/SomeService.wsdl&quot;\r\n};\r\ncom.sun.tools.ws.WsImport.main(args);\r\n```\r\n\r\n**Or can be generated easily by gradle task**:\r\n\r\n```groovy\r\n// build.gradle\r\ntask wsImport(type: JavaExec) {\r\n    classpath sourceSets.main.runtimeClasspath\r\n    main = &quot;com.sun.tools.ws.WsImport&quot;\r\n    args &quot;-target&quot;, &quot;2.1&quot;,\r\n        &quot;-s&quot;, &quot;src/main/java&quot;,\r\n        &quot;-keep&quot;,\r\n        &quot;-Xnocompile&quot;,\r\n        &quot;-extension&quot;,\r\n        &quot;-encoding&quot;, &quot;UTF-8&quot;,\r\n        &quot;-wsdllocation&quot;, &quot;http://localhost/wsdl&quot;,\r\n        &quot;src/main/resources/META-INF/SomeService.wsdl&quot;\r\n}\r\n\r\ndependencies {\r\n    compile &#39;com.sun.xml.ws:jaxws-rt:2.3.2-1&#39;\r\n}\r\n```\r\n\r\nTested in Java 13 and Gradle 6.\r\n\r\nThe best part is, there are no extra plugins or fancy dependencies, except for &#39;original&#39; one.\r\n\r\n","title":"generating classes from wsdl in java 11","body":"<p>Wsinport and wsgen tools were removed from Java 11 - <a href=\"http://openjdk.java.net/jeps/320\" rel=\"nofollow noreferrer\">JEP 320</a>, but they can be found in <a href=\"https://javaee.github.io/metro-jax-ws/\" rel=\"nofollow noreferrer\">Metro JAX-WS</a> which is now part of <a href=\"https://github.com/eclipse-ee4j/metro-jax-ws\" rel=\"nofollow noreferrer\">EE4J initiative</a>.</p>\n<p>Command line tool like <code>wsimport</code> was nothing else but wrapper around calling  Java class <code>com.sun.tools.ws.WsImport</code>. This class is included in Metro JAX-WS (available in maven artifacts <a href=\"https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-rt/2.3.2-1\" rel=\"nofollow noreferrer\"><strong>jaxws-rt</strong></a> or <a href=\"https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-tools\" rel=\"nofollow noreferrer\"><strong>jaxws-tools</strong></a> or others)</p>\n<p><strong>Classes can be generated directly from Java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// SomeClass.java\nString[] args = new String[]{\n    &quot;-target&quot;, &quot;2.1&quot;,\n    &quot;-s&quot;, &quot;src/main/java&quot;,\n    &quot;-keep&quot;,\n    &quot;-Xnocompile&quot;,\n    &quot;-extension&quot;,\n    &quot;-encoding&quot;, &quot;UTF-8&quot;,\n    &quot;-wsdllocation&quot;, &quot;http://localhost/wsdl&quot;,\n    &quot;src/main/resources/META-INF/SomeService.wsdl&quot;\n};\ncom.sun.tools.ws.WsImport.main(args);\n</code></pre>\n<p><strong>Or can be generated easily by gradle task</strong>:</p>\n<pre><code>// build.gradle\ntask wsImport(type: JavaExec) {\n    classpath sourceSets.main.runtimeClasspath\n    main = &quot;com.sun.tools.ws.WsImport&quot;\n    args &quot;-target&quot;, &quot;2.1&quot;,\n        &quot;-s&quot;, &quot;src/main/java&quot;,\n        &quot;-keep&quot;,\n        &quot;-Xnocompile&quot;,\n        &quot;-extension&quot;,\n        &quot;-encoding&quot;, &quot;UTF-8&quot;,\n        &quot;-wsdllocation&quot;, &quot;http://localhost/wsdl&quot;,\n        &quot;src/main/resources/META-INF/SomeService.wsdl&quot;\n}\n\ndependencies {\n    compile 'com.sun.xml.ws:jaxws-rt:2.3.2-1'\n}\n</code></pre>\n<p>Tested in Java 13 and Gradle 6.</p>\n<p>The best part is, there are no extra plugins or fancy dependencies, except for 'original' one.</p>\n"},{"tags":[],"owner":{"account_id":4875051,"reputation":4665,"user_id":3930424,"accept_rate":78,"display_name":"GROX13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632383312,"creation_date":1632383312,"answer_id":69295940,"question_id":57460321,"body_markdown":"You can try using a new plugin for Gradle [wsdl2java][1]. It is simple to use and configure you just need to add plugin:\r\n\r\n    plugins {\r\n        ...\r\n        id &#39;com.github.bjornvester.wsdl2java&#39; version &#39;1.2&#39;\r\n    }\r\n    \r\n    ...\r\n    \r\n    wsdl2java {\r\n        includes = [&#39;wsdl/test.wsdl&#39;]\r\n    }\r\n\r\n\r\n  [1]: https://github.com/bjornvester/wsdl2java-gradle-plugin","title":"generating classes from wsdl in java 11","body":"<p>You can try using a new plugin for Gradle <a href=\"https://github.com/bjornvester/wsdl2java-gradle-plugin\" rel=\"nofollow noreferrer\">wsdl2java</a>. It is simple to use and configure you just need to add plugin:</p>\n<pre><code>plugins {\n    ...\n    id 'com.github.bjornvester.wsdl2java' version '1.2'\n}\n\n...\n\nwsdl2java {\n    includes = ['wsdl/test.wsdl']\n}\n</code></pre>\n"}],"owner":{"account_id":2352566,"reputation":97,"user_id":2061066,"display_name":"user2061066"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9362,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1646987807,"creation_date":1565609212,"question_id":57460321,"body_markdown":"How to generate classes from WSDL in java 11 using gradle 5? \r\n\r\nI was using wsimport seeber plugin, but it looks like it doesn&#39;t work in java 11\r\n\r\n    dependencies {\r\n                classpath &quot;gradle.plugin.me.seeber.gradle:gradle-wsimport-plugin:1.1.1&quot;\r\n    }\r\n\r\nIn Intelij Idea I&#39;m getting:\r\n\r\n&gt; * What went wrong: A problem occurred configuring project &#39;:ReturnRedirectWorker-api&#39;.\r\n&gt; &gt; Exception thrown while executing model rule: WsimportPlugin.PluginRules#createWsdlSourceSets(ModelMap&lt;WsimportComponent&gt;,\r\n&gt; FileOperations) &gt; create(wsdlMain) &gt; create(wsdl)\r\n&gt;    &gt; Could not create LanguageSourceSet of type WsdlSourceSet","title":"generating classes from wsdl in java 11","body":"<p>How to generate classes from WSDL in java 11 using gradle 5? </p>\n\n<p>I was using wsimport seeber plugin, but it looks like it doesn't work in java 11</p>\n\n<pre><code>dependencies {\n            classpath \"gradle.plugin.me.seeber.gradle:gradle-wsimport-plugin:1.1.1\"\n}\n</code></pre>\n\n<p>In Intelij Idea I'm getting:</p>\n\n<blockquote>\n  <ul>\n  <li>What went wrong: A problem occurred configuring project ':ReturnRedirectWorker-api'.\n  \n  <blockquote>\n    <p>Exception thrown while executing model rule: WsimportPlugin.PluginRules#createWsdlSourceSets(ModelMap,\n    FileOperations) > create(wsdlMain) > create(wsdl)\n    Could not create LanguageSourceSet of type WsdlSourceSet</p>\n  </blockquote></li>\n  </ul>\n</blockquote>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1587827,"reputation":931,"user_id":1471785,"display_name":"rapasoft"},"score":0,"creation_date":1553867556,"post_id":55418569,"comment_id":97556930,"body_markdown":"This should work, what version of Spring Boot are you using? I know that the property path has changed from 1.x to 2.x (e.g. `server.session.cookie.secure` to `server.servlet.session.cookie.secure` which you are using)","body":"This should work, what version of Spring Boot are you using? I know that the property path has changed from 1.x to 2.x (e.g. <code>server.session.cookie.secure</code> to <code>server.servlet.session.cookie.secure</code> which you are using)"},{"owner":{"account_id":8750565,"reputation":629,"user_id":6543985,"display_name":"Ricardo Gellman"},"score":0,"creation_date":1554491061,"post_id":55418569,"comment_id":97786968,"body_markdown":"I already added it, and didn&#39;t work Sir","body":"I already added it, and didn&#39;t work Sir"}],"answers":[{"tags":[],"owner":{"account_id":8750565,"reputation":629,"user_id":6543985,"display_name":"Ricardo Gellman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1556223500,"creation_date":1556223500,"answer_id":55857020,"question_id":55418569,"body_markdown":"I fix it by creating a custom CustomCookieCsrfTokenRepository that invoke itself on\r\nmethod withHttpOnlyFalse, also hardcoding the atributes below, however I had to comment  the option setHttpOnly, as Angular need this opened to read it.\r\n\r\n - cookie.setSecure(true); \r\n - //cookie.setHttpOnly(true);\r\n - cookie.setPath(&quot;/&quot;);\r\n \r\n\r\n-\r\n\r\n    import java.lang.reflect.Method;\r\n    import java.util.UUID;\r\n    import javax.servlet.http.Cookie;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.util.Assert;\r\n    import org.springframework.util.ReflectionUtils;\r\n    import org.springframework.util.StringUtils;\r\n    import org.springframework.web.util.WebUtils;\r\n    \r\n    import org.springframework.security.web.csrf.*;\r\n    \r\n    \r\n    public class CustomCookieCsrfTokenRepository implements CsrfTokenRepository {\r\n    \tstatic final String DEFAULT_CSRF_COOKIE_NAME = &quot;XSRF-TOKEN&quot;;\r\n    \r\n    \tstatic final String DEFAULT_CSRF_PARAMETER_NAME = &quot;_csrf&quot;;\r\n    \r\n    \tstatic final String DEFAULT_CSRF_HEADER_NAME = &quot;X-XSRF-TOKEN&quot;;\r\n    \r\n    \tprivate String parameterName = DEFAULT_CSRF_PARAMETER_NAME;\r\n    \r\n    \tprivate String headerName = DEFAULT_CSRF_HEADER_NAME;\r\n    \r\n    \tprivate String cookieName = DEFAULT_CSRF_COOKIE_NAME;\r\n    \r\n    \tprivate final Method setHttpOnlyMethod;\r\n    \r\n    \tprivate boolean cookieHttpOnly;\r\n    \r\n    \tprivate String cookiePath;\r\n    \r\n    \tpublic CustomCookieCsrfTokenRepository() {\r\n    \t\tthis.setHttpOnlyMethod = ReflectionUtils.findMethod(Cookie.class, &quot;setHttpOnly&quot;, boolean.class);\r\n    \t\tif (this.setHttpOnlyMethod != null) {\r\n    \t\t\tthis.cookieHttpOnly = true;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic CsrfToken generateToken(HttpServletRequest request) {\r\n    \t\treturn new DefaultCsrfToken(this.headerName, this.parameterName,\r\n    \t\t\t\tcreateNewToken());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void saveToken(CsrfToken token, HttpServletRequest request,\r\n    \t\t\tHttpServletResponse response) {\r\n    \t\tString tokenValue = token == null ? &quot;&quot; : token.getToken();\r\n    \t\tCookie cookie = new Cookie(this.cookieName, tokenValue);\r\n    \t\t\r\n    \t\tcookie.setSecure(true);\r\n    \t\t//cookie.setHttpOnly(true);\r\n    \t\tcookie.setPath(&quot;/&quot;);\r\n    \t\t\r\n    \t\tif (this.cookiePath != null &amp;&amp; !this.cookiePath.isEmpty()) {\r\n    \t\t\t\tcookie.setPath(this.cookiePath);\r\n    \t\t} else {\r\n    \t\t\t\tcookie.setPath(this.getRequestContext(request));\r\n    \t\t}\r\n    \t\tif (token == null) {\r\n    \t\t\tcookie.setMaxAge(0);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tcookie.setMaxAge(-1);\r\n    \t\t}\r\n    \t\tif (cookieHttpOnly &amp;&amp; setHttpOnlyMethod != null) {\r\n    \t\t\tReflectionUtils.invokeMethod(setHttpOnlyMethod, cookie, Boolean.TRUE);\r\n    \t\t}\r\n    \r\n    \t\tresponse.addCookie(cookie);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic CsrfToken loadToken(HttpServletRequest request) {\r\n    \t\tCookie cookie = WebUtils.getCookie(request, this.cookieName);\r\n    \t\tif (cookie == null) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tString token = cookie.getValue();\r\n    \t\tif (!StringUtils.hasLength(token)) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn new DefaultCsrfToken(this.headerName, this.parameterName, token);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Sets the name of the HTTP request parameter that should be used to provide a token.\r\n    \t *\r\n    \t * @param parameterName the name of the HTTP request parameter that should be used to\r\n    \t * provide a token\r\n    \t */\r\n    \tpublic void setParameterName(String parameterName) {\r\n    \t\tAssert.notNull(parameterName, &quot;parameterName is not null&quot;);\r\n    \t\tthis.parameterName = parameterName;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Sets the name of the HTTP header that should be used to provide the token.\r\n    \t *\r\n    \t * @param headerName the name of the HTTP header that should be used to provide the\r\n    \t * token\r\n    \t */\r\n    \tpublic void setHeaderName(String headerName) {\r\n    \t\tAssert.notNull(headerName, &quot;headerName is not null&quot;);\r\n    \t\tthis.headerName = headerName;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Sets the name of the cookie that the expected CSRF token is saved to and read from.\r\n    \t *\r\n    \t * @param cookieName the name of the cookie that the expected CSRF token is saved to\r\n    \t * and read from\r\n    \t */\r\n    \tpublic void setCookieName(String cookieName) {\r\n    \t\tAssert.notNull(cookieName, &quot;cookieName is not null&quot;);\r\n    \t\tthis.cookieName = cookieName;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Sets the HttpOnly attribute on the cookie containing the CSRF token.\r\n    \t * The cookie will only be marked as HttpOnly if both &lt;code&gt;cookieHttpOnly&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt; and the underlying version of Servlet is 3.0 or greater.\r\n    \t * Defaults to &lt;code&gt;true&lt;/code&gt; if the underlying version of Servlet is 3.0 or greater.\r\n    \t * NOTE: The {@link Cookie#setHttpOnly(boolean)} was introduced in Servlet 3.0.\r\n    \t *\r\n    \t * @param cookieHttpOnly &lt;code&gt;true&lt;/code&gt; sets the HttpOnly attribute, &lt;code&gt;false&lt;/code&gt; does not set it (depending on Servlet version)\r\n    \t * @throws IllegalArgumentException if &lt;code&gt;cookieHttpOnly&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt; and the underlying version of Servlet is less than 3.0\r\n    \t */\r\n    \tpublic void setCookieHttpOnly(boolean cookieHttpOnly) {\r\n    \t\tif (cookieHttpOnly &amp;&amp; setHttpOnlyMethod == null) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Cookie will not be marked as HttpOnly because you are using a version of Servlet less than 3.0. NOTE: The Cookie#setHttpOnly(boolean) was introduced in Servlet 3.0.&quot;);\r\n    \t\t}\r\n    \t\tthis.cookieHttpOnly = cookieHttpOnly;\r\n    \t}\r\n    \r\n    \tprivate String getRequestContext(HttpServletRequest request) {\r\n    \t\tString contextPath = request.getContextPath();\r\n    \t\treturn contextPath.length() &gt; 0 ? contextPath : &quot;/&quot;;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Factory method to conveniently create an instance that has\r\n    \t * {@link #setCookieHttpOnly(boolean)} set to false.\r\n    \t *\r\n    \t * @return an instance of CookieCsrfTokenRepository with\r\n    \t * {@link #setCookieHttpOnly(boolean)} set to false\r\n    \t */\r\n    \tpublic static CustomCookieCsrfTokenRepository withHttpOnlyFalse() {\r\n    \t\tCustomCookieCsrfTokenRepository result = new CustomCookieCsrfTokenRepository();\r\n    \t\tresult.setCookieHttpOnly(false);\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tprivate String createNewToken() {\r\n    \t\treturn UUID.randomUUID().toString();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Set the path that the Cookie will be created with. This will override the default functionality which uses the\r\n    \t * request context as the path.\r\n    \t *\r\n    \t * @param path the path to use\r\n    \t */\r\n    \tpublic void setCookiePath(String path) {\r\n    \t\tthis.cookiePath = path;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Get the path that the CSRF cookie will be set to.\r\n    \t *\r\n    \t * @return the path to be used.\r\n    \t */\r\n    \tpublic String getCookiePath() {\r\n    \t\treturn this.cookiePath;\r\n    \t}\r\n    }\r\n\r\n","title":"Can&#39;t Set Spring Boot XSRF-TOKEN flag as Secure on Browser","body":"<p>I fix it by creating a custom CustomCookieCsrfTokenRepository that invoke itself on\nmethod withHttpOnlyFalse, also hardcoding the atributes below, however I had to comment  the option setHttpOnly, as Angular need this opened to read it.</p>\n\n<ul>\n<li>cookie.setSecure(true); </li>\n<li>//cookie.setHttpOnly(true);</li>\n<li>cookie.setPath(\"/\");</li>\n</ul>\n\n<p>-</p>\n\n<pre><code>import java.lang.reflect.Method;\nimport java.util.UUID;\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.util.Assert;\nimport org.springframework.util.ReflectionUtils;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.util.WebUtils;\n\nimport org.springframework.security.web.csrf.*;\n\n\npublic class CustomCookieCsrfTokenRepository implements CsrfTokenRepository {\n    static final String DEFAULT_CSRF_COOKIE_NAME = \"XSRF-TOKEN\";\n\n    static final String DEFAULT_CSRF_PARAMETER_NAME = \"_csrf\";\n\n    static final String DEFAULT_CSRF_HEADER_NAME = \"X-XSRF-TOKEN\";\n\n    private String parameterName = DEFAULT_CSRF_PARAMETER_NAME;\n\n    private String headerName = DEFAULT_CSRF_HEADER_NAME;\n\n    private String cookieName = DEFAULT_CSRF_COOKIE_NAME;\n\n    private final Method setHttpOnlyMethod;\n\n    private boolean cookieHttpOnly;\n\n    private String cookiePath;\n\n    public CustomCookieCsrfTokenRepository() {\n        this.setHttpOnlyMethod = ReflectionUtils.findMethod(Cookie.class, \"setHttpOnly\", boolean.class);\n        if (this.setHttpOnlyMethod != null) {\n            this.cookieHttpOnly = true;\n        }\n    }\n\n    @Override\n    public CsrfToken generateToken(HttpServletRequest request) {\n        return new DefaultCsrfToken(this.headerName, this.parameterName,\n                createNewToken());\n    }\n\n    @Override\n    public void saveToken(CsrfToken token, HttpServletRequest request,\n            HttpServletResponse response) {\n        String tokenValue = token == null ? \"\" : token.getToken();\n        Cookie cookie = new Cookie(this.cookieName, tokenValue);\n\n        cookie.setSecure(true);\n        //cookie.setHttpOnly(true);\n        cookie.setPath(\"/\");\n\n        if (this.cookiePath != null &amp;&amp; !this.cookiePath.isEmpty()) {\n                cookie.setPath(this.cookiePath);\n        } else {\n                cookie.setPath(this.getRequestContext(request));\n        }\n        if (token == null) {\n            cookie.setMaxAge(0);\n        }\n        else {\n            cookie.setMaxAge(-1);\n        }\n        if (cookieHttpOnly &amp;&amp; setHttpOnlyMethod != null) {\n            ReflectionUtils.invokeMethod(setHttpOnlyMethod, cookie, Boolean.TRUE);\n        }\n\n        response.addCookie(cookie);\n    }\n\n    @Override\n    public CsrfToken loadToken(HttpServletRequest request) {\n        Cookie cookie = WebUtils.getCookie(request, this.cookieName);\n        if (cookie == null) {\n            return null;\n        }\n        String token = cookie.getValue();\n        if (!StringUtils.hasLength(token)) {\n            return null;\n        }\n        return new DefaultCsrfToken(this.headerName, this.parameterName, token);\n    }\n\n    /**\n     * Sets the name of the HTTP request parameter that should be used to provide a token.\n     *\n     * @param parameterName the name of the HTTP request parameter that should be used to\n     * provide a token\n     */\n    public void setParameterName(String parameterName) {\n        Assert.notNull(parameterName, \"parameterName is not null\");\n        this.parameterName = parameterName;\n    }\n\n    /**\n     * Sets the name of the HTTP header that should be used to provide the token.\n     *\n     * @param headerName the name of the HTTP header that should be used to provide the\n     * token\n     */\n    public void setHeaderName(String headerName) {\n        Assert.notNull(headerName, \"headerName is not null\");\n        this.headerName = headerName;\n    }\n\n    /**\n     * Sets the name of the cookie that the expected CSRF token is saved to and read from.\n     *\n     * @param cookieName the name of the cookie that the expected CSRF token is saved to\n     * and read from\n     */\n    public void setCookieName(String cookieName) {\n        Assert.notNull(cookieName, \"cookieName is not null\");\n        this.cookieName = cookieName;\n    }\n\n    /**\n     * Sets the HttpOnly attribute on the cookie containing the CSRF token.\n     * The cookie will only be marked as HttpOnly if both &lt;code&gt;cookieHttpOnly&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt; and the underlying version of Servlet is 3.0 or greater.\n     * Defaults to &lt;code&gt;true&lt;/code&gt; if the underlying version of Servlet is 3.0 or greater.\n     * NOTE: The {@link Cookie#setHttpOnly(boolean)} was introduced in Servlet 3.0.\n     *\n     * @param cookieHttpOnly &lt;code&gt;true&lt;/code&gt; sets the HttpOnly attribute, &lt;code&gt;false&lt;/code&gt; does not set it (depending on Servlet version)\n     * @throws IllegalArgumentException if &lt;code&gt;cookieHttpOnly&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt; and the underlying version of Servlet is less than 3.0\n     */\n    public void setCookieHttpOnly(boolean cookieHttpOnly) {\n        if (cookieHttpOnly &amp;&amp; setHttpOnlyMethod == null) {\n            throw new IllegalArgumentException(\"Cookie will not be marked as HttpOnly because you are using a version of Servlet less than 3.0. NOTE: The Cookie#setHttpOnly(boolean) was introduced in Servlet 3.0.\");\n        }\n        this.cookieHttpOnly = cookieHttpOnly;\n    }\n\n    private String getRequestContext(HttpServletRequest request) {\n        String contextPath = request.getContextPath();\n        return contextPath.length() &gt; 0 ? contextPath : \"/\";\n    }\n\n    /**\n     * Factory method to conveniently create an instance that has\n     * {@link #setCookieHttpOnly(boolean)} set to false.\n     *\n     * @return an instance of CookieCsrfTokenRepository with\n     * {@link #setCookieHttpOnly(boolean)} set to false\n     */\n    public static CustomCookieCsrfTokenRepository withHttpOnlyFalse() {\n        CustomCookieCsrfTokenRepository result = new CustomCookieCsrfTokenRepository();\n        result.setCookieHttpOnly(false);\n        return result;\n    }\n\n    private String createNewToken() {\n        return UUID.randomUUID().toString();\n    }\n\n    /**\n     * Set the path that the Cookie will be created with. This will override the default functionality which uses the\n     * request context as the path.\n     *\n     * @param path the path to use\n     */\n    public void setCookiePath(String path) {\n        this.cookiePath = path;\n    }\n\n    /**\n     * Get the path that the CSRF cookie will be set to.\n     *\n     * @return the path to be used.\n     */\n    public String getCookiePath() {\n        return this.cookiePath;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15569015,"reputation":33,"user_id":11231972,"display_name":"Stepan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646987800,"creation_date":1646987800,"answer_id":71435732,"question_id":55418569,"body_markdown":"You can just create a method in `WebSecurityConfiguration` like this:\r\n  \r\n\r\n     private CookieCsrfTokenRepository csrfTokenRepository() {\r\n        final CookieCsrfTokenRepository repository = CookieCsrfTokenRepository.withHttpOnlyFalse();\r\n        repository.setSecure(true);\r\n        return repository;\r\n      }\r\n\r\nand set it in `configure()`:\r\n\r\n    .csrf().csrfTokenRepository(csrfTokenRepository())\r\n\r\nfinally your config file will be:\r\n\r\n \r\n\r\n       @Configuration\r\n    @EnableWebSecurity \r\n    //@EnableGlobalMethodSecurity(prePostEnabled = true) \r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(&quot;/&quot;, &quot;/assets/**&quot;, &quot;/*.css&quot;, &quot;/*.js&quot;, &quot;index.html&quot;);\r\n        } \r\n    \r\n\r\n       private CookieCsrfTokenRepository csrfTokenRepository() {\r\n        final CookieCsrfTokenRepository repository = CookieCsrfTokenRepository.withHttpOnlyFalse();\r\n        repository.setSecure(true);\r\n        return repository;\r\n      }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n             http\r\n             .httpBasic()\r\n             .authenticationEntryPoint(new CeaAuthenticationEntryPoint())\r\n             .and()\r\n             .authorizeRequests()\r\n               .antMatchers(&quot;/index.html&quot;, &quot;/&quot;, &quot;/home&quot;, &quot;/login&quot;,&quot;/logout&quot;, &quot;/assets/**&quot;).permitAll() \r\n                 .and()\r\n              .csrf().csrfTokenRepository(csrfTokenRepository())\r\n\r\n\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;PATCH&quot;));\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;X-Requested-With&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n}","title":"Can&#39;t Set Spring Boot XSRF-TOKEN flag as Secure on Browser","body":"<p>You can just create a method in <code>WebSecurityConfiguration</code> like this:</p>\n<pre><code> private CookieCsrfTokenRepository csrfTokenRepository() {\n    final CookieCsrfTokenRepository repository = CookieCsrfTokenRepository.withHttpOnlyFalse();\n    repository.setSecure(true);\n    return repository;\n  }\n</code></pre>\n<p>and set it in <code>configure()</code>:</p>\n<pre><code>.csrf().csrfTokenRepository(csrfTokenRepository())\n</code></pre>\n<p>finally your config file will be:</p>\n<pre><code>   @Configuration\n@EnableWebSecurity \n//@EnableGlobalMethodSecurity(prePostEnabled = true) \npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/&quot;, &quot;/assets/**&quot;, &quot;/*.css&quot;, &quot;/*.js&quot;, &quot;index.html&quot;);\n    } \n\n\n   private CookieCsrfTokenRepository csrfTokenRepository() {\n    final CookieCsrfTokenRepository repository = CookieCsrfTokenRepository.withHttpOnlyFalse();\n    repository.setSecure(true);\n    return repository;\n  }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n         http\n         .httpBasic()\n         .authenticationEntryPoint(new CeaAuthenticationEntryPoint())\n         .and()\n         .authorizeRequests()\n           .antMatchers(&quot;/index.html&quot;, &quot;/&quot;, &quot;/home&quot;, &quot;/login&quot;,&quot;/logout&quot;, &quot;/assets/**&quot;).permitAll() \n             .and()\n          .csrf().csrfTokenRepository(csrfTokenRepository())\n\n\n}\n\n@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;PATCH&quot;));\n    configuration.setAllowedHeaders(Arrays.asList(&quot;X-Requested-With&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;));\n    configuration.setAllowCredentials(true);\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":8750565,"reputation":629,"user_id":6543985,"display_name":"Ricardo Gellman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4452,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55857020,"answer_count":2,"score":2,"last_activity_date":1646987800,"creation_date":1553866261,"question_id":55418569,"body_markdown":"I&#39;m running a security report that is indicating that Cookie is set with secure = False. Also the image below shows that XSRF-TOKEN does not have the Secure Column checked. I would like to know if there&#39;s any way to set this flag SECURE to TRUE \r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/IxA5p.png\r\n\r\n\r\nI Added to my application.properties the entry:\r\n\r\n&gt; server.servlet.session.cookie.secure=true \r\n\r\nAnd I set the **WebSecurityConfiguration** as:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity \r\n    //@EnableGlobalMethodSecurity(prePostEnabled = true) \r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n       \r\n    \t\r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n        \tweb.ignoring().antMatchers(&quot;/&quot;, &quot;/assets/**&quot;, &quot;/*.css&quot;, &quot;/*.js&quot;, &quot;index.html&quot;);\r\n        } \r\n        \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n        \t http\r\n             .httpBasic()\r\n             .authenticationEntryPoint(new CeaAuthenticationEntryPoint())\r\n             .and()\r\n             .authorizeRequests()\r\n               .antMatchers(&quot;/index.html&quot;, &quot;/&quot;, &quot;/home&quot;, &quot;/login&quot;,&quot;/logout&quot;, &quot;/assets/**&quot;).permitAll() \r\n            \t .and()\r\n             .csrf()\r\n                 .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()); \r\n        \t  \r\n     \r\n        }\r\n        \r\n        @Bean\r\n        CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;PATCH&quot;));\r\n            configuration.setAllowedHeaders(Arrays.asList(&quot;X-Requested-With&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;));\r\n            configuration.setAllowCredentials(true);\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n            return source;\r\n        }\r\n    }\r\n","title":"Can&#39;t Set Spring Boot XSRF-TOKEN flag as Secure on Browser","body":"<p>I'm running a security report that is indicating that Cookie is set with secure = False. Also the image below shows that XSRF-TOKEN does not have the Secure Column checked. I would like to know if there's any way to set this flag SECURE to TRUE </p>\n\n<p><a href=\"https://i.stack.imgur.com/IxA5p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IxA5p.png\" alt=\"enter image description here\"></a></p>\n\n<p>I Added to my application.properties the entry:</p>\n\n<blockquote>\n  <p>server.servlet.session.cookie.secure=true </p>\n</blockquote>\n\n<p>And I set the <strong>WebSecurityConfiguration</strong> as:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity \n//@EnableGlobalMethodSecurity(prePostEnabled = true) \npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(\"/\", \"/assets/**\", \"/*.css\", \"/*.js\", \"index.html\");\n    } \n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n         http\n         .httpBasic()\n         .authenticationEntryPoint(new CeaAuthenticationEntryPoint())\n         .and()\n         .authorizeRequests()\n           .antMatchers(\"/index.html\", \"/\", \"/home\", \"/login\",\"/logout\", \"/assets/**\").permitAll() \n             .and()\n         .csrf()\n             .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()); \n\n\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(\"*\"));\n        configuration.setAllowedMethods(Arrays.asList(\"GET\", \"POST\", \"OPTIONS\", \"DELETE\", \"PUT\", \"PATCH\"));\n        configuration.setAllowedHeaders(Arrays.asList(\"X-Requested-With\", \"Origin\", \"Content-Type\", \"Accept\", \"Authorization\"));\n        configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(\"/**\", configuration);\n        return source;\n    }\n}\n</code></pre>\n"},{"tags":["java","hazelcast"],"comments":[{"owner":{"account_id":2773648,"reputation":1167,"user_id":2387708,"accept_rate":79,"display_name":"Spartan"},"score":0,"creation_date":1646981300,"post_id":71433395,"comment_id":126262322,"body_markdown":"hazelcast team has made a lot of changes, I recommend following the documentation instead of the video tutorial, it&#39;s easy to configure it: https://docs.hazelcast.com/hazelcast/latest/getting-started/install-hazelcast","body":"hazelcast team has made a lot of changes, I recommend following the documentation instead of the video tutorial, it&#39;s easy to configure it: <a href=\"https://docs.hazelcast.com/hazelcast/latest/getting-started/install-hazelcast\" rel=\"nofollow noreferrer\">docs.hazelcast.com/hazelcast/latest/getting-started/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"FrantiÅ¡ek Hartman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646980534,"creation_date":1646980534,"answer_id":71434504,"question_id":71433395,"body_markdown":"You are using the following dependency\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis does not contain the client. The tutorial changes that dependency to `hazelcast-all` at 3:45, which has the client included. You can also include the client separately using `hazelcast-client` artifactId.\r\n\r\nHowever 3.11 is a really old version, not supported anymore, you should use the latest release - 5.1 currently. In this release, there is no `hazelcast-all` jar anymore and the client is included in the main jar. Note that there are some breaking changes between 3.x and 4.x/5.x, but it&#39;s mostly just package names.","title":"What are new API for old thing HazelcastInstance hzClient = HazelcastClient.newHazelcastClient();?","body":"<p>You are using the following dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n        &lt;version&gt;3.11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This does not contain the client. The tutorial changes that dependency to <code>hazelcast-all</code> at 3:45, which has the client included. You can also include the client separately using <code>hazelcast-client</code> artifactId.</p>\n<p>However 3.11 is a really old version, not supported anymore, you should use the latest release - 5.1 currently. In this release, there is no <code>hazelcast-all</code> jar anymore and the client is included in the main jar. Note that there are some breaking changes between 3.x and 4.x/5.x, but it's mostly just package names.</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646987672,"creation_date":1646987672,"answer_id":71435710,"question_id":71433395,"body_markdown":"Base on answer from [FrantiÅ¡ek Hartman](https://stackoverflow.com/a/71434504/3728901), I add more detail\r\n\r\n`pom.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.anil.hz&lt;/groupId&gt;\r\n    &lt;artifactId&gt;H&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nFile `Client.java`\r\n\r\n```java\r\npackage com.anil.server;\r\n\r\nimport com.hazelcast.client.HazelcastClient;\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.hazelcast.map.IMap;\r\n\r\npublic class Client {\r\n\r\n    public static void main(String[] args) {\r\n        HazelcastInstance hzClient = null;\r\n        try {\r\n            hzClient = HazelcastClient.newHazelcastClient();\r\n            IMap&lt;Long, String&gt; testMap = hzClient.getMap(&quot;testMap&quot;);\r\n            System.out.println(testMap.get(1L));\r\n        } finally {\r\n            hzClient.shutdown();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nFile `Server.java`\r\n\r\n```java\r\npackage com.anil.server;\r\n\r\nimport com.hazelcast.core.Hazelcast;\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.hazelcast.map.IMap;\r\n\r\npublic class Server {\r\n\r\n    public static void main(String[] args) {\r\n        HazelcastInstance hzInstance = Hazelcast.newHazelcastInstance();\r\n        IMap&lt;Long, String&gt; map = hzInstance.getMap(&quot;testMap&quot;);\r\n        map.put(1L, &quot;one&quot;);\r\n        map.put(2L, &quot;two&quot;);\r\n    }\r\n}\r\n```\r\n\r\nFile `HZConfig.java`\r\n\r\n```java\r\npackage com.anil.server;\r\n\r\nimport com.hazelcast.config.Config;\r\nimport com.hazelcast.config.JoinConfig;\r\nimport com.hazelcast.config.NetworkConfig;\r\n\r\npublic class HZConfig {\r\n\r\n    public static Config getConfig(){\r\n        Config config = new Config();\r\n        NetworkConfig network = config.getNetworkConfig();\r\n        network.setPort(5710).setPortCount(20);\r\n        network.setPortAutoIncrement(true);\r\n        JoinConfig join = network.getJoin();\r\n        join.getMulticastConfig().setEnabled(false);\r\n        join.getTcpIpConfig().addMember(&quot;localhost&quot;).setEnabled(true);\r\n        config.getManagementCenterConfig().setConsoleEnabled(true);\r\n        config.getManagementCenterConfig().setDataAccessEnabled(true);\r\n        config.getManagementCenterConfig().setScriptingEnabled(true);\r\n                       \r\n        // config.getManagementCenterConfig().setUrl(&quot;http://localhost:8081/mancenter&quot;); // ?\r\n        return config;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"What are new API for old thing HazelcastInstance hzClient = HazelcastClient.newHazelcastClient();?","body":"<p>Base on answer from <a href=\"https://stackoverflow.com/a/71434504/3728901\">FrantiÅ¡ek Hartman</a>, I add more detail</p>\n<p><code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.anil.hz&lt;/groupId&gt;\n    &lt;artifactId&gt;H&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n            &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n            &lt;version&gt;5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>File <code>Client.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.anil.server;\n\nimport com.hazelcast.client.HazelcastClient;\nimport com.hazelcast.core.HazelcastInstance;\nimport com.hazelcast.map.IMap;\n\npublic class Client {\n\n    public static void main(String[] args) {\n        HazelcastInstance hzClient = null;\n        try {\n            hzClient = HazelcastClient.newHazelcastClient();\n            IMap&lt;Long, String&gt; testMap = hzClient.getMap(&quot;testMap&quot;);\n            System.out.println(testMap.get(1L));\n        } finally {\n            hzClient.shutdown();\n        }\n    }\n\n}\n</code></pre>\n<p>File <code>Server.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.anil.server;\n\nimport com.hazelcast.core.Hazelcast;\nimport com.hazelcast.core.HazelcastInstance;\nimport com.hazelcast.map.IMap;\n\npublic class Server {\n\n    public static void main(String[] args) {\n        HazelcastInstance hzInstance = Hazelcast.newHazelcastInstance();\n        IMap&lt;Long, String&gt; map = hzInstance.getMap(&quot;testMap&quot;);\n        map.put(1L, &quot;one&quot;);\n        map.put(2L, &quot;two&quot;);\n    }\n}\n</code></pre>\n<p>File <code>HZConfig.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.anil.server;\n\nimport com.hazelcast.config.Config;\nimport com.hazelcast.config.JoinConfig;\nimport com.hazelcast.config.NetworkConfig;\n\npublic class HZConfig {\n\n    public static Config getConfig(){\n        Config config = new Config();\n        NetworkConfig network = config.getNetworkConfig();\n        network.setPort(5710).setPortCount(20);\n        network.setPortAutoIncrement(true);\n        JoinConfig join = network.getJoin();\n        join.getMulticastConfig().setEnabled(false);\n        join.getTcpIpConfig().addMember(&quot;localhost&quot;).setEnabled(true);\n        config.getManagementCenterConfig().setConsoleEnabled(true);\n        config.getManagementCenterConfig().setDataAccessEnabled(true);\n        config.getManagementCenterConfig().setScriptingEnabled(true);\n                       \n        // config.getManagementCenterConfig().setUrl(&quot;http://localhost:8081/mancenter&quot;); // ?\n        return config;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71434504,"answer_count":2,"score":0,"last_activity_date":1646987672,"creation_date":1646970076,"question_id":71433395,"body_markdown":"\r\nI follow tutorial at https://www.youtube.com/watch?v=AjpSdbdvIHw\r\n\r\nMy code\r\n`pom.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.anil.hz&lt;/groupId&gt;\r\n    &lt;artifactId&gt;H&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nFile `Server.java`\r\n\r\n```java\r\npackage com.anil.server;\r\n\r\nimport com.hazelcast.core.Hazelcast;\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.hazelcast.core.IMap;\r\n\r\npublic class Server {\r\n\r\n    public static void main(String[] args) {\r\n        HazelcastInstance hzInstance = Hazelcast.newHazelcastInstance();\r\n        IMap&lt;Long, String&gt; map = hzInstance.getMap(&quot;testMap&quot;);\r\n        map.put(1L, &quot;one&quot;);\r\n        map.put(2L, &quot;two&quot;);\r\n    }\r\n}\r\n```\r\n\r\nFile `Student.java`\r\n\r\n```\r\npackage com.anil.server;\r\n\r\npublic class Student {\r\n\r\n    private Long id;\r\n    private String sName;\r\n    private String city;\r\n\r\n    public Student(Long id, String sName, String city) {\r\n        this.id = id;\r\n        this.sName = sName;\r\n        this.city = city;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFile `Server.java`\r\n\r\n```java\r\npackage com.anil.server;\r\n\r\nimport com.hazelcast.core.Hazelcast;\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.hazelcast.core.IMap;\r\n\r\npublic class Server {\r\n\r\n    public static void main(String[] args) {\r\n        HazelcastInstance hzInstance = Hazelcast.newHazelcastInstance();\r\n        IMap&lt;Long, String&gt; map = hzInstance.getMap(&quot;testMap&quot;);\r\n        map.put(1L, &quot;one&quot;);\r\n        map.put(2L, &quot;two&quot;);\r\n    }\r\n}\r\n```\r\n\r\nFile `HZConfig.java`\r\n\r\n```java\r\npackage com.anil.server;\r\n\r\nimport com.hazelcast.config.Config;\r\nimport com.hazelcast.config.JoinConfig;\r\nimport com.hazelcast.config.NetworkConfig;\r\n\r\npublic class HZConfig {\r\n\r\n    public static Config getConfig(){\r\n        Config config = new Config();\r\n        NetworkConfig network = config.getNetworkConfig();\r\n        network.setPort(5710).setPortCount(20);\r\n        network.setPortAutoIncrement(true);\r\n        JoinConfig join = network.getJoin();\r\n        join.getMulticastConfig().setEnabled(false);\r\n        join.getTcpIpConfig().addMember(&quot;localhost&quot;).setEnabled(true);\r\n        config.getManagementCenterConfig().setEnabled(true);\r\n        config.getManagementCenterConfig().setUrl(&quot;http://localhost:8081/mancenter&quot;);\r\n        return config;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFile `Client.java`\r\n\r\n```java\r\npackage com.anil.server;\r\n\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.hazelcast.core.IMap;\r\n\r\npublic class Client {\r\n\r\n    public static void main(String[] args) {\r\n        HazelcastInstance hzClient = null;\r\n        try {\r\n            hzClient = HazelcastClient.newHazelcastClient();\r\n            IMap&lt;Long, String&gt; testMap = hzClient.getMap(&quot;testMap&quot;);\r\n            System.out.println(testMap.get(1L));\r\n        } finally {\r\n            hzClient.shutdown();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nI catch error at\r\n[![enter image description here][1]][1]\r\n\r\nWhat are new API for old thing `HazelcastInstance hzClient =  HazelcastClient.newHazelcastClient();` ?\r\n\r\n  [1]: https://i.stack.imgur.com/pmnJR.png","title":"What are new API for old thing HazelcastInstance hzClient = HazelcastClient.newHazelcastClient();?","body":"<p>I follow tutorial at <a href=\"https://www.youtube.com/watch?v=AjpSdbdvIHw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=AjpSdbdvIHw</a></p>\n<p>My code\n<code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.anil.hz&lt;/groupId&gt;\n    &lt;artifactId&gt;H&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n            &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n            &lt;version&gt;3.11&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>File <code>Server.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.anil.server;\n\nimport com.hazelcast.core.Hazelcast;\nimport com.hazelcast.core.HazelcastInstance;\nimport com.hazelcast.core.IMap;\n\npublic class Server {\n\n    public static void main(String[] args) {\n        HazelcastInstance hzInstance = Hazelcast.newHazelcastInstance();\n        IMap&lt;Long, String&gt; map = hzInstance.getMap(&quot;testMap&quot;);\n        map.put(1L, &quot;one&quot;);\n        map.put(2L, &quot;two&quot;);\n    }\n}\n</code></pre>\n<p>File <code>Student.java</code></p>\n<pre><code>package com.anil.server;\n\npublic class Student {\n\n    private Long id;\n    private String sName;\n    private String city;\n\n    public Student(Long id, String sName, String city) {\n        this.id = id;\n        this.sName = sName;\n        this.city = city;\n    }\n\n}\n</code></pre>\n<p>File <code>Server.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.anil.server;\n\nimport com.hazelcast.core.Hazelcast;\nimport com.hazelcast.core.HazelcastInstance;\nimport com.hazelcast.core.IMap;\n\npublic class Server {\n\n    public static void main(String[] args) {\n        HazelcastInstance hzInstance = Hazelcast.newHazelcastInstance();\n        IMap&lt;Long, String&gt; map = hzInstance.getMap(&quot;testMap&quot;);\n        map.put(1L, &quot;one&quot;);\n        map.put(2L, &quot;two&quot;);\n    }\n}\n</code></pre>\n<p>File <code>HZConfig.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.anil.server;\n\nimport com.hazelcast.config.Config;\nimport com.hazelcast.config.JoinConfig;\nimport com.hazelcast.config.NetworkConfig;\n\npublic class HZConfig {\n\n    public static Config getConfig(){\n        Config config = new Config();\n        NetworkConfig network = config.getNetworkConfig();\n        network.setPort(5710).setPortCount(20);\n        network.setPortAutoIncrement(true);\n        JoinConfig join = network.getJoin();\n        join.getMulticastConfig().setEnabled(false);\n        join.getTcpIpConfig().addMember(&quot;localhost&quot;).setEnabled(true);\n        config.getManagementCenterConfig().setEnabled(true);\n        config.getManagementCenterConfig().setUrl(&quot;http://localhost:8081/mancenter&quot;);\n        return config;\n    }\n\n}\n</code></pre>\n<p>File <code>Client.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.anil.server;\n\nimport com.hazelcast.core.HazelcastInstance;\nimport com.hazelcast.core.IMap;\n\npublic class Client {\n\n    public static void main(String[] args) {\n        HazelcastInstance hzClient = null;\n        try {\n            hzClient = HazelcastClient.newHazelcastClient();\n            IMap&lt;Long, String&gt; testMap = hzClient.getMap(&quot;testMap&quot;);\n            System.out.println(testMap.get(1L));\n        } finally {\n            hzClient.shutdown();\n        }\n    }\n\n}\n</code></pre>\n<p>I catch error at\n<a href=\"https://i.stack.imgur.com/pmnJR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pmnJR.png\" alt=\"enter image description here\" /></a></p>\n<p>What are new API for old thing <code>HazelcastInstance hzClient =  HazelcastClient.newHazelcastClient();</code> ?</p>\n"},{"tags":["java","for-loop","foreach"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1355913450,"post_id":13950385,"comment_id":19239133,"body_markdown":"So, to be clear, you just want to look from the `count`-th element till the end of the map?","body":"So, to be clear, you just want to look from the <code>count</code>-th element till the end of the map?"},{"owner":{"account_id":2057502,"reputation":811,"user_id":1834834,"accept_rate":56,"display_name":"Pramod Setlur"},"score":0,"creation_date":1355913587,"post_id":13950385,"comment_id":19239204,"body_markdown":"@irrelephant Nope. I want to start from the &#39;count&#39; variable till the end of the map.","body":"@irrelephant Nope. I want to start from the &#39;count&#39; variable till the end of the map."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1355915233,"post_id":13950385,"comment_id":19240086,"body_markdown":"Many IDEs offer to convert for loop types for you. These change the code and add any variables as required.  It is faster and less error prone.  I would see what your IDE can do for you.  BTW it is `Map.Entry` not `SortedMap.Entry`","body":"Many IDEs offer to convert for loop types for you. These change the code and add any variables as required.  It is faster and less error prone.  I would see what your IDE can do for you.  BTW it is <code>Map.Entry</code> not <code>SortedMap.Entry</code>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1355914085,"creation_date":1355913481,"answer_id":13950460,"question_id":13950385,"body_markdown":"[Section 14.14.2 of the JLS][1] gives the translation. In this case, it would be roughly:\r\n\r\n    for (Iterator&lt;SortedMap.Entry&lt;Integer, String&gt;&gt; iterator\r\n             = mapDefect.entrySet().iterator();\r\n         iterator.hasNext(); )\r\n    {\r\n        SortedMap.Entry&lt;Integer, String&gt; entry = iterator.next();\r\n        // ...\r\n    }\r\n\r\nAlternatively, use [Guava][2]&#39;s [`Iterables`][3] class to take a section of the sorted set:\r\n\r\n    Iterable&lt;SortedMap.Entry&lt;Integer, String&gt;&gt; section = Iterables.limit(\r\n        Iterables.skip(mapDefect.entrySet(), start), end - start);\r\n    for (SortedMap.Entry&lt;Integer, String&gt; entry : section) {\r\n        // ...\r\n    }\r\n\r\nOr if it&#39;s *just* from `count` (with the clarifying comment):\r\n\r\n    for (SortedMap.Entry&lt;Integer, String&gt; entry :\r\n             Iterables.skip(mapDefect.entrySet(), count)) {\r\n        // ...\r\n    }\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\r\n  [2]: http://guava-libraries.googlecode.com\r\n  [3]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Iterables.html","title":"For each to For Loop Conversion","body":"<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\" rel=\"nofollow\">Section 14.14.2 of the JLS</a> gives the translation. In this case, it would be roughly:</p>\n\n<pre><code>for (Iterator&lt;SortedMap.Entry&lt;Integer, String&gt;&gt; iterator\n         = mapDefect.entrySet().iterator();\n     iterator.hasNext(); )\n{\n    SortedMap.Entry&lt;Integer, String&gt; entry = iterator.next();\n    // ...\n}\n</code></pre>\n\n<p>Alternatively, use <a href=\"http://guava-libraries.googlecode.com\" rel=\"nofollow\">Guava</a>'s <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Iterables.html\" rel=\"nofollow\"><code>Iterables</code></a> class to take a section of the sorted set:</p>\n\n<pre><code>Iterable&lt;SortedMap.Entry&lt;Integer, String&gt;&gt; section = Iterables.limit(\n    Iterables.skip(mapDefect.entrySet(), start), end - start);\nfor (SortedMap.Entry&lt;Integer, String&gt; entry : section) {\n    // ...\n}\n</code></pre>\n\n<p>Or if it's <em>just</em> from <code>count</code> (with the clarifying comment):</p>\n\n<pre><code>for (SortedMap.Entry&lt;Integer, String&gt; entry :\n         Iterables.skip(mapDefect.entrySet(), count)) {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1355914183,"creation_date":1355913513,"answer_id":13950470,"question_id":13950385,"body_markdown":"You say the task is to skip the first `count` elements, and process the rest.\r\n\r\nThis can be done with either a &quot;for&quot; loop, or a &quot;for each&quot; loop. In this case, I&#39;d keep this as a &quot;for each&quot; loop:\r\n\r\n    int i = 0;\r\n    for (SortedMap.Entry&lt;Integer, String&gt; entry : mapDefect.entrySet()) {\r\n       if (i++ &lt; count) continue;\r\n       ...\r\n    }\r\n","title":"For each to For Loop Conversion","body":"<p>You say the task is to skip the first <code>count</code> elements, and process the rest.</p>\n\n<p>This can be done with either a \"for\" loop, or a \"for each\" loop. In this case, I'd keep this as a \"for each\" loop:</p>\n\n<pre><code>int i = 0;\nfor (SortedMap.Entry&lt;Integer, String&gt; entry : mapDefect.entrySet()) {\n   if (i++ &lt; count) continue;\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355914187,"creation_date":1355914187,"answer_id":13950659,"question_id":13950385,"body_markdown":"The recommended way to iterate of a map is using an iterator or a for-each loop (which uses an iterator).\r\n\r\nConverting your for each loop to a &quot;normal&quot; loop **can** work in your case, because you are using Integers as map keys:\r\n\r\n    for (int i = 0; i &lt; mapDefect.size(); i++) {\r\n      String value = mapDefect.get(i)\r\n      // do something with value\r\n    }\r\n\r\nBut note that this only works if you are using map keys as you would use array/list indices (which makes the map useless).\r\nTo use this kind of loop you have to use consecutive positive integers as map keys starting at 0\r\n","title":"For each to For Loop Conversion","body":"<p>The recommended way to iterate of a map is using an iterator or a for-each loop (which uses an iterator).</p>\n\n<p>Converting your for each loop to a \"normal\" loop <strong>can</strong> work in your case, because you are using Integers as map keys:</p>\n\n<pre><code>for (int i = 0; i &lt; mapDefect.size(); i++) {\n  String value = mapDefect.get(i)\n  // do something with value\n}\n</code></pre>\n\n<p>But note that this only works if you are using map keys as you would use array/list indices (which makes the map useless).\nTo use this kind of loop you have to use consecutive positive integers as map keys starting at 0</p>\n"}],"owner":{"account_id":2057502,"reputation":811,"user_id":1834834,"accept_rate":56,"display_name":"Pramod Setlur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4916,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":13950470,"answer_count":3,"score":11,"last_activity_date":1646987499,"creation_date":1355913254,"question_id":13950385,"body_markdown":"May I know how do I convert the following for each loop to a normal for loop?\r\n\r\n    for (SortedMap.Entry&lt;Integer, String&gt; entry : mapDefect.entrySet())\r\n\r\nI have a `count` variable as the starting point and the end of the map as the end point. So accordingly how may I convert it into a normal for loop?","title":"For each to For Loop Conversion","body":"<p>May I know how do I convert the following for each loop to a normal for loop?</p>\n\n<pre><code>for (SortedMap.Entry&lt;Integer, String&gt; entry : mapDefect.entrySet())\n</code></pre>\n\n<p>I have a <code>count</code> variable as the starting point and the end of the map as the end point. So accordingly how may I convert it into a normal for loop?</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent","forkjoinpool"],"owner":{"account_id":15431048,"reputation":33,"user_id":11132480,"display_name":"Evgeny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646986390,"creation_date":1646986390,"question_id":71435466,"body_markdown":"ExecutorService have invokeAll method, and documentation say next: \r\n\r\n&gt; Executes the given tasks, returning a list of Futures holding their\r\n&gt; status and results when all complete or the timeout expires, whichever\r\n&gt; happens first. **Future.isDone is true for each element of the returned\r\n&gt; list**. **Upon return, tasks that have not completed are cancelled**. Note\r\n&gt; that a completed task could have terminated either normally or by\r\n&gt; throwing an exception. The results of this method are undefined if the\r\n&gt; given collection is modified while this operation is in progress\r\n\r\nConsider the following code:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            ExecutorService executorService = Executors.newFixedThreadPool(3);\r\n            List&lt;Callable&lt;Integer&gt;&gt; tasks = Arrays.asList(\r\n                    Main::veryLongCalculations,\r\n                    Main::veryLongCalculations,\r\n                    Main::veryLongCalculations);\r\n            try {\r\n                List&lt;Future&lt;Integer&gt;&gt; resultTasks = executorService.invokeAll(tasks, 2, TimeUnit.SECONDS);\r\n                for (Future&lt;Integer&gt; task: resultTasks) {\r\n                    System.out.println(&quot;is done: &quot; + task.isDone() + &quot;, canceled: &quot; + task.isCancelled());\r\n                }\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static Integer veryLongCalculations() {\r\n            while (!Thread.currentThread().isInterrupted()) {\r\n                //very long calculations\r\n            }\r\n            System.out.println(&quot;interrupted&quot;);\r\n            return 0;\r\n        }\r\n    }\r\nIf we run this code, the following output will be displayed on the screen:\r\n\r\n    interrupted\r\n    interrupted\r\n    interrupted\r\n    is done: true, canceled: true\r\n    is done: true, canceled: true\r\n    is done: true, canceled: true\r\nThe tasks were clearly running longer than the timeout and so they were cancelled. Status of tasks is completed. Everything worked exactly as expected.\r\n\r\nBut if we use ForkJoinPool as ExecutorService (ExecutorService executorService = Executors.newWorkStealingPool()) then the output will be as like this:\r\n\r\n    interrupted\r\n    interrupted\r\n    is done: true, canceled: true\r\n    is done: true, canceled: true\r\n    is done: false, canceled: false\r\nOne of the tasks is never cancelled, which contradicts the documentation\r\nBut if we change sdk from java17 to java11, then it will work fine. \r\nI began to understand and saw that ForkJoinPool inherits from the AbstractExecutorService class, which implements the invokeAll method. But in java 17 this method is overloaded in the ForkJoinPool itself. Here is the overloaded method:\r\n\r\n    @Override\r\n    public &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks,\r\n                                         long timeout, TimeUnit unit)\r\n        throws InterruptedException {\r\n        long nanos = unit.toNanos(timeout);\r\n        ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;&gt;(tasks.size());\r\n        try {\r\n            for (Callable&lt;T&gt; t : tasks) {\r\n                ForkJoinTask&lt;T&gt; f =\r\n                    new ForkJoinTask.AdaptedInterruptibleCallable&lt;T&gt;(t);\r\n                futures.add(f);\r\n                externalSubmit(f);\r\n            }\r\n            long startTime = System.nanoTime(), ns = nanos;\r\n            boolean timedOut = (ns &lt; 0L);\r\n            for (int i = futures.size() - 1; i &gt;= 0; --i) {\r\n                Future&lt;T&gt; f = futures.get(i);\r\n                if (!f.isDone()) {\r\n                    if (timedOut)\r\n                        ForkJoinTask.cancelIgnoringExceptions(f);\r\n                    else {\r\n                        ((ForkJoinTask&lt;T&gt;)f).awaitPoolInvoke(this, ns);\r\n                        if ((ns = nanos - (System.nanoTime() - startTime)) &lt; 0L)\r\n                            timedOut = true;\r\n                    }\r\n                }\r\n            }\r\n            return futures;\r\n        } catch (Throwable t) {\r\n            for (Future&lt;T&gt; e : futures)\r\n                ForkJoinTask.cancelIgnoringExceptions(e);\r\n            throw t;\r\n        }\r\n    }\r\nOn the first iteration, the timedOut variable will always be false, so one task will never be cancelled. Is this a bug? Or is there some other reason why it works this way? This behavior is clearly contrary to the documentation, which says that all tasks should have a completed status and should be canceled if the timeout expires.","title":"ForkJoinPool incorrect invokeAll method behavior (java)","body":"<p>ExecutorService have invokeAll method, and documentation say next:</p>\n<blockquote>\n<p>Executes the given tasks, returning a list of Futures holding their\nstatus and results when all complete or the timeout expires, whichever\nhappens first. <strong>Future.isDone is true for each element of the returned\nlist</strong>. <strong>Upon return, tasks that have not completed are cancelled</strong>. Note\nthat a completed task could have terminated either normally or by\nthrowing an exception. The results of this method are undefined if the\ngiven collection is modified while this operation is in progress</p>\n</blockquote>\n<p>Consider the following code:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        ExecutorService executorService = Executors.newFixedThreadPool(3);\n        List&lt;Callable&lt;Integer&gt;&gt; tasks = Arrays.asList(\n                Main::veryLongCalculations,\n                Main::veryLongCalculations,\n                Main::veryLongCalculations);\n        try {\n            List&lt;Future&lt;Integer&gt;&gt; resultTasks = executorService.invokeAll(tasks, 2, TimeUnit.SECONDS);\n            for (Future&lt;Integer&gt; task: resultTasks) {\n                System.out.println(&quot;is done: &quot; + task.isDone() + &quot;, canceled: &quot; + task.isCancelled());\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static Integer veryLongCalculations() {\n        while (!Thread.currentThread().isInterrupted()) {\n            //very long calculations\n        }\n        System.out.println(&quot;interrupted&quot;);\n        return 0;\n    }\n}\n</code></pre>\n<p>If we run this code, the following output will be displayed on the screen:</p>\n<pre><code>interrupted\ninterrupted\ninterrupted\nis done: true, canceled: true\nis done: true, canceled: true\nis done: true, canceled: true\n</code></pre>\n<p>The tasks were clearly running longer than the timeout and so they were cancelled. Status of tasks is completed. Everything worked exactly as expected.</p>\n<p>But if we use ForkJoinPool as ExecutorService (ExecutorService executorService = Executors.newWorkStealingPool()) then the output will be as like this:</p>\n<pre><code>interrupted\ninterrupted\nis done: true, canceled: true\nis done: true, canceled: true\nis done: false, canceled: false\n</code></pre>\n<p>One of the tasks is never cancelled, which contradicts the documentation\nBut if we change sdk from java17 to java11, then it will work fine.\nI began to understand and saw that ForkJoinPool inherits from the AbstractExecutorService class, which implements the invokeAll method. But in java 17 this method is overloaded in the ForkJoinPool itself. Here is the overloaded method:</p>\n<pre><code>@Override\npublic &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks,\n                                     long timeout, TimeUnit unit)\n    throws InterruptedException {\n    long nanos = unit.toNanos(timeout);\n    ArrayList&lt;Future&lt;T&gt;&gt; futures = new ArrayList&lt;&gt;(tasks.size());\n    try {\n        for (Callable&lt;T&gt; t : tasks) {\n            ForkJoinTask&lt;T&gt; f =\n                new ForkJoinTask.AdaptedInterruptibleCallable&lt;T&gt;(t);\n            futures.add(f);\n            externalSubmit(f);\n        }\n        long startTime = System.nanoTime(), ns = nanos;\n        boolean timedOut = (ns &lt; 0L);\n        for (int i = futures.size() - 1; i &gt;= 0; --i) {\n            Future&lt;T&gt; f = futures.get(i);\n            if (!f.isDone()) {\n                if (timedOut)\n                    ForkJoinTask.cancelIgnoringExceptions(f);\n                else {\n                    ((ForkJoinTask&lt;T&gt;)f).awaitPoolInvoke(this, ns);\n                    if ((ns = nanos - (System.nanoTime() - startTime)) &lt; 0L)\n                        timedOut = true;\n                }\n            }\n        }\n        return futures;\n    } catch (Throwable t) {\n        for (Future&lt;T&gt; e : futures)\n            ForkJoinTask.cancelIgnoringExceptions(e);\n        throw t;\n    }\n}\n</code></pre>\n<p>On the first iteration, the timedOut variable will always be false, so one task will never be cancelled. Is this a bug? Or is there some other reason why it works this way? This behavior is clearly contrary to the documentation, which says that all tasks should have a completed status and should be canceled if the timeout expires.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1646981199,"post_id":71434581,"comment_id":126262295,"body_markdown":"techically gmail username and password are just strings, and can. but from security perspecitve, configure it in environment variables(or elsewhere, depends how you deploy) is safer.","body":"techically gmail username and password are just strings, and can. but from security perspecitve, configure it in environment variables(or elsewhere, depends how you deploy) is safer."},{"owner":{"account_id":12842085,"reputation":101,"user_id":9289813,"display_name":"Hassan Liasu"},"score":0,"creation_date":1646988733,"post_id":71434581,"comment_id":126264388,"body_markdown":"yea, it safer to save in environment variable or retrieve from SSM or vault","body":"yea, it safer to save in environment variable or retrieve from SSM or vault"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646986021,"creation_date":1646986021,"answer_id":71435400,"question_id":71434581,"body_markdown":"You can store any custom key/value pair in `application.properties`. This:\r\n```\r\nyour.custom.key=your.value\r\n```\r\nis totally valid. Then you get the value as any other property:\r\n```\r\n@Value(&quot;${your.custom.key}&quot;)\r\nprivate String value;\r\n```","title":"Spring boot - what can application.properties store","body":"<p>You can store any custom key/value pair in <code>application.properties</code>. This:</p>\n<pre><code>your.custom.key=your.value\n</code></pre>\n<p>is totally valid. Then you get the value as any other property:</p>\n<pre><code>@Value(&quot;${your.custom.key}&quot;)\nprivate String value;\n</code></pre>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646986021,"creation_date":1646981072,"question_id":71434581,"body_markdown":"I am creating a application which will use javax.mail to get mail from gmail and then using spring boot to make attachments from the received email available.\r\n\r\nI see spring boot application.properties can store various key/value pairs listed [here][1] - but can it be used to store other key/value pairs?\r\n\r\nSpecifically I am thinking of the gmail username and password for javax.mail.\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties","title":"Spring boot - what can application.properties store","body":"<p>I am creating a application which will use javax.mail to get mail from gmail and then using spring boot to make attachments from the received email available.</p>\n<p>I see spring boot application.properties can store various key/value pairs listed <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties\" rel=\"nofollow noreferrer\">here</a> - but can it be used to store other key/value pairs?</p>\n<p>Specifically I am thinking of the gmail username and password for javax.mail.</p>\n"},{"tags":["java","oracle","database-design","exadata"],"answers":[{"tags":[],"owner":{"account_id":9956609,"reputation":10666,"user_id":7367293,"display_name":"Connor McDonald"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646986018,"creation_date":1646986018,"answer_id":71435399,"question_id":71419870,"body_markdown":"Unless your machine is under memory pressure, it would be unwise to release memory back the OS just for the sake of doing so.  Flushing the shared pool is generally a bad idea unless you have a specific need to do so (eg memory leak, bug etc), but other than that, you *want* the SGA to be &quot;full&quot; all the time.\r\n\r\nFull means buffer cache will as efficient as possible, library cache will reduce parsing etc...A full SGA is a good thing.","title":"Oracle EXAData 19c - Shared pool memory utilization is not going down even no process are running","body":"<p>Unless your machine is under memory pressure, it would be unwise to release memory back the OS just for the sake of doing so.  Flushing the shared pool is generally a bad idea unless you have a specific need to do so (eg memory leak, bug etc), but other than that, you <em>want</em> the SGA to be &quot;full&quot; all the time.</p>\n<p>Full means buffer cache will as efficient as possible, library cache will reduce parsing etc...A full SGA is a good thing.</p>\n"}],"owner":{"account_id":7700754,"reputation":152,"user_id":5833422,"display_name":"upadhyayRakes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646986018,"creation_date":1646894804,"question_id":71419870,"body_markdown":"Using Oracle Exadata 19c for RDS database. We are running numerous queries from java application and also calling many stored procedures. We identified that as the number of processes/sessions are increasing , shared memory pool utilization is started going up. But once processes are completed and sessions are closed/vanish, still shared memory pool utilization is not coming down which was not the case in previous oracle versions. \r\n\r\nWe need to manually flush the shared memory pool to bring down the SM utilization back to 0. \r\n\r\nDoes anyone facing same issue or do we have any configuration in place that we are missing ? Can someone please assist?","title":"Oracle EXAData 19c - Shared pool memory utilization is not going down even no process are running","body":"<p>Using Oracle Exadata 19c for RDS database. We are running numerous queries from java application and also calling many stored procedures. We identified that as the number of processes/sessions are increasing , shared memory pool utilization is started going up. But once processes are completed and sessions are closed/vanish, still shared memory pool utilization is not coming down which was not the case in previous oracle versions.</p>\n<p>We need to manually flush the shared memory pool to bring down the SM utilization back to 0.</p>\n<p>Does anyone facing same issue or do we have any configuration in place that we are missing ? Can someone please assist?</p>\n"},{"tags":["java","regex","string","list","string-matching"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1646878977,"post_id":71418083,"comment_id":126234864,"body_markdown":"You split the `String` into parts by space.  In your example, the only logical operator is or.  Then you find the `Strings` that match each of the remaining tokens.  Finally, you merge the duplicate `Strings`.","body":"You split the <code>String</code> into parts by space.  In your example, the only logical operator is or.  Then you find the <code>Strings</code> that match each of the remaining tokens.  Finally, you merge the duplicate <code>Strings</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646879245,"post_id":71418083,"comment_id":126234911,"body_markdown":"So the problem is how to parse the &quot;string predicate&quot; and find out is there at least one element in the list that matches this predicate?","body":"So the problem is how to parse the &quot;string predicate&quot; and find out is there at least one element in the list that matches this predicate?"},{"owner":{"account_id":24506925,"reputation":13,"user_id":18421809,"display_name":"jen naa"},"score":0,"creation_date":1646879272,"post_id":71418083,"comment_id":126234915,"body_markdown":"how about if the key string is like &quot;i you or boy girl&quot;?","body":"how about if the key string is like &quot;i you or boy girl&quot;?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646881365,"post_id":71418083,"comment_id":126235224,"body_markdown":"@jennaa How this key should be interpreted &quot;A or B or C D&quot;? `(s.contains(&quot;A&quot;) || s.contains(&quot;B&quot;) || s.contains(&quot;C&quot;)) &amp;&amp; s.contains(&quot;D&quot;)` ?","body":"@jennaa How this key should be interpreted &quot;A or B or C D&quot;? <code>(s.contains(&quot;A&quot;) || s.contains(&quot;B&quot;) || s.contains(&quot;C&quot;)) &amp;&amp; s.contains(&quot;D&quot;)</code> ?"},{"owner":{"account_id":24506925,"reputation":13,"user_id":18421809,"display_name":"jen naa"},"score":0,"creation_date":1646882625,"post_id":71418083,"comment_id":126235402,"body_markdown":"you can ignore the consecutive `or` @AlexanderIvanchenko","body":"you can ignore the consecutive <code>or</code> @AlexanderIvanchenko"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646949042,"creation_date":1646887192,"answer_id":71418905,"question_id":71418083,"body_markdown":"It can be done with [**predicates**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html) (*function represented by a boolean condition*) and **regular expressions**.\r\n\r\nThe overall idea is to generator a `Predicate` based on string `key` and then to test list elements against this predicate.\r\n\r\nThe process of parsing a `Predicate` is done in following steps:\r\n* Split the key into groups, that has to be combined afterwards with logical `AND`, based on following regular expression **`&quot;(?&lt;!or)\\\\s+(?!or)&quot;`**\r\n    * `(?&lt;!or)` - **negative lookbehind**, represents group of characters before the matching string that must not be equal to `&quot;or&quot;`;\r\n    * `(?!or)` - **negative lookahead**, represents group of characters after the matching string that must not be equal to `&quot;or&quot;`;\r\n    * `\\\\s+` - matches a string comprised from one or more *white spaces*.\r\n* Split each group of strings obtained at the previous step on the `&quot; or &quot;` and combine the obtained predicates with logical `OR`.\r\n* Combine predicates generated at previous step into a single predicate.\r\n\r\n(*for information on regular expressions take a look at [this tutorial](https://www.regular-expressions.info/lookaround.html)*)\r\n\r\nThen we need to iterate over the given list and apply method `test()` of the combined predicate to every element. Elements that meet with the predicate will be added into the resulting list.\r\n\r\n    public static void main(String[] args) {\r\n        String key = &quot;i or you boy or girl&quot;;\r\n\r\n        List&lt;String&gt; source =\r\n                List.of(&quot;hello world&quot;, &quot;i am a boy&quot;, &quot;i am a girl&quot;);\r\n\r\n        Predicate&lt;String&gt; predicate = getPredicate(key);\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        for (String next: source) {\r\n            if (predicate.test(next)) {\r\n                result.add(next);\r\n            }\r\n        }\r\n        System.out.println(result);\r\n    }\r\n\r\n    public static Predicate&lt;String&gt; getPredicate(String key) {\r\n        Predicate&lt;String&gt; result = str -&gt; true;\r\n\r\n        for (String next: key.split(&quot;(?&lt;!or)\\\\s+(?!or)&quot;)) {\r\n            Predicate&lt;String&gt; pred = str -&gt; false;\r\n\r\n            for (String target: next.strip().split(&quot; or &quot;)) {\r\n                if (target.isEmpty()) {\r\n                    continue;\r\n                }\r\n                pred = pred.or(str -&gt; str.contains(target));\r\n            }\r\n            result = result.and(pred);\r\n        }\r\n        return result;\r\n    }\r\n\r\n**Output**\r\n```\r\n[i am a boy, i am a girl]\r\n```\r\n**Note:** \r\n* A base for combining predicates with **or** (`||`) has to yield `false` because only in this case it&#39;ll not affect the result (*with (`||`) only **one** condition can be `true` and the overall result will be evaluated to `true`*).\r\n* A base for combining predicates with **and** (`&amp;&amp;`) has to return `true` because only so the result will not get affected (*with* `&amp;&amp;` ***all** the conditions needs to be evaluated to `true` for the overall result to be `true`*).","title":"How to find the matches in the given List","body":"<p>It can be done with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><strong>predicates</strong></a> (<em>function represented by a boolean condition</em>) and <strong>regular expressions</strong>.</p>\n<p>The overall idea is to generator a <code>Predicate</code> based on string <code>key</code> and then to test list elements against this predicate.</p>\n<p>The process of parsing a <code>Predicate</code> is done in following steps:</p>\n<ul>\n<li>Split the key into groups, that has to be combined afterwards with logical <code>AND</code>, based on following regular expression <strong><code>&quot;(?&lt;!or)\\\\s+(?!or)&quot;</code></strong>\n<ul>\n<li><code>(?&lt;!or)</code> - <strong>negative lookbehind</strong>, represents group of characters before the matching string that must not be equal to <code>&quot;or&quot;</code>;</li>\n<li><code>(?!or)</code> - <strong>negative lookahead</strong>, represents group of characters after the matching string that must not be equal to <code>&quot;or&quot;</code>;</li>\n<li><code>\\\\s+</code> - matches a string comprised from one or more <em>white spaces</em>.</li>\n</ul>\n</li>\n<li>Split each group of strings obtained at the previous step on the <code>&quot; or &quot;</code> and combine the obtained predicates with logical <code>OR</code>.</li>\n<li>Combine predicates generated at previous step into a single predicate.</li>\n</ul>\n<p>(<em>for information on regular expressions take a look at <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">this tutorial</a></em>)</p>\n<p>Then we need to iterate over the given list and apply method <code>test()</code> of the combined predicate to every element. Elements that meet with the predicate will be added into the resulting list.</p>\n<pre><code>public static void main(String[] args) {\n    String key = &quot;i or you boy or girl&quot;;\n\n    List&lt;String&gt; source =\n            List.of(&quot;hello world&quot;, &quot;i am a boy&quot;, &quot;i am a girl&quot;);\n\n    Predicate&lt;String&gt; predicate = getPredicate(key);\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n\n    for (String next: source) {\n        if (predicate.test(next)) {\n            result.add(next);\n        }\n    }\n    System.out.println(result);\n}\n\npublic static Predicate&lt;String&gt; getPredicate(String key) {\n    Predicate&lt;String&gt; result = str -&gt; true;\n\n    for (String next: key.split(&quot;(?&lt;!or)\\\\s+(?!or)&quot;)) {\n        Predicate&lt;String&gt; pred = str -&gt; false;\n\n        for (String target: next.strip().split(&quot; or &quot;)) {\n            if (target.isEmpty()) {\n                continue;\n            }\n            pred = pred.or(str -&gt; str.contains(target));\n        }\n        result = result.and(pred);\n    }\n    return result;\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[i am a boy, i am a girl]\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li>A base for combining predicates with <strong>or</strong> (<code>||</code>) has to yield <code>false</code> because only in this case it'll not affect the result (<em>with (<code>||</code>) only <strong>one</strong> condition can be <code>true</code> and the overall result will be evaluated to <code>true</code></em>).</li>\n<li>A base for combining predicates with <strong>and</strong> (<code>&amp;&amp;</code>) has to return <code>true</code> because only so the result will not get affected (<em>with</em> <code>&amp;&amp;</code> <em><strong>all</strong> the conditions needs to be evaluated to <code>true</code> for the overall result to be <code>true</code></em>).</li>\n</ul>\n"}],"owner":{"account_id":24506925,"reputation":13,"user_id":18421809,"display_name":"jen naa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71418905,"answer_count":1,"score":1,"last_activity_date":1646984956,"creation_date":1646878500,"question_id":71418083,"body_markdown":"I want to write a method that takes as an input a `String` `key` separated by white spaces and a list of `String` in which matches have to be searched. \r\n\r\nThe format of the string `key` could be like this:\r\n\r\n&gt; &quot;s1 **or** s2 s3 **or** s4&quot;\r\n\r\nIt has to be translated to a condition &quot;(**s1** `or` **s2**) `and` (**s3** `or` **s4**)&quot;, where conditions grouped with `or` are always executed first. \r\n\r\nThe method should return a list of strings which match the condition obtained from the specified the &quot;key&quot;.\r\n\r\n    public List&lt;String&gt; search(String key, ArrayList&lt;String&gt; s){\r\n        ...\r\n    }\r\n\r\n**Example** of the input (a `key` and a list):\r\n\r\n    // if ((s.contains(&quot;i&quot;) || s.contains(&quot;you&quot;)) &amp;&amp; (s.contains(&quot;boy&quot;) || s.contains(&quot;girl&quot;)) then store in the List and return finally\r\n    String key = &quot;i or you boy or girl&quot;; \r\n\r\n    ArrayList&lt;String&gt; s = new ArrayList&lt;String&gt;(\r\n                Arrays.asList(&quot;hello world&quot;,\r\n                              &quot;i am a boy&quot;,\r\n                              &quot;i am a girl&quot;));\r\n\r\nThen the resulting list would contain string:\r\n\r\n    `&quot;i am a boy&quot;` and `&quot;i am a girl&quot;`.\r\n","title":"How to find the matches in the given List","body":"<p>I want to write a method that takes as an input a <code>String</code> <code>key</code> separated by white spaces and a list of <code>String</code> in which matches have to be searched.</p>\n<p>The format of the string <code>key</code> could be like this:</p>\n<blockquote>\n<p>&quot;s1 <strong>or</strong> s2 s3 <strong>or</strong> s4&quot;</p>\n</blockquote>\n<p>It has to be translated to a condition &quot;(<strong>s1</strong> <code>or</code> <strong>s2</strong>) <code>and</code> (<strong>s3</strong> <code>or</code> <strong>s4</strong>)&quot;, where conditions grouped with <code>or</code> are always executed first.</p>\n<p>The method should return a list of strings which match the condition obtained from the specified the &quot;key&quot;.</p>\n<pre><code>public List&lt;String&gt; search(String key, ArrayList&lt;String&gt; s){\n    ...\n}\n</code></pre>\n<p><strong>Example</strong> of the input (a <code>key</code> and a list):</p>\n<pre><code>// if ((s.contains(&quot;i&quot;) || s.contains(&quot;you&quot;)) &amp;&amp; (s.contains(&quot;boy&quot;) || s.contains(&quot;girl&quot;)) then store in the List and return finally\nString key = &quot;i or you boy or girl&quot;; \n\nArrayList&lt;String&gt; s = new ArrayList&lt;String&gt;(\n            Arrays.asList(&quot;hello world&quot;,\n                          &quot;i am a boy&quot;,\n                          &quot;i am a girl&quot;));\n</code></pre>\n<p>Then the resulting list would contain string:</p>\n<pre><code>`&quot;i am a boy&quot;` and `&quot;i am a girl&quot;`.\n</code></pre>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":2,"creation_date":1645749473,"post_id":71259746,"comment_id":125960311,"body_markdown":"Java 9 introduced Collectors.flatMapping : https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#flatMapping-java.util.function.Function-java.util.stream.Collector-","body":"Java 9 introduced Collectors.flatMapping : <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#flatMapping-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/java/util/stream/&hellip;</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1645749535,"post_id":71259746,"comment_id":125960325,"body_markdown":"Can you use _`Collections.unmodifiableList(List&lt;T&gt;)`_?","body":"Can you use <i><code>Collections.unmodifiableList(List&lt;T&gt;)</code></i>?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646984953,"creation_date":1645750036,"answer_id":71259850,"question_id":71259746,"body_markdown":"To obtain a &quot;flattened&quot; list of elements from a nested collection firstly you need to apply [**`flatMapping()`**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)) which takes a **function** that turns an *element* to a *stream* and a **collector** as second argument. And to get an immutable list apply [**`toUnmodifiableList()`**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toUnmodifiableList()) as a **downstream collector** inside the `flatMapping()` (*as already mentioned by [racraman](https://stackoverflow.com/users/681444/racraman) and [hfontanez](https://stackoverflow.com/users/2851311/hfontanez) in their comments, since they pointed that earlier the credits for this answer should belong to them*).\r\n\r\n        List&lt;List&lt;Integer&gt;&gt; nestedList = List.of(\r\n                List.of(1, 2),\r\n                List.of(3, 4)\r\n        );\r\n\r\n        nestedList.stream()\r\n                .collect(Collectors.flatMapping(List::stream,\r\n                            Collectors.toUnmodifiableList()))\r\n                .forEach(System.out::println);\r\n**output**\r\n```\r\n1\r\n2\r\n3\r\n4\r\n```\r\n_________________________________________________________\r\n\r\nA more **common use-case** for `Collector.flatMapping()` is when each element of the stream holds a *reference to a collection*, rather than being a *collection* itself. \r\n\r\nConsider the following scenario. \r\n\r\nWe have a *collection* of `Order`s. Each `Order` has an *id* and a *collection* of `Item`s. And we want to obtain a **map** from this *collection of orders* so that based on the *order id* we can get a *list of items*. \r\n\r\nIn this situation `Collector.flatMapping()` is indispensable because by applying the `flatMap()` in the middle of the stream we will lose access to the `orderId` in the `collect()`. Hence, flattening should happen inside the `collect()` operation.\r\n\r\nA method that implements the logic described above might look this:\r\n\r\n    public Map&lt;String, List&lt;Item&gt;&gt; getItemsByOrderId(Collection&lt;Order&gt; orders) {\r\n        return orders.stream()\r\n                // some logic here\r\n                .collect(Collectors.groupingBy(Order::getId,\r\n                         Collectors.flatMapping(order -&gt;\r\n                                         order.getItems().stream().filter(somePredicate),\r\n                                 Collectors.toList())));\r\n    }\r\n\r\n","title":"Collector to join incoming lists","body":"<p>To obtain a &quot;flattened&quot; list of elements from a nested collection firstly you need to apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><strong><code>flatMapping()</code></strong></a> which takes a <strong>function</strong> that turns an <em>element</em> to a <em>stream</em> and a <strong>collector</strong> as second argument. And to get an immutable list apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toUnmodifiableList()\" rel=\"nofollow noreferrer\"><strong><code>toUnmodifiableList()</code></strong></a> as a <strong>downstream collector</strong> inside the <code>flatMapping()</code> (<em>as already mentioned by <a href=\"https://stackoverflow.com/users/681444/racraman\">racraman</a> and <a href=\"https://stackoverflow.com/users/2851311/hfontanez\">hfontanez</a> in their comments, since they pointed that earlier the credits for this answer should belong to them</em>).</p>\n<pre><code>    List&lt;List&lt;Integer&gt;&gt; nestedList = List.of(\n            List.of(1, 2),\n            List.of(3, 4)\n    );\n\n    nestedList.stream()\n            .collect(Collectors.flatMapping(List::stream,\n                        Collectors.toUnmodifiableList()))\n            .forEach(System.out::println);\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>1\n2\n3\n4\n</code></pre>\n<hr />\n<p>A more <strong>common use-case</strong> for <code>Collector.flatMapping()</code> is when each element of the stream holds a <em>reference to a collection</em>, rather than being a <em>collection</em> itself.</p>\n<p>Consider the following scenario.</p>\n<p>We have a <em>collection</em> of <code>Order</code>s. Each <code>Order</code> has an <em>id</em> and a <em>collection</em> of <code>Item</code>s. And we want to obtain a <strong>map</strong> from this <em>collection of orders</em> so that based on the <em>order id</em> we can get a <em>list of items</em>.</p>\n<p>In this situation <code>Collector.flatMapping()</code> is indispensable because by applying the <code>flatMap()</code> in the middle of the stream we will lose access to the <code>orderId</code> in the <code>collect()</code>. Hence, flattening should happen inside the <code>collect()</code> operation.</p>\n<p>A method that implements the logic described above might look this:</p>\n<pre><code>public Map&lt;String, List&lt;Item&gt;&gt; getItemsByOrderId(Collection&lt;Order&gt; orders) {\n    return orders.stream()\n            // some logic here\n            .collect(Collectors.groupingBy(Order::getId,\n                     Collectors.flatMapping(order -&gt;\n                                     order.getItems().stream().filter(somePredicate),\n                             Collectors.toList())));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23774814,"reputation":19,"user_id":17788427,"display_name":"Musaddiq M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646073409,"creation_date":1645766699,"answer_id":71261418,"question_id":71259746,"body_markdown":"We can also do `flatMap()` operation and `toList()` collector, to collect multiple incoming lists to one resultant list.  \r\n\r\n    List&lt;String&gt; joinedList = Stream.of(\r\n       asList(&quot;1&quot;, &quot;2&quot;),\r\n       asList(&quot;3&quot;, &quot;4&quot;)).flatMap(list -&gt; list.stream()\r\n    )\r\n    .collect(toList());\r\n\r\n    System.out.println(&quot;Printing the list named as joinedList: &quot; + joinedList);\r\n\r\n**Output:** \r\n\r\n    Printing the list named joinedList: [1, 2, 3, 4]\r\n\r\n\r\n","title":"Collector to join incoming lists","body":"<p>We can also do <code>flatMap()</code> operation and <code>toList()</code> collector, to collect multiple incoming lists to one resultant list.</p>\n<pre><code>List&lt;String&gt; joinedList = Stream.of(\n   asList(&quot;1&quot;, &quot;2&quot;),\n   asList(&quot;3&quot;, &quot;4&quot;)).flatMap(list -&gt; list.stream()\n)\n.collect(toList());\n\nSystem.out.println(&quot;Printing the list named as joinedList: &quot; + joinedList);\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Printing the list named joinedList: [1, 2, 3, 4]\n</code></pre>\n"}],"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71259850,"answer_count":2,"score":1,"last_activity_date":1646984953,"creation_date":1645748966,"question_id":71259746,"body_markdown":"I have a method that receives a collector. The collector should combine incoming lists:\r\n\r\n```\r\nreducing(Lists.newArrayList(), (container, list) -&gt; {\r\n   container.addAll(list);\r\n   return container;\r\n})\r\n```\r\n\r\nThis seems like a very common scenario to me, and I believe Java&#39;s own collector should have something to cover this use case, but I cannot remember what. Besides, I want it to return `ImmutableList`.","title":"Collector to join incoming lists","body":"<p>I have a method that receives a collector. The collector should combine incoming lists:</p>\n<pre><code>reducing(Lists.newArrayList(), (container, list) -&gt; {\n   container.addAll(list);\n   return container;\n})\n</code></pre>\n<p>This seems like a very common scenario to me, and I believe Java's own collector should have something to cover this use case, but I cannot remember what. Besides, I want it to return <code>ImmutableList</code>.</p>\n"},{"tags":["java","proxy"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1587116594,"post_id":61268122,"comment_id":108387435,"body_markdown":"Because you&#39;re invoking a method in the base class. You only got here because someone else did the equivalent of `Method.invoke(proxy, ...)`. If you do that yourself you will recurse infinitely.","body":"Because you&#39;re invoking a method in the base class. You only got here because someone else did the equivalent of <code>Method.invoke(proxy, ...)</code>. If you do that yourself you will recurse infinitely."},{"owner":{"account_id":16608416,"reputation":13,"user_id":12002160,"display_name":"né˜¶è¡Œåˆ—å¼"},"score":0,"creation_date":1587133830,"post_id":61268122,"comment_id":108397349,"body_markdown":"First of all thank you for your reply.Yes,I have known the &quot;recurse infinitely&quot;.But I couldn&#39;t understand why they use `method.invoke(this,args)`. &#39;this&#39; is the instance of `ConnectionLogger` (or `InvocationHandler`),not instance of `UserMapper`(like my code above).If I can get the `class` of `UserMapper`,is that much better like `method.invoke(class.newInstance(),args)`? Are they same?","body":"First of all thank you for your reply.Yes,I have known the &quot;recurse infinitely&quot;.But I couldn&#39;t understand why they use <code>method.invoke(this,args)</code>. &#39;this&#39; is the instance of <code>ConnectionLogger</code> (or <code>InvocationHandler</code>),not instance of <code>UserMapper</code>(like my code above).If I can get the <code>class</code> of <code>UserMapper</code>,is that much better like <code>method.invoke(class.newInstance(),args)</code>? Are they same?"}],"answers":[{"tags":[],"owner":{"account_id":15110053,"reputation":1,"user_id":10908552,"display_name":"zhi bo mis xue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646984499,"creation_date":1646984499,"answer_id":71435148,"question_id":61268122,"body_markdown":"You guessed right. The proxy address refers to the invocationhandler. Here is the test\r\n\r\n    \r\n    @Override\r\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n\r\n        if (Object.class.equals(method.getDeclaringClass())) {\r\n            System.out.println(this);\r\n            System.out.println(Integer.toHexString(System.identityHashCode(this)));\r\n            System.out.println(Integer.toHexString(System.identityHashCode(proxy)));\r\n\r\n            return method.invoke(this, args);\r\n        }\r\n\r\n        return &quot;ddd&quot;;\r\n    }\r\n\r\n\r\n&lt;/d&gt;\r\n\r\n                public static void main(String[] args) {\r\n        InsertDataHandler c =new InsertDataHandler();\r\n        Object L=c.getProxy();\r\n     //   L.toString();\r\n        System.out.println(L.toString());\r\n\r\n    }  \r\n\r\n            E:\\xzb\\jdk\\bin\\java.exe \r\n             com.example.tenant.InsertDataHandler@728938a9\r\n             728938a9\r\n             21b8d17c\r\n             com.example.tenant.InsertDataHandler@728938a9","title":"In Java Proxy, if i use an Object&#39;s method (like toString()),why it&#39;s method.invoke(this),not method.invoke(proxy) or other","body":"<p>You guessed right. The proxy address refers to the invocationhandler. Here is the test</p>\n<pre><code>@Override\npublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n\n    if (Object.class.equals(method.getDeclaringClass())) {\n        System.out.println(this);\n        System.out.println(Integer.toHexString(System.identityHashCode(this)));\n        System.out.println(Integer.toHexString(System.identityHashCode(proxy)));\n\n        return method.invoke(this, args);\n    }\n\n    return &quot;ddd&quot;;\n}\n</code></pre>\n\n<pre><code>            public static void main(String[] args) {\n    InsertDataHandler c =new InsertDataHandler();\n    Object L=c.getProxy();\n //   L.toString();\n    System.out.println(L.toString());\n\n}  \n\n        E:\\xzb\\jdk\\bin\\java.exe \n         com.example.tenant.InsertDataHandler@728938a9\n         728938a9\n         21b8d17c\n         com.example.tenant.InsertDataHandler@728938a9\n</code></pre>\n"}],"owner":{"account_id":16608416,"reputation":13,"user_id":12002160,"display_name":"né˜¶è¡Œåˆ—å¼"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646984499,"creation_date":1587115384,"question_id":61268122,"body_markdown":"In some code,like Mybatis,I saw the use of JDK-proxy.\r\nExample:\r\n `org.apache.ibatis.logging.jdbc.ConnectionLogger`:\r\n```\r\npublic final class ConnectionLogger extends BaseJdbcLogger implements InvocationHandler {\r\n\r\n  @Override\r\n  public Object invoke(Object proxy, Method method, Object[] params)\r\n      throws Throwable {\r\n    try {\r\n      if (Object.class.equals(method.getDeclaringClass())) {\r\n        return method.invoke(this, params);\r\n      }\r\n    }\r\n...\r\n}\r\n}\r\n```\r\nMaybe my code like this :\r\n```\r\nUserMapper user = getProxy(UserMapper.class);\r\nuser.hashCode()\r\n```\r\n\r\nIf i use the method like `hashCode()` , it means i want to get the hashCode from the user, not user&#39;s Proxy.hashCode(), not invocationHandler.hashCode().And I really try to change the method like this,it  happens an error:\r\n```\r\nif (Object.class.equals(method.getDeclaringClass())) {\r\n        return method.invoke(proxy, params);\r\n}\r\n```\r\nBut why use &#39;this&#39;(is this means an object from ConnectionLogger ?)\r\nPlease tell me ,and sorry for my English ;)","title":"In Java Proxy, if i use an Object&#39;s method (like toString()),why it&#39;s method.invoke(this),not method.invoke(proxy) or other","body":"<p>In some code,like Mybatis,I saw the use of JDK-proxy.\nExample:\n <code>org.apache.ibatis.logging.jdbc.ConnectionLogger</code>:</p>\n\n<pre><code>public final class ConnectionLogger extends BaseJdbcLogger implements InvocationHandler {\n\n  @Override\n  public Object invoke(Object proxy, Method method, Object[] params)\n      throws Throwable {\n    try {\n      if (Object.class.equals(method.getDeclaringClass())) {\n        return method.invoke(this, params);\n      }\n    }\n...\n}\n}\n</code></pre>\n\n<p>Maybe my code like this :</p>\n\n<pre><code>UserMapper user = getProxy(UserMapper.class);\nuser.hashCode()\n</code></pre>\n\n<p>If i use the method like <code>hashCode()</code> , it means i want to get the hashCode from the user, not user's Proxy.hashCode(), not invocationHandler.hashCode().And I really try to change the method like this,it  happens an error:</p>\n\n<pre><code>if (Object.class.equals(method.getDeclaringClass())) {\n        return method.invoke(proxy, params);\n}\n</code></pre>\n\n<p>But why use 'this'(is this means an object from ConnectionLogger ?)\nPlease tell me ,and sorry for my English ;)</p>\n"},{"tags":["java","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631021964,"creation_date":1631021964,"answer_id":69089288,"question_id":69087531,"body_markdown":"I have not the &quot;solution&quot;, but some hints, which are hopefully help you.\r\n\r\nTo your question: I don&#39;t know your setup, but if each tenant has his own database, then it is useful to have separated connection pools. \r\n\r\nBut the way you did it, is not the best. Your `int i = 0` field feels very hacky. Here is a other approach:\r\n\r\n```java\r\n// it is possible, that the concurrent-hash-map will solve your problem\r\nprivate Map&lt;String, DataSource&gt; targetDataSources = new ConcurrentHashMap&lt;&gt;();\r\n\r\nAbstractRoutingDataSource dataSource = new TenantAwareRoutingSource();\r\n\r\npublic DataSource insertTenants(String tenantName,\r\n                                String dataSource,\r\n                                String url, \r\n                                String user,\r\n                                String password) throws Exception {\r\n\r\n    var dataSource = buildDataSource(datasource, &quot;pool@&quot; + tenantName, url, user, password);\r\n    targetDataSources.put(tenantName, dataSource);\r\n\r\n    // I think that the problem might be here\r\n    // All docs I found say that the tenants-map should be inserted with all tenants\r\n    dataSource.setTargetDataSources(targetDataSources);\r\n\r\n\r\n    dataSource.afterPropertiesSet();\r\n    return dataSource;\r\n}\r\n\r\nprivate DataSource buildDataSource(String dataSource,\r\n                                   String poolName,\r\n                                   String url, \r\n                                   String user, \r\n                                   String password) {\r\n\r\n    HikariDataSource dataSource = new HikariDataSource();\r\n    dataSource.setInitializationFailTimeout(0);\r\n    dataSource.setMinimumIdle(1);\r\n    dataSource.setPoolName(poolName);\r\n    dataSource.setMaximumPoolSize(1);\r\n    dataSource.setIdleTimeout(300000);\r\n    dataSource.setMaxLifetime(30000);\r\n    dataSource.setConnectionTimeout(60000);\r\n    dataSource.setDataSourceClassName(dataSource);\r\n    dataSource.addDataSourceProperty(&quot;url&quot;, url);\r\n    dataSource.addDataSourceProperty(&quot;user&quot;, user);\r\n    dataSource.addDataSourceProperty(&quot;password&quot;, password);\r\n    \r\n    return dataSource;\r\n}\r\n```\r\n\r\nMaybe it helps, when you orientate at a example like this: https://www.bytefish.de/blog/spring_boot_multitenancy.html\r\n","title":"HikariCP Connection pooling in multi tenant application","body":"<p>I have not the &quot;solution&quot;, but some hints, which are hopefully help you.</p>\n<p>To your question: I don't know your setup, but if each tenant has his own database, then it is useful to have separated connection pools.</p>\n<p>But the way you did it, is not the best. Your <code>int i = 0</code> field feels very hacky. Here is a other approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// it is possible, that the concurrent-hash-map will solve your problem\nprivate Map&lt;String, DataSource&gt; targetDataSources = new ConcurrentHashMap&lt;&gt;();\n\nAbstractRoutingDataSource dataSource = new TenantAwareRoutingSource();\n\npublic DataSource insertTenants(String tenantName,\n                                String dataSource,\n                                String url, \n                                String user,\n                                String password) throws Exception {\n\n    var dataSource = buildDataSource(datasource, &quot;pool@&quot; + tenantName, url, user, password);\n    targetDataSources.put(tenantName, dataSource);\n\n    // I think that the problem might be here\n    // All docs I found say that the tenants-map should be inserted with all tenants\n    dataSource.setTargetDataSources(targetDataSources);\n\n\n    dataSource.afterPropertiesSet();\n    return dataSource;\n}\n\nprivate DataSource buildDataSource(String dataSource,\n                                   String poolName,\n                                   String url, \n                                   String user, \n                                   String password) {\n\n    HikariDataSource dataSource = new HikariDataSource();\n    dataSource.setInitializationFailTimeout(0);\n    dataSource.setMinimumIdle(1);\n    dataSource.setPoolName(poolName);\n    dataSource.setMaximumPoolSize(1);\n    dataSource.setIdleTimeout(300000);\n    dataSource.setMaxLifetime(30000);\n    dataSource.setConnectionTimeout(60000);\n    dataSource.setDataSourceClassName(dataSource);\n    dataSource.addDataSourceProperty(&quot;url&quot;, url);\n    dataSource.addDataSourceProperty(&quot;user&quot;, user);\n    dataSource.addDataSourceProperty(&quot;password&quot;, password);\n    \n    return dataSource;\n}\n</code></pre>\n<p>Maybe it helps, when you orientate at a example like this: <a href=\"https://www.bytefish.de/blog/spring_boot_multitenancy.html\" rel=\"nofollow noreferrer\">https://www.bytefish.de/blog/spring_boot_multitenancy.html</a></p>\n"},{"tags":[],"owner":{"account_id":10994010,"reputation":167,"user_id":8076881,"display_name":"koushick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646983732,"creation_date":1646855910,"answer_id":71415324,"question_id":69087531,"body_markdown":"You will need to create HikariConfig object with connection config details and pass that information when you create HikariDatasource.\r\n\r\nIn the HikariDataconfig section try adding the url, username and password using HikariConfig&#39;s set methods instead of addDataSourceProperty()\r\n\r\nThis worked for me and was able to create separate pools for each tenant.\r\n\r\n    private DataSource buildDataSource(String dataSource,\r\n                                   String poolName,\r\n                                   String url, \r\n                                   String user, \r\n                                   String password) {\r\n\r\n               HikariConfig hikariConfig = new HikariConfig();               \r\n               hikariConfig.setInitializationFailTimeout(0);\r\n               hikariConfig.setMinimumIdle(1);\r\n               hikariConfig.setPoolName(poolName);\r\n               hikariConfig.setMaximumPoolSize(1);\r\n               hikariConfig.setIdleTimeout(300000);\r\n               hikariConfig.setMaxLifetime(30000);\r\n               hikariConfig.setConnectionTimeout(60000);\r\n               hikariConfig.setDataSourceClassName(dataSource);\r\n               hikariConfig.setJdbcUrl(url);\r\n  \t           hikariConfig.setUsername(user);\r\n               hikariConfig.setPassword(password);    \r\n               HikariDataSource dataSource = new HikariDataSource(hikariConfig);\r\n               return dataSource;\r\n    }\r\n","title":"HikariCP Connection pooling in multi tenant application","body":"<p>You will need to create HikariConfig object with connection config details and pass that information when you create HikariDatasource.</p>\n<p>In the HikariDataconfig section try adding the url, username and password using HikariConfig's set methods instead of addDataSourceProperty()</p>\n<p>This worked for me and was able to create separate pools for each tenant.</p>\n<pre><code>private DataSource buildDataSource(String dataSource,\n                               String poolName,\n                               String url, \n                               String user, \n                               String password) {\n\n           HikariConfig hikariConfig = new HikariConfig();               \n           hikariConfig.setInitializationFailTimeout(0);\n           hikariConfig.setMinimumIdle(1);\n           hikariConfig.setPoolName(poolName);\n           hikariConfig.setMaximumPoolSize(1);\n           hikariConfig.setIdleTimeout(300000);\n           hikariConfig.setMaxLifetime(30000);\n           hikariConfig.setConnectionTimeout(60000);\n           hikariConfig.setDataSourceClassName(dataSource);\n           hikariConfig.setJdbcUrl(url);\n           hikariConfig.setUsername(user);\n           hikariConfig.setPassword(password);    \n           HikariDataSource dataSource = new HikariDataSource(hikariConfig);\n           return dataSource;\n}\n</code></pre>\n"}],"owner":{"account_id":21111843,"reputation":125,"user_id":15519638,"display_name":"vivek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646983732,"creation_date":1631014509,"question_id":69087531,"body_markdown":"I&#39;m using HikariCP in my multi-tenant application:-\r\n\r\n``` java\r\nprivate Map&lt;Object, Object&gt; targetDataSources = new HashMap&lt;&gt;();\r\nAbstractRoutingDataSource dataSource = new TenantAwareRoutingSource();\r\n\r\npublic Object insertTenants(String tenantName, String dataSource,String url, String user, String password) throws Exception {\r\n    targetDataSources.put(tenantName, buildDataSource(dataSource,url,user,password));\r\n    dataSource.setTargetDataSources(targetDataSources);\r\n    dataSource.afterPropertiesSet();\r\n    return dataSource;\r\n}\r\n\r\nint i = 0;\r\nprivate DataSource buildDataSource(String dataSource, String url, String user, String password) {\r\n    HikariDataSource dataSource = new HikariDataSource();\r\n    dataSource.setInitializationFailTimeout(0);\r\n    dataSource.setMinimumIdle(1);\r\n    dataSource.setPoolName(&quot;pool -&gt;&gt;  &quot; + i);\r\n    dataSource.setMaximumPoolSize(1);\r\n    dataSource.setIdleTimeout(300000);\r\n    dataSource.setMaxLifetime(30000);\r\n    dataSource.setConnectionTimeout(60000);\r\n    dataSource.setDataSourceClassName(dataSource);\r\n    dataSource.addDataSourceProperty(&quot;url&quot;, url);\r\n    dataSource.addDataSourceProperty(&quot;user&quot;, user);\r\n    dataSource.addDataSourceProperty(&quot;password&quot;, password);\r\n    i++;\r\n    return dataSource;\r\n}\r\n```\r\nthis above code allows to create a data source at Application run time.\r\n\r\nFor each data source I&#39;m creating new pool name but in debug mode I&#39;m able to see only first pool(i,e pool -&gt;&gt; 1)\r\n\r\n```\r\n2021-09-07 16:32:39.580 DEBUG 13360 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : pool -&gt;&gt;  1 - Added connection org.postgresql.jdbc.PgConnection@50c0f9ec\r\n2021-09-07 16:32:39.580 DEBUG 13360 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : pool -&gt;&gt;  1 - After adding stats (total=5, active=0, idle=5, waiting=0)\r\n2\r\n```\r\n\r\nwhen I insert new tenant and When I try to access new tanant db, I&#39;m able to access it  but I&#39;m not able to see that pool name(i,e pool -&gt;&gt; 2) in the debug mood still display the pool -&gt;&gt; 1 in  the \r\n\r\nHow to see others pool details in the debugger.\r\n\r\nAny suggestions would be helpful.\r\n\r\nIs creating a new pool for each tenant is good idea?","title":"HikariCP Connection pooling in multi tenant application","body":"<p>I'm using HikariCP in my multi-tenant application:-</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map&lt;Object, Object&gt; targetDataSources = new HashMap&lt;&gt;();\nAbstractRoutingDataSource dataSource = new TenantAwareRoutingSource();\n\npublic Object insertTenants(String tenantName, String dataSource,String url, String user, String password) throws Exception {\n    targetDataSources.put(tenantName, buildDataSource(dataSource,url,user,password));\n    dataSource.setTargetDataSources(targetDataSources);\n    dataSource.afterPropertiesSet();\n    return dataSource;\n}\n\nint i = 0;\nprivate DataSource buildDataSource(String dataSource, String url, String user, String password) {\n    HikariDataSource dataSource = new HikariDataSource();\n    dataSource.setInitializationFailTimeout(0);\n    dataSource.setMinimumIdle(1);\n    dataSource.setPoolName(&quot;pool -&gt;&gt;  &quot; + i);\n    dataSource.setMaximumPoolSize(1);\n    dataSource.setIdleTimeout(300000);\n    dataSource.setMaxLifetime(30000);\n    dataSource.setConnectionTimeout(60000);\n    dataSource.setDataSourceClassName(dataSource);\n    dataSource.addDataSourceProperty(&quot;url&quot;, url);\n    dataSource.addDataSourceProperty(&quot;user&quot;, user);\n    dataSource.addDataSourceProperty(&quot;password&quot;, password);\n    i++;\n    return dataSource;\n}\n</code></pre>\n<p>this above code allows to create a data source at Application run time.</p>\n<p>For each data source I'm creating new pool name but in debug mode I'm able to see only first pool(i,e pool -&gt;&gt; 1)</p>\n<pre><code>2021-09-07 16:32:39.580 DEBUG 13360 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : pool -&gt;&gt;  1 - Added connection org.postgresql.jdbc.PgConnection@50c0f9ec\n2021-09-07 16:32:39.580 DEBUG 13360 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool        : pool -&gt;&gt;  1 - After adding stats (total=5, active=0, idle=5, waiting=0)\n2\n</code></pre>\n<p>when I insert new tenant and When I try to access new tanant db, I'm able to access it  but I'm not able to see that pool name(i,e pool -&gt;&gt; 2) in the debug mood still display the pool -&gt;&gt; 1 in  the</p>\n<p>How to see others pool details in the debugger.</p>\n<p>Any suggestions would be helpful.</p>\n<p>Is creating a new pool for each tenant is good idea?</p>\n"},{"tags":["java","eclipse","rest","jersey","postgresql-9.1"],"comments":[{"owner":{"account_id":434677,"reputation":677,"user_id":820800,"accept_rate":61,"display_name":"Ravi Chandra"},"score":0,"creation_date":1499946441,"post_id":45079691,"comment_id":77131650,"body_markdown":"Can you include your feedback table schema in your question?","body":"Can you include your feedback table schema in your question?"},{"owner":{"display_name":"user180100"},"score":1,"creation_date":1499946461,"post_id":45079691,"comment_id":77131662,"body_markdown":"A space is missing after the column names","body":"A space is missing after the column names"},{"owner":{"account_id":434677,"reputation":677,"user_id":820800,"accept_rate":61,"display_name":"Ravi Chandra"},"score":1,"creation_date":1499946537,"post_id":45079691,"comment_id":77131709,"body_markdown":"change &quot;from feedback &quot; to &quot; from feedback &quot;","body":"change &quot;from feedback &quot; to &quot; from feedback &quot;"},{"owner":{"account_id":9597750,"reputation":111,"user_id":7126360,"display_name":"Anshu Ashish"},"score":0,"creation_date":1499946909,"post_id":45079691,"comment_id":77131981,"body_markdown":"@RaviChandra thanks. but after removing space i am getting still same error.","body":"@RaviChandra thanks. but after removing space i am getting still same error."},{"owner":{"account_id":9597750,"reputation":111,"user_id":7126360,"display_name":"Anshu Ashish"},"score":0,"creation_date":1499946916,"post_id":45079691,"comment_id":77131988,"body_markdown":"org.postgresql.util.PSQLException: ERROR: column &quot;feedbackid&quot; does not exist\n  Hint: Perhaps you meant to reference the column &quot;feedback.feedbackId&quot;.\n  Position: 8","body":"org.postgresql.util.PSQLException: ERROR: column &quot;feedbackid&quot; does not exist   Hint: Perhaps you meant to reference the column &quot;feedback.feedbackId&quot;.   Position: 8"}],"answers":[{"tags":[],"owner":{"account_id":434677,"reputation":677,"user_id":820800,"accept_rate":61,"display_name":"Ravi Chandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499947208,"creation_date":1499947208,"answer_id":45079998,"question_id":45079691,"body_markdown":"This question might help you. Looks like Postgres is case senstive towards column names. You might need to include field name in quotes. https://stackoverflow.com/questions/20878932/are-postgresql-column-names-case-sensitive","title":"PSQLException: ERROR: column does not exist Position: 8","body":"<p>This question might help you. Looks like Postgres is case senstive towards column names. You might need to include field name in quotes. <a href=\"https://stackoverflow.com/questions/20878932/are-postgresql-column-names-case-sensitive\">Are PostgreSQL column names case-sensitive?</a></p>\n"},{"tags":[],"owner":{"account_id":14456773,"reputation":440,"user_id":10442757,"display_name":"Raj Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577359849,"creation_date":1577359849,"answer_id":59487816,"question_id":45079691,"body_markdown":"Please Try to use:\r\n@GeneratedValue(strategy = GenerationType.IDENTITY) \r\nin your POJO class Id Field.\r\nThis thing solved my error.","title":"PSQLException: ERROR: column does not exist Position: 8","body":"<p>Please Try to use:\n@GeneratedValue(strategy = GenerationType.IDENTITY) \nin your POJO class Id Field.\nThis thing solved my error.</p>\n"},{"tags":[],"owner":{"account_id":22375247,"reputation":21,"user_id":16589625,"display_name":"Sujay Sathya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646983626,"creation_date":1646719957,"answer_id":71390731,"question_id":45079691,"body_markdown":"sometimes occurs when you use double quotes instead of single quotes for strings\r\nreplace where `user_id=&quot;random_id&quot;` with where `user_id=&#39;random_id&#39;`","title":"PSQLException: ERROR: column does not exist Position: 8","body":"<p>sometimes occurs when you use double quotes instead of single quotes for strings\nreplace where <code>user_id=&quot;random_id&quot;</code> with where <code>user_id='random_id'</code></p>\n"}],"owner":{"account_id":9597750,"reputation":111,"user_id":7126360,"display_name":"Anshu Ashish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646983626,"creation_date":1499946363,"question_id":45079691,"body_markdown":"&gt;org.postgresql.util.PSQLException: ERROR: column &quot;feedbackid&quot; does not exist\r\nPosition: 8\r\n\r\nI am getting this error but unable to understand what the reason behind this.\r\nIt shows:-\r\n**\r\n\r\n&gt; org.postgresql.util.PSQLException: ERROR: column &quot;feedbackid&quot; does not\r\n&gt; exist   Hint: Perhaps you meant to reference the column\r\n&gt; &quot;feedback.feedbackId&quot;.   Position: 8\r\n\r\n**\r\n \r\n\r\nDatabase table in postgres:\r\n\r\n    create table `company`.`feedback` (\r\n  `feedbackId` int(10) NOT NULL,\r\n  `feedbackActionId` int(12) NOT NULL,\r\n  `description` varchar(200) DEFAULT NULL,\r\n  `feedbackText` varchar(2000) DEFAULT NULL,\r\n  `email` varchar(100) NOT NULL,\r\n  `createdDate` date NOT NULL\r\n);\r\n\r\n![database table in postgres][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NBCKx.jpg\r\n\r\n    public Feedback getFeedbackById(int id) throws SQLException, ClassNotFoundException {\r\n\t\tconn = DBConnection.setDBConnection();\r\n\t\tString sqlQuery = &quot;select feedbackId, feedbackActionId, description, feedbackText, email, createdDate&quot; +\r\n\t\t                       &quot;from feedback &quot; + \r\n\t\t\t\t               &quot; where feedbackId = &quot; + id ;\r\n\t\tDBConnection dbConn = new DBConnection();\r\n\t\tResultSet resultSet = dbConn.getResultSet(sqlQuery, conn);\r\n\t\tint feedbackId = resultSet.getInt(&quot;feedbackId&quot;);\r\n\t\tint feedbackActionId = resultSet.getInt(&quot;feedbackActionId&quot;);\r\n\t\tString description = resultSet.getString(&quot;description&quot;);\r\n\t\tString feedbackText = resultSet.getString(&quot;feedbackText&quot;);\r\n\t\tString email = resultSet.getString(&quot;email&quot;);\r\n\t\tDate createdDate = resultSet.getDate(&quot;createdDate&quot;);\r\n\t\tfeedback = new Feedback(feedbackId, feedbackActionId, description, feedbackText, email, createdDate);\r\n\t\t\r\n\t\tresultSet.close();\r\n\r\n\t\treturn feedback;\r\n\t}\r\n\r\nThanks in advance.","title":"PSQLException: ERROR: column does not exist Position: 8","body":"<blockquote>\n  <p>org.postgresql.util.PSQLException: ERROR: column \"feedbackid\" does not exist\n  Position: 8</p>\n</blockquote>\n\n<p>I am getting this error but unable to understand what the reason behind this.\nIt shows:-\n**</p>\n\n<blockquote>\n  <p>org.postgresql.util.PSQLException: ERROR: column \"feedbackid\" does not\n  exist   Hint: Perhaps you meant to reference the column\n  \"feedback.feedbackId\".   Position: 8</p>\n</blockquote>\n\n<p>**</p>\n\n<p>Database table in postgres:</p>\n\n<pre><code>create table `company`.`feedback` (\n</code></pre>\n\n<p><code>feedbackId</code> int(10) NOT NULL,\n  <code>feedbackActionId</code> int(12) NOT NULL,\n  <code>description</code> varchar(200) DEFAULT NULL,\n  <code>feedbackText</code> varchar(2000) DEFAULT NULL,\n  <code>email</code> varchar(100) NOT NULL,\n  <code>createdDate</code> date NOT NULL\n);</p>\n\n<p><img src=\"https://i.stack.imgur.com/NBCKx.jpg\" alt=\"database table in postgres\"> </p>\n\n<pre><code>public Feedback getFeedbackById(int id) throws SQLException, ClassNotFoundException {\n    conn = DBConnection.setDBConnection();\n    String sqlQuery = \"select feedbackId, feedbackActionId, description, feedbackText, email, createdDate\" +\n                           \"from feedback \" + \n                           \" where feedbackId = \" + id ;\n    DBConnection dbConn = new DBConnection();\n    ResultSet resultSet = dbConn.getResultSet(sqlQuery, conn);\n    int feedbackId = resultSet.getInt(\"feedbackId\");\n    int feedbackActionId = resultSet.getInt(\"feedbackActionId\");\n    String description = resultSet.getString(\"description\");\n    String feedbackText = resultSet.getString(\"feedbackText\");\n    String email = resultSet.getString(\"email\");\n    Date createdDate = resultSet.getDate(\"createdDate\");\n    feedback = new Feedback(feedbackId, feedbackActionId, description, feedbackText, email, createdDate);\n\n    resultSet.close();\n\n    return feedback;\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","jaxb","soapui"],"answers":[{"tags":[],"owner":{"account_id":11765289,"reputation":1376,"user_id":8633900,"display_name":"Chris Adams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646982991,"creation_date":1646982991,"answer_id":71434895,"question_id":71429638,"body_markdown":"When you say failing, is it failing an assertion you have against the test step because of the namespace?  If so, there is a checkbox in the assertion window named something like &quot;Ignore Namespace Prefixes?&quot;, which does exactly that.","title":"Java - How to get rid of namespaces within Soap Requests (ns2)","body":"<p>When you say failing, is it failing an assertion you have against the test step because of the namespace?  If so, there is a checkbox in the assertion window named something like &quot;Ignore Namespace Prefixes?&quot;, which does exactly that.</p>\n"}],"owner":{"account_id":10549239,"reputation":11,"user_id":7772405,"display_name":"Rohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646982991,"creation_date":1646939866,"question_id":71429638,"body_markdown":"I am using JAXB to print out the XML string that corresponds to the Soap UI request that my code is generating. For whatever reason, JAXB is automatically placing &quot;ns2&quot; namespaces in the opening and closing tags of my generated request, which consequently leads to a SoapFault error.\r\n\r\nFor context this is how my generated request looks like:\r\n\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:urn=&quot;urn:com.unsolicited.notifications&quot;&gt;\r\n   &lt;soapenv:Header/&gt;\r\n   &lt;soapenv:Body&gt;\r\n      &lt;urn:sendUnsolicitedNotification&gt;\r\n         &lt;ns2:UnsolicitedNotificationRequest xmlns:ns2=&quot;urn:com.unsolicited.notifications.bo&quot;&gt;\r\n            &lt;otherInfo&gt;\r\n               &lt;key&gt;clientEmail&lt;/key&gt;\r\n               &lt;value&gt;xx@gmail.com&lt;/value&gt;\r\n            &lt;/otherInfo&gt;\r\n            &lt;otherInfo&gt;\r\n               &lt;key&gt;emailBody&lt;/key&gt;\r\n               &lt;value&gt;This is my email body&lt;/value&gt;\r\n            &lt;/otherInfo&gt;\r\n         &lt;/ns2:UnsolicitedNotificationRequest xmlns:ns2=&quot;urn:com.unsolicited.notifications.bo&quot;&gt;\r\n      &lt;/urn:sendUnsolicitedNotification&gt;\r\n   &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\nAs you can see the opening and closing tags for UnsolicitedNotificationRequest has ns2 namespaces which I would like to get rid of.","title":"Java - How to get rid of namespaces within Soap Requests (ns2)","body":"<p>I am using JAXB to print out the XML string that corresponds to the Soap UI request that my code is generating. For whatever reason, JAXB is automatically placing &quot;ns2&quot; namespaces in the opening and closing tags of my generated request, which consequently leads to a SoapFault error.</p>\n<p>For context this is how my generated request looks like:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:urn=&quot;urn:com.unsolicited.notifications&quot;&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;urn:sendUnsolicitedNotification&gt;\n         &lt;ns2:UnsolicitedNotificationRequest xmlns:ns2=&quot;urn:com.unsolicited.notifications.bo&quot;&gt;\n            &lt;otherInfo&gt;\n               &lt;key&gt;clientEmail&lt;/key&gt;\n               &lt;value&gt;xx@gmail.com&lt;/value&gt;\n            &lt;/otherInfo&gt;\n            &lt;otherInfo&gt;\n               &lt;key&gt;emailBody&lt;/key&gt;\n               &lt;value&gt;This is my email body&lt;/value&gt;\n            &lt;/otherInfo&gt;\n         &lt;/ns2:UnsolicitedNotificationRequest xmlns:ns2=&quot;urn:com.unsolicited.notifications.bo&quot;&gt;\n      &lt;/urn:sendUnsolicitedNotification&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>As you can see the opening and closing tags for UnsolicitedNotificationRequest has ns2 namespaces which I would like to get rid of.</p>\n"},{"tags":["java","math"],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1301147883,"creation_date":1301146750,"answer_id":5442662,"question_id":5442640,"body_markdown":"Does [Apache Commons Math][1] suit you?\r\n\r\n\r\n  [1]: http://commons.apache.org/math/userguide/fraction.html","title":"Is there a commonly used rational numbers library in Java?","body":"<p>Does <a href=\"http://commons.apache.org/math/userguide/fraction.html\">Apache Commons Math</a> suit you?</p>\n"},{"tags":[],"owner":{"account_id":226629,"reputation":8753,"user_id":487781,"display_name":"hardmath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301180391,"creation_date":1301180391,"answer_id":5445928,"question_id":5442640,"body_markdown":"I&#39;m not sure how commonly used it is, but the apfloat packages (Java and C++) contain [a class for rational arithmetic](http://www.apfloat.org/apfloat_java/tutorial.html#rational).\r\n","title":"Is there a commonly used rational numbers library in Java?","body":"<p>I'm not sure how commonly used it is, but the apfloat packages (Java and C++) contain <a href=\"http://www.apfloat.org/apfloat_java/tutorial.html#rational\" rel=\"nofollow\">a class for rational arithmetic</a>.</p>\n"},{"tags":[],"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1301183187,"creation_date":1301183187,"answer_id":5446205,"question_id":5442640,"body_markdown":"The Apfloat library has lots of great features, performance, accuracy and so on. Its definitely a better BigDecimal which to be fair works but is quite simple and offers little functionality.\r\n\r\nhttp://www.apfloat.org/apfloat_java/\r\n\r\nContents:\r\n\r\nClasspath setting\r\nFirst example\r\nConstructing Apfloats\r\nDouble and float constructor caveats\r\nApfloats are immutable\r\nPrecision\r\nOutput\r\nAdvanced mathematical functions\r\nIntegers\r\nComplex numbers\r\nRational numbers\r\nUsing some other radix than 10\r\nEquality and comparison\r\nFormatting","title":"Is there a commonly used rational numbers library in Java?","body":"<p>The Apfloat library has lots of great features, performance, accuracy and so on. Its definitely a better BigDecimal which to be fair works but is quite simple and offers little functionality.</p>\n\n<p><a href=\"http://www.apfloat.org/apfloat_java/\" rel=\"nofollow\">http://www.apfloat.org/apfloat_java/</a></p>\n\n<p>Contents:</p>\n\n<p>Classpath setting\nFirst example\nConstructing Apfloats\nDouble and float constructor caveats\nApfloats are immutable\nPrecision\nOutput\nAdvanced mathematical functions\nIntegers\nComplex numbers\nRational numbers\nUsing some other radix than 10\nEquality and comparison\nFormatting</p>\n"},{"tags":[],"owner":{"account_id":445038,"reputation":622,"user_id":837222,"display_name":"Suat KARAKUSOGLU"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592686679,"creation_date":1327606833,"answer_id":9024187,"question_id":5442640,"body_markdown":"*Edit from Future: Please use Apache Commons or any other supported library. This was just a sample demonstration.*\r\n\r\nI implemented a small class that can be used for that purposes, maybe it can be useful for you as well, use with caution.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class RationalNumber {\r\n    \r\n        /**\r\n         *\r\n         * @author Suat KARAKUSOGLU\r\n         * @email  suatkarakusoglu@gmail.com\r\n         * This class has 2 kind of constructors\r\n         * 1. is RationalNumber a=new RationalNumber(&quot;3.3&quot;);\r\n         *       RationalNumber a=new RationalNumber(&quot;-3.3&quot;);\r\n         * With this constructor one can enter the decimal number and also specify whether negative or not\r\n         *\r\n         * 2. is RationalNumber a=new RationalNumber(3,5);\r\n         * With this constructor the first value is nominator and second one is denominator.\r\n         *\r\n         * The advantage side of this class is, it prevents the fractional errors while dividing\r\n         * RationalNumber keeps all denominator and nominator values as it is and when the real value is\r\n         * needed, the calculation occurs at that time.\r\n         *\r\n         * Supports multiply,divide,add,subtract operations on RationalNumber classes.\r\n         *\r\n         */\r\n    \r\n    \r\n        /*\r\n         * Simple Usage:\r\n         *\r\n         * RationalNumber a=new RationalNumber(&quot;3.3&quot;);\r\n         * RationalNumber b=new RationalNumber(&quot;4.5&quot;);\r\n         * System.out.println(&quot;a =&quot;+a.getStringValue());\r\n         * System.out.println(&quot;b =&quot;+b.getStringValue());\r\n         * System.out.println(&quot;a-b =&quot;+a.subtract(b).getStringValue());\r\n         * System.out.println(&quot;a =&quot;+a.getStringValue());\r\n         * System.out.println(&quot;b =&quot;+b.getStringValue());\r\n         * RationalNumber k=a.divide(b);\r\n         * System.out.println(&quot;a/b=&quot;+k.getStringValue());\r\n         * System.out.println(&quot;a/b=&quot;+k.getDoubleValue());\r\n         *\r\n         * System out results:\r\n         *\r\n         * a =33/10\r\n         * b =9/2\r\n         * a-b =-6/5\r\n         * a =33/10\r\n         * b =9/2\r\n         * a/b=11/15\r\n         * a/b=0.7333333333333333\r\n         *\r\n         */\r\n    \r\n        public ArrayList&lt;Long&gt; nominators = new ArrayList&lt;Long&gt;();\r\n        public ArrayList&lt;Long&gt; denominators = new ArrayList&lt;Long&gt;();\r\n    \r\n        public RationalNumber(String rationalNumberStringValue) {\r\n            this(parseRationalNumberStringValue(rationalNumberStringValue)[0],\r\n                    parseRationalNumberStringValue(rationalNumberStringValue)[1]);\r\n    \r\n        }\r\n    \r\n        private static Long[] parseRationalNumberStringValue(\r\n                String rationalNumberStringValue) {\r\n    \r\n            boolean positive = true;\r\n            if (rationalNumberStringValue.charAt(0) == &#39;-&#39;) {\r\n                positive = false;\r\n                rationalNumberStringValue = rationalNumberStringValue.substring(1);\r\n            }\r\n    \r\n            // 0. index is keeping nominator\r\n            // 1. index is keeping denominator\r\n            Long[] nominatorDenominator = new Long[2];\r\n            nominatorDenominator[0] = 1l;\r\n            nominatorDenominator[1] = 1l;\r\n    \r\n            String[] splittedNumberArr = rationalNumberStringValue.split(&quot;\\\\.&quot;);\r\n            String denominatorStr = splittedNumberArr[1];\r\n    \r\n            for (int i = 0; i &lt; denominatorStr.length(); i++) {\r\n                nominatorDenominator[1] *= 10;\r\n            }\r\n    \r\n            rationalNumberStringValue = removeCharAt(rationalNumberStringValue,\r\n                    rationalNumberStringValue.indexOf(&#39;.&#39;));\r\n            nominatorDenominator[0] = Long.valueOf(rationalNumberStringValue);\r\n            if (!positive) {\r\n                nominatorDenominator[0] *= -1;\r\n            }\r\n            return nominatorDenominator;\r\n    \r\n        }\r\n    \r\n        public static String removeCharAt(String s, int pos) {\r\n            return s.substring(0, pos) + s.substring(pos + 1);\r\n        }\r\n    \r\n        public RationalNumber(Integer nominator, Integer denominator) {\r\n    \r\n            this((long) nominator, (long) denominator);\r\n    \r\n        }\r\n    \r\n        public RationalNumber(Long nominator, Long denominator) {\r\n    \r\n            nominators.add(nominator);\r\n            denominators.add(denominator);\r\n            simplify();\r\n    \r\n        }\r\n    \r\n        public RationalNumber(ArrayList&lt;Long&gt; nominatorList,\r\n                ArrayList&lt;Long&gt; denominatorList) {\r\n    \r\n            nominators.addAll(nominatorList);\r\n            denominators.addAll(denominatorList);\r\n            simplify();\r\n    \r\n        }\r\n    \r\n        public String getStringValue() {\r\n            return getMultipliedValue(this.nominators) + &quot;/&quot;\r\n                    + getMultipliedValue(this.denominators);\r\n        }\r\n    \r\n        public double getDoubleValue() {\r\n            return (double) getMultipliedValue(this.nominators)\r\n                    / (double) getMultipliedValue(this.denominators);\r\n        }\r\n    \r\n        public RationalNumber multiply(RationalNumber rationalNumberToMultiply) {\r\n    \r\n            RationalNumber mulResult = new RationalNumber(\r\n                    rationalNumberToMultiply.nominators,\r\n                    rationalNumberToMultiply.denominators);\r\n            mulResult.nominators.addAll(this.nominators);\r\n            mulResult.denominators.addAll(this.denominators);\r\n    \r\n            return RationalNumber.simplifyRationalNumber(mulResult);\r\n        }\r\n    \r\n        public RationalNumber divide(RationalNumber rationalNumberToDivide) {\r\n    \r\n            RationalNumber divideResult = new RationalNumber(\r\n                    rationalNumberToDivide.nominators,\r\n                    rationalNumberToDivide.denominators);\r\n    \r\n            // division means multiplication with reverse values\r\n            ArrayList&lt;Long&gt; tempLongList = divideResult.nominators;\r\n            divideResult.nominators = divideResult.denominators;\r\n            divideResult.denominators = tempLongList;\r\n    \r\n            return this.multiply(divideResult);\r\n    \r\n        }\r\n    \r\n        public RationalNumber add(RationalNumber rationalNumberToAdd) {\r\n    \r\n            rationalNumberToAdd = RationalNumber\r\n                    .simplifyRationalNumber(rationalNumberToAdd);\r\n    \r\n            return new RationalNumber(\r\n                    (getMultipliedValue(this.nominators) * getMultipliedValue(rationalNumberToAdd.denominators))\r\n                            + (getMultipliedValue(this.denominators) * getMultipliedValue(rationalNumberToAdd.nominators)),\r\n                    (getMultipliedValue(this.denominators) * getMultipliedValue(rationalNumberToAdd.denominators)));\r\n    \r\n        }\r\n    \r\n        public RationalNumber subtract(RationalNumber rationalNumberToSubtract) {\r\n    \r\n            rationalNumberToSubtract = RationalNumber\r\n                    .simplifyRationalNumber(rationalNumberToSubtract);\r\n    \r\n            RationalNumber subtractTempRational = new RationalNumber(\r\n                    rationalNumberToSubtract.nominators,\r\n                    rationalNumberToSubtract.denominators);\r\n    \r\n            // Multiply one of its nominators negative value\r\n            subtractTempRational.nominators.set(0,\r\n                    (subtractTempRational.nominators.get(0) * -1));\r\n    \r\n            // add with its negative value\r\n            return this.add(subtractTempRational);\r\n    \r\n        }\r\n    \r\n        private long getMultipliedValue(ArrayList&lt;Long&gt; longList) {\r\n            Long mulResult = 1l;\r\n            for (Long tempLong : longList) {\r\n                mulResult *= tempLong;\r\n            }\r\n            return mulResult;\r\n        }\r\n    \r\n        // simplifies original rationalnumber\r\n        public void simplify() {\r\n            long tempGcd = 1;\r\n            long iValue = 1;\r\n            long jValue = 1;\r\n            for (int i = 0; i &lt; this.nominators.size(); i++) {\r\n                iValue = this.nominators.get(i);\r\n                for (int j = 0; j &lt; this.denominators.size(); j++) {\r\n                    jValue = this.denominators.get(j);\r\n                    tempGcd = gcd(iValue, jValue);\r\n                    this.nominators.set(i, iValue / tempGcd);\r\n                    this.denominators.set(j, jValue / tempGcd);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static RationalNumber simplifyRationalNumber(\r\n                RationalNumber rationalNumberToSimplify) {\r\n            long tempGcd = 1;\r\n            long iValue = 1;\r\n            long jValue = 1;\r\n            for (int i = 0; i &lt; rationalNumberToSimplify.nominators.size(); i++) {\r\n                for (int j = 0; j &lt; rationalNumberToSimplify.denominators.size(); j++) {\r\n                    iValue = rationalNumberToSimplify.nominators.get(i);\r\n                    jValue = rationalNumberToSimplify.denominators.get(j);\r\n                    tempGcd = gcd(iValue, jValue);\r\n                    rationalNumberToSimplify.nominators.set(i, iValue / tempGcd);\r\n                    rationalNumberToSimplify.denominators.set(j, jValue / tempGcd);\r\n                }\r\n            }\r\n            return rationalNumberToSimplify;\r\n        }\r\n    \r\n        // Euclidean algorithm to find greatest common divisor\r\n        public static long gcd(long a, long b) {\r\n    \r\n            a = Math.abs(a);\r\n            b = Math.abs(b);\r\n    \r\n            if (a &lt; b) {\r\n                long temp = a;\r\n                a = b;\r\n                b = temp;\r\n            }\r\n    \r\n            if (b == 0)\r\n                return a;\r\n            else\r\n                return gcd(b, a % b);\r\n        }\r\n    \r\n        public RationalNumber add(int integerToAdd) {\r\n    \r\n            RationalNumber tempRationalNumber=new RationalNumber(integerToAdd,1);\r\n            return this.add(tempRationalNumber);\r\n        }\r\n        public RationalNumber subtract(int integerToSubtract) {\r\n    \r\n            RationalNumber tempRationalNumber=new RationalNumber(integerToSubtract,1);\r\n            return this.subtract(tempRationalNumber);\r\n        }\r\n        public RationalNumber multiply(int integerToMultiply) {\r\n    \r\n            RationalNumber tempRationalNumber=new RationalNumber(integerToMultiply,1);\r\n            return this.multiply(tempRationalNumber);\r\n        }\r\n        public RationalNumber divide(int integerToDivide) {\r\n    \r\n            RationalNumber tempRationalNumber=new RationalNumber(integerToDivide,1);\r\n            return this.divide(tempRationalNumber);\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n","title":"Is there a commonly used rational numbers library in Java?","body":"<p><em>Edit from Future: Please use Apache Commons or any other supported library. This was just a sample demonstration.</em></p>\n<p>I implemented a small class that can be used for that purposes, maybe it can be useful for you as well, use with caution.</p>\n<pre><code>import java.util.ArrayList;\n\npublic class RationalNumber {\n\n    /**\n     *\n     * @author Suat KARAKUSOGLU\n     * @email  suatkarakusoglu@gmail.com\n     * This class has 2 kind of constructors\n     * 1. is RationalNumber a=new RationalNumber(&quot;3.3&quot;);\n     *       RationalNumber a=new RationalNumber(&quot;-3.3&quot;);\n     * With this constructor one can enter the decimal number and also specify whether negative or not\n     *\n     * 2. is RationalNumber a=new RationalNumber(3,5);\n     * With this constructor the first value is nominator and second one is denominator.\n     *\n     * The advantage side of this class is, it prevents the fractional errors while dividing\n     * RationalNumber keeps all denominator and nominator values as it is and when the real value is\n     * needed, the calculation occurs at that time.\n     *\n     * Supports multiply,divide,add,subtract operations on RationalNumber classes.\n     *\n     */\n\n\n    /*\n     * Simple Usage:\n     *\n     * RationalNumber a=new RationalNumber(&quot;3.3&quot;);\n     * RationalNumber b=new RationalNumber(&quot;4.5&quot;);\n     * System.out.println(&quot;a =&quot;+a.getStringValue());\n     * System.out.println(&quot;b =&quot;+b.getStringValue());\n     * System.out.println(&quot;a-b =&quot;+a.subtract(b).getStringValue());\n     * System.out.println(&quot;a =&quot;+a.getStringValue());\n     * System.out.println(&quot;b =&quot;+b.getStringValue());\n     * RationalNumber k=a.divide(b);\n     * System.out.println(&quot;a/b=&quot;+k.getStringValue());\n     * System.out.println(&quot;a/b=&quot;+k.getDoubleValue());\n     *\n     * System out results:\n     *\n     * a =33/10\n     * b =9/2\n     * a-b =-6/5\n     * a =33/10\n     * b =9/2\n     * a/b=11/15\n     * a/b=0.7333333333333333\n     *\n     */\n\n    public ArrayList&lt;Long&gt; nominators = new ArrayList&lt;Long&gt;();\n    public ArrayList&lt;Long&gt; denominators = new ArrayList&lt;Long&gt;();\n\n    public RationalNumber(String rationalNumberStringValue) {\n        this(parseRationalNumberStringValue(rationalNumberStringValue)[0],\n                parseRationalNumberStringValue(rationalNumberStringValue)[1]);\n\n    }\n\n    private static Long[] parseRationalNumberStringValue(\n            String rationalNumberStringValue) {\n\n        boolean positive = true;\n        if (rationalNumberStringValue.charAt(0) == '-') {\n            positive = false;\n            rationalNumberStringValue = rationalNumberStringValue.substring(1);\n        }\n\n        // 0. index is keeping nominator\n        // 1. index is keeping denominator\n        Long[] nominatorDenominator = new Long[2];\n        nominatorDenominator[0] = 1l;\n        nominatorDenominator[1] = 1l;\n\n        String[] splittedNumberArr = rationalNumberStringValue.split(&quot;\\\\.&quot;);\n        String denominatorStr = splittedNumberArr[1];\n\n        for (int i = 0; i &lt; denominatorStr.length(); i++) {\n            nominatorDenominator[1] *= 10;\n        }\n\n        rationalNumberStringValue = removeCharAt(rationalNumberStringValue,\n                rationalNumberStringValue.indexOf('.'));\n        nominatorDenominator[0] = Long.valueOf(rationalNumberStringValue);\n        if (!positive) {\n            nominatorDenominator[0] *= -1;\n        }\n        return nominatorDenominator;\n\n    }\n\n    public static String removeCharAt(String s, int pos) {\n        return s.substring(0, pos) + s.substring(pos + 1);\n    }\n\n    public RationalNumber(Integer nominator, Integer denominator) {\n\n        this((long) nominator, (long) denominator);\n\n    }\n\n    public RationalNumber(Long nominator, Long denominator) {\n\n        nominators.add(nominator);\n        denominators.add(denominator);\n        simplify();\n\n    }\n\n    public RationalNumber(ArrayList&lt;Long&gt; nominatorList,\n            ArrayList&lt;Long&gt; denominatorList) {\n\n        nominators.addAll(nominatorList);\n        denominators.addAll(denominatorList);\n        simplify();\n\n    }\n\n    public String getStringValue() {\n        return getMultipliedValue(this.nominators) + &quot;/&quot;\n                + getMultipliedValue(this.denominators);\n    }\n\n    public double getDoubleValue() {\n        return (double) getMultipliedValue(this.nominators)\n                / (double) getMultipliedValue(this.denominators);\n    }\n\n    public RationalNumber multiply(RationalNumber rationalNumberToMultiply) {\n\n        RationalNumber mulResult = new RationalNumber(\n                rationalNumberToMultiply.nominators,\n                rationalNumberToMultiply.denominators);\n        mulResult.nominators.addAll(this.nominators);\n        mulResult.denominators.addAll(this.denominators);\n\n        return RationalNumber.simplifyRationalNumber(mulResult);\n    }\n\n    public RationalNumber divide(RationalNumber rationalNumberToDivide) {\n\n        RationalNumber divideResult = new RationalNumber(\n                rationalNumberToDivide.nominators,\n                rationalNumberToDivide.denominators);\n\n        // division means multiplication with reverse values\n        ArrayList&lt;Long&gt; tempLongList = divideResult.nominators;\n        divideResult.nominators = divideResult.denominators;\n        divideResult.denominators = tempLongList;\n\n        return this.multiply(divideResult);\n\n    }\n\n    public RationalNumber add(RationalNumber rationalNumberToAdd) {\n\n        rationalNumberToAdd = RationalNumber\n                .simplifyRationalNumber(rationalNumberToAdd);\n\n        return new RationalNumber(\n                (getMultipliedValue(this.nominators) * getMultipliedValue(rationalNumberToAdd.denominators))\n                        + (getMultipliedValue(this.denominators) * getMultipliedValue(rationalNumberToAdd.nominators)),\n                (getMultipliedValue(this.denominators) * getMultipliedValue(rationalNumberToAdd.denominators)));\n\n    }\n\n    public RationalNumber subtract(RationalNumber rationalNumberToSubtract) {\n\n        rationalNumberToSubtract = RationalNumber\n                .simplifyRationalNumber(rationalNumberToSubtract);\n\n        RationalNumber subtractTempRational = new RationalNumber(\n                rationalNumberToSubtract.nominators,\n                rationalNumberToSubtract.denominators);\n\n        // Multiply one of its nominators negative value\n        subtractTempRational.nominators.set(0,\n                (subtractTempRational.nominators.get(0) * -1));\n\n        // add with its negative value\n        return this.add(subtractTempRational);\n\n    }\n\n    private long getMultipliedValue(ArrayList&lt;Long&gt; longList) {\n        Long mulResult = 1l;\n        for (Long tempLong : longList) {\n            mulResult *= tempLong;\n        }\n        return mulResult;\n    }\n\n    // simplifies original rationalnumber\n    public void simplify() {\n        long tempGcd = 1;\n        long iValue = 1;\n        long jValue = 1;\n        for (int i = 0; i &lt; this.nominators.size(); i++) {\n            iValue = this.nominators.get(i);\n            for (int j = 0; j &lt; this.denominators.size(); j++) {\n                jValue = this.denominators.get(j);\n                tempGcd = gcd(iValue, jValue);\n                this.nominators.set(i, iValue / tempGcd);\n                this.denominators.set(j, jValue / tempGcd);\n            }\n        }\n    }\n\n    public static RationalNumber simplifyRationalNumber(\n            RationalNumber rationalNumberToSimplify) {\n        long tempGcd = 1;\n        long iValue = 1;\n        long jValue = 1;\n        for (int i = 0; i &lt; rationalNumberToSimplify.nominators.size(); i++) {\n            for (int j = 0; j &lt; rationalNumberToSimplify.denominators.size(); j++) {\n                iValue = rationalNumberToSimplify.nominators.get(i);\n                jValue = rationalNumberToSimplify.denominators.get(j);\n                tempGcd = gcd(iValue, jValue);\n                rationalNumberToSimplify.nominators.set(i, iValue / tempGcd);\n                rationalNumberToSimplify.denominators.set(j, jValue / tempGcd);\n            }\n        }\n        return rationalNumberToSimplify;\n    }\n\n    // Euclidean algorithm to find greatest common divisor\n    public static long gcd(long a, long b) {\n\n        a = Math.abs(a);\n        b = Math.abs(b);\n\n        if (a &lt; b) {\n            long temp = a;\n            a = b;\n            b = temp;\n        }\n\n        if (b == 0)\n            return a;\n        else\n            return gcd(b, a % b);\n    }\n\n    public RationalNumber add(int integerToAdd) {\n\n        RationalNumber tempRationalNumber=new RationalNumber(integerToAdd,1);\n        return this.add(tempRationalNumber);\n    }\n    public RationalNumber subtract(int integerToSubtract) {\n\n        RationalNumber tempRationalNumber=new RationalNumber(integerToSubtract,1);\n        return this.subtract(tempRationalNumber);\n    }\n    public RationalNumber multiply(int integerToMultiply) {\n\n        RationalNumber tempRationalNumber=new RationalNumber(integerToMultiply,1);\n        return this.multiply(tempRationalNumber);\n    }\n    public RationalNumber divide(int integerToDivide) {\n\n        RationalNumber tempRationalNumber=new RationalNumber(integerToDivide,1);\n        return this.divide(tempRationalNumber);\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1603713413,"creation_date":1356297249,"answer_id":14014747,"question_id":5442640,"body_markdown":"The [`JScience`][1] library includes the class [`org.jscience.mathematics.number.Rational`][2]. In addition to the usual factories, accessors and operations, one can construct other useful entities, including `Polynomial&lt;Rational&gt;`, `Vector&lt;Rational&gt;` and `Matrix&lt;Rational&gt;`.\r\n\r\nAs an example, a function to obtain the lowest common denominator of a collection of fractions might look like this:\r\n\r\n    private static LargeInteger lcd(Collection&lt;Rational&gt; fractions) {\r\n        Rational sum = Rational.ZERO;\r\n        for (Rational rational : fractions) {\r\n            sum = sum.plus(rational);\r\n        }\r\n        return sum.getDivisor();\r\n    }\r\n\r\nThe following statement prints `6`:\r\n\r\n    System.out.println(lcd(Arrays.asList(\r\n        Rational.valueOf(1, 2), Rational.valueOf(1, 3))));\r\n\r\n  [1]: http://jscience.org/\r\n  [2]: http://jscience.org/api/org/jscience/mathematics/number/Rational.html","title":"Is there a commonly used rational numbers library in Java?","body":"<p>The <a href=\"http://jscience.org/\" rel=\"nofollow noreferrer\"><code>JScience</code></a> library includes the class <a href=\"http://jscience.org/api/org/jscience/mathematics/number/Rational.html\" rel=\"nofollow noreferrer\"><code>org.jscience.mathematics.number.Rational</code></a>. In addition to the usual factories, accessors and operations, one can construct other useful entities, including <code>Polynomial&lt;Rational&gt;</code>, <code>Vector&lt;Rational&gt;</code> and <code>Matrix&lt;Rational&gt;</code>.</p>\n<p>As an example, a function to obtain the lowest common denominator of a collection of fractions might look like this:</p>\n<pre><code>private static LargeInteger lcd(Collection&lt;Rational&gt; fractions) {\n    Rational sum = Rational.ZERO;\n    for (Rational rational : fractions) {\n        sum = sum.plus(rational);\n    }\n    return sum.getDivisor();\n}\n</code></pre>\n<p>The following statement prints <code>6</code>:</p>\n<pre><code>System.out.println(lcd(Arrays.asList(\n    Rational.valueOf(1, 2), Rational.valueOf(1, 3))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646982880,"creation_date":1646982880,"answer_id":71434872,"question_id":5442640,"body_markdown":"You may want to try [RationalJ](https://github.com/thomasschuerger/rationalj), which is a Java library for rational numbers.\r\n","title":"Is there a commonly used rational numbers library in Java?","body":"<p>You may want to try <a href=\"https://github.com/thomasschuerger/rationalj\" rel=\"nofollow noreferrer\">RationalJ</a>, which is a Java library for rational numbers.</p>\n"}],"owner":{"account_id":38358,"reputation":53281,"user_id":110028,"accept_rate":86,"display_name":"snakile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13779,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":14014747,"answer_count":6,"score":36,"last_activity_date":1646982880,"creation_date":1301146536,"question_id":5442640,"body_markdown":"I&#39;m looking for a Java library which represents fractions (rational numbers). For example, if I want to store the fraction `1/3` then it will not be saved as `0.33333` which will lose its accuracy.\r\n\r\nHere is some of the functionality I expect finding in such a library:\r\n\r\n - `getNumerator()`\r\n - `getDenominator()`\r\n - `add(Rational r1, Rational r2)`, `subtract(Rational r1, Rational r2)`, `multiply(Rational r1, Rational r2)`, `divide(Rational r1, Rational r2)`\r\n - `isProper()`\r\n - `getCommonDenominator(Collection&lt;Rational&gt; rationals)`\r\n - `getSimplified()`\r\n\r\nI can implement such a library by myself, though I was wondering whether something similar  already exists.\r\n\r\n**EDIT:** It would also be nice if the library implements (in addition to the above) some number theory algorithms, such as `getEgyptianFractionsSum()` etc.\r\n","title":"Is there a commonly used rational numbers library in Java?","body":"<p>I'm looking for a Java library which represents fractions (rational numbers). For example, if I want to store the fraction <code>1/3</code> then it will not be saved as <code>0.33333</code> which will lose its accuracy.</p>\n\n<p>Here is some of the functionality I expect finding in such a library:</p>\n\n<ul>\n<li><code>getNumerator()</code></li>\n<li><code>getDenominator()</code></li>\n<li><code>add(Rational r1, Rational r2)</code>, <code>subtract(Rational r1, Rational r2)</code>, <code>multiply(Rational r1, Rational r2)</code>, <code>divide(Rational r1, Rational r2)</code></li>\n<li><code>isProper()</code></li>\n<li><code>getCommonDenominator(Collection&lt;Rational&gt; rationals)</code></li>\n<li><code>getSimplified()</code></li>\n</ul>\n\n<p>I can implement such a library by myself, though I was wondering whether something similar  already exists.</p>\n\n<p><strong>EDIT:</strong> It would also be nice if the library implements (in addition to the above) some number theory algorithms, such as <code>getEgyptianFractionsSum()</code> etc.</p>\n"},{"tags":["java","spring","database","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24129251,"reputation":124,"user_id":18097074,"display_name":"Santil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646982740,"creation_date":1646982740,"answer_id":71434842,"question_id":71423615,"body_markdown":"Yes You can Add configuration Dynamically from the Client side. We can achieve this concept by spring-boot hibernate.\r\n\r\n--&gt; You have to create an class to Auto congifure the propertise.\r\n I am sharing my sample code to configure the propertise.\r\n\r\n   \r\n\r\n        package com.spring.hibernate.config;\r\n    \r\n    import java.util.Properties;\r\n    import javax.sql.DataSource;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.hibernate5.LocalSessionFactoryBean;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class Configurations {\r\n    \t\r\n    \t@Value(&quot;${db.url}&quot;)\r\n    \tprivate String URL;\r\n    \t\r\n    \t@Value(&quot;${db.username}&quot;)\r\n    \tprivate String USERNAME;\r\n    \t\r\n    \t@Value(&quot;${db.password}&quot;)\r\n    \tprivate String PASSWORD;\r\n    \t\r\n    \t@Value(&quot;${hibernate.hbm2ddl.auto}&quot;)\r\n    \tprivate String HBM2DDL;\r\n    \t\r\n    \t@Value(&quot;${hibernate.show_sql}&quot;)\r\n    \tprivate String SHOW_SQL;\r\n    \t\r\n    \t@Value(&quot;${hibernate.dialect}&quot;)\r\n    \tprivate String DIALECT;\r\n    \t\r\n    \t@Value(&quot;${spring.entitymanager.packagestoscan}&quot;)\r\n    \tprivate String packagesToscan;\r\n    \t\r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \t\tdataSource.setUrl(URL);\r\n    \t    dataSource.setUsername(USERNAME);\r\n    \t    dataSource.setPassword(PASSWORD);\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic LocalSessionFactoryBean sessionFactory() {\r\n    \t\tLocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n    \t\tsessionFactory.setDataSource(dataSource());\r\n    \t\tsessionFactory.setPackagesToScan(packagesToscan);\r\n    \t\tProperties hibernatePropertise = new Properties();\r\n    \t    hibernatePropertise.put(&quot;hibernate.dialect&quot;, DIALECT);\r\n    \t\thibernatePropertise.put(&quot;hibernate.hbm2ddl.auto&quot;, HBM2DDL);\r\n    \t\thibernatePropertise.put(&quot;hibernate.show_sql&quot;, SHOW_SQL);\r\n    \t\tsessionFactory.setHibernateProperties(hibernatePropertise);\r\n    \t\treturn sessionFactory;\r\n    \t}\r\n    }\r\n\r\n\r\nHave a configuration class in the above structure to configure the application Properties file.\r\nAnd have your application properties file as follow.\r\n\r\n    db.url: jdbc:mysql://localhost:3306/data_db\r\n    db.username: root\r\n    db.password: 8452\r\n    \r\n        hibernate.hbm2ddl.auto=update\r\n        hibernate.show_sql=true\r\n        hibernate.dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n        spring.entitymanager.packagestoscan: com.spring.hibernate\r\n\r\nUse the above sample code. Still any logics needed have a command for me...Thank You..\r\n\r\n","title":"How to provide DataSource properties in spring boot application after deployment of the application","body":"<p>Yes You can Add configuration Dynamically from the Client side. We can achieve this concept by spring-boot hibernate.</p>\n<p>--&gt; You have to create an class to Auto congifure the propertise.\nI am sharing my sample code to configure the propertise.</p>\n<pre><code>    package com.spring.hibernate.config;\n\nimport java.util.Properties;\nimport javax.sql.DataSource;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableTransactionManagement\npublic class Configurations {\n    \n    @Value(&quot;${db.url}&quot;)\n    private String URL;\n    \n    @Value(&quot;${db.username}&quot;)\n    private String USERNAME;\n    \n    @Value(&quot;${db.password}&quot;)\n    private String PASSWORD;\n    \n    @Value(&quot;${hibernate.hbm2ddl.auto}&quot;)\n    private String HBM2DDL;\n    \n    @Value(&quot;${hibernate.show_sql}&quot;)\n    private String SHOW_SQL;\n    \n    @Value(&quot;${hibernate.dialect}&quot;)\n    private String DIALECT;\n    \n    @Value(&quot;${spring.entitymanager.packagestoscan}&quot;)\n    private String packagesToscan;\n    \n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setUrl(URL);\n        dataSource.setUsername(USERNAME);\n        dataSource.setPassword(PASSWORD);\n        return dataSource;\n    }\n    \n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource());\n        sessionFactory.setPackagesToScan(packagesToscan);\n        Properties hibernatePropertise = new Properties();\n        hibernatePropertise.put(&quot;hibernate.dialect&quot;, DIALECT);\n        hibernatePropertise.put(&quot;hibernate.hbm2ddl.auto&quot;, HBM2DDL);\n        hibernatePropertise.put(&quot;hibernate.show_sql&quot;, SHOW_SQL);\n        sessionFactory.setHibernateProperties(hibernatePropertise);\n        return sessionFactory;\n    }\n}\n</code></pre>\n<p>Have a configuration class in the above structure to configure the application Properties file.\nAnd have your application properties file as follow.</p>\n<pre><code>db.url: jdbc:mysql://localhost:3306/data_db\ndb.username: root\ndb.password: 8452\n\n    hibernate.hbm2ddl.auto=update\n    hibernate.show_sql=true\n    hibernate.dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n    spring.entitymanager.packagestoscan: com.spring.hibernate\n</code></pre>\n<p>Use the above sample code. Still any logics needed have a command for me...Thank You..</p>\n"}],"owner":{"account_id":24514821,"reputation":1,"user_id":18428740,"display_name":"Gaurav Vaishnav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1962,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646982740,"creation_date":1646912740,"question_id":71423615,"body_markdown":"I am developing a server that is configured to a PostgreSQL database, I want that application takes data source properties ( username, password, port, hostname etc.) from the client specific to his database so how can I take input from the client and pass that configuration after deployment because I want to distribute only WAR file of the server ","title":"How to provide DataSource properties in spring boot application after deployment of the application","body":"<p>I am developing a server that is configured to a PostgreSQL database, I want that application takes data source properties ( username, password, port, hostname etc.) from the client specific to his database so how can I take input from the client and pass that configuration after deployment because I want to distribute only WAR file of the server</p>\n"},{"tags":["java","syntax","conditional-statements","block"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1646980438,"post_id":71434429,"comment_id":126262108,"body_markdown":"That doesn&#39;t execute a block statement.  Or any statement.","body":"That doesn&#39;t execute a block statement.  Or any statement."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1646980694,"post_id":71434429,"comment_id":126262167,"body_markdown":"@StephenC Yeah, but to be honest, I don&#39;t even know what that means, *&quot;Java Syntax that executes Block statements&quot;*. Does `if` &quot;execute&quot; a block statement? In that sense, `assert` seemed to be the only keyword not in the list that controls the flow of execution based on the evaluation of a conditional expression.","body":"@StephenC Yeah, but to be honest, I don&#39;t even know what that means, <i>&quot;Java Syntax that executes Block statements&quot;</i>. Does <code>if</code> &quot;execute&quot; a block statement? In that sense, <code>assert</code> seemed to be the only keyword not in the list that controls the flow of execution based on the evaluation of a conditional expression."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646980987,"post_id":71434429,"comment_id":126262238,"body_markdown":"I wasn&#39;t sure what the OP meant either, but I wasn&#39;t going to inquire ...","body":"I wasn&#39;t sure what the OP meant either, but I wasn&#39;t going to inquire ..."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646981591,"post_id":71434429,"comment_id":126262395,"body_markdown":"@RobbyCornelissen It seems perfectly clear to me. `if` and friends control a statement, and a statement can be a block. `assert` does not control a statement.","body":"@RobbyCornelissen It seems perfectly clear to me. <code>if</code> and friends control a statement, and a statement can be a block. <code>assert</code> does not control a statement."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1646981605,"post_id":71434429,"comment_id":126262397,"body_markdown":"@OP `foreach`, `switch`, and `try/catch` don&#39;t have a conditional expression. If you omit that requirement you&#39;ve left out `else`.","body":"@OP <code>foreach</code>, <code>switch</code>, and <code>try&#47;catch</code> don&#39;t have a conditional expression. If you omit that requirement you&#39;ve left out <code>else</code>."}],"owner":{"account_id":24523438,"reputation":83,"user_id":18436153,"display_name":"PositiveM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646982580,"creation_date":1646979987,"question_id":71434429,"body_markdown":"Are there any Java Syntax that executes Block statements through conditional expressions other than:\r\n\r\n    if\r\n    while\r\n    do/while\r\n    switch\r\n    for\r\n    foreach\r\n    try/catch\r\n\r\n?","title":"Java Syntax that executes Block statements through conditional expressions","body":"<p>Are there any Java Syntax that executes Block statements through conditional expressions other than:</p>\n<pre><code>if\nwhile\ndo/while\nswitch\nfor\nforeach\ntry/catch\n</code></pre>\n<p>?</p>\n"},{"tags":["java","database","hibernate","jpa","type-safety"],"answers":[{"tags":[],"owner":{"account_id":3681018,"reputation":9,"user_id":3065981,"display_name":"Burak &#199;aÄŸrÄ± AktaÅŸ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646937787,"creation_date":1646937329,"answer_id":71429147,"question_id":71428346,"body_markdown":"First, you need to annotate ProductId class with @Embeddable like this:\r\n\r\n    @Embeddable\r\n    public static class ProductId implements Serializable {\r\n        private Long id;\r\n        private String name;\r\n    }\r\nAnd, when you save entity, you need to create an instance of ProductId with unique parameters (in your case it is &quot;name&quot; field) as well.\r\n\r\nFor more information, I suggest you to have a look at [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-jpa-embedded-method-parameters","title":"Hibernate: EmbeddedId with auto increment","body":"<p>First, you need to annotate ProductId class with @Embeddable like this:</p>\n<pre><code>@Embeddable\npublic static class ProductId implements Serializable {\n    private Long id;\n    private String name;\n}\n</code></pre>\n<p>And, when you save entity, you need to create an instance of ProductId with unique parameters (in your case it is &quot;name&quot; field) as well.</p>\n<p>For more information, I suggest you to have a look at <a href=\"https://www.baeldung.com/spring-jpa-embedded-method-parameters\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646982364,"creation_date":1646933226,"question_id":71428346,"body_markdown":"Suppose that I have a simple Hibernate entity with auto-incremented id.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n}\r\n```\r\n\r\nIs it possible to declare `id` as a type-safe variable? I could apply `@EmbeddedId` like this.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n    @EmbeddedId\r\n    private ProductId id;\r\n\r\n    private String name;\r\n    \r\n    @Embeddable\r\n    public static class ProductId implements Serializable {\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        private Long id;\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt works with client-generated IDs, but not with database-generated ones.\r\n\r\nHas anyone solved similar problem? What are the possible approaches?","title":"Hibernate: EmbeddedId with auto increment","body":"<p>Suppose that I have a simple Hibernate entity with auto-incremented id.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long id;\n\n    private String name;\n}\n</code></pre>\n<p>Is it possible to declare <code>id</code> as a type-safe variable? I could apply <code>@EmbeddedId</code> like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class Product {\n    @EmbeddedId\n    private ProductId id;\n\n    private String name;\n    \n    @Embeddable\n    public static class ProductId implements Serializable {\n        @GeneratedValue(strategy = IDENTITY)\n        private Long id;\n\n        public Long getId() {\n            return id;\n        }\n    }\n}\n</code></pre>\n<p>It works with client-generated IDs, but not with database-generated ones.</p>\n<p>Has anyone solved similar problem? What are the possible approaches?</p>\n"},{"tags":["java","file","stream"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1511352965,"post_id":47434384,"comment_id":81823086,"body_markdown":"If the disk is physically disconnected oneself no longer can truncate the file. Hence one would need to write a `XXX.YYY.part` file and on successful completion remove any old XXX.YYY and do a rename.","body":"If the disk is physically disconnected oneself no longer can truncate the file. Hence one would need to write a <code>XXX.YYY.part</code> file and on successful completion remove any old XXX.YYY and do a rename."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1646982156,"creation_date":1511352782,"answer_id":47434445,"question_id":47434384,"body_markdown":"Atomic writes to files are not possible.  Operating systems don&#39;t support it, and since they don&#39;t, programming language libraries can&#39;t do it either.\r\n\r\nThe best you are going to get with a files in a conventional file system is atomic file renaming; i.e. \r\n\r\n  1.  write new file into same file system as the old one\r\n  2.  use `FileDescriptor.sync()` to ensure that new file is written\r\n  3.  rename the new file over the old one; e.g. using \r\n\r\n          java.nio.file.Files.move(Path source, Path target, \r\n                                   CopyOption... options) \r\n\r\n      with CopyOptions `ATOMIC_MOVE`.  According to the [javadocs][1], this may not be supported, but if it isn&#39;t supported you should get an exception.\r\n\r\nBut note that the atomicity is implemented in the OS, and if the OS cannot give strong enough guarantees, you are out of luck.  \r\n\r\n(One issue is what might happen in the event of a hard disk error.  If the disk dies completely, then atomicity is moot.  But if the OS is still able to read data from the disk after the failure, then the outcome may depend on the OS&#39;es ability to repair a possibly inconsistent file system.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-","title":"Atomically write byte[] to file","body":"<p>Atomic writes to files are not possible.  Operating systems don't support it, and since they don't, programming language libraries can't do it either.</p>\n<p>The best you are going to get with a files in a conventional file system is atomic file renaming; i.e.</p>\n<ol>\n<li><p>write new file into same file system as the old one</p>\n</li>\n<li><p>use <code>FileDescriptor.sync()</code> to ensure that new file is written</p>\n</li>\n<li><p>rename the new file over the old one; e.g. using</p>\n<pre><code>java.nio.file.Files.move(Path source, Path target, \n                         CopyOption... options) \n</code></pre>\n<p>with CopyOptions <code>ATOMIC_MOVE</code>.  According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\">javadocs</a>, this may not be supported, but if it isn't supported you should get an exception.</p>\n</li>\n</ol>\n<p>But note that the atomicity is implemented in the OS, and if the OS cannot give strong enough guarantees, you are out of luck.</p>\n<p>(One issue is what might happen in the event of a hard disk error.  If the disk dies completely, then atomicity is moot.  But if the OS is still able to read data from the disk after the failure, then the outcome may depend on the OS'es ability to repair a possibly inconsistent file system.)</p>\n"}],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47434445,"answer_count":1,"score":3,"last_activity_date":1646982156,"creation_date":1511352610,"question_id":47434384,"body_markdown":"(This is a hypothetical question since it&#39;s very broad, and workarounds exist for specific cases.)\r\n\r\nIs it possible to atomically write a `byte[]` to a file (as `FileOutputStream` or `FileWriter`?\r\n\r\nIf writing fails, then it&#39;s unacceptable that part of the array is written. For example, if the array is 1,000,000 bytes and the disk is full after 500,000 bytes, then no bytes should be written to the file, or the changes should somehow be rolled back. This should even be the case if a medium is physically disconnected mid-write.\r\n\r\nAssume that the maximum size of the array is known.","title":"Atomically write byte[] to file","body":"<p>(This is a hypothetical question since it's very broad, and workarounds exist for specific cases.)</p>\n\n<p>Is it possible to atomically write a <code>byte[]</code> to a file (as <code>FileOutputStream</code> or <code>FileWriter</code>?</p>\n\n<p>If writing fails, then it's unacceptable that part of the array is written. For example, if the array is 1,000,000 bytes and the disk is full after 500,000 bytes, then no bytes should be written to the file, or the changes should somehow be rolled back. This should even be the case if a medium is physically disconnected mid-write.</p>\n\n<p>Assume that the maximum size of the array is known.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1646936145,"post_id":71426502,"comment_id":126253015,"body_markdown":"Edit your question and include the code that creates the JMenuItem (as text, please, not as an image).","body":"Edit your question and include the code that creates the JMenuItem (as text, please, not as an image)."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1646945017,"post_id":71426502,"comment_id":126255790,"body_markdown":"You need to use an accelerator. Read the Swing tutorial on [How to Use Menus](https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html) for more information.","body":"You need to use an accelerator. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html\" rel=\"nofollow noreferrer\">How to Use Menus</a> for more information."},{"owner":{"account_id":4408113,"reputation":1,"user_id":3591863,"display_name":"user3591863"},"score":0,"creation_date":1646981863,"post_id":71426502,"comment_id":126262451,"body_markdown":"Thanks for reply, I used accelerator, but some function keys using CTRL mask are not working like CTRL+F1, CTRL+F5, CTRL+F6 and using characters with CTRL mask all keys are working fine.         I have enclosed Screen shot.","body":"Thanks for reply, I used accelerator, but some function keys using CTRL mask are not working like CTRL+F1, CTRL+F5, CTRL+F6 and using characters with CTRL mask all keys are working fine.         I have enclosed Screen shot."}],"owner":{"account_id":4408113,"reputation":1,"user_id":3591863,"display_name":"user3591863"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646981607,"creation_date":1646925311,"question_id":71426502,"body_markdown":"I am trying to show Form by pressing CTRL+F5 but unfortunately it is not working, but\r\nany other key using CTRL key, for example CTRL+T or CTRL+H working fine. Please help me and let me know how to solve this problem.\r\n\r\n\r\n[here screen shot of my problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zvPCt.png","title":"Java JMenuItem Show Form using CTRL+F5 not working","body":"<p>I am trying to show Form by pressing CTRL+F5 but unfortunately it is not working, but\nany other key using CTRL key, for example CTRL+T or CTRL+H working fine. Please help me and let me know how to solve this problem.</p>\n<p><a href=\"https://i.stack.imgur.com/zvPCt.png\" rel=\"nofollow noreferrer\">here screen shot of my problem</a></p>\n"},{"tags":["java","excel","apache-poi","xls"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1646845171,"post_id":71412798,"comment_id":126226288,"body_markdown":"You&#39;re probably running out of cell styles - Excel has a limit. Create the styles outside the loop?","body":"You&#39;re probably running out of cell styles - Excel has a limit. Create the styles outside the loop?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1646850245,"post_id":71412798,"comment_id":126228190,"body_markdown":"https://stackoverflow.com/search?q=%5Bapache-poi%5D+cell+style+limit+workbook+level","body":"<a href=\"https://stackoverflow.com/search?q=%5Bapache-poi%5D+cell+style+limit+workbook+level\">stackoverflow.com/&hellip;</a>"},{"owner":{"account_id":24505848,"reputation":33,"user_id":18420884,"display_name":"Hoang Ngo"},"score":0,"creation_date":1646880492,"post_id":71412798,"comment_id":126235089,"body_markdown":"@Gagravarr How it could be? If you look at my sample code, I created only 50 cells corresponding to 50 cell styles. Whereas POI documents that HSSF can have up to 4000 unique styles. Here is my file https://drive.google.com/file/d/1ooU5hQBEiDyVac2WjGL7PO8PQNB7uEOA/view?usp=sharing","body":"@Gagravarr How it could be? If you look at my sample code, I created only 50 cells corresponding to 50 cell styles. Whereas POI documents that HSSF can have up to 4000 unique styles. Here is my file <a href=\"https://drive.google.com/file/d/1ooU5hQBEiDyVac2WjGL7PO8PQNB7uEOA/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1ooU5hQBEiDyVac2WjGL7PO8PQNB7uEOA/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646981396,"creation_date":1646892256,"answer_id":71419505,"question_id":71412798,"body_markdown":"Creating cell styles for each single cell is not a good idea using `apache poi`. Cell styles are stored on workbook level in Excel. The sheets and cells share the cell styles if possible.\r\n\r\nAnd there are limits for maximum count of different cell styles in all Excel versions. The limit for the binary `*.xls` is less than the one for the OOXML `*.xlsx`.\r\n\r\nThe limit alone cannot be the only reason for the result you have. But it seems as if Excel is not very happy with the 50 exactly same cell styles in workbook. Those are memory waste as only one shared style would be necessary as all the 50 cells share the same style.\r\n\r\n\r\nSolutions are:\r\n\r\nDo creating the cell styles on workbook level outside cell creating loops and only set the styles to the cells in the loop.\r\n\r\nExample:\r\n\r\n     private static void exportXlsCorrect() {\r\n      try (\r\n       OutputStream os = new FileOutputStream(&quot;testCorrect.xls&quot;);\r\n       Workbook wb = new HSSFWorkbook();) {\r\n    \t   \r\n       CellStyle cs = wb.createCellStyle();\r\n       cs.setFillBackgroundColor(IndexedColors.WHITE.index);\r\n       cs.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n       cs.setFillForegroundColor(IndexedColors.LIGHT_BLUE.getIndex());\r\n    \t\r\n       Sheet sh = wb.createSheet(&quot;test&quot;);\r\n       Row r = sh.createRow(0);\r\n       for (int i = 0; i &lt; 50; i++) {\r\n        Cell c = r.createCell(i);\r\n        c.setCellValue(i + 1);\r\n          \r\n        c.setCellStyle(cs);\r\n       }\r\n       wb.write(os);\r\n       os.flush();\r\n      } catch (Exception e) {\r\n       e.printStackTrace();\r\n      }\r\n     }\r\n\r\nSometimes it is not really possible to know all possible needed cell styles before creating the cells. Then [CellUtil](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/util/CellUtil.html) can be used. This has a method `CellUtil.setCellStyleProperties` which is able to set specific style properties to cells. Doing that new cell styles are created on workbook level only if needed. If already present, the present cell styles are used.\r\n\r\nExample:\r\n\r\n     private static void exportXlsUsingCellUtil() {\r\n      try (\r\n       OutputStream os = new FileOutputStream(&quot;testUsingCellUtil.xls&quot;);\r\n       Workbook wb = new HSSFWorkbook();) {\r\n    \t       \t\r\n       Sheet sh = wb.createSheet(&quot;test&quot;);\r\n       Row r = sh.createRow(0);\r\n       for (int i = 0; i &lt; 50; i++) {\r\n        Cell c = r.createCell(i);\r\n        c.setCellValue(i + 1);\r\n    \t\r\n    \tjava.util.Map&lt;java.lang.String,java.lang.Object&gt; properties = new java.util.HashMap&lt;java.lang.String,java.lang.Object&gt;();\r\n    \tproperties.put(org.apache.poi.ss.util.CellUtil.FILL_BACKGROUND_COLOR, IndexedColors.WHITE.index);\r\n    \tproperties.put(org.apache.poi.ss.util.CellUtil.FILL_FOREGROUND_COLOR, IndexedColors.LIGHT_BLUE.getIndex());\r\n    \tproperties.put(org.apache.poi.ss.util.CellUtil.FILL_PATTERN, FillPatternType.SOLID_FOREGROUND);\r\n    \torg.apache.poi.ss.util.CellUtil.setCellStyleProperties(c, properties);\r\n    \r\n       }\r\n       wb.write(os);\r\n       os.flush();\r\n      } catch (Exception e) {\r\n       e.printStackTrace();\r\n      }\r\n     }\r\n\r\n\r\n","title":"Cell style is lost or not displayed in Excel 97-2003 (.xls)","body":"<p>Creating cell styles for each single cell is not a good idea using <code>apache poi</code>. Cell styles are stored on workbook level in Excel. The sheets and cells share the cell styles if possible.</p>\n<p>And there are limits for maximum count of different cell styles in all Excel versions. The limit for the binary <code>*.xls</code> is less than the one for the OOXML <code>*.xlsx</code>.</p>\n<p>The limit alone cannot be the only reason for the result you have. But it seems as if Excel is not very happy with the 50 exactly same cell styles in workbook. Those are memory waste as only one shared style would be necessary as all the 50 cells share the same style.</p>\n<p>Solutions are:</p>\n<p>Do creating the cell styles on workbook level outside cell creating loops and only set the styles to the cells in the loop.</p>\n<p>Example:</p>\n<pre><code> private static void exportXlsCorrect() {\n  try (\n   OutputStream os = new FileOutputStream(&quot;testCorrect.xls&quot;);\n   Workbook wb = new HSSFWorkbook();) {\n       \n   CellStyle cs = wb.createCellStyle();\n   cs.setFillBackgroundColor(IndexedColors.WHITE.index);\n   cs.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n   cs.setFillForegroundColor(IndexedColors.LIGHT_BLUE.getIndex());\n    \n   Sheet sh = wb.createSheet(&quot;test&quot;);\n   Row r = sh.createRow(0);\n   for (int i = 0; i &lt; 50; i++) {\n    Cell c = r.createCell(i);\n    c.setCellValue(i + 1);\n      \n    c.setCellStyle(cs);\n   }\n   wb.write(os);\n   os.flush();\n  } catch (Exception e) {\n   e.printStackTrace();\n  }\n }\n</code></pre>\n<p>Sometimes it is not really possible to know all possible needed cell styles before creating the cells. Then <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/util/CellUtil.html\" rel=\"nofollow noreferrer\">CellUtil</a> can be used. This has a method <code>CellUtil.setCellStyleProperties</code> which is able to set specific style properties to cells. Doing that new cell styles are created on workbook level only if needed. If already present, the present cell styles are used.</p>\n<p>Example:</p>\n<pre><code> private static void exportXlsUsingCellUtil() {\n  try (\n   OutputStream os = new FileOutputStream(&quot;testUsingCellUtil.xls&quot;);\n   Workbook wb = new HSSFWorkbook();) {\n            \n   Sheet sh = wb.createSheet(&quot;test&quot;);\n   Row r = sh.createRow(0);\n   for (int i = 0; i &lt; 50; i++) {\n    Cell c = r.createCell(i);\n    c.setCellValue(i + 1);\n    \n    java.util.Map&lt;java.lang.String,java.lang.Object&gt; properties = new java.util.HashMap&lt;java.lang.String,java.lang.Object&gt;();\n    properties.put(org.apache.poi.ss.util.CellUtil.FILL_BACKGROUND_COLOR, IndexedColors.WHITE.index);\n    properties.put(org.apache.poi.ss.util.CellUtil.FILL_FOREGROUND_COLOR, IndexedColors.LIGHT_BLUE.getIndex());\n    properties.put(org.apache.poi.ss.util.CellUtil.FILL_PATTERN, FillPatternType.SOLID_FOREGROUND);\n    org.apache.poi.ss.util.CellUtil.setCellStyleProperties(c, properties);\n\n   }\n   wb.write(os);\n   os.flush();\n  } catch (Exception e) {\n   e.printStackTrace();\n  }\n }\n</code></pre>\n"}],"owner":{"account_id":24505848,"reputation":33,"user_id":18420884,"display_name":"Hoang Ngo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71419505,"answer_count":1,"score":3,"last_activity_date":1646981396,"creation_date":1646843616,"question_id":71412798,"body_markdown":"I am using the Apache POI library to export data to Excel. I have tried all the latest versions (3.17, 4.1.2, and 5.2.1).\r\n\r\nI have a problem with Excel 97 (.xls) format in relation to cell styles. The cell style somehow is lost (or not displayed) after a certain number of columns.\r\n\r\nHere is my sample code:\r\n\r\n    private void exportXls() {\r\n      try (\r\n          OutputStream os = new FileOutputStream(&quot;test.xls&quot;);\r\n          Workbook wb = new HSSFWorkbook();) {\r\n        Sheet sh = wb.createSheet(&quot;test&quot;);\r\n        Row r = sh.createRow(0);\r\n        for (int i = 0; i &lt; 50; i++) {\r\n          Cell c = r.createCell(i);\r\n          c.setCellValue(i + 1);\r\n          \r\n          CellStyle cs = wb.createCellStyle();\r\n          cs.setFillBackgroundColor(IndexedColors.WHITE.index);\r\n          cs.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n          cs.setFillForegroundColor(IndexedColors.LIGHT_BLUE.getIndex());\r\n          c.setCellStyle(cs);\r\n        }\r\n        wb.write(os);\r\n        os.flush();\r\n      } catch (Exception e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n\r\nAnd the result as viewed by MS Excel 2019\r\n[Viewed by MS Excel][1]\r\n\r\nAs you can see, the style/format is lost after cell 43rd.\r\n\r\nBut, when I open the same file by other applications like XLS Viewer Free (from Microsoft Store) or Google Sheets (online), the style/format still exists and is displayed well.\r\n[Viewed by XLS Viewer Free][2]\r\n[Viewed by Google Sheets][3]\r\n\r\nCould anyone please tell me what is going on here?\r\n\r\nDid I miss something in my code?\r\n\r\nIs there any hidden setting in MS Excel that causes this problem?\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/krrYl.png\r\n  [2]: https://i.stack.imgur.com/NYL46.png\r\n  [3]: https://i.stack.imgur.com/sG6Kx.png","title":"Cell style is lost or not displayed in Excel 97-2003 (.xls)","body":"<p>I am using the Apache POI library to export data to Excel. I have tried all the latest versions (3.17, 4.1.2, and 5.2.1).</p>\n<p>I have a problem with Excel 97 (.xls) format in relation to cell styles. The cell style somehow is lost (or not displayed) after a certain number of columns.</p>\n<p>Here is my sample code:</p>\n<pre><code>private void exportXls() {\n  try (\n      OutputStream os = new FileOutputStream(&quot;test.xls&quot;);\n      Workbook wb = new HSSFWorkbook();) {\n    Sheet sh = wb.createSheet(&quot;test&quot;);\n    Row r = sh.createRow(0);\n    for (int i = 0; i &lt; 50; i++) {\n      Cell c = r.createCell(i);\n      c.setCellValue(i + 1);\n      \n      CellStyle cs = wb.createCellStyle();\n      cs.setFillBackgroundColor(IndexedColors.WHITE.index);\n      cs.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n      cs.setFillForegroundColor(IndexedColors.LIGHT_BLUE.getIndex());\n      c.setCellStyle(cs);\n    }\n    wb.write(os);\n    os.flush();\n  } catch (Exception e) {\n    e.printStackTrace();\n  }\n}\n</code></pre>\n<p>And the result as viewed by MS Excel 2019\n<a href=\"https://i.stack.imgur.com/krrYl.png\" rel=\"nofollow noreferrer\">Viewed by MS Excel</a></p>\n<p>As you can see, the style/format is lost after cell 43rd.</p>\n<p>But, when I open the same file by other applications like XLS Viewer Free (from Microsoft Store) or Google Sheets (online), the style/format still exists and is displayed well.\n<a href=\"https://i.stack.imgur.com/NYL46.png\" rel=\"nofollow noreferrer\">Viewed by XLS Viewer Free</a>\n<a href=\"https://i.stack.imgur.com/sG6Kx.png\" rel=\"nofollow noreferrer\">Viewed by Google Sheets</a></p>\n<p>Could anyone please tell me what is going on here?</p>\n<p>Did I miss something in my code?</p>\n<p>Is there any hidden setting in MS Excel that causes this problem?</p>\n<p>Thank you.</p>\n"},{"tags":["java","swing","dpi"],"answers":[{"tags":[],"owner":{"account_id":6335097,"reputation":367,"user_id":4918747,"display_name":"Pubudu Mahesh Meththananda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566295520,"creation_date":1566293959,"answer_id":57570764,"question_id":50968992,"body_markdown":" \r\n\r\n 1. you can create following registry key under this path. \r\n**HKEY_CURRENT_USER\\Software\\Microsoft\\Windows NT\\CurrentVersion\\AppCompatFlags\\Layers**\r\n 2. create new string value- value name should be the like this. \r\n     **path to the .exe file\\file name.exe**\r\n 3. Save the value data as &quot;~ DPIUNAWARE&quot;.\r\n 4. open and try your with your application. \r\n\r\n \r\n*Or else*, you can use following java code to create registry through your application. You may have to open your applicaiton twice. \r\n\r\n 1. import com.sun.jna.platform.win32.Advapi32Util; \r\n 2. import com.sun.jna.platform.win32.WinReg;\r\n\r\n        \r\n    \tif(!Advapi32Util.registryKeyExists(WinReg.HKEY_CURRENT_USER, &quot;SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\AppCompatFlags\\\\Layers&quot;))\r\n    \t{\r\n    \t\tAdvapi32Util.registryCreateKey(WinReg.HKEY_CURRENT_USER, \r\n            &quot;SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\AppCompatFlags\\\\Layers&quot;);\r\n    \t}\r\n    \tif(!Advapi32Util.registryValueExists(WinReg.HKEY_CURRENT_USER, \r\n            &quot;SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\AppCompatFlags\\\\Layers&quot;, \r\n            System.getProperty(&quot;user.dir&quot;) + &quot;\\\\**application name**.exe&quot;))\r\n    \t{    \t\t\r\n    \t\tAdvapi32Util.registrySetStringValue(WinReg.HKEY_CURRENT_USER,&quot;SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\AppCompatFlags\\\\Layers&quot;,System.getProperty(&quot;user.dir&quot;) + &quot;\\\\**application name**.exe&quot;,&quot;~DPIUNAWARE&quot;);\r\n    \t}\r\n      \r\n\r\n\r\n\r\n  ","title":"How do I run a Java app with Windows&#39; high-DPI scaling?","body":"<ol>\n<li>you can create following registry key under this path. \n<strong>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows NT\\CurrentVersion\\AppCompatFlags\\Layers</strong></li>\n<li>create new string value- value name should be the like this. \n <strong>path to the .exe file\\file name.exe</strong></li>\n<li>Save the value data as \"~ DPIUNAWARE\".</li>\n<li>open and try your with your application. </li>\n</ol>\n\n<p><em>Or else</em>, you can use following java code to create registry through your application. You may have to open your applicaiton twice. </p>\n\n<ol>\n<li>import com.sun.jna.platform.win32.Advapi32Util; </li>\n<li><p>import com.sun.jna.platform.win32.WinReg;</p>\n\n<pre><code>if(!Advapi32Util.registryKeyExists(WinReg.HKEY_CURRENT_USER, \"SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\AppCompatFlags\\\\Layers\"))\n{\n    Advapi32Util.registryCreateKey(WinReg.HKEY_CURRENT_USER, \n    \"SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\AppCompatFlags\\\\Layers\");\n}\nif(!Advapi32Util.registryValueExists(WinReg.HKEY_CURRENT_USER, \n    \"SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\AppCompatFlags\\\\Layers\", \n    System.getProperty(\"user.dir\") + \"\\\\**application name**.exe\"))\n{           \n    Advapi32Util.registrySetStringValue(WinReg.HKEY_CURRENT_USER,\"SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\AppCompatFlags\\\\Layers\",System.getProperty(\"user.dir\") + \"\\\\**application name**.exe\",\"~DPIUNAWARE\");\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18607630,"reputation":31,"user_id":13560886,"display_name":"Justin Michel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589727740,"creation_date":1589726761,"answer_id":61853681,"question_id":50968992,"body_markdown":"This is because Java 7+ added a manifest that tells the OS it knows how to scale correctly when it does not, and is supposedly fixed in Java 9 (https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8080153).\r\n\r\nYou can confirm this using a zip utility to open javaw.exe as a zip file, and look at .rsrc/MANIFEST/1 (sometimes .rsrc/1033/MANIFEST/1).\r\nIt should be an xml file with an &lt;dpiAware&gt;true&lt;/dpiAware&gt; element.  \r\n\r\nIf you have MS dev tools (mt.exe) then you can patch the manifest in javaw.exe xml manifest to use a Windows 10 new setting described here (https://blogs.windows.com/windowsdeveloper/2017/05/19/improving-high-dpi-experience-gdi-based-desktop-apps/).\r\n```\r\nc:\\&gt;mt -nologo -inputresource:javaw.exe -out:man.xml\r\n\r\nEdit with text editor, replacing \r\n    &lt;asmv3:windowsSettings xmlns=&quot;http://schemas.microsoft.com/SMI/2005/WindowsSettings&quot;&gt;\r\n      &lt;dpiAware&gt;true&lt;/dpiAware&gt;\r\n    &lt;/asmv3:windowsSettings&gt;\r\nwith \r\n    &lt;asmv3:windowsSettings xmlns=&quot;http://schemas.microsoft.com/SMI/2017/WindowsSettings&quot;&gt;\r\n      &lt;gdiScaling&gt;true&lt;/gdiScaling&gt;\r\n    &lt;/asmv3:windowsSettings&gt;\r\n\r\nNote that the xml namespace is different.\r\n\r\nc:\\&gt;mt -nologo -outputresource:javaw.exe;1 -manifest man.xml\r\nc:\\&gt;mt -nologo -outputresource:java.exe;1 -manifest man.xml\r\n\r\n```\r\nYou can also address this problem by right clicking on the javaw.exe, choosing Properties, compatibility tab, Change High DPI Settings, and choose System (Enhanced). If that solves the problem, then you can use the mt.exe tool as above to patch the exe files so that you can distribute to your thousands of users without them having to manually set the compatibility settings.","title":"How do I run a Java app with Windows&#39; high-DPI scaling?","body":"<p>This is because Java 7+ added a manifest that tells the OS it knows how to scale correctly when it does not, and is supposedly fixed in Java 9 (<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8080153\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8080153</a>).</p>\n\n<p>You can confirm this using a zip utility to open javaw.exe as a zip file, and look at .rsrc/MANIFEST/1 (sometimes .rsrc/1033/MANIFEST/1).\nIt should be an xml file with an true element.  </p>\n\n<p>If you have MS dev tools (mt.exe) then you can patch the manifest in javaw.exe xml manifest to use a Windows 10 new setting described here (<a href=\"https://blogs.windows.com/windowsdeveloper/2017/05/19/improving-high-dpi-experience-gdi-based-desktop-apps/\" rel=\"nofollow noreferrer\">https://blogs.windows.com/windowsdeveloper/2017/05/19/improving-high-dpi-experience-gdi-based-desktop-apps/</a>).</p>\n\n<pre><code>c:\\&gt;mt -nologo -inputresource:javaw.exe -out:man.xml\n\nEdit with text editor, replacing \n    &lt;asmv3:windowsSettings xmlns=\"http://schemas.microsoft.com/SMI/2005/WindowsSettings\"&gt;\n      &lt;dpiAware&gt;true&lt;/dpiAware&gt;\n    &lt;/asmv3:windowsSettings&gt;\nwith \n    &lt;asmv3:windowsSettings xmlns=\"http://schemas.microsoft.com/SMI/2017/WindowsSettings\"&gt;\n      &lt;gdiScaling&gt;true&lt;/gdiScaling&gt;\n    &lt;/asmv3:windowsSettings&gt;\n\nNote that the xml namespace is different.\n\nc:\\&gt;mt -nologo -outputresource:javaw.exe;1 -manifest man.xml\nc:\\&gt;mt -nologo -outputresource:java.exe;1 -manifest man.xml\n\n</code></pre>\n\n<p>You can also address this problem by right clicking on the javaw.exe, choosing Properties, compatibility tab, Change High DPI Settings, and choose System (Enhanced). If that solves the problem, then you can use the mt.exe tool as above to patch the exe files so that you can distribute to your thousands of users without them having to manually set the compatibility settings.</p>\n"}],"owner":{"account_id":13418038,"reputation":41,"user_id":9681835,"display_name":"Sylvianne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4951,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1646980905,"creation_date":1529585349,"question_id":50968992,"body_markdown":"How do I run a Java app with Windows&#39; high-DPI scaling?\r\n\r\nI&#39;m trying to run a Java app (JAR file) using JavaSE-1.8 (jre1.8.0_161).\r\nThe app uses Swing.\r\n\r\nOn regular screen everything OK but not on a high-DPI display on Windows 10â€¦ it&#39;s not scaling the Java app; I am getting the right window size but with tiny little menus and icons with impossible-to-read text.\r\n\r\nIn forums the advice is to move to jre1.9 or more.\r\nI installed jre1.10 but in Eclipse I do not see it â€“ it seems the version of Eclipse (Version: Neon.1 Release (4.6.1) I am using is not compatible with that version of Java.\r\n\r\nBefore moving to Eclipse Oxygen + jre1.10, I wanted to have confirmation it is the right fix to my issue.\r\n","title":"How do I run a Java app with Windows&#39; high-DPI scaling?","body":"<p>How do I run a Java app with Windows' high-DPI scaling?</p>\n<p>I'm trying to run a Java app (JAR file) using JavaSE-1.8 (jre1.8.0_161).\nThe app uses Swing.</p>\n<p>On regular screen everything OK but not on a high-DPI display on Windows 10â€¦ it's not scaling the Java app; I am getting the right window size but with tiny little menus and icons with impossible-to-read text.</p>\n<p>In forums the advice is to move to jre1.9 or more.\nI installed jre1.10 but in Eclipse I do not see it â€“ it seems the version of Eclipse (Version: Neon.1 Release (4.6.1) I am using is not compatible with that version of Java.</p>\n<p>Before moving to Eclipse Oxygen + jre1.10, I wanted to have confirmation it is the right fix to my issue.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":18297726,"reputation":332,"user_id":13323289,"display_name":"XO56"},"score":1,"creation_date":1612528467,"post_id":66063277,"comment_id":116801565,"body_markdown":"what&#39;s the `exception` you got? besides, in which part of the code you think is the problem?","body":"what&#39;s the <code>exception</code> you got? besides, in which part of the code you think is the problem?"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1612528548,"post_id":66063277,"comment_id":116801603,"body_markdown":"Please debug the code and add the insights.","body":"Please debug the code and add the insights."},{"owner":{"account_id":79530,"reputation":2608,"user_id":225437,"accept_rate":50,"display_name":"Andrew"},"score":0,"creation_date":1612528914,"post_id":66063277,"comment_id":116801750,"body_markdown":"you are trying to delete an item in &#39;temp&#39; before adding any items","body":"you are trying to delete an item in &#39;temp&#39; before adding any items"},{"owner":{"account_id":6965660,"reputation":6723,"user_id":5343790,"accept_rate":92,"display_name":"Shridhar R Kulkarni"},"score":0,"creation_date":1612529561,"post_id":66063277,"comment_id":116802015,"body_markdown":"Even if you fix the exception, your approach will fail for `bcba`. Check the answer posted for a few approaches that work.","body":"Even if you fix the exception, your approach will fail for <code>bcba</code>. Check the answer posted for a few approaches that work."},{"owner":{"account_id":19959778,"reputation":107,"user_id":14627650,"display_name":"mroma95"},"score":0,"creation_date":1612535730,"post_id":66063277,"comment_id":116804856,"body_markdown":"I got StringIndexOutOfBoundException its because i&#39;m working on StringBuilder temp and if i delete char from temp, size of temp is decrement but str length is constant","body":"I got StringIndexOutOfBoundException its because i&#39;m working on StringBuilder temp and if i delete char from temp, size of temp is decrement but str length is constant"},{"owner":{"account_id":6965660,"reputation":6723,"user_id":5343790,"accept_rate":92,"display_name":"Shridhar R Kulkarni"},"score":0,"creation_date":1614689976,"post_id":66063277,"comment_id":117456902,"body_markdown":"[Is your question answered?](https://stackoverflow.com/help/someone-answers)","body":"<a href=\"https://stackoverflow.com/help/someone-answers\">Is your question answered?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6965660,"reputation":6723,"user_id":5343790,"accept_rate":92,"display_name":"Shridhar R Kulkarni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1612530100,"creation_date":1612528487,"answer_id":66063398,"question_id":66063277,"body_markdown":"**Method 1:**\r\n\r\n1. Find [longest palindromic subsequence][1](LPS)\r\n\r\nGiven string: &quot;abjchba&quot;\r\n\r\nLongest Palindrome Subsequence: &quot;abhba&quot;. Others like &quot;abjba&quot; and &quot;abcba&quot; also are LPS but you want to remove chars that appear earlier so that &quot;abhba&quot;.\r\n\r\nIf (input string length - length of LPS) &gt; 2, return &quot;not possible&quot;.\r\n\r\n2. Remove letters from the input string that are not in the LPS.\r\n\r\nStart matching string with LPS. &#39;j&#39; and &#39;c&#39; won&#39;t match. Add them to result and return. \r\n\r\n**Method 2:**\r\n\r\n1. Find [longest common subsequence][2] (LCS) between input string and its reverse.\r\n\r\n    String: &quot;abjchba&quot;\r\n\r\n    Reverse: &quot;abhcjba&quot;\r\n\r\n    LCS: Take &quot;abhba&quot; in our case\r\n\r\nIf (input string length - length of LCS) &gt; 2, return &quot;not possible&quot;.\r\n\r\n2. Step 2 will be the same as that of in Method 1 above.\r\n\r\nAs you are trying for at most 2 deletions, I am thinking if we can do better with time complexity.\r\n\r\n  [1]: https://algorithmist.com/wiki/Longest_palidromic_subsequence\r\n  [2]: https://en.wikipedia.org/wiki/Longest_common_subsequence_problem","title":"How to write return who letters you should remove to make string palindrome?","body":"<p><strong>Method 1:</strong></p>\n<ol>\n<li>Find <a href=\"https://algorithmist.com/wiki/Longest_palidromic_subsequence\" rel=\"nofollow noreferrer\">longest palindromic subsequence</a>(LPS)</li>\n</ol>\n<p>Given string: &quot;abjchba&quot;</p>\n<p>Longest Palindrome Subsequence: &quot;abhba&quot;. Others like &quot;abjba&quot; and &quot;abcba&quot; also are LPS but you want to remove chars that appear earlier so that &quot;abhba&quot;.</p>\n<p>If (input string length - length of LPS) &gt; 2, return &quot;not possible&quot;.</p>\n<ol start=\"2\">\n<li>Remove letters from the input string that are not in the LPS.</li>\n</ol>\n<p>Start matching string with LPS. 'j' and 'c' won't match. Add them to result and return.</p>\n<p><strong>Method 2:</strong></p>\n<ol>\n<li><p>Find <a href=\"https://en.wikipedia.org/wiki/Longest_common_subsequence_problem\" rel=\"nofollow noreferrer\">longest common subsequence</a> (LCS) between input string and its reverse.</p>\n<p>String: &quot;abjchba&quot;</p>\n<p>Reverse: &quot;abhcjba&quot;</p>\n<p>LCS: Take &quot;abhba&quot; in our case</p>\n</li>\n</ol>\n<p>If (input string length - length of LCS) &gt; 2, return &quot;not possible&quot;.</p>\n<ol start=\"2\">\n<li>Step 2 will be the same as that of in Method 1 above.</li>\n</ol>\n<p>As you are trying for at most 2 deletions, I am thinking if we can do better with time complexity.</p>\n"},{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612536031,"creation_date":1612530184,"answer_id":66063786,"question_id":66063277,"body_markdown":"I think the simplest way to fix your code is to use recursion. When you find a char that does not match, remove it and call recursively.\r\n\r\n    // Helper function to remove a character from a string\r\n    public static String removeAt(String s, int i)\r\n\t{\r\n\t\treturn s.substring(0, i) + s.substring(i + 1);\r\n\t}\r\n\tprivate static String createPalindromeRecursive(String str) {\r\n\t    // Only need to check half the string\r\n\t    for (int i = 0, j = str.length() - 1; i &lt; j; i++, j--) {\r\n\t        // if (something) continue; else {} &lt;- the else is not needed\r\n\t        //     because the continue skips to the end of the loop\r\n\t        // or you can negate the condition and don&#39;t use continue\r\n\t        if (str.charAt(i) == str.charAt(j)){\r\n\t            continue;\r\n\t        }\r\n\t        String temp = createPalindrome(removeAt(str, i));\r\n\t        // Success. Return the new string\r\n\t        if (null != temp) return temp;\r\n\t        else return null;\r\n\t    }\r\n\t    return str;\r\n\t}\r\n\tprivate static String createPalindrome(String str) {\r\n\t    String palindrome = createPalindromeRecursive(str);\r\n\t    if (palindrome == null || palindrome.length() &lt; str.length() - 2) {\r\n\t        return &quot;not possible&quot;;\r\n\t    }\r\n\t    else {\r\n\t        return palindrome;\r\n\t    }\r\n\t}","title":"How to write return who letters you should remove to make string palindrome?","body":"<p>I think the simplest way to fix your code is to use recursion. When you find a char that does not match, remove it and call recursively.</p>\n<pre><code>// Helper function to remove a character from a string\npublic static String removeAt(String s, int i)\n{\n    return s.substring(0, i) + s.substring(i + 1);\n}\nprivate static String createPalindromeRecursive(String str) {\n    // Only need to check half the string\n    for (int i = 0, j = str.length() - 1; i &lt; j; i++, j--) {\n        // if (something) continue; else {} &lt;- the else is not needed\n        //     because the continue skips to the end of the loop\n        // or you can negate the condition and don't use continue\n        if (str.charAt(i) == str.charAt(j)){\n            continue;\n        }\n        String temp = createPalindrome(removeAt(str, i));\n        // Success. Return the new string\n        if (null != temp) return temp;\n        else return null;\n    }\n    return str;\n}\nprivate static String createPalindrome(String str) {\n    String palindrome = createPalindromeRecursive(str);\n    if (palindrome == null || palindrome.length() &lt; str.length() - 2) {\n        return &quot;not possible&quot;;\n    }\n    else {\n        return palindrome;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24523461,"reputation":1,"user_id":18436174,"display_name":"Ammad Javed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646980413,"creation_date":1646979698,"answer_id":71434396,"question_id":66063277,"body_markdown":"```\r\nusing System;\r\nusing System.Text;\r\n\r\nclass MainClass\r\n{\r\n\r\n    public static String removeAt(String s, int i)\r\n    {\r\n        return s.Substring(0, i) + s.Substring(i + 1);\r\n    }\r\n    private static String createPalindromeRecursive(String str)\r\n    {\r\n        for (int i = 0, j = str.Length - 1; i &lt; j; i++, j--)\r\n        {\r\n            if (str[i] == str[j])\r\n            {\r\n                continue;\r\n            }\r\n            String temp = PalindromeCreator(removeAt(str, i));\r\n            if (null != temp) return temp;\r\n            else return null;\r\n        }\r\n        return str;\r\n    }\r\n    public static string PalindromeCreator(string str)\r\n    {\r\n\r\n        String palindrome = createPalindromeRecursive(str);\r\n        StringBuilder result = new StringBuilder();\r\n        StringBuilder temp = new StringBuilder(str);\r\n        if (palindrome == null || palindrome.Length &lt; str.Length - 2)\r\n        {\r\n            return &quot;not possible&quot;;\r\n        }\r\n        else\r\n        {\r\n\r\n            for (int i = 0; i &lt; str.Length; i++)\r\n            {\r\n                if (str[i] == str[(str.Length - 1 - i)])\r\n                {\r\n                    continue;\r\n                }\r\n                else\r\n                {\r\n                    result.Append(str[i]);\r\n                    temp.Remove(i, str.Length);\r\n                    return result.ToString();\r\n                }\r\n            }\r\n            return palindrome;\r\n        }\r\n    }\r\n\r\n    static void Main()\r\n    {\r\n        // keep this function call here\r\n        Console.WriteLine(PalindromeCreator(Console.ReadLine()));\r\n    }\r\n\r\n}\r\n```","title":"How to write return who letters you should remove to make string palindrome?","body":"<pre><code>using System;\nusing System.Text;\n\nclass MainClass\n{\n\n    public static String removeAt(String s, int i)\n    {\n        return s.Substring(0, i) + s.Substring(i + 1);\n    }\n    private static String createPalindromeRecursive(String str)\n    {\n        for (int i = 0, j = str.Length - 1; i &lt; j; i++, j--)\n        {\n            if (str[i] == str[j])\n            {\n                continue;\n            }\n            String temp = PalindromeCreator(removeAt(str, i));\n            if (null != temp) return temp;\n            else return null;\n        }\n        return str;\n    }\n    public static string PalindromeCreator(string str)\n    {\n\n        String palindrome = createPalindromeRecursive(str);\n        StringBuilder result = new StringBuilder();\n        StringBuilder temp = new StringBuilder(str);\n        if (palindrome == null || palindrome.Length &lt; str.Length - 2)\n        {\n            return &quot;not possible&quot;;\n        }\n        else\n        {\n\n            for (int i = 0; i &lt; str.Length; i++)\n            {\n                if (str[i] == str[(str.Length - 1 - i)])\n                {\n                    continue;\n                }\n                else\n                {\n                    result.Append(str[i]);\n                    temp.Remove(i, str.Length);\n                    return result.ToString();\n                }\n            }\n            return palindrome;\n        }\n    }\n\n    static void Main()\n    {\n        // keep this function call here\n        Console.WriteLine(PalindromeCreator(Console.ReadLine()));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19959778,"reputation":107,"user_id":14627650,"display_name":"mroma95"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1615,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":66063398,"answer_count":3,"score":-1,"last_activity_date":1646980413,"creation_date":1612527975,"question_id":66063277,"body_markdown":"Like in question, exercise if it is possible to create a palindromic string of minimum length 3 characters by removing 1 or 2 characters. For example string &quot;abjchba&quot;, we can remove letters &quot;jc&quot; and will get palindromic, in this case program should return removed letters so &quot;jc&quot;. I know that we can mke palindromic by removing also &quot;ch&quot; but in exercise is that we should remove characters that appear earlier in string. Program should always attempt to create the longest palindromic substring. I wrote methods to reverse String and method to check that string is palindromic:\r\n\r\n    private static String reverse(String string) {\r\n            return new StringBuilder(string).reverse().toString();\r\n        }\r\n    \r\n    private static boolean isPalin(String string) {\r\n            return string.equals(reverse(string));\r\n        }\r\n\r\nI also made method to create Palindromic to return symbols we should remove to make palindromic, but beacuse i&#39;m working on sb &#39;temp&#39; I got exception . Have anyone idea how to fix it and finish exercise?\r\n\r\n    private static String createPalindrome(String str) {\r\n            StringBuilder result = new StringBuilder();\r\n            StringBuilder temp = new StringBuilder(str);\r\n            for (int i = 0; i &lt; str.length(); i++) {\r\n                if (str.charAt(i) == str.charAt(str.length() - 1 - i)){\r\n                    continue;\r\n                }else {\r\n                    result.append(str.charAt(i));\r\n                    temp.deleteCharAt(i);\r\n                    if (isPalin(temp.toString())){\r\n                        return result.toString();\r\n                    }\r\n                }\r\n            }\r\n            return &quot;not possible&quot;;\r\n        }\r\n\r\n\r\n","title":"How to write return who letters you should remove to make string palindrome?","body":"<p>Like in question, exercise if it is possible to create a palindromic string of minimum length 3 characters by removing 1 or 2 characters. For example string &quot;abjchba&quot;, we can remove letters &quot;jc&quot; and will get palindromic, in this case program should return removed letters so &quot;jc&quot;. I know that we can mke palindromic by removing also &quot;ch&quot; but in exercise is that we should remove characters that appear earlier in string. Program should always attempt to create the longest palindromic substring. I wrote methods to reverse String and method to check that string is palindromic:</p>\n<pre><code>private static String reverse(String string) {\n        return new StringBuilder(string).reverse().toString();\n    }\n\nprivate static boolean isPalin(String string) {\n        return string.equals(reverse(string));\n    }\n</code></pre>\n<p>I also made method to create Palindromic to return symbols we should remove to make palindromic, but beacuse i'm working on sb 'temp' I got exception . Have anyone idea how to fix it and finish exercise?</p>\n<pre><code>private static String createPalindrome(String str) {\n        StringBuilder result = new StringBuilder();\n        StringBuilder temp = new StringBuilder(str);\n        for (int i = 0; i &lt; str.length(); i++) {\n            if (str.charAt(i) == str.charAt(str.length() - 1 - i)){\n                continue;\n            }else {\n                result.append(str.charAt(i));\n                temp.deleteCharAt(i);\n                if (isPalin(temp.toString())){\n                    return result.toString();\n                }\n            }\n        }\n        return &quot;not possible&quot;;\n    }\n</code></pre>\n"},{"tags":["java","php","encryption","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1646984991,"post_id":71434477,"comment_id":126263167,"body_markdown":"For the result to be identical, the PHP code in `encrypt()` must use the key as IV and pad it to 16 bytes with 0x00 values if necessary: `$initVector = str_pad($secretKey, 16, &quot;\\0&quot;)` and no concatenation of IV and ciphertext must be done: `$result = base64_encode($raw)`. Then `print($encrypted-&gt;getData())` returns the result of the Java code. `decrypt()` must be adapted to `encrypt()`. Both codes are insecure, the Java code even buggy (`encrypted.getInitVector()` returns `null`). Most of this has already been described in the comments to your last question (meanwhile deleted by you) .","body":"For the result to be identical, the PHP code in <code>encrypt()</code> must use the key as IV and pad it to 16 bytes with 0x00 values if necessary: <code>$initVector = str_pad($secretKey, 16, &quot;\\0&quot;)</code> and no concatenation of IV and ciphertext must be done: <code>$result = base64_encode($raw)</code>. Then <code>print($encrypted-&gt;getData())</code> returns the result of the Java code. <code>decrypt()</code> must be adapted to <code>encrypt()</code>. Both codes are insecure, the Java code even buggy (<code>encrypted.getInitVector()</code> returns <code>null</code>). Most of this has already been described in the comments to your last question (meanwhile deleted by you) ."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1647024441,"post_id":71434477,"comment_id":126277552,"body_markdown":"Please do never use a String/password as AES key. This is heavily insecure. At least use a password based key generator like PBKDF2.","body":"Please do never use a String/password as AES key. This is heavily insecure. At least use a password based key generator like PBKDF2."}],"owner":{"account_id":24500505,"reputation":1,"user_id":18416170,"display_name":"Nirbhay Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646980360,"creation_date":1646980360,"question_id":71434477,"body_markdown":"I have got the Java Code from Payment Gateway for encryption of data. But My system is in PHP and I am trying to encrypt the same data in PHP. But I am getting different result. I tried all the help available but didn&#39;t got solution.\r\n\r\nEncrypted Result can be tested by entering the encdata in https://mirror.kbzbank.com/B001/directpay.html\r\n\r\nI believe I am missing some steps and I am not able to find what&#39;s wrong in my PHP code. Any suggestion or help would be grateful.\r\n\r\nJava Code:\r\n\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class AesCipher {\r\n        public static final int INIT_VECTOR_LENGTH = 16;\r\n        /**\r\n         * @see &lt;a href=&quot;https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java&quot;&gt;how-to-convert-a-byte-array-to-a-hex-string&lt;/a&gt;\r\n         */\r\n        private final static char[] hexArray = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    \r\n        /**\r\n         * Encoded/Decoded data\r\n         */\r\n        protected String data;\r\n        /**\r\n         * Initialization vector value\r\n         */\r\n        protected String initVector;\r\n        /**\r\n         * Error message if operation failed\r\n         */\r\n        protected String errorMessage;\r\n    \r\n        private AesCipher() {\r\n            super();\r\n        }\r\n    \r\n        /**\r\n         * AesCipher constructor.\r\n         *\r\n         * @param initVector   Initialization vector value\r\n         * @param data         Encoded/Decoded data\r\n         * @param errorMessage Error message if operation failed\r\n         */\r\n        private AesCipher( String initVector,  String data, String errorMessage) {\r\n            super();\r\n    \r\n            this.initVector = initVector;\r\n            this.data = data;\r\n            this.errorMessage = errorMessage;\r\n        }\r\n    \r\n        /**\r\n         * Encrypt input text by AES-128-CBC algorithm\r\n         *\r\n         * @param secretKey 16/24/32 -characters secret password\r\n         * @param plainText Text for encryption\r\n         * @return Encoded string or NULL if error\r\n         */\r\n        public static AesCipher encrypt(String secretKey, String plainText) {\r\n            String initVector = null;\r\n            try {\r\n                // Check secret length\r\n                if (!isKeyLengthValid(secretKey)) {\r\n                    throw new Exception(&quot;Secret key&#39;s length must be 128, 192 or 256 bits&quot;);\r\n                }\r\n                \r\n                byte[] l_encrypted = null;\r\n                Cipher l_encrcipher = null;\r\n    \r\n                final byte[] keyBytes = new byte[16];\r\n                byte[] pwdBytes = null;\r\n    \r\n                pwdBytes = secretKey.getBytes(&quot;UTF-8&quot;);\r\n                \r\n                System.arraycopy(pwdBytes, 0, keyBytes, 0, pwdBytes.length);\r\n                \r\n                l_encrcipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n                final SecretKeySpec skeySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n                final IvParameterSpec ivParamSpec = new IvParameterSpec(keyBytes);\r\n                l_encrcipher.init(1, skeySpec, ivParamSpec);\r\n                l_encrypted = l_encrcipher.doFinal(plainText.getBytes());\r\n                \r\n                String result = Base64.getEncoder().encodeToString(l_encrypted);\r\n                result =  result.replaceAll(&quot;\\\\r\\\\n&quot;,&quot;&quot;);\r\n    \r\n                // Return successful encoded object\r\n                return new AesCipher(initVector, result, null);\r\n                \r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n                // Operation failed\r\n                return new AesCipher(initVector, null, t.getMessage());\r\n            }\r\n        }\r\n        \r\n    \r\n        /**\r\n         * Check that secret password length is valid\r\n         *\r\n         * @param key 16/24/32 -characters secret password\r\n         * @return TRUE if valid, FALSE otherwise\r\n         */\r\n        public static boolean isKeyLengthValid(String key) {\r\n            return key.length() == 6 || key.length() == 16 || key.length() == 24 || key.length() == 32;\r\n        }\r\n    \r\n        /**\r\n         * Convert Bytes to HEX\r\n         *\r\n         * @param bytes Bytes array\r\n         * @return String with bytes values\r\n         */\r\n        public static String bytesToHex(byte[] bytes) {\r\n            char[] hexChars = new char[bytes.length * 2];\r\n            for (int j = 0; j &lt; bytes.length; j++) {\r\n                int v = bytes[j] &amp; 0xFF;\r\n                hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n                hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n            }\r\n            return new String(hexChars);\r\n        }\r\n    \r\n        /**\r\n         * Get encoded/decoded data\r\n         */\r\n        public String getData() {\r\n            return data;\r\n        }\r\n    \r\n        /**\r\n         * Get initialization vector value\r\n         */\r\n        public String getInitVector() {\r\n            return initVector;\r\n        }\r\n    \r\n        /**\r\n         * Get error message\r\n         */\r\n        public String getErrorMessage() {\r\n            return errorMessage;\r\n        }\r\n    \r\n        /**\r\n         * Check that operation failed\r\n         *\r\n         * @return TRUE if failed, FALSE otherwise\r\n         */\r\n        public boolean hasError() {\r\n            return this.errorMessage != null;\r\n        }\r\n    \r\n        /**\r\n         * To string return resulting data\r\n         *\r\n         * @return Encoded/decoded data\r\n         */\r\n        public String toString() {\r\n            return getData();\r\n        }\r\n        \r\n        \r\n        public static void main(String[] args) {\r\n            // USAGE\r\n            String secretKey = &quot;S%Y#N@&quot;;\r\n            String text = &quot;fldClientCode=101|fldMerchCode=EPI0008|fldTxnCurr=MMK|fldTxnAmt=1000|fldTxnScAmt=0|fldMerchRefNbr=ACBS12345|fldSucStatFlg=N|fldFailStatFlg=N|fldDatTimeTxn=07/03/202213:01:01|checkSum=f0b04f0915619669987de294e4c1931d&quot;;\r\n    \r\n            AesCipher encrypted = AesCipher.encrypt(secretKey, text);\r\n            System.out.println(encrypted.getData());\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nPHP Code I am trying :\r\n\r\n    &lt;?php\r\n    \r\n    /**\r\n     * AesCipher\r\n     *\r\n     * Encode/Decode text by password using AES-128-CBC algorithm\r\n     */\r\n    class AesCipher\r\n    {\r\n        const CIPHER = &#39;AES-128-CBC&#39;;\r\n        const INIT_VECTOR_LENGTH = 16;\r\n    \r\n        /**\r\n         * Encoded/Decoded data\r\n         *\r\n         * @var null|string\r\n         */\r\n        protected $data;\r\n        /**\r\n         * Initialization vector value\r\n         *\r\n         * @var string\r\n         */\r\n        protected $initVector;\r\n        /**\r\n         * Error message if operation failed\r\n         *\r\n         * @var null|string\r\n         */\r\n        protected $errorMessage;\r\n    \r\n        /**\r\n         * AesCipher constructor.\r\n         *\r\n         * @param string $initVector        Initialization vector value\r\n         * @param string|null $data         Encoded/Decoded data\r\n         * @param string|null $errorMessage Error message if operation failed\r\n         */\r\n        public function __construct($initVector, $data = null, $errorMessage = null)\r\n        {\r\n            $this-&gt;initVector = $initVector;\r\n            $this-&gt;data = $data;\r\n            $this-&gt;errorMessage = $errorMessage;\r\n        }\r\n    \r\n        /**\r\n         * Encrypt input text by AES-128-CBC algorithm\r\n         *\r\n         * @param string $secretKey 16/24/32 -characters secret password\r\n         * @param string $plainText Text for encryption\r\n         *\r\n         * @return self Self object instance with data or error message\r\n         */\r\n        public static function encrypt($secretKey, $plainText)\r\n        {\r\n            try {\r\n                // Check secret length\r\n                if (!static::isKeyLengthValid($secretKey)) {\r\n                    throw new \\InvalidArgumentException(&quot;Secret key&#39;s length must be 128, 192 or 256 bits&quot;);\r\n                }\r\n    \r\n                // Get random initialization vector\r\n                $initVector = bin2hex(openssl_random_pseudo_bytes(static::INIT_VECTOR_LENGTH / 2));\r\n    \r\n                // Encrypt input text\r\n                $raw = openssl_encrypt(\r\n                    $plainText,\r\n                    static::CIPHER,\r\n                    $secretKey,\r\n                    OPENSSL_RAW_DATA,\r\n                    $initVector\r\n                );\r\n    \r\n                // Return base64-encoded string: initVector + encrypted result\r\n                $result = base64_encode($initVector . $raw);\r\n    \r\n                if ($result === false) {\r\n                    // Operation failed\r\n                    return new static($initVector, null, openssl_error_string());\r\n                }\r\n    \r\n                // Return successful encoded object\r\n                return new static($initVector, $result);\r\n            } catch (\\Exception $e) {\r\n                // Operation failed\r\n                return new static(isset($initVector), null, $e-&gt;getMessage());\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Decrypt encoded text by AES-128-CBC algorithm\r\n         *\r\n         * @param string $secretKey  16/24/32 -characters secret password\r\n         * @param string $cipherText Encrypted text\r\n         *\r\n         * @return self Self object instance with data or error message\r\n         */\r\n        public static function decrypt($secretKey, $cipherText)\r\n        {\r\n            try {\r\n                // Check secret length\r\n                if (!static::isKeyLengthValid($secretKey)) {\r\n                    throw new \\InvalidArgumentException(&quot;Secret key&#39;s length must be 128, 192 or 256 bits&quot;);\r\n                }\r\n    \r\n                // Get raw encoded data\r\n                $encoded = base64_decode($cipherText);\r\n                // Slice initialization vector\r\n                $initVector = substr($encoded, 0, static::INIT_VECTOR_LENGTH);\r\n                // Slice encoded data\r\n                $data = substr($encoded, static::INIT_VECTOR_LENGTH);\r\n    \r\n                // Trying to get decrypted text\r\n                $decoded = openssl_decrypt(\r\n                    $data,\r\n                    static::CIPHER,\r\n                    $secretKey,\r\n                    OPENSSL_RAW_DATA,\r\n                    $initVector\r\n                );\r\n    \r\n                if ($decoded === false) {\r\n                    // Operation failed\r\n                    return new static(isset($initVector), null, openssl_error_string());\r\n                }\r\n    \r\n                // Return successful decoded object\r\n                return new static($initVector, $decoded);\r\n            } catch (\\Exception $e) {\r\n                // Operation failed\r\n                return new static(isset($initVector), null, $e-&gt;getMessage());\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Check that secret password length is valid\r\n         *\r\n         * @param string $secretKey 16/24/32 -characters secret password\r\n         *\r\n         * @return bool\r\n         */\r\n        public static function isKeyLengthValid($secretKey)\r\n        {\r\n            $length = strlen($secretKey);\r\n    \r\n            return $length == 6 || $length == 16 || $length == 24 || $length == 32;\r\n        }\r\n    \r\n        /**\r\n         * Get encoded/decoded data\r\n         *\r\n         * @return string|null\r\n         */\r\n        public function getData()\r\n        {\r\n            return $this-&gt;data;\r\n        }\r\n    \r\n        /**\r\n         * Get initialization vector value\r\n         *\r\n         * @return string|null\r\n         */\r\n        public function getInitVector()\r\n        {\r\n            return $this-&gt;initVector;\r\n        }\r\n    \r\n        /**\r\n         * Get error message\r\n         *\r\n         * @return string|null\r\n         */\r\n        public function getErrorMessage()\r\n        {\r\n            return $this-&gt;errorMessage;\r\n        }\r\n    \r\n        /**\r\n         * Check that operation failed\r\n         *\r\n         * @return bool\r\n         */\r\n        public function hasError()\r\n        {\r\n            return $this-&gt;errorMessage !== null;\r\n        }\r\n    \r\n        /**\r\n         * To string return resulting data\r\n         *\r\n         * @return null|string\r\n         */\r\n        public function __toString()\r\n        {\r\n            return $this-&gt;getData();\r\n        }\r\n    }\r\n    \r\n    // USAGE\r\n    \r\n    $secretKey = &#39;S%Y#N@&#39;;\r\n    $text = &quot;fldClientCode=101|fldMerchCode=EPI0008|fldTxnCurr=MMK|fldTxnAmt=1000|fldTxnScAmt=0|fldMerchRefNbr=ACBS12345|fldSucStatFlg=N|fldFailStatFlg=N|fldDatTimeTxn=07/03/202213:01:01|checkSum=f0b04f0915619669987de294e4c1931d&quot;;\r\n    \r\n    $encrypted = AesCipher::encrypt($secretKey, $text);\r\n    print_r($encrypted);\r\n    $decrypted = AesCipher::decrypt($secretKey, $encrypted);\r\n    \r\n    $encrypted-&gt;hasError(); // TRUE if operation failed, FALSE otherwise\r\n    $encrypted-&gt;getData(); // Encoded/Decoded result\r\n    $encrypted-&gt;getInitVector(); // Get used (random if encode) init vector\r\n    // $decrypted-&gt;* has identical methods\r\n","title":"Unable to get correct encrypted result in my PHP","body":"<p>I have got the Java Code from Payment Gateway for encryption of data. But My system is in PHP and I am trying to encrypt the same data in PHP. But I am getting different result. I tried all the help available but didn't got solution.</p>\n<p>Encrypted Result can be tested by entering the encdata in <a href=\"https://mirror.kbzbank.com/B001/directpay.html\" rel=\"nofollow noreferrer\">https://mirror.kbzbank.com/B001/directpay.html</a></p>\n<p>I believe I am missing some steps and I am not able to find what's wrong in my PHP code. Any suggestion or help would be grateful.</p>\n<p>Java Code:</p>\n<pre><code>import java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class AesCipher {\n    public static final int INIT_VECTOR_LENGTH = 16;\n    /**\n     * @see &lt;a href=&quot;https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java&quot;&gt;how-to-convert-a-byte-array-to-a-hex-string&lt;/a&gt;\n     */\n    private final static char[] hexArray = &quot;0123456789ABCDEF&quot;.toCharArray();\n\n    /**\n     * Encoded/Decoded data\n     */\n    protected String data;\n    /**\n     * Initialization vector value\n     */\n    protected String initVector;\n    /**\n     * Error message if operation failed\n     */\n    protected String errorMessage;\n\n    private AesCipher() {\n        super();\n    }\n\n    /**\n     * AesCipher constructor.\n     *\n     * @param initVector   Initialization vector value\n     * @param data         Encoded/Decoded data\n     * @param errorMessage Error message if operation failed\n     */\n    private AesCipher( String initVector,  String data, String errorMessage) {\n        super();\n\n        this.initVector = initVector;\n        this.data = data;\n        this.errorMessage = errorMessage;\n    }\n\n    /**\n     * Encrypt input text by AES-128-CBC algorithm\n     *\n     * @param secretKey 16/24/32 -characters secret password\n     * @param plainText Text for encryption\n     * @return Encoded string or NULL if error\n     */\n    public static AesCipher encrypt(String secretKey, String plainText) {\n        String initVector = null;\n        try {\n            // Check secret length\n            if (!isKeyLengthValid(secretKey)) {\n                throw new Exception(&quot;Secret key's length must be 128, 192 or 256 bits&quot;);\n            }\n            \n            byte[] l_encrypted = null;\n            Cipher l_encrcipher = null;\n\n            final byte[] keyBytes = new byte[16];\n            byte[] pwdBytes = null;\n\n            pwdBytes = secretKey.getBytes(&quot;UTF-8&quot;);\n            \n            System.arraycopy(pwdBytes, 0, keyBytes, 0, pwdBytes.length);\n            \n            l_encrcipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            final SecretKeySpec skeySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n            final IvParameterSpec ivParamSpec = new IvParameterSpec(keyBytes);\n            l_encrcipher.init(1, skeySpec, ivParamSpec);\n            l_encrypted = l_encrcipher.doFinal(plainText.getBytes());\n            \n            String result = Base64.getEncoder().encodeToString(l_encrypted);\n            result =  result.replaceAll(&quot;\\\\r\\\\n&quot;,&quot;&quot;);\n\n            // Return successful encoded object\n            return new AesCipher(initVector, result, null);\n            \n        } catch (Throwable t) {\n            t.printStackTrace();\n            // Operation failed\n            return new AesCipher(initVector, null, t.getMessage());\n        }\n    }\n    \n\n    /**\n     * Check that secret password length is valid\n     *\n     * @param key 16/24/32 -characters secret password\n     * @return TRUE if valid, FALSE otherwise\n     */\n    public static boolean isKeyLengthValid(String key) {\n        return key.length() == 6 || key.length() == 16 || key.length() == 24 || key.length() == 32;\n    }\n\n    /**\n     * Convert Bytes to HEX\n     *\n     * @param bytes Bytes array\n     * @return String with bytes values\n     */\n    public static String bytesToHex(byte[] bytes) {\n        char[] hexChars = new char[bytes.length * 2];\n        for (int j = 0; j &lt; bytes.length; j++) {\n            int v = bytes[j] &amp; 0xFF;\n            hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n            hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\n        }\n        return new String(hexChars);\n    }\n\n    /**\n     * Get encoded/decoded data\n     */\n    public String getData() {\n        return data;\n    }\n\n    /**\n     * Get initialization vector value\n     */\n    public String getInitVector() {\n        return initVector;\n    }\n\n    /**\n     * Get error message\n     */\n    public String getErrorMessage() {\n        return errorMessage;\n    }\n\n    /**\n     * Check that operation failed\n     *\n     * @return TRUE if failed, FALSE otherwise\n     */\n    public boolean hasError() {\n        return this.errorMessage != null;\n    }\n\n    /**\n     * To string return resulting data\n     *\n     * @return Encoded/decoded data\n     */\n    public String toString() {\n        return getData();\n    }\n    \n    \n    public static void main(String[] args) {\n        // USAGE\n        String secretKey = &quot;S%Y#N@&quot;;\n        String text = &quot;fldClientCode=101|fldMerchCode=EPI0008|fldTxnCurr=MMK|fldTxnAmt=1000|fldTxnScAmt=0|fldMerchRefNbr=ACBS12345|fldSucStatFlg=N|fldFailStatFlg=N|fldDatTimeTxn=07/03/202213:01:01|checkSum=f0b04f0915619669987de294e4c1931d&quot;;\n\n        AesCipher encrypted = AesCipher.encrypt(secretKey, text);\n        System.out.println(encrypted.getData());\n\n    }\n\n}\n</code></pre>\n<p>PHP Code I am trying :</p>\n<pre><code>&lt;?php\n\n/**\n * AesCipher\n *\n * Encode/Decode text by password using AES-128-CBC algorithm\n */\nclass AesCipher\n{\n    const CIPHER = 'AES-128-CBC';\n    const INIT_VECTOR_LENGTH = 16;\n\n    /**\n     * Encoded/Decoded data\n     *\n     * @var null|string\n     */\n    protected $data;\n    /**\n     * Initialization vector value\n     *\n     * @var string\n     */\n    protected $initVector;\n    /**\n     * Error message if operation failed\n     *\n     * @var null|string\n     */\n    protected $errorMessage;\n\n    /**\n     * AesCipher constructor.\n     *\n     * @param string $initVector        Initialization vector value\n     * @param string|null $data         Encoded/Decoded data\n     * @param string|null $errorMessage Error message if operation failed\n     */\n    public function __construct($initVector, $data = null, $errorMessage = null)\n    {\n        $this-&gt;initVector = $initVector;\n        $this-&gt;data = $data;\n        $this-&gt;errorMessage = $errorMessage;\n    }\n\n    /**\n     * Encrypt input text by AES-128-CBC algorithm\n     *\n     * @param string $secretKey 16/24/32 -characters secret password\n     * @param string $plainText Text for encryption\n     *\n     * @return self Self object instance with data or error message\n     */\n    public static function encrypt($secretKey, $plainText)\n    {\n        try {\n            // Check secret length\n            if (!static::isKeyLengthValid($secretKey)) {\n                throw new \\InvalidArgumentException(&quot;Secret key's length must be 128, 192 or 256 bits&quot;);\n            }\n\n            // Get random initialization vector\n            $initVector = bin2hex(openssl_random_pseudo_bytes(static::INIT_VECTOR_LENGTH / 2));\n\n            // Encrypt input text\n            $raw = openssl_encrypt(\n                $plainText,\n                static::CIPHER,\n                $secretKey,\n                OPENSSL_RAW_DATA,\n                $initVector\n            );\n\n            // Return base64-encoded string: initVector + encrypted result\n            $result = base64_encode($initVector . $raw);\n\n            if ($result === false) {\n                // Operation failed\n                return new static($initVector, null, openssl_error_string());\n            }\n\n            // Return successful encoded object\n            return new static($initVector, $result);\n        } catch (\\Exception $e) {\n            // Operation failed\n            return new static(isset($initVector), null, $e-&gt;getMessage());\n        }\n    }\n\n    /**\n     * Decrypt encoded text by AES-128-CBC algorithm\n     *\n     * @param string $secretKey  16/24/32 -characters secret password\n     * @param string $cipherText Encrypted text\n     *\n     * @return self Self object instance with data or error message\n     */\n    public static function decrypt($secretKey, $cipherText)\n    {\n        try {\n            // Check secret length\n            if (!static::isKeyLengthValid($secretKey)) {\n                throw new \\InvalidArgumentException(&quot;Secret key's length must be 128, 192 or 256 bits&quot;);\n            }\n\n            // Get raw encoded data\n            $encoded = base64_decode($cipherText);\n            // Slice initialization vector\n            $initVector = substr($encoded, 0, static::INIT_VECTOR_LENGTH);\n            // Slice encoded data\n            $data = substr($encoded, static::INIT_VECTOR_LENGTH);\n\n            // Trying to get decrypted text\n            $decoded = openssl_decrypt(\n                $data,\n                static::CIPHER,\n                $secretKey,\n                OPENSSL_RAW_DATA,\n                $initVector\n            );\n\n            if ($decoded === false) {\n                // Operation failed\n                return new static(isset($initVector), null, openssl_error_string());\n            }\n\n            // Return successful decoded object\n            return new static($initVector, $decoded);\n        } catch (\\Exception $e) {\n            // Operation failed\n            return new static(isset($initVector), null, $e-&gt;getMessage());\n        }\n    }\n\n    /**\n     * Check that secret password length is valid\n     *\n     * @param string $secretKey 16/24/32 -characters secret password\n     *\n     * @return bool\n     */\n    public static function isKeyLengthValid($secretKey)\n    {\n        $length = strlen($secretKey);\n\n        return $length == 6 || $length == 16 || $length == 24 || $length == 32;\n    }\n\n    /**\n     * Get encoded/decoded data\n     *\n     * @return string|null\n     */\n    public function getData()\n    {\n        return $this-&gt;data;\n    }\n\n    /**\n     * Get initialization vector value\n     *\n     * @return string|null\n     */\n    public function getInitVector()\n    {\n        return $this-&gt;initVector;\n    }\n\n    /**\n     * Get error message\n     *\n     * @return string|null\n     */\n    public function getErrorMessage()\n    {\n        return $this-&gt;errorMessage;\n    }\n\n    /**\n     * Check that operation failed\n     *\n     * @return bool\n     */\n    public function hasError()\n    {\n        return $this-&gt;errorMessage !== null;\n    }\n\n    /**\n     * To string return resulting data\n     *\n     * @return null|string\n     */\n    public function __toString()\n    {\n        return $this-&gt;getData();\n    }\n}\n\n// USAGE\n\n$secretKey = 'S%Y#N@';\n$text = &quot;fldClientCode=101|fldMerchCode=EPI0008|fldTxnCurr=MMK|fldTxnAmt=1000|fldTxnScAmt=0|fldMerchRefNbr=ACBS12345|fldSucStatFlg=N|fldFailStatFlg=N|fldDatTimeTxn=07/03/202213:01:01|checkSum=f0b04f0915619669987de294e4c1931d&quot;;\n\n$encrypted = AesCipher::encrypt($secretKey, $text);\nprint_r($encrypted);\n$decrypted = AesCipher::decrypt($secretKey, $encrypted);\n\n$encrypted-&gt;hasError(); // TRUE if operation failed, FALSE otherwise\n$encrypted-&gt;getData(); // Encoded/Decoded result\n$encrypted-&gt;getInitVector(); // Get used (random if encode) init vector\n// $decrypted-&gt;* has identical methods\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1646146004,"post_id":71290389,"comment_id":126047911,"body_markdown":"First, there is no such `springVersion` property in `pom.xml`, it&#39;s `spring-boot.version.` Check with `mvnw dependency:tree` to see resolved versions.","body":"First, there is no such <code>springVersion</code> property in <code>pom.xml</code>, it&#39;s <code>spring-boot.version.</code> Check with <code>mvnw dependency:tree</code> to see resolved versions."}],"answers":[{"tags":[],"owner":{"account_id":5147284,"reputation":2911,"user_id":4122894,"display_name":"sixrandanes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646980351,"creation_date":1646874022,"answer_id":71417687,"question_id":71290389,"body_markdown":"You should check jhipster-dependencies and upgrade it ! The spring boot version comes with this d&#233;pendancy.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    implementation platform(&quot;tech.jhipster:jhipster-dependencies:${jhipster_dependencies_version}&quot; )\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Upgrade springboot version from 2.4.7 to 2.6.3 on a project generated by JHipster","body":"<p>You should check jhipster-dependencies and upgrade it ! The spring boot version comes with this dÃ©pendancy.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>implementation platform(\"tech.jhipster:jhipster-dependencies:${jhipster_dependencies_version}\" )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":8645884,"reputation":940,"user_id":6473089,"accept_rate":40,"display_name":"Varad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646980351,"creation_date":1646020258,"question_id":71290389,"body_markdown":"I have generated a project using jHipster 7.1.0 which created an application (monolith) without client for me using springboot version 2.4.7\r\n\r\nWith recent times after release of new versions of spring I would like to upgrade and fix dependencies of spring to 2.6.3\r\n\r\nEven though I update the `springVersion` in `pom.xml` I don&#39;t see the change of version when I start the project. Any information will be of great help.\r\n\r\n","title":"Upgrade springboot version from 2.4.7 to 2.6.3 on a project generated by JHipster","body":"<p>I have generated a project using jHipster 7.1.0 which created an application (monolith) without client for me using springboot version 2.4.7</p>\n<p>With recent times after release of new versions of spring I would like to upgrade and fix dependencies of spring to 2.6.3</p>\n<p>Even though I update the <code>springVersion</code> in <code>pom.xml</code> I don't see the change of version when I start the project. Any information will be of great help.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":6515158,"reputation":1,"user_id":5041225,"display_name":"Harshil Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646946896,"creation_date":1646946896,"answer_id":71430889,"question_id":71429326,"body_markdown":"I don&#39;t see your property file here, but most likely you are missing below properties in your `application.properties` file:\r\n\r\n    spring.data.mongodb.uri=mongodb://&lt;username&gt;:&lt;pwd&gt;@&lt;host&gt;/datatbase_name","title":"No error in API but in MongoDB my data is not getting initialized","body":"<p>I don't see your property file here, but most likely you are missing below properties in your <code>application.properties</code> file:</p>\n<pre><code>spring.data.mongodb.uri=mongodb://&lt;username&gt;:&lt;pwd&gt;@&lt;host&gt;/datatbase_name\n</code></pre>\n"}],"owner":{"account_id":18355622,"reputation":11,"user_id":13368740,"display_name":"Shivam Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646980241,"creation_date":1646938295,"question_id":71429326,"body_markdown":"I am newbie coder and I am trying to create a Spring boot API using MongoDB. This is the schema template of the database.\r\n\r\n```\r\n{\r\n&quot;id&quot;:&quot;string&quot;,\r\n&quot;user_name&quot;:&quot;string&quot;\r\n&quot;product&quot;:[\r\n  {\r\n    &quot;product_id&quot;:&quot;string&quot;,\r\n    &quot;prod_name&quot;:&quot;string&quot;,\r\n    &quot;price&quot;:&quot;double&quot;,\r\n    &quot;quantity&quot;:&quot;number&quot;,\r\n    \r\n  }],\r\n  &quot;total&quot;:&quot;double&quot;\r\n}\r\n```\r\nThis is my entity class User.java\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Document(collection=&quot;user&quot;)\r\npublic class User {\r\n\t\r\n\t@Id\r\n\tprivate String id;\r\n\t\r\n\t\r\n\t@Indexed(unique=true)\r\n\tprivate String user_name;\r\n\t\r\n\tprivate Product product;\r\n\t\r\n\t\r\n\tprivate double total;\r\n\t\r\n\r\n\t\r\n}\r\n```\r\nThis is another entity class Product.java\r\n```\r\n@Getter\r\n@Setter\r\n@Document(collection=&quot;product&quot;)\r\npublic class Product {\r\n\t\r\n\t@Id\r\n\tprivate String prod_id;\r\n\t\r\n\t@Indexed(unique=true)\r\n\tprivate String prod_name;\r\n\t\r\n\tprivate double price;\r\n\tprivate int quantity;\r\n\t\t\r\n\r\n}\r\n\r\n```\r\nThis is my UserRepository.java interface\r\n```\r\n@Repository\r\npublic interface UserRepository extends MongoRepository&lt;User,String&gt; {\r\n}\r\n```\r\nThis is my UserService.java interface\r\n```\r\npublic interface UserService {\r\n\tvoid saveUser(User user);\r\n\r\n}\r\n```\r\nThis is my UserServiceImpl.java class\r\n```\r\n@Service\r\npublic class UserServiceImpl implements UserService {\r\n\r\n\t@Autowired\r\n\tUserRepository userRepo;\r\n\t\r\n\t@Override\r\n\tpublic void saveUser(User user) {\r\n\t\t\r\n\t\tuserRepo.save(user);\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\nThis is my UserController.java class\r\n```\r\n\r\n@RestController\r\n@RequestMapping(&quot;/usercart&quot;)\r\npublic class UserController {\r\n\t\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\t\r\n\t\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic List&lt;User&gt; getCartInfo()\r\n\t{\r\n\t\treturn userRepository.findAll();\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/order&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; add(@RequestBody User user)\r\n\t{\r\n\t\tuserService.saveUser(user);\r\n\t\treturn  new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n\t\t\r\n\t}\r\n}\r\n```\r\nThis is my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cartDemo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;cartDemo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nThis is my application.properties file\r\n```\r\nspring.data.mongodb.host=localhost\r\nspring.data.mongodb.port=27017\r\nspring.data.mongodb.database=UserCart\r\n```\r\nWhen I try to use post method like\r\n``` localhost:8080/usercart/order\r\n Body -\r\n{ &quot;id&quot;:&quot;1222&quot;, \r\n&quot;user_name&quot;:&quot;shivam&quot;, \r\n&quot;product&quot;:[{\r\n &quot;prod_id&quot;:&quot;w121&quot;, &quot;prod_name&quot;:&quot;wheel&quot;,\r\n &quot;price&quot;:10,\r\n &quot;quantity&quot;:1 }], \r\n&quot;total&quot;:10 }.\r\n My MongoDB object looks like - _id:ObjectId(&quot;e6789&quot;) \r\ntotal :0, _class:&quot;com.trial.spring.api.user.User&quot; \r\n```","title":"No error in API but in MongoDB my data is not getting initialized","body":"<p>I am newbie coder and I am trying to create a Spring boot API using MongoDB. This is the schema template of the database.</p>\n<pre><code>{\n&quot;id&quot;:&quot;string&quot;,\n&quot;user_name&quot;:&quot;string&quot;\n&quot;product&quot;:[\n  {\n    &quot;product_id&quot;:&quot;string&quot;,\n    &quot;prod_name&quot;:&quot;string&quot;,\n    &quot;price&quot;:&quot;double&quot;,\n    &quot;quantity&quot;:&quot;number&quot;,\n    \n  }],\n  &quot;total&quot;:&quot;double&quot;\n}\n</code></pre>\n<p>This is my entity class User.java</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Document(collection=&quot;user&quot;)\npublic class User {\n    \n    @Id\n    private String id;\n    \n    \n    @Indexed(unique=true)\n    private String user_name;\n    \n    private Product product;\n    \n    \n    private double total;\n    \n\n    \n}\n</code></pre>\n<p>This is another entity class Product.java</p>\n<pre><code>@Getter\n@Setter\n@Document(collection=&quot;product&quot;)\npublic class Product {\n    \n    @Id\n    private String prod_id;\n    \n    @Indexed(unique=true)\n    private String prod_name;\n    \n    private double price;\n    private int quantity;\n        \n\n}\n\n</code></pre>\n<p>This is my UserRepository.java interface</p>\n<pre><code>@Repository\npublic interface UserRepository extends MongoRepository&lt;User,String&gt; {\n}\n</code></pre>\n<p>This is my UserService.java interface</p>\n<pre><code>public interface UserService {\n    void saveUser(User user);\n\n}\n</code></pre>\n<p>This is my UserServiceImpl.java class</p>\n<pre><code>@Service\npublic class UserServiceImpl implements UserService {\n\n    @Autowired\n    UserRepository userRepo;\n    \n    @Override\n    public void saveUser(User user) {\n        \n        userRepo.save(user);        \n    }\n\n}\n\n</code></pre>\n<p>This is my UserController.java class</p>\n<pre><code>\n@RestController\n@RequestMapping(&quot;/usercart&quot;)\npublic class UserController {\n    \n    @Autowired\n    private UserService userService;\n    \n    @Autowired\n    private UserRepository userRepository;\n    \n    \n    @GetMapping(&quot;/&quot;)\n    public List&lt;User&gt; getCartInfo()\n    {\n        return userRepository.findAll();\n    }\n    \n    @PostMapping(&quot;/order&quot;)\n    public ResponseEntity&lt;?&gt; add(@RequestBody User user)\n    {\n        userService.saveUser(user);\n        return  new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        \n    }\n}\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;cartDemo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;cartDemo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is my application.properties file</p>\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=UserCart\n</code></pre>\n<p>When I try to use post method like</p>\n<pre><code> Body -\n{ &quot;id&quot;:&quot;1222&quot;, \n&quot;user_name&quot;:&quot;shivam&quot;, \n&quot;product&quot;:[{\n &quot;prod_id&quot;:&quot;w121&quot;, &quot;prod_name&quot;:&quot;wheel&quot;,\n &quot;price&quot;:10,\n &quot;quantity&quot;:1 }], \n&quot;total&quot;:10 }.\n My MongoDB object looks like - _id:ObjectId(&quot;e6789&quot;) \ntotal :0, _class:&quot;com.trial.spring.api.user.User&quot; \n</code></pre>\n"},{"tags":["java","http","servlets","https"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":1,"creation_date":1646918397,"post_id":71411035,"comment_id":126245738,"body_markdown":"You probably have frontend server (http, proxy, etc) which does SSL termination and forwards your request to Wildfly using plain http. Double check that configuration.","body":"You probably have frontend server (http, proxy, etc) which does SSL termination and forwards your request to Wildfly using plain http. Double check that configuration."},{"owner":{"account_id":9979931,"reputation":2145,"user_id":7383204,"display_name":"Talk is Cheap Show me Code"},"score":0,"creation_date":1646979277,"post_id":71411035,"comment_id":126261858,"body_markdown":"Thanks @Gas, I am rechecking the configuration in somewhere middle.","body":"Thanks @Gas, I am rechecking the configuration in somewhere middle."}],"owner":{"account_id":9979931,"reputation":2145,"user_id":7383204,"display_name":"Talk is Cheap Show me Code"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646980155,"creation_date":1646836474,"question_id":71411035,"body_markdown":"I have 3 different server environments, out of them in one of the server environments the following line in the code is mysteriously converting &quot;HTTPS&quot; Download URL to &quot;HTTP&quot; on redirection \r\n\r\n    response.sendRedirect(response.encodeRedirectURL(publicationURL));\r\n\r\nHere is the complete function which use this line \r\n\r\n   \r\n\r\n     @RequestMapping(value = {&quot;exampleUrlPath&quot;,&quot;exampleUrlPath&quot;})\r\n    \r\n        public ModelAndView downloadDocument(final HttpServletRequest request, final HttpServletResponse response,\r\n                @PathVariable String reportId) throws IOException {\r\n            ModelAndView modelAndView = null;\r\n            final String publicationID = request.getParameter(&quot;publicationId&quot;);\r\n            String publicationURL = retrieveFacade.getPublicationURL(publicationID);\r\n            publicationURL = publicationURL.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;);\r\n            if (null != publicationURL) {\r\n    \r\n               // publication URL is HTTPS here as per the logs... \r\n    \r\n               response.sendRedirect(response.encodeRedirectURL(publicationURL));\r\n            }\r\n            return modelAndView;\r\n        }\r\n\r\nthe strange thing is that it is only happening in one of the environments and not on the other two servers. All three servers are using HTTPS. \r\n\r\nBecause of this conversion, my download is not happening due to the &quot;mixed content&quot; issue. \r\n\r\nWhat type of configuration I should check to overcome this issue. (conf file, htaccess file etc)\r\n\r\nServer info: Apache Wildfly\r\n\r\nHost: AWS \r\n\r\nfound these questions little connected with my issue.\r\n\r\nhttps://stackoverflow.com/questions/18891210/how-to-reproduce-sendredirect-issue-https-change-to-http \r\n\r\nhttps://stackoverflow.com/questions/27542488/how-to-redirect-to-https-on-tomcat-behind-elb\r\n","title":"How to stop sendRedirect and encodeRedirectURL from converting URL from https to http","body":"<p>I have 3 different server environments, out of them in one of the server environments the following line in the code is mysteriously converting &quot;HTTPS&quot; Download URL to &quot;HTTP&quot; on redirection</p>\n<pre><code>response.sendRedirect(response.encodeRedirectURL(publicationURL));\n</code></pre>\n<p>Here is the complete function which use this line</p>\n<pre><code> @RequestMapping(value = {&quot;exampleUrlPath&quot;,&quot;exampleUrlPath&quot;})\n\n    public ModelAndView downloadDocument(final HttpServletRequest request, final HttpServletResponse response,\n            @PathVariable String reportId) throws IOException {\n        ModelAndView modelAndView = null;\n        final String publicationID = request.getParameter(&quot;publicationId&quot;);\n        String publicationURL = retrieveFacade.getPublicationURL(publicationID);\n        publicationURL = publicationURL.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;);\n        if (null != publicationURL) {\n\n           // publication URL is HTTPS here as per the logs... \n\n           response.sendRedirect(response.encodeRedirectURL(publicationURL));\n        }\n        return modelAndView;\n    }\n</code></pre>\n<p>the strange thing is that it is only happening in one of the environments and not on the other two servers. All three servers are using HTTPS.</p>\n<p>Because of this conversion, my download is not happening due to the &quot;mixed content&quot; issue.</p>\n<p>What type of configuration I should check to overcome this issue. (conf file, htaccess file etc)</p>\n<p>Server info: Apache Wildfly</p>\n<p>Host: AWS</p>\n<p>found these questions little connected with my issue.</p>\n<p><a href=\"https://stackoverflow.com/questions/18891210/how-to-reproduce-sendredirect-issue-https-change-to-http\">How to Reproduce sendRedirect issue - HTTPS change to HTTP</a></p>\n<p><a href=\"https://stackoverflow.com/questions/27542488/how-to-redirect-to-https-on-tomcat-behind-elb\">How to redirect to https on tomcat behind ELB</a></p>\n"},{"tags":["java","android","checkbox"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1646978886,"post_id":71434220,"comment_id":126261778,"body_markdown":"Why not just use `RadioGroup` with `RadioButtons`? that&#39;s the motive of this widget ..","body":"Why not just use <code>RadioGroup</code> with <code>RadioButtons</code>? that&#39;s the motive of this widget .."},{"owner":{"account_id":18139105,"reputation":85,"user_id":13193196,"display_name":"nim"},"score":0,"creation_date":1646979063,"post_id":71434220,"comment_id":126261822,"body_markdown":"yes, But here I want to use checkBoxes","body":"yes, But here I want to use checkBoxes"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1646979152,"post_id":71434220,"comment_id":126261836,"body_markdown":"Then handle the state by yourself with code . its not a big deal with two check boxes . Put checked change listener on Both and unchecked the other one if one is checked . You can also try to use Radio Button with Check Box Style . not sure if it will work or not ..","body":"Then handle the state by yourself with code . its not a big deal with two check boxes . Put checked change listener on Both and unchecked the other one if one is checked . You can also try to use Radio Button with Check Box Style . not sure if it will work or not .."}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646979148,"creation_date":1646979148,"answer_id":71434324,"question_id":71434220,"body_markdown":"As mentioned by @ADM radiogroup would be the preferred implementation..\r\n\r\nBut if you have to use a checkbox.\r\nUse this logic \r\n\r\n1. Have an array for the no of checkboxes [false,false,false,false]\r\n\r\n2. Now let&#39;s say you clicked on the second checkbox [false,true,false,false]\r\n\r\n3. Now when you click on 4th checkbox. It should change the fourth false to true and the others to false\r\n\r\n4. Now set the checkbox according to the array \r\n\r\n.\r\n\r\nOr you could use [radiogroup][1] :P as mentioned before which handles state by itself\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6780981/android-radiogroup-how-to-configure-the-event-listener","title":"How to put only one tick from multiple checkbox in android?","body":"<p>As mentioned by @ADM radiogroup would be the preferred implementation..</p>\n<p>But if you have to use a checkbox.\nUse this logic</p>\n<ol>\n<li><p>Have an array for the no of checkboxes [false,false,false,false]</p>\n</li>\n<li><p>Now let's say you clicked on the second checkbox [false,true,false,false]</p>\n</li>\n<li><p>Now when you click on 4th checkbox. It should change the fourth false to true and the others to false</p>\n</li>\n<li><p>Now set the checkbox according to the array</p>\n</li>\n</ol>\n<p>.</p>\n<p>Or you could use <a href=\"https://stackoverflow.com/questions/6780981/android-radiogroup-how-to-configure-the-event-listener\">radiogroup</a> :P as mentioned before which handles state by itself</p>\n"},{"tags":[],"owner":{"account_id":24081976,"reputation":260,"user_id":18056527,"display_name":"Abhi S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646979260,"creation_date":1646979260,"answer_id":71434340,"question_id":71434220,"body_markdown":"You can use the radio button instead of a checkbox.\r\nand if you want to use the checkbox.\r\n```\r\n cbYes.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                    if (cbNo.isChecked){\r\n                    \tcnNo.setCheck(false)\r\n                    }\r\n                    }\r\n                });\r\n cbNo.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                    if (cbYes.isChecked){\r\n                    \tcbYes.setCheck(false)\r\n                    }\r\n                    }\r\n                });\r\n```\r\n","title":"How to put only one tick from multiple checkbox in android?","body":"<p>You can use the radio button instead of a checkbox.\nand if you want to use the checkbox.</p>\n<pre><code> cbYes.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                    if (cbNo.isChecked){\n                        cnNo.setCheck(false)\n                    }\n                    }\n                });\n cbNo.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                    if (cbYes.isChecked){\n                        cbYes.setCheck(false)\n                    }\n                    }\n                });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14186902,"reputation":229,"user_id":10248593,"display_name":"Jinal Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646979934,"creation_date":1646979934,"answer_id":71434425,"question_id":71434220,"body_markdown":"You can put multiple radioButtons inside RadioGroup. You have to just set button attribute to customise it like below,\r\n\r\n   \r\n\r\n    &lt;RadioGroup&gt;\r\n       &lt;androidx.appcompat.widget.AppCompatRadioButton\r\n                                android:id=&quot;@+id/cbYes&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:button=&quot;@drawable/radio_button_selector&quot;\r\n                                android:text=&quot;@string/yes&quot; /&gt;\r\n            \r\n      &lt;androidx.appcompat.widget.AppCompatRadioButton\r\n                                android:id=&quot;@+id/cbNo&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:button=&quot;@drawable/radio_button_selector&quot;\r\n                                android:text=&quot;@string/no&quot; /&gt;\r\n    &lt;/RadioGroup&gt;\r\n\r\n**radio_button_selector.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:drawable=&quot;@drawable/radio_button_selected&quot; android:state_checked=&quot;true&quot; /&gt;\r\n        &lt;item android:drawable=&quot;@drawable/radio_button_unselected&quot; android:state_checked=&quot;false&quot; /&gt;\r\n    &lt;/selector&gt;\r\n\r\n\r\nradio_button_selected &amp; radio_button_unselected will be checkbox drawables/images.\r\n","title":"How to put only one tick from multiple checkbox in android?","body":"<p>You can put multiple radioButtons inside RadioGroup. You have to just set button attribute to customise it like below,</p>\n<pre><code>&lt;RadioGroup&gt;\n   &lt;androidx.appcompat.widget.AppCompatRadioButton\n                            android:id=&quot;@+id/cbYes&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:button=&quot;@drawable/radio_button_selector&quot;\n                            android:text=&quot;@string/yes&quot; /&gt;\n        \n  &lt;androidx.appcompat.widget.AppCompatRadioButton\n                            android:id=&quot;@+id/cbNo&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:button=&quot;@drawable/radio_button_selector&quot;\n                            android:text=&quot;@string/no&quot; /&gt;\n&lt;/RadioGroup&gt;\n</code></pre>\n<p><strong>radio_button_selector.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:drawable=&quot;@drawable/radio_button_selected&quot; android:state_checked=&quot;true&quot; /&gt;\n    &lt;item android:drawable=&quot;@drawable/radio_button_unselected&quot; android:state_checked=&quot;false&quot; /&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>radio_button_selected &amp; radio_button_unselected will be checkbox drawables/images.</p>\n"}],"owner":{"account_id":18139105,"reputation":85,"user_id":13193196,"display_name":"nim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646979934,"creation_date":1646978458,"question_id":71434220,"body_markdown":"```\r\n&lt;LinearLayout\r\n                    android:id=&quot;@+id/checkBoxGroup&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/yes&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;@string/yes&quot; /&gt;\r\n\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/no&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;@string/no&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n```\r\nhere I want to tick for only one checkbox. if I ticked one other should be unticked.","title":"How to put only one tick from multiple checkbox in android?","body":"<pre><code>&lt;LinearLayout\n                    android:id=&quot;@+id/checkBoxGroup&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot;&gt;\n\n                    &lt;CheckBox\n                        android:id=&quot;@+id/yes&quot;\n                        android:layout_width=&quot;0dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;@string/yes&quot; /&gt;\n\n                    &lt;CheckBox\n                        android:id=&quot;@+id/no&quot;\n                        android:layout_width=&quot;0dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;@string/no&quot; /&gt;\n                &lt;/LinearLayout&gt;\n</code></pre>\n<p>here I want to tick for only one checkbox. if I ticked one other should be unticked.</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1646982198,"post_id":71431671,"comment_id":126262526,"body_markdown":"You should post the full stack trace","body":"You should post the full stack trace"},{"owner":{"account_id":11305712,"reputation":23,"user_id":8290406,"display_name":"dsh"},"score":0,"creation_date":1646982963,"post_id":71431671,"comment_id":126262702,"body_markdown":"@AlexK it&#39;s only &quot;java: cannot access java.sql.Connection class file for java.sql.Connection not found&quot;","body":"@AlexK it&#39;s only &quot;java: cannot access java.sql.Connection class file for java.sql.Connection not found&quot;"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1646989398,"post_id":71431671,"comment_id":126264624,"body_markdown":"Did you try to debug? Which line of code cause this error?","body":"Did you try to debug? Which line of code cause this error?"}],"owner":{"account_id":11305712,"reputation":23,"user_id":8290406,"display_name":"dsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646979585,"creation_date":1646952446,"question_id":71431671,"body_markdown":"I&#39;m trying to do a simple report with JasperReport, so I designed the jrxml with Jaspersoft studio and write this code to pass the parameters and generate the pdf:\r\n\r\n``` \r\n            JasperReport jasperReport = JasperCompileManager.compileReport(&quot;path.jrxml&quot;);\r\n\r\n            HashMap&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n            parameters.put(&quot;name&quot;, &quot;name&quot;);\r\n            parameters.put(&quot;lastname&quot;, &quot;lastname&quot;);\r\n\r\n            JasperPrint jp = JasperFillManager.fillReport(jasperReport, parameters, new JREmptyDataSource());\r\n\r\n            JasperExportManager.exportReportToPdfFile(jp, &quot;path_to.pdf&quot;); \r\n```\r\nBut when I run the application I get the error : ```\r\n java: cannot access java.sql.Connection\r\n  class file for java.sql.Connection not found ```\r\nBut I don&#39;t want to use sql connections for a simple report. I tried to remove &quot;JREmptyDataSource()&quot; from the code but I get as output an empty pdf.\r\n\r\nAnyone has some ideas on how to fix this issue? Thanks in advance. \r\n","title":"Simple pdf report with parameters and JasperReport doesn&#39;t work","body":"<p>I'm trying to do a simple report with JasperReport, so I designed the jrxml with Jaspersoft studio and write this code to pass the parameters and generate the pdf:</p>\n<pre><code>            JasperReport jasperReport = JasperCompileManager.compileReport(&quot;path.jrxml&quot;);\n\n            HashMap&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n            parameters.put(&quot;name&quot;, &quot;name&quot;);\n            parameters.put(&quot;lastname&quot;, &quot;lastname&quot;);\n\n            JasperPrint jp = JasperFillManager.fillReport(jasperReport, parameters, new JREmptyDataSource());\n\n            JasperExportManager.exportReportToPdfFile(jp, &quot;path_to.pdf&quot;); \n</code></pre>\n<p>But when I run the application I get the error : <code>java: cannot access java.sql.Connection class file for java.sql.Connection not found</code>\nBut I don't want to use sql connections for a simple report. I tried to remove &quot;JREmptyDataSource()&quot; from the code but I get as output an empty pdf.</p>\n<p>Anyone has some ideas on how to fix this issue? Thanks in advance.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1146358,"reputation":405,"user_id":1129010,"display_name":"Lenin Lambis"},"score":1,"creation_date":1646870211,"post_id":71417293,"comment_id":126233493,"body_markdown":"your application context may be null, you could try: https://stackoverflow.com/questions/16004891/why-getapplicationcontext-in-constructor-of-activity-throws-null-pointer-excep","body":"your application context may be null, you could try: <a href=\"https://stackoverflow.com/questions/16004891/why-getapplicationcontext-in-constructor-of-activity-throws-null-pointer-excep\" title=\"why getapplicationcontext in constructor of activity throws null pointer excep\">stackoverflow.com/questions/16004891/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6764827,"reputation":61,"user_id":5210138,"display_name":"RAMCODER"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646979438,"creation_date":1646979438,"answer_id":71434364,"question_id":71417293,"body_markdown":"        KeyboardUtilKt.hideKeyboard(this); try to check hideKeyboard method or function have any null safety or not. look like context null checker with java and kotlin code.`\r\n please add more details\r\n","title":"mContext Parameter specified as non-null is null","body":"<pre><code>    KeyboardUtilKt.hideKeyboard(this); try to check hideKeyboard method or function have any null safety or not. look like context null checker with java and kotlin code.`\n</code></pre>\n<p>please add more details</p>\n"}],"owner":{"account_id":23882463,"reputation":3,"user_id":17882998,"display_name":"azzqssm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1647568444,"answer_count":1,"score":-1,"last_activity_date":1646979438,"creation_date":1646869619,"question_id":71417293,"body_markdown":"I got this error when start SplashScreenActivity :\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3LpPz.jpg\r\n\r\nAny help would be highly appreciated, Thank you\r\n\r\n--&gt; &quot;onCreate code on SplashScreenActivity&quot;\r\n\r\n    public void onCreate(@Nullable  Bundle bundle) {\r\n            super.onCreate(bundle);\r\n            getWindow().setFlags(1024, 1024);\r\n            setContentView(R.layout.activity_splash_screen);\r\n            if (!NetworkManager.isInternetConnected(getApplicationContext())) {\r\n                this.SPLASH_DELAY = 1000;\r\n            }\r\n            EventsHelper.INSTANCE.addEvent(this, SplashScreenActivityKt.TAG);\r\n            NotificationUtilKt.openPlayStoreFromNotificationClick((Activity) this);\r\n        }\r\n\r\n--&gt; &quot;onCreate code on BaseActivity&quot;\r\n\r\n    public void onCreate(@Nullable Bundle bundle) {\r\n            // this.job = JobKt.Job$default((Job) null, 1, (Object) null);\r\n            super.onCreate(bundle);\r\n            KeyboardUtilKt.hideKeyboard(this);\r\n        }\r\n\r\n\r\n","title":"mContext Parameter specified as non-null is null","body":"<p>I got this error when start SplashScreenActivity :</p>\n<p><a href=\"https://i.stack.imgur.com/3LpPz.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Any help would be highly appreciated, Thank you</p>\n<p>--&gt; &quot;onCreate code on SplashScreenActivity&quot;</p>\n<pre><code>public void onCreate(@Nullable  Bundle bundle) {\n        super.onCreate(bundle);\n        getWindow().setFlags(1024, 1024);\n        setContentView(R.layout.activity_splash_screen);\n        if (!NetworkManager.isInternetConnected(getApplicationContext())) {\n            this.SPLASH_DELAY = 1000;\n        }\n        EventsHelper.INSTANCE.addEvent(this, SplashScreenActivityKt.TAG);\n        NotificationUtilKt.openPlayStoreFromNotificationClick((Activity) this);\n    }\n</code></pre>\n<p>--&gt; &quot;onCreate code on BaseActivity&quot;</p>\n<pre><code>public void onCreate(@Nullable Bundle bundle) {\n        // this.job = JobKt.Job$default((Job) null, 1, (Object) null);\n        super.onCreate(bundle);\n        KeyboardUtilKt.hideKeyboard(this);\n    }\n</code></pre>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1646979164,"post_id":71434298,"comment_id":126261839,"body_markdown":"Why are you trying to convert something to itself?","body":"Why are you trying to convert something to itself?"},{"owner":{"account_id":22978259,"reputation":13,"user_id":17105599,"display_name":"madhu"},"score":0,"creation_date":1646979202,"post_id":71434298,"comment_id":126261846,"body_markdown":"i want to change the type, String to date","body":"i want to change the type, String to date"},{"owner":{"account_id":10501614,"reputation":1404,"user_id":7740166,"display_name":"Viettel Solutions"},"score":0,"creation_date":1646979306,"post_id":71434298,"comment_id":126261864,"body_markdown":"please change &quot;yyyy-MM-dd&#39;T&#39;HH:mm:SS&quot; to &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;","body":"please change &quot;yyyy-MM-dd&#39;T&#39;HH:mm:SS&quot; to &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;"},{"owner":{"account_id":22978259,"reputation":13,"user_id":17105599,"display_name":"madhu"},"score":0,"creation_date":1646979369,"post_id":71434298,"comment_id":126261876,"body_markdown":"let me try once, Thanks!","body":"let me try once, Thanks!"},{"owner":{"account_id":22978259,"reputation":13,"user_id":17105599,"display_name":"madhu"},"score":0,"creation_date":1646979585,"post_id":71434298,"comment_id":126261925,"body_markdown":"I have changed it and tried, But the same output 2022-01-17T15:30:00.000.","body":"I have changed it and tried, But the same output 2022-01-17T15:30:00.000."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1646979604,"post_id":71434298,"comment_id":126261929,"body_markdown":"Since Java8 use `LocalDateTime dt = LocalDateTime.parse(&quot;2022-01-17T21:00:00&quot;);`","body":"Since Java8 use <code>LocalDateTime dt = LocalDateTime.parse(&quot;2022-01-17T21:00:00&quot;);</code>"},{"owner":{"account_id":10501614,"reputation":1404,"user_id":7740166,"display_name":"Viettel Solutions"},"score":0,"creation_date":1646979843,"post_id":71434298,"comment_id":126261993,"body_markdown":"I think you need set time zone for SimpleDateFormat.  Example: sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));","body":"I think you need set time zone for SimpleDateFormat.  Example: sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1646979894,"post_id":71434298,"comment_id":126262001,"body_markdown":"@ViettelSolutions `SimpleDateFormat` should not be used for modern java.","body":"@ViettelSolutions <code>SimpleDateFormat</code> should not be used for modern java."},{"owner":{"account_id":22978259,"reputation":13,"user_id":17105599,"display_name":"madhu"},"score":0,"creation_date":1646980248,"post_id":71434298,"comment_id":126262069,"body_markdown":"sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));This has worked \nViettel Solutions\n.Thank you all for the swift help.","body":"sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));This has worked  Viettel Solutions .Thank you all for the swift help."},{"owner":{"account_id":10501614,"reputation":1404,"user_id":7740166,"display_name":"Viettel Solutions"},"score":0,"creation_date":1646980322,"post_id":71434298,"comment_id":126262090,"body_markdown":"@ScaryWombat Can you explain about this?","body":"@ScaryWombat Can you explain about this?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1646980518,"post_id":71434298,"comment_id":126262123,"body_markdown":"@ViettelSolutions Since Java8 there has been introduced the java.time package. See https://www.baeldung.com/java-8-date-time-intro","body":"@ViettelSolutions Since Java8 there has been introduced the java.time package. See <a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">baeldung.com/java-8-date-time-intro</a>"},{"owner":{"account_id":10501614,"reputation":1404,"user_id":7740166,"display_name":"Viettel Solutions"},"score":0,"creation_date":1646980612,"post_id":71434298,"comment_id":126262145,"body_markdown":"@ScaryWombat tks, let me see","body":"@ScaryWombat tks, let me see"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1646986292,"post_id":71434298,"comment_id":126263558,"body_markdown":"I cannot reproduce your result. I got `Mon Jan 17 21:00:00 JST 2022`. A [mre], please?","body":"I cannot reproduce your result. I got <code>Mon Jan 17 21:00:00 JST 2022</code>. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please?"}],"owner":{"account_id":22978259,"reputation":13,"user_id":17105599,"display_name":"madhu"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646979000,"creation_date":1646979000,"question_id":71434298,"body_markdown":"I&#39;m trying to convert &quot;2022-01-17T21:00:00&quot; in string to Date Type 2022-01-17T21:00:00.\r\nThis is what i tried\r\n \r\n\r\n \r\n \r\n     String dateInput=&quot;2022-01-17T21:00:00&quot;;\r\n\r\n     SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:SS&quot;);\r\n\r\n     data.setOutput(sdf.parse(dateInput));\r\n\r\nIt was converting to 2022-01-17T15:30:00.000 instead of 2022-01-17T21:00:00.\r\n\r\n\r\n \r\n ","title":"How to change &quot;2022-01-17T21:00:00&quot; from string to 2022-01-17T21:00:00 Date Type in Java","body":"<p>I'm trying to convert &quot;2022-01-17T21:00:00&quot; in string to Date Type 2022-01-17T21:00:00.\nThis is what i tried</p>\n<pre><code> String dateInput=&quot;2022-01-17T21:00:00&quot;;\n\n SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:SS&quot;);\n\n data.setOutput(sdf.parse(dateInput));\n</code></pre>\n<p>It was converting to 2022-01-17T15:30:00.000 instead of 2022-01-17T21:00:00.</p>\n"},{"tags":["java","sorting","2d","points"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646978763,"creation_date":1646978763,"answer_id":71434267,"question_id":71434207,"body_markdown":"No, that&#39;d be far too specific; java is a general purpose programming language.\r\n\r\nThere is, however, a function to sort anything. You can use that to sort an array of points quite easily.\r\n\r\nThis function requires that you provide an &#39;ordering oracle&#39;: A bit of wisdom that answers the question: &quot;Which one comes first&quot;, given any 2 thingies you want to sort. With just that oracle, java ships code that can then sort any array.\r\n\r\nJava also ships with tools to make these oracles very simply, by mapping any &#39;thingie&#39; to something that knows how to sort itself. Numbers and Strings know this. You can also specify &#39;add-on&#39; sub-oracles that get used solely if the primary oracle cannot answer because they seem equal to it.\r\n\r\nIn action:\r\n\r\n```\r\nArrays.sort(coordinates, \r\n  Comparator.comparingInt(Point::getX).thenComparingInt(Point::getY));\r\n```\r\n\r\n`Point::getX` is the _concept_ of the getX method. It doesn&#39;t execute the method, it passes the method itself (not the return value of executing it). The `Comparator.comparingInt` method is a built-in that makes comparators when you provide it code that turns any &#39;thing you want to sort&#39; into an int. Hence, you pass the concept of &#39;call the getX method on a Point, and voila, an int to sort on&#39;. The `thenComparingInt` adds an add-on that is used solely to determine the &#39;winner&#39; between 2 points with identical x coordinates.\r\n","title":"Is there a Java method for sorting points?","body":"<p>No, that'd be far too specific; java is a general purpose programming language.</p>\n<p>There is, however, a function to sort anything. You can use that to sort an array of points quite easily.</p>\n<p>This function requires that you provide an 'ordering oracle': A bit of wisdom that answers the question: &quot;Which one comes first&quot;, given any 2 thingies you want to sort. With just that oracle, java ships code that can then sort any array.</p>\n<p>Java also ships with tools to make these oracles very simply, by mapping any 'thingie' to something that knows how to sort itself. Numbers and Strings know this. You can also specify 'add-on' sub-oracles that get used solely if the primary oracle cannot answer because they seem equal to it.</p>\n<p>In action:</p>\n<pre><code>Arrays.sort(coordinates, \n  Comparator.comparingInt(Point::getX).thenComparingInt(Point::getY));\n</code></pre>\n<p><code>Point::getX</code> is the <em>concept</em> of the getX method. It doesn't execute the method, it passes the method itself (not the return value of executing it). The <code>Comparator.comparingInt</code> method is a built-in that makes comparators when you provide it code that turns any 'thing you want to sort' into an int. Hence, you pass the concept of 'call the getX method on a Point, and voila, an int to sort on'. The <code>thenComparingInt</code> adds an add-on that is used solely to determine the 'winner' between 2 points with identical x coordinates.</p>\n"}],"owner":{"account_id":23303924,"reputation":1,"user_id":17751735,"display_name":"Mohammed Tariq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646978763,"creation_date":1646978338,"question_id":71434207,"body_markdown":"`java.awt.Point[] coordinates = new Main().findPlayers(photo, team, threshold);`\r\n\\\r\nI have a function that returns an array of points (coordinates of players).\\\r\nAnd I want to sort the players in increasing order by x-coordinate.\\\r\nThen sort players with the same x-coordinate in increasing order by y-coordinate.\\\r\nI sorted it in a naive way but it&#39;s not quite neat.","title":"Is there a Java method for sorting points?","body":"<p><code>java.awt.Point[] coordinates = new Main().findPlayers(photo, team, threshold);</code>\n<br />\nI have a function that returns an array of points (coordinates of players).<br />\nAnd I want to sort the players in increasing order by x-coordinate.<br />\nThen sort players with the same x-coordinate in increasing order by y-coordinate.<br />\nI sorted it in a naive way but it's not quite neat.</p>\n"},{"tags":["java","unit-testing","http","url","resttemplate"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646959206,"post_id":71432374,"comment_id":126258791,"body_markdown":"What&#39;s the rest of the exception?  Is there an inner exception?","body":"What&#39;s the rest of the exception?  Is there an inner exception?"}],"answers":[{"tags":[],"owner":{"account_id":17947811,"reputation":76,"user_id":13041661,"display_name":"pete_bc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646978257,"creation_date":1646978257,"answer_id":71434201,"question_id":71432374,"body_markdown":"It looks like you have a MissionController class with a RestTemplate dependency, and you want to inject a mock of that dependency into a MissionController instance to unit test the isBackendRunning method.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MissionControllerTest {\r\n      @Mock\r\n      private RestTemplate mockRestTemplate;\r\n      @Mock \r\n      private ResponseEntity&lt;String&gt; responseEntity;\r\n      @InjectMocks\r\n      private MissionController missionController = new MissionController();\r\n      @Test\r\n      public void GetRequestTest() throws Exception {\r\n       Mockito.when(mockRestTemplate.getForEntity(any(), \r\n          any(Class.class))).thenReturn(responseEntity);\r\n       boolean running = missionController.isBackendRunning();\r\n\r\n       assertTrue(running);\r\n      }\r\n    }","title":"Unit test for restTemplate.postForEntity causes ResourceAccessException","body":"<p>It looks like you have a MissionController class with a RestTemplate dependency, and you want to inject a mock of that dependency into a MissionController instance to unit test the isBackendRunning method.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MissionControllerTest {\n  @Mock\n  private RestTemplate mockRestTemplate;\n  @Mock \n  private ResponseEntity&lt;String&gt; responseEntity;\n  @InjectMocks\n  private MissionController missionController = new MissionController();\n  @Test\n  public void GetRequestTest() throws Exception {\n   Mockito.when(mockRestTemplate.getForEntity(any(), \n      any(Class.class))).thenReturn(responseEntity);\n   boolean running = missionController.isBackendRunning();\n\n   assertTrue(running);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14603498,"reputation":55,"user_id":10547150,"display_name":"Marcus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71434201,"answer_count":1,"score":0,"last_activity_date":1646978257,"creation_date":1646958656,"question_id":71432374,"body_markdown":"I made a method that just checks if a url that we have running on a port is working. \r\n\r\n      \r\n    public boolean isBackendRunning() throws URISyntaxException, IOException {\r\n    \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \r\n        HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;Object&gt;(headers);\r\n    \r\n        //ResponseEntity&lt;String&gt; out = restTemplate.postForEntity(new URI(&quot;https://localhost:8443&quot;), entity, String.class);\r\n        ResponseEntity&lt;String&gt; response\r\n                = restTemplate.getForEntity(&quot;https://localhost:8443&quot;, String.class);\r\n    \r\n        return true;\r\n    \r\n      }\r\n\r\nThe issue is when running our unit test I am always getting `org.springframework.web.client.ResourceAccessException Caused by: java.net.ConnectException`\r\n\r\n    public static MockWebServer mockBackEnd;\r\n          @Autowired Controller Controller;\r\n          MissionController mc = Mockito.mock(Controller.class);\r\n        \r\n          @Mock\r\n          RestTemplate mockRestTemplate;\r\n        \r\n          @Mock public ResponseEntity&lt;String&gt; responseEntity;\r\n\r\n          @Test\r\n      public void GetRequestTest() throws IOException, URISyntaxException {\r\n        Mockito.when(mockRestTemplate.getForEntity(any(), eq(String.class))).thenReturn(responseEntity);\r\n        Mockito.when(mock.isBackendRunning()).thenReturn(true);\r\n        mockBackEnd.enqueue(new MockResponse().setBody(response).addHeader(content, app_json));\r\n        assertEquals(\r\n            ...\r\n                .getMissionJSON(MockOAuth2AuthenticationToken.createAuthCountry())\r\n                .toString());\r\n      }\r\n\r\nIn the code sample above I have tried mocking the get restTemplate to just return a result, and mocking the method. I thought that this would prevent the method from actually running the code and just get me a result so we can do the unit test. This is not the case.\r\n\r\nHow do I handle this check without getting these errors? OpenConnection will not work with how we have a program set up. I have tried so many different ways to get this working with restTemplate.","title":"Unit test for restTemplate.postForEntity causes ResourceAccessException","body":"<p>I made a method that just checks if a url that we have running on a port is working.</p>\n<pre><code>public boolean isBackendRunning() throws URISyntaxException, IOException {\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n\n    HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;Object&gt;(headers);\n\n    //ResponseEntity&lt;String&gt; out = restTemplate.postForEntity(new URI(&quot;https://localhost:8443&quot;), entity, String.class);\n    ResponseEntity&lt;String&gt; response\n            = restTemplate.getForEntity(&quot;https://localhost:8443&quot;, String.class);\n\n    return true;\n\n  }\n</code></pre>\n<p>The issue is when running our unit test I am always getting <code>org.springframework.web.client.ResourceAccessException Caused by: java.net.ConnectException</code></p>\n<pre><code>public static MockWebServer mockBackEnd;\n      @Autowired Controller Controller;\n      MissionController mc = Mockito.mock(Controller.class);\n    \n      @Mock\n      RestTemplate mockRestTemplate;\n    \n      @Mock public ResponseEntity&lt;String&gt; responseEntity;\n\n      @Test\n  public void GetRequestTest() throws IOException, URISyntaxException {\n    Mockito.when(mockRestTemplate.getForEntity(any(), eq(String.class))).thenReturn(responseEntity);\n    Mockito.when(mock.isBackendRunning()).thenReturn(true);\n    mockBackEnd.enqueue(new MockResponse().setBody(response).addHeader(content, app_json));\n    assertEquals(\n        ...\n            .getMissionJSON(MockOAuth2AuthenticationToken.createAuthCountry())\n            .toString());\n  }\n</code></pre>\n<p>In the code sample above I have tried mocking the get restTemplate to just return a result, and mocking the method. I thought that this would prevent the method from actually running the code and just get me a result so we can do the unit test. This is not the case.</p>\n<p>How do I handle this check without getting these errors? OpenConnection will not work with how we have a program set up. I have tried so many different ways to get this working with restTemplate.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1646919974,"post_id":71425108,"comment_id":126246407,"body_markdown":"Please take the [tour] and read [ask].  SO is not a code writing service.  You need to show some effort. What have you attempted?  Where are you stuck?","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.  SO is not a code writing service.  You need to show some effort. What have you attempted?  Where are you stuck?"},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1646920260,"post_id":71425108,"comment_id":126246524,"body_markdown":"Please have a look to [How do I ask about homework](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions)","body":"Please have a look to <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">How do I ask about homework</a>"}],"owner":{"account_id":19764832,"reputation":11,"user_id":14473113,"display_name":"jimmy poulose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646976555,"creation_date":1646919738,"question_id":71425108,"body_markdown":"Anyone please solves my problem. I&#39;m created a database (SQLite) with 4 columns i.e. \r\n\r\n\r\n    |-----|------|---------|--------|\r\n    |  ID | NAME | CODE    | AGE    |\r\n    |-----|------|---------|--------|\r\n    |-----|------|---------|--------|\r\n\r\nMy activity is to retrieve name from database and display in textview when enter the code in edittext. Not using button click. \r\n\r\n    |EditText|        |Textview |\r\n\r\nif name-jim\r\n   code-1200\r\n   age-38\r\nwhen i enter 1200(code) in EditText then display jim(name) in Textview sametime.\r\n\r\nPlease help me to write a simple method\r\nThank you ","title":"android sqlite database search without buttonclick","body":"<p>Anyone please solves my problem. I'm created a database (SQLite) with 4 columns i.e.</p>\n<pre><code>|-----|------|---------|--------|\n|  ID | NAME | CODE    | AGE    |\n|-----|------|---------|--------|\n|-----|------|---------|--------|\n</code></pre>\n<p>My activity is to retrieve name from database and display in textview when enter the code in edittext. Not using button click.</p>\n<pre><code>|EditText|        |Textview |\n</code></pre>\n<p>if name-jim\ncode-1200\nage-38\nwhen i enter 1200(code) in EditText then display jim(name) in Textview sametime.</p>\n<p>Please help me to write a simple method\nThank you</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":20682185,"reputation":1,"user_id":15185493,"display_name":"Akai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1647425187,"answer_count":1,"score":-4,"last_activity_date":1646976550,"creation_date":1646902501,"question_id":71421298,"body_markdown":"I am working on a component which is sending a double value for latitude to another component which is expecting a bigdecimal value.\r\nI am getting runtime exception but not able to figure out how?","title":"Can we store double value inside a bigdecimal value","body":"<p>I am working on a component which is sending a double value for latitude to another component which is expecting a bigdecimal value.\nI am getting runtime exception but not able to figure out how?</p>\n"},{"tags":["java","recursion","return"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1646976706,"post_id":71434003,"comment_id":126261303,"body_markdown":"You are returning from the recursive call of `insertionSortRecursive( arr, n-1 );` - after that returns the code continues.","body":"You are returning from the recursive call of <code>insertionSortRecursive( arr, n-1 );</code> - after that returns the code continues."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1646976714,"post_id":71434003,"comment_id":126261307,"body_markdown":"What do you mean &quot;it skipped and incremented n&quot;?","body":"What do you mean &quot;it skipped and incremented n&quot;?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1646977035,"post_id":71434003,"comment_id":126261364,"body_markdown":"Right, the `return` went to the previous call.  See where you pass `n-1` in to each call?  `n` incremented because you went to the code that called the method.","body":"Right, the <code>return</code> went to the previous call.  See where you pass <code>n-1</code> in to each call?  <code>n</code> incremented because you went to the code that called the method."},{"owner":{"account_id":23125526,"reputation":23,"user_id":17231383,"display_name":"Confundo"},"score":0,"creation_date":1646977996,"post_id":71434003,"comment_id":126261582,"body_markdown":"@Bohemian after the return statement it went to &quot;int last&quot; skipping the insertionsortrecursive(arr, n-1)","body":"@Bohemian after the return statement it went to &quot;int last&quot; skipping the insertionsortrecursive(arr, n-1)"},{"owner":{"account_id":23125526,"reputation":23,"user_id":17231383,"display_name":"Confundo"},"score":2,"creation_date":1646978607,"post_id":71434003,"comment_id":126261737,"body_markdown":"@markspace Ohhh, correct me if I&#39;m wrong recursion works by creating a stair like stacked of methods so when you use return it returns back to the method before the last method in which variable &quot;n&quot; didn&#39;t increment but returned to its state before n = 1?","body":"@markspace Ohhh, correct me if I&#39;m wrong recursion works by creating a stair like stacked of methods so when you use return it returns back to the method before the last method in which variable &quot;n&quot; didn&#39;t increment but returned to its state before n = 1?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1647007200,"post_id":71434003,"comment_id":126270914,"body_markdown":"I&#39;d say &quot;the state before the `n-1` was executed.&quot;  I think you have the idea.  Remember to that `return` goes back to the statement just after the call to the method and continues executing from there.  You should give your method a simple example (like three items to sort) and try to work out the calls and returns by hand, then step through with a debugger to check your work.","body":"I&#39;d say &quot;the state before the <code>n-1</code> was executed.&quot;  I think you have the idea.  Remember to that <code>return</code> goes back to the statement just after the call to the method and continues executing from there.  You should give your method a simple example (like three items to sort) and try to work out the calls and returns by hand, then step through with a debugger to check your work."}],"owner":{"account_id":23125526,"reputation":23,"user_id":17231383,"display_name":"Confundo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646976423,"creation_date":1646976423,"question_id":71434003,"body_markdown":"Beginner Programmer, I am currently studying recursion in Java I found something weird in GeeksforGeeks source code. I debug the source code and found the return statement as I know should stop the method but instead it skipped and incremented the variable &quot;n&quot; can someone explain why the return statement is behaving that way? I can&#39;t seem to find any information about this\r\n\r\nThe Link:\r\nhttps://www.geeksforgeeks.org/recursive-insertion-sort/\r\n\r\nSource Code from GeeksforGeeks:\r\n``` \r\npublic class GFG\r\n{\r\n    // Recursive function to sort an array using\r\n    // insertion sort\r\n    static void insertionSortRecursive(int arr[], int n)\r\n    {\r\n        // Base case\r\n        if (n &lt;= 1)\r\n            return;\r\n      \r\n        // Sort first n-1 elements\r\n        insertionSortRecursive( arr, n-1 );\r\n      \r\n        // Insert last element at its correct position\r\n        // in sorted array.\r\n        int last = arr[n-1];\r\n        int j = n-2;\r\n      \r\n        /* Move elements of arr[0..i-1], that are\r\n          greater than key, to one position ahead\r\n          of their current position */\r\n        while (j &gt;= 0 &amp;&amp; arr[j] &gt; last)\r\n        {\r\n            arr[j+1] = arr[j];\r\n            j--;\r\n        }\r\n        arr[j+1] = last;\r\n    }\r\n     \r\n    // Driver Method\r\n    public static void main(String[] args)\r\n    {\r\n        int arr[] = {12, 11, 13, 5, 6};\r\n      \r\n        insertionSortRecursive(arr, arr.length);\r\n         \r\n        System.out.println(Arrays.toString(arr));\r\n    }\r\n}","title":"Java return statement weird behaviour","body":"<p>Beginner Programmer, I am currently studying recursion in Java I found something weird in GeeksforGeeks source code. I debug the source code and found the return statement as I know should stop the method but instead it skipped and incremented the variable &quot;n&quot; can someone explain why the return statement is behaving that way? I can't seem to find any information about this</p>\n<p>The Link:\n<a href=\"https://www.geeksforgeeks.org/recursive-insertion-sort/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/recursive-insertion-sort/</a></p>\n<p>Source Code from GeeksforGeeks:</p>\n<pre><code>public class GFG\n{\n    // Recursive function to sort an array using\n    // insertion sort\n    static void insertionSortRecursive(int arr[], int n)\n    {\n        // Base case\n        if (n &lt;= 1)\n            return;\n      \n        // Sort first n-1 elements\n        insertionSortRecursive( arr, n-1 );\n      \n        // Insert last element at its correct position\n        // in sorted array.\n        int last = arr[n-1];\n        int j = n-2;\n      \n        /* Move elements of arr[0..i-1], that are\n          greater than key, to one position ahead\n          of their current position */\n        while (j &gt;= 0 &amp;&amp; arr[j] &gt; last)\n        {\n            arr[j+1] = arr[j];\n            j--;\n        }\n        arr[j+1] = last;\n    }\n     \n    // Driver Method\n    public static void main(String[] args)\n    {\n        int arr[] = {12, 11, 13, 5, 6};\n      \n        insertionSortRecursive(arr, arr.length);\n         \n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","grid-layout"],"answers":[{"tags":[],"owner":{"account_id":21957579,"reputation":3,"user_id":16235920,"display_name":"Firepup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646956938,"creation_date":1646956938,"answer_id":71432201,"question_id":71431781,"body_markdown":"I have found a workaround for this but if you have a better solution please let me know. \r\nI saved references to all the buttons in an ArrayList\r\nThen deleted all the elements inside GridLayout with \r\n\r\n```toolGridLayout.removeAllViews();```\r\n\r\nThen I swapped buttons using my ArrayList however I need to.\r\nFinally I used ```toolGridLayout.addView(element)``` function to add the buttons inside my arraylist.\r\n","title":"How to swap elements in a Grid Layout Android","body":"<p>I have found a workaround for this but if you have a better solution please let me know.\nI saved references to all the buttons in an ArrayList\nThen deleted all the elements inside GridLayout with</p>\n<p><code>toolGridLayout.removeAllViews();</code></p>\n<p>Then I swapped buttons using my ArrayList however I need to.\nFinally I used <code>toolGridLayout.addView(element)</code> function to add the buttons inside my arraylist.</p>\n"},{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646976001,"creation_date":1646957569,"answer_id":71432258,"question_id":71431781,"body_markdown":"You can try this.\r\n```java\r\nprivate void swap(ViewGroup parent, int resourceId1, int resourceId2)\r\n{\r\n\tfinal int children = parent.getChildCount();\r\n\tif(children == 0) return;\r\n\t\t\r\n\tView view1=null, view2=null;\r\n\tint id, count=0, index1=0, index2=0;\r\n\tfor(int i=0; i&lt;children; ++i) {\r\n\t    final View view = parent.getChildAt(i);\r\n\t\tid = view.getId();\r\n\t\tif(id == resourceId1) {\r\n\t\t\tview1 = view;\r\n\t\t\tindex1 = i;\r\n\t\t\t++count;\r\n\t\t} else if(id == resourceId2) {\r\n\t\t\tview2 = view;\r\n\t\t\tindex2 = i;\r\n\t\t\t++count;\r\n\t\t}\r\n        if(count == 2) break;\r\n\t}\r\n\tif(count == 2) {\r\n\t\tif(index1 &lt; index2) {\r\n\t\t\tparent.removeViewAt(index2);\r\n\t\t\tparent.removeViewAt(index1);\r\n\t\t\tparent.addView(view2, index1);\r\n\t\t\tparent.addView(view1, index2);\r\n\t\t} else {\r\n\t\t\tparent.removeViewAt(index1);\r\n\t\t\tparent.removeViewAt(index2);\r\n\t\t\tparent.addView(view1, index2);\r\n\t\t\tparent.addView(view2, index1);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nHow to use it:\r\n```java\r\nGridLayout gl = findViewById(R.id.tools_grid_layout);\r\nswap(gl, R.id.btn_undo, R.id.btn_redo);\r\n// Or this (doesn&#39;t matter which one first).\r\n// swap(gl, R.id.btn_redo, R.id.btn_undo);\r\n```","title":"How to swap elements in a Grid Layout Android","body":"<p>You can try this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void swap(ViewGroup parent, int resourceId1, int resourceId2)\n{\n    final int children = parent.getChildCount();\n    if(children == 0) return;\n        \n    View view1=null, view2=null;\n    int id, count=0, index1=0, index2=0;\n    for(int i=0; i&lt;children; ++i) {\n        final View view = parent.getChildAt(i);\n        id = view.getId();\n        if(id == resourceId1) {\n            view1 = view;\n            index1 = i;\n            ++count;\n        } else if(id == resourceId2) {\n            view2 = view;\n            index2 = i;\n            ++count;\n        }\n        if(count == 2) break;\n    }\n    if(count == 2) {\n        if(index1 &lt; index2) {\n            parent.removeViewAt(index2);\n            parent.removeViewAt(index1);\n            parent.addView(view2, index1);\n            parent.addView(view1, index2);\n        } else {\n            parent.removeViewAt(index1);\n            parent.removeViewAt(index2);\n            parent.addView(view1, index2);\n            parent.addView(view2, index1);\n        }\n    }\n}\n</code></pre>\n<p>How to use it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GridLayout gl = findViewById(R.id.tools_grid_layout);\nswap(gl, R.id.btn_undo, R.id.btn_redo);\n// Or this (doesn't matter which one first).\n// swap(gl, R.id.btn_redo, R.id.btn_undo);\n</code></pre>\n"}],"owner":{"account_id":21957579,"reputation":3,"user_id":16235920,"display_name":"Firepup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71432258,"answer_count":2,"score":0,"last_activity_date":1646976001,"creation_date":1646953366,"question_id":71431781,"body_markdown":"```\r\n&lt;GridLayout\r\n            android:id=&quot;@+id/tools_grid_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:columnCount=&quot;4&quot;\r\n            android:rowCount=&quot;3&quot;\r\n            android:alignmentMode=&quot;alignBounds&quot;\r\n            android:background=&quot;#AAAAAA&quot;&gt;\r\n\r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/button_undo&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_columnWeight=&quot;1&quot;\r\n                android:src=&quot;@drawable/undo_icon&quot;\r\n                android:text=&quot;Undo&quot; /&gt;\r\n......\r\n&lt;/GridLayout&gt;\r\n```\r\n\r\nBasically, my goal is to be able to swap button positions inside a grid layout while maintaining the size of other buttons.\r\n\r\nI tried to swap elements of GridLayout using getX() and getY() on each element. But then I realized that this would affect the size of other buttons I have in the grid layout because the size of each button is dependent on its weight. \r\nIs there any other way I can directly swap elements inside a gridLayout?\r\n\r\nAny help would be very helpful. Thank you","title":"How to swap elements in a Grid Layout Android","body":"<pre><code>&lt;GridLayout\n            android:id=&quot;@+id/tools_grid_layout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:columnCount=&quot;4&quot;\n            android:rowCount=&quot;3&quot;\n            android:alignmentMode=&quot;alignBounds&quot;\n            android:background=&quot;#AAAAAA&quot;&gt;\n\n            &lt;ImageButton\n                android:id=&quot;@+id/button_undo&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:layout_columnWeight=&quot;1&quot;\n                android:src=&quot;@drawable/undo_icon&quot;\n                android:text=&quot;Undo&quot; /&gt;\n......\n&lt;/GridLayout&gt;\n</code></pre>\n<p>Basically, my goal is to be able to swap button positions inside a grid layout while maintaining the size of other buttons.</p>\n<p>I tried to swap elements of GridLayout using getX() and getY() on each element. But then I realized that this would affect the size of other buttons I have in the grid layout because the size of each button is dependent on its weight.\nIs there any other way I can directly swap elements inside a gridLayout?</p>\n<p>Any help would be very helpful. Thank you</p>\n"},{"tags":["java","linked-list","nodes"],"answers":[{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646975215,"creation_date":1646974536,"answer_id":71433812,"question_id":71418860,"body_markdown":"Your code calls `newNode.insertAfter(headNode);` to insert a node. The definition is simple:\r\n\r\n```java\r\npublic ContactNode insertAfter(ContactNode prevNode) {\r\n    return this.nextNodePtr = prevNode;\r\n}\r\n```\r\n\r\nLet&#39;s walk through the execution.\r\n\r\nInitial state:\r\n\r\n```none\r\n.----------.\r\n| headNode |\r\n|   .next ====&gt; null\r\n`----------`\r\n```\r\n\r\nAfter adding a person (the new node is `this` in your `insertAfter` method; `headNode` is `prevNode` in the method):\r\n\r\n```none\r\n.----------.   .----------.\r\n| Person 1 |   | headNode |\r\n|   .next ====&gt;|   .next ====&gt; null\r\n`----------`   `----------`\r\n```\r\n\r\nWe can actually stop here; if you add more people, they&#39;ll just point to `headNode` in tandem as Person 1 does, but `headNode` will always point to `null`.\r\n\r\nNext you do:\r\n\r\n```java\r\ntraverse = headNode.getNext();\r\n traverse.printContactNode();\r\n```\r\n\r\nHere, `traverse` is `null`, so `null.printContactNode();` crashes the program.\r\n\r\n---\r\n\r\nTo build a linked list, the normal strategy is one of a few options:\r\n\r\n- Keep your `insertAfter` method as-is and build the list in reverse starting with the tail, but set the `headNode = newNode` at the end of your loop so you don&#39;t lose track of your nodes.\r\n\r\n  The issue with this approach is that your first `headNode` is a dummy node, so you&#39;ll want to make sure to avoid it getting into your actual data node list by starting it out as `null` and then checking whether it&#39;s `null` or not before calling `insertAfter`. This should make it clear that `insertAfter` is really better named as `insertBefore`!\r\n- Traverse the whole chain of nodes at every addition in O(n). This lets you keep your head as-is, but you&#39;ll need to add a loop and change the logic in `insertAfter` -- maybe rename it `insertAtEnd`.\r\n- Keep a `tail` reference and use it to append to the list in O(1). Probably the best approach but requires adding another property to your `ContactList` class.","title":"Node created inside of a for loop pointing to null?","body":"<p>Your code calls <code>newNode.insertAfter(headNode);</code> to insert a node. The definition is simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ContactNode insertAfter(ContactNode prevNode) {\n    return this.nextNodePtr = prevNode;\n}\n</code></pre>\n<p>Let's walk through the execution.</p>\n<p>Initial state:</p>\n<pre class=\"lang-none prettyprint-override\"><code>.----------.\n| headNode |\n|   .next ====&gt; null\n`----------`\n</code></pre>\n<p>After adding a person (the new node is <code>this</code> in your <code>insertAfter</code> method; <code>headNode</code> is <code>prevNode</code> in the method):</p>\n<pre class=\"lang-none prettyprint-override\"><code>.----------.   .----------.\n| Person 1 |   | headNode |\n|   .next ====&gt;|   .next ====&gt; null\n`----------`   `----------`\n</code></pre>\n<p>We can actually stop here; if you add more people, they'll just point to <code>headNode</code> in tandem as Person 1 does, but <code>headNode</code> will always point to <code>null</code>.</p>\n<p>Next you do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>traverse = headNode.getNext();\n traverse.printContactNode();\n</code></pre>\n<p>Here, <code>traverse</code> is <code>null</code>, so <code>null.printContactNode();</code> crashes the program.</p>\n<hr />\n<p>To build a linked list, the normal strategy is one of a few options:</p>\n<ul>\n<li><p>Keep your <code>insertAfter</code> method as-is and build the list in reverse starting with the tail, but set the <code>headNode = newNode</code> at the end of your loop so you don't lose track of your nodes.</p>\n<p>The issue with this approach is that your first <code>headNode</code> is a dummy node, so you'll want to make sure to avoid it getting into your actual data node list by starting it out as <code>null</code> and then checking whether it's <code>null</code> or not before calling <code>insertAfter</code>. This should make it clear that <code>insertAfter</code> is really better named as <code>insertBefore</code>!</p>\n</li>\n<li><p>Traverse the whole chain of nodes at every addition in O(n). This lets you keep your head as-is, but you'll need to add a loop and change the logic in <code>insertAfter</code> -- maybe rename it <code>insertAtEnd</code>.</p>\n</li>\n<li><p>Keep a <code>tail</code> reference and use it to append to the list in O(1). Probably the best approach but requires adding another property to your <code>ContactList</code> class.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":24510982,"reputation":11,"user_id":18425308,"display_name":"Ahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646975215,"creation_date":1646886664,"question_id":71418860,"body_markdown":"ContactList.java:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class ContactList {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      \r\n      ContactNode headNode = new ContactNode();\r\n      ContactNode traverse = new ContactNode();\r\n      String name;\r\n      String phoneNum;\r\n      String newLineEater;\r\n      \r\n      for (int i = 1; i &lt; 4; i++){\r\n     System.out.println(&quot;Person &quot; + i);\r\n     System.out.println(&quot;Enter name:&quot;);\r\n\r\n      name = scnr.nextLine();\r\n     System.out.println(&quot;Enter phone number:&quot;);\r\n      phoneNum = scnr.nextLine();\r\n      ContactNode newNode = new ContactNode(name, phoneNum);\r\n      System.out.println(&quot;You entered: &quot; + name + &quot;, &quot; + phoneNum);\r\n      System.out.println();\r\n      \r\n      \r\n      newNode.insertAfter(headNode);\r\n      \r\n      \r\n      \r\n      \r\n\r\n      /* Type your code here. */\r\n   \r\n}\r\n\r\n   System.out.println(&quot;CONTACT LIST&quot;);\r\n traverse = headNode.getNext();\r\n traverse.printContactNode();\r\n\r\n   \r\n   \r\n\r\n}\r\n}\r\n\r\n```\r\n\r\nAnd then:\r\n```\r\npublic class ContactNode{\r\n   \r\n   private String contactName;\r\n   private String contactPhoneNumber;\r\n   private ContactNode nextNodePtr;\r\n   \r\n   public ContactNode(){\r\n      \r\n      contactName = &quot;n/a&quot;;\r\n      contactPhoneNumber = &quot;no phone number&quot;;\r\n      \r\n   }\r\n   public ContactNode(String contactName, String contactPhoneNumber){\r\n      \r\n      this.contactName = contactName;\r\n      this.contactPhoneNumber = contactPhoneNumber;\r\n      \r\n   }\r\n   \r\n   public String getName(){\r\n      \r\n      return contactName;\r\n      \r\n      \r\n   }\r\n   \r\n   public String getPhoneNumber(){\r\n      \r\n      return contactPhoneNumber;\r\n      \r\n   }\r\n   \r\n   public void printContactNode(){\r\n      \r\n   \r\n         \r\n      System.out.println(&quot;Name: &quot; + this.contactName);\r\n      \r\n         \r\n      }\r\n      \r\n    \r\n      \r\n      \r\n      \r\n   \r\n   \r\n   public ContactNode insertAfter(ContactNode prevNode){\r\n      \r\n      \r\n     return this.nextNodePtr = prevNode;\r\n      \r\n      \r\n      \r\n   }\r\n   \r\n   public ContactNode getNext(){\r\n      \r\n      \r\n      return this.nextNodePtr;\r\n      \r\n      \r\n   }\r\n   \r\n}\r\n```\r\n\r\nThe two class files are posted above. \r\nThe error is:\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat ContactList.main(ContactList.java:37)\r\n\r\nI thought that I could just reference the Node to test if it had pointed to something. It doesn&#39;t. Why? I understand that it NEEDS to point to something, but when I created the Nodes, I thought I had linked them together? What am I missing?\r\n\r\nI&#39;m trying to understand the fundamentals of linked lists, and any responses would be super helpful. Thank you!","title":"Node created inside of a for loop pointing to null?","body":"<p>ContactList.java:</p>\n<pre><code>import java.util.Scanner;\n\npublic class ContactList {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      \n      ContactNode headNode = new ContactNode();\n      ContactNode traverse = new ContactNode();\n      String name;\n      String phoneNum;\n      String newLineEater;\n      \n      for (int i = 1; i &lt; 4; i++){\n     System.out.println(&quot;Person &quot; + i);\n     System.out.println(&quot;Enter name:&quot;);\n\n      name = scnr.nextLine();\n     System.out.println(&quot;Enter phone number:&quot;);\n      phoneNum = scnr.nextLine();\n      ContactNode newNode = new ContactNode(name, phoneNum);\n      System.out.println(&quot;You entered: &quot; + name + &quot;, &quot; + phoneNum);\n      System.out.println();\n      \n      \n      newNode.insertAfter(headNode);\n      \n      \n      \n      \n\n      /* Type your code here. */\n   \n}\n\n   System.out.println(&quot;CONTACT LIST&quot;);\n traverse = headNode.getNext();\n traverse.printContactNode();\n\n   \n   \n\n}\n}\n\n</code></pre>\n<p>And then:</p>\n<pre><code>public class ContactNode{\n   \n   private String contactName;\n   private String contactPhoneNumber;\n   private ContactNode nextNodePtr;\n   \n   public ContactNode(){\n      \n      contactName = &quot;n/a&quot;;\n      contactPhoneNumber = &quot;no phone number&quot;;\n      \n   }\n   public ContactNode(String contactName, String contactPhoneNumber){\n      \n      this.contactName = contactName;\n      this.contactPhoneNumber = contactPhoneNumber;\n      \n   }\n   \n   public String getName(){\n      \n      return contactName;\n      \n      \n   }\n   \n   public String getPhoneNumber(){\n      \n      return contactPhoneNumber;\n      \n   }\n   \n   public void printContactNode(){\n      \n   \n         \n      System.out.println(&quot;Name: &quot; + this.contactName);\n      \n         \n      }\n      \n    \n      \n      \n      \n   \n   \n   public ContactNode insertAfter(ContactNode prevNode){\n      \n      \n     return this.nextNodePtr = prevNode;\n      \n      \n      \n   }\n   \n   public ContactNode getNext(){\n      \n      \n      return this.nextNodePtr;\n      \n      \n   }\n   \n}\n</code></pre>\n<p>The two class files are posted above.\nThe error is:\nException in thread &quot;main&quot; java.lang.NullPointerException\nat ContactList.main(ContactList.java:37)</p>\n<p>I thought that I could just reference the Node to test if it had pointed to something. It doesn't. Why? I understand that it NEEDS to point to something, but when I created the Nodes, I thought I had linked them together? What am I missing?</p>\n<p>I'm trying to understand the fundamentals of linked lists, and any responses would be super helpful. Thank you!</p>\n"},{"tags":["java","spring","docker","netflix-eureka","gateway"],"answers":[{"tags":[],"owner":{"account_id":22698759,"reputation":1,"user_id":16866498,"display_name":"Amit Verma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631163612,"creation_date":1631163612,"answer_id":69112463,"question_id":68669905,"body_markdown":"General Answer:\r\n\r\nthere are couple of reasons for this error:\r\n1. check if your service is working fine using access logs.\r\n2. when using spring cloud circuit breaker, if GET request is working fine and only POST request is returning 405, then a quick fix would be to increase timeoutDuration for timeLimiterConfig because POST request might be taking more time than what you had configured,\r\nor simply enable request logging in DEBUG and examine the issue\r\n3. if you have cors enabled in services then add configuration in api-gateway&#39;s application.yml file to allow Origins, Methods, Headers.\r\n\r\nCase specific answer:\r\n\r\nshare you implementation code.","title":"Spring Cloud Gateway - getting 405 Method not allowed","body":"<p>General Answer:</p>\n<p>there are couple of reasons for this error:</p>\n<ol>\n<li>check if your service is working fine using access logs.</li>\n<li>when using spring cloud circuit breaker, if GET request is working fine and only POST request is returning 405, then a quick fix would be to increase timeoutDuration for timeLimiterConfig because POST request might be taking more time than what you had configured,\nor simply enable request logging in DEBUG and examine the issue</li>\n<li>if you have cors enabled in services then add configuration in api-gateway's application.yml file to allow Origins, Methods, Headers.</li>\n</ol>\n<p>Case specific answer:</p>\n<p>share you implementation code.</p>\n"},{"tags":[],"owner":{"account_id":14427601,"reputation":1,"user_id":10421838,"display_name":"Wojciech Gaudnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646974751,"creation_date":1646974751,"answer_id":71433839,"question_id":68669905,"body_markdown":"In my case timeDuration was the clue, it was too short. ","title":"Spring Cloud Gateway - getting 405 Method not allowed","body":"<p>In my case timeDuration was the clue, it was too short.</p>\n"}],"owner":{"account_id":22389524,"reputation":1,"user_id":16601839,"display_name":"Mihnea Bigu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646974751,"creation_date":1628179053,"question_id":68669905,"body_markdown":"I have a problem where I am using Spring Cloud Gateway to reach my microservices. One of them is the user-service which has, among other things, an authentication endpoint. It is a POST endpoint, where the user simply sends his/her email and password.\r\n\r\nFor service discovery, I am using Eureka.\r\n\r\nThe problem I&#39;m facing is that when I hit that endpoint through the gateway, for example the first request returns a 405 Method not Allowed, and further requests work just fine. What&#39;s interesting is that the calls do reach the user-service (I can see in the logs how Hibernate queries my DB), but the gateway returns a 405 nonetheless. In the gateway I do have in the app.yml file for the predicates Method=GET,POST,PUT,DELETE, so this shouldn&#39;t be an issue, I think.\r\n\r\nEverything is also put in separate docker containers.\r\n\r\nI am using java 16 with the latest versions for each dependency.\r\n\r\nIf you need me to provide any additional information, please ask me to do so.\r\n\r\nThanks a lot!","title":"Spring Cloud Gateway - getting 405 Method not allowed","body":"<p>I have a problem where I am using Spring Cloud Gateway to reach my microservices. One of them is the user-service which has, among other things, an authentication endpoint. It is a POST endpoint, where the user simply sends his/her email and password.</p>\n<p>For service discovery, I am using Eureka.</p>\n<p>The problem I'm facing is that when I hit that endpoint through the gateway, for example the first request returns a 405 Method not Allowed, and further requests work just fine. What's interesting is that the calls do reach the user-service (I can see in the logs how Hibernate queries my DB), but the gateway returns a 405 nonetheless. In the gateway I do have in the app.yml file for the predicates Method=GET,POST,PUT,DELETE, so this shouldn't be an issue, I think.</p>\n<p>Everything is also put in separate docker containers.</p>\n<p>I am using java 16 with the latest versions for each dependency.</p>\n<p>If you need me to provide any additional information, please ask me to do so.</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1647251260,"post_id":71432959,"comment_id":126315355,"body_markdown":"read this https://stackoverflow.com/questions/594597/hibernate-annotations-which-is-better-field-or-property-access","body":"read this <a href=\"https://stackoverflow.com/questions/594597/hibernate-annotations-which-is-better-field-or-property-access\" title=\"hibernate annotations which is better field or property access\">stackoverflow.com/questions/594597/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16806686,"reputation":296,"user_id":12150693,"display_name":"N K Shukla"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646974301,"creation_date":1646974301,"answer_id":71433784,"question_id":71432959,"body_markdown":"`@Convert` allows us to map JDBC types to Java classes.\r\n\r\nLet&#39;s consider the code block below:-\r\n\r\n    public class UserName implements Serializable {\r\n    \r\n        private String name;\r\n        private String surname;\r\n    \r\n        // getters and setters\r\n    }\r\n\r\n    @Entity(name = &quot;UserTable&quot;)\r\n    public class User {\r\n       \r\n        private UserName userName;\r\n    \r\n        //...\r\n    }\r\n\r\nNow we need to create a converter that transforms the PersonName attribute to a database column and vice-versa.\r\n\r\nNow we can annotate our converter class with `@Converter` and implement the `AttributeConverter` interface. Parametrize the interface with the types of the class and the database column, in that order:\r\n\r\n    @Converter\r\n    public class UserNameConverter implements \r\n      AttributeConverter&lt;UserName, String&gt; {\r\n    \r\n        private static final String SEPARATOR = &quot;, &quot;;\r\n    \r\n        @Override\r\n        public String convertToDatabaseColumn(UserName userName) {\r\n            if (userName == null) {\r\n                return null;\r\n            }\r\n    ....\r\n        }\r\n    }\r\n\r\nIn order to use the converter, we need to add the `@Convert` annotation to the attribute and specify the converter class we want to use:\r\n\r\n    @Entity(name = &quot;PersonTable&quot;)\r\n    public class User {\r\n    \r\n        @Convert(converter = UserNameConverter.class)\r\n        private UserName userName;\r\n        \r\n        // ...\r\n    }\r\n\r\nFor more details you can refer below:- [jpa-convert][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-attribute-converters","title":"JPA @Convert annotation on a method","body":"<p><code>@Convert</code> allows us to map JDBC types to Java classes.</p>\n<p>Let's consider the code block below:-</p>\n<pre><code>public class UserName implements Serializable {\n\n    private String name;\n    private String surname;\n\n    // getters and setters\n}\n\n@Entity(name = &quot;UserTable&quot;)\npublic class User {\n   \n    private UserName userName;\n\n    //...\n}\n</code></pre>\n<p>Now we need to create a converter that transforms the PersonName attribute to a database column and vice-versa.</p>\n<p>Now we can annotate our converter class with <code>@Converter</code> and implement the <code>AttributeConverter</code> interface. Parametrize the interface with the types of the class and the database column, in that order:</p>\n<pre><code>@Converter\npublic class UserNameConverter implements \n  AttributeConverter&lt;UserName, String&gt; {\n\n    private static final String SEPARATOR = &quot;, &quot;;\n\n    @Override\n    public String convertToDatabaseColumn(UserName userName) {\n        if (userName == null) {\n            return null;\n        }\n....\n    }\n}\n</code></pre>\n<p>In order to use the converter, we need to add the <code>@Convert</code> annotation to the attribute and specify the converter class we want to use:</p>\n<pre><code>@Entity(name = &quot;PersonTable&quot;)\npublic class User {\n\n    @Convert(converter = UserNameConverter.class)\n    private UserName userName;\n    \n    // ...\n}\n</code></pre>\n<p>For more details you can refer below:- <a href=\"https://www.baeldung.com/jpa-attribute-converters\" rel=\"nofollow noreferrer\">jpa-convert</a></p>\n"}],"owner":{"account_id":2312621,"reputation":177,"user_id":2030411,"display_name":"johnlon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646974301,"creation_date":1646965104,"question_id":71432959,"body_markdown":"The JPA @Convert annotation says it&#39;s applicable to a method (as well as field and type).\r\n\r\nWhat is an example of a situation where it is useful?","title":"JPA @Convert annotation on a method","body":"<p>The JPA @Convert annotation says it's applicable to a method (as well as field and type).</p>\n<p>What is an example of a situation where it is useful?</p>\n"},{"tags":["java","hadoop","mapreduce","distributed-cache"],"answers":[{"tags":[],"owner":{"account_id":3144053,"reputation":41,"user_id":2658902,"display_name":"Liu Yan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413863912,"creation_date":1413861942,"answer_id":26478381,"question_id":23779976,"body_markdown":"You should set the property of *`conf`* according to your `core-site.xml` file like this:\r\n           \r\n    conf.set(&quot;fs.defaultFS&quot;, &quot;hdfs://host:port&quot;);\r\n\tconf.set(&quot;mapreduce.jobtracker.address&quot;, &quot;host:port&quot;);","title":"java.lang.IllegalArgumentException: Wrong FS: , expected: hdfs://localhost:9000","body":"<p>You should set the property of <em><code>conf</code></em> according to your <code>core-site.xml</code> file like this:</p>\n\n<pre><code>conf.set(\"fs.defaultFS\", \"hdfs://host:port\");\nconf.set(\"mapreduce.jobtracker.address\", \"host:port\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4207049,"reputation":807,"user_id":3445704,"accept_rate":12,"display_name":"Muralikrishna G S"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1545287557,"creation_date":1421817688,"answer_id":28060152,"question_id":23779976,"body_markdown":"I had a same issue, I resolved that by adding \r\n\r\n    FileSystem fs = FileSystem.get(new URI(&quot;hdfs://localhost:9000&quot;),conf)\r\n\r\nin the driver class.\r\n\r\nYou have to import `URI`from `java.net.URI`","title":"java.lang.IllegalArgumentException: Wrong FS: , expected: hdfs://localhost:9000","body":"<p>I had a same issue, I resolved that by adding </p>\n\n<pre><code>FileSystem fs = FileSystem.get(new URI(\"hdfs://localhost:9000\"),conf)\n</code></pre>\n\n<p>in the driver class.</p>\n\n<p>You have to import <code>URI</code>from <code>java.net.URI</code></p>\n"},{"tags":[],"owner":{"account_id":4758418,"reputation":781,"user_id":4368994,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457672397,"creation_date":1457672397,"answer_id":35932575,"question_id":23779976,"body_markdown":"include below line in job runner:\r\n DistributedCache.addCacheFile(new URI(&quot;&lt;S3 file location&gt;&quot;), conf);\r\n\r\nbelow code in setup method of mapper\r\n\r\n    @Override\r\n    protected void setup(Context context) throws IOException, InterruptedException {\r\n        Configuration configuration = new Configuration();\r\n        FileSystem fileSystem = null;\r\n        try {\r\n             fileSystem = FileSystem.get(new URI(&quot;&lt;File location&quot;),configuration);\r\n        } catch (URISyntaxException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        String location = &lt;S3 file location&gt;;\r\n        FSDataInputStream fsDataInputStream =fileSystem.open(new Path(location));\r\n        Scanner scanner = new Scanner(fsDataInputStream);\r\n        int i = 1;\r\n        while(scanner.hasNextLine()) {\r\n            String str[] = scanner.nextLine().split(&quot;,&quot;);\r\n            LOG.info(&quot;keys are \\t&quot; + str[0] + str[1]);\r\n            stickerMap.put(str[0] + str[1], i);\r\n            ++i;\r\n        }\r\n    }","title":"java.lang.IllegalArgumentException: Wrong FS: , expected: hdfs://localhost:9000","body":"<p>include below line in job runner:\n DistributedCache.addCacheFile(new URI(\"\"), conf);</p>\n\n<p>below code in setup method of mapper</p>\n\n<pre><code>@Override\nprotected void setup(Context context) throws IOException, InterruptedException {\n    Configuration configuration = new Configuration();\n    FileSystem fileSystem = null;\n    try {\n         fileSystem = FileSystem.get(new URI(\"&lt;File location\"),configuration);\n    } catch (URISyntaxException e) {\n        e.printStackTrace();\n    }\n\n    String location = &lt;S3 file location&gt;;\n    FSDataInputStream fsDataInputStream =fileSystem.open(new Path(location));\n    Scanner scanner = new Scanner(fsDataInputStream);\n    int i = 1;\n    while(scanner.hasNextLine()) {\n        String str[] = scanner.nextLine().split(\",\");\n        LOG.info(\"keys are \\t\" + str[0] + str[1]);\n        stickerMap.put(str[0] + str[1], i);\n        ++i;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4266949,"reputation":51,"user_id":3489834,"display_name":"user3489834"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19657,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1646974149,"creation_date":1400666606,"question_id":23779976,"body_markdown":"I am trying to implement reduce side join , and using mapfile reader to look up distributed cache but it is not looking up the values when checked in stderr it showed the following error, lookupfile file is already present in hdfs , and seems to be loaded correctly into cache as seen in the stdout.\r\n\r\n \r\n\r\n    \r\n\r\n&gt; java.lang.IllegalArgumentException: Wrong FS:\r\n&gt; file:/app/hadoop/tmp/mapred/local/taskTracker/distcache/-8118663285704962921_-1196516983_170706299/localhost/input/delivery_status/DeliveryStatusCodes/data,\r\n&gt; expected: hdfs://localhost:9000 at\r\n&gt; org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:390) at\r\n&gt; org.apache.hadoop.hdfs.DistributedFileSystem.getPathName(DistributedFileSystem.java:140)\r\n&gt; at\r\n&gt; org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:554)\r\n&gt; at org.apache.hadoop.fs.FileSystem.getLength(FileSystem.java:816) at\r\n&gt; org.apache.hadoop.io.SequenceFile$Reader.(SequenceFile.java:1479) at\r\n&gt; org.apache.hadoop.io.SequenceFile$Reader.(SequenceFile.java:1474) at\r\n&gt; org.apache.hadoop.io.MapFile$Reader.createDataFileReader(MapFile.java:302)\r\n&gt; at org.apache.hadoop.io.MapFile$Reader.open(MapFile.java:284) at\r\n&gt; org.apache.hadoop.io.MapFile$Reader.(MapFile.java:273) at\r\n&gt; org.apache.hadoop.io.MapFile$Reader.(MapFile.java:260) at\r\n&gt; org.apache.hadoop.io.MapFile$Reader.(MapFile.java:253) at\r\n&gt; mr_poc.reducerrsj.initializeDepartmentsMap(reducerrsj.java:59) at\r\n&gt; mr_poc.reducerrsj.setup(reducerrsj.java:42) at\r\n&gt; org.apache.hadoop.mapreduce.Reducer.run(Reducer.java:174) at\r\n&gt; org.apache.hadoop.mapred.ReduceTask.runNewReducer(ReduceTask.java:649)\r\n&gt; at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:418) at\r\n&gt; org.apache.hadoop.mapred.Child$4.run(Child.java:255) at\r\n&gt; java.security.AccessController.doPrivileged(Native Method) at\r\n&gt; javax.security.auth.Subject.doAs(Subject.java:416) at\r\n&gt; org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1190)\r\n&gt; at org.apache.hadoop.mapred.Child.main(Child.java:249)\r\n&gt; java.lang.NullPointerException at\r\n&gt; mr_poc.reducerrsj.buildOutputValue(reducerrsj.java:83) at\r\n&gt; mr_poc.reducerrsj.reduce(reducerrsj.java:127) at\r\n&gt; mr_poc.reducerrsj.reduce(reducerrsj.java:1) at\r\n&gt; org.apache.hadoop.mapreduce.Reducer.run(Reducer.java:177) at\r\n&gt; org.apache.hadoop.mapred.ReduceTask.runNewReducer(ReduceTask.java:649)\r\n&gt; at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:418) at\r\n&gt; org.apache.hadoop.mapred.Child$4.run(Child.java:255) at\r\n&gt; java.security.AccessController.doPrivileged(Native Method) at\r\n&gt; javax.security.auth.Subject.doAs(Subject.java:416) at\r\n&gt; org.apache.hadoop.security.\r\n\r\nThis is my driver code ,\r\n\r\n\r\n    package mr_poc;\r\n    \r\n    import java.net.URI;\r\n    \r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.conf.Configured;\r\n    import org.apache.hadoop.filecache.DistributedCache;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.hadoop.io.NullWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapreduce.Job;\r\n    import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\n    import org.apache.hadoop.util.Tool;\r\n    import org.apache.hadoop.util.ToolRunner;\r\n    \r\n    public class driverrsj extends Configured implements Tool{\r\n    \r\n    \t@Override\r\n    \tpublic int run(String[] arg) throws Exception {\r\n    if(arg.length != 3)\r\n    {\r\n    \tSystem.out.printf(&quot;3 parameters are required for DriverRSJ- &lt;Input Dir1&gt; &lt;Input Dir2&gt; &lt;Output Dir&gt; \\n&quot;);\r\n    \treturn -1;\r\n    }\r\n    Job job = new Job(getConf());\r\n    Configuration conf = job.getConfiguration();\r\n    DistributedCache.addCacheFile(new URI(&quot;/input/delivery_status&quot;), conf);\r\n    System.out.println(&quot;Cache : &quot; + job.getConfiguration().get(&quot;mapred.cache.files&quot;));\r\n    job.setJarByClass(driverrsj.class);\r\n    conf.setInt(&quot;cust_info&quot;, 1);\r\n    conf.setInt(&quot;status&quot;, 2);\r\n    StringBuilder inputPaths = new StringBuilder();\r\n    inputPaths.append(arg[0].toString()).append(&quot;,&quot;).append(arg[1].toString());\r\n    FileInputFormat.setInputPaths(job, inputPaths.toString());\r\n    FileOutputFormat.setOutputPath(job, new Path(arg[2]));\r\n    job.setJarByClass(driverrsj.class);\r\n    job.setMapperClass(mappperRSJ.class);\r\n    job.setReducerClass(reducerrsj.class);\r\n    job.setMapOutputKeyClass(CompositeKeyWritableRSJ.class);\r\n    job.setMapOutputValueClass(Text.class);\r\n    //job.setPartitionerClass(partinonrsj.class);\r\n    job.setSortComparatorClass(secondarysortcomp.class);\r\n    job.setGroupingComparatorClass(GroupingComparatorRSJ.class);\r\n    job.setNumReduceTasks(1);\r\n    job.setOutputKeyClass(NullWritable.class);\r\n    job.setOutputValueClass(Text.class);\r\n    \r\n    \r\n    boolean success =job.waitForCompletion(true);\r\n    return success? 0 : 1;\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\tint exitCode = ToolRunner.run(new Configuration(), new driverrsj(),args);\r\n    \t\tSystem.exit(exitCode);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n    \r\nThis is my reducer code\r\n\r\n\r\npackage mr_poc;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    \r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.filecache.DistributedCache;\r\n    import org.apache.hadoop.fs.FileSystem;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.hadoop.io.MapFile;\r\n    import org.apache.hadoop.io.NullWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapreduce.Reducer;\r\n    \r\n    public class reducerrsj extends Reducer&lt;CompositeKeyWritableRSJ, Text, NullWritable, Text&gt;{\r\n    \tStringBuilder reduceValueBuilder = new StringBuilder(&quot;&quot;);\r\n    \tNullWritable nullWritableKey = NullWritable.get();\r\n    \tText reduceOutputValue = new Text(&quot;&quot;);\r\n    \tString strSeparator = &quot;,&quot;;\r\n    \tprivate MapFile.Reader deptMapReader = null;\r\n    \tText txtMapFileLookupKey = new Text();\r\n    \tText txtMapFileLookupValue = new Text();\r\n    \t//Path[] cacheFilesLocal;\r\n    \t//Path[] eachPath;\r\n    \t\r\n    \t@Override\r\n    \tprotected void setup(Context context) throws IOException,InterruptedException {\r\n    \t\tPath[] cacheFiles = DistributedCache.getLocalCacheFiles(context.getConfiguration());\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tfor ( Path eachPath : cacheFiles){\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(eachPath.toString());\r\n    \t\t      System.out.println(eachPath.getName());\r\n    \t\t\tif(eachPath.getName().toString().contains(&quot;delivery_status&quot;))\r\n    \t\t\t{\r\n    \t\t\t\t  \r\n    \t\t\t\tURI uriUncompressedFile = new File(eachPath.toString()+ &quot;/DeliveryStatusCodes&quot;).toURI();\r\n    \t\t\t\tinitializeDepartmentsMap(uriUncompressedFile, context);\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\r\n    \t//@SuppressWarnings(&quot;deprecation&quot;)\r\n    \tprivate void initializeDepartmentsMap(URI uriUncompressedFile, Context context)\r\n    \tthrows IOException {\r\n    \t// {{\r\n    \t// Initialize the reader of the map file (side data)\r\n    \t\tConfiguration conf = context.getConfiguration();\r\n    \t\tconf.addResource(new Path(&quot;/usr/local/hadoop-1.2.1/conf/core-site.xml&quot;));\r\n    \t\tFileSystem dfs = FileSystem.get(conf);\r\n    \ttry {\r\n    \t\t\r\n    \t\t\r\n    \tdeptMapReader = new MapFile.Reader(dfs,uriUncompressedFile.toString(), context.getConfiguration());\r\n    \t} catch (Exception e) {\r\n    \te.printStackTrace();\r\n    \t}\r\n    \t// }}\r\n    \t}\r\n    \tprivate StringBuilder buildOutputValue(CompositeKeyWritableRSJ key,\r\n    \t\t\tStringBuilder reduceValueBuilder, Text value) {\r\n    \t\t\t \r\n    \t\t\tif (key.getsourceindex() == 2) {\r\n    \t\t\t\r\n    \t\t\t \r\n    \t\t\tString arrSalAttributes[] = value.toString().split(&quot;,&quot;);\r\n    \t\t\ttxtMapFileLookupKey.set(arrSalAttributes[0].toString());\r\n    \t\t\tSystem.out.println(&quot;key=&quot; + txtMapFileLookupKey);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\ttry {\r\n    \t\t\t\t\r\n    \t\t\tdeptMapReader.get(txtMapFileLookupKey, txtMapFileLookupValue);\r\n    \t\t\t}\r\n    \t\t\t catch (Exception e) {\r\n    \t\t\ttxtMapFileLookupValue.set(&quot;&quot;);\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} finally {\r\n    \t\t\ttxtMapFileLookupValue\r\n    \t\t\t.set((txtMapFileLookupValue.equals(null) || txtMapFileLookupValue\r\n    \t\t\t.equals(&quot;&quot;)) ? &quot;NOT-FOUND&quot;\r\n    \t\t\t: txtMapFileLookupValue.toString());\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\treduceValueBuilder.append(txtMapFileLookupValue.toString());\r\n    \t\t\t\r\n    \t\t\t \r\n    \t\t\t} else if(key.getsourceindex() == 1) {\r\n    \t\t\r\n    \t\t\tString arrEmpAttributes[] = value.toString().split(&quot;,&quot;);\r\n    \t\t\treduceValueBuilder.append(arrEmpAttributes[0].toString()).append(\r\n    \t\t\tstrSeparator);\r\n    \t\t\t} \r\n    \t\t\t\r\n    \t\t\t \r\n    \t\t\t\r\n    \t\t\ttxtMapFileLookupKey.set(&quot;&quot;);\r\n    \t\t\ttxtMapFileLookupValue.set(&quot;&quot;);\r\n    \t\t\t\r\n    \t\t\treturn reduceValueBuilder;\r\n    \t}\r\n    \t \r\n    \t@Override\r\n    \tpublic void reduce(CompositeKeyWritableRSJ key, Iterable&lt;Text&gt; values,\r\n    \tContext context) throws IOException, InterruptedException {\r\n    \t \r\n    \t\r\n    \tfor (Text value : values) {\r\n    \tbuildOutputValue(key, reduceValueBuilder, value);\r\n    \t}\r\n    \t \r\n    \t// Drop last comma, set value, and emit output\r\n    \tif (reduceValueBuilder.length() &gt; 1) {\r\n    \t \r\n    \t//reduceValueBuilder.setLength(reduceValueBuilder.length() - 1);\r\n    \t// Emit output\r\n    \treduceOutputValue.set(reduceValueBuilder.toString());\r\n    \tcontext.write(nullWritableKey, reduceOutputValue);\r\n    \t} else {\r\n    \tSystem.out.println(&quot;Key=&quot; + key.getjoinkey() + &quot;src=&quot;\r\n    \t+ key.getsourceindex());\r\n    \t \r\n    \t}\r\n    \t// Reset variables\r\n    \treduceValueBuilder.setLength(0);\r\n    \treduceOutputValue.set(&quot;&quot;);\r\n    \t \r\n    \t}\r\n    \t@Override\r\n    \tprotected void cleanup(Context context) throws IOException,\r\n    \tInterruptedException {\r\n    \t\t if(deptMapReader != null)\r\n    \t\t {\r\n    deptMapReader.close();\r\n    \t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n\r\nthis is my core-site-Xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;\r\n    \r\n    &lt;!-- Put site-specific property overrides in this file. --&gt;\r\n    \r\n    &lt;configuration&gt;\r\n    &lt;property&gt;\r\n      &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;\r\n      &lt;value&gt;/app/hadoop/tmp&lt;/value&gt;\r\n      &lt;description&gt;A base for other temporary directories.&lt;/description&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n      &lt;name&gt;fs.default.name&lt;/name&gt;\r\n      &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\r\n      &lt;description&gt;The name of the default file system.  A URI whose\r\n      scheme and authority determine the FileSystem implementation.  The\r\n      uri&#39;s scheme determines the config property (fs.SCHEME.impl) naming\r\n      the FileSystem implementation class.  The uri&#39;s authority is used to\r\n      determine the host, port, etc. for a filesystem.&lt;/description&gt;\r\n    &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\n\r\nAny help would be highly appreciated. Thanks in advance!!!\r\n","title":"java.lang.IllegalArgumentException: Wrong FS: , expected: hdfs://localhost:9000","body":"<p>I am trying to implement reduce side join , and using mapfile reader to look up distributed cache but it is not looking up the values when checked in stderr it showed the following error, lookupfile file is already present in hdfs , and seems to be loaded correctly into cache as seen in the stdout.</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Wrong FS:\nfile:/app/hadoop/tmp/mapred/local/taskTracker/distcache/-8118663285704962921_-1196516983_170706299/localhost/input/delivery_status/DeliveryStatusCodes/data,\nexpected: hdfs://localhost:9000 at\norg.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:390) at\norg.apache.hadoop.hdfs.DistributedFileSystem.getPathName(DistributedFileSystem.java:140)\nat\norg.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:554)\nat org.apache.hadoop.fs.FileSystem.getLength(FileSystem.java:816) at\norg.apache.hadoop.io.SequenceFile$Reader.(SequenceFile.java:1479) at\norg.apache.hadoop.io.SequenceFile$Reader.(SequenceFile.java:1474) at\norg.apache.hadoop.io.MapFile$Reader.createDataFileReader(MapFile.java:302)\nat org.apache.hadoop.io.MapFile$Reader.open(MapFile.java:284) at\norg.apache.hadoop.io.MapFile$Reader.(MapFile.java:273) at\norg.apache.hadoop.io.MapFile$Reader.(MapFile.java:260) at\norg.apache.hadoop.io.MapFile$Reader.(MapFile.java:253) at\nmr_poc.reducerrsj.initializeDepartmentsMap(reducerrsj.java:59) at\nmr_poc.reducerrsj.setup(reducerrsj.java:42) at\norg.apache.hadoop.mapreduce.Reducer.run(Reducer.java:174) at\norg.apache.hadoop.mapred.ReduceTask.runNewReducer(ReduceTask.java:649)\nat org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:418) at\norg.apache.hadoop.mapred.Child$4.run(Child.java:255) at\njava.security.AccessController.doPrivileged(Native Method) at\njavax.security.auth.Subject.doAs(Subject.java:416) at\norg.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1190)\nat org.apache.hadoop.mapred.Child.main(Child.java:249)\njava.lang.NullPointerException at\nmr_poc.reducerrsj.buildOutputValue(reducerrsj.java:83) at\nmr_poc.reducerrsj.reduce(reducerrsj.java:127) at\nmr_poc.reducerrsj.reduce(reducerrsj.java:1) at\norg.apache.hadoop.mapreduce.Reducer.run(Reducer.java:177) at\norg.apache.hadoop.mapred.ReduceTask.runNewReducer(ReduceTask.java:649)\nat org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:418) at\norg.apache.hadoop.mapred.Child$4.run(Child.java:255) at\njava.security.AccessController.doPrivileged(Native Method) at\njavax.security.auth.Subject.doAs(Subject.java:416) at\norg.apache.hadoop.security.</p>\n</blockquote>\n<p>This is my driver code ,</p>\n<pre><code>package mr_poc;\n\nimport java.net.URI;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.conf.Configured;\nimport org.apache.hadoop.filecache.DistributedCache;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.NullWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\nimport org.apache.hadoop.util.Tool;\nimport org.apache.hadoop.util.ToolRunner;\n\npublic class driverrsj extends Configured implements Tool{\n\n    @Override\n    public int run(String[] arg) throws Exception {\nif(arg.length != 3)\n{\n    System.out.printf(&quot;3 parameters are required for DriverRSJ- &lt;Input Dir1&gt; &lt;Input Dir2&gt; &lt;Output Dir&gt; \\n&quot;);\n    return -1;\n}\nJob job = new Job(getConf());\nConfiguration conf = job.getConfiguration();\nDistributedCache.addCacheFile(new URI(&quot;/input/delivery_status&quot;), conf);\nSystem.out.println(&quot;Cache : &quot; + job.getConfiguration().get(&quot;mapred.cache.files&quot;));\njob.setJarByClass(driverrsj.class);\nconf.setInt(&quot;cust_info&quot;, 1);\nconf.setInt(&quot;status&quot;, 2);\nStringBuilder inputPaths = new StringBuilder();\ninputPaths.append(arg[0].toString()).append(&quot;,&quot;).append(arg[1].toString());\nFileInputFormat.setInputPaths(job, inputPaths.toString());\nFileOutputFormat.setOutputPath(job, new Path(arg[2]));\njob.setJarByClass(driverrsj.class);\njob.setMapperClass(mappperRSJ.class);\njob.setReducerClass(reducerrsj.class);\njob.setMapOutputKeyClass(CompositeKeyWritableRSJ.class);\njob.setMapOutputValueClass(Text.class);\n//job.setPartitionerClass(partinonrsj.class);\njob.setSortComparatorClass(secondarysortcomp.class);\njob.setGroupingComparatorClass(GroupingComparatorRSJ.class);\njob.setNumReduceTasks(1);\njob.setOutputKeyClass(NullWritable.class);\njob.setOutputValueClass(Text.class);\n\n\nboolean success =job.waitForCompletion(true);\nreturn success? 0 : 1;\n\n    }\n    \n    public static void main(String[] args) throws Exception{\n        int exitCode = ToolRunner.run(new Configuration(), new driverrsj(),args);\n        System.exit(exitCode);\n        \n    }\n    \n\n}\n</code></pre>\n<p>This is my reducer code</p>\n<p>package mr_poc;</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.net.URI;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.filecache.DistributedCache;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.MapFile;\nimport org.apache.hadoop.io.NullWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Reducer;\n\npublic class reducerrsj extends Reducer&lt;CompositeKeyWritableRSJ, Text, NullWritable, Text&gt;{\n    StringBuilder reduceValueBuilder = new StringBuilder(&quot;&quot;);\n    NullWritable nullWritableKey = NullWritable.get();\n    Text reduceOutputValue = new Text(&quot;&quot;);\n    String strSeparator = &quot;,&quot;;\n    private MapFile.Reader deptMapReader = null;\n    Text txtMapFileLookupKey = new Text();\n    Text txtMapFileLookupValue = new Text();\n    //Path[] cacheFilesLocal;\n    //Path[] eachPath;\n    \n    @Override\n    protected void setup(Context context) throws IOException,InterruptedException {\n        Path[] cacheFiles = DistributedCache.getLocalCacheFiles(context.getConfiguration());\n        \n        \n        \n        for ( Path eachPath : cacheFiles){\n            \n            System.out.println(eachPath.toString());\n              System.out.println(eachPath.getName());\n            if(eachPath.getName().toString().contains(&quot;delivery_status&quot;))\n            {\n                  \n                URI uriUncompressedFile = new File(eachPath.toString()+ &quot;/DeliveryStatusCodes&quot;).toURI();\n                initializeDepartmentsMap(uriUncompressedFile, context);\n            \n            }\n            }\n        }\n    \n    //@SuppressWarnings(&quot;deprecation&quot;)\n    private void initializeDepartmentsMap(URI uriUncompressedFile, Context context)\n    throws IOException {\n    // {{\n    // Initialize the reader of the map file (side data)\n        Configuration conf = context.getConfiguration();\n        conf.addResource(new Path(&quot;/usr/local/hadoop-1.2.1/conf/core-site.xml&quot;));\n        FileSystem dfs = FileSystem.get(conf);\n    try {\n        \n        \n    deptMapReader = new MapFile.Reader(dfs,uriUncompressedFile.toString(), context.getConfiguration());\n    } catch (Exception e) {\n    e.printStackTrace();\n    }\n    // }}\n    }\n    private StringBuilder buildOutputValue(CompositeKeyWritableRSJ key,\n            StringBuilder reduceValueBuilder, Text value) {\n             \n            if (key.getsourceindex() == 2) {\n            \n             \n            String arrSalAttributes[] = value.toString().split(&quot;,&quot;);\n            txtMapFileLookupKey.set(arrSalAttributes[0].toString());\n            System.out.println(&quot;key=&quot; + txtMapFileLookupKey);\n            \n            \n            try {\n                \n            deptMapReader.get(txtMapFileLookupKey, txtMapFileLookupValue);\n            }\n             catch (Exception e) {\n            txtMapFileLookupValue.set(&quot;&quot;);\n                e.printStackTrace();\n            } finally {\n            txtMapFileLookupValue\n            .set((txtMapFileLookupValue.equals(null) || txtMapFileLookupValue\n            .equals(&quot;&quot;)) ? &quot;NOT-FOUND&quot;\n            : txtMapFileLookupValue.toString());\n            }\n        \n            reduceValueBuilder.append(txtMapFileLookupValue.toString());\n            \n             \n            } else if(key.getsourceindex() == 1) {\n        \n            String arrEmpAttributes[] = value.toString().split(&quot;,&quot;);\n            reduceValueBuilder.append(arrEmpAttributes[0].toString()).append(\n            strSeparator);\n            } \n            \n             \n            \n            txtMapFileLookupKey.set(&quot;&quot;);\n            txtMapFileLookupValue.set(&quot;&quot;);\n            \n            return reduceValueBuilder;\n    }\n     \n    @Override\n    public void reduce(CompositeKeyWritableRSJ key, Iterable&lt;Text&gt; values,\n    Context context) throws IOException, InterruptedException {\n     \n    \n    for (Text value : values) {\n    buildOutputValue(key, reduceValueBuilder, value);\n    }\n     \n    // Drop last comma, set value, and emit output\n    if (reduceValueBuilder.length() &gt; 1) {\n     \n    //reduceValueBuilder.setLength(reduceValueBuilder.length() - 1);\n    // Emit output\n    reduceOutputValue.set(reduceValueBuilder.toString());\n    context.write(nullWritableKey, reduceOutputValue);\n    } else {\n    System.out.println(&quot;Key=&quot; + key.getjoinkey() + &quot;src=&quot;\n    + key.getsourceindex());\n     \n    }\n    // Reset variables\n    reduceValueBuilder.setLength(0);\n    reduceOutputValue.set(&quot;&quot;);\n     \n    }\n    @Override\n    protected void cleanup(Context context) throws IOException,\n    InterruptedException {\n         if(deptMapReader != null)\n         {\ndeptMapReader.close();\n    }\n    }\n}\n</code></pre>\n<p>this is my core-site-Xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;\n\n&lt;!-- Put site-specific property overrides in this file. --&gt;\n\n&lt;configuration&gt;\n&lt;property&gt;\n  &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;\n  &lt;value&gt;/app/hadoop/tmp&lt;/value&gt;\n  &lt;description&gt;A base for other temporary directories.&lt;/description&gt;\n&lt;/property&gt;\n&lt;property&gt;\n  &lt;name&gt;fs.default.name&lt;/name&gt;\n  &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\n  &lt;description&gt;The name of the default file system.  A URI whose\n  scheme and authority determine the FileSystem implementation.  The\n  uri's scheme determines the config property (fs.SCHEME.impl) naming\n  the FileSystem implementation class.  The uri's authority is used to\n  determine the host, port, etc. for a filesystem.&lt;/description&gt;\n&lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Any help would be highly appreciated. Thanks in advance!!!</p>\n"},{"tags":["java","snmp","wildfly-10"],"answers":[{"tags":[],"owner":{"account_id":8323954,"reputation":1796,"user_id":6284025,"accept_rate":86,"display_name":"TallChuck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646974009,"creation_date":1646972340,"answer_id":71433598,"question_id":71422671,"body_markdown":"The problem here is that `jvmMemPoolMaxSize` (OID `.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.13`) is defined in [JVM-MANAGEMENT-MIB][1] as type `JvmUnsigned64TC`, which seems kind of strange because Java specifically forbids the use of unsigned integer types.\r\n\r\nThe description for `jvmMemPoolMaxSize` implies that it&#39;s meant to represent the value returned by `java.lang.management.MemoryPoolMXBean.getUsage().getMax()`. The [documentation][2] for that method says &quot;This method returns -1 if the maximum memory size is undefined.&quot;\r\n\r\nThe description of `jvmMgmMIB` addresses the issue with this explanation:\r\n\r\n&gt; Where the Java programming language API uses long, or int, \r\n&gt; the MIB often uses the corresponding unsigned quantity - \r\n&gt; which is closer to the object semantics.\r\n&gt;\r\n&gt; In those cases, it often happens that the -1 value that might\r\n&gt; be used by the API to indicate an unknown/unimplemented\r\n&gt; value cannot be used. Instead the MIB uses the value 0, which\r\n&gt; stricly speaking cannot be distinguished from a valid value.\r\n&gt; In many cases however, a running system will have non-zero\r\n&gt; values, so using 0 instead of -1 to indicate an unknown \r\n&gt; quantity does not lose any functionality.\r\n\r\nI think it&#39;s safe to say this is one of the cases where a zero is not valid, so you should take it to mean that there is no defined maximum.\r\n\r\n  [1]: https://docs.oracle.com/javase/1.5.0/docs/guide/management/JVM-MANAGEMENT-MIB.mib\r\n  [2]: https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/management/MemoryUsage.html#getMax()","title":"Java process snmp monitoring reports max values for Eden and Survivor Space are zero","body":"<p>The problem here is that <code>jvmMemPoolMaxSize</code> (OID <code>.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.13</code>) is defined in <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/management/JVM-MANAGEMENT-MIB.mib\" rel=\"nofollow noreferrer\">JVM-MANAGEMENT-MIB</a> as type <code>JvmUnsigned64TC</code>, which seems kind of strange because Java specifically forbids the use of unsigned integer types.</p>\n<p>The description for <code>jvmMemPoolMaxSize</code> implies that it's meant to represent the value returned by <code>java.lang.management.MemoryPoolMXBean.getUsage().getMax()</code>. The <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/management/MemoryUsage.html#getMax()\" rel=\"nofollow noreferrer\">documentation</a> for that method says &quot;This method returns -1 if the maximum memory size is undefined.&quot;</p>\n<p>The description of <code>jvmMgmMIB</code> addresses the issue with this explanation:</p>\n<blockquote>\n<p>Where the Java programming language API uses long, or int,\nthe MIB often uses the corresponding unsigned quantity -\nwhich is closer to the object semantics.</p>\n<p>In those cases, it often happens that the -1 value that might\nbe used by the API to indicate an unknown/unimplemented\nvalue cannot be used. Instead the MIB uses the value 0, which\nstricly speaking cannot be distinguished from a valid value.\nIn many cases however, a running system will have non-zero\nvalues, so using 0 instead of -1 to indicate an unknown\nquantity does not lose any functionality.</p>\n</blockquote>\n<p>I think it's safe to say this is one of the cases where a zero is not valid, so you should take it to mean that there is no defined maximum.</p>\n"}],"owner":{"account_id":2999441,"reputation":3025,"user_id":2545194,"accept_rate":50,"display_name":"Jdamian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71433598,"answer_count":1,"score":1,"last_activity_date":1646974009,"creation_date":1646908474,"question_id":71422671,"body_markdown":"I&#39;m monitoring a WildFly 10.1.0.Final Java process via SNMP port (configuring the `com.sun.management.snmp` properties) in a Linux box.\r\n\r\nThe problem is the reported **max** values for **Eden** and **Survivor** Spaces are zero.\r\n\r\n```\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.11.4 = Counter64: 775946240\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.10.4 = Counter64: 3946840064\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.12.4 = Counter64: 3774873600\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.13.4 = Counter64: 0\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.11.5 = Counter64: 4194304\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.10.5 = Counter64: 0\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.12.5 = Counter64: 4194304\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.13.5 = Counter64: 0\r\n```\r\n\r\n```.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.1 = STRING: &quot;Code Cache&quot;\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.2 = STRING: &quot;Metaspace&quot;\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.3 = STRING: &quot;Compressed Class Space&quot;\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.4 = STRING: &quot;G1 Eden Space&quot;\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.5 = STRING: &quot;G1 Survivor Space&quot;\r\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.6 = STRING: &quot;G1 Old Gen&quot;\r\n```\r\n\r\nThe same monitoring script is used in a lot of other Java processes, which do not report this issue.\r\n\r\nWhat can cause that?\r\nCann these values be zero?\r\n\r\nBest regards","title":"Java process snmp monitoring reports max values for Eden and Survivor Space are zero","body":"<p>I'm monitoring a WildFly 10.1.0.Final Java process via SNMP port (configuring the <code>com.sun.management.snmp</code> properties) in a Linux box.</p>\n<p>The problem is the reported <strong>max</strong> values for <strong>Eden</strong> and <strong>Survivor</strong> Spaces are zero.</p>\n<pre><code>.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.11.4 = Counter64: 775946240\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.10.4 = Counter64: 3946840064\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.12.4 = Counter64: 3774873600\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.13.4 = Counter64: 0\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.11.5 = Counter64: 4194304\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.10.5 = Counter64: 0\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.12.5 = Counter64: 4194304\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.13.5 = Counter64: 0\n</code></pre>\n<pre><code>.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.2 = STRING: &quot;Metaspace&quot;\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.3 = STRING: &quot;Compressed Class Space&quot;\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.4 = STRING: &quot;G1 Eden Space&quot;\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.5 = STRING: &quot;G1 Survivor Space&quot;\n.1.3.6.1.4.1.42.2.145.3.163.1.1.2.110.1.2.6 = STRING: &quot;G1 Old Gen&quot;\n</code></pre>\n<p>The same monitoring script is used in a lot of other Java processes, which do not report this issue.</p>\n<p>What can cause that?\nCann these values be zero?</p>\n<p>Best regards</p>\n"},{"tags":["java","jmf",".mov"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1646939312,"post_id":71419580,"comment_id":126254027,"body_markdown":"It might be that (the very old) JMF does not support the MP4 encoding.","body":"It might be that (the very old) JMF does not support the MP4 encoding."},{"owner":{"account_id":16642888,"reputation":64,"user_id":12027924,"display_name":"Pew"},"score":0,"creation_date":1646960106,"post_id":71419580,"comment_id":126258933,"body_markdown":"i mentioned that i was looking for the capability to play .mov files, however any video format is acceptable","body":"i mentioned that i was looking for the capability to play .mov files, however any video format is acceptable"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1646968673,"post_id":71419580,"comment_id":126260140,"body_markdown":"There are MOV format files that JMF *will* play. The problem is most, if not all, video formats are &#39;container formats&#39; and the encodings (e.g. MP4) within that container will not necessarily be recognised. What is this media player for? Can you encode all the possible videos in an old (often quite inefficient) encoding?","body":"There are MOV format files that JMF <i>will</i> play. The problem is most, if not all, video formats are &#39;container formats&#39; and the encodings (e.g. MP4) within that container will not necessarily be recognised. What is this media player for? Can you encode all the possible videos in an old (often quite inefficient) encoding?"},{"owner":{"account_id":16642888,"reputation":64,"user_id":12027924,"display_name":"Pew"},"score":0,"creation_date":1646972926,"post_id":71419580,"comment_id":126260742,"body_markdown":"I edited the question to include a purpose, but I&#39;m not sure how to change the encoding","body":"I edited the question to include a purpose, but I&#39;m not sure how to change the encoding"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1646974312,"post_id":71419580,"comment_id":126260917,"body_markdown":"***&quot;Purpose: Play a cutscene in a game with minimal external libaries&quot;*** Uh-huh, so you control all the media needing to be played. It is not for the users to trawl round their local file-system to play any vid they have. *&quot;I&#39;m not sure how to change the encoding&quot;* Video editing tools usually offer the user a choice of encoding when saving out vids. It might also be a problem with the video resolution, though I vaguely recall playing some huge MOVs (made from high-res photos using `JPEGImagesToMovie`).","body":"<b><i>&quot;Purpose: Play a cutscene in a game with minimal external libaries&quot;</i></b> Uh-huh, so you control all the media needing to be played. It is not for the users to trawl round their local file-system to play any vid they have. <i>&quot;I&#39;m not sure how to change the encoding&quot;</i> Video editing tools usually offer the user a choice of encoding when saving out vids. It might also be a problem with the video resolution, though I vaguely recall playing some huge MOVs (made from high-res photos using <code>JPEGImagesToMovie</code>)."},{"owner":{"account_id":16642888,"reputation":64,"user_id":12027924,"display_name":"Pew"},"score":0,"creation_date":1646976429,"post_id":71419580,"comment_id":126261256,"body_markdown":"Do you have an example of an mov file you could play?","body":"Do you have an example of an mov file you could play?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1647022035,"post_id":71419580,"comment_id":126276800,"body_markdown":"Nope. I might have had one or two on my &#39;data&#39; drive, but it is kaput at the moment.","body":"Nope. I might have had one or two on my &#39;data&#39; drive, but it is kaput at the moment."},{"owner":{"account_id":16642888,"reputation":64,"user_id":12027924,"display_name":"Pew"},"score":0,"creation_date":1647231611,"post_id":71419580,"comment_id":126310562,"body_markdown":"Any advice on how to reformat something into smth jmf can play?","body":"Any advice on how to reformat something into smth jmf can play?"}],"owner":{"account_id":16642888,"reputation":64,"user_id":12027924,"display_name":"Pew"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646972889,"creation_date":1646892687,"question_id":71419580,"body_markdown":"The below code is a simple wrapper for the JMF player. After trawling through countless fruitless google searches, I come here to ask why this code results in the error down below.\r\n#### Goal: Be able to embed and play a .mov file into a JFrame\r\n##### Purpose: Play a cutscene in a game with minimal external libaries\r\n```\r\n    public class Video {\r\n        Player player;\r\n    \r\n        public Video(String filepath, JFrame f) {\r\n            MediaLocator mediapath = new MediaLocator(&quot;file:///&quot; + &quot;./src/main/resources/&quot; + &quot;video.mov&quot;);\r\n            try {\r\n                this.player = Manager.createRealizedPlayer(mediapath);\r\n                f.add(this.player.getVisualComponent()); // pull out the video component, add it to the jframe\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n        public void play() {\r\n            this.player.start();\r\n        }\r\n    }\r\n```\r\n```\r\n Unable to handle format: mp4a, 1000.0 Hz, 16-bit, Stereo, BigEndian, Signed, FrameSize=32 bits\r\n Unable to handle format: AVC1, 640x640, FrameRate=30.0, Length=59353\r\nFailed to realize: com.sun.media.PlaybackEngine@15d9bc04\r\nError: Unable to realize com.sun.media.PlaybackEngine@15d9bc04\r\njavax.media.CannotRealizeException\r\n\tat javax.media.Manager.blockingCall(Manager.java:2005)\r\n\tat javax.media.Manager.createRealizedPlayer(Manager.java:554)\r\n\tat &lt;package&gt;.Video.&lt;init&gt;(Video.java:19)\r\n```","title":"JMF CannotRealizeException when reading mov files","body":"<p>The below code is a simple wrapper for the JMF player. After trawling through countless fruitless google searches, I come here to ask why this code results in the error down below.</p>\n<h4>Goal: Be able to embed and play a .mov file into a JFrame</h4>\n<h5>Purpose: Play a cutscene in a game with minimal external libaries</h5>\n<pre><code>    public class Video {\n        Player player;\n    \n        public Video(String filepath, JFrame f) {\n            MediaLocator mediapath = new MediaLocator(&quot;file:///&quot; + &quot;./src/main/resources/&quot; + &quot;video.mov&quot;);\n            try {\n                this.player = Manager.createRealizedPlayer(mediapath);\n                f.add(this.player.getVisualComponent()); // pull out the video component, add it to the jframe\n            } catch (Exception e) {\n                e.printStackTrace();\n                System.exit(1);\n            }\n        }\n    \n        public void play() {\n            this.player.start();\n        }\n    }\n</code></pre>\n<pre><code> Unable to handle format: mp4a, 1000.0 Hz, 16-bit, Stereo, BigEndian, Signed, FrameSize=32 bits\n Unable to handle format: AVC1, 640x640, FrameRate=30.0, Length=59353\nFailed to realize: com.sun.media.PlaybackEngine@15d9bc04\nError: Unable to realize com.sun.media.PlaybackEngine@15d9bc04\njavax.media.CannotRealizeException\n    at javax.media.Manager.blockingCall(Manager.java:2005)\n    at javax.media.Manager.createRealizedPlayer(Manager.java:554)\n    at &lt;package&gt;.Video.&lt;init&gt;(Video.java:19)\n</code></pre>\n"},{"tags":["java","gradle","groovy"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1587412617,"post_id":61328936,"comment_id":108497581,"body_markdown":"What does `gradlew -version` show on the command line?","body":"What does <code>gradlew -version</code> show on the command line?"},{"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"score":0,"creation_date":1587443830,"post_id":61328936,"comment_id":108506357,"body_markdown":"`gradlew -version` gives `-bash: gradlew: command not found`. There are however gradlew and gradlew.bat files in the current directory. `gradle -version` gives `Gradle 6.0.1 ... Kotlin: 1.3.50 Groovy: 2.5.8 Ant: 1.10.7 JVM: 14 OS: Mac OS X 10.15.4 x86_64.","body":"<code>gradlew -version</code> gives <code>-bash: gradlew: command not found</code>. There are however gradlew and gradlew.bat files in the current directory. <code>gradle -version</code> gives `Gradle 6.0.1 ... Kotlin: 1.3.50 Groovy: 2.5.8 Ant: 1.10.7 JVM: 14 OS: Mac OS X 10.15.4 x86_64."},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1587454083,"post_id":61328936,"comment_id":108509908,"body_markdown":"try `./gradlew -version`. Is this an android app?  Is is an app that&#39;s publicly available, so I can try it locally?","body":"try <code>.&#47;gradlew -version</code>. Is this an android app?  Is is an app that&#39;s publicly available, so I can try it locally?"},{"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"score":0,"creation_date":1587455638,"post_id":61328936,"comment_id":108510674,"body_markdown":"`./gradlew -version` downloaded `https://services.gradle.org/distributions/gradle-4.0-bin.zip` and then gave `FAILURE: Build failed with an exception. Could not determine java version from &#39;14&#39;`.","body":"<code>.&#47;gradlew -version</code> downloaded <code>https:&#47;&#47;services.gradle.org&#47;distributions&#47;gradle-4.0-bin.zip</code> and then gave <code>FAILURE: Build failed with an exception. Could not determine java version from &#39;14&#39;</code>."},{"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"score":0,"creation_date":1587455742,"post_id":61328936,"comment_id":108510731,"body_markdown":"the code is on my github page: https://github.com/jspinak/brobotREST","body":"the code is on my github page: <a href=\"https://github.com/jspinak/brobotREST\" rel=\"nofollow noreferrer\">github.com/jspinak/brobotREST</a>"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1587475342,"post_id":61328936,"comment_id":108521591,"body_markdown":"Yeah, gradle 4 doesn&#39;t work with Java 14","body":"Yeah, gradle 4 doesn&#39;t work with Java 14"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1587475362,"post_id":61328936,"comment_id":108521599,"body_markdown":"I&#39;ll take a look when I get some free time &#128513;","body":"I&#39;ll take a look when I get some free time ðŸ˜"}],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1587495997,"creation_date":1587495997,"answer_id":61351247,"question_id":61328936,"body_markdown":"So from your repo, if you have gradle-wrapper.properties like this:\r\n\r\n```\r\nâžœ cat gradle/wrapper/gradle-wrapper.properties\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n```\r\n\r\nOn first compilation, Gradle tells you that:\r\n\r\n```\r\n  build file &#39;/Users/tim/Code/Java/brobotREST/build.gradle&#39;: 36:\r\n     all buildscript {} blocks must appear before any plugins {} blocks in the script\r\n```\r\n\r\nSo if you move the `buildscript` section up to the top of the build.gradle file, it all seems to work\r\n\r\nAnd I get:\r\n\r\n```\r\nâžœ ./gradlew -version\r\n\r\n------------------------------------------------------------\r\nGradle 6.3\r\n------------------------------------------------------------\r\n\r\nBuild time:   2020-03-24 19:52:07 UTC\r\nRevision:     bacd40b727b0130eeac8855ae3f9fd9a0b207c60\r\n\r\nKotlin:       1.3.70\r\nGroovy:       2.5.10\r\nAnt:          Apache Ant(TM) version 1.10.7 compiled on September 1 2019\r\nJVM:          14 (Azul Systems, Inc. 14+36)\r\nOS:           Mac OS X 10.15.4 x86_64\r\n```","title":"Gradle error: Could not initialize class org.codehaus.groovy.runtime.InvokerHelper","body":"<p>So from your repo, if you have gradle-wrapper.properties like this:</p>\n\n<pre><code>âžœ cat gradle/wrapper/gradle-wrapper.properties\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n\n<p>On first compilation, Gradle tells you that:</p>\n\n<pre><code>  build file '/Users/tim/Code/Java/brobotREST/build.gradle': 36:\n     all buildscript {} blocks must appear before any plugins {} blocks in the script\n</code></pre>\n\n<p>So if you move the <code>buildscript</code> section up to the top of the build.gradle file, it all seems to work</p>\n\n<p>And I get:</p>\n\n<pre><code>âžœ ./gradlew -version\n\n------------------------------------------------------------\nGradle 6.3\n------------------------------------------------------------\n\nBuild time:   2020-03-24 19:52:07 UTC\nRevision:     bacd40b727b0130eeac8855ae3f9fd9a0b207c60\n\nKotlin:       1.3.70\nGroovy:       2.5.10\nAnt:          Apache Ant(TM) version 1.10.7 compiled on September 1 2019\nJVM:          14 (Azul Systems, Inc. 14+36)\nOS:           Mac OS X 10.15.4 x86_64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17310173,"reputation":64,"user_id":12537979,"display_name":"Stephen L."},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1599252421,"creation_date":1599252421,"answer_id":63747848,"question_id":61328936,"body_markdown":"Had a similar problem on Windows 10 caused by a java version issue. \r\nIn **build.gradle** set the java source compatibility flag; For **java 1.8** this is\r\n\r\n**sourceCompatibility = &#39;1.8&#39;**\r\n\r\nthen check the system version is the same\r\n\r\n**java -version** \r\n","title":"Gradle error: Could not initialize class org.codehaus.groovy.runtime.InvokerHelper","body":"<p>Had a similar problem on Windows 10 caused by a java version issue.\nIn <strong>build.gradle</strong> set the java source compatibility flag; For <strong>java 1.8</strong> this is</p>\n<p><strong>sourceCompatibility = '1.8'</strong></p>\n<p>then check the system version is the same</p>\n<p><strong>java -version</strong></p>\n"},{"tags":[],"owner":{"account_id":6441295,"reputation":189,"user_id":4991236,"display_name":"Viktor Sirotin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646972106,"creation_date":1617801980,"answer_id":66987062,"question_id":61328936,"body_markdown":"I had a similar problem on macOS. It seems, it was a problem with version difference by IntelliJ IDEA and Gradle. \r\nI adjusted the Gradle version in &lt;PROJECT&gt;/gradle/gradle-wrapper.properties. \r\nIn my case I have set:\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-6.6.1-bin.zip`\r\n\r\nand now it works.\r\nSee also Gradle: Could not initialize class [org.codehaus.groovy.runtime.InvokerHelper][1]   \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62315496/gradle-could-not-initialize-class-org-codehaus-groovy-runtime-invokerhelper","title":"Gradle error: Could not initialize class org.codehaus.groovy.runtime.InvokerHelper","body":"<p>I had a similar problem on macOS. It seems, it was a problem with version difference by IntelliJ IDEA and Gradle.\nI adjusted the Gradle version in /gradle/gradle-wrapper.properties.\nIn my case I have set:\n<code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.6.1-bin.zip</code></p>\n<p>and now it works.\nSee also Gradle: Could not initialize class <a href=\"https://stackoverflow.com/questions/62315496/gradle-could-not-initialize-class-org-codehaus-groovy-runtime-invokerhelper\">org.codehaus.groovy.runtime.InvokerHelper</a></p>\n"}],"owner":{"account_id":18347006,"reputation":133,"user_id":13361997,"display_name":"Joshua Spinak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52984,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":61351247,"answer_count":3,"score":8,"last_activity_date":1646972106,"creation_date":1587405409,"question_id":61328936,"body_markdown":"I need to see my dependencies in Gradle to fix a problem with multiple SLF4J bindings.  \r\nHowever, when I run &#39;gradle dependencies&#39; I get the error:\r\n\r\n*Could not initialize class org.codehaus.groovy.runtime.InvokerHelper*\r\n\r\nIn a similar question in stack-overflow &lt;https://stackoverflow.com/questions/35000729/android-studio-could-not-initialize-class-org-codehaus-groovy-runtime-invokerhel&gt;  \r\nit was recommended to  \r\n\r\n1. install java jdk-14  \r\n2. upgrade to gradle version 6.3\r\n\r\nI changed the jdk to 14 in IntelliJ in 2 places: \r\n \r\n1. File -&gt; Project Structure -&gt; Project -&gt; Project SDK  \r\n2. Preferences -&gt; Gradle -&gt; Gradle JVM\r\n\r\nI attempted to update gradle from the command line with:\r\n&#39;gradle wrapper --gradle-version 6.3&#39;\r\nand got the same error:  \r\n\r\n*Could not initialize class org.codehaus.groovy.runtime.InvokerHelper*\r\n\r\nI then changed the field &#39;distributionUrl&#39; in the file &#39;gradle-wrapper.properties&#39; to &#39;gradle-6.3&#39;, as instructed here &lt;https://github.com/gradle/gradle/issues/10248&gt;.\r\n\r\nI tried various combinations of jdk and gradle versions but nothing seems to work.\r\n","title":"Gradle error: Could not initialize class org.codehaus.groovy.runtime.InvokerHelper","body":"<p>I need to see my dependencies in Gradle to fix a problem with multiple SLF4J bindings.<br>\nHowever, when I run 'gradle dependencies' I get the error:</p>\n\n<p><em>Could not initialize class org.codehaus.groovy.runtime.InvokerHelper</em></p>\n\n<p>In a similar question in stack-overflow <a href=\"https://stackoverflow.com/questions/35000729/android-studio-could-not-initialize-class-org-codehaus-groovy-runtime-invokerhel\">Android Studio Could not initialize class org.codehaus.groovy.runtime.InvokerHelper</a><br>\nit was recommended to  </p>\n\n<ol>\n<li>install java jdk-14  </li>\n<li>upgrade to gradle version 6.3</li>\n</ol>\n\n<p>I changed the jdk to 14 in IntelliJ in 2 places: </p>\n\n<ol>\n<li>File -> Project Structure -> Project -> Project SDK  </li>\n<li>Preferences -> Gradle -> Gradle JVM</li>\n</ol>\n\n<p>I attempted to update gradle from the command line with:\n'gradle wrapper --gradle-version 6.3'\nand got the same error:  </p>\n\n<p><em>Could not initialize class org.codehaus.groovy.runtime.InvokerHelper</em></p>\n\n<p>I then changed the field 'distributionUrl' in the file 'gradle-wrapper.properties' to 'gradle-6.3', as instructed here <a href=\"https://github.com/gradle/gradle/issues/10248\" rel=\"noreferrer\">https://github.com/gradle/gradle/issues/10248</a>.</p>\n\n<p>I tried various combinations of jdk and gradle versions but nothing seems to work.</p>\n"},{"tags":["javascript","java","rxjs"],"answers":[{"tags":[],"owner":{"account_id":18529953,"reputation":7622,"user_id":13500986,"display_name":"Mrk Sef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645301353,"creation_date":1645301353,"answer_id":71188786,"question_id":71184585,"body_markdown":"In the following example, lazyNumber is assigned in the `constructor` and referenced in the `printNumber` method.\r\n\r\nThe expression isn&#39;t evaluated to 4 until it&#39;s called.\r\n\r\n```lang-ts\r\nclass a {\r\n  constructor(){\r\n    this.lazyNumber = () =&gt; 5 - 1;\r\n  }\r\n  \r\n  printNumber(){\r\n    console.log( this.lazyNumber() );\r\n  }\r\n}\r\n```\r\n\r\nThe same fundamental thing is happening in your example.\r\n\r\n----\r\n\r\nYou example is defining an attribute and the code that get runs when it&#39;s &quot;called&quot;. `addMessage` is emitting a new value on the observable, that causes the listeners assinged above to react accordingly","title":"Does &quot;subscribe&quot; call executes the Observable assignment expression","body":"<p>In the following example, lazyNumber is assigned in the <code>constructor</code> and referenced in the <code>printNumber</code> method.</p>\n<p>The expression isn't evaluated to 4 until it's called.</p>\n<pre class=\"lang-ts prettyprint-override\"><code>class a {\n  constructor(){\n    this.lazyNumber = () =&gt; 5 - 1;\n  }\n  \n  printNumber(){\n    console.log( this.lazyNumber() );\n  }\n}\n</code></pre>\n<p>The same fundamental thing is happening in your example.</p>\n<hr />\n<p>You example is defining an attribute and the code that get runs when it's &quot;called&quot;. <code>addMessage</code> is emitting a new value on the observable, that causes the listeners assinged above to react accordingly</p>\n"}],"owner":{"account_id":23056837,"reputation":159,"user_id":17172749,"display_name":"rejkid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646971721,"creation_date":1645270170,"question_id":71184585,"body_markdown":"I am new to Angular and RxJS. I am analysing the following extract from the Angular tutorial (ng-book2-book-angular-11-r77-code).\r\nMy question is when the call **`this.messages = this.updates`**...  (in the constructor method) executes - is it executing in the constructor or when `addMessage (message: Message)` is called?\r\n\r\n    import { Injectable } from &#39;@angular/core&#39;;\r\n    import { Subject, Observable } from &#39;rxjs&#39;;\r\n    import { User } from &#39;../user/user.model&#39;;\r\n    import { Thread } from &#39;../thread/thread.model&#39;;\r\n    import { Message } from &#39;../message/message.model&#39;;\r\n\r\n    const initialMessages: Message[] = [];\r\n    \r\n    interface IMessagesOperation extends Function {\r\n      (messages: Message[]): Message[];\r\n    }\r\n\r\n    @Injectable()\r\n    export class MessagesService {\r\n      // a stream that publishes new messages only once\r\n      newMessages: Subject&lt;Message&gt; = new Subject&lt;Message&gt;();\r\n    \r\n      // `messages` is a stream that emits an array of the most up to date messages\r\n      messages: Observable&lt;Message[]&gt;;\r\n    \r\n      // `updates` receives _operations_ to be applied to our `messages`\r\n      // it&#39;s a way we can perform changes on *all* messages (that are currently\r\n      // stored in `messages`)\r\n      updates: Subject&lt;any&gt; = new Subject&lt;any&gt;();\r\n    \r\n      // action streams\r\n      create: Subject&lt;Message&gt; = new Subject&lt;Message&gt;();\r\n      markThreadAsRead: Subject&lt;any&gt; = new Subject&lt;any&gt;();\r\n    \r\n      constructor() {\r\n        this.messages = this.updates\r\n          // watch the updates and accumulate operations on the messages\r\n          .scan((messages: Message[],\r\n                 operation: IMessagesOperation) =&gt; {\r\n                   return operation(messages);\r\n                 },\r\n                initialMessages)\r\n          // make sure we can share the most recent list of messages across anyone\r\n          // who&#39;s interested in subscribing and cache the last known list of\r\n          // messages\r\n          .publishReplay(1)\r\n          .refCount();\r\n    // `create` takes a Message and then puts an operation (the inner function)\r\n    // on the `updates` stream to add the Message to the list of messages.\r\n    //\r\n    // That is, for each item that gets added to `create` (by using `next`)\r\n    // this stream emits a concat operation function.\r\n    //\r\n    // Next we subscribe `this.updates` to listen to this stream, which means\r\n    // that it will receive each operation that is created\r\n    //\r\n    // Note that it would be perfectly acceptable to simply modify the\r\n    // &quot;addMessage&quot; function below to simply add the inner operation function to\r\n    // the update stream directly and get rid of this extra action stream\r\n    // entirely. The pros are that it is potentially clearer. The cons are that\r\n    // the stream is no longer composable.\r\n    this.create\r\n      .map( function(message: Message): IMessagesOperation {\r\n        return (messages: Message[]) =&gt; {\r\n          return messages.concat(message);\r\n        };\r\n      })\r\n      .subscribe(this.updates);\r\n\r\n    this.newMessages\r\n      .subscribe(this.create);\r\n\r\n    // similarly, `markThreadAsRead` takes a Thread and then puts an operation\r\n    // on the `updates` stream to mark the Messages as read\r\n    this.markThreadAsRead\r\n      .map( (thread: Thread) =&gt; {\r\n        return (messages: Message[]) =&gt; {\r\n          return messages.map( (message: Message) =&gt; {\r\n            // note that we&#39;re manipulating `message` directly here. Mutability\r\n            // can be confusing and there are lots of reasons why you might want\r\n            // to, say, copy the Message object or some other &#39;immutable&#39; here\r\n            if (message.thread.id === thread.id) {\r\n              message.isRead = true;\r\n            }\r\n            return message;\r\n          });\r\n        };\r\n      })\r\n      .subscribe(this.updates);\r\n\r\n    }\r\n\r\n      // an imperative function call to this action stream\r\n      addMessage(message: Message): void {\r\n        this.newMessages.next(message);\r\n      }\r\n\r\n    }\r\n    \r\n","title":"Does &quot;subscribe&quot; call executes the Observable assignment expression","body":"<p>I am new to Angular and RxJS. I am analysing the following extract from the Angular tutorial (ng-book2-book-angular-11-r77-code).\nMy question is when the call <strong><code>this.messages = this.updates</code></strong>...  (in the constructor method) executes - is it executing in the constructor or when <code>addMessage (message: Message)</code> is called?</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\nimport { User } from '../user/user.model';\nimport { Thread } from '../thread/thread.model';\nimport { Message } from '../message/message.model';\n\nconst initialMessages: Message[] = [];\n\ninterface IMessagesOperation extends Function {\n  (messages: Message[]): Message[];\n}\n\n@Injectable()\nexport class MessagesService {\n  // a stream that publishes new messages only once\n  newMessages: Subject&lt;Message&gt; = new Subject&lt;Message&gt;();\n\n  // `messages` is a stream that emits an array of the most up to date messages\n  messages: Observable&lt;Message[]&gt;;\n\n  // `updates` receives _operations_ to be applied to our `messages`\n  // it's a way we can perform changes on *all* messages (that are currently\n  // stored in `messages`)\n  updates: Subject&lt;any&gt; = new Subject&lt;any&gt;();\n\n  // action streams\n  create: Subject&lt;Message&gt; = new Subject&lt;Message&gt;();\n  markThreadAsRead: Subject&lt;any&gt; = new Subject&lt;any&gt;();\n\n  constructor() {\n    this.messages = this.updates\n      // watch the updates and accumulate operations on the messages\n      .scan((messages: Message[],\n             operation: IMessagesOperation) =&gt; {\n               return operation(messages);\n             },\n            initialMessages)\n      // make sure we can share the most recent list of messages across anyone\n      // who's interested in subscribing and cache the last known list of\n      // messages\n      .publishReplay(1)\n      .refCount();\n// `create` takes a Message and then puts an operation (the inner function)\n// on the `updates` stream to add the Message to the list of messages.\n//\n// That is, for each item that gets added to `create` (by using `next`)\n// this stream emits a concat operation function.\n//\n// Next we subscribe `this.updates` to listen to this stream, which means\n// that it will receive each operation that is created\n//\n// Note that it would be perfectly acceptable to simply modify the\n// &quot;addMessage&quot; function below to simply add the inner operation function to\n// the update stream directly and get rid of this extra action stream\n// entirely. The pros are that it is potentially clearer. The cons are that\n// the stream is no longer composable.\nthis.create\n  .map( function(message: Message): IMessagesOperation {\n    return (messages: Message[]) =&gt; {\n      return messages.concat(message);\n    };\n  })\n  .subscribe(this.updates);\n\nthis.newMessages\n  .subscribe(this.create);\n\n// similarly, `markThreadAsRead` takes a Thread and then puts an operation\n// on the `updates` stream to mark the Messages as read\nthis.markThreadAsRead\n  .map( (thread: Thread) =&gt; {\n    return (messages: Message[]) =&gt; {\n      return messages.map( (message: Message) =&gt; {\n        // note that we're manipulating `message` directly here. Mutability\n        // can be confusing and there are lots of reasons why you might want\n        // to, say, copy the Message object or some other 'immutable' here\n        if (message.thread.id === thread.id) {\n          message.isRead = true;\n        }\n        return message;\n      });\n    };\n  })\n  .subscribe(this.updates);\n\n}\n\n  // an imperative function call to this action stream\n  addMessage(message: Message): void {\n    this.newMessages.next(message);\n  }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22079910,"reputation":11,"user_id":16339632,"display_name":"enragedwalrus57"},"score":0,"creation_date":1646971625,"post_id":71433476,"comment_id":126260534,"body_markdown":"a lot of it is very messy, that is because i have been trying to fix the issue in different ways for the last hour. any help is appreciated, including other ways on how to get all the wrong question numbers in a seperate method.","body":"a lot of it is very messy, that is because i have been trying to fix the issue in different ways for the last hour. any help is appreciated, including other ways on how to get all the wrong question numbers in a seperate method."}],"owner":{"account_id":22079910,"reputation":11,"user_id":16339632,"display_name":"enragedwalrus57"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646971443,"creation_date":1646970982,"question_id":71433476,"body_markdown":"```java\r\nimport java.util.Scanner;\r\npublic class DriversLicense {\r\n\r\n\tpublic static void main(String[]args){\r\n\t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tint count = 0;\r\n\t\tint wrong = 0;\r\n\t\tString pass;\r\n\t\tint j;\r\n\t\t\r\n\t\tString[] arr = {&quot;B&quot;, &quot;D&quot;, &quot;A&quot;, &quot;A&quot;, &quot;C&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;C&quot;, &quot;D&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;A&quot;, &quot;D&quot;, &quot;C&quot;, &quot;C&quot;, &quot;B&quot;, &quot;D&quot;, &quot;A&quot;};\r\n\t\tString[] answers = new String [arr.length];\r\n\t\tint[] w = new int[arr.length];\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tSystem.out.println(&quot;Enter your answer:&quot;);\r\n\t\t\tanswers[i] = input.next();\r\n\t\t\tif(answers[i].equals(arr[i])) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\twrong++; \r\n\t\t\t\tw[i] = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tint[] y = TestDriversLicense.numWrong(arr, answers, w, wrong);\r\n\t\tif((TestDriversLicense.Pass(count))){\r\n\t\t\tpass = &quot;Pass!&quot;;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tpass = &quot;Fail!&quot;;\r\n\t\t}\r\n\t\tSystem.out.println(pass);\r\n\t\tSystem.out.println(&quot;You got &quot;+ TestDriversLicense.Total(count)+ &quot; correct!&quot;);\r\n\t\tSystem.out.println(&quot;You got &quot;+ TestDriversLicense.Inc(wrong)+ &quot; wrong!&quot;);\r\n\t\tif(wrong == 0) {\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor(j = 0; j &lt; y.length; j++);\r\n\t\t\tSystem.out.println(&quot;Your wrong answers were number(s) #&quot;+ y[j]);\r\n//attempting to print out the numbers for the wrong answers\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nattempting to print out the numbers of the questions answered incorrectly\r\n\r\n```java\r\npublic class TestDriversLicense {\r\n\r\n\tpublic static boolean Pass(int n) {\r\n\t\tint pass = n;\r\n\t\tif(pass &gt;= 15) {\r\n\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tpublic static int Total(int correct) {\r\n\t\tint c = correct;\r\n\t\treturn c;\r\n\t}\r\n\tpublic static int Inc(int n) {\r\n\t\tint inc = n;\r\n\t\treturn inc;\r\n\t}\r\n\tpublic static int[] numWrong(String[] a, String[] ans, int[] b, int t) {\r\n\t\tint[] x = new int[t];\r\n\t\tfor(int i = 0; i &lt; a.length; i++) {\r\n\t\t}\r\n\t\tx =b;\r\n\t\treturn x;\r\n\t}\r\n\t\r\n}\r\n```","title":"having java.lang.ArrayIndexOutOfBoundsException error come up, as well as j not seeming like a variable in print statement, when is declared in loop","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class DriversLicense {\n\n    public static void main(String[]args){\n        \n        Scanner input = new Scanner(System.in);\n        \n        int count = 0;\n        int wrong = 0;\n        String pass;\n        int j;\n        \n        String[] arr = {&quot;B&quot;, &quot;D&quot;, &quot;A&quot;, &quot;A&quot;, &quot;C&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;C&quot;, &quot;D&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;A&quot;, &quot;D&quot;, &quot;C&quot;, &quot;C&quot;, &quot;B&quot;, &quot;D&quot;, &quot;A&quot;};\n        String[] answers = new String [arr.length];\n        int[] w = new int[arr.length];\n        \n        for(int i = 0; i &lt; arr.length; i++) {\n            System.out.println(&quot;Enter your answer:&quot;);\n            answers[i] = input.next();\n            if(answers[i].equals(arr[i])) {\n                count++;\n            }\n            else {\n                wrong++; \n                w[i] = i;\n            }\n        }\n        int[] y = TestDriversLicense.numWrong(arr, answers, w, wrong);\n        if((TestDriversLicense.Pass(count))){\n            pass = &quot;Pass!&quot;;\n        }\n        else {\n            pass = &quot;Fail!&quot;;\n        }\n        System.out.println(pass);\n        System.out.println(&quot;You got &quot;+ TestDriversLicense.Total(count)+ &quot; correct!&quot;);\n        System.out.println(&quot;You got &quot;+ TestDriversLicense.Inc(wrong)+ &quot; wrong!&quot;);\n        if(wrong == 0) {\n        }\n        else {\n            for(j = 0; j &lt; y.length; j++);\n            System.out.println(&quot;Your wrong answers were number(s) #&quot;+ y[j]);\n//attempting to print out the numbers for the wrong answers\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>attempting to print out the numbers of the questions answered incorrectly</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestDriversLicense {\n\n    public static boolean Pass(int n) {\n        int pass = n;\n        if(pass &gt;= 15) {\n        return true;\n        }\n        return false;\n    }\n    public static int Total(int correct) {\n        int c = correct;\n        return c;\n    }\n    public static int Inc(int n) {\n        int inc = n;\n        return inc;\n    }\n    public static int[] numWrong(String[] a, String[] ans, int[] b, int t) {\n        int[] x = new int[t];\n        for(int i = 0; i &lt; a.length; i++) {\n        }\n        x =b;\n        return x;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","docker","kubernetes","fabric8","resource-monitor"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1515527738,"post_id":48172104,"comment_id":83331156,"body_markdown":"you cannot see some memory usage as the pod is not started. It is scheduled and in the ContainerCreating state. When do you retrieve the pod status? You will have to wait for it top be running.","body":"you cannot see some memory usage as the pod is not started. It is scheduled and in the ContainerCreating state. When do you retrieve the pod status? You will have to wait for it top be running."},{"owner":{"account_id":4954025,"reputation":18448,"user_id":3987161,"accept_rate":57,"display_name":"user_mda"},"score":0,"creation_date":1515534133,"post_id":48172104,"comment_id":83334146,"body_markdown":"Great, Going to try that now!","body":"Great, Going to try that now!"}],"answers":[{"tags":[],"owner":{"account_id":10338,"reputation":7192,"user_id":19477,"accept_rate":50,"display_name":"heckj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515641628,"creation_date":1515641628,"answer_id":48199385,"question_id":48172104,"body_markdown":"Take an hour and watch the video: [Load Testing Kubernetes: How to Optimize Your Cluster Resource Allocation in Production][1] which walks through a couple of techniques and recommendations on how to size your resource configuration based on load testing. The example in the video leverages cAdvisor, so once your Pod/container is up and running you can utilize that mechanism to capture at least a basic view of how much resource your container is taking.\r\n\r\n\r\n  [1]: https://m.youtube.com/watch?v=_l8yIqMpWT0","title":"Resource monitoring for Kubernetes Pods","body":"<p>Take an hour and watch the video: <a href=\"https://m.youtube.com/watch?v=_l8yIqMpWT0\" rel=\"nofollow noreferrer\">Load Testing Kubernetes: How to Optimize Your Cluster Resource Allocation in Production</a> which walks through a couple of techniques and recommendations on how to size your resource configuration based on load testing. The example in the video leverages cAdvisor, so once your Pod/container is up and running you can utilize that mechanism to capture at least a basic view of how much resource your container is taking.</p>\n"},{"tags":[],"owner":{"account_id":6093918,"reputation":280,"user_id":4755352,"accept_rate":86,"display_name":"Rishi Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519804955,"creation_date":1519799662,"answer_id":49023326,"question_id":48172104,"body_markdown":"I am not sure if k8 api-server provides an endpoint to get performance related metrics but using fabric8, you should not be able to monitor resource consumption even when Pod is in running state.\r\n\r\nHere is the [Pod response json:][1]\r\n\r\n    {\r\n      &quot;kind&quot;: &quot;Pod&quot;,\r\n      &quot;apiVersion&quot;: &quot;v1&quot;,\r\n      &quot;metadata&quot;: {\r\n        &quot;name&quot;: &quot;nginx-41cbe3-10-json-9cc655bcc-w576m&quot;,\r\n        &quot;generateName&quot;: &quot;nginx-41cbe3-10-json-9cc655bcc-&quot;,\r\n        &quot;namespace&quot;: &quot;default&quot;,\r\n        &quot;selfLink&quot;: &quot;/api/v1/namespaces/default/pods/nginx-41cbe3-10-json-9cc655bcc-w576m&quot;,\r\n        &quot;uid&quot;: &quot;e14a955f-18b7-11e8-a642-42010a800090&quot;,\r\n        &quot;resourceVersion&quot;: &quot;12765988&quot;,\r\n        &quot;creationTimestamp&quot;: &quot;2018-02-23T16:37:47Z&quot;,\r\n        &quot;labels&quot;: {\r\n          &quot;app&quot;: &quot;nginx&quot;,\r\n          &quot;cliqr&quot;: &quot;99911519403865240&quot;,\r\n          &quot;pod-template-hash&quot;: &quot;577211677&quot;\r\n        },\r\n        &quot;annotations&quot;: {\r\n          &quot;kubernetes.io/created-by&quot;: &quot;{\\&quot;kind\\&quot;:\\&quot;SerializedReference\\&quot;,\\&quot;apiVersion\\&quot;:\\&quot;v1\\&quot;,\\&quot;reference\\&quot;:{\\&quot;kind\\&quot;:\\&quot;ReplicaSet\\&quot;,\\&quot;namespace\\&quot;:\\&quot;default\\&quot;,\\&quot;name\\&quot;:\\&quot;nginx-41cbe3-10-json-9cc655bcc\\&quot;,\\&quot;uid\\&quot;:\\&quot;e1493bd0-18b7-11e8-a642-42010a800090\\&quot;,\\&quot;apiVersion\\&quot;:\\&quot;extensions\\&quot;,\\&quot;resourceVersion\\&quot;:\\&quot;12765971\\&quot;}}\\n&quot;,\r\n          &quot;kubernetes.io/limit-ranger&quot;: &quot;LimitRanger plugin set: cpu request for container nginx&quot;\r\n        },\r\n        &quot;ownerReferences&quot;: [\r\n          {\r\n            &quot;apiVersion&quot;: &quot;extensions/v1beta1&quot;,\r\n            &quot;kind&quot;: &quot;ReplicaSet&quot;,\r\n            &quot;name&quot;: &quot;nginx-41cbe3-10-json-9cc655bcc&quot;,\r\n            &quot;uid&quot;: &quot;e1493bd0-18b7-11e8-a642-42010a800090&quot;,\r\n            &quot;controller&quot;: true,\r\n            &quot;blockOwnerDeletion&quot;: true\r\n          }\r\n        ]\r\n      },\r\n      &quot;spec&quot;: {\r\n        &quot;volumes&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;default-token-zrhj5&quot;,\r\n            &quot;secret&quot;: {\r\n              &quot;secretName&quot;: &quot;default-token-zrhj5&quot;,\r\n              &quot;defaultMode&quot;: 420\r\n            }\r\n          }\r\n        ],\r\n        &quot;containers&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;nginx&quot;,\r\n            &quot;image&quot;: &quot;nginx:latest&quot;,\r\n            &quot;ports&quot;: [\r\n              {\r\n                &quot;containerPort&quot;: 80,\r\n                &quot;protocol&quot;: &quot;TCP&quot;\r\n              }\r\n            ],\r\n            &quot;resources&quot;: {\r\n              &quot;requests&quot;: {\r\n                &quot;cpu&quot;: &quot;100m&quot;\r\n              }\r\n            },\r\n            &quot;volumeMounts&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;default-token-zrhj5&quot;,\r\n                &quot;readOnly&quot;: true,\r\n                &quot;mountPath&quot;: &quot;/var/run/secrets/kubernetes.io/serviceaccount&quot;\r\n              }\r\n            ],\r\n            &quot;terminationMessagePath&quot;: &quot;/dev/termination-log&quot;,\r\n            &quot;terminationMessagePolicy&quot;: &quot;File&quot;,\r\n            &quot;imagePullPolicy&quot;: &quot;Always&quot;\r\n          }\r\n        ],\r\n        &quot;restartPolicy&quot;: &quot;Always&quot;,\r\n        &quot;terminationGracePeriodSeconds&quot;: 30,\r\n        &quot;dnsPolicy&quot;: &quot;ClusterFirst&quot;,\r\n        &quot;serviceAccountName&quot;: &quot;default&quot;,\r\n        &quot;serviceAccount&quot;: &quot;default&quot;,\r\n        &quot;nodeName&quot;: &quot;gke-rishi-k8-cluster-default-pool-6ca1467e-xtmw&quot;,\r\n        &quot;securityContext&quot;: {},\r\n        &quot;schedulerName&quot;: &quot;default-scheduler&quot;,\r\n        &quot;tolerations&quot;: [\r\n          {\r\n            &quot;key&quot;: &quot;node.alpha.kubernetes.io/notReady&quot;,\r\n            &quot;operator&quot;: &quot;Exists&quot;,\r\n            &quot;effect&quot;: &quot;NoExecute&quot;,\r\n            &quot;tolerationSeconds&quot;: 300\r\n          },\r\n          {\r\n            &quot;key&quot;: &quot;node.alpha.kubernetes.io/unreachable&quot;,\r\n            &quot;operator&quot;: &quot;Exists&quot;,\r\n            &quot;effect&quot;: &quot;NoExecute&quot;,\r\n            &quot;tolerationSeconds&quot;: 300\r\n          }\r\n        ]\r\n      },\r\n      &quot;status&quot;: {\r\n        &quot;phase&quot;: &quot;Running&quot;,\r\n        &quot;conditions&quot;: [\r\n          {\r\n            &quot;type&quot;: &quot;Initialized&quot;,\r\n            &quot;status&quot;: &quot;True&quot;,\r\n            &quot;lastProbeTime&quot;: null,\r\n            &quot;lastTransitionTime&quot;: &quot;2018-02-23T16:37:47Z&quot;\r\n          },\r\n          {\r\n            &quot;type&quot;: &quot;Ready&quot;,\r\n            &quot;status&quot;: &quot;True&quot;,\r\n            &quot;lastProbeTime&quot;: null,\r\n            &quot;lastTransitionTime&quot;: &quot;2018-02-23T16:37:53Z&quot;\r\n          },\r\n          {\r\n            &quot;type&quot;: &quot;PodScheduled&quot;,\r\n            &quot;status&quot;: &quot;True&quot;,\r\n            &quot;lastProbeTime&quot;: null,\r\n            &quot;lastTransitionTime&quot;: &quot;2018-02-23T16:37:47Z&quot;\r\n          }\r\n        ],\r\n        &quot;hostIP&quot;: &quot;10.240.0.23&quot;,\r\n        &quot;podIP&quot;: &quot;10.20.3.164&quot;,\r\n        &quot;startTime&quot;: &quot;2018-02-23T16:37:47Z&quot;,\r\n        &quot;containerStatuses&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;nginx&quot;,\r\n            &quot;state&quot;: {\r\n              &quot;running&quot;: {\r\n                &quot;startedAt&quot;: &quot;2018-02-23T16:37:52Z&quot;\r\n              }\r\n            },\r\n            &quot;lastState&quot;: {},\r\n            &quot;ready&quot;: true,\r\n            &quot;restartCount&quot;: 0,\r\n            &quot;image&quot;: &quot;nginx:latest&quot;,\r\n            &quot;imageID&quot;: &quot;docker-pullable://nginx@sha256:600bff7fb36d7992512f8c07abd50aac08db8f17c94e3c83e47d53435a1a6f7c&quot;,\r\n            &quot;containerID&quot;: &quot;docker://2c227a901bcde4705c5b79aedf1963079dfb345fae5849616d29e8cc7af0fd74&quot;\r\n          }\r\n        ],\r\n        &quot;qosClass&quot;: &quot;Burstable&quot;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://jsoneditoronline.org/?id=4c01129a141d9468a6ae894b2194a78f","title":"Resource monitoring for Kubernetes Pods","body":"<p>I am not sure if k8 api-server provides an endpoint to get performance related metrics but using fabric8, you should not be able to monitor resource consumption even when Pod is in running state.</p>\n\n<p>Here is the <a href=\"https://jsoneditoronline.org/?id=4c01129a141d9468a6ae894b2194a78f\" rel=\"nofollow noreferrer\">Pod response json:</a></p>\n\n<pre><code>{\n  \"kind\": \"Pod\",\n  \"apiVersion\": \"v1\",\n  \"metadata\": {\n    \"name\": \"nginx-41cbe3-10-json-9cc655bcc-w576m\",\n    \"generateName\": \"nginx-41cbe3-10-json-9cc655bcc-\",\n    \"namespace\": \"default\",\n    \"selfLink\": \"/api/v1/namespaces/default/pods/nginx-41cbe3-10-json-9cc655bcc-w576m\",\n    \"uid\": \"e14a955f-18b7-11e8-a642-42010a800090\",\n    \"resourceVersion\": \"12765988\",\n    \"creationTimestamp\": \"2018-02-23T16:37:47Z\",\n    \"labels\": {\n      \"app\": \"nginx\",\n      \"cliqr\": \"99911519403865240\",\n      \"pod-template-hash\": \"577211677\"\n    },\n    \"annotations\": {\n      \"kubernetes.io/created-by\": \"{\\\"kind\\\":\\\"SerializedReference\\\",\\\"apiVersion\\\":\\\"v1\\\",\\\"reference\\\":{\\\"kind\\\":\\\"ReplicaSet\\\",\\\"namespace\\\":\\\"default\\\",\\\"name\\\":\\\"nginx-41cbe3-10-json-9cc655bcc\\\",\\\"uid\\\":\\\"e1493bd0-18b7-11e8-a642-42010a800090\\\",\\\"apiVersion\\\":\\\"extensions\\\",\\\"resourceVersion\\\":\\\"12765971\\\"}}\\n\",\n      \"kubernetes.io/limit-ranger\": \"LimitRanger plugin set: cpu request for container nginx\"\n    },\n    \"ownerReferences\": [\n      {\n        \"apiVersion\": \"extensions/v1beta1\",\n        \"kind\": \"ReplicaSet\",\n        \"name\": \"nginx-41cbe3-10-json-9cc655bcc\",\n        \"uid\": \"e1493bd0-18b7-11e8-a642-42010a800090\",\n        \"controller\": true,\n        \"blockOwnerDeletion\": true\n      }\n    ]\n  },\n  \"spec\": {\n    \"volumes\": [\n      {\n        \"name\": \"default-token-zrhj5\",\n        \"secret\": {\n          \"secretName\": \"default-token-zrhj5\",\n          \"defaultMode\": 420\n        }\n      }\n    ],\n    \"containers\": [\n      {\n        \"name\": \"nginx\",\n        \"image\": \"nginx:latest\",\n        \"ports\": [\n          {\n            \"containerPort\": 80,\n            \"protocol\": \"TCP\"\n          }\n        ],\n        \"resources\": {\n          \"requests\": {\n            \"cpu\": \"100m\"\n          }\n        },\n        \"volumeMounts\": [\n          {\n            \"name\": \"default-token-zrhj5\",\n            \"readOnly\": true,\n            \"mountPath\": \"/var/run/secrets/kubernetes.io/serviceaccount\"\n          }\n        ],\n        \"terminationMessagePath\": \"/dev/termination-log\",\n        \"terminationMessagePolicy\": \"File\",\n        \"imagePullPolicy\": \"Always\"\n      }\n    ],\n    \"restartPolicy\": \"Always\",\n    \"terminationGracePeriodSeconds\": 30,\n    \"dnsPolicy\": \"ClusterFirst\",\n    \"serviceAccountName\": \"default\",\n    \"serviceAccount\": \"default\",\n    \"nodeName\": \"gke-rishi-k8-cluster-default-pool-6ca1467e-xtmw\",\n    \"securityContext\": {},\n    \"schedulerName\": \"default-scheduler\",\n    \"tolerations\": [\n      {\n        \"key\": \"node.alpha.kubernetes.io/notReady\",\n        \"operator\": \"Exists\",\n        \"effect\": \"NoExecute\",\n        \"tolerationSeconds\": 300\n      },\n      {\n        \"key\": \"node.alpha.kubernetes.io/unreachable\",\n        \"operator\": \"Exists\",\n        \"effect\": \"NoExecute\",\n        \"tolerationSeconds\": 300\n      }\n    ]\n  },\n  \"status\": {\n    \"phase\": \"Running\",\n    \"conditions\": [\n      {\n        \"type\": \"Initialized\",\n        \"status\": \"True\",\n        \"lastProbeTime\": null,\n        \"lastTransitionTime\": \"2018-02-23T16:37:47Z\"\n      },\n      {\n        \"type\": \"Ready\",\n        \"status\": \"True\",\n        \"lastProbeTime\": null,\n        \"lastTransitionTime\": \"2018-02-23T16:37:53Z\"\n      },\n      {\n        \"type\": \"PodScheduled\",\n        \"status\": \"True\",\n        \"lastProbeTime\": null,\n        \"lastTransitionTime\": \"2018-02-23T16:37:47Z\"\n      }\n    ],\n    \"hostIP\": \"10.240.0.23\",\n    \"podIP\": \"10.20.3.164\",\n    \"startTime\": \"2018-02-23T16:37:47Z\",\n    \"containerStatuses\": [\n      {\n        \"name\": \"nginx\",\n        \"state\": {\n          \"running\": {\n            \"startedAt\": \"2018-02-23T16:37:52Z\"\n          }\n        },\n        \"lastState\": {},\n        \"ready\": true,\n        \"restartCount\": 0,\n        \"image\": \"nginx:latest\",\n        \"imageID\": \"docker-pullable://nginx@sha256:600bff7fb36d7992512f8c07abd50aac08db8f17c94e3c83e47d53435a1a6f7c\",\n        \"containerID\": \"docker://2c227a901bcde4705c5b79aedf1963079dfb345fae5849616d29e8cc7af0fd74\"\n      }\n    ],\n    \"qosClass\": \"Burstable\"\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10334916,"reputation":823,"user_id":7623407,"display_name":"R10t--"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646970838,"creation_date":1646970838,"answer_id":71433458,"question_id":48172104,"body_markdown":"I know this question is two years old but the answers here don&#39;t provide the actual answer to this question.\r\n\r\nIn order to get your CPU and memory utilization you need to have the [kubernetes metrics server](https://github.com/kubernetes-sigs/metrics-server) installed on your Kubernetes cluster (See also the official [Helm chart](https://artifacthub.io/packages/helm/metrics-server/metrics-server) if you use helm). Once the metrics server is installed, this lets you run kubernetes commands that will report the metrics usage. For example, running `kubectl top pods -A` will sort all of your pods by their CPU utilization, or `kubectl top nodes` will list each node&#39;s utilization. `kubectl describe pods` as well as the [Kubernetes dashboard](https://github.com/kubernetes/dashboard) will also report CPU and memory utilization numbers once the metrics server is installed.\r\n\r\nTo answer your specific question about [fabric8](https://github.com/fabric8io/kubernetes-client), once the metrics server is running, you can obtain CPU and memory utilization with the [following code](https://github.com/fabric8io/kubernetes-client/blob/master/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/kubectl/equivalents/TopEquivalent.java):\r\n```java\r\nKubernetesClient k8s = new KubernetesClientBuilder().build()\r\nNodeMetricsList nodeMetricsList = k8s.top().nodes().metrics();\r\nfor (NodeMetrics nodeMetrics : nodeMetricsList.getItems()) {\r\n    logger.info(&quot;{} {} {}&quot;,\r\n        nodeMetrics.getMetadata().getName(),\r\n        nodeMetrics.getUsage().get(&quot;cpu&quot;),\r\n        nodeMetrics.getUsage().get(&quot;memory&quot;)\r\n    );\r\n}\r\n```","title":"Resource monitoring for Kubernetes Pods","body":"<p>I know this question is two years old but the answers here don't provide the actual answer to this question.</p>\n<p>In order to get your CPU and memory utilization you need to have the <a href=\"https://github.com/kubernetes-sigs/metrics-server\" rel=\"nofollow noreferrer\">kubernetes metrics server</a> installed on your Kubernetes cluster (See also the official <a href=\"https://artifacthub.io/packages/helm/metrics-server/metrics-server\" rel=\"nofollow noreferrer\">Helm chart</a> if you use helm). Once the metrics server is installed, this lets you run kubernetes commands that will report the metrics usage. For example, running <code>kubectl top pods -A</code> will sort all of your pods by their CPU utilization, or <code>kubectl top nodes</code> will list each node's utilization. <code>kubectl describe pods</code> as well as the <a href=\"https://github.com/kubernetes/dashboard\" rel=\"nofollow noreferrer\">Kubernetes dashboard</a> will also report CPU and memory utilization numbers once the metrics server is installed.</p>\n<p>To answer your specific question about <a href=\"https://github.com/fabric8io/kubernetes-client\" rel=\"nofollow noreferrer\">fabric8</a>, once the metrics server is running, you can obtain CPU and memory utilization with the <a href=\"https://github.com/fabric8io/kubernetes-client/blob/master/kubernetes-examples/src/main/java/io/fabric8/kubernetes/examples/kubectl/equivalents/TopEquivalent.java\" rel=\"nofollow noreferrer\">following code</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KubernetesClient k8s = new KubernetesClientBuilder().build()\nNodeMetricsList nodeMetricsList = k8s.top().nodes().metrics();\nfor (NodeMetrics nodeMetrics : nodeMetricsList.getItems()) {\n    logger.info(&quot;{} {} {}&quot;,\n        nodeMetrics.getMetadata().getName(),\n        nodeMetrics.getUsage().get(&quot;cpu&quot;),\n        nodeMetrics.getUsage().get(&quot;memory&quot;)\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":4954025,"reputation":18448,"user_id":3987161,"accept_rate":57,"display_name":"user_mda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646970838,"creation_date":1515513575,"question_id":48172104,"body_markdown":"I am using the kubernetes-client java library for the K8s REST API. I want to explore the resource monitoring feature desctibed here \r\nhttps://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/\r\n\r\nI set the resource for the Pods while creating Deployments like this \r\n\r\n    // ******************* RESOURCES*********************\r\n    \r\n    \tQuantity memLimit = new Quantity();\r\n    \tmemLimit.setAmount(&quot;400&quot;);\r\n    \tMap&lt;String, Quantity&gt; memMap = new HashMap&lt;String,Quantity&gt;();\r\n    \tmemMap.put(&quot;memory&quot;, memLimit);\r\n    \tResourceRequirements resourceRequirements = new ResourceRequirementsBuilder()\r\n    \t  .withRequests(memMap)\r\n    \t  .build();\r\n    \r\n    \t// ******************* DEPLOYMENT *********************\r\n    \tDeployment deployment = new DeploymentBuilder()\r\n    \t\t.withNewMetadata()\r\n    \t\t.withName(&quot;first-deployment&quot;)\r\n    \t\t.endMetadata()\r\n    \t\t.withNewSpec()\r\n    \t\t.withReplicas(3)\r\n    \t\t.withNewTemplate()\r\n    \t\t.withNewMetadata()\r\n    \t\t.addToLabels(namespaceID, &quot;hello-world-example&quot;)\r\n    \t\t.endMetadata()\r\n    \t\t.withNewSpec()\r\n    \t\t.addNewContainer()\t\t\r\n    \t\t.withName(&quot;nginx-one&quot;)\r\n    \t\t.withImage(&quot;nginx&quot;)\r\n    \t\t.addNewPort()\r\n    \t\t.withContainerPort(80)\r\n    \t\t.endPort()\r\n    \t\t.withResources(resourceRequirements)\r\n    \t\t.endContainer()\r\n    \t\t.endSpec()\r\n    \t\t.endTemplate()\r\n    \t\t.endSpec()\r\n    \t\t.build();\r\n    \tdeployment = client.extensions().deployments().inNamespace(namespace).create(deployment);\r\n\r\nHow do I now know, how much memory is being used out of the alocated memory for pods?\r\nThe documentation says its part of the pod status , but pod status is of the form \r\n\r\n   \r\n\r\n         (conditions=\r\n        [PodCondition\r\n        (lastProbeTime=null, lastTransitionTime=2018-01-09T15:53:28Z, \r\n        message=null, reason=null, \r\n    status=True, type=PodScheduled, \r\n        additionalProperties={})],\r\n     containerStatuses=[], hostIP=null, \r\n        initContainerStatuses=[],\r\n     message=null, phase=Pending, podIP=null,\r\n     qosClass=Burstable, reason=null, \r\n    startTime=null, additionalProperties={})\r\n\r\n\r\nAnd the container status \r\n\r\n    (containerID=null, image=nginx, \r\n    imageID=, lastState=ContainerState(running=null, terminated=null, waiting=null, additionalProperties={}),\r\n     name=nginx-one, ready=false, restartCount=0, state=ContainerState(running=null, terminated=null, waiting=\r\n    ContainerStateWaiting(message=null, reason=ContainerCreating, additionalProperties={}), additionalProperties={}), \r\n    additionalProperties={})\r\n\r\nIs there an example for monitoring resources on Pods?","title":"Resource monitoring for Kubernetes Pods","body":"<p>I am using the kubernetes-client java library for the K8s REST API. I want to explore the resource monitoring feature desctibed here \n<a href=\"https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/</a></p>\n\n<p>I set the resource for the Pods while creating Deployments like this </p>\n\n<pre><code>// ******************* RESOURCES*********************\n\n    Quantity memLimit = new Quantity();\n    memLimit.setAmount(\"400\");\n    Map&lt;String, Quantity&gt; memMap = new HashMap&lt;String,Quantity&gt;();\n    memMap.put(\"memory\", memLimit);\n    ResourceRequirements resourceRequirements = new ResourceRequirementsBuilder()\n      .withRequests(memMap)\n      .build();\n\n    // ******************* DEPLOYMENT *********************\n    Deployment deployment = new DeploymentBuilder()\n        .withNewMetadata()\n        .withName(\"first-deployment\")\n        .endMetadata()\n        .withNewSpec()\n        .withReplicas(3)\n        .withNewTemplate()\n        .withNewMetadata()\n        .addToLabels(namespaceID, \"hello-world-example\")\n        .endMetadata()\n        .withNewSpec()\n        .addNewContainer()      \n        .withName(\"nginx-one\")\n        .withImage(\"nginx\")\n        .addNewPort()\n        .withContainerPort(80)\n        .endPort()\n        .withResources(resourceRequirements)\n        .endContainer()\n        .endSpec()\n        .endTemplate()\n        .endSpec()\n        .build();\n    deployment = client.extensions().deployments().inNamespace(namespace).create(deployment);\n</code></pre>\n\n<p>How do I now know, how much memory is being used out of the alocated memory for pods?\nThe documentation says its part of the pod status , but pod status is of the form </p>\n\n<pre><code>     (conditions=\n    [PodCondition\n    (lastProbeTime=null, lastTransitionTime=2018-01-09T15:53:28Z, \n    message=null, reason=null, \nstatus=True, type=PodScheduled, \n    additionalProperties={})],\n containerStatuses=[], hostIP=null, \n    initContainerStatuses=[],\n message=null, phase=Pending, podIP=null,\n qosClass=Burstable, reason=null, \nstartTime=null, additionalProperties={})\n</code></pre>\n\n<p>And the container status </p>\n\n<pre><code>(containerID=null, image=nginx, \nimageID=, lastState=ContainerState(running=null, terminated=null, waiting=null, additionalProperties={}),\n name=nginx-one, ready=false, restartCount=0, state=ContainerState(running=null, terminated=null, waiting=\nContainerStateWaiting(message=null, reason=ContainerCreating, additionalProperties={}), additionalProperties={}), \nadditionalProperties={})\n</code></pre>\n\n<p>Is there an example for monitoring resources on Pods?</p>\n"},{"tags":["java","kubernetes","events"],"answers":[{"tags":[],"owner":{"account_id":23782503,"reputation":845,"user_id":17795006,"display_name":"anarxz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646931007,"creation_date":1646931007,"answer_id":71427834,"question_id":71413124,"body_markdown":"As a native watching method for Kubernetes, you can watch events in real-time with `--watch`  [flag](https://kubernetes.io/docs/reference/using-api/api-concepts/#efficient-detection-of-changes) - it is a part of API server, allowing to fetch the current state of resource/object and then subscribe to subsequent changes:\r\n```\r\nkubectl get events --watch\r\n```\r\nThere is no in-built solution in Kubernetes for storing/forward event objects on the long term as by default the events have a 1-hour life span. You would need to use third-party tools to stream the events continuously, e.g. -  [Kubernetes Event Exporter](https://github.com/caicloud/event_exporter?ref=thechiefio); to collect them and export to external systems for alerting/further processing - e.g. [kubewatch](https://github.com/bitnami-labs/kubewatch?ref=thechiefio), [kubernetes-event-exporter](https://github.com/opsgenie/kubernetes-event-exporter) tools.","title":"Kubernetes events - how to get continuous stream of events?","body":"<p>As a native watching method for Kubernetes, you can watch events in real-time with <code>--watch</code>  <a href=\"https://kubernetes.io/docs/reference/using-api/api-concepts/#efficient-detection-of-changes\" rel=\"nofollow noreferrer\">flag</a> - it is a part of API server, allowing to fetch the current state of resource/object and then subscribe to subsequent changes:</p>\n<pre><code>kubectl get events --watch\n</code></pre>\n<p>There is no in-built solution in Kubernetes for storing/forward event objects on the long term as by default the events have a 1-hour life span. You would need to use third-party tools to stream the events continuously, e.g. -  <a href=\"https://github.com/caicloud/event_exporter?ref=thechiefio\" rel=\"nofollow noreferrer\">Kubernetes Event Exporter</a>; to collect them and export to external systems for alerting/further processing - e.g. <a href=\"https://github.com/bitnami-labs/kubewatch?ref=thechiefio\" rel=\"nofollow noreferrer\">kubewatch</a>, <a href=\"https://github.com/opsgenie/kubernetes-event-exporter\" rel=\"nofollow noreferrer\">kubernetes-event-exporter</a> tools.</p>\n"}],"owner":{"account_id":1102563,"reputation":15092,"user_id":1094640,"accept_rate":86,"display_name":"Bober02"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646969283,"creation_date":1646844891,"question_id":71413124,"body_markdown":"I was reading about Kubernetes events and it seems the only way to process events is to create a Watch over http call, which in turn processes the response and becomes Iterator of events. But that is finite and you have to recreate the event watch constantly... Is there a way to simply tail events with some callback, in Java? ","title":"Kubernetes events - how to get continuous stream of events?","body":"<p>I was reading about Kubernetes events and it seems the only way to process events is to create a Watch over http call, which in turn processes the response and becomes Iterator of events. But that is finite and you have to recreate the event watch constantly... Is there a way to simply tail events with some callback, in Java?</p>\n"},{"tags":["java","spring","mockito","spring-batch","junit5"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1646962301,"post_id":71432637,"comment_id":126259266,"body_markdown":"You&#39;re talking about `appUserEmailSender`?  What do you expect it to be set to?  Have you declared a mock somewhere?  If so, show us.  If not...well there&#39;s your answer. `@MockBean` by itself isn&#39;t going to do anything.  You have to have defined a mock of `AppUserEmailSender` for it to insert into your class.","body":"You&#39;re talking about <code>appUserEmailSender</code>?  What do you expect it to be set to?  Have you declared a mock somewhere?  If so, show us.  If not...well there&#39;s your answer. <code>@MockBean</code> by itself isn&#39;t going to do anything.  You have to have defined a mock of <code>AppUserEmailSender</code> for it to insert into your class."},{"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"score":0,"creation_date":1646966202,"post_id":71432637,"comment_id":126259834,"body_markdown":"how do I define the mock?  I am used to defining mocks like: `appUserEmailSender = mock(AppUserEmailSender.class);`  Is that what I should do?  I thought that would overwrite the @MockBean object?","body":"how do I define the mock?  I am used to defining mocks like: <code>appUserEmailSender = mock(AppUserEmailSender.class);</code>  Is that what I should do?  I thought that would overwrite the @MockBean object?"},{"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"score":0,"creation_date":1646966286,"post_id":71432637,"comment_id":126259842,"body_markdown":"On my original test, the `if (appUserEmailSender == null)` was actually: `when(appUserEmailSender.send(any())).thenReturn(new EmailQueue());`  But that of course gave a NPE","body":"On my original test, the <code>if (appUserEmailSender == null)</code> was actually: <code>when(appUserEmailSender.send(any())).thenReturn(new EmailQueue());</code>  But that of course gave a NPE"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1646967297,"post_id":71432637,"comment_id":126259965,"body_markdown":"...sorry...I realized that my comments are probably just confusing things.  apologies.","body":"...sorry...I realized that my comments are probably just confusing things.  apologies."},{"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"score":0,"creation_date":1646967398,"post_id":71432637,"comment_id":126259981,"body_markdown":"Thanks for sending the link - that was the exact tutorial I used to create the test class ;-)  You can see from the example that I am, in fact, using @MockBean inside my annotated test class.  Oddly, when I remove any method reference to `appUserEmailSender` in my test class (thus avoiding the NPE and allowing the test to run), the `appUserEmailSender` service is mocked inside other `@Autowired` objects.  So this tells me that the @MockBean annotation is working.  It&#39;s just not allowing me to define the mock&#39;s behavior in the test class (e.g. &#39;when().then()&#39;) since it&#39;s null.","body":"Thanks for sending the link - that was the exact tutorial I used to create the test class ;-)  You can see from the example that I am, in fact, using @MockBean inside my annotated test class.  Oddly, when I remove any method reference to <code>appUserEmailSender</code> in my test class (thus avoiding the NPE and allowing the test to run), the <code>appUserEmailSender</code> service is mocked inside other <code>@Autowired</code> objects.  So this tells me that the @MockBean annotation is working.  It&#39;s just not allowing me to define the mock&#39;s behavior in the test class (e.g. &#39;when().then()&#39;) since it&#39;s null."},{"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"score":0,"creation_date":1646967471,"post_id":71432637,"comment_id":126259994,"body_markdown":"Do you think one of my test annotations could be messing with something?","body":"Do you think one of my test annotations could be messing with something?"},{"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"score":0,"creation_date":1646968598,"post_id":71432637,"comment_id":126260131,"body_markdown":"I think I solved my problem: https://github.com/spring-projects/spring-boot/issues/7177  When I removed the `@TestExecutionListeners({DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})` annotation, it works as intended.","body":"I think I solved my problem: <a href=\"https://github.com/spring-projects/spring-boot/issues/7177\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/7177</a>  When I removed the <code>@TestExecutionListeners({DependencyInjectionTestExecutionLis&zwnj;&#8203;tener.class, DirtiesContextTestExecutionListener.class})</code> annotation, it works as intended."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1646969109,"post_id":71432637,"comment_id":126260190,"body_markdown":"Glad you got it!  Gave your answer a thumbs up","body":"Glad you got it!  Gave your answer a thumbs up"}],"answers":[{"tags":[],"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646968965,"creation_date":1646968965,"answer_id":71433284,"question_id":71432637,"body_markdown":"It turns out that if you use the annotations `@MockBean` and `@TestExecutionListeners` in the same test class, the `MockitoTestExecutionListener` may not be called.  To remedy this, you need to add `TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS` to the `@TestExecutionListeners` annotation.\r\n\r\nSo a corrected version would look like...\r\n\r\n```\r\n@SpringBatchTest\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = {TestAppConfig.class})\r\n@TestExecutionListeners(\r\n        listeners = {DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class},\r\n        mergeMode = TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS)\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n@TestPropertySource(&quot;classpath:application.properties&quot;)\r\n@TestPropertySource(properties = &quot;app.scheduling.enable=false&quot;) // disable @Scheduled annotation\r\npublic class SimpleTest {\r\n\r\n    @MockBean\r\n    private AppUserEmailSender appUserEmailSender;\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n        when(appUserEmailSender.send(any())).thenReturn(new EmailQueue());\r\n    }\r\n}\r\n```","title":"@MockBean results in NullPointerException for @SpringBatchTest in Junit 5","body":"<p>It turns out that if you use the annotations <code>@MockBean</code> and <code>@TestExecutionListeners</code> in the same test class, the <code>MockitoTestExecutionListener</code> may not be called.  To remedy this, you need to add <code>TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS</code> to the <code>@TestExecutionListeners</code> annotation.</p>\n<p>So a corrected version would look like...</p>\n<pre><code>@SpringBatchTest\n@WebAppConfiguration\n@ContextConfiguration(classes = {TestAppConfig.class})\n@TestExecutionListeners(\n        listeners = {DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class},\n        mergeMode = TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@TestPropertySource(&quot;classpath:application.properties&quot;)\n@TestPropertySource(properties = &quot;app.scheduling.enable=false&quot;) // disable @Scheduled annotation\npublic class SimpleTest {\n\n    @MockBean\n    private AppUserEmailSender appUserEmailSender;\n\n    @Test\n    public void test() throws Exception {\n        when(appUserEmailSender.send(any())).thenReturn(new EmailQueue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":422777,"reputation":841,"user_id":5328820,"display_name":"Burton"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646968965,"creation_date":1646961655,"question_id":71432637,"body_markdown":"I am trying to use the @MockBean annotation in my Spring Batch Test, but I am unable to get it to work.  I have simplified my test to it&#39;s most basic form for this post.  Essentially, @Autowired works (so I know the class is being picked up by Spring), but when I replace it with the @MockBean annotation, the bean is not mocked (it&#39;s null). Any idea what I could be doing wrong? \r\n\r\nThis works fine.\r\n```\r\n@SpringBatchTest\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = {TestAppConfig.class})\r\n@TestExecutionListeners({DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n@TestPropertySource(&quot;classpath:application.properties&quot;)\r\npublic class EmailQueueBatchConfigTestFail {\r\n\r\n    @Autowired\r\n    private AppUserEmailSender appUserEmailSender;\r\n\r\n    @Test\r\n    public void test() {\r\n        if (appUserEmailSender == null) {\r\n            System.out.println(&quot;null&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, the mocked object here is null\r\n```\r\n@SpringBatchTest\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = {TestAppConfig.class})\r\n@TestExecutionListeners({DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n@TestPropertySource(&quot;classpath:application.properties&quot;)\r\npublic class EmailQueueBatchConfigTestFail {\r\n\r\n    @MockBean\r\n    private AppUserEmailSender appUserEmailSender;\r\n\r\n    @Test\r\n    public void test() {\r\n        if (appUserEmailSender == null) {\r\n            System.out.println(&quot;null&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"@MockBean results in NullPointerException for @SpringBatchTest in Junit 5","body":"<p>I am trying to use the @MockBean annotation in my Spring Batch Test, but I am unable to get it to work.  I have simplified my test to it's most basic form for this post.  Essentially, @Autowired works (so I know the class is being picked up by Spring), but when I replace it with the @MockBean annotation, the bean is not mocked (it's null). Any idea what I could be doing wrong?</p>\n<p>This works fine.</p>\n<pre><code>@SpringBatchTest\n@WebAppConfiguration\n@ContextConfiguration(classes = {TestAppConfig.class})\n@TestExecutionListeners({DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@TestPropertySource(&quot;classpath:application.properties&quot;)\npublic class EmailQueueBatchConfigTestFail {\n\n    @Autowired\n    private AppUserEmailSender appUserEmailSender;\n\n    @Test\n    public void test() {\n        if (appUserEmailSender == null) {\n            System.out.println(&quot;null&quot;);\n        }\n    }\n}\n</code></pre>\n<p>However, the mocked object here is null</p>\n<pre><code>@SpringBatchTest\n@WebAppConfiguration\n@ContextConfiguration(classes = {TestAppConfig.class})\n@TestExecutionListeners({DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@TestPropertySource(&quot;classpath:application.properties&quot;)\npublic class EmailQueueBatchConfigTestFail {\n\n    @MockBean\n    private AppUserEmailSender appUserEmailSender;\n\n    @Test\n    public void test() {\n        if (appUserEmailSender == null) {\n            System.out.println(&quot;null&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1469300995,"post_id":38545507,"comment_id":64482795,"body_markdown":"You ought to be using a connection pool, and if you&#39;re using Spring Boot, something like JdbcTemplate or JPA can make your life a lot easier.","body":"You ought to be using a connection pool, and if you&#39;re using Spring Boot, something like JdbcTemplate or JPA can make your life a lot easier."},{"owner":{"display_name":"user6616196"},"score":0,"creation_date":1469325284,"post_id":38545507,"comment_id":64487676,"body_markdown":"Yes using Spring Boot, JDBC &amp; PostgreSQL","body":"Yes using Spring Boot, JDBC &amp; PostgreSQL"}],"answers":[{"tags":[],"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469459502,"creation_date":1469301344,"answer_id":38545573,"question_id":38545507,"body_markdown":"How about this (This is assuming that you&#39;re using JDBC directly to open your own connections)...\r\n    \r\n    Connection conn = null;\r\n    ResultSet rs    = null;\r\n    try {\r\n        conn = getConnection();\r\n        ...\r\n    } catch (Exception ex) {\r\n        ...\r\n    } finally {\r\n         if (rs != null) { \r\n             try { rs.close(); } catch (Exception ex) { ... }\r\n         }\r\n         if (conn != null) {\r\n             try { conn.close(); } catch (Exception ex) { ... }\r\n         }\r\n    }","title":"PostgreSQL Close connection after method has finished","body":"<p>How about this (This is assuming that you're using JDBC directly to open your own connections)...</p>\n\n<pre><code>Connection conn = null;\nResultSet rs    = null;\ntry {\n    conn = getConnection();\n    ...\n} catch (Exception ex) {\n    ...\n} finally {\n     if (rs != null) { \n         try { rs.close(); } catch (Exception ex) { ... }\n     }\n     if (conn != null) {\n         try { conn.close(); } catch (Exception ex) { ... }\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1469307606,"creation_date":1469306240,"answer_id":38546207,"question_id":38545507,"body_markdown":"Ok there are several issues here.\r\n\r\nFirst is that database connections really need to timeout eventually. Sometimes the timeout gets extended to something ridiculous on account of some report that takes forever or a similar issue, but it&#39;s an antipattern. You need the connections to timeout so that when there is a mistake like a stranded connection the database can recover from it.\r\n\r\nSecond, always close the connection when you&#39;re done with it. Here the easiest way is to use try-with-resources, which will make sure your resources get closed in the right order with no chance of exception-masking (where an exception getting thrown by a close causes a previous exception thrown in the try block to get lost, which is bad because it means you don&#39;t know why your code failed):\r\n\r\n    try (Connection connection = getConnection(); \r\n        Statement stmt = connection.createStatement();\r\n        ResultSet rs = stmt.executeQuery(sql)) {\r\n        StringBuffer sb = new StringBuffer();\r\n        List users = new ArrayList&lt;&gt;();\r\n        while (rs.next()) {\r\n            int id = rs.getInt(&quot;id&quot;);\r\n            String first = rs.getString(&quot;first&quot;);\r\n            String last = rs.getString(&quot;last&quot;);\r\n            String email = rs.getString(&quot;email&quot;);\r\n            String company = rs.getString(&quot;company&quot;);\r\n            String city = rs.getString(&quot;city&quot;);\r\n            users.add(new User(id,first, last, email, company, city));\r\n        }\r\n        model.addAttribute(&quot;users&quot;, users);\r\n        return &quot;user&quot;;\r\n    }\r\n\r\nThird, consider using more Spring in your Spring Boot application. You have data access glommed into your controller, so you have no separation of concerns, and you&#39;re not taking advantage of any Spring-provided functionality like JDBC templates, with resource-closing, named parameters, data exception translation (so that the exceptions you get back from jdbc calls make sense), or transaction handling (to let you make multiple DAO calls in the same transaction). See [this link][1] for spring-jdbc documentation.\r\n\r\nMake sure you use a connection pool, by the way; it&#39;s much faster to have a request use an existing connection from a pool than it is to make a new connection. When you get a connection from the pool it comes wrapped in an object that returns the connection to the pool and does cleanup (like rolling back any transaction in progress) when you call close on it.\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html","title":"PostgreSQL Close connection after method has finished","body":"<p>Ok there are several issues here.</p>\n\n<p>First is that database connections really need to timeout eventually. Sometimes the timeout gets extended to something ridiculous on account of some report that takes forever or a similar issue, but it's an antipattern. You need the connections to timeout so that when there is a mistake like a stranded connection the database can recover from it.</p>\n\n<p>Second, always close the connection when you're done with it. Here the easiest way is to use try-with-resources, which will make sure your resources get closed in the right order with no chance of exception-masking (where an exception getting thrown by a close causes a previous exception thrown in the try block to get lost, which is bad because it means you don't know why your code failed):</p>\n\n<pre><code>try (Connection connection = getConnection(); \n    Statement stmt = connection.createStatement();\n    ResultSet rs = stmt.executeQuery(sql)) {\n    StringBuffer sb = new StringBuffer();\n    List users = new ArrayList&lt;&gt;();\n    while (rs.next()) {\n        int id = rs.getInt(\"id\");\n        String first = rs.getString(\"first\");\n        String last = rs.getString(\"last\");\n        String email = rs.getString(\"email\");\n        String company = rs.getString(\"company\");\n        String city = rs.getString(\"city\");\n        users.add(new User(id,first, last, email, company, city));\n    }\n    model.addAttribute(\"users\", users);\n    return \"user\";\n}\n</code></pre>\n\n<p>Third, consider using more Spring in your Spring Boot application. You have data access glommed into your controller, so you have no separation of concerns, and you're not taking advantage of any Spring-provided functionality like JDBC templates, with resource-closing, named parameters, data exception translation (so that the exceptions you get back from jdbc calls make sense), or transaction handling (to let you make multiple DAO calls in the same transaction). See <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html\" rel=\"nofollow\">this link</a> for spring-jdbc documentation.</p>\n\n<p>Make sure you use a connection pool, by the way; it's much faster to have a request use an existing connection from a pool than it is to make a new connection. When you get a connection from the pool it comes wrapped in an object that returns the connection to the pool and does cleanup (like rolling back any transaction in progress) when you call close on it.</p>\n"}],"owner":{"display_name":"user6616196"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38546207,"answer_count":2,"score":1,"last_activity_date":1646968697,"creation_date":1469300824,"question_id":38545507,"body_markdown":"I noticed that I couldn&#39;t get access to my PostgreSQL recently. All 20 of my allowed connections were used up. I couldn&#39;t understand why as I had nothing open. Seems that things stay open even after PC is shut down or something. I&#39;m using remote real data base working locally and also when I push live its using same database. \r\n\r\nHere is a example method that i was wondering if needs closing after used \r\n\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public String users(Model model) {\r\n        try {\r\n            Connection connection = getConnection();\r\n            Statement stmt = connection.createStatement();\r\n            String sql;\r\n            sql = &quot;SELECT id, first, last, email, company, city FROM cuser&quot;;\r\n            ResultSet rs = stmt.executeQuery(sql);\r\n            StringBuffer sb = new StringBuffer();\r\n            List users = new ArrayList&lt;&gt;();\r\n            while (rs.next()) {\r\n                int id = rs.getInt(&quot;id&quot;);\r\n                String first = rs.getString(&quot;first&quot;);\r\n                String last = rs.getString(&quot;last&quot;);\r\n                String email = rs.getString(&quot;email&quot;);\r\n                String company = rs.getString(&quot;company&quot;);\r\n                String city = rs.getString(&quot;city&quot;);\r\n                users.add(new User(id,first, last, email, company, city));\r\n            }\r\n            model.addAttribute(&quot;users&quot;, users);\r\n            return &quot;user&quot;;\r\n        }catch(Exception e) {return e.toString();}\r\n    }\r\n\r\nHow should I close connections at end of this method\r\n\r\nThanks very much anyone who gets time answer","title":"PostgreSQL Close connection after method has finished","body":"<p>I noticed that I couldn't get access to my PostgreSQL recently. All 20 of my allowed connections were used up. I couldn't understand why as I had nothing open. Seems that things stay open even after PC is shut down or something. I'm using remote real data base working locally and also when I push live its using same database. </p>\n\n<p>Here is a example method that i was wondering if needs closing after used </p>\n\n<pre><code>@RequestMapping(\"/users\")\npublic String users(Model model) {\n    try {\n        Connection connection = getConnection();\n        Statement stmt = connection.createStatement();\n        String sql;\n        sql = \"SELECT id, first, last, email, company, city FROM cuser\";\n        ResultSet rs = stmt.executeQuery(sql);\n        StringBuffer sb = new StringBuffer();\n        List users = new ArrayList&lt;&gt;();\n        while (rs.next()) {\n            int id = rs.getInt(\"id\");\n            String first = rs.getString(\"first\");\n            String last = rs.getString(\"last\");\n            String email = rs.getString(\"email\");\n            String company = rs.getString(\"company\");\n            String city = rs.getString(\"city\");\n            users.add(new User(id,first, last, email, company, city));\n        }\n        model.addAttribute(\"users\", users);\n        return \"user\";\n    }catch(Exception e) {return e.toString();}\n}\n</code></pre>\n\n<p>How should I close connections at end of this method</p>\n\n<p>Thanks very much anyone who gets time answer</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646969270,"post_id":71433186,"comment_id":126260214,"body_markdown":"If this is just for the Jackson de-serialize, then [this](https://www.baeldung.com/jackson-deserialize-immutable-objects) might help.","body":"If this is just for the Jackson de-serialize, then <a href=\"https://www.baeldung.com/jackson-deserialize-immutable-objects\" rel=\"nofollow noreferrer\">this</a> might help."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646969546,"post_id":71433186,"comment_id":126260253,"body_markdown":"Jackson can use the constructor.","body":"Jackson can use the constructor."},{"owner":{"account_id":23652212,"reputation":25,"user_id":17680942,"display_name":"Jumple"},"score":0,"creation_date":1646970795,"post_id":71433186,"comment_id":126260429,"body_markdown":"@AndrewS I considered to use the JsonCreator but my sub-class is an entity in the clean architecture, and I think the entity should not know and use this annotation which is not exactly related to business rules.","body":"@AndrewS I considered to use the JsonCreator but my sub-class is an entity in the clean architecture, and I think the entity should not know and use this annotation which is not exactly related to business rules."}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646968579,"creation_date":1646968262,"answer_id":71433218,"question_id":71433186,"body_markdown":"Sure.  You have to call the superclass&#39;s constructor with a value, since that&#39;s the only option you have.  But there&#39;s no reason that value has to come  from a parameter to your constructor:\r\n\r\n    public SubClass extends SuperClass&lt;UUID&gt; {\r\n        public SubClass() {\r\n            super(UUID.fromString(&quot;whatever&quot;);  // Exactly what you pass is up to you\r\n        }\r\n        public SubClass(UUID id) {\r\n            super(id);\r\n        }\r\n    }\r\n\r\nPS: I&#39;m not sure what that &#39;ID&#39; type is that the superclass&#39;s constructor takes.  Did you mean `UUID`?  ","title":"Could I create a no parameter constructor when superclass has protected final field","body":"<p>Sure.  You have to call the superclass's constructor with a value, since that's the only option you have.  But there's no reason that value has to come  from a parameter to your constructor:</p>\n<pre><code>public SubClass extends SuperClass&lt;UUID&gt; {\n    public SubClass() {\n        super(UUID.fromString(&quot;whatever&quot;);  // Exactly what you pass is up to you\n    }\n    public SubClass(UUID id) {\n        super(id);\n    }\n}\n</code></pre>\n<p>PS: I'm not sure what that 'ID' type is that the superclass's constructor takes.  Did you mean <code>UUID</code>?</p>\n"}],"owner":{"account_id":23652212,"reputation":25,"user_id":17680942,"display_name":"Jumple"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646968579,"creation_date":1646967933,"question_id":71433186,"body_markdown":"I have a super class that has a protected final field, so it has to create a constructor with parameter, like this:\r\n````\r\npublic SuperClass&lt;ID&gt; implements Serializable {\r\n    protected final ID id;\r\n    public SuperClass(ID id) {\r\n        this.id = id;\r\n    }\r\n}\r\n````\r\nThen subclass also needs to create a constructor with parameter to initialize the inherited field.\r\n````\r\npublic SubClass extends SuperClass&lt;UUID&gt; {\r\n    public SubClass(UUID id) {\r\n        super(id);\r\n    }\r\n}\r\n```` \r\nNow I have a problem is I need a constructor without parameter for other use(e.g Jackson&#39;s deserialize). So is there any solution to solute this problem?\r\n\r\nThanks in advance.","title":"Could I create a no parameter constructor when superclass has protected final field","body":"<p>I have a super class that has a protected final field, so it has to create a constructor with parameter, like this:</p>\n<pre><code>public SuperClass&lt;ID&gt; implements Serializable {\n    protected final ID id;\n    public SuperClass(ID id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Then subclass also needs to create a constructor with parameter to initialize the inherited field.</p>\n<pre><code>public SubClass extends SuperClass&lt;UUID&gt; {\n    public SubClass(UUID id) {\n        super(id);\n    }\n}\n</code></pre>\n<p>Now I have a problem is I need a constructor without parameter for other use(e.g Jackson's deserialize). So is there any solution to solute this problem?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1646968560,"post_id":71433212,"comment_id":126260125,"body_markdown":"hi perhaps this might be of interest https://stackoverflow.com/questions/44110624/need-jackson-serializer-for-double-and-need-to-specify-precision-at-runtime","body":"hi perhaps this might be of interest <a href=\"https://stackoverflow.com/questions/44110624/need-jackson-serializer-for-double-and-need-to-specify-precision-at-runtime\" title=\"need jackson serializer for double and need to specify precision at runtime\">stackoverflow.com/questions/44110624/&hellip;</a>"},{"owner":{"account_id":6734160,"reputation":562,"user_id":5189486,"display_name":"Z fp"},"score":0,"creation_date":1646969197,"post_id":71433212,"comment_id":126260201,"body_markdown":"@jspcal thx. it helps in this demo, but in my real business, the CustomSerializer do more work actually, setting serialization precision maybe not enough.","body":"@jspcal thx. it helps in this demo, but in my real business, the CustomSerializer do more work actually, setting serialization precision maybe not enough."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1646969388,"post_id":71433212,"comment_id":126260231,"body_markdown":"Why don&#39;t you custom serialize `f1` instead of the entire object?","body":"Why don&#39;t you custom serialize <code>f1</code> instead of the entire object?"},{"owner":{"account_id":6734160,"reputation":562,"user_id":5189486,"display_name":"Z fp"},"score":0,"creation_date":1646969812,"post_id":71433212,"comment_id":126260290,"body_markdown":"@shmosel that&#39;s only a simple demo to show my problem. In real business the custom serializer is more complex.","body":"@shmosel that&#39;s only a simple demo to show my problem. In real business the custom serializer is more complex."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1647040817,"post_id":71433212,"comment_id":126281467,"body_markdown":"I&#39;m not sure what exactly you&#39;re trying to say, but if the problem is more complex than you&#39;re describing, how do you expect us to help you?","body":"I&#39;m not sure what exactly you&#39;re trying to say, but if the problem is more complex than you&#39;re describing, how do you expect us to help you?"},{"owner":{"account_id":6734160,"reputation":562,"user_id":5189486,"display_name":"Z fp"},"score":0,"creation_date":1647069410,"post_id":71433212,"comment_id":126285070,"body_markdown":"@shmosel I just want to know if it is possible to make subclass fields serialized in this situation by some settings? If not, I would consider other way instead of serializer for entire superclass. Sorry for my poor english,  hope I have expressed my intent clearly.","body":"@shmosel I just want to know if it is possible to make subclass fields serialized in this situation by some settings? If not, I would consider other way instead of serializer for entire superclass. Sorry for my poor english,  hope I have expressed my intent clearly."}],"owner":{"account_id":6734160,"reputation":562,"user_id":5189486,"display_name":"Z fp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646968142,"creation_date":1646968142,"question_id":71433212,"body_markdown":"I create a cuztom serializer for superclass, then all subclass serialized without it&#39;s own fields. \r\n\r\n```java\r\n\r\nclass Super{\r\n   double f1;\r\n}\r\n\r\nclass Sub extends Super{\r\n   double f2;\r\n}\r\n\r\nclass CuztomSerializer extends StdSerializer&lt;Super&gt;{\r\n   @Override\r\n    public void serialize(Super s, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n        gen.writeStartObject();\r\n        gen.writeNumberField(&quot;f1&quot;, BigDecimal.valueOf(s.getF1()).setScale(2, RoundingMode.FLOOR));\r\n        gen.writeEndObject();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs the codes above, `Sub` instance serialized only has `f1` field. How to reserve `f2` field? ","title":"Jackson ignore subclass field after create custom serializer for superclass","body":"<p>I create a cuztom serializer for superclass, then all subclass serialized without it's own fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass Super{\n   double f1;\n}\n\nclass Sub extends Super{\n   double f2;\n}\n\nclass CuztomSerializer extends StdSerializer&lt;Super&gt;{\n   @Override\n    public void serialize(Super s, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        gen.writeStartObject();\n        gen.writeNumberField(&quot;f1&quot;, BigDecimal.valueOf(s.getF1()).setScale(2, RoundingMode.FLOOR));\n        gen.writeEndObject();\n    }\n}\n\n</code></pre>\n<p>As the codes above, <code>Sub</code> instance serialized only has <code>f1</code> field. How to reserve <code>f2</code> field?</p>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1646881610,"post_id":71418354,"comment_id":126235247,"body_markdown":"You can&#39;t scan the same file twice with the same `Scanner`.","body":"You can&#39;t scan the same file twice with the same <code>Scanner</code>."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1646881617,"post_id":71418354,"comment_id":126235250,"body_markdown":"What error are you getting?","body":"What error are you getting?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1646881659,"post_id":71418354,"comment_id":126235254,"body_markdown":"You don&#39;t need to store all the values if all you&#39;re going to do is add them up.  You can just read one number at a time, and add it to your running total.","body":"You don&#39;t need to store all the values if all you&#39;re going to do is add them up.  You can just read one number at a time, and add it to your running total."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1646882262,"post_id":71418354,"comment_id":126235346,"body_markdown":"Start by actually adding the input on each line to the total as you go `int runningTotal = 0; while(scan.hasNextLine()) {runningTotal += scan.nextInt();}`","body":"Start by actually adding the input on each line to the total as you go <code>int runningTotal = 0; while(scan.hasNextLine()) {runningTotal += scan.nextInt();}</code>"}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646882514,"creation_date":1646882514,"answer_id":71418455,"question_id":71418354,"body_markdown":"As suggested, a lot of the code is not really needed.  But presumably the &#39;error&#39; you get is array index out of bounds.  Here:\r\n\r\n        int array[] = new int [length];\r\n        array[length++] = scan.nextInt();\r\n\r\nSo you allocate an array and **immediately** access off the end of the array. Let&#39;s assume `length` is 42. Therefore, the allocated array elements have indexes 0 to 41.  You try and assign something to array[42].  I&#39;m not sure what you&#39;re trying to do with that line.\r\n\r\nThe alternative guess (which we would not need to guess had you mentioned the actual error message) is that your counting lines leaves the scanner positioned at end of file. so the `scan.nextInt()` call in the assignment gets you an I/O error.\r\n\r\nIn any case, the core of the solution is something like\r\n\r\n    int sum = 0;\r\n    while (scan.hasNextInt())\r\n       sum += scan.nextInt();\r\n\r\nNo array is needed.\r\n","title":"How to sum up all ints in a text file?","body":"<p>As suggested, a lot of the code is not really needed.  But presumably the 'error' you get is array index out of bounds.  Here:</p>\n<pre><code>    int array[] = new int [length];\n    array[length++] = scan.nextInt();\n</code></pre>\n<p>So you allocate an array and <strong>immediately</strong> access off the end of the array. Let's assume <code>length</code> is 42. Therefore, the allocated array elements have indexes 0 to 41.  You try and assign something to array[42].  I'm not sure what you're trying to do with that line.</p>\n<p>The alternative guess (which we would not need to guess had you mentioned the actual error message) is that your counting lines leaves the scanner positioned at end of file. so the <code>scan.nextInt()</code> call in the assignment gets you an I/O error.</p>\n<p>In any case, the core of the solution is something like</p>\n<pre><code>int sum = 0;\nwhile (scan.hasNextInt())\n   sum += scan.nextInt();\n</code></pre>\n<p>No array is needed.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646967965,"creation_date":1646967965,"answer_id":71433190,"question_id":71418354,"body_markdown":"You wrote in your question\r\n&gt; I keep getting an error\r\n\r\nThat would be [NoSuchElementException][1] which is thrown by this line of your code:\r\n```java\r\narray[length++] = scan.nextInt();\r\n```\r\nThis is because you have already [scanned][2] the entire file and therefore there is no next `int`.\r\n\r\nRemember that in order for people to help you with errors thrown by your code, you need to post the actual exception and the stack trace as well as your code.\r\n\r\nYou don&#39;t need to save all the numbers in the file in an array in order to get the sum of all the numbers. However if you also want to save all the numbers but you don&#39;t know in advance how many there are, you can use a [List][3].\r\n\r\nHere is a minimal example of how to read the file &amp;ndash; which I assume contains only numbers separated by whitespace &amp;ndash; and calculate the total. Of-course you need to replace *text file path* with the actual path to the text file.\r\n```java\r\nFile txtFile = new File(&quot;text file path&quot;);\r\ntry (Scanner scan = new Scanner(txtFile)) {\r\n    int total = 0;\r\n    while (scan.hasNextInt()) {\r\n        total += scan.nextInt();\r\n    }\r\n    System.out.println(&quot;Total: &quot; + total);\r\n}\r\ncatch (FileNotFoundException xFileNotFound) {\r\n    xFileNotFound.printStackTrace();\r\n}\r\n```\r\nNote that the above code uses [try-with-resources][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NoSuchElementException.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/io/scanning.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to sum up all ints in a text file?","body":"<p>You wrote in your question</p>\n<blockquote>\n<p>I keep getting an error</p>\n</blockquote>\n<p>That would be <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NoSuchElementException.html\" rel=\"nofollow noreferrer\">NoSuchElementException</a> which is thrown by this line of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>array[length++] = scan.nextInt();\n</code></pre>\n<p>This is because you have already <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/scanning.html\" rel=\"nofollow noreferrer\">scanned</a> the entire file and therefore there is no next <code>int</code>.</p>\n<p>Remember that in order for people to help you with errors thrown by your code, you need to post the actual exception and the stack trace as well as your code.</p>\n<p>You don't need to save all the numbers in the file in an array in order to get the sum of all the numbers. However if you also want to save all the numbers but you don't know in advance how many there are, you can use a <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">List</a>.</p>\n<p>Here is a minimal example of how to read the file â€“ which I assume contains only numbers separated by whitespace â€“ and calculate the total. Of-course you need to replace <em>text file path</em> with the actual path to the text file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File txtFile = new File(&quot;text file path&quot;);\ntry (Scanner scan = new Scanner(txtFile)) {\n    int total = 0;\n    while (scan.hasNextInt()) {\n        total += scan.nextInt();\n    }\n    System.out.println(&quot;Total: &quot; + total);\n}\ncatch (FileNotFoundException xFileNotFound) {\n    xFileNotFound.printStackTrace();\n}\n</code></pre>\n<p>Note that the above code uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n"}],"owner":{"account_id":24196735,"reputation":1,"user_id":18155161,"display_name":"CBRrider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1646967965,"creation_date":1646881414,"question_id":71418354,"body_markdown":"I need to pull integers from a text file and sum them up. I came up with this but I keep getting an error. What am I missing? I need to use a scanner class.\r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\npublic class txtClass {\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\t\r\n\t\tFile txtFile = new File(//text file path//);\r\n\t\tScanner scan = new Scanner(txtFile);\r\n\t\t\r\n\t\tint length = 0;\r\n\t\twhile(scan.hasNextLine()) {\r\n\t\t\tscan.nextLine();\r\n\t\t\tlength++;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tint array[] = new int [length];\r\n\t\tarray[length++] = scan.nextInt();\r\n\t\t\r\n\t\tSystem.out.println(array.toString());\r\n\t\tint h = 0;\r\n\t\t\r\n\t    for (int i = 0; i&lt;array.length; i++)\r\n\t    {\r\n\t        h +=array[i];   \r\n\t    }\r\n\t    scan.close();\r\n\t    System.out.print(h);\r\n\t}\r\n\r\n}\r\n","title":"How to sum up all ints in a text file?","body":"<p>I need to pull integers from a text file and sum them up. I came up with this but I keep getting an error. What am I missing? I need to use a scanner class.</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class txtClass {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        \n        File txtFile = new File(//text file path//);\n        Scanner scan = new Scanner(txtFile);\n        \n        int length = 0;\n        while(scan.hasNextLine()) {\n            scan.nextLine();\n            length++;\n        }\n        \n        \n        int array[] = new int [length];\n        array[length++] = scan.nextInt();\n        \n        System.out.println(array.toString());\n        int h = 0;\n        \n        for (int i = 0; i&lt;array.length; i++)\n        {\n            h +=array[i];   \n        }\n        scan.close();\n        System.out.print(h);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","jackson","build-tools","spigot"],"answers":[{"tags":[],"owner":{"account_id":5697701,"reputation":170,"user_id":4503723,"accept_rate":100,"display_name":"DePianoman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646967631,"creation_date":1646967631,"answer_id":71433158,"question_id":71418477,"body_markdown":"I have found out due to [this post][1] that this happens when you replace the jar file before shutting down the server. This would explain all of the behavior I&#39;ve been experiencing.\r\n\r\n\r\n  [1]: https://bukkit.org/threads/ondisable-throws-classnotfoundexception.182811/","title":"ClassNotFoundException with Jackson on plugin disable","body":"<p>I have found out due to <a href=\"https://bukkit.org/threads/ondisable-throws-classnotfoundexception.182811/\" rel=\"nofollow noreferrer\">this post</a> that this happens when you replace the jar file before shutting down the server. This would explain all of the behavior I've been experiencing.</p>\n"}],"owner":{"account_id":5697701,"reputation":170,"user_id":4503723,"accept_rate":100,"display_name":"DePianoman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646967631,"creation_date":1646882694,"question_id":71418477,"body_markdown":"I&#39;m making a spigot plugin and in the onDisable function (which gets called when the server shuts down) I have it save my data. The problem is is that when it disables for some reason it cannot find one of the classes (ObjectWriter) that I use to save the data.[![Traceback of the error, says that the class cannot be found][1]][1]\r\n\r\nHowever as shown in the following screenshot that class is very much there and very much present, which can also be proven by the fact that I can save it normally and it works just fine. It is only when the plugin disables that I have this issue.[![Shows the inside of the jar file, the path on the top shows where the class is located and it shows the class in the correct package][2]][2]\r\n\r\nI&#39;ve been trying to fix this issue for months. Yes, I have tried running `mvn clean`. Yes, I have tried deleting the dependency jar in case it&#39;s corrupted. I have scoured SO since I had the problem and tried every. single. post. None of them have worked. I don&#39;t think this is a problem with maven more than it is a problem with the dependencies closing before the plugin finishes, because sometimes it *does* work and *doesn&#39;t* error. It&#39;s extremely confusing to me and I have no idea what to do.\r\n\r\nHere is my pom.xml if anyone wants to review it:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.uhmily&lt;/groupId&gt;\r\n    &lt;artifactId&gt;scovilleplugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;ScovillePlugin&lt;/name&gt;\r\n\r\n    &lt;description&gt;The Main Plugin for the Scoville Parkour Server&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.nms.path&gt;C:/Users/depia/Documents/My_Stuff/Programs/Minecraft/spigot-1.12.jar&lt;/project.nms.path&gt;\r\n        &lt;project.mainClass&gt;ScovillePlugin&lt;/project.mainClass&gt;\r\n        &lt;jackson.version&gt;2.13.1&lt;/jackson.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1-SNAPSHOT&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;!-- &lt;include&gt;com.fasterxml.jackson.core:jackson-databind&lt;/include&gt;\r\n                                    &lt;include&gt;com.fasterxml.jackson.core:jackson-core&lt;/include&gt;\r\n                                    &lt;include&gt;com.fasterxml.jackson.core:jackson-annotations&lt;/include&gt; --&gt;\r\n                                    &lt;include&gt;com.fasterxml.jackson.*:*&lt;/include&gt;\r\n                                    &lt;include&gt;de.tr7zw:*&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                            &lt;relocations&gt;\r\n                                &lt;!-- &lt;relocation&gt;\r\n                                    &lt;pattern&gt;com.fasterxml.jackson.core&lt;/pattern&gt;\r\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson.core&lt;/shadedPattern&gt;\r\n                                &lt;/relocation&gt;\r\n                                &lt;relocation&gt;\r\n                                    &lt;pattern&gt;com.fasterxml.jackson.databind&lt;/pattern&gt;\r\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson.databind&lt;/shadedPattern&gt; --&gt;\r\n                                &lt;relocation&gt;\r\n                                    &lt;pattern&gt;com.fasterxml.jackson&lt;/pattern&gt;\r\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson&lt;/shadedPattern&gt;\r\n                                &lt;/relocation&gt;\r\n                                &lt;relocation&gt;\r\n                                    &lt;pattern&gt;de.tr7zw.changeme.nbtapi&lt;/pattern&gt;\r\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.de.tr7zw.changeme.nbtapi&lt;/shadedPattern&gt;\r\n                                &lt;/relocation&gt;\r\n                            &lt;/relocations&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/**&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;module-info.class&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;LICENSE&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;manifestEntries&gt;\r\n                                        &lt;Main-Class&gt;${project.groupId}.${project.artifactId}.${project.mainClass}&lt;/Main-Class&gt;\r\n                                        &lt;Build-Number&gt;${project.version}&lt;/Build-Number&gt;\r\n                                    &lt;/manifestEntries&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spigotmc-repo&lt;/id&gt;\r\n            &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sonatype&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;enginehub&lt;/id&gt;\r\n            &lt;url&gt;https://maven.enginehub.org/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;plotsquared&lt;/id&gt;\r\n            &lt;url&gt;https://plotsquared.com/mvn/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;placeholderapi&lt;/id&gt;\r\n            &lt;url&gt;http://repo.extendedclip.com/content/repositories/placeholderapi/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;codemc-repo&lt;/id&gt;\r\n            &lt;url&gt;https://repo.codemc.org/repository/maven-public/&lt;/url&gt;\r\n            &lt;layout&gt;default&lt;/layout&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sk89q-repo&lt;/id&gt;\r\n            &lt;url&gt;https://maven.enginehub.org/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;maven-snapshot&lt;/id&gt;\r\n            &lt;url&gt;https://repository.apache.org/content/repositories/snapshots&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;23.0.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.minecraft&lt;/groupId&gt;\r\n            &lt;artifactId&gt;server&lt;/artifactId&gt;\r\n            &lt;version&gt;v1.12&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.nms.path}&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.plotsquared&lt;/groupId&gt;\r\n            &lt;artifactId&gt;plotsquared-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.clip&lt;/groupId&gt;\r\n            &lt;artifactId&gt;placeholderapi&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.tr7zw&lt;/groupId&gt;\r\n            &lt;artifactId&gt;item-nbt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sk89q.worldguard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;worldguard-legacy&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sk89q.worldedit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;worldedit-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.luckperms&lt;/groupId&gt;\r\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/95CL3.png\r\n  [2]: https://i.stack.imgur.com/7YAbW.png","title":"ClassNotFoundException with Jackson on plugin disable","body":"<p>I'm making a spigot plugin and in the onDisable function (which gets called when the server shuts down) I have it save my data. The problem is is that when it disables for some reason it cannot find one of the classes (ObjectWriter) that I use to save the data.<a href=\"https://i.stack.imgur.com/95CL3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95CL3.png\" alt=\"Traceback of the error, says that the class cannot be found\" /></a></p>\n<p>However as shown in the following screenshot that class is very much there and very much present, which can also be proven by the fact that I can save it normally and it works just fine. It is only when the plugin disables that I have this issue.<a href=\"https://i.stack.imgur.com/7YAbW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7YAbW.png\" alt=\"Shows the inside of the jar file, the path on the top shows where the class is located and it shows the class in the correct package\" /></a></p>\n<p>I've been trying to fix this issue for months. Yes, I have tried running <code>mvn clean</code>. Yes, I have tried deleting the dependency jar in case it's corrupted. I have scoured SO since I had the problem and tried every. single. post. None of them have worked. I don't think this is a problem with maven more than it is a problem with the dependencies closing before the plugin finishes, because sometimes it <em>does</em> work and <em>doesn't</em> error. It's extremely confusing to me and I have no idea what to do.</p>\n<p>Here is my pom.xml if anyone wants to review it:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.uhmily&lt;/groupId&gt;\n    &lt;artifactId&gt;scovilleplugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;ScovillePlugin&lt;/name&gt;\n\n    &lt;description&gt;The Main Plugin for the Scoville Parkour Server&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.nms.path&gt;C:/Users/depia/Documents/My_Stuff/Programs/Minecraft/spigot-1.12.jar&lt;/project.nms.path&gt;\n        &lt;project.mainClass&gt;ScovillePlugin&lt;/project.mainClass&gt;\n        &lt;jackson.version&gt;2.13.1&lt;/jackson.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1-SNAPSHOT&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                            &lt;artifactSet&gt;\n                                &lt;includes&gt;\n                                    &lt;!-- &lt;include&gt;com.fasterxml.jackson.core:jackson-databind&lt;/include&gt;\n                                    &lt;include&gt;com.fasterxml.jackson.core:jackson-core&lt;/include&gt;\n                                    &lt;include&gt;com.fasterxml.jackson.core:jackson-annotations&lt;/include&gt; --&gt;\n                                    &lt;include&gt;com.fasterxml.jackson.*:*&lt;/include&gt;\n                                    &lt;include&gt;de.tr7zw:*&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;relocations&gt;\n                                &lt;!-- &lt;relocation&gt;\n                                    &lt;pattern&gt;com.fasterxml.jackson.core&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson.core&lt;/shadedPattern&gt;\n                                &lt;/relocation&gt;\n                                &lt;relocation&gt;\n                                    &lt;pattern&gt;com.fasterxml.jackson.databind&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson.databind&lt;/shadedPattern&gt; --&gt;\n                                &lt;relocation&gt;\n                                    &lt;pattern&gt;com.fasterxml.jackson&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.com.fasterxml.jackson&lt;/shadedPattern&gt;\n                                &lt;/relocation&gt;\n                                &lt;relocation&gt;\n                                    &lt;pattern&gt;de.tr7zw.changeme.nbtapi&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;${project.groupId}.${project.artifactId}.shaded.de.tr7zw.changeme.nbtapi&lt;/shadedPattern&gt;\n                                &lt;/relocation&gt;\n                            &lt;/relocations&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/**&lt;/exclude&gt;\n                                        &lt;exclude&gt;module-info.class&lt;/exclude&gt;\n                                        &lt;exclude&gt;LICENSE&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;manifestEntries&gt;\n                                        &lt;Main-Class&gt;${project.groupId}.${project.artifactId}.${project.mainClass}&lt;/Main-Class&gt;\n                                        &lt;Build-Number&gt;${project.version}&lt;/Build-Number&gt;\n                                    &lt;/manifestEntries&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spigotmc-repo&lt;/id&gt;\n            &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sonatype&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;enginehub&lt;/id&gt;\n            &lt;url&gt;https://maven.enginehub.org/repo/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;plotsquared&lt;/id&gt;\n            &lt;url&gt;https://plotsquared.com/mvn/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;placeholderapi&lt;/id&gt;\n            &lt;url&gt;http://repo.extendedclip.com/content/repositories/placeholderapi/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;codemc-repo&lt;/id&gt;\n            &lt;url&gt;https://repo.codemc.org/repository/maven-public/&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sk89q-repo&lt;/id&gt;\n            &lt;url&gt;https://maven.enginehub.org/repo/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;maven-snapshot&lt;/id&gt;\n            &lt;url&gt;https://repository.apache.org/content/repositories/snapshots&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n            &lt;version&gt;1.12-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;23.0.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.minecraft&lt;/groupId&gt;\n            &lt;artifactId&gt;server&lt;/artifactId&gt;\n            &lt;version&gt;v1.12&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.nms.path}&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.plotsquared&lt;/groupId&gt;\n            &lt;artifactId&gt;plotsquared-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.clip&lt;/groupId&gt;\n            &lt;artifactId&gt;placeholderapi&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.tr7zw&lt;/groupId&gt;\n            &lt;artifactId&gt;item-nbt-api&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sk89q.worldguard&lt;/groupId&gt;\n            &lt;artifactId&gt;worldguard-legacy&lt;/artifactId&gt;\n            &lt;version&gt;6.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sk89q.worldedit&lt;/groupId&gt;\n            &lt;artifactId&gt;worldedit-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.luckperms&lt;/groupId&gt;\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\n            &lt;version&gt;5.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud","netflix-eureka","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":2,"creation_date":1625759867,"post_id":68301790,"comment_id":120718941,"body_markdown":"Eureka server cannot run as webflux and therefor cannot be combined with spring cloud gateway. Did you mean for gateway to be a eureka client?","body":"Eureka server cannot run as webflux and therefor cannot be combined with spring cloud gateway. Did you mean for gateway to be a eureka client?"}],"answers":[{"tags":[],"owner":{"account_id":9679536,"reputation":101,"user_id":7181748,"display_name":"Manisha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646967370,"creation_date":1646967370,"answer_id":71433139,"question_id":68301790,"body_markdown":"If it helps anybody at all.\r\n\r\nThe context was null hence NPE was fixed for me by adding tomcat-embed-core.jar into the classpath.\r\n","title":"Could not initialize Eureka servlet context","body":"<p>If it helps anybody at all.</p>\n<p>The context was null hence NPE was fixed for me by adding tomcat-embed-core.jar into the classpath.</p>\n"}],"owner":{"account_id":9026937,"reputation":155,"user_id":8182381,"display_name":"Herval NGANYA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1207,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646967370,"creation_date":1625747853,"question_id":68301790,"body_markdown":"I&#39;m upgrading my actual project to spring boot 2.5.2.\r\nI had a config server, a zuul gateway and a discovery server.\r\nNow I saw that spring cloud has an embedded gateway in my discovery server which I want to use. So I have at the end only the config server and discovery server (which includes my gateway)\r\nBut I get the following stack trace from the discovery server:\r\n\r\n    08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Got 1 instances from neighboring DS node\r\n    08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Renew threshold is: 1\r\n    08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Changing status to UP\r\n    08-07-2021 14:03:46.467 [Thread-11] ERROR o.s.c.n.e.s.EurekaServerBootstrap.contextInitialized - Cannot bootstrap eureka server :\r\n    java.lang.NullPointerException: null\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:73)\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration.lambda$start$0(EurekaServerInitializerConfiguration.java:68)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    08-07-2021 14:03:46.468 [Thread-11] ERROR o.s.c.n.e.s.EurekaServerInitializerConfiguration.lambda$start$0 - Could not initialize Eureka servlet context\r\n    java.lang.RuntimeException: Cannot bootstrap eureka server :\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:77)\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration.lambda$start$0(EurekaServerInitializerConfiguration.java:68)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.NullPointerException: null\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:73)\r\n    \t... 2 common frames omitted\r\n\r\nHere is my code:\r\n\r\n## Config server:\r\n### pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.geminiald&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;config-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.1.0&lt;/version&gt;\r\n    \t&lt;name&gt;config-service&lt;/name&gt;\r\n    \t&lt;description&gt;Configuration service&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n### application.yml\r\n\r\n    spring:\r\n      cloud:\r\n        config:\r\n          server:\r\n            native:\r\n              search-locations: classpath:/shared\r\n      profiles:\r\n        active: native\r\n      security:\r\n        user:\r\n          password: configPassword\r\n    \r\n    server:\r\n      port: 8081\r\n\r\n### shared/discovery-service.yml\r\n\r\n    server:\r\n      port: 8082\r\n    \r\n    logging:\r\n      level:\r\n        org:\r\n          hibernate:\r\n            SQL: DEBUG\r\n            type:\r\n              descriptor:\r\n                sql:\r\n                  BasicBinder: TRACE\r\n\r\n## Discovery server\r\n### pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.geminiald&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;discovery-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.1.0&lt;/version&gt;\r\n    \t&lt;name&gt;discovery-service&lt;/name&gt;\r\n    \t&lt;description&gt;Discovery service&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n### Main\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class DiscoveryServiceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DiscoveryServiceApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n### GatewayDiscoveryConfiguration\r\n\r\n    @Configuration\r\n    @EnableDiscoveryClient\r\n    public class GatewayDiscoveryConfiguration {\r\n    \r\n        @Bean\r\n        public DiscoveryClientRouteDefinitionLocator\r\n                discoveryClientRouteLocator(ReactiveDiscoveryClient discoveryClient, DiscoveryLocatorProperties locatorProperties) {\r\n    \r\n            return new DiscoveryClientRouteDefinitionLocator(discoveryClient, locatorProperties);\r\n        }\r\n    }\r\n\r\n\r\nIt would be very appreciated if someone could help me.\r\n\r\nThanks in advance!","title":"Could not initialize Eureka servlet context","body":"<p>I'm upgrading my actual project to spring boot 2.5.2.\nI had a config server, a zuul gateway and a discovery server.\nNow I saw that spring cloud has an embedded gateway in my discovery server which I want to use. So I have at the end only the config server and discovery server (which includes my gateway)\nBut I get the following stack trace from the discovery server:</p>\n<pre><code>08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Got 1 instances from neighboring DS node\n08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Renew threshold is: 1\n08-07-2021 14:03:46.449 [Thread-11] INFO  c.n.e.r.PeerAwareInstanceRegistryImpl.openForTraffic - Changing status to UP\n08-07-2021 14:03:46.467 [Thread-11] ERROR o.s.c.n.e.s.EurekaServerBootstrap.contextInitialized - Cannot bootstrap eureka server :\njava.lang.NullPointerException: null\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:73)\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration.lambda$start$0(EurekaServerInitializerConfiguration.java:68)\n    at java.lang.Thread.run(Thread.java:748)\n08-07-2021 14:03:46.468 [Thread-11] ERROR o.s.c.n.e.s.EurekaServerInitializerConfiguration.lambda$start$0 - Could not initialize Eureka servlet context\njava.lang.RuntimeException: Cannot bootstrap eureka server :\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:77)\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration.lambda$start$0(EurekaServerInitializerConfiguration.java:68)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NullPointerException: null\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerBootstrap.contextInitialized(EurekaServerBootstrap.java:73)\n    ... 2 common frames omitted\n</code></pre>\n<p>Here is my code:</p>\n<h2>Config server:</h2>\n<h3>pom.xml</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.geminiald&lt;/groupId&gt;\n    &lt;artifactId&gt;config-service&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;name&gt;config-service&lt;/name&gt;\n    &lt;description&gt;Configuration service&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h3>application.yml</h3>\n<pre><code>spring:\n  cloud:\n    config:\n      server:\n        native:\n          search-locations: classpath:/shared\n  profiles:\n    active: native\n  security:\n    user:\n      password: configPassword\n\nserver:\n  port: 8081\n</code></pre>\n<h3>shared/discovery-service.yml</h3>\n<pre><code>server:\n  port: 8082\n\nlogging:\n  level:\n    org:\n      hibernate:\n        SQL: DEBUG\n        type:\n          descriptor:\n            sql:\n              BasicBinder: TRACE\n</code></pre>\n<h2>Discovery server</h2>\n<h3>pom.xml</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.geminiald&lt;/groupId&gt;\n    &lt;artifactId&gt;discovery-service&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;name&gt;discovery-service&lt;/name&gt;\n    &lt;description&gt;Discovery service&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h3>Main</h3>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class DiscoveryServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DiscoveryServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<h3>GatewayDiscoveryConfiguration</h3>\n<pre><code>@Configuration\n@EnableDiscoveryClient\npublic class GatewayDiscoveryConfiguration {\n\n    @Bean\n    public DiscoveryClientRouteDefinitionLocator\n            discoveryClientRouteLocator(ReactiveDiscoveryClient discoveryClient, DiscoveryLocatorProperties locatorProperties) {\n\n        return new DiscoveryClientRouteDefinitionLocator(discoveryClient, locatorProperties);\n    }\n}\n</code></pre>\n<p>It would be very appreciated if someone could help me.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","mysql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":9149775,"reputation":1619,"user_id":6804762,"accept_rate":100,"display_name":"N.K"},"score":0,"creation_date":1524495989,"post_id":49984267,"comment_id":86984951,"body_markdown":"Where is the code causing the error ?","body":"Where is the code causing the error ?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1524496044,"post_id":49984267,"comment_id":86984986,"body_markdown":"MySQL Workbench is a query tool for MySQL, it is not involved when you access a MySQL database from Java, so it is not relevant to your question.","body":"MySQL Workbench is a query tool for MySQL, it is not involved when you access a MySQL database from Java, so it is not relevant to your question."},{"owner":{"account_id":278995,"reputation":2459,"user_id":2553194,"display_name":"RubioRic"},"score":1,"creation_date":1524496153,"post_id":49984267,"comment_id":86985045,"body_markdown":"It seems that it is a known bug https://bugs.mysql.com/bug.php?id=87846 Try upgrading your connector jar mysql-connector-java to 5.1.43 or higher","body":"It seems that it is a known bug <a href=\"https://bugs.mysql.com/bug.php?id=87846\" rel=\"nofollow noreferrer\">bugs.mysql.com/bug.php?id=87846</a> Try upgrading your connector jar mysql-connector-java to 5.1.43 or higher"}],"answers":[{"tags":[],"owner":{"account_id":3282070,"reputation":3827,"user_id":2762432,"accept_rate":69,"display_name":"steven35"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1524496240,"creation_date":1524496240,"answer_id":49984380,"question_id":49984267,"body_markdown":"`query_cache_size` was removed in MySQL 8. Check the [docs][1].\r\n\r\nIt works with JDBC driver 5.1.44.\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.7/en/query-cache.html","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p><code>query_cache_size</code> was removed in MySQL 8. Check the <a href=\"https://dev.mysql.com/doc/refman/5.7/en/query-cache.html\" rel=\"noreferrer\">docs</a>.</p>\n\n<p>It works with JDBC driver 5.1.44.</p>\n"},{"tags":[],"owner":{"account_id":10037500,"reputation":226,"user_id":7421561,"display_name":"ISHAN KUMAR GHOSH"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1524496338,"creation_date":1524496338,"answer_id":49984403,"question_id":49984267,"body_markdown":"Try using MySQL 8.0.3\r\nAs can be seen on the docs, the query_cache_size was removed on MySQL8. JetBrains guys have suffered the same issue, is seems to be that it is fixed by updating the driver to the version MySQL JDBC driver v 5.1.44.\r\n","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>Try using MySQL 8.0.3\nAs can be seen on the docs, the query_cache_size was removed on MySQL8. JetBrains guys have suffered the same issue, is seems to be that it is fixed by updating the driver to the version MySQL JDBC driver v 5.1.44.</p>\n"},{"tags":[],"owner":{"account_id":13937536,"reputation":341,"user_id":10064210,"display_name":"vineeth sharma"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1531306732,"creation_date":1531304231,"answer_id":51282899,"question_id":49984267,"body_markdown":"&gt;java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;\r\n\r\nIn pom file of your project, just update the version of the dependency.\r\n\r\nFor example it&#39;s &lt;version&gt;6.0.2&lt;/version&gt; of mysql java connector just update it to latest one like &lt;version&gt;8.0.11&lt;/version&gt;\r\n\r\nIt works!!!!","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<blockquote>\n  <p>java.sql.SQLException: Unknown system variable 'query_cache_size'</p>\n</blockquote>\n\n<p>In pom file of your project, just update the version of the dependency.</p>\n\n<p>For example it's 6.0.2 of mysql java connector just update it to latest one like 8.0.11</p>\n\n<p>It works!!!!</p>\n"},{"tags":[],"owner":{"account_id":5749872,"reputation":1997,"user_id":4539906,"display_name":"Asad Shakeel"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1542030732,"creation_date":1542030732,"answer_id":53263621,"question_id":49984267,"body_markdown":"I had a similar problem.\r\nI resolved it by **specifying the version** in mysql dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.45&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWorked like a charm for me.","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>I had a similar problem.\nI resolved it by <strong>specifying the version</strong> in mysql dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.45&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Worked like a charm for me.</p>\n"},{"tags":[],"owner":{"account_id":14242534,"reputation":51,"user_id":10288482,"display_name":"Äáº·ng Ngá»c Phong"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543300849,"creation_date":1543300849,"answer_id":53494083,"question_id":49984267,"body_markdown":"If you using MySql v8.0 then you should try fix this bug with \r\n\r\n&gt; mysql-connector-java-5.1.9","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>If you using MySql v8.0 then you should try fix this bug with </p>\n\n<blockquote>\n  <p>mysql-connector-java-5.1.9</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15187825,"reputation":61,"user_id":10959250,"display_name":"Mukesh Kumar yadav"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548302073,"creation_date":1548301719,"answer_id":54339106,"question_id":49984267,"body_markdown":"I stuck on this issue, spend full one day and finally i got solution.\r\n\r\nSolution : \r\n&gt;1) Use exact mysql-connector-java jar or dependency as your mysql version.  \r\n&gt;2) if your mysql version is 8 or 6+ try to use this &quot;com.mysql.cj.jdbc.Driver&quot; driver class.","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>I stuck on this issue, spend full one day and finally i got solution.</p>\n\n<p>Solution : </p>\n\n<blockquote>\n  <p>1) Use exact mysql-connector-java jar or dependency as your mysql version.<br>\n  2) if your mysql version is 8 or 6+ try to use this \"com.mysql.cj.jdbc.Driver\" driver class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12177568,"reputation":121,"user_id":8890160,"display_name":"Ooguro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551978970,"creation_date":1551978970,"answer_id":55049482,"question_id":49984267,"body_markdown":"Ok so what I did as metioned above. I just added the mysql-connector-java-5.1.4 to build path and ran the project on my server and connected fine to mysql\r\n\r\n","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>Ok so what I did as metioned above. I just added the mysql-connector-java-5.1.4 to build path and ran the project on my server and connected fine to mysql</p>\n"},{"tags":[],"owner":{"account_id":15832854,"reputation":707,"user_id":11423630,"display_name":"Shubham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566212120,"creation_date":1566212120,"answer_id":57555345,"question_id":49984267,"body_markdown":"just change the version of mysql\r\nuse this in pom.xml\r\n\r\n    &lt;version&gt;8.0.11&lt;/version&gt;","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>just change the version of mysql\nuse this in pom.xml</p>\n\n<pre><code>&lt;version&gt;8.0.11&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5776525,"reputation":399,"user_id":4558451,"display_name":"Enrique Jim&#233;nez Flores"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1569476736,"creation_date":1569476736,"answer_id":58110280,"question_id":49984267,"body_markdown":"For mysql 8:\r\n\r\nmysql-connector-java-8.0.17.jar  (or above)\r\n+ \r\ndb.driver=com.mysql.cj.jdbc.Driver  instead of com.mysql.jdbc.Driver","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>For mysql 8:</p>\n\n<p>mysql-connector-java-8.0.17.jar  (or above)\n+ \ndb.driver=com.mysql.cj.jdbc.Driver  instead of com.mysql.jdbc.Driver</p>\n"},{"tags":[],"owner":{"account_id":10618213,"reputation":408,"user_id":7820062,"display_name":"Chaman Bharti"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599886262,"creation_date":1597729638,"answer_id":63462563,"question_id":49984267,"body_markdown":"**This exception is related to pom.xml dependency.**\r\n**When I use below dependency in pox.xml:** \r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n          &lt;version&gt;6.0.5&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n**It shows exception:Caused by: java.sql.SQLException: Unknown system variable query_cache_size**\r\n\r\n**But, when I use below dependency:**\r\n\r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.13&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n**It works.You have to use latest dependency**","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p><strong>This exception is related to pom.xml dependency.</strong>\n<strong>When I use below dependency in pox.xml:</strong></p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;6.0.5&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p><strong>It shows exception:Caused by: java.sql.SQLException: Unknown system variable query_cache_size</strong></p>\n<p><strong>But, when I use below dependency:</strong></p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.13&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p><strong>It works.You have to use latest dependency</strong></p>\n"},{"tags":[],"owner":{"account_id":12712477,"reputation":1,"user_id":9235657,"display_name":"Rushikesh Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629268959,"creation_date":1629268959,"answer_id":68827607,"question_id":49984267,"body_markdown":"Use  Below mention dependency it will work for you!    \r\n \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>Use  Below mention dependency it will work for you!</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.16&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12001272,"reputation":347,"user_id":8781119,"display_name":"Ki&#234;n Tráº§n Trung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80478,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":49984380,"answer_count":11,"score":43,"last_activity_date":1646967357,"creation_date":1524495847,"question_id":49984267,"body_markdown":"I have a app running with JDBC and get data from MySQL, but I can&#39;t build it because of this error : \r\n\r\n    java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;\r\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:964) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2497) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2455) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1369) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.loadServerVariables(ConnectionImpl.java:3777) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.initializePropsFromServer(ConnectionImpl.java:3240) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2249) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2035) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:790) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.41.jar:5.1.41]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]\r\n\r\nI have file application.properties here \r\n\r\n    #specs.dir=/specs/\r\n    #\r\n    #################### Spring Boot Data Source Configuration ############\r\n    #spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    #spring.datasource.url=jdbc:mysql://localhost:3306/savingbooking?useSSL=false\r\n    #spring.datasource.username=root\r\n    #spring.datasource.password=ZAQ!2wsx\r\n    #spring.datasource.initialize=true\r\n    #spring.jpa.hibernate.ddl-auto=update\r\n    #spring.jpa.properties.hibernate.format_sql=true\r\n    #spring.jpa.show-sql=true\r\n    #spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nMysql workbench is 8.0 version\r\n","title":"java.sql.SQLException: Unknown system variable &#39;query_cache_size&#39;","body":"<p>I have a app running with JDBC and get data from MySQL, but I can't build it because of this error : </p>\n\n<pre><code>java.sql.SQLException: Unknown system variable 'query_cache_size'\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:964) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2497) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2455) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1369) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.loadServerVariables(ConnectionImpl.java:3777) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.initializePropsFromServer(ConnectionImpl.java:3240) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2249) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2035) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:790) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47) ~[mysql-connector-java-5.1.41.jar:5.1.41]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_131]\n</code></pre>\n\n<p>I have file application.properties here </p>\n\n<pre><code>#specs.dir=/specs/\n#\n#################### Spring Boot Data Source Configuration ############\n#spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n#spring.datasource.url=jdbc:mysql://localhost:3306/savingbooking?useSSL=false\n#spring.datasource.username=root\n#spring.datasource.password=ZAQ!2wsx\n#spring.datasource.initialize=true\n#spring.jpa.hibernate.ddl-auto=update\n#spring.jpa.properties.hibernate.format_sql=true\n#spring.jpa.show-sql=true\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n\n<p>Mysql workbench is 8.0 version</p>\n"},{"tags":["java","list","sorting"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1646966311,"post_id":71433005,"comment_id":126259848,"body_markdown":"I can&#39;t see anything wrong with your code.  The warning that you&#39;re reporting is probably unrelated to anything in your code.  As for whether your code is wrong, it&#39;s a bit hard to tell when you haven&#39;t told us what problem you&#39;re trying to solve.  Perhaps you can paste the problem statement into this question.","body":"I can&#39;t see anything wrong with your code.  The warning that you&#39;re reporting is probably unrelated to anything in your code.  As for whether your code is wrong, it&#39;s a bit hard to tell when you haven&#39;t told us what problem you&#39;re trying to solve.  Perhaps you can paste the problem statement into this question."},{"owner":{"account_id":3308530,"reputation":2278,"user_id":2782554,"accept_rate":97,"display_name":"keypoint"},"score":0,"creation_date":1648069079,"post_id":71433005,"comment_id":126534134,"body_markdown":"your code is fine, just need to tune your JVM settings, probably your IDE did that for you.","body":"your code is fine, just need to tune your JVM settings, probably your IDE did that for you."}],"owner":{"account_id":23757702,"reputation":11,"user_id":17773589,"display_name":"chrypig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646965772,"creation_date":1646965772,"question_id":71433005,"body_markdown":"I know the getMid() method in the answer of approach 1 is like below.\r\n\r\n    public ListNode getMid(ListNode head) {\r\n        ListNode midPrev = null;\r\n        while (head != null &amp;&amp; head.next != null) {\r\n            midPrev = (midPrev == null) ? head : midPrev.next;\r\n            head = head.next.next;\r\n        }\r\n        \r\n        ListNode mid = midPrev.next;\r\n        midPrev.next = null;\r\n        return mid;\r\n    }\r\nI tried this code before:\r\n\r\n    public ListNode getMid(ListNode head) {\r\n\t\r\n\t\t// This line is different from the answer.\r\n        ListNode midPrev = head;\r\n\t\t\r\n        while (head != null &amp;&amp; head.next != null) {\r\n\t\t\r\n\t\t\t// This line is different from the answer.\r\n            midPrev = midPrev.next;\r\n\t\t\t\r\n            head = head.next.next;\r\n        }\r\n        \r\n        ListNode mid = midPrev.next;\r\n        midPrev.next = null;\r\n        return mid;\r\n    }\r\nAnd then I get this Runtime Error:\r\n\r\nWARNING: A command line option has enabled the Security Manager\r\n\r\nCan anyone tell me why the midPrev = head is wrong?","title":"Questions about LeetCode 148. Sort List","body":"<p>I know the getMid() method in the answer of approach 1 is like below.</p>\n<pre><code>public ListNode getMid(ListNode head) {\n    ListNode midPrev = null;\n    while (head != null &amp;&amp; head.next != null) {\n        midPrev = (midPrev == null) ? head : midPrev.next;\n        head = head.next.next;\n    }\n    \n    ListNode mid = midPrev.next;\n    midPrev.next = null;\n    return mid;\n}\n</code></pre>\n<p>I tried this code before:</p>\n<pre><code>public ListNode getMid(ListNode head) {\n\n    // This line is different from the answer.\n    ListNode midPrev = head;\n    \n    while (head != null &amp;&amp; head.next != null) {\n    \n        // This line is different from the answer.\n        midPrev = midPrev.next;\n        \n        head = head.next.next;\n    }\n    \n    ListNode mid = midPrev.next;\n    midPrev.next = null;\n    return mid;\n}\n</code></pre>\n<p>And then I get this Runtime Error:</p>\n<p>WARNING: A command line option has enabled the Security Manager</p>\n<p>Can anyone tell me why the midPrev = head is wrong?</p>\n"},{"tags":["java","android","embedded"],"comments":[{"owner":{"account_id":250517,"reputation":30575,"user_id":527288,"accept_rate":81,"display_name":"Kurtis Nusbaum"},"score":0,"creation_date":1319924461,"post_id":7940582,"comment_id":9704534,"body_markdown":"Sorry, I misunderstood your question. I removed my answer.","body":"Sorry, I misunderstood your question. I removed my answer."}],"answers":[{"tags":[],"owner":{"account_id":238552,"reputation":84579,"user_id":507519,"accept_rate":86,"display_name":"thkala"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1320059651,"creation_date":1319928713,"answer_id":7942184,"question_id":7940582,"body_markdown":"The typical way to safely create a file on most reasonable platforms (Linux/Android *is* one of them) is to create a temporary file and then **rename** the file, as mentioned in the question &amp; answers that you linked to. Note the emphasis on *rename*; renaming a file is *usually* an atomic operation *within the same filesystem*, copying one is not. In addition, this method only requires enough space for a single copy of the data.\r\n\r\nTherefore you create a file in the target directory using a temporary name and then use [`File.renameTo()`](http://developer.android.com/reference/java/io/File.html#renameTo%28java.io.File%29) to give it a proper name. By using a standard naming convention for the temporary files you can always find and delete them, even if your application terminates unexpectedly due to e.g. a device power-off.\r\n\r\nIf you are really paranoid, you may want to insert a few calls to [`FileDescriptor.sync()`](http://developer.android.com/reference/java/io/FileDescriptor.html#sync%28%29) or equivalent...\r\n\r\nEDIT:\r\n\r\nBTW, you do not mention what kind of `IOException` your are getting and whether you have tracked down its cause. If it&#39;s due to insufficient space, fine, but if we are talking about a faulty SD card, then there is no such thing as &quot;safe&quot; in this case.\r\n\r\nEDIT 2:\r\n\r\nIn order to check the available free space, you can create a [`File`](http://developer.android.com/reference/java/io/File.html) object for the destination directory (i.e. the directory where your file will end up) and call [`File.getFreeSpace()`](http://developer.android.com/reference/java/io/File.html#getFreeSpace%28%29). Keep in mind that this check does not provide any guarantees - you may still end up without enough space if e.g. another process writes data to the medium.","title":"How to safely save a file to disk in android?","body":"<p>The typical way to safely create a file on most reasonable platforms (Linux/Android <em>is</em> one of them) is to create a temporary file and then <strong>rename</strong> the file, as mentioned in the question &amp; answers that you linked to. Note the emphasis on <em>rename</em>; renaming a file is <em>usually</em> an atomic operation <em>within the same filesystem</em>, copying one is not. In addition, this method only requires enough space for a single copy of the data.</p>\n\n<p>Therefore you create a file in the target directory using a temporary name and then use <a href=\"http://developer.android.com/reference/java/io/File.html#renameTo%28java.io.File%29\" rel=\"noreferrer\"><code>File.renameTo()</code></a> to give it a proper name. By using a standard naming convention for the temporary files you can always find and delete them, even if your application terminates unexpectedly due to e.g. a device power-off.</p>\n\n<p>If you are really paranoid, you may want to insert a few calls to <a href=\"http://developer.android.com/reference/java/io/FileDescriptor.html#sync%28%29\" rel=\"noreferrer\"><code>FileDescriptor.sync()</code></a> or equivalent...</p>\n\n<p>EDIT:</p>\n\n<p>BTW, you do not mention what kind of <code>IOException</code> your are getting and whether you have tracked down its cause. If it's due to insufficient space, fine, but if we are talking about a faulty SD card, then there is no such thing as \"safe\" in this case.</p>\n\n<p>EDIT 2:</p>\n\n<p>In order to check the available free space, you can create a <a href=\"http://developer.android.com/reference/java/io/File.html\" rel=\"noreferrer\"><code>File</code></a> object for the destination directory (i.e. the directory where your file will end up) and call <a href=\"http://developer.android.com/reference/java/io/File.html#getFreeSpace%28%29\" rel=\"noreferrer\"><code>File.getFreeSpace()</code></a>. Keep in mind that this check does not provide any guarantees - you may still end up without enough space if e.g. another process writes data to the medium.</p>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319928922,"creation_date":1319928922,"answer_id":7942197,"question_id":7940582,"body_markdown":"I don&#39;t know if I&#39;d copy it, but renaming the temporary file is typical. If you get an exception during writing, just delete the temporary file.","title":"How to safely save a file to disk in android?","body":"<p>I don't know if I'd copy it, but renaming the temporary file is typical. If you get an exception during writing, just delete the temporary file.</p>\n"},{"tags":[],"owner":{"account_id":1447316,"reputation":1213,"user_id":1365340,"accept_rate":40,"display_name":"Pawan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1569576535,"creation_date":1487791009,"answer_id":42400359,"question_id":7940582,"body_markdown":"I know this is too late to answer, but will help anyone who come across this will find it helpful.\r\n\r\nYou need to use [AtomicFile][1].\r\n\r\nFollowing code snippet may help.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public void writeFile(File file, byte[] data) {\r\n        AtomicFile aFile = new AtomicFile(file);\r\n        FileOutputStream fos = null;\r\n\r\n        try {\r\n            fos = aFile.startWrite();\r\n            fos.write(data);\r\n            // Close stream and commit new data.\r\n            aFile.finishWrite(fos);\r\n            fos = null;\r\n        } catch (IOException e) {\r\n            Log.e(TAG, &quot;Cannot write file &quot; + file.getPath(), e);\r\n        } finally {\r\n            if (fos != null) {\r\n                // Something went wrong.\r\n                // Close stream and roll back data.\r\n                aFile.failWrite(fos);\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v4/util/AtomicFile.html","title":"How to safely save a file to disk in android?","body":"<p>I know this is too late to answer, but will help anyone who come across this will find it helpful.</p>\n\n<p>You need to use <a href=\"https://developer.android.com/reference/android/support/v4/util/AtomicFile.html\" rel=\"noreferrer\">AtomicFile</a>.</p>\n\n<p>Following code snippet may help.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void writeFile(File file, byte[] data) {\n    AtomicFile aFile = new AtomicFile(file);\n    FileOutputStream fos = null;\n\n    try {\n        fos = aFile.startWrite();\n        fos.write(data);\n        // Close stream and commit new data.\n        aFile.finishWrite(fos);\n        fos = null;\n    } catch (IOException e) {\n        Log.e(TAG, \"Cannot write file \" + file.getPath(), e);\n    } finally {\n        if (fos != null) {\n            // Something went wrong.\n            // Close stream and roll back data.\n            aFile.failWrite(fos);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14207656,"reputation":21,"user_id":10263748,"display_name":"Orienser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646963350,"creation_date":1646963350,"answer_id":71432775,"question_id":7940582,"body_markdown":"As mentioned in Pawan&#39;s answer, `AtomicFile` is recommended for writing file safely.\r\n\r\nBut you still need to be careful when using it, sometimes it&#39;s not that &#39;atomic&#39;.\r\n\r\nYou can find `AtomicFile` in `android.util`, `android.support.v4.util` and `androidx.core.util`. But their implementation are **DIFFERENT** in different versions of `API level` / `support library` / `androidx library`, so please pay attention to your dependency version before using it.\r\n\r\nIn general, you should use the latest version of [androidx&#39;s AtomicFile][1]. It&#39;s in `androidx.core:core`, and dependenced by `androidx.appcompat:appcompat`.\r\n\r\n----------\r\n\r\nLet&#39;s see what actually happens when we try to write a file with `AtomicFile` in lower versions.\r\n\r\n#### API level: [17, 29] / support library: [22.1.0, 28.0.0] / androidx core: [1.0.0, 1.3.2]\r\n\r\n```\r\npublic FileOutputStream startWrite() throws IOException {\r\n    // Step 1: rename base file to backup file, or delete it.\r\n    if (mBaseName.exists()) {\r\n        if (!mBackupName.exists()) {\r\n            if (!mBaseName.renameTo(mBackupName)) {\r\n                Log.w(&quot;AtomicFile&quot;, &quot;Couldn&#39;t rename file &quot; + mBaseName\r\n                    + &quot; to backup file &quot; + mBackupName);\r\n                }\r\n        } else {\r\n            mBaseName.delete();\r\n        }\r\n    }\r\n\r\n    // At this moment,the base file does not exist anyway.\r\n\r\n    // Step 2: open output stream to base file.\r\n    FileOutputStream str;\r\n    try {\r\n        str = new FileOutputStream(mBaseName);\r\n    } catch (FileNotFoundException e) {\r\n        // ...\r\n    }\r\n    return str;\r\n}\r\n```\r\n\r\nAs you can see, `AtomicFile` prefers to back up the base file before writing it.\r\nThis can indeed provide an effective means of recovery when writing to the base file fails. But you can only say that the write operation is safely, not atomically.\r\n\r\nImagine what happens if the system loses power between steps 1 and 2, the base file will be lost, and only the backup file will remain.\r\n\r\nAlso, because the `FileOutputStream` points to the base file, writing is not atomically either.\r\n\r\n----------\r\n\r\nBut google has improved the implementation of AtomicFile in high versions.\r\n\r\n#### API level: 30+ / androidx core: 1.5.0+\r\n```\r\npublic FileOutputStream startWrite() throws IOException {\r\n    // Step 1: recover backup file, which was used in old version.\r\n    if (mLegacyBackupName.exists()) {\r\n        rename(mLegacyBackupName, mBaseName);\r\n    }\r\n\r\n    // Step 2: open output stream to new file, not the base file.\r\n    try {\r\n        return new FileOutputStream(mNewName);\r\n    } catch (FileNotFoundException e) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nThe improved AtomicFile takes another approach: when you write content to the output stream returned by `startWrite()`, you actually write to a new file (a temporary file with suffix of `.new`), and the new file will be rename to base file after `finishWrite()` called.\r\n\r\nNow, the content of the base file will only have two cases:\r\n1. The writing fails, and the content of base file remains unchanged.\r\n2. The writing is successful.\r\n\r\nIt&#39;s real atomic now.\r\n\r\n[1]: https://developer.android.com/reference/androidx/core/util/AtomicFile","title":"How to safely save a file to disk in android?","body":"<p>As mentioned in Pawan's answer, <code>AtomicFile</code> is recommended for writing file safely.</p>\n<p>But you still need to be careful when using it, sometimes it's not that 'atomic'.</p>\n<p>You can find <code>AtomicFile</code> in <code>android.util</code>, <code>android.support.v4.util</code> and <code>androidx.core.util</code>. But their implementation are <strong>DIFFERENT</strong> in different versions of <code>API level</code> / <code>support library</code> / <code>androidx library</code>, so please pay attention to your dependency version before using it.</p>\n<p>In general, you should use the latest version of <a href=\"https://developer.android.com/reference/androidx/core/util/AtomicFile\" rel=\"nofollow noreferrer\">androidx's AtomicFile</a>. It's in <code>androidx.core:core</code>, and dependenced by <code>androidx.appcompat:appcompat</code>.</p>\n<hr />\n<p>Let's see what actually happens when we try to write a file with <code>AtomicFile</code> in lower versions.</p>\n<h4>API level: [17, 29] / support library: [22.1.0, 28.0.0] / androidx core: [1.0.0, 1.3.2]</h4>\n<pre><code>public FileOutputStream startWrite() throws IOException {\n    // Step 1: rename base file to backup file, or delete it.\n    if (mBaseName.exists()) {\n        if (!mBackupName.exists()) {\n            if (!mBaseName.renameTo(mBackupName)) {\n                Log.w(&quot;AtomicFile&quot;, &quot;Couldn't rename file &quot; + mBaseName\n                    + &quot; to backup file &quot; + mBackupName);\n                }\n        } else {\n            mBaseName.delete();\n        }\n    }\n\n    // At this moment,the base file does not exist anyway.\n\n    // Step 2: open output stream to base file.\n    FileOutputStream str;\n    try {\n        str = new FileOutputStream(mBaseName);\n    } catch (FileNotFoundException e) {\n        // ...\n    }\n    return str;\n}\n</code></pre>\n<p>As you can see, <code>AtomicFile</code> prefers to back up the base file before writing it.\nThis can indeed provide an effective means of recovery when writing to the base file fails. But you can only say that the write operation is safely, not atomically.</p>\n<p>Imagine what happens if the system loses power between steps 1 and 2, the base file will be lost, and only the backup file will remain.</p>\n<p>Also, because the <code>FileOutputStream</code> points to the base file, writing is not atomically either.</p>\n<hr />\n<p>But google has improved the implementation of AtomicFile in high versions.</p>\n<h4>API level: 30+ / androidx core: 1.5.0+</h4>\n<pre><code>public FileOutputStream startWrite() throws IOException {\n    // Step 1: recover backup file, which was used in old version.\n    if (mLegacyBackupName.exists()) {\n        rename(mLegacyBackupName, mBaseName);\n    }\n\n    // Step 2: open output stream to new file, not the base file.\n    try {\n        return new FileOutputStream(mNewName);\n    } catch (FileNotFoundException e) {\n        // ...\n    }\n}\n</code></pre>\n<p>The improved AtomicFile takes another approach: when you write content to the output stream returned by <code>startWrite()</code>, you actually write to a new file (a temporary file with suffix of <code>.new</code>), and the new file will be rename to base file after <code>finishWrite()</code> called.</p>\n<p>Now, the content of the base file will only have two cases:</p>\n<ol>\n<li>The writing fails, and the content of base file remains unchanged.</li>\n<li>The writing is successful.</li>\n</ol>\n<p>It's real atomic now.</p>\n"}],"owner":{"account_id":414958,"reputation":443,"user_id":789480,"accept_rate":100,"display_name":"brif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4153,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7942184,"answer_count":4,"score":7,"last_activity_date":1646963350,"creation_date":1319910169,"question_id":7940582,"body_markdown":"I have written an android app that saves (potentially) large files to the SD Card. Occasionally I get an IOException during the write operation which causes the file to be left in a corrupt state. Based on the answer to this question:\r\n\r\n&lt;a href=&quot;https://stackoverflow.com/questions/1812115/how-to-safely-write-to-a-file&quot;&gt;Question: How to safely write to a file?&lt;/a&gt;\r\n\r\nthe strategy I should use is to create a temporary file and then copy this file once the write has completed. My questions are:\r\n\r\n1) Is this the safest approach on Android? (e.g. Can you copy files on the android sd card and if so is the operation atomic?)\r\n\r\n2) In an embedded system with limited resources (disk space) does anyone know of another strategy  for safely writing to a disk? (instead of creating two large files)\r\n\r\n\r\nThanks","title":"How to safely save a file to disk in android?","body":"<p>I have written an android app that saves (potentially) large files to the SD Card. Occasionally I get an IOException during the write operation which causes the file to be left in a corrupt state. Based on the answer to this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1812115/how-to-safely-write-to-a-file\">Question: How to safely write to a file?</a></p>\n\n<p>the strategy I should use is to create a temporary file and then copy this file once the write has completed. My questions are:</p>\n\n<p>1) Is this the safest approach on Android? (e.g. Can you copy files on the android sd card and if so is the operation atomic?)</p>\n\n<p>2) In an embedded system with limited resources (disk space) does anyone know of another strategy  for safely writing to a disk? (instead of creating two large files)</p>\n\n<p>Thanks</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":23477971,"reputation":71,"user_id":17530506,"display_name":"Duong LV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646962989,"creation_date":1646962989,"answer_id":71432751,"question_id":63187382,"body_markdown":"I have the same issue too when using Spring Tool Suite, and I spent a lot of time investigating but cannot find any solutions.\r\nBut when I use Intellij, it works fine, I can go into the class file and debug it. So please try it with Intellij.","title":"How to attach the source to the jar in the Gradle (Gradle 6.3.) build that can be used in eclipse External Dependencies","body":"<p>I have the same issue too when using Spring Tool Suite, and I spent a lot of time investigating but cannot find any solutions.\nBut when I use Intellij, it works fine, I can go into the class file and debug it. So please try it with Intellij.</p>\n"}],"owner":{"account_id":9051102,"reputation":136,"user_id":6741224,"display_name":"Uday Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646962989,"creation_date":1596179781,"question_id":63187382,"body_markdown":"Problem: I have a gradle project in which I am using let&#39;s say &#39;pocdemo.jar&#39; as gradle dependency. When I try to navigate through the method call hierarchy, it doesn&#39;t show the actual code, instead it shows something like shown in image below\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FMoQb.png\r\nI want to have the source attached for the external dependency, I tried to do that by selecting the jar -&gt; properties -&gt; Java Source Attachment, but that didn&#39;t allow me to add the location for the source. Now I want to know is there a way that I can use in build.gradle file that will include the source during the jar creation itself.\r\nI have the below gradle file for the project that I use as external dependency in my main project.\r\n```\r\nbuildscript {\r\n    repositories {\r\n  maven {\r\n            url = repoUrl\r\n            allowInsecureProtocol = true\r\n            metadataSources { \r\n                mavenPom()\r\n                artifact() \r\n            }\r\n        }\r\n    maven {\r\n            url = biappsUrl\r\n            allowInsecureProtocol = true\r\n            metadataSources { \r\n                mavenPom()\r\n                artifact() \r\n            }\r\n        }\r\n  }\r\n    dependencies {\r\n        classpath(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-gradle-plugin&#39;, version: &#39;2.1.3.RELEASE&#39;)\r\n    }\r\n}\r\n\r\napply plugin: &#39;maven-publish&#39;\r\napply plugin:&#39;java&#39;\r\napply plugin: &#39;eclipse&#39;\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\n\r\nconfigurations.all {\r\n   exclude group: &quot;commons-logging&quot;, module: &quot;commons-logging&quot;\r\n   exclude group: &quot;org.springframework.boot&quot;, module: &quot;spring-boot-starter-tomcat&quot;\r\n}\r\nconfigurations {\r\n    javadocJar\r\n}\r\ndependencies {\r\n   implementation(group: &#39;javax.servlet&#39;, name: &#39;javax.servlet-api&#39;, version: &#39;3.1.0&#39;)\r\n   implementation (group: &#39;org.springframework.retry&#39;, name: &#39;spring-retry&#39;)\r\n   implementation(group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;27.0.1-jre&#39;)\r\n   implementation(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;)\r\n   implementation(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;)\r\n   implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.5&#39;\r\n   implementation group: &#39;commons-httpclient&#39;, name: &#39;commons-httpclient&#39;, version: &#39;3.1&#39;\r\n   implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpmime&#39;, version: &#39;4.1&#39;\r\n   implementation group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;, version: &#39;1.2&#39;\r\n   implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5&#39;\r\n   implementation group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpcore&#39;, version: &#39;4.4.1&#39;\r\n    .\r\n    . &lt;Some more dependencies&gt;\r\n    .\r\n    testImplementation(group: &#39;org.powermock&#39;, name: &#39;powermock-api-mockito2&#39;, version: &#39;2.0.0-beta.5&#39;)\r\n    testImplementation(group: &#39;org.mockito&#39;, name: &#39;mockito-core&#39;, version: &#39;2.19.0&#39;)\r\n    testImplementation(group: &#39;org.powermock&#39;, name: &#39;powermock-module-junit4&#39;, version: &#39;2.0.0-beta.5&#39;)\r\n}\r\n\r\njavadoc {\r\n  source = sourceSets.main.allJava\r\n  classpath = sourceSets.main.compileClasspath\r\n  destinationDir = file(&quot;${buildDir}/docs/javadoc&quot;)\r\n  failOnError = true\r\n}\r\n\r\ntask javadocJar (type: Jar, dependsOn: javadoc){\r\n\tfrom javadoc.destinationDir\r\n\tarchiveFileName = &quot;myapps-pco-demo-doc-${version}.jar&quot;\r\n}\r\njar {\r\n\tbootJar.enabled = false\r\n\tjar.enabled = true\r\n\tdependsOn &#39;javadocJar&#39;\r\n  archiveFileName = provider {\r\n        &#39;pocdemo.jar&#39;\r\n    }\r\n\tenabled = true\r\n\tmanifest{\r\n\t\tattributes(&#39;Sealed&#39;: &#39;true&#39;)\r\n\t}\r\n}\r\n\r\n\r\n/* Eclipse config */\r\neclipse {\r\n    classpath {\r\n        downloadSources = true\r\n        downloadJavadoc = true\r\n    }\r\n}\r\n\r\n\r\n``` ","title":"How to attach the source to the jar in the Gradle (Gradle 6.3.) build that can be used in eclipse External Dependencies","body":"<p>Problem: I have a gradle project in which I am using let's say 'pocdemo.jar' as gradle dependency. When I try to navigate through the method call hierarchy, it doesn't show the actual code, instead it shows something like shown in image below\n<a href=\"https://i.stack.imgur.com/FMoQb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FMoQb.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to have the source attached for the external dependency, I tried to do that by selecting the jar -&gt; properties -&gt; Java Source Attachment, but that didn't allow me to add the location for the source. Now I want to know is there a way that I can use in build.gradle file that will include the source during the jar creation itself.\nI have the below gradle file for the project that I use as external dependency in my main project.</p>\n<pre><code>buildscript {\n    repositories {\n  maven {\n            url = repoUrl\n            allowInsecureProtocol = true\n            metadataSources { \n                mavenPom()\n                artifact() \n            }\n        }\n    maven {\n            url = biappsUrl\n            allowInsecureProtocol = true\n            metadataSources { \n                mavenPom()\n                artifact() \n            }\n        }\n  }\n    dependencies {\n        classpath(group: 'org.springframework.boot', name: 'spring-boot-gradle-plugin', version: '2.1.3.RELEASE')\n    }\n}\n\napply plugin: 'maven-publish'\napply plugin:'java'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\n\nconfigurations.all {\n   exclude group: &quot;commons-logging&quot;, module: &quot;commons-logging&quot;\n   exclude group: &quot;org.springframework.boot&quot;, module: &quot;spring-boot-starter-tomcat&quot;\n}\nconfigurations {\n    javadocJar\n}\ndependencies {\n   implementation(group: 'javax.servlet', name: 'javax.servlet-api', version: '3.1.0')\n   implementation (group: 'org.springframework.retry', name: 'spring-retry')\n   implementation(group: 'com.google.guava', name: 'guava', version: '27.0.1-jre')\n   implementation(group: 'org.springframework.boot', name: 'spring-boot-starter-web')\n   implementation(group: 'org.springframework.boot', name: 'spring-boot-starter-actuator')\n   implementation group: 'commons-io', name: 'commons-io', version: '2.5'\n   implementation group: 'commons-httpclient', name: 'commons-httpclient', version: '3.1'\n   implementation group: 'org.apache.httpcomponents', name: 'httpmime', version: '4.1'\n   implementation group: 'commons-codec', name: 'commons-codec', version: '1.2'\n   implementation group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5'\n   implementation group: 'org.apache.httpcomponents', name: 'httpcore', version: '4.4.1'\n    .\n    . &lt;Some more dependencies&gt;\n    .\n    testImplementation(group: 'org.powermock', name: 'powermock-api-mockito2', version: '2.0.0-beta.5')\n    testImplementation(group: 'org.mockito', name: 'mockito-core', version: '2.19.0')\n    testImplementation(group: 'org.powermock', name: 'powermock-module-junit4', version: '2.0.0-beta.5')\n}\n\njavadoc {\n  source = sourceSets.main.allJava\n  classpath = sourceSets.main.compileClasspath\n  destinationDir = file(&quot;${buildDir}/docs/javadoc&quot;)\n  failOnError = true\n}\n\ntask javadocJar (type: Jar, dependsOn: javadoc){\n    from javadoc.destinationDir\n    archiveFileName = &quot;myapps-pco-demo-doc-${version}.jar&quot;\n}\njar {\n    bootJar.enabled = false\n    jar.enabled = true\n    dependsOn 'javadocJar'\n  archiveFileName = provider {\n        'pocdemo.jar'\n    }\n    enabled = true\n    manifest{\n        attributes('Sealed': 'true')\n    }\n}\n\n\n/* Eclipse config */\neclipse {\n    classpath {\n        downloadSources = true\n        downloadJavadoc = true\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-webflow"],"owner":{"account_id":6673257,"reputation":135,"user_id":5148789,"accept_rate":75,"display_name":"Patryk Godziszewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646961532,"creation_date":1473499277,"question_id":39424598,"body_markdown":"I&#39;m having a weird problem with my Spring application with Spring Webflow. The problem is, when I set flow like in documentation:\r\n\r\n    @Bean\r\n    public FlowBuilderServices flowBuilderServices()\r\n    {\r\n    \treturn getFlowBuilderServicesBuilder()\r\n    \t\t\t.setValidator(validator)\r\n    \t\t\t.build();\r\n    }\r\nIt does not find beans in my application.I described this problem here:\r\nhttps://stackoverflow.com/questions/39171554/spring-web-flow-cant-resolve-service-bean\r\nHowever when I set application context manually like this :\r\n\r\n    @Bean\r\n    public FlowBuilderServices flowBuilderServices()\r\n    {\r\n    \tFlowBuilderServices fbs = getFlowBuilderServicesBuilder().build();\r\n    \tfbs.setApplicationContext(getApplicationContext());\r\n    \tfbs.setValidator(validator);\r\n    \treturn fbs;\r\n    }\r\nIt works fine. I haven&#39;t seen yet someone setting application config manually like I do, so i think there is some problem with config of my application.\r\nHere is my application config:\r\n\r\n    public class ElectronicsStoreWebInitialiser extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    \r\n    \t@Override\r\n    \tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n    \t\treturn new Class&lt;?&gt;[] { RootConfig.class };\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n    \t\treturn new Class&lt;?&gt;[] { WebConfig.class };\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String[] getServletMappings() {\r\n    \t\treturn new String[] { &quot;/&quot; };\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void customizeRegistration(Dynamic registration) {\r\n    \t\tregistration.setMultipartConfig(\r\n    \t\t\t\tnew MultipartConfigElement(&quot;/tmp/images&quot;,\r\n    \t\t\t\t\t\t2097152, 4194304, 0));\r\n    \t}\r\n    }\r\n\r\nWebconfig:\r\n\r\n    @Configuration\r\n    @Import(godziszewski.patryk.ElectronicsStore.config.FlowConfiguration.class)\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = &quot;godziszewski.patryk&quot;)\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n    \t\r\n    \t@Bean\r\n    \tpublic ViewResolver viewResolver() {\r\n    \t\tInternalResourceViewResolver resolver =\tnew InternalResourceViewResolver();\r\n    \t\tresolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n    \t\tresolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\tresolver.setExposeContextBeansAsAttributes(true); \r\n    \t\treturn resolver;\r\n    \t}\r\n    \t@Override\r\n    \tpublic void configurePathMatch(PathMatchConfigurer configurer) {\r\n    \t\t UrlPathHelper urlPathHelper = new UrlPathHelper();\r\n    \t     urlPathHelper.setRemoveSemicolonContent(false);\r\n    \t     configurer.setUrlPathHelper(urlPathHelper);\r\n    \t }\r\n    \t@Override\r\n    \tpublic Validator getValidator() {\r\n    \t\treturn validator();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addResourceHandlers(final ResourceHandlerRegistry registry) {\r\n    \t    registry.addResourceHandler(&quot;/resource/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n    \t}\r\n    \t@Bean\r\n    \tTilesConfigurer tilesConfigurer() {\r\n    \t\tTilesConfigurer tiles = new TilesConfigurer();\r\n    \t\ttiles.setDefinitions(new String[] {\r\n    \t\t\t\t&quot;/WEB-INF/tiles/definition/tile-definition.xml&quot;\r\n    \t\t});\r\n    \t\ttiles.setCheckRefresh(true);\r\n    \t\treturn tiles;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic ViewResolver tilesViewResolver() {\r\n    \t\tTilesViewResolver tv = new TilesViewResolver();\r\n    \t\ttv.setOrder(-2);\r\n    \t\treturn  tv;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic ResourceBundleMessageSource messageSource() {\r\n    \t\tResourceBundleMessageSource rb = new ResourceBundleMessageSource();\r\n    \t\trb.setBasename(&quot;messages&quot;);\r\n    \t\treturn rb;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic StandardServletMultipartResolver multipartResolver() {\r\n    \t\treturn new StandardServletMultipartResolver();\r\n    \t}\r\n    \t@Bean\r\n    \tpublic ContentNegotiatingViewResolver contentResolver() {\r\n    \t\tContentNegotiatingViewResolver cn = new ContentNegotiatingViewResolver();\r\n    \t\r\n    \t\tList&lt;View&gt; listOfViews = new ArrayList&lt;View&gt;();\r\n    \t\tlistOfViews.add(jsonView());\r\n    \t\tlistOfViews.add(xmlView());\r\n    \t\r\n    \t\tcn.setDefaultViews(listOfViews);\r\n    \t\t\r\n    \t\treturn cn;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic MappingJackson2JsonView jsonView() {\r\n    \t\tMappingJackson2JsonView mj= new MappingJackson2JsonView();\r\n    \t\tmj.setPrettyPrint(true);\r\n    \t\treturn mj;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic MarshallingView xmlView() {\r\n    \t\tJaxb2Marshaller ja = new Jaxb2Marshaller();\r\n    \t\tja.setClassesToBeBound(Product.class);\r\n    \t\tMarshallingView mv = new MarshallingView(ja);\r\n    \t\treturn mv;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic Validator validator() {\r\n    \t\tLocalValidatorFactoryBean lv = new LocalValidatorFactoryBean();\r\n    \t\tlv.setValidationMessageSource(messageSource());\r\n    \t\treturn lv;\r\n    \t}\r\n    }\r\n\r\n\r\nAnd flow configuration:\r\n\r\n\r\n    public class FlowConfiguration extends AbstractFlowConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tValidator validator;\r\n    \t@Bean\r\n    \tpublic FlowDefinitionRegistry flowRegistry() {\r\n    \t    return getFlowDefinitionRegistryBuilder()\r\n    \t\t    .setFlowBuilderServices(flowBuilderServices())\r\n    \t        .setBasePath(&quot;/WEB-INF/flows&quot;)\r\n    \t        .addFlowLocationPattern(&quot;/**/*-flow.xml&quot;)\r\n    \t        .build();\r\n    \t}\r\n    \t@Bean\r\n    \tpublic FlowExecutor flowExecutor() {\r\n    \t    return getFlowExecutorBuilder(flowRegistry())\r\n    \t    \t\t\t.addFlowExecutionListener(securityFlowExecutionListener())\r\n    \t    \t\t\t.build();\r\n    \t}\r\n    \t@Bean\r\n    \tpublic FlowHandlerMapping flowHandlerMapping()\r\n    \t{\r\n    \t\tFlowHandlerMapping fh = new FlowHandlerMapping();\r\n    \t\tfh.setFlowRegistry(flowRegistry());\r\n    \t\treturn fh;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic FlowHandlerAdapter flowHandlerAdapter()\r\n    \t{\r\n    \t\tFlowHandlerAdapter fh = new FlowHandlerAdapter();\r\n    \t\tfh.setFlowExecutor(flowExecutor());\r\n    \t\treturn fh;\r\n    \t}\r\n    \t@Bean\r\n    \tpublic FlowBuilderServices flowBuilderServices()\r\n    \t{\r\n    \t\treturn getFlowBuilderServicesBuilder()\r\n    \t\t\t\t.setValidator(validator)\r\n    \t\t\t\t.build();\r\n    \t\t/*FlowBuilderServices fbs = getFlowBuilderServicesBuilder().build();\r\n    \t\tSystem.out.println(fbs.getApplicationContext());\r\n    \t\tfbs.setApplicationContext(getApplicationContext());\r\n    \t\tfbs.setValidator(validator);\r\n    \t\treturn fbs;*/\r\n    \r\n    \t}\r\n    \t@Bean\r\n    \tpublic SecurityFlowExecutionListener securityFlowExecutionListener()\r\n    \t{\r\n    \t\treturn new SecurityFlowExecutionListener();\r\n    \t}\r\n    }\r\nNow it doesn&#39;t bother me that much, cause when I set application context manually - it works like it should, but it&#39;s rather weird behaviour and I spent some time figuring out the fix and I feel that it should not work like this. Can you take a look at my code? Thanks in advance\r\n","title":"Spring webflow - I have to set application context manually","body":"<p>I'm having a weird problem with my Spring application with Spring Webflow. The problem is, when I set flow like in documentation:</p>\n\n<pre><code>@Bean\npublic FlowBuilderServices flowBuilderServices()\n{\n    return getFlowBuilderServicesBuilder()\n            .setValidator(validator)\n            .build();\n}\n</code></pre>\n\n<p>It does not find beans in my application.I described this problem here:\n<a href=\"https://stackoverflow.com/questions/39171554/spring-web-flow-cant-resolve-service-bean\">Spring web flow can&#39;t resolve service bean?</a>\nHowever when I set application context manually like this :</p>\n\n<pre><code>@Bean\npublic FlowBuilderServices flowBuilderServices()\n{\n    FlowBuilderServices fbs = getFlowBuilderServicesBuilder().build();\n    fbs.setApplicationContext(getApplicationContext());\n    fbs.setValidator(validator);\n    return fbs;\n}\n</code></pre>\n\n<p>It works fine. I haven't seen yet someone setting application config manually like I do, so i think there is some problem with config of my application.\nHere is my application config:</p>\n\n<pre><code>public class ElectronicsStoreWebInitialiser extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class&lt;?&gt;[] { RootConfig.class };\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class&lt;?&gt;[] { WebConfig.class };\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] { \"/\" };\n    }\n\n    @Override\n    protected void customizeRegistration(Dynamic registration) {\n        registration.setMultipartConfig(\n                new MultipartConfigElement(\"/tmp/images\",\n                        2097152, 4194304, 0));\n    }\n}\n</code></pre>\n\n<p>Webconfig:</p>\n\n<pre><code>@Configuration\n@Import(godziszewski.patryk.ElectronicsStore.config.FlowConfiguration.class)\n@EnableWebMvc\n@ComponentScan(basePackages = \"godziszewski.patryk\")\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setPrefix(\"/WEB-INF/views/\");\n        resolver.setSuffix(\".jsp\");\n        resolver.setExposeContextBeansAsAttributes(true); \n        return resolver;\n    }\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n         UrlPathHelper urlPathHelper = new UrlPathHelper();\n         urlPathHelper.setRemoveSemicolonContent(false);\n         configurer.setUrlPathHelper(urlPathHelper);\n     }\n    @Override\n    public Validator getValidator() {\n        return validator();\n    }\n\n    @Override\n    public void addResourceHandlers(final ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/resource/**\").addResourceLocations(\"/resources/\");\n    }\n    @Bean\n    TilesConfigurer tilesConfigurer() {\n        TilesConfigurer tiles = new TilesConfigurer();\n        tiles.setDefinitions(new String[] {\n                \"/WEB-INF/tiles/definition/tile-definition.xml\"\n        });\n        tiles.setCheckRefresh(true);\n        return tiles;\n    }\n\n    @Bean\n    public ViewResolver tilesViewResolver() {\n        TilesViewResolver tv = new TilesViewResolver();\n        tv.setOrder(-2);\n        return  tv;\n    }\n    @Bean\n    public ResourceBundleMessageSource messageSource() {\n        ResourceBundleMessageSource rb = new ResourceBundleMessageSource();\n        rb.setBasename(\"messages\");\n        return rb;\n    }\n    @Bean\n    public StandardServletMultipartResolver multipartResolver() {\n        return new StandardServletMultipartResolver();\n    }\n    @Bean\n    public ContentNegotiatingViewResolver contentResolver() {\n        ContentNegotiatingViewResolver cn = new ContentNegotiatingViewResolver();\n\n        List&lt;View&gt; listOfViews = new ArrayList&lt;View&gt;();\n        listOfViews.add(jsonView());\n        listOfViews.add(xmlView());\n\n        cn.setDefaultViews(listOfViews);\n\n        return cn;\n    }\n\n    @Bean\n    public MappingJackson2JsonView jsonView() {\n        MappingJackson2JsonView mj= new MappingJackson2JsonView();\n        mj.setPrettyPrint(true);\n        return mj;\n    }\n\n\n\n    @Bean\n    public MarshallingView xmlView() {\n        Jaxb2Marshaller ja = new Jaxb2Marshaller();\n        ja.setClassesToBeBound(Product.class);\n        MarshallingView mv = new MarshallingView(ja);\n        return mv;\n    }\n    @Bean\n    public Validator validator() {\n        LocalValidatorFactoryBean lv = new LocalValidatorFactoryBean();\n        lv.setValidationMessageSource(messageSource());\n        return lv;\n    }\n}\n</code></pre>\n\n<p>And flow configuration:</p>\n\n<pre><code>public class FlowConfiguration extends AbstractFlowConfiguration {\n\n    @Autowired\n    Validator validator;\n    @Bean\n    public FlowDefinitionRegistry flowRegistry() {\n        return getFlowDefinitionRegistryBuilder()\n            .setFlowBuilderServices(flowBuilderServices())\n            .setBasePath(\"/WEB-INF/flows\")\n            .addFlowLocationPattern(\"/**/*-flow.xml\")\n            .build();\n    }\n    @Bean\n    public FlowExecutor flowExecutor() {\n        return getFlowExecutorBuilder(flowRegistry())\n                    .addFlowExecutionListener(securityFlowExecutionListener())\n                    .build();\n    }\n    @Bean\n    public FlowHandlerMapping flowHandlerMapping()\n    {\n        FlowHandlerMapping fh = new FlowHandlerMapping();\n        fh.setFlowRegistry(flowRegistry());\n        return fh;\n    }\n    @Bean\n    public FlowHandlerAdapter flowHandlerAdapter()\n    {\n        FlowHandlerAdapter fh = new FlowHandlerAdapter();\n        fh.setFlowExecutor(flowExecutor());\n        return fh;\n    }\n    @Bean\n    public FlowBuilderServices flowBuilderServices()\n    {\n        return getFlowBuilderServicesBuilder()\n                .setValidator(validator)\n                .build();\n        /*FlowBuilderServices fbs = getFlowBuilderServicesBuilder().build();\n        System.out.println(fbs.getApplicationContext());\n        fbs.setApplicationContext(getApplicationContext());\n        fbs.setValidator(validator);\n        return fbs;*/\n\n    }\n    @Bean\n    public SecurityFlowExecutionListener securityFlowExecutionListener()\n    {\n        return new SecurityFlowExecutionListener();\n    }\n}\n</code></pre>\n\n<p>Now it doesn't bother me that much, cause when I set application context manually - it works like it should, but it's rather weird behaviour and I spent some time figuring out the fix and I feel that it should not work like this. Can you take a look at my code? Thanks in advance</p>\n"},{"tags":["java","gradle","minecraft-forge"],"comments":[{"owner":{"account_id":8403225,"reputation":311,"user_id":6307611,"display_name":"doej1367"},"score":0,"creation_date":1645146099,"post_id":71029367,"comment_id":125800131,"body_markdown":"What gradle commands and other steps do you mean by &#39;I try to setup a workspace&#39;?\nI just downloaded and extracted the 1.12.2 mdk, ran `gradlew genEclipseRuns` twice (randomly failed the first time) followed by `gradlew eclipse` and it built without problems.","body":"What gradle commands and other steps do you mean by &#39;I try to setup a workspace&#39;? I just downloaded and extracted the 1.12.2 mdk, ran <code>gradlew genEclipseRuns</code> twice (randomly failed the first time) followed by <code>gradlew eclipse</code> and it built without problems."},{"owner":{"account_id":24032521,"reputation":1,"user_id":18013183,"display_name":"JohnBobbo59"},"score":0,"creation_date":1646895159,"post_id":71029367,"comment_id":126237461,"body_markdown":"hey sorry for taking so long to answer i ended up just using intellij and by setting up a workspace i mean exactly what you just said running both of those commands and opening it as a gradle project","body":"hey sorry for taking so long to answer i ended up just using intellij and by setting up a workspace i mean exactly what you just said running both of those commands and opening it as a gradle project"}],"owner":{"account_id":24032521,"reputation":1,"user_id":18013183,"display_name":"JohnBobbo59"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646961231,"creation_date":1644301286,"question_id":71029367,"body_markdown":"Each time i try to setup a workspace for 1.12.2 forge i get an error saying.\r\n```\r\nDescription\tResource Path Location Type\r\nCould not run build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-4.9-bin.zip&#39;.\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/4.9/userguide/gradle_daemon.html\r\nPlease read the following process output to find out more:\r\n-----------------------\r\n\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\njava.lang.ExceptionInInitializerError (no error message)\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n* Get more help at https://help.gradle.org\t\r\nBobboClient line 0 Gradle Error Marker\r\n```\r\n","title":"Cant setup eclipse workspace for 1.12.2 forge","body":"<p>Each time i try to setup a workspace for 1.12.2 forge i get an error saying.</p>\n<pre><code>Description Resource Path Location Type\nCould not run build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-4.9-bin.zip'.\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the user guide chapter on the daemon at https://docs.gradle.org/4.9/userguide/gradle_daemon.html\nPlease read the following process output to find out more:\n-----------------------\n\nFAILURE: Build failed with an exception.\n* What went wrong:\njava.lang.ExceptionInInitializerError (no error message)\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n* Get more help at https://help.gradle.org  \nBobboClient line 0 Gradle Error Marker\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":1,"creation_date":1646941034,"post_id":71429767,"comment_id":126254592,"body_markdown":"At the moment this code would not compile. Furthermore, I think it should be posted in https://codereview.stackexchange.com/ because code reviews are usually done there.","body":"At the moment this code would not compile. Furthermore, I think it should be posted in <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> because code reviews are usually done there."},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1646941542,"post_id":71429767,"comment_id":126254749,"body_markdown":"What I can think about is `sc.nextInt()` and then catch `InputMismatchException`, you will save one line :) But for sure you should separate the whole input reading into a separate method `int readInput()`. Your variable `isInputValid` has not usage by the way :)","body":"What I can think about is <code>sc.nextInt()</code> and then catch <code>InputMismatchException</code>, you will save one line :) But for sure you should separate the whole input reading into a separate method <code>int readInput()</code>. Your variable <code>isInputValid</code> has not usage by the way :)"},{"owner":{"account_id":7617518,"reputation":81,"user_id":6348904,"display_name":"hello"},"score":0,"creation_date":1646943523,"post_id":71429767,"comment_id":126255311,"body_markdown":"Sorry, age should be input, I misttyped that because I was erasing some stuff before pasting the code, and I don&#39;t see how I can edit the original post","body":"Sorry, age should be input, I misttyped that because I was erasing some stuff before pasting the code, and I don&#39;t see how I can edit the original post"},{"owner":{"account_id":7617518,"reputation":81,"user_id":6348904,"display_name":"hello"},"score":0,"creation_date":1646943926,"post_id":71429767,"comment_id":126255448,"body_markdown":"@HonzaZidek the only reason I don&#39;t use nextInt() is that if you have some weird input like &quot; fdsa  fdsa 324 &quot; that&#39;s just completely random it will do some weird stuff on the next iteration so I just used nextLine instead.","body":"@HonzaZidek the only reason I don&#39;t use nextInt() is that if you have some weird input like &quot; fdsa  fdsa 324 &quot; that&#39;s just completely random it will do some weird stuff on the next iteration so I just used nextLine instead."}],"answers":[{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646961070,"creation_date":1646941609,"answer_id":71429947,"question_id":71429767,"body_markdown":"Well there are some things that can be ommited on a first look, but there is not much to remove. \r\n\n - Reduced integer parsing in a single line and removed `input` variable.\n- Change `isInputValid` to its negation  `isInputInvalid` to remove else , Boolean assignment and negation in the `while` clause.\n- Moved `if` into the `try` clause to make redundant and remove the `continue` statement.\n\n\r\n```java\r\nboolean isInputInvalid = true;\r\ndo {\r\n    System.out.print(&quot;Input: &quot;);\r\n    try {\r\n        age = Integer.parseInt(  sc.nextLine());\r\n        isInputInvalid = input &lt; 0 || 10 &lt; input;\r\n        if (isInputInvalid) {\r\n           System.out.println(&quot;Number outside of range.&quot;);\r\n        } \r\n    } catch (NumberFormatException e) {\r\n        System.out.println(&quot;Invalid input. Try again&quot;);\r\n    }\r\n  \r\n} while (isInputInvalid);\r\n```","title":"More succinct way to get Scanner input with error checking?","body":"<p>Well there are some things that can be ommited on a first look, but there is not much to remove.</p>\n<ul>\n<li>Reduced integer parsing in a single line and removed <code>input</code> variable.</li>\n<li>Change <code>isInputValid</code> to its negation  <code>isInputInvalid</code> to remove else , Boolean assignment and negation in the <code>while</code> clause.</li>\n<li>Moved <code>if</code> into the <code>try</code> clause to make redundant and remove the <code>continue</code> statement.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isInputInvalid = true;\ndo {\n    System.out.print(&quot;Input: &quot;);\n    try {\n        age = Integer.parseInt(  sc.nextLine());\n        isInputInvalid = input &lt; 0 || 10 &lt; input;\n        if (isInputInvalid) {\n           System.out.println(&quot;Number outside of range.&quot;);\n        } \n    } catch (NumberFormatException e) {\n        System.out.println(&quot;Invalid input. Try again&quot;);\n    }\n  \n} while (isInputInvalid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24519424,"reputation":11,"user_id":18432703,"display_name":"softwarepie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646942493,"creation_date":1646942493,"answer_id":71430105,"question_id":71429767,"body_markdown":"Well by first glance, I can see that you&#39;re comparing an incorrect variable  type of string with an integer (your input variable), I&#39;m just going to assume that you meant to compare the age. You should also put the if statements within your try/catch to ensure that its handled as intended (there&#39;s also no point in having it outside the try/catch if a NFE is thrown, it won&#39;t get ran anyways).\r\n\r\n```\r\nboolean isInputValid = true;\r\ndo {\r\n            System.out.print(&quot;Input: &quot;);\r\n            final String input = sc.nextLine();\r\n\r\n            try {\r\n                age = Integer.parseInt(input);\r\n\r\n                if (age &lt; 0 || 10 &lt; age) {\r\n                    System.out.println(&quot;Number outside of range.&quot;);\r\n                    isInputValid = false;\r\n                }\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(&quot;Invalid input. Try again&quot;);\r\n                continue;\r\n            }\r\n        } while (isInputValid);\r\n```","title":"More succinct way to get Scanner input with error checking?","body":"<p>Well by first glance, I can see that you're comparing an incorrect variable  type of string with an integer (your input variable), I'm just going to assume that you meant to compare the age. You should also put the if statements within your try/catch to ensure that its handled as intended (there's also no point in having it outside the try/catch if a NFE is thrown, it won't get ran anyways).</p>\n<pre><code>boolean isInputValid = true;\ndo {\n            System.out.print(&quot;Input: &quot;);\n            final String input = sc.nextLine();\n\n            try {\n                age = Integer.parseInt(input);\n\n                if (age &lt; 0 || 10 &lt; age) {\n                    System.out.println(&quot;Number outside of range.&quot;);\n                    isInputValid = false;\n                }\n            } catch (NumberFormatException e) {\n                System.out.println(&quot;Invalid input. Try again&quot;);\n                continue;\n            }\n        } while (isInputValid);\n</code></pre>\n"}],"owner":{"account_id":7617518,"reputation":81,"user_id":6348904,"display_name":"hello"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71429947,"answer_count":2,"score":2,"last_activity_date":1646961070,"creation_date":1646940686,"question_id":71429767,"body_markdown":"Just want to know if there was any better way of doing this since it&#39;s a lot of writing.\r\n\r\n```java\r\nboolean isInputValid = false;\r\ndo {\r\n    System.out.print(&quot;Input: &quot;);\r\n    final String input = sc.nextLine();\r\n\r\n    try {\r\n        age = Integer.parseInt(input);\r\n    } catch (NumberFormatException e) {\r\n        System.out.println(&quot;Invalid input. Try again&quot;);\r\n        continue;\r\n    }\r\n\r\n    if (input &lt; 0 || 10 &lt; input) {\r\n        System.out.println(&quot;Number outside of range.&quot;);\r\n    } else {\r\n        isInputValid = true;\r\n    }\r\n} while (!isInputValid);\r\n```","title":"More succinct way to get Scanner input with error checking?","body":"<p>Just want to know if there was any better way of doing this since it's a lot of writing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isInputValid = false;\ndo {\n    System.out.print(&quot;Input: &quot;);\n    final String input = sc.nextLine();\n\n    try {\n        age = Integer.parseInt(input);\n    } catch (NumberFormatException e) {\n        System.out.println(&quot;Invalid input. Try again&quot;);\n        continue;\n    }\n\n    if (input &lt; 0 || 10 &lt; input) {\n        System.out.println(&quot;Number outside of range.&quot;);\n    } else {\n        isInputValid = true;\n    }\n} while (!isInputValid);\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1646951787,"post_id":71431550,"comment_id":126257520,"body_markdown":"Using `Scanner sc = new Scanner(System.in);` I am unable to reproduce any issue with the code in your question. Are you sure that this is exactly the code that is skipping a line? Can you show us some sample input","body":"Using <code>Scanner sc = new Scanner(System.in);</code> I am unable to reproduce any issue with the code in your question. Are you sure that this is exactly the code that is skipping a line? Can you show us some sample input"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1646951884,"post_id":71431550,"comment_id":126257535,"body_markdown":"You&#39;re likely using some other `next...()` call prior to this loop. Be sure to add `nextLine()` after it just like you do after the `sc.nextDouble()` in the loop.","body":"You&#39;re likely using some other <code>next...()</code> call prior to this loop. Be sure to add <code>nextLine()</code> after it just like you do after the <code>sc.nextDouble()</code> in the loop."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1646952135,"post_id":71431550,"comment_id":126257585,"body_markdown":"you could also just use nextLine() and then convert the value to a double for the salary","body":"you could also just use nextLine() and then convert the value to a double for the salary"}],"owner":{"account_id":23424969,"reputation":1,"user_id":18206119,"display_name":"smoothlee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646951977,"answer_count":0,"score":0,"last_activity_date":1646960373,"creation_date":1646951488,"question_id":71431550,"body_markdown":"I&#39;m using a for loop to ask a user for a name and a salary. This is all the code I have for it so far so you can get the full context:\r\n\r\n```java\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\n\r\nimport static java.util.Collections.max;\r\n\r\npublic class EmployeeReport {\r\n\r\n    public static void main(String args[]){\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n\r\n        //Ask for given number of employees\r\n        System.out.print(&quot;Enter number of employees: &quot;);\r\n        int number = sc.nextInt();\r\n\r\n        Employee[ ] employeeCollection = new Employee[number];\r\n        Employee worker = new Employee();\r\n\r\n\r\n        List&lt;Double&gt; salaries = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; number; i++){\r\n\r\n            System.out.println(&quot;Enter data for employee # &quot; + (i + 1));\r\n\r\n            System.out.print(&quot;Enter name of employee: &quot;);\r\n            String name = sc.nextLine();\r\n\r\n\r\n            System.out.print(&quot;Enter employee&#39;s salary: &quot;);\r\n            String sal = sc.nextLine();\r\n            double salary = Double.parseDouble(sal);\r\n\r\n\r\n            worker.setName(name);\r\n            worker.setSalary(salary);\r\n\r\n            salaries.add(salary);\r\n            employeeCollection[i] = new Employee(name, salary);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is just a sample output:\r\n\r\n```\r\nEnter number of employees: 3  \r\nEnter data for employee # 1                      \r\nEnter name of employee: Enter employee&#39;s salary: 12000\r\nEnter data for employee # 2\r\nEnter name of employee: Iron Man\r\nEnter employee&#39;s salary: 140000\r\nEnter data for employee # 3\r\nEnter name of employee: Peter Parker\r\nEnter employee&#39;s salary: 5000\r\n```\r\n\r\n\r\n\r\nFor some reason, the output always prints out the Enter name of employee line on the first loop but doesn&#39;t ask for a input and just asks for the salary instead. I&#39;ve tried using sc.next() but I need to have the first and last name.","title":"My code keeps skipping a line during the first run of a for loop","body":"<p>I'm using a for loop to ask a user for a name and a salary. This is all the code I have for it so far so you can get the full context:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.Scanner;\nimport java.util.ArrayList;\n\nimport static java.util.Collections.max;\n\npublic class EmployeeReport {\n\n    public static void main(String args[]){\n\n        Scanner sc = new Scanner(System.in);\n\n\n        //Ask for given number of employees\n        System.out.print(&quot;Enter number of employees: &quot;);\n        int number = sc.nextInt();\n\n        Employee[ ] employeeCollection = new Employee[number];\n        Employee worker = new Employee();\n\n\n        List&lt;Double&gt; salaries = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; number; i++){\n\n            System.out.println(&quot;Enter data for employee # &quot; + (i + 1));\n\n            System.out.print(&quot;Enter name of employee: &quot;);\n            String name = sc.nextLine();\n\n\n            System.out.print(&quot;Enter employee's salary: &quot;);\n            String sal = sc.nextLine();\n            double salary = Double.parseDouble(sal);\n\n\n            worker.setName(name);\n            worker.setSalary(salary);\n\n            salaries.add(salary);\n            employeeCollection[i] = new Employee(name, salary);\n        }\n    }\n}\n</code></pre>\n<p>This is just a sample output:</p>\n<pre><code>Enter number of employees: 3  \nEnter data for employee # 1                      \nEnter name of employee: Enter employee's salary: 12000\nEnter data for employee # 2\nEnter name of employee: Iron Man\nEnter employee's salary: 140000\nEnter data for employee # 3\nEnter name of employee: Peter Parker\nEnter employee's salary: 5000\n</code></pre>\n<p>For some reason, the output always prints out the Enter name of employee line on the first loop but doesn't ask for a input and just asks for the salary instead. I've tried using sc.next() but I need to have the first and last name.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":4,"creation_date":1646960195,"post_id":71432486,"comment_id":126258942,"body_markdown":"Might be an obvious one, but have you checked if `paused` is set correctly?","body":"Might be an obvious one, but have you checked if <code>paused</code> is set correctly?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1646963803,"post_id":71432486,"comment_id":126259488,"body_markdown":"Is this code run on a separate thread than your main thread? If not then the UI may just be locking up due to your code being stuck in an endless loop and there never being time for the UI to update. If you do not know how threads work, then the best place to start is the official tutorial: https://docs.oracle.com/javase/tutorial/essential/concurrency/","body":"Is this code run on a separate thread than your main thread? If not then the UI may just be locking up due to your code being stuck in an endless loop and there never being time for the UI to update. If you do not know how threads work, then the best place to start is the official tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency</a>"},{"owner":{"display_name":"user17107474"},"score":0,"creation_date":1647019966,"post_id":71432486,"comment_id":126276096,"body_markdown":"Sorry guys. It&#39;s such a silly issue, the code actually works fine, my laptop&#39;s ram was spiking to 98% usage due to AS emulator and the game was basically freezing in every frame and eventaully crashing. Apologies, simple fix - run it on my android device with debug mode! Thanks for the suggestions.","body":"Sorry guys. It&#39;s such a silly issue, the code actually works fine, my laptop&#39;s ram was spiking to 98% usage due to AS emulator and the game was basically freezing in every frame and eventaully crashing. Apologies, simple fix - run it on my android device with debug mode! Thanks for the suggestions."},{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":1,"creation_date":1647032635,"post_id":71432486,"comment_id":126279622,"body_markdown":"Ah yes, the perfectly good working emulator :D. Good luck with your progress!","body":"Ah yes, the perfectly good working emulator :D. Good luck with your progress!"}],"owner":{"display_name":"user17107474"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646960001,"creation_date":1646960001,"question_id":71432486,"body_markdown":"Making space invaders in java through android studio, when i run the app, it loads up, everything on screen but nothing updates. There are no code errors as far as I can see &amp; It registers clicks in the logcat of AS. Any ideas? Thanks\r\n\r\nThis is the update method code in the main game class:\r\n\r\n\r\n```\r\nprivate void update(){\r\n\r\n        spaceShip.update(fps);\r\n        if(bullet.getStatus()){\r\n            bullet.update(fps);\r\n        }\r\n        if(bullet2.getStatus()){\r\n            bullet2.update(fps);\r\n        }\r\n        if(mine.getStatus()){\r\n            mine.update(fps);\r\n        }\r\n\r\n        if(redenemy.getVisibility()){\r\n            redenemy.update(fps);\r\n        }\r\n        checkCollisions();\r\n        if(redenemy.getVisibility()) {\r\n            redEnemyShoot();\r\n        }\r\n        boolean touch_side = false;\r\n        //loops through the array of invaders updating their positions\r\n        for(int i = 0; i &lt; numInvaders; i++){\r\n        if(Invaders[i].getVisibility()){\r\n            Invaders[i].update(fps);\r\n        }\r\n        //check if an invader touches the side, if so set to true\r\n        if(Invaders[i].getX() &gt; screenX - Invaders[i].getLength() || Invaders[i].getX() &lt; 0) \r\n        {\r\n            touch_side = true;\r\n        }\r\n```\r\n\r\nthere is also a run method:\r\n\r\n```\r\n@Override\r\n    public void run() {\r\n        while (playing) {\r\n            // Capture the current time in milliseconds in startFrameTime\r\n            long startFrameTime = System.currentTimeMillis();\r\n\r\n            // Update the frame\r\n            if(!paused){\r\n                update();\r\n            }\r\n\r\n            // Draw the frame\r\n            draw();\r\n\r\n\r\n            long timeThis = System.currentTimeMillis() - startTime;\r\n\r\n            timeThisFrame = System.currentTimeMillis() - startFrameTime;\r\n            if (timeThisFrame &gt;= 1) {\r\n                fps = 1000 / timeThisFrame;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n```\r\n\r\nEverything is drawn to the screen, just nothing updates. If you also require the alien enemy class, let me know. I&#39;m relatively new to java so I apologise for the state of the code and question, just need some help.","title":"space invaders game drawing but not updating","body":"<p>Making space invaders in java through android studio, when i run the app, it loads up, everything on screen but nothing updates. There are no code errors as far as I can see &amp; It registers clicks in the logcat of AS. Any ideas? Thanks</p>\n<p>This is the update method code in the main game class:</p>\n<pre><code>private void update(){\n\n        spaceShip.update(fps);\n        if(bullet.getStatus()){\n            bullet.update(fps);\n        }\n        if(bullet2.getStatus()){\n            bullet2.update(fps);\n        }\n        if(mine.getStatus()){\n            mine.update(fps);\n        }\n\n        if(redenemy.getVisibility()){\n            redenemy.update(fps);\n        }\n        checkCollisions();\n        if(redenemy.getVisibility()) {\n            redEnemyShoot();\n        }\n        boolean touch_side = false;\n        //loops through the array of invaders updating their positions\n        for(int i = 0; i &lt; numInvaders; i++){\n        if(Invaders[i].getVisibility()){\n            Invaders[i].update(fps);\n        }\n        //check if an invader touches the side, if so set to true\n        if(Invaders[i].getX() &gt; screenX - Invaders[i].getLength() || Invaders[i].getX() &lt; 0) \n        {\n            touch_side = true;\n        }\n</code></pre>\n<p>there is also a run method:</p>\n<pre><code>@Override\n    public void run() {\n        while (playing) {\n            // Capture the current time in milliseconds in startFrameTime\n            long startFrameTime = System.currentTimeMillis();\n\n            // Update the frame\n            if(!paused){\n                update();\n            }\n\n            // Draw the frame\n            draw();\n\n\n            long timeThis = System.currentTimeMillis() - startTime;\n\n            timeThisFrame = System.currentTimeMillis() - startFrameTime;\n            if (timeThisFrame &gt;= 1) {\n                fps = 1000 / timeThisFrame;\n            }\n\n        }\n\n    }\n</code></pre>\n<p>Everything is drawn to the screen, just nothing updates. If you also require the alien enemy class, let me know. I'm relatively new to java so I apologise for the state of the code and question, just need some help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8467,"page":1525,"page_size":100}
